# Issue 29152: Cygwin: Fix cliquer, giac, meataxe, rw, libbraiding to build shared libraries, using `AM_LDFLAGS=-no-undefined`

archive/issues_028915.json:
```json
{
    "body": "Follow-up from #30396, where libtool's fallback to static library build for `giac` caused linker errors while building sagelib.\n\nThis is fixed by passing `-no-undefined` to the libtool linking flags, by setting `AM_LDFLAGS=-no-undefined`.\n\nAffected packages can be found as follows:\n\n```\n$ grep \"undefined symbols not allowed\" logs/pkgs/*\ncliquer-1.21.p4.log:libtool: link: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries\ngiac-1.5.0.87p0.log:libtool: warning: undefined symbols not allowed in x86_64-pc-cygwin shared libraries; building static only\nlibbraiding-1.0.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\nrw-0.7.p0.log:libtool: link: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries\nsingular-4.1.1p2.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\n```\n\nIn `singular`, only the `gitfan.la` library (module) is affected:\n\n```\nMaking all in gitfan\n...\n/usr/bin/bash ../../../libtool  --tag=CXX   --mode=link g++ -std=gnu++11  -O2 -g  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fno-threadsafe-statics -fno-enforce-eh-specs -fconserve-space -funroll-loops -fno-delete-null-pointer-checks -fno-rtti -module -export-dynamic -avoid-version -flat_namespace -weak_reference_mismatches weak -undefined dynamic_lookup -L/cygdrive/d/a/sage/sage/local/lib -Wl,-rpath,/cygdrive/d/a/sage/sage/local/lib  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fconserve-space -funroll-loops -fno-delete-null-pointer-checks  -Wl,-Bdynamic -o gitfan.la -rpath /cygdrive/d/a/sage/sage/local/libexec/singular/MOD gitfan_la-gitfan.lo  -lreadline -lncurses -lmpfr -lrt\nlibtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\nlibtool: link: ar cru .libs/gitfan.a  gitfan_la-gitfan.o\nlibtool: link: ranlib .libs/gitfan.a\nlibtool: link: ( cd \".libs\" && rm -f \"gitfan.la\" && ln -s \"../gitfan.la\" \"gitfan.la\" )\n```\n\nThe issue also affects the optional package `meataxe`.\n\n```\n[meataxe-1.0.p0] /usr/bin/bash ../libtool  --tag=CC   --mode=link gcc  -g -O2  -L/opt/sagemath-9.0/local/lib -Wl,-rpath,/opt/sagemath-9.0/local/lib  -o libmtx.la -rpath /opt/sagemath-9.0/local/lib args.lo berlekmp.lo bsand.lo bscore.lo bsdup.lo bsissub.lo bsmatch.lo bsminus.lo bsop.lo bsor.lo bsprint.lo bsread.lo bswrite.lo cfinfo.lo charpol.lo chbasis.lo error.lo ffio.lo fpcore.lo fpdup.lo fpmul.lo fpmul2.lo fpprint.lo gcd.lo genseed.lo grmaprow.lo grmatcore.lo grtable.lo homcomp.lo imatcore.lo imatread.lo imatwrite.lo init.lo intio.lo issub.lo isisom.lo kernel-0.lo ldiag.lo maddmul.lo mat2vec.lo matadd.lo matclean.lo matcmp.lo maketabF.lo matcopy.lo matcore.lo matcut.lo matdup.lo matech.lo matid.lo matins.lo matinv.lo matmul.lo matnull.lo matorder.lo matpivot.lo matprint.lo matpwr.lo matread.lo mattr.lo mattrace.lo matwrite.lo message.lo mfcore.lo mfread.lo mfreadlong.lo mfwrite.lo mfwritelong.lo minpol.lo mkendo.lo mmulscal.lo mraddgen.lo mrcore.lo mrread.lo mrtranspose.lo mrwrite.lo msclean.lo mscore.lo mtensor.lo mtxobj.lo os.lo permcmp.lo permcore.lo permdup.lo perminv.lo permmul.lo permorder.lo permprint.lo permpwr.lo permread.lo permwrite.lo poladd.lo polcmp.lo polcore.lo polderive.lo poldiv.lo poldup.lo polgcd.lo polmul.lo polprint.lo polread.lo polwrite.lo quotient.lo random.lo rdcfgen.lo saction.lo setcore.lo setinsert.lo settest.lo spinup.lo spinup2.lo split.lo stabpwr.lo stfcore.lo stfread.lo stfwrite.lo string.lo sumint.lo temap.lo tkinfo.lo vec2mat.lo wgen.lo window.lo zcleanrow.lo zcmprow.lo zgap.lo zpermrow.lo zzz2.lo\n[meataxe-1.0.p0] libtool:   error: can't build x86_64-unknown-cygwin shared library unless -no-undefined is specified\n```\n\nThis is a common issue especially when using libtool to link Windows DLLs and should hopefully be straightforward to fix.\n\nSee also:\n- #30271 `nauty`: Switch to autotoolized fork so that shared libraries can be built\n\n\nDepends on #31064\n\n**Assignee:** @embray\n\n**CC:**  @simon-king-jena @miguelmarco @dimpase @orlitzky @antonio-rojas @kiwifb @slel @jhpalmieri @vbraun\n\n**Branch/Commit:** [6b6ee5c42603c0467da76f0478a399bab19dfc5b](https://github.com/sagemath/sagetrac-mirror/commit/6b6ee5c42603c0467da76f0478a399bab19dfc5b)\n\n**Upstream:** Reported upstream. No feedback yet.\n\n**Reviewer:** Matthias Koeppe, Dima Pasechnik\n\n**Author:** Matthias Koeppe, Miguel Marco, Simon King\n\nIssue created by migration from https://trac.sagemath.org/ticket/29152\n\n",
    "closed_at": "2021-03-01T00:21:26Z",
    "created_at": "2020-02-04T12:51:26Z",
    "labels": [
        "component: porting: cygwin",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "title": "Cygwin: Fix cliquer, giac, meataxe, rw, libbraiding to build shared libraries, using `AM_LDFLAGS=-no-undefined`",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/29152",
    "user": "https://github.com/embray"
}
```
Follow-up from #30396, where libtool's fallback to static library build for `giac` caused linker errors while building sagelib.

This is fixed by passing `-no-undefined` to the libtool linking flags, by setting `AM_LDFLAGS=-no-undefined`.

Affected packages can be found as follows:

```
$ grep "undefined symbols not allowed" logs/pkgs/*
cliquer-1.21.p4.log:libtool: link: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries
giac-1.5.0.87p0.log:libtool: warning: undefined symbols not allowed in x86_64-pc-cygwin shared libraries; building static only
libbraiding-1.0.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
rw-0.7.p0.log:libtool: link: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries
singular-4.1.1p2.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
```

In `singular`, only the `gitfan.la` library (module) is affected:

```
Making all in gitfan
...
/usr/bin/bash ../../../libtool  --tag=CXX   --mode=link g++ -std=gnu++11  -O2 -g  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fno-threadsafe-statics -fno-enforce-eh-specs -fconserve-space -funroll-loops -fno-delete-null-pointer-checks -fno-rtti -module -export-dynamic -avoid-version -flat_namespace -weak_reference_mismatches weak -undefined dynamic_lookup -L/cygdrive/d/a/sage/sage/local/lib -Wl,-rpath,/cygdrive/d/a/sage/sage/local/lib  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fconserve-space -funroll-loops -fno-delete-null-pointer-checks  -Wl,-Bdynamic -o gitfan.la -rpath /cygdrive/d/a/sage/sage/local/libexec/singular/MOD gitfan_la-gitfan.lo  -lreadline -lncurses -lmpfr -lrt
libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
libtool: link: ar cru .libs/gitfan.a  gitfan_la-gitfan.o
libtool: link: ranlib .libs/gitfan.a
libtool: link: ( cd ".libs" && rm -f "gitfan.la" && ln -s "../gitfan.la" "gitfan.la" )
```

The issue also affects the optional package `meataxe`.

```
[meataxe-1.0.p0] /usr/bin/bash ../libtool  --tag=CC   --mode=link gcc  -g -O2  -L/opt/sagemath-9.0/local/lib -Wl,-rpath,/opt/sagemath-9.0/local/lib  -o libmtx.la -rpath /opt/sagemath-9.0/local/lib args.lo berlekmp.lo bsand.lo bscore.lo bsdup.lo bsissub.lo bsmatch.lo bsminus.lo bsop.lo bsor.lo bsprint.lo bsread.lo bswrite.lo cfinfo.lo charpol.lo chbasis.lo error.lo ffio.lo fpcore.lo fpdup.lo fpmul.lo fpmul2.lo fpprint.lo gcd.lo genseed.lo grmaprow.lo grmatcore.lo grtable.lo homcomp.lo imatcore.lo imatread.lo imatwrite.lo init.lo intio.lo issub.lo isisom.lo kernel-0.lo ldiag.lo maddmul.lo mat2vec.lo matadd.lo matclean.lo matcmp.lo maketabF.lo matcopy.lo matcore.lo matcut.lo matdup.lo matech.lo matid.lo matins.lo matinv.lo matmul.lo matnull.lo matorder.lo matpivot.lo matprint.lo matpwr.lo matread.lo mattr.lo mattrace.lo matwrite.lo message.lo mfcore.lo mfread.lo mfreadlong.lo mfwrite.lo mfwritelong.lo minpol.lo mkendo.lo mmulscal.lo mraddgen.lo mrcore.lo mrread.lo mrtranspose.lo mrwrite.lo msclean.lo mscore.lo mtensor.lo mtxobj.lo os.lo permcmp.lo permcore.lo permdup.lo perminv.lo permmul.lo permorder.lo permprint.lo permpwr.lo permread.lo permwrite.lo poladd.lo polcmp.lo polcore.lo polderive.lo poldiv.lo poldup.lo polgcd.lo polmul.lo polprint.lo polread.lo polwrite.lo quotient.lo random.lo rdcfgen.lo saction.lo setcore.lo setinsert.lo settest.lo spinup.lo spinup2.lo split.lo stabpwr.lo stfcore.lo stfread.lo stfwrite.lo string.lo sumint.lo temap.lo tkinfo.lo vec2mat.lo wgen.lo window.lo zcleanrow.lo zcmprow.lo zgap.lo zpermrow.lo zzz2.lo
[meataxe-1.0.p0] libtool:   error: can't build x86_64-unknown-cygwin shared library unless -no-undefined is specified
```

This is a common issue especially when using libtool to link Windows DLLs and should hopefully be straightforward to fix.

See also:
- #30271 `nauty`: Switch to autotoolized fork so that shared libraries can be built


Depends on #31064

**Assignee:** @embray

**CC:**  @simon-king-jena @miguelmarco @dimpase @orlitzky @antonio-rojas @kiwifb @slel @jhpalmieri @vbraun

**Branch/Commit:** [6b6ee5c42603c0467da76f0478a399bab19dfc5b](https://github.com/sagemath/sagetrac-mirror/commit/6b6ee5c42603c0467da76f0478a399bab19dfc5b)

**Upstream:** Reported upstream. No feedback yet.

**Reviewer:** Matthias Koeppe, Dima Pasechnik

**Author:** Matthias Koeppe, Miguel Marco, Simon King

Issue created by migration from https://trac.sagemath.org/ticket/29152





---

archive/issue_comments_459779.json:
```json
{
    "body": "**Assignee:** @embray",
    "created_at": "2020-02-04T12:51:33Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459779",
    "user": "https://github.com/embray"
}
```

**Assignee:** @embray



---

archive/issue_comments_459780.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe failure can be seen at https://github.com/mkoeppe/sage/runs/641394565",
    "created_at": "2020-05-04T17:30:19Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459780",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
The failure can be seen at https://github.com/mkoeppe/sage/runs/641394565



---

archive/issue_events_259162.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-04T17:30:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "component: packages: optional",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259162"
}
```



---

archive/issue_events_259163.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-04T17:30:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "component: porting: cygwin",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259163"
}
```



---

archive/issue_events_259164.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-04T20:06:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259164"
}
```



---

archive/issue_events_259165.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-04T20:06:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259165"
}
```



---

archive/issue_events_259166.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-11T18:03:19Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "rename": {
        "from": "Optional package meataxe doesn't build on Cygwin",
        "to": "Cygwin: Make sure all package build shared libraries, using `AM_LDFLAGS=-no-undefined`"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259166"
}
```



---

archive/issue_comments_459781.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,19 @@\n-The error occurs when linking:\n+Follow-up from #30163, where libtool's fallback to static library build for `giac` caused linker errors while building sagelib.\n+\n+This is fixed by passing `-no-undefined` to the libtool linking flags, by setting `AM_LDFLAGS=-no-undefined`.\n+\n+Affected packages can be found as follows:\n+\n+```\n+$ grep \"undefined symbols not allowed\" logs/pkgs/*\n+cliquer-1.21.p4.log:libtool: link: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries\n+giac-1.5.0.87p0.log:libtool: warning: undefined symbols not allowed in x86_64-pc-cygwin shared libraries; building static only\n+libbraiding-1.0.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\n+rw-0.7.p0.log:libtool: link: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries\n+singular-4.1.1p2.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\n+```\n+\n+It also affects the optional package `meataxe`.\n \n ```\n [meataxe-1.0.p0] /usr/bin/bash ../libtool  --tag=CC   --mode=link gcc  -g -O2  -L/opt/sagemath-9.0/local/lib -Wl,-rpath,/opt/sagemath-9.0/local/lib  -o libmtx.la -rpath /opt/sagemath-9.0/local/lib args.lo berlekmp.lo bsand.lo bscore.lo bsdup.lo bsissub.lo bsmatch.lo bsminus.lo bsop.lo bsor.lo bsprint.lo bsread.lo bswrite.lo cfinfo.lo charpol.lo chbasis.lo error.lo ffio.lo fpcore.lo fpdup.lo fpmul.lo fpmul2.lo fpprint.lo gcd.lo genseed.lo grmaprow.lo grmatcore.lo grtable.lo homcomp.lo imatcore.lo imatread.lo imatwrite.lo init.lo intio.lo issub.lo isisom.lo kernel-0.lo ldiag.lo maddmul.lo mat2vec.lo matadd.lo matclean.lo matcmp.lo maketabF.lo matcopy.lo matcore.lo matcut.lo matdup.lo matech.lo matid.lo matins.lo matinv.lo matmul.lo matnull.lo matorder.lo matpivot.lo matprint.lo matpwr.lo matread.lo mattr.lo mattrace.lo matwrite.lo message.lo mfcore.lo mfread.lo mfreadlong.lo mfwrite.lo mfwritelong.lo minpol.lo mkendo.lo mmulscal.lo mraddgen.lo mrcore.lo mrread.lo mrtranspose.lo mrwrite.lo msclean.lo mscore.lo mtensor.lo mtxobj.lo os.lo permcmp.lo permcore.lo permdup.lo perminv.lo permmul.lo permorder.lo permprint.lo permpwr.lo permread.lo permwrite.lo poladd.lo polcmp.lo polcore.lo polderive.lo poldiv.lo poldup.lo polgcd.lo polmul.lo polprint.lo polread.lo polwrite.lo quotient.lo random.lo rdcfgen.lo saction.lo setcore.lo setinsert.lo settest.lo spinup.lo spinup2.lo split.lo stabpwr.lo stfcore.lo stfread.lo stfwrite.lo string.lo sumint.lo temap.lo tkinfo.lo vec2mat.lo wgen.lo window.lo zcleanrow.lo zcmprow.lo zgap.lo zpermrow.lo zzz2.lo\n@@ -6,3 +21,5 @@\n ```\n \n This is a common issue especially when using libtool to link Windows DLLs and should hopefully be straightforward to fix.\n+\n+\n``````\n",
    "created_at": "2020-09-11T18:03:19Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459781",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,19 @@
-The error occurs when linking:
+Follow-up from #30163, where libtool's fallback to static library build for `giac` caused linker errors while building sagelib.
+
+This is fixed by passing `-no-undefined` to the libtool linking flags, by setting `AM_LDFLAGS=-no-undefined`.
+
+Affected packages can be found as follows:
+
+```
+$ grep "undefined symbols not allowed" logs/pkgs/*
+cliquer-1.21.p4.log:libtool: link: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries
+giac-1.5.0.87p0.log:libtool: warning: undefined symbols not allowed in x86_64-pc-cygwin shared libraries; building static only
+libbraiding-1.0.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
+rw-0.7.p0.log:libtool: link: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries
+singular-4.1.1p2.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
+```
+
+It also affects the optional package `meataxe`.
 
 ```
 [meataxe-1.0.p0] /usr/bin/bash ../libtool  --tag=CC   --mode=link gcc  -g -O2  -L/opt/sagemath-9.0/local/lib -Wl,-rpath,/opt/sagemath-9.0/local/lib  -o libmtx.la -rpath /opt/sagemath-9.0/local/lib args.lo berlekmp.lo bsand.lo bscore.lo bsdup.lo bsissub.lo bsmatch.lo bsminus.lo bsop.lo bsor.lo bsprint.lo bsread.lo bswrite.lo cfinfo.lo charpol.lo chbasis.lo error.lo ffio.lo fpcore.lo fpdup.lo fpmul.lo fpmul2.lo fpprint.lo gcd.lo genseed.lo grmaprow.lo grmatcore.lo grtable.lo homcomp.lo imatcore.lo imatread.lo imatwrite.lo init.lo intio.lo issub.lo isisom.lo kernel-0.lo ldiag.lo maddmul.lo mat2vec.lo matadd.lo matclean.lo matcmp.lo maketabF.lo matcopy.lo matcore.lo matcut.lo matdup.lo matech.lo matid.lo matins.lo matinv.lo matmul.lo matnull.lo matorder.lo matpivot.lo matprint.lo matpwr.lo matread.lo mattr.lo mattrace.lo matwrite.lo message.lo mfcore.lo mfread.lo mfreadlong.lo mfwrite.lo mfwritelong.lo minpol.lo mkendo.lo mmulscal.lo mraddgen.lo mrcore.lo mrread.lo mrtranspose.lo mrwrite.lo msclean.lo mscore.lo mtensor.lo mtxobj.lo os.lo permcmp.lo permcore.lo permdup.lo perminv.lo permmul.lo permorder.lo permprint.lo permpwr.lo permread.lo permwrite.lo poladd.lo polcmp.lo polcore.lo polderive.lo poldiv.lo poldup.lo polgcd.lo polmul.lo polprint.lo polread.lo polwrite.lo quotient.lo random.lo rdcfgen.lo saction.lo setcore.lo setinsert.lo settest.lo spinup.lo spinup2.lo split.lo stabpwr.lo stfcore.lo stfread.lo stfwrite.lo string.lo sumint.lo temap.lo tkinfo.lo vec2mat.lo wgen.lo window.lo zcleanrow.lo zcmprow.lo zgap.lo zpermrow.lo zzz2.lo
@@ -6,3 +21,5 @@
 ```
 
 This is a common issue especially when using libtool to link Windows DLLs and should hopefully be straightforward to fix.
+
+
``````




---

archive/issue_events_259167.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-11T18:03:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259167"
}
```



---

archive/issue_comments_459782.json:
```json
{
    "body": "<a id='comment:5'></a>\nCc'ing mmarco re libbraiding",
    "created_at": "2020-09-11T18:25:27Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459782",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
Cc'ing mmarco re libbraiding



---

archive/issue_comments_459783.json:
```json
{
    "body": "<a id='comment:6'></a>\ncc'ing dimpase re cliquer, also reported at https://github.com/dimpase/autocliquer/issues/4",
    "created_at": "2020-09-11T18:28:33Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459783",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
cc'ing dimpase re cliquer, also reported at https://github.com/dimpase/autocliquer/issues/4



---

archive/issue_comments_459784.json:
```json
{
    "body": "**Upstream:** Reported upstream. No feedback yet.",
    "created_at": "2020-09-11T18:28:33Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459784",
    "user": "https://github.com/mkoeppe"
}
```

**Upstream:** Reported upstream. No feedback yet.



---

archive/issue_comments_459785.json:
```json
{
    "body": "<a id='comment:7'></a>\nUpstream link in `build/pkgs/rw/SPKG.rst` no longer works",
    "created_at": "2020-09-11T18:29:55Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459785",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
Upstream link in `build/pkgs/rw/SPKG.rst` no longer works



---

archive/issue_comments_459786.json:
```json
{
    "body": "<a id='comment:8'></a>\nCc'ing gentoo, arch people to see if new `rw` upstream is known",
    "created_at": "2020-09-11T18:31:52Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459786",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Cc'ing gentoo, arch people to see if new `rw` upstream is known



---

archive/issue_events_259168.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-11T18:32:44Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "rename": {
        "from": "Cygwin: Make sure all package build shared libraries, using `AM_LDFLAGS=-no-undefined`",
        "to": "Cygwin: Make sure all packages build shared libraries, using `AM_LDFLAGS=-no-undefined`"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259168"
}
```



---

archive/issue_comments_459787.json:
```json
{
    "body": "<a id='comment:10'></a>\nI'm getting it from  https://sourceforge.net/projects/rankwidth/, but I don't know if there's anybody reading tickets there (there are none filed so far)",
    "created_at": "2020-09-11T18:45:25Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459787",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:10'></a>
I'm getting it from  https://sourceforge.net/projects/rankwidth/, but I don't know if there's anybody reading tickets there (there are none filed so far)



---

archive/issue_comments_459788.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [arojas](#comment%3A10):\n> I'm getting it from  https://sourceforge.net/projects/rankwidth/, but I don't know if there's anybody reading tickets there (there are none filed so far)\n\nSame here in Gentoo https://packages.gentoo.org/packages/sci-mathematics/rw",
    "created_at": "2020-09-11T19:51:24Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459788",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:11'></a>
Replying to [arojas](#comment%3A10):
> I'm getting it from  https://sourceforge.net/projects/rankwidth/, but I don't know if there's anybody reading tickets there (there are none filed so far)

Same here in Gentoo https://packages.gentoo.org/packages/sci-mathematics/rw



---

archive/issue_comments_459789.json:
```json
{
    "body": "<a id='comment:12'></a>\nWhat's wrong with rw upstream? The program is more or less \"complete,\" so I wouldn't expect much activity. Last time (a few years ago), we just emailed the guy to ask about contributing an autotools build system.",
    "created_at": "2020-09-11T20:12:15Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459789",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:12'></a>
What's wrong with rw upstream? The program is more or less "complete," so I wouldn't expect much activity. Last time (a few years ago), we just emailed the guy to ask about contributing an autotools build system.



---

archive/issue_comments_459790.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)",
    "created_at": "2020-09-11T20:27:41Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459790",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)



---

archive/issue_comments_459791.json:
```json
{
    "body": "**Commit:** [45a4167153f9cb4cd46a0f06d53d6aad0a37db8a](https://github.com/sagemath/sagetrac-mirror/commit/45a4167153f9cb4cd46a0f06d53d6aad0a37db8a)",
    "created_at": "2020-09-11T20:28:08Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459791",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [45a4167153f9cb4cd46a0f06d53d6aad0a37db8a](https://github.com/sagemath/sagetrac-mirror/commit/45a4167153f9cb4cd46a0f06d53d6aad0a37db8a)



---

archive/issue_comments_459792.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [mjo](#comment%3A12):\n> What's wrong with rw upstream? \n\nSee ticket description\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45a4167153f9cb4cd46a0f06d53d6aad0a37db8a\">45a4167</a></td><td><code>build/pkgs/rw/SPKG.rst: Update link to upstream project</code></td></tr></table>\n",
    "created_at": "2020-09-11T20:28:08Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459792",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Replying to [mjo](#comment%3A12):
> What's wrong with rw upstream? 

See ticket description

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45a4167153f9cb4cd46a0f06d53d6aad0a37db8a">45a4167</a></td><td><code>build/pkgs/rw/SPKG.rst: Update link to upstream project</code></td></tr></table>




---

archive/issue_comments_459793.json:
```json
{
    "body": "<a id='comment:15'></a>\nI created a new release for libbraiding:\n\nhttps://github.com/miguelmarco/libbraiding/releases/tag/1.1\n\nShould I also update the sage package?\n\nIIRC, there is a new way to upload the tarball. Isn't it?",
    "created_at": "2020-09-12T16:02:02Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459793",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:15'></a>
I created a new release for libbraiding:

https://github.com/miguelmarco/libbraiding/releases/tag/1.1

Should I also update the sage package?

IIRC, there is a new way to upload the tarball. Isn't it?



---

archive/issue_comments_459794.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [mmarco](#comment%3A15):\n> I created a new release for libbraiding:\n> \n> https://github.com/miguelmarco/libbraiding/releases/tag/1.1\n\nThanks a lot!\n\n> Should I also update the sage package?\n\nYes please\n\n> IIRC, there is a new way to upload the tarball. Isn't it?\n\nNo need to upload, but please add `upstream_url` as explained in https://wiki.sagemath.org/ReleaseTours/sage-9.1#For_developers-1",
    "created_at": "2020-09-12T16:57:16Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459794",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Replying to [mmarco](#comment%3A15):
> I created a new release for libbraiding:
> 
> https://github.com/miguelmarco/libbraiding/releases/tag/1.1

Thanks a lot!

> Should I also update the sage package?

Yes please

> IIRC, there is a new way to upload the tarball. Isn't it?

No need to upload, but please add `upstream_url` as explained in https://wiki.sagemath.org/ReleaseTours/sage-9.1#For_developers-1



---

archive/issue_comments_459795.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)\" to \"[u/mmarco/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)\".",
    "created_at": "2020-09-12T17:03:55Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459795",
    "user": "https://github.com/miguelmarco"
}
```

**Changing branch** from "[u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)" to "[u/mmarco/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)".



---

archive/issue_comments_459796.json:
```json
{
    "body": "**Changing commit** from \"[45a4167153f9cb4cd46a0f06d53d6aad0a37db8a](https://github.com/sagemath/sagetrac-mirror/commit/45a4167153f9cb4cd46a0f06d53d6aad0a37db8a)\" to \"[44839c79c0763314c08e40b7e6bb01a485ca21f1](https://github.com/sagemath/sagetrac-mirror/commit/44839c79c0763314c08e40b7e6bb01a485ca21f1)\".",
    "created_at": "2020-09-12T17:48:59Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459796",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[45a4167153f9cb4cd46a0f06d53d6aad0a37db8a](https://github.com/sagemath/sagetrac-mirror/commit/45a4167153f9cb4cd46a0f06d53d6aad0a37db8a)" to "[44839c79c0763314c08e40b7e6bb01a485ca21f1](https://github.com/sagemath/sagetrac-mirror/commit/44839c79c0763314c08e40b7e6bb01a485ca21f1)".



---

archive/issue_comments_459797.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -22,4 +22,6 @@\n \n This is a common issue especially when using libtool to link Windows DLLs and should hopefully be straightforward to fix.\n \n+See also:\n+- #30271 `nauty`: Switch to autotoolized fork so that shared libraries can be built\n \n``````\n",
    "created_at": "2020-09-12T17:48:59Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459797",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -22,4 +22,6 @@
 
 This is a common issue especially when using libtool to link Windows DLLs and should hopefully be straightforward to fix.
 
+See also:
+- #30271 `nauty`: Switch to autotoolized fork so that shared libraries can be built
 
``````




---

archive/issue_comments_459798.json:
```json
{
    "body": "<a id='comment:18'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44839c79c0763314c08e40b7e6bb01a485ca21f1\">44839c7</a></td><td><code>libbraiding version bump</code></td></tr></table>\n",
    "created_at": "2020-09-12T17:48:59Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459798",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44839c79c0763314c08e40b7e6bb01a485ca21f1">44839c7</a></td><td><code>libbraiding version bump</code></td></tr></table>




---

archive/issue_comments_459799.json:
```json
{
    "body": "**Author:** Matthias Koeppe, Miguel Marco",
    "created_at": "2020-09-12T17:48:59Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459799",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe, Miguel Marco



---

archive/issue_comments_459800.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Follow-up from #30163, where libtool's fallback to static library build for `giac` caused linker errors while building sagelib.\n+Follow-up from #30396, where libtool's fallback to static library build for `giac` caused linker errors while building sagelib.\n \n This is fixed by passing `-no-undefined` to the libtool linking flags, by setting `AM_LDFLAGS=-no-undefined`.\n \n``````\n",
    "created_at": "2020-09-12T23:07:59Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459800",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Follow-up from #30163, where libtool's fallback to static library build for `giac` caused linker errors while building sagelib.
+Follow-up from #30396, where libtool's fallback to static library build for `giac` caused linker errors while building sagelib.
 
 This is fixed by passing `-no-undefined` to the libtool linking flags, by setting `AM_LDFLAGS=-no-undefined`.
 
``````




---

archive/issue_comments_459801.json:
```json
{
    "body": "**Changing branch** from \"[u/mmarco/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)\" to \"[u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)\".",
    "created_at": "2020-09-12T23:40:56Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459801",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/mmarco/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)" to "[u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)".



---

archive/issue_comments_459802.json:
```json
{
    "body": "**Changing commit** from \"[44839c79c0763314c08e40b7e6bb01a485ca21f1](https://github.com/sagemath/sagetrac-mirror/commit/44839c79c0763314c08e40b7e6bb01a485ca21f1)\" to \"[b2c0b15ef053c101876754f48a9840cf4f10acbd](https://github.com/sagemath/sagetrac-mirror/commit/b2c0b15ef053c101876754f48a9840cf4f10acbd)\".",
    "created_at": "2020-09-12T23:50:56Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459802",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[44839c79c0763314c08e40b7e6bb01a485ca21f1](https://github.com/sagemath/sagetrac-mirror/commit/44839c79c0763314c08e40b7e6bb01a485ca21f1)" to "[b2c0b15ef053c101876754f48a9840cf4f10acbd](https://github.com/sagemath/sagetrac-mirror/commit/b2c0b15ef053c101876754f48a9840cf4f10acbd)".



---

archive/issue_comments_459803.json:
```json
{
    "body": "<a id='comment:21'></a>\nFix for meataxe at https://github.com/simon-king-jena/SharedMeatAxe/pull/1\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2c0b15ef053c101876754f48a9840cf4f10acbd\">b2c0b15</a></td><td><code>build/pkgs/meataxe/distros: Add fedora.txt</code></td></tr></table>\n",
    "created_at": "2020-09-12T23:50:56Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459803",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Fix for meataxe at https://github.com/simon-king-jena/SharedMeatAxe/pull/1

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2c0b15ef053c101876754f48a9840cf4f10acbd">b2c0b15</a></td><td><code>build/pkgs/meataxe/distros: Add fedora.txt</code></td></tr></table>




---

archive/issue_comments_459804.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [mkoeppe](#comment%3A6):\n> cc'ing dimpase re cliquer, also reported at https://github.com/dimpase/autocliquer/issues/4\n\nPR https://github.com/dimpase/autocliquer/pull/5",
    "created_at": "2020-09-13T00:25:53Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459804",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
Replying to [mkoeppe](#comment%3A6):
> cc'ing dimpase re cliquer, also reported at https://github.com/dimpase/autocliquer/issues/4

PR https://github.com/dimpase/autocliquer/pull/5



---

archive/issue_comments_459805.json:
```json
{
    "body": "<a id='comment:23'></a>\nPR for rw: https://sourceforge.net/p/rankwidth/tickets/1/",
    "created_at": "2020-09-13T00:57:17Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459805",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
PR for rw: https://sourceforge.net/p/rankwidth/tickets/1/



---

archive/issue_comments_459806.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -13,7 +13,20 @@\n singular-4.1.1p2.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\n ```\n \n-It also affects the optional package `meataxe`.\n+In `singular`, only the `gitfan.la` library (module) is affected:\n+\n+```\n+Making all in gitfan\n+...\n+/usr/bin/bash ../../../libtool  --tag=CXX   --mode=link g++ -std=gnu++11  -O2 -g  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fno-threadsafe-statics -fno-enforce-eh-specs -fconserve-space -funroll-loops -fno-delete-null-pointer-checks -fno-rtti -module -export-dynamic -avoid-version -flat_namespace -weak_reference_mismatches weak -undefined dynamic_lookup -L/cygdrive/d/a/sage/sage/local/lib -Wl,-rpath,/cygdrive/d/a/sage/sage/local/lib  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fconserve-space -funroll-loops -fno-delete-null-pointer-checks  -Wl,-Bdynamic -o gitfan.la -rpath /cygdrive/d/a/sage/sage/local/libexec/singular/MOD gitfan_la-gitfan.lo  -lreadline -lncurses -lmpfr -lrt \n+libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\n+libtool: link: ar cru .libs/gitfan.a  gitfan_la-gitfan.o\n+libtool: link: ranlib .libs/gitfan.a\n+libtool: link: ( cd \".libs\" && rm -f \"gitfan.la\" && ln -s \"../gitfan.la\" \"gitfan.la\" )\n+```\n+\n+\n+The issue also affects the optional package `meataxe`.\n \n ```\n [meataxe-1.0.p0] /usr/bin/bash ../libtool  --tag=CC   --mode=link gcc  -g -O2  -L/opt/sagemath-9.0/local/lib -Wl,-rpath,/opt/sagemath-9.0/local/lib  -o libmtx.la -rpath /opt/sagemath-9.0/local/lib args.lo berlekmp.lo bsand.lo bscore.lo bsdup.lo bsissub.lo bsmatch.lo bsminus.lo bsop.lo bsor.lo bsprint.lo bsread.lo bswrite.lo cfinfo.lo charpol.lo chbasis.lo error.lo ffio.lo fpcore.lo fpdup.lo fpmul.lo fpmul2.lo fpprint.lo gcd.lo genseed.lo grmaprow.lo grmatcore.lo grtable.lo homcomp.lo imatcore.lo imatread.lo imatwrite.lo init.lo intio.lo issub.lo isisom.lo kernel-0.lo ldiag.lo maddmul.lo mat2vec.lo matadd.lo matclean.lo matcmp.lo maketabF.lo matcopy.lo matcore.lo matcut.lo matdup.lo matech.lo matid.lo matins.lo matinv.lo matmul.lo matnull.lo matorder.lo matpivot.lo matprint.lo matpwr.lo matread.lo mattr.lo mattrace.lo matwrite.lo message.lo mfcore.lo mfread.lo mfreadlong.lo mfwrite.lo mfwritelong.lo minpol.lo mkendo.lo mmulscal.lo mraddgen.lo mrcore.lo mrread.lo mrtranspose.lo mrwrite.lo msclean.lo mscore.lo mtensor.lo mtxobj.lo os.lo permcmp.lo permcore.lo permdup.lo perminv.lo permmul.lo permorder.lo permprint.lo permpwr.lo permread.lo permwrite.lo poladd.lo polcmp.lo polcore.lo polderive.lo poldiv.lo poldup.lo polgcd.lo polmul.lo polprint.lo polread.lo polwrite.lo quotient.lo random.lo rdcfgen.lo saction.lo setcore.lo setinsert.lo settest.lo spinup.lo spinup2.lo split.lo stabpwr.lo stfcore.lo stfread.lo stfwrite.lo string.lo sumint.lo temap.lo tkinfo.lo vec2mat.lo wgen.lo window.lo zcleanrow.lo zcmprow.lo zgap.lo zpermrow.lo zzz2.lo\n``````\n",
    "created_at": "2020-09-13T01:26:41Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459806",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -13,7 +13,20 @@
 singular-4.1.1p2.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
 ```
 
-It also affects the optional package `meataxe`.
+In `singular`, only the `gitfan.la` library (module) is affected:
+
+```
+Making all in gitfan
+...
+/usr/bin/bash ../../../libtool  --tag=CXX   --mode=link g++ -std=gnu++11  -O2 -g  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fno-threadsafe-statics -fno-enforce-eh-specs -fconserve-space -funroll-loops -fno-delete-null-pointer-checks -fno-rtti -module -export-dynamic -avoid-version -flat_namespace -weak_reference_mismatches weak -undefined dynamic_lookup -L/cygdrive/d/a/sage/sage/local/lib -Wl,-rpath,/cygdrive/d/a/sage/sage/local/lib  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fconserve-space -funroll-loops -fno-delete-null-pointer-checks  -Wl,-Bdynamic -o gitfan.la -rpath /cygdrive/d/a/sage/sage/local/libexec/singular/MOD gitfan_la-gitfan.lo  -lreadline -lncurses -lmpfr -lrt 
+libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
+libtool: link: ar cru .libs/gitfan.a  gitfan_la-gitfan.o
+libtool: link: ranlib .libs/gitfan.a
+libtool: link: ( cd ".libs" && rm -f "gitfan.la" && ln -s "../gitfan.la" "gitfan.la" )
+```
+
+
+The issue also affects the optional package `meataxe`.
 
 ```
 [meataxe-1.0.p0] /usr/bin/bash ../libtool  --tag=CC   --mode=link gcc  -g -O2  -L/opt/sagemath-9.0/local/lib -Wl,-rpath,/opt/sagemath-9.0/local/lib  -o libmtx.la -rpath /opt/sagemath-9.0/local/lib args.lo berlekmp.lo bsand.lo bscore.lo bsdup.lo bsissub.lo bsmatch.lo bsminus.lo bsop.lo bsor.lo bsprint.lo bsread.lo bswrite.lo cfinfo.lo charpol.lo chbasis.lo error.lo ffio.lo fpcore.lo fpdup.lo fpmul.lo fpmul2.lo fpprint.lo gcd.lo genseed.lo grmaprow.lo grmatcore.lo grtable.lo homcomp.lo imatcore.lo imatread.lo imatwrite.lo init.lo intio.lo issub.lo isisom.lo kernel-0.lo ldiag.lo maddmul.lo mat2vec.lo matadd.lo matclean.lo matcmp.lo maketabF.lo matcopy.lo matcore.lo matcut.lo matdup.lo matech.lo matid.lo matins.lo matinv.lo matmul.lo matnull.lo matorder.lo matpivot.lo matprint.lo matpwr.lo matread.lo mattr.lo mattrace.lo matwrite.lo message.lo mfcore.lo mfread.lo mfreadlong.lo mfwrite.lo mfwritelong.lo minpol.lo mkendo.lo mmulscal.lo mraddgen.lo mrcore.lo mrread.lo mrtranspose.lo mrwrite.lo msclean.lo mscore.lo mtensor.lo mtxobj.lo os.lo permcmp.lo permcore.lo permdup.lo perminv.lo permmul.lo permorder.lo permprint.lo permpwr.lo permread.lo permwrite.lo poladd.lo polcmp.lo polcore.lo polderive.lo poldiv.lo poldup.lo polgcd.lo polmul.lo polprint.lo polread.lo polwrite.lo quotient.lo random.lo rdcfgen.lo saction.lo setcore.lo setinsert.lo settest.lo spinup.lo spinup2.lo split.lo stabpwr.lo stfcore.lo stfread.lo stfwrite.lo string.lo sumint.lo temap.lo tkinfo.lo vec2mat.lo wgen.lo window.lo zcleanrow.lo zcmprow.lo zgap.lo zpermrow.lo zzz2.lo
``````




---

archive/issue_comments_459807.json:
```json
{
    "body": "<a id='comment:25'></a>\nLooks like the singular gitfan issue may be fixed by upstream commit 2617fca625d047a0b9890e6ffae1c5f8fe755aad",
    "created_at": "2020-09-13T01:32:50Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459807",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Looks like the singular gitfan issue may be fixed by upstream commit 2617fca625d047a0b9890e6ffae1c5f8fe755aad



---

archive/issue_comments_459808.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -13,20 +13,7 @@\n singular-4.1.1p2.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\n ```\n \n-In `singular`, only the `gitfan.la` library (module) is affected:\n-\n-```\n-Making all in gitfan\n-...\n-/usr/bin/bash ../../../libtool  --tag=CXX   --mode=link g++ -std=gnu++11  -O2 -g  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fno-threadsafe-statics -fno-enforce-eh-specs -fconserve-space -funroll-loops -fno-delete-null-pointer-checks -fno-rtti -module -export-dynamic -avoid-version -flat_namespace -weak_reference_mismatches weak -undefined dynamic_lookup -L/cygdrive/d/a/sage/sage/local/lib -Wl,-rpath,/cygdrive/d/a/sage/sage/local/lib  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fconserve-space -funroll-loops -fno-delete-null-pointer-checks  -Wl,-Bdynamic -o gitfan.la -rpath /cygdrive/d/a/sage/sage/local/libexec/singular/MOD gitfan_la-gitfan.lo  -lreadline -lncurses -lmpfr -lrt \n-libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\n-libtool: link: ar cru .libs/gitfan.a  gitfan_la-gitfan.o\n-libtool: link: ranlib .libs/gitfan.a\n-libtool: link: ( cd \".libs\" && rm -f \"gitfan.la\" && ln -s \"../gitfan.la\" \"gitfan.la\" )\n-```\n-\n-\n-The issue also affects the optional package `meataxe`.\n+It also affects the optional package `meataxe`.\n \n ```\n [meataxe-1.0.p0] /usr/bin/bash ../libtool  --tag=CC   --mode=link gcc  -g -O2  -L/opt/sagemath-9.0/local/lib -Wl,-rpath,/opt/sagemath-9.0/local/lib  -o libmtx.la -rpath /opt/sagemath-9.0/local/lib args.lo berlekmp.lo bsand.lo bscore.lo bsdup.lo bsissub.lo bsmatch.lo bsminus.lo bsop.lo bsor.lo bsprint.lo bsread.lo bswrite.lo cfinfo.lo charpol.lo chbasis.lo error.lo ffio.lo fpcore.lo fpdup.lo fpmul.lo fpmul2.lo fpprint.lo gcd.lo genseed.lo grmaprow.lo grmatcore.lo grtable.lo homcomp.lo imatcore.lo imatread.lo imatwrite.lo init.lo intio.lo issub.lo isisom.lo kernel-0.lo ldiag.lo maddmul.lo mat2vec.lo matadd.lo matclean.lo matcmp.lo maketabF.lo matcopy.lo matcore.lo matcut.lo matdup.lo matech.lo matid.lo matins.lo matinv.lo matmul.lo matnull.lo matorder.lo matpivot.lo matprint.lo matpwr.lo matread.lo mattr.lo mattrace.lo matwrite.lo message.lo mfcore.lo mfread.lo mfreadlong.lo mfwrite.lo mfwritelong.lo minpol.lo mkendo.lo mmulscal.lo mraddgen.lo mrcore.lo mrread.lo mrtranspose.lo mrwrite.lo msclean.lo mscore.lo mtensor.lo mtxobj.lo os.lo permcmp.lo permcore.lo permdup.lo perminv.lo permmul.lo permorder.lo permprint.lo permpwr.lo permread.lo permwrite.lo poladd.lo polcmp.lo polcore.lo polderive.lo poldiv.lo poldup.lo polgcd.lo polmul.lo polprint.lo polread.lo polwrite.lo quotient.lo random.lo rdcfgen.lo saction.lo setcore.lo setinsert.lo settest.lo spinup.lo spinup2.lo split.lo stabpwr.lo stfcore.lo stfread.lo stfwrite.lo string.lo sumint.lo temap.lo tkinfo.lo vec2mat.lo wgen.lo window.lo zcleanrow.lo zcmprow.lo zgap.lo zpermrow.lo zzz2.lo\n``````\n",
    "created_at": "2020-09-13T01:43:44Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459808",
    "user": "https://github.com/orlitzky"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -13,20 +13,7 @@
 singular-4.1.1p2.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
 ```
 
-In `singular`, only the `gitfan.la` library (module) is affected:
-
-```
-Making all in gitfan
-...
-/usr/bin/bash ../../../libtool  --tag=CXX   --mode=link g++ -std=gnu++11  -O2 -g  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fno-threadsafe-statics -fno-enforce-eh-specs -fconserve-space -funroll-loops -fno-delete-null-pointer-checks -fno-rtti -module -export-dynamic -avoid-version -flat_namespace -weak_reference_mismatches weak -undefined dynamic_lookup -L/cygdrive/d/a/sage/sage/local/lib -Wl,-rpath,/cygdrive/d/a/sage/sage/local/lib  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fconserve-space -funroll-loops -fno-delete-null-pointer-checks  -Wl,-Bdynamic -o gitfan.la -rpath /cygdrive/d/a/sage/sage/local/libexec/singular/MOD gitfan_la-gitfan.lo  -lreadline -lncurses -lmpfr -lrt 
-libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
-libtool: link: ar cru .libs/gitfan.a  gitfan_la-gitfan.o
-libtool: link: ranlib .libs/gitfan.a
-libtool: link: ( cd ".libs" && rm -f "gitfan.la" && ln -s "../gitfan.la" "gitfan.la" )
-```
-
-
-The issue also affects the optional package `meataxe`.
+It also affects the optional package `meataxe`.
 
 ```
 [meataxe-1.0.p0] /usr/bin/bash ../libtool  --tag=CC   --mode=link gcc  -g -O2  -L/opt/sagemath-9.0/local/lib -Wl,-rpath,/opt/sagemath-9.0/local/lib  -o libmtx.la -rpath /opt/sagemath-9.0/local/lib args.lo berlekmp.lo bsand.lo bscore.lo bsdup.lo bsissub.lo bsmatch.lo bsminus.lo bsop.lo bsor.lo bsprint.lo bsread.lo bswrite.lo cfinfo.lo charpol.lo chbasis.lo error.lo ffio.lo fpcore.lo fpdup.lo fpmul.lo fpmul2.lo fpprint.lo gcd.lo genseed.lo grmaprow.lo grmatcore.lo grtable.lo homcomp.lo imatcore.lo imatread.lo imatwrite.lo init.lo intio.lo issub.lo isisom.lo kernel-0.lo ldiag.lo maddmul.lo mat2vec.lo matadd.lo matclean.lo matcmp.lo maketabF.lo matcopy.lo matcore.lo matcut.lo matdup.lo matech.lo matid.lo matins.lo matinv.lo matmul.lo matnull.lo matorder.lo matpivot.lo matprint.lo matpwr.lo matread.lo mattr.lo mattrace.lo matwrite.lo message.lo mfcore.lo mfread.lo mfreadlong.lo mfwrite.lo mfwritelong.lo minpol.lo mkendo.lo mmulscal.lo mraddgen.lo mrcore.lo mrread.lo mrtranspose.lo mrwrite.lo msclean.lo mscore.lo mtensor.lo mtxobj.lo os.lo permcmp.lo permcore.lo permdup.lo perminv.lo permmul.lo permorder.lo permprint.lo permpwr.lo permread.lo permwrite.lo poladd.lo polcmp.lo polcore.lo polderive.lo poldiv.lo poldup.lo polgcd.lo polmul.lo polprint.lo polread.lo polwrite.lo quotient.lo random.lo rdcfgen.lo saction.lo setcore.lo setinsert.lo settest.lo spinup.lo spinup2.lo split.lo stabpwr.lo stfcore.lo stfread.lo stfwrite.lo string.lo sumint.lo temap.lo tkinfo.lo vec2mat.lo wgen.lo window.lo zcleanrow.lo zcmprow.lo zgap.lo zpermrow.lo zzz2.lo
``````




---

archive/issue_comments_459809.json:
```json
{
    "body": "<a id='comment:26'></a>\nThe `-no-undefined` is only needed when building a shared library, so the flag can be appended in e.g.\n\n```\nlibfoo_la_LDFLAGS = -no-undefined\n```\n\nrather than the global\n\n```\nAM_LDFLAGS=-no-undefined\n```\n\nthat will affect all link operations (including executables). It probably doesn't hurt much, but I remember vaguely that `--as-needed` was nicer than `--no-undefined` if you were going to apply it globally.\n\nI also think most projects should have `LT_INIT([disable-static])` in configure.ac these days, to disable the static libraries by default. They can still be enabled with `--enable-static`, but for most people they're a waste of time/space.",
    "created_at": "2020-09-13T01:43:44Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459809",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:26'></a>
The `-no-undefined` is only needed when building a shared library, so the flag can be appended in e.g.

```
libfoo_la_LDFLAGS = -no-undefined
```

rather than the global

```
AM_LDFLAGS=-no-undefined
```

that will affect all link operations (including executables). It probably doesn't hurt much, but I remember vaguely that `--as-needed` was nicer than `--no-undefined` if you were going to apply it globally.

I also think most projects should have `LT_INIT([disable-static])` in configure.ac these days, to disable the static libraries by default. They can still be enabled with `--enable-static`, but for most people they're a waste of time/space.



---

archive/issue_comments_459810.json:
```json
{
    "body": "<a id='comment:27'></a>\nPutting back the description I clobbered...",
    "created_at": "2020-09-13T01:52:56Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459810",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:27'></a>
Putting back the description I clobbered...



---

archive/issue_comments_459811.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -13,7 +13,19 @@\n singular-4.1.1p2.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\n ```\n \n-It also affects the optional package `meataxe`.\n+In `singular`, only the `gitfan.la` library (module) is affected:\n+\n+```\n+Making all in gitfan\n+...\n+/usr/bin/bash ../../../libtool  --tag=CXX   --mode=link g++ -std=gnu++11  -O2 -g  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fno-threadsafe-statics -fno-enforce-eh-specs -fconserve-space -funroll-loops -fno-delete-null-pointer-checks -fno-rtti -module -export-dynamic -avoid-version -flat_namespace -weak_reference_mismatches weak -undefined dynamic_lookup -L/cygdrive/d/a/sage/sage/local/lib -Wl,-rpath,/cygdrive/d/a/sage/sage/local/lib  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fconserve-space -funroll-loops -fno-delete-null-pointer-checks  -Wl,-Bdynamic -o gitfan.la -rpath /cygdrive/d/a/sage/sage/local/libexec/singular/MOD gitfan_la-gitfan.lo  -lreadline -lncurses -lmpfr -lrt\n+libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\n+libtool: link: ar cru .libs/gitfan.a  gitfan_la-gitfan.o\n+libtool: link: ranlib .libs/gitfan.a\n+libtool: link: ( cd \".libs\" && rm -f \"gitfan.la\" && ln -s \"../gitfan.la\" \"gitfan.la\" )\n+```\n+\n+The issue also affects the optional package `meataxe`.\n \n ```\n [meataxe-1.0.p0] /usr/bin/bash ../libtool  --tag=CC   --mode=link gcc  -g -O2  -L/opt/sagemath-9.0/local/lib -Wl,-rpath,/opt/sagemath-9.0/local/lib  -o libmtx.la -rpath /opt/sagemath-9.0/local/lib args.lo berlekmp.lo bsand.lo bscore.lo bsdup.lo bsissub.lo bsmatch.lo bsminus.lo bsop.lo bsor.lo bsprint.lo bsread.lo bswrite.lo cfinfo.lo charpol.lo chbasis.lo error.lo ffio.lo fpcore.lo fpdup.lo fpmul.lo fpmul2.lo fpprint.lo gcd.lo genseed.lo grmaprow.lo grmatcore.lo grtable.lo homcomp.lo imatcore.lo imatread.lo imatwrite.lo init.lo intio.lo issub.lo isisom.lo kernel-0.lo ldiag.lo maddmul.lo mat2vec.lo matadd.lo matclean.lo matcmp.lo maketabF.lo matcopy.lo matcore.lo matcut.lo matdup.lo matech.lo matid.lo matins.lo matinv.lo matmul.lo matnull.lo matorder.lo matpivot.lo matprint.lo matpwr.lo matread.lo mattr.lo mattrace.lo matwrite.lo message.lo mfcore.lo mfread.lo mfreadlong.lo mfwrite.lo mfwritelong.lo minpol.lo mkendo.lo mmulscal.lo mraddgen.lo mrcore.lo mrread.lo mrtranspose.lo mrwrite.lo msclean.lo mscore.lo mtensor.lo mtxobj.lo os.lo permcmp.lo permcore.lo permdup.lo perminv.lo permmul.lo permorder.lo permprint.lo permpwr.lo permread.lo permwrite.lo poladd.lo polcmp.lo polcore.lo polderive.lo poldiv.lo poldup.lo polgcd.lo polmul.lo polprint.lo polread.lo polwrite.lo quotient.lo random.lo rdcfgen.lo saction.lo setcore.lo setinsert.lo settest.lo spinup.lo spinup2.lo split.lo stabpwr.lo stfcore.lo stfread.lo stfwrite.lo string.lo sumint.lo temap.lo tkinfo.lo vec2mat.lo wgen.lo window.lo zcleanrow.lo zcmprow.lo zgap.lo zpermrow.lo zzz2.lo\n``````\n",
    "created_at": "2020-09-13T01:52:56Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459811",
    "user": "https://github.com/orlitzky"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -13,7 +13,19 @@
 singular-4.1.1p2.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
 ```
 
-It also affects the optional package `meataxe`.
+In `singular`, only the `gitfan.la` library (module) is affected:
+
+```
+Making all in gitfan
+...
+/usr/bin/bash ../../../libtool  --tag=CXX   --mode=link g++ -std=gnu++11  -O2 -g  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fno-threadsafe-statics -fno-enforce-eh-specs -fconserve-space -funroll-loops -fno-delete-null-pointer-checks -fno-rtti -module -export-dynamic -avoid-version -flat_namespace -weak_reference_mismatches weak -undefined dynamic_lookup -L/cygdrive/d/a/sage/sage/local/lib -Wl,-rpath,/cygdrive/d/a/sage/sage/local/lib  -pipe -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fconserve-space -funroll-loops -fno-delete-null-pointer-checks  -Wl,-Bdynamic -o gitfan.la -rpath /cygdrive/d/a/sage/sage/local/libexec/singular/MOD gitfan_la-gitfan.lo  -lreadline -lncurses -lmpfr -lrt
+libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
+libtool: link: ar cru .libs/gitfan.a  gitfan_la-gitfan.o
+libtool: link: ranlib .libs/gitfan.a
+libtool: link: ( cd ".libs" && rm -f "gitfan.la" && ln -s "../gitfan.la" "gitfan.la" )
+```
+
+The issue also affects the optional package `meataxe`.
 
 ```
 [meataxe-1.0.p0] /usr/bin/bash ../libtool  --tag=CC   --mode=link gcc  -g -O2  -L/opt/sagemath-9.0/local/lib -Wl,-rpath,/opt/sagemath-9.0/local/lib  -o libmtx.la -rpath /opt/sagemath-9.0/local/lib args.lo berlekmp.lo bsand.lo bscore.lo bsdup.lo bsissub.lo bsmatch.lo bsminus.lo bsop.lo bsor.lo bsprint.lo bsread.lo bswrite.lo cfinfo.lo charpol.lo chbasis.lo error.lo ffio.lo fpcore.lo fpdup.lo fpmul.lo fpmul2.lo fpprint.lo gcd.lo genseed.lo grmaprow.lo grmatcore.lo grtable.lo homcomp.lo imatcore.lo imatread.lo imatwrite.lo init.lo intio.lo issub.lo isisom.lo kernel-0.lo ldiag.lo maddmul.lo mat2vec.lo matadd.lo matclean.lo matcmp.lo maketabF.lo matcopy.lo matcore.lo matcut.lo matdup.lo matech.lo matid.lo matins.lo matinv.lo matmul.lo matnull.lo matorder.lo matpivot.lo matprint.lo matpwr.lo matread.lo mattr.lo mattrace.lo matwrite.lo message.lo mfcore.lo mfread.lo mfreadlong.lo mfwrite.lo mfwritelong.lo minpol.lo mkendo.lo mmulscal.lo mraddgen.lo mrcore.lo mrread.lo mrtranspose.lo mrwrite.lo msclean.lo mscore.lo mtensor.lo mtxobj.lo os.lo permcmp.lo permcore.lo permdup.lo perminv.lo permmul.lo permorder.lo permprint.lo permpwr.lo permread.lo permwrite.lo poladd.lo polcmp.lo polcore.lo polderive.lo poldiv.lo poldup.lo polgcd.lo polmul.lo polprint.lo polread.lo polwrite.lo quotient.lo random.lo rdcfgen.lo saction.lo setcore.lo setinsert.lo settest.lo spinup.lo spinup2.lo split.lo stabpwr.lo stfcore.lo stfread.lo stfwrite.lo string.lo sumint.lo temap.lo tkinfo.lo vec2mat.lo wgen.lo window.lo zcleanrow.lo zcmprow.lo zgap.lo zpermrow.lo zzz2.lo
``````




---

archive/issue_comments_459812.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [mjo](#comment%3A26):\n> The `-no-undefined` is only needed when building a shared library, so the flag can be appended in e.g.\n> \n> ```\n> libfoo_la_LDFLAGS = -no-undefined\n> ```\n> \n> rather than the global\n> \n> ```\n> AM_LDFLAGS=-no-undefined\n> ```\n> \n> that will affect all link operations \n\nI agree, that would be a little bit cleaner. But I don't think it's worth going back for this",
    "created_at": "2020-09-13T02:02:50Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459812",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
Replying to [mjo](#comment%3A26):
> The `-no-undefined` is only needed when building a shared library, so the flag can be appended in e.g.
> 
> ```
> libfoo_la_LDFLAGS = -no-undefined
> ```
> 
> rather than the global
> 
> ```
> AM_LDFLAGS=-no-undefined
> ```
> 
> that will affect all link operations 

I agree, that would be a little bit cleaner. But I don't think it's worth going back for this



---

archive/issue_comments_459813.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [mjo](#comment%3A26):\n> I also think most projects should have `LT_INIT([disable-static])` in configure.ac these days, to disable the static libraries by default. They can still be enabled with `--enable-static`, but for most people they're a waste of time/space.\n\nI agree, but I want to keep the upstream patches minimal. We have #28890 for the task of sending `--disable-static` to all our packages",
    "created_at": "2020-09-13T02:04:45Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459813",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Replying to [mjo](#comment%3A26):
> I also think most projects should have `LT_INIT([disable-static])` in configure.ac these days, to disable the static libraries by default. They can still be enabled with `--enable-static`, but for most people they're a waste of time/space.

I agree, but I want to keep the upstream patches minimal. We have #28890 for the task of sending `--disable-static` to all our packages



---

archive/issue_comments_459814.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [mkoeppe](#comment%3A6):\n> cc'ing dimpase re cliquer, also reported at https://github.com/dimpase/autocliquer/issues/4\n> \n\nOK, done and dusted, thanks for the PR, see\nhttps://github.com/dimpase/autocliquer/releases/download/v1.22/cliquer-1.22.tar.gz",
    "created_at": "2020-09-13T08:38:05Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459814",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:30'></a>
Replying to [mkoeppe](#comment%3A6):
> cc'ing dimpase re cliquer, also reported at https://github.com/dimpase/autocliquer/issues/4
> 

OK, done and dusted, thanks for the PR, see
https://github.com/dimpase/autocliquer/releases/download/v1.22/cliquer-1.22.tar.gz



---

archive/issue_comments_459815.json:
```json
{
    "body": "**Changing commit** from \"[b2c0b15ef053c101876754f48a9840cf4f10acbd](https://github.com/sagemath/sagetrac-mirror/commit/b2c0b15ef053c101876754f48a9840cf4f10acbd)\" to \"[1e94f7a730e6f8bca1015970372fe13f25e5f6a7](https://github.com/sagemath/sagetrac-mirror/commit/1e94f7a730e6f8bca1015970372fe13f25e5f6a7)\".",
    "created_at": "2020-09-13T15:57:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459815",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b2c0b15ef053c101876754f48a9840cf4f10acbd](https://github.com/sagemath/sagetrac-mirror/commit/b2c0b15ef053c101876754f48a9840cf4f10acbd)" to "[1e94f7a730e6f8bca1015970372fe13f25e5f6a7](https://github.com/sagemath/sagetrac-mirror/commit/1e94f7a730e6f8bca1015970372fe13f25e5f6a7)".



---

archive/issue_comments_459816.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e94f7a730e6f8bca1015970372fe13f25e5f6a7\">1e94f7a</a></td><td><code>build/pkgs/cliquer: Update to 1.22</code></td></tr></table>\n",
    "created_at": "2020-09-13T15:57:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459816",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e94f7a730e6f8bca1015970372fe13f25e5f6a7">1e94f7a</a></td><td><code>build/pkgs/cliquer: Update to 1.22</code></td></tr></table>




---

archive/issue_comments_459817.json:
```json
{
    "body": "<a id='comment:32'></a>\ncould you also add\n\n```diff\n--- a/build/pkgs/cliquer/SPKG.rst\n+++ b/build/pkgs/cliquer/SPKG.rst\n@@ -5,8 +5,8 @@ Description\n -----------\n \n Cliquer is a set of C routines for finding cliques in an arbitrary\n-weighted graph. It uses an exact branch-and-bound algorithm recently\n-developed by Patr Ostergard.\n+weighted graph. It uses an exact branch-and-bound algorithm\n+developed by Patric \u00d6sterg\u00e5rd.\n \n License\n -------\n@@ -28,4 +28,5 @@ Dependencies\n Patches\n -------\n \n--  autotoolized - see https://github.com/dimpase/autocliquer\n+-  minor config updates (v1.22)\n+-  autotoolized - see https://github.com/dimpase/autocliquer (v1.21)\n```",
    "created_at": "2020-09-13T16:27:07Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459817",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:32'></a>
could you also add

```diff
--- a/build/pkgs/cliquer/SPKG.rst
+++ b/build/pkgs/cliquer/SPKG.rst
@@ -5,8 +5,8 @@ Description
 -----------
 
 Cliquer is a set of C routines for finding cliques in an arbitrary
-weighted graph. It uses an exact branch-and-bound algorithm recently
-developed by Patr Ostergard.
+weighted graph. It uses an exact branch-and-bound algorithm
+developed by Patric Östergård.
 
 License
 -------
@@ -28,4 +28,5 @@ Dependencies
 Patches
 -------
 
--  autotoolized - see https://github.com/dimpase/autocliquer
+-  minor config updates (v1.22)
+-  autotoolized - see https://github.com/dimpase/autocliquer (v1.21)
```



---

archive/issue_comments_459818.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2632eb7f50745c9e02b7a82789d68bed6b30373\">f2632eb</a></td><td><code>build/pkgs/cliquer/SPKG.rst: Update</code></td></tr></table>\n",
    "created_at": "2020-09-13T16:29:55Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459818",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2632eb7f50745c9e02b7a82789d68bed6b30373">f2632eb</a></td><td><code>build/pkgs/cliquer/SPKG.rst: Update</code></td></tr></table>




---

archive/issue_comments_459819.json:
```json
{
    "body": "**Changing commit** from \"[1e94f7a730e6f8bca1015970372fe13f25e5f6a7](https://github.com/sagemath/sagetrac-mirror/commit/1e94f7a730e6f8bca1015970372fe13f25e5f6a7)\" to \"[f2632eb7f50745c9e02b7a82789d68bed6b30373](https://github.com/sagemath/sagetrac-mirror/commit/f2632eb7f50745c9e02b7a82789d68bed6b30373)\".",
    "created_at": "2020-09-13T16:29:55Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459819",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1e94f7a730e6f8bca1015970372fe13f25e5f6a7](https://github.com/sagemath/sagetrac-mirror/commit/1e94f7a730e6f8bca1015970372fe13f25e5f6a7)" to "[f2632eb7f50745c9e02b7a82789d68bed6b30373](https://github.com/sagemath/sagetrac-mirror/commit/f2632eb7f50745c9e02b7a82789d68bed6b30373)".



---

archive/issue_comments_459820.json:
```json
{
    "body": "**Changing commit** from \"[f2632eb7f50745c9e02b7a82789d68bed6b30373](https://github.com/sagemath/sagetrac-mirror/commit/f2632eb7f50745c9e02b7a82789d68bed6b30373)\" to \"[9c1ee3787415d4730687ea193e139471e422c361](https://github.com/sagemath/sagetrac-mirror/commit/9c1ee3787415d4730687ea193e139471e422c361)\".",
    "created_at": "2020-09-14T11:56:58Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459820",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f2632eb7f50745c9e02b7a82789d68bed6b30373](https://github.com/sagemath/sagetrac-mirror/commit/f2632eb7f50745c9e02b7a82789d68bed6b30373)" to "[9c1ee3787415d4730687ea193e139471e422c361](https://github.com/sagemath/sagetrac-mirror/commit/9c1ee3787415d4730687ea193e139471e422c361)".



---

archive/issue_comments_459821.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c1ee3787415d4730687ea193e139471e422c361\">9c1ee37</a></td><td><code>build/pkgs/rw: Update to 0.9</code></td></tr></table>\n",
    "created_at": "2020-09-14T11:56:58Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459821",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c1ee3787415d4730687ea193e139471e422c361">9c1ee37</a></td><td><code>build/pkgs/rw: Update to 0.9</code></td></tr></table>




---

archive/issue_comments_459822.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e662986500556f2f122ea861c55517c40fe50c5f\">e662986</a></td><td><code>Merge tag '9.2.beta14' into t/29152/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_</code></td></tr></table>\n",
    "created_at": "2020-10-02T03:00:25Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459822",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e662986500556f2f122ea861c55517c40fe50c5f">e662986</a></td><td><code>Merge tag '9.2.beta14' into t/29152/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_</code></td></tr></table>




---

archive/issue_comments_459823.json:
```json
{
    "body": "**Changing commit** from \"[9c1ee3787415d4730687ea193e139471e422c361](https://github.com/sagemath/sagetrac-mirror/commit/9c1ee3787415d4730687ea193e139471e422c361)\" to \"[e662986500556f2f122ea861c55517c40fe50c5f](https://github.com/sagemath/sagetrac-mirror/commit/e662986500556f2f122ea861c55517c40fe50c5f)\".",
    "created_at": "2020-10-02T03:00:25Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459823",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9c1ee3787415d4730687ea193e139471e422c361](https://github.com/sagemath/sagetrac-mirror/commit/9c1ee3787415d4730687ea193e139471e422c361)" to "[e662986500556f2f122ea861c55517c40fe50c5f](https://github.com/sagemath/sagetrac-mirror/commit/e662986500556f2f122ea861c55517c40fe50c5f)".



---

archive/issue_events_259169.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-02T03:00:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259169"
}
```



---

archive/issue_comments_459824.json:
```json
{
    "body": "<a id='comment:37'></a>\nI am about to release a new minor version of SharedMeatAxe based on Matthias' suggestions, and my plan was to upgrade it in Sage now. But since it is \"needs review\" already: Did Matthias did the meataxe upgrade in Sage already?",
    "created_at": "2020-10-02T08:36:04Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459824",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:37'></a>
I am about to release a new minor version of SharedMeatAxe based on Matthias' suggestions, and my plan was to upgrade it in Sage now. But since it is "needs review" already: Did Matthias did the meataxe upgrade in Sage already?



---

archive/issue_events_259170.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2020-10-02T09:39:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259170"
}
```



---

archive/issue_events_259171.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2020-10-02T09:39:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259171"
}
```



---

archive/issue_comments_459825.json:
```json
{
    "body": "**Work Issues:** Upgrade shared_meataxe to v1.0.1",
    "created_at": "2020-10-02T09:39:39Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459825",
    "user": "https://github.com/simon-king-jena"
}
```

**Work Issues:** Upgrade shared_meataxe to v1.0.1



---

archive/issue_comments_459826.json:
```json
{
    "body": "<a id='comment:38'></a>\nAparently the upgrade of meataxe hasn't been done yet. So, it should be \"needs work\".",
    "created_at": "2020-10-02T09:39:39Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459826",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:38'></a>
Aparently the upgrade of meataxe hasn't been done yet. So, it should be "needs work".



---

archive/issue_comments_459827.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)\" to \"[u/SimonKing/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)\".",
    "created_at": "2020-10-02T09:56:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459827",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing branch** from "[u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)" to "[u/SimonKing/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)".



---

archive/issue_events_259172.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2020-10-02T09:58:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259172"
}
```



---

archive/issue_events_259173.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2020-10-02T09:58:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259173"
}
```



---

archive/issue_comments_459828.json:
```json
{
    "body": "**Changing work issues** from \"Upgrade shared_meataxe to v1.0.1\" to \"\".",
    "created_at": "2020-10-02T09:58:44Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459828",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing work issues** from "Upgrade shared_meataxe to v1.0.1" to "".



---

archive/issue_comments_459829.json:
```json
{
    "body": "**Changing commit** from \"[e662986500556f2f122ea861c55517c40fe50c5f](https://github.com/sagemath/sagetrac-mirror/commit/e662986500556f2f122ea861c55517c40fe50c5f)\" to \"[54c258463a7ad313c222b4007503dd0cfc56b67b](https://github.com/sagemath/sagetrac-mirror/commit/54c258463a7ad313c222b4007503dd0cfc56b67b)\".",
    "created_at": "2020-10-02T09:58:44Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459829",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing commit** from "[e662986500556f2f122ea861c55517c40fe50c5f](https://github.com/sagemath/sagetrac-mirror/commit/e662986500556f2f122ea861c55517c40fe50c5f)" to "[54c258463a7ad313c222b4007503dd0cfc56b67b](https://github.com/sagemath/sagetrac-mirror/commit/54c258463a7ad313c222b4007503dd0cfc56b67b)".



---

archive/issue_comments_459830.json:
```json
{
    "body": "<a id='comment:40'></a>\nSharedMeatAxe is upgraded as well. See https://github.com/simon-king-jena/SharedMeatAxe/releases/tag/v1.0.1\n\nI changed the compression from gz to bz2, since the latter gives a smaller tar ball. Self tests pass, I'm running \"make test\" now.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54c258463a7ad313c222b4007503dd0cfc56b67b\">54c2584</a></td><td><code>Upgrade SharedMeatAxe, to fix a build problem on Cygwin</code></td></tr></table>\n",
    "created_at": "2020-10-02T09:58:44Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459830",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:40'></a>
SharedMeatAxe is upgraded as well. See https://github.com/simon-king-jena/SharedMeatAxe/releases/tag/v1.0.1

I changed the compression from gz to bz2, since the latter gives a smaller tar ball. Self tests pass, I'm running "make test" now.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54c258463a7ad313c222b4007503dd0cfc56b67b">54c2584</a></td><td><code>Upgrade SharedMeatAxe, to fix a build problem on Cygwin</code></td></tr></table>




---

archive/issue_comments_459831.json:
```json
{
    "body": "**Changing author** from \"Matthias Koeppe, Miguel Marco\" to \"Matthias Koeppe, Miguel Marco, Simon King\".",
    "created_at": "2020-10-02T13:04:00Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459831",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing author** from "Matthias Koeppe, Miguel Marco" to "Matthias Koeppe, Miguel Marco, Simon King".



---

archive/issue_comments_459832.json:
```json
{
    "body": "<a id='comment:41'></a>\nTests pass for me. However, the point of this ticket is to fix things on cygwin, which I'm not using.\n\nHence, no positive review.\n\nA question: Is it still the case that the issues are \"Reported upstream. No feedback yet.\", or can this be changed to \"Fixed upstream\"?",
    "created_at": "2020-10-02T13:04:00Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459832",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:41'></a>
Tests pass for me. However, the point of this ticket is to fix things on cygwin, which I'm not using.

Hence, no positive review.

A question: Is it still the case that the issues are "Reported upstream. No feedback yet.", or can this be changed to "Fixed upstream"?



---

archive/issue_comments_459833.json:
```json
{
    "body": "<a id='comment:42'></a>\nThanks very much, Simon. Could you add an `upstream_url` field to `checksums.ini` please (as explained in https://wiki.sagemath.org/ReleaseTours/sage-9.1#For_developers-1)",
    "created_at": "2020-10-02T18:29:24Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459833",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>
Thanks very much, Simon. Could you add an `upstream_url` field to `checksums.ini` please (as explained in https://wiki.sagemath.org/ReleaseTours/sage-9.1#For_developers-1)



---

archive/issue_comments_459834.json:
```json
{
    "body": "<a id='comment:43'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd74ef3fffce5f71a6a8a53c62638fda6ee34ec6\">cd74ef3</a></td><td><code>Add upstream url for SharedMeatAxe</code></td></tr></table>\n",
    "created_at": "2020-10-02T18:37:06Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459834",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd74ef3fffce5f71a6a8a53c62638fda6ee34ec6">cd74ef3</a></td><td><code>Add upstream url for SharedMeatAxe</code></td></tr></table>




---

archive/issue_comments_459835.json:
```json
{
    "body": "**Changing commit** from \"[54c258463a7ad313c222b4007503dd0cfc56b67b](https://github.com/sagemath/sagetrac-mirror/commit/54c258463a7ad313c222b4007503dd0cfc56b67b)\" to \"[cd74ef3fffce5f71a6a8a53c62638fda6ee34ec6](https://github.com/sagemath/sagetrac-mirror/commit/cd74ef3fffce5f71a6a8a53c62638fda6ee34ec6)\".",
    "created_at": "2020-10-02T18:37:06Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459835",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[54c258463a7ad313c222b4007503dd0cfc56b67b](https://github.com/sagemath/sagetrac-mirror/commit/54c258463a7ad313c222b4007503dd0cfc56b67b)" to "[cd74ef3fffce5f71a6a8a53c62638fda6ee34ec6](https://github.com/sagemath/sagetrac-mirror/commit/cd74ef3fffce5f71a6a8a53c62638fda6ee34ec6)".



---

archive/issue_comments_459836.json:
```json
{
    "body": "<a id='comment:44'></a>\nHope that upstream_url for SharedMeatAxe is fine.",
    "created_at": "2020-10-02T18:38:29Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459836",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:44'></a>
Hope that upstream_url for SharedMeatAxe is fine.



---

archive/issue_comments_459837.json:
```json
{
    "body": "**Reviewer:** https://github.com/mkoeppe/sage/actions/runs/285244461",
    "created_at": "2020-10-03T01:27:55Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459837",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** https://github.com/mkoeppe/sage/actions/runs/285244461



---

archive/issue_comments_459838.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [mkoeppe](#comment%3A45):\n\nYou added a URL as reviewer. Is that intended?\n\nActually it is not clear to me what is stated there. Do I understand correctly that tests on different versions of Cygwin pass, except \"cygwin-stage-ii-a (standard)\"? And the failed package in this Cygwin version is scipy?",
    "created_at": "2020-10-03T19:24:52Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459838",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:46'></a>
Replying to [mkoeppe](#comment%3A45):

You added a URL as reviewer. Is that intended?

Actually it is not clear to me what is stated there. Do I understand correctly that tests on different versions of Cygwin pass, except "cygwin-stage-ii-a (standard)"? And the failed package in this Cygwin version is scipy?



---

archive/issue_comments_459839.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [SimonKing](#comment%3A46):\n> Replying to [mkoeppe](#comment%3A45):\n> \n> You added a URL as reviewer. Is that intended?\n\nYes, it's a trick that I have been using recently. The URL shows in ticket lists such as https://trac.sagemath.org/report/92?asc=1&page=1 and this reminds me (or other developers) to inspect these automatic builds when they are done.\n\nThey will be replaced by actual reviewer names when ready.\n\n> Actually it is not clear to me what is stated there. Do I understand correctly that tests on different versions of Cygwin pass, except \"cygwin-stage-ii-a (standard)\"? And the failed package in this Cygwin version is scipy?\n\nThe build on Cygwin takes very long because of various overheads compared to a build on Linux. On GH Actions there is a time limit of 6 hours per job. Therefore I have split the build into several jobs (\"stages\"), some of which run in parallel. The linked build https://github.com/mkoeppe/sage/actions/runs/285244461 is the `cygwin-standard` build, which means that I install binary packages from the Cygwin distribution first and then start the build of Sage.\n\n`stage-i-a` and `stage-i-b` ran in parallel and succeeded. What they install in `SAGE_LOCAL` is carried forward to `stage-ii`. The 5 jobs `stage-ii-a` to `stage-ii-e` all ran in parallel, building various packages. \n\nAs you observed, `stage-ii-a` failed because of `scipy`. This is a bug unrelated to the present ticket; it is tracked in #30643. \nUnfortunately this bug blocks the following stages (`stage-iii` would go on to build the Sage library), and so because of this we cannot really check that the current ticket is working correctly.",
    "created_at": "2020-10-03T19:35:22Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459839",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>
Replying to [SimonKing](#comment%3A46):
> Replying to [mkoeppe](#comment%3A45):
> 
> You added a URL as reviewer. Is that intended?

Yes, it's a trick that I have been using recently. The URL shows in ticket lists such as https://trac.sagemath.org/report/92?asc=1&page=1 and this reminds me (or other developers) to inspect these automatic builds when they are done.

They will be replaced by actual reviewer names when ready.

> Actually it is not clear to me what is stated there. Do I understand correctly that tests on different versions of Cygwin pass, except "cygwin-stage-ii-a (standard)"? And the failed package in this Cygwin version is scipy?

The build on Cygwin takes very long because of various overheads compared to a build on Linux. On GH Actions there is a time limit of 6 hours per job. Therefore I have split the build into several jobs ("stages"), some of which run in parallel. The linked build https://github.com/mkoeppe/sage/actions/runs/285244461 is the `cygwin-standard` build, which means that I install binary packages from the Cygwin distribution first and then start the build of Sage.

`stage-i-a` and `stage-i-b` ran in parallel and succeeded. What they install in `SAGE_LOCAL` is carried forward to `stage-ii`. The 5 jobs `stage-ii-a` to `stage-ii-e` all ran in parallel, building various packages. 

As you observed, `stage-ii-a` failed because of `scipy`. This is a bug unrelated to the present ticket; it is tracked in #30643. 
Unfortunately this bug blocks the following stages (`stage-iii` would go on to build the Sage library), and so because of this we cannot really check that the current ticket is working correctly.



---

archive/issue_comments_459840.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [mkoeppe](#comment%3A47):\n> Unfortunately this bug blocks the following stages (`stage-iii` would go on to build the Sage library), and so because of this we cannot really check that the current ticket is working correctly.\n\nWe cannot test automatically (on github), but a developer with a cygwin machine certainly could...",
    "created_at": "2020-10-03T20:08:34Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459840",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:48'></a>
Replying to [mkoeppe](#comment%3A47):
> Unfortunately this bug blocks the following stages (`stage-iii` would go on to build the Sage library), and so because of this we cannot really check that the current ticket is working correctly.

We cannot test automatically (on github), but a developer with a cygwin machine certainly could...



---

archive/issue_comments_459841.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/285244461\" to \"https://github.com/mkoeppe/sage/actions/runs/287249195\".",
    "created_at": "2020-10-04T05:25:45Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459841",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/285244461" to "https://github.com/mkoeppe/sage/actions/runs/287249195".



---

archive/issue_comments_459842.json:
```json
{
    "body": "**Changing branch** from \"[u/SimonKing/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)\" to \"[u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)\".",
    "created_at": "2020-10-04T20:35:17Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459842",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/SimonKing/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/SimonKing/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)" to "[u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)".



---

archive/issue_comments_459843.json:
```json
{
    "body": "<a id='comment:51'></a>\nReplying to [SimonKing](#comment%3A48):\n> We cannot test automatically (on github), but a developer with a cygwin machine certainly could...\n\nWe seem to be in short supply of these...\n\nI have modified the CI script so that the scipy failure does not stop the whole build.\n\nThe resulting build logs (https://github.com/mkoeppe/sage/suites/1285136303/artifacts/20016238) show that `cliquer`, `giac`, `meataxe`, and `rw`, i.e., all packages mentioned in the ticket description except for `libbraiding` (for which the branch contains an update) and `singular` (for which the branch does not contain a change) are OK now. \nSome optional packages were not built previously. In total, we now have the following remaining issues:\n\n```\negret:~/Downloads/logs-commit-e41329adfa1f1e69653ba127d6460d2bd7aaaf00-cygwin-standard$ grep \"undefined symbols not allowed\" pkgs/*\npkgs/barvinok-0.41.1.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\npkgs/e_antic-0.1.8.log:libtool: warning: undefined symbols not allowed in x86_64-pc-cygwin shared libraries; building static only\npkgs/isl-0.20.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only\npkgs/libbraiding-1.1.log:libtool: warning: undefined symbols not allowed in x86_64-pc-cygwin shared libraries; building static only\npkgs/polylib-5.22.5.log:libtool: link: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries\npkgs/singular-4.1.1p2.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cy(base) eg(ba(base) egr(ba(base) egret(ba(base) (base)(base)(bas(b(bas(base)(((b((\n```\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e41329adfa1f1e69653ba127d6460d2bd7aaaf00\">e41329a</a></td><td><code>ci-cygwin-standard.yml: More stages, continue-on-error: true</code></td></tr></table>\n",
    "created_at": "2020-10-04T20:43:57Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459843",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:51'></a>
Replying to [SimonKing](#comment%3A48):
> We cannot test automatically (on github), but a developer with a cygwin machine certainly could...

We seem to be in short supply of these...

I have modified the CI script so that the scipy failure does not stop the whole build.

The resulting build logs (https://github.com/mkoeppe/sage/suites/1285136303/artifacts/20016238) show that `cliquer`, `giac`, `meataxe`, and `rw`, i.e., all packages mentioned in the ticket description except for `libbraiding` (for which the branch contains an update) and `singular` (for which the branch does not contain a change) are OK now. 
Some optional packages were not built previously. In total, we now have the following remaining issues:

```
egret:~/Downloads/logs-commit-e41329adfa1f1e69653ba127d6460d2bd7aaaf00-cygwin-standard$ grep "undefined symbols not allowed" pkgs/*
pkgs/barvinok-0.41.1.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
pkgs/e_antic-0.1.8.log:libtool: warning: undefined symbols not allowed in x86_64-pc-cygwin shared libraries; building static only
pkgs/isl-0.20.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries; building static only
pkgs/libbraiding-1.1.log:libtool: warning: undefined symbols not allowed in x86_64-pc-cygwin shared libraries; building static only
pkgs/polylib-5.22.5.log:libtool: link: warning: undefined symbols not allowed in x86_64-unknown-cygwin shared libraries
pkgs/singular-4.1.1p2.p0.log:libtool: warning: undefined symbols not allowed in x86_64-unknown-cy(base) eg(ba(base) egr(ba(base) egret(ba(base) (base)(base)(bas(b(bas(base)(((b((
```

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e41329adfa1f1e69653ba127d6460d2bd7aaaf00">e41329a</a></td><td><code>ci-cygwin-standard.yml: More stages, continue-on-error: true</code></td></tr></table>




---

archive/issue_comments_459844.json:
```json
{
    "body": "**Changing commit** from \"[cd74ef3fffce5f71a6a8a53c62638fda6ee34ec6](https://github.com/sagemath/sagetrac-mirror/commit/cd74ef3fffce5f71a6a8a53c62638fda6ee34ec6)\" to \"[e41329adfa1f1e69653ba127d6460d2bd7aaaf00](https://github.com/sagemath/sagetrac-mirror/commit/e41329adfa1f1e69653ba127d6460d2bd7aaaf00)\".",
    "created_at": "2020-10-04T20:43:57Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459844",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[cd74ef3fffce5f71a6a8a53c62638fda6ee34ec6](https://github.com/sagemath/sagetrac-mirror/commit/cd74ef3fffce5f71a6a8a53c62638fda6ee34ec6)" to "[e41329adfa1f1e69653ba127d6460d2bd7aaaf00](https://github.com/sagemath/sagetrac-mirror/commit/e41329adfa1f1e69653ba127d6460d2bd7aaaf00)".



---

archive/issue_events_259174.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-08T17:31:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259174"
}
```



---

archive/issue_events_259175.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-08T17:31:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259175"
}
```



---

archive/issue_comments_459845.json:
```json
{
    "body": "<a id='comment:53'></a>\nLet's get this in so that other tickets can use it as a dependency.\n\nFollow up for the remaining issues in #30814.",
    "created_at": "2020-10-22T17:39:25Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459845",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:53'></a>
Let's get this in so that other tickets can use it as a dependency.

Follow up for the remaining issues in #30814.



---

archive/issue_events_259176.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-22T17:39:25Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "rename": {
        "from": "Cygwin: Make sure all packages build shared libraries, using `AM_LDFLAGS=-no-undefined`",
        "to": "Cygwin: Fix cliquer, giac, meataxe, rw, libbraiding to build shared libraries, using `AM_LDFLAGS=-no-undefined`"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259176"
}
```



---

archive/issue_comments_459846.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/287249195\" to \"https://github.com/mkoeppe/sage/actions/runs/287249195, ...\".",
    "created_at": "2020-10-22T17:39:40Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459846",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/287249195" to "https://github.com/mkoeppe/sage/actions/runs/287249195, ...".



---

archive/issue_comments_459847.json:
```json
{
    "body": "<a id='comment:55'></a>\nNeeds review",
    "created_at": "2020-11-10T19:58:27Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459847",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:55'></a>
Needs review



---

archive/issue_comments_459848.json:
```json
{
    "body": "<a id='comment:56'></a>\nthere seems to be some problem with building of scipy\n\n```\n In file included from /usr/include/sys/config.h:5,\n                   from /usr/include/_ansi.h:11,\n                   from /usr/include/sys/reent.h:13,\n                   from /usr/include/math.h:5,\n                   from /usr/lib/gcc/x86_64-pc-cygwin/10/include/c++/cmath:45,\n                   from scipy/spatial/ckdtree/src/query.cxx:1:\n  /usr/include/sys/features.h:255: note: this is the location of the previous definition\n    255 | #define __BSD_VISIBLE  0\n        |\n  In file included from /cygdrive/d/a/sage/sage/local/include/python3.8/pyport.h:219,\n                   from /cygdrive/d/a/sage/sage/local/include/python3.8/Python.h:63,\n                   from /cygdrive/d/a/sage/sage/local/lib/python3.8/site-packages/numpy/core/include/numpy/npy_common.h:11,\n                   from scipy/spatial/ckdtree/src/ckdtree_decl.h:10,\n                   from scipy/spatial/ckdtree/src/query.cxx:13:\n  /usr/include/sys/time.h:106:34: error: 'u_int' has not been declared\n    106 | bintime_mul(struct bintime *_bt, u_int _x)\n        |                                  ^~~~~\n  g++: scipy/spatial/ckdtree/src/build.cxx\n```",
    "created_at": "2020-11-10T21:56:06Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459848",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:56'></a>
there seems to be some problem with building of scipy

```
 In file included from /usr/include/sys/config.h:5,
                   from /usr/include/_ansi.h:11,
                   from /usr/include/sys/reent.h:13,
                   from /usr/include/math.h:5,
                   from /usr/lib/gcc/x86_64-pc-cygwin/10/include/c++/cmath:45,
                   from scipy/spatial/ckdtree/src/query.cxx:1:
  /usr/include/sys/features.h:255: note: this is the location of the previous definition
    255 | #define __BSD_VISIBLE  0
        |
  In file included from /cygdrive/d/a/sage/sage/local/include/python3.8/pyport.h:219,
                   from /cygdrive/d/a/sage/sage/local/include/python3.8/Python.h:63,
                   from /cygdrive/d/a/sage/sage/local/lib/python3.8/site-packages/numpy/core/include/numpy/npy_common.h:11,
                   from scipy/spatial/ckdtree/src/ckdtree_decl.h:10,
                   from scipy/spatial/ckdtree/src/query.cxx:13:
  /usr/include/sys/time.h:106:34: error: 'u_int' has not been declared
    106 | bintime_mul(struct bintime *_bt, u_int _x)
        |                                  ^~~~~
  g++: scipy/spatial/ckdtree/src/build.cxx
```



---

archive/issue_comments_459849.json:
```json
{
    "body": "**Dependencies:** #30154",
    "created_at": "2020-12-10T03:45:31Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459849",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #30154



---

archive/issue_comments_459850.json:
```json
{
    "body": "<a id='comment:58'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0bb7fc06cc1cc43fb384eb5169b412a0d13b3862\">0bb7fc0</a></td><td><code>Merge tag '9.3.beta3' into t/29152/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7244a9d09f77f2a0b6b0254ceca94b620ad7eb6a\">7244a9d</a></td><td><code>ci-cygwin-standard.yml: Use tar --listed-incremental</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ccf1eabee4f23e43a12da9cddad7e6474694104\">5ccf1ea</a></td><td><code>tar --remove-files and --listed-incremental are not compatible</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96610658a37c808a5785c0c434a194e161bd30f6\">9661065</a></td><td><code>Merge branch 't/30154/gh_actions__cygwin__use_incremental_archives_for_the_sage_local_artifact' into t/29152/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_</code></td></tr></table>\n",
    "created_at": "2020-12-10T03:45:45Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459850",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0bb7fc06cc1cc43fb384eb5169b412a0d13b3862">0bb7fc0</a></td><td><code>Merge tag '9.3.beta3' into t/29152/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7244a9d09f77f2a0b6b0254ceca94b620ad7eb6a">7244a9d</a></td><td><code>ci-cygwin-standard.yml: Use tar --listed-incremental</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ccf1eabee4f23e43a12da9cddad7e6474694104">5ccf1ea</a></td><td><code>tar --remove-files and --listed-incremental are not compatible</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96610658a37c808a5785c0c434a194e161bd30f6">9661065</a></td><td><code>Merge branch 't/30154/gh_actions__cygwin__use_incremental_archives_for_the_sage_local_artifact' into t/29152/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_</code></td></tr></table>




---

archive/issue_comments_459851.json:
```json
{
    "body": "**Changing commit** from \"[e41329adfa1f1e69653ba127d6460d2bd7aaaf00](https://github.com/sagemath/sagetrac-mirror/commit/e41329adfa1f1e69653ba127d6460d2bd7aaaf00)\" to \"[96610658a37c808a5785c0c434a194e161bd30f6](https://github.com/sagemath/sagetrac-mirror/commit/96610658a37c808a5785c0c434a194e161bd30f6)\".",
    "created_at": "2020-12-10T03:45:45Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459851",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e41329adfa1f1e69653ba127d6460d2bd7aaaf00](https://github.com/sagemath/sagetrac-mirror/commit/e41329adfa1f1e69653ba127d6460d2bd7aaaf00)" to "[96610658a37c808a5785c0c434a194e161bd30f6](https://github.com/sagemath/sagetrac-mirror/commit/96610658a37c808a5785c0c434a194e161bd30f6)".



---

archive/issue_comments_459852.json:
```json
{
    "body": "<a id='comment:59'></a>\nReplying to [dimpase](#comment%3A56):\n> there seems to be some problem with building of scipy\n> \n> ```\n>   /usr/include/sys/time.h:106:34: error: 'u_int' has not been declared\n> ```\n\nProbably fixed in #30643",
    "created_at": "2020-12-10T03:47:04Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459852",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:59'></a>
Replying to [dimpase](#comment%3A56):
> there seems to be some problem with building of scipy
> 
> ```
>   /usr/include/sys/time.h:106:34: error: 'u_int' has not been declared
> ```

Probably fixed in #30643



---

archive/issue_comments_459853.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/287249195, ...\" to \"https://github.com/mkoeppe/sage/actions/runs/412156307, ...\".",
    "created_at": "2020-12-10T03:49:39Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459853",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/287249195, ..." to "https://github.com/mkoeppe/sage/actions/runs/412156307, ...".



---

archive/issue_comments_459854.json:
```json
{
    "body": "<a id='comment:61'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c34a0e87c2be229bb394bc0cf9029328f7c2c4d\">4c34a0e</a></td><td><code>Update ci-cygwin-minimal.yml</code></td></tr></table>\n",
    "created_at": "2020-12-10T03:52:15Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459854",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c34a0e87c2be229bb394bc0cf9029328f7c2c4d">4c34a0e</a></td><td><code>Update ci-cygwin-minimal.yml</code></td></tr></table>




---

archive/issue_comments_459855.json:
```json
{
    "body": "**Changing commit** from \"[96610658a37c808a5785c0c434a194e161bd30f6](https://github.com/sagemath/sagetrac-mirror/commit/96610658a37c808a5785c0c434a194e161bd30f6)\" to \"[4c34a0e87c2be229bb394bc0cf9029328f7c2c4d](https://github.com/sagemath/sagetrac-mirror/commit/4c34a0e87c2be229bb394bc0cf9029328f7c2c4d)\".",
    "created_at": "2020-12-10T03:52:15Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459855",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[96610658a37c808a5785c0c434a194e161bd30f6](https://github.com/sagemath/sagetrac-mirror/commit/96610658a37c808a5785c0c434a194e161bd30f6)" to "[4c34a0e87c2be229bb394bc0cf9029328f7c2c4d](https://github.com/sagemath/sagetrac-mirror/commit/4c34a0e87c2be229bb394bc0cf9029328f7c2c4d)".



---

archive/issue_events_259177.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-19T18:25:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259177"
}
```



---

archive/issue_events_259178.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-19T18:25:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259178"
}
```



---

archive/issue_comments_459856.json:
```json
{
    "body": "**Work Issues:** rebase on top of #31064",
    "created_at": "2020-12-19T18:25:38Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459856",
    "user": "https://github.com/mkoeppe"
}
```

**Work Issues:** rebase on top of #31064



---

archive/issue_comments_459857.json:
```json
{
    "body": "**Changing commit** from \"[4c34a0e87c2be229bb394bc0cf9029328f7c2c4d](https://github.com/sagemath/sagetrac-mirror/commit/4c34a0e87c2be229bb394bc0cf9029328f7c2c4d)\" to \"[58c22df464d18bd03d1f4e19043099fa53541072](https://github.com/sagemath/sagetrac-mirror/commit/58c22df464d18bd03d1f4e19043099fa53541072)\".",
    "created_at": "2020-12-19T19:07:01Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459857",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4c34a0e87c2be229bb394bc0cf9029328f7c2c4d](https://github.com/sagemath/sagetrac-mirror/commit/4c34a0e87c2be229bb394bc0cf9029328f7c2c4d)" to "[58c22df464d18bd03d1f4e19043099fa53541072](https://github.com/sagemath/sagetrac-mirror/commit/58c22df464d18bd03d1f4e19043099fa53541072)".



---

archive/issue_comments_459858.json:
```json
{
    "body": "<a id='comment:63'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cea4cd5aed351f19c0d6129e1e508c1d7179c751\">cea4cd5</a></td><td><code>ci-cygwin-standard.yml: More stages, continue-on-error: true</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf31b79036db96b5fd9e0b22f44c3692bc22356b\">cf31b79</a></td><td><code>Fixup after cherry-pick</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73b0e8fb7f60433534cc98d884f98e925a3c0709\">73b0e8f</a></td><td><code>build/pkgs/rw/SPKG.rst: Update link to upstream project</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d724bcb7f8b8f05a6df808e79892d24f295f45a\">9d724bc</a></td><td><code>libbraiding version bump</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a67a4460ab2fe5836bbfd1a98471ca196e41d306\">a67a446</a></td><td><code>build/pkgs/meataxe/distros: Add fedora.txt</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c79da6a159b68bb22030adc71f4a7a32eefb95b7\">c79da6a</a></td><td><code>build/pkgs/cliquer: Update to 1.22</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5dcb16de2dd461172164397ee93c72db610c26f\">b5dcb16</a></td><td><code>build/pkgs/cliquer/SPKG.rst: Update</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e6de0bd756f18588a8704670ab05778de79660b\">9e6de0b</a></td><td><code>build/pkgs/rw: Update to 0.9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32385deb38023e618641c1d7d2fc0242b0c19b25\">32385de</a></td><td><code>Upgrade SharedMeatAxe, to fix a build problem on Cygwin</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58c22df464d18bd03d1f4e19043099fa53541072\">58c22df</a></td><td><code>Add upstream url for SharedMeatAxe</code></td></tr></table>\n",
    "created_at": "2020-12-19T19:07:01Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459858",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:63'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cea4cd5aed351f19c0d6129e1e508c1d7179c751">cea4cd5</a></td><td><code>ci-cygwin-standard.yml: More stages, continue-on-error: true</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf31b79036db96b5fd9e0b22f44c3692bc22356b">cf31b79</a></td><td><code>Fixup after cherry-pick</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73b0e8fb7f60433534cc98d884f98e925a3c0709">73b0e8f</a></td><td><code>build/pkgs/rw/SPKG.rst: Update link to upstream project</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d724bcb7f8b8f05a6df808e79892d24f295f45a">9d724bc</a></td><td><code>libbraiding version bump</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a67a4460ab2fe5836bbfd1a98471ca196e41d306">a67a446</a></td><td><code>build/pkgs/meataxe/distros: Add fedora.txt</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c79da6a159b68bb22030adc71f4a7a32eefb95b7">c79da6a</a></td><td><code>build/pkgs/cliquer: Update to 1.22</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5dcb16de2dd461172164397ee93c72db610c26f">b5dcb16</a></td><td><code>build/pkgs/cliquer/SPKG.rst: Update</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e6de0bd756f18588a8704670ab05778de79660b">9e6de0b</a></td><td><code>build/pkgs/rw: Update to 0.9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32385deb38023e618641c1d7d2fc0242b0c19b25">32385de</a></td><td><code>Upgrade SharedMeatAxe, to fix a build problem on Cygwin</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58c22df464d18bd03d1f4e19043099fa53541072">58c22df</a></td><td><code>Add upstream url for SharedMeatAxe</code></td></tr></table>




---

archive/issue_events_259179.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-19T19:10:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259179"
}
```



---

archive/issue_events_259180.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-19T19:10:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259180"
}
```



---

archive/issue_comments_459859.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/412156307, ...\" to \"Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/432820484, ...\".",
    "created_at": "2020-12-19T19:10:04Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459859",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/412156307, ..." to "Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/432820484, ...".



---

archive/issue_comments_459860.json:
```json
{
    "body": "**Changing work issues** from \"rebase on top of #31064\" to \"\".",
    "created_at": "2020-12-19T19:10:04Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459860",
    "user": "https://github.com/mkoeppe"
}
```

**Changing work issues** from "rebase on top of #31064" to "".



---

archive/issue_comments_459861.json:
```json
{
    "body": "**Changing dependencies** from \"#30154\" to \"#31064\".",
    "created_at": "2020-12-19T19:10:20Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459861",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#30154" to "#31064".



---

archive/issue_comments_459862.json:
```json
{
    "body": "<a id='comment:66'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09d1737b45d1b29c768f49ae5284392a5917a32b\">09d1737</a></td><td><code>Makefile: Add targets ptest-nodoc etc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0dca7763f5c63ba15bbe96322aa67d384c65e776\">0dca776</a></td><td><code>Merge branch 't/29124/script-packages-prereq-toolchain-bootstrap' into t/31084/makefile__add__ptest__targets_that_do_not_depend_on_the_docbuild</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/073124cb21874ec02071377adcde9e5cbe895426\">073124c</a></td><td><code>Merge branch 't/31084/makefile__add__ptest__targets_that_do_not_depend_on_the_docbuild' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8769bd66363a757f8917f8b59c149b4807649234\">8769bd6</a></td><td><code>.github/workflows/ci-cygwin-*.yml: Separate docbuild and ptest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2daec7767860d1bb8ed0bc7fe83d4d3b6c0cf8a\">c2daec7</a></td><td><code>Merge branch 't/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq' into t/29152/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_</code></td></tr></table>\n",
    "created_at": "2020-12-19T19:57:22Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459862",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09d1737b45d1b29c768f49ae5284392a5917a32b">09d1737</a></td><td><code>Makefile: Add targets ptest-nodoc etc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0dca7763f5c63ba15bbe96322aa67d384c65e776">0dca776</a></td><td><code>Merge branch 't/29124/script-packages-prereq-toolchain-bootstrap' into t/31084/makefile__add__ptest__targets_that_do_not_depend_on_the_docbuild</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/073124cb21874ec02071377adcde9e5cbe895426">073124c</a></td><td><code>Merge branch 't/31084/makefile__add__ptest__targets_that_do_not_depend_on_the_docbuild' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8769bd66363a757f8917f8b59c149b4807649234">8769bd6</a></td><td><code>.github/workflows/ci-cygwin-*.yml: Separate docbuild and ptest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2daec7767860d1bb8ed0bc7fe83d4d3b6c0cf8a">c2daec7</a></td><td><code>Merge branch 't/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq' into t/29152/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_</code></td></tr></table>




---

archive/issue_comments_459863.json:
```json
{
    "body": "**Changing commit** from \"[58c22df464d18bd03d1f4e19043099fa53541072](https://github.com/sagemath/sagetrac-mirror/commit/58c22df464d18bd03d1f4e19043099fa53541072)\" to \"[c2daec7767860d1bb8ed0bc7fe83d4d3b6c0cf8a](https://github.com/sagemath/sagetrac-mirror/commit/c2daec7767860d1bb8ed0bc7fe83d4d3b6c0cf8a)\".",
    "created_at": "2020-12-19T19:57:22Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459863",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[58c22df464d18bd03d1f4e19043099fa53541072](https://github.com/sagemath/sagetrac-mirror/commit/58c22df464d18bd03d1f4e19043099fa53541072)" to "[c2daec7767860d1bb8ed0bc7fe83d4d3b6c0cf8a](https://github.com/sagemath/sagetrac-mirror/commit/c2daec7767860d1bb8ed0bc7fe83d4d3b6c0cf8a)".



---

archive/issue_comments_459864.json:
```json
{
    "body": "<a id='comment:67'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78ff9d580f5f0c1396e1f8a5421858170999957a\">78ff9d5</a></td><td><code>src/sage/misc/package.py: Add one more # optional - build</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a44042f86577431358fb3ea95875cd949f971984\">a44042f</a></td><td><code>Merge branch 't/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available' into t/29124/script-packages-prereq-toolchain-bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64bde5f887ac115b1e40b7905ad30cc00d8de363\">64bde5f</a></td><td><code>Merge tag '9.3.beta5' into t/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9a7572a37b228f4a74c35f680190e6b237f48d8\">e9a7572</a></td><td><code>src/sage/misc/package.py: Improve source formatting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7bcda971b925201891d60d13c6b6e879c888301\">c7bcda9</a></td><td><code>Merge branch 't/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available' into t/29124/script-packages-prereq-toolchain-bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9988c5fab43adc6f5784a124248887637475d67c\">9988c5f</a></td><td><code>ci-cygwin*.yml: Adjust to new script packages _bootstrap, _prereq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d65299c666b9ed71a8f93cfb0b830c15d9e923f8\">d65299c</a></td><td><code>Merge branch 't/29124/script-packages-prereq-toolchain-bootstrap' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab191339dfa275b3466f530a59268c756f5d1b05\">ab19133</a></td><td><code>Merge branch 't/29124/script-packages-prereq-toolchain-bootstrap' into t/30944/tox__improve_local_sudo_ubuntu_standard</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5e405116fa41c9afb3c5f46fbde2489616d267f\">a5e4051</a></td><td><code>Merge branch 't/30944/tox__improve_local_sudo_ubuntu_standard' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76804dcb31f396852de158c1ac9650b43cdecb59\">76804dc</a></td><td><code>Merge branch 't/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq' into t/29152/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_</code></td></tr></table>\n",
    "created_at": "2020-12-29T19:21:03Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459864",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:67'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78ff9d580f5f0c1396e1f8a5421858170999957a">78ff9d5</a></td><td><code>src/sage/misc/package.py: Add one more # optional - build</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a44042f86577431358fb3ea95875cd949f971984">a44042f</a></td><td><code>Merge branch 't/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available' into t/29124/script-packages-prereq-toolchain-bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64bde5f887ac115b1e40b7905ad30cc00d8de363">64bde5f</a></td><td><code>Merge tag '9.3.beta5' into t/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9a7572a37b228f4a74c35f680190e6b237f48d8">e9a7572</a></td><td><code>src/sage/misc/package.py: Improve source formatting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7bcda971b925201891d60d13c6b6e879c888301">c7bcda9</a></td><td><code>Merge branch 't/30940/src_bin_sage_list_packages__make_it_work_if_sage_root_is_not_available' into t/29124/script-packages-prereq-toolchain-bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9988c5fab43adc6f5784a124248887637475d67c">9988c5f</a></td><td><code>ci-cygwin*.yml: Adjust to new script packages _bootstrap, _prereq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d65299c666b9ed71a8f93cfb0b830c15d9e923f8">d65299c</a></td><td><code>Merge branch 't/29124/script-packages-prereq-toolchain-bootstrap' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab191339dfa275b3466f530a59268c756f5d1b05">ab19133</a></td><td><code>Merge branch 't/29124/script-packages-prereq-toolchain-bootstrap' into t/30944/tox__improve_local_sudo_ubuntu_standard</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5e405116fa41c9afb3c5f46fbde2489616d267f">a5e4051</a></td><td><code>Merge branch 't/30944/tox__improve_local_sudo_ubuntu_standard' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76804dcb31f396852de158c1ac9650b43cdecb59">76804dc</a></td><td><code>Merge branch 't/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq' into t/29152/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_</code></td></tr></table>




---

archive/issue_comments_459865.json:
```json
{
    "body": "**Changing commit** from \"[c2daec7767860d1bb8ed0bc7fe83d4d3b6c0cf8a](https://github.com/sagemath/sagetrac-mirror/commit/c2daec7767860d1bb8ed0bc7fe83d4d3b6c0cf8a)\" to \"[76804dcb31f396852de158c1ac9650b43cdecb59](https://github.com/sagemath/sagetrac-mirror/commit/76804dcb31f396852de158c1ac9650b43cdecb59)\".",
    "created_at": "2020-12-29T19:21:03Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459865",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c2daec7767860d1bb8ed0bc7fe83d4d3b6c0cf8a](https://github.com/sagemath/sagetrac-mirror/commit/c2daec7767860d1bb8ed0bc7fe83d4d3b6c0cf8a)" to "[76804dcb31f396852de158c1ac9650b43cdecb59](https://github.com/sagemath/sagetrac-mirror/commit/76804dcb31f396852de158c1ac9650b43cdecb59)".



---

archive/issue_comments_459866.json:
```json
{
    "body": "<a id='comment:68'></a>\nLet's please get this in.",
    "created_at": "2021-02-01T21:01:25Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459866",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:68'></a>
Let's please get this in.



---

archive/issue_comments_459867.json:
```json
{
    "body": "<a id='comment:69'></a>\nIt still doesn't fix all the Cygwin things, no? Anyway, LGTM.",
    "created_at": "2021-02-02T16:17:25Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459867",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:69'></a>
It still doesn't fix all the Cygwin things, no? Anyway, LGTM.



---

archive/issue_events_259181.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-02-02T16:17:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259181"
}
```



---

archive/issue_events_259182.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-02-02T16:17:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259182"
}
```



---

archive/issue_comments_459868.json:
```json
{
    "body": "**Changing reviewer** from \"Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/432820484, ...\" to \"Matthias Koeppe, Dima Pasechnik\".",
    "created_at": "2021-02-02T16:17:25Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459868",
    "user": "https://github.com/dimpase"
}
```

**Changing reviewer** from "Matthias Koeppe, https://github.com/mkoeppe/sage/actions/runs/432820484, ..." to "Matthias Koeppe, Dima Pasechnik".



---

archive/issue_comments_459869.json:
```json
{
    "body": "<a id='comment:70'></a>\nThank you!\n\nFollow up for the remaining issues in #30814.",
    "created_at": "2021-02-02T17:35:04Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459869",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:70'></a>
Thank you!

Follow up for the remaining issues in #30814.



---

archive/issue_comments_459870.json:
```json
{
    "body": "<a id='comment:71'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42f4458e3ae857f82759b3c9490ab34306a15f4d\">42f4458</a></td><td><code>Merge tag '9.3.beta7' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b6ee5c42603c0467da76f0478a399bab19dfc5b\">6b6ee5c</a></td><td><code>Merge branch 't/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq' into t/29152/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_</code></td></tr></table>\n",
    "created_at": "2021-02-07T20:44:59Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459870",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:71'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42f4458e3ae857f82759b3c9490ab34306a15f4d">42f4458</a></td><td><code>Merge tag '9.3.beta7' into t/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b6ee5c42603c0467da76f0478a399bab19dfc5b">6b6ee5c</a></td><td><code>Merge branch 't/31064/ci_cygwin__yml__adjust_to_new_script_packages__bootstrap___prereq' into t/29152/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_</code></td></tr></table>




---

archive/issue_events_259183.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/git",
    "created_at": "2021-02-07T20:44:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259183"
}
```



---

archive/issue_events_259184.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/git",
    "created_at": "2021-02-07T20:44:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259184"
}
```



---

archive/issue_comments_459871.json:
```json
{
    "body": "**Changing commit** from \"[76804dcb31f396852de158c1ac9650b43cdecb59](https://github.com/sagemath/sagetrac-mirror/commit/76804dcb31f396852de158c1ac9650b43cdecb59)\" to \"[6b6ee5c42603c0467da76f0478a399bab19dfc5b](https://github.com/sagemath/sagetrac-mirror/commit/6b6ee5c42603c0467da76f0478a399bab19dfc5b)\".",
    "created_at": "2021-02-07T20:44:59Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459871",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[76804dcb31f396852de158c1ac9650b43cdecb59](https://github.com/sagemath/sagetrac-mirror/commit/76804dcb31f396852de158c1ac9650b43cdecb59)" to "[6b6ee5c42603c0467da76f0478a399bab19dfc5b](https://github.com/sagemath/sagetrac-mirror/commit/6b6ee5c42603c0467da76f0478a399bab19dfc5b)".



---

archive/issue_events_259185.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-07T20:45:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259185"
}
```



---

archive/issue_events_259186.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-07T20:45:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259186"
}
```



---

archive/issue_events_259187.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-01T00:21:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259187"
}
```



---

archive/issue_events_259188.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "10b3abca1510cc8c2f6eb2706f010c8f84f531e6",
    "created_at": "2021-03-01T00:21:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29152#event-259188"
}
```



---

archive/issue_comments_459872.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)\" to \"[6b6ee5c42603c0467da76f0478a399bab19dfc5b](https://github.com/sagemath/sagetrac-mirror/commit/6b6ee5c42603c0467da76f0478a399bab19dfc5b)\".",
    "created_at": "2021-03-01T00:21:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29152",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29152#issuecomment-459872",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cygwin__make_sure_all_packages_build_shared_libraries__using__am_ldflags__no_undefined_)" to "[6b6ee5c42603c0467da76f0478a399bab19dfc5b](https://github.com/sagemath/sagetrac-mirror/commit/6b6ee5c42603c0467da76f0478a399bab19dfc5b)".
