# Issue 29411: make sagelib a script package

archive/issues_029174.json:
```json
{
    "assignees": [],
    "body": "... so that sagelib is just an ordinary `script` package whose source tree is included (hence, no `checksums.ini` file; see #29287).\n\nRelated sage-devel discussions:\n- https://groups.google.com/d/msg/sage-devel/nTwhCV89FXE/_7GdzGy4BgAJ (\"package sources\")\n- https://groups.google.com/d/msg/sage-devel/nTwhCV89FXE/-obd4rMDBAAJ\n \nRelated tickets:\n- #29386 Install script packages via sage-spkg\n\n\n\nDepends on #29098\nDepends on #29697\nDepends on #29793\n\nCC:  @embray @videlec @orlitzky @dimpase @jhpalmieri @kiwifb\n\nComponent: **build**\n\nAuthor: **Matthias Koeppe**\n\nBranch: **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29411_\n\n",
    "closed_at": "2020-07-02T21:30:21Z",
    "created_at": "2020-03-26T19:02:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "make sagelib a script package",
    "type": "issue",
    "updated_at": "2020-07-16T03:13:32Z",
    "url": "https://github.com/sagemath/sage/issues/29411",
    "user": "https://github.com/mkoeppe"
}
```
... so that sagelib is just an ordinary `script` package whose source tree is included (hence, no `checksums.ini` file; see #29287).

Related sage-devel discussions:
- https://groups.google.com/d/msg/sage-devel/nTwhCV89FXE/_7GdzGy4BgAJ ("package sources")
- https://groups.google.com/d/msg/sage-devel/nTwhCV89FXE/-obd4rMDBAAJ
 
Related tickets:
- #29386 Install script packages via sage-spkg



Depends on #29098
Depends on #29697
Depends on #29793

CC:  @embray @videlec @orlitzky @dimpase @jhpalmieri @kiwifb

Component: **build**

Author: **Matthias Koeppe**

Branch: **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/29411_





---

archive/issue_events_401392.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-26T19:02:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401392"
}
```



---

archive/issue_events_401393.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-26T19:02:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401393"
}
```



---

archive/issue_events_401394.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-26T19:02:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401394"
}
```



---

archive/issue_events_401395.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-26T19:02:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401395"
}
```



---

archive/issue_events_401396.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T06:22:41Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401396"
}
```



---

archive/issue_events_401397.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T06:22:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401397"
}
```



---

archive/issue_comments_461821.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,10 @@\n+... so that sagelib is just an ordinary `script` package whose source tree is included (hence, no `checksums.ini` file; see #29287).\n \n+Related sage-devel discussions:\n+- https://groups.google.com/d/msg/sage-devel/nTwhCV89FXE/_7GdzGy4BgAJ (\"package sources\")\n+- https://groups.google.com/d/msg/sage-devel/nTwhCV89FXE/-obd4rMDBAAJ\n+ \n+Related tickets:\n+- #29386 Install script packages via sage-spkg\n+\n+\n``````\n",
    "created_at": "2020-05-13T04:26:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461821",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,10 @@
+... so that sagelib is just an ordinary `script` package whose source tree is included (hence, no `checksums.ini` file; see #29287).
 
+Related sage-devel discussions:
+- https://groups.google.com/d/msg/sage-devel/nTwhCV89FXE/_7GdzGy4BgAJ ("package sources")
+- https://groups.google.com/d/msg/sage-devel/nTwhCV89FXE/-obd4rMDBAAJ
+ 
+Related tickets:
+- #29386 Install script packages via sage-spkg
+
+
``````




---

archive/issue_comments_461822.json:
```json
{
    "body": "Changed dependencies from **#29287** to **#29098**",
    "created_at": "2020-05-16T01:25:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461822",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29287** to **#29098**



---

archive/issue_comments_461823.json:
```json
{
    "body": "Branch: **[u/mkoeppe/make_sagelib_a_script_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/make_sagelib_a_script_package)**",
    "created_at": "2020-05-16T04:17:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461823",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/make_sagelib_a_script_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/make_sagelib_a_script_package)**



---

archive/issue_comments_461824.json:
```json
{
    "body": "Commit: **[`80cb1b9`](https://github.com/sagemath/sagetrac-mirror/commit/80cb1b9dc4d0658d23ff075e9354d49b6ceac356)**",
    "created_at": "2020-05-16T04:18:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461824",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`80cb1b9`](https://github.com/sagemath/sagetrac-mirror/commit/80cb1b9dc4d0658d23ff075e9354d49b6ceac356)**



---

archive/issue_comments_461825.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/768a314f478f915a317527821f7024dce4a25ed1\"><code>768a314</code></a></td><td><code>Merge build/make/deps into build/make/Makefile.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80cb1b9dc4d0658d23ff075e9354d49b6ceac356\"><code>80cb1b9</code></a></td><td><code>Make sagelib a script package</code></td></tr></table>\n",
    "created_at": "2020-05-16T04:18:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461825",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/768a314f478f915a317527821f7024dce4a25ed1"><code>768a314</code></a></td><td><code>Merge build/make/deps into build/make/Makefile.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80cb1b9dc4d0658d23ff075e9354d49b6ceac356"><code>80cb1b9</code></a></td><td><code>Make sagelib a script package</code></td></tr></table>




---

archive/issue_comments_461826.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nNot quite done yet. Next step is to get rid of `src/Makefile.in`, moving the contents into the `spkg-install` and `spkg-clean` scripts.",
    "created_at": "2020-05-16T05:05:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461826",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Not quite done yet. Next step is to get rid of `src/Makefile.in`, moving the contents into the `spkg-install` and `spkg-clean` scripts.



---

archive/issue_comments_461827.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThe `clean` target should perhaps be transformed into `setup.py clean`, reference: https://github.com/pypa/setuptools/issues/1347",
    "created_at": "2020-05-16T05:30:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461827",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

The `clean` target should perhaps be transformed into `setup.py clean`, reference: https://github.com/pypa/setuptools/issues/1347



---

archive/issue_comments_461828.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-05-16T06:57:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461828",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_461829.json:
```json
{
    "body": "Changed commit from **[`80cb1b9`](https://github.com/sagemath/sagetrac-mirror/commit/80cb1b9dc4d0658d23ff075e9354d49b6ceac356)** to **[`91e5a3d`](https://github.com/sagemath/sagetrac-mirror/commit/91e5a3dd01722c50e21dc02152316d397e70ebb9)**",
    "created_at": "2020-05-16T07:24:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461829",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`80cb1b9`](https://github.com/sagemath/sagetrac-mirror/commit/80cb1b9dc4d0658d23ff075e9354d49b6ceac356)** to **[`91e5a3d`](https://github.com/sagemath/sagetrac-mirror/commit/91e5a3dd01722c50e21dc02152316d397e70ebb9)**



---

archive/issue_comments_461830.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91e5a3dd01722c50e21dc02152316d397e70ebb9\"><code>91e5a3d</code></a></td><td><code>src/Makefile.in: Merge into build/make/Makefile.in, build/pkgs/sagelib/spkg-install</code></td></tr></table>\n",
    "created_at": "2020-05-16T07:24:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461830",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91e5a3dd01722c50e21dc02152316d397e70ebb9"><code>91e5a3d</code></a></td><td><code>src/Makefile.in: Merge into build/make/Makefile.in, build/pkgs/sagelib/spkg-install</code></td></tr></table>




---

archive/issue_comments_461831.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@mkoeppe](#comment%3A7):\n> The `clean` target should perhaps be transformed into `setup.py clean`, reference: https://github.com/pypa/setuptools/issues/1347\n\nThat's already noted in #21508, will not happen on the present ticket",
    "created_at": "2020-05-16T07:27:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461831",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@mkoeppe](#comment%3A7):
> The `clean` target should perhaps be transformed into `setup.py clean`, reference: https://github.com/pypa/setuptools/issues/1347

That's already noted in #21508, will not happen on the present ticket



---

archive/issue_comments_461832.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nTBD: sagelib rebuilds are no longer triggered because it now goes through a non-phony target",
    "created_at": "2020-05-16T07:36:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461832",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

TBD: sagelib rebuilds are no longer triggered because it now goes through a non-phony target



---

archive/issue_comments_461833.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08cbbf200f2c5edc1bee4cac4372335f1bdf7168\"><code>08cbbf2</code></a></td><td><code>build/make/Makefile.in, build/pkgs/sagelib/dependencies: Make sure sagelib spkg-install is always run</code></td></tr></table>\n",
    "created_at": "2020-05-16T15:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461833",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08cbbf200f2c5edc1bee4cac4372335f1bdf7168"><code>08cbbf2</code></a></td><td><code>build/make/Makefile.in, build/pkgs/sagelib/dependencies: Make sure sagelib spkg-install is always run</code></td></tr></table>




---

archive/issue_comments_461834.json:
```json
{
    "body": "Changed commit from **[`91e5a3d`](https://github.com/sagemath/sagetrac-mirror/commit/91e5a3dd01722c50e21dc02152316d397e70ebb9)** to **[`08cbbf2`](https://github.com/sagemath/sagetrac-mirror/commit/08cbbf200f2c5edc1bee4cac4372335f1bdf7168)**",
    "created_at": "2020-05-16T15:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461834",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`91e5a3d`](https://github.com/sagemath/sagetrac-mirror/commit/91e5a3dd01722c50e21dc02152316d397e70ebb9)** to **[`08cbbf2`](https://github.com/sagemath/sagetrac-mirror/commit/08cbbf200f2c5edc1bee4cac4372335f1bdf7168)**



---

archive/issue_events_401398.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-16T19:50:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401398"
}
```



---

archive/issue_comments_461835.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nNot quite what I had in mind but this is a step in the right direction. It makes sagelib less special in the build system. I believe the dependency part is OK. The makefile bits deserve a bit scrutiny and field testing.",
    "created_at": "2020-05-16T21:31:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461835",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:15" align="right">comment:15</div>

Not quite what I had in mind but this is a step in the right direction. It makes sagelib less special in the build system. I believe the dependency part is OK. The makefile bits deserve a bit scrutiny and field testing.



---

archive/issue_comments_461836.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThe old `src/Makefile.in` and now the new `build/pkgs/sagelib/spkg-install` has this in it:\n\n```\nHoping that #20382 will make this unnecessary.\n```\n#20382 has been merged, so perhaps this should be clarified, although not necessarily on this ticket.",
    "created_at": "2020-05-16T21:52:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461836",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:16" align="right">comment:16</div>

The old `src/Makefile.in` and now the new `build/pkgs/sagelib/spkg-install` has this in it:

```
Hoping that #20382 will make this unnecessary.
```
#20382 has been merged, so perhaps this should be clarified, although not necessarily on this ticket.



---

archive/issue_comments_461837.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nRight, this is now #28815.",
    "created_at": "2020-05-16T22:01:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461837",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Right, this is now #28815.



---

archive/issue_comments_461838.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e915b0031876052a7138ea3c862d643bab39e29\"><code>5e915b0</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Update references to tickets</code></td></tr></table>\n",
    "created_at": "2020-05-16T22:04:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461838",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e915b0031876052a7138ea3c862d643bab39e29"><code>5e915b0</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Update references to tickets</code></td></tr></table>




---

archive/issue_comments_461839.json:
```json
{
    "body": "Changed commit from **[`08cbbf2`](https://github.com/sagemath/sagetrac-mirror/commit/08cbbf200f2c5edc1bee4cac4372335f1bdf7168)** to **[`5e915b0`](https://github.com/sagemath/sagetrac-mirror/commit/5e915b0031876052a7138ea3c862d643bab39e29)**",
    "created_at": "2020-05-16T22:04:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461839",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`08cbbf2`](https://github.com/sagemath/sagetrac-mirror/commit/08cbbf200f2c5edc1bee4cac4372335f1bdf7168)** to **[`5e915b0`](https://github.com/sagemath/sagetrac-mirror/commit/5e915b0031876052a7138ea3c862d643bab39e29)**



---

archive/issue_comments_461840.json:
```json
{
    "body": "Changed dependencies from **#29098** to **#29098, #29697**",
    "created_at": "2020-05-17T03:18:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461840",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29098** to **#29098, #29697**



---

archive/issue_comments_461841.json:
```json
{
    "body": "Changed commit from **[`5e915b0`](https://github.com/sagemath/sagetrac-mirror/commit/5e915b0031876052a7138ea3c862d643bab39e29)** to **[`f6e3fa1`](https://github.com/sagemath/sagetrac-mirror/commit/f6e3fa191fdcc19b6bad34a46ddaea8648b62a30)**",
    "created_at": "2020-05-17T03:35:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461841",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5e915b0`](https://github.com/sagemath/sagetrac-mirror/commit/5e915b0031876052a7138ea3c862d643bab39e29)** to **[`f6e3fa1`](https://github.com/sagemath/sagetrac-mirror/commit/f6e3fa191fdcc19b6bad34a46ddaea8648b62a30)**



---

archive/issue_comments_461842.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53f0359017fc1909498de22c4c4b8c5310e76bdb\"><code>53f0359</code></a></td><td><code>src/sage/env.py (sage_include_directories): Do not put SAGE_INC in front of the sage source include directories</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16247ad9675343f1d3e1158cc5e43137aec82645\"><code>16247ad</code></a></td><td><code>src/setup.py: Do not put SAGE_LOCAL/lib in front of the library directories</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a50cba23abb1c6ff4b022c62624da800b88e282\"><code>9a50cba</code></a></td><td><code>src/sage/env.py (sage_include_directories): Fixup doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73fb13a4826189f58a24894f5e8309522faddc8e\"><code>73fb13a</code></a></td><td><code>Merge branch 't/29697/src_setup_py__src_sage_env_py__sage_include_directories___do_not_add_another_copy_of_sage_inc__sage_local_lib_to_include_dirs__library_dirs' into t/29411/make_sagelib_a_script_package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6e3fa191fdcc19b6bad34a46ddaea8648b62a30\"><code>f6e3fa1</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Also poison environment variables SAGE_LOCAL etc.</code></td></tr></table>\n",
    "created_at": "2020-05-17T03:35:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461842",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53f0359017fc1909498de22c4c4b8c5310e76bdb"><code>53f0359</code></a></td><td><code>src/sage/env.py (sage_include_directories): Do not put SAGE_INC in front of the sage source include directories</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16247ad9675343f1d3e1158cc5e43137aec82645"><code>16247ad</code></a></td><td><code>src/setup.py: Do not put SAGE_LOCAL/lib in front of the library directories</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a50cba23abb1c6ff4b022c62624da800b88e282"><code>9a50cba</code></a></td><td><code>src/sage/env.py (sage_include_directories): Fixup doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73fb13a4826189f58a24894f5e8309522faddc8e"><code>73fb13a</code></a></td><td><code>Merge branch 't/29697/src_setup_py__src_sage_env_py__sage_include_directories___do_not_add_another_copy_of_sage_inc__sage_local_lib_to_include_dirs__library_dirs' into t/29411/make_sagelib_a_script_package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6e3fa191fdcc19b6bad34a46ddaea8648b62a30"><code>f6e3fa1</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Also poison environment variables SAGE_LOCAL etc.</code></td></tr></table>




---

archive/issue_comments_461843.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReady for review.",
    "created_at": "2020-05-17T03:36:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461843",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Ready for review.



---

archive/issue_comments_461844.json:
```json
{
    "body": "Changed commit from **[`f6e3fa1`](https://github.com/sagemath/sagetrac-mirror/commit/f6e3fa191fdcc19b6bad34a46ddaea8648b62a30)** to **[`fcf2cab`](https://github.com/sagemath/sagetrac-mirror/commit/fcf2cabede2195ab056c9220bc4db5c3a032560b)**",
    "created_at": "2020-05-17T03:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461844",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f6e3fa1`](https://github.com/sagemath/sagetrac-mirror/commit/f6e3fa191fdcc19b6bad34a46ddaea8648b62a30)** to **[`fcf2cab`](https://github.com/sagemath/sagetrac-mirror/commit/fcf2cabede2195ab056c9220bc4db5c3a032560b)**



---

archive/issue_comments_461845.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcf2cabede2195ab056c9220bc4db5c3a032560b\"><code>fcf2cab</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Add comment regarding SAGE_SPKG_INST</code></td></tr></table>\n",
    "created_at": "2020-05-17T03:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461845",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcf2cabede2195ab056c9220bc4db5c3a032560b"><code>fcf2cab</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Add comment regarding SAGE_SPKG_INST</code></td></tr></table>




---

archive/issue_comments_461846.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a973fc499fa531efecffe34284701ce2d8632c52\"><code>a973fc4</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Also poison SAGE_PKGCONFIG, SAGE_SPKG_SCRIPTS</code></td></tr></table>\n",
    "created_at": "2020-05-17T03:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461846",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a973fc499fa531efecffe34284701ce2d8632c52"><code>a973fc4</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Also poison SAGE_PKGCONFIG, SAGE_SPKG_SCRIPTS</code></td></tr></table>




---

archive/issue_comments_461847.json:
```json
{
    "body": "Changed commit from **[`fcf2cab`](https://github.com/sagemath/sagetrac-mirror/commit/fcf2cabede2195ab056c9220bc4db5c3a032560b)** to **[`a973fc4`](https://github.com/sagemath/sagetrac-mirror/commit/a973fc499fa531efecffe34284701ce2d8632c52)**",
    "created_at": "2020-05-17T03:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461847",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fcf2cab`](https://github.com/sagemath/sagetrac-mirror/commit/fcf2cabede2195ab056c9220bc4db5c3a032560b)** to **[`a973fc4`](https://github.com/sagemath/sagetrac-mirror/commit/a973fc499fa531efecffe34284701ce2d8632c52)**



---

archive/issue_comments_461848.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nplease remove `gcc` from the modified comment in `src/setup.py` - it's a misleading artefact from the past, where gcc was needed to build Sage.",
    "created_at": "2020-05-17T20:06:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461848",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">comment:24</div>

please remove `gcc` from the modified comment in `src/setup.py` - it's a misleading artefact from the past, where gcc was needed to build Sage.



---

archive/issue_comments_461849.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1db7ed4ac41daebbdce7d7777abe86dae96fa4a\"><code>c1db7ed</code></a></td><td><code>src/setup.py: Update comment (not specific to gcc)</code></td></tr></table>\n",
    "created_at": "2020-05-17T20:11:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461849",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1db7ed4ac41daebbdce7d7777abe86dae96fa4a"><code>c1db7ed</code></a></td><td><code>src/setup.py: Update comment (not specific to gcc)</code></td></tr></table>




---

archive/issue_comments_461850.json:
```json
{
    "body": "Changed commit from **[`a973fc4`](https://github.com/sagemath/sagetrac-mirror/commit/a973fc499fa531efecffe34284701ce2d8632c52)** to **[`c1db7ed`](https://github.com/sagemath/sagetrac-mirror/commit/c1db7ed4ac41daebbdce7d7777abe86dae96fa4a)**",
    "created_at": "2020-05-17T20:11:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461850",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a973fc4`](https://github.com/sagemath/sagetrac-mirror/commit/a973fc499fa531efecffe34284701ce2d8632c52)** to **[`c1db7ed`](https://github.com/sagemath/sagetrac-mirror/commit/c1db7ed4ac41daebbdce7d7777abe86dae96fa4a)**



---

archive/issue_comments_461851.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nWhat is the point of `FORCE` target - to always (re)build sagelib, right?\nBut is it needed?",
    "created_at": "2020-05-17T20:24:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461851",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:26" align="right">comment:26</div>

What is the point of `FORCE` target - to always (re)build sagelib, right?
But is it needed?



---

archive/issue_comments_461852.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nYes, without it, sagelib would not be rebuilt when source files change.",
    "created_at": "2020-05-17T20:45:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461852",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">comment:27</div>

Yes, without it, sagelib would not be rebuilt when source files change.



---

archive/issue_comments_461853.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nhmm, but why not honestly list deps in a makefile?",
    "created_at": "2020-05-17T20:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461853",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:28" align="right">comment:28</div>

hmm, but why not honestly list deps in a makefile?



---

archive/issue_comments_461854.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nWell, instead of the dependency on FORCE that is listed in `build/pkgs/sagelib/dependencies`, we could make it a dependency on `$(SAGE_SRC) $(SAGE_SRC)/* $(SAGE_SRC)/*/* $(SAGE_SRC)/*/*/* $(SAGE_SRC)/*/*/*/*`, but I don't think this is better",
    "created_at": "2020-05-17T21:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461854",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">comment:29</div>

Well, instead of the dependency on FORCE that is listed in `build/pkgs/sagelib/dependencies`, we could make it a dependency on `$(SAGE_SRC) $(SAGE_SRC)/* $(SAGE_SRC)/*/* $(SAGE_SRC)/*/*/* $(SAGE_SRC)/*/*/*/*`, but I don't think this is better



---

archive/issue_comments_461855.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nIn other words, we do not have dependency tracking at all for sagelib. Neither of `distutils`, `setuptools`, `cython` seem to have a mechanism for generating dependencies like `gcc -M`. This would be certainly be nice to have; in particular if it included dependencies on \"system\" headers and libraries, so that sagelib could automatically rebuild when system headers/libraries change (as in, most recently, https://groups.google.com/d/msg/sage-release/A53tGGsJNLg/uA01oUugAQAJ). But that's outside of the scope of this ticket.",
    "created_at": "2020-05-17T21:36:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461855",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

In other words, we do not have dependency tracking at all for sagelib. Neither of `distutils`, `setuptools`, `cython` seem to have a mechanism for generating dependencies like `gcc -M`. This would be certainly be nice to have; in particular if it included dependencies on "system" headers and libraries, so that sagelib could automatically rebuild when system headers/libraries change (as in, most recently, https://groups.google.com/d/msg/sage-release/A53tGGsJNLg/uA01oUugAQAJ). But that's outside of the scope of this ticket.



---

archive/issue_comments_461856.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2020-05-17T21:44:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461856",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_401399.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-05-17T21:44:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401399"
}
```



---

archive/issue_events_401400.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-05-17T21:44:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401400"
}
```



---

archive/issue_comments_461857.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nOK, makes sense.",
    "created_at": "2020-05-17T21:44:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461857",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

OK, makes sense.



---

archive/issue_comments_461858.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nThanks!",
    "created_at": "2020-05-17T23:04:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461858",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

Thanks!



---

archive/issue_comments_461859.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI have created #29711 (sagelib setup.py: Dependencies on header files of packages).",
    "created_at": "2020-05-19T01:25:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461859",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

I have created #29711 (sagelib setup.py: Dependencies on header files of packages).



---

archive/issue_comments_461860.json:
```json
{
    "body": "Changed commit from **[`c1db7ed`](https://github.com/sagemath/sagetrac-mirror/commit/c1db7ed4ac41daebbdce7d7777abe86dae96fa4a)** to **[`6ee66dd`](https://github.com/sagemath/sagetrac-mirror/commit/6ee66dddccadf36476af10720f72cddaa158a501)**",
    "created_at": "2020-05-22T05:21:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461860",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c1db7ed`](https://github.com/sagemath/sagetrac-mirror/commit/c1db7ed4ac41daebbdce7d7777abe86dae96fa4a)** to **[`6ee66dd`](https://github.com/sagemath/sagetrac-mirror/commit/6ee66dddccadf36476af10720f72cddaa158a501)**



---

archive/issue_comments_461861.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1a9413b72a001482f3e7775e053853f3cd75f96\"><code>e1a9413</code></a></td><td><code>Merge build/make/deps into build/make/Makefile.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da9538e59475e7069aeaca02d3e5bba257052193\"><code>da9538e</code></a></td><td><code>Make sagelib a script package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9fd3f7eb0c06c880bdd957694acfc320234a1d62\"><code>9fd3f7e</code></a></td><td><code>src/Makefile.in: Merge into build/make/Makefile.in, build/pkgs/sagelib/spkg-install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ea77e5552b49092cf3b51d5b46773b632d4e0f1\"><code>9ea77e5</code></a></td><td><code>build/make/Makefile.in, build/pkgs/sagelib/dependencies: Make sure sagelib spkg-install is always run</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3908e9677eca92677e5dd5d5be19b38893200fa\"><code>c3908e9</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Update references to tickets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62f2841785c6dcee69f0051f9083dbb1d69b27c5\"><code>62f2841</code></a></td><td><code>Merge branch 't/29697/src_setup_py__src_sage_env_py__sage_include_directories___do_not_add_another_copy_of_sage_inc__sage_local_lib_to_include_dirs__library_dirs' into t/29411/make_sagelib_a_script_package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/048ce5bec8ec226cc4b3ef8752a999a19f52cfdc\"><code>048ce5b</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Also poison environment variables SAGE_LOCAL etc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4590c4c08a9c2483b7352f3694a0dd47534ddce4\"><code>4590c4c</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Add comment regarding SAGE_SPKG_INST</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed312c53ee8df33a8215a42b2d778323c15ef588\"><code>ed312c5</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Also poison SAGE_PKGCONFIG, SAGE_SPKG_SCRIPTS</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ee66dddccadf36476af10720f72cddaa158a501\"><code>6ee66dd</code></a></td><td><code>src/setup.py: Update comment (not specific to gcc)</code></td></tr></table>\n",
    "created_at": "2020-05-22T05:21:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461861",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1a9413b72a001482f3e7775e053853f3cd75f96"><code>e1a9413</code></a></td><td><code>Merge build/make/deps into build/make/Makefile.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da9538e59475e7069aeaca02d3e5bba257052193"><code>da9538e</code></a></td><td><code>Make sagelib a script package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9fd3f7eb0c06c880bdd957694acfc320234a1d62"><code>9fd3f7e</code></a></td><td><code>src/Makefile.in: Merge into build/make/Makefile.in, build/pkgs/sagelib/spkg-install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ea77e5552b49092cf3b51d5b46773b632d4e0f1"><code>9ea77e5</code></a></td><td><code>build/make/Makefile.in, build/pkgs/sagelib/dependencies: Make sure sagelib spkg-install is always run</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3908e9677eca92677e5dd5d5be19b38893200fa"><code>c3908e9</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Update references to tickets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62f2841785c6dcee69f0051f9083dbb1d69b27c5"><code>62f2841</code></a></td><td><code>Merge branch 't/29697/src_setup_py__src_sage_env_py__sage_include_directories___do_not_add_another_copy_of_sage_inc__sage_local_lib_to_include_dirs__library_dirs' into t/29411/make_sagelib_a_script_package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/048ce5bec8ec226cc4b3ef8752a999a19f52cfdc"><code>048ce5b</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Also poison environment variables SAGE_LOCAL etc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4590c4c08a9c2483b7352f3694a0dd47534ddce4"><code>4590c4c</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Add comment regarding SAGE_SPKG_INST</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed312c53ee8df33a8215a42b2d778323c15ef588"><code>ed312c5</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Also poison SAGE_PKGCONFIG, SAGE_SPKG_SCRIPTS</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ee66dddccadf36476af10720f72cddaa158a501"><code>6ee66dd</code></a></td><td><code>src/setup.py: Update comment (not specific to gcc)</code></td></tr></table>




---

archive/issue_events_401401.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-05-22T05:21:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401401"
}
```



---

archive/issue_events_401402.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-05-22T05:21:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401402"
}
```



---

archive/issue_comments_461862.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nRedone on top of new version of #29098",
    "created_at": "2020-05-22T05:21:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461862",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:35" align="right">comment:35</div>

Redone on top of new version of #29098



---

archive/issue_events_401403.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-22T05:21:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401403"
}
```



---

archive/issue_events_401404.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-22T05:21:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401404"
}
```



---

archive/issue_comments_461863.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nOh, I was just thinking about this.  Thanks for picking up the work.  This is something I've been wanting to do for years.",
    "created_at": "2020-05-28T15:40:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461863",
    "user": "https://github.com/embray"
}
```

<div id="comment:36" align="right">comment:36</div>

Oh, I was just thinking about this.  Thanks for picking up the work.  This is something I've been wanting to do for years.



---

archive/issue_events_401405.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-30T21:01:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401405"
}
```



---

archive/issue_events_401406.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-30T21:01:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401406"
}
```



---

archive/issue_comments_461864.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nI'm getting this on kucalk buildbot\n\n```\nmake[3]: Entering directory '/var/lib/buildbot/slave/sage_git/build/build/make'\ncd '/var/lib/buildbot/slave/sage_git/build' && source '/var/lib/buildbot/slave/sage_git/build/src/bin/sage-env' && source '/var/lib/buildbot/slave/sage_git/build/build/bin/sage-build-env-config' && sage-logger -p '/var/lib/buildbot/slave/sage_git/build/build/pkgs/sagelib/spkg-install' '/var/lib/buildbot/slave/sage_git/build/logs/pkgs/sagelib-9.1.rc5.log'\n[sagelib-9.1.rc5] /var/lib/buildbot/slave/sage_git/build/local/bin/pkg-config: line 16: /doesnotexist/bin/pkgconf: No such file or directory\n[sagelib-9.1.rc5] ************************************************************************\n[sagelib-9.1.rc5] Traceback (most recent call last):\n[sagelib-9.1.rc5]   File \"setup.py\", line 72, in <module>\n[sagelib-9.1.rc5]     from module_list import ext_modules, library_order\n[sagelib-9.1.rc5]   File \"/var/lib/buildbot/slave/sage_git/build/src/module_list.py\", line 14, in <module>\n[sagelib-9.1.rc5]     cblas_pc = pkgconfig.parse('cblas')\n[sagelib-9.1.rc5]   File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py\", line 248, in parse\n[sagelib-9.1.rc5]     _raise_if_not_exists(package)\n[sagelib-9.1.rc5]   File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py\", line 103, in _raise_if_not_exists\n[sagelib-9.1.rc5]     raise PackageNotFoundError(package)\n[sagelib-9.1.rc5] pkgconfig.pkgconfig.PackageNotFoundError: cblas not found\n[sagelib-9.1.rc5] ************************************************************************\n[sagelib-9.1.rc5] Error building the Sage library\n[sagelib-9.1.rc5] ************************************************************************\n[sagelib-9.1.rc5] Please email sage-devel (http://groups.google.com/group/sage-devel)\n[sagelib-9.1.rc5] explaining the problem and including the relevant part of the log file\n[sagelib-9.1.rc5]   /var/lib/buildbot/slave/sage_git/build/logs/pkgs/sagelib-9.2.beta0.log\n[sagelib-9.1.rc5] Describe your computer, operating system, etc.\n[sagelib-9.1.rc5] ************************************************************************\n[sagelib-9.1.rc5] \n[sagelib-9.1.rc5] real\t0m0.117s\n[sagelib-9.1.rc5] user\t0m0.100s\n[sagelib-9.1.rc5] sys\t0m0.012s\n```",
    "created_at": "2020-05-30T21:01:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461864",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:37" align="right">comment:37</div>

I'm getting this on kucalk buildbot

```
make[3]: Entering directory '/var/lib/buildbot/slave/sage_git/build/build/make'
cd '/var/lib/buildbot/slave/sage_git/build' && source '/var/lib/buildbot/slave/sage_git/build/src/bin/sage-env' && source '/var/lib/buildbot/slave/sage_git/build/build/bin/sage-build-env-config' && sage-logger -p '/var/lib/buildbot/slave/sage_git/build/build/pkgs/sagelib/spkg-install' '/var/lib/buildbot/slave/sage_git/build/logs/pkgs/sagelib-9.1.rc5.log'
[sagelib-9.1.rc5] /var/lib/buildbot/slave/sage_git/build/local/bin/pkg-config: line 16: /doesnotexist/bin/pkgconf: No such file or directory
[sagelib-9.1.rc5] ************************************************************************
[sagelib-9.1.rc5] Traceback (most recent call last):
[sagelib-9.1.rc5]   File "setup.py", line 72, in <module>
[sagelib-9.1.rc5]     from module_list import ext_modules, library_order
[sagelib-9.1.rc5]   File "/var/lib/buildbot/slave/sage_git/build/src/module_list.py", line 14, in <module>
[sagelib-9.1.rc5]     cblas_pc = pkgconfig.parse('cblas')
[sagelib-9.1.rc5]   File "/var/lib/buildbot/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py", line 248, in parse
[sagelib-9.1.rc5]     _raise_if_not_exists(package)
[sagelib-9.1.rc5]   File "/var/lib/buildbot/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py", line 103, in _raise_if_not_exists
[sagelib-9.1.rc5]     raise PackageNotFoundError(package)
[sagelib-9.1.rc5] pkgconfig.pkgconfig.PackageNotFoundError: cblas not found
[sagelib-9.1.rc5] ************************************************************************
[sagelib-9.1.rc5] Error building the Sage library
[sagelib-9.1.rc5] ************************************************************************
[sagelib-9.1.rc5] Please email sage-devel (http://groups.google.com/group/sage-devel)
[sagelib-9.1.rc5] explaining the problem and including the relevant part of the log file
[sagelib-9.1.rc5]   /var/lib/buildbot/slave/sage_git/build/logs/pkgs/sagelib-9.2.beta0.log
[sagelib-9.1.rc5] Describe your computer, operating system, etc.
[sagelib-9.1.rc5] ************************************************************************
[sagelib-9.1.rc5] 
[sagelib-9.1.rc5] real	0m0.117s
[sagelib-9.1.rc5] user	0m0.100s
[sagelib-9.1.rc5] sys	0m0.012s
```



---

archive/issue_comments_461865.json:
```json
{
    "body": "Changed commit from **[`6ee66dd`](https://github.com/sagemath/sagetrac-mirror/commit/6ee66dddccadf36476af10720f72cddaa158a501)** to **[`1cfed7c`](https://github.com/sagemath/sagetrac-mirror/commit/1cfed7c676bd72db6100d81df7f397cd8d2442f3)**",
    "created_at": "2020-06-02T03:02:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461865",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6ee66dd`](https://github.com/sagemath/sagetrac-mirror/commit/6ee66dddccadf36476af10720f72cddaa158a501)** to **[`1cfed7c`](https://github.com/sagemath/sagetrac-mirror/commit/1cfed7c676bd72db6100d81df7f397cd8d2442f3)**



---

archive/issue_comments_461866.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cfed7c676bd72db6100d81df7f397cd8d2442f3\"><code>1cfed7c</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Do not poison SAGE_LOCAL, used in script installed by spkg pkgconf</code></td></tr></table>\n",
    "created_at": "2020-06-02T03:02:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461866",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cfed7c676bd72db6100d81df7f397cd8d2442f3"><code>1cfed7c</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Do not poison SAGE_LOCAL, used in script installed by spkg pkgconf</code></td></tr></table>




---

archive/issue_events_401407.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-02T03:04:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401407"
}
```



---

archive/issue_events_401408.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-02T03:04:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401408"
}
```



---

archive/issue_comments_461867.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\n(simplification in follow-up ticket: #29779 pkg-config installed from SPKG pkgconf should not depend on environment variable SAGE_LOCAL)",
    "created_at": "2020-06-02T03:06:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461867",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:40" align="right">comment:40</div>

(simplification in follow-up ticket: #29779 pkg-config installed from SPKG pkgconf should not depend on environment variable SAGE_LOCAL)



---

archive/issue_comments_461868.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\n`kucalk buildbot` -> I read on sage-devel that people suspect it to be running with \n`--with-python=2`, which of course is meaningless with Sage 9.2+.\nPerhaps we should make `--with-python=2` trigger an error?",
    "created_at": "2020-06-02T09:07:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461868",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:41" align="right">comment:41</div>

`kucalk buildbot` -> I read on sage-devel that people suspect it to be running with 
`--with-python=2`, which of course is meaningless with Sage 9.2+.
Perhaps we should make `--with-python=2` trigger an error?



---

archive/issue_comments_461869.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@dimpase](#comment%3A41):\n> `kucalk buildbot` -> I read on sage-devel that people suspect it to be running with \n> `--with-python=2`, which of course is meaningless with Sage 9.2+.\n> Perhaps we should make `--with-python=2` trigger an error? \n\n#29669 makes it an error already.\n\nBut the above is unrelated to python 2 vs python 3. This error showed up on systems where no system pkg-config is available. Fixed by 1cfed7c.",
    "created_at": "2020-06-02T16:31:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461869",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@dimpase](#comment%3A41):
> `kucalk buildbot` -> I read on sage-devel that people suspect it to be running with 
> `--with-python=2`, which of course is meaningless with Sage 9.2+.
> Perhaps we should make `--with-python=2` trigger an error? 

#29669 makes it an error already.

But the above is unrelated to python 2 vs python 3. This error showed up on systems where no system pkg-config is available. Fixed by 1cfed7c.



---

archive/issue_comments_461870.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38b6bcfa65c52d0cc07d1eaf66ece3e6d586dc05\"><code>38b6bcf</code></a></td><td><code>Merge tag '9.2.beta0' into t/29411/make_sagelib_a_script_package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9a30f60f7bcd47b5e3c781f0ad625e315765cea\"><code>f9a30f6</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Fix up error exits</code></td></tr></table>\n",
    "created_at": "2020-06-04T00:52:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461870",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38b6bcfa65c52d0cc07d1eaf66ece3e6d586dc05"><code>38b6bcf</code></a></td><td><code>Merge tag '9.2.beta0' into t/29411/make_sagelib_a_script_package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9a30f60f7bcd47b5e3c781f0ad625e315765cea"><code>f9a30f6</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Fix up error exits</code></td></tr></table>




---

archive/issue_comments_461871.json:
```json
{
    "body": "Changed commit from **[`1cfed7c`](https://github.com/sagemath/sagetrac-mirror/commit/1cfed7c676bd72db6100d81df7f397cd8d2442f3)** to **[`f9a30f6`](https://github.com/sagemath/sagetrac-mirror/commit/f9a30f60f7bcd47b5e3c781f0ad625e315765cea)**",
    "created_at": "2020-06-04T00:52:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461871",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1cfed7c`](https://github.com/sagemath/sagetrac-mirror/commit/1cfed7c676bd72db6100d81df7f397cd8d2442f3)** to **[`f9a30f6`](https://github.com/sagemath/sagetrac-mirror/commit/f9a30f60f7bcd47b5e3c781f0ad625e315765cea)**



---

archive/issue_comments_461872.json:
```json
{
    "body": "Changed dependencies from **#29098, #29697** to **#29098, #29697, #29793**",
    "created_at": "2020-06-04T18:09:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461872",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29098, #29697** to **#29098, #29697, #29793**



---

archive/issue_events_401409.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-04T18:09:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401409"
}
```



---

archive/issue_events_401410.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-04T18:09:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401410"
}
```



---

archive/issue_comments_461873.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/305d8cfac37e6b110710d6b0892f00c3abce1a98\"><code>305d8cf</code></a></td><td><code>Trac #29345: replace a bash array with something portable.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0dff56f6bb004b32f07c067b653f966bd1f7569\"><code>d0dff56</code></a></td><td><code>Trac #29345: replace a few uses of \"source\" with \".\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ac420b15ac0e561e5e8f7f64bb9566a1b6e7890\"><code>5ac420b</code></a></td><td><code>Trac #29345: fix some bashisms in sage-env's resolvelinks() function.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a617950488b3945fb6f494cec8b50e8486bd9dd\"><code>0a61795</code></a></td><td><code>Trac #29345: don't force SHELL=bash any longer.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5db53186b9ae9a546bc78fc9107cc1af713b7e24\"><code>5db5318</code></a></td><td><code>Trac #29345: remove \"break\" statements from AC_SEARCH_LIBS.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e810ad1596d527c832bf43d3aac745407c9ba98d\"><code>e810ad1</code></a></td><td><code>Trac #29345: don't use sage's config.status for the lrcalc build.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93c9921cc5ff461cd1f02f441b46cea4400dcd85\"><code>93c9921</code></a></td><td><code>Trac #29345: replace the function that populates the CVXOPT_* variables.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e66a0abc00d5bf5ac1496e13f4d2f4ef7fe29dc\"><code>0e66a0a</code></a></td><td><code>Trac #29345: add Dima's SPKG patches for ksh compatibility.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df3f05e03ba671dd6be502ccae96d2a6162d29d4\"><code>df3f05e</code></a></td><td><code>build/make/Makefile.in [SCRIPT_PACKAGE_templ]: cd into the SPKG directory; adjust spkg-install scripts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5372065710668ae1b36d059c2cbf9b6f325239c7\"><code>5372065</code></a></td><td><code>Merge branch 't/29793/script_packages_should_cd_into_the_spkg_directory' into t/29411/make_sagelib_a_script_package</code></td></tr></table>\n",
    "created_at": "2020-06-04T18:15:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461873",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/305d8cfac37e6b110710d6b0892f00c3abce1a98"><code>305d8cf</code></a></td><td><code>Trac #29345: replace a bash array with something portable.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0dff56f6bb004b32f07c067b653f966bd1f7569"><code>d0dff56</code></a></td><td><code>Trac #29345: replace a few uses of "source" with "."</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ac420b15ac0e561e5e8f7f64bb9566a1b6e7890"><code>5ac420b</code></a></td><td><code>Trac #29345: fix some bashisms in sage-env's resolvelinks() function.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a617950488b3945fb6f494cec8b50e8486bd9dd"><code>0a61795</code></a></td><td><code>Trac #29345: don't force SHELL=bash any longer.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5db53186b9ae9a546bc78fc9107cc1af713b7e24"><code>5db5318</code></a></td><td><code>Trac #29345: remove "break" statements from AC_SEARCH_LIBS.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e810ad1596d527c832bf43d3aac745407c9ba98d"><code>e810ad1</code></a></td><td><code>Trac #29345: don't use sage's config.status for the lrcalc build.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93c9921cc5ff461cd1f02f441b46cea4400dcd85"><code>93c9921</code></a></td><td><code>Trac #29345: replace the function that populates the CVXOPT_* variables.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e66a0abc00d5bf5ac1496e13f4d2f4ef7fe29dc"><code>0e66a0a</code></a></td><td><code>Trac #29345: add Dima's SPKG patches for ksh compatibility.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df3f05e03ba671dd6be502ccae96d2a6162d29d4"><code>df3f05e</code></a></td><td><code>build/make/Makefile.in [SCRIPT_PACKAGE_templ]: cd into the SPKG directory; adjust spkg-install scripts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5372065710668ae1b36d059c2cbf9b6f325239c7"><code>5372065</code></a></td><td><code>Merge branch 't/29793/script_packages_should_cd_into_the_spkg_directory' into t/29411/make_sagelib_a_script_package</code></td></tr></table>




---

archive/issue_comments_461874.json:
```json
{
    "body": "Changed commit from **[`f9a30f6`](https://github.com/sagemath/sagetrac-mirror/commit/f9a30f60f7bcd47b5e3c781f0ad625e315765cea)** to **[`5372065`](https://github.com/sagemath/sagetrac-mirror/commit/5372065710668ae1b36d059c2cbf9b6f325239c7)**",
    "created_at": "2020-06-04T18:15:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461874",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f9a30f6`](https://github.com/sagemath/sagetrac-mirror/commit/f9a30f60f7bcd47b5e3c781f0ad625e315765cea)** to **[`5372065`](https://github.com/sagemath/sagetrac-mirror/commit/5372065710668ae1b36d059c2cbf9b6f325239c7)**



---

archive/issue_comments_461875.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nMerged in #29793 to resolve a merge conflict. Needs review",
    "created_at": "2020-06-04T18:16:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461875",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:46" align="right">comment:46</div>

Merged in #29793 to resolve a merge conflict. Needs review



---

archive/issue_events_401411.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-04T18:16:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401411"
}
```



---

archive/issue_events_401412.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-04T18:16:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401412"
}
```



---

archive/issue_comments_461876.json:
```json
{
    "body": "Changed commit from **[`5372065`](https://github.com/sagemath/sagetrac-mirror/commit/5372065710668ae1b36d059c2cbf9b6f325239c7)** to **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)**",
    "created_at": "2020-06-07T20:27:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461876",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5372065`](https://github.com/sagemath/sagetrac-mirror/commit/5372065710668ae1b36d059c2cbf9b6f325239c7)** to **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)**



---

archive/issue_comments_461877.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118\"><code>cc30471</code></a></td><td><code>build/bin/write-dockerfile.sh: Do not ADD removed file src/Makefile.in</code></td></tr></table>\n",
    "created_at": "2020-06-07T20:27:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461877",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118"><code>cc30471</code></a></td><td><code>build/bin/write-dockerfile.sh: Do not ADD removed file src/Makefile.in</code></td></tr></table>




---

archive/issue_comments_461878.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nAh, that's why this was failing on [GitHub](../wiki/GitHub) runs!",
    "created_at": "2020-06-07T20:28:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461878",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:48" align="right">comment:48</div>

Ah, that's why this was failing on [GitHub](../wiki/GitHub) runs!



---

archive/issue_comments_461879.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nReady for review...",
    "created_at": "2020-06-10T20:21:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461879",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:49" align="right">comment:49</div>

Ready for review...



---

archive/issue_comments_461880.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nwhy do I see `[sagelib-9.1.rc5]` while building, even though\n\n```\n$ cat VERSION.txt \nSageMath version 9.2.beta0, Release Date: 2020-05-28\n```",
    "created_at": "2020-06-12T08:54:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461880",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:50" align="right">comment:50</div>

why do I see `[sagelib-9.1.rc5]` while building, even though

```
$ cat VERSION.txt 
SageMath version 9.2.beta0, Release Date: 2020-05-28
```



---

archive/issue_comments_461881.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nWhen this ticket is merged, `src/bin/sage-update-version` will update `build/pkgs/sagelib/package-version.txt`, where this comes from",
    "created_at": "2020-06-12T10:59:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461881",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">comment:51</div>

When this ticket is merged, `src/bin/sage-update-version` will update `build/pkgs/sagelib/package-version.txt`, where this comes from



---

archive/issue_comments_461882.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nOK",
    "created_at": "2020-06-12T14:12:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461882",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:52" align="right">comment:52</div>

OK



---

archive/issue_events_401413.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-12T14:12:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401413"
}
```



---

archive/issue_events_401414.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-12T14:12:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401414"
}
```



---

archive/issue_comments_461883.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nThanks!",
    "created_at": "2020-06-12T17:35:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461883",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:53" align="right">comment:53</div>

Thanks!



---

archive/issue_comments_461884.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nrebased over rebased #29793\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa206bf10df74bf322ea2616ebdf4596c96f69e4\"><code>aa206bf</code></a></td><td><code>src/Makefile.in: Merge into build/make/Makefile.in, build/pkgs/sagelib/spkg-install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e052741e3b41fe9373b6b68faefc19e25ff97567\"><code>e052741</code></a></td><td><code>build/make/Makefile.in, build/pkgs/sagelib/dependencies: Make sure sagelib spkg-install is always run</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e19861fbf54670d6b7f4bff955e80a4943cc56c\"><code>1e19861</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Update references to tickets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6ee516aa750c12d276ab9e60fc7510a709f05e9\"><code>d6ee516</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Also poison environment variables SAGE_LOCAL etc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a4b60d0f5f89360acd15fcf8107f9c22df93248\"><code>8a4b60d</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Add comment regarding SAGE_SPKG_INST</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4071eebd0aa7a71f78cce6840ab8c8de1286b7e0\"><code>4071eeb</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Also poison SAGE_PKGCONFIG, SAGE_SPKG_SCRIPTS</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1707161f1508f5ea0524b47e54f17a6de35e1848\"><code>1707161</code></a></td><td><code>src/setup.py: Update comment (not specific to gcc)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/985bfca7e63a419a7a0c185953a8c453fab2423d\"><code>985bfca</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Do not poison SAGE_LOCAL, used in script installed by spkg pkgconf</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b212ce8c65236d0b91713a9482d1de3ef6294310\"><code>b212ce8</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Fix up error exits</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5790687b9dbf244e1c6d49b42481d552e2d5537f\"><code>5790687</code></a></td><td><code>build/bin/write-dockerfile.sh: Do not ADD removed file src/Makefile.in</code></td></tr></table>\n",
    "created_at": "2020-06-15T12:25:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461884",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:54" align="right">comment:54</div>

rebased over rebased #29793

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa206bf10df74bf322ea2616ebdf4596c96f69e4"><code>aa206bf</code></a></td><td><code>src/Makefile.in: Merge into build/make/Makefile.in, build/pkgs/sagelib/spkg-install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e052741e3b41fe9373b6b68faefc19e25ff97567"><code>e052741</code></a></td><td><code>build/make/Makefile.in, build/pkgs/sagelib/dependencies: Make sure sagelib spkg-install is always run</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e19861fbf54670d6b7f4bff955e80a4943cc56c"><code>1e19861</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Update references to tickets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6ee516aa750c12d276ab9e60fc7510a709f05e9"><code>d6ee516</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Also poison environment variables SAGE_LOCAL etc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a4b60d0f5f89360acd15fcf8107f9c22df93248"><code>8a4b60d</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Add comment regarding SAGE_SPKG_INST</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4071eebd0aa7a71f78cce6840ab8c8de1286b7e0"><code>4071eeb</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Also poison SAGE_PKGCONFIG, SAGE_SPKG_SCRIPTS</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1707161f1508f5ea0524b47e54f17a6de35e1848"><code>1707161</code></a></td><td><code>src/setup.py: Update comment (not specific to gcc)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/985bfca7e63a419a7a0c185953a8c453fab2423d"><code>985bfca</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Do not poison SAGE_LOCAL, used in script installed by spkg pkgconf</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b212ce8c65236d0b91713a9482d1de3ef6294310"><code>b212ce8</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Fix up error exits</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5790687b9dbf244e1c6d49b42481d552e2d5537f"><code>5790687</code></a></td><td><code>build/bin/write-dockerfile.sh: Do not ADD removed file src/Makefile.in</code></td></tr></table>




---

archive/issue_comments_461885.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/make_sagelib_a_script_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/make_sagelib_a_script_package)** to **[public/make_sagelib_a_script_package](https://github.com/sagemath/sagetrac-mirror/tree/public/make_sagelib_a_script_package)**",
    "created_at": "2020-06-15T12:25:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461885",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/mkoeppe/make_sagelib_a_script_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/make_sagelib_a_script_package)** to **[public/make_sagelib_a_script_package](https://github.com/sagemath/sagetrac-mirror/tree/public/make_sagelib_a_script_package)**



---

archive/issue_comments_461886.json:
```json
{
    "body": "Changed commit from **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)** to **[`5790687`](https://github.com/sagemath/sagetrac-mirror/commit/5790687b9dbf244e1c6d49b42481d552e2d5537f)**",
    "created_at": "2020-06-15T12:25:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461886",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)** to **[`5790687`](https://github.com/sagemath/sagetrac-mirror/commit/5790687b9dbf244e1c6d49b42481d552e2d5537f)**



---

archive/issue_comments_461887.json:
```json
{
    "body": "Changed commit from **[`5790687`](https://github.com/sagemath/sagetrac-mirror/commit/5790687b9dbf244e1c6d49b42481d552e2d5537f)** to **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)**",
    "created_at": "2020-06-15T16:27:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461887",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`5790687`](https://github.com/sagemath/sagetrac-mirror/commit/5790687b9dbf244e1c6d49b42481d552e2d5537f)** to **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)**



---

archive/issue_comments_461888.json:
```json
{
    "body": "Changed branch from **[public/make_sagelib_a_script_package](https://github.com/sagemath/sagetrac-mirror/tree/public/make_sagelib_a_script_package)** to **[u/mkoeppe/make_sagelib_a_script_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/make_sagelib_a_script_package)**",
    "created_at": "2020-06-15T16:27:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461888",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[public/make_sagelib_a_script_package](https://github.com/sagemath/sagetrac-mirror/tree/public/make_sagelib_a_script_package)** to **[u/mkoeppe/make_sagelib_a_script_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/make_sagelib_a_script_package)**



---

archive/issue_comments_461889.json:
```json
{
    "body": "Changed commit from **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)** to **[`539c182`](https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90)**",
    "created_at": "2020-06-25T07:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461889",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)** to **[`539c182`](https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90)**



---

archive/issue_events_401415.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-06-25T07:36:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401415"
}
```



---

archive/issue_events_401416.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-06-25T07:36:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401416"
}
```



---

archive/issue_comments_461890.json:
```json
{
    "body": "<div id=\"comment:56\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90\"><code>539c182</code></a></td><td><code>build/make/install: Do not depend on src/bin/sage-version.sh</code></td></tr></table>\n",
    "created_at": "2020-06-25T07:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461890",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90"><code>539c182</code></a></td><td><code>build/make/install: Do not depend on src/bin/sage-version.sh</code></td></tr></table>




---

archive/issue_events_401417.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-25T07:37:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401417"
}
```



---

archive/issue_events_401418.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-25T07:37:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401418"
}
```



---

archive/issue_comments_461891.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nPushed to wrong ticket, sorry",
    "created_at": "2020-06-25T07:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461891",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:57" align="right">comment:57</div>

Pushed to wrong ticket, sorry



---

archive/issue_comments_461892.json:
```json
{
    "body": "Changed commit from **[`539c182`](https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90)** to **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)**",
    "created_at": "2020-06-25T07:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461892",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`539c182`](https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90)** to **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)**



---

archive/issue_events_401419.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-06-25T07:38:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401419"
}
```



---

archive/issue_events_401420.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-06-25T07:38:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401420"
}
```



---

archive/issue_comments_461893.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:",
    "created_at": "2020-06-25T07:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461893",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:



---

archive/issue_events_401421.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-25T07:39:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401421"
}
```



---

archive/issue_events_401422.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-25T07:39:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401422"
}
```



---

archive/issue_events_401423.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-02T21:30:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401423"
}
```



---

archive/issue_events_401424.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0bcd001f760ff724832c32b4f65fa575fd82e000",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-07-02T21:30:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29411#event-401424"
}
```



---

archive/issue_comments_461894.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/make_sagelib_a_script_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/make_sagelib_a_script_package)** to **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)**",
    "created_at": "2020-07-02T21:30:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461894",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/make_sagelib_a_script_package](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/make_sagelib_a_script_package)** to **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)**



---

archive/issue_comments_461895.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nthis has caused a [breakage of jupyter notebook/server](https://groups.google.com/forum/?utm_medium=email&utm_source=footer#!msg/sage-devel/mWTD0_iBwKc/SDZa965UAQAJ). Apparently some of its dependencies get  \"blessed\"\nby `./sage -b`, but no longer get blessed by `make build`.\n\n---\n\nRunning 'make build' on that ticket's commit in the develop branch (0bcd001f760ff724832c32b4f65fa575fd82e000 make sagelib a script package) produces the error for me whereas doing so on the immediately previous commit (10fb62408a9761bf91a95d9eb7d7f16a104924c7 Trac #29289: Remove support for installing old-style SPKGs, deprecated in Sage 6.9) does not. Interestingly, it's been sort of hit-and-miss on whether the error shows up when doing just a './sage -b'.\n\n\nOn Saturday, July 11, 2020 at 5:26:02 PM UTC-7, Paul Masson wrote:\n\n    Just built a ticket based on 9.2.beta3 and the same problem occurs.\n\n    On Saturday, July 11, 2020 at 4:09:56 PM UTC-7, Paul Masson wrote:\n\n        After a successful incremental build from 9.2.beta2, trying to start a new notebook results in the browser console error \"Failed to load resource: the server responded with a status of 404 (Not Found)\" when trying to fetch Mathjax from http://localhost:8888/nbextensions/mathjax/MathJax.js. Has anyone other than Dima seen this also?\n\n        This appears to be a serious server configuration error. I don't see any ticket in either this beta or the previous one that would cause this. Am I missing some new configuration step? Sage built and runs just fine.",
    "created_at": "2020-07-12T09:24:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461895",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:61" align="right">comment:61</div>

this has caused a [breakage of jupyter notebook/server](https://groups.google.com/forum/?utm_medium=email&utm_source=footer#!msg/sage-devel/mWTD0_iBwKc/SDZa965UAQAJ). Apparently some of its dependencies get  "blessed"
by `./sage -b`, but no longer get blessed by `make build`.

---

Running 'make build' on that ticket's commit in the develop branch (0bcd001f760ff724832c32b4f65fa575fd82e000 make sagelib a script package) produces the error for me whereas doing so on the immediately previous commit (10fb62408a9761bf91a95d9eb7d7f16a104924c7 Trac #29289: Remove support for installing old-style SPKGs, deprecated in Sage 6.9) does not. Interestingly, it's been sort of hit-and-miss on whether the error shows up when doing just a './sage -b'.


On Saturday, July 11, 2020 at 5:26:02 PM UTC-7, Paul Masson wrote:

    Just built a ticket based on 9.2.beta3 and the same problem occurs.

    On Saturday, July 11, 2020 at 4:09:56 PM UTC-7, Paul Masson wrote:

        After a successful incremental build from 9.2.beta2, trying to start a new notebook results in the browser console error "Failed to load resource: the server responded with a status of 404 (Not Found)" when trying to fetch Mathjax from http://localhost:8888/nbextensions/mathjax/MathJax.js. Has anyone other than Dima seen this also?

        This appears to be a serious server configuration error. I don't see any ticket in either this beta or the previous one that would cause this. Am I missing some new configuration step? Sage built and runs just fine.



---

archive/issue_comments_461896.json:
```json
{
    "body": "Changed commit from **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)** to none",
    "created_at": "2020-07-12T09:24:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461896",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`cc30471`](https://github.com/sagemath/sagetrac-mirror/commit/cc304711ef42f25733f1ca861801d87f58fa1118)** to none



---

archive/issue_comments_461897.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nThis is now #30123",
    "created_at": "2020-07-12T18:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461897",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:62" align="right">comment:62</div>

This is now #30123



---

archive/issue_comments_461898.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nThis broke `sage -b`: it wants to run `make` in a directory with no `Makefile`.",
    "created_at": "2020-07-16T03:13:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29411#issuecomment-461898",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:63" align="right">comment:63</div>

This broke `sage -b`: it wants to run `make` in a directory with no `Makefile`.
