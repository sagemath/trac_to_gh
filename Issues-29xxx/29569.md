# Issue 29569: Obtain polar with both Vrep and Hrep (if backend supports it)

archive/issues_029332.json:
```json
{
    "body": "We obtain the polar with both Vrep and Hrep to speed things up.\n\nAlong the way we optimize `translation` a bit in the spirit of #28866 and we outsource obtaining the new double description from this method.\n\nNow one can obtain the new data with `_translation_double_description` without actually creating anything.\n\nCC:  @jplab @laisrast\n\nKeywords: polar, polytopes\n\nBranch/Commit: c4f9dbac6a8eeb3a77384a46fd06d9ce0ffdc3ee\n\nReviewer: Jean-Philippe Labb\u00e9\n\nAuthor: Jonathan Kliem\n\nDependencies: #29568\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29569\n\n",
    "closed_at": "2020-05-26T21:43:49Z",
    "created_at": "2020-04-24T14:30:37Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Obtain polar with both Vrep and Hrep (if backend supports it)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29569",
    "user": "https://github.com/kliem"
}
```
We obtain the polar with both Vrep and Hrep to speed things up.

Along the way we optimize `translation` a bit in the spirit of #28866 and we outsource obtaining the new double description from this method.

Now one can obtain the new data with `_translation_double_description` without actually creating anything.

CC:  @jplab @laisrast

Keywords: polar, polytopes

Branch/Commit: c4f9dbac6a8eeb3a77384a46fd06d9ce0ffdc3ee

Reviewer: Jean-Philippe Labb√©

Author: Jonathan Kliem

Dependencies: #29568

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29569





---

archive/issue_comments_415399.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2020-04-24T15:00:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415399",
    "user": "https://github.com/kliem"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_415400.json:
```json
{
    "body": "<a id='comment:4'></a>Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415400",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_events_075466.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29569#event-75466"
}
```



---

archive/issue_comments_415401.json:
```json
{
    "body": "<a id='comment:5'></a>New commits:",
    "created_at": "2020-05-05T14:25:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415401",
    "user": "https://github.com/kliem"
}
```

<a id='comment:5'></a>New commits:



---

archive/issue_comments_415402.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-05-05T14:25:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415402",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_415403.json:
```json
{
    "body": "<a id='comment:6'></a>New commits:",
    "created_at": "2020-05-11T08:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415403",
    "user": "https://github.com/kliem"
}
```

<a id='comment:6'></a>New commits:



---

archive/issue_comments_415404.json:
```json
{
    "body": "<a id='comment:7'></a>About the bug that you mentioned, it is really a bug?\n\nI am asking because \"polar\" means different things depending on which corner of the street you stand at...\n\n```\nsage: p = LatticePolytope([[1,0],[0,1],[-1,-1]])\nsage: p\n2-d reflexive polytope #0 in 2-d lattice M\nsage: p.polar()\n2-d reflexive polytope #15 in 2-d lattice N\nsage: p.polar().vertices()\nN( 2, -1),\nN(-1,  2),\nN(-1, -1)\nin 2-d lattice N\n```",
    "created_at": "2020-05-11T13:57:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415404",
    "user": "https://github.com/jplab"
}
```

<a id='comment:7'></a>About the bug that you mentioned, it is really a bug?

I am asking because "polar" means different things depending on which corner of the street you stand at...

```
sage: p = LatticePolytope([[1,0],[0,1],[-1,-1]])
sage: p
2-d reflexive polytope #0 in 2-d lattice M
sage: p.polar()
2-d reflexive polytope #15 in 2-d lattice N
sage: p.polar().vertices()
N( 2, -1),
N(-1,  2),
N(-1, -1)
in 2-d lattice N
```



---

archive/issue_comments_415405.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-05-11T14:02:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415405",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_415406.json:
```json
{
    "body": "<a id='comment:8'></a>In the tutorial, it would be good to still have an example where it really still gives an error. There is likely such an example in the library (see those that are forced to be exact).\n\nI would then keep a error and a warning in the tutorial to maintain an up-to-date document.",
    "created_at": "2020-05-11T14:02:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415406",
    "user": "https://github.com/jplab"
}
```

<a id='comment:8'></a>In the tutorial, it would be good to still have an example where it really still gives an error. There is likely such an example in the library (see those that are forced to be exact).

I would then keep a error and a warning in the tutorial to maintain an up-to-date document.



---

archive/issue_comments_415407.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:7 jipilab]:\n> About the bug that you mentioned, it is really a bug?\n> \n> I am asking because \"polar\" means different things depending on which corner of the street you stand at...\n> \n> \n> ```\n> sage: p = LatticePolytope([[1,0],[0,1],[-1,-1]])\n> sage: p\n> 2-d reflexive polytope #0 in 2-d lattice M\n> sage: p.polar()\n> 2-d reflexive polytope #15 in 2-d lattice N\n> sage: p.polar().vertices()\n> N( 2, -1),\n> N(-1,  2),\n> N(-1, -1)\n> in 2-d lattice N\n> ```\n\n\nThanks for checking this. No it's not a bug. It's exactly the output described in `OUTPUT`.\n\nIt's still confusing. But this ticket shouldn't be about making things more uniform.",
    "created_at": "2020-05-11T14:07:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415407",
    "user": "https://github.com/kliem"
}
```

<a id='comment:9'></a>Replying to [comment:7 jipilab]:
> About the bug that you mentioned, it is really a bug?
> 
> I am asking because "polar" means different things depending on which corner of the street you stand at...
> 
> 
> ```
> sage: p = LatticePolytope([[1,0],[0,1],[-1,-1]])
> sage: p
> 2-d reflexive polytope #0 in 2-d lattice M
> sage: p.polar()
> 2-d reflexive polytope #15 in 2-d lattice N
> sage: p.polar().vertices()
> N( 2, -1),
> N(-1,  2),
> N(-1, -1)
> in 2-d lattice N
> ```


Thanks for checking this. No it's not a bug. It's exactly the output described in `OUTPUT`.

It's still confusing. But this ticket shouldn't be about making things more uniform.



---

archive/issue_comments_415408.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-11T15:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415408",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415409.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-05-11T15:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415409",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_415410.json:
```json
{
    "body": "<a id='comment:13'></a>The fix in the last commit means that it was no passing the tests? It would also be nice to have the \"warning\" case and the \"error\" case if we can find the two in the library for example.",
    "created_at": "2020-05-11T15:13:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415410",
    "user": "https://github.com/jplab"
}
```

<a id='comment:13'></a>The fix in the last commit means that it was no passing the tests? It would also be nice to have the "warning" case and the "error" case if we can find the two in the library for example.



---

archive/issue_comments_415411.json:
```json
{
    "body": "<a id='comment:14'></a>If you sort it, you get an error. If you don't sort it, you get a warning.",
    "created_at": "2020-05-11T15:15:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415411",
    "user": "https://github.com/kliem"
}
```

<a id='comment:14'></a>If you sort it, you get an error. If you don't sort it, you get a warning.



---

archive/issue_comments_415412.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-11T15:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415413.json:
```json
{
    "body": "<a id='comment:16'></a>Now I'm giving both examples.",
    "created_at": "2020-05-11T15:32:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415413",
    "user": "https://github.com/kliem"
}
```

<a id='comment:16'></a>Now I'm giving both examples.



---

archive/issue_comments_415414.json:
```json
{
    "body": "<a id='comment:17'></a>Looks good to me now. The code styles are fixed in a different ticket.",
    "created_at": "2020-05-12T10:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415414",
    "user": "https://github.com/jplab"
}
```

<a id='comment:17'></a>Looks good to me now. The code styles are fixed in a different ticket.



---

archive/issue_comments_415415.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-05-12T10:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415415",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_415416.json:
```json
{
    "body": "<a id='comment:18'></a>Thank you.",
    "created_at": "2020-05-12T10:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415416",
    "user": "https://github.com/kliem"
}
```

<a id='comment:18'></a>Thank you.



---

archive/issue_comments_415417.json:
```json
{
    "body": "<a id='comment:19'></a>`@`jipilab: Are you ware that the first commit of this ticket is actually #29568.",
    "created_at": "2020-05-12T10:54:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415417",
    "user": "https://github.com/kliem"
}
```

<a id='comment:19'></a>`@`jipilab: Are you ware that the first commit of this ticket is actually #29568.



---

archive/issue_comments_415418.json:
```json
{
    "body": "<a id='comment:20'></a>Replying to [comment:19 gh-kliem]:\n> `@`jipilab: Are you ware that the first commit of this ticket is actually #29568.\n\n\nI missed that. I'll have a look.",
    "created_at": "2020-05-12T11:39:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415418",
    "user": "https://github.com/jplab"
}
```

<a id='comment:20'></a>Replying to [comment:19 gh-kliem]:
> `@`jipilab: Are you ware that the first commit of this ticket is actually #29568.


I missed that. I'll have a look.



---

archive/issue_comments_415419.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-05-26T21:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29569#issuecomment-415419",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_075467.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-26T21:43:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29569",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29569#event-75467"
}
```
