# Issue 29316: Require ./configure before make

archive/issues_029079.json:
```json
{
    "assignees": [],
    "body": "With #27351, `configure` suggests a list of system packages to install.\nThe printed messages are easy to miss if users rely on `make` to invoke `configure`.\n\nIn this ticket, we make it an error to invoke `make` on an un-`configure`d source tree.\n\nsage-devel discussion (April 2020):\n- https://groups.google.com/d/msg/sage-devel/9gOkmF6rSjY/wEV4WBQABwAJ\n\n**CC:**  @dimpase @vbraun @jhpalmieri\n\n**Branch/Commit:** [5ef691043410cbdec2374364306e3792fd0323ca](https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca)\n\n**Reviewer:** Dima Pasechnik, John Palmieri\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/29316\n\n",
    "closed_at": "2020-06-22T22:34:22Z",
    "created_at": "2020-03-11T18:47:25Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Require ./configure before make",
    "type": "issue",
    "updated_at": "2020-06-22T22:34:22Z",
    "url": "https://github.com/sagemath/sage/issues/29316",
    "user": "https://github.com/mkoeppe"
}
```
With #27351, `configure` suggests a list of system packages to install.
The printed messages are easy to miss if users rely on `make` to invoke `configure`.

In this ticket, we make it an error to invoke `make` on an un-`configure`d source tree.

sage-devel discussion (April 2020):
- https://groups.google.com/d/msg/sage-devel/9gOkmF6rSjY/wEV4WBQABwAJ

**CC:**  @dimpase @vbraun @jhpalmieri

**Branch/Commit:** [5ef691043410cbdec2374364306e3792fd0323ca](https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca)

**Reviewer:** Dima Pasechnik, John Palmieri

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/29316





---

archive/issue_events_353603.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-11T18:47:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353603"
}
```



---

archive/issue_events_353604.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-11T18:47:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "08517b",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353604"
}
```



---

archive/issue_events_353605.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-11T18:47:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353605"
}
```



---

archive/issue_events_353606.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:12:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353606"
}
```



---

archive/issue_events_353607.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:12:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353607"
}
```



---

archive/issue_comments_462665.json:
```json
{
    "body": "<a id='comment:2'></a>\nI just started a discussion about this on sage-devel. This ticket could be expanded, or could be part of a family of tickets, which move all calls to `./configure` out of `Makefile`. Then this would solve #29310 and maybe some other tickets with `./configure` running too frequently.",
    "created_at": "2020-04-18T20:55:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462665",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
I just started a discussion about this on sage-devel. This ticket could be expanded, or could be part of a family of tickets, which move all calls to `./configure` out of `Makefile`. Then this would solve #29310 and maybe some other tickets with `./configure` running too frequently.



---

archive/issue_comments_462666.json:
```json
{
    "body": "<a id='comment:3'></a>\nAh, ok. Now I see there's actually a rationale for having it an error to run make without configure because you WANT it to be a manual process. It remains that there are plenty of sub-configures run by sage's make anyway.",
    "created_at": "2020-04-18T21:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462666",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:3'></a>
Ah, ok. Now I see there's actually a rationale for having it an error to run make without configure because you WANT it to be a manual process. It remains that there are plenty of sub-configures run by sage's make anyway.



---

archive/issue_comments_462667.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,3 +3,5 @@\n \n In this ticket, we make it an error to invoke `make` on an un-`configure`d source tree.\n \n+sage-devel discussion (April 2020):\n+- https://groups.google.com/d/msg/sage-devel/9gOkmF6rSjY/wEV4WBQABwAJ\n``````\n",
    "created_at": "2020-04-18T21:29:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462667",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,3 +3,5 @@
 
 In this ticket, we make it an error to invoke `make` on an un-`configure`d source tree.
 
+sage-devel discussion (April 2020):
+- https://groups.google.com/d/msg/sage-devel/9gOkmF6rSjY/wEV4WBQABwAJ
``````




---

archive/issue_comments_462668.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/require___configure_before_make](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/require___configure_before_make)",
    "created_at": "2020-04-19T01:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462668",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/require___configure_before_make](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/require___configure_before_make)



---

archive/issue_comments_462669.json:
```json
{
    "body": "**Commit:** [53361d7b19851177664df2bc23d346af6ca0f8a2](https://github.com/sagemath/sagetrac-mirror/commit/53361d7b19851177664df2bc23d346af6ca0f8a2)",
    "created_at": "2020-04-19T01:18:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462669",
    "user": "https://github.com/dimpase"
}
```

**Commit:** [53361d7b19851177664df2bc23d346af6ca0f8a2](https://github.com/sagemath/sagetrac-mirror/commit/53361d7b19851177664df2bc23d346af6ca0f8a2)



---

archive/issue_comments_462670.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [@nbruin](#comment%3A3):\n> Ah, ok. Now I see there's actually a rationale for having it an error to run make without configure because you WANT it to be a manual process. It remains that there are plenty of sub-configures run by sage's make anyway.\n\nsub-configures prepare other makefiles, not the main makefile, so this is not recursive, as opposed to what we have at the top level now, where we basically run `make && ./configure` in a loop until we reach a stable point, from which we can `make`.  \n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a439974a5d904a050123ae5ee7b97607cd35aa34\">a439974</a></td><td><code>Makefile: Exit with error if not configured</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53361d7b19851177664df2bc23d346af6ca0f8a2\">53361d7</a></td><td><code>src/doc/en/installation/source.rst: Get rid of SAGE_PORT</code></td></tr></table>\n",
    "created_at": "2020-04-19T01:18:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462670",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
Replying to [@nbruin](#comment%3A3):
> Ah, ok. Now I see there's actually a rationale for having it an error to run make without configure because you WANT it to be a manual process. It remains that there are plenty of sub-configures run by sage's make anyway.

sub-configures prepare other makefiles, not the main makefile, so this is not recursive, as opposed to what we have at the top level now, where we basically run `make && ./configure` in a loop until we reach a stable point, from which we can `make`.  

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a439974a5d904a050123ae5ee7b97607cd35aa34">a439974</a></td><td><code>Makefile: Exit with error if not configured</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53361d7b19851177664df2bc23d346af6ca0f8a2">53361d7</a></td><td><code>src/doc/en/installation/source.rst: Get rid of SAGE_PORT</code></td></tr></table>




---

archive/issue_comments_462671.json:
```json
{
    "body": "<a id='comment:7'></a>\nI'd have left SAGE_PORT stuff in place.",
    "created_at": "2020-04-19T14:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462671",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
I'd have left SAGE_PORT stuff in place.



---

archive/issue_comments_462672.json:
```json
{
    "body": "<a id='comment:8'></a>\nSAGE_PORT does not work at all anyway because if configure exits with an error, all the required config files are not written!",
    "created_at": "2020-04-19T14:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462672",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
SAGE_PORT does not work at all anyway because if configure exits with an error, all the required config files are not written!



---

archive/issue_comments_462673.json:
```json
{
    "body": "<a id='comment:9'></a>\nIf you prefer, we can push the SAGE_PORT removal to another ticket and merge in 9.1 already",
    "created_at": "2020-04-19T14:59:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462673",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
If you prefer, we can push the SAGE_PORT removal to another ticket and merge in 9.1 already



---

archive/issue_comments_462674.json:
```json
{
    "body": "<a id='comment:10'></a>\nOK, can we have it in 9.1?",
    "created_at": "2020-04-19T15:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462674",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
OK, can we have it in 9.1?



---

archive/issue_events_353608.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-19T15:49:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353608"
}
```



---

archive/issue_events_353609.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-19T15:49:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353609"
}
```



---

archive/issue_events_353610.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-19T15:49:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353610"
}
```



---

archive/issue_comments_462675.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2020-04-19T15:53:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462675",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_462676.json:
```json
{
    "body": "<a id='comment:12'></a>\nI actually meant to merge the SAGE_PORT removal in 9.1\nand \"require ./configure before make\" in 9.2.",
    "created_at": "2020-04-19T15:54:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462676",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
I actually meant to merge the SAGE_PORT removal in 9.1
and "require ./configure before make" in 9.2.



---

archive/issue_comments_462677.json:
```json
{
    "body": "<a id='comment:13'></a>\nany reason to delay \"./configure before make\" ?",
    "created_at": "2020-04-19T16:01:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462677",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'></a>
any reason to delay "./configure before make" ?



---

archive/issue_comments_462678.json:
```json
{
    "body": "<a id='comment:14'></a>\nIt's a change in how developers work, and I think it would be better to have a full beta cycle to test it and get people used to it.",
    "created_at": "2020-04-19T18:24:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462678",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:14'></a>
It's a change in how developers work, and I think it would be better to have a full beta cycle to test it and get people used to it.



---

archive/issue_comments_462679.json:
```json
{
    "body": "<a id='comment:15'></a>\nI agree with John. I've created #29533 for SAGE_PORT.",
    "created_at": "2020-04-19T18:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462679",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
I agree with John. I've created #29533 for SAGE_PORT.



---

archive/issue_comments_462680.json:
```json
{
    "body": "**Work Issues:** rebase on top of #29533",
    "created_at": "2020-04-19T18:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462680",
    "user": "https://github.com/mkoeppe"
}
```

**Work Issues:** rebase on top of #29533



---

archive/issue_events_353611.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-19T18:45:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353611"
}
```



---

archive/issue_events_353612.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-19T18:45:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353612"
}
```



---

archive/issue_events_353613.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-19T18:45:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353613"
}
```



---

archive/issue_events_353614.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-19T18:45:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353614"
}
```



---

archive/issue_comments_462681.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9758e913c383301c6937dc98d3566a8784dd133\">c9758e9</a></td><td><code>Makefile, src/doc/en/installation/source.rst: Remove defunct SAGE_PORT mechanism</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee97240b7f16a7c2642121cd08a4d095ca648fd6\">ee97240</a></td><td><code>Makefile: Exit with error if not configured</code></td></tr></table>\n",
    "created_at": "2020-04-21T00:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462681",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9758e913c383301c6937dc98d3566a8784dd133">c9758e9</a></td><td><code>Makefile, src/doc/en/installation/source.rst: Remove defunct SAGE_PORT mechanism</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee97240b7f16a7c2642121cd08a4d095ca648fd6">ee97240</a></td><td><code>Makefile: Exit with error if not configured</code></td></tr></table>




---

archive/issue_comments_462682.json:
```json
{
    "body": "**Changing commit** from \"[53361d7b19851177664df2bc23d346af6ca0f8a2](https://github.com/sagemath/sagetrac-mirror/commit/53361d7b19851177664df2bc23d346af6ca0f8a2)\" to \"[ee97240b7f16a7c2642121cd08a4d095ca648fd6](https://github.com/sagemath/sagetrac-mirror/commit/ee97240b7f16a7c2642121cd08a4d095ca648fd6)\".",
    "created_at": "2020-04-21T00:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462682",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[53361d7b19851177664df2bc23d346af6ca0f8a2](https://github.com/sagemath/sagetrac-mirror/commit/53361d7b19851177664df2bc23d346af6ca0f8a2)" to "[ee97240b7f16a7c2642121cd08a4d095ca648fd6](https://github.com/sagemath/sagetrac-mirror/commit/ee97240b7f16a7c2642121cd08a4d095ca648fd6)".



---

archive/issue_comments_462683.json:
```json
{
    "body": "**Changing work issues** from \"rebase on top of #29533\" to \"\".",
    "created_at": "2020-04-21T00:45:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462683",
    "user": "https://github.com/mkoeppe"
}
```

**Changing work issues** from "rebase on top of #29533" to "".



---

archive/issue_events_353615.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-21T00:45:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353615"
}
```



---

archive/issue_events_353616.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-21T00:45:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353616"
}
```



---

archive/issue_comments_462684.json:
```json
{
    "body": "**Dependencies:** #29533",
    "created_at": "2020-04-21T00:45:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462684",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #29533



---

archive/issue_comments_462685.json:
```json
{
    "body": "<a id='comment:19'></a>\nIt works with a fresh tarball, but I'm a little surprised that after `make distclean`, running `make` does not produce the error message. I guess `make distclean` doesn't delete `config.status`. Should it?",
    "created_at": "2020-04-22T17:52:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462685",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:19'></a>
It works with a fresh tarball, but I'm a little surprised that after `make distclean`, running `make` does not produce the error message. I guess `make distclean` doesn't delete `config.status`. Should it?



---

archive/issue_comments_462686.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [@jhpalmieri](#comment%3A19):\n> I guess `make distclean` doesn't delete `config.status`. \n\nYes, our `distclean` is non-standard in this regard. There is a target `bdist-clean` that deletes that extra file.\n\n> Should it?\n\nHard to tell. I am not sure about the intended meaning of `misc-clean`, `bdist-clean`, `distclean`, `bootstrap-clean`, `maintainer-clean`, `fast-rebuild-clean`, as well as `micro_release`. Perhaps @vbraun could weigh in here.",
    "created_at": "2020-04-23T03:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462686",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
Replying to [@jhpalmieri](#comment%3A19):
> I guess `make distclean` doesn't delete `config.status`. 

Yes, our `distclean` is non-standard in this regard. There is a target `bdist-clean` that deletes that extra file.

> Should it?

Hard to tell. I am not sure about the intended meaning of `misc-clean`, `bdist-clean`, `distclean`, `bootstrap-clean`, `maintainer-clean`, `fast-rebuild-clean`, as well as `micro_release`. Perhaps @vbraun could weigh in here.



---

archive/issue_comments_462687.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik, John Palmieri",
    "created_at": "2020-04-23T15:07:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462687",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik, John Palmieri



---

archive/issue_events_353617.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-23T15:07:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353617"
}
```



---

archive/issue_events_353618.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-23T15:07:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353618"
}
```



---

archive/issue_comments_462688.json:
```json
{
    "body": "<a id='comment:21'></a>\nIt's a step in the right direction. Adjusting make targets is another story.",
    "created_at": "2020-04-23T15:07:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462688",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
It's a step in the right direction. Adjusting make targets is another story.



---

archive/issue_comments_462689.json:
```json
{
    "body": "<a id='comment:22'></a>\nI basically agree, but the last line in this passage from the top-level `README.md` must be changed:\n\n```\nThe `configure` script itself, if it is not already built, can be generated by\nrunning the `bootstrap` script (the latter requires _GNU autotools_ being installed).\nThe top-level `Makefile` also takes care of this automatically.\n```\nMaybe this whole section of `README.md` should be changed? I don't know if there are other parts of the documentation we also need to change.\n\nI can certainly delete the line, but someone who knows autotools, configure files, etc., should really read this section and make any necessary changes.",
    "created_at": "2020-04-23T21:44:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462689",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:22'></a>
I basically agree, but the last line in this passage from the top-level `README.md` must be changed:

```
The `configure` script itself, if it is not already built, can be generated by
running the `bootstrap` script (the latter requires _GNU autotools_ being installed).
The top-level `Makefile` also takes care of this automatically.
```
Maybe this whole section of `README.md` should be changed? I don't know if there are other parts of the documentation we also need to change.

I can certainly delete the line, but someone who knows autotools, configure files, etc., should really read this section and make any necessary changes.



---

archive/issue_events_353619.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-23T21:44:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353619"
}
```



---

archive/issue_events_353620.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-23T21:44:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353620"
}
```



---

archive/issue_comments_462690.json:
```json
{
    "body": "<a id='comment:23'></a>\nAnother spot: in the installation guide it says\n\n```\n#. Optional:  Run the configure script to set some options that\n   influence the build process.\n```\n(Item 6 at http://doc.sagemath.org/html/en/installation/source.html#step-by-step-installation-procedure.)\n\nWe can probably just delete the word \"Optional\" here.",
    "created_at": "2020-04-24T02:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462690",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:23'></a>
Another spot: in the installation guide it says

```
#. Optional:  Run the configure script to set some options that
   influence the build process.
```
(Item 6 at http://doc.sagemath.org/html/en/installation/source.html#step-by-step-installation-procedure.)

We can probably just delete the word "Optional" here.



---

archive/issue_comments_462691.json:
```json
{
    "body": "**Changing commit** from \"[ee97240b7f16a7c2642121cd08a4d095ca648fd6](https://github.com/sagemath/sagetrac-mirror/commit/ee97240b7f16a7c2642121cd08a4d095ca648fd6)\" to \"[5ef691043410cbdec2374364306e3792fd0323ca](https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca)\".",
    "created_at": "2020-06-14T13:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462691",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[ee97240b7f16a7c2642121cd08a4d095ca648fd6](https://github.com/sagemath/sagetrac-mirror/commit/ee97240b7f16a7c2642121cd08a4d095ca648fd6)" to "[5ef691043410cbdec2374364306e3792fd0323ca](https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca)".



---

archive/issue_comments_462692.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d9fb2de492202f5cb9e1ffd74bbd53bdb0a4e40\">9d9fb2d</a></td><td><code>Makefile: Exit with error if not configured</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca\">5ef6910</a></td><td><code>Update README.md</code></td></tr></table>\n",
    "created_at": "2020-06-14T13:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462692",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d9fb2de492202f5cb9e1ffd74bbd53bdb0a4e40">9d9fb2d</a></td><td><code>Makefile: Exit with error if not configured</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca">5ef6910</a></td><td><code>Update README.md</code></td></tr></table>




---

archive/issue_comments_462693.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [@jhpalmieri](#comment%3A22):\n> the last line in this passage from the top-level `README.md` must be changed:\n> \n> ```\n> The `configure` script itself, if it is not already built, can be generated by\n> running the `bootstrap` script (the latter requires _GNU autotools_ being installed).\n> The top-level `Makefile` also takes care of this automatically.\n> ```\n> Maybe this whole section of `README.md` should be changed? \n\nDone.",
    "created_at": "2020-06-14T13:42:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462693",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Replying to [@jhpalmieri](#comment%3A22):
> the last line in this passage from the top-level `README.md` must be changed:
> 
> ```
> The `configure` script itself, if it is not already built, can be generated by
> running the `bootstrap` script (the latter requires _GNU autotools_ being installed).
> The top-level `Makefile` also takes care of this automatically.
> ```
> Maybe this whole section of `README.md` should be changed? 

Done.



---

archive/issue_comments_462694.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [@jhpalmieri](#comment%3A23):\n> Another spot: in the installation guide it says\n> \n> ```\n> #. Optional:  Run the configure script to set some options that\n>    influence the build process.\n> ```\n> (Item 6 at http://doc.sagemath.org/html/en/installation/source.html#step-by-step-installation-procedure.)\n> \n> We can probably just delete the word \"Optional\" here.\n\nApparently this was already done by another ticket.",
    "created_at": "2020-06-14T13:43:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462694",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
Replying to [@jhpalmieri](#comment%3A23):
> Another spot: in the installation guide it says
> 
> ```
> #. Optional:  Run the configure script to set some options that
>    influence the build process.
> ```
> (Item 6 at http://doc.sagemath.org/html/en/installation/source.html#step-by-step-installation-procedure.)
> 
> We can probably just delete the word "Optional" here.

Apparently this was already done by another ticket.



---

archive/issue_events_353621.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T13:43:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353621"
}
```



---

archive/issue_events_353622.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T13:43:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353622"
}
```



---

archive/issue_comments_462695.json:
```json
{
    "body": "**Changing dependencies** from \"#29533\" to \"\".",
    "created_at": "2020-06-14T13:45:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462695",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#29533" to "".



---

archive/issue_events_353623.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-15T08:20:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353623"
}
```



---

archive/issue_events_353624.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-15T08:20:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353624"
}
```



---

archive/issue_comments_462696.json:
```json
{
    "body": "<a id='comment:29'></a>\nlgtm",
    "created_at": "2020-06-15T08:20:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462696",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>
lgtm



---

archive/issue_comments_462697.json:
```json
{
    "body": "<a id='comment:30'></a>\nThank you!",
    "created_at": "2020-06-15T15:33:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462697",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
Thank you!



---

archive/issue_events_353625.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-22T22:34:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353625"
}
```



---

archive/issue_events_353626.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "bcb239a2afc8bccc20e9eb27b3942bccc7cc6ef1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-06-22T22:34:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-353626"
}
```



---

archive/issue_comments_462698.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/require___configure_before_make](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/require___configure_before_make)\" to \"[5ef691043410cbdec2374364306e3792fd0323ca](https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca)\".",
    "created_at": "2020-06-22T22:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-462698",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/require___configure_before_make](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/require___configure_before_make)" to "[5ef691043410cbdec2374364306e3792fd0323ca](https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca)".
