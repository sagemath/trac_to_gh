# Issue 29316: Require ./configure before make

archive/issues_029079.json:
```json
{
    "assignees": [],
    "body": "With #27351, `configure` suggests a list of system packages to install.\nThe printed messages are easy to miss if users rely on `make` to invoke `configure`.\n\nIn this ticket, we make it an error to invoke `make` on an un-`configure`d source tree.\n\nsage-devel discussion (April 2020):\n- https://groups.google.com/d/msg/sage-devel/9gOkmF6rSjY/wEV4WBQABwAJ\n\nCC:  @dimpase @vbraun @jhpalmieri\n\nBranch/Commit: **[`5ef6910`](https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca)**\n\nReviewer: **Dima Pasechnik, John Palmieri**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29316_\n\n",
    "closed_at": "2020-06-22T22:34:22Z",
    "created_at": "2020-03-11T18:47:25Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Require ./configure before make",
    "type": "issue",
    "updated_at": "2020-06-22T22:34:22Z",
    "url": "https://github.com/sagemath/sage/issues/29316",
    "user": "https://github.com/mkoeppe"
}
```
With #27351, `configure` suggests a list of system packages to install.
The printed messages are easy to miss if users rely on `make` to invoke `configure`.

In this ticket, we make it an error to invoke `make` on an un-`configure`d source tree.

sage-devel discussion (April 2020):
- https://groups.google.com/d/msg/sage-devel/9gOkmF6rSjY/wEV4WBQABwAJ

CC:  @dimpase @vbraun @jhpalmieri

Branch/Commit: **[`5ef6910`](https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca)**

Reviewer: **Dima Pasechnik, John Palmieri**

Author: **Matthias Koeppe**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/29316_





---

archive/issue_events_405075.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-11T18:47:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405075"
}
```



---

archive/issue_events_405076.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-11T18:47:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405076"
}
```



---

archive/issue_events_405077.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-11T18:47:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405077"
}
```



---

archive/issue_events_405078.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-11T18:47:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405078"
}
```



---

archive/issue_events_405079.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:12:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405079"
}
```



---

archive/issue_events_405080.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:12:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405080"
}
```



---

archive/issue_comments_459808.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI just started a discussion about this on sage-devel. This ticket could be expanded, or could be part of a family of tickets, which move all calls to `./configure` out of `Makefile`. Then this would solve #29310 and maybe some other tickets with `./configure` running too frequently.",
    "created_at": "2020-04-18T20:55:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459808",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:2" align="right">comment:2</div>

I just started a discussion about this on sage-devel. This ticket could be expanded, or could be part of a family of tickets, which move all calls to `./configure` out of `Makefile`. Then this would solve #29310 and maybe some other tickets with `./configure` running too frequently.



---

archive/issue_comments_459809.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAh, ok. Now I see there's actually a rationale for having it an error to run make without configure because you WANT it to be a manual process. It remains that there are plenty of sub-configures run by sage's make anyway.",
    "created_at": "2020-04-18T21:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459809",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:3" align="right">comment:3</div>

Ah, ok. Now I see there's actually a rationale for having it an error to run make without configure because you WANT it to be a manual process. It remains that there are plenty of sub-configures run by sage's make anyway.



---

archive/issue_comments_459810.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,5 @@\n \n In this ticket, we make it an error to invoke `make` on an un-`configure`d source tree.\n \n+sage-devel discussion (April 2020):\n+- https://groups.google.com/d/msg/sage-devel/9gOkmF6rSjY/wEV4WBQABwAJ\n``````\n",
    "created_at": "2020-04-18T21:29:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459810",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,5 @@
 
 In this ticket, we make it an error to invoke `make` on an un-`configure`d source tree.
 
+sage-devel discussion (April 2020):
+- https://groups.google.com/d/msg/sage-devel/9gOkmF6rSjY/wEV4WBQABwAJ
``````




---

archive/issue_comments_459811.json:
```json
{
    "body": "Branch: **[u/mkoeppe/require___configure_before_make](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/require___configure_before_make)**",
    "created_at": "2020-04-19T01:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459811",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/require___configure_before_make](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/require___configure_before_make)**



---

archive/issue_comments_459812.json:
```json
{
    "body": "Commit: **[`53361d7`](https://github.com/sagemath/sagetrac-mirror/commit/53361d7b19851177664df2bc23d346af6ca0f8a2)**",
    "created_at": "2020-04-19T01:18:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459812",
    "user": "https://github.com/dimpase"
}
```

Commit: **[`53361d7`](https://github.com/sagemath/sagetrac-mirror/commit/53361d7b19851177664df2bc23d346af6ca0f8a2)**



---

archive/issue_comments_459813.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@nbruin](#comment:3):\n> Ah, ok. Now I see there's actually a rationale for having it an error to run make without configure because you WANT it to be a manual process. It remains that there are plenty of sub-configures run by sage's make anyway.\n\nsub-configures prepare other makefiles, not the main makefile, so this is not recursive, as opposed to what we have at the top level now, where we basically run `make && ./configure` in a loop until we reach a stable point, from which we can `make`.  \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a439974a5d904a050123ae5ee7b97607cd35aa34\"><code>a439974</code></a></td><td><code>Makefile: Exit with error if not configured</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53361d7b19851177664df2bc23d346af6ca0f8a2\"><code>53361d7</code></a></td><td><code>src/doc/en/installation/source.rst: Get rid of SAGE_PORT</code></td></tr></table>\n",
    "created_at": "2020-04-19T01:18:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459813",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@nbruin](#comment:3):
> Ah, ok. Now I see there's actually a rationale for having it an error to run make without configure because you WANT it to be a manual process. It remains that there are plenty of sub-configures run by sage's make anyway.

sub-configures prepare other makefiles, not the main makefile, so this is not recursive, as opposed to what we have at the top level now, where we basically run `make && ./configure` in a loop until we reach a stable point, from which we can `make`.  

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a439974a5d904a050123ae5ee7b97607cd35aa34"><code>a439974</code></a></td><td><code>Makefile: Exit with error if not configured</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53361d7b19851177664df2bc23d346af6ca0f8a2"><code>53361d7</code></a></td><td><code>src/doc/en/installation/source.rst: Get rid of SAGE_PORT</code></td></tr></table>




---

archive/issue_comments_459814.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI'd have left SAGE_PORT stuff in place.",
    "created_at": "2020-04-19T14:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459814",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

I'd have left SAGE_PORT stuff in place.



---

archive/issue_comments_459815.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSAGE_PORT does not work at all anyway because if configure exits with an error, all the required config files are not written!",
    "created_at": "2020-04-19T14:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459815",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

SAGE_PORT does not work at all anyway because if configure exits with an error, all the required config files are not written!



---

archive/issue_comments_459816.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIf you prefer, we can push the SAGE_PORT removal to another ticket and merge in 9.1 already",
    "created_at": "2020-04-19T14:59:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459816",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

If you prefer, we can push the SAGE_PORT removal to another ticket and merge in 9.1 already



---

archive/issue_comments_459817.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nOK, can we have it in 9.1?",
    "created_at": "2020-04-19T15:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459817",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

OK, can we have it in 9.1?



---

archive/issue_events_405081.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-19T15:49:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405081"
}
```



---

archive/issue_events_405082.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-19T15:49:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405082"
}
```



---

archive/issue_events_405083.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-19T15:49:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405083"
}
```



---

archive/issue_comments_459818.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-04-19T15:53:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459818",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_459819.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI actually meant to merge the SAGE_PORT removal in 9.1\nand \"require ./configure before make\" in 9.2.",
    "created_at": "2020-04-19T15:54:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459819",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

I actually meant to merge the SAGE_PORT removal in 9.1
and "require ./configure before make" in 9.2.



---

archive/issue_comments_459820.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nany reason to delay \"./configure before make\" ?",
    "created_at": "2020-04-19T16:01:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459820",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

any reason to delay "./configure before make" ?



---

archive/issue_comments_459821.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIt's a change in how developers work, and I think it would be better to have a full beta cycle to test it and get people used to it.",
    "created_at": "2020-04-19T18:24:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459821",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:14" align="right">comment:14</div>

It's a change in how developers work, and I think it would be better to have a full beta cycle to test it and get people used to it.



---

archive/issue_comments_459822.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI agree with John. I've created #29533 for SAGE_PORT.",
    "created_at": "2020-04-19T18:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459822",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

I agree with John. I've created #29533 for SAGE_PORT.



---

archive/issue_comments_459823.json:
```json
{
    "body": "Work Issues: **rebase on top of #29533**",
    "created_at": "2020-04-19T18:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459823",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **rebase on top of #29533**



---

archive/issue_events_405084.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-19T18:45:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405084"
}
```



---

archive/issue_events_405085.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-19T18:45:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405085"
}
```



---

archive/issue_events_405086.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-19T18:45:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405086"
}
```



---

archive/issue_events_405087.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-19T18:45:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405087"
}
```



---

archive/issue_comments_459824.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9758e913c383301c6937dc98d3566a8784dd133\"><code>c9758e9</code></a></td><td><code>Makefile, src/doc/en/installation/source.rst: Remove defunct SAGE_PORT mechanism</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee97240b7f16a7c2642121cd08a4d095ca648fd6\"><code>ee97240</code></a></td><td><code>Makefile: Exit with error if not configured</code></td></tr></table>\n",
    "created_at": "2020-04-21T00:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459824",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9758e913c383301c6937dc98d3566a8784dd133"><code>c9758e9</code></a></td><td><code>Makefile, src/doc/en/installation/source.rst: Remove defunct SAGE_PORT mechanism</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee97240b7f16a7c2642121cd08a4d095ca648fd6"><code>ee97240</code></a></td><td><code>Makefile: Exit with error if not configured</code></td></tr></table>




---

archive/issue_comments_459825.json:
```json
{
    "body": "Changed commit from **[`53361d7`](https://github.com/sagemath/sagetrac-mirror/commit/53361d7b19851177664df2bc23d346af6ca0f8a2)** to **[`ee97240`](https://github.com/sagemath/sagetrac-mirror/commit/ee97240b7f16a7c2642121cd08a4d095ca648fd6)**",
    "created_at": "2020-04-21T00:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459825",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`53361d7`](https://github.com/sagemath/sagetrac-mirror/commit/53361d7b19851177664df2bc23d346af6ca0f8a2)** to **[`ee97240`](https://github.com/sagemath/sagetrac-mirror/commit/ee97240b7f16a7c2642121cd08a4d095ca648fd6)**



---

archive/issue_comments_459826.json:
```json
{
    "body": "Changed work issues from **rebase on top of #29533** to none",
    "created_at": "2020-04-21T00:45:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459826",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **rebase on top of #29533** to none



---

archive/issue_events_405088.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-21T00:45:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405088"
}
```



---

archive/issue_events_405089.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-21T00:45:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405089"
}
```



---

archive/issue_comments_459827.json:
```json
{
    "body": "Dependencies: **#29533**",
    "created_at": "2020-04-21T00:45:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459827",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#29533**



---

archive/issue_comments_459828.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nIt works with a fresh tarball, but I'm a little surprised that after `make distclean`, running `make` does not produce the error message. I guess `make distclean` doesn't delete `config.status`. Should it?",
    "created_at": "2020-04-22T17:52:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459828",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:19" align="right">comment:19</div>

It works with a fresh tarball, but I'm a little surprised that after `make distclean`, running `make` does not produce the error message. I guess `make distclean` doesn't delete `config.status`. Should it?



---

archive/issue_comments_459829.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jhpalmieri](#comment:19):\n> I guess `make distclean` doesn't delete `config.status`. \n\nYes, our `distclean` is non-standard in this regard. There is a target `bdist-clean` that deletes that extra file.\n\n> Should it?\n\nHard to tell. I am not sure about the intended meaning of `misc-clean`, `bdist-clean`, `distclean`, `bootstrap-clean`, `maintainer-clean`, `fast-rebuild-clean`, as well as `micro_release`. Perhaps @vbraun could weigh in here.",
    "created_at": "2020-04-23T03:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459829",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jhpalmieri](#comment:19):
> I guess `make distclean` doesn't delete `config.status`. 

Yes, our `distclean` is non-standard in this regard. There is a target `bdist-clean` that deletes that extra file.

> Should it?

Hard to tell. I am not sure about the intended meaning of `misc-clean`, `bdist-clean`, `distclean`, `bootstrap-clean`, `maintainer-clean`, `fast-rebuild-clean`, as well as `micro_release`. Perhaps @vbraun could weigh in here.



---

archive/issue_comments_459830.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik, John Palmieri**",
    "created_at": "2020-04-23T15:07:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459830",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik, John Palmieri**



---

archive/issue_events_405090.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-23T15:07:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405090"
}
```



---

archive/issue_events_405091.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-23T15:07:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405091"
}
```



---

archive/issue_comments_459831.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nIt's a step in the right direction. Adjusting make targets is another story.",
    "created_at": "2020-04-23T15:07:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459831",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:21" align="right">comment:21</div>

It's a step in the right direction. Adjusting make targets is another story.



---

archive/issue_comments_459832.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI basically agree, but the last line in this passage from the top-level `README.md` must be changed:\n\n```\nThe `configure` script itself, if it is not already built, can be generated by\nrunning the `bootstrap` script (the latter requires _GNU autotools_ being installed).\nThe top-level `Makefile` also takes care of this automatically.\n```\nMaybe this whole section of `README.md` should be changed? I don't know if there are other parts of the documentation we also need to change.\n\nI can certainly delete the line, but someone who knows autotools, configure files, etc., should really read this section and make any necessary changes.",
    "created_at": "2020-04-23T21:44:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459832",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:22" align="right">comment:22</div>

I basically agree, but the last line in this passage from the top-level `README.md` must be changed:

```
The `configure` script itself, if it is not already built, can be generated by
running the `bootstrap` script (the latter requires _GNU autotools_ being installed).
The top-level `Makefile` also takes care of this automatically.
```
Maybe this whole section of `README.md` should be changed? I don't know if there are other parts of the documentation we also need to change.

I can certainly delete the line, but someone who knows autotools, configure files, etc., should really read this section and make any necessary changes.



---

archive/issue_events_405092.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-23T21:44:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405092"
}
```



---

archive/issue_events_405093.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-23T21:44:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405093"
}
```



---

archive/issue_comments_459833.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nAnother spot: in the installation guide it says\n\n```\n#. Optional:  Run the configure script to set some options that\n   influence the build process.\n```\n(Item 6 at http://doc.sagemath.org/html/en/installation/source.html#step-by-step-installation-procedure.)\n\nWe can probably just delete the word \"Optional\" here.",
    "created_at": "2020-04-24T02:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459833",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:23" align="right">comment:23</div>

Another spot: in the installation guide it says

```
#. Optional:  Run the configure script to set some options that
   influence the build process.
```
(Item 6 at http://doc.sagemath.org/html/en/installation/source.html#step-by-step-installation-procedure.)

We can probably just delete the word "Optional" here.



---

archive/issue_comments_459834.json:
```json
{
    "body": "Changed commit from **[`ee97240`](https://github.com/sagemath/sagetrac-mirror/commit/ee97240b7f16a7c2642121cd08a4d095ca648fd6)** to **[`5ef6910`](https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca)**",
    "created_at": "2020-06-14T13:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459834",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ee97240`](https://github.com/sagemath/sagetrac-mirror/commit/ee97240b7f16a7c2642121cd08a4d095ca648fd6)** to **[`5ef6910`](https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca)**



---

archive/issue_comments_459835.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d9fb2de492202f5cb9e1ffd74bbd53bdb0a4e40\"><code>9d9fb2d</code></a></td><td><code>Makefile: Exit with error if not configured</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca\"><code>5ef6910</code></a></td><td><code>Update README.md</code></td></tr></table>\n",
    "created_at": "2020-06-14T13:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459835",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d9fb2de492202f5cb9e1ffd74bbd53bdb0a4e40"><code>9d9fb2d</code></a></td><td><code>Makefile: Exit with error if not configured</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca"><code>5ef6910</code></a></td><td><code>Update README.md</code></td></tr></table>




---

archive/issue_comments_459836.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jhpalmieri](#comment:22):\n> the last line in this passage from the top-level `README.md` must be changed:\n> \n> ```\n> The `configure` script itself, if it is not already built, can be generated by\n> running the `bootstrap` script (the latter requires _GNU autotools_ being installed).\n> The top-level `Makefile` also takes care of this automatically.\n> ```\n> Maybe this whole section of `README.md` should be changed? \n\nDone.",
    "created_at": "2020-06-14T13:42:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459836",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jhpalmieri](#comment:22):
> the last line in this passage from the top-level `README.md` must be changed:
> 
> ```
> The `configure` script itself, if it is not already built, can be generated by
> running the `bootstrap` script (the latter requires _GNU autotools_ being installed).
> The top-level `Makefile` also takes care of this automatically.
> ```
> Maybe this whole section of `README.md` should be changed? 

Done.



---

archive/issue_comments_459837.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@jhpalmieri](#comment:23):\n> Another spot: in the installation guide it says\n> \n> ```\n> #. Optional:  Run the configure script to set some options that\n>    influence the build process.\n> ```\n> (Item 6 at http://doc.sagemath.org/html/en/installation/source.html#step-by-step-installation-procedure.)\n> \n> We can probably just delete the word \"Optional\" here.\n\nApparently this was already done by another ticket.",
    "created_at": "2020-06-14T13:43:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459837",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@jhpalmieri](#comment:23):
> Another spot: in the installation guide it says
> 
> ```
> #. Optional:  Run the configure script to set some options that
>    influence the build process.
> ```
> (Item 6 at http://doc.sagemath.org/html/en/installation/source.html#step-by-step-installation-procedure.)
> 
> We can probably just delete the word "Optional" here.

Apparently this was already done by another ticket.



---

archive/issue_events_405094.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T13:43:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405094"
}
```



---

archive/issue_events_405095.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T13:43:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405095"
}
```



---

archive/issue_comments_459838.json:
```json
{
    "body": "Changed dependencies from **#29533** to none",
    "created_at": "2020-06-14T13:45:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459838",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29533** to none



---

archive/issue_events_405096.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-15T08:20:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405096"
}
```



---

archive/issue_events_405097.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-15T08:20:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405097"
}
```



---

archive/issue_comments_459839.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nlgtm",
    "created_at": "2020-06-15T08:20:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459839",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

lgtm



---

archive/issue_comments_459840.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThank you!",
    "created_at": "2020-06-15T15:33:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459840",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Thank you!



---

archive/issue_events_405098.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-22T22:34:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405098"
}
```



---

archive/issue_events_405099.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "bcb239a2afc8bccc20e9eb27b3942bccc7cc6ef1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-06-22T22:34:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29316#event-405099"
}
```



---

archive/issue_comments_459841.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/require___configure_before_make](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/require___configure_before_make)** to **[`5ef6910`](https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca)**",
    "created_at": "2020-06-22T22:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29316#issuecomment-459841",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/require___configure_before_make](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/require___configure_before_make)** to **[`5ef6910`](https://github.com/sagemath/sagetrac-mirror/commit/5ef691043410cbdec2374364306e3792fd0323ca)**
