# Issue 29555: Upgrade: OpenSSL 3.0, make it a standard package

archive/issues_029318.json:
```json
{
    "body": "Upgrade to OpenSSL 3.0 and make openssl a standard package.\n\nLicense is now Apache 2.0, which is GPL-compatible.\nhttps://github.com/openssl/openssl/blob/master/LICENSE\n\nOnce Sage macOS binaries ship OpenSSL,\nthey will allow easily pip-installing extra packages.\n\nDownload tarball from:\n- https://ftp.openssl.org/source/\n\nCC:  @slel @NathanDunfield tmonteil @orlitzky @dimpase @posita @vbraun\n\nKeywords: openssl\n\nBranch/Commit: 383a10029e5ab56b0ba58950635ccdb75fd6d611\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29555\n\n",
    "closed_at": "2021-02-20T10:46:30Z",
    "created_at": "2020-04-23T15:49:29Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Upgrade: OpenSSL 3.0, make it a standard package",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29555",
    "user": "https://github.com/slel"
}
```
Upgrade to OpenSSL 3.0 and make openssl a standard package.

License is now Apache 2.0, which is GPL-compatible.
https://github.com/openssl/openssl/blob/master/LICENSE

Once Sage macOS binaries ship OpenSSL,
they will allow easily pip-installing extra packages.

Download tarball from:
- https://ftp.openssl.org/source/

CC:  @slel @NathanDunfield tmonteil @orlitzky @dimpase @posita @vbraun

Keywords: openssl

Branch/Commit: 383a10029e5ab56b0ba58950635ccdb75fd6d611

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29555





---

archive/issue_comments_578783.json:
```json
{
    "body": "<a id='comment:1'></a>\nOpenSSL 3.0.0-alpha1 is out. Blog post:\nhttps://www.openssl.org/blog/blog/2020/04/23/OpenSSL3.0Alpha1/\n\nOpenSSL 3.0.0-alpha1 tarball:\n- https://ftp.openssl.org/source/openssl-3.0.0-alpha1.tar.gz",
    "created_at": "2020-04-23T15:51:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578783",
    "user": "https://github.com/slel"
}
```

<a id='comment:1'></a>
OpenSSL 3.0.0-alpha1 is out. Blog post:
https://www.openssl.org/blog/blog/2020/04/23/OpenSSL3.0Alpha1/

OpenSSL 3.0.0-alpha1 tarball:
- https://ftp.openssl.org/source/openssl-3.0.0-alpha1.tar.gz



---

archive/issue_comments_578784.json:
```json
{
    "body": "<a id='comment:2'></a>\nTime to make openssl a standard package too. Related tickets:\n- #24107 Inclusion of OpenSSL, stage 1\n- #23893 make openssl a dependency for pip packages",
    "created_at": "2020-04-23T15:53:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578784",
    "user": "https://github.com/slel"
}
```

<a id='comment:2'></a>
Time to make openssl a standard package too. Related tickets:
- #24107 Inclusion of OpenSSL, stage 1
- #23893 make openssl a dependency for pip packages



---

archive/issue_comments_578785.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,5 @@\n Once Sage macOS binaries ship OpenSSL,\n they will allow easily pip-installing extra packages.\n \n+Download tarball from:\n+- https://ftp.openssl.org/source/\n``````\n",
    "created_at": "2020-04-23T16:00:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578785",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,5 @@
 Once Sage macOS binaries ship OpenSSL,
 they will allow easily pip-installing extra packages.
 
+Download tarball from:
+- https://ftp.openssl.org/source/
``````




---

archive/issue_comments_578786.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Upgrade to OpenSSL 3.0.\n+Upgrade to OpenSSL 3.0 and make openssl a standard package.\n \n License is now Apache 2.0, which is GPL-compatible.\n https://github.com/openssl/openssl/blob/master/LICENSE\n``````\n",
    "created_at": "2020-04-23T16:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578786",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Upgrade to OpenSSL 3.0.
+Upgrade to OpenSSL 3.0 and make openssl a standard package.
 
 License is now Apache 2.0, which is GPL-compatible.
 https://github.com/openssl/openssl/blob/master/LICENSE
``````




---

archive/issue_comments_578787.json:
```json
{
    "body": "Changing keywords from \"\" to \"openssl\".",
    "created_at": "2020-04-23T16:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578787",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "openssl".



---

archive/issue_comments_578788.json:
```json
{
    "body": "<a id='comment:6'></a>\nhttps://www.openssl.org/source/openssl-3.0.0-alpha3.tar.gz is out now",
    "created_at": "2020-06-09T00:33:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578788",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
https://www.openssl.org/source/openssl-3.0.0-alpha3.tar.gz is out now



---

archive/issue_comments_578789.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/upgrade__openssl_3_0\"",
    "created_at": "2020-06-09T00:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578789",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/upgrade__openssl_3_0"



---

archive/issue_comments_578790.json:
```json
{
    "body": "<a id='comment:8'></a>\nOf course it's too early to merge, but I wanted to check whether our python3 compiles with it. It does, at least on macOS.\n\n---\nNew commits:\n|                                                                                                                                          |                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[54387b8](https://github.com/sagemath/sagetrac-mirror/commit/54387b83dda7482bb8a7fce193924fa08d24df53)|`build/pkgs/openssl: Update to 3.0.0-alpha3`|\n|[e37e813](https://github.com/sagemath/sagetrac-mirror/commit/e37e813157fc7405cd4b3299be13937fe869a533)|`build/pkgs/openssl/spkg-install.in: Remove old build workarounds, hoping for the best`|",
    "created_at": "2020-06-09T01:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578790",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Of course it's too early to merge, but I wanted to check whether our python3 compiles with it. It does, at least on macOS.

---
New commits:
|                                                                                                                                          |                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[54387b8](https://github.com/sagemath/sagetrac-mirror/commit/54387b83dda7482bb8a7fce193924fa08d24df53)|`build/pkgs/openssl: Update to 3.0.0-alpha3`|
|[e37e813](https://github.com/sagemath/sagetrac-mirror/commit/e37e813157fc7405cd4b3299be13937fe869a533)|`build/pkgs/openssl/spkg-install.in: Remove old build workarounds, hoping for the best`|



---

archive/issue_comments_578791.json:
```json
{
    "body": "Changing commit from \"\" to \"e37e813157fc7405cd4b3299be13937fe869a533\"",
    "created_at": "2020-06-09T01:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578791",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "e37e813157fc7405cd4b3299be13937fe869a533"



---

archive/issue_comments_578792.json:
```json
{
    "body": "Changing commit from \"e37e813157fc7405cd4b3299be13937fe869a533\" to \"125a68324b11085e4f6aaa5a891d0e6227f75562\"",
    "created_at": "2020-06-09T01:03:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578792",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e37e813157fc7405cd4b3299be13937fe869a533" to "125a68324b11085e4f6aaa5a891d0e6227f75562"



---

archive/issue_comments_578793.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[d6eaab7](https://github.com/sagemath/sagetrac-mirror/commit/d6eaab78c70fcb5914dcae7fd84f43fb7f249c85)|`build/pkgs/python3/dependencies: Add openssl`|\n|[125a683](https://github.com/sagemath/sagetrac-mirror/commit/125a68324b11085e4f6aaa5a891d0e6227f75562)|`build/pkgs/openssl/type: Make standard`|",
    "created_at": "2020-06-09T01:03:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578793",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[d6eaab7](https://github.com/sagemath/sagetrac-mirror/commit/d6eaab78c70fcb5914dcae7fd84f43fb7f249c85)|`build/pkgs/python3/dependencies: Add openssl`|
|[125a683](https://github.com/sagemath/sagetrac-mirror/commit/125a68324b11085e4f6aaa5a891d0e6227f75562)|`build/pkgs/openssl/type: Make standard`|



---

archive/issue_comments_578794.json:
```json
{
    "body": "Changing work_issues from \"\" to \"Add spkg-configure.m4\"",
    "created_at": "2020-06-09T01:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578794",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "" to "Add spkg-configure.m4"



---

archive/issue_comments_578795.json:
```json
{
    "body": "<a id='comment:10'></a>\nNext (other than waiting for the release), we need an spkg-configure.m4 for openssl",
    "created_at": "2020-06-09T01:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578795",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Next (other than waiting for the release), we need an spkg-configure.m4 for openssl



---

archive/issue_events_085126.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "rename": {
        "from": "Upgrade: OpenSSL 3.0",
        "to": "Upgrade: OpenSSL 3.0, make it a standard package"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29555#event-85126"
}
```



---

archive/issue_comments_578796.json:
```json
{
    "body": "<a id='comment:12'></a>\nNow there's openssl-3.0.0-alpha4",
    "created_at": "2020-07-06T23:44:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578796",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
Now there's openssl-3.0.0-alpha4



---

archive/issue_comments_578797.json:
```json
{
    "body": "<a id='comment:13'></a>\nOpenSSL 3.0.0.alpha6 is out.",
    "created_at": "2020-08-07T00:28:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578797",
    "user": "https://github.com/slel"
}
```

<a id='comment:13'></a>
OpenSSL 3.0.0.alpha6 is out.



---

archive/issue_events_085127.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29555#event-85127"
}
```



---

archive/issue_comments_578798.json:
```json
{
    "body": "<a id='comment:16'></a>\nalpha9 is out...",
    "created_at": "2020-12-15T04:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578798",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
alpha9 is out...



---

archive/issue_comments_578799.json:
```json
{
    "body": "<a id='comment:17'></a>\nalpha10 is out",
    "created_at": "2021-01-19T21:16:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578799",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
alpha10 is out



---

archive/issue_comments_578800.json:
```json
{
    "body": "<a id='comment:18'></a>\nalpha11",
    "created_at": "2021-01-28T16:06:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578800",
    "user": "https://github.com/slel"
}
```

<a id='comment:18'></a>
alpha11



---

archive/issue_comments_578801.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[48c801b](https://github.com/sagemath/sagetrac-mirror/commit/48c801bf354552e1b440bf4dff2e48f452239b73)|`Merge tag '9.3.beta6' into t/29555/upgrade__openssl_3_0`|\n|[29af657](https://github.com/sagemath/sagetrac-mirror/commit/29af657b8d08818628aa0f3f6730f08d951819c6)|`build/pkgs/openssl: Update to 3.0.0-alpha11`|",
    "created_at": "2021-01-31T19:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578801",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[48c801b](https://github.com/sagemath/sagetrac-mirror/commit/48c801bf354552e1b440bf4dff2e48f452239b73)|`Merge tag '9.3.beta6' into t/29555/upgrade__openssl_3_0`|
|[29af657](https://github.com/sagemath/sagetrac-mirror/commit/29af657b8d08818628aa0f3f6730f08d951819c6)|`build/pkgs/openssl: Update to 3.0.0-alpha11`|



---

archive/issue_comments_578802.json:
```json
{
    "body": "Changing commit from \"125a68324b11085e4f6aaa5a891d0e6227f75562\" to \"29af657b8d08818628aa0f3f6730f08d951819c6\"",
    "created_at": "2021-01-31T19:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578802",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "125a68324b11085e4f6aaa5a891d0e6227f75562" to "29af657b8d08818628aa0f3f6730f08d951819c6"



---

archive/issue_comments_578803.json:
```json
{
    "body": "<a id='comment:20'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[909f796](https://github.com/sagemath/sagetrac-mirror/commit/909f7966fae7137a7040999d709432c41763aa25)|`build/pkgs/openssl/SPKG.rst: Update license`|\n|[383a100](https://github.com/sagemath/sagetrac-mirror/commit/383a10029e5ab56b0ba58950635ccdb75fd6d611)|`build/pkgs/openssl/spkg-configure.m4: Add warning about alpha release`|",
    "created_at": "2021-01-31T21:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578803",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[909f796](https://github.com/sagemath/sagetrac-mirror/commit/909f7966fae7137a7040999d709432c41763aa25)|`build/pkgs/openssl/SPKG.rst: Update license`|
|[383a100](https://github.com/sagemath/sagetrac-mirror/commit/383a10029e5ab56b0ba58950635ccdb75fd6d611)|`build/pkgs/openssl/spkg-configure.m4: Add warning about alpha release`|



---

archive/issue_comments_578804.json:
```json
{
    "body": "Changing commit from \"29af657b8d08818628aa0f3f6730f08d951819c6\" to \"383a10029e5ab56b0ba58950635ccdb75fd6d611\"",
    "created_at": "2021-01-31T21:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578804",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "29af657b8d08818628aa0f3f6730f08d951819c6" to "383a10029e5ab56b0ba58950635ccdb75fd6d611"



---

archive/issue_comments_578805.json:
```json
{
    "body": "Changing work_issues from \"Add spkg-configure.m4\" to \"\"",
    "created_at": "2021-01-31T21:11:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578805",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "Add spkg-configure.m4" to ""



---

archive/issue_comments_578806.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-01-31T21:11:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578806",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_578807.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-01-31T21:11:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578807",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_578808.json:
```json
{
    "body": "<a id='comment:21'></a>\nWondering how people would feel about this one. Solves our openssl license compatibility problem. Includes big fat warning that it's an alpha release. To my understanding, the way that current jupyter depends on the ssl module (via `tornado` - see 30674), it is merely a dependency and no SSL is actually spoken to anyone but possibly localhost.\n\nSSL would still kick in when pip packages are installed - but these are all optional and users have been warned.",
    "created_at": "2021-01-31T21:11:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578808",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Wondering how people would feel about this one. Solves our openssl license compatibility problem. Includes big fat warning that it's an alpha release. To my understanding, the way that current jupyter depends on the ssl module (via `tornado` - see 30674), it is merely a dependency and no SSL is actually spoken to anyone but possibly localhost.

SSL would still kick in when pip packages are installed - but these are all optional and users have been warned.



---

archive/issue_comments_578809.json:
```json
{
    "body": "<a id='comment:22'></a>\nI would prefer that we stick to 1.1.1* until openssl 3.0 is released, the current 3.0 is not even beta !",
    "created_at": "2021-01-31T21:18:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578809",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:22'></a>
I would prefer that we stick to 1.1.1* until openssl 3.0 is released, the current 3.0 is not even beta !



---

archive/issue_comments_578810.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [tmonteil](#comment%3A22):\n> I would prefer that we stick to 1.1.1* until openssl 3.0 is released, the current 3.0 is not even beta !\n\n\nCurrently, the macOS binaries don't have any version of openssl at all.  So there, the choice is 3.0 alpha or nothing, meaning the user is unable to run Jupyter notebooks, which is a pretty core feature of Sage for many users.\n\nI say go for it, the current situation is causing a lot of people problems, see all the posts to sage-support and sage-devel.",
    "created_at": "2021-02-01T03:00:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578810",
    "user": "https://github.com/NathanDunfield"
}
```

<a id='comment:23'></a>
Replying to [tmonteil](#comment%3A22):
> I would prefer that we stick to 1.1.1* until openssl 3.0 is released, the current 3.0 is not even beta !


Currently, the macOS binaries don't have any version of openssl at all.  So there, the choice is 3.0 alpha or nothing, meaning the user is unable to run Jupyter notebooks, which is a pretty core feature of Sage for many users.

I say go for it, the current situation is causing a lot of people problems, see all the posts to sage-support and sage-devel.



---

archive/issue_comments_578811.json:
```json
{
    "body": "<a id='comment:24'></a>\nCould this be only shipped with macOS binaries ?",
    "created_at": "2021-02-01T10:18:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578811",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:24'></a>
Could this be only shipped with macOS binaries ?



---

archive/issue_comments_578812.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [tmonteil](#comment%3A24):\n> Could this be only shipped with macOS binaries ?\n\n\nOn Linux, Sage doesn't need to provide its own copy of openssl, it just uses the system library.  The problem is macOS deprecated openssl in favor of their own APIs and only provides openssl 0.9.8, which is too old to be useful.",
    "created_at": "2021-02-01T14:48:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578812",
    "user": "https://github.com/NathanDunfield"
}
```

<a id='comment:25'></a>
Replying to [tmonteil](#comment%3A24):
> Could this be only shipped with macOS binaries ?


On Linux, Sage doesn't need to provide its own copy of openssl, it just uses the system library.  The problem is macOS deprecated openssl in favor of their own APIs and only provides openssl 0.9.8, which is too old to be useful.



---

archive/issue_comments_578813.json:
```json
{
    "body": "<a id='comment:26'></a>\nAnother idea could be to make openssl 3.0 standard (as on this ticket) but keep the stable (but license-incompatible) openssl 1.1.x as an optional package.  So people who need to deploy a secure system but cannot do so using a system installation of openssl would be enable this optional package.  But it is not clear whether this is a convincing use case that would warrant adding this kind of build system complexity for it.",
    "created_at": "2021-02-02T19:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578813",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
Another idea could be to make openssl 3.0 standard (as on this ticket) but keep the stable (but license-incompatible) openssl 1.1.x as an optional package.  So people who need to deploy a secure system but cannot do so using a system installation of openssl would be enable this optional package.  But it is not clear whether this is a convincing use case that would warrant adding this kind of build system complexity for it.



---

archive/issue_comments_578814.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [tmonteil](#comment%3A24):\n> Could this be only shipped with macOS binaries ?\n\nThese issues with ssl also affect people who build from source.",
    "created_at": "2021-02-02T19:16:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578814",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
Replying to [tmonteil](#comment%3A24):
> Could this be only shipped with macOS binaries ?

These issues with ssl also affect people who build from source.



---

archive/issue_comments_578815.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2021-02-03T00:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578815",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_578816.json:
```json
{
    "body": "<a id='comment:28'></a>\nI suppose this is tested on macOS. On Linux it's fine.",
    "created_at": "2021-02-03T00:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578816",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>
I suppose this is tested on macOS. On Linux it's fine.



---

archive/issue_comments_578817.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-02-03T00:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578817",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_578818.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [mkoeppe](#comment%3A27):\n> Replying to [tmonteil](#comment%3A24):\n> > Could this be only shipped with macOS binaries ?\n\n> These issues with ssl also affect people who build from source.\n\nI imagine the people that build from source use a decent distribution of packages that includes `openssl` like homebrew, as recommended in the Sage installation documenation.\n\nI do not like the current way as it will install an immature implementation of SSL within Sage for most people, since even on some OS that ship `openssl-dev`, this latter is rarely installed by default, see e.g. https://ask.sagemath.org/question/47513/rise-in-jupyter/\n\nThe warning are probably not enough (and probably lost among tons of configure lines) since people will just go ahead and \"prefer\" using the standard `openssl` spkg over installing the lib from their distro.",
    "created_at": "2021-02-03T01:28:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578818",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:29'></a>
Replying to [mkoeppe](#comment%3A27):
> Replying to [tmonteil](#comment%3A24):
> > Could this be only shipped with macOS binaries ?

> These issues with ssl also affect people who build from source.

I imagine the people that build from source use a decent distribution of packages that includes `openssl` like homebrew, as recommended in the Sage installation documenation.

I do not like the current way as it will install an immature implementation of SSL within Sage for most people, since even on some OS that ship `openssl-dev`, this latter is rarely installed by default, see e.g. https://ask.sagemath.org/question/47513/rise-in-jupyter/

The warning are probably not enough (and probably lost among tons of configure lines) since people will just go ahead and "prefer" using the standard `openssl` spkg over installing the lib from their distro.



---

archive/issue_comments_578819.json:
```json
{
    "body": "<a id='comment:30'></a>\nI'm also uneasy with an alpha stage OpenSSL 3 becoming standard.\n\nMaybe we can create an \"openssl3\" optional package for now?\n\nWe should advertise the `fix_mac_sage` scripts by the 3-manifolds group\n\n- https://github.com/3-manifolds/fix_mac_sage/\n\nthat can \"fix\" a Sage install on macOS by adding SSL and tkinter to its Python.\n\nWe should advertise it\n\n- in the README file that is shipped with macOS binaries\n- on the macOS download page of the SageMath website",
    "created_at": "2021-02-03T02:02:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578819",
    "user": "https://github.com/slel"
}
```

<a id='comment:30'></a>
I'm also uneasy with an alpha stage OpenSSL 3 becoming standard.

Maybe we can create an "openssl3" optional package for now?

We should advertise the `fix_mac_sage` scripts by the 3-manifolds group

- https://github.com/3-manifolds/fix_mac_sage/

that can "fix" a Sage install on macOS by adding SSL and tkinter to its Python.

We should advertise it

- in the README file that is shipped with macOS binaries
- on the macOS download page of the SageMath website



---

archive/issue_comments_578820.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/upgrade__openssl_3_0\" to \"383a10029e5ab56b0ba58950635ccdb75fd6d611\"",
    "created_at": "2021-02-20T10:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578820",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/upgrade__openssl_3_0" to "383a10029e5ab56b0ba58950635ccdb75fd6d611"



---

archive/issue_comments_578821.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-02-20T10:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29555#issuecomment-578821",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_085128.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-02-20T10:46:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29555",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29555#event-85128"
}
```
