# Issue 29103: get rid of part of itervalues

archive/issues_028866.json:
```json
{
    "assignees": [],
    "body": "after #29077\n\nThere are much more cases, so only half of them is taken care of.\n\nCC:  @tscrim @jm58660\n\nBranch/Commit: **[`cbb20e6`](https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **refactoring**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29103_\n\n",
    "closed_at": "2020-02-10T20:05:41Z",
    "created_at": "2020-01-29T15:21:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "get rid of part of itervalues",
    "type": "issue",
    "updated_at": "2020-02-10T20:05:41Z",
    "url": "https://github.com/sagemath/sage/issues/29103",
    "user": "https://github.com/fchapoton"
}
```
after #29077

There are much more cases, so only half of them is taken care of.

CC:  @tscrim @jm58660

Branch/Commit: **[`cbb20e6`](https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

Component: **refactoring**

_Issue created by migration from https://trac.sagemath.org/ticket/29103_





---

archive/issue_events_400001.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-29T15:21:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-400001"
}
```



---

archive/issue_events_400002.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-29T15:21:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-400002"
}
```



---

archive/issue_events_400003.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-29T15:21:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-400003"
}
```



---

archive/issue_events_400004.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-29T15:21:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-400004"
}
```



---

archive/issue_comments_455795.json:
```json
{
    "body": "Branch: **[u/chapoton/29103](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29103)**",
    "created_at": "2020-01-29T15:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455795",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/29103](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29103)**



---

archive/issue_events_400005.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-29T15:22:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-400005"
}
```



---

archive/issue_comments_455796.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47f6d46f6f59823f1f26df4002eb5b349c08370b\"><code>47f6d46</code></a></td><td><code>first parameter must be self</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce\"><code>7072bce</code></a></td><td><code>get rid of some calls to six.itervalues</code></td></tr></table>\n",
    "created_at": "2020-01-29T15:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455796",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47f6d46f6f59823f1f26df4002eb5b349c08370b"><code>47f6d46</code></a></td><td><code>first parameter must be self</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce"><code>7072bce</code></a></td><td><code>get rid of some calls to six.itervalues</code></td></tr></table>




---

archive/issue_comments_455797.json:
```json
{
    "body": "Commit: **[`7072bce`](https://github.com/sagemath/sagetrac-mirror/commit/7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce)**",
    "created_at": "2020-01-29T15:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455797",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`7072bce`](https://github.com/sagemath/sagetrac-mirror/commit/7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce)**



---

archive/issue_comments_455798.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7cbd2c26471695d6541eb05b965a9d316700395b\"><code>7cbd2c2</code></a></td><td><code>get rid of some call to six.itervalues</code></td></tr></table>\n",
    "created_at": "2020-01-29T15:22:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455798",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7cbd2c26471695d6541eb05b965a9d316700395b"><code>7cbd2c2</code></a></td><td><code>get rid of some call to six.itervalues</code></td></tr></table>




---

archive/issue_comments_455799.json:
```json
{
    "body": "Changed commit from **[`7072bce`](https://github.com/sagemath/sagetrac-mirror/commit/7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce)** to **[`7cbd2c2`](https://github.com/sagemath/sagetrac-mirror/commit/7cbd2c26471695d6541eb05b965a9d316700395b)**",
    "created_at": "2020-01-29T15:22:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455799",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7072bce`](https://github.com/sagemath/sagetrac-mirror/commit/7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce)** to **[`7cbd2c2`](https://github.com/sagemath/sagetrac-mirror/commit/7cbd2c26471695d6541eb05b965a9d316700395b)**



---

archive/issue_comments_455800.json:
```json
{
    "body": "Changed commit from **[`7cbd2c2`](https://github.com/sagemath/sagetrac-mirror/commit/7cbd2c26471695d6541eb05b965a9d316700395b)** to **[`cbb20e6`](https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52)**",
    "created_at": "2020-01-29T19:08:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455800",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7cbd2c2`](https://github.com/sagemath/sagetrac-mirror/commit/7cbd2c26471695d6541eb05b965a9d316700395b)** to **[`cbb20e6`](https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52)**



---

archive/issue_comments_455801.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52\"><code>cbb20e6</code></a></td><td><code>fix pyflakes warning</code></td></tr></table>\n",
    "created_at": "2020-01-29T19:08:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455801",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52"><code>cbb20e6</code></a></td><td><code>fix pyflakes warning</code></td></tr></table>




---

archive/issue_comments_455802.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\ngreen bot, please review",
    "created_at": "2020-01-29T21:14:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455802",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

green bot, please review



---

archive/issue_comments_455803.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI am not sure we should be doing this yet given that 9.1 will still be supporting Python2. Although I believe from the sage-devel discussion, are considering 9.0 the last properly Python2 supported version of Sage. So by that, it would be good to do it now. Although if 9.1 is the last such one, then we should wait a little bit I think.",
    "created_at": "2020-01-30T01:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455803",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">comment:5</div>

I am not sure we should be doing this yet given that 9.1 will still be supporting Python2. Although I believe from the sage-devel discussion, are considering 9.0 the last properly Python2 supported version of Sage. So by that, it would be good to do it now. Although if 9.1 is the last such one, then we should wait a little bit I think.



---

archive/issue_comments_455804.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI did that carefully in such a way that this remains fully python2-compatible.",
    "created_at": "2020-01-30T07:45:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455804",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

I did that carefully in such a way that this remains fully python2-compatible.



---

archive/issue_comments_455805.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nSorry, my response was poorly phrased. I meant the efficiency aspects with entire lists being created and returned in Python2 with these changes. I agree that it is fully Python2-compatible, but there will be a speed/memory difference between the two. Admittedly, this is not a very strong position considering the cases where this would matter are somewhat rare IMO. If you think that we should go ahead with only caring about Python3 at this point in time, then we can set this to a positive review.",
    "created_at": "2020-01-30T22:40:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455805",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

Sorry, my response was poorly phrased. I meant the efficiency aspects with entire lists being created and returned in Python2 with these changes. I agree that it is fully Python2-compatible, but there will be a speed/memory difference between the two. Admittedly, this is not a very strong position considering the cases where this would matter are somewhat rare IMO. If you think that we should go ahead with only caring about Python3 at this point in time, then we can set this to a positive review.



---

archive/issue_comments_455806.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2020-01-30T22:40:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455806",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_455807.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI think that people cannot both ask for speed with python2 and use the latest sage..\n\nTherefore setting to positive",
    "created_at": "2020-01-31T09:57:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455807",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

I think that people cannot both ask for speed with python2 and use the latest sage..

Therefore setting to positive



---

archive/issue_events_400006.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-31T09:57:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-400006"
}
```



---

archive/issue_events_400007.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-31T09:57:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-400007"
}
```



---

archive/issue_comments_455808.json:
```json
{
    "body": "Changed branch from **[u/chapoton/29103](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29103)** to **[`cbb20e6`](https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52)**",
    "created_at": "2020-02-10T20:05:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-455808",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/29103](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29103)** to **[`cbb20e6`](https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52)**



---

archive/issue_events_400008.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-02-10T20:05:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-400008"
}
```



---

archive/issue_events_400009.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "af348cfc2800ef9505ecd600a5c4e60224166514",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-02-10T20:05:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-400009"
}
```
