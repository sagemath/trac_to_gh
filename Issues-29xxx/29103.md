# Issue 29103: get rid of part of itervalues

archive/issues_028866.json:
```json
{
    "body": "after #29077\n\nThere are much more cases, so only half of them is taken care of.\n\n**CC:**  @tscrim @jm58660\n\n**Branch/Commit:** [cbb20e6338d5326fffa0c87f77b56d24add44b52](https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/29103\n\n",
    "closed_at": "2020-02-10T20:05:41Z",
    "created_at": "2020-01-29T15:21:18Z",
    "labels": [
        "component: refactoring",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "title": "get rid of part of itervalues",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/29103",
    "user": "https://github.com/fchapoton"
}
```
after #29077

There are much more cases, so only half of them is taken care of.

**CC:**  @tscrim @jm58660

**Branch/Commit:** [cbb20e6338d5326fffa0c87f77b56d24add44b52](https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52)

**Reviewer:** Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/29103





---

archive/issue_comments_458462.json:
```json
{
    "body": "**Branch:** [u/chapoton/29103](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29103)",
    "created_at": "2020-01-29T15:22:02Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458462",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/29103](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29103)



---

archive/issue_events_258656.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-29T15:22:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-258656"
}
```



---

archive/issue_comments_458463.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47f6d46f6f59823f1f26df4002eb5b349c08370b\">47f6d46</a></td><td><code>first parameter must be self</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce\">7072bce</a></td><td><code>get rid of some calls to six.itervalues</code></td></tr></table>\n",
    "created_at": "2020-01-29T15:22:02Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458463",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47f6d46f6f59823f1f26df4002eb5b349c08370b">47f6d46</a></td><td><code>first parameter must be self</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce">7072bce</a></td><td><code>get rid of some calls to six.itervalues</code></td></tr></table>




---

archive/issue_comments_458464.json:
```json
{
    "body": "**Commit:** [7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce](https://github.com/sagemath/sagetrac-mirror/commit/7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce)",
    "created_at": "2020-01-29T15:22:02Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458464",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce](https://github.com/sagemath/sagetrac-mirror/commit/7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce)



---

archive/issue_comments_458465.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7cbd2c26471695d6541eb05b965a9d316700395b\">7cbd2c2</a></td><td><code>get rid of some call to six.itervalues</code></td></tr></table>\n",
    "created_at": "2020-01-29T15:22:39Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458465",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7cbd2c26471695d6541eb05b965a9d316700395b">7cbd2c2</a></td><td><code>get rid of some call to six.itervalues</code></td></tr></table>




---

archive/issue_comments_458466.json:
```json
{
    "body": "**Changing commit** from \"[7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce](https://github.com/sagemath/sagetrac-mirror/commit/7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce)\" to \"[7cbd2c26471695d6541eb05b965a9d316700395b](https://github.com/sagemath/sagetrac-mirror/commit/7cbd2c26471695d6541eb05b965a9d316700395b)\".",
    "created_at": "2020-01-29T15:22:39Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458466",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce](https://github.com/sagemath/sagetrac-mirror/commit/7072bce7ffe7352aa8a9703e369bf7fb9b3c19ce)" to "[7cbd2c26471695d6541eb05b965a9d316700395b](https://github.com/sagemath/sagetrac-mirror/commit/7cbd2c26471695d6541eb05b965a9d316700395b)".



---

archive/issue_comments_458467.json:
```json
{
    "body": "**Changing commit** from \"[7cbd2c26471695d6541eb05b965a9d316700395b](https://github.com/sagemath/sagetrac-mirror/commit/7cbd2c26471695d6541eb05b965a9d316700395b)\" to \"[cbb20e6338d5326fffa0c87f77b56d24add44b52](https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52)\".",
    "created_at": "2020-01-29T19:08:54Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458467",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7cbd2c26471695d6541eb05b965a9d316700395b](https://github.com/sagemath/sagetrac-mirror/commit/7cbd2c26471695d6541eb05b965a9d316700395b)" to "[cbb20e6338d5326fffa0c87f77b56d24add44b52](https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52)".



---

archive/issue_comments_458468.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52\">cbb20e6</a></td><td><code>fix pyflakes warning</code></td></tr></table>\n",
    "created_at": "2020-01-29T19:08:54Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458468",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52">cbb20e6</a></td><td><code>fix pyflakes warning</code></td></tr></table>




---

archive/issue_comments_458469.json:
```json
{
    "body": "<a id='comment:4'></a>\ngreen bot, please review",
    "created_at": "2020-01-29T21:14:12Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458469",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
green bot, please review



---

archive/issue_comments_458470.json:
```json
{
    "body": "<a id='comment:5'></a>\nI am not sure we should be doing this yet given that 9.1 will still be supporting Python2. Although I believe from the sage-devel discussion, are considering 9.0 the last properly Python2 supported version of Sage. So by that, it would be good to do it now. Although if 9.1 is the last such one, then we should wait a little bit I think.",
    "created_at": "2020-01-30T01:48:06Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458470",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
I am not sure we should be doing this yet given that 9.1 will still be supporting Python2. Although I believe from the sage-devel discussion, are considering 9.0 the last properly Python2 supported version of Sage. So by that, it would be good to do it now. Although if 9.1 is the last such one, then we should wait a little bit I think.



---

archive/issue_comments_458471.json:
```json
{
    "body": "<a id='comment:6'></a>\nI did that carefully in such a way that this remains fully python2-compatible.",
    "created_at": "2020-01-30T07:45:09Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458471",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
I did that carefully in such a way that this remains fully python2-compatible.



---

archive/issue_comments_458472.json:
```json
{
    "body": "<a id='comment:7'></a>\nSorry, my response was poorly phrased. I meant the efficiency aspects with entire lists being created and returned in Python2 with these changes. I agree that it is fully Python2-compatible, but there will be a speed/memory difference between the two. Admittedly, this is not a very strong position considering the cases where this would matter are somewhat rare IMO. If you think that we should go ahead with only caring about Python3 at this point in time, then we can set this to a positive review.",
    "created_at": "2020-01-30T22:40:14Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458472",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Sorry, my response was poorly phrased. I meant the efficiency aspects with entire lists being created and returned in Python2 with these changes. I agree that it is fully Python2-compatible, but there will be a speed/memory difference between the two. Admittedly, this is not a very strong position considering the cases where this would matter are somewhat rare IMO. If you think that we should go ahead with only caring about Python3 at this point in time, then we can set this to a positive review.



---

archive/issue_comments_458473.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2020-01-30T22:40:14Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458473",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_458474.json:
```json
{
    "body": "<a id='comment:8'></a>\nI think that people cannot both ask for speed with python2 and use the latest sage..\n\nTherefore setting to positive",
    "created_at": "2020-01-31T09:57:58Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458474",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
I think that people cannot both ask for speed with python2 and use the latest sage..

Therefore setting to positive



---

archive/issue_events_258657.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-31T09:57:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-258657"
}
```



---

archive/issue_events_258658.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-31T09:57:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-258658"
}
```



---

archive/issue_comments_458475.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/29103](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29103)\" to \"[cbb20e6338d5326fffa0c87f77b56d24add44b52](https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52)\".",
    "created_at": "2020-02-10T20:05:41Z",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29103#issuecomment-458475",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/29103](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29103)" to "[cbb20e6338d5326fffa0c87f77b56d24add44b52](https://github.com/sagemath/sagetrac-mirror/commit/cbb20e6338d5326fffa0c87f77b56d24add44b52)".



---

archive/issue_events_258659.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-02-10T20:05:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-258659"
}
```



---

archive/issue_events_258660.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-02-10T20:05:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29103",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29103#event-258660"
}
```
