# Issue 29615: Fusion Ring Operations; Central Charge

archive/issues_029378.json:
```json
{
    "body": "This ticket is a successor to #27036.\n\nThe Virasoro central charge of a `FusionRing` is computed using the formula for WZW conformal field theories. This allows us to coerce the square root of the global quantum dimension into the cyclotomic field and normalize the S-matrix. So there are a lot of benfits.\n\nHere is a temporary link to a build of the documentation:\n\nhttp://match.stanford.edu/reference/combinat/sage/combinat/root_system/fusion_ring.html\n\nAssignee: @physicstravels\n\nCC:  @tscrim sage-combinat @dwbump @willieab\n\nBranch/Commit: c3a80369f6157f91cebfccd213ae296c919124bc\n\nReviewer: Travis Scrimshaw\n\nAuthor: Daniel Bump, Guillermo Aboumrad\n\nDependencies: #27036\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29615\n\n",
    "closed_at": "2020-07-08T19:34:22Z",
    "created_at": "2020-04-29T00:23:40Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Fusion Ring Operations; Central Charge",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29615",
    "user": "https://github.com/physicstravels"
}
```
This ticket is a successor to #27036.

The Virasoro central charge of a `FusionRing` is computed using the formula for WZW conformal field theories. This allows us to coerce the square root of the global quantum dimension into the cyclotomic field and normalize the S-matrix. So there are a lot of benfits.

Here is a temporary link to a build of the documentation:

http://match.stanford.edu/reference/combinat/sage/combinat/root_system/fusion_ring.html

Assignee: @physicstravels

CC:  @tscrim sage-combinat @dwbump @willieab

Branch/Commit: c3a80369f6157f91cebfccd213ae296c919124bc

Reviewer: Travis Scrimshaw

Author: Daniel Bump, Guillermo Aboumrad

Dependencies: #27036

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29615





---

archive/issue_comments_416160.json:
```json
{
    "body": "Set assignee to @physicstravels.",
    "created_at": "2020-04-29T00:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416160",
    "user": "https://github.com/physicstravels"
}
```

Set assignee to @physicstravels.



---

archive/issue_comments_416161.json:
```json
{
    "body": "Changing priority from major to trivial.",
    "created_at": "2020-04-29T00:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416161",
    "user": "https://github.com/physicstravels"
}
```

Changing priority from major to trivial.



---

archive/issue_comments_416162.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2020-04-29T00:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416162",
    "user": "https://github.com/physicstravels"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_416163.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2020-04-29T00:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416163",
    "user": "https://github.com/physicstravels"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_416164.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-29T01:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416164",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_416165.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-29T01:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416165",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_416166.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-29T02:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416166",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_416167.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-04-29T02:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416167",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_416168.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-29T02:51:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416168",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_416169.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-29T02:57:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416169",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_075642.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-29T19:27:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29615#event-75642"
}
```



---

archive/issue_comments_416170.json:
```json
{
    "body": "<a id='comment:11'></a>I am changing the branch from u/gh-physicstravels/fusion_ring_operations\nto public/fusion_central_charge-29615. The original branch was merged into\npublic/fusion_ring_operations-27036.\n\n---\nLast 10 new commits:",
    "created_at": "2020-07-01T02:21:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416170",
    "user": "https://github.com/dwbump"
}
```

<a id='comment:11'></a>I am changing the branch from u/gh-physicstravels/fusion_ring_operations
to public/fusion_central_charge-29615. The original branch was merged into
public/fusion_ring_operations-27036.

---
Last 10 new commits:



---

archive/issue_comments_416171.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-01T16:21:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416171",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_416172.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-07-01T16:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416172",
    "user": "https://github.com/dwbump"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_416173.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-01T22:46:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416173",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_416174.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-01T23:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416174",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_416175.json:
```json
{
    "body": "<a id='comment:18'></a>I made some reviewer changes. Most of them are documentation and coding style, but two important things:\n\n- Renamed `to_field` to `root_of_unity` as I feel this is more descriptive of what the method actually does.\n- Implemented what appears to generically be a faster normalization of the `twist`:\n  {{{\nsage: E62 = FusionRing(\"E6\", 2)\nsage: %timeit [x.twist() for x in E62.basis()]\n10000 loops, best of 5: 125 \u00b5s per loop\n  }}}\n  versus before\n  {{{\n10000 loops, best of 5: 128 \u00b5s per loop\n  }}}\n  I am getting these precise timings consistently, so the ~2% speedup is not just noise.\n\nIf my changes are good, then you can set a positive review.",
    "created_at": "2020-07-01T23:55:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416175",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>I made some reviewer changes. Most of them are documentation and coding style, but two important things:

- Renamed `to_field` to `root_of_unity` as I feel this is more descriptive of what the method actually does.
- Implemented what appears to generically be a faster normalization of the `twist`:
  {{{
sage: E62 = FusionRing("E6", 2)
sage: %timeit [x.twist() for x in E62.basis()]
10000 loops, best of 5: 125 µs per loop
  }}}
  versus before
  {{{
10000 loops, best of 5: 128 µs per loop
  }}}
  I am getting these precise timings consistently, so the ~2% speedup is not just noise.

If my changes are good, then you can set a positive review.



---

archive/issue_comments_416176.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-02T05:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416176",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_416177.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-07-02T12:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416177",
    "user": "https://github.com/dwbump"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_416178.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-08T19:34:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29615#issuecomment-416178",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_075643.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-08T19:34:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29615",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29615#event-75643"
}
```
