# Issue 17906: Random symmetric, skew symmetric etc. matrices

archive/issues_017906.json:
```json
{
    "body": "CC:  vdelecroix kalvotom pelegm\n\nAdd a function to generate random matrices that are, for example, symmetric, skew symmetric, upper/lower triangular etc.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18143\n\n",
    "created_at": "2015-04-08T10:52:29Z",
    "labels": [
        "linear algebra",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Random symmetric, skew symmetric etc. matrices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17906",
    "user": "jmantysalo"
}
```
CC:  vdelecroix kalvotom pelegm

Add a function to generate random matrices that are, for example, symmetric, skew symmetric, upper/lower triangular etc.

Issue created by migration from https://trac.sagemath.org/ticket/18143





---

archive/issue_comments_240392.json:
```json
{
    "body": "I needed this once for a few special classes of matrices. A few things turned out to be necessary that I initially didn't consider. The ability to specify,\n\n* Whether or not you want the zero matrix\n* The base ring\n* The rank of the resulting matrix\n\nI have `random_psd()` here:\n\nhttp://michael.orlitzky.com/git/?p=sage.d.git;a=blob;f=mjo/cone/symmetric_psd.py;h=bb46fc926ec8dc23588ef08ea49a974060a02841;hb=HEAD\n\nand you can feel free to steal that code.\n\nWhat I really wanted, in that case, was a doubly-non-negative matrix. I implemented `random_doubly_nonnegative()` too if you promise not to laugh at my algorithm.\n\nhttp://michael.orlitzky.com/git/?p=sage.d.git;a=blob;f=mjo/cone/doubly_nonnegative.py;h=56a655e52c5cd60cbf1073c351e65833e5f54500;hb=HEAD\n\nPer the docstrings, \"random\" is a bit of a euphemism.",
    "created_at": "2015-04-08T14:46:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17906#issuecomment-240392",
    "user": "mjo"
}
```

I needed this once for a few special classes of matrices. A few things turned out to be necessary that I initially didn't consider. The ability to specify,

* Whether or not you want the zero matrix
* The base ring
* The rank of the resulting matrix

I have `random_psd()` here:

http://michael.orlitzky.com/git/?p=sage.d.git;a=blob;f=mjo/cone/symmetric_psd.py;h=bb46fc926ec8dc23588ef08ea49a974060a02841;hb=HEAD

and you can feel free to steal that code.

What I really wanted, in that case, was a doubly-non-negative matrix. I implemented `random_doubly_nonnegative()` too if you promise not to laugh at my algorithm.

http://michael.orlitzky.com/git/?p=sage.d.git;a=blob;f=mjo/cone/doubly_nonnegative.py;h=56a655e52c5cd60cbf1073c351e65833e5f54500;hb=HEAD

Per the docstrings, "random" is a bit of a euphemism.



---

archive/issue_comments_240393.json:
```json
{
    "body": "Hello,\n\nI think we should change the keyword `algorithm`. The fact that output satisfies such and such properties (=specification) is not the way it is generated (=algorithm). I suggest to move the properties to separated keywords as we might want combination of keywords here.\n\nAnyway, having only one function handling all of this looks like too much to me.\n\nVincent",
    "created_at": "2015-04-09T08:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17906#issuecomment-240393",
    "user": "vdelecroix"
}
```

Hello,

I think we should change the keyword `algorithm`. The fact that output satisfies such and such properties (=specification) is not the way it is generated (=algorithm). I suggest to move the properties to separated keywords as we might want combination of keywords here.

Anyway, having only one function handling all of this looks like too much to me.

Vincent



---

archive/issue_comments_240394.json:
```json
{
    "body": "Replying to [comment:2 vdelecroix]:\n\n> Anyway, having only one function handling all of this looks like too much to me.\n\nThen what should be names for functions, if we split this? One for random general matrix and another for square matrix? Or something for integer matrices only?",
    "created_at": "2015-04-09T10:16:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17906#issuecomment-240394",
    "user": "jmantysalo"
}
```

Replying to [comment:2 vdelecroix]:

> Anyway, having only one function handling all of this looks like too much to me.

Then what should be names for functions, if we split this? One for random general matrix and another for square matrix? Or something for integer matrices only?



---

archive/issue_comments_240395.json:
```json
{
    "body": "Replying to [comment:1 mjo]:\n> Per the docstrings, \"random\" is a bit of a euphemism.\n\nIt might be useful to have generators of random matrix ensembles (e.g. see http://en.wikipedia.org/wiki/Random_matrix, or section 4.3 in http://web.eecs.umich.edu/~rajnrao/Acta05rmt.pdf). Then the word \"random\" would get a better meaning...",
    "created_at": "2015-04-09T12:31:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17906#issuecomment-240395",
    "user": "kalvotom"
}
```

Replying to [comment:1 mjo]:
> Per the docstrings, "random" is a bit of a euphemism.

It might be useful to have generators of random matrix ensembles (e.g. see http://en.wikipedia.org/wiki/Random_matrix, or section 4.3 in http://web.eecs.umich.edu/~rajnrao/Acta05rmt.pdf). Then the word "random" would get a better meaning...



---

archive/issue_comments_240396.json:
```json
{
    "body": "Can we start by adding keyword `shape` with possible values `upper-triangular`, `lower-triangular`, `diagonal`, `symmetric` and `skew-symmetric`? For now it could raise an exception when used together with `algorithm` -option.",
    "created_at": "2015-04-15T11:27:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17906#issuecomment-240396",
    "user": "jmantysalo"
}
```

Can we start by adding keyword `shape` with possible values `upper-triangular`, `lower-triangular`, `diagonal`, `symmetric` and `skew-symmetric`? For now it could raise an exception when used together with `algorithm` -option.



---

archive/issue_comments_240397.json:
```json
{
    "body": "Replying to [comment:7 jmantysalo]:\n> Can we start by adding keyword `shape` with possible values `upper-triangular`, `lower-triangular`, `diagonal`, `symmetric` and `skew-symmetric`? For now it could raise an exception when used together with `algorithm` -option.\n\nAdding the `shape` keyword Looks good to me. But what would we do with `random_matrix(algorithm='echelon_form')`? A deprecation?",
    "created_at": "2015-09-13T03:03:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17906#issuecomment-240397",
    "user": "vdelecroix"
}
```

Replying to [comment:7 jmantysalo]:
> Can we start by adding keyword `shape` with possible values `upper-triangular`, `lower-triangular`, `diagonal`, `symmetric` and `skew-symmetric`? For now it could raise an exception when used together with `algorithm` -option.

Adding the `shape` keyword Looks good to me. But what would we do with `random_matrix(algorithm='echelon_form')`? A deprecation?
