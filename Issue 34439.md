# Issue 34439: Upgrade pip 22.3

Issue created by migration from https://trac.sagemath.org/ticket/34676

Original creator: mkoeppe

Original creation time: 2022-10-18 06:33:38




---

Comment by mkoeppe created at 2022-10-18 07:40:26

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2022-10-18 07:40:26

Last 10 new commits:


---

Comment by chapoton created at 2022-10-18 18:48:10

argon2_cffi no longer depends on six, see #34419


---

Comment by git created at 2022-10-18 20:12:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-10-20 03:28:03

dropped the argon2_cffi upgrade, which is on #34419


---

Comment by git created at 2022-10-20 03:28:17

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:


---

Comment by klee created at 2022-10-20 05:45:54

Would you explain these dependencies changes

```diff
--- a/build/pkgs/jsonschema/dependencies
+++ b/build/pkgs/jsonschema/dependencies
@@ -1,4 +1,4 @@
-$(PYTHON) vcversioner attrs importlib_metadata pyrsistent | $(PYTHON_TOOLCHAIN) hatchling
+$(PYTHON) vcversioner attrs importlib_metadata pyrsistent | $(PYTHON_TOOLCHAIN) hatchling hatch_fancy_pypi_readme
```


```diff
--- a/build/pkgs/platformdirs/dependencies
+++ b/build/pkgs/platformdirs/dependencies
@@ -1,4 +1,4 @@
-$(PYTHON) | $(PYTHON_TOOLCHAIN)
+$(PYTHON) setuptools_scm | $(PYTHON_TOOLCHAIN) hatchling hatch_vcs
```

Or how can I check them?


---

Comment by git created at 2022-10-30 21:40:41

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:


---

Comment by git created at 2022-10-30 21:47:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-10-30 21:51:12

Replying to [comment:8 Kwankyu Lee]:
> Would you explain these dependencies changes
> {{{#!diff
> --- a/build/pkgs/jsonschema/dependencies
> +++ b/build/pkgs/jsonschema/dependencies
> `@``@` -1,4 +1,4 `@``@`
> -$(PYTHON) vcversioner attrs importlib_metadata pyrsistent | $(PYTHON_TOOLCHAIN) hatchling
> +$(PYTHON) vcversioner attrs importlib_metadata pyrsistent | $(PYTHON_TOOLCHAIN) hatchling hatch_fancy_pypi_readme
> }}}

This is from https://github.com/python-jsonschema/jsonschema/blob/main/pyproject.toml#L1, but in fact we also need `hatch_vcs` here


> {{{#!diff
> --- a/build/pkgs/platformdirs/dependencies
> +++ b/build/pkgs/platformdirs/dependencies
> `@``@` -1,4 +1,4 `@``@`
> -$(PYTHON) | $(PYTHON_TOOLCHAIN)
> +$(PYTHON) setuptools_scm | $(PYTHON_TOOLCHAIN) hatchling hatch_vcs
> }}}
> Or how can I check them?
> 

This is from https://github.com/platformdirs/platformdirs/blob/main/pyproject.toml#L1


---

Comment by git created at 2022-10-30 21:52:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-10-30 22:07:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-10-30 22:13:57

Currently we don't have better infrastructure for doing upgrades than trying the upgrade & watching for error messages while doing a build with high parallelization


---

Comment by klee created at 2022-10-31 01:43:04

Replying to [comment:14 Matthias KÃ¶ppe]:
> Currently we don't have better infrastructure for doing upgrades than trying the upgrade & watching for error messages while doing a build with high parallelization

I understand. Hence the author is most informed of the sources of dependencies changes. I think it should be a norm that the author provides the information at least when the change is the reason to introduce new standard packages, perhaps in the ticket description.


---

Comment by mkoeppe created at 2022-10-31 02:51:53

Thanks, the ticket description is a good place for this (in addition to the commit messages)


---

Comment by klee created at 2022-10-31 03:29:49

LGTM. Thanks.


---

Comment by klee created at 2022-10-31 03:29:49

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-10-31 07:10:57

Thank you!


---

Comment by vbraun created at 2022-11-07 20:25:31

Resolution: fixed
