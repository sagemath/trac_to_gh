# Issue 34439: Upgrade pip 22.3

archive/issues_034439.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/34676\n\n",
    "created_at": "2022-10-18T06:33:38Z",
    "labels": [
        "packages: standard",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Upgrade pip 22.3",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34439",
    "user": "@mkoeppe"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/34676





---

archive/issue_comments_487892.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-10-18T07:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487892",
    "user": "@mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_487893.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2022-10-18T07:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487893",
    "user": "@mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_487894.json:
```json
{
    "body": "argon2_cffi no longer depends on six, see #34419",
    "created_at": "2022-10-18T18:48:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487894",
    "user": "@fchapoton"
}
```

argon2_cffi no longer depends on six, see #34419



---

archive/issue_comments_487895.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-18T20:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487895",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487896.json:
```json
{
    "body": "dropped the argon2_cffi upgrade, which is on #34419",
    "created_at": "2022-10-20T03:28:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487896",
    "user": "@mkoeppe"
}
```

dropped the argon2_cffi upgrade, which is on #34419



---

archive/issue_comments_487897.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2022-10-20T03:28:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487897",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_487898.json:
```json
{
    "body": "Would you explain these dependencies changes\n\n```diff\n--- a/build/pkgs/jsonschema/dependencies\n+++ b/build/pkgs/jsonschema/dependencies\n@@ -1,4 +1,4 @@\n-$(PYTHON) vcversioner attrs importlib_metadata pyrsistent | $(PYTHON_TOOLCHAIN) hatchling\n+$(PYTHON) vcversioner attrs importlib_metadata pyrsistent | $(PYTHON_TOOLCHAIN) hatchling hatch_fancy_pypi_readme\n```\n\n\n```diff\n--- a/build/pkgs/platformdirs/dependencies\n+++ b/build/pkgs/platformdirs/dependencies\n@@ -1,4 +1,4 @@\n-$(PYTHON) | $(PYTHON_TOOLCHAIN)\n+$(PYTHON) setuptools_scm | $(PYTHON_TOOLCHAIN) hatchling hatch_vcs\n```\n\nOr how can I check them?",
    "created_at": "2022-10-20T05:45:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487898",
    "user": "@kwankyu"
}
```

Would you explain these dependencies changes

```diff
--- a/build/pkgs/jsonschema/dependencies
+++ b/build/pkgs/jsonschema/dependencies
@@ -1,4 +1,4 @@
-$(PYTHON) vcversioner attrs importlib_metadata pyrsistent | $(PYTHON_TOOLCHAIN) hatchling
+$(PYTHON) vcversioner attrs importlib_metadata pyrsistent | $(PYTHON_TOOLCHAIN) hatchling hatch_fancy_pypi_readme
```


```diff
--- a/build/pkgs/platformdirs/dependencies
+++ b/build/pkgs/platformdirs/dependencies
@@ -1,4 +1,4 @@
-$(PYTHON) | $(PYTHON_TOOLCHAIN)
+$(PYTHON) setuptools_scm | $(PYTHON_TOOLCHAIN) hatchling hatch_vcs
```

Or how can I check them?



---

archive/issue_comments_487899.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2022-10-30T21:40:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487899",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_487900.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-30T21:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487900",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487901.json:
```json
{
    "body": "Replying to [comment:8 Kwankyu Lee]:\n> Would you explain these dependencies changes\n> {{{#!diff\n> --- a/build/pkgs/jsonschema/dependencies\n> +++ b/build/pkgs/jsonschema/dependencies\n> `@``@` -1,4 +1,4 `@``@`\n> -$(PYTHON) vcversioner attrs importlib_metadata pyrsistent | $(PYTHON_TOOLCHAIN) hatchling\n> +$(PYTHON) vcversioner attrs importlib_metadata pyrsistent | $(PYTHON_TOOLCHAIN) hatchling hatch_fancy_pypi_readme\n> }}}\n\nThis is from https://github.com/python-jsonschema/jsonschema/blob/main/pyproject.toml#L1, but in fact we also need `hatch_vcs` here\n\n\n> {{{#!diff\n> --- a/build/pkgs/platformdirs/dependencies\n> +++ b/build/pkgs/platformdirs/dependencies\n> `@``@` -1,4 +1,4 `@``@`\n> -$(PYTHON) | $(PYTHON_TOOLCHAIN)\n> +$(PYTHON) setuptools_scm | $(PYTHON_TOOLCHAIN) hatchling hatch_vcs\n> }}}\n> Or how can I check them?\n> \n\nThis is from https://github.com/platformdirs/platformdirs/blob/main/pyproject.toml#L1",
    "created_at": "2022-10-30T21:51:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487901",
    "user": "@mkoeppe"
}
```

Replying to [comment:8 Kwankyu Lee]:
> Would you explain these dependencies changes
> {{{#!diff
> --- a/build/pkgs/jsonschema/dependencies
> +++ b/build/pkgs/jsonschema/dependencies
> `@``@` -1,4 +1,4 `@``@`
> -$(PYTHON) vcversioner attrs importlib_metadata pyrsistent | $(PYTHON_TOOLCHAIN) hatchling
> +$(PYTHON) vcversioner attrs importlib_metadata pyrsistent | $(PYTHON_TOOLCHAIN) hatchling hatch_fancy_pypi_readme
> }}}

This is from https://github.com/python-jsonschema/jsonschema/blob/main/pyproject.toml#L1, but in fact we also need `hatch_vcs` here


> {{{#!diff
> --- a/build/pkgs/platformdirs/dependencies
> +++ b/build/pkgs/platformdirs/dependencies
> `@``@` -1,4 +1,4 `@``@`
> -$(PYTHON) | $(PYTHON_TOOLCHAIN)
> +$(PYTHON) setuptools_scm | $(PYTHON_TOOLCHAIN) hatchling hatch_vcs
> }}}
> Or how can I check them?
> 

This is from https://github.com/platformdirs/platformdirs/blob/main/pyproject.toml#L1



---

archive/issue_comments_487902.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-30T21:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487902",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487903.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-30T22:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487903",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487904.json:
```json
{
    "body": "Currently we don't have better infrastructure for doing upgrades than trying the upgrade & watching for error messages while doing a build with high parallelization",
    "created_at": "2022-10-30T22:13:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487904",
    "user": "@mkoeppe"
}
```

Currently we don't have better infrastructure for doing upgrades than trying the upgrade & watching for error messages while doing a build with high parallelization



---

archive/issue_comments_487905.json:
```json
{
    "body": "Replying to [comment:14 Matthias K\u00f6ppe]:\n> Currently we don't have better infrastructure for doing upgrades than trying the upgrade & watching for error messages while doing a build with high parallelization\n\nI understand. Hence the author is most informed of the sources of dependencies changes. I think it should be a norm that the author provides the information at least when the change is the reason to introduce new standard packages, perhaps in the ticket description.",
    "created_at": "2022-10-31T01:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487905",
    "user": "@kwankyu"
}
```

Replying to [comment:14 Matthias Köppe]:
> Currently we don't have better infrastructure for doing upgrades than trying the upgrade & watching for error messages while doing a build with high parallelization

I understand. Hence the author is most informed of the sources of dependencies changes. I think it should be a norm that the author provides the information at least when the change is the reason to introduce new standard packages, perhaps in the ticket description.



---

archive/issue_comments_487906.json:
```json
{
    "body": "Thanks, the ticket description is a good place for this (in addition to the commit messages)",
    "created_at": "2022-10-31T02:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487906",
    "user": "@mkoeppe"
}
```

Thanks, the ticket description is a good place for this (in addition to the commit messages)



---

archive/issue_comments_487907.json:
```json
{
    "body": "LGTM. Thanks.",
    "created_at": "2022-10-31T03:29:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487907",
    "user": "@kwankyu"
}
```

LGTM. Thanks.



---

archive/issue_comments_487908.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-10-31T03:29:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487908",
    "user": "@kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_487909.json:
```json
{
    "body": "Thank you!",
    "created_at": "2022-10-31T07:10:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487909",
    "user": "@mkoeppe"
}
```

Thank you!



---

archive/issue_comments_487910.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-11-07T20:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34439",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34439#issuecomment-487910",
    "user": "@vbraun"
}
```

Resolution: fixed
