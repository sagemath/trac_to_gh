# Issue 11689: Saturation of ideals

archive/issues_011689.json:
```json
{
    "body": "Assignee: malb\n\nCC:  burcin simonking\n\nKeywords: saturation, ideal, sd34\n\nReturns the saturation of ideal with respect to another ideal.\nEXAMPLE:\n\n```\nsage: R.<x,y,z>=QQ[]\nsage: I = R.ideal(x^5*z^3,x*y*z,y*z^4)\nsage: J = R.ideal(z)\nsage: I.saturation(J)\nIdeal (y, x^5) of Multivariate Polynomial Ring in x, y, z over Rational Field\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/11861\n\n",
    "created_at": "2011-09-28T13:33:13Z",
    "labels": [
        "commutative algebra",
        "trivial",
        "bug"
    ],
    "title": "Saturation of ideals",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11689",
    "user": "dangtuanhiep"
}
```
Assignee: malb

CC:  burcin simonking

Keywords: saturation, ideal, sd34

Returns the saturation of ideal with respect to another ideal.
EXAMPLE:

```
sage: R.<x,y,z>=QQ[]
sage: I = R.ideal(x^5*z^3,x*y*z,y*z^4)
sage: J = R.ideal(z)
sage: I.saturation(J)
Ideal (y, x^5) of Multivariate Polynomial Ring in x, y, z over Rational Field
```


Issue created by migration from https://trac.sagemath.org/ticket/11861





---

archive/issue_comments_132153.json:
```json
{
    "body": "Attachment [trac_11861_saturation_ideal.patch](tarball://root/attachments/some-uuid/ticket11861/trac_11861_saturation_ideal.patch) by dangtuanhiep created at 2011-09-28 14:01:00",
    "created_at": "2011-09-28T14:01:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132153",
    "user": "dangtuanhiep"
}
```

Attachment [trac_11861_saturation_ideal.patch](tarball://root/attachments/some-uuid/ticket11861/trac_11861_saturation_ideal.patch) by dangtuanhiep created at 2011-09-28 14:01:00



---

archive/issue_comments_132154.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-09-28T14:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132154",
    "user": "dangtuanhiep"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_132155.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-10-04T15:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132155",
    "user": "lftabera"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_132156.json:
```json
{
    "body": "Nice addition, I will use this method a lot.\n\nSome comments:\n\n- I cannot apply the patch cleanly agains Sage 4.7.1 Which version are you using?\n\n- I think that having two separate functions is inefficient. Computing saturations    is very expensive. Many people computing the saturation index will probably want the saturation ideal as well. In this case they would need to compute the saturation twice. I think it is better to add only one method that returns the answer from Singular. A tuple whose first element is the saturation ideal and the second element the saturation index.\n\n- I suggest to improve the documentation. Some indication that `arg` is an ideal, what is the saturation of two ideals and the saturation index.\n\n- I am not sure how to deal with the rings that Singular does not understand. We will probably get a TypeError exception on those. Probably a NonImplementedError would make more sense here.",
    "created_at": "2011-10-04T15:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132156",
    "user": "lftabera"
}
```

Nice addition, I will use this method a lot.

Some comments:

- I cannot apply the patch cleanly agains Sage 4.7.1 Which version are you using?

- I think that having two separate functions is inefficient. Computing saturations    is very expensive. Many people computing the saturation index will probably want the saturation ideal as well. In this case they would need to compute the saturation twice. I think it is better to add only one method that returns the answer from Singular. A tuple whose first element is the saturation ideal and the second element the saturation index.

- I suggest to improve the documentation. Some indication that `arg` is an ideal, what is the saturation of two ideals and the saturation index.

- I am not sure how to deal with the rings that Singular does not understand. We will probably get a TypeError exception on those. Probably a NonImplementedError would make more sense here.



---

archive/issue_comments_132157.json:
```json
{
    "body": "Replying to [comment:3 lftabera]:\n> Nice addition, I will use this method a lot.\n> \n> Some comments:\n> \n> - I cannot apply the patch cleanly agains Sage 4.7.1 Which version are you using?\n> \n> - I think that having two separate functions is inefficient. Computing saturations    is very expensive. Many people computing the saturation index will probably want the saturation ideal as well. In this case they would need to compute the saturation twice. I think it is better to add only one method that returns the answer from Singular. A tuple whose first element is the saturation ideal and the second element the saturation index.\n\nOtherwise, ``@`cached_method` is your friend :)\n \n> - I suggest to improve the documentation. Some indication that `arg` is an ideal, what is the saturation of two ideals and the saturation index.\n\nAgred, the parameters are not documented at all, `INPUT:` block etc.\n \n> - I am not sure how to deal with the rings that Singular does not understand. We will probably get a TypeError exception on those. Probably a NonImplementedError would make more sense here.",
    "created_at": "2011-10-04T16:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132157",
    "user": "malb"
}
```

Replying to [comment:3 lftabera]:
> Nice addition, I will use this method a lot.
> 
> Some comments:
> 
> - I cannot apply the patch cleanly agains Sage 4.7.1 Which version are you using?
> 
> - I think that having two separate functions is inefficient. Computing saturations    is very expensive. Many people computing the saturation index will probably want the saturation ideal as well. In this case they would need to compute the saturation twice. I think it is better to add only one method that returns the answer from Singular. A tuple whose first element is the saturation ideal and the second element the saturation index.

Otherwise, ``@`cached_method` is your friend :)
 
> - I suggest to improve the documentation. Some indication that `arg` is an ideal, what is the saturation of two ideals and the saturation index.

Agred, the parameters are not documented at all, `INPUT:` block etc.
 
> - I am not sure how to deal with the rings that Singular does not understand. We will probably get a TypeError exception on those. Probably a NonImplementedError would make more sense here.



---

archive/issue_comments_132158.json:
```json
{
    "body": "Replying to [comment:4 malb]:\n\n> > - I think that having two separate functions is inefficient. Computing saturations    is very expensive.\n> \n> Otherwise, ``@`cached_method` is your friend :)\n\nYes, but I would try to avoid caching structures that can easily eat all your memory.",
    "created_at": "2011-10-05T07:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132158",
    "user": "lftabera"
}
```

Replying to [comment:4 malb]:

> > - I think that having two separate functions is inefficient. Computing saturations    is very expensive.
> 
> Otherwise, ``@`cached_method` is your friend :)

Yes, but I would try to avoid caching structures that can easily eat all your memory.



---

archive/issue_comments_132159.json:
```json
{
    "body": "Attachment [11861_one_method.patch](tarball://root/attachments/some-uuid/ticket11861/11861_one_method.patch) by mmarco created at 2013-07-01 13:06:12\n\nNew version, returns a tuple with both the ideal and the index.",
    "created_at": "2013-07-01T13:06:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132159",
    "user": "mmarco"
}
```

Attachment [11861_one_method.patch](tarball://root/attachments/some-uuid/ticket11861/11861_one_method.patch) by mmarco created at 2013-07-01 13:06:12

New version, returns a tuple with both the ideal and the index.



---

archive/issue_comments_132160.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-07-01T13:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132160",
    "user": "mmarco"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_132161.json:
```json
{
    "body": "Made a new patch (to be applied directly to a clean version of sage), that returns a tuple with both the saturation ideal and the saturation index.",
    "created_at": "2013-07-01T13:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132161",
    "user": "mmarco"
}
```

Made a new patch (to be applied directly to a clean version of sage), that returns a tuple with both the saturation ideal and the saturation index.



---

archive/issue_comments_132162.json:
```json
{
    "body": "for the bot:\n\napply only 11861_one_method.patch",
    "created_at": "2013-08-02T09:52:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132162",
    "user": "chapoton"
}
```

for the bot:

apply only 11861_one_method.patch



---

archive/issue_comments_132163.json:
```json
{
    "body": "Attachment [trac_11861_review.patch](tarball://root/attachments/some-uuid/ticket11861/trac_11861_review.patch) by chapoton created at 2013-08-02 10:13:29\n\nhere is a review patch. if you are happy with my changes, you can set the ticket to positive review",
    "created_at": "2013-08-02T10:13:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132163",
    "user": "chapoton"
}
```

Attachment [trac_11861_review.patch](tarball://root/attachments/some-uuid/ticket11861/trac_11861_review.patch) by chapoton created at 2013-08-02 10:13:29

here is a review patch. if you are happy with my changes, you can set the ticket to positive review



---

archive/issue_comments_132164.json:
```json
{
    "body": "Ok, looks good to me.",
    "created_at": "2013-08-02T15:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132164",
    "user": "mmarco"
}
```

Ok, looks good to me.



---

archive/issue_comments_132165.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-08-02T15:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132165",
    "user": "mmarco"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_132166.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-20T12:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11689",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11689#issuecomment-132166",
    "user": "jdemeyer"
}
```

Resolution: fixed
