# Issue 20018: Remove deprecated functions from generated html documentation

archive/issues_020018.json:
```json
{
    "body": "In sage versions up to 7.0 deprecated functions were not visible in html documentation. In sage 7.1. they are.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20255\n\n",
    "created_at": "2016-03-23T09:31:24Z",
    "labels": [
        "documentation",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Remove deprecated functions from generated html documentation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20018",
    "user": "jmantysalo"
}
```
In sage versions up to 7.0 deprecated functions were not visible in html documentation. In sage 7.1. they are.

Issue created by migration from https://trac.sagemath.org/ticket/20255





---

archive/issue_comments_275782.json:
```json
{
    "body": "Can you more concretely give an example of something that changed, to understand better what this bug is about?",
    "created_at": "2016-03-31T07:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275782",
    "user": "jdemeyer"
}
```

Can you more concretely give an example of something that changed, to understand better what this bug is about?



---

archive/issue_comments_275783.json:
```json
{
    "body": "Replying to [comment:1 jdemeyer]:\n> Can you more concretely give an example of something that changed, to understand better what this bug is about?\n\nI installed Sage to our server just like version 7.0 before. And now see for example http://sage-doc.sis.uta.fi/reference/combinat/sage/combinat/posets/posets.html. It contains `intervals()` which is deprecated and also doctring for `deprecated_function_alias()`.",
    "created_at": "2016-03-31T07:41:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275783",
    "user": "jmantysalo"
}
```

Replying to [comment:1 jdemeyer]:
> Can you more concretely give an example of something that changed, to understand better what this bug is about?

I installed Sage to our server just like version 7.0 before. And now see for example http://sage-doc.sis.uta.fi/reference/combinat/sage/combinat/posets/posets.html. It contains `intervals()` which is deprecated and also doctring for `deprecated_function_alias()`.



---

archive/issue_comments_275784.json:
```json
{
    "body": "I don't believe this has changed, I think it was always like this.",
    "created_at": "2016-03-31T08:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275784",
    "user": "jdemeyer"
}
```

I don't believe this has changed, I think it was always like this.



---

archive/issue_comments_275785.json:
```json
{
    "body": "Replying to [comment:3 jdemeyer]:\n> I don't believe this has changed, I think it was always like this.\n\nI tested with 6.10. True, except that `deprecated_function_alias()` was not included is `posets.html`.",
    "created_at": "2016-03-31T09:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275785",
    "user": "jmantysalo"
}
```

Replying to [comment:3 jdemeyer]:
> I don't believe this has changed, I think it was always like this.

I tested with 6.10. True, except that `deprecated_function_alias()` was not included is `posets.html`.



---

archive/issue_comments_275786.json:
```json
{
    "body": "Changing type from defect to enhancement.",
    "created_at": "2016-03-31T09:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275786",
    "user": "jmantysalo"
}
```

Changing type from defect to enhancement.



---

archive/issue_comments_275787.json:
```json
{
    "body": "I think that also there should not be deprecated functions visible in documentation. Or at least we should have an option to hide them, just like we already have for `TESTS`-blocks.",
    "created_at": "2016-03-31T10:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275787",
    "user": "jmantysalo"
}
```

I think that also there should not be deprecated functions visible in documentation. Or at least we should have an option to hide them, just like we already have for `TESTS`-blocks.



---

archive/issue_comments_275788.json:
```json
{
    "body": "Replying to [comment:4 jmantysalo]:\n> True, except that `deprecated_function_alias()` was not included is `posets.html`.\n\nThen why not say that from the beginning if that is the real bug?",
    "created_at": "2016-03-31T10:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275788",
    "user": "jdemeyer"
}
```

Replying to [comment:4 jmantysalo]:
> True, except that `deprecated_function_alias()` was not included is `posets.html`.

Then why not say that from the beginning if that is the real bug?



---

archive/issue_comments_275789.json:
```json
{
    "body": "Replying to [comment:7 jdemeyer]:\n> Replying to [comment:4 jmantysalo]:\n> > True, except that `deprecated_function_alias()` was not included is `posets.html`.\n> \n> Then why not say that from the beginning if that is the real bug?\n\nBecause I remembered wrong. I think that before this deprecated functions were not listed on html doc.",
    "created_at": "2016-03-31T10:52:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275789",
    "user": "jmantysalo"
}
```

Replying to [comment:7 jdemeyer]:
> Replying to [comment:4 jmantysalo]:
> > True, except that `deprecated_function_alias()` was not included is `posets.html`.
> 
> Then why not say that from the beginning if that is the real bug?

Because I remembered wrong. I think that before this deprecated functions were not listed on html doc.



---

archive/issue_comments_275790.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-03-31T11:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275790",
    "user": "jdemeyer"
}
```

New commits:



---

archive/issue_comments_275791.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-31T11:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275791",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_275792.json:
```json
{
    "body": "Should examples at developers manual, section \"Deprecation\", also be changed? They kind of suggests wrong way to make a deprecation.",
    "created_at": "2016-03-31T11:22:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275792",
    "user": "jmantysalo"
}
```

Should examples at developers manual, section "Deprecation", also be changed? They kind of suggests wrong way to make a deprecation.



---

archive/issue_comments_275793.json:
```json
{
    "body": "Replying to [comment:12 jmantysalo]:\n> They kind of suggests wrong way to make a deprecation.\n\nThe intent of the documentation is clear to me (you almost never want to import something inside a class), but I'm open to suggestions.",
    "created_at": "2016-03-31T11:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275793",
    "user": "jdemeyer"
}
```

Replying to [comment:12 jmantysalo]:
> They kind of suggests wrong way to make a deprecation.

The intent of the documentation is clear to me (you almost never want to import something inside a class), but I'm open to suggestions.



---

archive/issue_comments_275794.json:
```json
{
    "body": "Replying to [comment:13 jdemeyer]:\n> Replying to [comment:12 jmantysalo]:\n> > They kind of suggests wrong way to make a deprecation.\n> \n> The intent of the documentation is clear to me (you almost never want to import something inside a class), but I'm open to suggestions.\n\nI tried this:\n\n\n```\ndiff --git a/src/doc/en/developer/coding_in_python.rst b/src/doc/en/developer/coding_in_python.rst\nindex 4eec8bd..2f237a7 100644\n--- a/src/doc/en/developer/coding_in_python.rst\n+++ b/src/doc/en/developer/coding_in_python.rst\n@@ -491,19 +491,23 @@ documentation for more information on its behaviour and optional arguments.\n   ``my_function(my_old_keyword=5)`` will see a warning::\n \n       from sage.misc.decorators import rename_keyword\n-      @rename_keyword(deprecation=666, my_old_keyword='my_new_keyword')\n-      def my_function(my_new_keyword=True):\n-          return my_new_keyword\n+      ...\n+\n+          @rename_keyword(deprecation=666, my_old_keyword='my_new_keyword')\n+          def my_function(my_new_keyword=True):\n+              return my_new_keyword\n \n * **Rename a function/method:** call\n```\n\n\nbut then syntax highlight disappeared from html ouput. So maybe we forgot this, and I try to remember right place for `import` next time I deprecate something.",
    "created_at": "2016-04-01T09:41:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275794",
    "user": "jmantysalo"
}
```

Replying to [comment:13 jdemeyer]:
> Replying to [comment:12 jmantysalo]:
> > They kind of suggests wrong way to make a deprecation.
> 
> The intent of the documentation is clear to me (you almost never want to import something inside a class), but I'm open to suggestions.

I tried this:


```
diff --git a/src/doc/en/developer/coding_in_python.rst b/src/doc/en/developer/coding_in_python.rst
index 4eec8bd..2f237a7 100644
--- a/src/doc/en/developer/coding_in_python.rst
+++ b/src/doc/en/developer/coding_in_python.rst
@@ -491,19 +491,23 @@ documentation for more information on its behaviour and optional arguments.
   ``my_function(my_old_keyword=5)`` will see a warning::
 
       from sage.misc.decorators import rename_keyword
-      @rename_keyword(deprecation=666, my_old_keyword='my_new_keyword')
-      def my_function(my_new_keyword=True):
-          return my_new_keyword
+      ...
+
+          @rename_keyword(deprecation=666, my_old_keyword='my_new_keyword')
+          def my_function(my_new_keyword=True):
+              return my_new_keyword
 
 * **Rename a function/method:** call
```


but then syntax highlight disappeared from html ouput. So maybe we forgot this, and I try to remember right place for `import` next time I deprecate something.



---

archive/issue_comments_275795.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-04-02T14:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275795",
    "user": "mmezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_275796.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-04-03T23:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20018#issuecomment-275796",
    "user": "vbraun"
}
```

Resolution: fixed
