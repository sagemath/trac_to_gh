# Issue 20018: Remove deprecated functions from generated html documentation

Issue created by migration from Trac.

Original creator: jmantysalo

Original creation time: 2016-03-23 09:31:24

In sage versions up to 7.0 deprecated functions were not visible in html documentation. In sage 7.1. they are.


---

Comment by jdemeyer created at 2016-03-31 07:31:28

Can you more concretely give an example of something that changed, to understand better what this bug is about?


---

Comment by jmantysalo created at 2016-03-31 07:41:19

Replying to [comment:1 jdemeyer]:
> Can you more concretely give an example of something that changed, to understand better what this bug is about?

I installed Sage to our server just like version 7.0 before. And now see for example http://sage-doc.sis.uta.fi/reference/combinat/sage/combinat/posets/posets.html. It contains `intervals()` which is deprecated and also doctring for `deprecated_function_alias()`.


---

Comment by jdemeyer created at 2016-03-31 08:20:51

I don't believe this has changed, I think it was always like this.


---

Comment by jmantysalo created at 2016-03-31 09:56:33

Replying to [comment:3 jdemeyer]:
> I don't believe this has changed, I think it was always like this.

I tested with 6.10. True, except that `deprecated_function_alias()` was not included is `posets.html`.


---

Comment by jmantysalo created at 2016-03-31 09:56:33

Changing type from defect to enhancement.


---

Comment by jmantysalo created at 2016-03-31 10:17:58

I think that also there should not be deprecated functions visible in documentation. Or at least we should have an option to hide them, just like we already have for `TESTS`-blocks.


---

Comment by jdemeyer created at 2016-03-31 10:20:45

Replying to [comment:4 jmantysalo]:
> True, except that `deprecated_function_alias()` was not included is `posets.html`.

Then why not say that from the beginning if that is the real bug?


---

Comment by jmantysalo created at 2016-03-31 10:52:19

Replying to [comment:7 jdemeyer]:
> Replying to [comment:4 jmantysalo]:
> > True, except that `deprecated_function_alias()` was not included is `posets.html`.
> 
> Then why not say that from the beginning if that is the real bug?

Because I remembered wrong. I think that before this deprecated functions were not listed on html doc.


---

Comment by jdemeyer created at 2016-03-31 11:15:06

New commits:


---

Comment by jdemeyer created at 2016-03-31 11:15:06

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2016-03-31 11:22:48

Should examples at developers manual, section "Deprecation", also be changed? They kind of suggests wrong way to make a deprecation.


---

Comment by jdemeyer created at 2016-03-31 11:31:36

Replying to [comment:12 jmantysalo]:
> They kind of suggests wrong way to make a deprecation.

The intent of the documentation is clear to me (you almost never want to import something inside a class), but I'm open to suggestions.


---

Comment by jmantysalo created at 2016-04-01 09:41:58

Replying to [comment:13 jdemeyer]:
> Replying to [comment:12 jmantysalo]:
> > They kind of suggests wrong way to make a deprecation.
> 
> The intent of the documentation is clear to me (you almost never want to import something inside a class), but I'm open to suggestions.

I tried this:


```
diff --git a/src/doc/en/developer/coding_in_python.rst b/src/doc/en/developer/coding_in_python.rst
index 4eec8bd..2f237a7 100644
--- a/src/doc/en/developer/coding_in_python.rst
+++ b/src/doc/en/developer/coding_in_python.rst
`@``@` -491,19 +491,23 `@``@` documentation for more information on its behaviour and optional arguments.
   ``my_function(my_old_keyword=5)`` will see a warning::
 
       from sage.misc.decorators import rename_keyword
-      `@`rename_keyword(deprecation=666, my_old_keyword='my_new_keyword')
-      def my_function(my_new_keyword=True):
-          return my_new_keyword
+      ...
+
+          `@`rename_keyword(deprecation=666, my_old_keyword='my_new_keyword')
+          def my_function(my_new_keyword=True):
+              return my_new_keyword
 
 * **Rename a function/method:** call
```


but then syntax highlight disappeared from html ouput. So maybe we forgot this, and I try to remember right place for `import` next time I deprecate something.


---

Comment by mmezzarobba created at 2016-04-02 14:12:20

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-04-03 23:06:09

Resolution: fixed
