# Issue 15991: make tachyon respect standard verbosity settings

Issue created by migration from Trac.

Original creator: niles

Original creation time: 2014-04-24 14:07:02

Keywords: tachyon, verbose, beginner

`Tachyon.save` and `Tachyon.show` have their own arguments for verbose output and do not pay attention to the verbosity levels set by `sage.misc.misc.set_verbose`.  This makes for inconsistent and confusing interface.

Instead of checking the value of an optional argument, these methods should check sage's verbosity setting.  This is done implicitly when messages are printed with `sage.misc.misc.verbose`.  An explanation of this change should be added to the documentation.


---

Comment by paulgraham5 created at 2014-08-10 18:45:53

Since `Tachyon.show` calls `Tachyon.save` should `Tachyon.save` check the verbosity level and pass it to `tachyon_rt` in `sage.interfaces.tachyon`? or should all references to the verbosity level be removed from `Tachyon.show` and `Tachyon.save` and just check the verbosity level in `tachyon_rt`?


---

Comment by dimpase created at 2014-08-10 20:19:27

I'd not completely agree with the task as set out in the ticket description. Namely, it should be OK to use optional arguments to override the Sage's verbosity setting. This way, Tachyon.show/save should check their verbosity arguments, and if none are give, pass to `tachyon_rt` Sage's verbosity. Otherwise, they should pass the value of the optional argument given.


---

Comment by paulgraham5 created at 2014-08-13 06:25:34

New commits:


---

Comment by paulgraham5 created at 2014-08-13 06:25:34

Changing status from new to needs_review.


---

Comment by dimpase created at 2014-08-13 19:05:12

Can you provide doctests illustrating the effects of setting `sage.misc.misc.set_verbose` ? 

(don't forget to set `sage.misc.misc.set_verbose` back to its original value in such a doctest)


---

Comment by paulgraham5 created at 2014-08-14 23:29:04

Replying to [comment:7 dimpase]:
> Can you provide doctests illustrating the effects of setting `sage.misc.misc.set_verbose` ? 
> 
> (don't forget to set `sage.misc.misc.set_verbose` back to its original value in such a doctest)

Okay. How do you normally go about creating doctests? I haven’t done that before. From reading http://www.sagemath.org/doc/developer/doctesting.html#beyond-the-sage-library , i gather that, like in the examples section of a function definition eg: 



```
        r"""
        Creates a PNG file of the scene.

        EXAMPLES::

            sage: q = Tachyon()
            sage: q.light((-1,-1,10), 1,(1,1,1))
            sage: q.texture('s')
            sage: q.sphere((0,0,0),1,'s')
            sage: q.show(verbose=2)
        """
```


I put these further examples in this section, then run $ ./sage -t src/sage/plot/plot3d/tachyon.py ?
Or Are you referring to another method? :)


---

Comment by niles created at 2014-08-15 14:50:22

Replying to [comment:9 paulgraham5]:

> I put these further examples in this section, then run $ ./sage -t src/sage/plot/plot3d/tachyon.py ?

Right :)

Also, build the documentation and check that it looks good in the reference manual.


---

Comment by git created at 2014-08-20 18:55:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by paulgraham5 created at 2014-08-20 19:05:40

The reference manual looks okay, and the tests go through okay on my end. The doc-tests are a new concept to me, so hopefully they aren’t too bad :) .


---

Comment by chapoton created at 2014-09-03 19:19:27

I rebased on 6.4.beta2
----
New commits:


---

Comment by dimpase created at 2014-09-10 13:23:47

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2014-09-10 13:23:47

looks good to me.


---

Comment by vbraun created at 2014-09-10 21:45:12

Resolution: fixed
