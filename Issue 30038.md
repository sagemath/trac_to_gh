# Issue 30038: Replace AssertionError with ValueError

Issue created by migration from https://trac.sagemath.org/ticket/30275

Original creator: @mjungmath

Original creation time: 2020-08-02 20:41:41

CC:  egourgoulhon tscrim mkoeppe

Turns out that an `AssertionError` is inapropriate to raise when immutable elements are tried to be changed (see [here](https://docs.python.org/3/library/exceptions.html#AssertionError)):

> exception AssertionError
>    Raised when an assert statement fails.

since no `assert` statements are involved. A better choice would be a `ValueError`. Apart from the new immutability implementations, this would also depend on #30239 because the `AssertionError` due to immutability is catched there. The easiest way, I think, is to substitute them all at once after the immutability tickets have been finished (find & replace).


---

Comment by @mjungmath created at 2020-09-06 14:56:11

Changing status from new to needs_review.


---

Comment by @mjungmath created at 2020-09-06 14:56:11

New commits:


---

Comment by tscrim created at 2020-09-06 23:22:00

Why the change in `algebras/commutative_dga.py`?


---

Comment by @mjungmath created at 2020-09-06 23:24:56

That is not supposed to be there. I'll change it.


---

Comment by git created at 2020-09-07 00:04:00

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by @mjungmath created at 2020-09-07 00:04:20

There we go.


---

Comment by tscrim created at 2020-09-07 02:47:10

Thanks. LGTM.


---

Comment by tscrim created at 2020-09-07 02:47:10

Changing status from needs_review to positive_review.


---

Comment by @mjungmath created at 2020-09-07 14:54:26

Thank you for the quick review.

What about the pyflakes errors? It has nothing to do with the ticket, but shouldn't that be polished at some point?


---

Comment by tscrim created at 2020-09-07 23:55:37

Replying to [comment:12 gh-mjungmath]:
> Thank you for the quick review.

No problem.

> What about the pyflakes errors? It has nothing to do with the ticket, but shouldn't that be polished at some point?

Yes, but that is something for another ticket. You probably can take care of all of those at once for the manifolds folder.


---

Comment by vbraun created at 2020-09-15 21:58:35

Resolution: fixed
