# Issue 25747: Minor cleanup related to Monsky-Washnitzer

Issue created by migration from https://trac.sagemath.org/ticket/25984

Original creator: jdemeyer

Original creation time: 2018-08-01 12:48:22

CC:  @timokau

Prepare for #25971 and #25969


---

Comment by jdemeyer created at 2018-08-01 12:54:37

New commits:


---

Comment by jdemeyer created at 2018-08-01 12:54:37

Changing status from new to needs_review.


---

Comment by saraedum created at 2018-08-07 16:50:17

The patchbot seems to be unhappy. Is that related to this ticket? If not, feel free to set this to positive review.


---

Comment by jdemeyer created at 2018-08-07 19:06:29

Changing status from needs_review to needs_work.


---

Comment by @timokau created at 2018-08-07 20:04:15

I'm also getting doctest failures:


```
sage -t --long --warn-long 54.6 src/sage/schemes/elliptic_curves/sha_tate.py  # 15 doctests failed
sage -t --long --warn-long 54.6 src/sage/schemes/elliptic_curves/padics.py  # 41 doctests failed
sage -t --long --warn-long 54.6 src/doc/en/thematic_tutorials/explicit_methods_in_number_theory/elliptic_curves.rst  # 3 doctests failed
sage -t --long --warn-long 54.6 src/sage/rings/padics/padic_template_element.pxi  # 2 doctests failed
```



---

Comment by git created at 2018-08-07 20:45:24

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2018-08-07 20:46:00

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2018-08-08 08:03:26

Replying to [comment:4 saraedum]:
> The patchbot seems to be unhappy. Is that related to this ticket? If not, feel free to set this to positive review.

Fixed that by replacing `int(p)` -> `Integer(p)`.


---

Comment by @timokau created at 2018-08-08 08:17:29

Did you still use `prec = int(prec)` on purpose? Why did changing to `Integer` fix it? Does it have something to do with sages own integer type?


---

Comment by jdemeyer created at 2018-08-08 09:06:29

Replying to [comment:10 gh-timokau]:
> Did you still use `prec = int(prec)` on purpose?

It's what the old code did and there is no reason to change that.


---

Comment by jdemeyer created at 2018-08-08 09:07:14

Replying to [comment:10 gh-timokau]:
> Why did changing to `Integer` fix it?

Because the code was calling `p.divides(...)` which works for a Sage `Integer` but not a Python `int`.


---

Comment by @timokau created at 2018-08-08 09:10:41

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-08-09 21:27:41

Resolution: fixed
