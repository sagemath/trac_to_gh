# Issue 31505: MixedIntegerLinearProgram.ambient_manifold, feasible_subset, objective_scalar_field, optimal_subset

archive/issues_031505.json:
```json
{
    "body": "CC:  egourgoulhon @mjungmath tscrim yzh\n\nWe define some convenience methods that make it easy to construct manifold objects corresponding to linear and mixed-integer linear optimization problems.\n\nThe ambient manifold is just a Euclidean space, using the (formatted) variable names of the frontend.  We also define a backend chart using the variable names that the MILP backend uses.\n\nAdding variables to the MILP will define a `ContinuousMap` that injects the previous MILP into the new one.\n\nAdding constraints to the MILP will set up a subset.\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/31742\n\n",
    "created_at": "2021-04-27T20:21:41Z",
    "labels": [
        "manifolds",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "MixedIntegerLinearProgram.ambient_manifold, feasible_subset, objective_scalar_field, optimal_subset",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31505",
    "user": "mkoeppe"
}
```
CC:  egourgoulhon @mjungmath tscrim yzh

We define some convenience methods that make it easy to construct manifold objects corresponding to linear and mixed-integer linear optimization problems.

The ambient manifold is just a Euclidean space, using the (formatted) variable names of the frontend.  We also define a backend chart using the variable names that the MILP backend uses.

Adding variables to the MILP will define a `ContinuousMap` that injects the previous MILP into the new one.

Adding constraints to the MILP will set up a subset.



Issue created by migration from https://trac.sagemath.org/ticket/31742





---

archive/issue_comments_450503.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-28T04:36:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31505#issuecomment-450503",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_450504.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-28T05:52:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31505#issuecomment-450504",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_450505.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-04-28T05:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31505#issuecomment-450505",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_450506.json:
```json
{
    "body": "Perhaps the strange variable names for the backend, constructed in `MIPVariable.__getitem__`, should be changed to the format that `_format_backend_variable_name` uses.\n\n\n```\nsage: M2.<x> = MixedIntegerLinearProgram()                                                                                                               \nsage: x[1,2]                                                                                                                                             \nx_0\nsage: x[3,4]                                                                                                                                             \nx_1\nsage: M2.get_backend().col_name(0)                                                                                                                       \n'x[(1, 2)]'\n```\n\nThis variable name is not compatible with LP (http://lpsolve.sourceforge.net/5.0/CPLEX-format.htm) or MPS file format (https://www.gurobi.com/documentation/9.1/refman/mps_format.html).\nSo changing this to something that has a chance to work with these file formats, such as `x_1_2`, would be an improvement.",
    "created_at": "2021-04-28T06:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31505#issuecomment-450506",
    "user": "mkoeppe"
}
```

Perhaps the strange variable names for the backend, constructed in `MIPVariable.__getitem__`, should be changed to the format that `_format_backend_variable_name` uses.


```
sage: M2.<x> = MixedIntegerLinearProgram()                                                                                                               
sage: x[1,2]                                                                                                                                             
x_0
sage: x[3,4]                                                                                                                                             
x_1
sage: M2.get_backend().col_name(0)                                                                                                                       
'x[(1, 2)]'
```

This variable name is not compatible with LP (http://lpsolve.sourceforge.net/5.0/CPLEX-format.htm) or MPS file format (https://www.gurobi.com/documentation/9.1/refman/mps_format.html).
So changing this to something that has a chance to work with these file formats, such as `x_1_2`, would be an improvement.



---

archive/issue_comments_450507.json:
```json
{
    "body": "opened #31791 (`MIPVariable`: Better names for backend variable names)",
    "created_at": "2021-05-07T18:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31505",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31505#issuecomment-450507",
    "user": "mkoeppe"
}
```

opened #31791 (`MIPVariable`: Better names for backend variable names)
