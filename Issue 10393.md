# Issue 10393: Schuetzenberger Involution

Issue created by migration from https://trac.sagemath.org/ticket/10446

Original creator: ebeyerstedt

Original creation time: 2010-12-09 01:29:40

Assignee: sage-combinat

CC:  aschilling ilke sage-combinat

Keywords: schuetzenberger, involution, words

Implementation of the schuetzenberger involution on words.


---

Comment by aschilling created at 2010-12-09 08:31:41

This already looks very good!

One suggestion I have is to check whether there is an alphabet associated to a given word 'self'. In this case it would be better to use the maximum of the alphabet instead of the maximum of the appearing letters. For example, if you inputted

sage: w=Word([1,2,3],alphabet=[1,2,3,4,5])
sage: w.alphabet()
Ordered Alphabet [1, 2, 3, 4, 5]

then you would like the Schuetzenberger involution to return the word
345 instead of 123.

Anne


---

Comment by ebeyerstedt created at 2010-12-09 22:19:10

Changing status from new to needs_work.


---

Comment by ebeyerstedt created at 2010-12-10 04:47:32

Changing status from needs_work to needs_review.


---

Comment by ebeyerstedt created at 2010-12-10 05:13:07

Implementation of Schuetzenberger Involution on Words and Tableau


---

Attachment

This patch now contains two functions, both of which define the schuetzenberger involution - one that works on the class of words and the other on tableau.


---

Comment by aschilling created at 2010-12-10 19:46:48

Replying to [comment:7 aschilling]:


This looks good and all tests pass! One suggestion I have is that it should be possible to pass the alphabet underlying a given tableau for the method schuetzenberger_involution for tableaux. Currently

sage: t = Tableau([[1,1,4],[2]])
sage: t.schuetzenberger_involution()
[[1, 3, 4], [4]]

but if the underlying alphabet is different, the answer would be different.
This would require to change the method to_word in tableau.py.


Also, for words it would be good to add a test that shows that one can have repeated letters:

sage: w = Word([2,1,1,4], alphabet=[1,2,3,4,5,6])
sage: w.schuetzenberger_involution()
word: 3665

Thanks so much for your work on this!

Anne


---

Comment by aschilling created at 2010-12-10 19:55:13

Changing status from needs_review to needs_work.


---

Comment by aschilling created at 2011-03-27 11:35:50

Changing type from task to enhancement.


---

Comment by aschilling created at 2011-03-27 11:35:50

Changing status from needs_work to needs_review.


---

Comment by aschilling created at 2011-03-27 11:38:00

I just fixed the issues with the Schuetzenberger involution that were still bothering me and also added a new implementation of the promotion operator that can now act on tableaux of any shape.

Apply trac_10446_schuetzenberger_involution-as.patch


---

Comment by jbandlow created at 2011-03-28 15:09:53

Hi Anne,

Thanks for the patch! I am happy to review this. The biggest issue I have right now is the name of the function 'has_letter'. I think that a function with that name should just return True or False. I think what I would prefer is for the method 'cells' to include an optional parameter. So, something like the following behavior:

```
    sage: t = Tableau([[1,2],[2]])
    sage: t.cells()
    [(0, 0), (0, 1), (1, 0)]
    sage: t.cells(2)
    [(0, 1), (1, 0)]
```


What do you think?


---

Comment by jbandlow created at 2011-03-28 15:09:53

Changing status from needs_review to needs_work.


---

Comment by nthiery created at 2011-03-28 15:17:06

Replying to [comment:12 jbandlow]:
> Thanks for the patch! I am happy to review this. The biggest issue I have right now is the name of the function 'has_letter'. I think that a function with that name should just return True or False. I think what I would prefer is for the method 'cells' to include an optional parameter. So, something like the following behavior:
> {{{
>     sage: t = Tableau([[1,2],[2]])
>     sage: t.cells()
>     [(0, 0), (0, 1), (1, 0)]
>     sage: t.cells(2)
>     [(0, 1), (1, 0)]
> }}}
> 
> What do you think?

What about:


```
    sage: t.cells_containing(2)
    [(0,1), (1,0)]
```


to not pollute ``cells`` with more logic?


---

Comment by jbandlow created at 2011-03-28 16:07:31

Replying to [comment:13 nthiery]:

> What about:
> 
> {{{
>     sage: t.cells_containing(2)
>     [(0,1), (1,0)]
> }}}
> 
> to not pollute ``cells`` with more logic?

Sounds good to me.


---

Comment by aschilling created at 2011-03-28 19:37:53

Changing status from needs_work to needs_review.


---

Comment by aschilling created at 2011-03-28 19:37:53

A new version of the patch is attached. The method `has_letter` is now called `cells_containing`. In addition, in CrystalsOfTableaux the new method `lusztig_involution` is added. It is tested that for type `A` it gives the same answer as the Schuetzenberger involution on tableaux.


---

Comment by aschilling created at 2011-03-28 19:39:29

Changing keywords from "schuetzenberger, involution, words" to "schuetzenberger, words, crystals".


---

Comment by aschilling created at 2011-03-28 22:54:51

Just posted a new version of the patch including Dan's suggestion that the star map should be created as a dictionary when the crystal is created.


---

Comment by aschilling created at 2011-03-29 12:16:21

A new version of the patch is attached, where I changed the map i->i^* to a cached method rather than an attribute of the crystal according to Nicolas' suggestion on the sage-combinat mailing list.

Cheers,

Anne


---

Comment by aschilling created at 2011-03-30 21:17:01

Following Dan's suggestions, the Lustzig involution is now a method of ClassicalCrystals. It also works for finite-dimensional highest weight crystals of type `E_6` for example. A section on the Lusztig involution is added to the thematic tutorial.

I hope this is now finally ready!

Anne


---

Comment by aschilling created at 2011-04-02 06:28:56

Posted a slightly revised version incorporating Nicolas' review patch. Jason, could you give it a final review?

Anne


---

Comment by jbandlow created at 2011-04-04 13:18:23

Hi Anne,

The code looks good to me, but it fails to apply for me to a clean 4.6.2. Are there dependencies?

-Jason


---

Comment by jbandlow created at 2011-04-04 13:18:23

Changing status from needs_review to needs_work.


---

Comment by aschilling created at 2011-04-04 14:58:40

Changing status from needs_work to needs_review.


---

Comment by aschilling created at 2011-04-04 14:58:40

Hi Jason,

You need to apply this patch to the latest version sage-4.7.alpha4, not sage-4.6.2, since there were a couple of crystal patches merged into sage such as #10632 and #10485.

Cheers,

Anne


---

Comment by jbandlow created at 2011-04-08 18:30:08

Hi Anne,

I don't have the latest alpha, but I tested the patch on the sage-combinat queue, as well as looked carefully at the code, and it looks good to me.

Thanks!


---

Comment by jbandlow created at 2011-04-08 18:30:08

Changing status from needs_review to positive_review.


---

Comment by aschilling created at 2011-04-09 00:57:27

Apply trac_10446_schuetzenberger_involution-as.patch


---

Comment by aschilling created at 2011-04-11 18:09:27

Hi Jeroen,

Would it be possible to get this patch into sage-4.7 for Sage Days 30?

Thank you,

Anne


---

Comment by jdemeyer created at 2011-04-13 16:04:29

Replying to [comment:27 aschilling]:
> Hi Jeroen,
> 
> Would it be possible to get this patch into sage-4.7 for Sage Days 30?

Well, I kind of made sage-4.7 "feature-complete" already, so I prefer not to do this.  Normally, it should go into sage-4.7.1.alpha0 in time for Sage Days 30.


---

Comment by jdemeyer created at 2011-04-13 16:05:28

Could you remove the following part from the commit message, which doesn't really serve any purpose:

```
A section about the Lusztig involution is added to the thematic tutorial on crystals.
A copy of the html documentation built using

{{{
sage -docbuild thematic_tutorials html
}}}

is available here:

http://www.math.ucdavis.edu/~anne/sage/lie/crystals.html

(which might not always be completely up to date).
```



---

Attachment

Replying to [comment:30 jdemeyer]:
> Could you remove the following part from the commit message, which doesn't really serve any purpose:

Done. I left the first sentence since it does serve a purpose.


---

Comment by jdemeyer created at 2011-04-14 07:20:08

Resolution: fixed
