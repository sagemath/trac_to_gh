# Issue 21556: Document whitespace policy, provide editor configurations for non-Python source files

Issue created by migration from https://trac.sagemath.org/ticket/21793

Original creator: mkoeppe

Original creation time: 2016-11-01 18:11:47

CC:  embray dimpase jdemeyer

This is a follow-up on #21792.



---

Comment by mkoeppe created at 2016-11-01 18:36:52

Needs review or contributions regarding other editors.
----
New commits:


---

Comment by jhpalmieri created at 2016-11-01 18:44:16

You have to allow tabs in makefiles, so the Emacs configuration should probably apply `(indent-tabs-mode . nil)` specifically for Python files, Cython files, shell scripts, `ReST` files, `txt` files. Any others? (Emacs should recognize a shell script and set the appropriate mode from the line `#!/usr/bin/env bash`. My copy of Emacs doesn't recognize the file `build/make/deps` as being a `Makefile`, and note that this file contains tabs.)


---

Comment by mkoeppe created at 2016-11-01 18:48:54

Emacs already overrides a globally set `indent-tabs-mode` in `makefile-mode`.


---

Comment by git created at 2016-11-01 18:50:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-11-01 18:59:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2016-11-01 19:00:27

But you are right, the directory-local setting was overriding the setting from `makefile-mode`. Fixed.


---

Comment by jhpalmieri created at 2016-11-01 19:05:37

This will change the behavior of Emacs on `build/make/deps` unless the user specifically sets `makefile-mode` when opening that file. I don't think that's a good idea.


---

Comment by mkoeppe created at 2016-11-01 20:06:57

Replying to [comment:8 jhpalmieri]:
> This will change the behavior of Emacs on `build/make/deps` unless the user specifically sets `makefile-mode` when opening that file. I don't think that's a good idea.

Did you see the change that sets the major mode of that file?


---

Comment by jhpalmieri created at 2016-11-01 23:00:26

Replying to [comment:9 mkoeppe]:
> Replying to [comment:8 jhpalmieri]:
> > This will change the behavior of Emacs on `build/make/deps` unless the user specifically sets `makefile-mode` when opening that file. I don't think that's a good idea.
> 
> Did you see the change that sets the major mode of that file?

No, but I see it now.


---

Comment by mkoeppe created at 2016-11-03 03:32:34

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2016-11-04 13:11:56

I don't like how this becomes the _first_ section of the "General conventions" document, as if it is the most important thing. I would for example put it right before the section "The Pickle Jar".

Also the title "General Code Style" doesn't really convey that it's about whitespace.


---

Comment by mkoeppe created at 2016-11-06 21:23:07

Doesn't it belong into the chapter "General Conventions"? Perhaps last section of it?


---

Comment by git created at 2016-11-06 21:33:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2016-11-06 21:34:44

Replying to [comment:14 mkoeppe]:
> Doesn't it belong into the chapter "General Conventions"? Perhaps last section of it?

Please disregard.

I agree with you. Please see the current patch.


---

Comment by jdemeyer created at 2016-11-07 11:22:48

If you checked that the documentation actually builds, you can set this to positive_review.


---

Comment by git created at 2016-12-07 22:53:28

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2016-12-07 23:15:59

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2016-12-07 23:15:59

It does build (just verified again after rebasing to current beta). Thanks.


---

Comment by vbraun created at 2016-12-14 00:21:05

Resolution: fixed
