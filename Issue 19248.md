# Issue 19248: Legible legends

archive/issues_019248.json:
```json
{
    "body": "Keywords: beginner\n\nThe default \"legend options\" are empty, but this defaults everywhere to a gray legend with black text. This is difficult to read, especially when the result is printed (journal, thesis, etc.) or projected (as in a presentation).\n\nBlack-on-white is much better, and a drop shadow helps the legend stand out without affecting the text within.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/19485\n\n",
    "created_at": "2015-10-27T13:08:41Z",
    "labels": [
        "component: graphics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Legible legends",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19248",
    "user": "https://github.com/orlitzky"
}
```
Keywords: beginner

The default "legend options" are empty, but this defaults everywhere to a gray legend with black text. This is difficult to read, especially when the result is printed (journal, thesis, etc.) or projected (as in a presentation).

Black-on-white is much better, and a drop shadow helps the legend stand out without affecting the text within.


Issue created by migration from https://trac.sagemath.org/ticket/19485





---

archive/issue_comments_263804.json:
```json
{
    "body": "Attachment [plot-old.png](tarball://root/attachments/some-uuid/ticket19485/plot-old.png) by @orlitzky created at 2015-10-27 13:09:14\n\nExample legend (current defaults)",
    "created_at": "2015-10-27T13:09:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263804",
    "user": "https://github.com/orlitzky"
}
```

Attachment [plot-old.png](tarball://root/attachments/some-uuid/ticket19485/plot-old.png) by @orlitzky created at 2015-10-27 13:09:14

Example legend (current defaults)



---

archive/issue_comments_263805.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-10-27T13:11:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263805",
    "user": "https://github.com/orlitzky"
}
```

New commits:



---

archive/issue_comments_263806.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-10-27T13:11:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263806",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_263807.json:
```json
{
    "body": "Attachment [plot-new.png](tarball://root/attachments/some-uuid/ticket19485/plot-new.png) by @orlitzky created at 2015-10-27 13:11:42\n\nExample legend (new defaults)",
    "created_at": "2015-10-27T13:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263807",
    "user": "https://github.com/orlitzky"
}
```

Attachment [plot-new.png](tarball://root/attachments/some-uuid/ticket19485/plot-new.png) by @orlitzky created at 2015-10-27 13:11:42

Example legend (new defaults)



---

archive/issue_comments_263808.json:
```json
{
    "body": "I don't really care *that* much, but I do think that the drop-shadow maybe shouldn't be a default.  At least according to a lot of design stuff I read at some point about the equivalent CSS thing in web pages.  Do you think a much lighter gray would work better?  Maybe the white might not distinguish enough between the stuff and the legend (sort of a random box).\n\nBut *really* I think that the matplotlib defaults might be the wisest to check, or see what competitor X does for some value(s) of X.  Then it's not so much bikeshedding as seeing what standard (if not to say best, since it might not be best!) practice is.  I'd be reluctant to change it without at least a few people who use this fairly regularly saying changing the default is a good idea - otherwise you can just change YOUR defaults, if I recall correctly.\n\n(Thanks for including the pics, by the way.)",
    "created_at": "2015-10-27T13:52:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263808",
    "user": "https://github.com/kcrisman"
}
```

I don't really care *that* much, but I do think that the drop-shadow maybe shouldn't be a default.  At least according to a lot of design stuff I read at some point about the equivalent CSS thing in web pages.  Do you think a much lighter gray would work better?  Maybe the white might not distinguish enough between the stuff and the legend (sort of a random box).

But *really* I think that the matplotlib defaults might be the wisest to check, or see what competitor X does for some value(s) of X.  Then it's not so much bikeshedding as seeing what standard (if not to say best, since it might not be best!) practice is.  I'd be reluctant to change it without at least a few people who use this fairly regularly saying changing the default is a good idea - otherwise you can just change YOUR defaults, if I recall correctly.

(Thanks for including the pics, by the way.)



---

archive/issue_comments_263809.json:
```json
{
    "body": "Replying to [comment:2 kcrisman]:\n> I don't really care *that* much, but I do think that the drop-shadow maybe shouldn't be a default.\n\nIt feels a little weird \"enabling\" something by default, but what it came down to for me is that it just looks better with the drop shadow than without. I realized that I was thinking about making it look worse just so a bit could be turned off.\n\n\n> At least according to a lot of design stuff I read at some point about the equivalent CSS thing in web pages.\n\nCreating drop shadows with CSS was a nightmare for other reasons. The standard way didn't work, and each browser had its own \"beta\" implementation (none of which agreed), and as usual, nothing worked in MSIE.\n\nI do understand that adding bling bling should be done with care, but hopefully people agree that the drop shadow is unobtrusive and creates a nice contrast.\n\n\n> Do you think a much lighter gray would work better?  Maybe the white might not distinguish enough between the stuff and the legend (sort of a random box).\n\nYeah, that's why I enabled the drop shadow by default. Anything darker than white makes the text harder to read, and \"light gray\" prints terribly.\n\n\n> otherwise you can just change YOUR defaults, if I recall correctly.\n\nIt's really hard! But that argument works against me if somebody really likes the gray. This was the best I could come up with:\n\n\n```\nplot_impl = sage.plot.plot._plot\n\ndef mjo_plot(*args, **kwargs):\n    \"\"\"\n    Replacement for the default plot function.\n\n     - If there's a legend, set the background color to 'white' and\n       give it a drop shadow.\n\n    \"\"\"\n    default_legend_opts = { 'back_color': 'white',\n                            'shadow': True }\n\n    p = plot_impl(*args, **kwargs)\n    p.set_legend_options(**default_legend_opts)\n\n    return p\n\nsage.plot.plot._plot = mjo_plot\n```\n\n\nYou need to do the same for `list_plot` and all of the graphics primitives, too.",
    "created_at": "2015-10-27T14:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263809",
    "user": "https://github.com/orlitzky"
}
```

Replying to [comment:2 kcrisman]:
> I don't really care *that* much, but I do think that the drop-shadow maybe shouldn't be a default.

It feels a little weird "enabling" something by default, but what it came down to for me is that it just looks better with the drop shadow than without. I realized that I was thinking about making it look worse just so a bit could be turned off.


> At least according to a lot of design stuff I read at some point about the equivalent CSS thing in web pages.

Creating drop shadows with CSS was a nightmare for other reasons. The standard way didn't work, and each browser had its own "beta" implementation (none of which agreed), and as usual, nothing worked in MSIE.

I do understand that adding bling bling should be done with care, but hopefully people agree that the drop shadow is unobtrusive and creates a nice contrast.


> Do you think a much lighter gray would work better?  Maybe the white might not distinguish enough between the stuff and the legend (sort of a random box).

Yeah, that's why I enabled the drop shadow by default. Anything darker than white makes the text harder to read, and "light gray" prints terribly.


> otherwise you can just change YOUR defaults, if I recall correctly.

It's really hard! But that argument works against me if somebody really likes the gray. This was the best I could come up with:


```
plot_impl = sage.plot.plot._plot

def mjo_plot(*args, **kwargs):
    """
    Replacement for the default plot function.

     - If there's a legend, set the background color to 'white' and
       give it a drop shadow.

    """
    default_legend_opts = { 'back_color': 'white',
                            'shadow': True }

    p = plot_impl(*args, **kwargs)
    p.set_legend_options(**default_legend_opts)

    return p

sage.plot.plot._plot = mjo_plot
```


You need to do the same for `list_plot` and all of the graphics primitives, too.



---

archive/issue_comments_263810.json:
```json
{
    "body": "Oh, interesting; I figured that `sage.plot.plot.DEFAULT_OPTIONS` or some such dictionary would be a sufficient incantation in a `init.sage` file.  That certainly is a problem, in that event.",
    "created_at": "2015-10-27T14:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263810",
    "user": "https://github.com/kcrisman"
}
```

Oh, interesting; I figured that `sage.plot.plot.DEFAULT_OPTIONS` or some such dictionary would be a sufficient incantation in a `init.sage` file.  That certainly is a problem, in that event.



---

archive/issue_comments_263811.json:
```json
{
    "body": "I like this suggestion. It seems better than current default.",
    "created_at": "2015-10-29T18:49:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263811",
    "user": "https://github.com/jm58660"
}
```

I like this suggestion. It seems better than current default.



---

archive/issue_comments_263812.json:
```json
{
    "body": "Passed tests, and the code seems to have no errors.",
    "created_at": "2015-11-07T14:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263812",
    "user": "https://github.com/jm58660"
}
```

Passed tests, and the code seems to have no errors.



---

archive/issue_comments_263813.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-11-07T14:23:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263813",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_263814.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2015-11-08T01:46:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263814",
    "user": "https://github.com/kcrisman"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_263815.json:
```json
{
    "body": "I would suggest at least putting how to get the previous behavior back for those who would want it.",
    "created_at": "2015-11-08T01:46:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263815",
    "user": "https://github.com/kcrisman"
}
```

I would suggest at least putting how to get the previous behavior back for those who would want it.



---

archive/issue_comments_263816.json:
```json
{
    "body": "Replying to [comment:8 kcrisman]:\n> I would suggest at least putting how to get the previous behavior back for those who would want it.\n\nPut it where?\n\nThe old settings were equivalent to,\n\n\n```\nsage: p = plot(sin(x), legend_label='$\\sin(x)$')\nsage: p.set_legend_options(back_color=(0.9,0.9,0.9), shadow=False) # option 1\nsage: p.show(legend_options={'back_color': (0.9,0.9,0.9), 'shadow': False}) # option 2\n```\n\n\nbut there's no easy way to change the behavior wholesale. In comment:3 I showed how I was able to do it for `plot`, but you would also have to do it for `list_plot`, `line`, `circle`, etc.",
    "created_at": "2015-11-08T02:19:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263816",
    "user": "https://github.com/orlitzky"
}
```

Replying to [comment:8 kcrisman]:
> I would suggest at least putting how to get the previous behavior back for those who would want it.

Put it where?

The old settings were equivalent to,


```
sage: p = plot(sin(x), legend_label='$\sin(x)$')
sage: p.set_legend_options(back_color=(0.9,0.9,0.9), shadow=False) # option 1
sage: p.show(legend_options={'back_color': (0.9,0.9,0.9), 'shadow': False}) # option 2
```


but there's no easy way to change the behavior wholesale. In comment:3 I showed how I was able to do it for `plot`, but you would also have to do it for `list_plot`, `line`, `circle`, etc.



---

archive/issue_comments_263817.json:
```json
{
    "body": "I think that is pretty good as an example to put in the main plot documentation and the show documentation, something like \"if you want a white background without shadow, do this...\"",
    "created_at": "2015-11-08T02:32:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263817",
    "user": "https://github.com/kcrisman"
}
```

I think that is pretty good as an example to put in the main plot documentation and the show documentation, something like "if you want a white background without shadow, do this..."



---

archive/issue_comments_263818.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-08T19:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263818",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_263819.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-11-08T19:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263819",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_263820.json:
```json
{
    "body": "Do you think that's sufficient?\n\nI would like it if this were easier to change globally, but given that it isn't, I do think this new style is an improvement.",
    "created_at": "2015-11-08T19:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263820",
    "user": "https://github.com/orlitzky"
}
```

Do you think that's sufficient?

I would like it if this were easier to change globally, but given that it isn't, I do think this new style is an improvement.



---

archive/issue_comments_263821.json:
```json
{
    "body": "Very minor thing, but I would like more \"Prior to Sage version 6.10 - -\" instead of trac number.",
    "created_at": "2015-11-08T19:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263821",
    "user": "https://github.com/jm58660"
}
```

Very minor thing, but I would like more "Prior to Sage version 6.10 - -" instead of trac number.



---

archive/issue_comments_263822.json:
```json
{
    "body": "Replying to [comment:13 jmantysalo]:\n> Very minor thing, but I would like more \"Prior to Sage version 6.10 - -\" instead of trac number.\n\nCan you get Volker to promise to merge it for 6.10? =)",
    "created_at": "2015-11-08T21:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263822",
    "user": "https://github.com/orlitzky"
}
```

Replying to [comment:13 jmantysalo]:
> Very minor thing, but I would like more "Prior to Sage version 6.10 - -" instead of trac number.

Can you get Volker to promise to merge it for 6.10? =)



---

archive/issue_comments_263823.json:
```json
{
    "body": "Replying to [comment:14 mjo]:\n> Replying to [comment:13 jmantysalo]:\n> > Very minor thing, but I would like more \"Prior to Sage version 6.10 - -\" instead of trac number.\n> \n> Can you get Volker to promise to merge it for 6.10? =)\n\nAt least we have plenty of time for that, as we are now at beta 3.\n\nAs the patch: For me this could be positive_review, but let kcrisman to say if the documentation is good enought.",
    "created_at": "2015-11-09T05:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263823",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:14 mjo]:
> Replying to [comment:13 jmantysalo]:
> > Very minor thing, but I would like more "Prior to Sage version 6.10 - -" instead of trac number.
> 
> Can you get Volker to promise to merge it for 6.10? =)

At least we have plenty of time for that, as we are now at beta 3.

As the patch: For me this could be positive_review, but let kcrisman to say if the documentation is good enought.



---

archive/issue_comments_263824.json:
```json
{
    "body": "I'm fine with it.  Don't complain if people find the new behavior too vexing :)",
    "created_at": "2015-11-09T17:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263824",
    "user": "https://github.com/kcrisman"
}
```

I'm fine with it.  Don't complain if people find the new behavior too vexing :)



---

archive/issue_comments_263825.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-11-09T18:52:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263825",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_263826.json:
```json
{
    "body": "Replying to [comment:16 kcrisman]:\n> I'm fine with it.  Don't complain if people find the new behavior too vexing :)\n\nSo let's mark this as positive review.",
    "created_at": "2015-11-09T18:52:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263826",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:16 kcrisman]:
> I'm fine with it.  Don't complain if people find the new behavior too vexing :)

So let's mark this as positive review.



---

archive/issue_events_053749.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-11-10T14:00:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19248#event-53749"
}
```



---

archive/issue_comments_263827.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-11-10T14:00:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19248",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19248#issuecomment-263827",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
