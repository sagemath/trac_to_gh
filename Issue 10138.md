# Issue 10138: Problem found in graphs.is_planar() when the graph has no edges.

Issue created by migration from https://trac.sagemath.org/ticket/10139

Original creator: edward.scheinerman

Original creation time: 2010-10-17 19:12:17

Assignee: tbd

CC:  brunellus

The is_planar method for graphs includes a set_embedding argument that saves the combinatorial embedding of the graph (if it's planar). In this example, it works properly:

sage: g = graphs.WheelGraph(6)
sage: g.is_planar(set_embedding=True)
True
sage: g.get_embedding()
{0: [1, 5, 4, 3, 2], 1: [2, 5, 0], 2: [0, 3, 1], 3: [0, 4, 2], 4: [0, 5, 3], 5: [0, 1, 4]}

However, is we apply this method to a graph with no edges, a problem arises:

sage: g = graphs.EmptyGraph()
sage: g.add_vertices(range(6))
sage: g.is_planar(set_embedding=True)
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)

/home/ers/<ipython console> in <module>()

/usr/public/share/sage/local/lib/python2.6/site-packages/sage/graphs/generic_graph.pyc in is_planar(self, on_embedding, kuratowski, set_embedding, set_pos)
   2438                     self._pos = G._pos
   2439                 if set_embedding:
-> 2440                     self._embedding = G._embedding
   2441             return planar
   2442 

AttributeError: 'Graph' object has no attribute '_embedding'

Once we add an edge to this graph, all is well:

sage: g.add_edge(0,1)
sage: sage: g.is_planar(set_embedding=True)
True
sage: g.get_embedding()
{0: [1], 1: [0], 2: [], 3: [], 4: [], 5: []}



---

Comment by ncohen created at 2010-10-18 08:01:47

Changing component from PLEASE CHANGE to graph theory.


---

Comment by ncohen created at 2010-10-18 08:01:47

Changing assignee from tbd to jason, ncohen, rlm.


---

Comment by brunellus created at 2011-12-31 03:33:41

Changing status from new to needs_review.


---

Comment by brunellus created at 2011-12-31 03:33:41

The patch from #12134 should solve this problem.


---

Comment by ncohen created at 2011-12-31 09:59:35

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-01-13 09:00:19

Resolution: duplicate
