# Issue 16489: Binomial Coefficient of Real- or ComplexIntervalField

Issue created by migration from https://trac.sagemath.org/ticket/16726

Original creator: skropf

Original creation time: 2014-07-29 06:43:53

CC:  dkrenn cheuberg

Keywords: RIF, CIF

The computation of the binomial coefficient of a RIF or CIF (choosing an integer) gives an error: 


```
sage: binomial(CIF(1),2)
Traceback (click to the left of this block for traceback)
...
TypeError: Either m or x-m must be an integer
```


This worked well in a previous Sage version (it was 5.13 or later).



---

Comment by ppurka created at 2014-07-29 10:44:19

I suspect it is #9634 that introduced the change.


---

Comment by cheuberg created at 2014-07-31 05:58:39

Yes, it works until commit 2202e18 and fails to work with commit d2c82ff, i.e. the merge of #9634.


---

Comment by cheuberg created at 2014-07-31 06:40:55

The second argument `2` is converted into a CIF when `Function_binomial._evalf_` is called.
Therefore, it is no longer recognized as an integer in `sage.rings.arith.binomial`.

Actually, `sage.rings.arith.binomial(CIF(1), 2)` yields `0`, as expected.


---

Comment by ppurka created at 2014-08-01 14:32:51

One can take this opportunity to clean up the binomial function itself and make it clearer what it does. It is in a bit of a mess.


---

Comment by cheuberg created at 2017-02-06 12:41:08

The following is probably related:


```
sage: R.<n> = ZZ[]
sage: binomial(n, 3).parent()
Symbolic Ring
```


is annoying; however,


```
sage: R.<n> = AsymptoticRing('n^QQ', QQ)
sage: binomial(n, 3)
Traceback (most recent call last):
...
TypeError: cannot coerce arguments: no canonical coercion from Asymptotic Ring <n^QQ> over Rational Field to Symbolic Ring
```

throws an error because aysmptotic rings intentionally do not coerce into the symbolic ring.


---

Comment by cheuberg created at 2017-02-06 12:55:03

Replying to [comment:6 cheuberg]:
> The following is probably related:

It turns out that this is unrelated; in fact, the problem described in this ticket has been fixed at some stage.

I added a doctest.

> {{{
> sage: R.<n> = ZZ[]
> sage: binomial(n, 3).parent()
> Symbolic Ring
> }}}

In fact, this works for polynomials over the rationals, so this is not a real issue.
----
New commits:


---

Comment by cheuberg created at 2017-02-06 12:55:03

Changing status from new to needs_review.


---

Comment by cheuberg created at 2017-02-06 12:59:36

I opened #22314 for the issue concerning the asymptotic ring. Sorry for the noise here.


---

Comment by rws created at 2018-03-04 14:01:29

Changing status from needs_review to positive_review.


---

Comment by rws created at 2018-03-04 14:01:29

LGTM.


---

Comment by vbraun created at 2018-03-05 17:53:11

Resolution: fixed
