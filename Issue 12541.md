# Issue 12541: Excise MoinMoin

archive/issues_012541.json:
```json
{
    "body": "Assignee: tbd\n\nWe should get rid of MoinMoin as a standard spkg. It is not used by anything in Sage AFAIK. (There has been some discussion about this on sage-devel.)\n\nIssue created by migration from https://trac.sagemath.org/ticket/12713\n\n",
    "created_at": "2012-03-20T22:20:02Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Excise MoinMoin",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12541",
    "user": "kini"
}
```
Assignee: tbd

We should get rid of MoinMoin as a standard spkg. It is not used by anything in Sage AFAIK. (There has been some discussion about this on sage-devel.)

Issue created by migration from https://trac.sagemath.org/ticket/12713





---

archive/issue_comments_148650.json:
```json
{
    "body": "For what it's worth, I removed the moin spkg and modified `spkg/install` and `spkg/standard/deps` in the obvious ways. Sage built and all tests passed.",
    "created_at": "2012-03-21T14:26:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148650",
    "user": "jhpalmieri"
}
```

For what it's worth, I removed the moin spkg and modified `spkg/install` and `spkg/standard/deps` in the obvious ways. Sage built and all tests passed.



---

archive/issue_comments_148651.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-03-21T21:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148651",
    "user": "jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_148652.json:
```json
{
    "body": "Here's a patch. If we go through with this, should we keep MoinMoin as an optional spkg? Probably we should.",
    "created_at": "2012-03-21T21:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148652",
    "user": "jhpalmieri"
}
```

Here's a patch. If we go through with this, should we keep MoinMoin as an optional spkg? Probably we should.



---

archive/issue_comments_148653.json:
```json
{
    "body": "root repo",
    "created_at": "2012-03-21T21:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148653",
    "user": "jhpalmieri"
}
```

root repo



---

archive/issue_comments_148654.json:
```json
{
    "body": "Attachment [trac_12713-moin.patch](tarball://root/attachments/some-uuid/ticket12713/trac_12713-moin.patch) by jhpalmieri created at 2012-03-21 21:44:40",
    "created_at": "2012-03-21T21:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148654",
    "user": "jhpalmieri"
}
```

Attachment [trac_12713-moin.patch](tarball://root/attachments/some-uuid/ticket12713/trac_12713-moin.patch) by jhpalmieri created at 2012-03-21 21:44:40



---

archive/issue_comments_148655.json:
```json
{
    "body": "Replying to [comment:3 jhpalmieri]:\n> Here's a patch. If we go through with this, should we keep MoinMoin as an optional spkg? Probably we should.\n\nYes!  (Make it an optional spkg.)  Incidentally, that's what I was thinking of yesterday as well, and a couple of times before...",
    "created_at": "2012-03-23T07:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148655",
    "user": "leif"
}
```

Replying to [comment:3 jhpalmieri]:
> Here's a patch. If we go through with this, should we keep MoinMoin as an optional spkg? Probably we should.

Yes!  (Make it an optional spkg.)  Incidentally, that's what I was thinking of yesterday as well, and a couple of times before...



---

archive/issue_comments_148656.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2012-03-27T10:24:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148656",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_148657.json:
```json
{
    "body": "I guess this is something which should be discussed properly on sage-devel first...",
    "created_at": "2012-03-27T10:24:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148657",
    "user": "jdemeyer"
}
```

I guess this is something which should be discussed properly on sage-devel first...



---

archive/issue_comments_148658.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2012-03-28T22:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148658",
    "user": "jhpalmieri"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_148659.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-04-02T09:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148659",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_148660.json:
```json
{
    "body": "There's slightly more to do: remove the `sage -wiki` command line option and remove some files related to Moin Moin Wiki in the Sage library (sorry, I haven't checked which files, but I'm sure there is something).",
    "created_at": "2012-04-02T09:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148660",
    "user": "jdemeyer"
}
```

There's slightly more to do: remove the `sage -wiki` command line option and remove some files related to Moin Moin Wiki in the Sage library (sorry, I haven't checked which files, but I'm sure there is something).



---

archive/issue_comments_148661.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-04-02T22:08:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148661",
    "user": "jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_148662.json:
```json
{
    "body": "Here are new patches.",
    "created_at": "2012-04-02T22:08:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148662",
    "user": "jhpalmieri"
}
```

Here are new patches.



---

archive/issue_comments_148663.json:
```json
{
    "body": "root repo",
    "created_at": "2012-04-02T22:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148663",
    "user": "jhpalmieri"
}
```

root repo



---

archive/issue_comments_148664.json:
```json
{
    "body": "Attachment [trac_12713-root.patch](tarball://root/attachments/some-uuid/ticket12713/trac_12713-root.patch) by jhpalmieri created at 2012-04-02 22:09:27\n\nscripts repo",
    "created_at": "2012-04-02T22:09:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148664",
    "user": "jhpalmieri"
}
```

Attachment [trac_12713-root.patch](tarball://root/attachments/some-uuid/ticket12713/trac_12713-root.patch) by jhpalmieri created at 2012-04-02 22:09:27

scripts repo



---

archive/issue_comments_148665.json:
```json
{
    "body": "Attachment [trac_12713-scripts.patch](tarball://root/attachments/some-uuid/ticket12713/trac_12713-scripts.patch) by jhpalmieri created at 2012-04-03 01:38:01\n\nThe Sage library patch conflicts somewhat with #11409. If #11409 is merged first, then the Sage library patch here may be ignored. If this is merged first, then #11409 will need rebasing.",
    "created_at": "2012-04-03T01:38:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148665",
    "user": "jhpalmieri"
}
```

Attachment [trac_12713-scripts.patch](tarball://root/attachments/some-uuid/ticket12713/trac_12713-scripts.patch) by jhpalmieri created at 2012-04-03 01:38:01

The Sage library patch conflicts somewhat with #11409. If #11409 is merged first, then the Sage library patch here may be ignored. If this is merged first, then #11409 will need rebasing.



---

archive/issue_comments_148666.json:
```json
{
    "body": "Replying to [comment:8 jdemeyer]:\n> There's slightly more to do: remove the `sage -wiki` command line option and remove some files related to Moin Moin Wiki in the Sage library (sorry, I haven't checked which files, but I'm sure there is something).\n\nShould we really remove all traces of MoinMoin (or any kind of wiki) from Sage?\n\nIf we keep it as an optional (or experimental) spkg, we could treat it as such, just like the others.  I.e., just add checks whether it is present / installed, and give messages according to the result.",
    "created_at": "2012-04-03T04:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148666",
    "user": "leif"
}
```

Replying to [comment:8 jdemeyer]:
> There's slightly more to do: remove the `sage -wiki` command line option and remove some files related to Moin Moin Wiki in the Sage library (sorry, I haven't checked which files, but I'm sure there is something).

Should we really remove all traces of MoinMoin (or any kind of wiki) from Sage?

If we keep it as an optional (or experimental) spkg, we could treat it as such, just like the others.  I.e., just add checks whether it is present / installed, and give messages according to the result.



---

archive/issue_comments_148667.json:
```json
{
    "body": "For an optional spkg, maybe, but do we really maintain (or need to maintain) library/interface support for experimental packages?",
    "created_at": "2012-04-03T04:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148667",
    "user": "kini"
}
```

For an optional spkg, maybe, but do we really maintain (or need to maintain) library/interface support for experimental packages?



---

archive/issue_comments_148668.json:
```json
{
    "body": "Replying to [comment:12 kini]:\n> For an optional spkg, maybe, but do we really maintain (or need to maintain) library/interface support for experimental packages?\n\nWell, I don't have strong feelings about that, but probably there are Sage users out there who really used that stuff... :-)",
    "created_at": "2012-04-03T04:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148668",
    "user": "leif"
}
```

Replying to [comment:12 kini]:
> For an optional spkg, maybe, but do we really maintain (or need to maintain) library/interface support for experimental packages?

Well, I don't have strong feelings about that, but probably there are Sage users out there who really used that stuff... :-)



---

archive/issue_comments_148669.json:
```json
{
    "body": "Since no one on sage-devel objected to the removal of MoinMoin, I think we can do this. If someone wants to restore the functionality, they can just restore the files from `sage/server/wiki`: that's the whole purpose of having a repository, right? The only other possibility, I think, is to not only add checks for the presence of the package, but also to add doctests to the file `sage/server/wiki/moin.py`. Removing the files is by far the path of least resistance. Oh, Leif, unless you're volunteering...",
    "created_at": "2012-04-03T05:21:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148669",
    "user": "jhpalmieri"
}
```

Since no one on sage-devel objected to the removal of MoinMoin, I think we can do this. If someone wants to restore the functionality, they can just restore the files from `sage/server/wiki`: that's the whole purpose of having a repository, right? The only other possibility, I think, is to not only add checks for the presence of the package, but also to add doctests to the file `sage/server/wiki/moin.py`. Removing the files is by far the path of least resistance. Oh, Leif, unless you're volunteering...



---

archive/issue_comments_148670.json:
```json
{
    "body": "Replying to [comment:10 jhpalmieri]:\n> The Sage library patch conflicts somewhat with #11409. If #11409 is merged first, then the Sage library patch here may be ignored. If this is merged first, then #11409 will need rebasing.\n\nIt is unlikely that #11409 will get merged any time soon (unfortunately).",
    "created_at": "2012-04-03T06:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148670",
    "user": "jdemeyer"
}
```

Replying to [comment:10 jhpalmieri]:
> The Sage library patch conflicts somewhat with #11409. If #11409 is merged first, then the Sage library patch here may be ignored. If this is merged first, then #11409 will need rebasing.

It is unlikely that #11409 will get merged any time soon (unfortunately).



---

archive/issue_comments_148671.json:
```json
{
    "body": "The file\n\n```\ndoc/en/reference/networking.rst\n```\n\nshould also be removed, and `index.rst` modified accordingly.",
    "created_at": "2012-04-04T19:12:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148671",
    "user": "jdemeyer"
}
```

The file

```
doc/en/reference/networking.rst
```

should also be removed, and `index.rst` modified accordingly.



---

archive/issue_comments_148672.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-04-04T19:12:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148672",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_148673.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-04-04T20:19:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148673",
    "user": "jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_148674.json:
```json
{
    "body": "Okay, here's a new patch which does that.",
    "created_at": "2012-04-04T20:19:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148674",
    "user": "jhpalmieri"
}
```

Okay, here's a new patch which does that.



---

archive/issue_comments_148675.json:
```json
{
    "body": "Sage library",
    "created_at": "2012-04-04T20:19:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148675",
    "user": "jhpalmieri"
}
```

Sage library



---

archive/issue_comments_148676.json:
```json
{
    "body": "Attachment [trac_12713-sage.patch](tarball://root/attachments/some-uuid/ticket12713/trac_12713-sage.patch) by jhpalmieri created at 2012-04-04 22:27:44\n\nDo we also need a patch for sagenb, removing `sagenb/notebook/wiki2html.py`? Here is one.",
    "created_at": "2012-04-04T22:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148676",
    "user": "jhpalmieri"
}
```

Attachment [trac_12713-sage.patch](tarball://root/attachments/some-uuid/ticket12713/trac_12713-sage.patch) by jhpalmieri created at 2012-04-04 22:27:44

Do we also need a patch for sagenb, removing `sagenb/notebook/wiki2html.py`? Here is one.



---

archive/issue_comments_148677.json:
```json
{
    "body": "sagenb",
    "created_at": "2012-04-04T22:27:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148677",
    "user": "jhpalmieri"
}
```

sagenb



---

archive/issue_comments_148678.json:
```json
{
    "body": "Attachment [trac_12713-sagenb.patch](tarball://root/attachments/some-uuid/ticket12713/trac_12713-sagenb.patch) by jdemeyer created at 2012-04-06 08:52:10\n\nYou forgot this (sage library):\n\n```diff\ndiff --git a/setup.py b/setup.py\n--- a/setup.py\n+++ b/setup.py\n@@ -1008,7 +1008,6 @@\n                      'sage.server.simple',\n                      'sage.server.notebook',\n                      'sage.server.notebook.compress',\n-                     'sage.server.wiki',\n                      'sage.server.trac',\n\n                      'sage.structure',\n```\n",
    "created_at": "2012-04-06T08:52:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148678",
    "user": "jdemeyer"
}
```

Attachment [trac_12713-sagenb.patch](tarball://root/attachments/some-uuid/ticket12713/trac_12713-sagenb.patch) by jdemeyer created at 2012-04-06 08:52:10

You forgot this (sage library):

```diff
diff --git a/setup.py b/setup.py
--- a/setup.py
+++ b/setup.py
@@ -1008,7 +1008,6 @@
                      'sage.server.simple',
                      'sage.server.notebook',
                      'sage.server.notebook.compress',
-                     'sage.server.wiki',
                      'sage.server.trac',

                      'sage.structure',
```




---

archive/issue_comments_148679.json:
```json
{
    "body": "positive_review if `setup.py` is fixed.",
    "created_at": "2012-04-06T08:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148679",
    "user": "jdemeyer"
}
```

positive_review if `setup.py` is fixed.



---

archive/issue_comments_148680.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-04-06T08:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148680",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_148681.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-04-07T07:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148681",
    "user": "jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_148682.json:
```json
{
    "body": "Attachment [12713-sage-review.patch](tarball://root/attachments/some-uuid/ticket12713/12713-sage-review.patch) by jdemeyer created at 2012-04-07 07:07:31",
    "created_at": "2012-04-07T07:07:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148682",
    "user": "jdemeyer"
}
```

Attachment [12713-sage-review.patch](tarball://root/attachments/some-uuid/ticket12713/12713-sage-review.patch) by jdemeyer created at 2012-04-07 07:07:31



---

archive/issue_comments_148683.json:
```json
{
    "body": "Thank you for taking care of that last piece.",
    "created_at": "2012-04-07T15:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148683",
    "user": "jhpalmieri"
}
```

Thank you for taking care of that last piece.



---

archive/issue_comments_148684.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-04-08T00:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12541#issuecomment-148684",
    "user": "jdemeyer"
}
```

Resolution: fixed
