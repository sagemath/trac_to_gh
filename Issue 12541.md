# Issue 12541: Excise MoinMoin

Issue created by migration from https://trac.sagemath.org/ticket/12713

Original creator: kini

Original creation time: 2012-03-20 22:20:02

Assignee: tbd

We should get rid of MoinMoin as a standard spkg. It is not used by anything in Sage AFAIK. (There has been some discussion about this on sage-devel.)


---

Comment by jhpalmieri created at 2012-03-21 14:26:40

For what it's worth, I removed the moin spkg and modified `spkg/install` and `spkg/standard/deps` in the obvious ways. Sage built and all tests passed.


---

Comment by jhpalmieri created at 2012-03-21 21:43:35

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2012-03-21 21:43:35

Here's a patch. If we go through with this, should we keep MoinMoin as an optional spkg? Probably we should.


---

Comment by jhpalmieri created at 2012-03-21 21:43:49

root repo


---

Attachment


---

Comment by leif created at 2012-03-23 07:44:29

Replying to [comment:3 jhpalmieri]:
> Here's a patch. If we go through with this, should we keep MoinMoin as an optional spkg? Probably we should.

Yes!  (Make it an optional spkg.)  Incidentally, that's what I was thinking of yesterday as well, and a couple of times before...


---

Comment by jdemeyer created at 2012-03-27 10:24:55

Changing status from needs_review to needs_info.


---

Comment by jdemeyer created at 2012-03-27 10:24:55

I guess this is something which should be discussed properly on sage-devel first...


---

Comment by jhpalmieri created at 2012-03-28 22:41:54

Changing status from needs_info to needs_review.


---

Comment by jdemeyer created at 2012-04-02 09:42:15

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2012-04-02 09:42:15

There's slightly more to do: remove the `sage -wiki` command line option and remove some files related to Moin Moin Wiki in the Sage library (sorry, I haven't checked which files, but I'm sure there is something).


---

Comment by jhpalmieri created at 2012-04-02 22:08:51

Changing status from needs_work to needs_review.


---

Comment by jhpalmieri created at 2012-04-02 22:08:51

Here are new patches.


---

Comment by jhpalmieri created at 2012-04-02 22:09:06

root repo


---

Attachment

scripts repo


---

Attachment

The Sage library patch conflicts somewhat with #11409. If #11409 is merged first, then the Sage library patch here may be ignored. If this is merged first, then #11409 will need rebasing.


---

Comment by leif created at 2012-04-03 04:25:36

Replying to [comment:8 jdemeyer]:
> There's slightly more to do: remove the `sage -wiki` command line option and remove some files related to Moin Moin Wiki in the Sage library (sorry, I haven't checked which files, but I'm sure there is something).

Should we really remove all traces of MoinMoin (or any kind of wiki) from Sage?

If we keep it as an optional (or experimental) spkg, we could treat it as such, just like the others.  I.e., just add checks whether it is present / installed, and give messages according to the result.


---

Comment by kini created at 2012-04-03 04:29:54

For an optional spkg, maybe, but do we really maintain (or need to maintain) library/interface support for experimental packages?


---

Comment by leif created at 2012-04-03 04:45:07

Replying to [comment:12 kini]:
> For an optional spkg, maybe, but do we really maintain (or need to maintain) library/interface support for experimental packages?

Well, I don't have strong feelings about that, but probably there are Sage users out there who really used that stuff... :-)


---

Comment by jhpalmieri created at 2012-04-03 05:21:00

Since no one on sage-devel objected to the removal of MoinMoin, I think we can do this. If someone wants to restore the functionality, they can just restore the files from `sage/server/wiki`: that's the whole purpose of having a repository, right? The only other possibility, I think, is to not only add checks for the presence of the package, but also to add doctests to the file `sage/server/wiki/moin.py`. Removing the files is by far the path of least resistance. Oh, Leif, unless you're volunteering...


---

Comment by jdemeyer created at 2012-04-03 06:38:36

Replying to [comment:10 jhpalmieri]:
> The Sage library patch conflicts somewhat with #11409. If #11409 is merged first, then the Sage library patch here may be ignored. If this is merged first, then #11409 will need rebasing.

It is unlikely that #11409 will get merged any time soon (unfortunately).


---

Comment by jdemeyer created at 2012-04-04 19:12:47

The file

```
doc/en/reference/networking.rst
```

should also be removed, and `index.rst` modified accordingly.


---

Comment by jdemeyer created at 2012-04-04 19:12:47

Changing status from needs_review to needs_work.


---

Comment by jhpalmieri created at 2012-04-04 20:19:40

Changing status from needs_work to needs_review.


---

Comment by jhpalmieri created at 2012-04-04 20:19:40

Okay, here's a new patch which does that.


---

Comment by jhpalmieri created at 2012-04-04 20:19:56

Sage library


---

Attachment

Do we also need a patch for sagenb, removing `sagenb/notebook/wiki2html.py`? Here is one.


---

Comment by jhpalmieri created at 2012-04-04 22:27:57

sagenb


---

Attachment

You forgot this (sage library):

```diff
diff --git a/setup.py b/setup.py
--- a/setup.py
+++ b/setup.py
@@ -1008,7 +1008,6 @@
                      'sage.server.simple',
                      'sage.server.notebook',
                      'sage.server.notebook.compress',
-                     'sage.server.wiki',
                      'sage.server.trac',

                      'sage.structure',
```



---

Comment by jdemeyer created at 2012-04-06 08:57:38

positive_review if `setup.py` is fixed.


---

Comment by jdemeyer created at 2012-04-06 08:57:38

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2012-04-07 07:07:31

Changing status from needs_work to positive_review.


---

Attachment


---

Comment by jhpalmieri created at 2012-04-07 15:13:46

Thank you for taking care of that last piece.


---

Comment by jdemeyer created at 2012-04-08 00:36:50

Resolution: fixed
