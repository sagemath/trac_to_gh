# Issue 19191: Add support for MPFR_RNDA rounding mode

archive/issues_019191.json:
```json
{
    "body": "This rounding mode is \"new\" since MPFR 3.\n\nIssue created by migration from https://trac.sagemath.org/ticket/19428\n\n",
    "created_at": "2015-10-17T09:51:44Z",
    "labels": [
        "basic arithmetic",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.0",
    "title": "Add support for MPFR_RNDA rounding mode",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19191",
    "user": "@jdemeyer"
}
```
This rounding mode is "new" since MPFR 3.

Issue created by migration from https://trac.sagemath.org/ticket/19428





---

archive/issue_comments_263326.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-10-17T14:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263326",
    "user": "@jdemeyer"
}
```

New commits:



---

archive/issue_comments_263327.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-10-17T14:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263327",
    "user": "@jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_263328.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-10-17T15:40:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263328",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_263329.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-10-29T11:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263329",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_263330.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-11-12T14:25:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263330",
    "user": "@videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_263331.json:
```json
{
    "body": "Wrong syntax\n\n```\n+        TESTS::\n+\n+        Test the various rounding modes::\n```\n",
    "created_at": "2015-11-12T14:25:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263331",
    "user": "@videlec"
}
```

Wrong syntax

```
+        TESTS::
+
+        Test the various rounding modes::
```




---

archive/issue_comments_263332.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-12T18:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263332",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_263333.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-11-12T18:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263333",
    "user": "@jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_263334.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-06T15:36:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263334",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_263335.json:
```json
{
    "body": "RNDA is marked experimental in the MPFR manual, and Vincent Lef\u00e8vre recently insisted on mpfr-devel that it \"is not part of the API\" and \"could disappear entirely without notice\", so I'm not sure it is such a good idea to start supporting it unless we have a real use for it.",
    "created_at": "2016-01-08T09:08:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263335",
    "user": "@mezzarobba"
}
```

RNDA is marked experimental in the MPFR manual, and Vincent Lefèvre recently insisted on mpfr-devel that it "is not part of the API" and "could disappear entirely without notice", so I'm not sure it is such a good idea to start supporting it unless we have a real use for it.



---

archive/issue_comments_263336.json:
```json
{
    "body": "Replying to [comment:10 mmezzarobba]:\n> RNDA is marked experimental in the MPFR manual\n\nI cannot find anything like that in the manual of mpfr-3.1.3 (are you using an outdated version?). What is your reference?",
    "created_at": "2016-01-08T13:00:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263336",
    "user": "@jdemeyer"
}
```

Replying to [comment:10 mmezzarobba]:
> RNDA is marked experimental in the MPFR manual

I cannot find anything like that in the manual of mpfr-3.1.3 (are you using an outdated version?). What is your reference?



---

archive/issue_comments_263337.json:
```json
{
    "body": "Replying to [comment:11 jdemeyer]:\n> Replying to [comment:10 mmezzarobba]:\n> > RNDA is marked experimental in the MPFR manual\n> \n> I cannot find anything like that in the manual of mpfr-3.1.3 (are you using an outdated version?). What is your reference?\n\nFirst paragraph of Section 4.4 (or just grep for \"experimental\").\n\nEdit: oh, no, sorry, it *was* marked as such in the manual of MPFR\u00a03.0, but that no longer seems to be the case with the current release. Well, then I don't know why Vincent said that.",
    "created_at": "2016-01-08T13:13:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263337",
    "user": "@mezzarobba"
}
```

Replying to [comment:11 jdemeyer]:
> Replying to [comment:10 mmezzarobba]:
> > RNDA is marked experimental in the MPFR manual
> 
> I cannot find anything like that in the manual of mpfr-3.1.3 (are you using an outdated version?). What is your reference?

First paragraph of Section 4.4 (or just grep for "experimental").

Edit: oh, no, sorry, it *was* marked as such in the manual of MPFR 3.0, but that no longer seems to be the case with the current release. Well, then I don't know why Vincent said that.



---

archive/issue_comments_263338.json:
```json
{
    "body": "Replying to [comment:12 mmezzarobba]:\n> Edit: oh, no, sorry, it *was* marked as such in the manual of MPFR\u00a03.0\n\nWell, it was a new feature in MPFR 3.0, so it's not surprising that it was experimental initially.\n\nDo you have a link to the post of Vincent Lef\u00e8vre?",
    "created_at": "2016-01-08T13:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263338",
    "user": "@jdemeyer"
}
```

Replying to [comment:12 mmezzarobba]:
> Edit: oh, no, sorry, it *was* marked as such in the manual of MPFR 3.0

Well, it was a new feature in MPFR 3.0, so it's not surprising that it was experimental initially.

Do you have a link to the post of Vincent Lefèvre?



---

archive/issue_comments_263339.json:
```json
{
    "body": "Replying to [comment:13 jdemeyer]:\n> Replying to [comment:12 mmezzarobba]:\n> > Edit: oh, no, sorry, it *was* marked as such in the manual of MPFR\u00a03.0\n> \n> Well, it was a new feature in MPFR 3.0, so it's not surprising that it was experimental initially.\n> \n> Do you have a link to the post of Vincent Lef\u00e8vre?\n\nhttps://sympa.inria.fr/sympa/arc/mpfr/2015-12/msg00071.html\n\nI just saw he was talking abound MPFR_RND**N**A, which I didn't even know existed. False alarm, sorry.",
    "created_at": "2016-01-08T13:25:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263339",
    "user": "@mezzarobba"
}
```

Replying to [comment:13 jdemeyer]:
> Replying to [comment:12 mmezzarobba]:
> > Edit: oh, no, sorry, it *was* marked as such in the manual of MPFR 3.0
> 
> Well, it was a new feature in MPFR 3.0, so it's not surprising that it was experimental initially.
> 
> Do you have a link to the post of Vincent Lefèvre?

https://sympa.inria.fr/sympa/arc/mpfr/2015-12/msg00071.html

I just saw he was talking abound MPFR_RND**N**A, which I didn't even know existed. False alarm, sorry.



---

archive/issue_comments_263340.json:
```json
{
    "body": "If you're replacing `GMP_RNDx` by `MPFR_RNDx` everywhere, I guess you may also want to replace `mp_rnd_t` by `mpfr_rnd_t` (and perhaps `mp_prec_t` by `mpfr_prec_t`) in `mpfr.pxd`. Unless there is a particular reason not to do it?",
    "created_at": "2016-01-08T14:14:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263340",
    "user": "@mezzarobba"
}
```

If you're replacing `GMP_RNDx` by `MPFR_RNDx` everywhere, I guess you may also want to replace `mp_rnd_t` by `mpfr_rnd_t` (and perhaps `mp_prec_t` by `mpfr_prec_t`) in `mpfr.pxd`. Unless there is a particular reason not to do it?



---

archive/issue_comments_263341.json:
```json
{
    "body": "Replying to [comment:15 mmezzarobba]:\n> If you're replacing `GMP_RNDx` by `MPFR_RNDx` everywhere, I guess you may also want to replace `mp_rnd_t` by `mpfr_rnd_t` (and perhaps `mp_prec_t` by `mpfr_prec_t`) in `mpfr.pxd`. Unless there is a particular reason not to do it?\n\nThere is no particular reason, I just didn't bother. Will you review it if I make those replacements?",
    "created_at": "2016-01-08T15:49:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263341",
    "user": "@jdemeyer"
}
```

Replying to [comment:15 mmezzarobba]:
> If you're replacing `GMP_RNDx` by `MPFR_RNDx` everywhere, I guess you may also want to replace `mp_rnd_t` by `mpfr_rnd_t` (and perhaps `mp_prec_t` by `mpfr_prec_t`) in `mpfr.pxd`. Unless there is a particular reason not to do it?

There is no particular reason, I just didn't bother. Will you review it if I make those replacements?



---

archive/issue_comments_263342.json:
```json
{
    "body": "Replying to [comment:16 jdemeyer]:\n> There is no particular reason, I just didn't bother. Will you review it if I make those replacements?\n\nI don't have much time, but yes, I can try to review it (hopefully next Monday) in any case.",
    "created_at": "2016-01-08T20:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263342",
    "user": "@mezzarobba"
}
```

Replying to [comment:16 jdemeyer]:
> There is no particular reason, I just didn't bother. Will you review it if I make those replacements?

I don't have much time, but yes, I can try to review it (hopefully next Monday) in any case.



---

archive/issue_comments_263343.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-10T08:43:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263343",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_263344.json:
```json
{
    "body": "I added two commits with minor improvements (or so I hope!) in `u/mmezzarobba/add_support_for_mpfr_rnda_rounding_mode`. Please merge that branch if you agree with the changes. Whether you merge them or not, feel free to set the ticket to positive review if all tests pass.",
    "created_at": "2016-01-12T05:57:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263344",
    "user": "@mezzarobba"
}
```

I added two commits with minor improvements (or so I hope!) in `u/mmezzarobba/add_support_for_mpfr_rnda_rounding_mode`. Please merge that branch if you agree with the changes. Whether you merge them or not, feel free to set the ticket to positive review if all tests pass.



---

archive/issue_comments_263345.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-01-12T09:46:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263345",
    "user": "@jdemeyer"
}
```

New commits:



---

archive/issue_comments_263346.json:
```json
{
    "body": "Your changes look good to me. Did you run doctests with your changes?",
    "created_at": "2016-01-12T09:51:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263346",
    "user": "@jdemeyer"
}
```

Your changes look good to me. Did you run doctests with your changes?



---

archive/issue_comments_263347.json:
```json
{
    "body": "Replying to [comment:24 jdemeyer]:\n> Your changes look good to me. Did you run doctests with your changes?\n\nOnly the tests in `rings/` and `libs/`.",
    "created_at": "2016-01-12T10:29:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263347",
    "user": "@mezzarobba"
}
```

Replying to [comment:24 jdemeyer]:
> Your changes look good to me. Did you run doctests with your changes?

Only the tests in `rings/` and `libs/`.



---

archive/issue_comments_263348.json:
```json
{
    "body": "To be sure, I will run `make ptestlong` and set positive review if it passes.",
    "created_at": "2016-01-12T10:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263348",
    "user": "@jdemeyer"
}
```

To be sure, I will run `make ptestlong` and set positive review if it passes.



---

archive/issue_comments_263349.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-01-12T12:40:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263349",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_263350.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-01-12T22:07:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19191",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19191#issuecomment-263350",
    "user": "@vbraun"
}
```

Resolution: fixed
