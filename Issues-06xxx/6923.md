# Issue 6923: Matrix numerical approximation converts complex to real

archive/issues_006923.json:
```json
{
    "body": "```\nsage: A = Matrix(CC,3); A.parent()\nFull MatrixSpace of 3 by 3 dense matrices over Complex Field with 53 bits of precision\nsage: B = A.n(20); B.parent()\nFull MatrixSpace of 3 by 3 dense matrices over Real Field with 20 bits of precision\n```\n\nIMHO .n() only should change the precision, no other conversion.\n\nThis is also the behaviour of .n() on ComplexField.\n\n\nAssignee: tbd\n\nStopgaps: todo\n\nIssue created by migration from https://trac.sagemath.org/ticket/6923\n\n",
    "created_at": "2009-09-11T06:40:08Z",
    "labels": [
        "component: linear algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Matrix numerical approximation converts complex to real",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/6923",
    "user": "https://trac.sagemath.org/admin/accounts/users/Henryk.Trappmann"
}
```
```
sage: A = Matrix(CC,3); A.parent()
Full MatrixSpace of 3 by 3 dense matrices over Complex Field with 53 bits of precision
sage: B = A.n(20); B.parent()
Full MatrixSpace of 3 by 3 dense matrices over Real Field with 20 bits of precision
```

IMHO .n() only should change the precision, no other conversion.

This is also the behaviour of .n() on ComplexField.


Assignee: tbd

Stopgaps: todo

Issue created by migration from https://trac.sagemath.org/ticket/6923





---

archive/issue_comments_057062.json:
```json
{
    "body": "Changing component from algebra to linear algebra.",
    "created_at": "2009-11-15T13:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6923#issuecomment-57062",
    "user": "https://github.com/aghitza"
}
```

Changing component from algebra to linear algebra.



---

archive/issue_events_016257.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2009-11-15T13:09:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "milestone": "sage-4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6923#event-16257"
}
```



---

archive/issue_events_016258.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "milestone": "sage-4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6923#event-16258"
}
```



---

archive/issue_events_016259.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6923#event-16259"
}
```



---

archive/issue_events_016260.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6923#event-16260"
}
```



---

archive/issue_events_016261.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6923#event-16261"
}
```



---

archive/issue_events_016262.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6923#event-16262"
}
```



---

archive/issue_events_016263.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6923#event-16263"
}
```



---

archive/issue_events_016264.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6923#event-16264"
}
```



---

archive/issue_events_016265.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6923#event-16265"
}
```



---

archive/issue_events_016266.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6",
    "created_at": "2016-05-30T09:49:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6923#event-16266"
}
```



---

archive/issue_events_016267.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6",
    "created_at": "2016-05-30T09:49:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6923#event-16267"
}
```



---

archive/issue_comments_057063.json:
```json
{
    "body": "<a id='comment:9'></a>The problem being that\n\n```\nreturn self.change_ring(sage.rings.real_mpfr.RealField(prec))\n```\ndoesn't raise an error since it can coerce the motivating matrix to Real. should we avoid coercion, maybe using type checking ?",
    "created_at": "2016-05-30T10:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6923",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6923#issuecomment-57063",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

<a id='comment:9'></a>The problem being that

```
return self.change_ring(sage.rings.real_mpfr.RealField(prec))
```
doesn't raise an error since it can coerce the motivating matrix to Real. should we avoid coercion, maybe using type checking ?
