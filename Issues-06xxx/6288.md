# Issue 6288: %lisp mode on the command line doesn't work.  why?

archive/issues_006288.json:
```json
{
    "body": "\n```\n> Another thing that does not work is \"sage -\n> lisp\" which gave the clisp prompt. I found this rather convenient\n> since I could just use the clisp within sage. Is there any plan/\n> interest to switch the this lisp interface to ecl? Does ecl use\n> readline?\n\nFor now you can at least start sage then type\n\nsage: !ecl\n\nto start ecl.  It appears to not make any use of ecl.  I don't know if this is just\na compilation problem or an ecl limitation.\n\nThe Sage <--> lisp interface already works fine:\n\nsage: lisp.eval('(+ 2 3)')\n'5'\n\nI'm not sure why %gap works but not %lisp:\n\nsage: %lisp\nERROR: Magic function `lisp` not found.\nsage: %gap\n  --> Switching to Gap <-- \ngap: \n```\n\n\n\nAssignee: @williamstein\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton, Mike Hansen\n\nAuthor: Mike Hansen, Fr\u00e9d\u00e9ric Chapoton\n\nBranch: u/chapoton/6288\n\nCommit: 858adf2b9d70cd827cab3d7f221db5e3b883e8d6\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/6288\n\n",
    "closed_at": "2014-01-17T04:16:26Z",
    "created_at": "2009-06-14T20:57:48Z",
    "labels": [
        "component: interfaces",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.1",
    "title": "%lisp mode on the command line doesn't work.  why?",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/6288",
    "user": "https://github.com/williamstein"
}
```

```
> Another thing that does not work is "sage -
> lisp" which gave the clisp prompt. I found this rather convenient
> since I could just use the clisp within sage. Is there any plan/
> interest to switch the this lisp interface to ecl? Does ecl use
> readline?

For now you can at least start sage then type

sage: !ecl

to start ecl.  It appears to not make any use of ecl.  I don't know if this is just
a compilation problem or an ecl limitation.

The Sage <--> lisp interface already works fine:

sage: lisp.eval('(+ 2 3)')
'5'

I'm not sure why %gap works but not %lisp:

sage: %lisp
ERROR: Magic function `lisp` not found.
sage: %gap
  --> Switching to Gap <-- 
gap: 
```



Assignee: @williamstein

Reviewer: Frédéric Chapoton, Mike Hansen

Author: Mike Hansen, Frédéric Chapoton

Branch: u/chapoton/6288

Commit: 858adf2b9d70cd827cab3d7f221db5e3b883e8d6

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/6288





---

archive/issue_comments_054775.json:
```json
{
    "body": "Attachment [trac_6288.patch](tarball://root/attachments/some-uuid/ticket6288/trac_6288.patch) by @mwhansen created at 2013-07-23 13:23:57",
    "created_at": "2013-07-23T13:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54775",
    "user": "https://github.com/mwhansen"
}
```

Attachment [trac_6288.patch](tarball://root/attachments/some-uuid/ticket6288/trac_6288.patch) by @mwhansen created at 2013-07-23 13:23:57



---

archive/issue_comments_054776.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2013-07-23T13:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54776",
    "user": "https://github.com/mwhansen"
}
```

Changing upstream from "" to "N/A"



---

archive/issue_comments_054777.json:
```json
{
    "body": "Changing author from \"\" to \"Mike Hansen\"",
    "created_at": "2013-07-23T13:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54777",
    "user": "https://github.com/mwhansen"
}
```

Changing author from "" to "Mike Hansen"



---

archive/issue_comments_054778.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-07-23T13:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54778",
    "user": "https://github.com/mwhansen"
}
```

Changing status from new to needs_review.



---

archive/issue_events_025162.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6288#event-25162"
}
```



---

archive/issue_comments_054779.json:
```json
{
    "body": "<a id='comment:3'></a>\nok, here is a review patch.\n\nFirst I have made some minor formatting changes (pep8)\n\nNext, I have corrected the part handling the bad names\n\nHere is the list of interfaces with bad names:\n\n```\n[('gp', 'pari', PARI/GP interpreter),\n ('lisp', 'Lisp', Lisp Interpreter),\n ('sage0', 'sage', Sage),\n ('mupad', 'MuPAD', Mupad),\n ('lie', 'LiE', LiE Interpreter)]\n```\nI would prefer to avoid having the magic command \"%sage\" !\n\nI also wonder if it is necessary to deprecate the bad names, instead of just using them as an alternative ?",
    "created_at": "2013-08-21T11:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54779",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
ok, here is a review patch.

First I have made some minor formatting changes (pep8)

Next, I have corrected the part handling the bad names

Here is the list of interfaces with bad names:

```
[('gp', 'pari', PARI/GP interpreter),
 ('lisp', 'Lisp', Lisp Interpreter),
 ('sage0', 'sage', Sage),
 ('mupad', 'MuPAD', Mupad),
 ('lie', 'LiE', LiE Interpreter)]
```
I would prefer to avoid having the magic command "%sage" !

I also wonder if it is necessary to deprecate the bad names, instead of just using them as an alternative ?



---

archive/issue_comments_054780.json:
```json
{
    "body": "Attachment [trac_6288_addon_pep8.patch](tarball://root/attachments/some-uuid/ticket6288/trac_6288_addon_pep8.patch) by @fchapoton created at 2013-08-25 13:25:46",
    "created_at": "2013-08-25T13:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54780",
    "user": "https://github.com/fchapoton"
}
```

Attachment [trac_6288_addon_pep8.patch](tarball://root/attachments/some-uuid/ticket6288/trac_6288_addon_pep8.patch) by @fchapoton created at 2013-08-25 13:25:46



---

archive/issue_comments_054781.json:
```json
{
    "body": "<a id='comment:4'></a>\nping ?",
    "created_at": "2013-09-11T19:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54781",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
ping ?



---

archive/issue_comments_054782.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/6288\"",
    "created_at": "2014-01-05T10:02:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54782",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/6288"



---

archive/issue_comments_054783.json:
```json
{
    "body": "Changing commit from \"\" to \"858adf2b9d70cd827cab3d7f221db5e3b883e8d6\"",
    "created_at": "2014-01-05T10:02:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54783",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "858adf2b9d70cd827cab3d7f221db5e3b883e8d6"



---

archive/issue_comments_054784.json:
```json
{
    "body": "<a id='comment:5'></a>\nNew commits:\n|                                                                                                                                          |                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[858adf2](https://github.com/sagemath/sagetrac-mirror/commit/858adf2b9d70cd827cab3d7f221db5e3b883e8d6)|`trac #6288 addon and cleanup`|\n|[0fe6e44](https://github.com/sagemath/sagetrac-mirror/commit/0fe6e443cdf6d1dea2593fdeeba7ff24b58e9d1b)|`#6288: %lisp mode on the command line doesn't work. why?`|",
    "created_at": "2014-01-05T10:02:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54784",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
New commits:
|                                                                                                                                          |                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[858adf2](https://github.com/sagemath/sagetrac-mirror/commit/858adf2b9d70cd827cab3d7f221db5e3b883e8d6)|`trac #6288 addon and cleanup`|
|[0fe6e44](https://github.com/sagemath/sagetrac-mirror/commit/0fe6e443cdf6d1dea2593fdeeba7ff24b58e9d1b)|`#6288: %lisp mode on the command line doesn't work. why?`|



---

archive/issue_comments_054785.json:
```json
{
    "body": "<a id='comment:6'></a>\nThe review patch looks good.  I would probably prefer \"%sage0\" to \"%sage\".  I'd rather deprecate the bad names so that there's just one consistent way to access them.  But, I'm not too fussed either way about those two points.",
    "created_at": "2014-01-09T12:19:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54785",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:6'></a>
The review patch looks good.  I would probably prefer "%sage0" to "%sage".  I'd rather deprecate the bad names so that there's just one consistent way to access them.  But, I'm not too fussed either way about those two points.



---

archive/issue_comments_054786.json:
```json
{
    "body": "<a id='comment:7'></a>\nOk, so is there still something to do or not ?",
    "created_at": "2014-01-09T19:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54786",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
Ok, so is there still something to do or not ?



---

archive/issue_comments_054787.json:
```json
{
    "body": "<a id='comment:8'></a>\nI would say not.  I'm fine with your patch.",
    "created_at": "2014-01-09T19:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54787",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:8'></a>
I would say not.  I'm fine with your patch.



---

archive/issue_comments_054788.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-01-09T19:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54788",
    "user": "https://github.com/mwhansen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_054789.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton, Mike Hansen\"",
    "created_at": "2014-01-09T19:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54789",
    "user": "https://github.com/mwhansen"
}
```

Changing reviewer from "" to "Frédéric Chapoton, Mike Hansen"



---

archive/issue_comments_054790.json:
```json
{
    "body": "Changing author from \"Mike Hansen\" to \"Mike Hansen, Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2014-01-09T19:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54790",
    "user": "https://github.com/mwhansen"
}
```

Changing author from "Mike Hansen" to "Mike Hansen, Frédéric Chapoton"



---

archive/issue_events_025163.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-17T04:16:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6288#event-25163"
}
```



---

archive/issue_comments_054791.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-01-17T04:16:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6288",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6288#issuecomment-54791",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
