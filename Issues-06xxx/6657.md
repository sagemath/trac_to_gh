# Issue 6657: EllipticCurve(..., j=...) shouldn't ignore field argument if given.

archive/issues_006657.json:
```json
{
    "body": "```\nI found the following to be rather unexpected:\n\nEllipticCurve(GF(144169),j=1728)\nElliptic Curve defined by y^2 = x^3 - x over Rational Field\n\n - Victor Miller\n\n[I understand that 1728 is considered an Integer, yet the first\nargument seems to be ignored]\n```\n\nAssignee: @JohnCremona\n\nResolution: fixed\n\nAuthor: John Cremona\n\nReviewer: Chris Wuthrich\n\nMerged: sage-4.3.1.rc1\n\nIssue created by migration from https://trac.sagemath.org/ticket/6657\n\n",
    "closed_at": "2010-01-19T00:08:13Z",
    "created_at": "2009-07-29T23:06:58Z",
    "labels": [
        "component: elliptic curves",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3.1",
    "title": "EllipticCurve(..., j=...) shouldn't ignore field argument if given.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/6657",
    "user": "https://github.com/williamstein"
}
```
```
I found the following to be rather unexpected:

EllipticCurve(GF(144169),j=1728)
Elliptic Curve defined by y^2 = x^3 - x over Rational Field

 - Victor Miller

[I understand that 1728 is considered an Integer, yet the first
argument seems to be ignored]
```

Assignee: @JohnCremona

Resolution: fixed

Author: John Cremona

Reviewer: Chris Wuthrich

Merged: sage-4.3.1.rc1

Issue created by migration from https://trac.sagemath.org/ticket/6657





---

archive/issue_comments_061830.json:
```json
{
    "body": "<a id='comment:1'></a>Easy to fix:  where EllipticCurve calls `EllipticCurve_from_j(j)` it should in fact coerce j into the parent of x (if x is not none).",
    "created_at": "2009-08-01T18:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61830",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:1'></a>Easy to fix:  where EllipticCurve calls `EllipticCurve_from_j(j)` it should in fact coerce j into the parent of x (if x is not none).



---

archive/issue_comments_061831.json:
```json
{
    "body": "<a id='comment:2'></a>This issue only appears in the deprecated function `EllipticCurve(..,j=..)`. The right function to call here is `EllipticCurve_from_j(GF(144169)(1728))`.\n\nMy proposal for a change is to finally eliminate the deprecated function.",
    "created_at": "2009-10-20T22:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61831",
    "user": "https://github.com/categorie"
}
```

<a id='comment:2'></a>This issue only appears in the deprecated function `EllipticCurve(..,j=..)`. The right function to call here is `EllipticCurve_from_j(GF(144169)(1728))`.

My proposal for a change is to finally eliminate the deprecated function.



---

archive/issue_comments_061832.json:
```json
{
    "body": "Changing component from number theory to elliptic curves.",
    "created_at": "2010-01-12T14:49:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61832",
    "user": "https://github.com/categorie"
}
```

Changing component from number theory to elliptic curves.



---

archive/issue_comments_061833.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2010-01-12T14:49:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61833",
    "user": "https://github.com/categorie"
}
```

Changing upstream from "" to "N/A"



---

archive/issue_comments_061834.json:
```json
{
    "body": "Changing assignee from @williamstein to @JohnCremona.",
    "created_at": "2010-01-12T14:49:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61834",
    "user": "https://github.com/categorie"
}
```

Changing assignee from @williamstein to @JohnCremona.



---

archive/issue_comments_061835.json:
```json
{
    "body": "<a id='comment:4'></a>Chris,\n\nYou are not quite right.  What is deprecated is EllipticCurve(j0), not EllipticCurve(j=j0):\n\n```\nsage: EllipticCurve(GF(101)(1728))\n/home/john/sage-4.3.1.alpha1/local/bin/sage-ipython:1: DeprecationWarning: 'EllipticCurve(j)' is deprecated; use 'EllipticCurve_from_j(j)' or 'EllipticCurve(j=j)' instead.\n  #!/usr/bin/env python\nElliptic Curve defined by y^2 = x^3 + x over Finite Field of size 101\nsage: EllipticCurve(j=GF(101)(1728))\nElliptic Curve defined by y^2 = x^3 + x over Finite Field of size 101\n```\nNow I cannot remember when that deprecation was put in, hence when it should be removed.\n\nAnyway, Victor's point is a valid one, and I'll put up a patch!",
    "created_at": "2010-01-12T20:19:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61835",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:4'></a>Chris,

You are not quite right.  What is deprecated is EllipticCurve(j0), not EllipticCurve(j=j0):

```
sage: EllipticCurve(GF(101)(1728))
/home/john/sage-4.3.1.alpha1/local/bin/sage-ipython:1: DeprecationWarning: 'EllipticCurve(j)' is deprecated; use 'EllipticCurve_from_j(j)' or 'EllipticCurve(j=j)' instead.
  #!/usr/bin/env python
Elliptic Curve defined by y^2 = x^3 + x over Finite Field of size 101
sage: EllipticCurve(j=GF(101)(1728))
Elliptic Curve defined by y^2 = x^3 + x over Finite Field of size 101
```
Now I cannot remember when that deprecation was put in, hence when it should be removed.

Anyway, Victor's point is a valid one, and I'll put up a patch!



---

archive/issue_comments_061836.json:
```json
{
    "body": "Applies to 4.3.1.alpha1",
    "created_at": "2010-01-12T20:52:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61836",
    "user": "https://github.com/JohnCremona"
}
```

Applies to 4.3.1.alpha1



---

archive/issue_comments_061837.json:
```json
{
    "body": "Changing author from \"\" to \"John Cremona\"",
    "created_at": "2010-01-12T20:53:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61837",
    "user": "https://github.com/JohnCremona"
}
```

Changing author from "" to "John Cremona"



---

archive/issue_comments_061838.json:
```json
{
    "body": "<a id='comment:5'></a>Attachment [trac_6657-elliptic_curveconstructor.patch](tarball://root/attachments/some-uuid/ticket6657/trac_6657-elliptic_curveconstructor.patch) by @JohnCremona created at 2010-01-12 20:53:15\n\nThe attached patch sorts this out, with appropriate tests.",
    "created_at": "2010-01-12T20:53:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61838",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:5'></a>Attachment [trac_6657-elliptic_curveconstructor.patch](tarball://root/attachments/some-uuid/ticket6657/trac_6657-elliptic_curveconstructor.patch) by @JohnCremona created at 2010-01-12 20:53:15

The attached patch sorts this out, with appropriate tests.



---

archive/issue_comments_061839.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-01-12T20:53:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61839",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_061840.json:
```json
{
    "body": "<a id='comment:6'></a>Yes, that is fine. Thanks John.\n\nChris.",
    "created_at": "2010-01-15T16:43:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61840",
    "user": "https://github.com/categorie"
}
```

<a id='comment:6'></a>Yes, that is fine. Thanks John.

Chris.



---

archive/issue_comments_061841.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-01-15T16:43:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61841",
    "user": "https://github.com/categorie"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_061842.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Chris Wuthrich\"",
    "created_at": "2010-01-15T16:43:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61842",
    "user": "https://github.com/categorie"
}
```

Changing reviewer from "" to "Chris Wuthrich"



---

archive/issue_events_015714.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-01-19T00:08:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6657#event-15714"
}
```



---

archive/issue_comments_061843.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.3.1.rc1\"",
    "created_at": "2010-01-19T00:08:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61843",
    "user": "https://github.com/rlmill"
}
```

Changing merged from "" to "sage-4.3.1.rc1"



---

archive/issue_comments_061844.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-01-19T00:08:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6657#issuecomment-61844",
    "user": "https://github.com/rlmill"
}
```

Resolution: fixed
