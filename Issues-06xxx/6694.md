# Issue 6694: [with patch, positive review] Live reference manual worksheets

archive/issues_006694.json:
```json
{
    "body": "Sage generates live \"docbrowser\" worksheets for the tutorial, developer's guide, and constructions guide, but not for the reference manual.\n\nAssignee: boothby\n\nCC:  @jhpalmieri\n\nResolution: fixed\n\nAuthor: Mitesh Patel\n\nReviewer: Marshall Hampton\n\nMerged: Sage 4.1.2.alpha4\n\nIssue created by migration from https://trac.sagemath.org/ticket/6694\n\n",
    "closed_at": "2009-09-24T09:46:32Z",
    "created_at": "2009-08-09T06:07:47Z",
    "labels": [
        "component: notebook",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.1.2",
    "title": "[with patch, positive review] Live reference manual worksheets",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/6694",
    "user": "https://github.com/qed777"
}
```
Sage generates live "docbrowser" worksheets for the tutorial, developer's guide, and constructions guide, but not for the reference manual.

Assignee: boothby

CC:  @jhpalmieri

Resolution: fixed

Author: Mitesh Patel

Reviewer: Marshall Hampton

Merged: Sage 4.1.2.alpha4

Issue created by migration from https://trac.sagemath.org/ticket/6694





---

archive/issue_comments_061038.json:
```json
{
    "body": "Attachment [trac_6694-live_ref_manual.patch](tarball://root/attachments/some-uuid/ticket6694/trac_6694-live_ref_manual.patch) by @qed777 created at 2009-08-09 06:10:36",
    "created_at": "2009-08-09T06:10:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61038",
    "user": "https://github.com/qed777"
}
```

Attachment [trac_6694-live_ref_manual.patch](tarball://root/attachments/some-uuid/ticket6694/trac_6694-live_ref_manual.patch) by @qed777 created at 2009-08-09 06:10:36



---

archive/issue_comments_061039.json:
```json
{
    "body": "<a id='comment:1'></a>\nI've attached a first take.  I haven't tested it extensively, but it seems to work for several pages at different depths in the reference manual's hierarchy.\n\nShould we change the green background color for Sage output?  Perhaps we can insert a CSS directive after `default.css` in `twist.py` (see lines 194+).\n\nActually, the patch is not specific to the manual, so we should be able to add other complex documents, including textbooks, specialized tutorials, etc.",
    "created_at": "2009-08-09T06:25:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61039",
    "user": "https://github.com/qed777"
}
```

<a id='comment:1'></a>
I've attached a first take.  I haven't tested it extensively, but it seems to work for several pages at different depths in the reference manual's hierarchy.

Should we change the green background color for Sage output?  Perhaps we can insert a CSS directive after `default.css` in `twist.py` (see lines 194+).

Actually, the patch is not specific to the manual, so we should be able to add other complex documents, including textbooks, specialized tutorials, etc.



---

archive/issue_comments_061040.json:
```json
{
    "body": "Attachment [trac_6694-live_ref_manual_v2.patch](tarball://root/attachments/some-uuid/ticket6694/trac_6694-live_ref_manual_v2.patch) by @qed777 created at 2009-08-09 18:00:30\n\nHandle nonexistent pages better.  Apply only this patch.",
    "created_at": "2009-08-09T18:00:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61040",
    "user": "https://github.com/qed777"
}
```

Attachment [trac_6694-live_ref_manual_v2.patch](tarball://root/attachments/some-uuid/ticket6694/trac_6694-live_ref_manual_v2.patch) by @qed777 created at 2009-08-09 18:00:30

Handle nonexistent pages better.  Apply only this patch.



---

archive/issue_comments_061041.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe new version does not throw an exception for, e.g., `http://localhost:8000/doc/live/reference/foo.html`.",
    "created_at": "2009-08-09T18:02:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61041",
    "user": "https://github.com/qed777"
}
```

<a id='comment:3'></a>
The new version does not throw an exception for, e.g., `http://localhost:8000/doc/live/reference/foo.html`.



---

archive/issue_comments_061042.json:
```json
{
    "body": "Attachment [trac_6694-css.patch](tarball://root/attachments/some-uuid/ticket6694/trac_6694-css.patch) by @qed777 created at 2009-08-09 19:55:18\n\nStyle tweaks.  Apply before or after \"live_ref_manual\" patch.",
    "created_at": "2009-08-09T19:55:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61042",
    "user": "https://github.com/qed777"
}
```

Attachment [trac_6694-css.patch](tarball://root/attachments/some-uuid/ticket6694/trac_6694-css.patch) by @qed777 created at 2009-08-09 19:55:18

Style tweaks.  Apply before or after "live_ref_manual" patch.



---

archive/issue_comments_061043.json:
```json
{
    "body": "<a id='comment:4'></a>\nFeel free to edit the optional CSS patch.",
    "created_at": "2009-08-09T19:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61043",
    "user": "https://github.com/qed777"
}
```

<a id='comment:4'></a>
Feel free to edit the optional CSS patch.



---

archive/issue_comments_061044.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [mpatel](#comment%3A4):\n> Feel free to edit the optional CSS patch.\n\nOr ignore it altogether!",
    "created_at": "2009-09-21T03:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61044",
    "user": "https://github.com/qed777"
}
```

<a id='comment:5'></a>
Replying to [mpatel](#comment%3A4):
> Feel free to edit the optional CSS patch.

Or ignore it altogether!



---

archive/issue_comments_061045.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis seems to work great, and I would give it a positive review except that I just saw William Stein comment that in his notebook refactoring he is switching all path joining to use os.path.join.  In this patch, there are lines:\n\npath = self.docpath + '/' + '/'.join(segments) \n\nand\n\npath = self.docpath + '/' + '/'.join(segments[ind:])\n\nthat should be changed to use os.path.join().",
    "created_at": "2009-09-22T16:39:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61045",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:6'></a>
This seems to work great, and I would give it a positive review except that I just saw William Stein comment that in his notebook refactoring he is switching all path joining to use os.path.join.  In this patch, there are lines:

path = self.docpath + '/' + '/'.join(segments) 

and

path = self.docpath + '/' + '/'.join(segments[ind:])

that should be changed to use os.path.join().



---

archive/issue_events_027072.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "rename": {
        "from": "[with patch, needs review] Live reference manual worksheets",
        "to": "[with patch, needs work] Live reference manual worksheets"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6694#event-27072"
}
```



---

archive/issue_comments_061046.json:
```json
{
    "body": "Normalize real paths. Apply only this patch.",
    "created_at": "2009-09-23T00:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61046",
    "user": "https://github.com/qed777"
}
```

Normalize real paths. Apply only this patch.



---

archive/issue_comments_061047.json:
```json
{
    "body": "Attachment [trac_6694-live_ref_manual_v3.patch](tarball://root/attachments/some-uuid/ticket6694/trac_6694-live_ref_manual_v3.patch) by @qed777 created at 2009-09-23 00:45:20\n\nUse os.path.join(). Apply only this patch.",
    "created_at": "2009-09-23T00:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61047",
    "user": "https://github.com/qed777"
}
```

Attachment [trac_6694-live_ref_manual_v3.patch](tarball://root/attachments/some-uuid/ticket6694/trac_6694-live_ref_manual_v3.patch) by @qed777 created at 2009-09-23 00:45:20

Use os.path.join(). Apply only this patch.



---

archive/issue_comments_061048.json:
```json
{
    "body": "<a id='comment:7'></a>\nAttachment [trac_6694-live_ref_manual_v3.2.patch](tarball://root/attachments/some-uuid/ticket6694/trac_6694-live_ref_manual_v3.2.patch) by @qed777 created at 2009-09-23 00:47:04\n\nPlease try [attachment:trac_6694-live_ref_manual_v3.2.patch v3.2].",
    "created_at": "2009-09-23T00:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61048",
    "user": "https://github.com/qed777"
}
```

<a id='comment:7'></a>
Attachment [trac_6694-live_ref_manual_v3.2.patch](tarball://root/attachments/some-uuid/ticket6694/trac_6694-live_ref_manual_v3.2.patch) by @qed777 created at 2009-09-23 00:47:04

Please try [attachment:trac_6694-live_ref_manual_v3.2.patch v3.2].



---

archive/issue_events_027073.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "rename": {
        "from": "[with patch, needs work] Live reference manual worksheets",
        "to": "[with patch, needs review] Live reference manual worksheets"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6694#event-27073"
}
```



---

archive/issue_comments_061049.json:
```json
{
    "body": "Changing author from \"\" to \"Mitesh Patel\"",
    "created_at": "2009-09-23T00:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61049",
    "user": "https://github.com/qed777"
}
```

Changing author from "" to "Mitesh Patel"



---

archive/issue_comments_061050.json:
```json
{
    "body": "Changing reviewer from \"\" to \"mhampton\"",
    "created_at": "2009-09-23T00:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61050",
    "user": "https://github.com/qed777"
}
```

Changing reviewer from "" to "mhampton"



---

archive/issue_comments_061051.json:
```json
{
    "body": "<a id='comment:9'></a>\nGreat, thanks for the quick change.  That should make it a little easier to merge this into William's notebook rewrite.",
    "created_at": "2009-09-23T14:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61051",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:9'></a>
Great, thanks for the quick change.  That should make it a little easier to merge this into William's notebook rewrite.



---

archive/issue_events_027074.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "rename": {
        "from": "[with patch, needs review] Live reference manual worksheets",
        "to": "[with patch, positive review] Live reference manual worksheets"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6694#event-27074"
}
```



---

archive/issue_comments_061052.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [mhampton](#comment%3A9):\n> Great, thanks for the quick change.  That should make it a little easier to merge this into William's notebook rewrite.\n\nNo problem.  To really tax a browser, try \"evaluating all\" cells in a long section of the manual.",
    "created_at": "2009-09-23T14:20:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61052",
    "user": "https://github.com/qed777"
}
```

<a id='comment:10'></a>
Replying to [mhampton](#comment%3A9):
> Great, thanks for the quick change.  That should make it a little easier to merge this into William's notebook rewrite.

No problem.  To really tax a browser, try "evaluating all" cells in a long section of the manual.



---

archive/issue_events_027075.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-09-24T09:46:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "milestone": "sage-4.1.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6694#event-27075"
}
```



---

archive/issue_events_027076.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-09-24T09:46:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6694#event-27076"
}
```



---

archive/issue_comments_061053.json:
```json
{
    "body": "<a id='comment:11'></a>\nMerged `trac_6694-live_ref_manual_v3.2.patch`.",
    "created_at": "2009-09-24T09:46:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61053",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:11'></a>
Merged `trac_6694-live_ref_manual_v3.2.patch`.



---

archive/issue_comments_061054.json:
```json
{
    "body": "Changing reviewer from \"mhampton\" to \"Marshall Hampton\"",
    "created_at": "2009-09-24T09:46:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61054",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing reviewer from "mhampton" to "Marshall Hampton"



---

archive/issue_comments_061055.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-09-24T09:46:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61055",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Resolution: fixed



---

archive/issue_comments_061056.json:
```json
{
    "body": "Changing merged from \"\" to \"Sage 4.1.2.alpha3\"",
    "created_at": "2009-09-24T09:46:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61056",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing merged from "" to "Sage 4.1.2.alpha3"



---

archive/issue_comments_061057.json:
```json
{
    "body": "Changing merged from \"Sage 4.1.2.alpha3\" to \"Sage 4.1.2.alpha4\"",
    "created_at": "2009-09-27T10:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61057",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing merged from "Sage 4.1.2.alpha3" to "Sage 4.1.2.alpha4"



---

archive/issue_comments_061058.json:
```json
{
    "body": "<a id='comment:12'></a>\nThere is no 4.1.2.alpha3. Sage 4.1.2.alpha3 was William Stein's release for working on making the notebook a standalone package.",
    "created_at": "2009-09-27T10:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6694#issuecomment-61058",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:12'></a>
There is no 4.1.2.alpha3. Sage 4.1.2.alpha3 was William Stein's release for working on making the notebook a standalone package.
