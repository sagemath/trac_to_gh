# Issue 6310: [with patch, positive review] optional doctest failure

archive/issues_006310.json:
```json
{
    "body": "\n```\nsage -t -long --optional devel/sage/sage/schemes/elliptic_curves/ell_egros.py\n**********************************************************************\nFile \"/scratch/wstein/build/sage-4.0.2.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_egros.py\", line 63:\n    sage: [e.label() for e in EllipticCurves_with_good_reduction_outside_S([11])]\nExpected:\n    Failed to find S-integral points on  [0, 0, 0, 0, -25299648]\n    Failed to find S-integral points on  [0, 0, 0, 0, -278296128]\n    ['11a1',\n    '11a2',\n    '11a3',\n    '121a1',\n    '121a2',\n    '121b1',\n    '121b2',\n    '121c1',\n    '121c2',\n    '121d1',\n    '121d2',\n    '121d3']\nGot:\n    ['11a1', '11a2', '11a3', '121a1', '121a2', '121b1', '121b2', '121c1', '121c2', '121d1', '121d2', '121d3']\n**********************************************************************\n1 items had failures:\n   1 of   4 in __main__.example_0\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /home/wstein/build/sage-4.0.2.alpha3/tmp/.doctest_ell_egros.py\n [29.5 s]\n```\n\nAssignee: tbd\n\nReviewer: William Stein\n\nAuthor: John Cremona\n\nMerged: Sage 4.1.1.alpha1\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/6310\n\n",
    "closed_at": "2009-07-23T03:24:34Z",
    "created_at": "2009-06-16T14:39:31Z",
    "labels": [
        "component: packages: optional",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.1.1",
    "title": "[with patch, positive review] optional doctest failure",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/6310",
    "user": "https://github.com/williamstein"
}
```

```
sage -t -long --optional devel/sage/sage/schemes/elliptic_curves/ell_egros.py
**********************************************************************
File "/scratch/wstein/build/sage-4.0.2.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_egros.py", line 63:
    sage: [e.label() for e in EllipticCurves_with_good_reduction_outside_S([11])]
Expected:
    Failed to find S-integral points on  [0, 0, 0, 0, -25299648]
    Failed to find S-integral points on  [0, 0, 0, 0, -278296128]
    ['11a1',
    '11a2',
    '11a3',
    '121a1',
    '121a2',
    '121b1',
    '121b2',
    '121c1',
    '121c2',
    '121d1',
    '121d2',
    '121d3']
Got:
    ['11a1', '11a2', '11a3', '121a1', '121a2', '121b1', '121b2', '121c1', '121c2', '121d1', '121d2', '121d3']
**********************************************************************
1 items had failures:
   1 of   4 in __main__.example_0
***Test Failed*** 1 failures.
For whitespace errors, see the file /home/wstein/build/sage-4.0.2.alpha3/tmp/.doctest_ell_egros.py
 [29.5 s]
```

Assignee: tbd

Reviewer: William Stein

Author: John Cremona

Merged: Sage 4.1.1.alpha1

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/6310





---

archive/issue_comments_056199.json:
```json
{
    "body": "<a id='comment:1'></a>Was that with the large database installed?  that would make sense -- it needs the MW basis of the two curves whose conductors are 13068 and 52272, which it cannot find unless the optional package is installed.\n\nI don't think I know how to tag that test to expect two warnings lines iff that package is not installed.  Would it work to put an initial \"...\" in front of the output?",
    "created_at": "2009-06-16T14:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6310#issuecomment-56199",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:1'></a>Was that with the large database installed?  that would make sense -- it needs the MW basis of the two curves whose conductors are 13068 and 52272, which it cannot find unless the optional package is installed.

I don't think I know how to tag that test to expect two warnings lines iff that package is not installed.  Would it work to put an initial "..." in front of the output?



---

archive/issue_comments_056200.json:
```json
{
    "body": "applies to 4.0.2.rc2",
    "created_at": "2009-06-16T16:43:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6310#issuecomment-56200",
    "user": "https://github.com/JohnCremona"
}
```

applies to 4.0.2.rc2



---

archive/issue_comments_056201.json:
```json
{
    "body": "<a id='comment:2'></a>Attachment [trac_6310.patch](tarball://root/attachments/some-uuid/ticket6310/trac_6310.patch) by @JohnCremona created at 2009-06-16 16:44:00\n\nI have fixed it by running that example with \"proof=False\" and explaining in the accompanying text that this is only needed to avoid warnings when the optional database is not installed.\n\nTested both with and without the database installed!",
    "created_at": "2009-06-16T16:44:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6310#issuecomment-56201",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:2'></a>Attachment [trac_6310.patch](tarball://root/attachments/some-uuid/ticket6310/trac_6310.patch) by @JohnCremona created at 2009-06-16 16:44:00

I have fixed it by running that example with "proof=False" and explaining in the accompanying text that this is only needed to avoid warnings when the optional database is not installed.

Tested both with and without the database installed!



---

archive/issue_comments_056202.json:
```json
{
    "body": "Changing reviewer from \"\" to \"William Stein\"",
    "created_at": "2009-07-22T16:44:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6310#issuecomment-56202",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing reviewer from "" to "William Stein"



---

archive/issue_comments_056203.json:
```json
{
    "body": "Changing author from \"\" to \"John Cremona\"",
    "created_at": "2009-07-22T16:44:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6310#issuecomment-56203",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing author from "" to "John Cremona"



---

archive/issue_events_014752.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-07-23T03:24:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/6310",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6310#event-14752"
}
```



---

archive/issue_comments_056204.json:
```json
{
    "body": "Changing merged from \"\" to \"Sage 4.1.1.alpha1\"",
    "created_at": "2009-07-23T03:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6310#issuecomment-56204",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing merged from "" to "Sage 4.1.1.alpha1"



---

archive/issue_comments_056205.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-07-23T03:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6310#issuecomment-56205",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Resolution: fixed



---

archive/issue_comments_056206.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -26,5 +26,5 @@\n    1 of   4 in __main__.example_0\n ***Test Failed*** 1 failures.\n For whitespace errors, see the file /home/wstein/build/sage-4.0.2.alpha3/tmp/.doctest_ell_egros.py\n-\t [29.5 s]\n+ [29.5 s]\n ```\n``````\n",
    "created_at": "2015-09-06T16:09:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6310#issuecomment-56206",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -26,5 +26,5 @@
    1 of   4 in __main__.example_0
 ***Test Failed*** 1 failures.
 For whitespace errors, see the file /home/wstein/build/sage-4.0.2.alpha3/tmp/.doctest_ell_egros.py
-	 [29.5 s]
+ [29.5 s]
 ```
``````




---

archive/issue_comments_056207.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2015-09-06T16:09:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6310#issuecomment-56207",
    "user": "https://github.com/fchapoton"
}
```

Changing upstream from "" to "N/A"
