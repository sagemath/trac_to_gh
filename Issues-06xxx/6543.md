# Issue 6543: improve doctests for tachyon

archive/issues_006543.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-mhampton"
    ],
    "body": "Currently tachyon is hardly documented or doctested at all, which is bad.  I (Marshall Hampton) will try to work on bringing it up to 100% coverage within the next month or so.  If someone wants to beat me to it, please let me know.\n\nKeywords: **tachyon, 3d, raytracer**\n\nComponent: **graphics**\n\nAuthor: **Marshall Hampton**\n\nReviewer: **Minh Van Nguyen, Tim Dumol**\n\nMerged: **sage-4.2.1.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/6543_\n\n",
    "closed_at": "2009-10-31T07:41:56Z",
    "created_at": "2009-07-16T18:24:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/c%3A%20graphics"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.2.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "improve doctests for tachyon",
    "type": "issue",
    "updated_at": "2009-10-31T07:41:56Z",
    "url": "https://github.com/sagemath/sage/issues/6543",
    "user": "https://github.com/sagetrac-mhampton"
}
```
Currently tachyon is hardly documented or doctested at all, which is bad.  I (Marshall Hampton) will try to work on bringing it up to 100% coverage within the next month or so.  If someone wants to beat me to it, please let me know.

Keywords: **tachyon, 3d, raytracer**

Component: **graphics**

Author: **Marshall Hampton**

Reviewer: **Minh Van Nguyen, Tim Dumol**

Merged: **sage-4.2.1.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/6543_





---

archive/issue_events_079419.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-07-16T18:24:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "milestone_number": null,
    "milestone_title": "sage-4.2.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79419"
}
```



---

archive/issue_events_079420.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-07-16T18:24:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79420"
}
```



---

archive/issue_events_079421.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-07-16T18:24:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79421"
}
```



---

archive/issue_events_079422.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-07-16T18:24:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79422"
}
```



---

archive/issue_events_079423.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-07-16T18:24:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79423"
}
```



---

archive/issue_events_079424.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-07-16T18:24:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79424"
}
```



---

archive/issue_events_079425.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-07-16T18:24:18Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "subject": "https://github.com/sagetrac-mhampton",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79425"
}
```



---

archive/issue_comments_045137.json:
```json
{
    "body": "Attachment: **[trac_6543_tachyon_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket6543/trac_6543_tachyon_doctests.patch.gz)**",
    "created_at": "2009-07-22T04:14:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45137",
    "user": "https://github.com/sagetrac-mhampton"
}
```

Attachment: **[trac_6543_tachyon_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket6543/trac_6543_tachyon_doctests.patch.gz)**



---

archive/issue_events_079426.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-07-22T04:16:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79426"
}
```



---

archive/issue_events_079427.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-07-22T04:16:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79427"
}
```



---

archive/issue_comments_045138.json:
```json
{
    "body": "Reviewer: **boothby, wstein, wcauchois**",
    "created_at": "2009-07-22T04:16:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45138",
    "user": "https://github.com/sagetrac-mhampton"
}
```

Reviewer: **boothby, wstein, wcauchois**



---

archive/issue_comments_045139.json:
```json
{
    "body": "Attachment: **[trac_6543_tachyon_doctests.4-1.patch.gz](https://github.com/sagemath/sage/files/ticket6543/trac_6543_tachyon_doctests.4-1.patch.gz)**\n\nthis one is for a vanilla sage-4.1, previous patch needs #6542",
    "created_at": "2009-07-22T04:21:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45139",
    "user": "https://github.com/sagetrac-mhampton"
}
```

Attachment: **[trac_6543_tachyon_doctests.4-1.patch.gz](https://github.com/sagemath/sage/files/ticket6543/trac_6543_tachyon_doctests.4-1.patch.gz)**

this one is for a vanilla sage-4.1, previous patch needs #6542



---

archive/issue_comments_045140.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSeems like I posted a comment here that hasn't shown up.  Here it is again:\n\nI have brought coverage to 100%, and also added some functionality like axis-aligned boxes and rings (annuli).  I did delete the TachyonPlot class, which was not used by any function either in tachon.py or anywhere else in sage.  I cannot find any record of its use anywhere, so it seems like something that got 98% implemented and then abandoned.",
    "created_at": "2009-07-22T14:49:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45140",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:2" align="right">comment:2</div>

Seems like I posted a comment here that hasn't shown up.  Here it is again:

I have brought coverage to 100%, and also added some functionality like axis-aligned boxes and rings (annuli).  I did delete the TachyonPlot class, which was not used by any function either in tachon.py or anywhere else in sage.  I cannot find any record of its use anywhere, so it seems like something that got 98% implemented and then abandoned.



---

archive/issue_events_079428.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-07-23T03:21:46Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "subject": "https://github.com/sagetrac-mhampton",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79428"
}
```



---

archive/issue_events_079429.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-07-23T03:21:46Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "subject": "https://github.com/sagetrac-mhampton",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79429"
}
```



---

archive/issue_comments_045141.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI got a hunk rejection on Sage 4.1.1.rc2:\n\n```\n[mvngu@sage sage-main]$ hg qimport https://github.com/sagemath/sage/files/ticket6543/trac_6543_tachyon_doctests.4-1.patch.gz && hg qpush\nadding trac_6543_tachyon_doctests.4-1.patch to series file\napplying trac_6543_tachyon_doctests.4-1.patch\npatching file sage/plot/plot3d/tachyon.py\nHunk #19 FAILED at 1368\n1 out of 19 hunks FAILED -- saving rejects to file sage/plot/plot3d/tachyon.py.rej\npatch failed, unable to continue (try -v)\npatch failed, rejects left in working dir\nErrors during apply, please fix and refresh trac_6543_tachyon_doctests.4-1.patch\n```\nThe relevant hunk is:\n\n```\n--- tachyon.py                                                                  \n+++ tachyon.py                                                                  \n@@ -985,6 +1369,22 @@\n                                                                                \n         return False                                                           \n                                                                                \n-def tostr(s):                                                                  \n+def tostr(s, length = 3, out_type = float):                                    \n+    \"\"\"                                                                        \n+    Converts vector information to a space-seperated string.                   \n+                                                                               \n+    EXAMPLES::                                                                 \n+                                                                               \n+        sage: from sage.plot.plot3d.tachyon import tostr                       \n+       sage: tostr((1,1,1))                                                    \n+       ' 1.0 1.0 1.0 '                                                         \n+       sage: tostr('2 3 2')                                                    \n+       '2 3 2'                                                                 \n+    \"\"\"                                                                        \n     if isinstance(s, str):                                                     \n         return s                                                               \n+    output = ' '                                                               \n+    for an_item in s:                                                          \n+        output = output + str(out_type(an_item)) + ' '                         \n+    return output                                                              \n+\n```\nNote a typo in \"space-seperated\"; it should be \"space-separated\". One might also want to consider rebasing the patch `trac_6543_tachyon_doctests.4-1.patch` on top of #6727.",
    "created_at": "2009-08-12T07:20:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45141",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:4" align="right">comment:4</div>

I got a hunk rejection on Sage 4.1.1.rc2:

```
[mvngu@sage sage-main]$ hg qimport https://github.com/sagemath/sage/files/ticket6543/trac_6543_tachyon_doctests.4-1.patch.gz && hg qpush
adding trac_6543_tachyon_doctests.4-1.patch to series file
applying trac_6543_tachyon_doctests.4-1.patch
patching file sage/plot/plot3d/tachyon.py
Hunk #19 FAILED at 1368
1 out of 19 hunks FAILED -- saving rejects to file sage/plot/plot3d/tachyon.py.rej
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
Errors during apply, please fix and refresh trac_6543_tachyon_doctests.4-1.patch
```
The relevant hunk is:

```
--- tachyon.py                                                                  
+++ tachyon.py                                                                  
@@ -985,6 +1369,22 @@
                                                                                
         return False                                                           
                                                                                
-def tostr(s):                                                                  
+def tostr(s, length = 3, out_type = float):                                    
+    """                                                                        
+    Converts vector information to a space-seperated string.                   
+                                                                               
+    EXAMPLES::                                                                 
+                                                                               
+        sage: from sage.plot.plot3d.tachyon import tostr                       
+       sage: tostr((1,1,1))                                                    
+       ' 1.0 1.0 1.0 '                                                         
+       sage: tostr('2 3 2')                                                    
+       '2 3 2'                                                                 
+    """                                                                        
     if isinstance(s, str):                                                     
         return s                                                               
+    output = ' '                                                               
+    for an_item in s:                                                          
+        output = output + str(out_type(an_item)) + ' '                         
+    return output                                                              
+
```
Note a typo in "space-seperated"; it should be "space-separated". One might also want to consider rebasing the patch `trac_6543_tachyon_doctests.4-1.patch` on top of #6727.



---

archive/issue_comments_045142.json:
```json
{
    "body": "Rebased against 4.1.1.rc2, along with changes from patch 6727",
    "created_at": "2009-08-12T23:07:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45142",
    "user": "https://github.com/sagetrac-mhampton"
}
```

Rebased against 4.1.1.rc2, along with changes from patch 6727



---

archive/issue_comments_045143.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAttachment: **[trac_6543_tachyon_doctests_4.1.1.rc2.patch.gz](https://github.com/sagemath/sage/files/ticket6543/trac_6543_tachyon_doctests_4.1.1.rc2.patch.gz)**\n\n* There is no documentation for the function `smooth_triangle()`. Can you explain what that function does?\n  * There is no docstring for the class `FractalLandscape`. The function `__init__()` seems to explain what that class does. But at the moment and with the version of Sphinx currently shipped with Sage, docstrings of functions starting with an underscore character don't show up in the generated reference manual.\n  * There is no docstring for the class `TachyonSmoothTriangle`. A docstring for that class would be nice.\n  * Can you comment out the class `TachyonPlot` instead of deleting it? It might not be used and incomplete. But someone might want to polish it up in the future.\n  * And here is a list of typos found in the rebased patch:\n\n ```\n diff -r b0afd5bab6d9 sage/plot/plot3d/tachyon.py\n --- a/sage/plot/plot3d/tachyon.py\n +++ b/sage/plot/plot3d/tachyon.py\n @@ -243,6 +243,7 @@\n          which is just the scene string input to tachyon.\n  \n          EXAMPLES::\n +\n              sage: q = Tachyon()\n              sage: q.light((1,1,1), 1,(1,1,1))\n              sage: q.texture('s')\n @@ -300,9 +301,10 @@\n  \n      def show(self, verbose=0, extra_opts=''):\n          \"\"\"\n -        Creates a png file of the scene.\n +        Creates a PNG file of the scene.\n  \n          EXAMPLES::\n +\n              sage: q = Tachyon()\n              sage: q.light((-1,-1,10), 1,(1,1,1))\n              sage: q.texture('s')\n @@ -338,7 +340,7 @@\n      def _camera(self):\n          \"\"\"\n          An internal function that writes the tachyon string for the \n -        camera and other rendering information (raydepth, antialiasing).\n +        camera and other rendering information (ray depth, antialiasing).\n  \n          EXAMPLES::\n  \n @@ -367,7 +369,8 @@\n          \"\"\"\n          Returns the complete tachyon scene file as a string.\n  \n -        EXAMPLES:\n +        EXAMPLES::\n +\n              sage: t = Tachyon(xres=500,yres=500, camera_center=(2,0,0))\n              sage: t.light((4,3,2), 0.2, (1,1,1))\n              sage: t.texture('t2', ambient=0.1, diffuse=0.9, specular=0.5, opacity=1.0, color=(1,0,0))\n @@ -528,6 +531,7 @@\n          center, radius, and texture.\n  \n          EXAMPLES::\n +\n              sage: t = Tachyon()\n              sage: t.texture('sphere_texture')\n              sage: t.sphere((1,2,3), .1, 'sphere_texture')\n @@ -551,7 +555,7 @@\n  \n      def cylinder(self, center, axis, radius, texture):\n          \"\"\"\n -        Creates the scene information for a infinite cylinder with the \n +        Creates the scene information for an infinite cylinder with the \n          given center, axis direction, radius, and texture.\n  \n          EXAMPLES::\n @@ -1138,7 +1142,7 @@\n  \n      def str(self):\n          \"\"\"\n -        Returns the scene string of the axis-aligned box..\n +        Returns the scene string of the axis-aligned box.\n  \n          EXAMPLES::\n  ```\n  * I got the following 16 warnings when building the reference manual. All of these warnings relate to the modifications made by the rebased patch. There shouldn't be any warnings at all when building the reference manual.\n\n ```\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Axis_aligned_box.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Cylinder.str:10: (WARNING/2) Literal block ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.FCylinder.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.FractalLandscape.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Plane.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Ring.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Sphere.str:11: (WARNING/2) Literal block ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Tachyon.light:8: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Tachyon.sphere:11: (WARNING/2) Literal block ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonSmoothTriangle.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonSmoothTriangle.str:11: (WARNING/2) Definition list ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonTriangle.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonTriangle.str:11: (WARNING/2) Definition list ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonTriangleFactory.smooth_triangle:12: (WARNING/2) Literal block ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonTriangleFactory.triangle:12: (WARNING/2) Literal block ends without a blank line; unexpected unindent.\n WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonTriangleFactory.triangle:14: (WARNING/2) Definition list ends without a blank line; unexpected unindent.\n  ```",
    "created_at": "2009-08-13T16:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45143",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:5" align="right">comment:5</div>

Attachment: **[trac_6543_tachyon_doctests_4.1.1.rc2.patch.gz](https://github.com/sagemath/sage/files/ticket6543/trac_6543_tachyon_doctests_4.1.1.rc2.patch.gz)**

* There is no documentation for the function `smooth_triangle()`. Can you explain what that function does?
  * There is no docstring for the class `FractalLandscape`. The function `__init__()` seems to explain what that class does. But at the moment and with the version of Sphinx currently shipped with Sage, docstrings of functions starting with an underscore character don't show up in the generated reference manual.
  * There is no docstring for the class `TachyonSmoothTriangle`. A docstring for that class would be nice.
  * Can you comment out the class `TachyonPlot` instead of deleting it? It might not be used and incomplete. But someone might want to polish it up in the future.
  * And here is a list of typos found in the rebased patch:

 ```
 diff -r b0afd5bab6d9 sage/plot/plot3d/tachyon.py
 --- a/sage/plot/plot3d/tachyon.py
 +++ b/sage/plot/plot3d/tachyon.py
 @@ -243,6 +243,7 @@
          which is just the scene string input to tachyon.
  
          EXAMPLES::
 +
              sage: q = Tachyon()
              sage: q.light((1,1,1), 1,(1,1,1))
              sage: q.texture('s')
 @@ -300,9 +301,10 @@
  
      def show(self, verbose=0, extra_opts=''):
          """
 -        Creates a png file of the scene.
 +        Creates a PNG file of the scene.
  
          EXAMPLES::
 +
              sage: q = Tachyon()
              sage: q.light((-1,-1,10), 1,(1,1,1))
              sage: q.texture('s')
 @@ -338,7 +340,7 @@
      def _camera(self):
          """
          An internal function that writes the tachyon string for the 
 -        camera and other rendering information (raydepth, antialiasing).
 +        camera and other rendering information (ray depth, antialiasing).
  
          EXAMPLES::
  
 @@ -367,7 +369,8 @@
          """
          Returns the complete tachyon scene file as a string.
  
 -        EXAMPLES:
 +        EXAMPLES::
 +
              sage: t = Tachyon(xres=500,yres=500, camera_center=(2,0,0))
              sage: t.light((4,3,2), 0.2, (1,1,1))
              sage: t.texture('t2', ambient=0.1, diffuse=0.9, specular=0.5, opacity=1.0, color=(1,0,0))
 @@ -528,6 +531,7 @@
          center, radius, and texture.
  
          EXAMPLES::
 +
              sage: t = Tachyon()
              sage: t.texture('sphere_texture')
              sage: t.sphere((1,2,3), .1, 'sphere_texture')
 @@ -551,7 +555,7 @@
  
      def cylinder(self, center, axis, radius, texture):
          """
 -        Creates the scene information for a infinite cylinder with the 
 +        Creates the scene information for an infinite cylinder with the 
          given center, axis direction, radius, and texture.
  
          EXAMPLES::
 @@ -1138,7 +1142,7 @@
  
      def str(self):
          """
 -        Returns the scene string of the axis-aligned box..
 +        Returns the scene string of the axis-aligned box.
  
          EXAMPLES::
  ```
  * I got the following 16 warnings when building the reference manual. All of these warnings relate to the modifications made by the rebased patch. There shouldn't be any warnings at all when building the reference manual.

 ```
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Axis_aligned_box.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Cylinder.str:10: (WARNING/2) Literal block ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.FCylinder.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.FractalLandscape.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Plane.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Ring.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Sphere.str:11: (WARNING/2) Literal block ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Tachyon.light:8: (WARNING/2) Block quote ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.Tachyon.sphere:11: (WARNING/2) Literal block ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonSmoothTriangle.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonSmoothTriangle.str:11: (WARNING/2) Definition list ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonTriangle.str:9: (WARNING/2) Literal block ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonTriangle.str:11: (WARNING/2) Definition list ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonTriangleFactory.smooth_triangle:12: (WARNING/2) Literal block ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonTriangleFactory.triangle:12: (WARNING/2) Literal block ends without a blank line; unexpected unindent.
 WARNING: /scratch/mvngu/sandbox-1/sage-4.1.1.rc2/local/lib/python2.6/site-packages/sage/plot/plot3d/tachyon.py:docstring of sage.plot.plot3d.tachyon.TachyonTriangleFactory.triangle:14: (WARNING/2) Definition list ends without a blank line; unexpected unindent.
  ```



---

archive/issue_events_079430.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-08-13T16:28:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79430"
}
```



---

archive/issue_events_079431.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-08-13T16:28:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79431"
}
```



---

archive/issue_comments_045144.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI don't understand these docbuild problems, I need some help.  Unfortunately I haven't had time to wrestle with this lately.",
    "created_at": "2009-10-17T16:56:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45144",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:6" align="right">comment:6</div>

I don't understand these docbuild problems, I need some help.  Unfortunately I haven't had time to wrestle with this lately.



---

archive/issue_comments_045145.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAt least one of the problems has to do with \\n characters in the docstrings. Using raw strings (r\"\"\" \"\"\") should fix it.",
    "created_at": "2009-10-23T16:32:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45145",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:7" align="right">comment:7</div>

At least one of the problems has to do with \n characters in the docstrings. Using raw strings (r""" """) should fix it.



---

archive/issue_comments_045146.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nOK, thanks.  I will spend a little more time on this today, hopefully I can fix it up.  I replaced all strings using \"\"\" with r\"\"\", and that seems to fix the errors.  I will try to address the rest of Minh's review too.",
    "created_at": "2009-10-24T14:46:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45146",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:8" align="right">comment:8</div>

OK, thanks.  I will spend a little more time on this today, hopefully I can fix it up.  I replaced all strings using """ with r""", and that seems to fix the errors.  I will try to address the rest of Minh's review too.



---

archive/issue_comments_045147.json:
```json
{
    "body": "new standalone patch adding doctests to Tachyon interface.  Based on 4.2.alpha1.",
    "created_at": "2009-10-24T15:13:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45147",
    "user": "https://github.com/sagetrac-mhampton"
}
```

new standalone patch adding doctests to Tachyon interface.  Based on 4.2.alpha1.



---

archive/issue_events_079432.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-10-24T15:14:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79432"
}
```



---

archive/issue_events_079433.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-10-24T15:14:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79433"
}
```



---

archive/issue_comments_045148.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAttachment: **[trac_6543_tachyon_doctests_v3.patch.gz](https://github.com/sagemath/sage/files/ticket6543/trac_6543_tachyon_doctests_v3.patch.gz)**\n\nOK, hopefully the new patch addresses all the review comments.",
    "created_at": "2009-10-24T15:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45148",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:9" align="right">comment:9</div>

Attachment: **[trac_6543_tachyon_doctests_v3.patch.gz](https://github.com/sagemath/sage/files/ticket6543/trac_6543_tachyon_doctests_v3.patch.gz)**

OK, hopefully the new patch addresses all the review comments.



---

archive/issue_comments_045149.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nNo doc warnings this time, and I cannot spot any typos. Positive review.",
    "created_at": "2009-10-26T16:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45149",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:10" align="right">comment:10</div>

No doc warnings this time, and I cannot spot any typos. Positive review.



---

archive/issue_comments_045150.json:
```json
{
    "body": "Changed reviewer from **boothby, wstein, wcauchois** to **boothby, wstein, wcauchois, timdumol**",
    "created_at": "2009-10-26T16:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45150",
    "user": "https://github.com/TimDumol"
}
```

Changed reviewer from **boothby, wstein, wcauchois** to **boothby, wstein, wcauchois, timdumol**



---

archive/issue_comments_045151.json:
```json
{
    "body": "Author: **Marshall Hampton**",
    "created_at": "2009-10-26T16:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45151",
    "user": "https://github.com/TimDumol"
}
```

Author: **Marshall Hampton**



---

archive/issue_events_079434.json:
```json
{
    "actor": "https://github.com/TimDumol",
    "created_at": "2009-10-26T16:29:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79434"
}
```



---

archive/issue_events_079435.json:
```json
{
    "actor": "https://github.com/TimDumol",
    "created_at": "2009-10-26T16:29:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79435"
}
```



---

archive/issue_events_079436.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-31T07:41:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79436"
}
```



---

archive/issue_events_079437.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-31T07:41:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6543#event-79437"
}
```



---

archive/issue_comments_045152.json:
```json
{
    "body": "Changed reviewer from **boothby, wstein, wcauchois, timdumol** to **Minh Van Nguyen, Tim Dumol**",
    "created_at": "2009-10-31T07:41:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45152",
    "user": "https://github.com/mwhansen"
}
```

Changed reviewer from **boothby, wstein, wcauchois, timdumol** to **Minh Van Nguyen, Tim Dumol**



---

archive/issue_comments_045153.json:
```json
{
    "body": "Merged: **sage-4.2.1.alpha0**",
    "created_at": "2009-10-31T07:41:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6543#issuecomment-45153",
    "user": "https://github.com/mwhansen"
}
```

Merged: **sage-4.2.1.alpha0**
