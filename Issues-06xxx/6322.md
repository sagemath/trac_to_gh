# Issue 6322: optional doctest failure -- another mistake in bordeaux lectures

archive/issues_006322.json:
```json
{
    "body": "\n```\nsage -t -long --optional devel/sage/doc/en/bordeaux_2008/nf_galois_groups.rst\n**********************************************************************\nFile \"/scratch/wstein/build/sage-4.0.2.alpha3/devel/sage-main/doc/en/bordeaux_2008/nf_galois_groups.rst\", line 92:\n    sage: K.galois_group(type=\"gap\", algorithm='magma')    # optional\nExpected:\n    verbose...\n    Galois group Transitive group number 2 of degree 3 of\n    the Number Field in a with defining polynomial x^3 - 2\nGot:\n    Galois group Transitive group number 2 of degree 3 of the Number Field in a with defining polynomial x^3 - 2\n**********************************************************************\n1 items had failures:\n   1 of   4 in __main__.example_2\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /home/wstein/build/sage-4.0.2.alpha3/tmp/.doctest_nf_galois_groups.py\n [12.4 s]\n```\n\nAssignee: tbd\n\nBranch/Commit: feaa7a01b4db03b6ac25f758efb57f5590735c03\n\nReviewer: Jeroen Demeyer\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/6322\n\n",
    "closed_at": "2015-10-18T19:11:21Z",
    "created_at": "2009-06-16T14:52:53Z",
    "labels": [
        "component: packages: optional",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "optional doctest failure -- another mistake in bordeaux lectures",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/6322",
    "user": "https://github.com/williamstein"
}
```

```
sage -t -long --optional devel/sage/doc/en/bordeaux_2008/nf_galois_groups.rst
**********************************************************************
File "/scratch/wstein/build/sage-4.0.2.alpha3/devel/sage-main/doc/en/bordeaux_2008/nf_galois_groups.rst", line 92:
    sage: K.galois_group(type="gap", algorithm='magma')    # optional
Expected:
    verbose...
    Galois group Transitive group number 2 of degree 3 of
    the Number Field in a with defining polynomial x^3 - 2
Got:
    Galois group Transitive group number 2 of degree 3 of the Number Field in a with defining polynomial x^3 - 2
**********************************************************************
1 items had failures:
   1 of   4 in __main__.example_2
***Test Failed*** 1 failures.
For whitespace errors, see the file /home/wstein/build/sage-4.0.2.alpha3/tmp/.doctest_nf_galois_groups.py
 [12.4 s]
```

Assignee: tbd

Branch/Commit: feaa7a01b4db03b6ac25f758efb57f5590735c03

Reviewer: Jeroen Demeyer

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/6322





---

archive/issue_events_019084.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6322#event-19084"
}
```



---

archive/issue_events_019085.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6322#event-19085"
}
```



---

archive/issue_events_019086.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6322#event-19086"
}
```



---

archive/issue_events_019087.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6322#event-19087"
}
```



---

archive/issue_events_019088.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6322#event-19088"
}
```



---

archive/issue_events_019089.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6322#event-19089"
}
```



---

archive/issue_events_019090.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6322#event-19090"
}
```



---

archive/issue_comments_062034.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2015-09-06T16:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62034",
    "user": "https://github.com/fchapoton"
}
```

Changing upstream from "" to "N/A"



---

archive/issue_comments_062035.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,5 +15,5 @@\n    1 of   4 in __main__.example_2\n ***Test Failed*** 1 failures.\n For whitespace errors, see the file /home/wstein/build/sage-4.0.2.alpha3/tmp/.doctest_nf_galois_groups.py\n-\t [12.4 s]\n+ [12.4 s]\n ```\n``````\n",
    "created_at": "2015-09-06T16:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62035",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,5 +15,5 @@
    1 of   4 in __main__.example_2
 ***Test Failed*** 1 failures.
 For whitespace errors, see the file /home/wstein/build/sage-4.0.2.alpha3/tmp/.doctest_nf_galois_groups.py
-	 [12.4 s]
+ [12.4 s]
 ```
``````




---

archive/issue_comments_062036.json:
```json
{
    "body": "Changing branch from \"\" to \"public/6322\"",
    "created_at": "2015-10-10T18:48:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62036",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "public/6322"



---

archive/issue_comments_062037.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-10-10T18:48:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62037",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_062038.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2015-10-10T18:48:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62038",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_events_019091.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-10T18:48:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6322#event-19091"
}
```



---

archive/issue_events_019092.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-10T18:48:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6322#event-19092"
}
```



---

archive/issue_comments_062039.json:
```json
{
    "body": "<a id='comment:6'></a>\nNew commits:\n|                                                                                                                                          |                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[9959af1](https://github.com/sagemath/sagetrac-mirror/commit/9959af1ebf309622d5b1526530eaec35d2c31417)|`trac #6322 correct optional magma doctest`|",
    "created_at": "2015-10-10T18:48:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62039",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
New commits:
|                                                                                                                                          |                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[9959af1](https://github.com/sagemath/sagetrac-mirror/commit/9959af1ebf309622d5b1526530eaec35d2c31417)|`trac #6322 correct optional magma doctest`|



---

archive/issue_comments_062040.json:
```json
{
    "body": "Changing commit from \"\" to \"9959af1ebf309622d5b1526530eaec35d2c31417\"",
    "created_at": "2015-10-10T18:48:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62040",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "9959af1ebf309622d5b1526530eaec35d2c31417"



---

archive/issue_comments_062041.json:
```json
{
    "body": "<a id='comment:7'></a>\nDid you actually test it? I don't have magma, but if you tell me that the doctest passes, I believe you.",
    "created_at": "2015-10-10T20:12:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62041",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>
Did you actually test it? I don't have magma, but if you tell me that the doctest passes, I believe you.



---

archive/issue_comments_062042.json:
```json
{
    "body": "<a id='comment:8'></a>\nI do not have magma either. Do we know somebody that has magma ?",
    "created_at": "2015-10-10T20:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62042",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
I do not have magma either. Do we know somebody that has magma ?



---

archive/issue_comments_062043.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [chapoton](#comment%3A8):\n> I do not have magma either.\n\n\nThen why do you care about this ticket???",
    "created_at": "2015-10-10T21:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62043",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
Replying to [chapoton](#comment%3A8):
> I do not have magma either.


Then why do you care about this ticket???



---

archive/issue_comments_062044.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|\n|[0706eb0](https://github.com/sagemath/sagetrac-mirror/commit/0706eb04ec48866fbafb1aa17c5e97ce04ae24d6)|`Merge branch 'public/6322' of git://trac.sagemath.org/sage into 6322`|\n|[d29ccf7](https://github.com/sagemath/sagetrac-mirror/commit/d29ccf7f1bfe811b320dfb686d28ec1ed0aa59c8)|`trac #6322 now tested with magma`|",
    "created_at": "2015-10-12T17:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62044",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
|[0706eb0](https://github.com/sagemath/sagetrac-mirror/commit/0706eb04ec48866fbafb1aa17c5e97ce04ae24d6)|`Merge branch 'public/6322' of git://trac.sagemath.org/sage into 6322`|
|[d29ccf7](https://github.com/sagemath/sagetrac-mirror/commit/d29ccf7f1bfe811b320dfb686d28ec1ed0aa59c8)|`trac #6322 now tested with magma`|



---

archive/issue_comments_062045.json:
```json
{
    "body": "Changing commit from \"9959af1ebf309622d5b1526530eaec35d2c31417\" to \"d29ccf7f1bfe811b320dfb686d28ec1ed0aa59c8\"",
    "created_at": "2015-10-12T17:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62045",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9959af1ebf309622d5b1526530eaec35d2c31417" to "d29ccf7f1bfe811b320dfb686d28ec1ed0aa59c8"



---

archive/issue_comments_062046.json:
```json
{
    "body": "<a id='comment:11'></a>\nIt appears that:\n\n1) I do have `magma` now\n2) The test requires `database_gap`\n\nThis has been tested, and needs review again.",
    "created_at": "2015-10-12T17:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62046",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
It appears that:

1) I do have `magma` now
2) The test requires `database_gap`

This has been tested, and needs review again.



---

archive/issue_comments_062047.json:
```json
{
    "body": "<a id='comment:12'></a>\nok, the tests do pass with magma and database_gap and also without both\n\ni am not quite sure of the way to put 2 optional conditions on the same line\n\nJeroen, could you please set a positive review if this is correct ?",
    "created_at": "2015-10-17T20:06:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62047",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
ok, the tests do pass with magma and database_gap and also without both

i am not quite sure of the way to put 2 optional conditions on the same line

Jeroen, could you please set a positive review if this is correct ?



---

archive/issue_comments_062048.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-10-17T20:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62048",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_062049.json:
```json
{
    "body": "<a id='comment:13'></a>\nThe usual syntax is\n\n```\n# optional - magma database_gap\n```\nI don't know if what you did works or not, but it's better to change it.",
    "created_at": "2015-10-17T20:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62049",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
The usual syntax is

```
# optional - magma database_gap
```
I don't know if what you did works or not, but it's better to change it.



---

archive/issue_comments_062050.json:
```json
{
    "body": "Changing commit from \"d29ccf7f1bfe811b320dfb686d28ec1ed0aa59c8\" to \"feaa7a01b4db03b6ac25f758efb57f5590735c03\"",
    "created_at": "2015-10-17T20:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62050",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d29ccf7f1bfe811b320dfb686d28ec1ed0aa59c8" to "feaa7a01b4db03b6ac25f758efb57f5590735c03"



---

archive/issue_comments_062051.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[93c6a98](https://github.com/sagemath/sagetrac-mirror/commit/93c6a984852e706e63c254024d59c983ec7890ee)|`Merge branch 'public/6322' into 6.10.b0`|\n|[feaa7a0](https://github.com/sagemath/sagetrac-mirror/commit/feaa7a01b4db03b6ac25f758efb57f5590735c03)|`trac 6322 better double optional condition on magma and gap`|",
    "created_at": "2015-10-17T20:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[93c6a98](https://github.com/sagemath/sagetrac-mirror/commit/93c6a984852e706e63c254024d59c983ec7890ee)|`Merge branch 'public/6322' into 6.10.b0`|
|[feaa7a0](https://github.com/sagemath/sagetrac-mirror/commit/feaa7a01b4db03b6ac25f758efb57f5590735c03)|`trac 6322 better double optional condition on magma and gap`|



---

archive/issue_comments_062052.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-10-17T20:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62052",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_062053.json:
```json
{
    "body": "<a id='comment:15'></a>\ndone",
    "created_at": "2015-10-17T20:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62053",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'></a>
done



---

archive/issue_comments_062054.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-17T20:19:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62054",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_062055.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2015-10-17T20:19:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62055",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_062056.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-10-18T19:11:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62056",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_062057.json:
```json
{
    "body": "Changing branch from \"public/6322\" to \"feaa7a01b4db03b6ac25f758efb57f5590735c03\"",
    "created_at": "2015-10-18T19:11:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6322#issuecomment-62057",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/6322" to "feaa7a01b4db03b6ac25f758efb57f5590735c03"



---

archive/issue_events_019093.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-18T19:11:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/6322",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6322#event-19093"
}
```
