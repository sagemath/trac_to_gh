# Issue 6994: upgrade matplotlib to 0.99.1

archive/issues_006994.json:
```json
{
    "body": "The new matplotlib fixes *lots* of bugs, and incorporates some of our patches upstream too.  The new spkg is:\n\nhttp://sage.math.washington.edu/home/jason/matplotlib-0.99.1.spkg\n\nAssignee: @williamstein\n\nCC:  @kcrisman\n\nResolution: fixed\n\nAuthor: Jason Grout\n\nReviewer: Karl-Dieter Crisman\n\nIssue created by migration from https://trac.sagemath.org/ticket/6994\n\n",
    "closed_at": "2009-10-15T09:41:56Z",
    "created_at": "2009-09-22T19:44:25Z",
    "labels": [
        "component: graphics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.1.2",
    "title": "upgrade matplotlib to 0.99.1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/6994",
    "user": "https://github.com/jasongrout"
}
```
The new matplotlib fixes *lots* of bugs, and incorporates some of our patches upstream too.  The new spkg is:

http://sage.math.washington.edu/home/jason/matplotlib-0.99.1.spkg

Assignee: @williamstein

CC:  @kcrisman

Resolution: fixed

Author: Jason Grout

Reviewer: Karl-Dieter Crisman

Issue created by migration from https://trac.sagemath.org/ticket/6994





---

archive/issue_comments_072845.json:
```json
{
    "body": "<a id='comment:1'></a>\nApparently 0.99.1 has a special osx makefile, which I don't think we are using.  Should we use it?",
    "created_at": "2009-09-22T19:48:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72845",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:1'></a>
Apparently 0.99.1 has a special osx makefile, which I don't think we are using.  Should we use it?



---

archive/issue_comments_072846.json:
```json
{
    "body": "<a id='comment:2'></a>\n(if so, someone with osx ought to take a look at this)",
    "created_at": "2009-09-22T19:49:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72846",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:2'></a>
(if so, someone with osx ought to take a look at this)



---

archive/issue_comments_072847.json:
```json
{
    "body": "<a id='comment:3'></a>\nHmm, well, it seems to be working fine on my copy of OSX.5.8.  Maybe someone else who knows something about makefiles should comment on this...\n\nMaybe this would be a good time to improve that documentation about things like\n\n```\nsage: plot(x^3,-10,-1)\n```\nwhich almost looks like they should intersect but they don't... that's already a ticket somewhere.\n\nAnyway, I don't have time to finish a review now, but so far everything looks fine, and as I said it built fine.",
    "created_at": "2009-09-22T20:00:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72847",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'></a>
Hmm, well, it seems to be working fine on my copy of OSX.5.8.  Maybe someone else who knows something about makefiles should comment on this...

Maybe this would be a good time to improve that documentation about things like

```
sage: plot(x^3,-10,-1)
```
which almost looks like they should intersect but they don't... that's already a ticket somewhere.

Anyway, I don't have time to finish a review now, but so far everything looks fine, and as I said it built fine.



---

archive/issue_comments_072848.json:
```json
{
    "body": "<a id='comment:4'></a>\nI get the following failure, probably due to a deprecated module...\n\n```\nsage -t  \"devel/sage/sage/plot/colors.py\"                   \n**********************************************************************\nFile \"/Users/.../sage-4.1.2.alpha2/devel/sage/sage/plot/colors.py\", line 193:\n    sage: graphs.DodecahedralGraph().show(vertex_colors=vertex_colors)\nException raised:\n    Traceback (most recent call last):\n<snip>\n      File \"/Users/.../sage-4.1.2.alpha2/local/lib/python/site-packages/matplotlib/backends/tkagg.py\", line 1, in <module>\n        import _tkagg\n    ImportError: No module named _tkagg\n*****************************************************************\n```\nSimilar ones in plot.py in lines 213 ff. and around line 1960, as well as in scatterplot.py. \n\nThere are also a couple failures in plot.py related to savefig and fig.  Otherwise everything seem okay.",
    "created_at": "2009-09-22T20:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72848",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>
I get the following failure, probably due to a deprecated module...

```
sage -t  "devel/sage/sage/plot/colors.py"                   
**********************************************************************
File "/Users/.../sage-4.1.2.alpha2/devel/sage/sage/plot/colors.py", line 193:
    sage: graphs.DodecahedralGraph().show(vertex_colors=vertex_colors)
Exception raised:
    Traceback (most recent call last):
<snip>
      File "/Users/.../sage-4.1.2.alpha2/local/lib/python/site-packages/matplotlib/backends/tkagg.py", line 1, in <module>
        import _tkagg
    ImportError: No module named _tkagg
*****************************************************************
```
Similar ones in plot.py in lines 213 ff. and around line 1960, as well as in scatterplot.py. 

There are also a couple failures in plot.py related to savefig and fig.  Otherwise everything seem okay.



---

archive/issue_comments_072849.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2009-09-22T20:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72849",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_072850.json:
```json
{
    "body": "<a id='comment:5'></a>\nCongratulations; you found a bug in the release of matplotlib.  They errantly included a config file that should have been deleted.\n\nI've updated the spkg, at the same URL as above.  Make sure you install it with \"sage -f\" to overwrite the previous one.",
    "created_at": "2009-09-22T22:44:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72850",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:5'></a>
Congratulations; you found a bug in the release of matplotlib.  They errantly included a config file that should have been deleted.

I've updated the spkg, at the same URL as above.  Make sure you install it with "sage -f" to overwrite the previous one.



---

archive/issue_comments_072851.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2009-09-22T22:44:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72851",
    "user": "https://github.com/jasongrout"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_072852.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2009-09-23T01:25:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72852",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_072853.json:
```json
{
    "body": "<a id='comment:6'></a>\nOkay, now all is well.  You may want to let Minh know about some of the bugfixes if they are notable for Sage, for the release tour.",
    "created_at": "2009-09-23T01:25:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72853",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>
Okay, now all is well.  You may want to let Minh know about some of the bugfixes if they are notable for Sage, for the release tour.



---

archive/issue_comments_072854.json:
```json
{
    "body": "Reviewer: Karl-Dieter Crisman",
    "created_at": "2009-09-23T01:25:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72854",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: Karl-Dieter Crisman



---

archive/issue_comments_072855.json:
```json
{
    "body": "<a id='comment:7'></a>\nSee #7022 for a port to OS X 10.6.",
    "created_at": "2009-09-27T04:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72855",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:7'></a>
See #7022 for a port to OS X 10.6.



---

archive/issue_events_020999.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-15T09:41:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "milestone": "sage-4.1.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6994#event-20999"
}
```



---

archive/issue_comments_072856.json:
```json
{
    "body": "<a id='comment:8'></a>\nI think that this should be closed now that #7022 is in.",
    "created_at": "2009-10-15T09:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72856",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:8'></a>
I think that this should be closed now that #7022 is in.



---

archive/issue_events_021000.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-15T09:41:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6994#event-21000"
}
```



---

archive/issue_comments_072857.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-10-15T09:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6994#issuecomment-72857",
    "user": "https://github.com/mwhansen"
}
```

Resolution: fixed
