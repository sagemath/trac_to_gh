# Issue 6994: upgrade matplotlib to 0.99.1

archive/issues_006994.json:
```json
{
    "assignees": [],
    "body": "The new matplotlib fixes *lots* of bugs, and incorporates some of our patches upstream too.  The new spkg is:\n\nhttp://sage.math.washington.edu/home/jason/matplotlib-0.99.1.spkg\n\nAssignee: **@williamstein**\n\nCC:  @kcrisman\n\nAuthor: **Jason Grout**\n\nReviewer: **Karl-Dieter Crisman**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/6994_\n\n",
    "closed_at": "2009-10-15T09:41:56Z",
    "created_at": "2009-09-22T19:44:25Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.1.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "upgrade matplotlib to 0.99.1",
    "type": "issue",
    "updated_at": "2009-10-15T09:41:56Z",
    "url": "https://github.com/sagemath/sage/issues/6994",
    "user": "https://github.com/jasongrout"
}
```
The new matplotlib fixes *lots* of bugs, and incorporates some of our patches upstream too.  The new spkg is:

http://sage.math.washington.edu/home/jason/matplotlib-0.99.1.spkg

Assignee: **@williamstein**

CC:  @kcrisman

Author: **Jason Grout**

Reviewer: **Karl-Dieter Crisman**

_Issue created by migration from https://trac.sagemath.org/ticket/6994_





---

archive/issue_events_076907.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-09-22T19:44:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "milestone_number": null,
    "milestone_title": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76907"
}
```



---

archive/issue_events_076908.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-09-22T19:44:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "component: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76908"
}
```



---

archive/issue_events_076909.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-09-22T19:44:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76909"
}
```



---

archive/issue_events_076910.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-09-22T19:44:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76910"
}
```



---

archive/issue_events_076911.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-09-22T19:44:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76911"
}
```



---

archive/issue_events_076912.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-09-22T19:44:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76912"
}
```



---

archive/issue_comments_051621.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nApparently 0.99.1 has a special osx makefile, which I don't think we are using.  Should we use it?",
    "created_at": "2009-09-22T19:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6994#issuecomment-51621",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:1" align="right">Comment 1</div>

Apparently 0.99.1 has a special osx makefile, which I don't think we are using.  Should we use it?



---

archive/issue_comments_051622.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\n(if so, someone with osx ought to take a look at this)",
    "created_at": "2009-09-22T19:49:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6994#issuecomment-51622",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:2" align="right">Comment 2</div>

(if so, someone with osx ought to take a look at this)



---

archive/issue_comments_051623.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nHmm, well, it seems to be working fine on my copy of OSX.5.8.  Maybe someone else who knows something about makefiles should comment on this...\n\nMaybe this would be a good time to improve that documentation about things like\n\n```\nsage: plot(x^3,-10,-1)\n```\nwhich almost looks like they should intersect but they don't... that's already a ticket somewhere.\n\nAnyway, I don't have time to finish a review now, but so far everything looks fine, and as I said it built fine.",
    "created_at": "2009-09-22T20:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6994#issuecomment-51623",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:3" align="right">Comment 3</div>

Hmm, well, it seems to be working fine on my copy of OSX.5.8.  Maybe someone else who knows something about makefiles should comment on this...

Maybe this would be a good time to improve that documentation about things like

```
sage: plot(x^3,-10,-1)
```
which almost looks like they should intersect but they don't... that's already a ticket somewhere.

Anyway, I don't have time to finish a review now, but so far everything looks fine, and as I said it built fine.



---

archive/issue_comments_051624.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI get the following failure, probably due to a deprecated module...\n\n```\nsage -t  \"devel/sage/sage/plot/colors.py\"                   \n**********************************************************************\nFile \"/Users/.../sage-4.1.2.alpha2/devel/sage/sage/plot/colors.py\", line 193:\n    sage: graphs.DodecahedralGraph().show(vertex_colors=vertex_colors)\nException raised:\n    Traceback (most recent call last):\n<snip>\n      File \"/Users/.../sage-4.1.2.alpha2/local/lib/python/site-packages/matplotlib/backends/tkagg.py\", line 1, in <module>\n        import _tkagg\n    ImportError: No module named _tkagg\n*****************************************************************\n```\nSimilar ones in plot.py in lines 213 ff. and around line 1960, as well as in scatterplot.py. \n\nThere are also a couple failures in plot.py related to savefig and fig.  Otherwise everything seem okay.",
    "created_at": "2009-09-22T20:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6994#issuecomment-51624",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">Comment 4</div>

I get the following failure, probably due to a deprecated module...

```
sage -t  "devel/sage/sage/plot/colors.py"                   
**********************************************************************
File "/Users/.../sage-4.1.2.alpha2/devel/sage/sage/plot/colors.py", line 193:
    sage: graphs.DodecahedralGraph().show(vertex_colors=vertex_colors)
Exception raised:
    Traceback (most recent call last):
<snip>
      File "/Users/.../sage-4.1.2.alpha2/local/lib/python/site-packages/matplotlib/backends/tkagg.py", line 1, in <module>
        import _tkagg
    ImportError: No module named _tkagg
*****************************************************************
```
Similar ones in plot.py in lines 213 ff. and around line 1960, as well as in scatterplot.py. 

There are also a couple failures in plot.py related to savefig and fig.  Otherwise everything seem okay.



---

archive/issue_events_076913.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-09-22T20:37:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76913"
}
```



---

archive/issue_events_076914.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-09-22T20:37:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76914"
}
```



---

archive/issue_comments_051625.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nCongratulations; you found a bug in the release of matplotlib.  They errantly included a config file that should have been deleted.\n\nI've updated the spkg, at the same URL as above.  Make sure you install it with \"sage -f\" to overwrite the previous one.",
    "created_at": "2009-09-22T22:44:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6994#issuecomment-51625",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:5" align="right">Comment 5</div>

Congratulations; you found a bug in the release of matplotlib.  They errantly included a config file that should have been deleted.

I've updated the spkg, at the same URL as above.  Make sure you install it with "sage -f" to overwrite the previous one.



---

archive/issue_events_076915.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-09-22T22:44:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76915"
}
```



---

archive/issue_events_076916.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-09-22T22:44:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76916"
}
```



---

archive/issue_events_076917.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-09-23T01:25:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76917"
}
```



---

archive/issue_events_076918.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-09-23T01:25:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76918"
}
```



---

archive/issue_comments_051626.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nOkay, now all is well.  You may want to let Minh know about some of the bugfixes if they are notable for Sage, for the release tour.",
    "created_at": "2009-09-23T01:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6994#issuecomment-51626",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:6" align="right">Comment 6</div>

Okay, now all is well.  You may want to let Minh know about some of the bugfixes if they are notable for Sage, for the release tour.



---

archive/issue_comments_051627.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2009-09-23T01:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6994#issuecomment-51627",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_comments_051628.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nSee #7022 for a port to OS X 10.6.",
    "created_at": "2009-09-27T04:05:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6994#issuecomment-51628",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:7" align="right">Comment 7</div>

See #7022 for a port to OS X 10.6.



---

archive/issue_events_076919.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-15T09:41:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "milestone_number": null,
    "milestone_title": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76919"
}
```



---

archive/issue_events_076920.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-15T09:41:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "milestone_number": null,
    "milestone_title": "sage-4.1.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76920"
}
```



---

archive/issue_comments_051629.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nI think that this should be closed now that #7022 is in.",
    "created_at": "2009-10-15T09:41:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6994#issuecomment-51629",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:8" align="right">Comment 8</div>

I think that this should be closed now that #7022 is in.



---

archive/issue_events_076921.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-15T09:41:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76921"
}
```



---

archive/issue_events_076922.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-15T09:41:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6994",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6994#event-76922"
}
```
