# Issue 6743: cygwin metaticket: port Sage to Microsoft Windows (via Cygwin): stage 1 -- make building Sage automatic

archive/issues_006743.json:
```json
{
    "assignees": [
        "https://github.com/williamstein"
    ],
    "body": "The goal of this ticket is that a person can:\n\n1. Install Cygwin and certain standard Cygwin packages (listed below).\n\n2. Extract the Sage tarball and type \"`make`\"\n\nand have everything build automatically with no errors.   \n\nThe goal is **not** that the resulting build works or Sage starts up (this is #13841), but if that happens as well, this will be great.  Adding checks for all these prereqs, if necessary, will also be part of a future ticket.\n\n---\n\n## More info\nMost recent trials and a lot more archived status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort\n\n## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)\nAs below with Sage 5.9.beta0\n\n### Cygwin prereqs\nHere is what to install from Cygwin - use the usual stable binaries.\n* `make`, `perl`, `m4`, `binutils`\n* either `gcc4-core`  alone and then use the optional gcc-4.7.2 spkg (the standard gcc-4.6.3 spkg won't be able to compile ecl) or `gcc4-core` and `gcc4-g++` and `gcc4-fortran` whose versions **must** match\n  * Currently, we also need to pull `libmpfr4` for obscure reasons upstream that will likely be fixed soon - we hope\n* `lapack`, `liblapack-devel` (this should automatically pull liblapack0, in fact, just installing liblapack-devel should already) - though we should be able to build ATLAS\n\nOther instructions:\n* Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). \n* It's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc., see #13343\n* Similarly, do not *test* without making sure that `SAGE_TESTDIR` does not contain spaces.\n* Also, **don't forget to** `export SAGE_PORT=yes` (only needed the first time you issue make though, not after failures (memleak, rebase...) and relaunching the build)!\n\n### Spkgs\nInstall the following spkgs ahead of time, e.g. in `SAGE_ROOT/spkg/standard/` before compiling\n* Currently none\n\n### Patches\nYou may have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)\n\n```\n./sage -sh\ncd devel/sage\n<import the patches - you may need to make ~/.hgrc>\ncd ../..\n./sage -b\n<assuming all goes well here>\ntouch spkg/installed/sage-5.6.rc0 # or whatever the version number is\nexit\n```\n  which will bring you back to your normal shell.\n\nPatches currently needed for:\n* Currently none\n\nThis should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.\n\n---\n\nThere is (or was) a very old binary of Cygwin available here:\n\nhttp://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz\n\nDepends on #14031\nDepends on #14465\n\nCC:  @dimpase @mwhansen @jpflori @kcrisman @simon-king-jena\n\nKeywords: **sd31 sd32**\n\nReviewer: **Jean-Pierre Flori, Dmitrii Pasechnik, Karl-Dieter Crisman, Mike Hansen, William Stein, Luis Felipe Tabera Alonso**\n\nComponent: **porting: Cygwin**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/6743_\n\n",
    "closed_at": "2013-05-22T12:30:20Z",
    "created_at": "2009-08-14T06:41:45Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20cygwin",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.10",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "cygwin metaticket: port Sage to Microsoft Windows (via Cygwin): stage 1 -- make building Sage automatic",
    "type": "issue",
    "updated_at": "2013-06-06T12:53:29Z",
    "url": "https://github.com/sagemath/sage/issues/6743",
    "user": "https://github.com/williamstein"
}
```
The goal of this ticket is that a person can:

1. Install Cygwin and certain standard Cygwin packages (listed below).

2. Extract the Sage tarball and type "`make`"

and have everything build automatically with no errors.   

The goal is **not** that the resulting build works or Sage starts up (this is #13841), but if that happens as well, this will be great.  Adding checks for all these prereqs, if necessary, will also be part of a future ticket.

---

## More info
Most recent trials and a lot more archived status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort

## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)
As below with Sage 5.9.beta0

### Cygwin prereqs
Here is what to install from Cygwin - use the usual stable binaries.
* `make`, `perl`, `m4`, `binutils`
* either `gcc4-core`  alone and then use the optional gcc-4.7.2 spkg (the standard gcc-4.6.3 spkg won't be able to compile ecl) or `gcc4-core` and `gcc4-g++` and `gcc4-fortran` whose versions **must** match
  * Currently, we also need to pull `libmpfr4` for obscure reasons upstream that will likely be fixed soon - we hope
* `lapack`, `liblapack-devel` (this should automatically pull liblapack0, in fact, just installing liblapack-devel should already) - though we should be able to build ATLAS

Other instructions:
* Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). 
* It's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc., see #13343
* Similarly, do not *test* without making sure that `SAGE_TESTDIR` does not contain spaces.
* Also, **don't forget to** `export SAGE_PORT=yes` (only needed the first time you issue make though, not after failures (memleak, rebase...) and relaunching the build)!

### Spkgs
Install the following spkgs ahead of time, e.g. in `SAGE_ROOT/spkg/standard/` before compiling
* Currently none

### Patches
You may have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)

```
./sage -sh
cd devel/sage
<import the patches - you may need to make ~/.hgrc>
cd ../..
./sage -b
<assuming all goes well here>
touch spkg/installed/sage-5.6.rc0 # or whatever the version number is
exit
```
  which will bring you back to your normal shell.

Patches currently needed for:
* Currently none

This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.

---

There is (or was) a very old binary of Cygwin available here:

http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz

Depends on #14031
Depends on #14465

CC:  @dimpase @mwhansen @jpflori @kcrisman @simon-king-jena

Keywords: **sd31 sd32**

Reviewer: **Jean-Pierre Flori, Dmitrii Pasechnik, Karl-Dieter Crisman, Mike Hansen, William Stein, Luis Felipe Tabera Alonso**

Component: **porting: Cygwin**

_Issue created by migration from https://trac.sagemath.org/ticket/6743_





---

archive/issue_events_081133.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-08-14T06:41:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81133"
}
```



---

archive/issue_events_081134.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-08-14T06:41:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "0000b0",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81134"
}
```



---

archive/issue_events_081135.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-08-14T06:41:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81135"
}
```



---

archive/issue_events_081136.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-08-14T06:41:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81136"
}
```



---

archive/issue_events_081137.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-08-14T06:42:54Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "title_is": "port Sage to Microsoft Windows (via Cygwin): stage 1",
    "title_was": "port Sage to Microsoft Windows (via Cygwin)",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81137"
}
```



---

archive/issue_comments_047232.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThe goal of this ticket is to port the standard Sage release to at least build and startup under Cygwin with GCC>=4.3.2.\n\nThis ticket could be closed by any significant advanced in this direction that can be merged in.",
    "created_at": "2009-08-14T06:42:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47232",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:1" align="right">comment:1</div>

The goal of this ticket is to port the standard Sage release to at least build and startup under Cygwin with GCC>=4.3.2.

This ticket could be closed by any significant advanced in this direction that can be merged in.



---

archive/issue_comments_047233.json:
```json
{
    "body": "Attachment: **[buildnotes.txt](https://github.com/sagemath/sage/files/ticket6743/buildnotes.txt)**",
    "created_at": "2009-08-14T07:17:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47233",
    "user": "https://github.com/williamstein"
}
```

Attachment: **[buildnotes.txt](https://github.com/sagemath/sage/files/ticket6743/buildnotes.txt)**



---

archive/issue_comments_047234.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n+I have put a binary of my cygwin build here:\n \n+http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz\n+\n+Things like \"sage -ipython\" and many non-sage imports work.  Just starting Sage doesn't, maybe because of the Sage<-->pynac binding not building. \n``````\n",
    "created_at": "2009-08-19T23:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47234",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
+I have put a binary of my cygwin build here:
 
+http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz
+
+Things like "sage -ipython" and many non-sage imports work.  Just starting Sage doesn't, maybe because of the Sage<-->pynac binding not building. 
``````




---

archive/issue_comments_047235.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAttachment: **[trac-6743.patch.gz](https://github.com/sagemath/sage/files/ticket6743/trac-6743.patch.gz)**",
    "created_at": "2009-08-19T23:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47235",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:2" align="right">comment:2</div>

Attachment: **[trac-6743.patch.gz](https://github.com/sagemath/sage/files/ticket6743/trac-6743.patch.gz)**



---

archive/issue_comments_047236.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,7 @@\n http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz\n \n Things like \"sage -ipython\" and many non-sage imports work.  Just starting Sage doesn't, maybe because of the Sage<-->pynac binding not building. \n+\n+Related tickets:\n+\n+* #6974 -- make dummy packages for all the GNU crypto stuff\n``````\n",
    "created_at": "2009-09-21T03:31:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47236",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,7 @@
 http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz
 
 Things like "sage -ipython" and many non-sage imports work.  Just starting Sage doesn't, maybe because of the Sage<-->pynac binding not building. 
+
+Related tickets:
+
+* #6974 -- make dummy packages for all the GNU crypto stuff
``````




---

archive/issue_comments_047237.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,7 @@\n Related tickets:\n \n * #6974 -- make dummy packages for all the GNU crypto stuff\n+* #6975 -- flint\n+* #6976 -- numpy\n+* #6978 -- matplotlib\n+* #6982 -- atlas and linbox\n``````\n",
    "created_at": "2009-09-22T05:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47237",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,7 @@
 Related tickets:
 
 * #6974 -- make dummy packages for all the GNU crypto stuff
+* #6975 -- flint
+* #6976 -- numpy
+* #6978 -- matplotlib
+* #6982 -- atlas and linbox
``````




---

archive/issue_comments_047238.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,3 +11,4 @@\n * #6976 -- numpy\n * #6978 -- matplotlib\n * #6982 -- atlas and linbox\n+* #6984 -- lapack dummy package\n``````\n",
    "created_at": "2009-09-22T06:35:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47238",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,3 +11,4 @@
 * #6976 -- numpy
 * #6978 -- matplotlib
 * #6982 -- atlas and linbox
+* #6984 -- lapack dummy package
``````




---

archive/issue_comments_047239.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,6 @@\n * #6974 -- make dummy packages for all the GNU crypto stuff\n * #6975 -- flint\n * #6976 -- numpy\n-* #6978 -- matplotlib\n+* #6978 -- matplotlib [This is the Trac macro *invalid -- it turns out the latest version works with no patches needed* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- it turns out the latest version works with no patches needed-macro)\n * #6982 -- atlas and linbox\n * #6984 -- lapack dummy package\n``````\n",
    "created_at": "2009-09-22T09:06:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47239",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,6 @@
 * #6974 -- make dummy packages for all the GNU crypto stuff
 * #6975 -- flint
 * #6976 -- numpy
-* #6978 -- matplotlib
+* #6978 -- matplotlib [This is the Trac macro *invalid -- it turns out the latest version works with no patches needed* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- it turns out the latest version works with no patches needed-macro)
 * #6982 -- atlas and linbox
 * #6984 -- lapack dummy package
``````




---

archive/issue_comments_047240.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,3 +12,12 @@\n * #6978 -- matplotlib [This is the Trac macro *invalid -- it turns out the latest version works with no patches needed* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- it turns out the latest version works with no patches needed-macro)\n * #6982 -- atlas and linbox\n * #6984 -- lapack dummy package\n+* #7005 -- singular port\n+\n+Required cygwin packages beyond the usual:\n+\n+* GCC 4.3.2\n+* gfortran\n+* libncurses-devel\n+* lapack\n+* openssl-devel\n``````\n",
    "created_at": "2009-09-25T00:53:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47240",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,3 +12,12 @@
 * #6978 -- matplotlib [This is the Trac macro *invalid -- it turns out the latest version works with no patches needed* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- it turns out the latest version works with no patches needed-macro)
 * #6982 -- atlas and linbox
 * #6984 -- lapack dummy package
+* #7005 -- singular port
+
+Required cygwin packages beyond the usual:
+
+* GCC 4.3.2
+* gfortran
+* libncurses-devel
+* lapack
+* openssl-devel
``````




---

archive/issue_comments_047241.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,3 +21,6 @@\n * libncurses-devel\n * lapack\n * openssl-devel\n+* libiconv -- needed when building R (and it has to be libiconv\n+\n+We need to add a test for *all* of the above to the prereq script before making the cygwin port official.\n``````\n",
    "created_at": "2009-09-25T07:03:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47241",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,3 +21,6 @@
 * libncurses-devel
 * lapack
 * openssl-devel
+* libiconv -- needed when building R (and it has to be libiconv
+
+We need to add a test for *all* of the above to the prereq script before making the cygwin port official.
``````




---

archive/issue_comments_047242.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,6 +13,7 @@\n * #6982 -- atlas and linbox\n * #6984 -- lapack dummy package\n * #7005 -- singular port\n+* #7015 -- ratpoints\n \n Required cygwin packages beyond the usual:\n \n``````\n",
    "created_at": "2009-09-25T22:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47242",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,6 +13,7 @@
 * #6982 -- atlas and linbox
 * #6984 -- lapack dummy package
 * #7005 -- singular port
+* #7015 -- ratpoints
 
 Required cygwin packages beyond the usual:
 
``````




---

archive/issue_comments_047243.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAttachment: **[trac_6743-SCRIPTS-part1.patch.gz](https://github.com/sagemath/sage/files/ticket6743/trac_6743-SCRIPTS-part1.patch.gz)**",
    "created_at": "2009-09-26T01:23:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47243",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:10" align="right">comment:10</div>

Attachment: **[trac_6743-SCRIPTS-part1.patch.gz](https://github.com/sagemath/sage/files/ticket6743/trac_6743-SCRIPTS-part1.patch.gz)**



---

archive/issue_comments_047244.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,7 +7,7 @@\n Related tickets:\n \n * #6974 -- make dummy packages for all the GNU crypto stuff\n-* #6975 -- flint\n+* #6975 and #6919 -- flint\n * #6976 -- numpy\n * #6978 -- matplotlib [This is the Trac macro *invalid -- it turns out the latest version works with no patches needed* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- it turns out the latest version works with no patches needed-macro)\n * #6982 -- atlas and linbox\n``````\n",
    "created_at": "2009-09-26T01:23:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47244",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,7 +7,7 @@
 Related tickets:
 
 * #6974 -- make dummy packages for all the GNU crypto stuff
-* #6975 -- flint
+* #6975 and #6919 -- flint
 * #6976 -- numpy
 * #6978 -- matplotlib [This is the Trac macro *invalid -- it turns out the latest version works with no patches needed* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- it turns out the latest version works with no patches needed-macro)
 * #6982 -- atlas and linbox
``````




---

archive/issue_comments_047245.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+The goal of this ticket is that a person can:\n+\n+1. Install cygwin and certain standard cygwin packages (listed below).\n+\n+2. Extract the Sage tarball and type \"make\"\n+\n+and have everything build automatically with no errors.   The goal is *not* that the resulting build work or sage startup.  That will be for a later ticket. \n+ \n+\n+\n I have put a binary of my cygwin build here:\n \n http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz\n``````\n",
    "created_at": "2009-09-27T21:14:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47245",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,13 @@
+The goal of this ticket is that a person can:
+
+1. Install cygwin and certain standard cygwin packages (listed below).
+
+2. Extract the Sage tarball and type "make"
+
+and have everything build automatically with no errors.   The goal is *not* that the resulting build work or sage startup.  That will be for a later ticket. 
+ 
+
+
 I have put a binary of my cygwin build here:
 
 http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz
``````




---

archive/issue_events_081138.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-09-27T21:14:58Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "title_is": "port Sage to Microsoft Windows (via Cygwin): stage 1 -- make building Sage completely automatic",
    "title_was": "port Sage to Microsoft Windows (via Cygwin): stage 1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81138"
}
```



---

archive/issue_comments_047246.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nImportant remark.  I got passed a lot of issues toward startup by copying csage.so to be /bin/csage.dll.   Also, this program is very helpful: http://www.dependencywalker.com/",
    "created_at": "2009-10-24T22:37:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47246",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:12" align="right">comment:12</div>

Important remark.  I got passed a lot of issues toward startup by copying csage.so to be /bin/csage.dll.   Also, this program is very helpful: http://www.dependencywalker.com/



---

archive/issue_comments_047247.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAfter using the dependency thing above, and only importing half the sage library, I finally got to test out libsingular... and it works fine!\n\n```\nsage: R.<x,y,z> = QQ[]\nsage: f = (x+y+z+1)^2; f\nx^2 + 2*x*y + y^2 + 2*x*z + 2*y*z + z^2 + 2*x + 2*y + 2*z + 1\nsage: type(f)\n<type 'sage.rings.polynomial.multi_polynomial_libsingular.MPolynomial_libsingular'>\n```\n\n\nAnother key point is one should increase the RAM available to cygwin by editing the registry, as explained in the Cygwin user's manual.  The default 384MB limit with all cygwin installs is way way too small for sage.  Make it a gig. \n\nMy working sage install is /home/wstein/sage-4.1 on the winxp3 virtual machine.",
    "created_at": "2009-10-24T23:00:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47247",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:13" align="right">comment:13</div>

After using the dependency thing above, and only importing half the sage library, I finally got to test out libsingular... and it works fine!

```
sage: R.<x,y,z> = QQ[]
sage: f = (x+y+z+1)^2; f
x^2 + 2*x*y + y^2 + 2*x*z + 2*y*z + z^2 + 2*x + 2*y + 2*z + 1
sage: type(f)
<type 'sage.rings.polynomial.multi_polynomial_libsingular.MPolynomial_libsingular'>
```


Another key point is one should increase the RAM available to cygwin by editing the registry, as explained in the Cygwin user's manual.  The default 384MB limit with all cygwin installs is way way too small for sage.  Make it a gig. 

My working sage install is /home/wstein/sage-4.1 on the winxp3 virtual machine.



---

archive/issue_comments_047248.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,15 +16,23 @@\n \n Related tickets:\n \n+* #6919, #6975 -- flint\n * #6974 -- make dummy packages for all the GNU crypto stuff\n-* #6975 and #6919 -- flint\n * #6976 -- numpy\n-* #6978 -- matplotlib [This is the Trac macro *invalid -- it turns out the latest version works with no patches needed* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- it turns out the latest version works with no patches needed-macro)\n+* #6978 -- matplotlib [This is the Trac macro *invalid -- latest version works* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- latest version works-macro)\n * #6982 -- atlas and linbox\n * #6984 -- lapack dummy package\n-* #7005 -- singular port\n-* #7015 -- ratpoints\n-\n+* #7005 -- singular -- port to cygwin  (needs_work)\n+* #7015 -- cygwin port -- ratpoints -- don't build \n+* #7282 -- port jinja to install on cygwin\n+* #7308 -- cliquer's spkg-install does not work on cygwin\n+* #7319 -- gdmodule requires libiconv on cygwin\n+* #7321 -- numpy fails to build on cygwin\n+* #7335 -- tachyon fails to build on Cygwin\n+* #7336 -- boehm_gc fails to build on Cygwin\n+* #7337 -- PolyBoRi fails to build on cygwin\n+* #7338 -- Singular fails to build on cygwin\n+   \n Required cygwin packages beyond the usual:\n \n * GCC 4.3.2\n``````\n",
    "created_at": "2010-02-13T19:54:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47248",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,15 +16,23 @@
 
 Related tickets:
 
+* #6919, #6975 -- flint
 * #6974 -- make dummy packages for all the GNU crypto stuff
-* #6975 and #6919 -- flint
 * #6976 -- numpy
-* #6978 -- matplotlib [This is the Trac macro *invalid -- it turns out the latest version works with no patches needed* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- it turns out the latest version works with no patches needed-macro)
+* #6978 -- matplotlib [This is the Trac macro *invalid -- latest version works* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- latest version works-macro)
 * #6982 -- atlas and linbox
 * #6984 -- lapack dummy package
-* #7005 -- singular port
-* #7015 -- ratpoints
-
+* #7005 -- singular -- port to cygwin  (needs_work)
+* #7015 -- cygwin port -- ratpoints -- don't build 
+* #7282 -- port jinja to install on cygwin
+* #7308 -- cliquer's spkg-install does not work on cygwin
+* #7319 -- gdmodule requires libiconv on cygwin
+* #7321 -- numpy fails to build on cygwin
+* #7335 -- tachyon fails to build on Cygwin
+* #7336 -- boehm_gc fails to build on Cygwin
+* #7337 -- PolyBoRi fails to build on cygwin
+* #7338 -- Singular fails to build on cygwin
+   
 Required cygwin packages beyond the usual:
 
 * GCC 4.3.2
``````




---

archive/issue_events_081139.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-02-13T19:55:03Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "title_is": "cygwin metaticket: port Sage to Microsoft Windows (via Cygwin): stage 1 -- make building Sage automatic",
    "title_was": "port Sage to Microsoft Windows (via Cygwin): stage 1 -- make building Sage completely automatic",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81139"
}
```



---

archive/issue_comments_047249.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -32,6 +32,7 @@\n * #7336 -- boehm_gc fails to build on Cygwin\n * #7337 -- PolyBoRi fails to build on cygwin\n * #7338 -- Singular fails to build on cygwin\n+* #8257 -- gd-2.0.35.p4 fails to build\n    \n Required cygwin packages beyond the usual:\n \n``````\n",
    "created_at": "2010-02-13T20:05:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47249",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -32,6 +32,7 @@
 * #7336 -- boehm_gc fails to build on Cygwin
 * #7337 -- PolyBoRi fails to build on cygwin
 * #7338 -- Singular fails to build on cygwin
+* #8257 -- gd-2.0.35.p4 fails to build
    
 Required cygwin packages beyond the usual:
 
``````




---

archive/issue_comments_047250.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -33,6 +33,7 @@\n * #7337 -- PolyBoRi fails to build on cygwin\n * #7338 -- Singular fails to build on cygwin\n * #8257 -- gd-2.0.35.p4 fails to build\n+* #8261 -- cygwin: mpfr fails 1 test in its test suite on windows\n    \n Required cygwin packages beyond the usual:\n \n``````\n",
    "created_at": "2010-02-14T06:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47250",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -33,6 +33,7 @@
 * #7337 -- PolyBoRi fails to build on cygwin
 * #7338 -- Singular fails to build on cygwin
 * #8257 -- gd-2.0.35.p4 fails to build
+* #8261 -- cygwin: mpfr fails 1 test in its test suite on windows
    
 Required cygwin packages beyond the usual:
 
``````




---

archive/issue_events_081140.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-02-14T06:55:56Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "subject": "https://github.com/williamstein",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81140"
}
```



---

archive/issue_comments_047251.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -34,6 +34,7 @@\n * #7338 -- Singular fails to build on cygwin\n * #8257 -- gd-2.0.35.p4 fails to build\n * #8261 -- cygwin: mpfr fails 1 test in its test suite on windows\n+* #8267 -- ratpoints is broken again\n    \n Required cygwin packages beyond the usual:\n \n``````\n",
    "created_at": "2010-02-15T00:22:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47251",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -34,6 +34,7 @@
 * #7338 -- Singular fails to build on cygwin
 * #8257 -- gd-2.0.35.p4 fails to build
 * #8261 -- cygwin: mpfr fails 1 test in its test suite on windows
+* #8267 -- ratpoints is broken again
    
 Required cygwin packages beyond the usual:
 
``````




---

archive/issue_comments_047252.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -35,6 +35,7 @@\n * #8257 -- gd-2.0.35.p4 fails to build\n * #8261 -- cygwin: mpfr fails 1 test in its test suite on windows\n * #8267 -- ratpoints is broken again\n+* #8269 -- maxima does not build on cygwin, possibly due to ECL bug.\n    \n Required cygwin packages beyond the usual:\n \n``````\n",
    "created_at": "2010-02-15T06:59:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47252",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -35,6 +35,7 @@
 * #8257 -- gd-2.0.35.p4 fails to build
 * #8261 -- cygwin: mpfr fails 1 test in its test suite on windows
 * #8267 -- ratpoints is broken again
+* #8269 -- maxima does not build on cygwin, possibly due to ECL bug.
    
 Required cygwin packages beyond the usual:
 
``````




---

archive/issue_comments_047253.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -36,6 +36,7 @@\n * #8261 -- cygwin: mpfr fails 1 test in its test suite on windows\n * #8267 -- ratpoints is broken again\n * #8269 -- maxima does not build on cygwin, possibly due to ECL bug.\n+* #8278 -- cvxopt doesn't build on cygwin/windows due to missing complex.h\n    \n Required cygwin packages beyond the usual:\n \n``````\n",
    "created_at": "2010-02-15T22:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47253",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -36,6 +36,7 @@
 * #8261 -- cygwin: mpfr fails 1 test in its test suite on windows
 * #8267 -- ratpoints is broken again
 * #8269 -- maxima does not build on cygwin, possibly due to ECL bug.
+* #8278 -- cvxopt doesn't build on cygwin/windows due to missing complex.h
    
 Required cygwin packages beyond the usual:
 
``````




---

archive/issue_comments_047254.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -37,6 +37,7 @@\n * #8267 -- ratpoints is broken again\n * #8269 -- maxima does not build on cygwin, possibly due to ECL bug.\n * #8278 -- cvxopt doesn't build on cygwin/windows due to missing complex.h\n+* #8279 -- cygwin: cliquer names the library incorrectly for cygwin\n    \n Required cygwin packages beyond the usual:\n \n``````\n",
    "created_at": "2010-02-16T01:26:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47254",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -37,6 +37,7 @@
 * #8267 -- ratpoints is broken again
 * #8269 -- maxima does not build on cygwin, possibly due to ECL bug.
 * #8278 -- cvxopt doesn't build on cygwin/windows due to missing complex.h
+* #8279 -- cygwin: cliquer names the library incorrectly for cygwin
    
 Required cygwin packages beyond the usual:
 
``````




---

archive/issue_comments_047255.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -38,6 +38,7 @@\n * #8269 -- maxima does not build on cygwin, possibly due to ECL bug.\n * #8278 -- cvxopt doesn't build on cygwin/windows due to missing complex.h\n * #8279 -- cygwin: cliquer names the library incorrectly for cygwin\n+* #8280 -- zn_poly shared library named incorrectly on cygwin\n    \n Required cygwin packages beyond the usual:\n \n``````\n",
    "created_at": "2010-02-16T02:08:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47255",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -38,6 +38,7 @@
 * #8269 -- maxima does not build on cygwin, possibly due to ECL bug.
 * #8278 -- cvxopt doesn't build on cygwin/windows due to missing complex.h
 * #8279 -- cygwin: cliquer names the library incorrectly for cygwin
+* #8280 -- zn_poly shared library named incorrectly on cygwin
    
 Required cygwin packages beyond the usual:
 
``````




---

archive/issue_comments_047256.json:
```json
{
    "body": "I rebased the sage library patch to get the sage library to build against sage-4.3.3.  Applying this patch *and* fixing some library naming issues (mainly .so --> .dll) allows \"sage -b\" to work. Sage does not startup though.",
    "created_at": "2010-02-16T02:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47256",
    "user": "https://github.com/williamstein"
}
```

I rebased the sage library patch to get the sage library to build against sage-4.3.3.  Applying this patch *and* fixing some library naming issues (mainly .so --> .dll) allows "sage -b" to work. Sage does not startup though.



---

archive/issue_comments_047257.json:
```json
{
    "body": "Attachment: **[trac_6743-rebase-sage-4.3.3.patch.gz](https://github.com/sagemath/sage/files/ticket6743/trac_6743-rebase-sage-4.3.3.patch.gz)**\n\nthese are my notes when I tried to build sage-4.3.3.alpha0 from source on cygwin",
    "created_at": "2010-02-16T02:59:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47257",
    "user": "https://github.com/williamstein"
}
```

Attachment: **[trac_6743-rebase-sage-4.3.3.patch.gz](https://github.com/sagemath/sage/files/ticket6743/trac_6743-rebase-sage-4.3.3.patch.gz)**

these are my notes when I tried to build sage-4.3.3.alpha0 from source on cygwin



---

archive/issue_comments_047258.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nAttachment: **[buildnotes-4.3.3.alpha0.txt](https://github.com/sagemath/sage/files/ticket6743/buildnotes-4.3.3.alpha0.txt)**",
    "created_at": "2010-02-16T08:11:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47258",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:23" align="right">comment:23</div>

Attachment: **[buildnotes-4.3.3.alpha0.txt](https://github.com/sagemath/sage/files/ticket6743/buildnotes-4.3.3.alpha0.txt)**



---

archive/issue_events_081141.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-02-16T08:11:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "0000b0",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81141"
}
```



---

archive/issue_events_081142.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-02-16T08:11:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20cygwin",
    "label_color": "0000b0",
    "label_name": "c: porting: cygwin",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81142"
}
```



---

archive/issue_comments_047259.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nAnyone interested in this should check out [the wiki page](../wiki/CygwinPort) for the latest.",
    "created_at": "2011-06-15T23:28:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47259",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:24" align="right">comment:24</div>

Anyone interested in this should check out [the wiki page](../wiki/CygwinPort) for the latest.



---

archive/issue_comments_047260.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nMy proposal is that once Cygwin actually is able to be built out of the box (not necessarily running) that this ticket is then closed by updating prereq to include the various prereqs.  Again, see [the Cygwin wiki page on Sage Trac](../wiki/CygwinPort) for details of what is currently needed.",
    "created_at": "2011-06-28T18:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47260",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:25" align="right">comment:25</div>

My proposal is that once Cygwin actually is able to be built out of the box (not necessarily running) that this ticket is then closed by updating prereq to include the various prereqs.  Again, see [the Cygwin wiki page on Sage Trac](../wiki/CygwinPort) for details of what is currently needed.



---

archive/issue_comments_047261.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nUpdating description to have more precise instructions, at least for one particular setup that will hopefully work.",
    "created_at": "2011-06-29T03:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47261",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:26" align="right">comment:26</div>

Updating description to have more precise instructions, at least for one particular setup that will hopefully work.



---

archive/issue_comments_047262.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,34 @@\n \n and have everything build automatically with no errors.   The goal is *not* that the resulting build work or sage startup.  That will be for a later ticket. \n  \n+---\n+\n+## Current instructions on Windows XP with Cygwin 1.7.3\n+\n+### Cygwin prereqs\n+* Be sure to install file, liblapack, liblapack0, liblapack-devel\n+* Since we will go with #11232, install patch\n+* Don't forget fortran\n+* Make sure you download all gcc and g++ so the versions match\n+\n+### Spkgs\n+* [patch-2.5.9.p1.spkg](http://boxen.math.washington.edu/home/dima/packages/patch-2.5.9.p1.spkg), #11232\n+* [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119\n+* [pari-2.4.3.alpha.p6.spkg](http://boxen.math.washington.edu/home/dima/packages/pari-2.4.3.alpha.p6.spkg), #10240\n+* [atlas-3.8.4.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/atlas-3.8.4.spkg), #11494 and #10266\n+* [tachyon-0.98.8.p4.spkg](http://sage.math.washington.edu/home/kcrisman/tachyon-0.98.9.p4.spkg), #11504\n+* [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497\n+* [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547\n+* [flint-1.5.0.p7.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg), #11547 and #11246\n+* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg), #11547\n+* When building the Sage library, you will need to do the patch at [Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499\n+\n+Hopefully this will then work 'out of the box', modulo rebasing issues and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL)\n+\n+---\n+\n+Older instructions:\n+\n \n \n I have put a binary of my cygwin build here:\n``````\n",
    "created_at": "2011-06-29T03:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47262",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,34 @@
 
 and have everything build automatically with no errors.   The goal is *not* that the resulting build work or sage startup.  That will be for a later ticket. 
  
+---
+
+## Current instructions on Windows XP with Cygwin 1.7.3
+
+### Cygwin prereqs
+* Be sure to install file, liblapack, liblapack0, liblapack-devel
+* Since we will go with #11232, install patch
+* Don't forget fortran
+* Make sure you download all gcc and g++ so the versions match
+
+### Spkgs
+* [patch-2.5.9.p1.spkg](http://boxen.math.washington.edu/home/dima/packages/patch-2.5.9.p1.spkg), #11232
+* [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119
+* [pari-2.4.3.alpha.p6.spkg](http://boxen.math.washington.edu/home/dima/packages/pari-2.4.3.alpha.p6.spkg), #10240
+* [atlas-3.8.4.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/atlas-3.8.4.spkg), #11494 and #10266
+* [tachyon-0.98.8.p4.spkg](http://sage.math.washington.edu/home/kcrisman/tachyon-0.98.9.p4.spkg), #11504
+* [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497
+* [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547
+* [flint-1.5.0.p7.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg), #11547 and #11246
+* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg), #11547
+* When building the Sage library, you will need to do the patch at [Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499
+
+Hopefully this will then work 'out of the box', modulo rebasing issues and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL)
+
+---
+
+Older instructions:
+
 
 
 I have put a binary of my cygwin build here:
``````




---

archive/issue_comments_047263.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,10 +12,11 @@\n \n ### Cygwin prereqs\n * Be sure to install file, liblapack, liblapack0, liblapack-devel\n+* Probably also need libiconv and openssl\n * Since we will go with #11232, install patch\n * Don't forget fortran\n * Make sure you download all gcc and g++ so the versions match\n-\n+* Also, don't forget to `export SAGE_PORT=yes`!\n ### Spkgs\n * [patch-2.5.9.p1.spkg](http://boxen.math.washington.edu/home/dima/packages/patch-2.5.9.p1.spkg), #11232\n * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119\n``````\n",
    "created_at": "2011-06-29T16:00:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47263",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,10 +12,11 @@
 
 ### Cygwin prereqs
 * Be sure to install file, liblapack, liblapack0, liblapack-devel
+* Probably also need libiconv and openssl
 * Since we will go with #11232, install patch
 * Don't forget fortran
 * Make sure you download all gcc and g++ so the versions match
-
+* Also, don't forget to `export SAGE_PORT=yes`!
 ### Spkgs
 * [patch-2.5.9.p1.spkg](http://boxen.math.washington.edu/home/dima/packages/patch-2.5.9.p1.spkg), #11232
 * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119
``````




---

archive/issue_comments_047264.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI just got Sage to build on Cygwin 1.7.3 (not most recent) on XP (not most recent) with the ONLY stops being once when the computer decided to do an automatic update and restarted, and once when I had to add the patch at #11499.  So I would say that this is as close to automatic as you can get.  (Once again, Maxima built fun - and runs in `sage -maxima`.)",
    "created_at": "2011-06-30T01:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47264",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:28" align="right">comment:28</div>

I just got Sage to build on Cygwin 1.7.3 (not most recent) on XP (not most recent) with the ONLY stops being once when the computer decided to do an automatic update and restarted, and once when I had to add the patch at #11499.  So I would say that this is as close to automatic as you can get.  (Once again, Maxima built fun - and runs in `sage -maxima`.)



---

archive/issue_comments_047265.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,15 +8,17 @@\n  \n ---\n \n-## Current instructions on Windows XP with Cygwin 1.7.3\n+## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)\n \n ### Cygwin prereqs\n * Be sure to install file, liblapack, liblapack0, liblapack-devel\n * Probably also need libiconv and openssl\n * Since we will go with #11232, install patch\n+* On Windows 7 (or both) install libncurses-devel\n * Don't forget fortran\n * Make sure you download all gcc and g++ so the versions match\n * Also, don't forget to `export SAGE_PORT=yes`!\n+\n ### Spkgs\n * [patch-2.5.9.p1.spkg](http://boxen.math.washington.edu/home/dima/packages/patch-2.5.9.p1.spkg), #11232\n * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119\n@@ -27,9 +29,11 @@\n * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547\n * [flint-1.5.0.p7.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg), #11547 and #11246\n * [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg), #11547\n+* [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245\n+* [singular-3-1-1-4.p10.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-1-4.p10.spkg), #11550\n * When building the Sage library, you will need to do the patch at [Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499\n \n-Hopefully this will then work 'out of the box', modulo rebasing issues and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL)\n+This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL)\n \n ---\n \n``````\n",
    "created_at": "2011-07-01T16:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47265",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,15 +8,17 @@
  
 ---
 
-## Current instructions on Windows XP with Cygwin 1.7.3
+## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)
 
 ### Cygwin prereqs
 * Be sure to install file, liblapack, liblapack0, liblapack-devel
 * Probably also need libiconv and openssl
 * Since we will go with #11232, install patch
+* On Windows 7 (or both) install libncurses-devel
 * Don't forget fortran
 * Make sure you download all gcc and g++ so the versions match
 * Also, don't forget to `export SAGE_PORT=yes`!
+
 ### Spkgs
 * [patch-2.5.9.p1.spkg](http://boxen.math.washington.edu/home/dima/packages/patch-2.5.9.p1.spkg), #11232
 * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119
@@ -27,9 +29,11 @@
 * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547
 * [flint-1.5.0.p7.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg), #11547 and #11246
 * [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg), #11547
+* [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245
+* [singular-3-1-1-4.p10.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-1-4.p10.spkg), #11550
 * When building the Sage library, you will need to do the patch at [Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499
 
-Hopefully this will then work 'out of the box', modulo rebasing issues and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL)
+This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL)
 
 ---
 
``````




---

archive/issue_comments_047266.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI just tried to go through the install on Windows 7 and Cygwin 1.7.9-1 (latest version) with sage-4.7.1.alpha4, but there was an error while building python. I'm going to attach the install.log file.",
    "created_at": "2011-07-05T04:19:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47266",
    "user": "https://github.com/saliola"
}
```

<div id="comment:30" align="right">comment:30</div>

I just tried to go through the install on Windows 7 and Cygwin 1.7.9-1 (latest version) with sage-4.7.1.alpha4, but there was an error while building python. I'm going to attach the install.log file.



---

archive/issue_comments_047267.json:
```json
{
    "body": "Attachment: **[install.log](https://github.com/sagemath/sage/files/ticket6743/install.log)**\n\nwindows 7, cygwin 1.7.9-1, python build error",
    "created_at": "2011-07-05T04:20:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47267",
    "user": "https://github.com/saliola"
}
```

Attachment: **[install.log](https://github.com/sagemath/sage/files/ticket6743/install.log)**

windows 7, cygwin 1.7.9-1, python build error



---

archive/issue_comments_047268.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nFranco, see http://cygwin.com/faq/faq.using.html#faq.using.bloda .  You may also want to do a rebaseall.",
    "created_at": "2011-07-05T04:29:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47268",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:31" align="right">comment:31</div>

Franco, see http://cygwin.com/faq/faq.using.html#faq.using.bloda .  You may also want to do a rebaseall.



---

archive/issue_comments_047269.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nAlso, see http://comments.gmane.org/gmane.os.cygwin.xfree/20979",
    "created_at": "2011-07-05T04:31:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47269",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:32" align="right">comment:32</div>

Also, see http://comments.gmane.org/gmane.os.cygwin.xfree/20979



---

archive/issue_comments_047270.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@saliola](#comment%3A30):\n> I just tried to go through the install on Windows 7 and Cygwin 1.7.9-1 (latest version) with sage-4.7.1.alpha4, but there was an error while building python. I'm going to attach the install.log file.\n> \n\nThanks so much for trying this.  I think that it's almost certainly the case that mhansen's comment will lead you to happiness.  The Python spkg seems to be particularly vulnerable to this problem, in other reports as well as my own experience.  By the way, there are more detailed instructions about how to rebase the Sage dlls (not just the system ones) at the [wiki page about this](../wiki/CygwinPort).",
    "created_at": "2011-07-05T14:01:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47270",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@saliola](#comment%3A30):
> I just tried to go through the install on Windows 7 and Cygwin 1.7.9-1 (latest version) with sage-4.7.1.alpha4, but there was an error while building python. I'm going to attach the install.log file.
> 

Thanks so much for trying this.  I think that it's almost certainly the case that mhansen's comment will lead you to happiness.  The Python spkg seems to be particularly vulnerable to this problem, in other reports as well as my own experience.  By the way, there are more detailed instructions about how to rebase the Sage dlls (not just the system ones) at the [wiki page about this](../wiki/CygwinPort).



---

archive/issue_comments_047271.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@mwhansen](#comment%3A32):\n> Also, see http://comments.gmane.org/gmane.os.cygwin.xfree/20979\n\nWhich precise comment?  [http://permalink.gmane.org/gmane.os.cygwin.xfree/21742](http://permalink.gmane.org/gmane.os.cygwin.xfree/21742) or [http://permalink.gmane.org/gmane.os.cygwin.xfree/21344](http://permalink.gmane.org/gmane.os.cygwin.xfree/21344) or a different one?",
    "created_at": "2011-07-05T14:02:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47271",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@mwhansen](#comment%3A32):
> Also, see http://comments.gmane.org/gmane.os.cygwin.xfree/20979

Which precise comment?  [http://permalink.gmane.org/gmane.os.cygwin.xfree/21742](http://permalink.gmane.org/gmane.os.cygwin.xfree/21742) or [http://permalink.gmane.org/gmane.os.cygwin.xfree/21344](http://permalink.gmane.org/gmane.os.cygwin.xfree/21344) or a different one?



---

archive/issue_comments_047272.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@kcrisman](#comment%3A33):\n> Thanks so much for trying this.\n\nIt is the least I can do, considering all the hard work by all of you. Your email on sage-devel convinced me to try.\n\n> I think that it's almost certainly the case that mhansen's comment will lead you to happiness.  The Python spkg seems to be particularly vulnerable to this problem, in other reports as well as my own experience.  By the way, there are more detailed instructions about how to rebase the Sage dlls (not just the system ones) at the [wiki page about this](../wiki/CygwinPort).\n\nSo far, I just rebased Cygwin using `rebaseall -v`. I don't know whether this also rebases the Sage dlls, but the compilation is now continuing (it finished compiling Python).\n\nI'm convinced that my problem is related to Windows update. I have Windows 7 installed on a partition on my laptop and almost never boot into it. It was really, really behind on updates, and Windows just kept on applying update and update (even after it told me there were no more updates to apply, it somehow managed to download some new updates....). It seems to have stopped updating now. Fingers crossed.",
    "created_at": "2011-07-05T14:24:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47272",
    "user": "https://github.com/saliola"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@kcrisman](#comment%3A33):
> Thanks so much for trying this.

It is the least I can do, considering all the hard work by all of you. Your email on sage-devel convinced me to try.

> I think that it's almost certainly the case that mhansen's comment will lead you to happiness.  The Python spkg seems to be particularly vulnerable to this problem, in other reports as well as my own experience.  By the way, there are more detailed instructions about how to rebase the Sage dlls (not just the system ones) at the [wiki page about this](../wiki/CygwinPort).

So far, I just rebased Cygwin using `rebaseall -v`. I don't know whether this also rebases the Sage dlls, but the compilation is now continuing (it finished compiling Python).

I'm convinced that my problem is related to Windows update. I have Windows 7 installed on a partition on my laptop and almost never boot into it. It was really, really behind on updates, and Windows just kept on applying update and update (even after it told me there were no more updates to apply, it somehow managed to download some new updates....). It seems to have stopped updating now. Fingers crossed.



---

archive/issue_comments_047273.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n> I'm convinced that my problem is related to Windows update. I have Windows 7 installed on a partition on my laptop and almost never boot into it. It was really, really behind on updates, and Windows just kept on applying update and update (even after it told me there were no more updates to apply, it somehow managed to download some new updates....). It seems to have stopped updating now. Fingers crossed.\n\nYes, you are totally right about this problem.  Windows just does it again and again without really asking.\n\nYou know what I do?  I disconnect from the internet :)  But that is on a computer I rented from our IT just for this purpose, hard to do with a main computer.",
    "created_at": "2011-07-05T14:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47273",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:36" align="right">comment:36</div>

> I'm convinced that my problem is related to Windows update. I have Windows 7 installed on a partition on my laptop and almost never boot into it. It was really, really behind on updates, and Windows just kept on applying update and update (even after it told me there were no more updates to apply, it somehow managed to download some new updates....). It seems to have stopped updating now. Fingers crossed.

Yes, you are totally right about this problem.  Windows just does it again and again without really asking.

You know what I do?  I disconnect from the internet :)  But that is on a computer I rented from our IT just for this purpose, hard to do with a main computer.



---

archive/issue_comments_047274.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -23,7 +23,7 @@\n * [patch-2.5.9.p1.spkg](http://boxen.math.washington.edu/home/dima/packages/patch-2.5.9.p1.spkg), #11232\n * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119\n * [pari-2.4.3.alpha.p6.spkg](http://boxen.math.washington.edu/home/dima/packages/pari-2.4.3.alpha.p6.spkg), #10240\n-* [atlas-3.8.4.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/atlas-3.8.4.spkg), #11494 and #10266\n+* [atlas-3.8.4.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/atlas-3.8.4.spkg), #11494 and #10226\n * [tachyon-0.98.8.p4.spkg](http://sage.math.washington.edu/home/kcrisman/tachyon-0.98.9.p4.spkg), #11504\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497\n * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547\n``````\n",
    "created_at": "2011-07-12T14:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47274",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -23,7 +23,7 @@
 * [patch-2.5.9.p1.spkg](http://boxen.math.washington.edu/home/dima/packages/patch-2.5.9.p1.spkg), #11232
 * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119
 * [pari-2.4.3.alpha.p6.spkg](http://boxen.math.washington.edu/home/dima/packages/pari-2.4.3.alpha.p6.spkg), #10240
-* [atlas-3.8.4.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/atlas-3.8.4.spkg), #11494 and #10266
+* [atlas-3.8.4.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/atlas-3.8.4.spkg), #11494 and #10226
 * [tachyon-0.98.8.p4.spkg](http://sage.math.washington.edu/home/kcrisman/tachyon-0.98.9.p4.spkg), #11504
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497
 * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547
``````




---

archive/issue_comments_047275.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nFLINT spkg now references the new p8 ([re]based on the latest p7 from #11246), located on `spkg-upload`.",
    "created_at": "2011-07-12T18:14:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47275",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:38" align="right">comment:38</div>

FLINT spkg now references the new p8 ([re]based on the latest p7 from #11246), located on `spkg-upload`.



---

archive/issue_comments_047276.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,23 +1,23 @@\n The goal of this ticket is that a person can:\n \n-1. Install cygwin and certain standard cygwin packages (listed below).\n+1. Install Cygwin and certain standard Cygwin packages (listed below).\n \n-2. Extract the Sage tarball and type \"make\"\n+2. Extract the Sage tarball and type \"`make`\"\n \n-and have everything build automatically with no errors.   The goal is *not* that the resulting build work or sage startup.  That will be for a later ticket. \n- \n+and have everything build automatically with no errors.   The goal is **not** that the resulting build works or Sage starts up.  That will be for a later ticket.\n+\n ---\n \n ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)\n \n ### Cygwin prereqs\n-* Be sure to install file, liblapack, liblapack0, liblapack-devel\n-* Probably also need libiconv and openssl\n-* Since we will go with #11232, install patch\n-* On Windows 7 (or both) install libncurses-devel\n-* Don't forget fortran\n-* Make sure you download all gcc and g++ so the versions match\n-* Also, don't forget to `export SAGE_PORT=yes`!\n+* Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n+* Probably also need `libiconv` and `openssl`.\n+* Since we will go with #11232, install `patch`.\n+* On Windows 7 (or both) install `libncurses-devel`.\n+* Don't forget `fortran`.\n+* Make sure you download all `gcc` and `g++` so the versions match.\n+* Also, **don't forget to** `export SAGE_PORT=yes`!\n \n ### Spkgs\n * [patch-2.5.9.p1.spkg](http://boxen.math.washington.edu/home/dima/packages/patch-2.5.9.p1.spkg), #11232\n@@ -27,13 +27,13 @@\n * [tachyon-0.98.8.p4.spkg](http://sage.math.washington.edu/home/kcrisman/tachyon-0.98.9.p4.spkg), #11504\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497\n * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547\n-* [flint-1.5.0.p7.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg), #11547 and #11246\n+* [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg), #11547 and #11246\n * [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg), #11547\n * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245\n * [singular-3-1-1-4.p10.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-1-4.p10.spkg), #11550\n-* When building the Sage library, you will need to do the patch at [Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499\n+* When building the Sage library, you will need to apply [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499\n \n-This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL)\n+This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).\n \n ---\n \n@@ -41,45 +41,46 @@\n \n \n \n-I have put a binary of my cygwin build here:\n+I have put a binary of my Cygwin build here:\n \n http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz\n \n-Things like \"sage -ipython\" and many non-sage imports work.  Just starting Sage doesn't, maybe because of the Sage<-->pynac binding not building. \n+Things like \"`sage -ipython`\" and many non-Sage imports work.  Just starting Sage doesn't, maybe because of the Sage<-->pynac binding not building.\n \n Related tickets:\n \n-* #6919, #6975 -- flint\n+* #6919, #6975 -- FLINT\n * #6974 -- make dummy packages for all the GNU crypto stuff\n * #6976 -- numpy\n * #6978 -- matplotlib [This is the Trac macro *invalid -- latest version works* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- latest version works-macro)\n * #6982 -- atlas and linbox\n * #6984 -- lapack dummy package\n-* #7005 -- singular -- port to cygwin  (needs_work)\n-* #7015 -- cygwin port -- ratpoints -- don't build \n-* #7282 -- port jinja to install on cygwin\n-* #7308 -- cliquer's spkg-install does not work on cygwin\n-* #7319 -- gdmodule requires libiconv on cygwin\n-* #7321 -- numpy fails to build on cygwin\n+* #7005 -- singular -- port to Cygwin  (needs_work)\n+* #7015 -- Cygwin port -- ratpoints -- don't build \n+* #7282 -- port jinja to install on Cygwin\n+* #7308 -- cliquer's `spkg-install` does not work on Cygwin\n+* #7319 -- gdmodule requires libiconv on Cygwin\n+* #7321 -- numpy fails to build on Cygwin\n * #7335 -- tachyon fails to build on Cygwin\n * #7336 -- boehm_gc fails to build on Cygwin\n-* #7337 -- PolyBoRi fails to build on cygwin\n-* #7338 -- Singular fails to build on cygwin\n+* #7337 -- PolyBoRi fails to build on Cygwin\n+* #7338 -- Singular fails to build on Cygwin\n * #8257 -- gd-2.0.35.p4 fails to build\n-* #8261 -- cygwin: mpfr fails 1 test in its test suite on windows\n+* #8261 -- Cygwin: MPFR fails 1 test in its test suite on Windows\n * #8267 -- ratpoints is broken again\n-* #8269 -- maxima does not build on cygwin, possibly due to ECL bug.\n-* #8278 -- cvxopt doesn't build on cygwin/windows due to missing complex.h\n-* #8279 -- cygwin: cliquer names the library incorrectly for cygwin\n-* #8280 -- zn_poly shared library named incorrectly on cygwin\n+* #8269 -- Maxima does not build on Cygwin, possibly due to ECL bug.\n+* #8278 -- cvxopt doesn't build on Cygwin/Windows due to missing `complex.h`\n+* #8279 -- Cygwin: cliquer names the library incorrectly for Cygwin\n+* #8280 -- zn_poly shared library named incorrectly on Cygwin\n    \n-Required cygwin packages beyond the usual:\n+Required Cygwin packages beyond the usual:\n \n * GCC 4.3.2\n-* gfortran\n-* libncurses-devel\n-* lapack\n-* openssl-devel\n-* libiconv -- needed when building R (and it has to be libiconv\n+* `gfortran`\n+* `libncurses-devel`\n+* `lapack`\n+* `openssl-devel`\n+* `libiconv` -- needed when building R (and it has to be `libiconv`)\n \n-We need to add a test for *all* of the above to the prereq script before making the cygwin port official.\n+We need to add a test for **all** of the above to the prereq script before making the Cygwin port official.\n+\n``````\n",
    "created_at": "2011-07-12T18:14:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47276",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,23 +1,23 @@
 The goal of this ticket is that a person can:
 
-1. Install cygwin and certain standard cygwin packages (listed below).
+1. Install Cygwin and certain standard Cygwin packages (listed below).
 
-2. Extract the Sage tarball and type "make"
+2. Extract the Sage tarball and type "`make`"
 
-and have everything build automatically with no errors.   The goal is *not* that the resulting build work or sage startup.  That will be for a later ticket. 
- 
+and have everything build automatically with no errors.   The goal is **not** that the resulting build works or Sage starts up.  That will be for a later ticket.
+
 ---
 
 ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)
 
 ### Cygwin prereqs
-* Be sure to install file, liblapack, liblapack0, liblapack-devel
-* Probably also need libiconv and openssl
-* Since we will go with #11232, install patch
-* On Windows 7 (or both) install libncurses-devel
-* Don't forget fortran
-* Make sure you download all gcc and g++ so the versions match
-* Also, don't forget to `export SAGE_PORT=yes`!
+* Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
+* Probably also need `libiconv` and `openssl`.
+* Since we will go with #11232, install `patch`.
+* On Windows 7 (or both) install `libncurses-devel`.
+* Don't forget `fortran`.
+* Make sure you download all `gcc` and `g++` so the versions match.
+* Also, **don't forget to** `export SAGE_PORT=yes`!
 
 ### Spkgs
 * [patch-2.5.9.p1.spkg](http://boxen.math.washington.edu/home/dima/packages/patch-2.5.9.p1.spkg), #11232
@@ -27,13 +27,13 @@
 * [tachyon-0.98.8.p4.spkg](http://sage.math.washington.edu/home/kcrisman/tachyon-0.98.9.p4.spkg), #11504
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497
 * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547
-* [flint-1.5.0.p7.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg), #11547 and #11246
+* [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg), #11547 and #11246
 * [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg), #11547
 * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245
 * [singular-3-1-1-4.p10.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-1-4.p10.spkg), #11550
-* When building the Sage library, you will need to do the patch at [Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499
+* When building the Sage library, you will need to apply [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499
 
-This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL)
+This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).
 
 ---
 
@@ -41,45 +41,46 @@
 
 
 
-I have put a binary of my cygwin build here:
+I have put a binary of my Cygwin build here:
 
 http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz
 
-Things like "sage -ipython" and many non-sage imports work.  Just starting Sage doesn't, maybe because of the Sage<-->pynac binding not building. 
+Things like "`sage -ipython`" and many non-Sage imports work.  Just starting Sage doesn't, maybe because of the Sage<-->pynac binding not building.
 
 Related tickets:
 
-* #6919, #6975 -- flint
+* #6919, #6975 -- FLINT
 * #6974 -- make dummy packages for all the GNU crypto stuff
 * #6976 -- numpy
 * #6978 -- matplotlib [This is the Trac macro *invalid -- latest version works* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- latest version works-macro)
 * #6982 -- atlas and linbox
 * #6984 -- lapack dummy package
-* #7005 -- singular -- port to cygwin  (needs_work)
-* #7015 -- cygwin port -- ratpoints -- don't build 
-* #7282 -- port jinja to install on cygwin
-* #7308 -- cliquer's spkg-install does not work on cygwin
-* #7319 -- gdmodule requires libiconv on cygwin
-* #7321 -- numpy fails to build on cygwin
+* #7005 -- singular -- port to Cygwin  (needs_work)
+* #7015 -- Cygwin port -- ratpoints -- don't build 
+* #7282 -- port jinja to install on Cygwin
+* #7308 -- cliquer's `spkg-install` does not work on Cygwin
+* #7319 -- gdmodule requires libiconv on Cygwin
+* #7321 -- numpy fails to build on Cygwin
 * #7335 -- tachyon fails to build on Cygwin
 * #7336 -- boehm_gc fails to build on Cygwin
-* #7337 -- PolyBoRi fails to build on cygwin
-* #7338 -- Singular fails to build on cygwin
+* #7337 -- PolyBoRi fails to build on Cygwin
+* #7338 -- Singular fails to build on Cygwin
 * #8257 -- gd-2.0.35.p4 fails to build
-* #8261 -- cygwin: mpfr fails 1 test in its test suite on windows
+* #8261 -- Cygwin: MPFR fails 1 test in its test suite on Windows
 * #8267 -- ratpoints is broken again
-* #8269 -- maxima does not build on cygwin, possibly due to ECL bug.
-* #8278 -- cvxopt doesn't build on cygwin/windows due to missing complex.h
-* #8279 -- cygwin: cliquer names the library incorrectly for cygwin
-* #8280 -- zn_poly shared library named incorrectly on cygwin
+* #8269 -- Maxima does not build on Cygwin, possibly due to ECL bug.
+* #8278 -- cvxopt doesn't build on Cygwin/Windows due to missing `complex.h`
+* #8279 -- Cygwin: cliquer names the library incorrectly for Cygwin
+* #8280 -- zn_poly shared library named incorrectly on Cygwin
    
-Required cygwin packages beyond the usual:
+Required Cygwin packages beyond the usual:
 
 * GCC 4.3.2
-* gfortran
-* libncurses-devel
-* lapack
-* openssl-devel
-* libiconv -- needed when building R (and it has to be libiconv
+* `gfortran`
+* `libncurses-devel`
+* `lapack`
+* `openssl-devel`
+* `libiconv` -- needed when building R (and it has to be `libiconv`)
 
-We need to add a test for *all* of the above to the prereq script before making the cygwin port official.
+We need to add a test for **all** of the above to the prereq script before making the Cygwin port official.
+
``````




---

archive/issue_comments_047277.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,9 @@\n ---\n \n ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)\n+\n+* As below with 4.7.1.alpha4 \n+* Ignore the crossed-out spkgs when testing from pre-release 4.7.2.alpha0 or later\n \n ### Cygwin prereqs\n * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n@@ -28,7 +31,7 @@\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497\n * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547\n * [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg), #11547 and #11246\n-* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg), #11547\n+* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg), #11635\n * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245\n * [singular-3-1-1-4.p10.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-1-4.p10.spkg), #11550\n * When building the Sage library, you will need to apply [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499\n``````\n",
    "created_at": "2011-07-29T19:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47277",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,9 @@
 ---
 
 ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)
+
+* As below with 4.7.1.alpha4 
+* Ignore the crossed-out spkgs when testing from pre-release 4.7.2.alpha0 or later
 
 ### Cygwin prereqs
 * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
@@ -28,7 +31,7 @@
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497
 * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547
 * [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg), #11547 and #11246
-* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg), #11547
+* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg), #11635
 * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245
 * [singular-3-1-1-4.p10.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-1-4.p10.spkg), #11550
 * When building the Sage library, you will need to apply [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499
``````




---

archive/issue_comments_047278.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -31,12 +31,14 @@\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497\n * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547\n * [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg), #11547 and #11246\n-* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg), #11635\n * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245\n * [singular-3-1-1-4.p10.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-1-4.p10.spkg), #11550\n * When building the Sage library, you will need to apply [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).\n+\n+Apparently the change in the following is no longer necessary, since 4.7.1.alpha3 - but see #11635 where this is being tracked now.\n+* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)\n \n ---\n \n``````\n",
    "created_at": "2011-08-01T14:18:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47278",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -31,12 +31,14 @@
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497
 * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547
 * [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg), #11547 and #11246
-* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg), #11635
 * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245
 * [singular-3-1-1-4.p10.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-1-4.p10.spkg), #11550
 * When building the Sage library, you will need to apply [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).
+
+Apparently the change in the following is no longer necessary, since 4.7.1.alpha3 - but see #11635 where this is being tracked now.
+* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)
 
 ---
 
``````




---

archive/issue_comments_047279.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,6 +16,7 @@\n ### Cygwin prereqs\n * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n * Probably also need `libiconv` and `openssl`.\n+* Might as well install `libgc-devel` - although it's not needed to build, it probably is to start.\n * Since we will go with #11232, install `patch`.\n * On Windows 7 (or both) install `libncurses-devel`.\n * Don't forget `fortran`.\n``````\n",
    "created_at": "2011-08-09T02:37:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47279",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,6 +16,7 @@
 ### Cygwin prereqs
 * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
 * Probably also need `libiconv` and `openssl`.
+* Might as well install `libgc-devel` - although it's not needed to build, it probably is to start.
 * Since we will go with #11232, install `patch`.
 * On Windows 7 (or both) install `libncurses-devel`.
 * Don't forget `fortran`.
``````




---

archive/issue_comments_047280.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,7 +15,7 @@\n \n ### Cygwin prereqs\n * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n-* Probably also need `libiconv` and `openssl`.\n+* Also need `libiconv` and `openssl` and `openssl-devel`.\n * Might as well install `libgc-devel` - although it's not needed to build, it probably is to start.\n * Since we will go with #11232, install `patch`.\n * On Windows 7 (or both) install `libncurses-devel`.\n``````\n",
    "created_at": "2011-08-23T17:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47280",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,7 +15,7 @@
 
 ### Cygwin prereqs
 * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
-* Probably also need `libiconv` and `openssl`.
+* Also need `libiconv` and `openssl` and `openssl-devel`.
 * Might as well install `libgc-devel` - although it's not needed to build, it probably is to start.
 * Since we will go with #11232, install `patch`.
 * On Windows 7 (or both) install `libncurses-devel`.
``````




---

archive/issue_comments_047281.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,8 +10,7 @@\n \n ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)\n \n-* As below with 4.7.1.alpha4 \n-* Ignore the crossed-out spkgs when testing from pre-release 4.7.2.alpha0 or later\n+* As below with 4.7.2.alpha1\n \n ### Cygwin prereqs\n * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n@@ -20,20 +19,15 @@\n * Since we will go with #11232, install `patch`.\n * On Windows 7 (or both) install `libncurses-devel`.\n * Don't forget `fortran`.\n-* Make sure you download all `gcc` and `g++` so the versions match.\n+* Make sure you download all `gcc` and `g++` so the versions match (in this case, gcc4 is the type we want).\n * Also, **don't forget to** `export SAGE_PORT=yes`!\n \n ### Spkgs\n-* [patch-2.5.9.p1.spkg](http://boxen.math.washington.edu/home/dima/packages/patch-2.5.9.p1.spkg), #11232\n * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119\n-* [pari-2.4.3.alpha.p6.spkg](http://boxen.math.washington.edu/home/dima/packages/pari-2.4.3.alpha.p6.spkg), #10240\n-* [atlas-3.8.4.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/atlas-3.8.4.spkg), #11494 and #10226\n * [tachyon-0.98.8.p4.spkg](http://sage.math.washington.edu/home/kcrisman/tachyon-0.98.9.p4.spkg), #11504\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497\n-* [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547\n-* [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg), #11547 and #11246\n+* [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p9.spkg), #11727\n * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245\n-* [singular-3-1-1-4.p10.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-1-4.p10.spkg), #11550\n * When building the Sage library, you will need to apply [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).\n``````\n",
    "created_at": "2011-08-24T19:37:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47281",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,8 +10,7 @@
 
 ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)
 
-* As below with 4.7.1.alpha4 
-* Ignore the crossed-out spkgs when testing from pre-release 4.7.2.alpha0 or later
+* As below with 4.7.2.alpha1
 
 ### Cygwin prereqs
 * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
@@ -20,20 +19,15 @@
 * Since we will go with #11232, install `patch`.
 * On Windows 7 (or both) install `libncurses-devel`.
 * Don't forget `fortran`.
-* Make sure you download all `gcc` and `g++` so the versions match.
+* Make sure you download all `gcc` and `g++` so the versions match (in this case, gcc4 is the type we want).
 * Also, **don't forget to** `export SAGE_PORT=yes`!
 
 ### Spkgs
-* [patch-2.5.9.p1.spkg](http://boxen.math.washington.edu/home/dima/packages/patch-2.5.9.p1.spkg), #11232
 * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119
-* [pari-2.4.3.alpha.p6.spkg](http://boxen.math.washington.edu/home/dima/packages/pari-2.4.3.alpha.p6.spkg), #10240
-* [atlas-3.8.4.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/atlas-3.8.4.spkg), #11494 and #10226
 * [tachyon-0.98.8.p4.spkg](http://sage.math.washington.edu/home/kcrisman/tachyon-0.98.9.p4.spkg), #11504
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497
-* [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg), #11547
-* [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg), #11547 and #11246
+* [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p9.spkg), #11727
 * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245
-* [singular-3-1-1-4.p10.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-1-4.p10.spkg), #11550
 * When building the Sage library, you will need to apply [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).
``````




---

archive/issue_comments_047282.json:
```json
{
    "body": "Changed keywords from none to **sd32**",
    "created_at": "2011-08-24T23:48:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47282",
    "user": "https://github.com/williamstein"
}
```

Changed keywords from none to **sd32**



---

archive/issue_comments_047283.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n \n ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)\n \n-* As below with 4.7.2.alpha1\n+* As below with 4.7.2.alpha2\n \n ### Cygwin prereqs\n * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n@@ -26,14 +26,16 @@\n * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119\n * [tachyon-0.98.8.p4.spkg](http://sage.math.washington.edu/home/kcrisman/tachyon-0.98.9.p4.spkg), #11504\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497\n-* [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p9.spkg), #11727\n+* [flint-1.5.0.p9.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p9.spkg), #11727\n * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245\n-* When building the Sage library, you will need to apply [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).\n \n Apparently the change in the following is no longer necessary, since 4.7.1.alpha3 - but see #11635 where this is being tracked now.\n * [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)\n+\n+In previous alphas or releases, see [the wiki](../wiki/CygwinPort) for more details.  For instance, when building the Sage library, you would have needed to apply\n+* [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499\n \n ---\n \n``````\n",
    "created_at": "2011-08-25T01:43:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47283",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 
 ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)
 
-* As below with 4.7.2.alpha1
+* As below with 4.7.2.alpha2
 
 ### Cygwin prereqs
 * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
@@ -26,14 +26,16 @@
 * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119
 * [tachyon-0.98.8.p4.spkg](http://sage.math.washington.edu/home/kcrisman/tachyon-0.98.9.p4.spkg), #11504
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497
-* [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p9.spkg), #11727
+* [flint-1.5.0.p9.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p9.spkg), #11727
 * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245
-* When building the Sage library, you will need to apply [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).
 
 Apparently the change in the following is no longer necessary, since 4.7.1.alpha3 - but see #11635 where this is being tracked now.
 * [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)
+
+In previous alphas or releases, see [the wiki](../wiki/CygwinPort) for more details.  For instance, when building the Sage library, you would have needed to apply
+* [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499
 
 ---
 
``````




---

archive/issue_comments_047284.json:
```json
{
    "body": "Changed keywords from **sd32** to **sd31 sd32**",
    "created_at": "2011-08-25T01:43:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47284",
    "user": "https://github.com/kcrisman"
}
```

Changed keywords from **sd32** to **sd31 sd32**



---

archive/issue_comments_047285.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -28,6 +28,9 @@\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497\n * [flint-1.5.0.p9.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p9.spkg), #11727\n * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245\n+* When building the Sage library, you will also need to apply the following\n+[patch at Trac 11744](https://github.com/sagemath/sage/files/ticket11499/trac_11744.patch.gz), #11744\n+\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).\n \n``````\n",
    "created_at": "2011-08-25T17:27:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47285",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -28,6 +28,9 @@
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497
 * [flint-1.5.0.p9.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p9.spkg), #11727
 * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245
+* When building the Sage library, you will also need to apply the following
+[patch at Trac 11744](https://github.com/sagemath/sage/files/ticket11499/trac_11744.patch.gz), #11744
+
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).
 
``````




---

archive/issue_comments_047286.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -28,8 +28,7 @@\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497\n * [flint-1.5.0.p9.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p9.spkg), #11727\n * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245\n-* When building the Sage library, you will also need to apply the following\n-[patch at Trac 11744](https://github.com/sagemath/sage/files/ticket11499/trac_11744.patch.gz), #11744\n+* When building the Sage library, you will also need to apply the following [patch at Trac 11744](https://github.com/sagemath/sage/files/ticket11499/trac_11744.patch.gz), #11744\n \n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).\n``````\n",
    "created_at": "2011-08-25T17:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47286",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -28,8 +28,7 @@
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497
 * [flint-1.5.0.p9.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p9.spkg), #11727
 * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245
-* When building the Sage library, you will also need to apply the following
-[patch at Trac 11744](https://github.com/sagemath/sage/files/ticket11499/trac_11744.patch.gz), #11744
+* When building the Sage library, you will also need to apply the following [patch at Trac 11744](https://github.com/sagemath/sage/files/ticket11499/trac_11744.patch.gz), #11744
 
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).
``````




---

archive/issue_comments_047287.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n \n ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)\n \n-* As below with 4.7.2.alpha2\n+* As below with 4.7.2.alpha3\n \n ### Cygwin prereqs\n * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n@@ -24,11 +24,8 @@\n \n ### Spkgs\n * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119\n-* [tachyon-0.98.8.p4.spkg](http://sage.math.washington.edu/home/kcrisman/tachyon-0.98.9.p4.spkg), #11504\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497\n-* [flint-1.5.0.p9.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p9.spkg), #11727\n * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245\n-* When building the Sage library, you will also need to apply the following [patch at Trac 11744](https://github.com/sagemath/sage/files/ticket11499/trac_11744.patch.gz), #11744\n \n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).\n@@ -36,8 +33,7 @@\n Apparently the change in the following is no longer necessary, since 4.7.1.alpha3 - but see #11635 where this is being tracked now.\n * [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)\n \n-In previous alphas or releases, see [the wiki](../wiki/CygwinPort) for more details.  For instance, when building the Sage library, you would have needed to apply\n-* [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499\n+See [the wiki](../wiki/CygwinPort) for other details.\n \n ---\n \n``````\n",
    "created_at": "2011-10-09T01:37:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47287",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 
 ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)
 
-* As below with 4.7.2.alpha2
+* As below with 4.7.2.alpha3
 
 ### Cygwin prereqs
 * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
@@ -24,11 +24,8 @@
 
 ### Spkgs
 * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119
-* [tachyon-0.98.8.p4.spkg](http://sage.math.washington.edu/home/kcrisman/tachyon-0.98.9.p4.spkg), #11504
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497
-* [flint-1.5.0.p9.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p9.spkg), #11727
 * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245
-* When building the Sage library, you will also need to apply the following [patch at Trac 11744](https://github.com/sagemath/sage/files/ticket11499/trac_11744.patch.gz), #11744
 
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).
@@ -36,8 +33,7 @@
 Apparently the change in the following is no longer necessary, since 4.7.1.alpha3 - but see #11635 where this is being tracked now.
 * [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)
 
-In previous alphas or releases, see [the wiki](../wiki/CygwinPort) for more details.  For instance, when building the Sage library, you would have needed to apply
-* [the patch at Trac 11499](https://github.com/sagemath/sage/files/ticket11499/trac_11499.patch.gz), #11499
+See [the wiki](../wiki/CygwinPort) for other details.
 
 ---
 
``````




---

archive/issue_comments_047288.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -25,8 +25,7 @@\n ### Spkgs\n * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497\n-* [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245\n-\n+* [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).\n \n``````\n",
    "created_at": "2011-11-27T15:26:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47288",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -25,8 +25,7 @@
 ### Spkgs
 * [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497
-* [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg), #11245
-
+* [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).
 
``````




---

archive/issue_comments_047289.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n \n ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)\n \n-* As below with 4.7.2.alpha3\n+* As below with 4.7.2\n \n ### Cygwin prereqs\n * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n@@ -20,11 +20,12 @@\n * On Windows 7 (or both) install `libncurses-devel`.\n * Don't forget `fortran`.\n * Make sure you download all `gcc` and `g++` so the versions match (in this case, gcc4 is the type we want).\n+* Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). Probably also it's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.\n * Also, **don't forget to** `export SAGE_PORT=yes`!\n \n ### Spkgs\n-* [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119\n-* [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497\n+* [ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg), #11884\n+* [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)\n * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).\n``````\n",
    "created_at": "2011-12-01T14:00:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47289",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 
 ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)
 
-* As below with 4.7.2.alpha3
+* As below with 4.7.2
 
 ### Cygwin prereqs
 * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
@@ -20,11 +20,12 @@
 * On Windows 7 (or both) install `libncurses-devel`.
 * Don't forget `fortran`.
 * Make sure you download all `gcc` and `g++` so the versions match (in this case, gcc4 is the type we want).
+* Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). Probably also it's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.
 * Also, **don't forget to** `export SAGE_PORT=yes`!
 
 ### Spkgs
-* [ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg), #11119
-* [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497
+* [ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg), #11884
+* [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)
 * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).
``````




---

archive/issue_comments_047290.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,13 +4,14 @@\n \n 2. Extract the Sage tarball and type \"`make`\"\n \n-and have everything build automatically with no errors.   The goal is **not** that the resulting build works or Sage starts up.  That will be for a later ticket.\n+and have everything build automatically with no errors.   The goal is **not** that the resulting build works or Sage starts up.  That will be for a later ticket.  Adding checks for all these prereqs will also be part of a future ticket.\n \n ---\n \n ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)\n \n * As below with 4.7.2\n+* Check which are already included if you are using an alpha of 4.8\n \n ### Cygwin prereqs\n * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n@@ -25,21 +26,17 @@\n \n ### Spkgs\n * [ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg), #11884\n+* [maxima-5.23.2.p2.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/maxima-5.23.2.p2.spkg), #11966\n+* [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)\n-* [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245\n \n-This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).\n-\n-Apparently the change in the following is no longer necessary, since 4.7.1.alpha3 - but see #11635 where this is being tracked now.\n-* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)\n+This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).\n \n See [the wiki](../wiki/CygwinPort) for other details.\n \n ---\n \n-Older instructions:\n-\n-\n+Much older info, archived:\n \n I have put a binary of my Cygwin build here:\n \n@@ -47,32 +44,6 @@\n \n Things like \"`sage -ipython`\" and many non-Sage imports work.  Just starting Sage doesn't, maybe because of the Sage<-->pynac binding not building.\n \n-Related tickets:\n-\n-* #6919, #6975 -- FLINT\n-* #6974 -- make dummy packages for all the GNU crypto stuff\n-* #6976 -- numpy\n-* #6978 -- matplotlib [This is the Trac macro *invalid -- latest version works* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- latest version works-macro)\n-* #6982 -- atlas and linbox\n-* #6984 -- lapack dummy package\n-* #7005 -- singular -- port to Cygwin  (needs_work)\n-* #7015 -- Cygwin port -- ratpoints -- don't build \n-* #7282 -- port jinja to install on Cygwin\n-* #7308 -- cliquer's `spkg-install` does not work on Cygwin\n-* #7319 -- gdmodule requires libiconv on Cygwin\n-* #7321 -- numpy fails to build on Cygwin\n-* #7335 -- tachyon fails to build on Cygwin\n-* #7336 -- boehm_gc fails to build on Cygwin\n-* #7337 -- PolyBoRi fails to build on Cygwin\n-* #7338 -- Singular fails to build on Cygwin\n-* #8257 -- gd-2.0.35.p4 fails to build\n-* #8261 -- Cygwin: MPFR fails 1 test in its test suite on Windows\n-* #8267 -- ratpoints is broken again\n-* #8269 -- Maxima does not build on Cygwin, possibly due to ECL bug.\n-* #8278 -- cvxopt doesn't build on Cygwin/Windows due to missing `complex.h`\n-* #8279 -- Cygwin: cliquer names the library incorrectly for Cygwin\n-* #8280 -- zn_poly shared library named incorrectly on Cygwin\n-   \n Required Cygwin packages beyond the usual:\n \n * GCC 4.3.2\n``````\n",
    "created_at": "2011-12-03T04:02:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47290",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,13 +4,14 @@
 
 2. Extract the Sage tarball and type "`make`"
 
-and have everything build automatically with no errors.   The goal is **not** that the resulting build works or Sage starts up.  That will be for a later ticket.
+and have everything build automatically with no errors.   The goal is **not** that the resulting build works or Sage starts up.  That will be for a later ticket.  Adding checks for all these prereqs will also be part of a future ticket.
 
 ---
 
 ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)
 
 * As below with 4.7.2
+* Check which are already included if you are using an alpha of 4.8
 
 ### Cygwin prereqs
 * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
@@ -25,21 +26,17 @@
 
 ### Spkgs
 * [ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg), #11884
+* [maxima-5.23.2.p2.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/maxima-5.23.2.p2.spkg), #11966
+* [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)
-* [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245
 
-This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)) and the continuing saga of building Maxima effectively (see #11502, #11260, but also some recent probable changes in ECL).
-
-Apparently the change in the following is no longer necessary, since 4.7.1.alpha3 - but see #11635 where this is being tracked now.
-* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)
+This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).
 
 See [the wiki](../wiki/CygwinPort) for other details.
 
 ---
 
-Older instructions:
-
-
+Much older info, archived:
 
 I have put a binary of my Cygwin build here:
 
@@ -47,32 +44,6 @@
 
 Things like "`sage -ipython`" and many non-Sage imports work.  Just starting Sage doesn't, maybe because of the Sage<-->pynac binding not building.
 
-Related tickets:
-
-* #6919, #6975 -- FLINT
-* #6974 -- make dummy packages for all the GNU crypto stuff
-* #6976 -- numpy
-* #6978 -- matplotlib [This is the Trac macro *invalid -- latest version works* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#invalid -- latest version works-macro)
-* #6982 -- atlas and linbox
-* #6984 -- lapack dummy package
-* #7005 -- singular -- port to Cygwin  (needs_work)
-* #7015 -- Cygwin port -- ratpoints -- don't build 
-* #7282 -- port jinja to install on Cygwin
-* #7308 -- cliquer's `spkg-install` does not work on Cygwin
-* #7319 -- gdmodule requires libiconv on Cygwin
-* #7321 -- numpy fails to build on Cygwin
-* #7335 -- tachyon fails to build on Cygwin
-* #7336 -- boehm_gc fails to build on Cygwin
-* #7337 -- PolyBoRi fails to build on Cygwin
-* #7338 -- Singular fails to build on Cygwin
-* #8257 -- gd-2.0.35.p4 fails to build
-* #8261 -- Cygwin: MPFR fails 1 test in its test suite on Windows
-* #8267 -- ratpoints is broken again
-* #8269 -- Maxima does not build on Cygwin, possibly due to ECL bug.
-* #8278 -- cvxopt doesn't build on Cygwin/Windows due to missing `complex.h`
-* #8279 -- Cygwin: cliquer names the library incorrectly for Cygwin
-* #8280 -- zn_poly shared library named incorrectly on Cygwin
-   
 Required Cygwin packages beyond the usual:
 
 * GCC 4.3.2
``````




---

archive/issue_comments_047291.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,6 +21,8 @@\n * On Windows 7 (or both) install `libncurses-devel`.\n * Don't forget `fortran`.\n * Make sure you download all `gcc` and `g++` so the versions match (in this case, gcc4 is the type we want).\n+* We also need make and perl\n+* m4 is currently needed because of the prereq script, but once #12112 is closed, it won't be.\n * Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). Probably also it's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.\n * Also, **don't forget to** `export SAGE_PORT=yes`!\n \n``````\n",
    "created_at": "2011-12-03T15:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47291",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,6 +21,8 @@
 * On Windows 7 (or both) install `libncurses-devel`.
 * Don't forget `fortran`.
 * Make sure you download all `gcc` and `g++` so the versions match (in this case, gcc4 is the type we want).
+* We also need make and perl
+* m4 is currently needed because of the prereq script, but once #12112 is closed, it won't be.
 * Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). Probably also it's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.
 * Also, **don't forget to** `export SAGE_PORT=yes`!
 
``````




---

archive/issue_comments_047292.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,6 +12,7 @@\n \n * As below with 4.7.2\n * Check which are already included if you are using an alpha of 4.8\n+* Warning! The new MPIR spkg in 4.8.alpha0 does not seem to work.\n \n ### Cygwin prereqs\n * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n@@ -33,6 +34,9 @@\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).\n+\n+If you are using 4.8.alpha0 or later, you will probably run into \n+* #12115 - MPIR isn't building.  No functional spkg yet.\n \n See [the wiki](../wiki/CygwinPort) for other details.\n \n``````\n",
    "created_at": "2011-12-03T21:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47292",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,6 +12,7 @@
 
 * As below with 4.7.2
 * Check which are already included if you are using an alpha of 4.8
+* Warning! The new MPIR spkg in 4.8.alpha0 does not seem to work.
 
 ### Cygwin prereqs
 * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
@@ -33,6 +34,9 @@
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).
+
+If you are using 4.8.alpha0 or later, you will probably run into 
+* #12115 - MPIR isn't building.  No functional spkg yet.
 
 See [the wiki](../wiki/CygwinPort) for other details.
 
``````




---

archive/issue_comments_047293.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -31,12 +31,13 @@\n * [ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg), #11884\n * [maxima-5.23.2.p2.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/maxima-5.23.2.p2.spkg), #11966\n * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245\n+* [singular-3-1-3-3.p2.spkg](http://boxen.math.washington.edu/home/dima/packages/singular-3-1-3-3.p2.spkg), #12089\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).\n \n If you are using 4.8.alpha0 or later, you will probably run into \n-* #12115 - MPIR isn't building.  No functional spkg yet.\n+* #12115 - MPIR isn't building.  There is a functioning spkg at that ticket, but we are waiting on whether there is a better change available.\n \n See [the wiki](../wiki/CygwinPort) for other details.\n \n``````\n",
    "created_at": "2011-12-07T01:06:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47293",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -31,12 +31,13 @@
 * [ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg), #11884
 * [maxima-5.23.2.p2.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/maxima-5.23.2.p2.spkg), #11966
 * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245
+* [singular-3-1-3-3.p2.spkg](http://boxen.math.washington.edu/home/dima/packages/singular-3-1-3-3.p2.spkg), #12089
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).
 
 If you are using 4.8.alpha0 or later, you will probably run into 
-* #12115 - MPIR isn't building.  No functional spkg yet.
+* #12115 - MPIR isn't building.  There is a functioning spkg at that ticket, but we are waiting on whether there is a better change available.
 
 See [the wiki](../wiki/CygwinPort) for other details.
 
``````




---

archive/issue_comments_047294.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -31,7 +31,7 @@\n * [ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg), #11884\n * [maxima-5.23.2.p2.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/maxima-5.23.2.p2.spkg), #11966\n * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245\n-* [singular-3-1-3-3.p2.spkg](http://boxen.math.washington.edu/home/dima/packages/singular-3-1-3-3.p2.spkg), #12089\n+* [singular-3-1-3-3.p1-cygwindraft.spkg](http://boxen.math.washington.edu/home/dima/packages/singular-3-1-3-3.p2.spkg), #12089\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).\n``````\n",
    "created_at": "2011-12-07T04:16:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47294",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -31,7 +31,7 @@
 * [ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg), #11884
 * [maxima-5.23.2.p2.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/maxima-5.23.2.p2.spkg), #11966
 * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245
-* [singular-3-1-3-3.p2.spkg](http://boxen.math.washington.edu/home/dima/packages/singular-3-1-3-3.p2.spkg), #12089
+* [singular-3-1-3-3.p1-cygwindraft.spkg](http://boxen.math.washington.edu/home/dima/packages/singular-3-1-3-3.p2.spkg), #12089
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).
``````




---

archive/issue_comments_047295.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -31,7 +31,7 @@\n * [ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg), #11884\n * [maxima-5.23.2.p2.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/maxima-5.23.2.p2.spkg), #11966\n * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245\n-* [singular-3-1-3-3.p1-cygwindraft.spkg](http://boxen.math.washington.edu/home/dima/packages/singular-3-1-3-3.p2.spkg), #12089\n+* [singular-3-1-3-3.p2.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-3-3.p2.spkg), #12089\n * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).\n``````\n",
    "created_at": "2011-12-10T03:51:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47295",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -31,7 +31,7 @@
 * [ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg), #11884
 * [maxima-5.23.2.p2.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/maxima-5.23.2.p2.spkg), #11966
 * [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245
-* [singular-3-1-3-3.p1-cygwindraft.spkg](http://boxen.math.washington.edu/home/dima/packages/singular-3-1-3-3.p2.spkg), #12089
+* [singular-3-1-3-3.p2.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-3-3.p2.spkg), #12089
 * [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).
``````




---

archive/issue_comments_047296.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nFor info, to build the python spkg 2.7.3-p0 from sage 5.1.rc1, at least the patches from python issue tracker issues 9665, 14437, 14438 are needed.",
    "created_at": "2012-07-10T21:34:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47296",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:58" align="right">comment:58</div>

For info, to build the python spkg 2.7.3-p0 from sage 5.1.rc1, at least the patches from python issue tracker issues 9665, 14437, 14438 are needed.



---

archive/issue_comments_047297.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nIf you can also update [CygwinPort](../wiki/CygwinPort), that would be wonderful!  (This is just for building - that is for *everything*.)",
    "created_at": "2012-07-11T02:04:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47297",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:59" align="right">comment:59</div>

If you can also update [CygwinPort](../wiki/CygwinPort), that would be wonderful!  (This is just for building - that is for *everything*.)



---

archive/issue_comments_047298.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nI'll do when I'm finished (if that ever happens).\nI've just beaten MPIR, don't know what's coming next.\nThe main issue is that everything is so slow....",
    "created_at": "2012-07-11T02:06:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47298",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:60" align="right">comment:60</div>

I'll do when I'm finished (if that ever happens).
I've just beaten MPIR, don't know what's coming next.
The main issue is that everything is so slow....



---

archive/issue_comments_047299.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\n> I'll do when I'm finished (if that ever happens).\n\nYeah, just be sure to keep every issue if you only know it works on one kind of Windows.\n> I've just beaten MPIR, don't know what's coming next.\n\nHopefully just #12089 and then the Pari segfault?  We'll see.\n> The main issue is that everything is so slow....\n\nTrue.  And rebasing.",
    "created_at": "2012-07-11T02:08:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47299",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:61" align="right">comment:61</div>

> I'll do when I'm finished (if that ever happens).

Yeah, just be sure to keep every issue if you only know it works on one kind of Windows.
> I've just beaten MPIR, don't know what's coming next.

Hopefully just #12089 and then the Pari segfault?  We'll see.
> The main issue is that everything is so slow....

True.  And rebasing.



---

archive/issue_comments_047300.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,6 +7,8 @@\n and have everything build automatically with no errors.   The goal is **not** that the resulting build works or Sage starts up.  That will be for a later ticket.  Adding checks for all these prereqs will also be part of a future ticket.\n \n ---\n+\n+# Most recent instructions at http://trac.sagemath.org/sage_trac/wiki/CygwinPort and [this sage-devel thread](https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/Gpx6aC7CEKo)\n \n ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)\n \n``````\n",
    "created_at": "2012-10-05T14:40:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47300",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,6 +7,8 @@
 and have everything build automatically with no errors.   The goal is **not** that the resulting build works or Sage starts up.  That will be for a later ticket.  Adding checks for all these prereqs will also be part of a future ticket.
 
 ---
+
+# Most recent instructions at http://trac.sagemath.org/sage_trac/wiki/CygwinPort and [this sage-devel thread](https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/Gpx6aC7CEKo)
 
 ## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)
 
``````




---

archive/issue_comments_047301.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,13 +8,11 @@\n \n ---\n \n-# Most recent instructions at http://trac.sagemath.org/sage_trac/wiki/CygwinPort and [this sage-devel thread](https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/Gpx6aC7CEKo)\n+## Most recent trials and a lot more status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort\n \n-## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)\n+## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)\n \n-* As below with 4.7.2\n-* Check which are already included if you are using an alpha of 4.8\n-* Warning! The new MPIR spkg in 4.8.alpha0 does not seem to work.\n+* As below with 5.5.rc0\n \n ### Cygwin prereqs\n * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n@@ -27,21 +25,20 @@\n * We also need make and perl\n * m4 is currently needed because of the prereq script, but once #12112 is closed, it won't be.\n * Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). Probably also it's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.\n+* Similarly, do not *test* without making sure that `SAGE_TESTDIR` does not contain spaces.\n * Also, **don't forget to** `export SAGE_PORT=yes`!\n \n ### Spkgs\n-* [ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg), #11884\n-* [maxima-5.23.2.p2.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/maxima-5.23.2.p2.spkg), #11966\n-* [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245\n-* [singular-3-1-3-3.p2.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-3-3.p2.spkg), #12089\n-* [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)\n \n-This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).\n+* #11635 (NTL)\n+* #13324 (ECL, but *not* including #9167 yet)\n+* #13137 (MPIR)\n+* #13755 (linbox, on Win 7)\n+* #13325 (eclib)\n+* #13319 (Python, based on #13631)\n+* #13799 (cvxopt, on XP - no spkg available yet, may have to `touch spkg/installed/cvxopt-1.1.5` manually if it fails)\n \n-If you are using 4.8.alpha0 or later, you will probably run into \n-* #12115 - MPIR isn't building.  There is a functioning spkg at that ticket, but we are waiting on whether there is a better change available.\n-\n-See [the wiki](../wiki/CygwinPort) for other details.\n+This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.\n \n ---\n \n``````\n",
    "created_at": "2012-12-05T18:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47301",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,13 +8,11 @@
 
 ---
 
-# Most recent instructions at http://trac.sagemath.org/sage_trac/wiki/CygwinPort and [this sage-devel thread](https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/Gpx6aC7CEKo)
+## Most recent trials and a lot more status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort
 
-## Current instructions (work on Windows XP with Cygwin 1.7.3 and Windows 7 with Cygwin 1.7.9)
+## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)
 
-* As below with 4.7.2
-* Check which are already included if you are using an alpha of 4.8
-* Warning! The new MPIR spkg in 4.8.alpha0 does not seem to work.
+* As below with 5.5.rc0
 
 ### Cygwin prereqs
 * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
@@ -27,21 +25,20 @@
 * We also need make and perl
 * m4 is currently needed because of the prereq script, but once #12112 is closed, it won't be.
 * Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). Probably also it's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.
+* Similarly, do not *test* without making sure that `SAGE_TESTDIR` does not contain spaces.
 * Also, **don't forget to** `export SAGE_PORT=yes`!
 
 ### Spkgs
-* [ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg), #11884
-* [maxima-5.23.2.p2.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/maxima-5.23.2.p2.spkg), #11966
-* [cddlib-094f.p9.spkg](http://sage.math.washington.edu/home/kcrisman/cddlib-094f.p9.spkg),  [networkx-1.2.p2.spkg](http://sage.math.washington.edu/home/dima/packages/networkx-1.2.p2.spkg) #11245
-* [singular-3-1-3-3.p2.spkg](http://sage.math.washington.edu/home/kcrisman/singular-3-1-3-3.p2.spkg), #12089
-* [twisted-9.0.p3.spkg](http://sage.math.washington.edu/home/kcrisman/twisted-9.0.p3.spkg), #11497 (appears to be not necessary any more---but YMMV)
 
-This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).
+* #11635 (NTL)
+* #13324 (ECL, but *not* including #9167 yet)
+* #13137 (MPIR)
+* #13755 (linbox, on Win 7)
+* #13325 (eclib)
+* #13319 (Python, based on #13631)
+* #13799 (cvxopt, on XP - no spkg available yet, may have to `touch spkg/installed/cvxopt-1.1.5` manually if it fails)
 
-If you are using 4.8.alpha0 or later, you will probably run into 
-* #12115 - MPIR isn't building.  There is a functioning spkg at that ticket, but we are waiting on whether there is a better change available.
-
-See [the wiki](../wiki/CygwinPort) for other details.
+This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.
 
 ---
 
``````




---

archive/issue_comments_047302.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,6 +13,7 @@\n ## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)\n \n * As below with 5.5.rc0\n+* You will have to add patches for #13325 (which is there) and #13802 (no patch yet)\n \n ### Cygwin prereqs\n * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n``````\n",
    "created_at": "2012-12-05T21:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47302",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,6 +13,7 @@
 ## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)
 
 * As below with 5.5.rc0
+* You will have to add patches for #13325 (which is there) and #13802 (no patch yet)
 
 ### Cygwin prereqs
 * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
``````




---

archive/issue_comments_047303.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,7 +13,19 @@\n ## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)\n \n * As below with 5.5.rc0\n-* You will have to add patches for #13325 (which is there) and #13802 (no patch yet)\n+* You will have to add patches for #13325 and #13802 during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)\n+\n+```\n+./sage -sh\n+cd devel/sage\n+<import the patches - you may need to make ~/.hgrc>\n+cd ../..\n+./sage -b\n+<assuming all goes well here>\n+touch spkg/installed/sage-5.5.rc0 # or whatever the version number is\n+exit\n+```\n+  which will bring you back to your normal shell.\n \n ### Cygwin prereqs\n * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n``````\n",
    "created_at": "2012-12-06T02:20:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47303",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,7 +13,19 @@
 ## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)
 
 * As below with 5.5.rc0
-* You will have to add patches for #13325 (which is there) and #13802 (no patch yet)
+* You will have to add patches for #13325 and #13802 during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)
+
+```
+./sage -sh
+cd devel/sage
+<import the patches - you may need to make ~/.hgrc>
+cd ../..
+./sage -b
+<assuming all goes well here>
+touch spkg/installed/sage-5.5.rc0 # or whatever the version number is
+exit
+```
+  which will bring you back to your normal shell.
 
 ### Cygwin prereqs
 * Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
``````




---

archive/issue_comments_047304.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,9 +11,38 @@\n ## Most recent trials and a lot more status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort\n \n ## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)\n+As below with Sage 5.5.rc0\n \n-* As below with 5.5.rc0\n-* You will have to add patches for #13325 and #13802 during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)\n+### Cygwin prereqs\n+Here is what to install from Cygwin - use the usual stable binaries.\n+* `file`, `patch`\n+* `liblapack`, `liblapack0`, `liblapack-devel`\n+* `libiconv`, `openssl`, `openssl-devel`\n+* `libgc-devel` - although it's not needed to build, it is to start\n+* `libncurses-devel`\n+* `make`, `perl`, `m4`\n+* Use all `gcc` and `g++` and `fortran`; the versions **must** match, and `gcc4` is the type we want\n+Other instructions:\n+* Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). \n+* It's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.\n+* Similarly, do not *test* without making sure that `SAGE_TESTDIR` does not contain spaces.\n+* Also, **don't forget to** `export SAGE_PORT=yes`!\n+\n+We need to add a test for **all** of the above packages to the prereq script for Cygwin before making the Cygwin port official.\n+\n+\n+### Spkgs\n+Install the following spkgs ahead of time, e.g. in `SAGE_ROOT/spkg/standard/` before compiling\n+* #11635 (NTL)\n+* #13324 (ECL, but *not* including #9167 yet)\n+* #13137 (MPIR)\n+* #13755 (linbox, on Win 7)\n+* #13325 (eclib)\n+* #13319 (Python, based on #13631)\n+* #13799 (cvxopt, on XP - no spkg available yet, may have to `touch spkg/installed/cvxopt-1.1.5` manually if it fails)\n+\n+### Patches\n+You will have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)\n \n ```\n ./sage -sh\n@@ -27,50 +56,14 @@\n ```\n   which will bring you back to your normal shell.\n \n-### Cygwin prereqs\n-* Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.\n-* Also need `libiconv` and `openssl` and `openssl-devel`.\n-* Might as well install `libgc-devel` - although it's not needed to build, it probably is to start.\n-* Since we will go with #11232, install `patch`.\n-* On Windows 7 (or both) install `libncurses-devel`.\n-* Don't forget `fortran`.\n-* Make sure you download all `gcc` and `g++` so the versions match (in this case, gcc4 is the type we want).\n-* We also need make and perl\n-* m4 is currently needed because of the prereq script, but once #12112 is closed, it won't be.\n-* Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). Probably also it's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.\n-* Similarly, do not *test* without making sure that `SAGE_TESTDIR` does not contain spaces.\n-* Also, **don't forget to** `export SAGE_PORT=yes`!\n-\n-### Spkgs\n-\n-* #11635 (NTL)\n-* #13324 (ECL, but *not* including #9167 yet)\n-* #13137 (MPIR)\n-* #13755 (linbox, on Win 7)\n-* #13325 (eclib)\n-* #13319 (Python, based on #13631)\n-* #13799 (cvxopt, on XP - no spkg available yet, may have to `touch spkg/installed/cvxopt-1.1.5` manually if it fails)\n+Patches currently needed for:\n+* #13325\n+* #13802\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.\n \n ---\n \n-Much older info, archived:\n-\n-I have put a binary of my Cygwin build here:\n+There is (or was) a very old binary of Cygwin available here:\n \n http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz\n-\n-Things like \"`sage -ipython`\" and many non-Sage imports work.  Just starting Sage doesn't, maybe because of the Sage<-->pynac binding not building.\n-\n-Required Cygwin packages beyond the usual:\n-\n-* GCC 4.3.2\n-* `gfortran`\n-* `libncurses-devel`\n-* `lapack`\n-* `openssl-devel`\n-* `libiconv` -- needed when building R (and it has to be `libiconv`)\n-\n-We need to add a test for **all** of the above to the prereq script before making the Cygwin port official.\n-\n``````\n",
    "created_at": "2012-12-06T02:39:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47304",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,9 +11,38 @@
 ## Most recent trials and a lot more status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort
 
 ## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)
+As below with Sage 5.5.rc0
 
-* As below with 5.5.rc0
-* You will have to add patches for #13325 and #13802 during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)
+### Cygwin prereqs
+Here is what to install from Cygwin - use the usual stable binaries.
+* `file`, `patch`
+* `liblapack`, `liblapack0`, `liblapack-devel`
+* `libiconv`, `openssl`, `openssl-devel`
+* `libgc-devel` - although it's not needed to build, it is to start
+* `libncurses-devel`
+* `make`, `perl`, `m4`
+* Use all `gcc` and `g++` and `fortran`; the versions **must** match, and `gcc4` is the type we want
+Other instructions:
+* Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). 
+* It's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.
+* Similarly, do not *test* without making sure that `SAGE_TESTDIR` does not contain spaces.
+* Also, **don't forget to** `export SAGE_PORT=yes`!
+
+We need to add a test for **all** of the above packages to the prereq script for Cygwin before making the Cygwin port official.
+
+
+### Spkgs
+Install the following spkgs ahead of time, e.g. in `SAGE_ROOT/spkg/standard/` before compiling
+* #11635 (NTL)
+* #13324 (ECL, but *not* including #9167 yet)
+* #13137 (MPIR)
+* #13755 (linbox, on Win 7)
+* #13325 (eclib)
+* #13319 (Python, based on #13631)
+* #13799 (cvxopt, on XP - no spkg available yet, may have to `touch spkg/installed/cvxopt-1.1.5` manually if it fails)
+
+### Patches
+You will have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)
 
 ```
 ./sage -sh
@@ -27,50 +56,14 @@
 ```
   which will bring you back to your normal shell.
 
-### Cygwin prereqs
-* Be sure to install `file`, `liblapack`, `liblapack0`, `liblapack-devel`.
-* Also need `libiconv` and `openssl` and `openssl-devel`.
-* Might as well install `libgc-devel` - although it's not needed to build, it probably is to start.
-* Since we will go with #11232, install `patch`.
-* On Windows 7 (or both) install `libncurses-devel`.
-* Don't forget `fortran`.
-* Make sure you download all `gcc` and `g++` so the versions match (in this case, gcc4 is the type we want).
-* We also need make and perl
-* m4 is currently needed because of the prereq script, but once #12112 is closed, it won't be.
-* Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). Probably also it's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.
-* Similarly, do not *test* without making sure that `SAGE_TESTDIR` does not contain spaces.
-* Also, **don't forget to** `export SAGE_PORT=yes`!
-
-### Spkgs
-
-* #11635 (NTL)
-* #13324 (ECL, but *not* including #9167 yet)
-* #13137 (MPIR)
-* #13755 (linbox, on Win 7)
-* #13325 (eclib)
-* #13319 (Python, based on #13631)
-* #13799 (cvxopt, on XP - no spkg available yet, may have to `touch spkg/installed/cvxopt-1.1.5` manually if it fails)
+Patches currently needed for:
+* #13325
+* #13802
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.
 
 ---
 
-Much older info, archived:
-
-I have put a binary of my Cygwin build here:
+There is (or was) a very old binary of Cygwin available here:
 
 http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz
-
-Things like "`sage -ipython`" and many non-Sage imports work.  Just starting Sage doesn't, maybe because of the Sage<-->pynac binding not building.
-
-Required Cygwin packages beyond the usual:
-
-* GCC 4.3.2
-* `gfortran`
-* `libncurses-devel`
-* `lapack`
-* `openssl-devel`
-* `libiconv` -- needed when building R (and it has to be `libiconv`)
-
-We need to add a test for **all** of the above to the prereq script before making the Cygwin port official.
-
``````




---

archive/issue_comments_047305.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -39,7 +39,7 @@\n * #13755 (linbox, on Win 7)\n * #13325 (eclib)\n * #13319 (Python, based on #13631)\n-* #13799 (cvxopt, on XP - no spkg available yet, may have to `touch spkg/installed/cvxopt-1.1.5` manually if it fails)\n+* #13799 (cvxopt)\n \n ### Patches\n You will have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)\n``````\n",
    "created_at": "2012-12-06T15:49:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47305",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -39,7 +39,7 @@
 * #13755 (linbox, on Win 7)
 * #13325 (eclib)
 * #13319 (Python, based on #13631)
-* #13799 (cvxopt, on XP - no spkg available yet, may have to `touch spkg/installed/cvxopt-1.1.5` manually if it fails)
+* #13799 (cvxopt)
 
 ### Patches
 You will have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)
``````




---

archive/issue_comments_047306.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nI had to install zlib-devel as well or had horrible linking problems with freetype and gd.",
    "created_at": "2012-12-06T15:52:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47306",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:68" align="right">comment:68</div>

I had to install zlib-devel as well or had horrible linking problems with freetype and gd.



---

archive/issue_comments_047307.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\n> I had to install zlib-devel as well or had horrible linking problems with freetype and gd.\n\nHuh, maybe that's only on Win 7.  Well, add it to the list here and on the [CygwinPort](../wiki/CygwinPort) page.",
    "created_at": "2012-12-06T16:19:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47307",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:69" align="right">comment:69</div>

> I had to install zlib-devel as well or had horrible linking problems with freetype and gd.

Huh, maybe that's only on Win 7.  Well, add it to the list here and on the [CygwinPort](../wiki/CygwinPort) page.



---

archive/issue_comments_047308.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -59,6 +59,7 @@\n Patches currently needed for:\n * #13325\n * #13802\n+* #13806 (on Win 7, at least)\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.\n \n``````\n",
    "created_at": "2012-12-06T18:23:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47308",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -59,6 +59,7 @@
 Patches currently needed for:
 * #13325
 * #13802
+* #13806 (on Win 7, at least)
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.
 
``````




---

archive/issue_comments_047309.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,6 +19,7 @@\n * `liblapack`, `liblapack0`, `liblapack-devel`\n * `libiconv`, `openssl`, `openssl-devel`\n * `libgc-devel` - although it's not needed to build, it is to start\n+* `zlib-devel` - apparently needed on Win 7\n * `libncurses-devel`\n * `make`, `perl`, `m4`\n * Use all `gcc` and `g++` and `fortran`; the versions **must** match, and `gcc4` is the type we want\n@@ -65,6 +66,11 @@\n \n ---\n \n+#13841 is a followup ticket for Sage to *start* as well automatically.  Hopefully it won't be necessary, but the past teaches us that often Sage would build, but not start, so that's a little insurance.\n+\n+\n+---\n+\n There is (or was) a very old binary of Cygwin available here:\n \n http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz\n``````\n",
    "created_at": "2012-12-18T20:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47309",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,6 +19,7 @@
 * `liblapack`, `liblapack0`, `liblapack-devel`
 * `libiconv`, `openssl`, `openssl-devel`
 * `libgc-devel` - although it's not needed to build, it is to start
+* `zlib-devel` - apparently needed on Win 7
 * `libncurses-devel`
 * `make`, `perl`, `m4`
 * Use all `gcc` and `g++` and `fortran`; the versions **must** match, and `gcc4` is the type we want
@@ -65,6 +66,11 @@
 
 ---
 
+#13841 is a followup ticket for Sage to *start* as well automatically.  Hopefully it won't be necessary, but the past teaches us that often Sage would build, but not start, so that's a little insurance.
+
+
+---
+
 There is (or was) a very old binary of Cygwin available here:
 
 http://sage.math.washington.edu/home/wstein/tmp/sage-4.1-cygwin-i686-CYGWIN_NT-5.1.tar.gz
``````




---

archive/issue_comments_047310.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nWhat we now need is mainly an update to the prereq spkg.  We need to somehow check for:\n* `file`\n* `patch`\n* `liblapack`, `liblapack0`, `liblapack-devel`\n* `libiconv`, `openssl`, `openssl-devel`\n* `libgc-devel`\n* `zlib-devel`\n* `libncurses-devel`\n* `make`, `perl`, `m4`\n* `gcc4-x.y.z` and `g++-x.y.z`, `fortran`; the versions **must** match\nHow does one go about doing this?  I assume that it should happen in `prereq-1.x-install` and not the configure, but I don't know a lot about these things.  I've also asked about this at [this sage-devel thread](https://groups.google.com/forum/?fromgroups#!topic/sage-devel/NAWeTIsQrQw).",
    "created_at": "2012-12-18T21:09:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47310",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:72" align="right">comment:72</div>

What we now need is mainly an update to the prereq spkg.  We need to somehow check for:
* `file`
* `patch`
* `liblapack`, `liblapack0`, `liblapack-devel`
* `libiconv`, `openssl`, `openssl-devel`
* `libgc-devel`
* `zlib-devel`
* `libncurses-devel`
* `make`, `perl`, `m4`
* `gcc4-x.y.z` and `g++-x.y.z`, `fortran`; the versions **must** match
How does one go about doing this?  I assume that it should happen in `prereq-1.x-install` and not the configure, but I don't know a lot about these things.  I've also asked about this at [this sage-devel thread](https://groups.google.com/forum/?fromgroups#!topic/sage-devel/NAWeTIsQrQw).



---

archive/issue_comments_047311.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nReplying to [@kcrisman](#comment%3A72):\n> What we now need is mainly an update to the prereq spkg.  We need to somehow check for:\n> * `file`\n\nWhy is this needed? I don't think Sage should ever use `file`.\n\n> * `patch`\n\nWhy do we need this? `patch` comes with Sage.\n\n> * `liblapack`, `liblapack0`, `liblapack-devel`\n\nWhy do we need this? `lapack` comes with Sage.\n\n> * `libiconv`\n\nWhy do we need this? `iconv` comes with Sage.\n\n> * `openssl`, `openssl-devel`\n\nI don't think these are required anymore.\n\n> * `libgc-devel`\n\nIs this `boehm_gc`? This comes with Sage.\n\n> * `zlib-devel`\n\nWhy do we need this? `zlib` comes with Sage.\n\n> * `libncurses-devel`\n\nAre you sure this is needed? Does #12725 help with not requiring `ncurses`?\n\n> * `make`, `perl`, `m4`\n\nThis is already checked I believe.\n\n> * `gcc4-x.y.z` and `g++-x.y.z`, `fortran`; the versions **must** match\n\nSo, the GCC spkg doesn't build on Cygwin? Then also `spkg/install` should be changed not to install GCC on Cygwin. The version checking already exists.\n\n> I assume that it should happen in `prereq-1.x-install` and not the configure.\n\nPlease don't! Ideally, `prereq-1.x-install` should be essentially empty and all checks are done in `configure`. That's how things are supposed to be done autotools-style.",
    "created_at": "2012-12-19T08:01:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47311",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:73" align="right">comment:73</div>

Replying to [@kcrisman](#comment%3A72):
> What we now need is mainly an update to the prereq spkg.  We need to somehow check for:
> * `file`

Why is this needed? I don't think Sage should ever use `file`.

> * `patch`

Why do we need this? `patch` comes with Sage.

> * `liblapack`, `liblapack0`, `liblapack-devel`

Why do we need this? `lapack` comes with Sage.

> * `libiconv`

Why do we need this? `iconv` comes with Sage.

> * `openssl`, `openssl-devel`

I don't think these are required anymore.

> * `libgc-devel`

Is this `boehm_gc`? This comes with Sage.

> * `zlib-devel`

Why do we need this? `zlib` comes with Sage.

> * `libncurses-devel`

Are you sure this is needed? Does #12725 help with not requiring `ncurses`?

> * `make`, `perl`, `m4`

This is already checked I believe.

> * `gcc4-x.y.z` and `g++-x.y.z`, `fortran`; the versions **must** match

So, the GCC spkg doesn't build on Cygwin? Then also `spkg/install` should be changed not to install GCC on Cygwin. The version checking already exists.

> I assume that it should happen in `prereq-1.x-install` and not the configure.

Please don't! Ideally, `prereq-1.x-install` should be essentially empty and all checks are done in `configure`. That's how things are supposed to be done autotools-style.



---

archive/issue_comments_047312.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nThe resulting install is not that bad, see\nhttp://boxen.math.washington.edu/home/jpflori/ptest-sage-5.5.rc0-cygwin.log\n\nI got a lot of OverflowError, surely due to the fact that I'm running a 64 bits Windows 7.\nAnd my install also lacks some tickets posted here and there on Trac.\n\nNot sure about the prereq, but I seem to remember that without zlib-devel a lot of things including zlib-devel got messed up in freetype and spkg depending on it (I'd say gd), I'll try to dig out the logs.\n\nAbout patch, not sure what https://github.com/sagemath/sage/issues/11232 does.",
    "created_at": "2012-12-19T08:23:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47312",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:74" align="right">comment:74</div>

The resulting install is not that bad, see
http://boxen.math.washington.edu/home/jpflori/ptest-sage-5.5.rc0-cygwin.log

I got a lot of OverflowError, surely due to the fact that I'm running a 64 bits Windows 7.
And my install also lacks some tickets posted here and there on Trac.

Not sure about the prereq, but I seem to remember that without zlib-devel a lot of things including zlib-devel got messed up in freetype and spkg depending on it (I'd say gd), I'll try to dig out the logs.

About patch, not sure what https://github.com/sagemath/sage/issues/11232 does.



---

archive/issue_comments_047313.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nI've reinstalled a minimal Cygwin (a few weeks old though, no internet access on the used computer right now) and will add required Cygwin packages incrementally to be sure of what matters.",
    "created_at": "2012-12-19T10:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47313",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:75" align="right">comment:75</div>

I've reinstalled a minimal Cygwin (a few weeks old though, no internet access on the used computer right now) and will add required Cygwin packages incrementally to be sure of what matters.



---

archive/issue_comments_047314.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nFirst of all, please put the cygwin package checking into its own script. Its opposite to any sane prerequisite checking, but then thats because the underlying platform lacks sanity.\n\nEach Cygwin package installs a gzipped listing of files under `/etc/setup/<package>.lst.gz`, so I would use that to check that the prerequisite packages are installed. As usual, setting `SAGE_PORT=yes` should let you skip the prerequisite check if you think you know better.",
    "created_at": "2012-12-19T12:04:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47314",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:76" align="right">comment:76</div>

First of all, please put the cygwin package checking into its own script. Its opposite to any sane prerequisite checking, but then thats because the underlying platform lacks sanity.

Each Cygwin package installs a gzipped listing of files under `/etc/setup/<package>.lst.gz`, so I would use that to check that the prerequisite packages are installed. As usual, setting `SAGE_PORT=yes` should let you skip the prerequisite check if you think you know better.



---

archive/issue_comments_047315.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nReplying to [@jdemeyer](#comment%3A73):\n> > * `liblapack`, `liblapack0`, `liblapack-devel`\n\n> Why do we need this? `lapack` comes with Sage.\n> \n\natlas 3.8 does not build on cygwin.",
    "created_at": "2012-12-19T12:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47315",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:77" align="right">comment:77</div>

Replying to [@jdemeyer](#comment%3A73):
> > * `liblapack`, `liblapack0`, `liblapack-devel`

> Why do we need this? `lapack` comes with Sage.
> 

atlas 3.8 does not build on cygwin.



---

archive/issue_comments_047316.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\n> > What we now need is mainly an update to the prereq spkg.  We need to somehow check for:\n> > * `file`\n\n> Why is this needed? I don't think Sage should ever use `file`.\n\nI appreciate all the questions here trying to narrow it down.  However, I think the point is to FIRST get Sage to build reliably on Cygwin, and if we need all these things, then so be it.  We can remove them later, precisely because we're not targeting people just randomly building Sage on Cygwin.\n\nAlso, these were definitely all needed at some point in the process, but it's been 3+ years, so of course some might not be.  But Cygwin is *remarkably* picky about these things.  With respect to patch, for instance, why not just require it on such an unusual platform?\n\nSimilarly, I have no idea if the gcc package builds on Cygwin, but we still need *some* compiler to build *that*!  It would be worth testing it without that, but I at least have no time to try all the various permutations and combinations of prereqs.  Let's get this done first, then remove things we don't need, otherwise we'll *never* catch up to Sage (if only because of updates to spkgs).",
    "created_at": "2012-12-19T14:17:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47316",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:78" align="right">comment:78</div>

> > What we now need is mainly an update to the prereq spkg.  We need to somehow check for:
> > * `file`

> Why is this needed? I don't think Sage should ever use `file`.

I appreciate all the questions here trying to narrow it down.  However, I think the point is to FIRST get Sage to build reliably on Cygwin, and if we need all these things, then so be it.  We can remove them later, precisely because we're not targeting people just randomly building Sage on Cygwin.

Also, these were definitely all needed at some point in the process, but it's been 3+ years, so of course some might not be.  But Cygwin is *remarkably* picky about these things.  With respect to patch, for instance, why not just require it on such an unusual platform?

Similarly, I have no idea if the gcc package builds on Cygwin, but we still need *some* compiler to build *that*!  It would be worth testing it without that, but I at least have no time to try all the various permutations and combinations of prereqs.  Let's get this done first, then remove things we don't need, otherwise we'll *never* catch up to Sage (if only because of updates to spkgs).



---

archive/issue_comments_047317.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nReplying to [@kcrisman](#comment%3A78):\n> I appreciate all the questions here trying to narrow it down.  However, I think the point is to FIRST get Sage to build reliably on Cygwin, and if we need all these things, then so be it.  We can remove them later, precisely because we're not targeting people just randomly building Sage on Cygwin.\n\nIf you're still at this early stage like you're suggesting, maybe updating the prereq should be postponed until it's clearer what the real requirements are. What's the point of putting effort in checking some dependency if the dependency might be removed in a next release? (honest question, no offense meant)",
    "created_at": "2012-12-19T14:27:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47317",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:79" align="right">comment:79</div>

Replying to [@kcrisman](#comment%3A78):
> I appreciate all the questions here trying to narrow it down.  However, I think the point is to FIRST get Sage to build reliably on Cygwin, and if we need all these things, then so be it.  We can remove them later, precisely because we're not targeting people just randomly building Sage on Cygwin.

If you're still at this early stage like you're suggesting, maybe updating the prereq should be postponed until it's clearer what the real requirements are. What's the point of putting effort in checking some dependency if the dependency might be removed in a next release? (honest question, no offense meant)



---

archive/issue_comments_047318.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nReplying to [@kcrisman](#comment%3A78):\n> I have no idea if the gcc package builds on Cygwin, but we still need *some* compiler to build *that*!\n\nSure, but this is already checked in `prereq`. Also, the fact that the gcc/g++/gfortran versions match (if GCC isn't built) is checked already. Both these are relevant for all platforms, not only Cygwin.",
    "created_at": "2012-12-19T14:28:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47318",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:80" align="right">comment:80</div>

Replying to [@kcrisman](#comment%3A78):
> I have no idea if the gcc package builds on Cygwin, but we still need *some* compiler to build *that*!

Sure, but this is already checked in `prereq`. Also, the fact that the gcc/g++/gfortran versions match (if GCC isn't built) is checked already. Both these are relevant for all platforms, not only Cygwin.



---

archive/issue_comments_047319.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\n> > I have no idea if the gcc package builds on Cygwin, but we still need *some* compiler to build *that*!\n\n> Sure, but this is already checked in `prereq`. Also, the fact that the gcc/g++/gfortran versions match (if GCC isn't built) is checked already. Both these are relevant for all platforms, not only Cygwin.\n\nOh, that's very helpful.\n> What's the point of putting effort in checking some dependency if the dependency might be removed in a next release? (honest question, no offense meant)\n\nNone taken.  The amount of effort put into this port thus far by JP, Mike Hansen, William, Dima, myself, ... I think that I probably speak for them in saying that the marginal effort of checking for the dependency is nil compared to the value of not having to worry about it.  That said, naturally if JP wants to check them, I'm not opposed. \n\nI should also point out that I will not have access to my XP machine starting Friday afternoon US for several weeks, so anything XP-specific would be nice to have resolved by then.",
    "created_at": "2012-12-19T14:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47319",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:81" align="right">comment:81</div>

> > I have no idea if the gcc package builds on Cygwin, but we still need *some* compiler to build *that*!

> Sure, but this is already checked in `prereq`. Also, the fact that the gcc/g++/gfortran versions match (if GCC isn't built) is checked already. Both these are relevant for all platforms, not only Cygwin.

Oh, that's very helpful.
> What's the point of putting effort in checking some dependency if the dependency might be removed in a next release? (honest question, no offense meant)

None taken.  The amount of effort put into this port thus far by JP, Mike Hansen, William, Dima, myself, ... I think that I probably speak for them in saying that the marginal effort of checking for the dependency is nil compared to the value of not having to worry about it.  That said, naturally if JP wants to check them, I'm not opposed. 

I should also point out that I will not have access to my XP machine starting Friday afternoon US for several weeks, so anything XP-specific would be nice to have resolved by then.



---

archive/issue_comments_047320.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nFor what it is worth, I've begun looking at prereqs for cygwin by starting with a minimal cygwin install and only adding packages when needed and am posting results on the [CygwinPort](../wiki/CygwinPort) page.\n\nIn particular, something should be done for libiconv.\n\nAs far as the gcc spkg is concerned I got a segfault earlier after a few hours.\nMaybe that was just because of memory leaks and memory exhaustion, so Ive relaunched a build now, but it takes hours...",
    "created_at": "2012-12-19T23:19:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47320",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:82" align="right">comment:82</div>

For what it is worth, I've begun looking at prereqs for cygwin by starting with a minimal cygwin install and only adding packages when needed and am posting results on the [CygwinPort](../wiki/CygwinPort) page.

In particular, something should be done for libiconv.

As far as the gcc spkg is concerned I got a segfault earlier after a few hours.
Maybe that was just because of memory leaks and memory exhaustion, so Ive relaunched a build now, but it takes hours...



---

archive/issue_comments_047321.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nSo the gcc spkg failed again because of exhaustion memory, but restarting from the build dir finishes fine and everything seems ok then.",
    "created_at": "2012-12-20T12:17:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47321",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:83" align="right">comment:83</div>

So the gcc spkg failed again because of exhaustion memory, but restarting from the build dir finishes fine and everything seems ok then.



---

archive/issue_comments_047322.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">comment:84</div>\n\nIn fact it seems to fail to compile ECL from #13324.",
    "created_at": "2012-12-20T12:34:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47322",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:84" align="right">comment:84</div>

In fact it seems to fail to compile ECL from #13324.



---

archive/issue_comments_047323.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nThe ECL problem was already encountered here:\nhttp://sourceforge.net/mailarchive/message.php?msg_id=28466506\n\n(This did not happen with the Cywgin gcc 4.5.something.)",
    "created_at": "2012-12-20T12:41:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47323",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:85" align="right">comment:85</div>

The ECL problem was already encountered here:
http://sourceforge.net/mailarchive/message.php?msg_id=28466506

(This did not happen with the Cywgin gcc 4.5.something.)



---

archive/issue_comments_047324.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nReplying to [@dimpase](#comment%3A77):\n> Replying to [@jdemeyer](#comment%3A73):\n> > > * `liblapack`, `liblapack0`, `liblapack-devel`\n\n> > Why do we need this? `lapack` comes with Sage.\n> > \n\n> atlas 3.8 does not build on cygwin. \n> \n\nAny hint why?\n\nWill atlas 3.10 from #10508 fix this issue?",
    "created_at": "2012-12-20T14:29:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47324",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:86" align="right">comment:86</div>

Replying to [@dimpase](#comment%3A77):
> Replying to [@jdemeyer](#comment%3A73):
> > > * `liblapack`, `liblapack0`, `liblapack-devel`

> > Why do we need this? `lapack` comes with Sage.
> > 

> atlas 3.8 does not build on cygwin. 
> 

Any hint why?

Will atlas 3.10 from #10508 fix this issue?



---

archive/issue_comments_047325.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nIts possible to build ATLAS on Windows but as with both ATLAS and Windows my best guess is that it won't work right out of the box. I certainly haven't even tried.",
    "created_at": "2012-12-20T14:54:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47325",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:87" align="right">comment:87</div>

Its possible to build ATLAS on Windows but as with both ATLAS and Windows my best guess is that it won't work right out of the box. I certainly haven't even tried.



---

archive/issue_comments_047326.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nReplying to [@jpflori](#comment%3A86):\n> Replying to [@dimpase](#comment%3A77):\n> > Replying to [@jdemeyer](#comment%3A73):\n> > > > * `liblapack`, `liblapack0`, `liblapack-devel`\n\n> > > Why do we need this? `lapack` comes with Sage.\n> > > \n\n> > atlas 3.8 does not build on cygwin. \n> > \n\n> Any hint why?\n\nE.g. [MANIFEST crap](https://sites.google.com/site/dpovey/compilation-instructions-for-atlas-with-cygwin-under-windows-7)\nI imagine it's only part of the story.\n> \n> Will atlas 3.10 from #10508 fix this issue?\n\nperhaps. Or maybe not... But, again, the more stuff we build, the more stuff we will need to rebase, etc...\n\nActually, we should make a Windows batch file to automate the build/rebase loop.",
    "created_at": "2012-12-20T14:58:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47326",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:88" align="right">comment:88</div>

Replying to [@jpflori](#comment%3A86):
> Replying to [@dimpase](#comment%3A77):
> > Replying to [@jdemeyer](#comment%3A73):
> > > > * `liblapack`, `liblapack0`, `liblapack-devel`

> > > Why do we need this? `lapack` comes with Sage.
> > > 

> > atlas 3.8 does not build on cygwin. 
> > 

> Any hint why?

E.g. [MANIFEST crap](https://sites.google.com/site/dpovey/compilation-instructions-for-atlas-with-cygwin-under-windows-7)
I imagine it's only part of the story.
> 
> Will atlas 3.10 from #10508 fix this issue?

perhaps. Or maybe not... But, again, the more stuff we build, the more stuff we will need to rebase, etc...

Actually, we should make a Windows batch file to automate the build/rebase loop.



---

archive/issue_comments_047327.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nNot sure if cygwin got better, but with my 5.5.rc0 I only had to rebase when I actually wanted to launch sage, so this might not be a real issue anymore.\n\nThe most worrying things for me are:\n* memory leaks, I've removed many things which made dlls from windows linked to different cygwin process and I don't see anything fishy now, but they are still here,\n* slowness, especially for all the configure stuff.",
    "created_at": "2012-12-20T15:11:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47327",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:89" align="right">comment:89</div>

Not sure if cygwin got better, but with my 5.5.rc0 I only had to rebase when I actually wanted to launch sage, so this might not be a real issue anymore.

The most worrying things for me are:
* memory leaks, I've removed many things which made dlls from windows linked to different cygwin process and I don't see anything fishy now, but they are still here,
* slowness, especially for all the configure stuff.



---

archive/issue_comments_047328.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nAbout ATLAS, I'm mostly asking that because the policy of Sage seems to be: require the fewest system packages as possible.\n\nSo if ATLAS can be built without much hassle let's build it by default, just as we only require gcc and build g++ and gfortran by default and try to build patch.\n\nThe user can always decide to install the g++ and gfortran and to set SAGE_ATLAS_LIB.\n\nPersonally I never install the ATLAS spkg, but use the system one, because it always took ages to build when it did not fail, and could never correctly detect my cpus to choose a sensible default.\nI would be very happy to use my system patch as well (but I guess that some creepy system do not even provide a working patch so the spkg is needed).",
    "created_at": "2012-12-20T16:04:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47328",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:90" align="right">comment:90</div>

About ATLAS, I'm mostly asking that because the policy of Sage seems to be: require the fewest system packages as possible.

So if ATLAS can be built without much hassle let's build it by default, just as we only require gcc and build g++ and gfortran by default and try to build patch.

The user can always decide to install the g++ and gfortran and to set SAGE_ATLAS_LIB.

Personally I never install the ATLAS spkg, but use the system one, because it always took ages to build when it did not fail, and could never correctly detect my cpus to choose a sensible default.
I would be very happy to use my system patch as well (but I guess that some creepy system do not even provide a working patch so the spkg is needed).



---

archive/issue_comments_047329.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\nReplying to [@dimpase](#comment%3A88):\n> Replying to [@jpflori](#comment%3A86):\n> > Replying to [@dimpase](#comment%3A77):\n> > > Replying to [@jdemeyer](#comment%3A73):\n> > > > > * `liblapack`, `liblapack0`, `liblapack-devel`\n\n> > > > Why do we need this? `lapack` comes with Sage.\n> > > > \n\n> > > atlas 3.8 does not build on cygwin. \n> > > \n\n> > Any hint why?\n\n> \n> E.g. [MANIFEST crap](https://sites.google.com/site/dpovey/compilation-instructions-for-atlas-with-cygwin-under-windows-7)\n> I imagine it's only part of the story.\n\nNo it looks like its all of it and is not needed anymore from 3.9.\n\nThe final crap is because they want a .lib file we do not care about.\n> > \n> > Will atlas 3.10 from #10508 fix this issue?\n\n> perhaps. Or maybe not... But, again, the more stuff we build, the more stuff we will need to rebase, etc...\n> \n> Actually, we should make a Windows batch file to automate the build/rebase loop.\n\n>",
    "created_at": "2012-12-21T16:42:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47329",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:91" align="right">comment:91</div>

Replying to [@dimpase](#comment%3A88):
> Replying to [@jpflori](#comment%3A86):
> > Replying to [@dimpase](#comment%3A77):
> > > Replying to [@jdemeyer](#comment%3A73):
> > > > > * `liblapack`, `liblapack0`, `liblapack-devel`

> > > > Why do we need this? `lapack` comes with Sage.
> > > > 

> > > atlas 3.8 does not build on cygwin. 
> > > 

> > Any hint why?

> 
> E.g. [MANIFEST crap](https://sites.google.com/site/dpovey/compilation-instructions-for-atlas-with-cygwin-under-windows-7)
> I imagine it's only part of the story.

No it looks like its all of it and is not needed anymore from 3.9.

The final crap is because they want a .lib file we do not care about.
> > 
> > Will atlas 3.10 from #10508 fix this issue?

> perhaps. Or maybe not... But, again, the more stuff we build, the more stuff we will need to rebase, etc...
> 
> Actually, we should make a Windows batch file to automate the build/rebase loop.

>



---

archive/issue_comments_047330.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,7 +11,7 @@\n ## Most recent trials and a lot more status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort\n \n ## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)\n-As below with Sage 5.5.rc0\n+As below with Sage 5.6.beta2\n \n ### Cygwin prereqs\n Here is what to install from Cygwin - use the usual stable binaries.\n@@ -23,27 +23,29 @@\n * `libncurses-devel`\n * `make`, `perl`, `m4`\n * Use all `gcc` and `g++` and `fortran`; the versions **must** match, and `gcc4` is the type we want\n+\n+We need to add a test for **all** of the above packages on Cygwin which the prereq script does not already check, or confirm that they are not needed, before making the Cygwin port official.\n+\n Other instructions:\n * Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). \n * It's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.\n * Similarly, do not *test* without making sure that `SAGE_TESTDIR` does not contain spaces.\n * Also, **don't forget to** `export SAGE_PORT=yes`!\n \n-We need to add a test for **all** of the above packages to the prereq script for Cygwin before making the Cygwin port official.\n-\n-\n ### Spkgs\n Install the following spkgs ahead of time, e.g. in `SAGE_ROOT/spkg/standard/` before compiling\n * #11635 (NTL)\n-* #13324 (ECL, but *not* including #9167 yet)\n+* #13324 (ECL)\n * #13137 (MPIR)\n-* #13755 (linbox, on Win 7)\n-* #13325 (eclib)\n-* #13319 (Python, based on #13631)\n-* #13799 (cvxopt)\n+* #13804 (fplll, needed only on Win 7)\n+\n+Optionally:\n+* #9167 (ECL - optional, as only needed for starting Sage)\n+* #9543 (cephes - optional, as it removes cephes)\n+* #13364 (Maxima - purely optional but might as well)\n \n ### Patches\n-You will have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)\n+You may have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)\n \n ```\n ./sage -sh\n@@ -58,9 +60,8 @@\n   which will bring you back to your normal shell.\n \n Patches currently needed for:\n-* #13325\n-* #13802\n * #13806 (on Win 7, at least)\n+* #13364 (Maxima, if you use the spkg there)\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.\n \n``````\n",
    "created_at": "2013-01-04T14:37:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47330",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,7 +11,7 @@
 ## Most recent trials and a lot more status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort
 
 ## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)
-As below with Sage 5.5.rc0
+As below with Sage 5.6.beta2
 
 ### Cygwin prereqs
 Here is what to install from Cygwin - use the usual stable binaries.
@@ -23,27 +23,29 @@
 * `libncurses-devel`
 * `make`, `perl`, `m4`
 * Use all `gcc` and `g++` and `fortran`; the versions **must** match, and `gcc4` is the type we want
+
+We need to add a test for **all** of the above packages on Cygwin which the prereq script does not already check, or confirm that they are not needed, before making the Cygwin port official.
+
 Other instructions:
 * Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). 
 * It's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.
 * Similarly, do not *test* without making sure that `SAGE_TESTDIR` does not contain spaces.
 * Also, **don't forget to** `export SAGE_PORT=yes`!
 
-We need to add a test for **all** of the above packages to the prereq script for Cygwin before making the Cygwin port official.
-
-
 ### Spkgs
 Install the following spkgs ahead of time, e.g. in `SAGE_ROOT/spkg/standard/` before compiling
 * #11635 (NTL)
-* #13324 (ECL, but *not* including #9167 yet)
+* #13324 (ECL)
 * #13137 (MPIR)
-* #13755 (linbox, on Win 7)
-* #13325 (eclib)
-* #13319 (Python, based on #13631)
-* #13799 (cvxopt)
+* #13804 (fplll, needed only on Win 7)
+
+Optionally:
+* #9167 (ECL - optional, as only needed for starting Sage)
+* #9543 (cephes - optional, as it removes cephes)
+* #13364 (Maxima - purely optional but might as well)
 
 ### Patches
-You will have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)
+You may have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)
 
 ```
 ./sage -sh
@@ -58,9 +60,8 @@
   which will bring you back to your normal shell.
 
 Patches currently needed for:
-* #13325
-* #13802
 * #13806 (on Win 7, at least)
+* #13364 (Maxima, if you use the spkg there)
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.
 
``````




---

archive/issue_comments_047331.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nBy the way, JP, did you end up needing libiconv or not?",
    "created_at": "2013-01-04T14:38:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47331",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:93" align="right">comment:93</div>

By the way, JP, did you end up needing libiconv or not?



---

archive/issue_comments_047332.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nReplying to [@kcrisman](#comment%3A93):\n> By the way, JP, did you end up needing libiconv or not?\n\nNot sure yet if the one provided by cygwin is now sufficient.\nI'll test this weekend.\n\nWhat is sure is that building the libiconv spkg on a minimal cygwin was a real pain.\nBut I'll provide that as well, for \"completeness\".",
    "created_at": "2013-01-04T14:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47332",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:94" align="right">comment:94</div>

Replying to [@kcrisman](#comment%3A93):
> By the way, JP, did you end up needing libiconv or not?

Not sure yet if the one provided by cygwin is now sufficient.
I'll test this weekend.

What is sure is that building the libiconv spkg on a minimal cygwin was a real pain.
But I'll provide that as well, for "completeness".



---

archive/issue_comments_047333.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -61,6 +61,9 @@\n \n Patches currently needed for:\n * #13806 (on Win 7, at least)\n+\n+After the build is completed, for doctests it would be helpful to apply patches from (following the developer guide)\n+* #13324 (ECL)\n * #13364 (Maxima, if you use the spkg there)\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.\n``````\n",
    "created_at": "2013-01-04T15:20:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47333",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -61,6 +61,9 @@
 
 Patches currently needed for:
 * #13806 (on Win 7, at least)
+
+After the build is completed, for doctests it would be helpful to apply patches from (following the developer guide)
+* #13324 (ECL)
 * #13364 (Maxima, if you use the spkg there)
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.
``````




---

archive/issue_comments_047334.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -42,7 +42,6 @@\n Optionally:\n * #9167 (ECL - optional, as only needed for starting Sage)\n * #9543 (cephes - optional, as it removes cephes)\n-* #13364 (Maxima - purely optional but might as well)\n \n ### Patches\n You may have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)\n@@ -64,7 +63,6 @@\n \n After the build is completed, for doctests it would be helpful to apply patches from (following the developer guide)\n * #13324 (ECL)\n-* #13364 (Maxima, if you use the spkg there)\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.\n \n``````\n",
    "created_at": "2013-01-04T15:34:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47334",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -42,7 +42,6 @@
 Optionally:
 * #9167 (ECL - optional, as only needed for starting Sage)
 * #9543 (cephes - optional, as it removes cephes)
-* #13364 (Maxima - purely optional but might as well)
 
 ### Patches
 You may have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)
@@ -64,7 +63,6 @@
 
 After the build is completed, for doctests it would be helpful to apply patches from (following the developer guide)
 * #13324 (ECL)
-* #13364 (Maxima, if you use the spkg there)
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.
 
``````




---

archive/issue_comments_047335.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">comment:97</div>\n\n> I'll test this weekend.\n\nI see now that we only use the iconv spkg on Solaris, Cygwin, and (?) HP-UX, so maybe in the meantime we don't need it.\n> What is sure is that building the libiconv spkg on a minimal cygwin was a real pain.\n\nOr maybe we do...\n> But I'll provide that as well, for \"completeness\".",
    "created_at": "2013-01-04T16:47:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47335",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:97" align="right">comment:97</div>

> I'll test this weekend.

I see now that we only use the iconv spkg on Solaris, Cygwin, and (?) HP-UX, so maybe in the meantime we don't need it.
> What is sure is that building the libiconv spkg on a minimal cygwin was a real pain.

Or maybe we do...
> But I'll provide that as well, for "completeness".



---

archive/issue_comments_047336.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nThe easiest way to build the libiconv spkg is to install the Cygwin libiconv package, although I don't think it is the most proper solution as it add a (kind of lame) new dependency.\n\nApart from that, it is also possible that now, building our own spkg is not necessary anymore, Cygwin package seem to tend to become better as time passes (see the libm example, we now do not need to build our own cephes!).",
    "created_at": "2013-01-04T16:52:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47336",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:98" align="right">comment:98</div>

The easiest way to build the libiconv spkg is to install the Cygwin libiconv package, although I don't think it is the most proper solution as it add a (kind of lame) new dependency.

Apart from that, it is also possible that now, building our own spkg is not necessary anymore, Cygwin package seem to tend to become better as time passes (see the libm example, we now do not need to build our own cephes!).



---

archive/issue_comments_047337.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\nDear Cygwin testers, could you please test the following two PARI packages, whether these build (if possible with `SAGE_CHECK=yes`) and whether `./sage --gp` seems to work.\n\n1. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p2.spkg) (a plain bug-fix package, #13921)\n\n2. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg) (some Cygwin-specific workarounds removed)",
    "created_at": "2013-01-08T12:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47337",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:99" align="right">comment:99</div>

Dear Cygwin testers, could you please test the following two PARI packages, whether these build (if possible with `SAGE_CHECK=yes`) and whether `./sage --gp` seems to work.

1. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p2.spkg) (a plain bug-fix package, #13921)

2. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg) (some Cygwin-specific workarounds removed)



---

archive/issue_comments_047338.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -38,6 +38,7 @@\n * #13324 (ECL)\n * #13137 (MPIR)\n * #13804 (fplll, needed only on Win 7)\n+* #13954 (GAP)\n \n Optionally:\n * #9167 (ECL - optional, as only needed for starting Sage)\n``````\n",
    "created_at": "2013-01-15T16:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47338",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -38,6 +38,7 @@
 * #13324 (ECL)
 * #13137 (MPIR)
 * #13804 (fplll, needed only on Win 7)
+* #13954 (GAP)
 
 Optionally:
 * #9167 (ECL - optional, as only needed for starting Sage)
``````




---

archive/issue_comments_047339.json:
```json
{
    "body": "<div id=\"comment:101\" align=\"right\">comment:101</div>\n\n> 1. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p2.spkg) (a plain bug-fix package, #13921)\n> \n\nLooks like JP experienced success with this, given that he compiled 5.6.rc0.  I'm currently doing this one.\n\n> 2. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg) (some Cygwin-specific workarounds removed)\n\nMaking him aware of this one - I assume there isn't a ticket yet :)",
    "created_at": "2013-01-15T18:08:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47339",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:101" align="right">comment:101</div>

> 1. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p2.spkg) (a plain bug-fix package, #13921)
> 

Looks like JP experienced success with this, given that he compiled 5.6.rc0.  I'm currently doing this one.

> 2. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg) (some Cygwin-specific workarounds removed)

Making him aware of this one - I assume there isn't a ticket yet :)



---

archive/issue_comments_047340.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,34 +15,31 @@\n \n ### Cygwin prereqs\n Here is what to install from Cygwin - use the usual stable binaries.\n-* `file`, `patch`\n-* `liblapack`, `liblapack0`, `liblapack-devel`\n-* `libiconv`, `openssl`, `openssl-devel`\n-* `libgc-devel` - although it's not needed to build, it is to start\n-* `zlib-devel` - apparently needed on Win 7\n-* `libncurses-devel`\n * `make`, `perl`, `m4`\n-* Use all `gcc` and `g++` and `fortran`; the versions **must** match, and `gcc4` is the type we want\n+* either `gcc4-core`  alone and then use the optional gcc-4.7.2 spkg (the standard gcc-4.6.3 spkg won't be able to compile ecl) or `gcc4-core` and `gcc4-g++` and `gcc4-fortran` whose versions **must** match\n+* `libiconv` - or a tweaked iconv spkg from #13912\n+* `liblapack`, `liblapack0`, `liblapack-devel` - though we should be able to build ATLAS\n+* `libncurses-devel` - needed by singular to build, not investigated yet.\n \n We need to add a test for **all** of the above packages on Cygwin which the prereq script does not already check, or confirm that they are not needed, before making the Cygwin port official.\n \n Other instructions:\n * Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). \n-* It's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.\n+* It's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc., see #13343\n * Similarly, do not *test* without making sure that `SAGE_TESTDIR` does not contain spaces.\n-* Also, **don't forget to** `export SAGE_PORT=yes`!\n+* Also, **don't forget to** `export SAGE_PORT=yes` (only needed the first time you issue make though, not after failures (memleak, rebase...) and relaunching the build)!\n \n ### Spkgs\n Install the following spkgs ahead of time, e.g. in `SAGE_ROOT/spkg/standard/` before compiling\n * #11635 (NTL)\n * #13324 (ECL)\n * #13137 (MPIR)\n-* #13804 (fplll, needed only on Win 7)\n+* #13804 (fplll)\n * #13954 (GAP)\n \n Optionally:\n * #9167 (ECL - optional, as only needed for starting Sage)\n-* #9543 (cephes - optional, as it removes cephes)\n+* #9543 (cephes - optional, as it removes cephes which fails to build undetected anyway currently)\n \n ### Patches\n You may have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)\n@@ -54,13 +51,13 @@\n cd ../..\n ./sage -b\n <assuming all goes well here>\n-touch spkg/installed/sage-5.5.rc0 # or whatever the version number is\n+touch spkg/installed/sage-5.6.rc0 # or whatever the version number is\n exit\n ```\n   which will bring you back to your normal shell.\n \n Patches currently needed for:\n-* #13806 (on Win 7, at least)\n+* #13806\n \n After the build is completed, for doctests it would be helpful to apply patches from (following the developer guide)\n * #13324 (ECL)\n``````\n",
    "created_at": "2013-01-15T18:29:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47340",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,34 +15,31 @@
 
 ### Cygwin prereqs
 Here is what to install from Cygwin - use the usual stable binaries.
-* `file`, `patch`
-* `liblapack`, `liblapack0`, `liblapack-devel`
-* `libiconv`, `openssl`, `openssl-devel`
-* `libgc-devel` - although it's not needed to build, it is to start
-* `zlib-devel` - apparently needed on Win 7
-* `libncurses-devel`
 * `make`, `perl`, `m4`
-* Use all `gcc` and `g++` and `fortran`; the versions **must** match, and `gcc4` is the type we want
+* either `gcc4-core`  alone and then use the optional gcc-4.7.2 spkg (the standard gcc-4.6.3 spkg won't be able to compile ecl) or `gcc4-core` and `gcc4-g++` and `gcc4-fortran` whose versions **must** match
+* `libiconv` - or a tweaked iconv spkg from #13912
+* `liblapack`, `liblapack0`, `liblapack-devel` - though we should be able to build ATLAS
+* `libncurses-devel` - needed by singular to build, not investigated yet.
 
 We need to add a test for **all** of the above packages on Cygwin which the prereq script does not already check, or confirm that they are not needed, before making the Cygwin port official.
 
 Other instructions:
 * Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). 
-* It's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc.
+* It's a good idea that all the pathnames do not contain capital letters (Windows is case-insensitive in this way, unlike Unices), spaces, etc., see #13343
 * Similarly, do not *test* without making sure that `SAGE_TESTDIR` does not contain spaces.
-* Also, **don't forget to** `export SAGE_PORT=yes`!
+* Also, **don't forget to** `export SAGE_PORT=yes` (only needed the first time you issue make though, not after failures (memleak, rebase...) and relaunching the build)!
 
 ### Spkgs
 Install the following spkgs ahead of time, e.g. in `SAGE_ROOT/spkg/standard/` before compiling
 * #11635 (NTL)
 * #13324 (ECL)
 * #13137 (MPIR)
-* #13804 (fplll, needed only on Win 7)
+* #13804 (fplll)
 * #13954 (GAP)
 
 Optionally:
 * #9167 (ECL - optional, as only needed for starting Sage)
-* #9543 (cephes - optional, as it removes cephes)
+* #9543 (cephes - optional, as it removes cephes which fails to build undetected anyway currently)
 
 ### Patches
 You may have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)
@@ -54,13 +51,13 @@
 cd ../..
 ./sage -b
 <assuming all goes well here>
-touch spkg/installed/sage-5.5.rc0 # or whatever the version number is
+touch spkg/installed/sage-5.6.rc0 # or whatever the version number is
 exit
 ```
   which will bring you back to your normal shell.
 
 Patches currently needed for:
-* #13806 (on Win 7, at least)
+* #13806
 
 After the build is completed, for doctests it would be helpful to apply patches from (following the developer guide)
 * #13324 (ECL)
``````




---

archive/issue_comments_047341.json:
```json
{
    "body": "<div id=\"comment:103\" align=\"right\">comment:103</div>\n\nNot sure what exactly the pari p3 spkg is but the changes look sane (if the first hacks are indeed not needed anymore, the second one definitely looks useless now).",
    "created_at": "2013-01-15T18:33:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47341",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:103" align="right">comment:103</div>

Not sure what exactly the pari p3 spkg is but the changes look sane (if the first hacks are indeed not needed anymore, the second one definitely looks useless now).



---

archive/issue_comments_047342.json:
```json
{
    "body": "<div id=\"comment:104\" align=\"right\">comment:104</div>\n\n> 1. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p2.spkg) (a plain bug-fix package, #13921)\n\nWith `SAGE_CHECK=yes`, I get a successful installation and almost successful tests.  However, the factoring example in the description of #13921 works fine.  Here's [the only failure](http://sage.math.washington.edu/home/kcrisman/program-sta.dif):\n\n```\n*** ../src/test/32/program\t2012-09-25 17:10:47.000000000 -0400\n--- gp.out\t2013-01-15 13:26:27.531250000 -0500\n***************\n*** 129,137 ****\n  400 1.632424285532931448171405619\n  ? install(addii,GG)\n  ? addii(1,2)\n! 3\n  ? kill(addii)\n  ? getheap\n! [23, 3317]\n  ? print(\"Total time spent: \",gettime);\n! Total time spent: 24\n--- 129,139 ----\n  400 1.632424285532931448171405619\n  ? install(addii,GG)\n  ? addii(1,2)\n!   ***   at top-level: addii(1,2)\n!   ***                 ^----------\n!   *** addii: bug in PARI/GP (Segmentation Fault), please report\n  ? kill(addii)\n  ? getheap\n! [22, 3310]\n  ? print(\"Total time spent: \",gettime);\n! Total time spent: 31\n```\n> 2. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg) (some Cygwin-specific workarounds removed)\n\nI'll check this next.",
    "created_at": "2013-01-15T18:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47342",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:104" align="right">comment:104</div>

> 1. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p2.spkg) (a plain bug-fix package, #13921)

With `SAGE_CHECK=yes`, I get a successful installation and almost successful tests.  However, the factoring example in the description of #13921 works fine.  Here's [the only failure](http://sage.math.washington.edu/home/kcrisman/program-sta.dif):

```
*** ../src/test/32/program	2012-09-25 17:10:47.000000000 -0400
--- gp.out	2013-01-15 13:26:27.531250000 -0500
***************
*** 129,137 ****
  400 1.632424285532931448171405619
  ? install(addii,GG)
  ? addii(1,2)
! 3
  ? kill(addii)
  ? getheap
! [23, 3317]
  ? print("Total time spent: ",gettime);
! Total time spent: 24
--- 129,139 ----
  400 1.632424285532931448171405619
  ? install(addii,GG)
  ? addii(1,2)
!   ***   at top-level: addii(1,2)
!   ***                 ^----------
!   *** addii: bug in PARI/GP (Segmentation Fault), please report
  ? kill(addii)
  ? getheap
! [22, 3310]
  ? print("Total time spent: ",gettime);
! Total time spent: 31
```
> 2. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg) (some Cygwin-specific workarounds removed)

I'll check this next.



---

archive/issue_comments_047343.json:
```json
{
    "body": "<div id=\"comment:105\" align=\"right\">comment:105</div>\n\nReplying to [@jpflori](#comment%3A102):\nJust checking - looks like you removed zlib-devel, libgc-devel, file, and patch from the prereqs - but are these fixes in yet?  Add these if necessary above.  What happened to libgc-devel and file?\n* #13914\n* #13844",
    "created_at": "2013-01-15T18:49:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47343",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:105" align="right">comment:105</div>

Replying to [@jpflori](#comment%3A102):
Just checking - looks like you removed zlib-devel, libgc-devel, file, and patch from the prereqs - but are these fixes in yet?  Add these if necessary above.  What happened to libgc-devel and file?
* #13914
* #13844



---

archive/issue_comments_047344.json:
```json
{
    "body": "<div id=\"comment:106\" align=\"right\">comment:106</div>\n\n> > 2. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg) (some Cygwin-specific workarounds removed)\n\n> I'll check this next.\n\nIt built and installed fine, with pretty much the same exact error in the tests, and factored the huge number fine in the console.  If all else is well, these spkgs can be included.  Well, I guess one of them is :)",
    "created_at": "2013-01-15T19:12:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47344",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:106" align="right">comment:106</div>

> > 2. [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.5.3.p3.spkg) (some Cygwin-specific workarounds removed)

> I'll check this next.

It built and installed fine, with pretty much the same exact error in the tests, and factored the huge number fine in the console.  If all else is well, these spkgs can be included.  Well, I guess one of them is :)



---

archive/issue_comments_047345.json:
```json
{
    "body": "<div id=\"comment:107\" align=\"right\">comment:107</div>\n\n> Not sure what exactly the pari p3 spkg is but the changes look sane (if the first hacks are indeed not needed anymore, the second one definitely looks useless now).\n\nI can't comment on whether these really are or are not necessary, but apparently not if self-tests are passing?  I haven't had a chance to test any files that *use* Pari, and I'll probably get forking errors anyway :(",
    "created_at": "2013-01-15T19:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47345",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:107" align="right">comment:107</div>

> Not sure what exactly the pari p3 spkg is but the changes look sane (if the first hacks are indeed not needed anymore, the second one definitely looks useless now).

I can't comment on whether these really are or are not necessary, but apparently not if self-tests are passing?  I haven't had a chance to test any files that *use* Pari, and I'll probably get forking errors anyway :(



---

archive/issue_comments_047346.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -36,6 +36,10 @@\n * #13137 (MPIR)\n * #13804 (fplll)\n * #13954 (GAP)\n+* #13914 (zlib)\n+  * This has not been tested on XP, but should work; otherwise install zlib-devel on Cygwin\n+* #13844 (patch)\n+  * This has not been tested on XP, but should work; otherwise install patch on Cygwin\n \n Optionally:\n * #9167 (ECL - optional, as only needed for starting Sage)\n``````\n",
    "created_at": "2013-01-15T19:20:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47346",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -36,6 +36,10 @@
 * #13137 (MPIR)
 * #13804 (fplll)
 * #13954 (GAP)
+* #13914 (zlib)
+  * This has not been tested on XP, but should work; otherwise install zlib-devel on Cygwin
+* #13844 (patch)
+  * This has not been tested on XP, but should work; otherwise install patch on Cygwin
 
 Optionally:
 * #9167 (ECL - optional, as only needed for starting Sage)
``````




---

archive/issue_comments_047347.json:
```json
{
    "body": "<div id=\"comment:109\" align=\"right\">comment:109</div>\n\nReplying to [@kcrisman](#comment%3A105):\n> Replying to [@jpflori](#comment%3A102):\n> Just checking - looks like you removed zlib-devel, libgc-devel, file, and patch from the prereqs - but are these fixes in yet?  Add these if necessary above.  What happened to libgc-devel and file?\n> * #13914\n> * #13844\n\nI removed them because I was able to build and run Sage without installing them;\nQuoting from [CygwinPort](../wiki/CygwinPort) the Cygwin packages I have installed:\n\n```\n$ cygcheck -c\nCygwin Package Information\nPackage              Version              Status\n_autorebase          000192-1             OK\n_update-info-dir     01100-1              OK\nalternatives         1.3.30c-10           OK\nbase-cygwin          3.1-1                OK\nbase-files           4.1-1                OK\nbash                 4.1.10-4             OK\nbinutils             2.22.51-2            OK\nbzip2                1.0.6-2              OK\ncoreutils            8.15-1               OK\ncrypt                1.2-1                OK\ncsih                 0.9.6-1              OK\ncygrunsrv            1.40-2               OK\ncygutils             1.4.10-2             OK\ncygwin               1.7.17-1             OK\ncygwin-doc           1.7-1                OK\ndash                 0.5.7-1              OK\ndiffutils            3.2-1                OK\ndos2unix             6.0.2-1              OK\neditrights           1.01-2               OK\nfile                 5.11-1               OK\nfindutils            4.5.9-2              OK\ngawk                 4.0.2-1              OK\ngcc4-core            4.5.3-3              OK\ngettext              0.18.1.1-2           OK\ngrep                 2.6.3-1              OK\ngroff                1.21-2               OK\ngzip                 1.4-1                OK\nipc-utils            1.0-1                OK\nlapack               3.4.2-1              OK\nless                 444-1                OK\nlibasn1_8            1.5.2-4              OK\nlibattr1             2.4.46-1             OK\nlibbz2_1             1.0.6-2              OK\nlibcharset1          1.14-2               OK\nlibcloog0            0.15.7-1             OK\nlibcom_err2          1.42.6-1             OK\nlibdb4.5             4.5.20.2-3           OK\nlibedit0             20120311-1           OK\nlibexpat1            2.1.0-1              OK\nlibffi4              4.5.3-3              OK\nlibgcc1              4.5.3-3              OK\nlibgdbm4             1.8.3-20             OK\nlibgfortran3         4.5.3-3              OK\nlibgmp3              4.3.2-1              OK\nlibgmpxx4            4.3.2-1              OK\nlibgomp1             4.5.3-3              OK\nlibgssapi3           1.5.2-4              OK\nlibheimbase1         1.5.2-4              OK\nlibheimntlm0         1.5.2-4              OK\nlibhx509_5           1.5.2-4              OK\nlibiconv             1.14-2               OK\nlibiconv2            1.14-2               OK\nlibintl8             0.18.1.1-2           OK\nlibkafs0             1.5.2-4              OK\nlibkrb5_26           1.5.2-4              OK\nliblapack-devel      3.4.2-1              OK\nliblapack0           3.4.2-1              OK\nliblzma5             5.0.2_20110517-1     OK\nlibmpc1              0.8-1                OK\nlibmpfr1             2.4.1-4              OK\nlibmpfr4             3.0.1-1              OK\nlibncurses-devel     5.7-18               OK\nlibncurses10         5.7-18               OK\nlibncurses9          5.7-16               OK\nlibncursesw10        5.7-18               OK\nlibopenssl100        1.0.1c-2             OK\nlibpcre0             8.21-2               OK\nlibpopt0             1.6.4-4              OK\nlibppl               0.10.2-1             OK\nlibreadline7         6.1.2-3              OK\nlibroken18           1.5.2-4              OK\nlibsigsegv2          2.10-1               OK\nlibsqlite3_0         3.7.13-1             OK\nlibssp0              4.5.3-3              OK\nlibstdc++6           4.5.3-3              OK\nlibwind0             1.5.2-4              OK\nlibwrap0             7.6-21               OK\nlibxml2              2.9.0-1              OK\nlogin                1.10-10              OK\nm4                   1.4.16-1             OK\nmake                 3.82.90-1            OK\nman                  1.6g-1               OK\nmintty               1.1.2-1              OK\nnano                 2.2.5-1              OK\nopenssh              6.1p1-1              OK\nperl                 5.14.2-3             OK\nperl_vendor          5.14.2-3             OK\nrebase               4.3.0-1              OK\nrun                  1.1.13-1             OK\nsed                  4.2.1-2              OK\ntar                  1.26-1               OK\nterminfo             5.7_20091114-14      OK\ntexinfo              4.13-4               OK\ntzcode               2012j-1              OK\nw32api               9999-1               OK\nw32api-headers       3.0b_svn5496-1       OK\nw32api-runtime       3.0b_svn5496-1       OK\nwhich                2.20-2               OK\nxz                   5.0.2_20110517-1     OK\nzlib0                1.2.7-1              OK\n```\nyou can check they were indeed not installed.\n\nOf course, you don't need patch and zlib-devel if you use the fixed spkg I posted at #13844 and #13914, not sure about libgc-devel, but hey it was not there and I had no problems yet.\nOf course I did not test everything so if it appears it is really needed, I'll put it back it as a prereq to \"run\" Sage.",
    "created_at": "2013-01-15T20:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47347",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:109" align="right">comment:109</div>

Replying to [@kcrisman](#comment%3A105):
> Replying to [@jpflori](#comment%3A102):
> Just checking - looks like you removed zlib-devel, libgc-devel, file, and patch from the prereqs - but are these fixes in yet?  Add these if necessary above.  What happened to libgc-devel and file?
> * #13914
> * #13844

I removed them because I was able to build and run Sage without installing them;
Quoting from [CygwinPort](../wiki/CygwinPort) the Cygwin packages I have installed:

```
$ cygcheck -c
Cygwin Package Information
Package              Version              Status
_autorebase          000192-1             OK
_update-info-dir     01100-1              OK
alternatives         1.3.30c-10           OK
base-cygwin          3.1-1                OK
base-files           4.1-1                OK
bash                 4.1.10-4             OK
binutils             2.22.51-2            OK
bzip2                1.0.6-2              OK
coreutils            8.15-1               OK
crypt                1.2-1                OK
csih                 0.9.6-1              OK
cygrunsrv            1.40-2               OK
cygutils             1.4.10-2             OK
cygwin               1.7.17-1             OK
cygwin-doc           1.7-1                OK
dash                 0.5.7-1              OK
diffutils            3.2-1                OK
dos2unix             6.0.2-1              OK
editrights           1.01-2               OK
file                 5.11-1               OK
findutils            4.5.9-2              OK
gawk                 4.0.2-1              OK
gcc4-core            4.5.3-3              OK
gettext              0.18.1.1-2           OK
grep                 2.6.3-1              OK
groff                1.21-2               OK
gzip                 1.4-1                OK
ipc-utils            1.0-1                OK
lapack               3.4.2-1              OK
less                 444-1                OK
libasn1_8            1.5.2-4              OK
libattr1             2.4.46-1             OK
libbz2_1             1.0.6-2              OK
libcharset1          1.14-2               OK
libcloog0            0.15.7-1             OK
libcom_err2          1.42.6-1             OK
libdb4.5             4.5.20.2-3           OK
libedit0             20120311-1           OK
libexpat1            2.1.0-1              OK
libffi4              4.5.3-3              OK
libgcc1              4.5.3-3              OK
libgdbm4             1.8.3-20             OK
libgfortran3         4.5.3-3              OK
libgmp3              4.3.2-1              OK
libgmpxx4            4.3.2-1              OK
libgomp1             4.5.3-3              OK
libgssapi3           1.5.2-4              OK
libheimbase1         1.5.2-4              OK
libheimntlm0         1.5.2-4              OK
libhx509_5           1.5.2-4              OK
libiconv             1.14-2               OK
libiconv2            1.14-2               OK
libintl8             0.18.1.1-2           OK
libkafs0             1.5.2-4              OK
libkrb5_26           1.5.2-4              OK
liblapack-devel      3.4.2-1              OK
liblapack0           3.4.2-1              OK
liblzma5             5.0.2_20110517-1     OK
libmpc1              0.8-1                OK
libmpfr1             2.4.1-4              OK
libmpfr4             3.0.1-1              OK
libncurses-devel     5.7-18               OK
libncurses10         5.7-18               OK
libncurses9          5.7-16               OK
libncursesw10        5.7-18               OK
libopenssl100        1.0.1c-2             OK
libpcre0             8.21-2               OK
libpopt0             1.6.4-4              OK
libppl               0.10.2-1             OK
libreadline7         6.1.2-3              OK
libroken18           1.5.2-4              OK
libsigsegv2          2.10-1               OK
libsqlite3_0         3.7.13-1             OK
libssp0              4.5.3-3              OK
libstdc++6           4.5.3-3              OK
libwind0             1.5.2-4              OK
libwrap0             7.6-21               OK
libxml2              2.9.0-1              OK
login                1.10-10              OK
m4                   1.4.16-1             OK
make                 3.82.90-1            OK
man                  1.6g-1               OK
mintty               1.1.2-1              OK
nano                 2.2.5-1              OK
openssh              6.1p1-1              OK
perl                 5.14.2-3             OK
perl_vendor          5.14.2-3             OK
rebase               4.3.0-1              OK
run                  1.1.13-1             OK
sed                  4.2.1-2              OK
tar                  1.26-1               OK
terminfo             5.7_20091114-14      OK
texinfo              4.13-4               OK
tzcode               2012j-1              OK
w32api               9999-1               OK
w32api-headers       3.0b_svn5496-1       OK
w32api-runtime       3.0b_svn5496-1       OK
which                2.20-2               OK
xz                   5.0.2_20110517-1     OK
zlib0                1.2.7-1              OK
```
you can check they were indeed not installed.

Of course, you don't need patch and zlib-devel if you use the fixed spkg I posted at #13844 and #13914, not sure about libgc-devel, but hey it was not there and I had no problems yet.
Of course I did not test everything so if it appears it is really needed, I'll put it back it as a prereq to "run" Sage.



---

archive/issue_comments_047348.json:
```json
{
    "body": "<div id=\"comment:110\" align=\"right\">comment:110</div>\n\nReplying to [@kcrisman](#comment%3A107):\n> > Not sure what exactly the pari p3 spkg is but the changes look sane (if the first hacks are indeed not needed anymore, the second one definitely looks useless now).\n\n> \n> I can't comment on whether these really are or are not necessary, but apparently not if self-tests are passing?  I haven't had a chance to test any files that *use* Pari, and I'll probably get forking errors anyway :(\n\nIf both you oon XP and I on 7 are able to \"build\" PARI, then these changes should definitely get in.\nThey remove useless Cygwin specific \"hacks\", so this is a good thing.\n\nAnd as I said, I think the second one is indeed useless, I barely have doubts about that, as it must have been fixed by a patch I suggested upstream.\n\nAs far as the second one is concerned, the fact you could build PARI leaves little doubt as well.",
    "created_at": "2013-01-15T20:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47348",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:110" align="right">comment:110</div>

Replying to [@kcrisman](#comment%3A107):
> > Not sure what exactly the pari p3 spkg is but the changes look sane (if the first hacks are indeed not needed anymore, the second one definitely looks useless now).

> 
> I can't comment on whether these really are or are not necessary, but apparently not if self-tests are passing?  I haven't had a chance to test any files that *use* Pari, and I'll probably get forking errors anyway :(

If both you oon XP and I on 7 are able to "build" PARI, then these changes should definitely get in.
They remove useless Cygwin specific "hacks", so this is a good thing.

And as I said, I think the second one is indeed useless, I barely have doubts about that, as it must have been fixed by a patch I suggested upstream.

As far as the second one is concerned, the fact you could build PARI leaves little doubt as well.



---

archive/issue_comments_047349.json:
```json
{
    "body": "<div id=\"comment:111\" align=\"right\">comment:111</div>\n\nReplying to [@jpflori](#comment%3A109):\n> Replying to [@kcrisman](#comment%3A105):\n> > Replying to [@jpflori](#comment%3A102):\n> > Just checking - looks like you removed zlib-devel, libgc-devel, file, and patch from the prereqs - but are these fixes in yet?  Add these if necessary above.  What happened to libgc-devel and file?\n> > * #13914\n> > * #13844\n\n> I removed them because I was able to build and run Sage without installing them;\n\nMy point was that you didn't add the two tickets here, without which assuredly patch would not have worked, which is used a lot!  I added them to the list above, as you can check.\n\nBut `file` is in your list in [comment:109](#comment%3A109), so I'm not sure why you removed it from the list.  Did it install with something else automatically?\n> Of course, you don't need patch and zlib-devel if you use the fixed spkg I posted at #13844 and #13914, not sure about libgc-devel, but hey it was not there and I had no problems yet.\n> Of course I did not test everything so if it appears it is really needed, I'll put it back it as a prereq to \"run\" Sage.\n\nIt's conceivable that libgc-devel is, but I think that #9617 fixed that.",
    "created_at": "2013-01-15T20:28:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47349",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:111" align="right">comment:111</div>

Replying to [@jpflori](#comment%3A109):
> Replying to [@kcrisman](#comment%3A105):
> > Replying to [@jpflori](#comment%3A102):
> > Just checking - looks like you removed zlib-devel, libgc-devel, file, and patch from the prereqs - but are these fixes in yet?  Add these if necessary above.  What happened to libgc-devel and file?
> > * #13914
> > * #13844

> I removed them because I was able to build and run Sage without installing them;

My point was that you didn't add the two tickets here, without which assuredly patch would not have worked, which is used a lot!  I added them to the list above, as you can check.

But `file` is in your list in [comment:109](#comment%3A109), so I'm not sure why you removed it from the list.  Did it install with something else automatically?
> Of course, you don't need patch and zlib-devel if you use the fixed spkg I posted at #13844 and #13914, not sure about libgc-devel, but hey it was not there and I had no problems yet.
> Of course I did not test everything so if it appears it is really needed, I'll put it back it as a prereq to "run" Sage.

It's conceivable that libgc-devel is, but I think that #9617 fixed that.



---

archive/issue_comments_047350.json:
```json
{
    "body": "<div id=\"comment:112\" align=\"right\">comment:112</div>\n\nReplying to [@kcrisman](#comment%3A111):\n\n> > I removed them because I was able to build and run Sage without installing them;\n\n> My point was that you didn't add the two tickets here, without which assuredly patch would not have worked, which is used a lot!  I added them to the list above, as you can check.\n\nGood point.\n> \n> But `file` is in your list in [comment:109](#comment%3A109), so I'm not sure why you removed it from the list.  Did it install with something else automatically?\n\nOops, I was not careful.\nBut indeed I did not explicitely add it, so either it was there with the basic Cygwin install, or it was pulled by something else, I'll tend to say it's the former solution as every time I installed something I had a quick look at what was pulled, but I might have missed it as well...",
    "created_at": "2013-01-15T20:33:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47350",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:112" align="right">comment:112</div>

Replying to [@kcrisman](#comment%3A111):

> > I removed them because I was able to build and run Sage without installing them;

> My point was that you didn't add the two tickets here, without which assuredly patch would not have worked, which is used a lot!  I added them to the list above, as you can check.

Good point.
> 
> But `file` is in your list in [comment:109](#comment%3A109), so I'm not sure why you removed it from the list.  Did it install with something else automatically?

Oops, I was not careful.
But indeed I did not explicitely add it, so either it was there with the basic Cygwin install, or it was pulled by something else, I'll tend to say it's the former solution as every time I installed something I had a quick look at what was pulled, but I might have missed it as well...



---

archive/issue_comments_047351.json:
```json
{
    "body": "<div id=\"comment:113\" align=\"right\">comment:113</div>\n\nReplying to [@kcrisman](#comment%3A101):\n> I assume there isn't a ticket yet :)\n\nNot yet.  I just noticed this Cygwin-specific stuff when working on #13921 and wondered whether it could be removed.  Apparently yes.",
    "created_at": "2013-01-15T22:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47351",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:113" align="right">comment:113</div>

Replying to [@kcrisman](#comment%3A101):
> I assume there isn't a ticket yet :)

Not yet.  I just noticed this Cygwin-specific stuff when working on #13921 and wondered whether it could be removed.  Apparently yes.



---

archive/issue_comments_047352.json:
```json
{
    "body": "<div id=\"comment:114\" align=\"right\">comment:114</div>\n\nI ran ptest over the night and the result is not bad at all, especially that I did not include all the fixes we have (lcalc, rpy2 ar least), some of them are time outs (potentially just because Cygwin is sloooooooooooow), some of them passed when reran (e.g. the maxima.py one) and some of them are still the PARI lacking memory (cos I cannot devise how to convince Cygwin to get more than 500000000 bytes).\n\nThe result is at http://boxen.math.washington.edu/home/jpflori/ptest-5.6.rc0-cygwin.log\n\nI've got a previous one at http://boxen.math.washington.edu/home/jpflori/ptest-5.5.rc0-cygwin.log which is not that bad as well.",
    "created_at": "2013-01-16T08:26:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47352",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:114" align="right">comment:114</div>

I ran ptest over the night and the result is not bad at all, especially that I did not include all the fixes we have (lcalc, rpy2 ar least), some of them are time outs (potentially just because Cygwin is sloooooooooooow), some of them passed when reran (e.g. the maxima.py one) and some of them are still the PARI lacking memory (cos I cannot devise how to convince Cygwin to get more than 500000000 bytes).

The result is at http://boxen.math.washington.edu/home/jpflori/ptest-5.6.rc0-cygwin.log

I've got a previous one at http://boxen.math.washington.edu/home/jpflori/ptest-5.5.rc0-cygwin.log which is not that bad as well.



---

archive/issue_comments_047353.json:
```json
{
    "body": "<div id=\"comment:115\" align=\"right\">comment:115</div>\n\nNot really sure anymore about the libncurses-devel dependency as I'm rebuilding singular on top of my 5.6.rc0 after removing libncurses-devel and it does not complain (yet).",
    "created_at": "2013-01-16T12:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47353",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:115" align="right">comment:115</div>

Not really sure anymore about the libncurses-devel dependency as I'm rebuilding singular on top of my 5.6.rc0 after removing libncurses-devel and it does not complain (yet).



---

archive/issue_comments_047354.json:
```json
{
    "body": "<div id=\"comment:116\" align=\"right\">comment:116</div>\n\nNew ptest log for 5.7.beta1 at\nhttp://boxen.math.washington.edu/home/jpflori/ptest-5.7.beta1-cygwin.log\n\nThe failing tests are:\n\n```\nThe following tests failed:\n\n\tsage -t  -force_lib devel/sagenb-main/sagenb/misc/misc.py # Exception from doctest framework\n\tsage -t  -force_lib devel/sage/sage/functions/other.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py # 96 doctests failed\n\tsage -t  -force_lib devel/sage/sage/graphs/genus.pyx # 2 doctests failed\n\tsage -t  -force_lib devel/sage/sage/gsl/ode.pyx # 3 doctests failed\n\tsage -t  -force_lib devel/sage/sage/libs/lcalc/lcalc_Lfunction.pyx # 69 doctests failed\n\tsage -t  -force_lib devel/sage/sage/libs/pari/gen.pyx # 4 doctests failed\n\tsage -t  -force_lib devel/sage/sage/misc/cython.py # 3 doctests failed\n\tsage -t  -force_lib devel/sage/sage/misc/getusage.py # 4 doctests failed\n\tsage -t  -force_lib devel/sage/sage/misc/inline_fortran.py # 3 doctests failed\n\tsage -t  -force_lib devel/sage/sage/misc/sageinspect.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage/sage/plot/graphics.py # Time out\n\tsage -t  -force_lib devel/sage/sage/plot/plot.py # Time out\n\tsage -t  -force_lib devel/sage/sage/plot/plot3d/implicit_plot3d.py # Time out\n\tsage -t  -force_lib devel/sage/sage/plot/plot3d/plot3d.py # Time out\n\tsage -t  -force_lib devel/sage/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py # 13 doctests failed\n\tsage -t  -force_lib devel/sage/sage/rings/arith.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage/sage/rings/tests.py # 4 doctests failed\n\tsage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/ell_rational_field.py # Time out\n\tsage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/heegner.py # Time out\n\tsage -t  -force_lib devel/sage/sage/schemes/toric/fano_variety.py # 12 doctests failed\n\tsage -t  -force_lib devel/sage/sage/symbolic/expression.pyx # 1 doctests failed\n\tsage -t  -force_lib devel/sage/sage/tests/cmdline.py # Time out\n----------------------------------------------------------------------\n```\n\nSome were expected:\n* sage/libs/lcalc/lcalc_Lfunction.pyx with fix at #13351\n* sage/geometry/lattice_polytope.py with fix at #13960\n* sage/schemes/toric/fano_variety.py is #13960 as well\n* sage/misc/getusage.py which is #9170\n* sage/graphs/genus.pyx which is in fact #9170\n* sage/libs/pari/gen.pyx which is also #9170\n* sage/rings/tests.py as well #9170\n* sage/quadratic_forms/quadratic_form__ternary_Tornaria.py which is hopefully the same pari stack problem as #9176\nSome are trivial:\n* sage/functions/other.py which is numerical noise\n* sage/rings/arith.py as well\n* sage/symbolic/expression.pyx as well\nSome look more serious:\n* sage/misc/cython.py but that might just be a dynamic library extension problem\n* sage/misc/inline_fortran.py which does not find gfortran?!\n* sage/misc/sageinspect.py -> fork errors... maybe a rebase could fix that\n* sage/gsl/ode.pyx\n\nAnd the other are timeouts (for now).\n\n\nBut the aim of this ticket is to build Sage, so I guess we can say we are quite finished with that :)\nAnd #13841 which aims at starting Sage is as well :)",
    "created_at": "2013-01-30T17:16:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47354",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:116" align="right">comment:116</div>

New ptest log for 5.7.beta1 at
http://boxen.math.washington.edu/home/jpflori/ptest-5.7.beta1-cygwin.log

The failing tests are:

```
The following tests failed:

	sage -t  -force_lib devel/sagenb-main/sagenb/misc/misc.py # Exception from doctest framework
	sage -t  -force_lib devel/sage/sage/functions/other.py # 1 doctests failed
	sage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py # 96 doctests failed
	sage -t  -force_lib devel/sage/sage/graphs/genus.pyx # 2 doctests failed
	sage -t  -force_lib devel/sage/sage/gsl/ode.pyx # 3 doctests failed
	sage -t  -force_lib devel/sage/sage/libs/lcalc/lcalc_Lfunction.pyx # 69 doctests failed
	sage -t  -force_lib devel/sage/sage/libs/pari/gen.pyx # 4 doctests failed
	sage -t  -force_lib devel/sage/sage/misc/cython.py # 3 doctests failed
	sage -t  -force_lib devel/sage/sage/misc/getusage.py # 4 doctests failed
	sage -t  -force_lib devel/sage/sage/misc/inline_fortran.py # 3 doctests failed
	sage -t  -force_lib devel/sage/sage/misc/sageinspect.py # 1 doctests failed
	sage -t  -force_lib devel/sage/sage/plot/graphics.py # Time out
	sage -t  -force_lib devel/sage/sage/plot/plot.py # Time out
	sage -t  -force_lib devel/sage/sage/plot/plot3d/implicit_plot3d.py # Time out
	sage -t  -force_lib devel/sage/sage/plot/plot3d/plot3d.py # Time out
	sage -t  -force_lib devel/sage/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py # 13 doctests failed
	sage -t  -force_lib devel/sage/sage/rings/arith.py # 1 doctests failed
	sage -t  -force_lib devel/sage/sage/rings/tests.py # 4 doctests failed
	sage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/ell_rational_field.py # Time out
	sage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/heegner.py # Time out
	sage -t  -force_lib devel/sage/sage/schemes/toric/fano_variety.py # 12 doctests failed
	sage -t  -force_lib devel/sage/sage/symbolic/expression.pyx # 1 doctests failed
	sage -t  -force_lib devel/sage/sage/tests/cmdline.py # Time out
----------------------------------------------------------------------
```

Some were expected:
* sage/libs/lcalc/lcalc_Lfunction.pyx with fix at #13351
* sage/geometry/lattice_polytope.py with fix at #13960
* sage/schemes/toric/fano_variety.py is #13960 as well
* sage/misc/getusage.py which is #9170
* sage/graphs/genus.pyx which is in fact #9170
* sage/libs/pari/gen.pyx which is also #9170
* sage/rings/tests.py as well #9170
* sage/quadratic_forms/quadratic_form__ternary_Tornaria.py which is hopefully the same pari stack problem as #9176
Some are trivial:
* sage/functions/other.py which is numerical noise
* sage/rings/arith.py as well
* sage/symbolic/expression.pyx as well
Some look more serious:
* sage/misc/cython.py but that might just be a dynamic library extension problem
* sage/misc/inline_fortran.py which does not find gfortran?!
* sage/misc/sageinspect.py -> fork errors... maybe a rebase could fix that
* sage/gsl/ode.pyx

And the other are timeouts (for now).


But the aim of this ticket is to build Sage, so I guess we can say we are quite finished with that :)
And #13841 which aims at starting Sage is as well :)



---

archive/issue_events_081143.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-30T17:16:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81143"
}
```



---

archive/issue_comments_047355.json:
```json
{
    "body": "<div id=\"comment:117\" align=\"right\">comment:117</div>\n\nFYI a rebase fixed the sage/misc/sageinspect.py failure.",
    "created_at": "2013-01-30T17:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47355",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:117" align="right">comment:117</div>

FYI a rebase fixed the sage/misc/sageinspect.py failure.



---

archive/issue_comments_047356.json:
```json
{
    "body": "<div id=\"comment:118\" align=\"right\">comment:118</div>\n\nReplying to [@jpflori](#comment%3A116):\n> New ptest log for 5.7.beta1 at\n> http://boxen.math.washington.edu/home/jpflori/ptest-5.7.beta1-cygwin.log\n\n>\n> Some were expected:\n>* sage/libs/lcalc/lcalc_Lfunction.pyx with fix at #13351\n\nFixed by #13351 indeed.\n> * sage/geometry/lattice_polytope.py with fix at #13960\n> * sage/schemes/toric/fano_variety.py is #13960 as well\n\nBoth fixed by #13960 indeed.\n> * sage/misc/getusage.py which is #9170\n> * sage/graphs/genus.pyx which is in fact #9170\n> * sage/libs/pari/gen.pyx which is also #9170\n> * sage/rings/tests.py as well #9170\n\nAll fixed by #9170 indeed.\n> * sage/quadratic_forms/quadratic_form__ternary_Tornaria.py which is hopefully the same pari stack problem as #9176\n\nFixed after increasing the max cygwin heap size of python.exe using peflags (\"peflags --cygwin-heap=600 local/bin/python.exe\").\n> Some are trivial:\n> * sage/functions/other.py which is numerical noise\n> * sage/rings/arith.py as well\n> * sage/symbolic/expression.pyx as well\n> Some look more serious:\n> * sage/misc/cython.py but that might just be a dynamic library extension problem\n> * sage/misc/inline_fortran.py which does not find gfortran?!\n> * sage/misc/sageinspect.py -> fork errors... maybe a rebase could fix that\n> * sage/gsl/ode.pyx\n> \n> And the other are timeouts (for now).\n> \n> \n> But the aim of this ticket is to build Sage, so I guess we can say we are quite finished with that :)\n> And #13841 which aims at starting Sage is as well :)",
    "created_at": "2013-01-30T17:52:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47356",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:118" align="right">comment:118</div>

Replying to [@jpflori](#comment%3A116):
> New ptest log for 5.7.beta1 at
> http://boxen.math.washington.edu/home/jpflori/ptest-5.7.beta1-cygwin.log

>
> Some were expected:
>* sage/libs/lcalc/lcalc_Lfunction.pyx with fix at #13351

Fixed by #13351 indeed.
> * sage/geometry/lattice_polytope.py with fix at #13960
> * sage/schemes/toric/fano_variety.py is #13960 as well

Both fixed by #13960 indeed.
> * sage/misc/getusage.py which is #9170
> * sage/graphs/genus.pyx which is in fact #9170
> * sage/libs/pari/gen.pyx which is also #9170
> * sage/rings/tests.py as well #9170

All fixed by #9170 indeed.
> * sage/quadratic_forms/quadratic_form__ternary_Tornaria.py which is hopefully the same pari stack problem as #9176

Fixed after increasing the max cygwin heap size of python.exe using peflags ("peflags --cygwin-heap=600 local/bin/python.exe").
> Some are trivial:
> * sage/functions/other.py which is numerical noise
> * sage/rings/arith.py as well
> * sage/symbolic/expression.pyx as well
> Some look more serious:
> * sage/misc/cython.py but that might just be a dynamic library extension problem
> * sage/misc/inline_fortran.py which does not find gfortran?!
> * sage/misc/sageinspect.py -> fork errors... maybe a rebase could fix that
> * sage/gsl/ode.pyx
> 
> And the other are timeouts (for now).
> 
> 
> But the aim of this ticket is to build Sage, so I guess we can say we are quite finished with that :)
> And #13841 which aims at starting Sage is as well :)



---

archive/issue_comments_047357.json:
```json
{
    "body": "<div id=\"comment:119\" align=\"right\">comment:119</div>\n\nReplying to [@jpflori](#comment%3A118):\n> > Some are trivial:\n> > * sage/functions/other.py which is numerical noise\n> > * sage/rings/arith.py as well\n> > * sage/symbolic/expression.pyx as well\n\nSee https://groups.google.com/d/topic/sage-devel/QACdziLhniU/discussion which looks related.",
    "created_at": "2013-01-30T17:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47357",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:119" align="right">comment:119</div>

Replying to [@jpflori](#comment%3A118):
> > Some are trivial:
> > * sage/functions/other.py which is numerical noise
> > * sage/rings/arith.py as well
> > * sage/symbolic/expression.pyx as well

See https://groups.google.com/d/topic/sage-devel/QACdziLhniU/discussion which looks related.



---

archive/issue_comments_047358.json:
```json
{
    "body": "<div id=\"comment:120\" align=\"right\">comment:120</div>\n\n> But the aim of this ticket is to build Sage, so I guess we can say we are quite finished with that :)\n> And #13841 which aims at starting Sage is as well :) \n\nAwesome!  But we do need something in prereq or configure or SOMEWHERE that ensures that these things still will stay the case.  So we can't close it yet.",
    "created_at": "2013-01-30T17:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47358",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:120" align="right">comment:120</div>

> But the aim of this ticket is to build Sage, so I guess we can say we are quite finished with that :)
> And #13841 which aims at starting Sage is as well :) 

Awesome!  But we do need something in prereq or configure or SOMEWHERE that ensures that these things still will stay the case.  So we can't close it yet.



---

archive/issue_events_081144.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-30T18:46:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81144"
}
```



---

archive/issue_events_081145.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-01-30T18:46:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81145"
}
```



---

archive/issue_comments_047359.json:
```json
{
    "body": "<div id=\"comment:121\" align=\"right\">comment:121</div>\n\nAfter increasing SAGE_TIMEOUT, the following tests passed:\n* sage/plot/graphics.py\n* sage/plot/plot3d/implicit_plot3d.py\n* sage/plot/plot3d/plot3d.py\n* sage/schemes/elliptic_curves/heegner.py\n\nThe following still fail:\n* sage/plot/plot.py problems with GSL like sage/gsl/ode.pyx (GSL handler blabla)\n* sage/schemes/elliptic_curves/ell_rational_field.py fork erros it seems when starting external programs\n* sage/tests/cmdline.py seemingly fork errors (calling os.fork() might not be a great idea)\n\nAnd there is the one I omitted before:\n* sagenb/misc/misc.py # Exception from doctest framework\nThe exception bit seems to be from an error I had with previous release as well about an alarm set to 1 second and is random.\nI guess Cygwin is just to slow for such a timeout.\nAfter a few tries I indeed get a bunch only one real error on the test with 'print \"ignore this' because of a (Python) RuntimeError about \"no available port\" from the find_next_available_port function.",
    "created_at": "2013-01-30T18:46:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47359",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:121" align="right">comment:121</div>

After increasing SAGE_TIMEOUT, the following tests passed:
* sage/plot/graphics.py
* sage/plot/plot3d/implicit_plot3d.py
* sage/plot/plot3d/plot3d.py
* sage/schemes/elliptic_curves/heegner.py

The following still fail:
* sage/plot/plot.py problems with GSL like sage/gsl/ode.pyx (GSL handler blabla)
* sage/schemes/elliptic_curves/ell_rational_field.py fork erros it seems when starting external programs
* sage/tests/cmdline.py seemingly fork errors (calling os.fork() might not be a great idea)

And there is the one I omitted before:
* sagenb/misc/misc.py # Exception from doctest framework
The exception bit seems to be from an error I had with previous release as well about an alarm set to 1 second and is random.
I guess Cygwin is just to slow for such a timeout.
After a few tries I indeed get a bunch only one real error on the test with 'print "ignore this' because of a (Python) RuntimeError about "no available port" from the find_next_available_port function.



---

archive/issue_comments_047360.json:
```json
{
    "body": "<div id=\"comment:122\" align=\"right\">comment:122</div>\n\n> After increasing SAGE_TIMEOUT, the following tests passed:\n\nMaybe it's time to open a new ticket to get Cygwin to pass all tests (at least on 64-bit)?",
    "created_at": "2013-01-30T19:02:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47360",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:122" align="right">comment:122</div>

> After increasing SAGE_TIMEOUT, the following tests passed:

Maybe it's time to open a new ticket to get Cygwin to pass all tests (at least on 64-bit)?



---

archive/issue_comments_047361.json:
```json
{
    "body": "<div id=\"comment:123\" align=\"right\">comment:123</div>\n\nYep, I guess so.\nAlthough I'm not convinced we will ever be able to deal with the one involving horrible fork errors.",
    "created_at": "2013-01-30T20:03:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47361",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:123" align="right">comment:123</div>

Yep, I guess so.
Although I'm not convinced we will ever be able to deal with the one involving horrible fork errors.



---

archive/issue_comments_047362.json:
```json
{
    "body": "<div id=\"comment:124\" align=\"right\">comment:124</div>\n\nWell, it was partly rhetorical!  Maybe we could repurpose #13841 to have it pass most reasonable tests.\n\nSorry I can't help at all right now other than morally - zero time and of course crazy fork/BLODA problems.  I will try to ask my computer folks for a Win 7 box to try things on when things calm down.",
    "created_at": "2013-01-31T02:09:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47362",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:124" align="right">comment:124</div>

Well, it was partly rhetorical!  Maybe we could repurpose #13841 to have it pass most reasonable tests.

Sorry I can't help at all right now other than morally - zero time and of course crazy fork/BLODA problems.  I will try to ask my computer folks for a Win 7 box to try things on when things calm down.



---

archive/issue_comments_047363.json:
```json
{
    "body": "<div id=\"comment:125\" align=\"right\">comment:125</div>\n\nReplying to [@kcrisman](#comment%3A106):\n> It built and installed fine, with pretty much the same exact error in the tests, and factored the huge number fine in the console.  If all else is well, these spkgs can be included.  Well, I guess one of them is :)\n\nI have to update PARI anyway for #13054 and will remove all Cygwin-specific code from `spkg-install`.",
    "created_at": "2013-01-31T13:16:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47363",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:125" align="right">comment:125</div>

Replying to [@kcrisman](#comment%3A106):
> It built and installed fine, with pretty much the same exact error in the tests, and factored the huge number fine in the console.  If all else is well, these spkgs can be included.  Well, I guess one of them is :)

I have to update PARI anyway for #13054 and will remove all Cygwin-specific code from `spkg-install`.



---

archive/issue_comments_047364.json:
```json
{
    "body": "<div id=\"comment:126\" align=\"right\">comment:126</div>\n\n> > It built and installed fine, with pretty much the same exact error in the tests, and factored the huge number fine in the console.  If all else is well, these spkgs can be included.  Well, I guess one of them is :)\n\n> \n> I have to update PARI anyway for #13054 and will remove all Cygwin-specific code from `spkg-install`.\n\nJP, did you have any problems with this?  I guess you can just try the spkg from #13054, which does what Jeroen says.",
    "created_at": "2013-01-31T14:52:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47364",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:126" align="right">comment:126</div>

> > It built and installed fine, with pretty much the same exact error in the tests, and factored the huge number fine in the console.  If all else is well, these spkgs can be included.  Well, I guess one of them is :)

> 
> I have to update PARI anyway for #13054 and will remove all Cygwin-specific code from `spkg-install`.

JP, did you have any problems with this?  I guess you can just try the spkg from #13054, which does what Jeroen says.



---

archive/issue_comments_047365.json:
```json
{
    "body": "<div id=\"comment:127\" align=\"right\">comment:127</div>\n\nFYI, although it might be unrelated, the GSL failing tests passed after I installed a shared version of the lib and rebuilt the related Sage library files.",
    "created_at": "2013-02-04T21:06:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47365",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:127" align="right">comment:127</div>

FYI, although it might be unrelated, the GSL failing tests passed after I installed a shared version of the lib and rebuilt the related Sage library files.



---

archive/issue_comments_047366.json:
```json
{
    "body": "<div id=\"comment:128\" align=\"right\">comment:128</div>\n\nI've started building 5.7.beta2 plus some patches on a notebook running a 32 bits Windows 7 install.",
    "created_at": "2013-02-05T09:55:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47366",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:128" align="right">comment:128</div>

I've started building 5.7.beta2 plus some patches on a notebook running a 32 bits Windows 7 install.



---

archive/issue_comments_047367.json:
```json
{
    "body": "<div id=\"comment:129\" align=\"right\">comment:129</div>\n\nR was upgraded at #14008 and merged in sage-5.7.beta2 and now needs math functions for long doubles, more precisely logl, which is not provided by Cygwin's libm.\n\nNot sure if its possible to disable the use of this function in R, otherwise I guess we're back to installing Cephes on Cygwin.",
    "created_at": "2013-02-06T14:23:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47367",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:129" align="right">comment:129</div>

R was upgraded at #14008 and merged in sage-5.7.beta2 and now needs math functions for long doubles, more precisely logl, which is not provided by Cygwin's libm.

Not sure if its possible to disable the use of this function in R, otherwise I guess we're back to installing Cephes on Cygwin.



---

archive/issue_comments_047368.json:
```json
{
    "body": "<div id=\"comment:130\" align=\"right\">comment:130</div>\n\nIn the devel version there is support to build without long double, see\nhttp://stat.ethz.ch/R-manual/R-devel/doc/html/NEWS.html\nbut that does not seem to be the case in 2.15.2.",
    "created_at": "2013-02-06T14:36:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47368",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:130" align="right">comment:130</div>

In the devel version there is support to build without long double, see
http://stat.ethz.ch/R-manual/R-devel/doc/html/NEWS.html
but that does not seem to be the case in 2.15.2.



---

archive/issue_comments_047369.json:
```json
{
    "body": "<div id=\"comment:131\" align=\"right\">comment:131</div>\n\nReplying to [@jpflori](#comment%3A129):\n> R was upgraded at #14008 and merged in sage-5.7.beta2 and now needs math functions for long doubles, more precisely logl, which is not provided by Cygwin's libm.\n> \n> Not sure if its possible to disable the use of this function in R, otherwise I guess we're back to installing Cephes on Cygwin.\n\nYes, that's where my Cygwin install of 5.7.beta2 got stuck, too.\n\nas a temporary plug, we can do something like\n\n```\n#define logl log\n```\nin the right place.\nCygwin has a weird long double size - 12 bytes, so in that sense it's not as huge loss of precision as for sane platforms.",
    "created_at": "2013-02-06T14:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47369",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:131" align="right">comment:131</div>

Replying to [@jpflori](#comment%3A129):
> R was upgraded at #14008 and merged in sage-5.7.beta2 and now needs math functions for long doubles, more precisely logl, which is not provided by Cygwin's libm.
> 
> Not sure if its possible to disable the use of this function in R, otherwise I guess we're back to installing Cephes on Cygwin.

Yes, that's where my Cygwin install of 5.7.beta2 got stuck, too.

as a temporary plug, we can do something like

```
#define logl log
```
in the right place.
Cygwin has a weird long double size - 12 bytes, so in that sense it's not as huge loss of precision as for sane platforms.



---

archive/issue_comments_047370.json:
```json
{
    "body": "<div id=\"comment:132\" align=\"right\">comment:132</div>\n\nI'm seeing if we cannot just backport the support for --disable-long-double.\nThat seems difficult but who knows.",
    "created_at": "2013-02-06T14:47:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47370",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:132" align="right">comment:132</div>

I'm seeing if we cannot just backport the support for --disable-long-double.
That seems difficult but who knows.



---

archive/issue_comments_047371.json:
```json
{
    "body": "<div id=\"comment:133\" align=\"right\">comment:133</div>\n\nReplying to [@dimpase](#comment%3A131):\n> Replying to [@jpflori](#comment%3A129):\n> > R was upgraded at #14008 and merged in sage-5.7.beta2 and now needs math functions for long doubles, more precisely logl, which is not provided by Cygwin's libm.\n> > \n> > Not sure if its possible to disable the use of this function in R, otherwise I guess we're back to installing Cephes on Cygwin.\n\n> Yes, that's where my Cygwin install of 5.7.beta2 got stuck, too.\n> \n> as a temporary plug, we can do something like\n> \n> ```\n> #define logl log\n> ```\n> in the right place.\n\nFYI this is exactly what R (not using the same mechanism) does when --disable-long-double.\n> Cygwin has a weird long double size - 12 bytes, so in that sense it's not as huge loss of precision as for sane platforms.",
    "created_at": "2013-02-06T17:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47371",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:133" align="right">comment:133</div>

Replying to [@dimpase](#comment%3A131):
> Replying to [@jpflori](#comment%3A129):
> > R was upgraded at #14008 and merged in sage-5.7.beta2 and now needs math functions for long doubles, more precisely logl, which is not provided by Cygwin's libm.
> > 
> > Not sure if its possible to disable the use of this function in R, otherwise I guess we're back to installing Cephes on Cygwin.

> Yes, that's where my Cygwin install of 5.7.beta2 got stuck, too.
> 
> as a temporary plug, we can do something like
> 
> ```
> #define logl log
> ```
> in the right place.

FYI this is exactly what R (not using the same mechanism) does when --disable-long-double.
> Cygwin has a weird long double size - 12 bytes, so in that sense it's not as huge loss of precision as for sane platforms.



---

archive/issue_comments_047372.json:
```json
{
    "body": "<div id=\"comment:134\" align=\"right\">comment:134</div>\n\nBut it also completely disable long double, which is a little unfortunate, so I guess we'll have to provide a custom patch to just disable the use of logl.\n\nIt later lots of such functions get used we could consider falling back to --disable-long-double or using Cephes.\n\nAny thoughts?",
    "created_at": "2013-02-06T17:34:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47372",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:134" align="right">comment:134</div>

But it also completely disable long double, which is a little unfortunate, so I guess we'll have to provide a custom patch to just disable the use of logl.

It later lots of such functions get used we could consider falling back to --disable-long-double or using Cephes.

Any thoughts?



---

archive/issue_comments_047373.json:
```json
{
    "body": "<div id=\"comment:135\" align=\"right\">comment:135</div>\n\nAnything that allows us to get this Cygwin show on the road is best, assuming it is not about \"core\" functionality.  I think it's okay to have the custom patch as long as it doesn't break R being used at all; we shouldn't be relying on R for multi precision stuff anyway.  Add that patch just for Cygwin.",
    "created_at": "2013-02-06T17:58:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47373",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:135" align="right">comment:135</div>

Anything that allows us to get this Cygwin show on the road is best, assuming it is not about "core" functionality.  I think it's okay to have the custom patch as long as it doesn't break R being used at all; we shouldn't be relying on R for multi precision stuff anyway.  Add that patch just for Cygwin.



---

archive/issue_comments_047374.json:
```json
{
    "body": "<div id=\"comment:136\" align=\"right\">comment:136</div>\n\nSee #14078 for the R issue.\n\nBy the way all Sage and its doc built fine on my 32 bits Windows 7.",
    "created_at": "2013-02-07T10:09:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47374",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:136" align="right">comment:136</div>

See #14078 for the R issue.

By the way all Sage and its doc built fine on my 32 bits Windows 7.



---

archive/issue_comments_047375.json:
```json
{
    "body": "<div id=\"comment:137\" align=\"right\">comment:137</div>\n\nAnd result of \"make ptest\" is\n\n```\nThe following tests failed:\n\n\tsage -t  -force_lib devel/sagenb-main/sagenb/misc/misc.py # Exception from doctest framework\n\tsage -t  -force_lib devel/sage/sage/combinat/partition_algebra.py # Time out\n\tsage -t  -force_lib devel/sage/sage/combinat/skew_tableau.py # Time out\n\tsage -t  -force_lib devel/sage/sage/combinat/crystals/kirillov_reshetikhin.py # Time out\n\tsage -t  -force_lib devel/sage/sage/functions/other.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py # Time out\n\tsage -t  -force_lib devel/sage/sage/groups/perm_gps/cubegroup.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage/sage/interfaces/sage0.py # Time out\n\tsage -t  -force_lib devel/sage/sage/libs/gap/test_long.py # Time out\n\tsage -t  -force_lib devel/sage/sage/misc/cython.py # 3 doctests failed\n\tsage -t  -force_lib devel/sage/sage/misc/inline_fortran.py # 3 doctests failed\n\tsage -t  -force_lib devel/sage/sage/misc/temporary_file.py # 5 doctests failed\n\tsage -t  -force_lib devel/sage/sage/plot/graphics.py # Time out\n\tsage -t  -force_lib devel/sage/sage/plot/plot.py # Time out\n\tsage -t  -force_lib devel/sage/sage/plot/plot3d/implicit_plot3d.py # Time out\n\tsage -t  -force_lib devel/sage/sage/plot/plot3d/plot3d.py # Time out\n\tsage -t  -force_lib devel/sage/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py # 13 doctests failed\n\tsage -t  -force_lib devel/sage/sage/rings/arith.py # 1 doctests failed\n\tsage -t  -force_lib devel/sage/sage/sandpiles/sandpile.py # Time out\n\tsage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/ell_number_field.py # Time out\n\tsage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/ell_rational_field.py # Time out\n\tsage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/heegner.py # Time out\n\tsage -t  -force_lib devel/sage/sage/symbolic/expression.pyx # 1 doctests failed\n\tsage -t  -force_lib devel/sage/sage/tests/cmdline.py # Time out\n----------------------------------------------------------------------\nTotal time for all tests: 92015.4 seconds\n```",
    "created_at": "2013-02-08T12:32:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47375",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:137" align="right">comment:137</div>

And result of "make ptest" is

```
The following tests failed:

	sage -t  -force_lib devel/sagenb-main/sagenb/misc/misc.py # Exception from doctest framework
	sage -t  -force_lib devel/sage/sage/combinat/partition_algebra.py # Time out
	sage -t  -force_lib devel/sage/sage/combinat/skew_tableau.py # Time out
	sage -t  -force_lib devel/sage/sage/combinat/crystals/kirillov_reshetikhin.py # Time out
	sage -t  -force_lib devel/sage/sage/functions/other.py # 1 doctests failed
	sage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py # Time out
	sage -t  -force_lib devel/sage/sage/groups/perm_gps/cubegroup.py # 1 doctests failed
	sage -t  -force_lib devel/sage/sage/interfaces/sage0.py # Time out
	sage -t  -force_lib devel/sage/sage/libs/gap/test_long.py # Time out
	sage -t  -force_lib devel/sage/sage/misc/cython.py # 3 doctests failed
	sage -t  -force_lib devel/sage/sage/misc/inline_fortran.py # 3 doctests failed
	sage -t  -force_lib devel/sage/sage/misc/temporary_file.py # 5 doctests failed
	sage -t  -force_lib devel/sage/sage/plot/graphics.py # Time out
	sage -t  -force_lib devel/sage/sage/plot/plot.py # Time out
	sage -t  -force_lib devel/sage/sage/plot/plot3d/implicit_plot3d.py # Time out
	sage -t  -force_lib devel/sage/sage/plot/plot3d/plot3d.py # Time out
	sage -t  -force_lib devel/sage/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py # 13 doctests failed
	sage -t  -force_lib devel/sage/sage/rings/arith.py # 1 doctests failed
	sage -t  -force_lib devel/sage/sage/sandpiles/sandpile.py # Time out
	sage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/ell_number_field.py # Time out
	sage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/ell_rational_field.py # Time out
	sage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/heegner.py # Time out
	sage -t  -force_lib devel/sage/sage/symbolic/expression.pyx # 1 doctests failed
	sage -t  -force_lib devel/sage/sage/tests/cmdline.py # Time out
----------------------------------------------------------------------
Total time for all tests: 92015.4 seconds
```



---

archive/issue_comments_047376.json:
```json
{
    "body": "<div id=\"comment:138\" align=\"right\">comment:138</div>\n\nLog is at http://boxen.math.washington.edu/home/jpflori/ptest-5.7.beta2-cygwin-w7-32.log\n\nApart from time outs and errors similar to the one on my 64 bits W7, we got:\n* cubegroup.py, strange error about string out of range,\n* temporary_file.py which looks like a time out as well.",
    "created_at": "2013-02-08T12:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47376",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:138" align="right">comment:138</div>

Log is at http://boxen.math.washington.edu/home/jpflori/ptest-5.7.beta2-cygwin-w7-32.log

Apart from time outs and errors similar to the one on my 64 bits W7, we got:
* cubegroup.py, strange error about string out of range,
* temporary_file.py which looks like a time out as well.



---

archive/issue_comments_047377.json:
```json
{
    "body": "<div id=\"comment:139\" align=\"right\">comment:139</div>\n\nIncreasing the timeout limit, let all tests which teimed out pass except for:\n* heegner.py because of the limited size of the PARI stack,\n* cmdline.py which fails like temporary_file.py because of \"timeout in test_executable()\", note there were no fork errors!",
    "created_at": "2013-02-08T13:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47377",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:139" align="right">comment:139</div>

Increasing the timeout limit, let all tests which teimed out pass except for:
* heegner.py because of the limited size of the PARI stack,
* cmdline.py which fails like temporary_file.py because of "timeout in test_executable()", note there were no fork errors!



---

archive/issue_comments_047378.json:
```json
{
    "body": "<div id=\"comment:140\" align=\"right\">comment:140</div>\n\nAlso note that sage/schemes/elliptic_curves/ell_rational_field.py did not fail with fork errors as on my 64bits W7.",
    "created_at": "2013-02-08T13:34:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47378",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:140" align="right">comment:140</div>

Also note that sage/schemes/elliptic_curves/ell_rational_field.py did not fail with fork errors as on my 64bits W7.



---

archive/issue_comments_047379.json:
```json
{
    "body": "<div id=\"comment:141\" align=\"right\">comment:141</div>\n\nReplying to [@jpflori](#comment%3A139):\n> heegner.py because of the limited size of the PARI stack\n\nIt's known that this test simply needs a lot of RAM, so perhaps your machine doesn't have enough memory available. What's the error message and how much memory do you have?",
    "created_at": "2013-02-08T13:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47379",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:141" align="right">comment:141</div>

Replying to [@jpflori](#comment%3A139):
> heegner.py because of the limited size of the PARI stack

It's known that this test simply needs a lot of RAM, so perhaps your machine doesn't have enough memory available. What's the error message and how much memory do you have?



---

archive/issue_comments_047380.json:
```json
{
    "body": "<div id=\"comment:142\" align=\"right\">comment:142</div>\n\nReplying to [@jdemeyer](#comment%3A141):\n> Replying to [@jpflori](#comment%3A139):\n> > heegner.py because of the limited size of the PARI stack\n\n> It's known that this test simply needs a lot of RAM, so perhaps your machine doesn't have enough memory available. What's the error message and how much memory do you have?\n\nI'm aware of that, I was just reporting the results of a straight test.\nThe problem on Cygwin is that the maximal virtual memomy available is limited to something quite low by default, I'd say about 512MB.\nIn particular it prevents the PARI stack to grow above (a little less than) this limit, even if you have 1 billion GB of RAM available.\nThe solution is to modify this limit by hand for the python.exe file using the peflags executable, see some comments on #9176.",
    "created_at": "2013-02-08T13:43:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47380",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:142" align="right">comment:142</div>

Replying to [@jdemeyer](#comment%3A141):
> Replying to [@jpflori](#comment%3A139):
> > heegner.py because of the limited size of the PARI stack

> It's known that this test simply needs a lot of RAM, so perhaps your machine doesn't have enough memory available. What's the error message and how much memory do you have?

I'm aware of that, I was just reporting the results of a straight test.
The problem on Cygwin is that the maximal virtual memomy available is limited to something quite low by default, I'd say about 512MB.
In particular it prevents the PARI stack to grow above (a little less than) this limit, even if you have 1 billion GB of RAM available.
The solution is to modify this limit by hand for the python.exe file using the peflags executable, see some comments on #9176.



---

archive/issue_comments_047381.json:
```json
{
    "body": "<div id=\"comment:143\" align=\"right\">comment:143</div>\n\nOK fair enough, you obviously already thought about this :-)",
    "created_at": "2013-02-08T13:50:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47381",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:143" align="right">comment:143</div>

OK fair enough, you obviously already thought about this :-)



---

archive/issue_comments_047382.json:
```json
{
    "body": "<div id=\"comment:144\" align=\"right\">comment:144</div>\n\nAfter increasing the timeout value in sage/tests/cmdline.py:test_executable():\n* temporary_file.py passes,\n* one doctest fails in cmdline.py, the one at line 376 which return -6 instead of 0.",
    "created_at": "2013-02-08T14:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47382",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:144" align="right">comment:144</div>

After increasing the timeout value in sage/tests/cmdline.py:test_executable():
* temporary_file.py passes,
* one doctest fails in cmdline.py, the one at line 376 which return -6 instead of 0.



---

archive/issue_comments_047383.json:
```json
{
    "body": "<div id=\"comment:145\" align=\"right\">comment:145</div>\n\nFYI, quadratic_form__ternary_Tornaria.py and heegner.py pass their doctests after peflagging python.exe with cygwin-heap=600",
    "created_at": "2013-02-08T14:41:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47383",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:145" align="right">comment:145</div>

FYI, quadratic_form__ternary_Tornaria.py and heegner.py pass their doctests after peflagging python.exe with cygwin-heap=600



---

archive/issue_comments_047384.json:
```json
{
    "body": "<div id=\"comment:146\" align=\"right\">comment:146</div>\n\nAnd going through the \"alarm set to 1 second\" hassle, devel/sagenb-main/sagenb/misc/misc.py passed its doctests contrary to my 64bits W7 install (no port available blah).",
    "created_at": "2013-02-08T15:24:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47384",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:146" align="right">comment:146</div>

And going through the "alarm set to 1 second" hassle, devel/sagenb-main/sagenb/misc/misc.py passed its doctests contrary to my 64bits W7 install (no port available blah).



---

archive/issue_comments_047385.json:
```json
{
    "body": "<div id=\"comment:147\" align=\"right\">comment:147</div>\n\nI guess that with #14033, #11696 and #13351 Sage should build, run and pass tests quite nicely.\n\nNow let's take care of adding some doc and modifying prereqs or whatever.",
    "created_at": "2013-02-12T21:18:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47385",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:147" align="right">comment:147</div>

I guess that with #14033, #11696 and #13351 Sage should build, run and pass tests quite nicely.

Now let's take care of adding some doc and modifying prereqs or whatever.



---

archive/issue_comments_047386.json:
```json
{
    "body": "<div id=\"comment:148\" align=\"right\">comment:148</div>\n\nReplying to [@jpflori](#comment%3A139):\n> * cmdline.py which fails like temporary_file.py because of \"timeout in test_executable()\", note there were no fork errors!\n\nQuestion for Jeroen: how would you deal with such problems? and even more with the one with the alarm set to 1 second getting triggered when one tries to launch the notebook? would setting the default timeoutsvelue to None and then setting then to something sensible in the function code depending on uname seem ok?",
    "created_at": "2013-02-12T21:20:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47386",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:148" align="right">comment:148</div>

Replying to [@jpflori](#comment%3A139):
> * cmdline.py which fails like temporary_file.py because of "timeout in test_executable()", note there were no fork errors!

Question for Jeroen: how would you deal with such problems? and even more with the one with the alarm set to 1 second getting triggered when one tries to launch the notebook? would setting the default timeoutsvelue to None and then setting then to something sensible in the function code depending on uname seem ok?



---

archive/issue_comments_047387.json:
```json
{
    "body": "<div id=\"comment:149\" align=\"right\">comment:149</div>\n\nfew things about Cygwin rebase/rebaseall.\n \n* we should rebase .so files, too;\n* `rebase` has a new handy -O switch, which means rebase (new) things, but do not touch the system dlls. So instead of rebaseall, assuming one installs Sage on a system without previous versions of Sage installed, one can do, at the Cygwin shell (no need to kill all the Cygwin processes, as is the case for rebaseall):\n\n```\n$ cd $SAGE_ROOT\n$ find . -name *.dll >/tmp/list_of_files\n$ find . -name *.so >>/tmp/list_of_files\n$ rebase -O -T /tmp/list_of_files\n```\n* previous versions of Sage clog up the limited static dll address space maintained by Cygwin in `/etc/rebase*` databases. I recommend to wipe them out before installing the new version of Sage; i.e. remove Sage installation(s) and `/etc/rebase*` and run rebaseall as usual, in `ash` or `dash`.",
    "created_at": "2013-02-13T04:43:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47387",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:149" align="right">comment:149</div>

few things about Cygwin rebase/rebaseall.
 
* we should rebase .so files, too;
* `rebase` has a new handy -O switch, which means rebase (new) things, but do not touch the system dlls. So instead of rebaseall, assuming one installs Sage on a system without previous versions of Sage installed, one can do, at the Cygwin shell (no need to kill all the Cygwin processes, as is the case for rebaseall):

```
$ cd $SAGE_ROOT
$ find . -name *.dll >/tmp/list_of_files
$ find . -name *.so >>/tmp/list_of_files
$ rebase -O -T /tmp/list_of_files
```
* previous versions of Sage clog up the limited static dll address space maintained by Cygwin in `/etc/rebase*` databases. I recommend to wipe them out before installing the new version of Sage; i.e. remove Sage installation(s) and `/etc/rebase*` and run rebaseall as usual, in `ash` or `dash`.



---

archive/issue_comments_047388.json:
```json
{
    "body": "<div id=\"comment:150\" align=\"right\">comment:150</div>\n\nReplying to [@dimpase](#comment%3A149):\n> few things about Cygwin rebase/rebaseall.\n>  \n> * we should rebase .so files, too;\n\nI think you should go even further and only have *.dll files.\n> * `rebase` has a new handy -O switch, which means rebase (new) things, but do not touch the system dlls. So instead of rebaseall, assuming one installs Sage on a system without previous versions of Sage installed, one can do, at the Cygwin shell (no need to kill all the Cygwin processes, as is the case for rebaseall):\n> \n> ```\n> $ cd $SAGE_ROOT\n> $ find . -name *.dll >/tmp/list_of_files\n> $ find . -name *.so >>/tmp/list_of_files\n> $ rebase -O -T /tmp/list_of_files\n> ```\n\nGood to know, thanks for the hint!\nI finally got rid of the BLODA which memleak on my 64 bis W7 (that was the Lenovo FastBoot thing, not even sure what it does, except keeping 20K of memory in page table for every app ever launched, Cygwin or not...) and might find this really useful.\n> * previous versions of Sage clog up the limited static dll address space maintained by Cygwin in `/etc/rebase*` databases. I recommend to wipe them out before installing the new version of Sage; i.e. remove Sage installation(s) and `/etc/rebase*` and run rebaseall as usual, in `ash` or `dash`.\n\nYup, that's a good idea.\n\nCould you provide more info, or pointers, on why Cygwin running on a native 32 bits system would have more address space available than one running under wow64 on 64 bits, and so less affected by fork errors, one as I seem to remember you evoked that at some point here?\nI would be interested.",
    "created_at": "2013-02-13T12:50:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47388",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:150" align="right">comment:150</div>

Replying to [@dimpase](#comment%3A149):
> few things about Cygwin rebase/rebaseall.
>  
> * we should rebase .so files, too;

I think you should go even further and only have *.dll files.
> * `rebase` has a new handy -O switch, which means rebase (new) things, but do not touch the system dlls. So instead of rebaseall, assuming one installs Sage on a system without previous versions of Sage installed, one can do, at the Cygwin shell (no need to kill all the Cygwin processes, as is the case for rebaseall):
> 
> ```
> $ cd $SAGE_ROOT
> $ find . -name *.dll >/tmp/list_of_files
> $ find . -name *.so >>/tmp/list_of_files
> $ rebase -O -T /tmp/list_of_files
> ```

Good to know, thanks for the hint!
I finally got rid of the BLODA which memleak on my 64 bis W7 (that was the Lenovo FastBoot thing, not even sure what it does, except keeping 20K of memory in page table for every app ever launched, Cygwin or not...) and might find this really useful.
> * previous versions of Sage clog up the limited static dll address space maintained by Cygwin in `/etc/rebase*` databases. I recommend to wipe them out before installing the new version of Sage; i.e. remove Sage installation(s) and `/etc/rebase*` and run rebaseall as usual, in `ash` or `dash`.

Yup, that's a good idea.

Could you provide more info, or pointers, on why Cygwin running on a native 32 bits system would have more address space available than one running under wow64 on 64 bits, and so less affected by fork errors, one as I seem to remember you evoked that at some point here?
I would be interested.



---

archive/issue_comments_047389.json:
```json
{
    "body": "<div id=\"comment:151\" align=\"right\">comment:151</div>\n\nReplying to [@jpflori](#comment%3A148):\n> Replying to [@jpflori](#comment%3A139):\n> > * cmdline.py which fails like temporary_file.py because of \"timeout in test_executable()\", note there were no fork errors!\n\n> Question for Jeroen: how would you deal with such problems?\n\nI don't mind if you increase the timeout unconditionally in `test_executable()`. Would 100 seconds (now it is 50) be sufficient?\n\n> and even more with the one with the alarm set to 1 second getting triggered when one tries to launch the notebook?\n\nIncrease the alarm time.\n\nI don't like the `find_next_available_port()` function anyway, it's un-Pythonic (the Pythonic thing to do would be to try to `bind()` to a port and use a next port if that fails) and therefore prone to race conditions.",
    "created_at": "2013-02-13T13:08:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47389",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:151" align="right">comment:151</div>

Replying to [@jpflori](#comment%3A148):
> Replying to [@jpflori](#comment%3A139):
> > * cmdline.py which fails like temporary_file.py because of "timeout in test_executable()", note there were no fork errors!

> Question for Jeroen: how would you deal with such problems?

I don't mind if you increase the timeout unconditionally in `test_executable()`. Would 100 seconds (now it is 50) be sufficient?

> and even more with the one with the alarm set to 1 second getting triggered when one tries to launch the notebook?

Increase the alarm time.

I don't like the `find_next_available_port()` function anyway, it's un-Pythonic (the Pythonic thing to do would be to try to `bind()` to a port and use a next port if that fails) and therefore prone to race conditions.



---

archive/issue_comments_047390.json:
```json
{
    "body": "<div id=\"comment:152\" align=\"right\">comment:152</div>\n\nReplying to [@jpflori](#comment%3A150):\n> Could you provide more info, or pointers, on why Cygwin running on a native 32 bits system would have more address space available than one running under wow64 on 64 bits, and so less affected by fork errors, one as I seem to remember you evoked that at some point here?\n> I would be interested.\n\nno, my conviction was that it's not possible to have a full install of Cygwin and a Sage on a 32-bit system, they just don't fit in that addess space - which is bigger on wow64 on 64 bits. You are welcome to prove me wrong. Perhaps it was some BLODA on that system I no longer have, anyway.",
    "created_at": "2013-02-13T13:28:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47390",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:152" align="right">comment:152</div>

Replying to [@jpflori](#comment%3A150):
> Could you provide more info, or pointers, on why Cygwin running on a native 32 bits system would have more address space available than one running under wow64 on 64 bits, and so less affected by fork errors, one as I seem to remember you evoked that at some point here?
> I would be interested.

no, my conviction was that it's not possible to have a full install of Cygwin and a Sage on a 32-bit system, they just don't fit in that addess space - which is bigger on wow64 on 64 bits. You are welcome to prove me wrong. Perhaps it was some BLODA on that system I no longer have, anyway.



---

archive/issue_comments_047391.json:
```json
{
    "body": "<div id=\"comment:153\" align=\"right\">comment:153</div>\n\nReplying to [@dimpase](#comment%3A152):\n> Replying to [@jpflori](#comment%3A150):\n> > Could you provide more info, or pointers, on why Cygwin running on a native 32 bits system would have more address space available than one running under wow64 on 64 bits, and so less affected by fork errors, one as I seem to remember you evoked that at some point here?\n> > I would be interested.\n\n> \n> no, my conviction was that it's not possible to have a full install of Cygwin and a Sage on a 32-bit system, they just don't fit in that addess space - which is bigger on wow64 on 64 bits. You are welcome to prove me wrong. Perhaps it was some BLODA on that system I no longer have, anyway.\n\nHum, I got less problems with my 32bits W7 (although it was slower and had less cores) than with my 64bits W7.\nIndeed, I got fork errors in the end on the 64 bits install and not on the 32 bits install.",
    "created_at": "2013-02-13T13:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47391",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:153" align="right">comment:153</div>

Replying to [@dimpase](#comment%3A152):
> Replying to [@jpflori](#comment%3A150):
> > Could you provide more info, or pointers, on why Cygwin running on a native 32 bits system would have more address space available than one running under wow64 on 64 bits, and so less affected by fork errors, one as I seem to remember you evoked that at some point here?
> > I would be interested.

> 
> no, my conviction was that it's not possible to have a full install of Cygwin and a Sage on a 32-bit system, they just don't fit in that addess space - which is bigger on wow64 on 64 bits. You are welcome to prove me wrong. Perhaps it was some BLODA on that system I no longer have, anyway.

Hum, I got less problems with my 32bits W7 (although it was slower and had less cores) than with my 64bits W7.
Indeed, I got fork errors in the end on the 64 bits install and not on the 32 bits install.



---

archive/issue_comments_047392.json:
```json
{
    "body": "<div id=\"comment:154\" align=\"right\">comment:154</div>\n\n> > Could you provide more info, or pointers, on why Cygwin running on a native 32 bits system would have more address space available than one running under wow64 on 64 bits, and so less affected by fork errors, one as I seem to remember you evoked that at some point here?\n> > I would be interested.\n\n> \n> no, my conviction was that it's not possible to have a full install of Cygwin and a Sage on a 32-bit system, they just don't fit in that addess space - which is bigger on wow64 on 64 bits. You are welcome to prove me wrong. Perhaps it was some BLODA on that system I no longer have, anyway.\n\nBut that actually makes a lot of sense for the problems I've had.  I haven't had any time lately but perhaps next week I will completely uninstall and reinstall Cygwin on my XP box and see what happens.\n\nAlso, love the idea to have the `rebase` instead of `rebaseall`.  Could the relevant ticket about the Cygwin rebase script (#14031) be updated with that too?",
    "created_at": "2013-02-13T15:46:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47392",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:154" align="right">comment:154</div>

> > Could you provide more info, or pointers, on why Cygwin running on a native 32 bits system would have more address space available than one running under wow64 on 64 bits, and so less affected by fork errors, one as I seem to remember you evoked that at some point here?
> > I would be interested.

> 
> no, my conviction was that it's not possible to have a full install of Cygwin and a Sage on a 32-bit system, they just don't fit in that addess space - which is bigger on wow64 on 64 bits. You are welcome to prove me wrong. Perhaps it was some BLODA on that system I no longer have, anyway.

But that actually makes a lot of sense for the problems I've had.  I haven't had any time lately but perhaps next week I will completely uninstall and reinstall Cygwin on my XP box and see what happens.

Also, love the idea to have the `rebase` instead of `rebaseall`.  Could the relevant ticket about the Cygwin rebase script (#14031) be updated with that too?



---

archive/issue_comments_047393.json:
```json
{
    "body": "<div id=\"comment:155\" align=\"right\">comment:155</div>\n\nOk, I think we now only need #13351 to get Sage to quite completely build, start, correctly work and pass (most of) its doctests.\n\nWe should open other tickets to add doc about usage of peflags, use of the rebasing script (#14031), modifying prereqs and other cosmetic things.\n\nThen we should deal with the failing doctests mentioned above, most of them are \"quite\" easy or we can just document why they are expected to fail (e.g., you have to peflags python.exe, or Cygwin is just too slow, so you have to increase SAGE_TIMEOUT, or you have to install procps to have top).",
    "created_at": "2013-02-20T14:56:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47393",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:155" align="right">comment:155</div>

Ok, I think we now only need #13351 to get Sage to quite completely build, start, correctly work and pass (most of) its doctests.

We should open other tickets to add doc about usage of peflags, use of the rebasing script (#14031), modifying prereqs and other cosmetic things.

Then we should deal with the failing doctests mentioned above, most of them are "quite" easy or we can just document why they are expected to fail (e.g., you have to peflags python.exe, or Cygwin is just too slow, so you have to increase SAGE_TIMEOUT, or you have to install procps to have top).



---

archive/issue_comments_047394.json:
```json
{
    "body": "<div id=\"comment:156\" align=\"right\">comment:156</div>\n\nWe should also deal with the few .so files remaining.",
    "created_at": "2013-02-20T14:56:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47394",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:156" align="right">comment:156</div>

We should also deal with the few .so files remaining.



---

archive/issue_comments_047395.json:
```json
{
    "body": "<div id=\"comment:157\" align=\"right\">comment:157</div>\n\nSee #14179 for the problematic default timeout values.",
    "created_at": "2013-02-25T14:22:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47395",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:157" align="right">comment:157</div>

See #14179 for the problematic default timeout values.



---

archive/issue_comments_047396.json:
```json
{
    "body": "<div id=\"comment:158\" align=\"right\">comment:158</div>\n\nI've opened #14207 for documenting usage of peflags and leverage max heap memory issues.",
    "created_at": "2013-03-01T10:35:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47396",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:158" align="right">comment:158</div>

I've opened #14207 for documenting usage of peflags and leverage max heap memory issues.



---

archive/issue_comments_047397.json:
```json
{
    "body": "<div id=\"comment:159\" align=\"right\">comment:159</div>\n\nAnd #14208 for *.so files, this could be a metaticket if there is a lot of work.",
    "created_at": "2013-03-01T10:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47397",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:159" align="right">comment:159</div>

And #14208 for *.so files, this could be a metaticket if there is a lot of work.



---

archive/issue_events_081146.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-03-06T01:55:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81146"
}
```



---

archive/issue_events_081147.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-03-06T01:55:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81147"
}
```



---

archive/issue_comments_047398.json:
```json
{
    "body": "<div id=\"comment:160\" align=\"right\">comment:160</div>\n\nReplying to [@jpflori](#comment%3A155):\n> Ok, I think we now only need #13351 to get Sage to quite completely build, start, correctly work and pass (most of) its doctests.\n\nSo ... once that is merged, is this ticket done?\n> We should open other tickets to add doc about usage of peflags, use of the rebasing script (#14031), modifying prereqs and other cosmetic things.\n\nSo is there really no prereq modification necessary here?  (Or, as Volker says, some other script somewhere to check this?) All along, from when William opened this ticket, the assumption was that we would put *some* checking in that a given Cygwin had the proper prereqs to function.  From [the wiki](http://trac.sagemath.org/sage_trac/wiki/CygwinPort): \n\n```\nAlso installed the lapack packages, the gcc, g++ and gfortran ones, m4, make, binutils, perl\n```\nWe do ask for gcc, m4, make, and perl ahead of time.  Does Sage already throw an error at the start if the lapack stuff isn't there?  What about binutils - is that equivalent to a \"standard\" dependency?\n\nThe top/procps/file thing is presumably separate - we don't need that to build, just test, correct?  Also there was that \"custom GSL\" remark, but perhaps that wasn't an issue.\n\nOne reason I am a little scared about this is the tendency of Sage to creep beyond the latest efforts here.  So I want to hesitate to close this until we are really sure we are \"state-of-the-art\".  I wish we could acquire a Cygwin buildbot.\n\nAnyway, all that to say that I should have a little time for this in the next week and a half to help test some of the many many fixes you have contributed - amazing stuff.  Thank you to Dima so much for picking up a lot of my slack on this the past few months.",
    "created_at": "2013-03-06T01:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47398",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:160" align="right">comment:160</div>

Replying to [@jpflori](#comment%3A155):
> Ok, I think we now only need #13351 to get Sage to quite completely build, start, correctly work and pass (most of) its doctests.

So ... once that is merged, is this ticket done?
> We should open other tickets to add doc about usage of peflags, use of the rebasing script (#14031), modifying prereqs and other cosmetic things.

So is there really no prereq modification necessary here?  (Or, as Volker says, some other script somewhere to check this?) All along, from when William opened this ticket, the assumption was that we would put *some* checking in that a given Cygwin had the proper prereqs to function.  From [the wiki](http://trac.sagemath.org/sage_trac/wiki/CygwinPort): 

```
Also installed the lapack packages, the gcc, g++ and gfortran ones, m4, make, binutils, perl
```
We do ask for gcc, m4, make, and perl ahead of time.  Does Sage already throw an error at the start if the lapack stuff isn't there?  What about binutils - is that equivalent to a "standard" dependency?

The top/procps/file thing is presumably separate - we don't need that to build, just test, correct?  Also there was that "custom GSL" remark, but perhaps that wasn't an issue.

One reason I am a little scared about this is the tendency of Sage to creep beyond the latest efforts here.  So I want to hesitate to close this until we are really sure we are "state-of-the-art".  I wish we could acquire a Cygwin buildbot.

Anyway, all that to say that I should have a little time for this in the next week and a half to help test some of the many many fixes you have contributed - amazing stuff.  Thank you to Dima so much for picking up a lot of my slack on this the past few months.



---

archive/issue_comments_047399.json:
```json
{
    "body": "Reviewer: **Jean-Pierre Flori, Dmitrii Pasechnik, Karl-Dieter Crisman, Mike Hansen, William Stein**",
    "created_at": "2013-03-06T01:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47399",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Jean-Pierre Flori, Dmitrii Pasechnik, Karl-Dieter Crisman, Mike Hansen, William Stein**



---

archive/issue_comments_047400.json:
```json
{
    "body": "<div id=\"comment:161\" align=\"right\">comment:161</div>\n\nReplying to [@kcrisman](#comment%3A160):\n> We do ask for gcc, m4, make, and perl ahead of time.  Does Sage already throw an error at the start if the lapack stuff isn't there?  What about binutils - is that equivalent to a \"standard\" dependency?\n\nA C compiler, `m4`, `make`, `perl` and `binutils` are always checked by prereq. Lapack surely not, since it's included with Sage.",
    "created_at": "2013-03-06T07:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47400",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:161" align="right">comment:161</div>

Replying to [@kcrisman](#comment%3A160):
> We do ask for gcc, m4, make, and perl ahead of time.  Does Sage already throw an error at the start if the lapack stuff isn't there?  What about binutils - is that equivalent to a "standard" dependency?

A C compiler, `m4`, `make`, `perl` and `binutils` are always checked by prereq. Lapack surely not, since it's included with Sage.



---

archive/issue_comments_047401.json:
```json
{
    "body": "<div id=\"comment:162\" align=\"right\">comment:162</div>\n\nThis is amazing. Thanks to all the people involved. I have checked that sage-5.8.beta2 compiles on a windows vista machine, 32 bits OS. I had to rebase once while compiling and another after compiling for booting sage without errors.",
    "created_at": "2013-03-06T14:35:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47401",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:162" align="right">comment:162</div>

This is amazing. Thanks to all the people involved. I have checked that sage-5.8.beta2 compiles on a windows vista machine, 32 bits OS. I had to rebase once while compiling and another after compiling for booting sage without errors.



---

archive/issue_comments_047402.json:
```json
{
    "body": "<div id=\"comment:163\" align=\"right\">comment:163</div>\n\nReplying to [@jdemeyer](#comment%3A161):\n> Replying to [@kcrisman](#comment%3A160):\n> > We do ask for gcc, m4, make, and perl ahead of time.  Does Sage already throw an error at the start if the lapack stuff isn't there?  What about binutils - is that equivalent to a \"standard\" dependency?\n\n> A C compiler, `m4`, `make`, `perl` and `binutils` are always checked by prereq. Lapack surely not, since it's included with Sage.\n\nThe current ATLAS spkg exits if it does not finds a system wide ATLAS or LAPACK, don't remember, and asks you to install the corresponding Cygwin packages (lapack-bin, lapack-devel IIRC, or stg like that).\n\nNonetheless, I'm quite convinced we can build the new ATLAS spkg from #10508 quite easily on Cygwin.\nI've had some trouble with shared library and the 3.8 ATLAS spkg, with memleaks on top of that.\nBu now I've removed the memleaks culprit so I could try again to vuild ATLAS 3.10.\n\nUnfortunately that's not my top priority, and on top of that I'm very happy with installing a system wide ATLAS.",
    "created_at": "2013-03-06T15:16:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47402",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:163" align="right">comment:163</div>

Replying to [@jdemeyer](#comment%3A161):
> Replying to [@kcrisman](#comment%3A160):
> > We do ask for gcc, m4, make, and perl ahead of time.  Does Sage already throw an error at the start if the lapack stuff isn't there?  What about binutils - is that equivalent to a "standard" dependency?

> A C compiler, `m4`, `make`, `perl` and `binutils` are always checked by prereq. Lapack surely not, since it's included with Sage.

The current ATLAS spkg exits if it does not finds a system wide ATLAS or LAPACK, don't remember, and asks you to install the corresponding Cygwin packages (lapack-bin, lapack-devel IIRC, or stg like that).

Nonetheless, I'm quite convinced we can build the new ATLAS spkg from #10508 quite easily on Cygwin.
I've had some trouble with shared library and the 3.8 ATLAS spkg, with memleaks on top of that.
Bu now I've removed the memleaks culprit so I could try again to vuild ATLAS 3.10.

Unfortunately that's not my top priority, and on top of that I'm very happy with installing a system wide ATLAS.



---

archive/issue_comments_047403.json:
```json
{
    "body": "<div id=\"comment:164\" align=\"right\">comment:164</div>\n\nFor the record, note that GCC 4.6.3 cannot compile ECL on Cygwin.",
    "created_at": "2013-03-06T15:18:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47403",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:164" align="right">comment:164</div>

For the record, note that GCC 4.6.3 cannot compile ECL on Cygwin.



---

archive/issue_comments_047404.json:
```json
{
    "body": "<div id=\"comment:165\" align=\"right\">comment:165</div>\n\nReplying to [@lftabera](#comment%3A162):\n> This is amazing. Thanks to all the people involved. I have checked that sage-5.8.beta2 compiles on a windows vista machine, 32 bits OS. I had to rebase once while compiling and another after compiling for booting sage without errors.\n\nGreat news!",
    "created_at": "2013-03-06T15:19:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47404",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:165" align="right">comment:165</div>

Replying to [@lftabera](#comment%3A162):
> This is amazing. Thanks to all the people involved. I have checked that sage-5.8.beta2 compiles on a windows vista machine, 32 bits OS. I had to rebase once while compiling and another after compiling for booting sage without errors.

Great news!



---

archive/issue_comments_047405.json:
```json
{
    "body": "<div id=\"comment:166\" align=\"right\">comment:166</div>\n\nReplying to [@jpflori](#comment%3A164):\n> For the record, note that GCC 4.6.3 cannot compile ECL on Cygwin.\n\nIs there a ticket for this?  What goes wrong?",
    "created_at": "2013-03-06T15:35:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47405",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:166" align="right">comment:166</div>

Replying to [@jpflori](#comment%3A164):
> For the record, note that GCC 4.6.3 cannot compile ECL on Cygwin.

Is there a ticket for this?  What goes wrong?



---

archive/issue_comments_047406.json:
```json
{
    "body": "Changed reviewer from **Jean-Pierre Flori, Dmitrii Pasechnik, Karl-Dieter Crisman, Mike Hansen, William Stein** to **Jean-Pierre Flori, Dmitrii Pasechnik, Karl-Dieter Crisman, Mike Hansen, William Stein, Luis Tabera**",
    "created_at": "2013-03-06T15:46:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47406",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Jean-Pierre Flori, Dmitrii Pasechnik, Karl-Dieter Crisman, Mike Hansen, William Stein** to **Jean-Pierre Flori, Dmitrii Pasechnik, Karl-Dieter Crisman, Mike Hansen, William Stein, Luis Tabera**



---

archive/issue_comments_047407.json:
```json
{
    "body": "<div id=\"comment:167\" align=\"right\">comment:167</div>\n\n> The current ATLAS spkg exits if it does not finds a system wide ATLAS or LAPACK, don't remember, and asks you to install the corresponding Cygwin packages (lapack-bin, lapack-devel IIRC, or stg like that).\n\n\n```\n# On Cygwin we simply require that the system-wide lapack is installed.\n# This includes BLAS and is enough to build the rest of Sage.\nif conf['CYGWIN?']:\n    lib = '/usr/lib/libblas.dll.a'\n    if not os.path.exists(lib):\n        print '*'*75\n        print 'On Cygwin you must install the standard LAPACK Cygwin package'\n        print 'via the Cygwin setup.exe program in the \"Math\" category.'\n        print '*'*75 \n        sys.exit(1)\n    cp(lib, os.path.join(conf['SAGE_LOCAL'], 'lib'))\n    sys.exit(0)\n```\nI think this should be updated, perhaps at #10508, to be VERY explicit about which packages to install, and so we are not *quite* ready to close this ticket.  Also, we might want to make sure that this dll.a is really all that we need to check for to not run into trouble.  That said, the default should be to not install ATLAS, but one should be able to force it with an appropriate environment variable or something - I thought #10508 dealt with that, but maybe not?  With 334 comments and counting, wow...",
    "created_at": "2013-03-06T15:46:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47407",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:167" align="right">comment:167</div>

> The current ATLAS spkg exits if it does not finds a system wide ATLAS or LAPACK, don't remember, and asks you to install the corresponding Cygwin packages (lapack-bin, lapack-devel IIRC, or stg like that).


```
# On Cygwin we simply require that the system-wide lapack is installed.
# This includes BLAS and is enough to build the rest of Sage.
if conf['CYGWIN?']:
    lib = '/usr/lib/libblas.dll.a'
    if not os.path.exists(lib):
        print '*'*75
        print 'On Cygwin you must install the standard LAPACK Cygwin package'
        print 'via the Cygwin setup.exe program in the "Math" category.'
        print '*'*75 
        sys.exit(1)
    cp(lib, os.path.join(conf['SAGE_LOCAL'], 'lib'))
    sys.exit(0)
```
I think this should be updated, perhaps at #10508, to be VERY explicit about which packages to install, and so we are not *quite* ready to close this ticket.  Also, we might want to make sure that this dll.a is really all that we need to check for to not run into trouble.  That said, the default should be to not install ATLAS, but one should be able to force it with an appropriate environment variable or something - I thought #10508 dealt with that, but maybe not?  With 334 comments and counting, wow...



---

archive/issue_comments_047408.json:
```json
{
    "body": "<div id=\"comment:168\" align=\"right\">comment:168</div>\n\nReplying to [@jdemeyer](#comment%3A166):\n> Replying to [@jpflori](#comment%3A164):\n> > For the record, note that GCC 4.6.3 cannot compile ECL on Cygwin.\n\n> Is there a ticket for this?  What goes wrong?\n\nNo tickets here.\n\nIt goes ok with Cygwin 4.5.3 gcc or Sage's 4.7.2.\n\nFor more details see:\nhttp://www.mail-archive.com/ecls-list@lists.sourceforge.net/msg02368.html\n\nUpstream bug report:\nhttp://gcc.gnu.org/bugzilla/show_bug.cgi?id=52061",
    "created_at": "2013-03-06T15:48:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47408",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:168" align="right">comment:168</div>

Replying to [@jdemeyer](#comment%3A166):
> Replying to [@jpflori](#comment%3A164):
> > For the record, note that GCC 4.6.3 cannot compile ECL on Cygwin.

> Is there a ticket for this?  What goes wrong?

No tickets here.

It goes ok with Cygwin 4.5.3 gcc or Sage's 4.7.2.

For more details see:
http://www.mail-archive.com/ecls-list@lists.sourceforge.net/msg02368.html

Upstream bug report:
http://gcc.gnu.org/bugzilla/show_bug.cgi?id=52061



---

archive/issue_comments_047409.json:
```json
{
    "body": "<div id=\"comment:169\" align=\"right\">comment:169</div>\n\nReplying to [@kcrisman](#comment%3A167):\n> > The current ATLAS spkg exits if it does not finds a system wide ATLAS or LAPACK, don't remember, and asks you to install the corresponding Cygwin packages (lapack-bin, lapack-devel IIRC, or stg like that).\n\n> \n> ```\n> # On Cygwin we simply require that the system-wide lapack is installed.\n> # This includes BLAS and is enough to build the rest of Sage.\n> if conf['CYGWIN?']:\n>     lib = '/usr/lib/libblas.dll.a'\n>     if not os.path.exists(lib):\n>         print '*'*75\n>         print 'On Cygwin you must install the standard LAPACK Cygwin package'\n>         print 'via the Cygwin setup.exe program in the \"Math\" category.'\n>         print '*'*75 \n>         sys.exit(1)\n>     cp(lib, os.path.join(conf['SAGE_LOCAL'], 'lib'))\n>     sys.exit(0)\n> ```\n> I think this should be updated, perhaps at #10508, to be VERY explicit about which packages to install, and so we are not *quite* ready to close this ticket.  Also, we might want to make sure that this dll.a is really all that we need to check for to not run into trouble.  That said, the default should be to not install ATLAS, but one should be able to force it with an appropriate environment variable or something - I thought #10508 dealt with that, but maybe not?  With 334 comments and counting, wow...\n\nThe latest spkg from #10508 let you \"force\" ATLAS build by setting SAGE_ATLAS_ARCH.",
    "created_at": "2013-03-06T15:49:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47409",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:169" align="right">comment:169</div>

Replying to [@kcrisman](#comment%3A167):
> > The current ATLAS spkg exits if it does not finds a system wide ATLAS or LAPACK, don't remember, and asks you to install the corresponding Cygwin packages (lapack-bin, lapack-devel IIRC, or stg like that).

> 
> ```
> # On Cygwin we simply require that the system-wide lapack is installed.
> # This includes BLAS and is enough to build the rest of Sage.
> if conf['CYGWIN?']:
>     lib = '/usr/lib/libblas.dll.a'
>     if not os.path.exists(lib):
>         print '*'*75
>         print 'On Cygwin you must install the standard LAPACK Cygwin package'
>         print 'via the Cygwin setup.exe program in the "Math" category.'
>         print '*'*75 
>         sys.exit(1)
>     cp(lib, os.path.join(conf['SAGE_LOCAL'], 'lib'))
>     sys.exit(0)
> ```
> I think this should be updated, perhaps at #10508, to be VERY explicit about which packages to install, and so we are not *quite* ready to close this ticket.  Also, we might want to make sure that this dll.a is really all that we need to check for to not run into trouble.  That said, the default should be to not install ATLAS, but one should be able to force it with an appropriate environment variable or something - I thought #10508 dealt with that, but maybe not?  With 334 comments and counting, wow...

The latest spkg from #10508 let you "force" ATLAS build by setting SAGE_ATLAS_ARCH.



---

archive/issue_comments_047410.json:
```json
{
    "body": "<div id=\"comment:170\" align=\"right\">comment:170</div>\n\nReplying to [@jpflori](#comment%3A168):\n> It goes ok with Cygwin 4.5.3 gcc or Sage's 4.7.2.\n> \n> For more details see:\n> http://www.mail-archive.com/ecls-list@lists.sourceforge.net/msg02368.html\n> \n> Upstream bug report:\n> http://gcc.gnu.org/bugzilla/show_bug.cgi?id=52061\n\nThanks for the pointers, too bad upstream doesn't care.",
    "created_at": "2013-03-06T15:55:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47410",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:170" align="right">comment:170</div>

Replying to [@jpflori](#comment%3A168):
> It goes ok with Cygwin 4.5.3 gcc or Sage's 4.7.2.
> 
> For more details see:
> http://www.mail-archive.com/ecls-list@lists.sourceforge.net/msg02368.html
> 
> Upstream bug report:
> http://gcc.gnu.org/bugzilla/show_bug.cgi?id=52061

Thanks for the pointers, too bad upstream doesn't care.



---

archive/issue_comments_047411.json:
```json
{
    "body": "<div id=\"comment:171\" align=\"right\">comment:171</div>\n\nCurrently uninstalled and now reinstalling Cygwin on my XP box.  Let's hope :)\n\nBy the way, should closing this ticket also require removing the `SAGE_PORT=yes` necessity for Cygwin?  Just a thought.",
    "created_at": "2013-03-07T04:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47411",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:171" align="right">comment:171</div>

Currently uninstalled and now reinstalling Cygwin on my XP box.  Let's hope :)

By the way, should closing this ticket also require removing the `SAGE_PORT=yes` necessity for Cygwin?  Just a thought.



---

archive/issue_comments_047412.json:
```json
{
    "body": "<div id=\"comment:172\" align=\"right\">comment:172</div>\n\nReplying to [@kcrisman](#comment%3A171):\n> By the way, should closing this ticket also require removing the `SAGE_PORT=yes` necessity for Cygwin?\n\nIndeed, maybe we should repurpose this ticket to do just that.\n\nWe also need to change `spkg/install` never to install Sage's GCC on Cygwin, since it doesn't work for ECL.",
    "created_at": "2013-03-07T07:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47412",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:172" align="right">comment:172</div>

Replying to [@kcrisman](#comment%3A171):
> By the way, should closing this ticket also require removing the `SAGE_PORT=yes` necessity for Cygwin?

Indeed, maybe we should repurpose this ticket to do just that.

We also need to change `spkg/install` never to install Sage's GCC on Cygwin, since it doesn't work for ECL.



---

archive/issue_comments_047413.json:
```json
{
    "body": "<div id=\"comment:173\" align=\"right\">comment:173</div>\n\nReplying to [@jdemeyer](#comment%3A172):\n> Replying to [@kcrisman](#comment%3A171):\n> > By the way, should closing this ticket also require removing the `SAGE_PORT=yes` necessity for Cygwin?\n\n> Indeed, maybe we should repurpose this ticket to do just that.\n> \n> We also need to change `spkg/install` never to install Sage's GCC on Cygwin, since it doesn't work for ECL.\n\nAlso note that Sage's GCC 4.7.2 is fine so we could check that all Cygwin gcc, g++ and gfortran 4.5.3 are installed or suggest using the Sage's optional 4.7.2 spkg.",
    "created_at": "2013-03-07T08:11:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47413",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:173" align="right">comment:173</div>

Replying to [@jdemeyer](#comment%3A172):
> Replying to [@kcrisman](#comment%3A171):
> > By the way, should closing this ticket also require removing the `SAGE_PORT=yes` necessity for Cygwin?

> Indeed, maybe we should repurpose this ticket to do just that.
> 
> We also need to change `spkg/install` never to install Sage's GCC on Cygwin, since it doesn't work for ECL.

Also note that Sage's GCC 4.7.2 is fine so we could check that all Cygwin gcc, g++ and gfortran 4.5.3 are installed or suggest using the Sage's optional 4.7.2 spkg.



---

archive/issue_comments_047414.json:
```json
{
    "body": "<div id=\"comment:174\" align=\"right\">comment:174</div>\n\nOr upgrade GCC-in-Sage to version 4.7.2, I wouldn't have an objection with that.",
    "created_at": "2013-03-07T09:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47414",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:174" align="right">comment:174</div>

Or upgrade GCC-in-Sage to version 4.7.2, I wouldn't have an objection with that.



---

archive/issue_comments_047415.json:
```json
{
    "body": "<div id=\"comment:175\" align=\"right\">comment:175</div>\n\nReplying to [@jdemeyer](#comment%3A174):\n> Or upgrade GCC-in-Sage to version 4.7.2, I wouldn't have an objection with that.\n\nYep.  Any reason we shouldn't [yet]?",
    "created_at": "2013-03-07T13:16:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47415",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:175" align="right">comment:175</div>

Replying to [@jdemeyer](#comment%3A174):
> Or upgrade GCC-in-Sage to version 4.7.2, I wouldn't have an objection with that.

Yep.  Any reason we shouldn't [yet]?



---

archive/issue_comments_047416.json:
```json
{
    "body": "<div id=\"comment:176\" align=\"right\">comment:176</div>\n\nLatest XP build report:\n\nWeirdly, I just tried a brand-new Cygwin install with the minimal prereqs that JP has been talking about, and got a very strange error about cygmpfr-4.dll cannot open shared object file (as well as that I didn't have Gnu cc and that cc couldn't make executables.  Installing the mpfr-4 package from Cygwin seems to have allowed compilation to begin, but that mpfr came with a SLEW of other packages I didn't really want.  In this case, it seems that even our gcc package would not have compiled, since Sage thought that the gcc4 on Cygwin was defective somehow.  \n\nAssuming this behaves properly over the next 48 hours or so, I'll yet again uninstall Cygwin and see what happens with a new one.  That said, IF we can build gcc-4.7 with the gcc3 that is preinstalled on Cygwin, maybe that would be a reason for the 4.7 standard version.",
    "created_at": "2013-03-07T14:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47416",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:176" align="right">comment:176</div>

Latest XP build report:

Weirdly, I just tried a brand-new Cygwin install with the minimal prereqs that JP has been talking about, and got a very strange error about cygmpfr-4.dll cannot open shared object file (as well as that I didn't have Gnu cc and that cc couldn't make executables.  Installing the mpfr-4 package from Cygwin seems to have allowed compilation to begin, but that mpfr came with a SLEW of other packages I didn't really want.  In this case, it seems that even our gcc package would not have compiled, since Sage thought that the gcc4 on Cygwin was defective somehow.  

Assuming this behaves properly over the next 48 hours or so, I'll yet again uninstall Cygwin and see what happens with a new one.  That said, IF we can build gcc-4.7 with the gcc3 that is preinstalled on Cygwin, maybe that would be a reason for the 4.7 standard version.



---

archive/issue_comments_047417.json:
```json
{
    "body": "<div id=\"comment:177\" align=\"right\">comment:177</div>\n\nReplying to [@kcrisman](#comment%3A176):\n> Latest XP build report:\n> \n> Weirdly, I just tried a brand-new Cygwin install with the minimal prereqs that JP has been talking about, and got a very strange error about cygmpfr-4.dll cannot open shared object file (as well as that I didn't have Gnu cc and that cc couldn't make executables.  Installing the mpfr-4 package from Cygwin seems to have allowed compilation to begin, but that mpfr came with a SLEW of other packages I didn't really want.  In this case, it seems that even our gcc package would not have compiled, since Sage thought that the gcc4 on Cygwin was defective somehow.  \n> \n\nStrange, Ive always used the gcc4 package (more precisely, the latest version available for gcc4-core) and got no problems either with that package only to builg Sage's GCC 4.6.3 or 4.7.2, or together with the corresponding gcc4-g++ and gcc4-gfortran to builg Sage directly.\nI think I never ever tried the gcc3 packages.\nI've nevere (intentionally) installed gmp, mpfr not mpc neither.\n\nI'll put my hand on a XP box and will give it a shot.\nThat may be in a week or two only though.\n> Assuming this behaves properly over the next 48 hours or so, I'll yet again uninstall Cygwin and see what happens with a new one.  That said, IF we can build gcc-4.7 with the gcc3 that is preinstalled on Cygwin, maybe that would be a reason for the 4.7 standard version.",
    "created_at": "2013-03-07T14:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47417",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:177" align="right">comment:177</div>

Replying to [@kcrisman](#comment%3A176):
> Latest XP build report:
> 
> Weirdly, I just tried a brand-new Cygwin install with the minimal prereqs that JP has been talking about, and got a very strange error about cygmpfr-4.dll cannot open shared object file (as well as that I didn't have Gnu cc and that cc couldn't make executables.  Installing the mpfr-4 package from Cygwin seems to have allowed compilation to begin, but that mpfr came with a SLEW of other packages I didn't really want.  In this case, it seems that even our gcc package would not have compiled, since Sage thought that the gcc4 on Cygwin was defective somehow.  
> 

Strange, Ive always used the gcc4 package (more precisely, the latest version available for gcc4-core) and got no problems either with that package only to builg Sage's GCC 4.6.3 or 4.7.2, or together with the corresponding gcc4-g++ and gcc4-gfortran to builg Sage directly.
I think I never ever tried the gcc3 packages.
I've nevere (intentionally) installed gmp, mpfr not mpc neither.

I'll put my hand on a XP box and will give it a shot.
That may be in a week or two only though.
> Assuming this behaves properly over the next 48 hours or so, I'll yet again uninstall Cygwin and see what happens with a new one.  That said, IF we can build gcc-4.7 with the gcc3 that is preinstalled on Cygwin, maybe that would be a reason for the 4.7 standard version.



---

archive/issue_comments_047418.json:
```json
{
    "body": "<div id=\"comment:178\" align=\"right\">comment:178</div>\n\nReplying to [@kcrisman](#comment%3A176):\n> Latest XP build report:\n> \n> Weirdly, I just tried a brand-new Cygwin install with the minimal prereqs that JP has been talking about, and got a very strange error about cygmpfr-4.dll cannot open shared object file (as well as that I didn't have Gnu cc and that cc couldn't make executables.  Installing the mpfr-4 package from Cygwin seems to have allowed compilation to begin, but that mpfr came with a SLEW of other packages I didn't really want.  In this case, it seems that even our gcc package would not have compiled, since Sage thought that the gcc4 on Cygwin was defective somehow.\n\nGCC 4.x (in contrast to 3.x) requires GMP, MPFR (and since 4.5 IIRC also MPC), so these packages should have been pulled in by Cygwin if/when you installed the GCC4 package.\n\nBut didn't you say \"GCC3\" was the default?",
    "created_at": "2013-03-07T14:36:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47418",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:178" align="right">comment:178</div>

Replying to [@kcrisman](#comment%3A176):
> Latest XP build report:
> 
> Weirdly, I just tried a brand-new Cygwin install with the minimal prereqs that JP has been talking about, and got a very strange error about cygmpfr-4.dll cannot open shared object file (as well as that I didn't have Gnu cc and that cc couldn't make executables.  Installing the mpfr-4 package from Cygwin seems to have allowed compilation to begin, but that mpfr came with a SLEW of other packages I didn't really want.  In this case, it seems that even our gcc package would not have compiled, since Sage thought that the gcc4 on Cygwin was defective somehow.

GCC 4.x (in contrast to 3.x) requires GMP, MPFR (and since 4.5 IIRC also MPC), so these packages should have been pulled in by Cygwin if/when you installed the GCC4 package.

But didn't you say "GCC3" was the default?



---

archive/issue_comments_047419.json:
```json
{
    "body": "<div id=\"comment:179\" align=\"right\">comment:179</div>\n\nReplying to [@nexttime](#comment%3A178):\n> Replying to [@kcrisman](#comment%3A176):\n> > Latest XP build report:\n> > \n> > Weirdly, I just tried a brand-new Cygwin install with the minimal prereqs that JP has been talking about, and got a very strange error about cygmpfr-4.dll cannot open shared object file (as well as that I didn't have Gnu cc and that cc couldn't make executables.  Installing the mpfr-4 package from Cygwin seems to have allowed compilation to begin, but that mpfr came with a SLEW of other packages I didn't really want.  In this case, it seems that even our gcc package would not have compiled, since Sage thought that the gcc4 on Cygwin was defective somehow.\n\n> \n> GCC 4.x (in contrast to 3.x) requires GMP, MPFR (and since 4.5 IIRC also MPC), so these packages should have been pulled in by Cygwin if/when you installed the GCC4 package.\n> \n> But didn't you say \"GCC3\" was the default?\n\nDon't know what the official Cygwin guidelines are, but you may say its the default because it what the \"gcc\" package points to.\n\nIf you want GCC 4.x (which ships 4.5.x currently), you have to choose the \"gcc4\" packages (moreprecisely the \"gcc4-core\" one if you want the C compiler, and it should indeed pull mpfr and mpc automagically unless you prevent setup.exe from doing it, see a list of package I had installed and with which I got a mostly working Sage install at http://trac.sagemath.org/sage_trac/wiki/CygwinPort#TestingSage5.6.rc0on64bitsWindows7 )",
    "created_at": "2013-03-07T14:43:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47419",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:179" align="right">comment:179</div>

Replying to [@nexttime](#comment%3A178):
> Replying to [@kcrisman](#comment%3A176):
> > Latest XP build report:
> > 
> > Weirdly, I just tried a brand-new Cygwin install with the minimal prereqs that JP has been talking about, and got a very strange error about cygmpfr-4.dll cannot open shared object file (as well as that I didn't have Gnu cc and that cc couldn't make executables.  Installing the mpfr-4 package from Cygwin seems to have allowed compilation to begin, but that mpfr came with a SLEW of other packages I didn't really want.  In this case, it seems that even our gcc package would not have compiled, since Sage thought that the gcc4 on Cygwin was defective somehow.

> 
> GCC 4.x (in contrast to 3.x) requires GMP, MPFR (and since 4.5 IIRC also MPC), so these packages should have been pulled in by Cygwin if/when you installed the GCC4 package.
> 
> But didn't you say "GCC3" was the default?

Don't know what the official Cygwin guidelines are, but you may say its the default because it what the "gcc" package points to.

If you want GCC 4.x (which ships 4.5.x currently), you have to choose the "gcc4" packages (moreprecisely the "gcc4-core" one if you want the C compiler, and it should indeed pull mpfr and mpc automagically unless you prevent setup.exe from doing it, see a list of package I had installed and with which I got a mostly working Sage install at http://trac.sagemath.org/sage_trac/wiki/CygwinPort#TestingSage5.6.rc0on64bitsWindows7 )



---

archive/issue_comments_047420.json:
```json
{
    "body": "<div id=\"comment:180\" align=\"right\">comment:180</div>\n\nReplying to [@kcrisman](#comment%3A176):\n> IF we can build gcc-4.7 with the gcc3 that is preinstalled on Cygwin\n\nIn theory, this should work.",
    "created_at": "2013-03-07T14:44:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47420",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:180" align="right">comment:180</div>

Replying to [@kcrisman](#comment%3A176):
> IF we can build gcc-4.7 with the gcc3 that is preinstalled on Cygwin

In theory, this should work.



---

archive/issue_comments_047421.json:
```json
{
    "body": "<div id=\"comment:181\" align=\"right\">comment:181</div>\n\n> GCC 4.x (in contrast to 3.x) requires GMP, MPFR (and since 4.5 IIRC also MPC), so these packages should have been pulled in by Cygwin if/when you installed the GCC4 package.\n\nSee, that's just what I thought.  So I was really surprised.  Perhaps something got interrupted in the download - Windows autoupdated or something, maybe.  I'm not worried about it.\n\nAnyway, it's well into polybori now, so that is a positive sign.",
    "created_at": "2013-03-07T19:11:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47421",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:181" align="right">comment:181</div>

> GCC 4.x (in contrast to 3.x) requires GMP, MPFR (and since 4.5 IIRC also MPC), so these packages should have been pulled in by Cygwin if/when you installed the GCC4 package.

See, that's just what I thought.  So I was really surprised.  Perhaps something got interrupted in the download - Windows autoupdated or something, maybe.  I'm not worried about it.

Anyway, it's well into polybori now, so that is a positive sign.



---

archive/issue_comments_047422.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,24 +4,23 @@\n \n 2. Extract the Sage tarball and type \"`make`\"\n \n-and have everything build automatically with no errors.   The goal is **not** that the resulting build works or Sage starts up.  That will be for a later ticket.  Adding checks for all these prereqs will also be part of a future ticket.\n+and have everything build automatically with no errors.   \n+\n+The goal is **not** that the resulting build works or Sage starts up (this is #13841), but if that happens as well, this will be great.  Adding checks for all these prereqs, if necessary, will also be part of a future ticket.\n \n ---\n \n-## Most recent trials and a lot more status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort\n+## More info\n+Most recent trials and a lot more archived status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort\n \n ## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)\n-As below with Sage 5.6.beta2\n+As below with Sage 5.8.beta3\n \n ### Cygwin prereqs\n Here is what to install from Cygwin - use the usual stable binaries.\n-* `make`, `perl`, `m4`\n+* `make`, `perl`, `m4`, `binutils`\n * either `gcc4-core`  alone and then use the optional gcc-4.7.2 spkg (the standard gcc-4.6.3 spkg won't be able to compile ecl) or `gcc4-core` and `gcc4-g++` and `gcc4-fortran` whose versions **must** match\n-* `libiconv` - or a tweaked iconv spkg from #13912\n * `liblapack`, `liblapack0`, `liblapack-devel` - though we should be able to build ATLAS\n-* `libncurses-devel` - needed by singular to build, not investigated yet.\n-\n-We need to add a test for **all** of the above packages on Cygwin which the prereq script does not already check, or confirm that they are not needed, before making the Cygwin port official.\n \n Other instructions:\n * Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). \n@@ -31,19 +30,7 @@\n \n ### Spkgs\n Install the following spkgs ahead of time, e.g. in `SAGE_ROOT/spkg/standard/` before compiling\n-* #11635 (NTL)\n-* #13324 (ECL)\n-* #13137 (MPIR)\n-* #13804 (fplll)\n-* #13954 (GAP)\n-* #13914 (zlib)\n-  * This has not been tested on XP, but should work; otherwise install zlib-devel on Cygwin\n-* #13844 (patch)\n-  * This has not been tested on XP, but should work; otherwise install patch on Cygwin\n-\n-Optionally:\n-* #9167 (ECL - optional, as only needed for starting Sage)\n-* #9543 (cephes - optional, as it removes cephes which fails to build undetected anyway currently)\n+* #13351 (lcalc)\n \n ### Patches\n You may have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)\n@@ -61,17 +48,9 @@\n   which will bring you back to your normal shell.\n \n Patches currently needed for:\n-* #13806\n-\n-After the build is completed, for doctests it would be helpful to apply patches from (following the developer guide)\n-* #13324 (ECL)\n+* #13351\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.\n-\n----\n-\n-#13841 is a followup ticket for Sage to *start* as well automatically.  Hopefully it won't be necessary, but the past teaches us that often Sage would build, but not start, so that's a little insurance.\n-\n \n ---\n \n``````\n",
    "created_at": "2013-03-08T12:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47422",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,24 +4,23 @@
 
 2. Extract the Sage tarball and type "`make`"
 
-and have everything build automatically with no errors.   The goal is **not** that the resulting build works or Sage starts up.  That will be for a later ticket.  Adding checks for all these prereqs will also be part of a future ticket.
+and have everything build automatically with no errors.   
+
+The goal is **not** that the resulting build works or Sage starts up (this is #13841), but if that happens as well, this will be great.  Adding checks for all these prereqs, if necessary, will also be part of a future ticket.
 
 ---
 
-## Most recent trials and a lot more status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort
+## More info
+Most recent trials and a lot more archived status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort
 
 ## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)
-As below with Sage 5.6.beta2
+As below with Sage 5.8.beta3
 
 ### Cygwin prereqs
 Here is what to install from Cygwin - use the usual stable binaries.
-* `make`, `perl`, `m4`
+* `make`, `perl`, `m4`, `binutils`
 * either `gcc4-core`  alone and then use the optional gcc-4.7.2 spkg (the standard gcc-4.6.3 spkg won't be able to compile ecl) or `gcc4-core` and `gcc4-g++` and `gcc4-fortran` whose versions **must** match
-* `libiconv` - or a tweaked iconv spkg from #13912
 * `liblapack`, `liblapack0`, `liblapack-devel` - though we should be able to build ATLAS
-* `libncurses-devel` - needed by singular to build, not investigated yet.
-
-We need to add a test for **all** of the above packages on Cygwin which the prereq script does not already check, or confirm that they are not needed, before making the Cygwin port official.
 
 Other instructions:
 * Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). 
@@ -31,19 +30,7 @@
 
 ### Spkgs
 Install the following spkgs ahead of time, e.g. in `SAGE_ROOT/spkg/standard/` before compiling
-* #11635 (NTL)
-* #13324 (ECL)
-* #13137 (MPIR)
-* #13804 (fplll)
-* #13954 (GAP)
-* #13914 (zlib)
-  * This has not been tested on XP, but should work; otherwise install zlib-devel on Cygwin
-* #13844 (patch)
-  * This has not been tested on XP, but should work; otherwise install patch on Cygwin
-
-Optionally:
-* #9167 (ECL - optional, as only needed for starting Sage)
-* #9543 (cephes - optional, as it removes cephes which fails to build undetected anyway currently)
+* #13351 (lcalc)
 
 ### Patches
 You may have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)
@@ -61,17 +48,9 @@
   which will bring you back to your normal shell.
 
 Patches currently needed for:
-* #13806
-
-After the build is completed, for doctests it would be helpful to apply patches from (following the developer guide)
-* #13324 (ECL)
+* #13351
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.
-
----
-
-#13841 is a followup ticket for Sage to *start* as well automatically.  Hopefully it won't be necessary, but the past teaches us that often Sage would build, but not start, so that's a little insurance.
-
 
 ---
 
``````




---

archive/issue_comments_047423.json:
```json
{
    "body": "<div id=\"comment:182\" align=\"right\">comment:182</div>\n\nI only had trouble with #13351 and fork problems during matplotlib (which even rebasing didn't solve).  I do *not* have libncurses-devel (checked `cygcheck -c`), only libncurses 8 through w10, so I'm removing that as a dependency based on the experiences JP reports above.",
    "created_at": "2013-03-08T12:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47423",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:182" align="right">comment:182</div>

I only had trouble with #13351 and fork problems during matplotlib (which even rebasing didn't solve).  I do *not* have libncurses-devel (checked `cygcheck -c`), only libncurses 8 through w10, so I'm removing that as a dependency based on the experiences JP reports above.



---

archive/issue_comments_047424.json:
```json
{
    "body": "<div id=\"comment:183\" align=\"right\">comment:183</div>\n\nAnother question: will #12415 make all doctesting on Cygwin hopeless, given the problems with forking?",
    "created_at": "2013-03-08T12:57:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47424",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:183" align="right">comment:183</div>

Another question: will #12415 make all doctesting on Cygwin hopeless, given the problems with forking?



---

archive/issue_comments_047425.json:
```json
{
    "body": "<div id=\"comment:184\" align=\"right\">comment:184</div>\n\n> Another question: will #12415 make all doctesting on Cygwin hopeless, given the problems with forking?\n\nThough I should say that on my current box, it's hopeless anyway; so many tests fail with something related to rebasing or forking or an inability to start gap or pari or maxima (or, currently, the lack of matplotlib).  There are one or two actually interesting tests I observe, randomly.  Like\n\n```\nFile ... exp_integral.py, line 585\nsage: N(f.integrate(x,2.0,3.0))\nExpected:\n    0.6016...587\nGot:\n    0.6016...588\n```\nBut in general it's a mess when other programs are called.",
    "created_at": "2013-03-08T16:30:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47425",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:184" align="right">comment:184</div>

> Another question: will #12415 make all doctesting on Cygwin hopeless, given the problems with forking?

Though I should say that on my current box, it's hopeless anyway; so many tests fail with something related to rebasing or forking or an inability to start gap or pari or maxima (or, currently, the lack of matplotlib).  There are one or two actually interesting tests I observe, randomly.  Like

```
File ... exp_integral.py, line 585
sage: N(f.integrate(x,2.0,3.0))
Expected:
    0.6016...587
Got:
    0.6016...588
```
But in general it's a mess when other programs are called.



---

archive/issue_comments_047426.json:
```json
{
    "body": "<div id=\"comment:185\" align=\"right\">comment:185</div>\n\n> Strange, Ive always used the gcc4 package (more precisely, the latest version available for gcc4-core) and got no problems either with that package only to builg Sage's GCC 4.6.3 or 4.7.2, or together with the corresponding gcc4-g++ and gcc4-gfortran to builg Sage directly.\n\nOkay, I'm noting that on a Win 7 box I just got my hands on (just for this week) I'm getting exactly the same error message about mpfr-4 - failure in the same place, in fact, in the very first compilation, it won't even do bzip2.  Adding the gcc (as opposed to gcc-core et al.) package doesn't help.  Adding the libmpfr-4 package solves things.  I can't explain the discrepancy to JP's experience.  I have Cygwin 1.7.17-1 - I just installed it less than a half-hour ago, so it must be up-to-date!\n\nAlso, just as a point of information, it turns out gcc (3) does not install by default, I don't have it now.",
    "created_at": "2013-03-12T00:44:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47426",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:185" align="right">comment:185</div>

> Strange, Ive always used the gcc4 package (more precisely, the latest version available for gcc4-core) and got no problems either with that package only to builg Sage's GCC 4.6.3 or 4.7.2, or together with the corresponding gcc4-g++ and gcc4-gfortran to builg Sage directly.

Okay, I'm noting that on a Win 7 box I just got my hands on (just for this week) I'm getting exactly the same error message about mpfr-4 - failure in the same place, in fact, in the very first compilation, it won't even do bzip2.  Adding the gcc (as opposed to gcc-core et al.) package doesn't help.  Adding the libmpfr-4 package solves things.  I can't explain the discrepancy to JP's experience.  I have Cygwin 1.7.17-1 - I just installed it less than a half-hour ago, so it must be up-to-date!

Also, just as a point of information, it turns out gcc (3) does not install by default, I don't have it now.



---

archive/issue_comments_047427.json:
```json
{
    "body": "<div id=\"comment:186\" align=\"right\">comment:186</div>\n\nMore fun on Win 7, two threads:\n* zn_poly only will build properly with one thread, otherwise the tuning goes too slow or something.\n* Got some probably rebase need in polybori.\n* Did I do something wrong in that lapack is really built?  Atlas just gets copied from /usr/lib/, but I had thought that lapack would just copy from the lapack Cygwin package.  Not important, probably just my ignorance.",
    "created_at": "2013-03-12T02:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47427",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:186" align="right">comment:186</div>

More fun on Win 7, two threads:
* zn_poly only will build properly with one thread, otherwise the tuning goes too slow or something.
* Got some probably rebase need in polybori.
* Did I do something wrong in that lapack is really built?  Atlas just gets copied from /usr/lib/, but I had thought that lapack would just copy from the lapack Cygwin package.  Not important, probably just my ignorance.



---

archive/issue_comments_047428.json:
```json
{
    "body": "<div id=\"comment:187\" align=\"right\">comment:187</div>\n\nI get on startup (and test) a lot of \n\n```\nException OverflowError: 'long int too large to convert to int' in <sage.structure.coerce_dict.TripleDictEraser object at 0xff9ad044> ignored\n```\nmessages.  Doc did not build.  This seems also to have led to some doctest errors in sage/algebras/free_algebra.py.  Full test results tomorrow, if I can get it out.",
    "created_at": "2013-03-12T03:41:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47428",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:187" align="right">comment:187</div>

I get on startup (and test) a lot of 

```
Exception OverflowError: 'long int too large to convert to int' in <sage.structure.coerce_dict.TripleDictEraser object at 0xff9ad044> ignored
```
messages.  Doc did not build.  This seems also to have led to some doctest errors in sage/algebras/free_algebra.py.  Full test results tomorrow, if I can get it out.



---

archive/issue_comments_047429.json:
```json
{
    "body": "<div id=\"comment:188\" align=\"right\">comment:188</div>\n\nReplying to [@kcrisman](#comment%3A187):\n> I get on startup (and test) a lot of \n> \n> ```\n> Exception OverflowError: 'long int too large to convert to int' in <sage.structure.coerce_dict.TripleDictEraser object at 0xff9ad044> ignored\n> ```\n> messages.  Doc did not build.  \n\nnot a surprise that docs don't get built, as you have a startup error...\nMaybe Simon King can comment on this, as he's been working on this stuff a lot lately.  If you ask me, conversion of long ints to ints should not happen!",
    "created_at": "2013-03-12T05:54:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47429",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:188" align="right">comment:188</div>

Replying to [@kcrisman](#comment%3A187):
> I get on startup (and test) a lot of 
> 
> ```
> Exception OverflowError: 'long int too large to convert to int' in <sage.structure.coerce_dict.TripleDictEraser object at 0xff9ad044> ignored
> ```
> messages.  Doc did not build.  

not a surprise that docs don't get built, as you have a startup error...
Maybe Simon King can comment on this, as he's been working on this stuff a lot lately.  If you ask me, conversion of long ints to ints should not happen!



---

archive/issue_events_081148.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-03-12T05:54:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81148"
}
```



---

archive/issue_events_081149.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2013-03-12T05:54:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81149"
}
```



---

archive/issue_comments_047430.json:
```json
{
    "body": "<div id=\"comment:189\" align=\"right\">comment:189</div>\n\nReplying to [@kcrisman](#comment%3A187):\n> \n> ```\n> Exception OverflowError: 'long int too large to convert to int' in <sage.structure.coerce_dict.TripleDictEraser object at 0xff9ad044> ignored\n> ```\n\nThat is fixed by #14254.",
    "created_at": "2013-03-12T06:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47430",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:189" align="right">comment:189</div>

Replying to [@kcrisman](#comment%3A187):
> 
> ```
> Exception OverflowError: 'long int too large to convert to int' in <sage.structure.coerce_dict.TripleDictEraser object at 0xff9ad044> ignored
> ```

That is fixed by #14254.



---

archive/issue_comments_047431.json:
```json
{
    "body": "<div id=\"comment:190\" align=\"right\">comment:190</div>\n\n> > \n> > ```\n> > Exception OverflowError: 'long int too large to convert to int' in <sage.structure.coerce_dict.TripleDictEraser object at 0xff9ad044> ignored\n> > ```\n\n> That is fixed by #14254.\n\nThanks, I'll try applying that and rerunning failed tests once they complete; as far as I can tell the only tests that failed were due to this (if one includes the tests that fail due to unbuilt doc, which as Dima points out is also due to this).\n\nRelated to this... did we ever merge a test option that reruns only the most recent failed tests?  I seem to recall discussion about this, maybe it's part of #12415, though I haven't been following that ticket.",
    "created_at": "2013-03-12T13:12:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47431",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:190" align="right">comment:190</div>

> > 
> > ```
> > Exception OverflowError: 'long int too large to convert to int' in <sage.structure.coerce_dict.TripleDictEraser object at 0xff9ad044> ignored
> > ```

> That is fixed by #14254.

Thanks, I'll try applying that and rerunning failed tests once they complete; as far as I can tell the only tests that failed were due to this (if one includes the tests that fail due to unbuilt doc, which as Dima points out is also due to this).

Related to this... did we ever merge a test option that reruns only the most recent failed tests?  I seem to recall discussion about this, maybe it's part of #12415, though I haven't been following that ticket.



---

archive/issue_comments_047432.json:
```json
{
    "body": "<div id=\"comment:191\" align=\"right\">comment:191</div>\n\nReplying to [@kcrisman](#comment%3A190):\n> Related to this... did we ever merge a test option that reruns only the most recent failed tests?  I seem to recall discussion about this, maybe it's part of #12415, though I haven't been following that ticket.\n\nThis would be useful. But since #14254 is implicitly used in every single instance of coercion (hence, *everywhere*!), I think rerunning the full test suite makes sense in this case.",
    "created_at": "2013-03-12T14:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47432",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:191" align="right">comment:191</div>

Replying to [@kcrisman](#comment%3A190):
> Related to this... did we ever merge a test option that reruns only the most recent failed tests?  I seem to recall discussion about this, maybe it's part of #12415, though I haven't been following that ticket.

This would be useful. But since #14254 is implicitly used in every single instance of coercion (hence, *everywhere*!), I think rerunning the full test suite makes sense in this case.



---

archive/issue_comments_047433.json:
```json
{
    "body": "<div id=\"comment:192\" align=\"right\">comment:192</div>\n\nAs it turns out, #14254 wasn't the (whole) problem.  Most of the errors were of the following ilk.\n\n```\nsage -t  devel/sage-main/sage/algebras/free_algebra.py\nException KeyError: (The ring pointer -0x1f5282c,) in 'sage.libs.singular.ring.singular_ring_delete' ignored\nException KeyError: (The ring pointer -0x1f52768,) in 'sage.libs.singular.ring.singular_ring_delete' ignored\nException KeyError: (The ring pointer -0x1f526a4,) in 'sage.libs.singular.ring.singular_ring_delete' ignored\n**********************************************************************\nFile \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/algebras/free_algebra.py\", line 820:\n    sage: G=A.g_algebra({y*x:-x*y})\nException raised:\n    Traceback (most recent call last):\n      File \"/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/sagetest/sage-5.8.beta4/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_18[3]>\", line 1, in <module>\n        G=A.g_algebra({y*x:-x*y})###line 820:\n    sage: G=A.g_algebra({y*x:-x*y})\n      File \"/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/algebras/free_algebra.py\", line 872, in g_algebra\n        order=order, check=check)\n      File \"factory.pyx\", line 143, in sage.structure.factory.UniqueFactory.__call__ (sage/structure/factory.c:1119)\n      File \"factory.pyx\", line 170, in sage.structure.factory.UniqueFactory.get_object (sage/structure/factory.c:1311)\n      File \"plural.pyx\", line 180, in sage.rings.polynomial.plural.G_AlgFactory.create_object (sage/rings/polynomial/plural.cpp:4289)\n      File \"plural.pyx\", line 358, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__init__ (sage/rings/polynomial/plural.cpp:5351)\n      File \"plural.pyx\", line 1471, in sage.rings.polynomial.plural.NCPolynomial_plural.__richcmp__ (sage/rings/polynomial/plural.cpp:11452)\n      File \"element.pyx\", line 855, in sage.structure.element.Element._richcmp (sage/structure/element.c:7980)\n      File \"coerce.pyx\", line 913, in sage.structure.coerce.CoercionModel_cache_maps.canonical_coercion (sage/structure/coerce.c:8304)\n      File \"coerce.pyx\", line 1068, in sage.structure.coerce.CoercionModel_cache_maps.coercion_maps (sage/structure/coerce.c:9855)\n      File \"coerce.pyx\", line 1209, in sage.structure.coerce.CoercionModel_cache_maps.discover_coercion (sage/structure/coerce.c:11405)\n      File \"parent.pyx\", line 2116, in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:14383)\n      File \"parent.pyx\", line 2937, in sage.structure.parent._register_pair (sage/structure/parent.c:21545)\n      File \"parent.pyx\", line 2911, in sage.structure.parent.EltPair.__hash__ (sage/structure/parent.c:21193)\n      File \"plural.pyx\", line 573, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__hash__ (sage/rings/polynomial/plural.cpp:6487)\n    OverflowError: Python int too large to convert to C long\n```\nNotice the similarity, but now it's in sage/rings/polynomial/plural.\n\n---\nUnrelated to these:\n\n```\nsage -t  devel/sage-main/sage/misc/inline_fortran.py\n**********************************************************************\nFile \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/misc/inline_fortran.py\", line 29:\n    sage: fortran(_example)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/sagetest/sage-5.8.beta4/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_1[4]>\", line 1, in <module>\n        fortran(_example)###line 29:\n    sage: fortran(_example)\n      File \"/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/inline_fortran.py\", line 21, in __call__\n        return self.eval(*args, **kwds)\n      File \"/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/inline_fortran.py\", line 93, in eval\n        raise RuntimeError(\"failed to compile Fortran code:\\n\" + log_string)\n    RuntimeError: failed to compile Fortran code:\n    Found executable /home/sagetest/sage-5.8.beta4/local/bin/sage-inline-fortran\n    gnu: no Fortran 90 compiler found\n Found executable /usr/bin/ld\n    Found executable /usr/bin/ar\n    Found executable /usr/bin/ranlib\n    gnu: no Fortran 90 compiler found\n\n**********************************************************************\n```\n\n```\nsage -t  devel/sage-main/sage/functions/other.py\n**********************************************************************\nFile \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/functions/other.py\", line 664:\n    sage: gamma1(float(6))\nExpected:\n    120.0\nGot:\n    119.99999999999997\n**********************************************************************\n```\n\n```\nsage -t  devel/sage-main/sage/misc/cython.py\nCompiling hello.spyx...\ncp: cannot stat `/home/Administrator/.sage/temp/CETGORD_J5FGIPM/7732/spyx/hello/hello.so': No such file or directory\n**********************************************************************\nFile \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/misc/cython.py\", line 695:\n    sage: cython_create_local_so('hello.spyx')\nException raised:\n    Traceback (most recent call last):\n      File \"/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/sagetest/sage-5.8.beta4/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_13[8]>\", line 1, in <module>\n        cython_create_local_so('hello.spyx')###line 695:\n    sage: cython_create_local_so('hello.spyx')\n      File \"/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/cython.py\", line 706, in cython_create_local_so\n        cython(filename, compile_message=True, use_cache=False, create_local_so_file=True)\n      File \"/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/cython.py\", line 554, in cython\n        raise RuntimeError, \"Error making local copy of shared object library for %s\"%filename\n    RuntimeError: Error making local copy of shared object library for hello.spyx\n**********************************************************************\n```\n\n```\nsage -t  devel/sage-main/sage/symbolic/expression.pyx\n**********************************************************************\nFile \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/symbolic/expression.pyx\", line 6721:\n    sage: SR(10.0r).gamma()\nExpected:\n    362880.0\nGot:\n    362879.9999999998\n#0: simplify_sum(expr='sum(q^k,k,0,inf))\n#1: simplify_sum(expr=a*'sum(q^k,k,0,inf))\n**********************************************************************\n```\n\n```\nsage -t  devel/sage-main/sage/structure/sage_object.pyx\n**********************************************************************\nFile \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/structure/sage_object.pyx\", line 1215:\n    sage: if uid==0:\n        raise OSError('You must not run the doctests as root, geez!')\n    else: sage.structure.sage_object.picklejar(Integer(1), dir + '/noaccess')\nExpected:\n    Traceback (most recent call last):\n    ...\n    OSError: ...\nGot nothing\n**********************************************************************\n```\n\n```\nsage -t  devel/sage-main/sage/tests/cmdline.py\n**********************************************************************\nFile \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/tests/cmdline.py\", line 376:\n    sage: ret\nExpected:\n    0\nGot:\n    -6\n**********************************************************************\n```",
    "created_at": "2013-03-12T14:56:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47433",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:192" align="right">comment:192</div>

As it turns out, #14254 wasn't the (whole) problem.  Most of the errors were of the following ilk.

```
sage -t  devel/sage-main/sage/algebras/free_algebra.py
Exception KeyError: (The ring pointer -0x1f5282c,) in 'sage.libs.singular.ring.singular_ring_delete' ignored
Exception KeyError: (The ring pointer -0x1f52768,) in 'sage.libs.singular.ring.singular_ring_delete' ignored
Exception KeyError: (The ring pointer -0x1f526a4,) in 'sage.libs.singular.ring.singular_ring_delete' ignored
**********************************************************************
File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/algebras/free_algebra.py", line 820:
    sage: G=A.g_algebra({y*x:-x*y})
Exception raised:
    Traceback (most recent call last):
      File "/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/sagetest/sage-5.8.beta4/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_18[3]>", line 1, in <module>
        G=A.g_algebra({y*x:-x*y})###line 820:
    sage: G=A.g_algebra({y*x:-x*y})
      File "/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/algebras/free_algebra.py", line 872, in g_algebra
        order=order, check=check)
      File "factory.pyx", line 143, in sage.structure.factory.UniqueFactory.__call__ (sage/structure/factory.c:1119)
      File "factory.pyx", line 170, in sage.structure.factory.UniqueFactory.get_object (sage/structure/factory.c:1311)
      File "plural.pyx", line 180, in sage.rings.polynomial.plural.G_AlgFactory.create_object (sage/rings/polynomial/plural.cpp:4289)
      File "plural.pyx", line 358, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__init__ (sage/rings/polynomial/plural.cpp:5351)
      File "plural.pyx", line 1471, in sage.rings.polynomial.plural.NCPolynomial_plural.__richcmp__ (sage/rings/polynomial/plural.cpp:11452)
      File "element.pyx", line 855, in sage.structure.element.Element._richcmp (sage/structure/element.c:7980)
      File "coerce.pyx", line 913, in sage.structure.coerce.CoercionModel_cache_maps.canonical_coercion (sage/structure/coerce.c:8304)
      File "coerce.pyx", line 1068, in sage.structure.coerce.CoercionModel_cache_maps.coercion_maps (sage/structure/coerce.c:9855)
      File "coerce.pyx", line 1209, in sage.structure.coerce.CoercionModel_cache_maps.discover_coercion (sage/structure/coerce.c:11405)
      File "parent.pyx", line 2116, in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:14383)
      File "parent.pyx", line 2937, in sage.structure.parent._register_pair (sage/structure/parent.c:21545)
      File "parent.pyx", line 2911, in sage.structure.parent.EltPair.__hash__ (sage/structure/parent.c:21193)
      File "plural.pyx", line 573, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__hash__ (sage/rings/polynomial/plural.cpp:6487)
    OverflowError: Python int too large to convert to C long
```
Notice the similarity, but now it's in sage/rings/polynomial/plural.

---
Unrelated to these:

```
sage -t  devel/sage-main/sage/misc/inline_fortran.py
**********************************************************************
File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/misc/inline_fortran.py", line 29:
    sage: fortran(_example)
Exception raised:
    Traceback (most recent call last):
      File "/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/sagetest/sage-5.8.beta4/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_1[4]>", line 1, in <module>
        fortran(_example)###line 29:
    sage: fortran(_example)
      File "/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/inline_fortran.py", line 21, in __call__
        return self.eval(*args, **kwds)
      File "/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/inline_fortran.py", line 93, in eval
        raise RuntimeError("failed to compile Fortran code:\n" + log_string)
    RuntimeError: failed to compile Fortran code:
    Found executable /home/sagetest/sage-5.8.beta4/local/bin/sage-inline-fortran
    gnu: no Fortran 90 compiler found
 Found executable /usr/bin/ld
    Found executable /usr/bin/ar
    Found executable /usr/bin/ranlib
    gnu: no Fortran 90 compiler found

**********************************************************************
```

```
sage -t  devel/sage-main/sage/functions/other.py
**********************************************************************
File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/functions/other.py", line 664:
    sage: gamma1(float(6))
Expected:
    120.0
Got:
    119.99999999999997
**********************************************************************
```

```
sage -t  devel/sage-main/sage/misc/cython.py
Compiling hello.spyx...
cp: cannot stat `/home/Administrator/.sage/temp/CETGORD_J5FGIPM/7732/spyx/hello/hello.so': No such file or directory
**********************************************************************
File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/misc/cython.py", line 695:
    sage: cython_create_local_so('hello.spyx')
Exception raised:
    Traceback (most recent call last):
      File "/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/sagetest/sage-5.8.beta4/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_13[8]>", line 1, in <module>
        cython_create_local_so('hello.spyx')###line 695:
    sage: cython_create_local_so('hello.spyx')
      File "/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/cython.py", line 706, in cython_create_local_so
        cython(filename, compile_message=True, use_cache=False, create_local_so_file=True)
      File "/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/cython.py", line 554, in cython
        raise RuntimeError, "Error making local copy of shared object library for %s"%filename
    RuntimeError: Error making local copy of shared object library for hello.spyx
**********************************************************************
```

```
sage -t  devel/sage-main/sage/symbolic/expression.pyx
**********************************************************************
File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/symbolic/expression.pyx", line 6721:
    sage: SR(10.0r).gamma()
Expected:
    362880.0
Got:
    362879.9999999998
#0: simplify_sum(expr='sum(q^k,k,0,inf))
#1: simplify_sum(expr=a*'sum(q^k,k,0,inf))
**********************************************************************
```

```
sage -t  devel/sage-main/sage/structure/sage_object.pyx
**********************************************************************
File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/structure/sage_object.pyx", line 1215:
    sage: if uid==0:
        raise OSError('You must not run the doctests as root, geez!')
    else: sage.structure.sage_object.picklejar(Integer(1), dir + '/noaccess')
Expected:
    Traceback (most recent call last):
    ...
    OSError: ...
Got nothing
**********************************************************************
```

```
sage -t  devel/sage-main/sage/tests/cmdline.py
**********************************************************************
File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/tests/cmdline.py", line 376:
    sage: ret
Expected:
    0
Got:
    -6
**********************************************************************
```



---

archive/issue_comments_047434.json:
```json
{
    "body": "<div id=\"comment:193\" align=\"right\">comment:193</div>\n\n> As it turns out, #14254 wasn't the (whole) problem.  Most of the errors were of the following ilk.\n> \n> ```\n> Exception KeyError: (The ring pointer -0x1f5282c,) in 'sage.libs.singular.ring.singular_ring_delete' ignored\n> ```\n\nI don't know what is going on here.\n>\n>```\n>       File \"plural.pyx\", line 573, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__hash__ (sage/rings/polynomial/plural.cpp:6487)\n>     OverflowError: Python int too large to convert to C long\n> ```\n\nSo ... would importing and using the `signed_id` function from #14254 be sufficient here?\n> \n> ```\n>     Found executable /home/sagetest/sage-5.8.beta4/local/bin/sage-inline-fortran\n>     gnu: no Fortran 90 compiler found\n>  Found executable /usr/bin/ld\n>     Found executable /usr/bin/ar\n>     Found executable /usr/bin/ranlib\n>     gnu: no Fortran 90 compiler found\n> ```\n\nI'm not sure why this isn't working.\n> \n> ```\n> sage -t  devel/sage-main/sage/functions/other.py\n> **********************************************************************\n> File \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/functions/other.py\", line 664:\n>     sage: gamma1(float(6))\n> Expected:\n>     120.0\n> Got:\n>     119.99999999999997\n> **********************************************************************\n> ```\n\nThis seems very familiar.  I am pretty sure we have other platforms where this happens - #10285 seems to have this, for instance.  #8847 should have fixed this a long time ago, but maybe I have the wrong stuff now?\n> \n> ```\n> sage -t  devel/sage-main/sage/misc/cython.py\n> Compiling hello.spyx...\n> cp: cannot stat `/home/Administrator/.sage/temp/CETGORD_J5FGIPM/7732/spyx/hello/hello.so': No such file or directory\n> **********************************************************************\n> File \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/misc/cython.py\", line 695:\n>     sage: cython_create_local_so('hello.spyx')\n>     RuntimeError: Error making local copy of shared object library for hello.spyx\n> **********************************************************************\n> ```\n\nNo idea.  Maybe a permissions thing?\n> \n> ```\n> sage -t  devel/sage-main/sage/symbolic/expression.pyx\n> **********************************************************************\n> File \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/symbolic/expression.pyx\", line 6721:\n>     sage: SR(10.0r).gamma()\n> Expected:\n>     362880.0\n> Got:\n>     362879.9999999998\n> #0: simplify_sum(expr='sum(q^k,k,0,inf))\n> #1: simplify_sum(expr=a*'sum(q^k,k,0,inf))\n> **********************************************************************\n> ```\n\nSame issue as above, I would say.\n> \n> ```\n> sage -t  devel/sage-main/sage/structure/sage_object.pyx\n> **********************************************************************\n> File \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/structure/sage_object.pyx\", line 1215:\n>     sage: if uid==0:\n>         raise OSError('You must not run the doctests as root, geez!')\n>     else: sage.structure.sage_object.picklejar(Integer(1), dir + '/noaccess')\n> Expected:\n>     Traceback (most recent call last):\n>     ...\n>     OSError: ...\n> Got nothing\n> **********************************************************************\n> ```\n\nAside from the bizarre expected OSError, I would guess this is closely related to the next one.\n> \n> ```\n> sage -t  devel/sage-main/sage/tests/cmdline.py\n> **********************************************************************\n> File \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/tests/cmdline.py\", line 376:\n>     sage: ret\n> Expected:\n>     0\n> Got:\n>     -6\n> **********************************************************************\n> ```\n\nThis seems to be from the command\n\n```\nsage: (out, err, ret) = test_executable([\"sage\", \"--ipython\"], \"\\n3**33\\n\")\n```\nbut when would IPython return negative 6?",
    "created_at": "2013-03-12T15:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47434",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:193" align="right">comment:193</div>

> As it turns out, #14254 wasn't the (whole) problem.  Most of the errors were of the following ilk.
> 
> ```
> Exception KeyError: (The ring pointer -0x1f5282c,) in 'sage.libs.singular.ring.singular_ring_delete' ignored
> ```

I don't know what is going on here.
>
>```
>       File "plural.pyx", line 573, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__hash__ (sage/rings/polynomial/plural.cpp:6487)
>     OverflowError: Python int too large to convert to C long
> ```

So ... would importing and using the `signed_id` function from #14254 be sufficient here?
> 
> ```
>     Found executable /home/sagetest/sage-5.8.beta4/local/bin/sage-inline-fortran
>     gnu: no Fortran 90 compiler found
>  Found executable /usr/bin/ld
>     Found executable /usr/bin/ar
>     Found executable /usr/bin/ranlib
>     gnu: no Fortran 90 compiler found
> ```

I'm not sure why this isn't working.
> 
> ```
> sage -t  devel/sage-main/sage/functions/other.py
> **********************************************************************
> File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/functions/other.py", line 664:
>     sage: gamma1(float(6))
> Expected:
>     120.0
> Got:
>     119.99999999999997
> **********************************************************************
> ```

This seems very familiar.  I am pretty sure we have other platforms where this happens - #10285 seems to have this, for instance.  #8847 should have fixed this a long time ago, but maybe I have the wrong stuff now?
> 
> ```
> sage -t  devel/sage-main/sage/misc/cython.py
> Compiling hello.spyx...
> cp: cannot stat `/home/Administrator/.sage/temp/CETGORD_J5FGIPM/7732/spyx/hello/hello.so': No such file or directory
> **********************************************************************
> File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/misc/cython.py", line 695:
>     sage: cython_create_local_so('hello.spyx')
>     RuntimeError: Error making local copy of shared object library for hello.spyx
> **********************************************************************
> ```

No idea.  Maybe a permissions thing?
> 
> ```
> sage -t  devel/sage-main/sage/symbolic/expression.pyx
> **********************************************************************
> File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/symbolic/expression.pyx", line 6721:
>     sage: SR(10.0r).gamma()
> Expected:
>     362880.0
> Got:
>     362879.9999999998
> #0: simplify_sum(expr='sum(q^k,k,0,inf))
> #1: simplify_sum(expr=a*'sum(q^k,k,0,inf))
> **********************************************************************
> ```

Same issue as above, I would say.
> 
> ```
> sage -t  devel/sage-main/sage/structure/sage_object.pyx
> **********************************************************************
> File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/structure/sage_object.pyx", line 1215:
>     sage: if uid==0:
>         raise OSError('You must not run the doctests as root, geez!')
>     else: sage.structure.sage_object.picklejar(Integer(1), dir + '/noaccess')
> Expected:
>     Traceback (most recent call last):
>     ...
>     OSError: ...
> Got nothing
> **********************************************************************
> ```

Aside from the bizarre expected OSError, I would guess this is closely related to the next one.
> 
> ```
> sage -t  devel/sage-main/sage/tests/cmdline.py
> **********************************************************************
> File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/tests/cmdline.py", line 376:
>     sage: ret
> Expected:
>     0
> Got:
>     -6
> **********************************************************************
> ```

This seems to be from the command

```
sage: (out, err, ret) = test_executable(["sage", "--ipython"], "\n3**33\n")
```
but when would IPython return negative 6?



---

archive/issue_comments_047435.json:
```json
{
    "body": "<div id=\"comment:194\" align=\"right\">comment:194</div>\n\nReplying to [@kcrisman](#comment%3A193):\n> > As it turns out, #14254 wasn't the (whole) problem.  Most of the errors were of the following ilk.\n> > \n> > ```\n> > Exception KeyError: (The ring pointer -0x1f5282c,) in 'sage.libs.singular.ring.singular_ring_delete' ignored\n> > ```\n\n> I don't know what is going on here.\n\nThere is a ticket #13447 concerning garbage collection of libsingular rings. The work stalled, because of problems related with #715 that eventually turned out to be upstream bugs in (a) Singular and (b) Cython. It would certainly make sense to try and revive this ticket.\n\n> >```\n> >       File \"plural.pyx\", line 573, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__hash__ (sage/rings/polynomial/plural.cpp:6487)\n> >     OverflowError: Python int too large to convert to C long\n> > ```\n\n> So ... would importing and using the `signed_id` function from #14254 be sufficient here?\n\nNote that the error message is different: Now, it is not a long int that can not be converted to an int, but it is a Python int that is too long for a long.",
    "created_at": "2013-03-12T15:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47435",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:194" align="right">comment:194</div>

Replying to [@kcrisman](#comment%3A193):
> > As it turns out, #14254 wasn't the (whole) problem.  Most of the errors were of the following ilk.
> > 
> > ```
> > Exception KeyError: (The ring pointer -0x1f5282c,) in 'sage.libs.singular.ring.singular_ring_delete' ignored
> > ```

> I don't know what is going on here.

There is a ticket #13447 concerning garbage collection of libsingular rings. The work stalled, because of problems related with #715 that eventually turned out to be upstream bugs in (a) Singular and (b) Cython. It would certainly make sense to try and revive this ticket.

> >```
> >       File "plural.pyx", line 573, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__hash__ (sage/rings/polynomial/plural.cpp:6487)
> >     OverflowError: Python int too large to convert to C long
> > ```

> So ... would importing and using the `signed_id` function from #14254 be sufficient here?

Note that the error message is different: Now, it is not a long int that can not be converted to an int, but it is a Python int that is too long for a long.



---

archive/issue_comments_047436.json:
```json
{
    "body": "<div id=\"comment:195\" align=\"right\">comment:195</div>\n\n> Note that the error message is different: Now, it is not a long int that can not be converted to an int, but it is a Python int that is too long for a long.\n\nHmm, good point.\n\n---\n\nOf course, none of this should keep us from finishing this ticket with the atlas check - just wanted to see if anyone else got these.  Certainly we don't need all tests to pass yet, though the moving target continues to be frustrating.",
    "created_at": "2013-03-12T15:25:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47436",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:195" align="right">comment:195</div>

> Note that the error message is different: Now, it is not a long int that can not be converted to an int, but it is a Python int that is too long for a long.

Hmm, good point.

---

Of course, none of this should keep us from finishing this ticket with the atlas check - just wanted to see if anyone else got these.  Certainly we don't need all tests to pass yet, though the moving target continues to be frustrating.



---

archive/issue_comments_047437.json:
```json
{
    "body": "<div id=\"comment:196\" align=\"right\">comment:196</div>\n\nI had a quick look at the errors Karl Dieter reported and most of them are the same as the ones I reported earlier.\n\nThe strangest is from \"sage -t  devel/sage-main/sage/tests/cmdline.py\" where there seems to be some missynchronization.\n\nI did not have time to llok at the gfortran and cython ones yet and have no clue whether they will be really problematic or not.\n\nThe precision problems seem indeed similar to the ones on ARM platforms, surely a glibc bug.\n\nThe coercion issues involving overflow are new.\nI'll try to give a shot at 5.9.beta0 tomorrow.\n\nAnd I think its normal the cblas and lapack spkg are really built, its just the atlas one which is not (at the moment, maybe #10508 will get merged one day and we'll build atlas on cygwin by default in a follow up ticket).",
    "created_at": "2013-03-14T00:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47437",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:196" align="right">comment:196</div>

I had a quick look at the errors Karl Dieter reported and most of them are the same as the ones I reported earlier.

The strangest is from "sage -t  devel/sage-main/sage/tests/cmdline.py" where there seems to be some missynchronization.

I did not have time to llok at the gfortran and cython ones yet and have no clue whether they will be really problematic or not.

The precision problems seem indeed similar to the ones on ARM platforms, surely a glibc bug.

The coercion issues involving overflow are new.
I'll try to give a shot at 5.9.beta0 tomorrow.

And I think its normal the cblas and lapack spkg are really built, its just the atlas one which is not (at the moment, maybe #10508 will get merged one day and we'll build atlas on cygwin by default in a follow up ticket).



---

archive/issue_comments_047438.json:
```json
{
    "body": "<div id=\"comment:197\" align=\"right\">comment:197</div>\n\nHere is the current status for this ticket, then, in my view.\n* Figure out whether mpfr-4 needs to be installed or not.  I now have two different brand-new installs of Cygwin that failed with the current package list until I installed it.  It was *not* pulled in with gcc-core and friends.\n* Patch to remove `SAGE_PORT=yes` requirement for Cygwin.\n  * Related to that, we still get the message about `sqrtl in -lm` outdated math library, which presumably would make things fail if `SAGE_PORT` wasn't set, so we need to somehow fix things so that's not an issue.  What happens on FreeBSD?\n* Patch to atlas spkg-install (possibly at #10508, or possibly earlier) to say *precisely* which lapack packages to install, as in the ticket description.\n* As Jeroen points out, make sure that we put something in so that we don't use the (current) Sage 4.6 GCC spkg to build on Cygwin.  This could involve making the 4.7.2 spkg standard (I don't believe there is a ticket for this yet, though there is a sage-devel thread reporting a fair amount of success), or something else.",
    "created_at": "2013-03-14T13:02:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47438",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:197" align="right">comment:197</div>

Here is the current status for this ticket, then, in my view.
* Figure out whether mpfr-4 needs to be installed or not.  I now have two different brand-new installs of Cygwin that failed with the current package list until I installed it.  It was *not* pulled in with gcc-core and friends.
* Patch to remove `SAGE_PORT=yes` requirement for Cygwin.
  * Related to that, we still get the message about `sqrtl in -lm` outdated math library, which presumably would make things fail if `SAGE_PORT` wasn't set, so we need to somehow fix things so that's not an issue.  What happens on FreeBSD?
* Patch to atlas spkg-install (possibly at #10508, or possibly earlier) to say *precisely* which lapack packages to install, as in the ticket description.
* As Jeroen points out, make sure that we put something in so that we don't use the (current) Sage 4.6 GCC spkg to build on Cygwin.  This could involve making the 4.7.2 spkg standard (I don't believe there is a ticket for this yet, though there is a sage-devel thread reporting a fair amount of success), or something else.



---

archive/issue_comments_047439.json:
```json
{
    "body": "<div id=\"comment:198\" align=\"right\">comment:198</div>\n\nReplying to [@kcrisman](#comment%3A197):\n> Here is the current status for this ticket, then, in my view.\n> * Figure out whether mpfr-4 needs to be installed or not.  I now have two different brand-new installs of Cygwin that failed with the current package list until I installed it.  It was *not* pulled in with gcc-core and friends.\n\nJust to make sure that I understand you correctly: you say that\n1. A \"brand-new install of Cygwin\" does not come with a C compiler.\n2. If one tries to install GCC by installing gcc-core, it does not automatically install the mpfr dependency.",
    "created_at": "2013-03-14T13:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47439",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:198" align="right">comment:198</div>

Replying to [@kcrisman](#comment%3A197):
> Here is the current status for this ticket, then, in my view.
> * Figure out whether mpfr-4 needs to be installed or not.  I now have two different brand-new installs of Cygwin that failed with the current package list until I installed it.  It was *not* pulled in with gcc-core and friends.

Just to make sure that I understand you correctly: you say that
1. A "brand-new install of Cygwin" does not come with a C compiler.
2. If one tries to install GCC by installing gcc-core, it does not automatically install the mpfr dependency.



---

archive/issue_comments_047440.json:
```json
{
    "body": "<div id=\"comment:199\" align=\"right\">comment:199</div>\n\nAnother weird data point; when trying to build with `SAGE_INSTALL_GCC=yes` and the Sage gcc-4.7 package, I get\n\n```\nchecking for __gmpz_init in -lgmp... no\nconfigure: error: libgmp not found or uses a different ABI (including static vs shared).\nError configuring MPC.\n```\nI assume this is because of the \"reduced\" MPIR that we build when building gcc.  Properly speaking, this belongs on some other ticket, but I figured I'd point it out here.\n\n---\n\nAs to Jeroen's question, I would say \"yes\" and \"yes\", but with the caveat of installing gcc4-core only installs mpfr-1, not mpfr-4 (whatever the difference is).  However, JP seems to have had a different experience, which is why I say \"figure out\", not just \"add to prereqs\".",
    "created_at": "2013-03-14T13:27:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47440",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:199" align="right">comment:199</div>

Another weird data point; when trying to build with `SAGE_INSTALL_GCC=yes` and the Sage gcc-4.7 package, I get

```
checking for __gmpz_init in -lgmp... no
configure: error: libgmp not found or uses a different ABI (including static vs shared).
Error configuring MPC.
```
I assume this is because of the "reduced" MPIR that we build when building gcc.  Properly speaking, this belongs on some other ticket, but I figured I'd point it out here.

---

As to Jeroen's question, I would say "yes" and "yes", but with the caveat of installing gcc4-core only installs mpfr-1, not mpfr-4 (whatever the difference is).  However, JP seems to have had a different experience, which is why I say "figure out", not just "add to prereqs".



---

archive/issue_comments_047441.json:
```json
{
    "body": "<div id=\"comment:200\" align=\"right\">comment:200</div>\n\nReplying to [@kcrisman](#comment%3A199):\n> Another weird data point; when trying to build with `SAGE_INSTALL_GCC=yes` and the Sage gcc-4.7 package, I get\n> \n> ```\n> checking for __gmpz_init in -lgmp... no\n> configure: error: libgmp not found or uses a different ABI (including static vs shared).\n> Error configuring MPC.\n> ```\n> I assume this is because of the \"reduced\" MPIR that we build when building gcc.  Properly speaking, this belongs on some other ticket, but I figured I'd point it out here.\n\nStrange I just succesfully compiled gcc 4.7.2.p0 spkg with the list of Cygwin packages I posted earlier installed.\n> \n> \n> ---\n> \n> As to Jeroen's question, I would say \"yes\" and \"yes\", but with the caveat of installing gcc4-core only installs mpfr-1, not mpfr-4 (whatever the difference is).  However, JP seems to have had a different experience, which is why I say \"figure out\", not just \"add to prereqs\".\n\nIndeed, no compiler by default.\n\nI'll check what happens on a clean install later as well.",
    "created_at": "2013-03-14T14:50:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47441",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:200" align="right">comment:200</div>

Replying to [@kcrisman](#comment%3A199):
> Another weird data point; when trying to build with `SAGE_INSTALL_GCC=yes` and the Sage gcc-4.7 package, I get
> 
> ```
> checking for __gmpz_init in -lgmp... no
> configure: error: libgmp not found or uses a different ABI (including static vs shared).
> Error configuring MPC.
> ```
> I assume this is because of the "reduced" MPIR that we build when building gcc.  Properly speaking, this belongs on some other ticket, but I figured I'd point it out here.

Strange I just succesfully compiled gcc 4.7.2.p0 spkg with the list of Cygwin packages I posted earlier installed.
> 
> 
> ---
> 
> As to Jeroen's question, I would say "yes" and "yes", but with the caveat of installing gcc4-core only installs mpfr-1, not mpfr-4 (whatever the difference is).  However, JP seems to have had a different experience, which is why I say "figure out", not just "add to prereqs".

Indeed, no compiler by default.

I'll check what happens on a clean install later as well.



---

archive/issue_comments_047442.json:
```json
{
    "body": "<div id=\"comment:201\" align=\"right\">comment:201</div>\n\n> * Patch to atlas spkg-install (possibly at #10508, or possibly earlier) to say *precisely* which lapack packages to install, as in the ticket description.\n\nNote that in trying #10508 \"straight up\", I needed to move /usr/lib/libblas.dll.a and /usr/lib/liblapack.a to `$SAGE_LOCAL/lib`.  The latter for Scipy to build, I assume the former for the Sage library to build.  So whether or not this ticket goes in before #10508, we need to deal with this issue.",
    "created_at": "2013-03-14T20:21:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47442",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:201" align="right">comment:201</div>

> * Patch to atlas spkg-install (possibly at #10508, or possibly earlier) to say *precisely* which lapack packages to install, as in the ticket description.

Note that in trying #10508 "straight up", I needed to move /usr/lib/libblas.dll.a and /usr/lib/liblapack.a to `$SAGE_LOCAL/lib`.  The latter for Scipy to build, I assume the former for the Sage library to build.  So whether or not this ticket goes in before #10508, we need to deal with this issue.



---

archive/issue_comments_047443.json:
```json
{
    "body": "<div id=\"comment:202\" align=\"right\">comment:202</div>\n\nReplying to [@jdemeyer](#comment%3A198):\n> Replying to [@kcrisman](#comment%3A197):\n> > Here is the current status for this ticket, then, in my view.\n> > * Figure out whether mpfr-4 needs to be installed or not.  I now have two different brand-new installs of Cygwin that failed with the current package list until I installed it.  It was *not* pulled in with gcc-core and friends.\n\n> \n> Just to make sure that I understand you correctly: you say that\n> 1. A \"brand-new install of Cygwin\" does not come with a C compiler.\n> 2. If one tries to install GCC by installing gcc-core, it does not automatically install the mpfr dependency.\n\nI just reinstalled Cygwin on my 32 bits W7 and pulled in the following packages:\n* make\n* perl\n* binutils\n* m4\n* lapack\n* liblapack-devel\n* gcc4\n* gcc4-core\n* gcc4-g++\n* gcc4-gfortran\nI took the 4.7.2-1 versions which just popped up.\nAnd indeed only the libmpfr1 package was pulled automatically and not the libmpfr4.\nHere is the list of packages currently installed:\n\n```\nCygwin Package Information\nPackage              Version              Status\n_autorebase          000218-1             OK\n_update-info-dir     01114-1              OK\nalternatives         1.3.30c-10           OK\nbase-cygwin          3.1-1                OK\nbase-files           4.1-2                OK\nbash                 4.1.10-4             OK\nbinutils             2.23.51-1            OK\nbzip2                1.0.6-2              OK\ncoreutils            8.15-1               OK\ncrypt                1.2-1                OK\ncygutils             1.4.10-2             OK\ncygwin               1.7.17-1             OK\ncygwin-doc           1.7-1                OK\ndash                 0.5.7-1              OK\ndiffutils            3.2-1                OK\ndos2unix             6.0.3-1              OK\neditrights           1.01-2               OK\nfile                 5.11-1               OK\nfindutils            4.5.9-2              OK\ngawk                 4.0.2-1              OK\ngcc4                 4.7.2-1              OK\ngcc4-core            4.7.2-1              OK\ngcc4-fortran         4.7.2-1              OK\ngcc4-g++             4.7.2-1              OK\ngettext              0.18.1.1-2           OK\ngrep                 2.6.3-1              OK\ngroff                1.21-2               OK\ngzip                 1.4-1                OK\nipc-utils            1.0-1                OK\nlapack               3.4.2-1              OK\nless                 444-1                OK\nlibattr1             2.4.46-1             OK\nlibbz2_1             1.0.6-2              OK\nlibcloog0            0.15.7-1             OK\nlibdb4.5             4.5.20.2-3           OK\nlibexpat1            2.1.0-1              OK\nlibffi4              4.7.2-1              OK\nlibgcc1              4.7.2-1              OK\nlibgdbm4             1.8.3-20             OK\nlibgfortran3         4.7.2-1              OK\nlibgmp3              4.3.2-1              OK\nlibgmpxx4            4.3.2-1              OK\nlibgomp1             4.7.2-1              OK\nlibiconv2            1.14-2               OK\nlibintl8             0.18.1.1-2           OK\nliblapack-devel      3.4.2-1              OK\nliblapack0           3.4.2-1              OK\nliblzma5             5.0.2_20110517-1     OK\nlibmpc1              0.8-1                OK\nlibmpfr1             2.4.1-4              OK\nlibncurses10         5.7-18               OK\nlibncursesw10        5.7-18               OK\nlibopenssl100        1.0.1e-2             OK\nlibpcre0             8.21-2               OK\nlibpopt0             1.6.4-4              OK\nlibppl               0.10.2-1             OK\nlibquadmath0         4.7.2-1              OK\nlibreadline7         6.1.2-3              OK\nlibsigsegv2          2.10-1               OK\nlibssp0              4.7.2-1              OK\nlibstdc++6           4.7.2-1              OK\nlibstdc++6-devel     4.7.2-1              OK\nlibxml2              2.9.0-2              OK\nlogin                1.10-10              OK\nm4                   1.4.16-1             OK\nmake                 3.82.90-1            OK\nman                  1.6g-1               OK\nmintty               1.1.2-1              OK\nperl                 5.14.2-3             OK\nperl_vendor          5.14.2-3             OK\nrebase               4.4.0-1              OK\nrun                  1.1.13-1             OK\nsed                  4.2.1-2              OK\ntar                  1.26-1               OK\nterminfo             5.7_20091114-14      OK\ntexinfo              4.13-4               OK\ntzcode               2012j-1              OK\nupx-debuginfo        3.09-1               OK\nw32api               9999-1               OK\nw32api-headers       3.0b_svn5591-1       OK\nw32api-runtime       3.0b_svn5591-1       OK\nwhich                2.20-2               OK\nxz                   5.0.2_20110517-1     OK\nzlib0                1.2.7-1              OK\n```\nI'll launch the Sage build now and report later.\n\nOn my 64 bits W7 system with an old Cygwin install, I could build 5.9.beta0 with Cygwin gcc4 4.5.3 used to bootstrap Sage's gcc 4.7.2, except for matplotlib because of forking issues as reported by Karl Dieter.\nlibmpfr4 is present, not sure when it was pulled.",
    "created_at": "2013-03-14T21:34:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47443",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:202" align="right">comment:202</div>

Replying to [@jdemeyer](#comment%3A198):
> Replying to [@kcrisman](#comment%3A197):
> > Here is the current status for this ticket, then, in my view.
> > * Figure out whether mpfr-4 needs to be installed or not.  I now have two different brand-new installs of Cygwin that failed with the current package list until I installed it.  It was *not* pulled in with gcc-core and friends.

> 
> Just to make sure that I understand you correctly: you say that
> 1. A "brand-new install of Cygwin" does not come with a C compiler.
> 2. If one tries to install GCC by installing gcc-core, it does not automatically install the mpfr dependency.

I just reinstalled Cygwin on my 32 bits W7 and pulled in the following packages:
* make
* perl
* binutils
* m4
* lapack
* liblapack-devel
* gcc4
* gcc4-core
* gcc4-g++
* gcc4-gfortran
I took the 4.7.2-1 versions which just popped up.
And indeed only the libmpfr1 package was pulled automatically and not the libmpfr4.
Here is the list of packages currently installed:

```
Cygwin Package Information
Package              Version              Status
_autorebase          000218-1             OK
_update-info-dir     01114-1              OK
alternatives         1.3.30c-10           OK
base-cygwin          3.1-1                OK
base-files           4.1-2                OK
bash                 4.1.10-4             OK
binutils             2.23.51-1            OK
bzip2                1.0.6-2              OK
coreutils            8.15-1               OK
crypt                1.2-1                OK
cygutils             1.4.10-2             OK
cygwin               1.7.17-1             OK
cygwin-doc           1.7-1                OK
dash                 0.5.7-1              OK
diffutils            3.2-1                OK
dos2unix             6.0.3-1              OK
editrights           1.01-2               OK
file                 5.11-1               OK
findutils            4.5.9-2              OK
gawk                 4.0.2-1              OK
gcc4                 4.7.2-1              OK
gcc4-core            4.7.2-1              OK
gcc4-fortran         4.7.2-1              OK
gcc4-g++             4.7.2-1              OK
gettext              0.18.1.1-2           OK
grep                 2.6.3-1              OK
groff                1.21-2               OK
gzip                 1.4-1                OK
ipc-utils            1.0-1                OK
lapack               3.4.2-1              OK
less                 444-1                OK
libattr1             2.4.46-1             OK
libbz2_1             1.0.6-2              OK
libcloog0            0.15.7-1             OK
libdb4.5             4.5.20.2-3           OK
libexpat1            2.1.0-1              OK
libffi4              4.7.2-1              OK
libgcc1              4.7.2-1              OK
libgdbm4             1.8.3-20             OK
libgfortran3         4.7.2-1              OK
libgmp3              4.3.2-1              OK
libgmpxx4            4.3.2-1              OK
libgomp1             4.7.2-1              OK
libiconv2            1.14-2               OK
libintl8             0.18.1.1-2           OK
liblapack-devel      3.4.2-1              OK
liblapack0           3.4.2-1              OK
liblzma5             5.0.2_20110517-1     OK
libmpc1              0.8-1                OK
libmpfr1             2.4.1-4              OK
libncurses10         5.7-18               OK
libncursesw10        5.7-18               OK
libopenssl100        1.0.1e-2             OK
libpcre0             8.21-2               OK
libpopt0             1.6.4-4              OK
libppl               0.10.2-1             OK
libquadmath0         4.7.2-1              OK
libreadline7         6.1.2-3              OK
libsigsegv2          2.10-1               OK
libssp0              4.7.2-1              OK
libstdc++6           4.7.2-1              OK
libstdc++6-devel     4.7.2-1              OK
libxml2              2.9.0-2              OK
login                1.10-10              OK
m4                   1.4.16-1             OK
make                 3.82.90-1            OK
man                  1.6g-1               OK
mintty               1.1.2-1              OK
perl                 5.14.2-3             OK
perl_vendor          5.14.2-3             OK
rebase               4.4.0-1              OK
run                  1.1.13-1             OK
sed                  4.2.1-2              OK
tar                  1.26-1               OK
terminfo             5.7_20091114-14      OK
texinfo              4.13-4               OK
tzcode               2012j-1              OK
upx-debuginfo        3.09-1               OK
w32api               9999-1               OK
w32api-headers       3.0b_svn5591-1       OK
w32api-runtime       3.0b_svn5591-1       OK
which                2.20-2               OK
xz                   5.0.2_20110517-1     OK
zlib0                1.2.7-1              OK
```
I'll launch the Sage build now and report later.

On my 64 bits W7 system with an old Cygwin install, I could build 5.9.beta0 with Cygwin gcc4 4.5.3 used to bootstrap Sage's gcc 4.7.2, except for matplotlib because of forking issues as reported by Karl Dieter.
libmpfr4 is present, not sure when it was pulled.



---

archive/issue_comments_047444.json:
```json
{
    "body": "<div id=\"comment:203\" align=\"right\">comment:203</div>\n\nAnd the 32 bits build immediately failed because gcc could not find some library '? printed).\n\nI guess libmpfr4 is indeed needed now and maybe was as well earlier.\nSee http://cygwin.1069669.n5.nabble.com/Shouldn-t-gcc-4-depend-on-libmpfr4-td96533.html\n\nI just installed it and at least the build process starts.",
    "created_at": "2013-03-14T21:45:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47444",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:203" align="right">comment:203</div>

And the 32 bits build immediately failed because gcc could not find some library '? printed).

I guess libmpfr4 is indeed needed now and maybe was as well earlier.
See http://cygwin.1069669.n5.nabble.com/Shouldn-t-gcc-4-depend-on-libmpfr4-td96533.html

I just installed it and at least the build process starts.



---

archive/issue_comments_047445.json:
```json
{
    "body": "<div id=\"comment:204\" align=\"right\">comment:204</div>\n\n> I took the 4.7.2-1 versions which just popped up.\n\nInteresting.  Indeed, then we could just make that the dependency and not build Sage's gcc.\n> And indeed only the libmpfr1 package was pulled automatically and not the libmpfr4.\n\nGlad your experience was similar.\n> On my 64 bits W7 system with an old Cygwin install, I could build 5.9.beta0 with Cygwin gcc4 4.5.3 used to bootstrap Sage's gcc 4.7.2, except for matplotlib because of forking issues as reported by Karl Dieter.\n> libmpfr4 is present, not sure when it was pulled.\n\nI have a feeling that at some time not so long ago gcc4 *did* pull this, but that that changed recently - your thread implies there was a lot of confusion about it!\n\n---\n\nIn other news, can we figure out *exactly* which lapack things we need minimally?  In particular, you took fewer than in the ticket description - in fact, not even a subset.  I don't care which, but we do need to know!  (Until we just build atlas, I suppose; it's annoying that we have to wait on that, but for now it's better to get this ticket done properly.)",
    "created_at": "2013-03-15T00:35:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47445",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:204" align="right">comment:204</div>

> I took the 4.7.2-1 versions which just popped up.

Interesting.  Indeed, then we could just make that the dependency and not build Sage's gcc.
> And indeed only the libmpfr1 package was pulled automatically and not the libmpfr4.

Glad your experience was similar.
> On my 64 bits W7 system with an old Cygwin install, I could build 5.9.beta0 with Cygwin gcc4 4.5.3 used to bootstrap Sage's gcc 4.7.2, except for matplotlib because of forking issues as reported by Karl Dieter.
> libmpfr4 is present, not sure when it was pulled.

I have a feeling that at some time not so long ago gcc4 *did* pull this, but that that changed recently - your thread implies there was a lot of confusion about it!

---

In other news, can we figure out *exactly* which lapack things we need minimally?  In particular, you took fewer than in the ticket description - in fact, not even a subset.  I don't care which, but we do need to know!  (Until we just build atlas, I suppose; it's annoying that we have to wait on that, but for now it's better to get this ticket done properly.)



---

archive/issue_comments_047446.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -20,6 +20,7 @@\n Here is what to install from Cygwin - use the usual stable binaries.\n * `make`, `perl`, `m4`, `binutils`\n * either `gcc4-core`  alone and then use the optional gcc-4.7.2 spkg (the standard gcc-4.6.3 spkg won't be able to compile ecl) or `gcc4-core` and `gcc4-g++` and `gcc4-fortran` whose versions **must** match\n+  * Currently, we also need to pull `libmpfr4` for obscure reasons upstream that will likely be fixed soon - we hope\n * `liblapack`, `liblapack0`, `liblapack-devel` - though we should be able to build ATLAS\n \n Other instructions:\n``````\n",
    "created_at": "2013-03-15T00:35:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47446",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -20,6 +20,7 @@
 Here is what to install from Cygwin - use the usual stable binaries.
 * `make`, `perl`, `m4`, `binutils`
 * either `gcc4-core`  alone and then use the optional gcc-4.7.2 spkg (the standard gcc-4.6.3 spkg won't be able to compile ecl) or `gcc4-core` and `gcc4-g++` and `gcc4-fortran` whose versions **must** match
+  * Currently, we also need to pull `libmpfr4` for obscure reasons upstream that will likely be fixed soon - we hope
 * `liblapack`, `liblapack0`, `liblapack-devel` - though we should be able to build ATLAS
 
 Other instructions:
``````




---

archive/issue_comments_047447.json:
```json
{
    "body": "<div id=\"comment:205\" align=\"right\">comment:205</div>\n\nReplying to [@kcrisman](#comment%3A197):\n> * Related to that, we still get the message about `sqrtl in -lm` outdated math library, which presumably would make things fail if `SAGE_PORT` wasn't set, so we need to somehow fix things so that's not an issue.\n\nPlease elaborate (or better yet: post the prereq log, including `config.log` inside the prereq \"build\" directory).",
    "created_at": "2013-03-15T22:09:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47447",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:205" align="right">comment:205</div>

Replying to [@kcrisman](#comment%3A197):
> * Related to that, we still get the message about `sqrtl in -lm` outdated math library, which presumably would make things fail if `SAGE_PORT` wasn't set, so we need to somehow fix things so that's not an issue.

Please elaborate (or better yet: post the prereq log, including `config.log` inside the prereq "build" directory).



---

archive/issue_comments_047448.json:
```json
{
    "body": "<div id=\"comment:206\" align=\"right\">comment:206</div>\n\nIn the prereq spkg log, at the end:\n\n```\nchecking gcc version... 4.5.3\nchecking if g++ accepts -dumpversion option... yes\nchecking g++ version... 4.5.3\nconfigure: Excellent, the C, C++ and Fortran compilers are all GCC 4.5.3\nconfigure: Excellent, GCC 4.5.3 is later than the minimum\nconfigure: needed to build Sage, which is GCC version 4.0.1\nchecking for sqrt in -lm... yes\nchecking for sqrtl in -lm... no\nconfigure: You have an outdated and/or broken math library.\nconfigure: error: Exiting, since the library function 'sqrtl()' was not found.\nYou do not have all of the prerequisites needed to build Sage\nfrom source. See the errors above.\nHowever, since 'SAGE_PORT' is set, we will try to build anyway.\nNow cleaning up tmp files.\n```\nSupposedly this was (I think?) provided by Cephes, but of course that never actually built on Cygwin, as JP discovered.  I wonder when this was even added in the configure script in the tar.gz in base.\n\nGrepping through the entire Sage root directory shows that sqrtl mostly comes in play with Pynac and Scipy/Numpy, and we seem to even (?) define our own sqrtl... oh, also in the partitions code in combinat this is needed.  The Pari references I think are to sqrtlift, something else.  Maybe we don't need this any more?  I presume this was added by David Kirkby for Solaris or other platforms with weird base libraries.",
    "created_at": "2013-03-19T12:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47448",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:206" align="right">comment:206</div>

In the prereq spkg log, at the end:

```
checking gcc version... 4.5.3
checking if g++ accepts -dumpversion option... yes
checking g++ version... 4.5.3
configure: Excellent, the C, C++ and Fortran compilers are all GCC 4.5.3
configure: Excellent, GCC 4.5.3 is later than the minimum
configure: needed to build Sage, which is GCC version 4.0.1
checking for sqrt in -lm... yes
checking for sqrtl in -lm... no
configure: You have an outdated and/or broken math library.
configure: error: Exiting, since the library function 'sqrtl()' was not found.
You do not have all of the prerequisites needed to build Sage
from source. See the errors above.
However, since 'SAGE_PORT' is set, we will try to build anyway.
Now cleaning up tmp files.
```
Supposedly this was (I think?) provided by Cephes, but of course that never actually built on Cygwin, as JP discovered.  I wonder when this was even added in the configure script in the tar.gz in base.

Grepping through the entire Sage root directory shows that sqrtl mostly comes in play with Pynac and Scipy/Numpy, and we seem to even (?) define our own sqrtl... oh, also in the partitions code in combinat this is needed.  The Pari references I think are to sqrtlift, something else.  Maybe we don't need this any more?  I presume this was added by David Kirkby for Solaris or other platforms with weird base libraries.



---

archive/issue_comments_047449.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,7 +14,7 @@\n Most recent trials and a lot more archived status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort\n \n ## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)\n-As below with Sage 5.8.beta3\n+As below with Sage 5.9.beta0\n \n ### Cygwin prereqs\n Here is what to install from Cygwin - use the usual stable binaries.\n@@ -31,7 +31,7 @@\n \n ### Spkgs\n Install the following spkgs ahead of time, e.g. in `SAGE_ROOT/spkg/standard/` before compiling\n-* #13351 (lcalc)\n+* Currently none\n \n ### Patches\n You may have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)\n@@ -49,7 +49,7 @@\n   which will bring you back to your normal shell.\n \n Patches currently needed for:\n-* #13351\n+* Currently none\n \n This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.\n \n``````\n",
    "created_at": "2013-03-19T12:54:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47449",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,7 +14,7 @@
 Most recent trials and a lot more archived status detail is at http://trac.sagemath.org/sage_trac/wiki/CygwinPort
 
 ## Current instructions (work on Windows XP and Windows 7 with latest Cygwin)
-As below with Sage 5.8.beta3
+As below with Sage 5.9.beta0
 
 ### Cygwin prereqs
 Here is what to install from Cygwin - use the usual stable binaries.
@@ -31,7 +31,7 @@
 
 ### Spkgs
 Install the following spkgs ahead of time, e.g. in `SAGE_ROOT/spkg/standard/` before compiling
-* #13351 (lcalc)
+* Currently none
 
 ### Patches
 You may have to add patches during the build of the Sage library.  Once it fails, do (assuming you are in `SAGE_ROOT`)
@@ -49,7 +49,7 @@
   which will bring you back to your normal shell.
 
 Patches currently needed for:
-* #13351
+* Currently none
 
 This should then work 'out of the box', modulo rebasing issues (see [CygwinPort](../wiki/CygwinPort)).  See [the wiki](../wiki/CygwinPort) for other details as well.
 
``````




---

archive/issue_comments_047450.json:
```json
{
    "body": "<div id=\"comment:208\" align=\"right\">comment:208</div>\n\nTo be more specific, this was added in #8052:\n\n```\nChecks for the library function sqrtl() which will be found on modern systems, but may not on older systems. \nA warning is issued if the library function does not exist, but the build continues, to aid porting efforts. \n(I believe FreeBSD may lack this).\n```\nI don't know whether this is actually true (that sqrtl is needed), though, nor where the Cygwin build gets its sqrtl in that event.",
    "created_at": "2013-03-19T13:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47450",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:208" align="right">comment:208</div>

To be more specific, this was added in #8052:

```
Checks for the library function sqrtl() which will be found on modern systems, but may not on older systems. 
A warning is issued if the library function does not exist, but the build continues, to aid porting efforts. 
(I believe FreeBSD may lack this).
```
I don't know whether this is actually true (that sqrtl is needed), though, nor where the Cygwin build gets its sqrtl in that event.



---

archive/issue_comments_047451.json:
```json
{
    "body": "<div id=\"comment:209\" align=\"right\">comment:209</div>\n\nReplying to [@kcrisman](#comment%3A206):\n> In the prereq spkg log, at the end:\n> \n> ```\n> ...\n> checking for sqrtl in -lm... no\n> configure: You have an outdated and/or broken math library.\n> configure: error: Exiting, since the library function 'sqrtl()' was not found.\n> ...\n> ```\n> Supposedly this was (I think?) provided by Cephes, but of course that never actually built on Cygwin, as JP discovered.\n\nWHAT?!  The only reason for including Cephes as a standard package was Cygwin, because it was said to lack some `long double` versions ('`l`' suffix) of standard math functions (such as `sqrt()`).\n\n> Grepping through the entire Sage root directory shows that sqrtl mostly comes in play with Pynac and !Scipy/Numpy, and we seem to even (?) define our own sqrtl...\n\nI recall somebody somewhere replacing (`#define`ing?) `sqrtl()` by `sqrt()`, arguing `double` precision was sufficient there, for the sake of Cygwin, and that AFAIK didn't get removed even after the inclusion of Cephes.  (Not 100% sure whether it was really `sqrt()`; probably some other function, but Cygwin was lacking its `long double` implementation.)\n\n> oh, also in the partitions code in combinat this is needed.  The Pari references I think are to sqrtlift, something else.  Maybe we don't need this any more?  I presume this was added by David Kirkby for Solaris or other platforms with weird base libraries.\n\nCertainly not for Solaris... ;-)",
    "created_at": "2013-03-19T15:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47451",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:209" align="right">comment:209</div>

Replying to [@kcrisman](#comment%3A206):
> In the prereq spkg log, at the end:
> 
> ```
> ...
> checking for sqrtl in -lm... no
> configure: You have an outdated and/or broken math library.
> configure: error: Exiting, since the library function 'sqrtl()' was not found.
> ...
> ```
> Supposedly this was (I think?) provided by Cephes, but of course that never actually built on Cygwin, as JP discovered.

WHAT?!  The only reason for including Cephes as a standard package was Cygwin, because it was said to lack some `long double` versions ('`l`' suffix) of standard math functions (such as `sqrt()`).

> Grepping through the entire Sage root directory shows that sqrtl mostly comes in play with Pynac and !Scipy/Numpy, and we seem to even (?) define our own sqrtl...

I recall somebody somewhere replacing (`#define`ing?) `sqrtl()` by `sqrt()`, arguing `double` precision was sufficient there, for the sake of Cygwin, and that AFAIK didn't get removed even after the inclusion of Cephes.  (Not 100% sure whether it was really `sqrt()`; probably some other function, but Cygwin was lacking its `long double` implementation.)

> oh, also in the partitions code in combinat this is needed.  The Pari references I think are to sqrtlift, something else.  Maybe we don't need this any more?  I presume this was added by David Kirkby for Solaris or other platforms with weird base libraries.

Certainly not for Solaris... ;-)



---

archive/issue_comments_047452.json:
```json
{
    "body": "<div id=\"comment:210\" align=\"right\">comment:210</div>\n\n> > In the prereq spkg log, at the end:\n> > \n> > ```\n> > ...\n> > checking for sqrtl in -lm... no\n> > configure: You have an outdated and/or broken math library.\n> > configure: error: Exiting, since the library function 'sqrtl()' was not found.\n> > ...\n> > ```\n> > Supposedly this was (I think?) provided by Cephes, but of course that never actually built on Cygwin, as JP discovered.\n\n> \n> WHAT?!  The only reason for including Cephes as a standard package was Cygwin, because it was said to lack some `long double` versions ('`l`' suffix) of standard math functions (such as `sqrt()`).\n> I recall somebody somewhere replacing (`#define`ing?) `sqrtl()` by `sqrt()`, arguing `double` precision was sufficient there, for the sake of Cygwin, and that AFAIK didn't get removed even after the inclusion of Cephes.  (Not 100% sure whether it was really `sqrt()`; probably some other function, but Cygwin was lacking its `long double` implementation.)\n\nWow, that would have been a long time ago... If you can find a reference that would be helpful.\n\nAnyway, #8052 makes it reasonably clear that FreeBSD is the one David had in mind with this test, not Cygwin.  And we do indeed now use Cephes on FreeBSD (only), see #9543.",
    "created_at": "2013-03-19T15:43:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47452",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:210" align="right">comment:210</div>

> > In the prereq spkg log, at the end:
> > 
> > ```
> > ...
> > checking for sqrtl in -lm... no
> > configure: You have an outdated and/or broken math library.
> > configure: error: Exiting, since the library function 'sqrtl()' was not found.
> > ...
> > ```
> > Supposedly this was (I think?) provided by Cephes, but of course that never actually built on Cygwin, as JP discovered.

> 
> WHAT?!  The only reason for including Cephes as a standard package was Cygwin, because it was said to lack some `long double` versions ('`l`' suffix) of standard math functions (such as `sqrt()`).
> I recall somebody somewhere replacing (`#define`ing?) `sqrtl()` by `sqrt()`, arguing `double` precision was sufficient there, for the sake of Cygwin, and that AFAIK didn't get removed even after the inclusion of Cephes.  (Not 100% sure whether it was really `sqrt()`; probably some other function, but Cygwin was lacking its `long double` implementation.)

Wow, that would have been a long time ago... If you can find a reference that would be helpful.

Anyway, #8052 makes it reasonably clear that FreeBSD is the one David had in mind with this test, not Cygwin.  And we do indeed now use Cephes on FreeBSD (only), see #9543.



---

archive/issue_comments_047453.json:
```json
{
    "body": "<div id=\"comment:211\" align=\"right\">comment:211</div>\n\nReplying to [@kcrisman](#comment%3A210):\n> > I recall somebody somewhere replacing (`#define`ing?) `sqrtl()` by `sqrt()`, arguing `double` precision was sufficient there, for the sake of Cygwin, and that AFAIK didn't get removed even after the inclusion of Cephes.  (Not 100% sure whether it was really `sqrt()`; probably some other function, but Cygwin was lacking its `long double` implementation.)\n\n> Wow, that would have been a long time ago... If you can find a reference that would be helpful.\n\nAccording to #14078 it was `logl()` (my second guess :-) [third was `gammal()` or `lgammal()`]), but the ticket only refers to R, while *I think<sup>TM</sup>* the replacement was (also) done somewhere else.\n\n\n\n\n> Anyway, #8052 makes it reasonably clear that FreeBSD is the one David had in mind with this test, not Cygwin.  And we do indeed now use Cephes on FreeBSD (only), see #9543.\n\nYes, FreeBSD is pretty broken as well...",
    "created_at": "2013-03-19T15:58:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47453",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:211" align="right">comment:211</div>

Replying to [@kcrisman](#comment%3A210):
> > I recall somebody somewhere replacing (`#define`ing?) `sqrtl()` by `sqrt()`, arguing `double` precision was sufficient there, for the sake of Cygwin, and that AFAIK didn't get removed even after the inclusion of Cephes.  (Not 100% sure whether it was really `sqrt()`; probably some other function, but Cygwin was lacking its `long double` implementation.)

> Wow, that would have been a long time ago... If you can find a reference that would be helpful.

According to #14078 it was `logl()` (my second guess :-) [third was `gammal()` or `lgammal()`]), but the ticket only refers to R, while *I think<sup>TM</sup>* the replacement was (also) done somewhere else.




> Anyway, #8052 makes it reasonably clear that FreeBSD is the one David had in mind with this test, not Cygwin.  And we do indeed now use Cephes on FreeBSD (only), see #9543.

Yes, FreeBSD is pretty broken as well...



---

archive/issue_comments_047454.json:
```json
{
    "body": "<div id=\"comment:212\" align=\"right\">comment:212</div>\n\nReplying to [@nexttime](#comment%3A211):\n> Replying to [@kcrisman](#comment%3A210):\n> > > I recall somebody somewhere replacing (`#define`ing?) `sqrtl()` by `sqrt()`, arguing `double` precision was sufficient there, for the sake of Cygwin, and that AFAIK didn't get removed even after the inclusion of Cephes.  (Not 100% sure whether it was really `sqrt()`; probably some other function, but Cygwin was lacking its `long double` implementation.)\n\n> > Wow, that would have been a long time ago... If you can find a reference that would be helpful.\n\n> \n> According to #14078 it was `logl()` (my second guess :-) [third was `gammal()` or `lgammal()`]), but the ticket only refers to R, while *I think<sup>TM</sup>* the replacement was (also) done somewhere else.\n\nI only found #8847 (and #9162), but I don't think these are the instances I meant.\n\n(#8847 adds wrapper functions with `#ifdef `__CYGWIN__` ...`.)",
    "created_at": "2013-03-19T16:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47454",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:212" align="right">comment:212</div>

Replying to [@nexttime](#comment%3A211):
> Replying to [@kcrisman](#comment%3A210):
> > > I recall somebody somewhere replacing (`#define`ing?) `sqrtl()` by `sqrt()`, arguing `double` precision was sufficient there, for the sake of Cygwin, and that AFAIK didn't get removed even after the inclusion of Cephes.  (Not 100% sure whether it was really `sqrt()`; probably some other function, but Cygwin was lacking its `long double` implementation.)

> > Wow, that would have been a long time ago... If you can find a reference that would be helpful.

> 
> According to #14078 it was `logl()` (my second guess :-) [third was `gammal()` or `lgammal()`]), but the ticket only refers to R, while *I think<sup>TM</sup>* the replacement was (also) done somewhere else.

I only found #8847 (and #9162), but I don't think these are the instances I meant.

(#8847 adds wrapper functions with `#ifdef `__CYGWIN__` ...`.)



---

archive/issue_comments_047455.json:
```json
{
    "body": "<div id=\"comment:213\" align=\"right\">comment:213</div>\n\nReplying to [@nexttime](#comment%3A209):\n> Replying to [@kcrisman](#comment%3A206):\n> > In the prereq spkg log, at the end:\n> > \n> > ```\n> > ...\n> > checking for sqrtl in -lm... no\n> > configure: You have an outdated and/or broken math library.\n> > configure: error: Exiting, since the library function 'sqrtl()' was not found.\n> > ...\n> > ```\n> > Supposedly this was (I think?) provided by Cephes, but of course that never actually built on Cygwin, as JP discovered.\n\n> \n> WHAT?!  The only reason for including Cephes as a standard package was Cygwin, because it was said to lack some `long double` versions ('`l`' suffix) of standard math functions (such as `sqrt()`).\n\nI don't really know, but Cygwin libm was really lacking a LOT of functions, some of them were pulled from Cephes at some point, but not al of what Cephes provides, and the libm Cygwin now ships seems mostly sufficient to build Sage.\nAt least it was until a few realease and an update of R which requires one \"long double\"function, but that got easily patched (rather than requiring again to build Cephes which I would be happy with as well, but seems harder to maintain).\n> \n> > Grepping through the entire Sage root directory shows that sqrtl mostly comes in play with Pynac and !Scipy/Numpy, and we seem to even (?) define our own sqrtl...\n\n> \n> I recall somebody somewhere replacing (`#define`ing?) `sqrtl()` by `sqrt()`, arguing `double` precision was sufficient there, for the sake of Cygwin, and that AFAIK didn't get removed even after the inclusion of Cephes.  (Not 100% sure whether it was really `sqrt()`; probably some other function, but Cygwin was lacking its `long double` implementation.)\n> \n> > oh, also in the partitions code in combinat this is needed.  The Pari references I think are to sqrtlift, something else.  Maybe we don't need this any more?  I presume this was added by David Kirkby for Solaris or other platforms with weird base libraries.\n\n> \n> Certainly not for Solaris... ;-)\n\n>",
    "created_at": "2013-03-19T16:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47455",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:213" align="right">comment:213</div>

Replying to [@nexttime](#comment%3A209):
> Replying to [@kcrisman](#comment%3A206):
> > In the prereq spkg log, at the end:
> > 
> > ```
> > ...
> > checking for sqrtl in -lm... no
> > configure: You have an outdated and/or broken math library.
> > configure: error: Exiting, since the library function 'sqrtl()' was not found.
> > ...
> > ```
> > Supposedly this was (I think?) provided by Cephes, but of course that never actually built on Cygwin, as JP discovered.

> 
> WHAT?!  The only reason for including Cephes as a standard package was Cygwin, because it was said to lack some `long double` versions ('`l`' suffix) of standard math functions (such as `sqrt()`).

I don't really know, but Cygwin libm was really lacking a LOT of functions, some of them were pulled from Cephes at some point, but not al of what Cephes provides, and the libm Cygwin now ships seems mostly sufficient to build Sage.
At least it was until a few realease and an update of R which requires one "long double"function, but that got easily patched (rather than requiring again to build Cephes which I would be happy with as well, but seems harder to maintain).
> 
> > Grepping through the entire Sage root directory shows that sqrtl mostly comes in play with Pynac and !Scipy/Numpy, and we seem to even (?) define our own sqrtl...

> 
> I recall somebody somewhere replacing (`#define`ing?) `sqrtl()` by `sqrt()`, arguing `double` precision was sufficient there, for the sake of Cygwin, and that AFAIK didn't get removed even after the inclusion of Cephes.  (Not 100% sure whether it was really `sqrt()`; probably some other function, but Cygwin was lacking its `long double` implementation.)
> 
> > oh, also in the partitions code in combinat this is needed.  The Pari references I think are to sqrtlift, something else.  Maybe we don't need this any more?  I presume this was added by David Kirkby for Solaris or other platforms with weird base libraries.

> 
> Certainly not for Solaris... ;-)

>



---

archive/issue_comments_047456.json:
```json
{
    "body": "<div id=\"comment:214\" align=\"right\">comment:214</div>\n\nSo the conclusion is that we should remove the `sqrtl()` test?",
    "created_at": "2013-03-20T07:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47456",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:214" align="right">comment:214</div>

So the conclusion is that we should remove the `sqrtl()` test?



---

archive/issue_comments_047457.json:
```json
{
    "body": "<div id=\"comment:215\" align=\"right\">comment:215</div>\n\nReplying to [@jdemeyer](#comment%3A214):\n> So the conclusion is that we should remove the `sqrtl()` test?\n\nIIRC, R uses logl(), and a workaround has been put in place for this.\nI don't recall the details, but, perhaps, the test for logl() instead would work, or can be made to work, on Cygwin.",
    "created_at": "2013-03-20T08:12:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47457",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:215" align="right">comment:215</div>

Replying to [@jdemeyer](#comment%3A214):
> So the conclusion is that we should remove the `sqrtl()` test?

IIRC, R uses logl(), and a workaround has been put in place for this.
I don't recall the details, but, perhaps, the test for logl() instead would work, or can be made to work, on Cygwin.



---

archive/issue_comments_047458.json:
```json
{
    "body": "<div id=\"comment:216\" align=\"right\">comment:216</div>\n\nI think Im on the track of the matplotlib failure.\nOn my system, the fork errors look like:\n\n```\n2 [main] python2.7 3540 child_info_fork::abort: C:\\cygwin\\home\\jp\\sage-5.9.beta0\\local\\bin\\libpython2.7.dll: Loaded to different address: parent(0x5EC70000) != child(0x6A640000)\n```\nAnd in the rebase database, I can see\n\n```\n$ rebase -i -s|grep \"libpython\"\n/usr/bin/libpython2.7.dll                                                                                                                                     base 0x5ec70000 size 0x00176000\n/home/jp/sage-5.9.beta0/local/bin/libpython2.7.dll                                                                                                            base 0x6a640000 size 0x00599000\n```\nSo it seems the system and Sage libpython2.7.dll get mixed up.\nThis was surely not a problem before as Cygwin just recently updated to Python 2.7, see http://cygwin.com/ml/cygwin-announce/2012-12/msg00024.html\n\nLet's now find out why both libraries get mixed up.",
    "created_at": "2013-03-28T23:08:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47458",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:216" align="right">comment:216</div>

I think Im on the track of the matplotlib failure.
On my system, the fork errors look like:

```
2 [main] python2.7 3540 child_info_fork::abort: C:\cygwin\home\jp\sage-5.9.beta0\local\bin\libpython2.7.dll: Loaded to different address: parent(0x5EC70000) != child(0x6A640000)
```
And in the rebase database, I can see

```
$ rebase -i -s|grep "libpython"
/usr/bin/libpython2.7.dll                                                                                                                                     base 0x5ec70000 size 0x00176000
/home/jp/sage-5.9.beta0/local/bin/libpython2.7.dll                                                                                                            base 0x6a640000 size 0x00599000
```
So it seems the system and Sage libpython2.7.dll get mixed up.
This was surely not a problem before as Cygwin just recently updated to Python 2.7, see http://cygwin.com/ml/cygwin-announce/2012-12/msg00024.html

Let's now find out why both libraries get mixed up.



---

archive/issue_comments_047459.json:
```json
{
    "body": "<div id=\"comment:217\" align=\"right\">comment:217</div>\n\nAnd indeed, uninstalling the system wide python let matplotlib install correctly.\nOf course that's not the right solution to promote :)",
    "created_at": "2013-03-28T23:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47459",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:217" align="right">comment:217</div>

And indeed, uninstalling the system wide python let matplotlib install correctly.
Of course that's not the right solution to promote :)



---

archive/issue_comments_047460.json:
```json
{
    "body": "<div id=\"comment:218\" align=\"right\">comment:218</div>\n\nIt seems its the _ctypes.dll library which loads the system wide libpython2.7.dll.\nJust moving _ctypes.dll so that it does not get loaded and the wrong libpython2.7.dll does not, let matplotlib build.\nStrange.",
    "created_at": "2013-03-28T23:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47460",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:218" align="right">comment:218</div>

It seems its the _ctypes.dll library which loads the system wide libpython2.7.dll.
Just moving _ctypes.dll so that it does not get loaded and the wrong libpython2.7.dll does not, let matplotlib build.
Strange.



---

archive/issue_comments_047461.json:
```json
{
    "body": "<div id=\"comment:219\" align=\"right\">comment:219</div>\n\nIndeed in ctypes/__init__.py\n\n```\nelif _sys.platform == \"cygwin\":\n    pythonapi = PyDLL(\"libpython%d.%d.dll\" % _sys.version_info[:2])\n```\n\nBasically PyDLL, loads the library calling _dlopen which is an alias from LoadLibrary from the _ctypes module (with an underscore).\n\nAnd it seems it does not care about PATH.\nBut if I set LD_LIBRARY_PATH to point to where Sage's libpython2.7.dll is, then its correctly loaded rather than the system one.\n\nNot sure what happens on linux :)\nI seem to remember some recent discussion about _ctypes which was not built before and caused troubles recently.",
    "created_at": "2013-03-29T00:09:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47461",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:219" align="right">comment:219</div>

Indeed in ctypes/__init__.py

```
elif _sys.platform == "cygwin":
    pythonapi = PyDLL("libpython%d.%d.dll" % _sys.version_info[:2])
```

Basically PyDLL, loads the library calling _dlopen which is an alias from LoadLibrary from the _ctypes module (with an underscore).

And it seems it does not care about PATH.
But if I set LD_LIBRARY_PATH to point to where Sage's libpython2.7.dll is, then its correctly loaded rather than the system one.

Not sure what happens on linux :)
I seem to remember some recent discussion about _ctypes which was not built before and caused troubles recently.



---

archive/issue_comments_047462.json:
```json
{
    "body": "<div id=\"comment:220\" align=\"right\">comment:220</div>\n\nMy vague souvenir was about #14309 so not related.",
    "created_at": "2013-03-29T00:11:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47462",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:220" align="right">comment:220</div>

My vague souvenir was about #14309 so not related.



---

archive/issue_comments_047463.json:
```json
{
    "body": "<div id=\"comment:221\" align=\"right\">comment:221</div>\n\nStrange that the fact $SAGE_LOCAL/bin is in $PATH is not sufficient but whatever.\nAnd not sure why in sage-enc $SAGE_LOCAL/lib is appended rather than prepended.\nI mean, were prepending $SAGE_LOCAL/bin, so...",
    "created_at": "2013-03-29T00:22:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47463",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:221" align="right">comment:221</div>

Strange that the fact $SAGE_LOCAL/bin is in $PATH is not sufficient but whatever.
And not sure why in sage-enc $SAGE_LOCAL/lib is appended rather than prepended.
I mean, were prepending $SAGE_LOCAL/bin, so...



---

archive/issue_comments_047464.json:
```json
{
    "body": "<div id=\"comment:222\" align=\"right\">comment:222</div>\n\nReplying to [@jpflori](#comment%3A221):\n> Strange that the fact $SAGE_LOCAL/bin is in $PATH is not sufficient but whatever.\n> And not sure why in sage-enc $SAGE_LOCAL/lib is appended rather than prepended.\n> I mean, were prepending $SAGE_LOCAL/bin, so...\n\n? In both cases (`PATH` as well as `LD_LIBRARY_PATH`), directories get **pre**pended (provided they exist).\n\nOn Unices, `libpython-*.so*` is in `$SAGE_LOCAL/{lib,lib32,lib64}/`, so can be found along `$LD_LIBRARY_PATH`.\n\nIf Cygwin's `dlopen()` conforms to POSIX (it probably does), it doesn't use `PATH` but `LD_LIBRARY_PATH` (if set), unless an absolute path was given in the filename argument.",
    "created_at": "2013-03-29T01:05:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47464",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:222" align="right">comment:222</div>

Replying to [@jpflori](#comment%3A221):
> Strange that the fact $SAGE_LOCAL/bin is in $PATH is not sufficient but whatever.
> And not sure why in sage-enc $SAGE_LOCAL/lib is appended rather than prepended.
> I mean, were prepending $SAGE_LOCAL/bin, so...

? In both cases (`PATH` as well as `LD_LIBRARY_PATH`), directories get **pre**pended (provided they exist).

On Unices, `libpython-*.so*` is in `$SAGE_LOCAL/{lib,lib32,lib64}/`, so can be found along `$LD_LIBRARY_PATH`.

If Cygwin's `dlopen()` conforms to POSIX (it probably does), it doesn't use `PATH` but `LD_LIBRARY_PATH` (if set), unless an absolute path was given in the filename argument.



---

archive/issue_comments_047465.json:
```json
{
    "body": "<div id=\"comment:223\" align=\"right\">comment:223</div>\n\nSee #14378 for upgrading GCC.",
    "created_at": "2013-03-29T04:13:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47465",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:223" align="right">comment:223</div>

See #14378 for upgrading GCC.



---

archive/issue_comments_047466.json:
```json
{
    "body": "<div id=\"comment:224\" align=\"right\">comment:224</div>\n\nReplying to [@nexttime](#comment%3A222):\n> Replying to [@jpflori](#comment%3A221):\n> > Strange that the fact $SAGE_LOCAL/bin is in $PATH is not sufficient but whatever.\n> > And not sure why in sage-enc $SAGE_LOCAL/lib is appended rather than prepended.\n> > I mean, were prepending $SAGE_LOCAL/bin, so...\n\n> \n> ? In both cases (`PATH` as well as `LD_LIBRARY_PATH`), directories get **pre**pended (provided they exist).\n\nIt seems PATH is not, in sage-env:\n\n```\nexport PATH=\"$SAGE_PACKAGES/bin:$SAGE_LOCAL/bin:$PATH\"\n```\n> \n> On Unices, `libpython-*.so*` is in `$SAGE_LOCAL/{lib,lib32,lib64}/`, so can be found along `$LD_LIBRARY_PATH`.\n\nBut on Cygwin its in .../bin/ whence the problem I guess.\n> \n> If Cygwin's `dlopen()` conforms to POSIX (it probably does), it doesn't use `PATH` but `LD_LIBRARY_PATH` (if set), unless an absolute path was given in the filename argument.\n\nYup.\nThat's fine, but also disturbing as all the (rest of the) dll magic uses PATH rather than LD_LIBRARY_PATH on Cygwin.\n>",
    "created_at": "2013-03-29T08:07:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47466",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:224" align="right">comment:224</div>

Replying to [@nexttime](#comment%3A222):
> Replying to [@jpflori](#comment%3A221):
> > Strange that the fact $SAGE_LOCAL/bin is in $PATH is not sufficient but whatever.
> > And not sure why in sage-enc $SAGE_LOCAL/lib is appended rather than prepended.
> > I mean, were prepending $SAGE_LOCAL/bin, so...

> 
> ? In both cases (`PATH` as well as `LD_LIBRARY_PATH`), directories get **pre**pended (provided they exist).

It seems PATH is not, in sage-env:

```
export PATH="$SAGE_PACKAGES/bin:$SAGE_LOCAL/bin:$PATH"
```
> 
> On Unices, `libpython-*.so*` is in `$SAGE_LOCAL/{lib,lib32,lib64}/`, so can be found along `$LD_LIBRARY_PATH`.

But on Cygwin its in .../bin/ whence the problem I guess.
> 
> If Cygwin's `dlopen()` conforms to POSIX (it probably does), it doesn't use `PATH` but `LD_LIBRARY_PATH` (if set), unless an absolute path was given in the filename argument.

Yup.
That's fine, but also disturbing as all the (rest of the) dll magic uses PATH rather than LD_LIBRARY_PATH on Cygwin.
>



---

archive/issue_comments_047467.json:
```json
{
    "body": "<div id=\"comment:225\" align=\"right\">comment:225</div>\n\nReplying to [@jpflori](#comment%3A224):\n> Replying to [@nexttime](#comment%3A222):\n> > Replying to [@jpflori](#comment%3A221):\n> > > Strange that the fact $SAGE_LOCAL/bin is in $PATH is not sufficient but whatever.\n> > > And not sure why in sage-enc $SAGE_LOCAL/lib is appended rather than prepended.\n> > > I mean, were prepending $SAGE_LOCAL/bin, so...\n\n> > \n> > ? In both cases (`PATH` as well as `LD_LIBRARY_PATH`), directories get **pre**pended (provided they exist).\n\n> It seems PATH is not, in sage-env:\n> \n> ```\n> export PATH=\"$SAGE_PACKAGES/bin:$SAGE_LOCAL/bin:$PATH\"\n> ```\n\nAnd I think it's normal.\nWe want Sage binaries to be found first.\n\nAs far as [LD_]LIBRARY_PATH is concerned, I wouldn't find it so disturbing to prepend SAGE local dirs as well.\n\nBut note that PATH is usually set (or the shell used might not be so useful) whereas [LD]_LIBRARY_PATH is not.\nSo prepending our local values in the first case is really the most sensible choice, whereas in the second you might think that the user has added something unusual knowingly and he wants it first, if that breaks that's his problem.\n> > \n> > On Unices, `libpython-*.so*` is in `$SAGE_LOCAL/{lib,lib32,lib64}/`, so can be found along `$LD_LIBRARY_PATH`.\n\n> But on Cygwin its in .../bin/ whence the problem I guess.\n> > \n> > If Cygwin's `dlopen()` conforms to POSIX (it probably does), it doesn't use `PATH` but `LD_LIBRARY_PATH` (if set), unless an absolute path was given in the filename argument.\n\n> Yup.\n> That's fine, but also disturbing as all the (rest of the) dll magic uses PATH rather than LD_LIBRARY_PATH on Cygwin.\n> >",
    "created_at": "2013-03-29T09:30:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47467",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:225" align="right">comment:225</div>

Replying to [@jpflori](#comment%3A224):
> Replying to [@nexttime](#comment%3A222):
> > Replying to [@jpflori](#comment%3A221):
> > > Strange that the fact $SAGE_LOCAL/bin is in $PATH is not sufficient but whatever.
> > > And not sure why in sage-enc $SAGE_LOCAL/lib is appended rather than prepended.
> > > I mean, were prepending $SAGE_LOCAL/bin, so...

> > 
> > ? In both cases (`PATH` as well as `LD_LIBRARY_PATH`), directories get **pre**pended (provided they exist).

> It seems PATH is not, in sage-env:
> 
> ```
> export PATH="$SAGE_PACKAGES/bin:$SAGE_LOCAL/bin:$PATH"
> ```

And I think it's normal.
We want Sage binaries to be found first.

As far as [LD_]LIBRARY_PATH is concerned, I wouldn't find it so disturbing to prepend SAGE local dirs as well.

But note that PATH is usually set (or the shell used might not be so useful) whereas [LD]_LIBRARY_PATH is not.
So prepending our local values in the first case is really the most sensible choice, whereas in the second you might think that the user has added something unusual knowingly and he wants it first, if that breaks that's his problem.
> > 
> > On Unices, `libpython-*.so*` is in `$SAGE_LOCAL/{lib,lib32,lib64}/`, so can be found along `$LD_LIBRARY_PATH`.

> But on Cygwin its in .../bin/ whence the problem I guess.
> > 
> > If Cygwin's `dlopen()` conforms to POSIX (it probably does), it doesn't use `PATH` but `LD_LIBRARY_PATH` (if set), unless an absolute path was given in the filename argument.

> Yup.
> That's fine, but also disturbing as all the (rest of the) dll magic uses PATH rather than LD_LIBRARY_PATH on Cygwin.
> >



---

archive/issue_comments_047468.json:
```json
{
    "body": "<div id=\"comment:226\" align=\"right\">comment:226</div>\n\nReplying to [@jpflori](#comment%3A224):\n> Replying to [@nexttime](#comment%3A222):\n> > Replying to [@jpflori](#comment%3A221):\n> > > Strange that the fact $SAGE_LOCAL/bin is in $PATH is not sufficient but whatever.\n> > > And not sure why in sage-enc $SAGE_LOCAL/lib is appended rather than prepended.\n> > > I mean, were prepending $SAGE_LOCAL/bin, so...\n\n> > \n> > ? In both cases (`PATH` as well as `LD_LIBRARY_PATH`), directories get **pre**pended (provided they exist).\n\n> It seems PATH is not, in sage-env:\n> \n> ```\n> export PATH=\"$SAGE_PACKAGES/bin:$SAGE_LOCAL/bin:$PATH\"\n> ```\n> > \n> > On Unices, `libpython-*.so*` is in `$SAGE_LOCAL/{lib,lib32,lib64}/`, so can be found along `$LD_LIBRARY_PATH`.\n\n> But on Cygwin its in .../bin/ whence the problem I guess.\n> > \n> > If Cygwin's `dlopen()` conforms to POSIX (it probably does), it doesn't use `PATH` but `LD_LIBRARY_PATH` (if set), unless an absolute path was given in the filename argument.\n\n> Yup.\n> That's fine, but also disturbing as all the (rest of the) dll magic uses PATH rather than LD_LIBRARY_PATH on Cygwin.\n> > \n\nIn fact that's not really POSIX requested, from the doc of dlopen in POSIX specs (if those are what is at http://pubs.opengroup.org/onlinepubs/9699919799/):\n\n```\n...\nThe file argument is used to construct a pathname to the object file. If file contains a slash character, the file argument is used as the pathname for the file.\nOtherwise, file is used in an implementation-defined manner to yield a pathname.\n...\n```\nSo Cygwin could decide to use PATH :)",
    "created_at": "2013-03-29T09:42:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47468",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:226" align="right">comment:226</div>

Replying to [@jpflori](#comment%3A224):
> Replying to [@nexttime](#comment%3A222):
> > Replying to [@jpflori](#comment%3A221):
> > > Strange that the fact $SAGE_LOCAL/bin is in $PATH is not sufficient but whatever.
> > > And not sure why in sage-enc $SAGE_LOCAL/lib is appended rather than prepended.
> > > I mean, were prepending $SAGE_LOCAL/bin, so...

> > 
> > ? In both cases (`PATH` as well as `LD_LIBRARY_PATH`), directories get **pre**pended (provided they exist).

> It seems PATH is not, in sage-env:
> 
> ```
> export PATH="$SAGE_PACKAGES/bin:$SAGE_LOCAL/bin:$PATH"
> ```
> > 
> > On Unices, `libpython-*.so*` is in `$SAGE_LOCAL/{lib,lib32,lib64}/`, so can be found along `$LD_LIBRARY_PATH`.

> But on Cygwin its in .../bin/ whence the problem I guess.
> > 
> > If Cygwin's `dlopen()` conforms to POSIX (it probably does), it doesn't use `PATH` but `LD_LIBRARY_PATH` (if set), unless an absolute path was given in the filename argument.

> Yup.
> That's fine, but also disturbing as all the (rest of the) dll magic uses PATH rather than LD_LIBRARY_PATH on Cygwin.
> > 

In fact that's not really POSIX requested, from the doc of dlopen in POSIX specs (if those are what is at http://pubs.opengroup.org/onlinepubs/9699919799/):

```
...
The file argument is used to construct a pathname to the object file. If file contains a slash character, the file argument is used as the pathname for the file.
Otherwise, file is used in an implementation-defined manner to yield a pathname.
...
```
So Cygwin could decide to use PATH :)



---

archive/issue_comments_047469.json:
```json
{
    "body": "<div id=\"comment:227\" align=\"right\">comment:227</div>\n\nThis is now #14380.",
    "created_at": "2013-03-29T10:23:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47469",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:227" align="right">comment:227</div>

This is now #14380.



---

archive/issue_comments_047470.json:
```json
{
    "body": "<div id=\"comment:228\" align=\"right\">comment:228</div>\n\nReplying to [@jpflori](#comment%3A225):\n> Replying to [@jpflori](#comment%3A224):\n> > Replying to [@nexttime](#comment%3A222):\n> > > Replying to [@jpflori](#comment%3A221):\n> > > > Strange that the fact $SAGE_LOCAL/bin is in $PATH is not sufficient but whatever.\n> > > > And not sure why in sage-enc $SAGE_LOCAL/lib is appended rather than prepended.\n> > > > I mean, were prepending $SAGE_LOCAL/bin, so...\n\n> > > \n> > > ? In both cases (`PATH` as well as `LD_LIBRARY_PATH`), directories get **pre**pended (provided they exist).\n\n> > It seems PATH is not, in sage-env:\n> > \n> > ```\n> > export PATH=\"$SAGE_PACKAGES/bin:$SAGE_LOCAL/bin:$PATH\"\n> > ```\n\n> And I think it's normal.\n> We want Sage binaries to be found first.\n> \n> As far as [LD_]LIBRARY_PATH is concerned, I wouldn't find it so disturbing to prepend SAGE local dirs as well.\n> \n> But note that PATH is usually set (or the shell used might not be so useful) whereas [LD]_LIBRARY_PATH is not.\n> So prepending our local values in the first case is really the most sensible choice, whereas in the second you might think that the user has added something unusual knowingly and he wants it first, if that breaks that's his problem.\n\nI still don't understand what you mean.  In both cases, we already prepend *Sage's* directories, such that Sage's shared libraries and binaries come first.\n\n(That's orthogonal to putting DLLs into `*/bin/` or adding DLL dirs to `PATH` on Cygwin.  Note that IIRC we already do the former for some packages, so if you add `$SAGE_LOCAL/lib/` to `PATH` as well, we IMHO should no longer copy DLLs into `$SAGE_LOCAL/bin/`.)",
    "created_at": "2013-03-29T12:45:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47470",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:228" align="right">comment:228</div>

Replying to [@jpflori](#comment%3A225):
> Replying to [@jpflori](#comment%3A224):
> > Replying to [@nexttime](#comment%3A222):
> > > Replying to [@jpflori](#comment%3A221):
> > > > Strange that the fact $SAGE_LOCAL/bin is in $PATH is not sufficient but whatever.
> > > > And not sure why in sage-enc $SAGE_LOCAL/lib is appended rather than prepended.
> > > > I mean, were prepending $SAGE_LOCAL/bin, so...

> > > 
> > > ? In both cases (`PATH` as well as `LD_LIBRARY_PATH`), directories get **pre**pended (provided they exist).

> > It seems PATH is not, in sage-env:
> > 
> > ```
> > export PATH="$SAGE_PACKAGES/bin:$SAGE_LOCAL/bin:$PATH"
> > ```

> And I think it's normal.
> We want Sage binaries to be found first.
> 
> As far as [LD_]LIBRARY_PATH is concerned, I wouldn't find it so disturbing to prepend SAGE local dirs as well.
> 
> But note that PATH is usually set (or the shell used might not be so useful) whereas [LD]_LIBRARY_PATH is not.
> So prepending our local values in the first case is really the most sensible choice, whereas in the second you might think that the user has added something unusual knowingly and he wants it first, if that breaks that's his problem.

I still don't understand what you mean.  In both cases, we already prepend *Sage's* directories, such that Sage's shared libraries and binaries come first.

(That's orthogonal to putting DLLs into `*/bin/` or adding DLL dirs to `PATH` on Cygwin.  Note that IIRC we already do the former for some packages, so if you add `$SAGE_LOCAL/lib/` to `PATH` as well, we IMHO should no longer copy DLLs into `$SAGE_LOCAL/bin/`.)



---

archive/issue_comments_047471.json:
```json
{
    "body": "<div id=\"comment:229\" align=\"right\">comment:229</div>\n\nReplying to [@nexttime](#comment%3A228):\n> Replying to [@jpflori](#comment%3A225):\n> > > > ? In both cases (`PATH` as well as `LD_LIBRARY_PATH`), directories get **pre**pended (provided they exist).\n\n> > > It seems PATH is not, in sage-env:\n> > > \n> > > ```\n> > > export PATH=\"$SAGE_PACKAGES/bin:$SAGE_LOCAL/bin:$PATH\"\n> > > ```\n\n> > And I think it's normal.\n> > We want Sage binaries to be found first.\n> > \n> > As far as [LD_]LIBRARY_PATH is concerned, I wouldn't find it so disturbing to prepend SAGE local dirs as well.\n> > \n> > But note that PATH is usually set (or the shell used might not be so useful) whereas [LD]_LIBRARY_PATH is not.\n> > So prepending our local values in the first case is really the most sensible choice, whereas in the second you might think that the user has added something unusual knowingly and he wants it first, if that breaks that's his problem.\n\n> \n> I still don't understand what you mean.  In both cases, we already prepend *Sage's* directories, such that Sage's shared libraries and binaries come first.\n\nOh youre right...\nI misread the LD_LIBRARY_PATH part.\n\n```\nPATH=\"$SAGE_ROOT:$SAGE_LOCAL/bin:$PATH\" && export PATH\n```\n\n```\nfor d in lib/openmpi lib/R/lib lib32 lib64 lib; do\n    libdir=\"$SAGE_LOCAL/$d\"\n    # Add only existing directories\n    if [ -d \"$libdir\" ]; then\n        [ -z \"$LD_LIBRARY_PATH\" ] || LD_LIBRARY_PATH=\":${LD_LIBRARY_PATH}\"\n        LD_LIBRARY_PATH=\"${libdir}$LD_LIBRARY_PATH\"\n    fi\ndone\nexport LD_LIBRARY_PATH\n```\nBut taht's only true on non Cygwin system.\nThere we have\n\n```\nif [ \"$UNAME\" = \"CYGWIN\" ]; then\n    PATH=\"$PATH:$SAGE_LOCAL/lib:$SAGE_LOCAL/lib/R/lib\" && export PATH\nfi\n```\n\n> \n> (That's orthogonal to putting DLLs into `*/bin/` or adding DLL dirs to `PATH` on Cygwin.  Note that IIRC we already do the former for some packages, so if you add `$SAGE_LOCAL/lib/` to `PATH` as well, we IMHO should no longer copy DLLs into `$SAGE_LOCAL/bin/`.)\n\nWe don't really copy anything anymore in */bin/\nAt least for all the spkg I've taken care of.\nThe default scheme on Cygwin is to have:\n* static archive (.a), import libraries (.dll.a), libtool magic (.la) in lib\n* shared libraries (.dll), executables (.exe) in bin\nAnd you shouldn't have to look in bin for libraries.\nNormally (at least from my little experience) when you link (not when you load at runtime) you either use the static archive (which is in lib) or the import library (which is in lib), or you want to skip the import library mess and give full path to the shared library in bin.\nAnd when you end up using the import library, in the end it points you to the shared library in bin, and in your own library or executable there is no trace of the import library, only of the shared library itself.\n\nThat's what Python does, but dlopen skip all the fun of import libraries (and it's right, it does not want to link to the library, it just wants to load it) and wants a real shared library ending in .dll.\nAnd with our current values of LD_LIBRARY_PATH and PATH, it first find the system wide one because (that's only a guess) there must be some default search path used between LD_LIBRARY_PATH and PATH.",
    "created_at": "2013-03-29T13:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47471",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:229" align="right">comment:229</div>

Replying to [@nexttime](#comment%3A228):
> Replying to [@jpflori](#comment%3A225):
> > > > ? In both cases (`PATH` as well as `LD_LIBRARY_PATH`), directories get **pre**pended (provided they exist).

> > > It seems PATH is not, in sage-env:
> > > 
> > > ```
> > > export PATH="$SAGE_PACKAGES/bin:$SAGE_LOCAL/bin:$PATH"
> > > ```

> > And I think it's normal.
> > We want Sage binaries to be found first.
> > 
> > As far as [LD_]LIBRARY_PATH is concerned, I wouldn't find it so disturbing to prepend SAGE local dirs as well.
> > 
> > But note that PATH is usually set (or the shell used might not be so useful) whereas [LD]_LIBRARY_PATH is not.
> > So prepending our local values in the first case is really the most sensible choice, whereas in the second you might think that the user has added something unusual knowingly and he wants it first, if that breaks that's his problem.

> 
> I still don't understand what you mean.  In both cases, we already prepend *Sage's* directories, such that Sage's shared libraries and binaries come first.

Oh youre right...
I misread the LD_LIBRARY_PATH part.

```
PATH="$SAGE_ROOT:$SAGE_LOCAL/bin:$PATH" && export PATH
```

```
for d in lib/openmpi lib/R/lib lib32 lib64 lib; do
    libdir="$SAGE_LOCAL/$d"
    # Add only existing directories
    if [ -d "$libdir" ]; then
        [ -z "$LD_LIBRARY_PATH" ] || LD_LIBRARY_PATH=":${LD_LIBRARY_PATH}"
        LD_LIBRARY_PATH="${libdir}$LD_LIBRARY_PATH"
    fi
done
export LD_LIBRARY_PATH
```
But taht's only true on non Cygwin system.
There we have

```
if [ "$UNAME" = "CYGWIN" ]; then
    PATH="$PATH:$SAGE_LOCAL/lib:$SAGE_LOCAL/lib/R/lib" && export PATH
fi
```

> 
> (That's orthogonal to putting DLLs into `*/bin/` or adding DLL dirs to `PATH` on Cygwin.  Note that IIRC we already do the former for some packages, so if you add `$SAGE_LOCAL/lib/` to `PATH` as well, we IMHO should no longer copy DLLs into `$SAGE_LOCAL/bin/`.)

We don't really copy anything anymore in */bin/
At least for all the spkg I've taken care of.
The default scheme on Cygwin is to have:
* static archive (.a), import libraries (.dll.a), libtool magic (.la) in lib
* shared libraries (.dll), executables (.exe) in bin
And you shouldn't have to look in bin for libraries.
Normally (at least from my little experience) when you link (not when you load at runtime) you either use the static archive (which is in lib) or the import library (which is in lib), or you want to skip the import library mess and give full path to the shared library in bin.
And when you end up using the import library, in the end it points you to the shared library in bin, and in your own library or executable there is no trace of the import library, only of the shared library itself.

That's what Python does, but dlopen skip all the fun of import libraries (and it's right, it does not want to link to the library, it just wants to load it) and wants a real shared library ending in .dll.
And with our current values of LD_LIBRARY_PATH and PATH, it first find the system wide one because (that's only a guess) there must be some default search path used between LD_LIBRARY_PATH and PATH.



---

archive/issue_comments_047472.json:
```json
{
    "body": "<div id=\"comment:230\" align=\"right\">comment:230</div>\n\n> Here is the current status for this ticket, then, in my view.\n> * Figure out whether mpfr-4 needs to be installed or not.  I now have two different brand-new installs of Cygwin that failed with the current package list until I installed it.  It was *not* pulled in with gcc-core and friends.\n\nLooks like it's needed for now, or is there any action on the Cygwin front?\n> * Patch to remove `SAGE_PORT=yes` requirement for Cygwin.\n\nStill needed.\n> * Related to that, we still get the message about `sqrtl in -lm` outdated math library, which presumably would make things fail if `SAGE_PORT` wasn't set, so we need to somehow fix things so that's not an issue.  What happens on FreeBSD?\n\nAny updates with what we should do here?  The code for the sqrtl business that David wrote is a little convoluted for me, but perhaps it wouldn't be that hard to change to logl as was suggested above.\n> * Patch to atlas spkg-install (possibly at #10508, or possibly earlier) to say *precisely* which lapack packages to install, as in the ticket description.\n\n#10508 seems to now have taken care of this.\n> * As Jeroen points out, make sure that we put something in so that we don't use the (current) Sage 4.6 GCC spkg to build on Cygwin.  This could involve making the 4.7.2 spkg standard (I don't believe there is a ticket for this yet, though there is a sage-devel thread reporting a fair amount of success), or something else.\n\nThis is #14378, and Jeroen even has an spkg.",
    "created_at": "2013-03-29T16:19:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47472",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:230" align="right">comment:230</div>

> Here is the current status for this ticket, then, in my view.
> * Figure out whether mpfr-4 needs to be installed or not.  I now have two different brand-new installs of Cygwin that failed with the current package list until I installed it.  It was *not* pulled in with gcc-core and friends.

Looks like it's needed for now, or is there any action on the Cygwin front?
> * Patch to remove `SAGE_PORT=yes` requirement for Cygwin.

Still needed.
> * Related to that, we still get the message about `sqrtl in -lm` outdated math library, which presumably would make things fail if `SAGE_PORT` wasn't set, so we need to somehow fix things so that's not an issue.  What happens on FreeBSD?

Any updates with what we should do here?  The code for the sqrtl business that David wrote is a little convoluted for me, but perhaps it wouldn't be that hard to change to logl as was suggested above.
> * Patch to atlas spkg-install (possibly at #10508, or possibly earlier) to say *precisely* which lapack packages to install, as in the ticket description.

#10508 seems to now have taken care of this.
> * As Jeroen points out, make sure that we put something in so that we don't use the (current) Sage 4.6 GCC spkg to build on Cygwin.  This could involve making the 4.7.2 spkg standard (I don't believe there is a ticket for this yet, though there is a sage-devel thread reporting a fair amount of success), or something else.

This is #14378, and Jeroen even has an spkg.



---

archive/issue_comments_047473.json:
```json
{
    "body": "<div id=\"comment:231\" align=\"right\">comment:231</div>\n\n> sage -t  devel/sage-main/sage/misc/inline_fortran.py\n\nThis is now #14386.\n> \n> sage -t  devel/sage-main/sage/functions/other.py\n> sage -t  devel/sage-main/sage/misc/cython.py\n\nThis is now #14387.",
    "created_at": "2013-03-30T01:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47473",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:231" align="right">comment:231</div>

> sage -t  devel/sage-main/sage/misc/inline_fortran.py

This is now #14386.
> 
> sage -t  devel/sage-main/sage/functions/other.py
> sage -t  devel/sage-main/sage/misc/cython.py

This is now #14387.



---

archive/issue_comments_047474.json:
```json
{
    "body": "<div id=\"comment:232\" align=\"right\">comment:232</div>\n\nI got a few new failures, but I think they will be solved mostly by #14370.\n\nHere's one I don't recall seeing before.\n\n```\n$ ./sage -t devel/sage/sage/libs/gap/element.pyx\nRunning doctests with ID 2013-03-29-21-22-54-2674b5b5.\nDoctesting 1 file.\nsage -t devel/sage/sage/libs/gap/element.pyx\n**********************************************************************\nFile \"devel/sage/sage/libs/gap/element.pyx\", line 1327, in sage.libs.gap.element.GapElement_Function.__call__\nFailed example:\n    libgap_exec('echo hello from the shell > /dev/null')\nExpected nothing\nGot:\n    The system cannot find the path specified.\n**********************************************************************\n1 item had failures:\n   1 of  26 in sage.libs.gap.element.GapElement_Function.__call__\n    [256 tests, 1 failure, 4.6 s]\n----------------------------------------------------------------------\nsage -t devel/sage/sage/libs/gap/element.pyx  # 1 doctest failed\n----------------------------------------------------------------------\nTotal time for all tests: 10.7 seconds\n    cpu time: 3.7 seconds\n    cumulative wall time: 4.6 seconds\n```\nAnyone seen this?",
    "created_at": "2013-03-30T01:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47474",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:232" align="right">comment:232</div>

I got a few new failures, but I think they will be solved mostly by #14370.

Here's one I don't recall seeing before.

```
$ ./sage -t devel/sage/sage/libs/gap/element.pyx
Running doctests with ID 2013-03-29-21-22-54-2674b5b5.
Doctesting 1 file.
sage -t devel/sage/sage/libs/gap/element.pyx
**********************************************************************
File "devel/sage/sage/libs/gap/element.pyx", line 1327, in sage.libs.gap.element.GapElement_Function.__call__
Failed example:
    libgap_exec('echo hello from the shell > /dev/null')
Expected nothing
Got:
    The system cannot find the path specified.
**********************************************************************
1 item had failures:
   1 of  26 in sage.libs.gap.element.GapElement_Function.__call__
    [256 tests, 1 failure, 4.6 s]
----------------------------------------------------------------------
sage -t devel/sage/sage/libs/gap/element.pyx  # 1 doctest failed
----------------------------------------------------------------------
Total time for all tests: 10.7 seconds
    cpu time: 3.7 seconds
    cumulative wall time: 4.6 seconds
```
Anyone seen this?



---

archive/issue_comments_047475.json:
```json
{
    "body": "<div id=\"comment:233\" align=\"right\">comment:233</div>\n\n> As it turns out, #14254 wasn't the (whole) problem.  Most of the errors were of the following ilk.\n> \n> ```\n> sage -t  devel/sage-main/sage/algebras/free_algebra.py\n> Exception KeyError: (The ring pointer -0x1f5282c,) in 'sage.libs.singular.ring.singular_ring_delete' ignored\n> Exception KeyError: (The ring pointer -0x1f52768,) in 'sage.libs.singular.ring.singular_ring_delete' ignored\n> Exception KeyError: (The ring pointer -0x1f526a4,) in 'sage.libs.singular.ring.singular_ring_delete' ignored\n> **********************************************************************\n> File \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/algebras/free_algebra.py\", line 820:\n>     sage: G=A.g_algebra({y*x:-x*y})\n> Exception raised:\n>     Traceback (most recent call last):\n>       File \"/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py\", line 1231, in run_one_test\n>         self.run_one_example(test, example, filename, compileflags)\n>       File \"/home/sagetest/sage-5.8.beta4/local/bin/sagedoctest.py\", line 38, in run_one_example\n>         OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n>       File \"/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py\", line 1172, in run_one_example\n>         compileflags, 1) in test.globs\n>       File \"<doctest __main__.example_18[3]>\", line 1, in <module>\n>         G=A.g_algebra({y*x:-x*y})###line 820:\n>     sage: G=A.g_algebra({y*x:-x*y})\n>       File \"/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/algebras/free_algebra.py\", line 872, in g_algebra\n>         order=order, check=check)\n>       File \"factory.pyx\", line 143, in sage.structure.factory.UniqueFactory.__call__ (sage/structure/factory.c:1119)\n>       File \"factory.pyx\", line 170, in sage.structure.factory.UniqueFactory.get_object (sage/structure/factory.c:1311)\n>       File \"plural.pyx\", line 180, in sage.rings.polynomial.plural.G_AlgFactory.create_object (sage/rings/polynomial/plural.cpp:4289)\n>       File \"plural.pyx\", line 358, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__init__ (sage/rings/polynomial/plural.cpp:5351)\n>       File \"plural.pyx\", line 1471, in sage.rings.polynomial.plural.NCPolynomial_plural.__richcmp__ (sage/rings/polynomial/plural.cpp:11452)\n>       File \"element.pyx\", line 855, in sage.structure.element.Element._richcmp (sage/structure/element.c:7980)\n>       File \"coerce.pyx\", line 913, in sage.structure.coerce.CoercionModel_cache_maps.canonical_coercion (sage/structure/coerce.c:8304)\n>       File \"coerce.pyx\", line 1068, in sage.structure.coerce.CoercionModel_cache_maps.coercion_maps (sage/structure/coerce.c:9855)\n>       File \"coerce.pyx\", line 1209, in sage.structure.coerce.CoercionModel_cache_maps.discover_coercion (sage/structure/coerce.c:11405)\n>       File \"parent.pyx\", line 2116, in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:14383)\n>       File \"parent.pyx\", line 2937, in sage.structure.parent._register_pair (sage/structure/parent.c:21545)\n>       File \"parent.pyx\", line 2911, in sage.structure.parent.EltPair.__hash__ (sage/structure/parent.c:21193)\n>       File \"plural.pyx\", line 573, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__hash__ (sage/rings/polynomial/plural.cpp:6487)\n>     OverflowError: Python int too large to convert to C long\n> ```\n\nThis is now #14388.",
    "created_at": "2013-03-30T01:32:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47475",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:233" align="right">comment:233</div>

> As it turns out, #14254 wasn't the (whole) problem.  Most of the errors were of the following ilk.
> 
> ```
> sage -t  devel/sage-main/sage/algebras/free_algebra.py
> Exception KeyError: (The ring pointer -0x1f5282c,) in 'sage.libs.singular.ring.singular_ring_delete' ignored
> Exception KeyError: (The ring pointer -0x1f52768,) in 'sage.libs.singular.ring.singular_ring_delete' ignored
> Exception KeyError: (The ring pointer -0x1f526a4,) in 'sage.libs.singular.ring.singular_ring_delete' ignored
> **********************************************************************
> File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/algebras/free_algebra.py", line 820:
>     sage: G=A.g_algebra({y*x:-x*y})
> Exception raised:
>     Traceback (most recent call last):
>       File "/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py", line 1231, in run_one_test
>         self.run_one_example(test, example, filename, compileflags)
>       File "/home/sagetest/sage-5.8.beta4/local/bin/sagedoctest.py", line 38, in run_one_example
>         OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
>       File "/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py", line 1172, in run_one_example
>         compileflags, 1) in test.globs
>       File "<doctest __main__.example_18[3]>", line 1, in <module>
>         G=A.g_algebra({y*x:-x*y})###line 820:
>     sage: G=A.g_algebra({y*x:-x*y})
>       File "/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/algebras/free_algebra.py", line 872, in g_algebra
>         order=order, check=check)
>       File "factory.pyx", line 143, in sage.structure.factory.UniqueFactory.__call__ (sage/structure/factory.c:1119)
>       File "factory.pyx", line 170, in sage.structure.factory.UniqueFactory.get_object (sage/structure/factory.c:1311)
>       File "plural.pyx", line 180, in sage.rings.polynomial.plural.G_AlgFactory.create_object (sage/rings/polynomial/plural.cpp:4289)
>       File "plural.pyx", line 358, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__init__ (sage/rings/polynomial/plural.cpp:5351)
>       File "plural.pyx", line 1471, in sage.rings.polynomial.plural.NCPolynomial_plural.__richcmp__ (sage/rings/polynomial/plural.cpp:11452)
>       File "element.pyx", line 855, in sage.structure.element.Element._richcmp (sage/structure/element.c:7980)
>       File "coerce.pyx", line 913, in sage.structure.coerce.CoercionModel_cache_maps.canonical_coercion (sage/structure/coerce.c:8304)
>       File "coerce.pyx", line 1068, in sage.structure.coerce.CoercionModel_cache_maps.coercion_maps (sage/structure/coerce.c:9855)
>       File "coerce.pyx", line 1209, in sage.structure.coerce.CoercionModel_cache_maps.discover_coercion (sage/structure/coerce.c:11405)
>       File "parent.pyx", line 2116, in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:14383)
>       File "parent.pyx", line 2937, in sage.structure.parent._register_pair (sage/structure/parent.c:21545)
>       File "parent.pyx", line 2911, in sage.structure.parent.EltPair.__hash__ (sage/structure/parent.c:21193)
>       File "plural.pyx", line 573, in sage.rings.polynomial.plural.NCPolynomialRing_plural.__hash__ (sage/rings/polynomial/plural.cpp:6487)
>     OverflowError: Python int too large to convert to C long
> ```

This is now #14388.



---

archive/issue_comments_047476.json:
```json
{
    "body": "<div id=\"comment:234\" align=\"right\">comment:234</div>\n\nReplying to [@kcrisman](#comment%3A230):\n> > Here is the current status for this ticket, then, in my view.\n> > * Figure out whether mpfr-4 needs to be installed or not.  I now have two different brand-new installs of Cygwin that failed with the current package list until I installed it.  It was *not* pulled in with gcc-core and friends.\n\n> Looks like it's needed for now, or is there any action on the Cygwin front?\n\nLooks like their gcc packages were really old and the maintainer has to change...",
    "created_at": "2013-03-30T13:40:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47476",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:234" align="right">comment:234</div>

Replying to [@kcrisman](#comment%3A230):
> > Here is the current status for this ticket, then, in my view.
> > * Figure out whether mpfr-4 needs to be installed or not.  I now have two different brand-new installs of Cygwin that failed with the current package list until I installed it.  It was *not* pulled in with gcc-core and friends.

> Looks like it's needed for now, or is there any action on the Cygwin front?

Looks like their gcc packages were really old and the maintainer has to change...



---

archive/issue_comments_047477.json:
```json
{
    "body": "<div id=\"comment:235\" align=\"right\">comment:235</div>\n\nSo from the old errors (I've not run \"make ptest\"):\nReplying to [@jpflori](#comment%3A116):\n> New ptest log for 5.7.beta1 at\n> \n> ```\n> The following tests failed:\n> \n> \tsage -t  -force_lib devel/sagenb-main/sagenb/misc/misc.py # Exception from doctest framework\n> \tsage -t  -force_lib devel/sage/sage/functions/other.py # 1 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py # 96 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/graphs/genus.pyx # 2 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/gsl/ode.pyx # 3 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/libs/lcalc/lcalc_Lfunction.pyx # 69 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/libs/pari/gen.pyx # 4 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/misc/cython.py # 3 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/misc/getusage.py # 4 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/misc/inline_fortran.py # 3 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/misc/sageinspect.py # 1 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/plot/graphics.py # Time out\n> \tsage -t  -force_lib devel/sage/sage/plot/plot.py # Time out\n> \tsage -t  -force_lib devel/sage/sage/plot/plot3d/implicit_plot3d.py # Time out\n> \tsage -t  -force_lib devel/sage/sage/plot/plot3d/plot3d.py # Time out\n> \tsage -t  -force_lib devel/sage/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py # 13 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/rings/arith.py # 1 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/rings/tests.py # 4 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/ell_rational_field.py # Time out\n> \tsage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/heegner.py # Time out\n> \tsage -t  -force_lib devel/sage/sage/schemes/toric/fano_variety.py # 12 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/symbolic/expression.pyx # 1 doctests failed\n> \tsage -t  -force_lib devel/sage/sage/tests/cmdline.py # Time out\n> ----------------------------------------------------------------------\n> ```\n> \n> Some were expected:\n> * sage/libs/lcalc/lcalc_Lfunction.pyx with fix at #13351\n> * sage/geometry/lattice_polytope.py with fix at #13960\n> * sage/schemes/toric/fano_variety.py is #13960 as well\n> * sage/misc/getusage.py which is #9170\n> * sage/graphs/genus.pyx which is in fact #9170\n> * sage/libs/pari/gen.pyx which is also #9170\n> * sage/rings/tests.py as well #9170\n> * sage/quadratic_forms/quadratic_form__ternary_Tornaria.py which is hopefully the same pari stack problem as #9176\n\nFixed.\n> Some are trivial:\n> * sage/functions/other.py which is numerical noise\n> * sage/rings/arith.py as well\n> * sage/symbolic/expression.pyx as well\n\nSame glibc bug (https://bugs.launchpad.net/ubuntu/+source/eglibc/+bug/713985) as #14077, #10285, #12449.\narith.py now passes for me.\nThe two other doctests still fail. \n> Some look more serious:\n> * sage/misc/cython.py but that might just be a dynamic library extension problem\n> * sage/misc/inline_fortran.py which does not find gfortran?!\n\nFixed at #14386 and #14387.\n> * sage/misc/sageinspect.py -> fork errors... maybe a rebase could fix that\n\nPasses now on my system.\n> * sage/gsl/ode.pyx\n\nFixed at #14096.",
    "created_at": "2013-03-30T15:07:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47477",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:235" align="right">comment:235</div>

So from the old errors (I've not run "make ptest"):
Replying to [@jpflori](#comment%3A116):
> New ptest log for 5.7.beta1 at
> 
> ```
> The following tests failed:
> 
> 	sage -t  -force_lib devel/sagenb-main/sagenb/misc/misc.py # Exception from doctest framework
> 	sage -t  -force_lib devel/sage/sage/functions/other.py # 1 doctests failed
> 	sage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py # 96 doctests failed
> 	sage -t  -force_lib devel/sage/sage/graphs/genus.pyx # 2 doctests failed
> 	sage -t  -force_lib devel/sage/sage/gsl/ode.pyx # 3 doctests failed
> 	sage -t  -force_lib devel/sage/sage/libs/lcalc/lcalc_Lfunction.pyx # 69 doctests failed
> 	sage -t  -force_lib devel/sage/sage/libs/pari/gen.pyx # 4 doctests failed
> 	sage -t  -force_lib devel/sage/sage/misc/cython.py # 3 doctests failed
> 	sage -t  -force_lib devel/sage/sage/misc/getusage.py # 4 doctests failed
> 	sage -t  -force_lib devel/sage/sage/misc/inline_fortran.py # 3 doctests failed
> 	sage -t  -force_lib devel/sage/sage/misc/sageinspect.py # 1 doctests failed
> 	sage -t  -force_lib devel/sage/sage/plot/graphics.py # Time out
> 	sage -t  -force_lib devel/sage/sage/plot/plot.py # Time out
> 	sage -t  -force_lib devel/sage/sage/plot/plot3d/implicit_plot3d.py # Time out
> 	sage -t  -force_lib devel/sage/sage/plot/plot3d/plot3d.py # Time out
> 	sage -t  -force_lib devel/sage/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py # 13 doctests failed
> 	sage -t  -force_lib devel/sage/sage/rings/arith.py # 1 doctests failed
> 	sage -t  -force_lib devel/sage/sage/rings/tests.py # 4 doctests failed
> 	sage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/ell_rational_field.py # Time out
> 	sage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/heegner.py # Time out
> 	sage -t  -force_lib devel/sage/sage/schemes/toric/fano_variety.py # 12 doctests failed
> 	sage -t  -force_lib devel/sage/sage/symbolic/expression.pyx # 1 doctests failed
> 	sage -t  -force_lib devel/sage/sage/tests/cmdline.py # Time out
> ----------------------------------------------------------------------
> ```
> 
> Some were expected:
> * sage/libs/lcalc/lcalc_Lfunction.pyx with fix at #13351
> * sage/geometry/lattice_polytope.py with fix at #13960
> * sage/schemes/toric/fano_variety.py is #13960 as well
> * sage/misc/getusage.py which is #9170
> * sage/graphs/genus.pyx which is in fact #9170
> * sage/libs/pari/gen.pyx which is also #9170
> * sage/rings/tests.py as well #9170
> * sage/quadratic_forms/quadratic_form__ternary_Tornaria.py which is hopefully the same pari stack problem as #9176

Fixed.
> Some are trivial:
> * sage/functions/other.py which is numerical noise
> * sage/rings/arith.py as well
> * sage/symbolic/expression.pyx as well

Same glibc bug (https://bugs.launchpad.net/ubuntu/+source/eglibc/+bug/713985) as #14077, #10285, #12449.
arith.py now passes for me.
The two other doctests still fail. 
> Some look more serious:
> * sage/misc/cython.py but that might just be a dynamic library extension problem
> * sage/misc/inline_fortran.py which does not find gfortran?!

Fixed at #14386 and #14387.
> * sage/misc/sageinspect.py -> fork errors... maybe a rebase could fix that

Passes now on my system.
> * sage/gsl/ode.pyx

Fixed at #14096.



---

archive/issue_comments_047478.json:
```json
{
    "body": "<div id=\"comment:236\" align=\"right\">comment:236</div>\n\nHere's what I get for 5.9.beta2 on Win7 (presumably 32-bit, I have no idea) after a solution to #14388, though not the final one that JP put there, which I will be trying next.  Most will likely be fixed by #14387, #14386, and #14370, just putting for reference.\n\n```\n----------------------------------------------------------------------\nsage -t sage/tests/interrupt.pyx  # Killed due to segmentation fault\nsage -t sage/tests/cmdline.py  # 1 doctest failed\nsage -t sage/symbolic/expression.pyx  # 1 doctest failed\nsage -t sage/misc/interpreter.py  # 2 doctests failed\nsage -t sage/misc/cython.py  # 3 doctests failed\nsage -t sage/parallel/decorate.py  # 1 doctest failed\nsage -t sage/functions/other.py  # 1 doctest failed\nsage -t sage/interfaces/rubik.py  # 1 doctest failed\nsage -t sage/structure/sage_object.pyx  # 1 doctest failed\nsage -t sage/misc/inline_fortran.py  # 3 doctests failed\nsage -t sage/libs/gap/element.pyx  # 1 doctest failed\nsage -t sage/misc/sage_extension.py  # 10 doctests failed\nsage -t sage/libs/ecl.pyx  # Killed due to segmentation fault\n----------------------------------------------------------------------\n```\nAlso, after a rebaseall (rebase -O was not sufficient) an XP build is once again on its way to completion.",
    "created_at": "2013-03-30T20:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47478",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:236" align="right">comment:236</div>

Here's what I get for 5.9.beta2 on Win7 (presumably 32-bit, I have no idea) after a solution to #14388, though not the final one that JP put there, which I will be trying next.  Most will likely be fixed by #14387, #14386, and #14370, just putting for reference.

```
----------------------------------------------------------------------
sage -t sage/tests/interrupt.pyx  # Killed due to segmentation fault
sage -t sage/tests/cmdline.py  # 1 doctest failed
sage -t sage/symbolic/expression.pyx  # 1 doctest failed
sage -t sage/misc/interpreter.py  # 2 doctests failed
sage -t sage/misc/cython.py  # 3 doctests failed
sage -t sage/parallel/decorate.py  # 1 doctest failed
sage -t sage/functions/other.py  # 1 doctest failed
sage -t sage/interfaces/rubik.py  # 1 doctest failed
sage -t sage/structure/sage_object.pyx  # 1 doctest failed
sage -t sage/misc/inline_fortran.py  # 3 doctests failed
sage -t sage/libs/gap/element.pyx  # 1 doctest failed
sage -t sage/misc/sage_extension.py  # 10 doctests failed
sage -t sage/libs/ecl.pyx  # Killed due to segmentation fault
----------------------------------------------------------------------
```
Also, after a rebaseall (rebase -O was not sufficient) an XP build is once again on its way to completion.



---

archive/issue_comments_047479.json:
```json
{
    "body": "<div id=\"comment:237\" align=\"right\">comment:237</div>\n\nOther than the expected numerical ones, all that remains is\n\n```\nsage -t sage/libs/gap/element.pyx\n**********************************************************************\nFile \"sage/libs/gap/element.pyx\", line 1327, in sage.libs.gap.element.GapElement_Function.__call__\nFailed example:\n    libgap_exec('echo hello from the shell > /dev/null')\nExpected nothing\nGot:\n    The system cannot find the path specified.\n**********************************************************************\n1 item had failures:\n   1 of  26 in sage.libs.gap.element.GapElement_Function.__call__\n    [256 tests, 1 failure, 4.6 s]\nsage -t sage/structure/sage_object.pyx\n**********************************************************************\nFile \"sage/structure/sage_object.pyx\", line 1215, in sage.structure.sage_object.picklejar\nFailed example:\n    if uid==0:\n        raise OSError('You must not run the doctests as root, geez!')\n    else: sage.structure.sage_object.picklejar(1, dir + '/noaccess')\nExpected:\n    Traceback (most recent call last):\n    ...\n    OSError: ...\nGot:\n    <BLANKLINE>\n**********************************************************************\n1 item had failures:\n   1 of  10 in sage.structure.sage_object.picklejar\n    [152 tests, 1 failure, 5.1 s]\nsage -t sage/parallel/decorate.py\n**********************************************************************\nFile \"sage/parallel/decorate.py\", line 559, in sage.parallel.decorate.fork\nFailed example:\n    print \"this works\"; g()\nExpected:\n    this works...\n    <BLANKLINE>\n    ------------------------------------------------------------------------\n    Unhandled SIG...\n    ------------------------------------------------------------------------\n    'NO DATA'\nGot:\n    this works\n    'NO DATA'\n**********************************************************************\n1 item had failures:\n   1 of  18 in sage.parallel.decorate.fork\n    [90 tests, 1 failure, 14.4 s]\nsage -t sage/tests/cmdline.py\n**********************************************************************\nFile \"sage/tests/cmdline.py\", line 415, in sage.tests.cmdline.test_executable\nFailed example:\n    ret\nExpected:\n    0\nGot:\n    -6\n*******************************************************************\n```\nand the more long\n\n```\n    Killed due to segmentation fault\n**********************************************************************\nTests run before process failed:\nsage: from sage.tests.interrupt import return_exception ## line 74 ##\nsage: @return_exception\ndef raise_interrupt():\n    raise KeyboardInterrupt(\"just testing\") ## line 75 ##\nsage: raise_interrupt() ## line 78 ##\nKeyboardInterrupt('just testing',)\nsage: sig_on_count() ## line 80 ##\n0\nsage: import sage.tests.interrupt ## line 105 ##\nsage: try:\n    sage.tests.interrupt.interrupt_after_delay()\n    factor(10^1000 + 3)\nexcept KeyboardInterrupt:\n    print \"Caught KeyboardInterrupt\" ## line 106 ##\nCaught KeyboardInterrupt\nsage: sig_on_count() ## line 112 ##\n0\nsage: from sage.tests.interrupt import * ## line 123 ##\nsage: test_sig_off() ## line 124 ##\nsage: sig_on_count() ## line 125 ##\n0\nsage: from sage.tests.interrupt import * ## line 134 ##\nsage: test_sig_on() ## line 135 ##\nKeyboardInterrupt()\nsage: sig_on_count() ## line 137 ##\n0\nsage: from sage.tests.interrupt import * ## line 146 ##\nsage: test_sig_str() ## line 147 ##\nsage: sig_on_count() ## line 151 ##\n0\nsage: from sage.tests.interrupt import * ## line 165 ##\nsage: test_sig_on_cython() ## line 166 ##\nKeyboardInterrupt()\nsage: sig_on_count() ## line 168 ##\n0\nsage: from sage.tests.interrupt import * ## line 181 ##\nsage: test_sig_on_cython_except() ## line 182 ##\nKeyboardInterrupt()\nsage: sig_on_count() ## line 184 ##\n0\nsage: from sage.tests.interrupt import * ## line 197 ##\nsage: test_sig_on_cython_except_all() ## line 198 ##\nKeyboardInterrupt()\nsage: sig_on_count() ## line 200 ##\n0\nsage: from sage.tests.interrupt import * ## line 209 ##\nsage: test_sig_check() ## line 210 ##\nKeyboardInterrupt()\nsage: sig_on_count() ## line 212 ##\n0\nsage: from sage.tests.interrupt import * ## line 222 ##\nsage: test_sig_check_inside_sig_on() ## line 223 ##\nKeyboardInterrupt()\nsage: sig_on_count() ## line 225 ##\n0\nsage: from sage.tests.interrupt import * ## line 235 ##\nsage: test_sig_retry() ## line 236 ##\n10\nsage: sig_on_count() ## line 238 ##\n0\nsage: from sage.tests.interrupt import * ## line 253 ##\nsage: test_sig_retry_and_signal() ## line 254 ##\nKeyboardInterrupt()\nsage: sig_on_count() ## line 256 ##\n0\nsage: from sage.tests.interrupt import * ## line 273 ##\nsage: test_sig_on_no_except() ## line 274 ##\n42\nsage: sig_on_count() ## line 276 ##\n0\nsage: from sage.tests.interrupt import * ## line 301 ##\nsage: test_sig_str_no_except() ## line 302 ##\nsage: sig_on_count() ## line 306 ##\n0\nsage: from sage.tests.interrupt import * ## line 324 ##\nsage: test_sig_check_no_except() ## line 325 ##\nKeyboardInterrupt()\nsage: sig_on_count() ## line 327 ##\n0\nsage: from sage.tests.interrupt import * ## line 342 ##\nsage: test_old_sig_off() ## line 343 ##\nsage: sig_on_count() ## line 344 ##\n0\nsage: from sage.tests.interrupt import * ## line 353 ##\nsage: test_old_sig_on() ## line 354 ##\nKeyboardInterrupt()\nsage: sig_on_count() ## line 356 ##\n0\nsage: from sage.tests.interrupt import * ## line 365 ##\nsage: test_old_sig_str() ## line 366 ##\nsage: sig_on_count() ## line 370 ##\n0\nsage: from sage.tests.interrupt import * ## line 383 ##\nsage: test_signal_segv() ## line 384 ##\nsage: sig_on_count() ## line 388 ##\n0\nsage: from sage.tests.interrupt import * ## line 397 ##\nsage: test_signal_fpe() ## line 398 ##\nsage: sig_on_count() ## line 402 ##\n0\nsage: from sage.tests.interrupt import * ## line 411 ##\nsage: test_signal_ill() ## line 412 ##\nsage: sig_on_count() ## line 416 ##\n0\nsage: from sage.tests.interrupt import * ## line 425 ##\nsage: test_signal_abrt() ## line 426 ##\nsage: sig_on_count() ## line 430 ##\n0\nsage: from sage.tests.interrupt import * ## line 439 ##\nsage: test_signal_bus() ## line 440 ##\nsage: sig_on_count() ## line 444 ##\n0\nsage: from sage.tests.interrupt import * ## line 460 ##\nsage: test_dereference_null_pointer() ## line 461 ##\n\n**********************************************************************\n```",
    "created_at": "2013-03-30T21:11:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47479",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:237" align="right">comment:237</div>

Other than the expected numerical ones, all that remains is

```
sage -t sage/libs/gap/element.pyx
**********************************************************************
File "sage/libs/gap/element.pyx", line 1327, in sage.libs.gap.element.GapElement_Function.__call__
Failed example:
    libgap_exec('echo hello from the shell > /dev/null')
Expected nothing
Got:
    The system cannot find the path specified.
**********************************************************************
1 item had failures:
   1 of  26 in sage.libs.gap.element.GapElement_Function.__call__
    [256 tests, 1 failure, 4.6 s]
sage -t sage/structure/sage_object.pyx
**********************************************************************
File "sage/structure/sage_object.pyx", line 1215, in sage.structure.sage_object.picklejar
Failed example:
    if uid==0:
        raise OSError('You must not run the doctests as root, geez!')
    else: sage.structure.sage_object.picklejar(1, dir + '/noaccess')
Expected:
    Traceback (most recent call last):
    ...
    OSError: ...
Got:
    <BLANKLINE>
**********************************************************************
1 item had failures:
   1 of  10 in sage.structure.sage_object.picklejar
    [152 tests, 1 failure, 5.1 s]
sage -t sage/parallel/decorate.py
**********************************************************************
File "sage/parallel/decorate.py", line 559, in sage.parallel.decorate.fork
Failed example:
    print "this works"; g()
Expected:
    this works...
    <BLANKLINE>
    ------------------------------------------------------------------------
    Unhandled SIG...
    ------------------------------------------------------------------------
    'NO DATA'
Got:
    this works
    'NO DATA'
**********************************************************************
1 item had failures:
   1 of  18 in sage.parallel.decorate.fork
    [90 tests, 1 failure, 14.4 s]
sage -t sage/tests/cmdline.py
**********************************************************************
File "sage/tests/cmdline.py", line 415, in sage.tests.cmdline.test_executable
Failed example:
    ret
Expected:
    0
Got:
    -6
*******************************************************************
```
and the more long

```
    Killed due to segmentation fault
**********************************************************************
Tests run before process failed:
sage: from sage.tests.interrupt import return_exception ## line 74 ##
sage: @return_exception
def raise_interrupt():
    raise KeyboardInterrupt("just testing") ## line 75 ##
sage: raise_interrupt() ## line 78 ##
KeyboardInterrupt('just testing',)
sage: sig_on_count() ## line 80 ##
0
sage: import sage.tests.interrupt ## line 105 ##
sage: try:
    sage.tests.interrupt.interrupt_after_delay()
    factor(10^1000 + 3)
except KeyboardInterrupt:
    print "Caught KeyboardInterrupt" ## line 106 ##
Caught KeyboardInterrupt
sage: sig_on_count() ## line 112 ##
0
sage: from sage.tests.interrupt import * ## line 123 ##
sage: test_sig_off() ## line 124 ##
sage: sig_on_count() ## line 125 ##
0
sage: from sage.tests.interrupt import * ## line 134 ##
sage: test_sig_on() ## line 135 ##
KeyboardInterrupt()
sage: sig_on_count() ## line 137 ##
0
sage: from sage.tests.interrupt import * ## line 146 ##
sage: test_sig_str() ## line 147 ##
sage: sig_on_count() ## line 151 ##
0
sage: from sage.tests.interrupt import * ## line 165 ##
sage: test_sig_on_cython() ## line 166 ##
KeyboardInterrupt()
sage: sig_on_count() ## line 168 ##
0
sage: from sage.tests.interrupt import * ## line 181 ##
sage: test_sig_on_cython_except() ## line 182 ##
KeyboardInterrupt()
sage: sig_on_count() ## line 184 ##
0
sage: from sage.tests.interrupt import * ## line 197 ##
sage: test_sig_on_cython_except_all() ## line 198 ##
KeyboardInterrupt()
sage: sig_on_count() ## line 200 ##
0
sage: from sage.tests.interrupt import * ## line 209 ##
sage: test_sig_check() ## line 210 ##
KeyboardInterrupt()
sage: sig_on_count() ## line 212 ##
0
sage: from sage.tests.interrupt import * ## line 222 ##
sage: test_sig_check_inside_sig_on() ## line 223 ##
KeyboardInterrupt()
sage: sig_on_count() ## line 225 ##
0
sage: from sage.tests.interrupt import * ## line 235 ##
sage: test_sig_retry() ## line 236 ##
10
sage: sig_on_count() ## line 238 ##
0
sage: from sage.tests.interrupt import * ## line 253 ##
sage: test_sig_retry_and_signal() ## line 254 ##
KeyboardInterrupt()
sage: sig_on_count() ## line 256 ##
0
sage: from sage.tests.interrupt import * ## line 273 ##
sage: test_sig_on_no_except() ## line 274 ##
42
sage: sig_on_count() ## line 276 ##
0
sage: from sage.tests.interrupt import * ## line 301 ##
sage: test_sig_str_no_except() ## line 302 ##
sage: sig_on_count() ## line 306 ##
0
sage: from sage.tests.interrupt import * ## line 324 ##
sage: test_sig_check_no_except() ## line 325 ##
KeyboardInterrupt()
sage: sig_on_count() ## line 327 ##
0
sage: from sage.tests.interrupt import * ## line 342 ##
sage: test_old_sig_off() ## line 343 ##
sage: sig_on_count() ## line 344 ##
0
sage: from sage.tests.interrupt import * ## line 353 ##
sage: test_old_sig_on() ## line 354 ##
KeyboardInterrupt()
sage: sig_on_count() ## line 356 ##
0
sage: from sage.tests.interrupt import * ## line 365 ##
sage: test_old_sig_str() ## line 366 ##
sage: sig_on_count() ## line 370 ##
0
sage: from sage.tests.interrupt import * ## line 383 ##
sage: test_signal_segv() ## line 384 ##
sage: sig_on_count() ## line 388 ##
0
sage: from sage.tests.interrupt import * ## line 397 ##
sage: test_signal_fpe() ## line 398 ##
sage: sig_on_count() ## line 402 ##
0
sage: from sage.tests.interrupt import * ## line 411 ##
sage: test_signal_ill() ## line 412 ##
sage: sig_on_count() ## line 416 ##
0
sage: from sage.tests.interrupt import * ## line 425 ##
sage: test_signal_abrt() ## line 426 ##
sage: sig_on_count() ## line 430 ##
0
sage: from sage.tests.interrupt import * ## line 439 ##
sage: test_signal_bus() ## line 440 ##
sage: sig_on_count() ## line 444 ##
0
sage: from sage.tests.interrupt import * ## line 460 ##
sage: test_dereference_null_pointer() ## line 461 ##

**********************************************************************
```



---

archive/issue_comments_047480.json:
```json
{
    "body": "<div id=\"comment:238\" align=\"right\">comment:238</div>\n\nDoes the following work? In a Cygwin shell:\n\n```\n$ echo > /dev/null\n$ ls -l /dev/null\n```\nor in a windows shell (cmd.exe):\n\n```\nC:\\> dir > NUL\n```",
    "created_at": "2013-03-30T21:26:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47480",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:238" align="right">comment:238</div>

Does the following work? In a Cygwin shell:

```
$ echo > /dev/null
$ ls -l /dev/null
```
or in a windows shell (cmd.exe):

```
C:\> dir > NUL
```



---

archive/issue_comments_047481.json:
```json
{
    "body": "<div id=\"comment:239\" align=\"right\">comment:239</div>\n\n\n```\njp@THINKPAD ~\n$ echo > /dev/null\n\njp@THINKPAD ~\n$ ls -l /dev/null\ncrw-rw-rw- 1 jp None 1, 3 30 mars  22:37 /dev/null\n\njp@THINKPAD ~\n$ \n```\nand\n\n```\nC:\\> dir > NUL\n\nC:\\>\n```\nNo errors.",
    "created_at": "2013-03-30T21:39:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47481",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:239" align="right">comment:239</div>


```
jp@THINKPAD ~
$ echo > /dev/null

jp@THINKPAD ~
$ ls -l /dev/null
crw-rw-rw- 1 jp None 1, 3 30 mars  22:37 /dev/null

jp@THINKPAD ~
$ 
```
and

```
C:\> dir > NUL

C:\>
```
No errors.



---

archive/issue_comments_047482.json:
```json
{
    "body": "<div id=\"comment:240\" align=\"right\">comment:240</div>\n\nOn my 64 bits W7, Sage 5.9.beta0:\nReplying to [@kcrisman](#comment%3A236):\n> sage -t sage/tests/interrupt.pyx  # Killed due to segmentation fault\n\nSame long errors and  segfault as you.\n> sage -t sage/tests/cmdline.py  # 1 doctest failed\n\nI used to get a similar one (-6 instead of 0) but it passes now although I don't think anything changed.\n> sage -t sage/symbolic/expression.pyx  # 1 doctest failed\n\nNumerical noise.\n> sage -t sage/misc/interpreter.py  # 2 doctests failed\n\nUnicode, fixed IIRC.\n> sage -t sage/misc/cython.py  # 3 doctests failed\n\nExtension, fixed.\n> sage -t sage/parallel/decorate.py  # 1 doctest failed\n\nSame as you.\n> sage -t sage/functions/other.py  # 1 doctest failed\n\nNumerical noise.\n> sage -t sage/interfaces/rubik.py  # 1 doctest failed\n\nNo problem for me.\n> sage -t sage/structure/sage_object.pyx  # 1 doctest failed\n\nNo problem here.\n> sage -t sage/misc/inline_fortran.py  # 3 doctests failed\n\nExtension, fixed.\n> sage -t sage/libs/gap/element.pyx  # 1 doctest failed\n\nSame error as you.\n> sage -t sage/misc/sage_extension.py  # 10 doctests failed\n\nUnicode, fixed.\n> sage -t sage/libs/ecl.pyx  # Killed due to segmentation fault\n\nNo problem here.",
    "created_at": "2013-03-30T21:59:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47482",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:240" align="right">comment:240</div>

On my 64 bits W7, Sage 5.9.beta0:
Replying to [@kcrisman](#comment%3A236):
> sage -t sage/tests/interrupt.pyx  # Killed due to segmentation fault

Same long errors and  segfault as you.
> sage -t sage/tests/cmdline.py  # 1 doctest failed

I used to get a similar one (-6 instead of 0) but it passes now although I don't think anything changed.
> sage -t sage/symbolic/expression.pyx  # 1 doctest failed

Numerical noise.
> sage -t sage/misc/interpreter.py  # 2 doctests failed

Unicode, fixed IIRC.
> sage -t sage/misc/cython.py  # 3 doctests failed

Extension, fixed.
> sage -t sage/parallel/decorate.py  # 1 doctest failed

Same as you.
> sage -t sage/functions/other.py  # 1 doctest failed

Numerical noise.
> sage -t sage/interfaces/rubik.py  # 1 doctest failed

No problem for me.
> sage -t sage/structure/sage_object.pyx  # 1 doctest failed

No problem here.
> sage -t sage/misc/inline_fortran.py  # 3 doctests failed

Extension, fixed.
> sage -t sage/libs/gap/element.pyx  # 1 doctest failed

Same error as you.
> sage -t sage/misc/sage_extension.py  # 10 doctests failed

Unicode, fixed.
> sage -t sage/libs/ecl.pyx  # Killed due to segmentation fault

No problem here.



---

archive/issue_comments_047483.json:
```json
{
    "body": "<div id=\"comment:241\" align=\"right\">comment:241</div>\n\nReplying to [@jpflori](#comment%3A239):\n> \n> ```\n> jp@THINKPAD ~\n> $ echo > /dev/null\n> \n> jp@THINKPAD ~\n> $ ls -l /dev/null\n> crw-rw-rw- 1 jp None 1, 3 30 mars  22:37 /dev/null\n> \n> ```\n\nYeah, I don't have any problems here either.",
    "created_at": "2013-03-31T04:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47483",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:241" align="right">comment:241</div>

Replying to [@jpflori](#comment%3A239):
> 
> ```
> jp@THINKPAD ~
> $ echo > /dev/null
> 
> jp@THINKPAD ~
> $ ls -l /dev/null
> crw-rw-rw- 1 jp None 1, 3 30 mars  22:37 /dev/null
> 
> ```

Yeah, I don't have any problems here either.



---

archive/issue_comments_047484.json:
```json
{
    "body": "<div id=\"comment:242\" align=\"right\">comment:242</div>\n\nSome of these disappeared, sorry for not being more specific.  Here is what is left for me on Win7, if I recall correctly.\n> > sage -t sage/tests/interrupt.pyx  # Killed due to segmentation fault\n\n> Same long errors and  segfault as you.\n> > sage -t sage/tests/cmdline.py  # 1 doctest failed\n\n> I used to get a similar one (-6 instead of 0) but it passes now although I don't think anything changed.\n> > sage -t sage/symbolic/expression.pyx  # 1 doctest failed\n\n> Numerical noise.\n> > sage -t sage/parallel/decorate.py  # 1 doctest failed\n\n> Same as you.\n> > sage -t sage/functions/other.py  # 1 doctest failed\n\n> Numerical noise.\n> > sage -t sage/libs/gap/element.pyx  # 1 doctest failed\n\n> Same error as you.\n\nUnfortunately, repeated rebasing doesn't help that I can't run doctests on XP.  I can run individual doctests and although I get fork errors and rebase messages, they can pass.  But trying to run all of them doesn't work.  I may try the trick at [#14031 comment:9](https://github.com/sagemath/sage/issues/14031#comment:9) and see if that helps there.",
    "created_at": "2013-04-02T01:48:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47484",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:242" align="right">comment:242</div>

Some of these disappeared, sorry for not being more specific.  Here is what is left for me on Win7, if I recall correctly.
> > sage -t sage/tests/interrupt.pyx  # Killed due to segmentation fault

> Same long errors and  segfault as you.
> > sage -t sage/tests/cmdline.py  # 1 doctest failed

> I used to get a similar one (-6 instead of 0) but it passes now although I don't think anything changed.
> > sage -t sage/symbolic/expression.pyx  # 1 doctest failed

> Numerical noise.
> > sage -t sage/parallel/decorate.py  # 1 doctest failed

> Same as you.
> > sage -t sage/functions/other.py  # 1 doctest failed

> Numerical noise.
> > sage -t sage/libs/gap/element.pyx  # 1 doctest failed

> Same error as you.

Unfortunately, repeated rebasing doesn't help that I can't run doctests on XP.  I can run individual doctests and although I get fork errors and rebase messages, they can pass.  But trying to run all of them doesn't work.  I may try the trick at [#14031 comment:9](https://github.com/sagemath/sage/issues/14031#comment:9) and see if that helps there.



---

archive/issue_comments_047485.json:
```json
{
    "body": "<div id=\"comment:243\" align=\"right\">comment:243</div>\n\nPlease see #14406 for prereq",
    "created_at": "2013-04-03T13:04:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47485",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:243" align="right">comment:243</div>

Please see #14406 for prereq



---

archive/issue_comments_047486.json:
```json
{
    "body": "<div id=\"comment:244\" align=\"right\">comment:244</div>\n\n> > Here is the current status for this ticket, then, in my view.\n> > * Patch to remove `SAGE_PORT=yes` requirement for Cygwin.\n\n> Still needed.\n\nThis is #14406, probably will be included soon.\n> > * Related to that, we still get the message about `sqrtl in -lm` outdated math library, which presumably would make things fail if `SAGE_PORT` wasn't set, so we need to somehow fix things so that's not an issue.  What happens on FreeBSD?\n\n> Any updates with what we should do here?  The code for the sqrtl business that David wrote is a little convoluted for me, but perhaps it wouldn't be that hard to change to logl as was suggested above.\n\nAlso #14406.\n> > * As Jeroen points out, make sure that we put something in so that we don't use the (current) Sage 4.6 GCC spkg to build on Cygwin.  This could involve making the 4.7.2 spkg standard (I don't believe there is a ticket for this yet, though there is a sage-devel thread reporting a fair amount of success), or something else.\n\n> This is #14378, and Jeroen even has an spkg.\n\nAnd it's been closed.\n\n---\n\n> > * Figure out whether mpfr-4 needs to be installed or not.  I now have two different brand-new installs of Cygwin that failed with the current package list until I installed it.  It was *not* pulled in with gcc-core and friends.\n\n> Looks like it's needed for now, or is there any action on the Cygwin front?\n\nSo the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?",
    "created_at": "2013-04-03T14:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47486",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:244" align="right">comment:244</div>

> > Here is the current status for this ticket, then, in my view.
> > * Patch to remove `SAGE_PORT=yes` requirement for Cygwin.

> Still needed.

This is #14406, probably will be included soon.
> > * Related to that, we still get the message about `sqrtl in -lm` outdated math library, which presumably would make things fail if `SAGE_PORT` wasn't set, so we need to somehow fix things so that's not an issue.  What happens on FreeBSD?

> Any updates with what we should do here?  The code for the sqrtl business that David wrote is a little convoluted for me, but perhaps it wouldn't be that hard to change to logl as was suggested above.

Also #14406.
> > * As Jeroen points out, make sure that we put something in so that we don't use the (current) Sage 4.6 GCC spkg to build on Cygwin.  This could involve making the 4.7.2 spkg standard (I don't believe there is a ticket for this yet, though there is a sage-devel thread reporting a fair amount of success), or something else.

> This is #14378, and Jeroen even has an spkg.

And it's been closed.

---

> > * Figure out whether mpfr-4 needs to be installed or not.  I now have two different brand-new installs of Cygwin that failed with the current package list until I installed it.  It was *not* pulled in with gcc-core and friends.

> Looks like it's needed for now, or is there any action on the Cygwin front?

So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?



---

archive/issue_comments_047487.json:
```json
{
    "body": "Dependencies: **#14406**",
    "created_at": "2013-04-03T14:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47487",
    "user": "https://github.com/kcrisman"
}
```

Dependencies: **#14406**



---

archive/issue_comments_047488.json:
```json
{
    "body": "<div id=\"comment:245\" align=\"right\">comment:245</div>\n\nReplying to [@kcrisman](#comment%3A244):\n> So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?\n\nI think we should do nothing.\nThe Cygwin folks seems to be working on a complete overhaul of their GCC packages so we can hope that quite quickly the situation will get better and installing \"gcc4-core\" will just work as it used to be and as it should be.\nIt is really a Cygwin packaging issue, not a Sage one, and trusting the Cygwin folk will avoid us the trouble to add a prereq that will soon be obsolete.",
    "created_at": "2013-04-03T14:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47488",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:245" align="right">comment:245</div>

Replying to [@kcrisman](#comment%3A244):
> So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?

I think we should do nothing.
The Cygwin folks seems to be working on a complete overhaul of their GCC packages so we can hope that quite quickly the situation will get better and installing "gcc4-core" will just work as it used to be and as it should be.
It is really a Cygwin packaging issue, not a Sage one, and trusting the Cygwin folk will avoid us the trouble to add a prereq that will soon be obsolete.



---

archive/issue_comments_047489.json:
```json
{
    "body": "<div id=\"comment:246\" align=\"right\">comment:246</div>\n\n> > So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?\n\n> I think we should do nothing.\n> The Cygwin folks seems to be working on a complete overhaul of their GCC packages so we can hope that quite quickly the situation will get better and installing \"gcc4-core\" will just work as it used to be and as it should be.\n> It is really a Cygwin packaging issue, not a Sage one, and trusting the Cygwin folk will avoid us the trouble to add a prereq that will soon be obsolete.\n\nHow soon is soon?  At any rate, I think that somewhere (maybe not even in prereq) there should be a warning.  In principle, we want someone to be able to download a Sage tarball, open it in Cygwin with the required Sage packages for any distro, and then do \"make\".  Maybe with some info about rebasing.\n\nMaybe that means that we need to change the *installation guide* here instead of the prereq!  We would need to provide info about rebasing anyway.  What do you think of that for resolving this ticket?  Then we could put a `..NOTE` to warn about mpfr-4 that could easily be removed.",
    "created_at": "2013-04-03T15:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47489",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:246" align="right">comment:246</div>

> > So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?

> I think we should do nothing.
> The Cygwin folks seems to be working on a complete overhaul of their GCC packages so we can hope that quite quickly the situation will get better and installing "gcc4-core" will just work as it used to be and as it should be.
> It is really a Cygwin packaging issue, not a Sage one, and trusting the Cygwin folk will avoid us the trouble to add a prereq that will soon be obsolete.

How soon is soon?  At any rate, I think that somewhere (maybe not even in prereq) there should be a warning.  In principle, we want someone to be able to download a Sage tarball, open it in Cygwin with the required Sage packages for any distro, and then do "make".  Maybe with some info about rebasing.

Maybe that means that we need to change the *installation guide* here instead of the prereq!  We would need to provide info about rebasing anyway.  What do you think of that for resolving this ticket?  Then we could put a `..NOTE` to warn about mpfr-4 that could easily be removed.



---

archive/issue_comments_047490.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,7 +21,7 @@\n * `make`, `perl`, `m4`, `binutils`\n * either `gcc4-core`  alone and then use the optional gcc-4.7.2 spkg (the standard gcc-4.6.3 spkg won't be able to compile ecl) or `gcc4-core` and `gcc4-g++` and `gcc4-fortran` whose versions **must** match\n   * Currently, we also need to pull `libmpfr4` for obscure reasons upstream that will likely be fixed soon - we hope\n-* `liblapack`, `liblapack0`, `liblapack-devel` - though we should be able to build ATLAS\n+* `lapack`, `liblapack-devel` (this should automatically pull liblapack0, in fact, just installing liblapack-devel should already) - though we should be able to build ATLAS\n \n Other instructions:\n * Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). \n``````\n",
    "created_at": "2013-04-03T15:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47490",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,7 +21,7 @@
 * `make`, `perl`, `m4`, `binutils`
 * either `gcc4-core`  alone and then use the optional gcc-4.7.2 spkg (the standard gcc-4.6.3 spkg won't be able to compile ecl) or `gcc4-core` and `gcc4-g++` and `gcc4-fortran` whose versions **must** match
   * Currently, we also need to pull `libmpfr4` for obscure reasons upstream that will likely be fixed soon - we hope
-* `liblapack`, `liblapack0`, `liblapack-devel` - though we should be able to build ATLAS
+* `lapack`, `liblapack-devel` (this should automatically pull liblapack0, in fact, just installing liblapack-devel should already) - though we should be able to build ATLAS
 
 Other instructions:
 * Just to make sure, avoid building in home directories of Windows domain users, as they are treated in a special way by Windows (and Cygwin). 
``````




---

archive/issue_comments_047491.json:
```json
{
    "body": "<div id=\"comment:248\" align=\"right\">comment:248</div>\n\nReplying to [@kcrisman](#comment%3A246):\n> > > So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?\n\n> > I think we should do nothing.\n> > The Cygwin folks seems to be working on a complete overhaul of their GCC packages so we can hope that quite quickly the situation will get better and installing \"gcc4-core\" will just work as it used to be and as it should be.\n> > It is really a Cygwin packaging issue, not a Sage one, and trusting the Cygwin folk will avoid us the trouble to add a prereq that will soon be obsolete.\n\n> How soon is soon?  At any rate, I think that somewhere (maybe not even in prereq) there should be a warning.  In principle, we want someone to be able to download a Sage tarball, open it in Cygwin with the required Sage packages for any distro, and then do \"make\".  Maybe with some info about rebasing.\n> \n> Maybe that means that we need to change the *installation guide* here instead of the prereq!  We would need to provide info about rebasing anyway.  What do you think of that for resolving this ticket?  Then we could put a `..NOTE` to warn about mpfr-4 that could easily be removed.\n\nI'd say wait, from http://cygwin.com/ml/cygwin/2013-03/msg00116.html:\n\n```\nForget the current gcc packages, they're history.  We're about to\nupgrade to 4.7 and we anyways need another rebuild before it goes\nstable.  If we ship all the updated prereqs now, each built against the\nnewest gmp, then 4.7.2-2 can be built against them and we won't have\nthis problem from here on out.\n```\nYou could argue that you only trust what you see.",
    "created_at": "2013-04-03T16:37:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47491",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:248" align="right">comment:248</div>

Replying to [@kcrisman](#comment%3A246):
> > > So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?

> > I think we should do nothing.
> > The Cygwin folks seems to be working on a complete overhaul of their GCC packages so we can hope that quite quickly the situation will get better and installing "gcc4-core" will just work as it used to be and as it should be.
> > It is really a Cygwin packaging issue, not a Sage one, and trusting the Cygwin folk will avoid us the trouble to add a prereq that will soon be obsolete.

> How soon is soon?  At any rate, I think that somewhere (maybe not even in prereq) there should be a warning.  In principle, we want someone to be able to download a Sage tarball, open it in Cygwin with the required Sage packages for any distro, and then do "make".  Maybe with some info about rebasing.
> 
> Maybe that means that we need to change the *installation guide* here instead of the prereq!  We would need to provide info about rebasing anyway.  What do you think of that for resolving this ticket?  Then we could put a `..NOTE` to warn about mpfr-4 that could easily be removed.

I'd say wait, from http://cygwin.com/ml/cygwin/2013-03/msg00116.html:

```
Forget the current gcc packages, they're history.  We're about to
upgrade to 4.7 and we anyways need another rebuild before it goes
stable.  If we ship all the updated prereqs now, each built against the
newest gmp, then 4.7.2-2 can be built against them and we won't have
this problem from here on out.
```
You could argue that you only trust what you see.



---

archive/issue_comments_047492.json:
```json
{
    "body": "<div id=\"comment:249\" align=\"right\">comment:249</div>\n\nAnd I was quite surprised to discover the Cygwin crew seems to be actively working on 64 bits Cygwin:\nhttp://cygwin.com/ml/cygwin-developers/2013-03/msg00008.html",
    "created_at": "2013-04-03T16:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47492",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:249" align="right">comment:249</div>

And I was quite surprised to discover the Cygwin crew seems to be actively working on 64 bits Cygwin:
http://cygwin.com/ml/cygwin-developers/2013-03/msg00008.html



---

archive/issue_comments_047493.json:
```json
{
    "body": "<div id=\"comment:250\" align=\"right\">comment:250</div>\n\nSlight update:\nNote that actually we do still need the lapack thing since #10508 isn't in, see #14406 for details on this where JP mentions it.  So that's two issues.\n> > > > So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?\n\n> > > I think we should do nothing.\n\n> I'd say wait, from http://cygwin.com/ml/cygwin/2013-03/msg00116.html:\n> You could argue that you only trust what you see.\n\nWell, in any case I think that we should put something in the installation guide, since it even mentions AIX but not Cygwin.  I did just update [http://wiki.sagemath.org/SupportedPlatforms](http://wiki.sagemath.org/SupportedPlatforms).",
    "created_at": "2013-04-03T16:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47493",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:250" align="right">comment:250</div>

Slight update:
Note that actually we do still need the lapack thing since #10508 isn't in, see #14406 for details on this where JP mentions it.  So that's two issues.
> > > > So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?

> > > I think we should do nothing.

> I'd say wait, from http://cygwin.com/ml/cygwin/2013-03/msg00116.html:
> You could argue that you only trust what you see.

Well, in any case I think that we should put something in the installation guide, since it even mentions AIX but not Cygwin.  I did just update [http://wiki.sagemath.org/SupportedPlatforms](http://wiki.sagemath.org/SupportedPlatforms).



---

archive/issue_comments_047494.json:
```json
{
    "body": "<div id=\"comment:251\" align=\"right\">comment:251</div>\n\nReplying to [@kcrisman](#comment%3A250):\n> Slight update:\n> Note that actually we do still need the lapack thing since #10508 isn't in, see #14406 for details on this where JP mentions it.  So that's two issues.\n\nPlease note that the spkg currently provided at #10508 will not build ATLAS on Cygwin by default.\nAnd even if you set SAGE_ATLAS_ARCH as suggested to force the build, it will not work because the magic (or rather circumventing libtool stupidity) needed to build the shared libraries on Cygwin is not included yet and we don't install static libraries.\nI don't plan on including any of these changes in #10508 although I think we should include both these changes.\nThat will be for follow up tickets, #10508 has been bitrotting for too long.\n> > > > > So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?\n\n> > > > I think we should do nothing.\n\n> > I'd say wait, from http://cygwin.com/ml/cygwin/2013-03/msg00116.html:\n> > You could argue that you only trust what you see.\n\n> Well, in any case I think that we should put something in the installation guide, since it even mentions AIX but not Cygwin.  I did just update [http://wiki.sagemath.org/SupportedPlatforms](http://wiki.sagemath.org/SupportedPlatforms).\n\nYes and take care of peflags and rebasing scripts and that will be most of it.\nAnd a patchbot would be great, or even three of them at least (XP 32, 7 64 and 8 64 I'd say), preferably not virtual machines, but let's not dream too much.",
    "created_at": "2013-04-03T17:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47494",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:251" align="right">comment:251</div>

Replying to [@kcrisman](#comment%3A250):
> Slight update:
> Note that actually we do still need the lapack thing since #10508 isn't in, see #14406 for details on this where JP mentions it.  So that's two issues.

Please note that the spkg currently provided at #10508 will not build ATLAS on Cygwin by default.
And even if you set SAGE_ATLAS_ARCH as suggested to force the build, it will not work because the magic (or rather circumventing libtool stupidity) needed to build the shared libraries on Cygwin is not included yet and we don't install static libraries.
I don't plan on including any of these changes in #10508 although I think we should include both these changes.
That will be for follow up tickets, #10508 has been bitrotting for too long.
> > > > > So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?

> > > > I think we should do nothing.

> > I'd say wait, from http://cygwin.com/ml/cygwin/2013-03/msg00116.html:
> > You could argue that you only trust what you see.

> Well, in any case I think that we should put something in the installation guide, since it even mentions AIX but not Cygwin.  I did just update [http://wiki.sagemath.org/SupportedPlatforms](http://wiki.sagemath.org/SupportedPlatforms).

Yes and take care of peflags and rebasing scripts and that will be most of it.
And a patchbot would be great, or even three of them at least (XP 32, 7 64 and 8 64 I'd say), preferably not virtual machines, but let's not dream too much.



---

archive/issue_comments_047495.json:
```json
{
    "body": "<div id=\"comment:252\" align=\"right\">comment:252</div>\n\n> > Note that actually we do still need the lapack thing since #10508 isn't in, see #14406 for details on this where JP mentions it.  So that's two issues.\n\n> Please note that the spkg currently provided at #10508 will not build ATLAS on Cygwin by default.\n\nYes, I realize all this; I was just saying that at least there was a useful error message in some patch/spkg somewhere on that ticket.\n> > > > > > So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?\n\n> > > > > I think we should do nothing.\n\n> > Well, in any case I think that we should put something in the installation guide, since it even mentions AIX but not Cygwin.  I did just update [http://wiki.sagemath.org/SupportedPlatforms](http://wiki.sagemath.org/SupportedPlatforms).\n\n> Yes and take care of peflags and rebasing scripts and that will be most of it.\n\nYes, though those aren't necessary to close this ticket.\n> And a patchbot would be great, or even three of them at least (XP 32, 7 64 and 8 64 I'd say), preferably not virtual machines, but let's not dream too much.\n\nUmm, no!  Especially since I can't get testing to even work on XP 32 - presumably because every time I rebase, I get a different problem related to having not enough space.  I wonder if deleting all the dlls in devel/sage/sage/ would work, since the ones in devel/sage/build/ are the ones that are actually (currently) used?",
    "created_at": "2013-04-03T17:15:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47495",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:252" align="right">comment:252</div>

> > Note that actually we do still need the lapack thing since #10508 isn't in, see #14406 for details on this where JP mentions it.  So that's two issues.

> Please note that the spkg currently provided at #10508 will not build ATLAS on Cygwin by default.

Yes, I realize all this; I was just saying that at least there was a useful error message in some patch/spkg somewhere on that ticket.
> > > > > > So the sole remaining issue *for this ticket* is the check for mpfr-4.  What should we do about this?

> > > > > I think we should do nothing.

> > Well, in any case I think that we should put something in the installation guide, since it even mentions AIX but not Cygwin.  I did just update [http://wiki.sagemath.org/SupportedPlatforms](http://wiki.sagemath.org/SupportedPlatforms).

> Yes and take care of peflags and rebasing scripts and that will be most of it.

Yes, though those aren't necessary to close this ticket.
> And a patchbot would be great, or even three of them at least (XP 32, 7 64 and 8 64 I'd say), preferably not virtual machines, but let's not dream too much.

Umm, no!  Especially since I can't get testing to even work on XP 32 - presumably because every time I rebase, I get a different problem related to having not enough space.  I wonder if deleting all the dlls in devel/sage/sage/ would work, since the ones in devel/sage/build/ are the ones that are actually (currently) used?



---

archive/issue_comments_047496.json:
```json
{
    "body": "<div id=\"comment:253\" align=\"right\">comment:253</div>\n\nReplying to [@kcrisman](#comment%3A250):\n> I did just update [http://wiki.sagemath.org/SupportedPlatforms](http://wiki.sagemath.org/SupportedPlatforms).\n\nRemember that this is meant for **released versions**, not betas.",
    "created_at": "2013-04-03T17:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47496",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:253" align="right">comment:253</div>

Replying to [@kcrisman](#comment%3A250):
> I did just update [http://wiki.sagemath.org/SupportedPlatforms](http://wiki.sagemath.org/SupportedPlatforms).

Remember that this is meant for **released versions**, not betas.



---

archive/issue_comments_047497.json:
```json
{
    "body": "<div id=\"comment:254\" align=\"right\">comment:254</div>\n\nNo, I didn't realize this.  However, I think Sage 5.8 builds and passes most doctests, so I don't think this was really that wrong.  That said, you can revert it if you need to.",
    "created_at": "2013-04-03T17:58:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47497",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:254" align="right">comment:254</div>

No, I didn't realize this.  However, I think Sage 5.8 builds and passes most doctests, so I don't think this was really that wrong.  That said, you can revert it if you need to.



---

archive/issue_comments_047498.json:
```json
{
    "body": "<div id=\"comment:255\" align=\"right\">comment:255</div>\n\nReplying to [@jdemeyer](#comment%3A253):\n> Replying to [@kcrisman](#comment%3A250):\n> > I did just update [http://wiki.sagemath.org/SupportedPlatforms](http://wiki.sagemath.org/SupportedPlatforms).\n\n> Remember that this is meant for **released versions**, not betas.\n\n\n  *Dear Sage lovers,*\n  \n  *We're **releasing** Sage 5.9.**beta2**.*\n\n;-)",
    "created_at": "2013-04-03T18:03:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47498",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:255" align="right">comment:255</div>

Replying to [@jdemeyer](#comment%3A253):
> Replying to [@kcrisman](#comment%3A250):
> > I did just update [http://wiki.sagemath.org/SupportedPlatforms](http://wiki.sagemath.org/SupportedPlatforms).

> Remember that this is meant for **released versions**, not betas.


  *Dear Sage lovers,*
  
  *We're **releasing** Sage 5.9.**beta2**.*

;-)



---

archive/issue_comments_047499.json:
```json
{
    "body": "<div id=\"comment:256\" align=\"right\">comment:256</div>\n\nReplying to [@jpflori](#comment%3A249):\n> [...] the Cygwin crew seems to be actively working on 64 bits Cygwin:\n> http://cygwin.com/ml/cygwin-developers/2013-03/msg00008.html\n\nSo Cygwin will keep you busy for the next few years... B)",
    "created_at": "2013-04-03T18:10:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47499",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:256" align="right">comment:256</div>

Replying to [@jpflori](#comment%3A249):
> [...] the Cygwin crew seems to be actively working on 64 bits Cygwin:
> http://cygwin.com/ml/cygwin-developers/2013-03/msg00008.html

So Cygwin will keep you busy for the next few years... B)



---

archive/issue_comments_047500.json:
```json
{
    "body": "<div id=\"comment:257\" align=\"right\">comment:257</div>\n\nI've opened #14410 for the ATLAS on Cygwin stuff.",
    "created_at": "2013-04-04T07:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47500",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:257" align="right">comment:257</div>

I've opened #14410 for the ATLAS on Cygwin stuff.



---

archive/issue_comments_047501.json:
```json
{
    "body": "<div id=\"comment:258\" align=\"right\">comment:258</div>\n\nReplying to [@kcrisman](#comment%3A254):\n> No, I didn't realize this.  However, I think Sage 5.8 builds and passes most doctests, so I don't think this was really that wrong.  That said, you can revert it if you need to.\n\nGiven that it doesn't even pass prereq on Sage 5.8, I did indeed move that part to \"Probably will not work\" to avoid confusion.",
    "created_at": "2013-04-04T08:06:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47501",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:258" align="right">comment:258</div>

Replying to [@kcrisman](#comment%3A254):
> No, I didn't realize this.  However, I think Sage 5.8 builds and passes most doctests, so I don't think this was really that wrong.  That said, you can revert it if you need to.

Given that it doesn't even pass prereq on Sage 5.8, I did indeed move that part to "Probably will not work" to avoid confusion.



---

archive/issue_comments_047502.json:
```json
{
    "body": "<div id=\"comment:259\" align=\"right\">comment:259</div>\n\n> > No, I didn't realize this.  However, I think Sage 5.8 builds and passes most doctests, so I don't think this was really that wrong.  That said, you can revert it if you need to.\n\n> Given that it doesn't even pass prereq on Sage 5.8, I did indeed move that part to \"Probably will not work\" to avoid confusion.\n\nGood point.  I moved it back but with the caveat about `SAGE_PORT`.  Since several of the other things on the \"almost works\" list need special packages etc., I think that this is ok.",
    "created_at": "2013-04-04T13:29:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47502",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:259" align="right">comment:259</div>

> > No, I didn't realize this.  However, I think Sage 5.8 builds and passes most doctests, so I don't think this was really that wrong.  That said, you can revert it if you need to.

> Given that it doesn't even pass prereq on Sage 5.8, I did indeed move that part to "Probably will not work" to avoid confusion.

Good point.  I moved it back but with the caveat about `SAGE_PORT`.  Since several of the other things on the "almost works" list need special packages etc., I think that this is ok.



---

archive/issue_comments_047503.json:
```json
{
    "body": "<div id=\"comment:260\" align=\"right\">comment:260</div>\n\nApply trac_6743-doc.patch for a first attempt at a doc patch.  This would satisfy my concern about libmpfr4 for now (in the meantime, the gcc4 package [apparently has been \"orphaned\"](http://cygwin.com/ml/cygwin/2013-03/msg00172.html)).\n\nIs the only other issue here #14031?  I sort of assumed that was the case in my patch, but of course that is just a draft and references to those things could be removed.",
    "created_at": "2013-04-10T02:41:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47503",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:260" align="right">comment:260</div>

Apply trac_6743-doc.patch for a first attempt at a doc patch.  This would satisfy my concern about libmpfr4 for now (in the meantime, the gcc4 package [apparently has been "orphaned"](http://cygwin.com/ml/cygwin/2013-03/msg00172.html)).

Is the only other issue here #14031?  I sort of assumed that was the case in my patch, but of course that is just a draft and references to those things could be removed.



---

archive/issue_comments_047504.json:
```json
{
    "body": "Changed dependencies from **#14406** to **#14301**",
    "created_at": "2013-04-10T02:41:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47504",
    "user": "https://github.com/kcrisman"
}
```

Changed dependencies from **#14406** to **#14301**



---

archive/issue_comments_047505.json:
```json
{
    "body": "<div id=\"comment:261\" align=\"right\">comment:261</div>\n\nReplying to [@kcrisman](#comment%3A260):\n> Apply trac_6743-doc.patch for a first attempt at a doc patch.  This would satisfy my concern about libmpfr4 for now (in the meantime, the gcc4 package [apparently has been \"orphaned\"](http://cygwin.com/ml/cygwin/2013-03/msg00172.html)).\n> \n\nThis is no longer necessary as the cygwin folks finally fixed the gcc 4.5.3 dependencies. See:\n* http://cygwin.com/ml/cygwin/2013-04/msg00174.html\n* http://cygwin.com/ml/cygwin/2013-04/msg00170.html\nand a fresh install of mine has pulled it automatically.\n> Is the only other issue here #14031?  I sort of assumed that was the case in my patch, but of course that is just a draft and references to those things could be removed.",
    "created_at": "2013-04-11T20:31:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47505",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:261" align="right">comment:261</div>

Replying to [@kcrisman](#comment%3A260):
> Apply trac_6743-doc.patch for a first attempt at a doc patch.  This would satisfy my concern about libmpfr4 for now (in the meantime, the gcc4 package [apparently has been "orphaned"](http://cygwin.com/ml/cygwin/2013-03/msg00172.html)).
> 

This is no longer necessary as the cygwin folks finally fixed the gcc 4.5.3 dependencies. See:
* http://cygwin.com/ml/cygwin/2013-04/msg00174.html
* http://cygwin.com/ml/cygwin/2013-04/msg00170.html
and a fresh install of mine has pulled it automatically.
> Is the only other issue here #14031?  I sort of assumed that was the case in my patch, but of course that is just a draft and references to those things could be removed.



---

archive/issue_comments_047506.json:
```json
{
    "body": "<div id=\"comment:262\" align=\"right\">comment:262</div>\n\nSo annoying!  I totally waited for a while to do this in the hopes it would happen, and it happens just after I write this.\n\nThat said, I still think most of this is worthwhile.  What do you think of this updated patch?",
    "created_at": "2013-04-12T01:24:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47506",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:262" align="right">comment:262</div>

So annoying!  I totally waited for a while to do this in the hopes it would happen, and it happens just after I write this.

That said, I still think most of this is worthwhile.  What do you think of this updated patch?



---

archive/issue_comments_047507.json:
```json
{
    "body": "Attachment: **[trac_6743-doc.patch.gz](https://github.com/sagemath/sage/files/ticket6743/trac_6743-doc.patch.gz)**",
    "created_at": "2013-04-12T01:24:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47507",
    "user": "https://github.com/kcrisman"
}
```

Attachment: **[trac_6743-doc.patch.gz](https://github.com/sagemath/sage/files/ticket6743/trac_6743-doc.patch.gz)**



---

archive/issue_comments_047508.json:
```json
{
    "body": "<div id=\"comment:263\" align=\"right\">comment:263</div>\n\nRemove the comment about `SAGE_TESTDIR`, that variable isn't used anymore.",
    "created_at": "2013-04-12T07:16:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47508",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:263" align="right">comment:263</div>

Remove the comment about `SAGE_TESTDIR`, that variable isn't used anymore.



---

archive/issue_comments_047509.json:
```json
{
    "body": "<div id=\"comment:264\" align=\"right\">comment:264</div>\n\nAlso mention *how* one is supposed to run the `sage-rebase_sage.bat` or `sage-rebase_sage.sh` scripts. Something like: open a Sage shell and then type \"sage-rebase_sage.sh\" or equivalently\n\n```\n./sage --sh sage-rebase_sage.sh\n```",
    "created_at": "2013-04-12T07:18:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47509",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:264" align="right">comment:264</div>

Also mention *how* one is supposed to run the `sage-rebase_sage.bat` or `sage-rebase_sage.sh` scripts. Something like: open a Sage shell and then type "sage-rebase_sage.sh" or equivalently

```
./sage --sh sage-rebase_sage.sh
```



---

archive/issue_comments_047510.json:
```json
{
    "body": "<div id=\"comment:265\" align=\"right\">comment:265</div>\n\nReplying to [@kcrisman](#comment%3A252):\n> Umm, no!  Especially since I can't get testing to even work on XP 32 - presumably because every time I rebase, I get a different problem related to having not enough space.  I wonder if deleting all the dlls in devel/sage/sage/ would work, since the ones in devel/sage/build/ are the ones that are actually (currently) used?\n\nFYI I succesfully built Sage on a 32 bits Windows XP (within a virtual machine).\nJust had to rebase once to build the doc, and tests can be run fine!",
    "created_at": "2013-04-12T11:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47510",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:265" align="right">comment:265</div>

Replying to [@kcrisman](#comment%3A252):
> Umm, no!  Especially since I can't get testing to even work on XP 32 - presumably because every time I rebase, I get a different problem related to having not enough space.  I wonder if deleting all the dlls in devel/sage/sage/ would work, since the ones in devel/sage/build/ are the ones that are actually (currently) used?

FYI I succesfully built Sage on a 32 bits Windows XP (within a virtual machine).
Just had to rebase once to build the doc, and tests can be run fine!



---

archive/issue_comments_047511.json:
```json
{
    "body": "<div id=\"comment:266\" align=\"right\">comment:266</div>\n\n> Remove the comment about SAGE_TESTDIR, that variable isn't used anymore.\n\nReally?  What is the new way to change the test directory?  (This is still necessary at times to avoid spaces, as far as I know.)\n> Also mention how one is supposed to run the sage-rebase_sage.bat or sage-rebase_sage.sh scripts. \n\nI sort of purposely didn't, because I don't know how the bat one works.  Maybe this ticket should depend on #14031?\n> FYI I succesfully built Sage on a 32 bits Windows XP (within a virtual machine). Just had to rebase once to build the doc, and tests can be run fine!\n\nAwesome!  I guess my hardware even without a VM is just not powerful enough to avoid the eternal rebase.  It's really weird.  It *is* an older machine.",
    "created_at": "2013-04-12T12:43:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47511",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:266" align="right">comment:266</div>

> Remove the comment about SAGE_TESTDIR, that variable isn't used anymore.

Really?  What is the new way to change the test directory?  (This is still necessary at times to avoid spaces, as far as I know.)
> Also mention how one is supposed to run the sage-rebase_sage.bat or sage-rebase_sage.sh scripts. 

I sort of purposely didn't, because I don't know how the bat one works.  Maybe this ticket should depend on #14031?
> FYI I succesfully built Sage on a 32 bits Windows XP (within a virtual machine). Just had to rebase once to build the doc, and tests can be run fine!

Awesome!  I guess my hardware even without a VM is just not powerful enough to avoid the eternal rebase.  It's really weird.  It *is* an older machine.



---

archive/issue_comments_047512.json:
```json
{
    "body": "<div id=\"comment:267\" align=\"right\">comment:267</div>\n\nReplying to [@kcrisman](#comment%3A266):\n> > Remove the comment about SAGE_TESTDIR, that variable isn't used anymore.\n\n> Really?  What is the new way to change the test directory?\n\nThe whole concept of a \"test directory\" is gone.",
    "created_at": "2013-04-12T14:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47512",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:267" align="right">comment:267</div>

Replying to [@kcrisman](#comment%3A266):
> > Remove the comment about SAGE_TESTDIR, that variable isn't used anymore.

> Really?  What is the new way to change the test directory?

The whole concept of a "test directory" is gone.



---

archive/issue_comments_047513.json:
```json
{
    "body": "Changed dependencies from **#14301** to **#14031**",
    "created_at": "2013-04-12T14:54:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47513",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#14301** to **#14031**



---

archive/issue_comments_047514.json:
```json
{
    "body": "<div id=\"comment:269\" align=\"right\">comment:269</div>\n\nHas anybody ever tried to make a binary Cygwin distribution with the usual command\n\n```\n./sage --bdist 5.9.beta5\n```",
    "created_at": "2013-04-12T14:56:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47514",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:269" align="right">comment:269</div>

Has anybody ever tried to make a binary Cygwin distribution with the usual command

```
./sage --bdist 5.9.beta5
```



---

archive/issue_comments_047515.json:
```json
{
    "body": "<div id=\"comment:270\" align=\"right\">comment:270</div>\n\n> The whole concept of a \"test directory\" is gone.\n\nI didn't realize that was part of the change in the doctest framework - I only paid tangential attention to that :(\n> Has anybody ever tried to make a binary Cygwin distribution with the usual command\n\nNot yet!  (Or, at least not for quite a while - maybe William knows.)  That would be for another ticket :)",
    "created_at": "2013-04-12T15:01:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47515",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:270" align="right">comment:270</div>

> The whole concept of a "test directory" is gone.

I didn't realize that was part of the change in the doctest framework - I only paid tangential attention to that :(
> Has anybody ever tried to make a binary Cygwin distribution with the usual command

Not yet!  (Or, at least not for quite a while - maybe William knows.)  That would be for another ticket :)



---

archive/issue_comments_047516.json:
```json
{
    "body": "<div id=\"comment:271\" align=\"right\">comment:271</div>\n\nReplying to [@jdemeyer](#comment%3A269):\n> Has anybody ever tried to make a binary Cygwin distribution with the usual command\n> \n> ```\n> ./sage --bdist 5.9.beta5\n> ```\n\nI tried and it seems to have worked fine.\nI've not tried to unpack the archive into another Cygwin install yet though.",
    "created_at": "2013-04-16T09:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47516",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:271" align="right">comment:271</div>

Replying to [@jdemeyer](#comment%3A269):
> Has anybody ever tried to make a binary Cygwin distribution with the usual command
> 
> ```
> ./sage --bdist 5.9.beta5
> ```

I tried and it seems to have worked fine.
I've not tried to unpack the archive into another Cygwin install yet though.



---

archive/issue_comments_047517.json:
```json
{
    "body": "<div id=\"comment:272\" align=\"right\">comment:272</div>\n\n[SCNR.](http://www.fsf.org/blogs/community/friends-dont-let-friends-use-windows-8)\n\nShould we ship the info graphic with Sage (and display it on Cygwin)? XD",
    "created_at": "2013-04-16T17:26:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47517",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:272" align="right">comment:272</div>

[SCNR.](http://www.fsf.org/blogs/community/friends-dont-let-friends-use-windows-8)

Should we ship the info graphic with Sage (and display it on Cygwin)? XD



---

archive/issue_comments_047518.json:
```json
{
    "body": "<div id=\"comment:273\" align=\"right\">comment:273</div>\n\nReplying to [@jdemeyer](#comment%3A263):\n> Remove the comment about `SAGE_TESTDIR`, that variable isn't used anymore.\n\nI've begun working on Karl-Dieter patch and came to the conclusion I'd better clean up much more of source.rst which is quite messy.\nSo I propose to move that to another ticket and make it a dependency here.",
    "created_at": "2013-04-16T20:19:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47518",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:273" align="right">comment:273</div>

Replying to [@jdemeyer](#comment%3A263):
> Remove the comment about `SAGE_TESTDIR`, that variable isn't used anymore.

I've begun working on Karl-Dieter patch and came to the conclusion I'd better clean up much more of source.rst which is quite messy.
So I propose to move that to another ticket and make it a dependency here.



---

archive/issue_comments_047519.json:
```json
{
    "body": "<div id=\"comment:274\" align=\"right\">comment:274</div>\n\nReplying to [@jpflori](#comment%3A271):\n> Replying to [@jdemeyer](#comment%3A269):\n> > Has anybody ever tried to make a binary Cygwin distribution with the usual command\n> > \n> > ```\n> > ./sage --bdist 5.9.beta5\n> > ```\n\n> I tried and it seems to have worked fine.\n> I've not tried to unpack the archive into another Cygwin install yet though.\n\nThe archive was produced on 32 bits Windows XP within a virtual machine. \nI've untarred it in another 64 bits Windows 7 still within a virtual machine.\nThe Cygwin setup is basically the same, which surely explains I had no rebase troubles.\nAnd Sage seems to work fine (I've not run \"make ptestlong\" though).\nI can post the build somewhere if someone is interested but it was built on a recent enough Core i7 so won't be that portable.",
    "created_at": "2013-04-16T21:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47519",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:274" align="right">comment:274</div>

Replying to [@jpflori](#comment%3A271):
> Replying to [@jdemeyer](#comment%3A269):
> > Has anybody ever tried to make a binary Cygwin distribution with the usual command
> > 
> > ```
> > ./sage --bdist 5.9.beta5
> > ```

> I tried and it seems to have worked fine.
> I've not tried to unpack the archive into another Cygwin install yet though.

The archive was produced on 32 bits Windows XP within a virtual machine. 
I've untarred it in another 64 bits Windows 7 still within a virtual machine.
The Cygwin setup is basically the same, which surely explains I had no rebase troubles.
And Sage seems to work fine (I've not run "make ptestlong" though).
I can post the build somewhere if someone is interested but it was built on a recent enough Core i7 so won't be that portable.



---

archive/issue_comments_047520.json:
```json
{
    "body": "<div id=\"comment:275\" align=\"right\">comment:275</div>\n\nThat's super-cool. Any chance for a Cygwin buildbot?",
    "created_at": "2013-04-16T21:39:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47520",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:275" align="right">comment:275</div>

That's super-cool. Any chance for a Cygwin buildbot?



---

archive/issue_comments_047521.json:
```json
{
    "body": "<div id=\"comment:276\" align=\"right\">comment:276</div>\n\nReplying to [@jpflori](#comment%3A274):\n\n> I can post the build somewhere if someone is interested but it was built on a recent enough Core i7 so won't be that portable.\n\nIf you build Sage with `SAGE_FAT_BINARY=yes`, it *should* work on other processors too (which doesn't mean that it actually *will*, there are surely bugs with `SAGE_FAT_BINARY`).",
    "created_at": "2013-04-16T21:41:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47521",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:276" align="right">comment:276</div>

Replying to [@jpflori](#comment%3A274):

> I can post the build somewhere if someone is interested but it was built on a recent enough Core i7 so won't be that portable.

If you build Sage with `SAGE_FAT_BINARY=yes`, it *should* work on other processors too (which doesn't mean that it actually *will*, there are surely bugs with `SAGE_FAT_BINARY`).



---

archive/issue_comments_047522.json:
```json
{
    "body": "<div id=\"comment:277\" align=\"right\">comment:277</div>\n\nReplying to [@jdemeyer](#comment%3A275):\n> That's super-cool. Any chance for a Cygwin buildbot?\n\nin some cases one has to rebase the whole Cygwin installation, and this can't be done from within Cygwin. So this requires more hacks, \nand it is not so clear if this will work well enough.\n\nAs a first step towards this one would need to automate rebasing at the time Sage is built. This is already not 100% trivial, as fork errors can manifest themselves in different ways.",
    "created_at": "2013-04-17T08:37:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47522",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:277" align="right">comment:277</div>

Replying to [@jdemeyer](#comment%3A275):
> That's super-cool. Any chance for a Cygwin buildbot?

in some cases one has to rebase the whole Cygwin installation, and this can't be done from within Cygwin. So this requires more hacks, 
and it is not so clear if this will work well enough.

As a first step towards this one would need to automate rebasing at the time Sage is built. This is already not 100% trivial, as fork errors can manifest themselves in different ways.



---

archive/issue_comments_047523.json:
```json
{
    "body": "Changed dependencies from **#14031** to **#14031, #14465**",
    "created_at": "2013-04-17T21:51:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47523",
    "user": "https://github.com/jpflori"
}
```

Changed dependencies from **#14031** to **#14031, #14465**



---

archive/issue_comments_047524.json:
```json
{
    "body": "<div id=\"comment:278\" align=\"right\">comment:278</div>\n\nI've put the updated source.rst patch a #14465.",
    "created_at": "2013-04-17T21:51:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47524",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:278" align="right">comment:278</div>

I've put the updated source.rst patch a #14465.



---

archive/issue_comments_047525.json:
```json
{
    "body": "<div id=\"comment:279\" align=\"right\">comment:279</div>\n\nShould this ticket be closed or do we want to do that only when there is a Cygwin buildbot?",
    "created_at": "2013-05-13T20:39:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47525",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:279" align="right">comment:279</div>

Should this ticket be closed or do we want to do that only when there is a Cygwin buildbot?



---

archive/issue_comments_047526.json:
```json
{
    "body": "<div id=\"comment:280\" align=\"right\">comment:280</div>\n\nI'd say we can close it.\nOf course, it does not really builds completely automatically because you have to rebase sometimes (i had to do that once for 5.8 and 3 times for 5.9) but at least thats documented and we cannot really solve this prolblem in an easy way without hacking the build system.",
    "created_at": "2013-05-13T21:24:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47526",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:280" align="right">comment:280</div>

I'd say we can close it.
Of course, it does not really builds completely automatically because you have to rebase sometimes (i had to do that once for 5.8 and 3 times for 5.9) but at least thats documented and we cannot really solve this prolblem in an easy way without hacking the build system.



---

archive/issue_events_081150.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-22T12:30:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81150"
}
```



---

archive/issue_events_081151.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-22T12:30:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6743#event-81151"
}
```



---

archive/issue_comments_047527.json:
```json
{
    "body": "Changed reviewer from **Jean-Pierre Flori, Dmitrii Pasechnik, Karl-Dieter Crisman, Mike Hansen, William Stein, Luis Tabera** to **Jean-Pierre Flori, Dmitrii Pasechnik, Karl-Dieter Crisman, Mike Hansen, William Stein, Luis Felipe Tabera Alonso**",
    "created_at": "2013-06-06T12:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6743",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6743#issuecomment-47527",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Jean-Pierre Flori, Dmitrii Pasechnik, Karl-Dieter Crisman, Mike Hansen, William Stein, Luis Tabera** to **Jean-Pierre Flori, Dmitrii Pasechnik, Karl-Dieter Crisman, Mike Hansen, William Stein, Luis Felipe Tabera Alonso**
