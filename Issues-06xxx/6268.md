# Issue 6268: [with patch, positive review] Typesetting of sec(x), csc(x), cot(x) are broken

archive/issues_006268.json:
```json
{
    "body": "Typesettings of sec(x), csc(x), cot(x) are broken. It puts an\nextra \"\\mbox\" around them. However, typesetting for sin(x), \ncos(x), tan(x) works as expected.\n\nAssignee: @burcin\n\nCC:  @ncalexan\n\nResolution: fixed\n\nAuthor: John Palmieri\n\nReviewer: Nick Alexander\n\nMerged: 4.0.2.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/6268\n\n",
    "closed_at": "2009-06-14T22:21:33Z",
    "created_at": "2009-06-12T15:25:27Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.0.2",
    "title": "[with patch, positive review] Typesetting of sec(x), csc(x), cot(x) are broken",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/6268",
    "user": "https://github.com/golam-m-hossain"
}
```
Typesettings of sec(x), csc(x), cot(x) are broken. It puts an
extra "\mbox" around them. However, typesetting for sin(x), 
cos(x), tan(x) works as expected.

Assignee: @burcin

CC:  @ncalexan

Resolution: fixed

Author: John Palmieri

Reviewer: Nick Alexander

Merged: 4.0.2.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/6268





---

archive/issue_comments_054588.json:
```json
{
    "body": "<a id='comment:1'></a>\n\n```\n[mvngu@sage sage-4.0.1]$ sage\n----------------------------------------------------------------------\n----------------------------------------------------------------------\nsage: # the following work as expected\nsage: latex(sec)\n\\sec\nsage: latex(csc)\n\\csc\nsage: latex(cot)\n\\cot\nsage: # but the following have extra \"\\mbox\" around the trig function name\nsage: latex(sec(x))\n\\mbox{\\sec}\\left(x\\right)\nsage: latex(csc(x))\n\\mbox{\\csc}\\left(x\\right)\nsage: latex(cot(x))\n\\mbox{\\cot}\\left(x\\right)\n```\n| Sage Version 4.0.1, Release Date: 2009-06-06                       |\n| Type notebook() for the GUI, and license() for information.        |",
    "created_at": "2009-06-12T19:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54588",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:1'></a>

```
[mvngu@sage sage-4.0.1]$ sage
----------------------------------------------------------------------
----------------------------------------------------------------------
sage: # the following work as expected
sage: latex(sec)
\sec
sage: latex(csc)
\csc
sage: latex(cot)
\cot
sage: # but the following have extra "\mbox" around the trig function name
sage: latex(sec(x))
\mbox{\sec}\left(x\right)
sage: latex(csc(x))
\mbox{\csc}\left(x\right)
sage: latex(cot(x))
\mbox{\cot}\left(x\right)
```
| Sage Version 4.0.1, Release Date: 2009-06-06                       |
| Type notebook() for the GUI, and license() for information.        |



---

archive/issue_events_025092.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2009-06-12T20:32:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "milestone": "sage-4.0.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6268#event-25092"
}
```



---

archive/issue_events_025093.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "rename": {
        "from": "Typesetting of sec(x), csc(x), cot(x) are broken",
        "to": "[with patch, not ready for review] Typesetting of sec(x), csc(x), cot(x) are broken"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6268#event-25093"
}
```



---

archive/issue_comments_054589.json:
```json
{
    "body": "<a id='comment:2'></a>\nIs this a bug in ginac/pynac?  Look at this:\n\n```\nsage: SR\nSymbolic Ring\nsage: SR._latex_element_(sin(x))\n'\\\\sin\\\\left(x\\\\right)'\nsage: SR._latex_element_(sec(x))\n'\\\\mbox{\\\\sec}\\\\left(x\\\\right)'\n```\nThe method `_latex_element_` is a one-liner:\n\n```\n        return GEx_to_str_latex(&x._gobj)\n```\nand I think GEx_to_str_latex is a ginac/pynac thing.  At least, I found it in sage/libs/ginac/decl.pxi.\n\nIt's possible to work around it, I think, with a patch like the attached, but I'm not at all convinced that this is the right way to fix it.  If you think it's okay, feel free to review it, but since I'm not sure, I've labeled it as \"not read for review\".",
    "created_at": "2009-06-12T20:32:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54589",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
Is this a bug in ginac/pynac?  Look at this:

```
sage: SR
Symbolic Ring
sage: SR._latex_element_(sin(x))
'\\sin\\left(x\\right)'
sage: SR._latex_element_(sec(x))
'\\mbox{\\sec}\\left(x\\right)'
```
The method `_latex_element_` is a one-liner:

```
        return GEx_to_str_latex(&x._gobj)
```
and I think GEx_to_str_latex is a ginac/pynac thing.  At least, I found it in sage/libs/ginac/decl.pxi.

It's possible to work around it, I think, with a patch like the attached, but I'm not at all convinced that this is the right way to fix it.  If you think it's okay, feel free to review it, but since I'm not sure, I've labeled it as "not read for review".



---

archive/issue_comments_054590.json:
```json
{
    "body": "<a id='comment:3'></a>\nAttachment [trac_6268.patch](tarball://root/attachments/some-uuid/ticket6268/trac_6268.patch) by @golam-m-hossain created at 2009-06-12 22:35:18\n\nThe rebased patch for the ticket\n\nhttp://trac.sagemath.org/sage_trac/ticket/5711\n\nwill resolve this issue as an un-intended consequence.",
    "created_at": "2009-06-12T22:35:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54590",
    "user": "https://github.com/golam-m-hossain"
}
```

<a id='comment:3'></a>
Attachment [trac_6268.patch](tarball://root/attachments/some-uuid/ticket6268/trac_6268.patch) by @golam-m-hossain created at 2009-06-12 22:35:18

The rebased patch for the ticket

http://trac.sagemath.org/sage_trac/ticket/5711

will resolve this issue as an un-intended consequence.



---

archive/issue_comments_054591.json:
```json
{
    "body": "new patch, apply only this one",
    "created_at": "2009-06-14T22:16:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54591",
    "user": "https://github.com/burcin"
}
```

new patch, apply only this one



---

archive/issue_events_025094.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "rename": {
        "from": "[with patch, not ready for review] Typesetting of sec(x), csc(x), cot(x) are broken",
        "to": "[with patch, needs review] Typesetting of sec(x), csc(x), cot(x) are broken"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6268#event-25094"
}
```



---

archive/issue_comments_054592.json:
```json
{
    "body": "Changing status from new to assigned.",
    "created_at": "2009-06-14T22:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54592",
    "user": "https://github.com/burcin"
}
```

Changing status from new to assigned.



---

archive/issue_comments_054593.json:
```json
{
    "body": "Changing assignee from cwitty to @burcin.",
    "created_at": "2009-06-14T22:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54593",
    "user": "https://github.com/burcin"
}
```

Changing assignee from cwitty to @burcin.



---

archive/issue_comments_054594.json:
```json
{
    "body": "<a id='comment:4'></a>\nAttachment [trac_6268-py_print_latex.patch](tarball://root/attachments/some-uuid/ticket6268/trac_6268-py_print_latex.patch) by @burcin created at 2009-06-14 22:17:42\n\nattachment:trac_6268-py_print_latex.patch fixes the reported problem. Apply only this patch.",
    "created_at": "2009-06-14T22:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54594",
    "user": "https://github.com/burcin"
}
```

<a id='comment:4'></a>
Attachment [trac_6268-py_print_latex.patch](tarball://root/attachments/some-uuid/ticket6268/trac_6268-py_print_latex.patch) by @burcin created at 2009-06-14 22:17:42

attachment:trac_6268-py_print_latex.patch fixes the reported problem. Apply only this patch.



---

archive/issue_events_025095.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2009-06-14T22:21:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6268#event-25095"
}
```



---

archive/issue_comments_054595.json:
```json
{
    "body": "Changing author from \"\" to \"Burcin Erocal\"",
    "created_at": "2009-06-14T22:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54595",
    "user": "https://github.com/ncalexan"
}
```

Changing author from "" to "Burcin Erocal"



---

archive/issue_comments_054596.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-06-14T22:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54596",
    "user": "https://github.com/ncalexan"
}
```

Resolution: fixed



---

archive/issue_events_025096.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "rename": {
        "from": "[with patch, needs review] Typesetting of sec(x), csc(x), cot(x) are broken",
        "to": "[with patch, positive review] Typesetting of sec(x), csc(x), cot(x) are broken"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6268#event-25096"
}
```



---

archive/issue_comments_054597.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nick Alexander\"",
    "created_at": "2009-06-14T22:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54597",
    "user": "https://github.com/ncalexan"
}
```

Changing reviewer from "" to "Nick Alexander"



---

archive/issue_comments_054598.json:
```json
{
    "body": "Changing merged from \"\" to \"4.0.2.alpha0\"",
    "created_at": "2009-06-14T22:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54598",
    "user": "https://github.com/ncalexan"
}
```

Changing merged from "" to "4.0.2.alpha0"



---

archive/issue_comments_054599.json:
```json
{
    "body": "Changing author from \"Burcin Erocal\" to \"Burcin Erocal, John Palmieri\"",
    "created_at": "2009-06-15T09:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54599",
    "user": "https://github.com/burcin"
}
```

Changing author from "Burcin Erocal" to "Burcin Erocal, John Palmieri"



---

archive/issue_comments_054600.json:
```json
{
    "body": "Changing author from \"Burcin Erocal, John Palmieri\" to \"John Palmieri\"",
    "created_at": "2009-06-15T09:11:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6268",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6268#issuecomment-54600",
    "user": "https://github.com/burcin"
}
```

Changing author from "Burcin Erocal, John Palmieri" to "John Palmieri"
