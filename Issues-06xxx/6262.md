# Issue 6262: notebook takes 5-10 minutes to quit

archive/issues_006262.json:
```json
{
    "assignees": [],
    "body": "Even with no worksheets active, with sage-4.0.1 the server takes a long time to quit after pressing ctrl-C.  This did not use to be the case, and is extremely annoying.  It consistently happens to me on an OS 10.5 intel mac.  \n\nAssignee: **@sagetrac-boothby**\n\nCC:  @williamstein\n\n_Issue created by migration from https://trac.sagemath.org/ticket/6262_\n\n",
    "closed_at": "2010-01-27T01:57:18Z",
    "created_at": "2009-06-11T19:34:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20notebook",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "notebook takes 5-10 minutes to quit",
    "type": "issue",
    "updated_at": "2010-01-27T01:57:18Z",
    "url": "https://github.com/sagemath/sage/issues/6262",
    "user": "https://github.com/sagetrac-mhampton"
}
```
Even with no worksheets active, with sage-4.0.1 the server takes a long time to quit after pressing ctrl-C.  This did not use to be the case, and is extremely annoying.  It consistently happens to me on an OS 10.5 intel mac.  

Assignee: **@sagetrac-boothby**

CC:  @williamstein

_Issue created by migration from https://trac.sagemath.org/ticket/6262_





---

archive/issue_events_067598.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-06-11T19:34:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20notebook",
    "label_color": "000080",
    "label_name": "component: notebook",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6262#event-67598"
}
```



---

archive/issue_events_067599.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-06-11T19:34:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6262#event-67599"
}
```



---

archive/issue_events_067600.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2009-06-11T19:34:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6262#event-67600"
}
```



---

archive/issue_comments_043027.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nYou're definitely what I'd consider a \"power user\".  How many worksheets do you have?  Can you move your .sage directory temporarily, and then see if you get the same behavior?",
    "created_at": "2009-06-11T21:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6262#issuecomment-43027",
    "user": "https://github.com/sagetrac-boothby"
}
```

<div id="comment:1" align="right">Comment 1</div>

You're definitely what I'd consider a "power user".  How many worksheets do you have?  Can you move your .sage directory temporarily, and then see if you get the same behavior?



---

archive/issue_comments_043028.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nThat directory had 250 worksheets for admin, the only user account.  I used a new directory, and everything was very snappy.   So you are right, it must be related to the number of worksheets.  I still think its a bug - if there are no active worksheets it shouldn't take 10 minutes to save the notebook.",
    "created_at": "2009-06-12T02:26:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6262#issuecomment-43028",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:2" align="right">Comment 2</div>

That directory had 250 worksheets for admin, the only user account.  I used a new directory, and everything was very snappy.   So you are right, it must be related to the number of worksheets.  I still think its a bug - if there are no active worksheets it shouldn't take 10 minutes to save the notebook.



---

archive/issue_comments_043029.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nAgreed, that is a ridiculous amount of time for the notebook to quit -- but this pinpoints the problem.  (also, I can easily reproduce it now)",
    "created_at": "2009-06-16T20:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6262#issuecomment-43029",
    "user": "https://github.com/sagetrac-boothby"
}
```

<div id="comment:3" align="right">Comment 3</div>

Agreed, that is a ridiculous amount of time for the notebook to quit -- but this pinpoints the problem.  (also, I can easily reproduce it now)



---

archive/issue_comments_043030.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nHow bad is the problem in Sage 4.3.1?",
    "created_at": "2010-01-25T16:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6262#issuecomment-43030",
    "user": "https://github.com/qed777"
}
```

<div id="comment:4" align="right">Comment 4</div>

How bad is the problem in Sage 4.3.1?



---

archive/issue_comments_043031.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nI can't say exactly because after having this problem I changed the way I set up my servers to avoid having tons of worksheets and users.  Since then, I have not had a problem but I'm not sure that means the problem went away.  I am guessing that things have gotten better though since I have not had a hint of a problem recently.  I am OK with closing this ticket as invalid/fixed.",
    "created_at": "2010-01-25T19:03:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6262#issuecomment-43031",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:5" align="right">Comment 5</div>

I can't say exactly because after having this problem I changed the way I set up my servers to avoid having tons of worksheets and users.  Since then, I have not had a problem but I'm not sure that means the problem went away.  I am guessing that things have gotten better though since I have not had a hint of a problem recently.  I am OK with closing this ticket as invalid/fixed.



---

archive/issue_comments_043032.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nWilliam -- Is this a problem with `sagenb.org`?",
    "created_at": "2010-01-25T19:33:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6262#issuecomment-43032",
    "user": "https://github.com/qed777"
}
```

<div id="comment:6" align="right">Comment 6</div>

William -- Is this a problem with `sagenb.org`?



---

archive/issue_events_067601.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-01-27T01:57:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6262#event-67601"
}
```



---

archive/issue_events_067602.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-01-27T01:57:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6262#event-67602"
}
```



---

archive/issue_events_067603.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-01-27T01:57:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6262#event-67603"
}
```



---

archive/issue_comments_043033.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nFor now, at least, I'm closing this ticket as invalid.  Feel free to reopen it!",
    "created_at": "2010-01-27T01:57:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6262",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6262#issuecomment-43033",
    "user": "https://github.com/qed777"
}
```

<div id="comment:7" align="right">Comment 7</div>

For now, at least, I'm closing this ticket as invalid.  Feel free to reopen it!
