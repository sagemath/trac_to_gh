# Issue 6016: factoring rational functions

archive/issues_006016.json:
```json
{
    "assignees": [],
    "body": "It would be nice to be able to factor rational functions. The implementation is trivial, and the enclosed patch tries to do that.\n\n\n\nComponent: **algebra**\n\nAuthor: **Soroosh Yazdani**\n\nReviewer: **John Cremona, Minh Van Nguyen**\n\nMerged: **4.0.1.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/6016_\n\n",
    "closed_at": "2009-06-01T04:59:57Z",
    "created_at": "2009-05-11T02:15:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20trivial%20/%205",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.0.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "factoring rational functions",
    "type": "issue",
    "updated_at": "2009-06-06T22:18:52Z",
    "url": "https://github.com/sagemath/sage/issues/6016",
    "user": "https://github.com/syazdani77"
}
```
It would be nice to be able to factor rational functions. The implementation is trivial, and the enclosed patch tries to do that.



Component: **algebra**

Author: **Soroosh Yazdani**

Reviewer: **John Cremona, Minh Van Nguyen**

Merged: **4.0.1.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/6016_





---

archive/issue_events_071545.json:
```json
{
    "actor": "https://github.com/syazdani77",
    "created_at": "2009-05-11T02:15:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71545"
}
```



---

archive/issue_events_071546.json:
```json
{
    "actor": "https://github.com/syazdani77",
    "created_at": "2009-05-11T02:15:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20trivial%20/%205",
    "label_color": "fff9e5",
    "label_name": "p: trivial / 5",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71546"
}
```



---

archive/issue_events_071547.json:
```json
{
    "actor": "https://github.com/syazdani77",
    "created_at": "2009-05-11T02:15:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71547"
}
```



---

archive/issue_events_071548.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-11T02:17:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71548"
}
```



---

archive/issue_events_071549.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-11T02:17:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "milestone_number": null,
    "milestone_title": "sage-4.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71549"
}
```



---

archive/issue_events_071550.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-11T02:19:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71550"
}
```



---

archive/issue_events_071551.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-11T02:19:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71551"
}
```



---

archive/issue_comments_039286.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSoroosh,\n\nplease post a proper patch.\n\nCheers,\n\nMichael",
    "created_at": "2009-05-11T02:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6016#issuecomment-39286",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:2" align="right">comment:2</div>

Soroosh,

please post a proper patch.

Cheers,

Michael



---

archive/issue_comments_039287.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAttachment: **[12063.patch.gz](https://github.com/sagemath/sage/files/ticket6016/12063.patch.gz)**\n\nIs this the right format?",
    "created_at": "2009-05-11T04:30:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6016#issuecomment-39287",
    "user": "https://github.com/syazdani77"
}
```

<div id="comment:3" align="right">comment:3</div>

Attachment: **[12063.patch.gz](https://github.com/sagemath/sage/files/ticket6016/12063.patch.gz)**

Is this the right format?



---

archive/issue_events_071552.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-11T04:33:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71552"
}
```



---

archive/issue_events_071553.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-11T04:33:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71553"
}
```



---

archive/issue_comments_039288.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nYep, looks like a nice patch to me :)\n\nCheers,\n\nMichael",
    "created_at": "2009-05-11T04:33:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6016#issuecomment-39288",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:4" align="right">comment:4</div>

Yep, looks like a nice patch to me :)

Cheers,

Michael



---

archive/issue_comments_039289.json:
```json
{
    "body": "based on sage-3.4.2",
    "created_at": "2009-05-11T05:45:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6016#issuecomment-39289",
    "user": "https://github.com/sagetrac-mvngu"
}
```

based on sage-3.4.2



---

archive/issue_comments_039290.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAttachment: **[trac_6016-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket6016/trac_6016-reviewer.patch.gz)**\n\nREFEREE REPORT\n\n\n\nThe patch `12063.patch` looks good. The new method `factor()` works over `ZZ`, `QQ`, `RR`, `CC`, and `GF`. There's only a trivial Sphinx formatting issue, which is fixed in the reviewer patch `trac_6016-reviewer.patch`.",
    "created_at": "2009-05-11T05:49:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6016#issuecomment-39290",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:5" align="right">comment:5</div>

Attachment: **[trac_6016-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket6016/trac_6016-reviewer.patch.gz)**

REFEREE REPORT



The patch `12063.patch` looks good. The new method `factor()` works over `ZZ`, `QQ`, `RR`, `CC`, and `GF`. There's only a trivial Sphinx formatting issue, which is fixed in the reviewer patch `trac_6016-reviewer.patch`.



---

archive/issue_events_071554.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-05-11T05:49:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71554"
}
```



---

archive/issue_events_071555.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-05-11T05:49:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71555"
}
```



---

archive/issue_events_071556.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-14T05:44:58Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "title_is": "[needs discussion] factoring rational functions",
    "title_was": "factoring rational functions",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71556"
}
```



---

archive/issue_comments_039291.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI am not sure this should go in as is since the return result is a little strange. Is this consistent with other interfaces in Sage? What does Magma do?\n\nCheers,\n\nMichael",
    "created_at": "2009-05-14T05:44:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6016#issuecomment-39291",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:6" align="right">comment:6</div>

I am not sure this should go in as is since the return result is a little strange. Is this consistent with other interfaces in Sage? What does Magma do?

Cheers,

Michael



---

archive/issue_comments_039292.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@sagetrac-mabshoff](#comment:6):\n> I am not sure this should go in as is since the return result is a little strange. Is this consistent with other interfaces in Sage? What does Magma do?\n> \n> Cheers,\n> \n> Michael\n\nThis is entirely consistent with (for example) factorization of rational numbers in Sage:\n\n```\nsage: QQ(123/456).factor()\n2^-3 * 19^-1 * 41\n```\nMagma does not allow factorization in QQ or in function fields, which is very annoying (e.g. you cannot factor the discriminant of an elliptic curve (with integral model) over QQ without coercing it into ZZ first).  But Magma does allow for some non-integral factorizations, e.g. of fractional ideals.\n\nSo Michael's worry is a reasonable one but this should definitely be included.  I have therefore removed the \"needs discussion\" tag!",
    "created_at": "2009-05-30T17:14:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6016#issuecomment-39292",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@sagetrac-mabshoff](#comment:6):
> I am not sure this should go in as is since the return result is a little strange. Is this consistent with other interfaces in Sage? What does Magma do?
> 
> Cheers,
> 
> Michael

This is entirely consistent with (for example) factorization of rational numbers in Sage:

```
sage: QQ(123/456).factor()
2^-3 * 19^-1 * 41
```
Magma does not allow factorization in QQ or in function fields, which is very annoying (e.g. you cannot factor the discriminant of an elliptic curve (with integral model) over QQ without coercing it into ZZ first).  But Magma does allow for some non-integral factorizations, e.g. of fractional ideals.

So Michael's worry is a reasonable one but this should definitely be included.  I have therefore removed the "needs discussion" tag!



---

archive/issue_events_071557.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-05-30T17:14:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "title_is": "factoring rational functions",
    "title_was": "[needs discussion] factoring rational functions",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71557"
}
```



---

archive/issue_events_071558.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-06-01T04:59:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71558"
}
```



---

archive/issue_events_071559.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-06-01T04:59:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6016#event-71559"
}
```



---

archive/issue_comments_039293.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nMerged in 4.0.1.alpha0.",
    "created_at": "2009-06-01T04:59:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6016#issuecomment-39293",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:8" align="right">comment:8</div>

Merged in 4.0.1.alpha0.



---

archive/issue_comments_039294.json:
```json
{
    "body": "Author: **Soroosh Yazdani**",
    "created_at": "2009-06-06T22:18:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6016#issuecomment-39294",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Author: **Soroosh Yazdani**



---

archive/issue_comments_039295.json:
```json
{
    "body": "Merged: **4.0.1.alpha0**",
    "created_at": "2009-06-06T22:18:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6016#issuecomment-39295",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Merged: **4.0.1.alpha0**



---

archive/issue_comments_039296.json:
```json
{
    "body": "Reviewer: **John Cremona, Minh Van Nguyen**",
    "created_at": "2009-06-06T22:18:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6016",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6016#issuecomment-39296",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Reviewer: **John Cremona, Minh Van Nguyen**
