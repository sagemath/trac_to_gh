# Issue 6849: [with spkg's] port Sage to OS X 10.6

archive/issues_006849.json:
```json
{
    "assignees": [],
    "body": "Attach to this ticket some of the fixes for getting Sage to build on OS X 10.6 (the new release of OS X).\n\nNote that a Sage build on OS X 10.5 does seem to work fine on 10.6, but Sage does not \"just build\" on 10.6.\n\n1. We upgrade readline to 6.0, since 5.2 doesn't build on OS X 10.6:\n\n   http://sage.math.washington.edu/home/wstein/tmp/readline-6.0.spkg\n\nor\n\n  http://sage.math.washington.edu/home/kirkby/Solaris-fixes/readline-6.0/readline-6.0.spkg\n\n\nThis new spkg needs to be reviewed and build tested on Linux and OS X 10.4. (I tested it on 10.5.)\n\n\n* Boehm GC -- fixed at trac #6969\n\n* ECL fails to build (for same reasons to Boehm GC) -- fixed at trac #6971\n\n* R  -- see trac #6972\n\n* MPIR -- see trac #7006 -- this is needed if one tries to build without specifying 64-bit explicitly on a 64-bit platform.\n\n* Fortran -- see trac #6981, in particular .p8, which is critically needed to build if one does not specify SAGE64=\"yes\".\n\n* Matplotlib font cache issue -- see trac #7022 \n\nCC:  @craigcitro @sagetrac-drkirkby\n\nComponent: **porting**\n\nAuthor: **William Stein**\n\nReviewer: **John Palmieri, Minh Van Nguyen**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/6849_\n\n",
    "closed_at": "2009-10-14T16:10:33Z",
    "created_at": "2009-08-31T01:29:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting",
        "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.1.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "[with spkg's] port Sage to OS X 10.6",
    "type": "issue",
    "updated_at": "2009-10-14T21:17:17Z",
    "url": "https://github.com/sagemath/sage/issues/6849",
    "user": "https://github.com/williamstein"
}
```
Attach to this ticket some of the fixes for getting Sage to build on OS X 10.6 (the new release of OS X).

Note that a Sage build on OS X 10.5 does seem to work fine on 10.6, but Sage does not "just build" on 10.6.

1. We upgrade readline to 6.0, since 5.2 doesn't build on OS X 10.6:

   http://sage.math.washington.edu/home/wstein/tmp/readline-6.0.spkg

or

  http://sage.math.washington.edu/home/kirkby/Solaris-fixes/readline-6.0/readline-6.0.spkg


This new spkg needs to be reviewed and build tested on Linux and OS X 10.4. (I tested it on 10.5.)


* Boehm GC -- fixed at trac #6969

* ECL fails to build (for same reasons to Boehm GC) -- fixed at trac #6971

* R  -- see trac #6972

* MPIR -- see trac #7006 -- this is needed if one tries to build without specifying 64-bit explicitly on a 64-bit platform.

* Fortran -- see trac #6981, in particular .p8, which is critically needed to build if one does not specify SAGE64="yes".

* Matplotlib font cache issue -- see trac #7022 

CC:  @craigcitro @sagetrac-drkirkby

Component: **porting**

Author: **William Stein**

Reviewer: **John Palmieri, Minh Van Nguyen**

_Issue created by migration from https://trac.sagemath.org/ticket/6849_





---

archive/issue_events_082502.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-08-31T01:29:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "milestone_number": null,
    "milestone_title": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82502"
}
```



---

archive/issue_events_082503.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-08-31T01:29:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "0000b0",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82503"
}
```



---

archive/issue_events_082504.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-08-31T01:29:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82504"
}
```



---

archive/issue_events_082505.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-08-31T01:29:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82505"
}
```



---

archive/issue_events_082506.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-08-31T01:29:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82506"
}
```



---

archive/issue_comments_048531.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,10 @@\n Attach to this ticket some of the fixes for getting Sage to build on OS X 10.6 (the new release of OS X).\n \n-Note that a Sage build on OS X 10.5 does seem to work fine on 10.6, but Sage does not \"just build\" on 10.6 \n+Note that a Sage build on OS X 10.5 does seem to work fine on 10.6, but Sage does not \"just build\" on 10.6.\n+\n+1. We upgrade readline to 6.0, since 5.2 doesn't build on OS X 10.6:\n+   http://sage.math.washington.edu/home/wstein/tmp/readline-6.0.spkg\n+\n+This new spkg needs to be reviewed and build tested on Linux and OS X 10.4. (I tested it on 10.5.)\n+\n+2. \n``````\n",
    "created_at": "2009-08-31T01:43:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48531",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,10 @@
 Attach to this ticket some of the fixes for getting Sage to build on OS X 10.6 (the new release of OS X).
 
-Note that a Sage build on OS X 10.5 does seem to work fine on 10.6, but Sage does not "just build" on 10.6 
+Note that a Sage build on OS X 10.5 does seem to work fine on 10.6, but Sage does not "just build" on 10.6.
+
+1. We upgrade readline to 6.0, since 5.2 doesn't build on OS X 10.6:
+   http://sage.math.washington.edu/home/wstein/tmp/readline-6.0.spkg
+
+This new spkg needs to be reviewed and build tested on Linux and OS X 10.4. (I tested it on 10.5.)
+
+2. 
``````




---

archive/issue_comments_048532.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAfter readline, the next problem is that R fails to build (at least in 64-bit mode):\n\n```\ndarwin8/4.2.3/x86_64 -L/Users/wstein/build/sage-4.1.1/local/lib/gcc/i686-apple-darwin8/4.2.3 -L/Users/wstein/build/sage-4.1.1/local/lib/gcc -L/usr/local/lib -lgfortran -lgcc_s.10.4  ../extra/zlib/libz.a ../extr\na/bzip2/libbz2.a ../extra/pcre/libpcre.a  ../extra/intl/libintl.a -liconv  -Wl,-framework -Wl,CoreFoundat\nion -lreadline  -lm\nld: symbol dyld_stub_binding_helper not defined (usually in crt1.o/dylib1.o/bundle1.o)\ncollect2: ld returned 1 exit status\nmake[5]: *** [libR.dylib] Error 1make[4]: *** [R] Error 2\nmake[3]: *** [R] Error 1\nmake[2]: *** [R] Error 1\nError building R.\n\nreal    2m52.365s\nuser    2m45.681s\nsys     0m56.183ssage: An error occurred while installing r-2.6.1.p23\n```",
    "created_at": "2009-08-31T04:13:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48532",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:2" align="right">comment:2</div>

After readline, the next problem is that R fails to build (at least in 64-bit mode):

```
darwin8/4.2.3/x86_64 -L/Users/wstein/build/sage-4.1.1/local/lib/gcc/i686-apple-darwin8/4.2.3 -L/Users/wstein/build/sage-4.1.1/local/lib/gcc -L/usr/local/lib -lgfortran -lgcc_s.10.4  ../extra/zlib/libz.a ../extr
a/bzip2/libbz2.a ../extra/pcre/libpcre.a  ../extra/intl/libintl.a -liconv  -Wl,-framework -Wl,CoreFoundat
ion -lreadline  -lm
ld: symbol dyld_stub_binding_helper not defined (usually in crt1.o/dylib1.o/bundle1.o)
collect2: ld returned 1 exit status
make[5]: *** [libR.dylib] Error 1make[4]: *** [R] Error 2
make[3]: *** [R] Error 1
make[2]: *** [R] Error 1
Error building R.

real    2m52.365s
user    2m45.681s
sys     0m56.183ssage: An error occurred while installing r-2.6.1.p23
```



---

archive/issue_comments_048533.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nNext failure is the Boehm GC:\n\n```\n gcc -DPACKAGE_NAME=\\\"gc\\\" -DPACKAGE_TARNAME=\\\"gc\\\" -DPACKAGE_VERSION=\\\"7.1\\\" \"-DPACKAGE_STRING=\\\"gc 7.1\\\"\" -DPACKAGE_BUGREPORT=\\\"Hans.Boehm@hp.com\\\" -DGC_VERSION_MAJOR=7 -DGC_VERSION_MINOR=1 -DPACKAGE=\\\"gc\\\" -DVERSION=\\\"7.1\\\" -DGC_DARWIN_THREADS=1 -DTHREAD_LOCAL_ALLOC=1 -DHAS_X86_THREAD_STATE32___EAX=1 -DSTDC_HEA\nDERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DH\nAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DNO_EXECUTE_PER\nMISSION=1 -DALL_INTERIOR_POINTERS=1 -DGC_GCJ_SUPPORT=1 -DJAVA_FINALIZATION=1 -DATOMIC_UNCOLLECTABLE=1 -DL\nARGE_CONFIG=1 -I./include -fexceptions -I libatomic_ops/src -O2 -g -fPIC -m64 -MT atomic_ops.lo -MD -MP -\nMF .deps/atomic_ops.Tpo -c atomic_ops.c  -fno-common -DPIC -o .libs/atomic_ops.o\nIn file included from mach_dep.c:163:\n/usr/include/ucontext.h:42:2: error: #error ucontext routines are deprecated, and require _XOPEN_SOURCE t\no be defined\nmake[3]: *** [mach_dep.lo] Error 1\nmake[3]: *** Waiting for unfinished jobs....\n gcc -DPACKAGE_NAME=\\\"gc\\\" -DPACKAGE_TARNAME=\\\"gc\\\" -DPACKAGE_VERSION=\\\"7.1\\\" \"-DPACKAGE_STRING=\\\"gc 7.1\\\n\"\" -DPACKAGE_BUGREPORT=\\\"Hans.Boehm@hp.com\\\" -DGC_VERSION_MAJOR=7 -DGC_VERSION_MINOR=1 -DPACKAGE=\\\"gc\\\" -\nDVERSION=\\\"7.1\\\" -DGC_DARWIN_THREADS=1 -DTHREAD_LOCAL_ALLOC=1 -DHAS_X86_THREAD_STATE32___EAX=1 -DSTDC_HEA\nDERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DH\nAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DNO_EXECUTE_PER\nMISSION=1 -DALL_INTERIOR_POINTERS=1 -DGC_GCJ_SUPPORT=1 -DJAVA_FINALIZATION=1 -DATOMIC_UNCOLLECTABLE=1 -DL\nARGE_CONFIG=1 -I./include -fexceptions -I libatomic_ops/src -O2 -g -fPIC -m64 -MT atomic_ops.lo -MD -MP -\nMF .deps/atomic_ops.Tpo -c atomic_ops.c -o atomic_ops.o >/dev/null 2>&1\nmake[2]: *** [all-recursive] Error 1\nError building BoehmGC.\n\nreal    0m36.506s\nuser    0m24.002s\nsys     0m20.925s\nsage: An error occurred while installing boehm_gc-7.1.p1\nPlease email sage-devel http://groups.google.com/group/sage-devel\nexplaining the problem and send the relevant part of\n```",
    "created_at": "2009-08-31T04:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48533",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:3" align="right">comment:3</div>

Next failure is the Boehm GC:

```
 gcc -DPACKAGE_NAME=\"gc\" -DPACKAGE_TARNAME=\"gc\" -DPACKAGE_VERSION=\"7.1\" "-DPACKAGE_STRING=\"gc 7.1\"" -DPACKAGE_BUGREPORT=\"Hans.Boehm@hp.com\" -DGC_VERSION_MAJOR=7 -DGC_VERSION_MINOR=1 -DPACKAGE=\"gc\" -DVERSION=\"7.1\" -DGC_DARWIN_THREADS=1 -DTHREAD_LOCAL_ALLOC=1 -DHAS_X86_THREAD_STATE32___EAX=1 -DSTDC_HEA
DERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DH
AVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DNO_EXECUTE_PER
MISSION=1 -DALL_INTERIOR_POINTERS=1 -DGC_GCJ_SUPPORT=1 -DJAVA_FINALIZATION=1 -DATOMIC_UNCOLLECTABLE=1 -DL
ARGE_CONFIG=1 -I./include -fexceptions -I libatomic_ops/src -O2 -g -fPIC -m64 -MT atomic_ops.lo -MD -MP -
MF .deps/atomic_ops.Tpo -c atomic_ops.c  -fno-common -DPIC -o .libs/atomic_ops.o
In file included from mach_dep.c:163:
/usr/include/ucontext.h:42:2: error: #error ucontext routines are deprecated, and require _XOPEN_SOURCE t
o be defined
make[3]: *** [mach_dep.lo] Error 1
make[3]: *** Waiting for unfinished jobs....
 gcc -DPACKAGE_NAME=\"gc\" -DPACKAGE_TARNAME=\"gc\" -DPACKAGE_VERSION=\"7.1\" "-DPACKAGE_STRING=\"gc 7.1\
"" -DPACKAGE_BUGREPORT=\"Hans.Boehm@hp.com\" -DGC_VERSION_MAJOR=7 -DGC_VERSION_MINOR=1 -DPACKAGE=\"gc\" -
DVERSION=\"7.1\" -DGC_DARWIN_THREADS=1 -DTHREAD_LOCAL_ALLOC=1 -DHAS_X86_THREAD_STATE32___EAX=1 -DSTDC_HEA
DERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DH
AVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DNO_EXECUTE_PER
MISSION=1 -DALL_INTERIOR_POINTERS=1 -DGC_GCJ_SUPPORT=1 -DJAVA_FINALIZATION=1 -DATOMIC_UNCOLLECTABLE=1 -DL
ARGE_CONFIG=1 -I./include -fexceptions -I libatomic_ops/src -O2 -g -fPIC -m64 -MT atomic_ops.lo -MD -MP -
MF .deps/atomic_ops.Tpo -c atomic_ops.c -o atomic_ops.o >/dev/null 2>&1
make[2]: *** [all-recursive] Error 1
Error building BoehmGC.

real    0m36.506s
user    0m24.002s
sys     0m20.925s
sage: An error occurred while installing boehm_gc-7.1.p1
Please email sage-devel http://groups.google.com/group/sage-devel
explaining the problem and send the relevant part of
```



---

archive/issue_comments_048534.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,4 +7,6 @@\n \n This new spkg needs to be reviewed and build tested on Linux and OS X 10.4. (I tested it on 10.5.)\n \n-2. \n+2. R  -- no solution yet\n+\n+3. Boehm GC -- no solution yet\n``````\n",
    "created_at": "2009-08-31T04:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48534",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,4 +7,6 @@
 
 This new spkg needs to be reviewed and build tested on Linux and OS X 10.4. (I tested it on 10.5.)
 
-2. 
+2. R  -- no solution yet
+
+3. Boehm GC -- no solution yet
``````




---

archive/issue_comments_048535.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI checked your readline-6.0.spkg on Solaris 10 update 7. It builds fine with both Sun and GNU compilers. But the spkg still suffers from the issue of greping on the Suse file. I've created a new spkg \n\nhttp://sage.math.washington.edu/home/kirkby/Solaris-fixes/readline-6.0/readline-6.0.spkg\n\nwhich addresses this, but also does some other things that are not necessarily necessary for readline, but which can be helpful in general, to make a more robust spkg. \n\n* Upgrade to 6.0 (latest upstream) - see trac #6849\n* Remove numerous ugly build hacks needed only on OS X for older readline.\n* Track #6844 Made a test for /etc/SuSE-release, as the previous spkg-install\n  greped on it, which generates a warning if the file does not\n  exist, which it will not on most peoples systems.\n* Added '-m64' to CFLAGS, CXXFLAGS, FFLAGS and F77FLAGS\n  if SAGE64 is set to 'yes'. I'm aware it is not necessary to do\n  all of these in readline, but its better to stick to something that\n  works on all packages.\n* Removes -m64 as a linker flag - no such linker flag exists.\n* Checks CC and CXX are not a mix of GNU and non-GNU compilers.\n* Added -Wall on gcc to show all warnings.\n* Adds -g by default, but it can be removed by setting\n  SAGE_DEBUG to something other than 'yes'\n\nYou might notice that gcc gives a lot of compiler warnings now I've added -Wall. It's a wonder the package works at all. \n\nDave",
    "created_at": "2009-08-31T05:21:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48535",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:5" align="right">comment:5</div>

I checked your readline-6.0.spkg on Solaris 10 update 7. It builds fine with both Sun and GNU compilers. But the spkg still suffers from the issue of greping on the Suse file. I've created a new spkg 

http://sage.math.washington.edu/home/kirkby/Solaris-fixes/readline-6.0/readline-6.0.spkg

which addresses this, but also does some other things that are not necessarily necessary for readline, but which can be helpful in general, to make a more robust spkg. 

* Upgrade to 6.0 (latest upstream) - see trac #6849
* Remove numerous ugly build hacks needed only on OS X for older readline.
* Track #6844 Made a test for /etc/SuSE-release, as the previous spkg-install
  greped on it, which generates a warning if the file does not
  exist, which it will not on most peoples systems.
* Added '-m64' to CFLAGS, CXXFLAGS, FFLAGS and F77FLAGS
  if SAGE64 is set to 'yes'. I'm aware it is not necessary to do
  all of these in readline, but its better to stick to something that
  works on all packages.
* Removes -m64 as a linker flag - no such linker flag exists.
* Checks CC and CXX are not a mix of GNU and non-GNU compilers.
* Added -Wall on gcc to show all warnings.
* Adds -g by default, but it can be removed by setting
  SAGE_DEBUG to something other than 'yes'

You might notice that gcc gives a lot of compiler warnings now I've added -Wall. It's a wonder the package works at all. 

Dave



---

archive/issue_comments_048536.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,13 @@\n Note that a Sage build on OS X 10.5 does seem to work fine on 10.6, but Sage does not \"just build\" on 10.6.\n \n 1. We upgrade readline to 6.0, since 5.2 doesn't build on OS X 10.6:\n+\n    http://sage.math.washington.edu/home/wstein/tmp/readline-6.0.spkg\n+\n+or\n+\n+  http://sage.math.washington.edu/home/kirkby/Solaris-fixes/readline-6.0/readline-6.0.spkg\n+\n \n This new spkg needs to be reviewed and build tested on Linux and OS X 10.4. (I tested it on 10.5.)\n \n``````\n",
    "created_at": "2009-08-31T21:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48536",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,13 @@
 Note that a Sage build on OS X 10.5 does seem to work fine on 10.6, but Sage does not "just build" on 10.6.
 
 1. We upgrade readline to 6.0, since 5.2 doesn't build on OS X 10.6:
+
    http://sage.math.washington.edu/home/wstein/tmp/readline-6.0.spkg
+
+or
+
+  http://sage.math.washington.edu/home/kirkby/Solaris-fixes/readline-6.0/readline-6.0.spkg
+
 
 This new spkg needs to be reviewed and build tested on Linux and OS X 10.4. (I tested it on 10.5.)
 
``````




---

archive/issue_comments_048537.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI've made another improved version of the readline package - see \n\nhttp://sage.math.washington.edu/home/kirkby/Solaris-fixes/readline-6.0-2nd-try/readline-6.0.spkg\n\nI've made the upgrade of readline a new ticket (Update readline to version 6.0 #6945). \n\nDave",
    "created_at": "2009-09-16T08:43:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48537",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:8" align="right">comment:8</div>

I've made another improved version of the readline package - see 

http://sage.math.washington.edu/home/kirkby/Solaris-fixes/readline-6.0-2nd-try/readline-6.0.spkg

I've made the upgrade of readline a new ticket (Update readline to version 6.0 #6945). 

Dave



---

archive/issue_comments_048538.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI've made",
    "created_at": "2009-09-20T22:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48538",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:9" align="right">comment:9</div>

I've made



---

archive/issue_comments_048539.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,4 +15,4 @@\n \n 2. R  -- no solution yet\n \n-3. Boehm GC -- no solution yet\n+3. Boehm GC -- no solution yet -- this is now trac #6969\n``````\n",
    "created_at": "2009-09-20T22:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48539",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,4 +15,4 @@
 
 2. R  -- no solution yet
 
-3. Boehm GC -- no solution yet
+3. Boehm GC -- no solution yet -- this is now trac #6969
``````




---

archive/issue_comments_048540.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,6 +13,8 @@\n \n This new spkg needs to be reviewed and build tested on Linux and OS X 10.4. (I tested it on 10.5.)\n \n-2. R  -- no solution yet\n+2. Boehm GC -- fixed at trac #6969\n \n-3. Boehm GC -- no solution yet -- this is now trac #6969\n+3. R  -- see trac #6970\n+\n+\n``````\n",
    "created_at": "2009-09-20T22:23:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48540",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,6 +13,8 @@
 
 This new spkg needs to be reviewed and build tested on Linux and OS X 10.4. (I tested it on 10.5.)
 
-2. R  -- no solution yet
+2. Boehm GC -- fixed at trac #6969
 
-3. Boehm GC -- no solution yet -- this is now trac #6969
+3. R  -- see trac #6970
+
+
``````




---

archive/issue_comments_048541.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,8 +13,11 @@\n \n This new spkg needs to be reviewed and build tested on Linux and OS X 10.4. (I tested it on 10.5.)\n \n-2. Boehm GC -- fixed at trac #6969\n \n-3. R  -- see trac #6970\n+* Boehm GC -- fixed at trac #6969\n+\n+* ECL fails to build (for same reasons to Boehm GC) -- fixed at trac #6971\n+\n+* R  -- see trac #6970\n \n \n``````\n",
    "created_at": "2009-09-20T22:47:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48541",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,8 +13,11 @@
 
 This new spkg needs to be reviewed and build tested on Linux and OS X 10.4. (I tested it on 10.5.)
 
-2. Boehm GC -- fixed at trac #6969
 
-3. R  -- see trac #6970
+* Boehm GC -- fixed at trac #6969
+
+* ECL fails to build (for same reasons to Boehm GC) -- fixed at trac #6971
+
+* R  -- see trac #6970
 
 
``````




---

archive/issue_comments_048542.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,6 +18,6 @@\n \n * ECL fails to build (for same reasons to Boehm GC) -- fixed at trac #6971\n \n-* R  -- see trac #6970\n+* R  -- see trac #6972\n \n \n``````\n",
    "created_at": "2009-09-21T02:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48542",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,6 +18,6 @@
 
 * ECL fails to build (for same reasons to Boehm GC) -- fixed at trac #6971
 
-* R  -- see trac #6970
+* R  -- see trac #6972
 
 
``````




---

archive/issue_comments_048543.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -20,4 +20,6 @@\n \n * R  -- see trac #6972\n \n+* MPIR -- see trac #7006 -- this is needed if one tries to build without specifying 64-bit explicitly on a 64-bit platform.\n \n+\n``````\n",
    "created_at": "2009-09-25T00:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48543",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -20,4 +20,6 @@
 
 * R  -- see trac #6972
 
+* MPIR -- see trac #7006 -- this is needed if one tries to build without specifying 64-bit explicitly on a 64-bit platform.
 
+
``````




---

archive/issue_comments_048544.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,4 +22,4 @@\n \n * MPIR -- see trac #7006 -- this is needed if one tries to build without specifying 64-bit explicitly on a 64-bit platform.\n \n-\n+* Fortran -- see trac #6981, in particular .p8, which is critically needed to build if one does not specify SAGE64=\"yes\". \n``````\n",
    "created_at": "2009-09-25T06:38:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48544",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,4 +22,4 @@
 
 * MPIR -- see trac #7006 -- this is needed if one tries to build without specifying 64-bit explicitly on a 64-bit platform.
 
-
+* Fortran -- see trac #6981, in particular .p8, which is critically needed to build if one does not specify SAGE64="yes". 
``````




---

archive/issue_comments_048545.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nIt seems that the patch from #6883 is needed here to avoid a doctest failure in `sage/interfaces/maxima.py`.  (This is for 10.6 and also 64-bit 10.5.  With 32-bit 10.5, this file passes doctests with or without the patch.)\n\nOn 10.6, after building using the spkgs mentioned in the ticket, I have the following other doctest failures:\n\n```\nsage -t -long \"devel/sage/sage/ext/fast_eval.pyx\"           \n**********************************************************************\nFile \"/Applications/sage_builds/sage-4.1.2.alpha2-64bit/devel/sage/sage/ext/fast_eval.pyx\", line 1080:\n    sage: f(0.5)\nExpected:\n    0.5235987755982989...\nGot:\n    0.52359877559829882\n**********************************************************************\n1 items had failures:\n   1 of   5 in __main__.example_32\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /Applications/sage_builds/sage-4.1.2.alpha2-64bit/tmp/.doctest_fast_eval.py\n\nsage -t -long \"devel/sage/sage/functions/other.py\"                \nA mysterious error (perhaps a memory error?) occurred, which may have crashed doctest.\n\nsage -t -long \"devel/sage/sage/plot/text.py\"                \nA mysterious error (perhaps a memory error?) occurred, which may have crashed doctest.\n\nsage -t -long \"devel/sage/sage/rings/polynomial/pbori.pyx\"  \nA mysterious error (perhaps a memory error?) occurred, which may have crashed doctest.\n\nsage -t -long \"devel/sage/sage/symbolic/constants.py\"       \nA mysterious error (perhaps a memory error?) occurred, which may have crashed doctest.\n\nsage -t -long \"devel/sage/sage/symbolic/expression.pyx\"     \nA mysterious error (perhaps a memory error?) occurred, which may have crashed doctest.\n\nsage -t -long \"devel/sage/sage/symbolic/function.pyx\"       \nA mysterious error (perhaps a memory error?) occurred, which may have crashed doctest.\n```\nFor instance, functions/other.py crashes Sage here:\n\n```\nsage: f = factorial(x + factorial(x))\n/Applications/sage_builds/sage-4.1.2.alpha2/local/bin/sage-sage: line 199:   5554 Abort trap        sage-ipython \"$@\" -i\n```\n`sage/symbolic/expression.pyx` crashes on the line `float(SR(RIF(Integer(2))))` with a similar message.  (I'm typing these on one computer while testing on another -- I'm not cut-and-pasting, so apologies for any typos.)\n\nSetting SAGE64 to \"yes\" resulting in a build with the same doctest failures.  I don't know if setting SAGE64 to \"yes\" has any actual effect, but it does have cosmetic effects: first, when building a package like readline, without SAGE64, I get the message \"Building a 32-bit version of Readline\", but the resulting library is 64-bit.  Also, when SAGE64 is set, then compiler flags (for example when building bzip2) include \"-m64\".  I don't know if these are just cosmetic, or if they have a more serious effect.\n\nOn 10.5, using these spkgs, I get some failures with the 32-bit build, but these are known: see [this thread](http://groups.google.com/group/sage-devel/browse_thread/thread/954ecbadeb7676a8?tvc=2).\n\nOn 10.5, 64-bit build, all tests pass!",
    "created_at": "2009-09-26T04:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48545",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:15" align="right">comment:15</div>

It seems that the patch from #6883 is needed here to avoid a doctest failure in `sage/interfaces/maxima.py`.  (This is for 10.6 and also 64-bit 10.5.  With 32-bit 10.5, this file passes doctests with or without the patch.)

On 10.6, after building using the spkgs mentioned in the ticket, I have the following other doctest failures:

```
sage -t -long "devel/sage/sage/ext/fast_eval.pyx"           
**********************************************************************
File "/Applications/sage_builds/sage-4.1.2.alpha2-64bit/devel/sage/sage/ext/fast_eval.pyx", line 1080:
    sage: f(0.5)
Expected:
    0.5235987755982989...
Got:
    0.52359877559829882
**********************************************************************
1 items had failures:
   1 of   5 in __main__.example_32
***Test Failed*** 1 failures.
For whitespace errors, see the file /Applications/sage_builds/sage-4.1.2.alpha2-64bit/tmp/.doctest_fast_eval.py

sage -t -long "devel/sage/sage/functions/other.py"                
A mysterious error (perhaps a memory error?) occurred, which may have crashed doctest.

sage -t -long "devel/sage/sage/plot/text.py"                
A mysterious error (perhaps a memory error?) occurred, which may have crashed doctest.

sage -t -long "devel/sage/sage/rings/polynomial/pbori.pyx"  
A mysterious error (perhaps a memory error?) occurred, which may have crashed doctest.

sage -t -long "devel/sage/sage/symbolic/constants.py"       
A mysterious error (perhaps a memory error?) occurred, which may have crashed doctest.

sage -t -long "devel/sage/sage/symbolic/expression.pyx"     
A mysterious error (perhaps a memory error?) occurred, which may have crashed doctest.

sage -t -long "devel/sage/sage/symbolic/function.pyx"       
A mysterious error (perhaps a memory error?) occurred, which may have crashed doctest.
```
For instance, functions/other.py crashes Sage here:

```
sage: f = factorial(x + factorial(x))
/Applications/sage_builds/sage-4.1.2.alpha2/local/bin/sage-sage: line 199:   5554 Abort trap        sage-ipython "$@" -i
```
`sage/symbolic/expression.pyx` crashes on the line `float(SR(RIF(Integer(2))))` with a similar message.  (I'm typing these on one computer while testing on another -- I'm not cut-and-pasting, so apologies for any typos.)

Setting SAGE64 to "yes" resulting in a build with the same doctest failures.  I don't know if setting SAGE64 to "yes" has any actual effect, but it does have cosmetic effects: first, when building a package like readline, without SAGE64, I get the message "Building a 32-bit version of Readline", but the resulting library is 64-bit.  Also, when SAGE64 is set, then compiler flags (for example when building bzip2) include "-m64".  I don't know if these are just cosmetic, or if they have a more serious effect.

On 10.5, using these spkgs, I get some failures with the 32-bit build, but these are known: see [this thread](http://groups.google.com/group/sage-devel/browse_thread/thread/954ecbadeb7676a8?tvc=2).

On 10.5, 64-bit build, all tests pass!



---

archive/issue_comments_048546.json:
```json
{
    "body": "Attachment: **[testlong-4.1.2.alpha2-updated-spkg-bsd.math.log](https://github.com/sagemath/sage/files/ticket6849/testlong-4.1.2.alpha2-updated-spkg-bsd.math.log)**\n\ndoctest log for bsd.math OS X 10.6",
    "created_at": "2009-09-26T23:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48546",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Attachment: **[testlong-4.1.2.alpha2-updated-spkg-bsd.math.log](https://github.com/sagemath/sage/files/ticket6849/testlong-4.1.2.alpha2-updated-spkg-bsd.math.log)**

doctest log for bsd.math OS X 10.6



---

archive/issue_comments_048547.json:
```json
{
    "body": "doctest log for cicero on SkyNet 32-bit Fedora 9",
    "created_at": "2009-09-26T23:33:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48547",
    "user": "https://github.com/sagetrac-mvngu"
}
```

doctest log for cicero on SkyNet 32-bit Fedora 9



---

archive/issue_events_082507.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-09-27T01:37:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82507"
}
```



---

archive/issue_events_082508.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-09-27T01:37:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82508"
}
```



---

archive/issue_comments_048548.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAttachment: **[testlong-4.1.2.alpha2-updated-spkg-cicero-skynet.log](https://github.com/sagemath/sage/files/ticket6849/testlong-4.1.2.alpha2-updated-spkg-cicero-skynet.log)**\n\nHere is John Palmieri's report from [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/e47addca35db2f5f/55d70e14b5c25a0e):\n\n```\n> * #6969 boehm_gc-7.1.p2.spkg\n> * #6971 ecl-9.8.4-20090913cvs.p1.spkg\n> * #7006 mpir-1.2.p6.spkg\n> * #6919 flint-1.5.0.p0.spkg\n> * #6990 python-2.6.2.p2.spkg\n> * #6951 singular-3-1-0-4-20090818.p0.spkg\n> * #6758 libgcrypt-1.4.3.p2.spkg\n> * #6681 cliquer-1.2.p0.spkg\n\nIn an attempt to save time, I attempted to build using all of these at\nonce (instead of doing one at a time), along with the new fortran spkg\n(#6981) and the new r spkg (#6972).  On OS X 10.5, both 32-bit and 64-\nbit, building was successful.  After applying the appropriate patches\n-- the ones from 6883, 6919, 6972 -- 64-bit: all tests passed.  After\napplying these patches to the 32-bit build, same failures as Minh\nreported in another thread (\"Sage 4.1.2.alpha2 doctest failures on OS\nX 10.5.8\").\n\nIn other words, the packages seem to all look good.  I have not\nexamined each one to see if the spkg-install files make sense, for\ninstance, but from the point of view of building and (apparently)\nfunctioning on OS X 10.5, they work.\n\nI don't have the energy to comment on each ticket individually, so\ntake this as my portion of a positive review for each ticket: on Mac\nOS X 10.5, they build properly and seem to work.\n```\n\nHere is my report. I compiled Sage 4.1.2.alpha2 from scratch with the following packages:\n\n* #6972 --- r-2.9.2.spkg\n* #6981 --- fortran-20071120.p8.spkg\n* #6974 --- libgpg_error-1.6.p2.spkg, gnutls-2.2.1.p3.spkg, python_gnutls-1.1.4.p6.spkg, libgcrypt-1.4.3.p2.spkg, opencdk-0.6.6.p1.spkg\n* #6976 --- numpy-1.3.0.p2.spkg\n* #6982 --- atlas-3.8.3.p8.spkg, linbox-1.1.6.p1.spkg\n* #6969 --- boehm_gc-7.1.p2.spkg\n* #6971 --- ecl-9.8.4-20090913cvs.p1.spkg\n* #7006 --- mpir-1.2.p6.spkg\n* #6919 --- flint-1.5.0.p0.spkg\n* #6990 --- python-2.6.2.p2.spkg\n* #6951 --- singular-3-1-0-4-20090818.p0.spkg\n\nThe building machines are:\n\n* bsd.math: x86 Mac OS X 10.6 --- compile: yes; doctest pass: no. Full log is attached.\n* sage.math: x86_64 Ubuntu 8.04.3 LTS --- compile: yes; doctest pass: yes\n* rosemary.math: x86_64 RHEL 5.4 --- compile: yes; doctest pass: yes\n* cicero on SkyNet: x86 Fedora 9 --- compile: yes; doctest pass: no. The failed tests are:\n\n ```\n sage -t -long \"devel/sage/sage/misc/randstate.pyx\"\n sage -t -long \"devel/sage/sage/rings/polynomial/pbori.pyx\"\n sage -t -long \"devel/sage/sage/interfaces/gp.py\"\n sage -t -long \"devel/sage/sage/interfaces/expect.py\"\n sage -t -long \"devel/sage/sage/interfaces/sage0.py\"\n sage -t -long \"devel/sage/sage/crypto/boolean_function.pyx\"\n sage -t -long \"devel/sage/sage/server/simple/twist.py\"\n ```\n which have been reported before to [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/ff85e2965dc9e59b).\n* eno on SkyNet: x86_64 Fedora 9 --- compile: yes; doctest pass: yes\n* lena on SkyNet: x86_64 RHEL 5.3 --- compile: yes; doctest pass: yes\n* menas on SkyNet: x86_64 openSUSE 11.1 --- compile: yes; doctest: yes\n\nPositive review from me. Any doctest failures are to be fixed in upcoming rc release(s). At the moment, there are so many packages with porting work to Cygwin and OS X 10.6. I'm happy that those packages build OK on Cygwin and OS X 10.6.",
    "created_at": "2009-09-27T01:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48548",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:16" align="right">comment:16</div>

Attachment: **[testlong-4.1.2.alpha2-updated-spkg-cicero-skynet.log](https://github.com/sagemath/sage/files/ticket6849/testlong-4.1.2.alpha2-updated-spkg-cicero-skynet.log)**

Here is John Palmieri's report from [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/e47addca35db2f5f/55d70e14b5c25a0e):

```
> * #6969 boehm_gc-7.1.p2.spkg
> * #6971 ecl-9.8.4-20090913cvs.p1.spkg
> * #7006 mpir-1.2.p6.spkg
> * #6919 flint-1.5.0.p0.spkg
> * #6990 python-2.6.2.p2.spkg
> * #6951 singular-3-1-0-4-20090818.p0.spkg
> * #6758 libgcrypt-1.4.3.p2.spkg
> * #6681 cliquer-1.2.p0.spkg

In an attempt to save time, I attempted to build using all of these at
once (instead of doing one at a time), along with the new fortran spkg
(#6981) and the new r spkg (#6972).  On OS X 10.5, both 32-bit and 64-
bit, building was successful.  After applying the appropriate patches
-- the ones from 6883, 6919, 6972 -- 64-bit: all tests passed.  After
applying these patches to the 32-bit build, same failures as Minh
reported in another thread ("Sage 4.1.2.alpha2 doctest failures on OS
X 10.5.8").

In other words, the packages seem to all look good.  I have not
examined each one to see if the spkg-install files make sense, for
instance, but from the point of view of building and (apparently)
functioning on OS X 10.5, they work.

I don't have the energy to comment on each ticket individually, so
take this as my portion of a positive review for each ticket: on Mac
OS X 10.5, they build properly and seem to work.
```

Here is my report. I compiled Sage 4.1.2.alpha2 from scratch with the following packages:

* #6972 --- r-2.9.2.spkg
* #6981 --- fortran-20071120.p8.spkg
* #6974 --- libgpg_error-1.6.p2.spkg, gnutls-2.2.1.p3.spkg, python_gnutls-1.1.4.p6.spkg, libgcrypt-1.4.3.p2.spkg, opencdk-0.6.6.p1.spkg
* #6976 --- numpy-1.3.0.p2.spkg
* #6982 --- atlas-3.8.3.p8.spkg, linbox-1.1.6.p1.spkg
* #6969 --- boehm_gc-7.1.p2.spkg
* #6971 --- ecl-9.8.4-20090913cvs.p1.spkg
* #7006 --- mpir-1.2.p6.spkg
* #6919 --- flint-1.5.0.p0.spkg
* #6990 --- python-2.6.2.p2.spkg
* #6951 --- singular-3-1-0-4-20090818.p0.spkg

The building machines are:

* bsd.math: x86 Mac OS X 10.6 --- compile: yes; doctest pass: no. Full log is attached.
* sage.math: x86_64 Ubuntu 8.04.3 LTS --- compile: yes; doctest pass: yes
* rosemary.math: x86_64 RHEL 5.4 --- compile: yes; doctest pass: yes
* cicero on SkyNet: x86 Fedora 9 --- compile: yes; doctest pass: no. The failed tests are:

 ```
 sage -t -long "devel/sage/sage/misc/randstate.pyx"
 sage -t -long "devel/sage/sage/rings/polynomial/pbori.pyx"
 sage -t -long "devel/sage/sage/interfaces/gp.py"
 sage -t -long "devel/sage/sage/interfaces/expect.py"
 sage -t -long "devel/sage/sage/interfaces/sage0.py"
 sage -t -long "devel/sage/sage/crypto/boolean_function.pyx"
 sage -t -long "devel/sage/sage/server/simple/twist.py"
 ```
 which have been reported before to [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/ff85e2965dc9e59b).
* eno on SkyNet: x86_64 Fedora 9 --- compile: yes; doctest pass: yes
* lena on SkyNet: x86_64 RHEL 5.3 --- compile: yes; doctest pass: yes
* menas on SkyNet: x86_64 openSUSE 11.1 --- compile: yes; doctest: yes

Positive review from me. Any doctest failures are to be fixed in upcoming rc release(s). At the moment, there are so many packages with porting work to Cygwin and OS X 10.6. I'm happy that those packages build OK on Cygwin and OS X 10.6.



---

archive/issue_comments_048549.json:
```json
{
    "body": "Author: **William Stein**",
    "created_at": "2009-09-27T01:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48549",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Author: **William Stein**



---

archive/issue_comments_048550.json:
```json
{
    "body": "Reviewer: **John Palmieri, Minh Van Nguyen**",
    "created_at": "2009-09-27T01:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48550",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Reviewer: **John Palmieri, Minh Van Nguyen**



---

archive/issue_comments_048551.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,4 +22,6 @@\n \n * MPIR -- see trac #7006 -- this is needed if one tries to build without specifying 64-bit explicitly on a 64-bit platform.\n \n-* Fortran -- see trac #6981, in particular .p8, which is critically needed to build if one does not specify SAGE64=\"yes\". \n+* Fortran -- see trac #6981, in particular .p8, which is critically needed to build if one does not specify SAGE64=\"yes\".\n+\n+* Matplotlib font cache issue -- see trac #7022 \n``````\n",
    "created_at": "2009-09-27T03:26:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48551",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,4 +22,6 @@
 
 * MPIR -- see trac #7006 -- this is needed if one tries to build without specifying 64-bit explicitly on a 64-bit platform.
 
-* Fortran -- see trac #6981, in particular .p8, which is critically needed to build if one does not specify SAGE64="yes". 
+* Fortran -- see trac #6981, in particular .p8, which is critically needed to build if one does not specify SAGE64="yes".
+
+* Matplotlib font cache issue -- see trac #7022 
``````




---

archive/issue_events_082509.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-02T17:42:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82509"
}
```



---

archive/issue_events_082510.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-02T17:42:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82510"
}
```



---

archive/issue_events_082511.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-02T17:44:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "milestone_number": null,
    "milestone_title": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82511"
}
```



---

archive/issue_events_082512.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-02T17:44:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "milestone_number": null,
    "milestone_title": "sage-4.1.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82512"
}
```



---

archive/issue_events_082513.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-02T17:47:41Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "title_is": "[with spkg's] port Sage to OS X 10.6",
    "title_was": "port Sage to OS X 10.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82513"
}
```



---

archive/issue_events_082514.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-14T16:10:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82514"
}
```



---

archive/issue_events_082515.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-14T16:10:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82515"
}
```



---

archive/issue_comments_048552.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI'm closing this metaticket.  There is one remaining issue, but that is now at #6849.",
    "created_at": "2009-10-14T16:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48552",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:21" align="right">comment:21</div>

I'm closing this metaticket.  There is one remaining issue, but that is now at #6849.



---

archive/issue_events_082516.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-14T16:12:41Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "milestone_number": null,
    "milestone_title": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82516"
}
```



---

archive/issue_events_082517.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-14T16:12:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "milestone_number": null,
    "milestone_title": "sage-4.1.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6849#event-82517"
}
```



---

archive/issue_comments_048553.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@williamstein](#comment:21):\n> I'm closing this metaticket.  There is one remaining issue, but that is now at #6849.\n\nThis *is* #6849.  Surely you meant another ticket?",
    "created_at": "2009-10-14T21:17:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6849",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6849#issuecomment-48553",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@williamstein](#comment:21):
> I'm closing this metaticket.  There is one remaining issue, but that is now at #6849.

This *is* #6849.  Surely you meant another ticket?
