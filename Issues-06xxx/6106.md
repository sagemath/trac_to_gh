# Issue 6106: Extra doctests for indefinite binary quadratic forms

archive/issues_006106.json:
```json
{
    "assignees": [],
    "body": "Extra doctests for indefinite binary quadratic forms\n\n**Assignee:** justin\n\n**CC:**  @ncalexan\n\n**Keywords:** binary quadratic forms\n\n**Branch/Commit:** [9af692e7a124bbdd7acbf39a23ad2a55fbf68979](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)\n\n**Reviewer:** John Cremona, Nick Alexander, Simon Brandhorst\n\n**Author:** Alia Hamieh\n\nIssue created by migration from https://trac.sagemath.org/ticket/6106\n\n",
    "closed_at": "2018-08-25T11:01:36Z",
    "created_at": "2009-05-21T05:22:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20quadratic%20forms",
        "https://github.com/sagemath/sage/labels/minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Extra doctests for indefinite binary quadratic forms",
    "type": "issue",
    "updated_at": "2018-08-25T11:01:36Z",
    "url": "https://github.com/sagemath/sage/issues/6106",
    "user": "https://github.com/sagetrac-aliashamieh"
}
```
Extra doctests for indefinite binary quadratic forms

**Assignee:** justin

**CC:**  @ncalexan

**Keywords:** binary quadratic forms

**Branch/Commit:** [9af692e7a124bbdd7acbf39a23ad2a55fbf68979](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)

**Reviewer:** John Cremona, Nick Alexander, Simon Brandhorst

**Author:** Alia Hamieh

Issue created by migration from https://trac.sagemath.org/ticket/6106





---

archive/issue_events_060656.json:
```json
{
    "actor": "https://github.com/sagetrac-aliashamieh",
    "created_at": "2009-05-21T05:22:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60656"
}
```



---

archive/issue_events_060657.json:
```json
{
    "actor": "https://github.com/sagetrac-aliashamieh",
    "created_at": "2009-05-21T05:22:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20quadratic%20forms",
    "label_color": "08517b",
    "label_name": "component: quadratic forms",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60657"
}
```



---

archive/issue_events_060658.json:
```json
{
    "actor": "https://github.com/sagetrac-aliashamieh",
    "created_at": "2009-05-21T05:22:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/minor",
    "label_color": "ff0000",
    "label_name": "minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60658"
}
```



---

archive/issue_events_060659.json:
```json
{
    "actor": "https://github.com/sagetrac-aliashamieh",
    "created_at": "2009-05-21T05:22:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60659"
}
```



---

archive/issue_events_060660.json:
```json
{
    "actor": "https://github.com/sagetrac-aliashamieh",
    "created_at": "2009-05-21T05:22:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60660"
}
```



---

archive/issue_comments_041664.json:
```json
{
    "body": "**Attachment:** [6106binaryQuadratic.patch.gz](https://github.com/sagemath/sage/files/ticket6106/6106binaryQuadratic.patch.gz)\n\n**Attachment:** [6106binaryQuadraticPT2.patch.gz](https://github.com/sagemath/sage/files/ticket6106/6106binaryQuadraticPT2.patch.gz)\n\nadded missing doctests",
    "created_at": "2009-05-21T05:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41664",
    "user": "https://github.com/sagetrac-aliashamieh"
}
```

**Attachment:** [6106binaryQuadratic.patch.gz](https://github.com/sagemath/sage/files/ticket6106/6106binaryQuadratic.patch.gz)

**Attachment:** [6106binaryQuadraticPT2.patch.gz](https://github.com/sagemath/sage/files/ticket6106/6106binaryQuadraticPT2.patch.gz)

added missing doctests



---

archive/issue_events_060661.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2009-06-10T10:11:55Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "rename": {
        "from": "[need review] Addition Indefinite Binary Quadratic Forms",
        "to": "Addition Indefinite Binary Quadratic Forms"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60661"
}
```



---

archive/issue_events_060662.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2009-06-10T10:11:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60662"
}
```



---

archive/issue_events_060663.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2009-06-10T10:11:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60663"
}
```



---

archive/issue_comments_041665.json:
```json
{
    "body": "<a id='comment:1'></a>\nAm changing this from \"need review\" to \"needs review\" so it shows up in the standard queries",
    "created_at": "2009-06-10T10:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41665",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:1'></a>
Am changing this from "need review" to "needs review" so it shows up in the standard queries



---

archive/issue_events_060664.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-06-11T16:58:39Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "rename": {
        "from": "Addition Indefinite Binary Quadratic Forms",
        "to": "[with review] Additional functions for Indefinite Binary Quadratic Forms"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60664"
}
```



---

archive/issue_events_060665.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-06-11T16:58:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60665"
}
```



---

archive/issue_events_060666.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-06-11T16:58:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60666"
}
```



---

archive/issue_comments_041666.json:
```json
{
    "body": "<a id='comment:2'></a>\nReview\n\nThe patch applied fine to 4.0.1, and it provides some functions which look useful.\n\nI think that not all new new functions have doctests.  Why are the new functions not implemented as member functions of the BinaryQF class?  That would be much better;  as it is anyone using them has to import them explicitly.  So I suggest that they are converted to be member functions (which is trivial to do).\n\nSecondly, the use of the python math functions sqrt and floor is not a good idea, since the coefficients of the form will be Sage integers.  For example:\n\n```\nsage: from sage.quadratic_forms.binary_qf import normalized_indefinite_form\nsage: f = BinaryQF([10^100,10^500,10^200])\nsage: f.discriminant()>0\nTrue\nsage: normalized_indefinite_form(f)\n---------------------------------------------------------------------------\nOverflowError                             Traceback (most recent call last)\n\n/home/john/.sage/temp/ubuntu/9768/_home_john__sage_init_sage_0.py in <module>()\n\n/home/john/sage-4.0.1/local/lib/python2.5/site-packages/sage/quadratic_forms/binary_qf.pyc in normalized_indefinite_form(f)\n    486         raise ValueError, \"This only works for indefinite forms\"\n    487     \n--> 488     if sqrt(delta) <= abs(a):\n    489         s=(a/abs(a))*floor(-1*b/(2*abs(a)))\n    490     else:\n\nOverflowError: math range error\n```\nFor example, the line if sqrt(delta) <= abs(a): could be replaced by if delta <= a**2: .\n\nThe docstring for this function should also say what the definition of \"normalised\" is.\n\nI also slightly amended the ticket's title to give a better description.",
    "created_at": "2009-06-11T16:58:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41666",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:2'></a>
Review

The patch applied fine to 4.0.1, and it provides some functions which look useful.

I think that not all new new functions have doctests.  Why are the new functions not implemented as member functions of the BinaryQF class?  That would be much better;  as it is anyone using them has to import them explicitly.  So I suggest that they are converted to be member functions (which is trivial to do).

Secondly, the use of the python math functions sqrt and floor is not a good idea, since the coefficients of the form will be Sage integers.  For example:

```
sage: from sage.quadratic_forms.binary_qf import normalized_indefinite_form
sage: f = BinaryQF([10^100,10^500,10^200])
sage: f.discriminant()>0
True
sage: normalized_indefinite_form(f)
---------------------------------------------------------------------------
OverflowError                             Traceback (most recent call last)

/home/john/.sage/temp/ubuntu/9768/_home_john__sage_init_sage_0.py in <module>()

/home/john/sage-4.0.1/local/lib/python2.5/site-packages/sage/quadratic_forms/binary_qf.pyc in normalized_indefinite_form(f)
    486         raise ValueError, "This only works for indefinite forms"
    487     
--> 488     if sqrt(delta) <= abs(a):
    489         s=(a/abs(a))*floor(-1*b/(2*abs(a)))
    490     else:

OverflowError: math range error
```
For example, the line if sqrt(delta) <= abs(a): could be replaced by if delta <= a**2: .

The docstring for this function should also say what the definition of "normalised" is.

I also slightly amended the ticket's title to give a better description.



---

archive/issue_comments_041667.json:
```json
{
    "body": "<a id='comment:3'></a>\nAlia and I are going to work on this in the next few days.",
    "created_at": "2009-07-01T17:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41667",
    "user": "https://github.com/ncalexan"
}
```

<a id='comment:3'></a>
Alia and I are going to work on this in the next few days.



---

archive/issue_comments_041668.json:
```json
{
    "body": "**Reviewer:** John Cremona, Nick Alexander",
    "created_at": "2009-07-01T17:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41668",
    "user": "https://github.com/ncalexan"
}
```

**Reviewer:** John Cremona, Nick Alexander



---

archive/issue_events_060667.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2009-07-01T17:04:48Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "rename": {
        "from": "[with review] Additional functions for Indefinite Binary Quadratic Forms",
        "to": "Additional functions for Indefinite Binary Quadratic Forms"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60667"
}
```



---

archive/issue_comments_041669.json:
```json
{
    "body": "**Author:** Alia Hamieh",
    "created_at": "2009-07-01T17:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41669",
    "user": "https://github.com/ncalexan"
}
```

**Author:** Alia Hamieh



---

archive/issue_comments_041670.json:
```json
{
    "body": "**Attachment:** [6106BinaryQF.patch.gz](https://github.com/sagemath/sage/files/ticket6106/6106BinaryQF.patch.gz)\n\n[with patch, needs review] Additional functions for Indefinite Binary Quadratic Forms",
    "created_at": "2009-07-17T19:07:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41670",
    "user": "https://github.com/sagetrac-aliashamieh"
}
```

**Attachment:** [6106BinaryQF.patch.gz](https://github.com/sagemath/sage/files/ticket6106/6106BinaryQF.patch.gz)

[with patch, needs review] Additional functions for Indefinite Binary Quadratic Forms



---

archive/issue_events_060668.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60668"
}
```



---

archive/issue_events_060669.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60669"
}
```



---

archive/issue_events_060670.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60670"
}
```



---

archive/issue_events_060671.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60671"
}
```



---

archive/issue_comments_041671.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis ticket seems to implement the same functionality as (part of) #4120, which has been inactive for a very long time, like this ticket.",
    "created_at": "2014-02-26T17:38:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41671",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:6'></a>
This ticket seems to implement the same functionality as (part of) #4120, which has been inactive for a very long time, like this ticket.



---

archive/issue_events_060672.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60672"
}
```



---

archive/issue_events_060673.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60673"
}
```



---

archive/issue_events_060674.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60674"
}
```



---

archive/issue_events_060675.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60675"
}
```



---

archive/issue_comments_041672.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [@pjbruin](#comment%3A6):\n> This ticket seems to implement the same functionality as (part of) #4120, which has been inactive for a very long time, like this ticket.\n\nNow that #4120 has been merged, it would be good to check if this ticket still adds new functionality.  If not, we could also just add the examples from this ticket.",
    "created_at": "2018-06-19T11:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41672",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:9'></a>
Replying to [@pjbruin](#comment%3A6):
> This ticket seems to implement the same functionality as (part of) #4120, which has been inactive for a very long time, like this ticket.

Now that #4120 has been merged, it would be good to check if this ticket still adds new functionality.  If not, we could also just add the examples from this ticket.



---

archive/issue_events_060676.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-14T17:34:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60676"
}
```



---

archive/issue_events_060677.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-14T17:34:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "008080",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60677"
}
```



---

archive/issue_comments_041673.json:
```json
{
    "body": "<a id='comment:10'></a>\nThis ticket does not add anything new.",
    "created_at": "2018-07-14T17:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41673",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:10'></a>
This ticket does not add anything new.



---

archive/issue_events_060678.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-14T17:34:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60678"
}
```



---

archive/issue_events_060679.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-14T17:34:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60679"
}
```



---

archive/issue_comments_041674.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [@simonbrandhorst](#comment%3A10):\n> This ticket does not add anything new. \n\nOK.  It might still be useful to add the doctests from this ticket; what do you think?",
    "created_at": "2018-07-16T08:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41674",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:11'></a>
Replying to [@simonbrandhorst](#comment%3A10):
> This ticket does not add anything new. 

OK.  It might still be useful to add the doctests from this ticket; what do you think?



---

archive/issue_comments_041675.json:
```json
{
    "body": "<a id='comment:12'></a>\nIf I recall correctly the reduction of an indefinite form is not unique but instead we get a cycle of forms. So we can add some doctests. But the results may be different.\n\nNote that we messed up a little for indefinite forms of square determinant #25861.",
    "created_at": "2018-07-16T09:00:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41675",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:12'></a>
If I recall correctly the reduction of an indefinite form is not unique but instead we get a cycle of forms. So we can add some doctests. But the results may be different.

Note that we messed up a little for indefinite forms of square determinant #25861.



---

archive/issue_comments_041676.json:
```json
{
    "body": "**Commit:** [9af692e7a124bbdd7acbf39a23ad2a55fbf68979](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)",
    "created_at": "2018-07-16T09:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41676",
    "user": "https://github.com/pjbruin"
}
```

**Commit:** [9af692e7a124bbdd7acbf39a23ad2a55fbf68979](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)



---

archive/issue_comments_041677.json:
```json
{
    "body": "**Branch:** [u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)",
    "created_at": "2018-07-16T09:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41677",
    "user": "https://github.com/pjbruin"
}
```

**Branch:** [u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)



---

archive/issue_comments_041678.json:
```json
{
    "body": "<a id='comment:13'></a>\nHere are some doctests from the patches.  I checked that they are mathematically correct.  The docstring for `reduced_form()` did not have any examples with `transformation=True` yet; now it does.",
    "created_at": "2018-07-16T09:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41678",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:13'></a>
Here are some doctests from the patches.  I checked that they are mathematically correct.  The docstring for `reduced_form()` did not have any examples with `transformation=True` yet; now it does.



---

archive/issue_comments_041679.json:
```json
{
    "body": "**Changing reviewer** from \"John Cremona, Nick Alexander\" to \"John Cremona, Nick Alexander, Simon Brandhorst, Peter Bruin\".",
    "created_at": "2018-07-16T09:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41679",
    "user": "https://github.com/pjbruin"
}
```

**Changing reviewer** from "John Cremona, Nick Alexander" to "John Cremona, Nick Alexander, Simon Brandhorst, Peter Bruin".



---

archive/issue_events_060680.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2018-07-16T09:49:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60680"
}
```



---

archive/issue_comments_041680.json:
```json
{
    "body": "**Changing commit** from \"[9af692e7a124bbdd7acbf39a23ad2a55fbf68979](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)\" to \"\".",
    "created_at": "2018-07-16T10:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41680",
    "user": "https://github.com/simonbrandhorst"
}
```

**Changing commit** from "[9af692e7a124bbdd7acbf39a23ad2a55fbf68979](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)" to "".



---

archive/issue_events_060681.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-16T10:26:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60681"
}
```



---

archive/issue_events_060682.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-16T10:26:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60682"
}
```



---

archive/issue_comments_041681.json:
```json
{
    "body": "<a id='comment:14'></a>\ndoc builds.",
    "created_at": "2018-07-16T10:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41681",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:14'></a>
doc builds.



---

archive/issue_events_060683.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-16T10:26:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60683"
}
```



---

archive/issue_comments_041682.json:
```json
{
    "body": "**Changing branch** from \"[u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)\" to \"\".",
    "created_at": "2018-07-16T10:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41682",
    "user": "https://github.com/simonbrandhorst"
}
```

**Changing branch** from "[u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)" to "".



---

archive/issue_comments_041683.json:
```json
{
    "body": "**Changing reviewer** from \"John Cremona, Nick Alexander, Simon Brandhorst, Peter Bruin\" to \"John Cremona, Nick Alexander, Simon Brandhorst\".",
    "created_at": "2018-07-16T10:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41683",
    "user": "https://github.com/simonbrandhorst"
}
```

**Changing reviewer** from "John Cremona, Nick Alexander, Simon Brandhorst, Peter Bruin" to "John Cremona, Nick Alexander, Simon Brandhorst".



---

archive/issue_comments_041684.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-I added functions to check for the reducibility of an indefinite binary quadratic form and reduce it. \n+Extra doctests for indefinite binary quadratic forms\n``````\n",
    "created_at": "2018-07-16T10:26:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41684",
    "user": "https://github.com/simonbrandhorst"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-I added functions to check for the reducibility of an indefinite binary quadratic form and reduce it. 
+Extra doctests for indefinite binary quadratic forms
``````




---

archive/issue_events_060684.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-16T10:26:46Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "rename": {
        "from": "Additional functions for Indefinite Binary Quadratic Forms",
        "to": "Extra doctests for indefinite binary quadratic forms"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60684"
}
```



---

archive/issue_events_060685.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2018-08-22T12:29:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60685"
}
```



---

archive/issue_comments_041685.json:
```json
{
    "body": "**Commit:** [9af692e7a124bbdd7acbf39a23ad2a55fbf68979](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)",
    "created_at": "2018-08-22T12:29:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41685",
    "user": "https://github.com/pjbruin"
}
```

**Commit:** [9af692e7a124bbdd7acbf39a23ad2a55fbf68979](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)



---

archive/issue_comments_041686.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [@simonbrandhorst](#comment%3A14):\n> doc builds.\n\nFrom your other changes, it doesn't look like you really intended to delete the branch and change the milestone to *sage-duplicate/invalid/wontfix*...",
    "created_at": "2018-08-22T12:29:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41686",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:16'></a>
Replying to [@simonbrandhorst](#comment%3A14):
> doc builds.

From your other changes, it doesn't look like you really intended to delete the branch and change the milestone to *sage-duplicate/invalid/wontfix*...



---

archive/issue_comments_041687.json:
```json
{
    "body": "**Branch:** [u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)",
    "created_at": "2018-08-22T12:29:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41687",
    "user": "https://github.com/pjbruin"
}
```

**Branch:** [u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)



---

archive/issue_comments_041688.json:
```json
{
    "body": "<a id='comment:17'></a>\nOoops indeed. Thank you.",
    "created_at": "2018-08-24T11:40:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41688",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:17'></a>
Ooops indeed. Thank you.



---

archive/issue_events_060686.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-25T11:01:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60686"
}
```



---

archive/issue_events_060687.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "db0b57b8a96749b1db1ccc8c11e80c1291c4b120",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-08-25T11:01:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-60687"
}
```



---

archive/issue_comments_041689.json:
```json
{
    "body": "**Changing branch** from \"[u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)\" to \"[9af692e7a124bbdd7acbf39a23ad2a55fbf68979](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)\".",
    "created_at": "2018-08-25T11:01:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-41689",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)" to "[9af692e7a124bbdd7acbf39a23ad2a55fbf68979](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)".
