# Issue 6106: Extra doctests for indefinite binary quadratic forms

archive/issues_006106.json:
```json
{
    "assignees": [
        "https://github.com/RalphieBoy"
    ],
    "body": "Extra doctests for indefinite binary quadratic forms\n\nCC:  @ncalexan\n\nComponent: **quadratic forms**\n\nKeywords: **binary quadratic forms**\n\nAuthor: **Alia Hamieh**\n\nBranch/Commit: **[`9af692e`](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)**\n\nReviewer: **John Cremona, Nick Alexander, Simon Brandhorst**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/6106_\n\n",
    "closed_at": "2018-08-25T11:01:36Z",
    "created_at": "2009-05-21T05:22:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20quadratic%20forms",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Extra doctests for indefinite binary quadratic forms",
    "type": "issue",
    "updated_at": "2018-08-25T11:01:36Z",
    "url": "https://github.com/sagemath/sage/issues/6106",
    "user": "https://github.com/sagetrac-aliashamieh"
}
```
Extra doctests for indefinite binary quadratic forms

CC:  @ncalexan

Component: **quadratic forms**

Keywords: **binary quadratic forms**

Author: **Alia Hamieh**

Branch/Commit: **[`9af692e`](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)**

Reviewer: **John Cremona, Nick Alexander, Simon Brandhorst**

_Issue created by migration from https://trac.sagemath.org/ticket/6106_





---

archive/issue_events_072760.json:
```json
{
    "actor": "https://github.com/sagetrac-aliashamieh",
    "created_at": "2009-05-21T05:22:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72760"
}
```



---

archive/issue_events_072761.json:
```json
{
    "actor": "https://github.com/sagetrac-aliashamieh",
    "created_at": "2009-05-21T05:22:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20quadratic%20forms",
    "label_color": "0000ff",
    "label_name": "c: quadratic forms",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72761"
}
```



---

archive/issue_events_072762.json:
```json
{
    "actor": "https://github.com/sagetrac-aliashamieh",
    "created_at": "2009-05-21T05:22:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72762"
}
```



---

archive/issue_events_072763.json:
```json
{
    "actor": "https://github.com/sagetrac-aliashamieh",
    "created_at": "2009-05-21T05:22:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72763"
}
```



---

archive/issue_events_072764.json:
```json
{
    "actor": "https://github.com/sagetrac-aliashamieh",
    "created_at": "2009-05-21T05:22:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72764"
}
```



---

archive/issue_events_072765.json:
```json
{
    "actor": "https://github.com/RalphieBoy",
    "created_at": "2009-05-21T05:22:11Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "subject": "https://github.com/sagetrac-aliashamieh",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72765"
}
```



---

archive/issue_comments_040253.json:
```json
{
    "body": "Attachment: **[6106binaryQuadratic.patch.gz](https://github.com/sagemath/sage/files/ticket6106/6106binaryQuadratic.patch.gz)**\n\nAttachment: **[6106binaryQuadraticPT2.patch.gz](https://github.com/sagemath/sage/files/ticket6106/6106binaryQuadraticPT2.patch.gz)**\n\nadded missing doctests",
    "created_at": "2009-05-21T05:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40253",
    "user": "https://github.com/sagetrac-aliashamieh"
}
```

Attachment: **[6106binaryQuadratic.patch.gz](https://github.com/sagemath/sage/files/ticket6106/6106binaryQuadratic.patch.gz)**

Attachment: **[6106binaryQuadraticPT2.patch.gz](https://github.com/sagemath/sage/files/ticket6106/6106binaryQuadraticPT2.patch.gz)**

added missing doctests



---

archive/issue_events_072766.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2009-06-10T10:11:55Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "title_is": "Addition Indefinite Binary Quadratic Forms",
    "title_was": "[need review] Addition Indefinite Binary Quadratic Forms",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72766"
}
```



---

archive/issue_events_072767.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2009-06-10T10:11:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72767"
}
```



---

archive/issue_events_072768.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2009-06-10T10:11:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72768"
}
```



---

archive/issue_comments_040254.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAm changing this from \"need review\" to \"needs review\" so it shows up in the standard queries",
    "created_at": "2009-06-10T10:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40254",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:1" align="right">comment:1</div>

Am changing this from "need review" to "needs review" so it shows up in the standard queries



---

archive/issue_events_072769.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-06-11T16:58:39Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "title_is": "[with review] Additional functions for Indefinite Binary Quadratic Forms",
    "title_was": "Addition Indefinite Binary Quadratic Forms",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72769"
}
```



---

archive/issue_events_072770.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-06-11T16:58:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72770"
}
```



---

archive/issue_events_072771.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-06-11T16:58:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72771"
}
```



---

archive/issue_comments_040255.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nReview\n\nThe patch applied fine to 4.0.1, and it provides some functions which look useful.\n\nI think that not all new new functions have doctests.  Why are the new functions not implemented as member functions of the BinaryQF class?  That would be much better;  as it is anyone using them has to import them explicitly.  So I suggest that they are converted to be member functions (which is trivial to do).\n\nSecondly, the use of the python math functions sqrt and floor is not a good idea, since the coefficients of the form will be Sage integers.  For example:\n\n```\nsage: from sage.quadratic_forms.binary_qf import normalized_indefinite_form\nsage: f = BinaryQF([10^100,10^500,10^200])\nsage: f.discriminant()>0\nTrue\nsage: normalized_indefinite_form(f)\n---------------------------------------------------------------------------\nOverflowError                             Traceback (most recent call last)\n\n/home/john/.sage/temp/ubuntu/9768/_home_john__sage_init_sage_0.py in <module>()\n\n/home/john/sage-4.0.1/local/lib/python2.5/site-packages/sage/quadratic_forms/binary_qf.pyc in normalized_indefinite_form(f)\n    486         raise ValueError, \"This only works for indefinite forms\"\n    487     \n--> 488     if sqrt(delta) <= abs(a):\n    489         s=(a/abs(a))*floor(-1*b/(2*abs(a)))\n    490     else:\n\nOverflowError: math range error\n```\nFor example, the line if sqrt(delta) <= abs(a): could be replaced by if delta <= a**2: .\n\nThe docstring for this function should also say what the definition of \"normalised\" is.\n\nI also slightly amended the ticket's title to give a better description.",
    "created_at": "2009-06-11T16:58:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40255",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:2" align="right">comment:2</div>

Review

The patch applied fine to 4.0.1, and it provides some functions which look useful.

I think that not all new new functions have doctests.  Why are the new functions not implemented as member functions of the BinaryQF class?  That would be much better;  as it is anyone using them has to import them explicitly.  So I suggest that they are converted to be member functions (which is trivial to do).

Secondly, the use of the python math functions sqrt and floor is not a good idea, since the coefficients of the form will be Sage integers.  For example:

```
sage: from sage.quadratic_forms.binary_qf import normalized_indefinite_form
sage: f = BinaryQF([10^100,10^500,10^200])
sage: f.discriminant()>0
True
sage: normalized_indefinite_form(f)
---------------------------------------------------------------------------
OverflowError                             Traceback (most recent call last)

/home/john/.sage/temp/ubuntu/9768/_home_john__sage_init_sage_0.py in <module>()

/home/john/sage-4.0.1/local/lib/python2.5/site-packages/sage/quadratic_forms/binary_qf.pyc in normalized_indefinite_form(f)
    486         raise ValueError, "This only works for indefinite forms"
    487     
--> 488     if sqrt(delta) <= abs(a):
    489         s=(a/abs(a))*floor(-1*b/(2*abs(a)))
    490     else:

OverflowError: math range error
```
For example, the line if sqrt(delta) <= abs(a): could be replaced by if delta <= a**2: .

The docstring for this function should also say what the definition of "normalised" is.

I also slightly amended the ticket's title to give a better description.



---

archive/issue_comments_040256.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAlia and I are going to work on this in the next few days.",
    "created_at": "2009-07-01T17:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40256",
    "user": "https://github.com/ncalexan"
}
```

<div id="comment:3" align="right">comment:3</div>

Alia and I are going to work on this in the next few days.



---

archive/issue_comments_040257.json:
```json
{
    "body": "Reviewer: **John Cremona, Nick Alexander**",
    "created_at": "2009-07-01T17:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40257",
    "user": "https://github.com/ncalexan"
}
```

Reviewer: **John Cremona, Nick Alexander**



---

archive/issue_events_072772.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2009-07-01T17:04:48Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "title_is": "Additional functions for Indefinite Binary Quadratic Forms",
    "title_was": "[with review] Additional functions for Indefinite Binary Quadratic Forms",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72772"
}
```



---

archive/issue_comments_040258.json:
```json
{
    "body": "Author: **Alia Hamieh**",
    "created_at": "2009-07-01T17:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40258",
    "user": "https://github.com/ncalexan"
}
```

Author: **Alia Hamieh**



---

archive/issue_comments_040259.json:
```json
{
    "body": "Attachment: **[6106BinaryQF.patch.gz](https://github.com/sagemath/sage/files/ticket6106/6106BinaryQF.patch.gz)**\n\n[with patch, needs review] Additional functions for Indefinite Binary Quadratic Forms",
    "created_at": "2009-07-17T19:07:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40259",
    "user": "https://github.com/sagetrac-aliashamieh"
}
```

Attachment: **[6106BinaryQF.patch.gz](https://github.com/sagemath/sage/files/ticket6106/6106BinaryQF.patch.gz)**

[with patch, needs review] Additional functions for Indefinite Binary Quadratic Forms



---

archive/issue_events_072773.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72773"
}
```



---

archive/issue_events_072774.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72774"
}
```



---

archive/issue_events_072775.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72775"
}
```



---

archive/issue_events_072776.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72776"
}
```



---

archive/issue_comments_040260.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThis ticket seems to implement the same functionality as (part of) #4120, which has been inactive for a very long time, like this ticket.",
    "created_at": "2014-02-26T17:38:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40260",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:6" align="right">comment:6</div>

This ticket seems to implement the same functionality as (part of) #4120, which has been inactive for a very long time, like this ticket.



---

archive/issue_events_072777.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72777"
}
```



---

archive/issue_events_072778.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72778"
}
```



---

archive/issue_events_072779.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72779"
}
```



---

archive/issue_events_072780.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72780"
}
```



---

archive/issue_comments_040261.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@pjbruin](#comment%3A6):\n> This ticket seems to implement the same functionality as (part of) #4120, which has been inactive for a very long time, like this ticket.\n\nNow that #4120 has been merged, it would be good to check if this ticket still adds new functionality.  If not, we could also just add the examples from this ticket.",
    "created_at": "2018-06-19T11:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40261",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@pjbruin](#comment%3A6):
> This ticket seems to implement the same functionality as (part of) #4120, which has been inactive for a very long time, like this ticket.

Now that #4120 has been merged, it would be good to check if this ticket still adds new functionality.  If not, we could also just add the examples from this ticket.



---

archive/issue_events_072781.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-14T17:34:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72781"
}
```



---

archive/issue_comments_040262.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThis ticket does not add anything new.",
    "created_at": "2018-07-14T17:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40262",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:10" align="right">comment:10</div>

This ticket does not add anything new.



---

archive/issue_events_072782.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-14T17:34:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72782"
}
```



---

archive/issue_events_072783.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-14T17:34:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72783"
}
```



---

archive/issue_comments_040263.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@simonbrandhorst](#comment%3A10):\n> This ticket does not add anything new. \n\nOK.  It might still be useful to add the doctests from this ticket; what do you think?",
    "created_at": "2018-07-16T08:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40263",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@simonbrandhorst](#comment%3A10):
> This ticket does not add anything new. 

OK.  It might still be useful to add the doctests from this ticket; what do you think?



---

archive/issue_comments_040264.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIf I recall correctly the reduction of an indefinite form is not unique but instead we get a cycle of forms. So we can add some doctests. But the results may be different.\n\nNote that we messed up a little for indefinite forms of square determinant #25861.",
    "created_at": "2018-07-16T09:00:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40264",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:12" align="right">comment:12</div>

If I recall correctly the reduction of an indefinite form is not unique but instead we get a cycle of forms. So we can add some doctests. But the results may be different.

Note that we messed up a little for indefinite forms of square determinant #25861.



---

archive/issue_comments_040265.json:
```json
{
    "body": "Commit: **[`9af692e`](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)**",
    "created_at": "2018-07-16T09:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40265",
    "user": "https://github.com/pjbruin"
}
```

Commit: **[`9af692e`](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)**



---

archive/issue_comments_040266.json:
```json
{
    "body": "Branch: **[u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)**",
    "created_at": "2018-07-16T09:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40266",
    "user": "https://github.com/pjbruin"
}
```

Branch: **[u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)**



---

archive/issue_comments_040267.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHere are some doctests from the patches.  I checked that they are mathematically correct.  The docstring for `reduced_form()` did not have any examples with `transformation=True` yet; now it does.",
    "created_at": "2018-07-16T09:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40267",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:13" align="right">comment:13</div>

Here are some doctests from the patches.  I checked that they are mathematically correct.  The docstring for `reduced_form()` did not have any examples with `transformation=True` yet; now it does.



---

archive/issue_comments_040268.json:
```json
{
    "body": "Changed reviewer from **John Cremona, Nick Alexander** to **John Cremona, Nick Alexander, Simon Brandhorst, Peter Bruin**",
    "created_at": "2018-07-16T09:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40268",
    "user": "https://github.com/pjbruin"
}
```

Changed reviewer from **John Cremona, Nick Alexander** to **John Cremona, Nick Alexander, Simon Brandhorst, Peter Bruin**



---

archive/issue_events_072784.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2018-07-16T09:49:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72784"
}
```



---

archive/issue_comments_040269.json:
```json
{
    "body": "Changed commit from **[`9af692e`](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)** to none",
    "created_at": "2018-07-16T10:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40269",
    "user": "https://github.com/simonbrandhorst"
}
```

Changed commit from **[`9af692e`](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)** to none



---

archive/issue_events_072785.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-16T10:26:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72785"
}
```



---

archive/issue_events_072786.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-16T10:26:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72786"
}
```



---

archive/issue_comments_040270.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\ndoc builds.",
    "created_at": "2018-07-16T10:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40270",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:14" align="right">comment:14</div>

doc builds.



---

archive/issue_events_072787.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-16T10:26:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72787"
}
```



---

archive/issue_comments_040271.json:
```json
{
    "body": "Changed branch from **[u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)** to none",
    "created_at": "2018-07-16T10:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40271",
    "user": "https://github.com/simonbrandhorst"
}
```

Changed branch from **[u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)** to none



---

archive/issue_comments_040272.json:
```json
{
    "body": "Changed reviewer from **John Cremona, Nick Alexander, Simon Brandhorst, Peter Bruin** to **John Cremona, Nick Alexander, Simon Brandhorst**",
    "created_at": "2018-07-16T10:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40272",
    "user": "https://github.com/simonbrandhorst"
}
```

Changed reviewer from **John Cremona, Nick Alexander, Simon Brandhorst, Peter Bruin** to **John Cremona, Nick Alexander, Simon Brandhorst**



---

archive/issue_comments_040273.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-I added functions to check for the reducibility of an indefinite binary quadratic form and reduce it. \n+Extra doctests for indefinite binary quadratic forms\n``````\n",
    "created_at": "2018-07-16T10:26:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40273",
    "user": "https://github.com/simonbrandhorst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-I added functions to check for the reducibility of an indefinite binary quadratic form and reduce it. 
+Extra doctests for indefinite binary quadratic forms
``````




---

archive/issue_events_072788.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2018-07-16T10:26:46Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "title_is": "Extra doctests for indefinite binary quadratic forms",
    "title_was": "Additional functions for Indefinite Binary Quadratic Forms",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72788"
}
```



---

archive/issue_events_072789.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2018-08-22T12:29:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72789"
}
```



---

archive/issue_comments_040274.json:
```json
{
    "body": "Commit: **[`9af692e`](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)**",
    "created_at": "2018-08-22T12:29:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40274",
    "user": "https://github.com/pjbruin"
}
```

Commit: **[`9af692e`](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)**



---

archive/issue_comments_040275.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@simonbrandhorst](#comment%3A14):\n> doc builds.\n\nFrom your other changes, it doesn't look like you really intended to delete the branch and change the milestone to *sage-duplicate/invalid/wontfix*...",
    "created_at": "2018-08-22T12:29:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40275",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@simonbrandhorst](#comment%3A14):
> doc builds.

From your other changes, it doesn't look like you really intended to delete the branch and change the milestone to *sage-duplicate/invalid/wontfix*...



---

archive/issue_comments_040276.json:
```json
{
    "body": "Branch: **[u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)**",
    "created_at": "2018-08-22T12:29:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40276",
    "user": "https://github.com/pjbruin"
}
```

Branch: **[u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)**



---

archive/issue_comments_040277.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOoops indeed. Thank you.",
    "created_at": "2018-08-24T11:40:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40277",
    "user": "https://github.com/simonbrandhorst"
}
```

<div id="comment:17" align="right">comment:17</div>

Ooops indeed. Thank you.



---

archive/issue_events_072790.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-25T11:01:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72790"
}
```



---

archive/issue_events_072791.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "db0b57b8a96749b1db1ccc8c11e80c1291c4b120",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-08-25T11:01:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6106#event-72791"
}
```



---

archive/issue_comments_040278.json:
```json
{
    "body": "Changed branch from **[u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)** to **[`9af692e`](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)**",
    "created_at": "2018-08-25T11:01:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6106#issuecomment-40278",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/pbruin/6106-BinaryQF_examples](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/6106-BinaryQF_examples)** to **[`9af692e`](https://github.com/sagemath/sagetrac-mirror/commit/9af692e7a124bbdd7acbf39a23ad2a55fbf68979)**
