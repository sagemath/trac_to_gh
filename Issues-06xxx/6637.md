# Issue 6637: standardize the interface to TransitiveIdeal and friends

archive/issues_006637.json:
```json
{
    "assignees": [],
    "body": "1. Implement a single entry point for recursively enumerated sets:\n\n```\n     RecursivelyEnumeratedSet(seeds, successors, structure=..., enumeration=...)\n```\n\nwhere `structure` takes values in the set `[None, 'forest', 'graded', 'symmetric']` and `enumeration` takes values in the set `[None, 'depth', 'breadth', 'naive']`.\n\n2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.\n\n3. `TransitiveIdeal(succ, seeds)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='naive')`.\n\n4. `TransitiveIdealGraded(succ, seeds, max_depth)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='breadth', max_depth=max_depth)`.\n\nRemarks:\n\nA. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx`. See #16351.\n\nB. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` for speed improvements and also to avoid issues explained in C below. See #16352.\n\nC. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n\n   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first. It is what I call a naive search.\n   - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.\n\nSee [my status report at SageDays57](http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/04/my-status-report-at-sage-days-57-recursivelyenumeratedset/) for more info.\n\nDepends on #14052\n\n**Assignee:** @mwhansen\n\n**CC:**  sage-combinat @hivert\n\n**Keywords:** backtrack, enumerated set, transitive closure, days57\n\n**Branch:** [3191690431cfe1614444004863b15a331941ad00](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** S\u00e9bastien Labb\u00e9\n\nIssue created by migration from https://trac.sagemath.org/ticket/6637\n\n",
    "closed_at": "2014-05-13T08:42:15Z",
    "created_at": "2009-07-27T12:10:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "standardize the interface to TransitiveIdeal and friends",
    "type": "issue",
    "updated_at": "2014-05-13T20:05:09Z",
    "url": "https://github.com/sagemath/sage/issues/6637",
    "user": "https://github.com/nthiery"
}
```
1. Implement a single entry point for recursively enumerated sets:

```
     RecursivelyEnumeratedSet(seeds, successors, structure=..., enumeration=...)
```

where `structure` takes values in the set `[None, 'forest', 'graded', 'symmetric']` and `enumeration` takes values in the set `[None, 'depth', 'breadth', 'naive']`.

2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.

3. `TransitiveIdeal(succ, seeds)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='naive')`.

4. `TransitiveIdealGraded(succ, seeds, max_depth)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='breadth', max_depth=max_depth)`.

Remarks:

A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx`. See #16351.

B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` for speed improvements and also to avoid issues explained in C below. See #16352.

C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:

   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first. It is what I call a naive search.
   - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.

See [my status report at SageDays57](http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/04/my-status-report-at-sage-days-57-recursivelyenumeratedset/) for more info.

Depends on #14052

**Assignee:** @mwhansen

**CC:**  sage-combinat @hivert

**Keywords:** backtrack, enumerated set, transitive closure, days57

**Branch:** [3191690431cfe1614444004863b15a331941ad00](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)

**Reviewer:** Travis Scrimshaw

**Author:** Sébastien Labbé

Issue created by migration from https://trac.sagemath.org/ticket/6637





---

archive/issue_comments_047757.json:
```json
{
    "body": "<a id='comment:1'></a>\nHere are some discussions related to this ticket:\n\n- [TransitiveIdeal vs TransitiveIdealGraded](https://groups.google.com/d/topic/sage-combinat-devel/5Be8FSY5w6I/discussion) on sage-combinat, Feb 2013.\n\n- [Comment of Nicolas Thi\u00e9ry at #14052](https://github.com/sagemath/sage/issues/14052#comment:7), Feb 2013\n\n- [SearchForest and post_process...](https://groups.google.com/d/topic/sage-devel/97_5g0Pjuuw/discussion), on sage-devel, Oct. 2012.\n\n- [Sage modules and forking](https://groups.google.com/d/msg/sage-devel/5XHvEx89RlQ/Tb_QBWepC5YJ) on sage-devel, a comment by Florent Hivert, Oct. 2012.\n\n- #13580, patch available on sage-combinat : [trac_13580-map_reduce-fh.patch](http://combinat.sagemath.org/patches/file/7e81f6e12973/trac_13580-map_reduce-fh.patch)",
    "created_at": "2013-02-09T17:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47757",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:1'></a>
Here are some discussions related to this ticket:

- [TransitiveIdeal vs TransitiveIdealGraded](https://groups.google.com/d/topic/sage-combinat-devel/5Be8FSY5w6I/discussion) on sage-combinat, Feb 2013.

- [Comment of Nicolas Thiéry at #14052](https://github.com/sagemath/sage/issues/14052#comment:7), Feb 2013

- [SearchForest and post_process...](https://groups.google.com/d/topic/sage-devel/97_5g0Pjuuw/discussion), on sage-devel, Oct. 2012.

- [Sage modules and forking](https://groups.google.com/d/msg/sage-devel/5XHvEx89RlQ/Tb_QBWepC5YJ) on sage-devel, a comment by Florent Hivert, Oct. 2012.

- #13580, patch available on sage-combinat : [trac_13580-map_reduce-fh.patch](http://combinat.sagemath.org/patches/file/7e81f6e12973/trac_13580-map_reduce-fh.patch)



---

archive/issue_events_043867.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2013-02-09T18:17:04Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "rename": {
        "from": "Follow up on #6000: standardize the interface to TransitiveIdeal and friends",
        "to": "standardize the interface to TransitiveIdeal and friends"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43867"
}
```



---

archive/issue_comments_047758.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,6 +4,6 @@\n      TransitiveClosure(roots, operators = ..., children = , acyclic = True, algo = \"DFS\", \"BFS\", internal_nodes = False)\n ```\n \n-for all the functions in sage.combinat.backtrack.py SearchForest, TransitiveIdeal, TransitiveIdealGraded\n+for all the functions in sage.combinat.backtrack.py `SearchForest`, `TransitiveIdeal`, `TransitiveIdealGraded`\n \n TODO: discuss the names above\n``````\n",
    "created_at": "2013-02-09T18:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47758",
    "user": "https://github.com/seblabbe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,6 +4,6 @@
      TransitiveClosure(roots, operators = ..., children = , acyclic = True, algo = "DFS", "BFS", internal_nodes = False)
 ```
 
-for all the functions in sage.combinat.backtrack.py SearchForest, TransitiveIdeal, TransitiveIdealGraded
+for all the functions in sage.combinat.backtrack.py `SearchForest`, `TransitiveIdeal`, `TransitiveIdealGraded`
 
 TODO: discuss the names above
``````




---

archive/issue_comments_047759.json:
```json
{
    "body": "<a id='comment:4'></a>\nIn a tentative to find good choices for name and so on, here is how I see this.\n\n- Let X be a set.\n- Let R be a binary relation on X, that is R is a subset of the cartesian product of X times X.\n- Denote by xRy if x is R-related to y.\n\nNow\n\n- Let `seeds` be a subset of X.\n- Let `succ` be a callable python object `X -> 2^X` such that xRy if and only if y is in `succ(x)`.\n\nWe are interested in the subset S of X that can be generated from the `seeds` using the `succ` recursively. More precisely in the set \n\n S = {y : x = x1 R x2 R x3 R ... R xn = y and x in `seeds`}.\n\nMoreover, we are interested in the enumeration of S itself and we consider depth-first and breadth-first as different and both usefull.\n\nSuch a relation G = (X,R) can be seen as a directed graph. I think this remark is useful as it may provide some vocabulary. Indeed the set S is the connected components of the generators in the digraph G.\n\nI see some different cases :\n\n**1. We do not know anything more about the relation.** We need to save in memory all the `known` objects to avoid duplicates. This is what is currently done in `TransitiveIdeal` (depth-first search) and (curiously) in `TransitiveIdealGraded` (breadth-first search) also.\n\n**2. The directed graph S is a forest with given `seeds`.** Equivalently, one may say that S do not contain cycle (oriented or not). This is what is currently done in `SearchForest`.\n\n**3. The relation is graded.** By graded here I mean what I thought `TransitiveIdealGraded` was doing until I look more carefully at the doc and the code. More seriously, by graded I mean the following : for all (x1 in seeds) and (y1 in seeds), \n\n  if (x1 R x2 R ... R xn) and (y1 R y2 R ... R ym) and (xn=ym), then (n=m).\n\nThe relation is graded if all path from the origin to an element have the same length. In this case, we only need to save in memory the current level.\n\n**4. The relation is symmetric.** If the relation is symmetric, we only need to keep in memory the last two level of depth. This is what I needed and coded this week. And this is why I started to look more carefully at the code in `sage/combinat/backtrack.py`...\n\nThat is it for now!",
    "created_at": "2013-02-09T19:39:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47759",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:4'></a>
In a tentative to find good choices for name and so on, here is how I see this.

- Let X be a set.
- Let R be a binary relation on X, that is R is a subset of the cartesian product of X times X.
- Denote by xRy if x is R-related to y.

Now

- Let `seeds` be a subset of X.
- Let `succ` be a callable python object `X -> 2^X` such that xRy if and only if y is in `succ(x)`.

We are interested in the subset S of X that can be generated from the `seeds` using the `succ` recursively. More precisely in the set 

 S = {y : x = x1 R x2 R x3 R ... R xn = y and x in `seeds`}.

Moreover, we are interested in the enumeration of S itself and we consider depth-first and breadth-first as different and both usefull.

Such a relation G = (X,R) can be seen as a directed graph. I think this remark is useful as it may provide some vocabulary. Indeed the set S is the connected components of the generators in the digraph G.

I see some different cases :

**1. We do not know anything more about the relation.** We need to save in memory all the `known` objects to avoid duplicates. This is what is currently done in `TransitiveIdeal` (depth-first search) and (curiously) in `TransitiveIdealGraded` (breadth-first search) also.

**2. The directed graph S is a forest with given `seeds`.** Equivalently, one may say that S do not contain cycle (oriented or not). This is what is currently done in `SearchForest`.

**3. The relation is graded.** By graded here I mean what I thought `TransitiveIdealGraded` was doing until I look more carefully at the doc and the code. More seriously, by graded I mean the following : for all (x1 in seeds) and (y1 in seeds), 

  if (x1 R x2 R ... R xn) and (y1 R y2 R ... R ym) and (xn=ym), then (n=m).

The relation is graded if all path from the origin to an element have the same length. In this case, we only need to save in memory the current level.

**4. The relation is symmetric.** If the relation is symmetric, we only need to keep in memory the last two level of depth. This is what I needed and coded this week. And this is why I started to look more carefully at the code in `sage/combinat/backtrack.py`...

That is it for now!



---

archive/issue_comments_047760.json:
```json
{
    "body": "<a id='comment:5'></a>\nI totally agree with the analysis!\n\nI don't know yet what would be the best name for the argument provided by the user to describe the relation. Behind the scene we are definitely modelling relation. But what the user provide is not the relation but a function that computes the (out) neighbors for this relation. If at the end of the day we choose \"TransitiveClosure\" as name for the main entry point, then \"neighbors\" would be consistent. If we go for \"RecursiveSet\" (or RecursiveEnumeratedSet or variant thereof) then \"operators\" would be consistent.\n\nCheers,\n                           Nicolas",
    "created_at": "2013-02-09T19:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47760",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:5'></a>
I totally agree with the analysis!

I don't know yet what would be the best name for the argument provided by the user to describe the relation. Behind the scene we are definitely modelling relation. But what the user provide is not the relation but a function that computes the (out) neighbors for this relation. If at the end of the day we choose "TransitiveClosure" as name for the main entry point, then "neighbors" would be consistent. If we go for "RecursiveSet" (or RecursiveEnumeratedSet or variant thereof) then "operators" would be consistent.

Cheers,
                           Nicolas



---

archive/issue_comments_047761.json:
```json
{
    "body": "<a id='comment:6'></a>\nI think `relation` would not be too bad for the name of the successor keyword and should be considered as well. In some sense, a binary relation is a function `f: X -> 2^X` and a function is a relation such that `|f(x)|=1` for all x.\n\nPossibilities for successor keyword :\n\n- `succ` : suitable for non symmetric relation, currently used in `TransitiveIdeal` and `TransitiveIdealGraded`\n- `successors`\n- `operators`\n- `neighbors` : suitable vocabulary for symmetric relation\n- `children` : suitable vocabulary for non symmetric relation, currently used in `SearchForest`.\n- `relatives` : suitable vocabulary for symmetric relation\n\nPossibilities for generators keyword :\n\n- `generators`\n- `gens`\n- `roots`\n- `seeds`",
    "created_at": "2013-02-09T20:37:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47761",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:6'></a>
I think `relation` would not be too bad for the name of the successor keyword and should be considered as well. In some sense, a binary relation is a function `f: X -> 2^X` and a function is a relation such that `|f(x)|=1` for all x.

Possibilities for successor keyword :

- `succ` : suitable for non symmetric relation, currently used in `TransitiveIdeal` and `TransitiveIdealGraded`
- `successors`
- `operators`
- `neighbors` : suitable vocabulary for symmetric relation
- `children` : suitable vocabulary for non symmetric relation, currently used in `SearchForest`.
- `relatives` : suitable vocabulary for symmetric relation

Possibilities for generators keyword :

- `generators`
- `gens`
- `roots`
- `seeds`



---

archive/issue_comments_047762.json:
```json
{
    "body": "<a id='comment:7'></a>\n> If we go for RecursiveSet (or RecursiveEnumeratedSet or variant thereof) \n\nI like RecursiveSet. Maybe RecursiveEnumeratedSet is more related to what we do but is also longer.\n\nSome links:\n\n- http://en.wikipedia.org/wiki/Recursive_set\n- http://en.wikipedia.org/wiki/Recursively_enumerable_set",
    "created_at": "2013-02-09T20:55:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47762",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:7'></a>
> If we go for RecursiveSet (or RecursiveEnumeratedSet or variant thereof) 

I like RecursiveSet. Maybe RecursiveEnumeratedSet is more related to what we do but is also longer.

Some links:

- http://en.wikipedia.org/wiki/Recursive_set
- http://en.wikipedia.org/wiki/Recursively_enumerable_set



---

archive/issue_comments_047763.json:
```json
{
    "body": "<a id='comment:8'></a>\n> I don't know yet what would be the best name for the argument provided by the user to describe the relation.\n\nFor the above 4 cases, I would suggest arguments like the following :\n\n```\nRecursiveSet(seeds, succ)\nRecursiveSet(seeds, succ, structure=\"forest\")\nRecursiveSet(seeds, succ, structure=\"graded\")\nRecursiveSet(seeds, succ, structure=\"symmetric\")\n```",
    "created_at": "2013-02-09T21:04:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47763",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:8'></a>
> I don't know yet what would be the best name for the argument provided by the user to describe the relation.

For the above 4 cases, I would suggest arguments like the following :

```
RecursiveSet(seeds, succ)
RecursiveSet(seeds, succ, structure="forest")
RecursiveSet(seeds, succ, structure="graded")
RecursiveSet(seeds, succ, structure="symmetric")
```



---

archive/issue_comments_047764.json:
```json
{
    "body": "**Attachment:** [trac_6637_recursive_set-sl.patch.gz](https://github.com/sagemath/sage/files/ticket6637/trac_6637_recursive_set-sl.patch.gz)",
    "created_at": "2013-02-10T21:01:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47764",
    "user": "https://github.com/seblabbe"
}
```

**Attachment:** [trac_6637_recursive_set-sl.patch.gz](https://github.com/sagemath/sage/files/ticket6637/trac_6637_recursive_set-sl.patch.gz)



---

archive/issue_comments_047765.json:
```json
{
    "body": "<a id='comment:9'></a>\nI just added a patch. It implements the `RecursiveSet_symmetric` class and creates factory called `RecursiveSet`. For now, `RecursiveSet` returns either an instance of `TransitiveIdeal`, `SearchForest` or `RecursiveSet_symmetric`. I started an empty class `RecursiveSet_graded`. See examples inside the docstring of the class `RecursiveSet`.\n\nIt is not ready for review, but comments are welcome to help me continue this work.\n\nActually, my questions are : \n\n- How should I merge `RecursiveSet` with `TransitiveIdeal` and `SearchForest`?\n- Do we like this interface?",
    "created_at": "2013-02-10T21:10:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47765",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:9'></a>
I just added a patch. It implements the `RecursiveSet_symmetric` class and creates factory called `RecursiveSet`. For now, `RecursiveSet` returns either an instance of `TransitiveIdeal`, `SearchForest` or `RecursiveSet_symmetric`. I started an empty class `RecursiveSet_graded`. See examples inside the docstring of the class `RecursiveSet`.

It is not ready for review, but comments are welcome to help me continue this work.

Actually, my questions are : 

- How should I merge `RecursiveSet` with `TransitiveIdeal` and `SearchForest`?
- Do we like this interface?



---

archive/issue_comments_047766.json:
```json
{
    "body": "**Dependencies:** #14052",
    "created_at": "2013-02-10T21:11:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47766",
    "user": "https://github.com/seblabbe"
}
```

**Dependencies:** #14052



---

archive/issue_events_043868.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43868"
}
```



---

archive/issue_events_043869.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43869"
}
```



---

archive/issue_events_043870.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43870"
}
```



---

archive/issue_events_043871.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43871"
}
```



---

archive/issue_comments_047767.json:
```json
{
    "body": "**Commit:** [c2861f04a7250c3c72438adc50ccad8a43c22e54](https://github.com/sagemath/sagetrac-mirror/commit/c2861f04a7250c3c72438adc50ccad8a43c22e54)",
    "created_at": "2014-04-08T13:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47767",
    "user": "https://github.com/seblabbe"
}
```

**Commit:** [c2861f04a7250c3c72438adc50ccad8a43c22e54](https://github.com/sagemath/sagetrac-mirror/commit/c2861f04a7250c3c72438adc50ccad8a43c22e54)



---

archive/issue_comments_047768.json:
```json
{
    "body": "<a id='comment:13'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2861f04a7250c3c72438adc50ccad8a43c22e54\">c2861f0</a></td><td><code>Some fixes to TransitiveIdeal and TransitiveIdealGraded, added RecursiveSet factory</code></td></tr></table>\n",
    "created_at": "2014-04-08T13:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47768",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:13'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2861f04a7250c3c72438adc50ccad8a43c22e54">c2861f0</a></td><td><code>Some fixes to TransitiveIdeal and TransitiveIdealGraded, added RecursiveSet factory</code></td></tr></table>




---

archive/issue_comments_047769.json:
```json
{
    "body": "**Branch:** [u/slabbe/6637](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/6637)",
    "created_at": "2014-04-08T13:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47769",
    "user": "https://github.com/seblabbe"
}
```

**Branch:** [u/slabbe/6637](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/6637)



---

archive/issue_comments_047770.json:
```json
{
    "body": "**Changing commit** from \"[c2861f04a7250c3c72438adc50ccad8a43c22e54](https://github.com/sagemath/sagetrac-mirror/commit/c2861f04a7250c3c72438adc50ccad8a43c22e54)\" to \"[5924b4637237d77d81a3577b2a6d86c23f96a86a](https://github.com/sagemath/sagetrac-mirror/commit/5924b4637237d77d81a3577b2a6d86c23f96a86a)\".",
    "created_at": "2014-04-08T19:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47770",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[c2861f04a7250c3c72438adc50ccad8a43c22e54](https://github.com/sagemath/sagetrac-mirror/commit/c2861f04a7250c3c72438adc50ccad8a43c22e54)" to "[5924b4637237d77d81a3577b2a6d86c23f96a86a](https://github.com/sagemath/sagetrac-mirror/commit/5924b4637237d77d81a3577b2a6d86c23f96a86a)".



---

archive/issue_comments_047771.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5924b4637237d77d81a3577b2a6d86c23f96a86a\">5924b46</a></td><td><code>Cleaning RecursiveSet and subclasses</code></td></tr></table>\n",
    "created_at": "2014-04-08T19:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47771",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5924b4637237d77d81a3577b2a6d86c23f96a86a">5924b46</a></td><td><code>Cleaning RecursiveSet and subclasses</code></td></tr></table>




---

archive/issue_comments_047772.json:
```json
{
    "body": "**Changing commit** from \"[5924b4637237d77d81a3577b2a6d86c23f96a86a](https://github.com/sagemath/sagetrac-mirror/commit/5924b4637237d77d81a3577b2a6d86c23f96a86a)\" to \"[29aebab4b5bc94f8bfc35c994edb35d90d70557b](https://github.com/sagemath/sagetrac-mirror/commit/29aebab4b5bc94f8bfc35c994edb35d90d70557b)\".",
    "created_at": "2014-04-09T10:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47772",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[5924b4637237d77d81a3577b2a6d86c23f96a86a](https://github.com/sagemath/sagetrac-mirror/commit/5924b4637237d77d81a3577b2a6d86c23f96a86a)" to "[29aebab4b5bc94f8bfc35c994edb35d90d70557b](https://github.com/sagemath/sagetrac-mirror/commit/29aebab4b5bc94f8bfc35c994edb35d90d70557b)".



---

archive/issue_comments_047773.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29aebab4b5bc94f8bfc35c994edb35d90d70557b\">29aebab</a></td><td><code>now 100% coverage, seeds instead of gens</code></td></tr></table>\n",
    "created_at": "2014-04-09T10:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47773",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29aebab4b5bc94f8bfc35c994edb35d90d70557b">29aebab</a></td><td><code>now 100% coverage, seeds instead of gens</code></td></tr></table>




---

archive/issue_comments_047774.json:
```json
{
    "body": "**Changing commit** from \"[29aebab4b5bc94f8bfc35c994edb35d90d70557b](https://github.com/sagemath/sagetrac-mirror/commit/29aebab4b5bc94f8bfc35c994edb35d90d70557b)\" to \"[b363c547908004c908baff117a53ec2279cc6f1b](https://github.com/sagemath/sagetrac-mirror/commit/b363c547908004c908baff117a53ec2279cc6f1b)\".",
    "created_at": "2014-04-10T11:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47774",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[29aebab4b5bc94f8bfc35c994edb35d90d70557b](https://github.com/sagemath/sagetrac-mirror/commit/29aebab4b5bc94f8bfc35c994edb35d90d70557b)" to "[b363c547908004c908baff117a53ec2279cc6f1b](https://github.com/sagemath/sagetrac-mirror/commit/b363c547908004c908baff117a53ec2279cc6f1b)".



---

archive/issue_comments_047775.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b363c547908004c908baff117a53ec2279cc6f1b\">b363c54</a></td><td><code>Cleaning documentation and reverting some changes to TransitiveIdeals</code></td></tr></table>\n",
    "created_at": "2014-04-10T11:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47775",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b363c547908004c908baff117a53ec2279cc6f1b">b363c54</a></td><td><code>Cleaning documentation and reverting some changes to TransitiveIdeals</code></td></tr></table>




---

archive/issue_comments_047776.json:
```json
{
    "body": "**Changing commit** from \"[b363c547908004c908baff117a53ec2279cc6f1b](https://github.com/sagemath/sagetrac-mirror/commit/b363c547908004c908baff117a53ec2279cc6f1b)\" to \"[b8108ae30f45fb6dedadda77b53e30f5bc5e37f6](https://github.com/sagemath/sagetrac-mirror/commit/b8108ae30f45fb6dedadda77b53e30f5bc5e37f6)\".",
    "created_at": "2014-04-10T12:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47776",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[b363c547908004c908baff117a53ec2279cc6f1b](https://github.com/sagemath/sagetrac-mirror/commit/b363c547908004c908baff117a53ec2279cc6f1b)" to "[b8108ae30f45fb6dedadda77b53e30f5bc5e37f6](https://github.com/sagemath/sagetrac-mirror/commit/b8108ae30f45fb6dedadda77b53e30f5bc5e37f6)".



---

archive/issue_comments_047777.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8108ae30f45fb6dedadda77b53e30f5bc5e37f6\">b8108ae</a></td><td><code>implemented depth search with stack and breadth search with queue</code></td></tr></table>\n",
    "created_at": "2014-04-10T12:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47777",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8108ae30f45fb6dedadda77b53e30f5bc5e37f6">b8108ae</a></td><td><code>implemented depth search with stack and breadth search with queue</code></td></tr></table>




---

archive/issue_comments_047778.json:
```json
{
    "body": "**Changing commit** from \"[b8108ae30f45fb6dedadda77b53e30f5bc5e37f6](https://github.com/sagemath/sagetrac-mirror/commit/b8108ae30f45fb6dedadda77b53e30f5bc5e37f6)\" to \"[9de2cf9ba5f22b83ab14827651f430292e727684](https://github.com/sagemath/sagetrac-mirror/commit/9de2cf9ba5f22b83ab14827651f430292e727684)\".",
    "created_at": "2014-04-10T19:26:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47778",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[b8108ae30f45fb6dedadda77b53e30f5bc5e37f6](https://github.com/sagemath/sagetrac-mirror/commit/b8108ae30f45fb6dedadda77b53e30f5bc5e37f6)" to "[9de2cf9ba5f22b83ab14827651f430292e727684](https://github.com/sagemath/sagetrac-mirror/commit/9de2cf9ba5f22b83ab14827651f430292e727684)".



---

archive/issue_comments_047779.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9de2cf9ba5f22b83ab14827651f430292e727684\">9de2cf9</a></td><td><code>moving RecursivelyEnumerableSet to sage/sets</code></td></tr></table>\n",
    "created_at": "2014-04-10T19:26:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47779",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9de2cf9ba5f22b83ab14827651f430292e727684">9de2cf9</a></td><td><code>moving RecursivelyEnumerableSet to sage/sets</code></td></tr></table>




---

archive/issue_comments_047780.json:
```json
{
    "body": "**Changing commit** from \"[9de2cf9ba5f22b83ab14827651f430292e727684](https://github.com/sagemath/sagetrac-mirror/commit/9de2cf9ba5f22b83ab14827651f430292e727684)\" to \"[5d634535fcee7fcba413170826b03011373505d1](https://github.com/sagemath/sagetrac-mirror/commit/5d634535fcee7fcba413170826b03011373505d1)\".",
    "created_at": "2014-04-11T00:01:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47780",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[9de2cf9ba5f22b83ab14827651f430292e727684](https://github.com/sagemath/sagetrac-mirror/commit/9de2cf9ba5f22b83ab14827651f430292e727684)" to "[5d634535fcee7fcba413170826b03011373505d1](https://github.com/sagemath/sagetrac-mirror/commit/5d634535fcee7fcba413170826b03011373505d1)".



---

archive/issue_comments_047781.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d634535fcee7fcba413170826b03011373505d1\">5d63453</a></td><td><code>doc fixes + adding Parent and category</code></td></tr></table>\n",
    "created_at": "2014-04-11T00:01:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47781",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d634535fcee7fcba413170826b03011373505d1">5d63453</a></td><td><code>doc fixes + adding Parent and category</code></td></tr></table>




---

archive/issue_events_043872.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-04-11T00:09:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43872"
}
```



---

archive/issue_comments_047782.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,3 +7,9 @@\n for all the functions in sage.combinat.backtrack.py `SearchForest`, `TransitiveIdeal`, `TransitiveIdealGraded`\n \n TODO: discuss the names above\n+\n+The actual proposition is:\n+\n+```\n+     RecursivelyEnumeratedSet(seeds, succ, structure=..., algorithm=...)\n+```\n``````\n",
    "created_at": "2014-04-11T00:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47782",
    "user": "https://github.com/seblabbe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,3 +7,9 @@
 for all the functions in sage.combinat.backtrack.py `SearchForest`, `TransitiveIdeal`, `TransitiveIdealGraded`
 
 TODO: discuss the names above
+
+The actual proposition is:
+
+```
+     RecursivelyEnumeratedSet(seeds, succ, structure=..., algorithm=...)
+```
``````




---

archive/issue_comments_047783.json:
```json
{
    "body": "**Changing commit** from \"[5d634535fcee7fcba413170826b03011373505d1](https://github.com/sagemath/sagetrac-mirror/commit/5d634535fcee7fcba413170826b03011373505d1)\" to \"[4934fa2967e5bb521167d34c15e3152b40f30e63](https://github.com/sagemath/sagetrac-mirror/commit/4934fa2967e5bb521167d34c15e3152b40f30e63)\".",
    "created_at": "2014-04-11T10:28:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47783",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[5d634535fcee7fcba413170826b03011373505d1](https://github.com/sagemath/sagetrac-mirror/commit/5d634535fcee7fcba413170826b03011373505d1)" to "[4934fa2967e5bb521167d34c15e3152b40f30e63](https://github.com/sagemath/sagetrac-mirror/commit/4934fa2967e5bb521167d34c15e3152b40f30e63)".



---

archive/issue_comments_047784.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4934fa2967e5bb521167d34c15e3152b40f30e63\">4934fa2</a></td><td><code>deprecate import of TransitiveIdeal + level method for RecursivelyEnumeratedSet</code></td></tr></table>\n",
    "created_at": "2014-04-11T10:28:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47784",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4934fa2967e5bb521167d34c15e3152b40f30e63">4934fa2</a></td><td><code>deprecate import of TransitiveIdeal + level method for RecursivelyEnumeratedSet</code></td></tr></table>




---

archive/issue_comments_047785.json:
```json
{
    "body": "**Changing commit** from \"[4934fa2967e5bb521167d34c15e3152b40f30e63](https://github.com/sagemath/sagetrac-mirror/commit/4934fa2967e5bb521167d34c15e3152b40f30e63)\" to \"[94a4d7aaa77bfc48894d17d5242d324c3e798307](https://github.com/sagemath/sagetrac-mirror/commit/94a4d7aaa77bfc48894d17d5242d324c3e798307)\".",
    "created_at": "2014-04-13T20:22:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47785",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[4934fa2967e5bb521167d34c15e3152b40f30e63](https://github.com/sagemath/sagetrac-mirror/commit/4934fa2967e5bb521167d34c15e3152b40f30e63)" to "[94a4d7aaa77bfc48894d17d5242d324c3e798307](https://github.com/sagemath/sagetrac-mirror/commit/94a4d7aaa77bfc48894d17d5242d324c3e798307)".



---

archive/issue_comments_047786.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94a4d7aaa77bfc48894d17d5242d324c3e798307\">94a4d7a</a></td><td><code>level -> graded component, algorithm -> enumeration, more docs, deprecated SearchForest also</code></td></tr></table>\n",
    "created_at": "2014-04-13T20:22:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47786",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94a4d7aaa77bfc48894d17d5242d324c3e798307">94a4d7a</a></td><td><code>level -> graded component, algorithm -> enumeration, more docs, deprecated SearchForest also</code></td></tr></table>




---

archive/issue_comments_047787.json:
```json
{
    "body": "**Changing commit** from \"[94a4d7aaa77bfc48894d17d5242d324c3e798307](https://github.com/sagemath/sagetrac-mirror/commit/94a4d7aaa77bfc48894d17d5242d324c3e798307)\" to \"[52ce4a357d72762caf3339fe0282a0364e15a842](https://github.com/sagemath/sagetrac-mirror/commit/52ce4a357d72762caf3339fe0282a0364e15a842)\".",
    "created_at": "2014-04-13T21:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47787",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[94a4d7aaa77bfc48894d17d5242d324c3e798307](https://github.com/sagemath/sagetrac-mirror/commit/94a4d7aaa77bfc48894d17d5242d324c3e798307)" to "[52ce4a357d72762caf3339fe0282a0364e15a842](https://github.com/sagemath/sagetrac-mirror/commit/52ce4a357d72762caf3339fe0282a0364e15a842)".



---

archive/issue_comments_047788.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52ce4a357d72762caf3339fe0282a0364e15a842\">52ce4a3</a></td><td><code>succ -> successors, fixed doctests in backtrack.py</code></td></tr></table>\n",
    "created_at": "2014-04-13T21:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47788",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52ce4a357d72762caf3339fe0282a0364e15a842">52ce4a3</a></td><td><code>succ -> successors, fixed doctests in backtrack.py</code></td></tr></table>




---

archive/issue_comments_047789.json:
```json
{
    "body": "<a id='comment:25'></a>\nI think I will stop now. The next thing to do would be to move code from `sage/combinat/backtrack.py` to `sage/sets/recursively_enumerated_set.py` more precisely, the SearchForest code. But since it is mostly about moving code (does not change any functionality), I suggest to do it in a another ticket and review/merge this ticket now.\n\nNeeds review!\n\nS\u00e9bastien",
    "created_at": "2014-04-13T21:45:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47789",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:25'></a>
I think I will stop now. The next thing to do would be to move code from `sage/combinat/backtrack.py` to `sage/sets/recursively_enumerated_set.py` more precisely, the SearchForest code. But since it is mostly about moving code (does not change any functionality), I suggest to do it in a another ticket and review/merge this ticket now.

Needs review!

Sébastien



---

archive/issue_comments_047790.json:
```json
{
    "body": "**Changing keywords** from \"backtrack, enumerated set, transitive closure\" to \"backtrack, enumerated set, transitive closure, days57\".",
    "created_at": "2014-04-15T19:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47790",
    "user": "https://github.com/seblabbe"
}
```

**Changing keywords** from "backtrack, enumerated set, transitive closure" to "backtrack, enumerated set, transitive closure, days57".



---

archive/issue_events_043873.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43873"
}
```



---

archive/issue_events_043874.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43874"
}
```



---

archive/issue_comments_047791.json:
```json
{
    "body": "<a id='comment:28'></a>\nyour commits remove completely combinat/all.py ....",
    "created_at": "2014-05-10T14:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47791",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:28'></a>
your commits remove completely combinat/all.py ....



---

archive/issue_events_043875.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-05-10T14:59:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43875"
}
```



---

archive/issue_events_043876.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-05-10T14:59:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43876"
}
```



---

archive/issue_comments_047792.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [@fchapoton](#comment%3A28):\n> your commits remove completely combinat/all.py ....\n\nI see. It is strange because I can't see which commit did that... I will investigate.",
    "created_at": "2014-05-10T17:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47792",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:29'></a>
Replying to [@fchapoton](#comment%3A28):
> your commits remove completely combinat/all.py ....

I see. It is strange because I can't see which commit did that... I will investigate.



---

archive/issue_comments_047793.json:
```json
{
    "body": "<a id='comment:30'></a>\nI believe that's an error with the trac plugin (I've seen that before).\n\nCan I make a feature request for this ticket, could we also cythonize this for speed (or at least make the new file a `.pyx` file)?",
    "created_at": "2014-05-10T17:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47793",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'></a>
I believe that's an error with the trac plugin (I've seen that before).

Can I make a feature request for this ticket, could we also cythonize this for speed (or at least make the new file a `.pyx` file)?



---

archive/issue_comments_047794.json:
```json
{
    "body": "<a id='comment:31'></a>\nIndeed, there is some gain. I did one example:\n\nPython:\n\n```\nsage: f = lambda a: [a-1,a+1]\nsage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')\nsage: it = iter(C)\nsage: %time L = [next(it) for _ in xrange(10^6)]\nCPU times: user 5.82 s, sys: 239 ms, total: 6.06 s\nWall time: 6.07 s\n```\n\nCython:\n\n```\nsage: f = lambda a: [a-1,a+1]\nsage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')\nsage: it = iter(C)\nsage: %time L = [next(it) for _ in xrange(10^6)]\nCPU times: user 4.47 s, sys: 408 ms, total: 4.88 s\nWall time: 4.89 s\n```",
    "created_at": "2014-05-10T21:43:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47794",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:31'></a>
Indeed, there is some gain. I did one example:

Python:

```
sage: f = lambda a: [a-1,a+1]
sage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')
sage: it = iter(C)
sage: %time L = [next(it) for _ in xrange(10^6)]
CPU times: user 5.82 s, sys: 239 ms, total: 6.06 s
Wall time: 6.07 s
```

Cython:

```
sage: f = lambda a: [a-1,a+1]
sage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')
sage: it = iter(C)
sage: %time L = [next(it) for _ in xrange(10^6)]
CPU times: user 4.47 s, sys: 408 ms, total: 4.88 s
Wall time: 4.89 s
```



---

archive/issue_comments_047795.json:
```json
{
    "body": "**Changing commit** from \"[52ce4a357d72762caf3339fe0282a0364e15a842](https://github.com/sagemath/sagetrac-mirror/commit/52ce4a357d72762caf3339fe0282a0364e15a842)\" to \"[42262457c67606ba2861e9ba7b5cb6f20450f09d](https://github.com/sagemath/sagetrac-mirror/commit/42262457c67606ba2861e9ba7b5cb6f20450f09d)\".",
    "created_at": "2014-05-10T22:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47795",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[52ce4a357d72762caf3339fe0282a0364e15a842](https://github.com/sagemath/sagetrac-mirror/commit/52ce4a357d72762caf3339fe0282a0364e15a842)" to "[42262457c67606ba2861e9ba7b5cb6f20450f09d](https://github.com/sagemath/sagetrac-mirror/commit/42262457c67606ba2861e9ba7b5cb6f20450f09d)".



---

archive/issue_comments_047796.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5d53ae1ca57d4e78b8977a0b08806114ab03a47\">b5d53ae</a></td><td><code>Merge branch 'master' into t/6637</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42262457c67606ba2861e9ba7b5cb6f20450f09d\">4226245</a></td><td><code>#6637: recursively_enumerated_set ffrom .py to .pyx</code></td></tr></table>\n",
    "created_at": "2014-05-10T22:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47796",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5d53ae1ca57d4e78b8977a0b08806114ab03a47">b5d53ae</a></td><td><code>Merge branch 'master' into t/6637</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42262457c67606ba2861e9ba7b5cb6f20450f09d">4226245</a></td><td><code>#6637: recursively_enumerated_set ffrom .py to .pyx</code></td></tr></table>




---

archive/issue_comments_047797.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,15 +1,18 @@\n-Implement a single entry point:\n+1. Implement a single entry point for recursively enumerated sets:\n \n ```\n-     TransitiveClosure(roots, operators = ..., children = , acyclic = True, algo = \"DFS\", \"BFS\", internal_nodes = False)\n+     RecursivelyEnumeratedSet(seeds, successors, structure=..., enumeration=...)\n ```\n \n-for all the functions in sage.combinat.backtrack.py `SearchForest`, `TransitiveIdeal`, `TransitiveIdealGraded`\n+2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.\n \n-TODO: discuss the names above\n+Remarks:\n \n-The actual proposition is:\n+A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.\n \n-```\n-     RecursivelyEnumeratedSet(seeds, succ, structure=..., algorithm=...)\n-```\n+B. Note that there are some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n+\n+   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first.\n+   - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.\n+\n+See [my status report at SageDays57](http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/04/my-status-report-at-sage-days-57-recursivelyenumeratedset/) for more info.\n``````\n",
    "created_at": "2014-05-10T23:43:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47797",
    "user": "https://github.com/seblabbe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,15 +1,18 @@
-Implement a single entry point:
+1. Implement a single entry point for recursively enumerated sets:
 
 ```
-     TransitiveClosure(roots, operators = ..., children = , acyclic = True, algo = "DFS", "BFS", internal_nodes = False)
+     RecursivelyEnumeratedSet(seeds, successors, structure=..., enumeration=...)
 ```
 
-for all the functions in sage.combinat.backtrack.py `SearchForest`, `TransitiveIdeal`, `TransitiveIdealGraded`
+2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.
 
-TODO: discuss the names above
+Remarks:
 
-The actual proposition is:
+A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.
 
-```
-     RecursivelyEnumeratedSet(seeds, succ, structure=..., algorithm=...)
-```
+B. Note that there are some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
+
+   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first.
+   - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.
+
+See [my status report at SageDays57](http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/04/my-status-report-at-sage-days-57-recursivelyenumeratedset/) for more info.
``````




---

archive/issue_comments_047798.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,6 +3,8 @@\n ```\n      RecursivelyEnumeratedSet(seeds, successors, structure=..., enumeration=...)\n ```\n+\n+where `structure` takes values in the set `[None, 'forest', 'graded', 'symmetric']` and `enumeration` takes values in the set `[None, 'depth', 'breadth', 'naive']`.\n \n 2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.\n \n``````\n",
    "created_at": "2014-05-10T23:50:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47798",
    "user": "https://github.com/seblabbe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,6 +3,8 @@
 ```
      RecursivelyEnumeratedSet(seeds, successors, structure=..., enumeration=...)
 ```
+
+where `structure` takes values in the set `[None, 'forest', 'graded', 'symmetric']` and `enumeration` takes values in the set `[None, 'depth', 'breadth', 'naive']`.
 
 2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.
 
``````




---

archive/issue_comments_047799.json:
```json
{
    "body": "<a id='comment:34'></a>\nI keep the status of the ticket to needs work because I realized that some doctest were broken in the sage library. I am working on it.",
    "created_at": "2014-05-10T23:50:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47799",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:34'></a>
I keep the status of the ticket to needs work because I realized that some doctest were broken in the sage library. I am working on it.



---

archive/issue_comments_047800.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e174ae0520eb08f08759cc3e1a18b6080c77c3fb\">e174ae0</a></td><td><code>Trac #6637: Adding a `__contains__` method to RecursivelyenumeratedSet</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/766a1b0d7a09c8d9597308592db9543145e61751\">766a1b0</a></td><td><code>Trac #6637: fix doctest in root_system/plot.py</code></td></tr></table>\n",
    "created_at": "2014-05-11T00:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47800",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e174ae0520eb08f08759cc3e1a18b6080c77c3fb">e174ae0</a></td><td><code>Trac #6637: Adding a `__contains__` method to RecursivelyenumeratedSet</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/766a1b0d7a09c8d9597308592db9543145e61751">766a1b0</a></td><td><code>Trac #6637: fix doctest in root_system/plot.py</code></td></tr></table>




---

archive/issue_comments_047801.json:
```json
{
    "body": "**Changing commit** from \"[42262457c67606ba2861e9ba7b5cb6f20450f09d](https://github.com/sagemath/sagetrac-mirror/commit/42262457c67606ba2861e9ba7b5cb6f20450f09d)\" to \"[766a1b0d7a09c8d9597308592db9543145e61751](https://github.com/sagemath/sagetrac-mirror/commit/766a1b0d7a09c8d9597308592db9543145e61751)\".",
    "created_at": "2014-05-11T00:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47801",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[42262457c67606ba2861e9ba7b5cb6f20450f09d](https://github.com/sagemath/sagetrac-mirror/commit/42262457c67606ba2861e9ba7b5cb6f20450f09d)" to "[766a1b0d7a09c8d9597308592db9543145e61751](https://github.com/sagemath/sagetrac-mirror/commit/766a1b0d7a09c8d9597308592db9543145e61751)".



---

archive/issue_comments_047802.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,13 +8,17 @@\n \n 2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.\n \n+3. `TransitiveIdeal(succ, seeds)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='naive')`.\n+\n+4. `TransitiveIdealGraded(succ, seeds, max_depth)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='breadth', max_depth=max_depth)`.\n+\n Remarks:\n \n A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.\n \n-B. Note that there are some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n+B. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n \n-   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first.\n+   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first. It is what I call a naive search.\n    - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.\n \n See [my status report at SageDays57](http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/04/my-status-report-at-sage-days-57-recursivelyenumeratedset/) for more info.\n``````\n",
    "created_at": "2014-05-11T00:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47802",
    "user": "https://github.com/seblabbe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,13 +8,17 @@
 
 2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.
 
+3. `TransitiveIdeal(succ, seeds)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='naive')`.
+
+4. `TransitiveIdealGraded(succ, seeds, max_depth)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='breadth', max_depth=max_depth)`.
+
 Remarks:
 
 A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.
 
-B. Note that there are some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
+B. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
 
-   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first.
+   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first. It is what I call a naive search.
    - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.
 
 See [my status report at SageDays57](http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/04/my-status-report-at-sage-days-57-recursivelyenumeratedset/) for more info.
``````




---

archive/issue_events_043877.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-05-11T00:30:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43877"
}
```



---

archive/issue_events_043878.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-05-11T00:30:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43878"
}
```



---

archive/issue_comments_047803.json:
```json
{
    "body": "**Author:** S\u00e9bastien Labb\u00e9",
    "created_at": "2014-05-11T01:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47803",
    "user": "https://github.com/tscrim"
}
```

**Author:** Sébastien Labbé



---

archive/issue_comments_047804.json:
```json
{
    "body": "**Changing commit** from \"[766a1b0d7a09c8d9597308592db9543145e61751](https://github.com/sagemath/sagetrac-mirror/commit/766a1b0d7a09c8d9597308592db9543145e61751)\" to \"[d8b942bf45c05f4df5fe093b0b63ac63e7127db6](https://github.com/sagemath/sagetrac-mirror/commit/d8b942bf45c05f4df5fe093b0b63ac63e7127db6)\".",
    "created_at": "2014-05-11T01:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47804",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[766a1b0d7a09c8d9597308592db9543145e61751](https://github.com/sagemath/sagetrac-mirror/commit/766a1b0d7a09c8d9597308592db9543145e61751)" to "[d8b942bf45c05f4df5fe093b0b63ac63e7127db6](https://github.com/sagemath/sagetrac-mirror/commit/d8b942bf45c05f4df5fe093b0b63ac63e7127db6)".



---

archive/issue_comments_047805.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2014-05-11T01:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47805",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_047806.json:
```json
{
    "body": "**Changing branch** from \"[u/slabbe/6637](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/6637)\" to \"[public/ticket/6637](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637)\".",
    "created_at": "2014-05-11T01:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47806",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/slabbe/6637](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/6637)" to "[public/ticket/6637](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637)".



---

archive/issue_comments_047807.json:
```json
{
    "body": "<a id='comment:37'></a>\nSome more speedup by doing some more cythonization. Before:\n\n```\nsage: f = lambda a: [a-1,a+1]\nsage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')\nsage: it = iter(C)\nsage: %time L = [next(it) for _ in xrange(10^6)]\nCPU times: user 9.68 s, sys: 147 ms, total: 9.83 s\nWall time: 9.81 s\n```\nWith my commit:\n\n```\nsage: f = lambda a: [a-1,a+1]\nsage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')\nsage: it = iter(C)\nsage: %time L = [next(it) for _ in xrange(10^6)]\nCPU times: user 8.02 s, sys: 103 ms, total: 8.13 s\nWall time: 8.15 s\n```\nI'm sure I haven't done the best cythonization job on this, but it works and all tests pass. If you're happy with my changes, then positive review.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d592cea682de0af1f8363c9aaddaa3d2d7b5fad\">0d592ce</a></td><td><code>Merge branch 'u/slabbe/6637' of trac.sagemath.org:sage into public/ticket/6637</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f200525ea0e709b8cde3233a18fd67c994ad7db5\">f200525</a></td><td><code>More cythonization.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72f5bf6ae7d52618f0dd81dafae7f62199611d07\">72f5bf6</a></td><td><code>Merge branch 'u/slabbe/6637' of trac.sagemath.org:sage into public/ticket/6637</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df40815e7751130fa5359fc7110a22779d91b425\">df40815</a></td><td><code>Some tweaks in the cythonization.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e68a15f2d5236872aeda5855acfb7ee0895f558d\">e68a15f</a></td><td><code>Fixed pickling issue.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8b942bf45c05f4df5fe093b0b63ac63e7127db6\">d8b942b</a></td><td><code>Some other potential cython speedups.</code></td></tr></table>\n",
    "created_at": "2014-05-11T01:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47807",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:37'></a>
Some more speedup by doing some more cythonization. Before:

```
sage: f = lambda a: [a-1,a+1]
sage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')
sage: it = iter(C)
sage: %time L = [next(it) for _ in xrange(10^6)]
CPU times: user 9.68 s, sys: 147 ms, total: 9.83 s
Wall time: 9.81 s
```
With my commit:

```
sage: f = lambda a: [a-1,a+1]
sage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')
sage: it = iter(C)
sage: %time L = [next(it) for _ in xrange(10^6)]
CPU times: user 8.02 s, sys: 103 ms, total: 8.13 s
Wall time: 8.15 s
```
I'm sure I haven't done the best cythonization job on this, but it works and all tests pass. If you're happy with my changes, then positive review.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d592cea682de0af1f8363c9aaddaa3d2d7b5fad">0d592ce</a></td><td><code>Merge branch 'u/slabbe/6637' of trac.sagemath.org:sage into public/ticket/6637</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f200525ea0e709b8cde3233a18fd67c994ad7db5">f200525</a></td><td><code>More cythonization.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72f5bf6ae7d52618f0dd81dafae7f62199611d07">72f5bf6</a></td><td><code>Merge branch 'u/slabbe/6637' of trac.sagemath.org:sage into public/ticket/6637</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df40815e7751130fa5359fc7110a22779d91b425">df40815</a></td><td><code>Some tweaks in the cythonization.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e68a15f2d5236872aeda5855acfb7ee0895f558d">e68a15f</a></td><td><code>Fixed pickling issue.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8b942bf45c05f4df5fe093b0b63ac63e7127db6">d8b942b</a></td><td><code>Some other potential cython speedups.</code></td></tr></table>




---

archive/issue_comments_047808.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,7 +16,9 @@\n \n A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.\n \n-B. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n+B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet in a later ticket for speed improvements and also to avoid issues explained in C below.\n+\n+C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n \n    - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first. It is what I call a naive search.\n    - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.\n``````\n",
    "created_at": "2014-05-11T07:10:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47808",
    "user": "https://github.com/seblabbe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -16,7 +16,9 @@
 
 A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.
 
-B. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
+B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet in a later ticket for speed improvements and also to avoid issues explained in C below.
+
+C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
 
    - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first. It is what I call a naive search.
    - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.
``````




---

archive/issue_comments_047809.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,7 +16,7 @@\n \n A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.\n \n-B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet in a later ticket for speed improvements and also to avoid issues explained in C below.\n+B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` in a later ticket for speed improvements and also to avoid issues explained in C below.\n \n C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n \n``````\n",
    "created_at": "2014-05-11T07:11:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47809",
    "user": "https://github.com/seblabbe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -16,7 +16,7 @@
 
 A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.
 
-B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet in a later ticket for speed improvements and also to avoid issues explained in C below.
+B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` in a later ticket for speed improvements and also to avoid issues explained in C below.
 
 C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
 
``````




---

archive/issue_comments_047810.json:
```json
{
    "body": "<a id='comment:40'></a>\nI do gain one more second with your improvements. Great!\n\n```\nsage: sage: f = lambda a: [a-1,a+1]                                         \nsage: sage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')\nsage: sage: it = iter(C)                                                    \nsage: sage: %time L = [next(it) for _ in xrange(10^6)]                      \nCPU times: user 3.49 s, sys: 246 ms, total: 3.74 s                          \nWall time: 3.79 s   \n```\n\nI do not like factory function in general and was happy to use for the first time the metaclass stuff. But apparently, it is not as efficient? Did you check if only removing the metaclass stuff was giving a speedup?",
    "created_at": "2014-05-11T09:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47810",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:40'></a>
I do gain one more second with your improvements. Great!

```
sage: sage: f = lambda a: [a-1,a+1]                                         
sage: sage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')
sage: sage: it = iter(C)                                                    
sage: sage: %time L = [next(it) for _ in xrange(10^6)]                      
CPU times: user 3.49 s, sys: 246 ms, total: 3.74 s                          
Wall time: 3.79 s   
```

I do not like factory function in general and was happy to use for the first time the metaclass stuff. But apparently, it is not as efficient? Did you check if only removing the metaclass stuff was giving a speedup?



---

archive/issue_comments_047811.json:
```json
{
    "body": "**Changing commit** from \"[d8b942bf45c05f4df5fe093b0b63ac63e7127db6](https://github.com/sagemath/sagetrac-mirror/commit/d8b942bf45c05f4df5fe093b0b63ac63e7127db6)\" to \"[3191690431cfe1614444004863b15a331941ad00](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)\".",
    "created_at": "2014-05-11T09:29:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47811",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[d8b942bf45c05f4df5fe093b0b63ac63e7127db6](https://github.com/sagemath/sagetrac-mirror/commit/d8b942bf45c05f4df5fe093b0b63ac63e7127db6)" to "[3191690431cfe1614444004863b15a331941ad00](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)".



---

archive/issue_comments_047812.json:
```json
{
    "body": "<a id='comment:41'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00\">3191690</a></td><td><code>Trac #6637: More deprecation doc in backtrack.py</code></td></tr></table>\n",
    "created_at": "2014-05-11T09:29:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47812",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:41'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00">3191690</a></td><td><code>Trac #6637: More deprecation doc in backtrack.py</code></td></tr></table>




---

archive/issue_comments_047813.json:
```json
{
    "body": "<a id='comment:42'></a>\nTravis, did you check that the doc was building fine? I am not able to, I get :\n\n```\n$ sage -docbuild reference/structure html\n   [structure] WARNING: intersphinx inventory '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv'\n   Error building the documentation.\n\n   Note: incremental documentation builds sometimes cause spurious\n   error messages. To be certain that these are real errors, run\n   \"make doc-clean\" first and try again.\n   Traceback (most recent call last):\n     File \"/Users/slabbe/Applications/sage-git/src/doc/common/builder.py\", line 1477, in <module>\n         getattr(get_builder(name), type)()\n           File \"/Users/slabbe/Applications/sage-git/src/doc/common/builder.py\", line 699, in _wrapper\n               getattr(DocBuilder, build_type)(self, *args, **kwds)\n                 File \"/Users/slabbe/Applications/sage-git/src/doc/common/builder.py\", line 94, in f\n                     execfile(sys.argv[0])\n                       File \"/Users/slabbe/Applications/sage-git/src/doc/common/custom-sphinx-build.py\", line 210, in <module>\n                           raise OSError(ERROR_MESSAGE)\n                           OSError: [structure] WARNING: intersphinx inventory '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv'\n```\n\nOnce, I may confirm the docs does build fine. I will set this to positive review.",
    "created_at": "2014-05-11T10:03:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47813",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:42'></a>
Travis, did you check that the doc was building fine? I am not able to, I get :

```
$ sage -docbuild reference/structure html
   [structure] WARNING: intersphinx inventory '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv'
   Error building the documentation.

   Note: incremental documentation builds sometimes cause spurious
   error messages. To be certain that these are real errors, run
   "make doc-clean" first and try again.
   Traceback (most recent call last):
     File "/Users/slabbe/Applications/sage-git/src/doc/common/builder.py", line 1477, in <module>
         getattr(get_builder(name), type)()
           File "/Users/slabbe/Applications/sage-git/src/doc/common/builder.py", line 699, in _wrapper
               getattr(DocBuilder, build_type)(self, *args, **kwds)
                 File "/Users/slabbe/Applications/sage-git/src/doc/common/builder.py", line 94, in f
                     execfile(sys.argv[0])
                       File "/Users/slabbe/Applications/sage-git/src/doc/common/custom-sphinx-build.py", line 210, in <module>
                           raise OSError(ERROR_MESSAGE)
                           OSError: [structure] WARNING: intersphinx inventory '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv'
```

Once, I may confirm the docs does build fine. I will set this to positive review.



---

archive/issue_comments_047814.json:
```json
{
    "body": "<a id='comment:43'></a>\n`make doc-clean` fixed the error. Doc builds fine.",
    "created_at": "2014-05-11T10:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47814",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:43'></a>
`make doc-clean` fixed the error. Doc builds fine.



---

archive/issue_events_043879.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-05-11T10:27:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43879"
}
```



---

archive/issue_events_043880.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-05-11T10:27:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43880"
}
```



---

archive/issue_events_043881.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2014-05-11T14:11:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43881"
}
```



---

archive/issue_events_043882.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2014-05-11T14:11:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43882"
}
```



---

archive/issue_comments_047815.json:
```json
{
    "body": "<a id='comment:44'></a>\nSebastien wants to double check the Metaclass thingy.",
    "created_at": "2014-05-11T14:11:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47815",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:44'></a>
Sebastien wants to double check the Metaclass thingy.



---

archive/issue_comments_047816.json:
```json
{
    "body": "<a id='comment:45'></a>\nAs I recall, metaclasses are not supported in extension classes by Cython. The metaclass should not change the speed since it's only called/used upon object creation.",
    "created_at": "2014-05-11T15:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47816",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:45'></a>
As I recall, metaclasses are not supported in extension classes by Cython. The metaclass should not change the speed since it's only called/used upon object creation.



---

archive/issue_comments_047817.json:
```json
{
    "body": "<a id='comment:46'></a>\nAlso FTR, I liked your usage of the metaclass (and I can't check the doc until I get my docbuilder to actually work again... `:/` ).",
    "created_at": "2014-05-11T21:31:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47817",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:46'></a>
Also FTR, I liked your usage of the metaclass (and I can't check the doc until I get my docbuilder to actually work again... `:/` ).



---

archive/issue_comments_047818.json:
```json
{
    "body": "<a id='comment:47'></a>\nIf you agree Travis, I will try to put the metaclass use back in. Also, maybe Florent can say a word about it. He coached me on how to implement it.",
    "created_at": "2014-05-12T08:18:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47818",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:47'></a>
If you agree Travis, I will try to put the metaclass use back in. Also, maybe Florent can say a word about it. He coached me on how to implement it.



---

archive/issue_comments_047819.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [@tscrim](#comment%3A45):\n> As I recall, metaclasses are not supported in extension classes by Cython. The metaclass should not change the speed since it's only called/used upon object creation.\n\nOk, now I see what you mean. When the class is `cdef`, then the `__classcall_private__` do not get called instead of the `__init__`:\n\n```\nsage: f = lambda a: [a-1,a+1]\nsage: RecursivelyEnumeratedSet([0], f)\nA recursively enumerated set (depth first search)\nsage: RecursivelyEnumeratedSet([0], f, structure='symmetric')\nTraceback (most recent call last):\n...\nTypeError: __init__() got an unexpected keyword argument 'structure'\n```\n\nI also saw in the [doc](http://www.sagemath.org/doc/reference/misc/sage/misc/classcall_metaclass.html) that: \"*For a Cython class (not cdef since they doesn\u2019t allows metaclasses)*\"",
    "created_at": "2014-05-12T09:14:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47819",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:48'></a>
Replying to [@tscrim](#comment%3A45):
> As I recall, metaclasses are not supported in extension classes by Cython. The metaclass should not change the speed since it's only called/used upon object creation.

Ok, now I see what you mean. When the class is `cdef`, then the `__classcall_private__` do not get called instead of the `__init__`:

```
sage: f = lambda a: [a-1,a+1]
sage: RecursivelyEnumeratedSet([0], f)
A recursively enumerated set (depth first search)
sage: RecursivelyEnumeratedSet([0], f, structure='symmetric')
Traceback (most recent call last):
...
TypeError: __init__() got an unexpected keyword argument 'structure'
```

I also saw in the [doc](http://www.sagemath.org/doc/reference/misc/sage/misc/classcall_metaclass.html) that: "*For a Cython class (not cdef since they doesn’t allows metaclasses)*"



---

archive/issue_comments_047820.json:
```json
{
    "body": "<a id='comment:49'></a>\nI pushed on my [branch](https://github.com/sagemath/sagetrac-mirror/compare/fa885d90d609c8311d8fa52deac1340cd558b5a9...38a82f820d5314890a34d0707851c40ea5eb5b67) a [commit](https://github.com/sagemath/sagetrac-mirror/commit/38a82f820d5314890a34d0707851c40ea5eb5b67) using metaclass. In the end, I had to create a factory def outside of the class...",
    "created_at": "2014-05-12T09:53:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47820",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:49'></a>
I pushed on my [branch](https://github.com/sagemath/sagetrac-mirror/compare/fa885d90d609c8311d8fa52deac1340cd558b5a9...38a82f820d5314890a34d0707851c40ea5eb5b67) a [commit](https://github.com/sagemath/sagetrac-mirror/commit/38a82f820d5314890a34d0707851c40ea5eb5b67) using metaclass. In the end, I had to create a factory def outside of the class...



---

archive/issue_comments_047821.json:
```json
{
    "body": "**Changing commit** from \"[3191690431cfe1614444004863b15a331941ad00](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)\" to \"[dd72bfc1227605362e9baf847a623ddd6bd297f9](https://github.com/sagemath/sagetrac-mirror/commit/dd72bfc1227605362e9baf847a623ddd6bd297f9)\".",
    "created_at": "2014-05-12T14:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47821",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[3191690431cfe1614444004863b15a331941ad00](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)" to "[dd72bfc1227605362e9baf847a623ddd6bd297f9](https://github.com/sagemath/sagetrac-mirror/commit/dd72bfc1227605362e9baf847a623ddd6bd297f9)".



---

archive/issue_comments_047822.json:
```json
{
    "body": "<a id='comment:50'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34c9db2493dc57869b7c96e65402370e3da092ca\">34c9db2</a></td><td><code>Removed _generic from base class and added _factory to function.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd72bfc1227605362e9baf847a623ddd6bd297f9\">dd72bfc</a></td><td><code>Merge branch 'public/ticket/6637' of trac.sagemath.org:sage into public/ticket/6637</code></td></tr></table>\n",
    "created_at": "2014-05-12T14:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47822",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:50'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34c9db2493dc57869b7c96e65402370e3da092ca">34c9db2</a></td><td><code>Removed _generic from base class and added _factory to function.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd72bfc1227605362e9baf847a623ddd6bd297f9">dd72bfc</a></td><td><code>Merge branch 'public/ticket/6637' of trac.sagemath.org:sage into public/ticket/6637</code></td></tr></table>




---

archive/issue_comments_047823.json:
```json
{
    "body": "<a id='comment:51'></a>\nLooking at your commit, I don't see any benefit in using the metaclass. However I'm not opposed to the renaming, so I've just pushed that.",
    "created_at": "2014-05-12T15:00:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47823",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:51'></a>
Looking at your commit, I don't see any benefit in using the metaclass. However I'm not opposed to the renaming, so I've just pushed that.



---

archive/issue_comments_047824.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [@tscrim](#comment%3A51):\n> Looking at your commit, I don't see any benefit in using the metaclass. \n\nYes exactly. I needed to play with it to understand what you meant.\n\n> However I'm not opposed to the renaming, so I've just pushed that.\n\nWell, the renaming was just an easy way for me to check that `sage -t recursively_enumerated_set.pyx` was ok after I realised that `__classcall_private__` was ignored by `cdef` class. It was not a suggestion, but it would not be the first renamed function:\n\n```\nsage: import_statements(sum)\nfrom sage.misc.functional import symbolic_sum\n```\n\nSo, we go with commit \u200bdd72bfc instead of \u200b3191690 ?",
    "created_at": "2014-05-12T20:33:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47824",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:52'></a>
Replying to [@tscrim](#comment%3A51):
> Looking at your commit, I don't see any benefit in using the metaclass. 

Yes exactly. I needed to play with it to understand what you meant.

> However I'm not opposed to the renaming, so I've just pushed that.

Well, the renaming was just an easy way for me to check that `sage -t recursively_enumerated_set.pyx` was ok after I realised that `__classcall_private__` was ignored by `cdef` class. It was not a suggestion, but it would not be the first renamed function:

```
sage: import_statements(sum)
from sage.misc.functional import symbolic_sum
```

So, we go with commit ​dd72bfc instead of ​3191690 ?



---

archive/issue_events_043883.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-12T20:38:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43883"
}
```



---

archive/issue_events_043884.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-12T20:38:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43884"
}
```



---

archive/issue_comments_047825.json:
```json
{
    "body": "<a id='comment:53'></a>\nIf that's okay with you.",
    "created_at": "2014-05-12T20:38:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47825",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:53'></a>
If that's okay with you.



---

archive/issue_comments_047826.json:
```json
{
    "body": "<a id='comment:54'></a>\nReplying to [@tscrim](#comment%3A53):\n> If that's okay with you.\n\nThe more I think about it, the less I like it. I think \u200bdd72bfc can be confusing for someone looking at the file for the first time. Until that person looks at the file sage/sets/all.py he will not understand how the `__init__` handles the structure argument. And the key will always be hidden in some other file `sage/sets/all.py`. I suggest we go with your initial factory function. More precisely with commit \u200b3191690. Do you agree?\n\nIf so, I do not know what should we do then (git question). Should we update the commit field? Should we reset the HEAD of the branch? Should we create a new branch pointing to the commit?",
    "created_at": "2014-05-12T20:51:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47826",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:54'></a>
Replying to [@tscrim](#comment%3A53):
> If that's okay with you.

The more I think about it, the less I like it. I think ​dd72bfc can be confusing for someone looking at the file for the first time. Until that person looks at the file sage/sets/all.py he will not understand how the `__init__` handles the structure argument. And the key will always be hidden in some other file `sage/sets/all.py`. I suggest we go with your initial factory function. More precisely with commit ​3191690. Do you agree?

If so, I do not know what should we do then (git question). Should we update the commit field? Should we reset the HEAD of the branch? Should we create a new branch pointing to the commit?



---

archive/issue_comments_047827.json:
```json
{
    "body": "<a id='comment:55'></a>\nGood point. What we'll do is create a new branch which just points to the old commit (afterwards we can delete our old branches). Do you want to do this or should I?",
    "created_at": "2014-05-12T20:55:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47827",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:55'></a>
Good point. What we'll do is create a new branch which just points to the old commit (afterwards we can delete our old branches). Do you want to do this or should I?



---

archive/issue_comments_047828.json:
```json
{
    "body": "<a id='comment:56'></a>\nLet me try.",
    "created_at": "2014-05-12T20:59:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47828",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:56'></a>
Let me try.



---

archive/issue_comments_047829.json:
```json
{
    "body": "**Changing commit** from \"[dd72bfc1227605362e9baf847a623ddd6bd297f9](https://github.com/sagemath/sagetrac-mirror/commit/dd72bfc1227605362e9baf847a623ddd6bd297f9)\" to \"[3191690431cfe1614444004863b15a331941ad00](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)\".",
    "created_at": "2014-05-12T21:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47829",
    "user": "https://github.com/seblabbe"
}
```

**Changing commit** from "[dd72bfc1227605362e9baf847a623ddd6bd297f9](https://github.com/sagemath/sagetrac-mirror/commit/dd72bfc1227605362e9baf847a623ddd6bd297f9)" to "[3191690431cfe1614444004863b15a331941ad00](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)".



---

archive/issue_comments_047830.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket/6637](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637)\" to \"[public/ticket/6637a](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637a)\".",
    "created_at": "2014-05-12T21:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47830",
    "user": "https://github.com/seblabbe"
}
```

**Changing branch** from "[public/ticket/6637](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637)" to "[public/ticket/6637a](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637a)".



---

archive/issue_comments_047831.json:
```json
{
    "body": "<a id='comment:57'></a>\nThe following did the trick:\n\n```\ngit checkout 3191690 -b t/6637a\n```",
    "created_at": "2014-05-12T21:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47831",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:57'></a>
The following did the trick:

```
git checkout 3191690 -b t/6637a
```



---

archive/issue_comments_047832.json:
```json
{
    "body": "<a id='comment:58'></a>\nThen let's get this in. Thanks S\u00e9bastien.",
    "created_at": "2014-05-12T21:23:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47832",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:58'></a>
Then let's get this in. Thanks Sébastien.



---

archive/issue_events_043885.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-12T21:23:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43885"
}
```



---

archive/issue_events_043886.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-12T21:23:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43886"
}
```



---

archive/issue_comments_047833.json:
```json
{
    "body": "<a id='comment:59'></a>\nThanks for the review and cython improvements!",
    "created_at": "2014-05-12T21:27:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47833",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:59'></a>
Thanks for the review and cython improvements!



---

archive/issue_comments_047834.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket/6637a](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637a)\" to \"[3191690431cfe1614444004863b15a331941ad00](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)\".",
    "created_at": "2014-05-13T08:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47834",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/ticket/6637a](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637a)" to "[3191690431cfe1614444004863b15a331941ad00](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)".



---

archive/issue_events_043887.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-13T08:42:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43887"
}
```



---

archive/issue_events_043888.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "cabf93bd986da328c2dc26f64a278807f8f265c2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-05-13T08:42:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-43888"
}
```



---

archive/issue_comments_047835.json:
```json
{
    "body": "**Changing commit** from \"[3191690431cfe1614444004863b15a331941ad00](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)\" to \"\".",
    "created_at": "2014-05-13T20:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47835",
    "user": "https://github.com/seblabbe"
}
```

**Changing commit** from "[3191690431cfe1614444004863b15a331941ad00](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)" to "".



---

archive/issue_comments_047836.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -14,9 +14,9 @@\n \n Remarks:\n \n-A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.\n+A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx`. See #16351.\n \n-B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` in a later ticket for speed improvements and also to avoid issues explained in C below.\n+B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` for speed improvements and also to avoid issues explained in C below. See #16352.\n \n C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n \n``````\n",
    "created_at": "2014-05-13T20:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-47836",
    "user": "https://github.com/seblabbe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -14,9 +14,9 @@
 
 Remarks:
 
-A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.
+A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx`. See #16351.
 
-B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` in a later ticket for speed improvements and also to avoid issues explained in C below.
+B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` for speed improvements and also to avoid issues explained in C below. See #16352.
 
 C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
 
``````

