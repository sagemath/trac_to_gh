# Issue 6637: standardize the interface to TransitiveIdeal and friends

archive/issues_006637.json:
```json
{
    "assignees": [
        "https://github.com/mwhansen"
    ],
    "body": "<div id=\"comment:0\"></div>\n\n1. Implement a single entry point for recursively enumerated sets:\n\n```\n     RecursivelyEnumeratedSet(seeds, successors, structure=..., enumeration=...)\n```\n\nwhere `structure` takes values in the set `[None, 'forest', 'graded', 'symmetric']` and `enumeration` takes values in the set `[None, 'depth', 'breadth', 'naive']`.\n\n2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.\n\n3. `TransitiveIdeal(succ, seeds)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='naive')`.\n\n4. `TransitiveIdealGraded(succ, seeds, max_depth)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='breadth', max_depth=max_depth)`.\n\nRemarks:\n\nA. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx`. See #16351.\n\nB. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` for speed improvements and also to avoid issues explained in C below. See #16352.\n\nC. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n\n   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first. It is what I call a naive search.\n   - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.\n\nSee [my status report at SageDays57](http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/04/my-status-report-at-sage-days-57-recursivelyenumeratedset/) for more info.\n\nDepends on #14052\n\nCC:  @sagetrac-sage-combinat @hivert\n\nComponent: **combinatorics**\n\nKeywords: **backtrack, enumerated set, transitive closure, days57**\n\nAuthor: **S\u00e9bastien Labb\u00e9**\n\nBranch: **[`3191690`](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/6637_\n\n",
    "closed_at": "2014-05-13T08:42:15Z",
    "created_at": "2009-07-27T12:10:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "standardize the interface to TransitiveIdeal and friends",
    "type": "issue",
    "updated_at": "2014-05-13T20:05:09Z",
    "url": "https://github.com/sagemath/sage/issues/6637",
    "user": "https://github.com/nthiery"
}
```
<div id="comment:0"></div>

1. Implement a single entry point for recursively enumerated sets:

```
     RecursivelyEnumeratedSet(seeds, successors, structure=..., enumeration=...)
```

where `structure` takes values in the set `[None, 'forest', 'graded', 'symmetric']` and `enumeration` takes values in the set `[None, 'depth', 'breadth', 'naive']`.

2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.

3. `TransitiveIdeal(succ, seeds)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='naive')`.

4. `TransitiveIdealGraded(succ, seeds, max_depth)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='breadth', max_depth=max_depth)`.

Remarks:

A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx`. See #16351.

B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` for speed improvements and also to avoid issues explained in C below. See #16352.

C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:

   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first. It is what I call a naive search.
   - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.

See [my status report at SageDays57](http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/04/my-status-report-at-sage-days-57-recursivelyenumeratedset/) for more info.

Depends on #14052

CC:  @sagetrac-sage-combinat @hivert

Component: **combinatorics**

Keywords: **backtrack, enumerated set, transitive closure, days57**

Author: **Sébastien Labbé**

Branch: **[`3191690`](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/6637_





---

archive/issue_events_079818.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2009-07-27T12:10:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79818"
}
```



---

archive/issue_events_079819.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2009-07-27T12:10:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79819"
}
```



---

archive/issue_events_079820.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2009-07-27T12:10:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79820"
}
```



---

archive/issue_events_079821.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2009-07-27T12:10:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79821"
}
```



---

archive/issue_events_079822.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-07-27T12:10:47Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "subject": "https://github.com/nthiery",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79822"
}
```



---

archive/issue_comments_046228.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nHere are some discussions related to this ticket:\n\n- [TransitiveIdeal vs TransitiveIdealGraded](https://groups.google.com/d/topic/sage-combinat-devel/5Be8FSY5w6I/discussion) on sage-combinat, Feb 2013.\n\n- [Comment of Nicolas Thi\u00e9ry at #14052](https://github.com/sagemath/sage/issues/14052#comment:7), Feb 2013\n\n- [SearchForest and post_process...](https://groups.google.com/d/topic/sage-devel/97_5g0Pjuuw/discussion), on sage-devel, Oct. 2012.\n\n- [Sage modules and forking](https://groups.google.com/d/msg/sage-devel/5XHvEx89RlQ/Tb_QBWepC5YJ) on sage-devel, a comment by Florent Hivert, Oct. 2012.\n\n- #13580, patch available on sage-combinat : [trac_13580-map_reduce-fh.patch](http://combinat.sagemath.org/patches/file/7e81f6e12973/trac_13580-map_reduce-fh.patch)",
    "created_at": "2013-02-09T17:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46228",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:1" align="right">comment:1</div>

Here are some discussions related to this ticket:

- [TransitiveIdeal vs TransitiveIdealGraded](https://groups.google.com/d/topic/sage-combinat-devel/5Be8FSY5w6I/discussion) on sage-combinat, Feb 2013.

- [Comment of Nicolas Thiéry at #14052](https://github.com/sagemath/sage/issues/14052#comment:7), Feb 2013

- [SearchForest and post_process...](https://groups.google.com/d/topic/sage-devel/97_5g0Pjuuw/discussion), on sage-devel, Oct. 2012.

- [Sage modules and forking](https://groups.google.com/d/msg/sage-devel/5XHvEx89RlQ/Tb_QBWepC5YJ) on sage-devel, a comment by Florent Hivert, Oct. 2012.

- #13580, patch available on sage-combinat : [trac_13580-map_reduce-fh.patch](http://combinat.sagemath.org/patches/file/7e81f6e12973/trac_13580-map_reduce-fh.patch)



---

archive/issue_events_079823.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2013-02-09T18:17:04Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "title_is": "standardize the interface to TransitiveIdeal and friends",
    "title_was": "Follow up on #6000: standardize the interface to TransitiveIdeal and friends",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79823"
}
```



---

archive/issue_comments_046229.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,6 @@\n      TransitiveClosure(roots, operators = ..., children = , acyclic = True, algo = \"DFS\", \"BFS\", internal_nodes = False)\n ```\n \n-for all the functions in sage.combinat.backtrack.py SearchForest, TransitiveIdeal, TransitiveIdealGraded\n+for all the functions in sage.combinat.backtrack.py `SearchForest`, `TransitiveIdeal`, `TransitiveIdealGraded`\n \n TODO: discuss the names above\n``````\n",
    "created_at": "2013-02-09T18:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46229",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,6 @@
      TransitiveClosure(roots, operators = ..., children = , acyclic = True, algo = "DFS", "BFS", internal_nodes = False)
 ```
 
-for all the functions in sage.combinat.backtrack.py SearchForest, TransitiveIdeal, TransitiveIdealGraded
+for all the functions in sage.combinat.backtrack.py `SearchForest`, `TransitiveIdeal`, `TransitiveIdealGraded`
 
 TODO: discuss the names above
``````




---

archive/issue_comments_046230.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIn a tentative to find good choices for name and so on, here is how I see this.\n\n- Let X be a set.\n- Let R be a binary relation on X, that is R is a subset of the cartesian product of X times X.\n- Denote by xRy if x is R-related to y.\n\nNow\n\n- Let `seeds` be a subset of X.\n- Let `succ` be a callable python object `X -> 2^X` such that xRy if and only if y is in `succ(x)`.\n\nWe are interested in the subset S of X that can be generated from the `seeds` using the `succ` recursively. More precisely in the set \n\n S = {y : x = x1 R x2 R x3 R ... R xn = y and x in `seeds`}.\n\nMoreover, we are interested in the enumeration of S itself and we consider depth-first and breadth-first as different and both usefull.\n\nSuch a relation G = (X,R) can be seen as a directed graph. I think this remark is useful as it may provide some vocabulary. Indeed the set S is the connected components of the generators in the digraph G.\n\nI see some different cases :\n\n**1. We do not know anything more about the relation.** We need to save in memory all the `known` objects to avoid duplicates. This is what is currently done in `TransitiveIdeal` (depth-first search) and (curiously) in `TransitiveIdealGraded` (breadth-first search) also.\n\n**2. The directed graph S is a forest with given `seeds`.** Equivalently, one may say that S do not contain cycle (oriented or not). This is what is currently done in `SearchForest`.\n\n**3. The relation is graded.** By graded here I mean what I thought `TransitiveIdealGraded` was doing until I look more carefully at the doc and the code. More seriously, by graded I mean the following : for all (x1 in seeds) and (y1 in seeds), \n\n  if (x1 R x2 R ... R xn) and (y1 R y2 R ... R ym) and (xn=ym), then (n=m).\n\nThe relation is graded if all path from the origin to an element have the same length. In this case, we only need to save in memory the current level.\n\n**4. The relation is symmetric.** If the relation is symmetric, we only need to keep in memory the last two level of depth. This is what I needed and coded this week. And this is why I started to look more carefully at the code in `sage/combinat/backtrack.py`...\n\nThat is it for now!",
    "created_at": "2013-02-09T19:39:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46230",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:4" align="right">comment:4</div>

In a tentative to find good choices for name and so on, here is how I see this.

- Let X be a set.
- Let R be a binary relation on X, that is R is a subset of the cartesian product of X times X.
- Denote by xRy if x is R-related to y.

Now

- Let `seeds` be a subset of X.
- Let `succ` be a callable python object `X -> 2^X` such that xRy if and only if y is in `succ(x)`.

We are interested in the subset S of X that can be generated from the `seeds` using the `succ` recursively. More precisely in the set 

 S = {y : x = x1 R x2 R x3 R ... R xn = y and x in `seeds`}.

Moreover, we are interested in the enumeration of S itself and we consider depth-first and breadth-first as different and both usefull.

Such a relation G = (X,R) can be seen as a directed graph. I think this remark is useful as it may provide some vocabulary. Indeed the set S is the connected components of the generators in the digraph G.

I see some different cases :

**1. We do not know anything more about the relation.** We need to save in memory all the `known` objects to avoid duplicates. This is what is currently done in `TransitiveIdeal` (depth-first search) and (curiously) in `TransitiveIdealGraded` (breadth-first search) also.

**2. The directed graph S is a forest with given `seeds`.** Equivalently, one may say that S do not contain cycle (oriented or not). This is what is currently done in `SearchForest`.

**3. The relation is graded.** By graded here I mean what I thought `TransitiveIdealGraded` was doing until I look more carefully at the doc and the code. More seriously, by graded I mean the following : for all (x1 in seeds) and (y1 in seeds), 

  if (x1 R x2 R ... R xn) and (y1 R y2 R ... R ym) and (xn=ym), then (n=m).

The relation is graded if all path from the origin to an element have the same length. In this case, we only need to save in memory the current level.

**4. The relation is symmetric.** If the relation is symmetric, we only need to keep in memory the last two level of depth. This is what I needed and coded this week. And this is why I started to look more carefully at the code in `sage/combinat/backtrack.py`...

That is it for now!



---

archive/issue_comments_046231.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI totally agree with the analysis!\n\nI don't know yet what would be the best name for the argument provided by the user to describe the relation. Behind the scene we are definitely modelling relation. But what the user provide is not the relation but a function that computes the (out) neighbors for this relation. If at the end of the day we choose \"TransitiveClosure\" as name for the main entry point, then \"neighbors\" would be consistent. If we go for \"RecursiveSet\" (or RecursiveEnumeratedSet or variant thereof) then \"operators\" would be consistent.\n\nCheers,\n                           Nicolas",
    "created_at": "2013-02-09T19:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46231",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:5" align="right">comment:5</div>

I totally agree with the analysis!

I don't know yet what would be the best name for the argument provided by the user to describe the relation. Behind the scene we are definitely modelling relation. But what the user provide is not the relation but a function that computes the (out) neighbors for this relation. If at the end of the day we choose "TransitiveClosure" as name for the main entry point, then "neighbors" would be consistent. If we go for "RecursiveSet" (or RecursiveEnumeratedSet or variant thereof) then "operators" would be consistent.

Cheers,
                           Nicolas



---

archive/issue_comments_046232.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI think `relation` would not be too bad for the name of the successor keyword and should be considered as well. In some sense, a binary relation is a function `f: X -> 2^X` and a function is a relation such that `|f(x)|=1` for all x.\n\nPossibilities for successor keyword :\n\n- `succ` : suitable for non symmetric relation, currently used in `TransitiveIdeal` and `TransitiveIdealGraded`\n- `successors`\n- `operators`\n- `neighbors` : suitable vocabulary for symmetric relation\n- `children` : suitable vocabulary for non symmetric relation, currently used in `SearchForest`.\n- `relatives` : suitable vocabulary for symmetric relation\n\nPossibilities for generators keyword :\n\n- `generators`\n- `gens`\n- `roots`\n- `seeds`",
    "created_at": "2013-02-09T20:37:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46232",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:6" align="right">comment:6</div>

I think `relation` would not be too bad for the name of the successor keyword and should be considered as well. In some sense, a binary relation is a function `f: X -> 2^X` and a function is a relation such that `|f(x)|=1` for all x.

Possibilities for successor keyword :

- `succ` : suitable for non symmetric relation, currently used in `TransitiveIdeal` and `TransitiveIdealGraded`
- `successors`
- `operators`
- `neighbors` : suitable vocabulary for symmetric relation
- `children` : suitable vocabulary for non symmetric relation, currently used in `SearchForest`.
- `relatives` : suitable vocabulary for symmetric relation

Possibilities for generators keyword :

- `generators`
- `gens`
- `roots`
- `seeds`



---

archive/issue_comments_046233.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n> If we go for RecursiveSet (or RecursiveEnumeratedSet or variant thereof) \n\nI like RecursiveSet. Maybe RecursiveEnumeratedSet is more related to what we do but is also longer.\n\nSome links:\n\n- http://en.wikipedia.org/wiki/Recursive_set\n- http://en.wikipedia.org/wiki/Recursively_enumerable_set",
    "created_at": "2013-02-09T20:55:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46233",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:7" align="right">comment:7</div>

> If we go for RecursiveSet (or RecursiveEnumeratedSet or variant thereof) 

I like RecursiveSet. Maybe RecursiveEnumeratedSet is more related to what we do but is also longer.

Some links:

- http://en.wikipedia.org/wiki/Recursive_set
- http://en.wikipedia.org/wiki/Recursively_enumerable_set



---

archive/issue_comments_046234.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n> I don't know yet what would be the best name for the argument provided by the user to describe the relation.\n\nFor the above 4 cases, I would suggest arguments like the following :\n\n```\nRecursiveSet(seeds, succ)\nRecursiveSet(seeds, succ, structure=\"forest\")\nRecursiveSet(seeds, succ, structure=\"graded\")\nRecursiveSet(seeds, succ, structure=\"symmetric\")\n```",
    "created_at": "2013-02-09T21:04:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46234",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:8" align="right">comment:8</div>

> I don't know yet what would be the best name for the argument provided by the user to describe the relation.

For the above 4 cases, I would suggest arguments like the following :

```
RecursiveSet(seeds, succ)
RecursiveSet(seeds, succ, structure="forest")
RecursiveSet(seeds, succ, structure="graded")
RecursiveSet(seeds, succ, structure="symmetric")
```



---

archive/issue_comments_046235.json:
```json
{
    "body": "Attachment: **[trac_6637_recursive_set-sl.patch.gz](https://github.com/sagemath/sage/files/ticket6637/trac_6637_recursive_set-sl.patch.gz)**",
    "created_at": "2013-02-10T21:01:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46235",
    "user": "https://github.com/seblabbe"
}
```

Attachment: **[trac_6637_recursive_set-sl.patch.gz](https://github.com/sagemath/sage/files/ticket6637/trac_6637_recursive_set-sl.patch.gz)**



---

archive/issue_comments_046236.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI just added a patch. It implements the `RecursiveSet_symmetric` class and creates factory called `RecursiveSet`. For now, `RecursiveSet` returns either an instance of `TransitiveIdeal`, `SearchForest` or `RecursiveSet_symmetric`. I started an empty class `RecursiveSet_graded`. See examples inside the docstring of the class `RecursiveSet`.\n\nIt is not ready for review, but comments are welcome to help me continue this work.\n\nActually, my questions are : \n\n- How should I merge `RecursiveSet` with `TransitiveIdeal` and `SearchForest`?\n- Do we like this interface?",
    "created_at": "2013-02-10T21:10:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46236",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:9" align="right">comment:9</div>

I just added a patch. It implements the `RecursiveSet_symmetric` class and creates factory called `RecursiveSet`. For now, `RecursiveSet` returns either an instance of `TransitiveIdeal`, `SearchForest` or `RecursiveSet_symmetric`. I started an empty class `RecursiveSet_graded`. See examples inside the docstring of the class `RecursiveSet`.

It is not ready for review, but comments are welcome to help me continue this work.

Actually, my questions are : 

- How should I merge `RecursiveSet` with `TransitiveIdeal` and `SearchForest`?
- Do we like this interface?



---

archive/issue_comments_046237.json:
```json
{
    "body": "Dependencies: **#14052**",
    "created_at": "2013-02-10T21:11:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46237",
    "user": "https://github.com/seblabbe"
}
```

Dependencies: **#14052**



---

archive/issue_events_079824.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79824"
}
```



---

archive/issue_events_079825.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79825"
}
```



---

archive/issue_events_079826.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79826"
}
```



---

archive/issue_events_079827.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79827"
}
```



---

archive/issue_comments_046238.json:
```json
{
    "body": "Commit: **[`c2861f0`](https://github.com/sagemath/sagetrac-mirror/commit/c2861f04a7250c3c72438adc50ccad8a43c22e54)**",
    "created_at": "2014-04-08T13:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46238",
    "user": "https://github.com/seblabbe"
}
```

Commit: **[`c2861f0`](https://github.com/sagemath/sagetrac-mirror/commit/c2861f04a7250c3c72438adc50ccad8a43c22e54)**



---

archive/issue_comments_046239.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2861f04a7250c3c72438adc50ccad8a43c22e54\"><code>c2861f0</code></a></td><td><code>Some fixes to TransitiveIdeal and TransitiveIdealGraded, added RecursiveSet factory</code></td></tr></table>\n",
    "created_at": "2014-04-08T13:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46239",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:13"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2861f04a7250c3c72438adc50ccad8a43c22e54"><code>c2861f0</code></a></td><td><code>Some fixes to TransitiveIdeal and TransitiveIdealGraded, added RecursiveSet factory</code></td></tr></table>




---

archive/issue_comments_046240.json:
```json
{
    "body": "Branch: **[u/slabbe/6637](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/6637)**",
    "created_at": "2014-04-08T13:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46240",
    "user": "https://github.com/seblabbe"
}
```

Branch: **[u/slabbe/6637](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/6637)**



---

archive/issue_comments_046241.json:
```json
{
    "body": "Changed commit from **[`c2861f0`](https://github.com/sagemath/sagetrac-mirror/commit/c2861f04a7250c3c72438adc50ccad8a43c22e54)** to **[`5924b46`](https://github.com/sagemath/sagetrac-mirror/commit/5924b4637237d77d81a3577b2a6d86c23f96a86a)**",
    "created_at": "2014-04-08T19:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46241",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c2861f0`](https://github.com/sagemath/sagetrac-mirror/commit/c2861f04a7250c3c72438adc50ccad8a43c22e54)** to **[`5924b46`](https://github.com/sagemath/sagetrac-mirror/commit/5924b4637237d77d81a3577b2a6d86c23f96a86a)**



---

archive/issue_comments_046242.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5924b4637237d77d81a3577b2a6d86c23f96a86a\"><code>5924b46</code></a></td><td><code>Cleaning RecursiveSet and subclasses</code></td></tr></table>\n",
    "created_at": "2014-04-08T19:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46242",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5924b4637237d77d81a3577b2a6d86c23f96a86a"><code>5924b46</code></a></td><td><code>Cleaning RecursiveSet and subclasses</code></td></tr></table>




---

archive/issue_comments_046243.json:
```json
{
    "body": "Changed commit from **[`5924b46`](https://github.com/sagemath/sagetrac-mirror/commit/5924b4637237d77d81a3577b2a6d86c23f96a86a)** to **[`29aebab`](https://github.com/sagemath/sagetrac-mirror/commit/29aebab4b5bc94f8bfc35c994edb35d90d70557b)**",
    "created_at": "2014-04-09T10:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46243",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5924b46`](https://github.com/sagemath/sagetrac-mirror/commit/5924b4637237d77d81a3577b2a6d86c23f96a86a)** to **[`29aebab`](https://github.com/sagemath/sagetrac-mirror/commit/29aebab4b5bc94f8bfc35c994edb35d90d70557b)**



---

archive/issue_comments_046244.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29aebab4b5bc94f8bfc35c994edb35d90d70557b\"><code>29aebab</code></a></td><td><code>now 100% coverage, seeds instead of gens</code></td></tr></table>\n",
    "created_at": "2014-04-09T10:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46244",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29aebab4b5bc94f8bfc35c994edb35d90d70557b"><code>29aebab</code></a></td><td><code>now 100% coverage, seeds instead of gens</code></td></tr></table>




---

archive/issue_comments_046245.json:
```json
{
    "body": "Changed commit from **[`29aebab`](https://github.com/sagemath/sagetrac-mirror/commit/29aebab4b5bc94f8bfc35c994edb35d90d70557b)** to **[`b363c54`](https://github.com/sagemath/sagetrac-mirror/commit/b363c547908004c908baff117a53ec2279cc6f1b)**",
    "created_at": "2014-04-10T11:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46245",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`29aebab`](https://github.com/sagemath/sagetrac-mirror/commit/29aebab4b5bc94f8bfc35c994edb35d90d70557b)** to **[`b363c54`](https://github.com/sagemath/sagetrac-mirror/commit/b363c547908004c908baff117a53ec2279cc6f1b)**



---

archive/issue_comments_046246.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b363c547908004c908baff117a53ec2279cc6f1b\"><code>b363c54</code></a></td><td><code>Cleaning documentation and reverting some changes to TransitiveIdeals</code></td></tr></table>\n",
    "created_at": "2014-04-10T11:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46246",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b363c547908004c908baff117a53ec2279cc6f1b"><code>b363c54</code></a></td><td><code>Cleaning documentation and reverting some changes to TransitiveIdeals</code></td></tr></table>




---

archive/issue_comments_046247.json:
```json
{
    "body": "Changed commit from **[`b363c54`](https://github.com/sagemath/sagetrac-mirror/commit/b363c547908004c908baff117a53ec2279cc6f1b)** to **[`b8108ae`](https://github.com/sagemath/sagetrac-mirror/commit/b8108ae30f45fb6dedadda77b53e30f5bc5e37f6)**",
    "created_at": "2014-04-10T12:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46247",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b363c54`](https://github.com/sagemath/sagetrac-mirror/commit/b363c547908004c908baff117a53ec2279cc6f1b)** to **[`b8108ae`](https://github.com/sagemath/sagetrac-mirror/commit/b8108ae30f45fb6dedadda77b53e30f5bc5e37f6)**



---

archive/issue_comments_046248.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8108ae30f45fb6dedadda77b53e30f5bc5e37f6\"><code>b8108ae</code></a></td><td><code>implemented depth search with stack and breadth search with queue</code></td></tr></table>\n",
    "created_at": "2014-04-10T12:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46248",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8108ae30f45fb6dedadda77b53e30f5bc5e37f6"><code>b8108ae</code></a></td><td><code>implemented depth search with stack and breadth search with queue</code></td></tr></table>




---

archive/issue_comments_046249.json:
```json
{
    "body": "Changed commit from **[`b8108ae`](https://github.com/sagemath/sagetrac-mirror/commit/b8108ae30f45fb6dedadda77b53e30f5bc5e37f6)** to **[`9de2cf9`](https://github.com/sagemath/sagetrac-mirror/commit/9de2cf9ba5f22b83ab14827651f430292e727684)**",
    "created_at": "2014-04-10T19:26:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46249",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b8108ae`](https://github.com/sagemath/sagetrac-mirror/commit/b8108ae30f45fb6dedadda77b53e30f5bc5e37f6)** to **[`9de2cf9`](https://github.com/sagemath/sagetrac-mirror/commit/9de2cf9ba5f22b83ab14827651f430292e727684)**



---

archive/issue_comments_046250.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9de2cf9ba5f22b83ab14827651f430292e727684\"><code>9de2cf9</code></a></td><td><code>moving RecursivelyEnumerableSet to sage/sets</code></td></tr></table>\n",
    "created_at": "2014-04-10T19:26:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46250",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9de2cf9ba5f22b83ab14827651f430292e727684"><code>9de2cf9</code></a></td><td><code>moving RecursivelyEnumerableSet to sage/sets</code></td></tr></table>




---

archive/issue_comments_046251.json:
```json
{
    "body": "Changed commit from **[`9de2cf9`](https://github.com/sagemath/sagetrac-mirror/commit/9de2cf9ba5f22b83ab14827651f430292e727684)** to **[`5d63453`](https://github.com/sagemath/sagetrac-mirror/commit/5d634535fcee7fcba413170826b03011373505d1)**",
    "created_at": "2014-04-11T00:01:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46251",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9de2cf9`](https://github.com/sagemath/sagetrac-mirror/commit/9de2cf9ba5f22b83ab14827651f430292e727684)** to **[`5d63453`](https://github.com/sagemath/sagetrac-mirror/commit/5d634535fcee7fcba413170826b03011373505d1)**



---

archive/issue_comments_046252.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d634535fcee7fcba413170826b03011373505d1\"><code>5d63453</code></a></td><td><code>doc fixes + adding Parent and category</code></td></tr></table>\n",
    "created_at": "2014-04-11T00:01:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46252",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d634535fcee7fcba413170826b03011373505d1"><code>5d63453</code></a></td><td><code>doc fixes + adding Parent and category</code></td></tr></table>




---

archive/issue_events_079828.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-04-11T00:09:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79828"
}
```



---

archive/issue_comments_046253.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,9 @@\n for all the functions in sage.combinat.backtrack.py `SearchForest`, `TransitiveIdeal`, `TransitiveIdealGraded`\n \n TODO: discuss the names above\n+\n+The actual proposition is:\n+\n+```\n+     RecursivelyEnumeratedSet(seeds, succ, structure=..., algorithm=...)\n+```\n``````\n",
    "created_at": "2014-04-11T00:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46253",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,9 @@
 for all the functions in sage.combinat.backtrack.py `SearchForest`, `TransitiveIdeal`, `TransitiveIdealGraded`
 
 TODO: discuss the names above
+
+The actual proposition is:
+
+```
+     RecursivelyEnumeratedSet(seeds, succ, structure=..., algorithm=...)
+```
``````




---

archive/issue_comments_046254.json:
```json
{
    "body": "Changed commit from **[`5d63453`](https://github.com/sagemath/sagetrac-mirror/commit/5d634535fcee7fcba413170826b03011373505d1)** to **[`4934fa2`](https://github.com/sagemath/sagetrac-mirror/commit/4934fa2967e5bb521167d34c15e3152b40f30e63)**",
    "created_at": "2014-04-11T10:28:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46254",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5d63453`](https://github.com/sagemath/sagetrac-mirror/commit/5d634535fcee7fcba413170826b03011373505d1)** to **[`4934fa2`](https://github.com/sagemath/sagetrac-mirror/commit/4934fa2967e5bb521167d34c15e3152b40f30e63)**



---

archive/issue_comments_046255.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4934fa2967e5bb521167d34c15e3152b40f30e63\"><code>4934fa2</code></a></td><td><code>deprecate import of TransitiveIdeal + level method for RecursivelyEnumeratedSet</code></td></tr></table>\n",
    "created_at": "2014-04-11T10:28:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46255",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4934fa2967e5bb521167d34c15e3152b40f30e63"><code>4934fa2</code></a></td><td><code>deprecate import of TransitiveIdeal + level method for RecursivelyEnumeratedSet</code></td></tr></table>




---

archive/issue_comments_046256.json:
```json
{
    "body": "Changed commit from **[`4934fa2`](https://github.com/sagemath/sagetrac-mirror/commit/4934fa2967e5bb521167d34c15e3152b40f30e63)** to **[`94a4d7a`](https://github.com/sagemath/sagetrac-mirror/commit/94a4d7aaa77bfc48894d17d5242d324c3e798307)**",
    "created_at": "2014-04-13T20:22:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46256",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4934fa2`](https://github.com/sagemath/sagetrac-mirror/commit/4934fa2967e5bb521167d34c15e3152b40f30e63)** to **[`94a4d7a`](https://github.com/sagemath/sagetrac-mirror/commit/94a4d7aaa77bfc48894d17d5242d324c3e798307)**



---

archive/issue_comments_046257.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94a4d7aaa77bfc48894d17d5242d324c3e798307\"><code>94a4d7a</code></a></td><td><code>level -> graded component, algorithm -> enumeration, more docs, deprecated SearchForest also</code></td></tr></table>\n",
    "created_at": "2014-04-13T20:22:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46257",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94a4d7aaa77bfc48894d17d5242d324c3e798307"><code>94a4d7a</code></a></td><td><code>level -> graded component, algorithm -> enumeration, more docs, deprecated SearchForest also</code></td></tr></table>




---

archive/issue_comments_046258.json:
```json
{
    "body": "Changed commit from **[`94a4d7a`](https://github.com/sagemath/sagetrac-mirror/commit/94a4d7aaa77bfc48894d17d5242d324c3e798307)** to **[`52ce4a3`](https://github.com/sagemath/sagetrac-mirror/commit/52ce4a357d72762caf3339fe0282a0364e15a842)**",
    "created_at": "2014-04-13T21:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46258",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`94a4d7a`](https://github.com/sagemath/sagetrac-mirror/commit/94a4d7aaa77bfc48894d17d5242d324c3e798307)** to **[`52ce4a3`](https://github.com/sagemath/sagetrac-mirror/commit/52ce4a357d72762caf3339fe0282a0364e15a842)**



---

archive/issue_comments_046259.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52ce4a357d72762caf3339fe0282a0364e15a842\"><code>52ce4a3</code></a></td><td><code>succ -> successors, fixed doctests in backtrack.py</code></td></tr></table>\n",
    "created_at": "2014-04-13T21:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46259",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52ce4a357d72762caf3339fe0282a0364e15a842"><code>52ce4a3</code></a></td><td><code>succ -> successors, fixed doctests in backtrack.py</code></td></tr></table>




---

archive/issue_comments_046260.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI think I will stop now. The next thing to do would be to move code from `sage/combinat/backtrack.py` to `sage/sets/recursively_enumerated_set.py` more precisely, the SearchForest code. But since it is mostly about moving code (does not change any functionality), I suggest to do it in a another ticket and review/merge this ticket now.\n\nNeeds review!\n\nS\u00e9bastien",
    "created_at": "2014-04-13T21:45:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46260",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:25" align="right">comment:25</div>

I think I will stop now. The next thing to do would be to move code from `sage/combinat/backtrack.py` to `sage/sets/recursively_enumerated_set.py` more precisely, the SearchForest code. But since it is mostly about moving code (does not change any functionality), I suggest to do it in a another ticket and review/merge this ticket now.

Needs review!

Sébastien



---

archive/issue_comments_046261.json:
```json
{
    "body": "Changed keywords from **backtrack, enumerated set, transitive closure** to **backtrack, enumerated set, transitive closure, days57**",
    "created_at": "2014-04-15T19:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46261",
    "user": "https://github.com/seblabbe"
}
```

Changed keywords from **backtrack, enumerated set, transitive closure** to **backtrack, enumerated set, transitive closure, days57**



---

archive/issue_events_079829.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79829"
}
```



---

archive/issue_events_079830.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79830"
}
```



---

archive/issue_comments_046262.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nyour commits remove completely combinat/all.py ....",
    "created_at": "2014-05-10T14:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46262",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:28" align="right">comment:28</div>

your commits remove completely combinat/all.py ....



---

archive/issue_events_079831.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-05-10T14:59:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79831"
}
```



---

archive/issue_events_079832.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-05-10T14:59:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79832"
}
```



---

archive/issue_comments_046263.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@fchapoton](#comment%3A28):\n> your commits remove completely combinat/all.py ....\n\nI see. It is strange because I can't see which commit did that... I will investigate.",
    "created_at": "2014-05-10T17:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46263",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@fchapoton](#comment%3A28):
> your commits remove completely combinat/all.py ....

I see. It is strange because I can't see which commit did that... I will investigate.



---

archive/issue_comments_046264.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI believe that's an error with the trac plugin (I've seen that before).\n\nCan I make a feature request for this ticket, could we also cythonize this for speed (or at least make the new file a `.pyx` file)?",
    "created_at": "2014-05-10T17:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46264",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:30" align="right">comment:30</div>

I believe that's an error with the trac plugin (I've seen that before).

Can I make a feature request for this ticket, could we also cythonize this for speed (or at least make the new file a `.pyx` file)?



---

archive/issue_comments_046265.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nIndeed, there is some gain. I did one example:\n\nPython:\n\n```\nsage: f = lambda a: [a-1,a+1]\nsage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')\nsage: it = iter(C)\nsage: %time L = [next(it) for _ in xrange(10^6)]\nCPU times: user 5.82 s, sys: 239 ms, total: 6.06 s\nWall time: 6.07 s\n```\n\nCython:\n\n```\nsage: f = lambda a: [a-1,a+1]\nsage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')\nsage: it = iter(C)\nsage: %time L = [next(it) for _ in xrange(10^6)]\nCPU times: user 4.47 s, sys: 408 ms, total: 4.88 s\nWall time: 4.89 s\n```",
    "created_at": "2014-05-10T21:43:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46265",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:31" align="right">comment:31</div>

Indeed, there is some gain. I did one example:

Python:

```
sage: f = lambda a: [a-1,a+1]
sage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')
sage: it = iter(C)
sage: %time L = [next(it) for _ in xrange(10^6)]
CPU times: user 5.82 s, sys: 239 ms, total: 6.06 s
Wall time: 6.07 s
```

Cython:

```
sage: f = lambda a: [a-1,a+1]
sage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')
sage: it = iter(C)
sage: %time L = [next(it) for _ in xrange(10^6)]
CPU times: user 4.47 s, sys: 408 ms, total: 4.88 s
Wall time: 4.89 s
```



---

archive/issue_comments_046266.json:
```json
{
    "body": "Changed commit from **[`52ce4a3`](https://github.com/sagemath/sagetrac-mirror/commit/52ce4a357d72762caf3339fe0282a0364e15a842)** to **[`4226245`](https://github.com/sagemath/sagetrac-mirror/commit/42262457c67606ba2861e9ba7b5cb6f20450f09d)**",
    "created_at": "2014-05-10T22:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46266",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`52ce4a3`](https://github.com/sagemath/sagetrac-mirror/commit/52ce4a357d72762caf3339fe0282a0364e15a842)** to **[`4226245`](https://github.com/sagemath/sagetrac-mirror/commit/42262457c67606ba2861e9ba7b5cb6f20450f09d)**



---

archive/issue_comments_046267.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5d53ae1ca57d4e78b8977a0b08806114ab03a47\"><code>b5d53ae</code></a></td><td><code>Merge branch 'master' into t/6637</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42262457c67606ba2861e9ba7b5cb6f20450f09d\"><code>4226245</code></a></td><td><code>#6637: recursively_enumerated_set ffrom .py to .pyx</code></td></tr></table>\n",
    "created_at": "2014-05-10T22:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46267",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5d53ae1ca57d4e78b8977a0b08806114ab03a47"><code>b5d53ae</code></a></td><td><code>Merge branch 'master' into t/6637</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42262457c67606ba2861e9ba7b5cb6f20450f09d"><code>4226245</code></a></td><td><code>#6637: recursively_enumerated_set ffrom .py to .pyx</code></td></tr></table>




---

archive/issue_comments_046268.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,15 +1,18 @@\n-Implement a single entry point:\n+1. Implement a single entry point for recursively enumerated sets:\n \n ```\n-     TransitiveClosure(roots, operators = ..., children = , acyclic = True, algo = \"DFS\", \"BFS\", internal_nodes = False)\n+     RecursivelyEnumeratedSet(seeds, successors, structure=..., enumeration=...)\n ```\n \n-for all the functions in sage.combinat.backtrack.py `SearchForest`, `TransitiveIdeal`, `TransitiveIdealGraded`\n+2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.\n \n-TODO: discuss the names above\n+Remarks:\n \n-The actual proposition is:\n+A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.\n \n-```\n-     RecursivelyEnumeratedSet(seeds, succ, structure=..., algorithm=...)\n-```\n+B. Note that there are some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n+\n+   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first.\n+   - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.\n+\n+See [my status report at SageDays57](http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/04/my-status-report-at-sage-days-57-recursivelyenumeratedset/) for more info.\n``````\n",
    "created_at": "2014-05-10T23:43:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46268",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,15 +1,18 @@
-Implement a single entry point:
+1. Implement a single entry point for recursively enumerated sets:
 
 ```
-     TransitiveClosure(roots, operators = ..., children = , acyclic = True, algo = "DFS", "BFS", internal_nodes = False)
+     RecursivelyEnumeratedSet(seeds, successors, structure=..., enumeration=...)
 ```
 
-for all the functions in sage.combinat.backtrack.py `SearchForest`, `TransitiveIdeal`, `TransitiveIdealGraded`
+2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.
 
-TODO: discuss the names above
+Remarks:
 
-The actual proposition is:
+A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.
 
-```
-     RecursivelyEnumeratedSet(seeds, succ, structure=..., algorithm=...)
-```
+B. Note that there are some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
+
+   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first.
+   - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.
+
+See [my status report at SageDays57](http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/04/my-status-report-at-sage-days-57-recursivelyenumeratedset/) for more info.
``````




---

archive/issue_comments_046269.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,8 @@\n ```\n      RecursivelyEnumeratedSet(seeds, successors, structure=..., enumeration=...)\n ```\n+\n+where `structure` takes values in the set `[None, 'forest', 'graded', 'symmetric']` and `enumeration` takes values in the set `[None, 'depth', 'breadth', 'naive']`.\n \n 2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.\n \n``````\n",
    "created_at": "2014-05-10T23:50:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46269",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,8 @@
 ```
      RecursivelyEnumeratedSet(seeds, successors, structure=..., enumeration=...)
 ```
+
+where `structure` takes values in the set `[None, 'forest', 'graded', 'symmetric']` and `enumeration` takes values in the set `[None, 'depth', 'breadth', 'naive']`.
 
 2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.
 
``````




---

archive/issue_comments_046270.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nI keep the status of the ticket to needs work because I realized that some doctest were broken in the sage library. I am working on it.",
    "created_at": "2014-05-10T23:50:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46270",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:34" align="right">comment:34</div>

I keep the status of the ticket to needs work because I realized that some doctest were broken in the sage library. I am working on it.



---

archive/issue_comments_046271.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e174ae0520eb08f08759cc3e1a18b6080c77c3fb\"><code>e174ae0</code></a></td><td><code>Trac #6637: Adding a `__contains__` method to RecursivelyenumeratedSet</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/766a1b0d7a09c8d9597308592db9543145e61751\"><code>766a1b0</code></a></td><td><code>Trac #6637: fix doctest in root_system/plot.py</code></td></tr></table>\n",
    "created_at": "2014-05-11T00:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46271",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e174ae0520eb08f08759cc3e1a18b6080c77c3fb"><code>e174ae0</code></a></td><td><code>Trac #6637: Adding a `__contains__` method to RecursivelyenumeratedSet</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/766a1b0d7a09c8d9597308592db9543145e61751"><code>766a1b0</code></a></td><td><code>Trac #6637: fix doctest in root_system/plot.py</code></td></tr></table>




---

archive/issue_comments_046272.json:
```json
{
    "body": "Changed commit from **[`4226245`](https://github.com/sagemath/sagetrac-mirror/commit/42262457c67606ba2861e9ba7b5cb6f20450f09d)** to **[`766a1b0`](https://github.com/sagemath/sagetrac-mirror/commit/766a1b0d7a09c8d9597308592db9543145e61751)**",
    "created_at": "2014-05-11T00:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46272",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4226245`](https://github.com/sagemath/sagetrac-mirror/commit/42262457c67606ba2861e9ba7b5cb6f20450f09d)** to **[`766a1b0`](https://github.com/sagemath/sagetrac-mirror/commit/766a1b0d7a09c8d9597308592db9543145e61751)**



---

archive/issue_comments_046273.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,13 +8,17 @@\n \n 2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.\n \n+3. `TransitiveIdeal(succ, seeds)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='naive')`.\n+\n+4. `TransitiveIdealGraded(succ, seeds, max_depth)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='breadth', max_depth=max_depth)`.\n+\n Remarks:\n \n A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.\n \n-B. Note that there are some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n+B. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n \n-   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first.\n+   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first. It is what I call a naive search.\n    - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.\n \n See [my status report at SageDays57](http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/04/my-status-report-at-sage-days-57-recursivelyenumeratedset/) for more info.\n``````\n",
    "created_at": "2014-05-11T00:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46273",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,13 +8,17 @@
 
 2. Deprecate `TransitiveIdeal`, `TransitiveIdealGraded` and `SearchForest` as entry point.
 
+3. `TransitiveIdeal(succ, seeds)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='naive')`.
+
+4. `TransitiveIdealGraded(succ, seeds, max_depth)` keeps the same behavior as before and is now the same as `RecursivelyEnumeratedSet(seeds, succ, structure=None, enumeration='breadth', max_depth=max_depth)`.
+
 Remarks:
 
 A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.
 
-B. Note that there are some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
+B. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
 
-   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first.
+   - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first. It is what I call a naive search.
    - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.
 
 See [my status report at SageDays57](http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/04/my-status-report-at-sage-days-57-recursivelyenumeratedset/) for more info.
``````




---

archive/issue_events_079833.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-05-11T00:30:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79833"
}
```



---

archive/issue_events_079834.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-05-11T00:30:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79834"
}
```



---

archive/issue_comments_046274.json:
```json
{
    "body": "Author: **S\u00e9bastien Labb\u00e9**",
    "created_at": "2014-05-11T01:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46274",
    "user": "https://github.com/tscrim"
}
```

Author: **Sébastien Labbé**



---

archive/issue_comments_046275.json:
```json
{
    "body": "Changed commit from **[`766a1b0`](https://github.com/sagemath/sagetrac-mirror/commit/766a1b0d7a09c8d9597308592db9543145e61751)** to **[`d8b942b`](https://github.com/sagemath/sagetrac-mirror/commit/d8b942bf45c05f4df5fe093b0b63ac63e7127db6)**",
    "created_at": "2014-05-11T01:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46275",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`766a1b0`](https://github.com/sagemath/sagetrac-mirror/commit/766a1b0d7a09c8d9597308592db9543145e61751)** to **[`d8b942b`](https://github.com/sagemath/sagetrac-mirror/commit/d8b942bf45c05f4df5fe093b0b63ac63e7127db6)**



---

archive/issue_comments_046276.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2014-05-11T01:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46276",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_046277.json:
```json
{
    "body": "Changed branch from **[u/slabbe/6637](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/6637)** to **[public/ticket/6637](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637)**",
    "created_at": "2014-05-11T01:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46277",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/slabbe/6637](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/6637)** to **[public/ticket/6637](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637)**



---

archive/issue_comments_046278.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nSome more speedup by doing some more cythonization. Before:\n\n```\nsage: f = lambda a: [a-1,a+1]\nsage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')\nsage: it = iter(C)\nsage: %time L = [next(it) for _ in xrange(10^6)]\nCPU times: user 9.68 s, sys: 147 ms, total: 9.83 s\nWall time: 9.81 s\n```\nWith my commit:\n\n```\nsage: f = lambda a: [a-1,a+1]\nsage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')\nsage: it = iter(C)\nsage: %time L = [next(it) for _ in xrange(10^6)]\nCPU times: user 8.02 s, sys: 103 ms, total: 8.13 s\nWall time: 8.15 s\n```\nI'm sure I haven't done the best cythonization job on this, but it works and all tests pass. If you're happy with my changes, then positive review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d592cea682de0af1f8363c9aaddaa3d2d7b5fad\"><code>0d592ce</code></a></td><td><code>Merge branch 'u/slabbe/6637' of trac.sagemath.org:sage into public/ticket/6637</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f200525ea0e709b8cde3233a18fd67c994ad7db5\"><code>f200525</code></a></td><td><code>More cythonization.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72f5bf6ae7d52618f0dd81dafae7f62199611d07\"><code>72f5bf6</code></a></td><td><code>Merge branch 'u/slabbe/6637' of trac.sagemath.org:sage into public/ticket/6637</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df40815e7751130fa5359fc7110a22779d91b425\"><code>df40815</code></a></td><td><code>Some tweaks in the cythonization.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e68a15f2d5236872aeda5855acfb7ee0895f558d\"><code>e68a15f</code></a></td><td><code>Fixed pickling issue.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8b942bf45c05f4df5fe093b0b63ac63e7127db6\"><code>d8b942b</code></a></td><td><code>Some other potential cython speedups.</code></td></tr></table>\n",
    "created_at": "2014-05-11T01:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46278",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:37" align="right">comment:37</div>

Some more speedup by doing some more cythonization. Before:

```
sage: f = lambda a: [a-1,a+1]
sage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')
sage: it = iter(C)
sage: %time L = [next(it) for _ in xrange(10^6)]
CPU times: user 9.68 s, sys: 147 ms, total: 9.83 s
Wall time: 9.81 s
```
With my commit:

```
sage: f = lambda a: [a-1,a+1]
sage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')
sage: it = iter(C)
sage: %time L = [next(it) for _ in xrange(10^6)]
CPU times: user 8.02 s, sys: 103 ms, total: 8.13 s
Wall time: 8.15 s
```
I'm sure I haven't done the best cythonization job on this, but it works and all tests pass. If you're happy with my changes, then positive review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d592cea682de0af1f8363c9aaddaa3d2d7b5fad"><code>0d592ce</code></a></td><td><code>Merge branch 'u/slabbe/6637' of trac.sagemath.org:sage into public/ticket/6637</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f200525ea0e709b8cde3233a18fd67c994ad7db5"><code>f200525</code></a></td><td><code>More cythonization.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72f5bf6ae7d52618f0dd81dafae7f62199611d07"><code>72f5bf6</code></a></td><td><code>Merge branch 'u/slabbe/6637' of trac.sagemath.org:sage into public/ticket/6637</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df40815e7751130fa5359fc7110a22779d91b425"><code>df40815</code></a></td><td><code>Some tweaks in the cythonization.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e68a15f2d5236872aeda5855acfb7ee0895f558d"><code>e68a15f</code></a></td><td><code>Fixed pickling issue.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8b942bf45c05f4df5fe093b0b63ac63e7127db6"><code>d8b942b</code></a></td><td><code>Some other potential cython speedups.</code></td></tr></table>




---

archive/issue_comments_046279.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,7 +16,9 @@\n \n A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.\n \n-B. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n+B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet in a later ticket for speed improvements and also to avoid issues explained in C below.\n+\n+C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n \n    - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first. It is what I call a naive search.\n    - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.\n``````\n",
    "created_at": "2014-05-11T07:10:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46279",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,7 +16,9 @@
 
 A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.
 
-B. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
+B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet in a later ticket for speed improvements and also to avoid issues explained in C below.
+
+C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
 
    - Enumeration of `TransitiveIdeal` is claimed to be depth first search in the top level file `backtrack.py`, but in fact, it is neither breadth first neither depth first. It is what I call a naive search.
    - Enumeration of `TransitiveIdealGraded` is indeed breadth first as claimed but it does not make use of the graded hypothesis at all because it remembers every generated elements.
``````




---

archive/issue_comments_046280.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,7 +16,7 @@\n \n A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.\n \n-B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet in a later ticket for speed improvements and also to avoid issues explained in C below.\n+B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` in a later ticket for speed improvements and also to avoid issues explained in C below.\n \n C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n \n``````\n",
    "created_at": "2014-05-11T07:11:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46280",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,7 +16,7 @@
 
 A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.
 
-B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet in a later ticket for speed improvements and also to avoid issues explained in C below.
+B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` in a later ticket for speed improvements and also to avoid issues explained in C below.
 
 C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
 
``````




---

archive/issue_comments_046281.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI do gain one more second with your improvements. Great!\n\n```\nsage: sage: f = lambda a: [a-1,a+1]                                         \nsage: sage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')\nsage: sage: it = iter(C)                                                    \nsage: sage: %time L = [next(it) for _ in xrange(10^6)]                      \nCPU times: user 3.49 s, sys: 246 ms, total: 3.74 s                          \nWall time: 3.79 s   \n```\n\nI do not like factory function in general and was happy to use for the first time the metaclass stuff. But apparently, it is not as efficient? Did you check if only removing the metaclass stuff was giving a speedup?",
    "created_at": "2014-05-11T09:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46281",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:40" align="right">comment:40</div>

I do gain one more second with your improvements. Great!

```
sage: sage: f = lambda a: [a-1,a+1]                                         
sage: sage: C = RecursivelyEnumeratedSet([10, 15], f, structure='symmetric')
sage: sage: it = iter(C)                                                    
sage: sage: %time L = [next(it) for _ in xrange(10^6)]                      
CPU times: user 3.49 s, sys: 246 ms, total: 3.74 s                          
Wall time: 3.79 s   
```

I do not like factory function in general and was happy to use for the first time the metaclass stuff. But apparently, it is not as efficient? Did you check if only removing the metaclass stuff was giving a speedup?



---

archive/issue_comments_046282.json:
```json
{
    "body": "Changed commit from **[`d8b942b`](https://github.com/sagemath/sagetrac-mirror/commit/d8b942bf45c05f4df5fe093b0b63ac63e7127db6)** to **[`3191690`](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)**",
    "created_at": "2014-05-11T09:29:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46282",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d8b942b`](https://github.com/sagemath/sagetrac-mirror/commit/d8b942bf45c05f4df5fe093b0b63ac63e7127db6)** to **[`3191690`](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)**



---

archive/issue_comments_046283.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00\"><code>3191690</code></a></td><td><code>Trac #6637: More deprecation doc in backtrack.py</code></td></tr></table>\n",
    "created_at": "2014-05-11T09:29:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46283",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00"><code>3191690</code></a></td><td><code>Trac #6637: More deprecation doc in backtrack.py</code></td></tr></table>




---

archive/issue_comments_046284.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nTravis, did you check that the doc was building fine? I am not able to, I get :\n\n```\n$ sage -docbuild reference/structure html\n   [structure] WARNING: intersphinx inventory '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv'\n   Error building the documentation.\n\n   Note: incremental documentation builds sometimes cause spurious\n   error messages. To be certain that these are real errors, run\n   \"make doc-clean\" first and try again.\n   Traceback (most recent call last):\n     File \"/Users/slabbe/Applications/sage-git/src/doc/common/builder.py\", line 1477, in <module>\n         getattr(get_builder(name), type)()\n           File \"/Users/slabbe/Applications/sage-git/src/doc/common/builder.py\", line 699, in _wrapper\n               getattr(DocBuilder, build_type)(self, *args, **kwds)\n                 File \"/Users/slabbe/Applications/sage-git/src/doc/common/builder.py\", line 94, in f\n                     execfile(sys.argv[0])\n                       File \"/Users/slabbe/Applications/sage-git/src/doc/common/custom-sphinx-build.py\", line 210, in <module>\n                           raise OSError(ERROR_MESSAGE)\n                           OSError: [structure] WARNING: intersphinx inventory '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv'\n```\n\nOnce, I may confirm the docs does build fine. I will set this to positive review.",
    "created_at": "2014-05-11T10:03:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46284",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:42" align="right">comment:42</div>

Travis, did you check that the doc was building fine? I am not able to, I get :

```
$ sage -docbuild reference/structure html
   [structure] WARNING: intersphinx inventory '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv'
   Error building the documentation.

   Note: incremental documentation builds sometimes cause spurious
   error messages. To be certain that these are real errors, run
   "make doc-clean" first and try again.
   Traceback (most recent call last):
     File "/Users/slabbe/Applications/sage-git/src/doc/common/builder.py", line 1477, in <module>
         getattr(get_builder(name), type)()
           File "/Users/slabbe/Applications/sage-git/src/doc/common/builder.py", line 699, in _wrapper
               getattr(DocBuilder, build_type)(self, *args, **kwds)
                 File "/Users/slabbe/Applications/sage-git/src/doc/common/builder.py", line 94, in f
                     execfile(sys.argv[0])
                       File "/Users/slabbe/Applications/sage-git/src/doc/common/custom-sphinx-build.py", line 210, in <module>
                           raise OSError(ERROR_MESSAGE)
                           OSError: [structure] WARNING: intersphinx inventory '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv' not fetchable due to <type 'exceptions.IOError'>: [Errno 2] No such file or directory: '/Users/slabbe/Applications/sage-git/src/doc/output/html/en/reference/quivers/objects.inv'
```

Once, I may confirm the docs does build fine. I will set this to positive review.



---

archive/issue_comments_046285.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\n`make doc-clean` fixed the error. Doc builds fine.",
    "created_at": "2014-05-11T10:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46285",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:43" align="right">comment:43</div>

`make doc-clean` fixed the error. Doc builds fine.



---

archive/issue_events_079835.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-05-11T10:27:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79835"
}
```



---

archive/issue_events_079836.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2014-05-11T10:27:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79836"
}
```



---

archive/issue_events_079837.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2014-05-11T14:11:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79837"
}
```



---

archive/issue_events_079838.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2014-05-11T14:11:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79838"
}
```



---

archive/issue_comments_046286.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nSebastien wants to double check the Metaclass thingy.",
    "created_at": "2014-05-11T14:11:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46286",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:44" align="right">comment:44</div>

Sebastien wants to double check the Metaclass thingy.



---

archive/issue_comments_046287.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nAs I recall, metaclasses are not supported in extension classes by Cython. The metaclass should not change the speed since it's only called/used upon object creation.",
    "created_at": "2014-05-11T15:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46287",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:45" align="right">comment:45</div>

As I recall, metaclasses are not supported in extension classes by Cython. The metaclass should not change the speed since it's only called/used upon object creation.



---

archive/issue_comments_046288.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nAlso FTR, I liked your usage of the metaclass (and I can't check the doc until I get my docbuilder to actually work again... `:/` ).",
    "created_at": "2014-05-11T21:31:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46288",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:46" align="right">comment:46</div>

Also FTR, I liked your usage of the metaclass (and I can't check the doc until I get my docbuilder to actually work again... `:/` ).



---

archive/issue_comments_046289.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nIf you agree Travis, I will try to put the metaclass use back in. Also, maybe Florent can say a word about it. He coached me on how to implement it.",
    "created_at": "2014-05-12T08:18:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46289",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:47" align="right">comment:47</div>

If you agree Travis, I will try to put the metaclass use back in. Also, maybe Florent can say a word about it. He coached me on how to implement it.



---

archive/issue_comments_046290.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@tscrim](#comment%3A45):\n> As I recall, metaclasses are not supported in extension classes by Cython. The metaclass should not change the speed since it's only called/used upon object creation.\n\nOk, now I see what you mean. When the class is `cdef`, then the `__classcall_private__` do not get called instead of the `__init__`:\n\n```\nsage: f = lambda a: [a-1,a+1]\nsage: RecursivelyEnumeratedSet([0], f)\nA recursively enumerated set (depth first search)\nsage: RecursivelyEnumeratedSet([0], f, structure='symmetric')\nTraceback (most recent call last):\n...\nTypeError: __init__() got an unexpected keyword argument 'structure'\n```\n\nI also saw in the [doc](http://www.sagemath.org/doc/reference/misc/sage/misc/classcall_metaclass.html) that: \"*For a Cython class (not cdef since they doesn\u2019t allows metaclasses)*\"",
    "created_at": "2014-05-12T09:14:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46290",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@tscrim](#comment%3A45):
> As I recall, metaclasses are not supported in extension classes by Cython. The metaclass should not change the speed since it's only called/used upon object creation.

Ok, now I see what you mean. When the class is `cdef`, then the `__classcall_private__` do not get called instead of the `__init__`:

```
sage: f = lambda a: [a-1,a+1]
sage: RecursivelyEnumeratedSet([0], f)
A recursively enumerated set (depth first search)
sage: RecursivelyEnumeratedSet([0], f, structure='symmetric')
Traceback (most recent call last):
...
TypeError: __init__() got an unexpected keyword argument 'structure'
```

I also saw in the [doc](http://www.sagemath.org/doc/reference/misc/sage/misc/classcall_metaclass.html) that: "*For a Cython class (not cdef since they doesn’t allows metaclasses)*"



---

archive/issue_comments_046291.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI pushed on my [branch](https://github.com/sagemath/sagetrac-mirror/compare/fa885d90d609c8311d8fa52deac1340cd558b5a9...38a82f820d5314890a34d0707851c40ea5eb5b67) a [commit](https://github.com/sagemath/sagetrac-mirror/commit/38a82f820d5314890a34d0707851c40ea5eb5b67) using metaclass. In the end, I had to create a factory def outside of the class...",
    "created_at": "2014-05-12T09:53:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46291",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:49" align="right">comment:49</div>

I pushed on my [branch](https://github.com/sagemath/sagetrac-mirror/compare/fa885d90d609c8311d8fa52deac1340cd558b5a9...38a82f820d5314890a34d0707851c40ea5eb5b67) a [commit](https://github.com/sagemath/sagetrac-mirror/commit/38a82f820d5314890a34d0707851c40ea5eb5b67) using metaclass. In the end, I had to create a factory def outside of the class...



---

archive/issue_comments_046292.json:
```json
{
    "body": "Changed commit from **[`3191690`](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)** to **[`dd72bfc`](https://github.com/sagemath/sagetrac-mirror/commit/dd72bfc1227605362e9baf847a623ddd6bd297f9)**",
    "created_at": "2014-05-12T14:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46292",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3191690`](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)** to **[`dd72bfc`](https://github.com/sagemath/sagetrac-mirror/commit/dd72bfc1227605362e9baf847a623ddd6bd297f9)**



---

archive/issue_comments_046293.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34c9db2493dc57869b7c96e65402370e3da092ca\"><code>34c9db2</code></a></td><td><code>Removed _generic from base class and added _factory to function.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd72bfc1227605362e9baf847a623ddd6bd297f9\"><code>dd72bfc</code></a></td><td><code>Merge branch 'public/ticket/6637' of trac.sagemath.org:sage into public/ticket/6637</code></td></tr></table>\n",
    "created_at": "2014-05-12T14:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46293",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34c9db2493dc57869b7c96e65402370e3da092ca"><code>34c9db2</code></a></td><td><code>Removed _generic from base class and added _factory to function.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd72bfc1227605362e9baf847a623ddd6bd297f9"><code>dd72bfc</code></a></td><td><code>Merge branch 'public/ticket/6637' of trac.sagemath.org:sage into public/ticket/6637</code></td></tr></table>




---

archive/issue_comments_046294.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nLooking at your commit, I don't see any benefit in using the metaclass. However I'm not opposed to the renaming, so I've just pushed that.",
    "created_at": "2014-05-12T15:00:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46294",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:51" align="right">comment:51</div>

Looking at your commit, I don't see any benefit in using the metaclass. However I'm not opposed to the renaming, so I've just pushed that.



---

archive/issue_comments_046295.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nReplying to [@tscrim](#comment%3A51):\n> Looking at your commit, I don't see any benefit in using the metaclass. \n\nYes exactly. I needed to play with it to understand what you meant.\n\n> However I'm not opposed to the renaming, so I've just pushed that.\n\nWell, the renaming was just an easy way for me to check that `sage -t recursively_enumerated_set.pyx` was ok after I realised that `__classcall_private__` was ignored by `cdef` class. It was not a suggestion, but it would not be the first renamed function:\n\n```\nsage: import_statements(sum)\nfrom sage.misc.functional import symbolic_sum\n```\n\nSo, we go with commit \u200bdd72bfc instead of \u200b3191690 ?",
    "created_at": "2014-05-12T20:33:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46295",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:52" align="right">comment:52</div>

Replying to [@tscrim](#comment%3A51):
> Looking at your commit, I don't see any benefit in using the metaclass. 

Yes exactly. I needed to play with it to understand what you meant.

> However I'm not opposed to the renaming, so I've just pushed that.

Well, the renaming was just an easy way for me to check that `sage -t recursively_enumerated_set.pyx` was ok after I realised that `__classcall_private__` was ignored by `cdef` class. It was not a suggestion, but it would not be the first renamed function:

```
sage: import_statements(sum)
from sage.misc.functional import symbolic_sum
```

So, we go with commit ​dd72bfc instead of ​3191690 ?



---

archive/issue_events_079839.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-12T20:38:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79839"
}
```



---

archive/issue_events_079840.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-12T20:38:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79840"
}
```



---

archive/issue_comments_046296.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nIf that's okay with you.",
    "created_at": "2014-05-12T20:38:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46296",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:53" align="right">comment:53</div>

If that's okay with you.



---

archive/issue_comments_046297.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nReplying to [@tscrim](#comment%3A53):\n> If that's okay with you.\n\nThe more I think about it, the less I like it. I think \u200bdd72bfc can be confusing for someone looking at the file for the first time. Until that person looks at the file sage/sets/all.py he will not understand how the `__init__` handles the structure argument. And the key will always be hidden in some other file `sage/sets/all.py`. I suggest we go with your initial factory function. More precisely with commit \u200b3191690. Do you agree?\n\nIf so, I do not know what should we do then (git question). Should we update the commit field? Should we reset the HEAD of the branch? Should we create a new branch pointing to the commit?",
    "created_at": "2014-05-12T20:51:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46297",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:54" align="right">comment:54</div>

Replying to [@tscrim](#comment%3A53):
> If that's okay with you.

The more I think about it, the less I like it. I think ​dd72bfc can be confusing for someone looking at the file for the first time. Until that person looks at the file sage/sets/all.py he will not understand how the `__init__` handles the structure argument. And the key will always be hidden in some other file `sage/sets/all.py`. I suggest we go with your initial factory function. More precisely with commit ​3191690. Do you agree?

If so, I do not know what should we do then (git question). Should we update the commit field? Should we reset the HEAD of the branch? Should we create a new branch pointing to the commit?



---

archive/issue_comments_046298.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nGood point. What we'll do is create a new branch which just points to the old commit (afterwards we can delete our old branches). Do you want to do this or should I?",
    "created_at": "2014-05-12T20:55:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46298",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:55" align="right">comment:55</div>

Good point. What we'll do is create a new branch which just points to the old commit (afterwards we can delete our old branches). Do you want to do this or should I?



---

archive/issue_comments_046299.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nLet me try.",
    "created_at": "2014-05-12T20:59:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46299",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:56" align="right">comment:56</div>

Let me try.



---

archive/issue_comments_046300.json:
```json
{
    "body": "Changed commit from **[`dd72bfc`](https://github.com/sagemath/sagetrac-mirror/commit/dd72bfc1227605362e9baf847a623ddd6bd297f9)** to **[`3191690`](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)**",
    "created_at": "2014-05-12T21:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46300",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[`dd72bfc`](https://github.com/sagemath/sagetrac-mirror/commit/dd72bfc1227605362e9baf847a623ddd6bd297f9)** to **[`3191690`](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)**



---

archive/issue_comments_046301.json:
```json
{
    "body": "Changed branch from **[public/ticket/6637](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637)** to **[public/ticket/6637a](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637a)**",
    "created_at": "2014-05-12T21:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46301",
    "user": "https://github.com/seblabbe"
}
```

Changed branch from **[public/ticket/6637](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637)** to **[public/ticket/6637a](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637a)**



---

archive/issue_comments_046302.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nThe following did the trick:\n\n```\ngit checkout 3191690 -b t/6637a\n```",
    "created_at": "2014-05-12T21:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46302",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:57" align="right">comment:57</div>

The following did the trick:

```
git checkout 3191690 -b t/6637a
```



---

archive/issue_comments_046303.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nThen let's get this in. Thanks S\u00e9bastien.",
    "created_at": "2014-05-12T21:23:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46303",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:58" align="right">comment:58</div>

Then let's get this in. Thanks Sébastien.



---

archive/issue_events_079841.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-12T21:23:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79841"
}
```



---

archive/issue_events_079842.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-05-12T21:23:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79842"
}
```



---

archive/issue_comments_046304.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nThanks for the review and cython improvements!",
    "created_at": "2014-05-12T21:27:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46304",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:59" align="right">comment:59</div>

Thanks for the review and cython improvements!



---

archive/issue_comments_046305.json:
```json
{
    "body": "Changed branch from **[public/ticket/6637a](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637a)** to **[`3191690`](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)**",
    "created_at": "2014-05-13T08:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46305",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/6637a](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/6637a)** to **[`3191690`](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)**



---

archive/issue_events_079843.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-13T08:42:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79843"
}
```



---

archive/issue_events_079844.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "cabf93bd986da328c2dc26f64a278807f8f265c2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-05-13T08:42:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6637#event-79844"
}
```



---

archive/issue_comments_046306.json:
```json
{
    "body": "Changed commit from **[`3191690`](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)** to none",
    "created_at": "2014-05-13T20:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46306",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[`3191690`](https://github.com/sagemath/sagetrac-mirror/commit/3191690431cfe1614444004863b15a331941ad00)** to none



---

archive/issue_comments_046307.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,9 +14,9 @@\n \n Remarks:\n \n-A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.\n+A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx`. See #16351.\n \n-B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` in a later ticket for speed improvements and also to avoid issues explained in C below.\n+B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` for speed improvements and also to avoid issues explained in C below. See #16352.\n \n C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:\n \n``````\n",
    "created_at": "2014-05-13T20:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6637#issuecomment-46307",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,9 +14,9 @@
 
 Remarks:
 
-A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx` in a later ticket.
+A. For now the code of `SearchForest` is still in `sage/combinat/backtrack.py`. It should be moved in `sage/sets/recursively_enumerated_set.pyx`. See #16351.
 
-B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` in a later ticket for speed improvements and also to avoid issues explained in C below.
+B. `TransitiveIdeal` and `TransitiveIealGraded` are used in the code of `sage/combinat`, `sage/categories` and `sage/groups` at least. These should be updated to use `RecursivelyEnumeratedSet` for speed improvements and also to avoid issues explained in C below. See #16352.
 
 C. Note that there were some issues with `TransitiveIdeal` and `TransitiveIdealGraded`, namely:
 
``````

