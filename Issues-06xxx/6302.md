# Issue 6302: [with patch, positive review] make openopt an optional spkg

archive/issues_006302.json:
```json
{
    "body": "It's here: \n\n  http://sage.math.washington.edu/home/wstein/patches/openopt-0.24.spkg\n\n\nAssignee: tbd\n\nResolution: fixed\n\nAuthor: William Stein\n\nReviewer: David Joyner, Harald Schilly\n\nMerged: Sage 4.1.1.rc0\n\nIssue created by migration from https://trac.sagemath.org/ticket/6302\n\n",
    "closed_at": "2009-07-29T12:20:29Z",
    "created_at": "2009-06-15T16:27:20Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.1.1",
    "title": "[with patch, positive review] make openopt an optional spkg",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/6302",
    "user": "https://github.com/williamstein"
}
```
It's here: 

  http://sage.math.washington.edu/home/wstein/patches/openopt-0.24.spkg


Assignee: tbd

Resolution: fixed

Author: William Stein

Reviewer: David Joyner, Harald Schilly

Merged: Sage 4.1.1.rc0

Issue created by migration from https://trac.sagemath.org/ticket/6302





---

archive/issue_comments_054883.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis installs fine in 4.0.2.rc0 on ubuntu 9.04 amd64. Running tests now.",
    "created_at": "2009-06-15T17:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54883",
    "user": "https://github.com/wdjoyner"
}
```

<a id='comment:1'></a>
This installs fine in 4.0.2.rc0 on ubuntu 9.04 amd64. Running tests now.



---

archive/issue_events_025215.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "rename": {
        "from": "[with patch; needs review] make openopt an optional spkg",
        "to": "[with patch; positive review] make openopt an optional spkg"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6302#event-25215"
}
```



---

archive/issue_comments_054884.json:
```json
{
    "body": "<a id='comment:2'></a>\nPasses sage -testall and also installs fine on a 10.4 macbook.",
    "created_at": "2009-06-15T22:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54884",
    "user": "https://github.com/wdjoyner"
}
```

<a id='comment:2'></a>
Passes sage -testall and also installs fine on a 10.4 macbook.



---

archive/issue_comments_054885.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.1.1.alpha0\"",
    "created_at": "2009-07-19T18:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54885",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing merged from "" to "sage-4.1.1.alpha0"



---

archive/issue_comments_054886.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe optional package `openopt-0.24.spkg` is now in the optional packages repository at\n\nhttp://www.sagemath.org/packages/optional/openopt-0.24.spkg",
    "created_at": "2009-07-19T18:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54886",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:3'></a>
The optional package `openopt-0.24.spkg` is now in the optional packages repository at

http://www.sagemath.org/packages/optional/openopt-0.24.spkg



---

archive/issue_comments_054887.json:
```json
{
    "body": "Changing reviewer from \"\" to \"David Joyner\"",
    "created_at": "2009-07-19T18:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54887",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing reviewer from "" to "David Joyner"



---

archive/issue_events_025216.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "rename": {
        "from": "[with patch; positive review] make openopt an optional spkg",
        "to": "[with patch, positive review] make openopt an optional spkg"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6302#event-25216"
}
```



---

archive/issue_comments_054888.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-07-19T18:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54888",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Resolution: fixed



---

archive/issue_events_025217.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-07-19T18:16:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6302#event-25217"
}
```



---

archive/issue_comments_054889.json:
```json
{
    "body": "Changing author from \"\" to \"William Stein\"",
    "created_at": "2009-07-19T18:16:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54889",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing author from "" to "William Stein"



---

archive/issue_events_025218.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "rename": {
        "from": "[with patch, positive review] make openopt an optional spkg",
        "to": "[with patch, needs work] make openopt an optional spkg"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6302#event-25218"
}
```



---

archive/issue_comments_054890.json:
```json
{
    "body": "Changing merged from \"sage-4.1.1.alpha0\" to \"\"",
    "created_at": "2009-07-19T18:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54890",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing merged from "sage-4.1.1.alpha0" to ""



---

archive/issue_comments_054891.json:
```json
{
    "body": "Changing status from closed to reopened.",
    "created_at": "2009-07-19T18:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54891",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing status from closed to reopened.



---

archive/issue_events_025219.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-07-19T18:31:36Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6302#event-25219"
}
```



---

archive/issue_comments_054892.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2009-07-19T18:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54892",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_054893.json:
```json
{
    "body": "<a id='comment:4'></a>\nAfter uncompressing \n\nhttp://sage.math.washington.edu/home/wstein/patches/openopt-0.24.spkg\n\nand doing `hg status`, I see lots of changes haven't been checked in. So I'm reopening this ticket. All changes need to be checked in via Mercurial. But note that the openopt project uses SVN for source code management.",
    "created_at": "2009-07-19T18:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54893",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:4'></a>
After uncompressing 

http://sage.math.washington.edu/home/wstein/patches/openopt-0.24.spkg

and doing `hg status`, I see lots of changes haven't been checked in. So I'm reopening this ticket. All changes need to be checked in via Mercurial. But note that the openopt project uses SVN for source code management.



---

archive/issue_events_025220.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "rename": {
        "from": "[with patch, needs work] make openopt an optional spkg",
        "to": "[with patch, needs review] make openopt an optional spkg"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6302#event-25220"
}
```



---

archive/issue_comments_054894.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [mvngu](#comment%3A4):\n> After uncompressing \n> \n> http://sage.math.washington.edu/home/wstein/patches/openopt-0.24.spkg\n> \n> and doing `hg status`, I see lots of changes haven't been checked in.\n\n\nNo, that's wrong.  Everything was checked in.  The problem is that there was no hgignore, so all possible files that could get added to the repo (i.e. the stuff in src) got listed.  I've added an .hgignore and rebuilt the spkg then posted it again in the optional package repo.",
    "created_at": "2009-07-20T19:04:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54894",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:5'></a>
Replying to [mvngu](#comment%3A4):
> After uncompressing 
> 
> http://sage.math.washington.edu/home/wstein/patches/openopt-0.24.spkg
> 
> and doing `hg status`, I see lots of changes haven't been checked in.


No, that's wrong.  Everything was checked in.  The problem is that there was no hgignore, so all possible files that could get added to the repo (i.e. the stuff in src) got listed.  I've added an .hgignore and rebuilt the spkg then posted it again in the optional package repo.



---

archive/issue_comments_054895.json:
```json
{
    "body": "<a id='comment:6'></a>\ninstalls fine on kbuntu 9.04/32bit /w sage 4.1. I'm able to run an arbitrary example from the openopt website as a test problem. It uses the \"ralg\" solver provided by openopt.\n\n```\npreparser(False)\nfrom numpy import *\nfrom openopt import NLP\nn = 10\nan = arange(n) # array [0, 1, 2, ..., n-1]\nx0 = n+15*(1+cos(an))\nf = lambda x: (x**2).sum() + sqrt(x**3-arange(n)**3).sum()\ndf = lambda x: 2*x + 0.5*3*x**2/sqrt(x**3-arange(n)**3)\nc = lambda x: an**3 - x**3\ndc = lambda x: diag(-3 * x**2)\nlb = arange(n)\np = NLP(f, x0, df=df, lb=lb, c=c, dc=dc, iprint = 100, maxIter = 10000, maxFunEvals = 1e8)\nr = p.solve('ralg')\n# expected r.xf = [0, 1, 2, ..., n-1]\n```\n\n```\nsage: r = p.solve('ralg')\n-----------------------------------------------------\nsolver: ralg   problem: unnamed   goal: minimum\n iter    objFunVal    log10(maxResidual)\n    0  9.129e+03            -100.00\n  100  4.104e+03            -100.00\n  169  2.878e+02            -100.00\nistop:  3 (|| X[k] - X[k-1] || < xtol)\nSolver:   Time Elapsed = 2.41   CPU Time Elapsed = 1.88\nobjFunValue: 287.75368 (feasible, max constraint =  0)\n\nsage: # expected r.xf = [0, 1, 2, ..., n-1]\nsage: r.xf\n\narray([ 0.5964556 ,  1.00355187,  2.00415294,  3.00156818,  4.0012493 ,\n        5.00080644,  6.00036981,  7.00052146,  8.00016061,  9.00015341])\n\n```",
    "created_at": "2009-07-27T13:22:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54895",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:6'></a>
installs fine on kbuntu 9.04/32bit /w sage 4.1. I'm able to run an arbitrary example from the openopt website as a test problem. It uses the "ralg" solver provided by openopt.

```
preparser(False)
from numpy import *
from openopt import NLP
n = 10
an = arange(n) # array [0, 1, 2, ..., n-1]
x0 = n+15*(1+cos(an))
f = lambda x: (x**2).sum() + sqrt(x**3-arange(n)**3).sum()
df = lambda x: 2*x + 0.5*3*x**2/sqrt(x**3-arange(n)**3)
c = lambda x: an**3 - x**3
dc = lambda x: diag(-3 * x**2)
lb = arange(n)
p = NLP(f, x0, df=df, lb=lb, c=c, dc=dc, iprint = 100, maxIter = 10000, maxFunEvals = 1e8)
r = p.solve('ralg')
# expected r.xf = [0, 1, 2, ..., n-1]
```

```
sage: r = p.solve('ralg')
-----------------------------------------------------
solver: ralg   problem: unnamed   goal: minimum
 iter    objFunVal    log10(maxResidual)
    0  9.129e+03            -100.00
  100  4.104e+03            -100.00
  169  2.878e+02            -100.00
istop:  3 (|| X[k] - X[k-1] || < xtol)
Solver:   Time Elapsed = 2.41   CPU Time Elapsed = 1.88
objFunValue: 287.75368 (feasible, max constraint =  0)

sage: # expected r.xf = [0, 1, 2, ..., n-1]
sage: r.xf

array([ 0.5964556 ,  1.00355187,  2.00415294,  3.00156818,  4.0012493 ,
        5.00080644,  6.00036981,  7.00052146,  8.00016061,  9.00015341])

```



---

archive/issue_comments_054896.json:
```json
{
    "body": "<a id='comment:7'></a>\nWhat other tests need to be run before this can be given a positive review?",
    "created_at": "2009-07-27T13:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54896",
    "user": "https://github.com/wdjoyner"
}
```

<a id='comment:7'></a>
What other tests need to be run before this can be given a positive review?



---

archive/issue_comments_054897.json:
```json
{
    "body": "<a id='comment:8'></a>\nWell, I've never reviewd a spkg before. So far as I can tell everything works as expected and therefore green light from me. Everything is only Python, and I think we can assume that it works on all platforms and there are no interferences with other parts of Sage, too.",
    "created_at": "2009-07-27T13:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54897",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:8'></a>
Well, I've never reviewd a spkg before. So far as I can tell everything works as expected and therefore green light from me. Everything is only Python, and I think we can assume that it works on all platforms and there are no interferences with other parts of Sage, too.



---

archive/issue_comments_054898.json:
```json
{
    "body": "Changing reviewer from \"David Joyner\" to \"David Joyner, Harald Schilly\"",
    "created_at": "2009-07-27T13:44:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54898",
    "user": "https://github.com/haraldschilly"
}
```

Changing reviewer from "David Joyner" to "David Joyner, Harald Schilly"



---

archive/issue_events_025221.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "rename": {
        "from": "[with patch, needs review] make openopt an optional spkg",
        "to": "[with patch, positive review] make openopt an optional spkg"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6302#event-25221"
}
```



---

archive/issue_comments_054899.json:
```json
{
    "body": "<a id='comment:9'></a>\nOkay, me too. I'll change it to positive review then.",
    "created_at": "2009-07-27T14:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54899",
    "user": "https://github.com/wdjoyner"
}
```

<a id='comment:9'></a>
Okay, me too. I'll change it to positive review then.



---

archive/issue_comments_054900.json:
```json
{
    "body": "Changing merged from \"\" to \"Sage 4.1.1.rc0\"",
    "created_at": "2009-07-29T12:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54900",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing merged from "" to "Sage 4.1.1.rc0"



---

archive/issue_comments_054901.json:
```json
{
    "body": "<a id='comment:10'></a>\nMerged in the optional spkg repository on the Sage website.",
    "created_at": "2009-07-29T12:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54901",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:10'></a>
Merged in the optional spkg repository on the Sage website.



---

archive/issue_comments_054902.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-07-29T12:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6302#issuecomment-54902",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Resolution: fixed



---

archive/issue_events_025222.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-07-29T12:20:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/6302",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6302#event-25222"
}
```
