# Issue 6302: make openopt an optional spkg

archive/issues_006302.json:
```json
{
    "assignees": [],
    "body": "It's here: \n\n  http://sage.math.washington.edu/home/wstein/patches/openopt-0.24.spkg\n\n\nComponent: **packages: optional**\n\nAuthor: **William Stein**\n\nReviewer: **David Joyner, Harald Schilly**\n\nMerged: **Sage 4.1.1.rc0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/6302_\n\n",
    "closed_at": "2009-07-29T12:20:29Z",
    "created_at": "2009-06-15T16:27:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.1.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "make openopt an optional spkg",
    "type": "issue",
    "updated_at": "2009-07-29T12:20:29Z",
    "url": "https://github.com/sagemath/sage/issues/6302",
    "user": "https://github.com/williamstein"
}
```
It's here: 

  http://sage.math.washington.edu/home/wstein/patches/openopt-0.24.spkg


Component: **packages: optional**

Author: **William Stein**

Reviewer: **David Joyner, Harald Schilly**

Merged: **Sage 4.1.1.rc0**

_Issue created by migration from https://trac.sagemath.org/ticket/6302_





---

archive/issue_events_075027.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-06-15T16:27:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "milestone_number": null,
    "milestone_title": "sage-4.1.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75027"
}
```



---

archive/issue_events_075028.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-06-15T16:27:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75028"
}
```



---

archive/issue_events_075029.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-06-15T16:27:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75029"
}
```



---

archive/issue_events_075030.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-06-15T16:27:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75030"
}
```



---

archive/issue_events_075031.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-06-15T16:27:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75031"
}
```



---

archive/issue_comments_041875.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThis installs fine in 4.0.2.rc0 on ubuntu 9.04 amd64. Running tests now.",
    "created_at": "2009-06-15T17:29:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41875",
    "user": "https://github.com/wdjoyner"
}
```

<div id="comment:1" align="right">comment:1</div>

This installs fine in 4.0.2.rc0 on ubuntu 9.04 amd64. Running tests now.



---

archive/issue_events_075032.json:
```json
{
    "actor": "https://github.com/wdjoyner",
    "created_at": "2009-06-15T22:17:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75032"
}
```



---

archive/issue_comments_041876.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nPasses sage -testall and also installs fine on a 10.4 macbook.",
    "created_at": "2009-06-15T22:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41876",
    "user": "https://github.com/wdjoyner"
}
```

<div id="comment:2" align="right">comment:2</div>

Passes sage -testall and also installs fine on a 10.4 macbook.



---

archive/issue_comments_041877.json:
```json
{
    "body": "Merged: **sage-4.1.1.alpha0**",
    "created_at": "2009-07-19T18:16:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41877",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Merged: **sage-4.1.1.alpha0**



---

archive/issue_comments_041878.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe optional package `openopt-0.24.spkg` is now in the optional packages repository at\n\nhttp://www.sagemath.org/packages/optional/openopt-0.24.spkg",
    "created_at": "2009-07-19T18:16:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41878",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:3" align="right">comment:3</div>

The optional package `openopt-0.24.spkg` is now in the optional packages repository at

http://www.sagemath.org/packages/optional/openopt-0.24.spkg



---

archive/issue_comments_041879.json:
```json
{
    "body": "Reviewer: **David Joyner**",
    "created_at": "2009-07-19T18:16:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41879",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Reviewer: **David Joyner**



---

archive/issue_events_075033.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-07-19T18:16:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75033"
}
```



---

archive/issue_events_075034.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-07-19T18:16:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75034"
}
```



---

archive/issue_comments_041880.json:
```json
{
    "body": "Author: **William Stein**",
    "created_at": "2009-07-19T18:16:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41880",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Author: **William Stein**



---

archive/issue_events_075035.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-07-19T18:31:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75035"
}
```



---

archive/issue_events_075036.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-07-19T18:31:36Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75036"
}
```



---

archive/issue_comments_041881.json:
```json
{
    "body": "Changed merged from **sage-4.1.1.alpha0** to none",
    "created_at": "2009-07-19T18:31:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41881",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Changed merged from **sage-4.1.1.alpha0** to none



---

archive/issue_events_075037.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-07-19T18:31:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75037"
}
```



---

archive/issue_comments_041882.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAfter uncompressing \n\nhttp://sage.math.washington.edu/home/wstein/patches/openopt-0.24.spkg\n\nand doing `hg status`, I see lots of changes haven't been checked in. So I'm reopening this ticket. All changes need to be checked in via Mercurial. But note that the openopt project uses SVN for source code management.",
    "created_at": "2009-07-19T18:31:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41882",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:4" align="right">comment:4</div>

After uncompressing 

http://sage.math.washington.edu/home/wstein/patches/openopt-0.24.spkg

and doing `hg status`, I see lots of changes haven't been checked in. So I'm reopening this ticket. All changes need to be checked in via Mercurial. But note that the openopt project uses SVN for source code management.



---

archive/issue_events_075038.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-07-20T19:04:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75038"
}
```



---

archive/issue_comments_041883.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@sagetrac-mvngu](#comment:4):\n> After uncompressing \n> \n> http://sage.math.washington.edu/home/wstein/patches/openopt-0.24.spkg\n> \n> and doing `hg status`, I see lots of changes haven't been checked in.\n\nNo, that's wrong.  Everything was checked in.  The problem is that there was no hgignore, so all possible files that could get added to the repo (i.e. the stuff in src) got listed.  I've added an .hgignore and rebuilt the spkg then posted it again in the optional package repo.",
    "created_at": "2009-07-20T19:04:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41883",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@sagetrac-mvngu](#comment:4):
> After uncompressing 
> 
> http://sage.math.washington.edu/home/wstein/patches/openopt-0.24.spkg
> 
> and doing `hg status`, I see lots of changes haven't been checked in.

No, that's wrong.  Everything was checked in.  The problem is that there was no hgignore, so all possible files that could get added to the repo (i.e. the stuff in src) got listed.  I've added an .hgignore and rebuilt the spkg then posted it again in the optional package repo.



---

archive/issue_comments_041884.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\ninstalls fine on kbuntu 9.04/32bit /w sage 4.1. I'm able to run an arbitrary example from the openopt website as a test problem. It uses the \"ralg\" solver provided by openopt.\n\n```\npreparser(False)\nfrom numpy import *\nfrom openopt import NLP\nn = 10\nan = arange(n) # array [0, 1, 2, ..., n-1]\nx0 = n+15*(1+cos(an))\nf = lambda x: (x**2).sum() + sqrt(x**3-arange(n)**3).sum()\ndf = lambda x: 2*x + 0.5*3*x**2/sqrt(x**3-arange(n)**3)\nc = lambda x: an**3 - x**3\ndc = lambda x: diag(-3 * x**2)\nlb = arange(n)\np = NLP(f, x0, df=df, lb=lb, c=c, dc=dc, iprint = 100, maxIter = 10000, maxFunEvals = 1e8)\nr = p.solve('ralg')\n# expected r.xf = [0, 1, 2, ..., n-1]\n```\n\n```\nsage: r = p.solve('ralg')\n-----------------------------------------------------\nsolver: ralg   problem: unnamed   goal: minimum\n iter    objFunVal    log10(maxResidual)\n    0  9.129e+03            -100.00\n  100  4.104e+03            -100.00\n  169  2.878e+02            -100.00\nistop:  3 (|| X[k] - X[k-1] || < xtol)\nSolver:   Time Elapsed = 2.41   CPU Time Elapsed = 1.88\nobjFunValue: 287.75368 (feasible, max constraint =  0)\n\nsage: # expected r.xf = [0, 1, 2, ..., n-1]\nsage: r.xf\n\narray([ 0.5964556 ,  1.00355187,  2.00415294,  3.00156818,  4.0012493 ,\n        5.00080644,  6.00036981,  7.00052146,  8.00016061,  9.00015341])\n\n```",
    "created_at": "2009-07-27T13:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41884",
    "user": "https://github.com/haraldschilly"
}
```

<div id="comment:6" align="right">comment:6</div>

installs fine on kbuntu 9.04/32bit /w sage 4.1. I'm able to run an arbitrary example from the openopt website as a test problem. It uses the "ralg" solver provided by openopt.

```
preparser(False)
from numpy import *
from openopt import NLP
n = 10
an = arange(n) # array [0, 1, 2, ..., n-1]
x0 = n+15*(1+cos(an))
f = lambda x: (x**2).sum() + sqrt(x**3-arange(n)**3).sum()
df = lambda x: 2*x + 0.5*3*x**2/sqrt(x**3-arange(n)**3)
c = lambda x: an**3 - x**3
dc = lambda x: diag(-3 * x**2)
lb = arange(n)
p = NLP(f, x0, df=df, lb=lb, c=c, dc=dc, iprint = 100, maxIter = 10000, maxFunEvals = 1e8)
r = p.solve('ralg')
# expected r.xf = [0, 1, 2, ..., n-1]
```

```
sage: r = p.solve('ralg')
-----------------------------------------------------
solver: ralg   problem: unnamed   goal: minimum
 iter    objFunVal    log10(maxResidual)
    0  9.129e+03            -100.00
  100  4.104e+03            -100.00
  169  2.878e+02            -100.00
istop:  3 (|| X[k] - X[k-1] || < xtol)
Solver:   Time Elapsed = 2.41   CPU Time Elapsed = 1.88
objFunValue: 287.75368 (feasible, max constraint =  0)

sage: # expected r.xf = [0, 1, 2, ..., n-1]
sage: r.xf

array([ 0.5964556 ,  1.00355187,  2.00415294,  3.00156818,  4.0012493 ,
        5.00080644,  6.00036981,  7.00052146,  8.00016061,  9.00015341])

```



---

archive/issue_comments_041885.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nWhat other tests need to be run before this can be given a positive review?",
    "created_at": "2009-07-27T13:30:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41885",
    "user": "https://github.com/wdjoyner"
}
```

<div id="comment:7" align="right">comment:7</div>

What other tests need to be run before this can be given a positive review?



---

archive/issue_comments_041886.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nWell, I've never reviewd a spkg before. So far as I can tell everything works as expected and therefore green light from me. Everything is only Python, and I think we can assume that it works on all platforms and there are no interferences with other parts of Sage, too.",
    "created_at": "2009-07-27T13:44:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41886",
    "user": "https://github.com/haraldschilly"
}
```

<div id="comment:8" align="right">comment:8</div>

Well, I've never reviewd a spkg before. So far as I can tell everything works as expected and therefore green light from me. Everything is only Python, and I think we can assume that it works on all platforms and there are no interferences with other parts of Sage, too.



---

archive/issue_comments_041887.json:
```json
{
    "body": "Changed reviewer from **David Joyner** to **David Joyner, Harald Schilly**",
    "created_at": "2009-07-27T13:44:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41887",
    "user": "https://github.com/haraldschilly"
}
```

Changed reviewer from **David Joyner** to **David Joyner, Harald Schilly**



---

archive/issue_events_075039.json:
```json
{
    "actor": "https://github.com/wdjoyner",
    "created_at": "2009-07-27T14:08:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75039"
}
```



---

archive/issue_events_075040.json:
```json
{
    "actor": "https://github.com/wdjoyner",
    "created_at": "2009-07-27T14:08:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75040"
}
```



---

archive/issue_comments_041888.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOkay, me too. I'll change it to positive review then.",
    "created_at": "2009-07-27T14:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41888",
    "user": "https://github.com/wdjoyner"
}
```

<div id="comment:9" align="right">comment:9</div>

Okay, me too. I'll change it to positive review then.



---

archive/issue_comments_041889.json:
```json
{
    "body": "Merged: **Sage 4.1.1.rc0**",
    "created_at": "2009-07-29T12:20:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41889",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Merged: **Sage 4.1.1.rc0**



---

archive/issue_comments_041890.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nMerged in the optional spkg repository on the Sage website.",
    "created_at": "2009-07-29T12:20:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6302#issuecomment-41890",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:10" align="right">comment:10</div>

Merged in the optional spkg repository on the Sage website.



---

archive/issue_events_075041.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-07-29T12:20:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75041"
}
```



---

archive/issue_events_075042.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-07-29T12:20:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6302",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6302#event-75042"
}
```
