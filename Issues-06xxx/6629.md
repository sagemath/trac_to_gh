# Issue 6629: Implement the abstract ring of multivariate polynomials, with several bases (Schur schubert, ...)

archive/issues_006629.json:
```json
{
    "body": "We build an implantation of polynomials as formal sum of exponents. This allows to work on any number of variables with some easy morphism. We use some actions of Weyl group on the exponents to create operators (especially divided difference operators). \n\nThese operators allow us to build different bases that comes from geometry and have nice combinatorial description.\n\nAssignee: @VivianePons\n\nCC:  sage-combinat vivianepons @tscrim @opechenik\n\nKeywords: multivariate polynomials, schubert polynomials, non symmetric polynomials, days54, fpsac2019\n\nAuthor: Viviane Pons\n\nBranch: public/combinat/polynomial_bases-6629\n\nStatus: new\n\nCommit: d6e12011d9665f69d2a394ab36de78957511da70\n\nIssue created by migration from https://trac.sagemath.org/ticket/6629\n\n",
    "created_at": "2009-07-26T19:55:34Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Implement the abstract ring of multivariate polynomials, with several bases (Schur schubert, ...)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/6629",
    "user": "https://github.com/nthiery"
}
```
We build an implantation of polynomials as formal sum of exponents. This allows to work on any number of variables with some easy morphism. We use some actions of Weyl group on the exponents to create operators (especially divided difference operators). 

These operators allow us to build different bases that comes from geometry and have nice combinatorial description.

Assignee: @VivianePons

CC:  sage-combinat vivianepons @tscrim @opechenik

Keywords: multivariate polynomials, schubert polynomials, non symmetric polynomials, days54, fpsac2019

Author: Viviane Pons

Branch: public/combinat/polynomial_bases-6629

Status: new

Commit: d6e12011d9665f69d2a394ab36de78957511da70

Issue created by migration from https://trac.sagemath.org/ticket/6629





---

archive/issue_comments_055883.json:
```json
{
    "body": "Changing assignee from @mwhansen to @VivianePons.",
    "created_at": "2013-02-13T16:09:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55883",
    "user": "https://github.com/VivianePons"
}
```

Changing assignee from @mwhansen to @VivianePons.



---

archive/issue_comments_055884.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,6 @@\n-See: http://wiki.sagemath.org/combinat/MultivariatePolynomials\n+We build an implantation of polynomials as formal sum of exponents. This allows to work on any number of variables with some easy morphism. We use some actions of Weyl group on the exponents to create operators (especially divided difference operators). \n \n-Assignee: @mwhansen\n-\n-Keywords: multivariate polynomials, schubert polynomials, non symmetric polynomials\n+These operators allow us to build different bases that comes from geometry and have nice combinatorial description.\n \n Comment: 1\n \n``````\n",
    "created_at": "2013-02-13T16:09:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55884",
    "user": "https://github.com/VivianePons"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,6 @@
-See: http://wiki.sagemath.org/combinat/MultivariatePolynomials
+We build an implantation of polynomials as formal sum of exponents. This allows to work on any number of variables with some easy morphism. We use some actions of Weyl group on the exponents to create operators (especially divided difference operators). 
 
-Assignee: @mwhansen
-
-Keywords: multivariate polynomials, schubert polynomials, non symmetric polynomials
+These operators allow us to build different bases that comes from geometry and have nice combinatorial description.
 
 Comment: 1
 
``````




---

archive/issue_comments_055885.json:
```json
{
    "body": "<a id='comment:2'></a>the patch apply on 5.6 and is mostly working. It is not yet ready for review though, it needs more tests and docs and possibly a few fixes.",
    "created_at": "2013-02-13T16:14:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55885",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:2'></a>the patch apply on 5.6 and is mostly working. It is not yet ready for review though, it needs more tests and docs and possibly a few fixes.



---

archive/issue_comments_055886.json:
```json
{
    "body": "<a id='comment:3'></a>What is the status of this ticket? Is it still in development?",
    "created_at": "2013-05-15T22:16:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55886",
    "user": "https://github.com/jeffpferreira"
}
```

<a id='comment:3'></a>What is the status of this ticket? Is it still in development?



---

archive/issue_comments_055887.json:
```json
{
    "body": "<a id='comment:4'></a>Yes, sorry for taking such a long time but this is a big implementation and I work on it only when I have time (which is not so often). \nMy plan is to finish a first version of it on the upcoming Sage days in Paris and find someone to work on the review.\nIn the meantime, the patch is working already and some people use it.",
    "created_at": "2013-05-16T07:51:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55887",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:4'></a>Yes, sorry for taking such a long time but this is a big implementation and I work on it only when I have time (which is not so often). 
My plan is to finish a first version of it on the upcoming Sage days in Paris and find someone to work on the review.
In the meantime, the patch is working already and some people use it.



---

archive/issue_comments_055888.json:
```json
{
    "body": "<a id='comment:5'></a>Attachment [trac_6629-multivariate-polynomials-on-several-bases-vp.patch](tarball://root/attachments/some-uuid/ticket6629/trac_6629-multivariate-polynomials-on-several-bases-vp.patch) by @VivianePons created at 2013-05-30 07:48:53\n\nJust attached the last version of the patch to apply on Sage 5.9",
    "created_at": "2013-05-30T07:48:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55888",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:5'></a>Attachment [trac_6629-multivariate-polynomials-on-several-bases-vp.patch](tarball://root/attachments/some-uuid/ticket6629/trac_6629-multivariate-polynomials-on-several-bases-vp.patch) by @VivianePons created at 2013-05-30 07:48:53

Just attached the last version of the patch to apply on Sage 5.9



---

archive/issue_events_015645.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6629#event-15645"
}
```



---

archive/issue_comments_055889.json:
```json
{
    "body": "<a id='comment:7'></a>New commits:",
    "created_at": "2013-11-07T00:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55889",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:7'></a>New commits:



---

archive/issue_comments_055890.json:
```json
{
    "body": "Changing keywords from \"multivariate polynomials, schubert polynomials, non symmetric polynomials\" to \"multivariate polynomials, schubert polynomials, non symmetric polynomials, days54\".",
    "created_at": "2013-11-13T22:41:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55890",
    "user": "https://github.com/tscrim"
}
```

Changing keywords from "multivariate polynomials, schubert polynomials, non symmetric polynomials" to "multivariate polynomials, schubert polynomials, non symmetric polynomials, days54".



---

archive/issue_comments_055891.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-16T15:08:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55891",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_015646.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6629#event-15646"
}
```



---

archive/issue_events_015647.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6629#event-15647"
}
```



---

archive/issue_comments_055892.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-02T21:43:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55892",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_015648.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6629#event-15648"
}
```



---

archive/issue_events_015649.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6629#event-15649"
}
```



---

archive/issue_events_015650.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6629#event-15650"
}
```



---

archive/issue_events_015651.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6629#event-15651"
}
```



---

archive/issue_comments_055893.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-05T15:18:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55893",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_015652.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-05-05T15:19:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6629#event-15652"
}
```



---

archive/issue_events_015653.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-05-05T15:19:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/6629#event-15653"
}
```



---

archive/issue_comments_055894.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-16T20:14:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55894",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_055895.json:
```json
{
    "body": "<a id='comment:17'></a>Viviane, when you get a chance, could you push the code that you currently have or are you still working on this?",
    "created_at": "2016-07-12T14:23:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55895",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'></a>Viviane, when you get a chance, could you push the code that you currently have or are you still working on this?



---

archive/issue_comments_055896.json:
```json
{
    "body": "<a id='comment:18'></a>Just pushed my latest code. \nMostly everything is working but the tests and examples are all messed up (and, for some reason, I still cannot run any tests). \n\nI have simplified many things, removing useless classes and so on. Now, I consider the monomial basis to be a \"generator\", I call it x and write:\n\n \n```\nsage: A.<x> = MultivariatePolynomialAlgebra(QQ)\nsage: x[1,2,3] + x[2,3]\nx[2, 3, 0] + x[1, 2, 3]\n```\n\nI think it makes more sense and it is more natural to use. The goal is to hide the inner mechanics as much as possible. \"New example\" are written in this manner, old ones still use the m notation.\n\nAll basis are combinatorial free module using a common \"key wrapper\" class that handles lists and ambient space basis elements.\n\nIn terms of mathematical meaning, remember that all bases are indexed by **vectors**, for Grothendieck and Schubert, they correspond to the Lehmer code of the permutation.\n\nThe only part that is not working is the \"Double polynomial\" one, but it's quite independent from the rest. \n\nI let you have a look at it, it's not finished yet. Feel free to change it if you feel like it. I will be on holidays for the next 2 weeks.\n\n---\nNew commits:",
    "created_at": "2016-07-14T20:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55896",
    "user": "https://github.com/VivianePons"
}
```

<a id='comment:18'></a>Just pushed my latest code. 
Mostly everything is working but the tests and examples are all messed up (and, for some reason, I still cannot run any tests). 

I have simplified many things, removing useless classes and so on. Now, I consider the monomial basis to be a "generator", I call it x and write:

 
```
sage: A.<x> = MultivariatePolynomialAlgebra(QQ)
sage: x[1,2,3] + x[2,3]
x[2, 3, 0] + x[1, 2, 3]
```

I think it makes more sense and it is more natural to use. The goal is to hide the inner mechanics as much as possible. "New example" are written in this manner, old ones still use the m notation.

All basis are combinatorial free module using a common "key wrapper" class that handles lists and ambient space basis elements.

In terms of mathematical meaning, remember that all bases are indexed by **vectors**, for Grothendieck and Schubert, they correspond to the Lehmer code of the permutation.

The only part that is not working is the "Double polynomial" one, but it's quite independent from the rest. 

I let you have a look at it, it's not finished yet. Feel free to change it if you feel like it. I will be on holidays for the next 2 weeks.

---
New commits:



---

archive/issue_comments_055897.json:
```json
{
    "body": "<a id='comment:19'></a>Thank you Viviane, I appreciate it. I will take a look at it soon and pass it along to the REU students. Enjoy your holidays!",
    "created_at": "2016-07-14T22:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55897",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>Thank you Viviane, I appreciate it. I will take a look at it soon and pass it along to the REU students. Enjoy your holidays!



---

archive/issue_comments_055898.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-09T08:46:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55898",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_055899.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-09T11:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55899",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_055900.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-09T14:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55900",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_055901.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-10T06:48:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55901",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_055902.json:
```json
{
    "body": "Changing keywords from \"multivariate polynomials, schubert polynomials, non symmetric polynomials, days54\" to \"multivariate polynomials, schubert polynomials, non symmetric polynomials, days54, fpsac2019\".",
    "created_at": "2019-07-12T14:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55902",
    "user": "https://github.com/opechenik"
}
```

Changing keywords from "multivariate polynomials, schubert polynomials, non symmetric polynomials, days54" to "multivariate polynomials, schubert polynomials, non symmetric polynomials, days54, fpsac2019".



---

archive/issue_comments_055903.json:
```json
{
    "body": "<a id='comment:26'></a>A version that works on Python3.\n\n---\nNew commits:",
    "created_at": "2021-02-28T21:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/6629",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/6629#issuecomment-55903",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:26'></a>A version that works on Python3.

---
New commits:
