# Issue 6116: error in real literal -> RIF conversion

archive/issues_006116.json:
```json
{
    "assignees": [],
    "body": "\n```\nsage: RIF(21/10).diameter()\n2.11471052309554e-16\nsage: RIF(2.1).diameter()\n0.000000000000000\n```\n\nStopgaps: **todo**\n\nComponent: **basic arithmetic**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/6116_\n\n",
    "closed_at": "2018-08-14T17:00:51Z",
    "created_at": "2009-05-21T20:13:01Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/worksforme"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "error in real literal -> RIF conversion",
    "type": "issue",
    "updated_at": "2018-08-14T17:00:51Z",
    "url": "https://github.com/sagemath/sage/issues/6116",
    "user": "https://github.com/robertwb"
}
```

```
sage: RIF(21/10).diameter()
2.11471052309554e-16
sage: RIF(2.1).diameter()
0.000000000000000
```

Stopgaps: **todo**

Component: **basic arithmetic**

_Issue created by migration from https://trac.sagemath.org/ticket/6116_





---

archive/issue_events_073458.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-05-21T20:13:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73458"
}
```



---

archive/issue_events_073459.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-05-21T20:13:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "c: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73459"
}
```



---

archive/issue_events_073460.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-05-21T20:13:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73460"
}
```



---

archive/issue_events_073461.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-05-21T20:13:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73461"
}
```



---

archive/issue_events_073462.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73462"
}
```



---

archive/issue_events_073463.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73463"
}
```



---

archive/issue_events_073464.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73464"
}
```



---

archive/issue_events_073465.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73465"
}
```



---

archive/issue_events_073466.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73466"
}
```



---

archive/issue_events_073467.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73467"
}
```



---

archive/issue_events_073468.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73468"
}
```



---

archive/issue_events_073469.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73469"
}
```



---

archive/issue_comments_040388.json:
```json
{
    "body": "Stopgaps: **todo**",
    "created_at": "2015-08-19T23:23:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6116#issuecomment-40388",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

Stopgaps: **todo**



---

archive/issue_events_073470.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-08-21T20:28:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73470"
}
```



---

archive/issue_events_073471.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-08-21T20:28:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73471"
}
```



---

archive/issue_events_073472.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-08-21T20:28:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73472"
}
```



---

archive/issue_comments_040389.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI don't think this is a bug, it's just the way how real literals work...",
    "created_at": "2015-08-21T20:28:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6116#issuecomment-40389",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

I don't think this is a bug, it's just the way how real literals work...



---

archive/issue_events_073473.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-08-21T20:28:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73473"
}
```



---

archive/issue_comments_040390.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAnd if you really want the real literal `2.1` to behave like `21/10`, there are a lot more bugs than just this one.",
    "created_at": "2015-08-21T20:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6116#issuecomment-40390",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

And if you really want the real literal `2.1` to behave like `21/10`, there are a lot more bugs than just this one.



---

archive/issue_comments_040391.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThis is more about floating point rather than real literal\n\n```\nsage: a = 1.0 * RR(2.1)\nsage: type(a)\n<type 'sage.rings.real_mpfr.RealNumber'>\nsage: RIF(a).lower() == RIF(a).upper() == a\nTrue\n```\nAnd the last line would be true given **any** floating point (with 53 bits of precision).\n\nThough, it would be nice to explain the difference between `RIF(2.1)` and `RIF(21/10)` in the documentation of `RIF`. Don't you think?\n\nVincent",
    "created_at": "2015-09-17T02:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6116#issuecomment-40391",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">comment:8</div>

This is more about floating point rather than real literal

```
sage: a = 1.0 * RR(2.1)
sage: type(a)
<type 'sage.rings.real_mpfr.RealNumber'>
sage: RIF(a).lower() == RIF(a).upper() == a
True
```
And the last line would be true given **any** floating point (with 53 bits of precision).

Though, it would be nice to explain the difference between `RIF(2.1)` and `RIF(21/10)` in the documentation of `RIF`. Don't you think?

Vincent



---

archive/issue_events_073474.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-17T02:59:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73474"
}
```



---

archive/issue_events_073475.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-09-17T02:59:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73475"
}
```



---

archive/issue_events_073476.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-08-14T17:00:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "label": "https://github.com/sagemath/sage/labels/worksforme",
    "label_color": "a6a6a6",
    "label_name": "worksforme",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73476"
}
```



---

archive/issue_comments_040392.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe docs for `RIF` currently state:\n\n```\n |      Values which can be represented as an exact floating-point number\n |      (of the precision of this ``RealIntervalField``) result in a precise\n |      interval, where the lower bound is equal to the upper bound (even\n |      if they print differently). Other values typically result in an\n |      interval where the lower and upper bounds are adjacent\n |      floating-point numbers.\n```\n\nand goes on to provide several examples, e.g. both with rational and floating point arguments.",
    "created_at": "2018-08-14T17:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6116#issuecomment-40392",
    "user": "https://github.com/embray"
}
```

<div id="comment:10" align="right">comment:10</div>

The docs for `RIF` currently state:

```
 |      Values which can be represented as an exact floating-point number
 |      (of the precision of this ``RealIntervalField``) result in a precise
 |      interval, where the lower bound is equal to the upper bound (even
 |      if they print differently). Other values typically result in an
 |      interval where the lower and upper bounds are adjacent
 |      floating-point numbers.
```

and goes on to provide several examples, e.g. both with rational and floating point arguments.



---

archive/issue_events_073477.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-08-14T17:00:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73477"
}
```



---

archive/issue_events_073478.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-08-14T17:00:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6116",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6116#event-73478"
}
```
