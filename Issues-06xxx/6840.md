# Issue 6840: Fix documentation for Sage Notebook

archive/issues_006840.json:
```json
{
    "body": "Change documentation of the notebook to a uniform format and complete notebook doctest/documentation coverage.\n\n* Some docstrings are improperly formatted.\n* The formatting of docstrings is inconsistent, e.g.:\n\nSome have:\n\n```\nOutput: footype\n\nDescription\n```\n\nWhile others have:\n\n```\nOutput:\n\n- footype -- description\n```\n\netc.\n\n**Assignee:** boothby\n\n**Keywords:** notebook documentation\n\n**Author:** Tim Dumol, Mitesh Patel\n\n**Reviewer:** Minh Van Nguyen, Mitesh Patel\n\n**Merged:** Sage 4.1.2.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/6840\n\n",
    "closed_at": "2009-09-01T06:12:17Z",
    "created_at": "2009-08-29T07:30:36Z",
    "labels": [
        "component: notebook",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.1.2",
    "title": "Fix documentation for Sage Notebook",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/6840",
    "user": "https://github.com/TimDumol"
}
```
Change documentation of the notebook to a uniform format and complete notebook doctest/documentation coverage.

* Some docstrings are improperly formatted.
* The formatting of docstrings is inconsistent, e.g.:

Some have:

```
Output: footype

Description
```

While others have:

```
Output:

- footype -- description
```

etc.

**Assignee:** boothby

**Keywords:** notebook documentation

**Author:** Tim Dumol, Mitesh Patel

**Reviewer:** Minh Van Nguyen, Mitesh Patel

**Merged:** Sage 4.1.2.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/6840





---

archive/issue_comments_050023.json:
```json
{
    "body": "Fixes docstrings added by patch #6568 in `notebook.py` and `worksheet.py`. Depends on #6568",
    "created_at": "2009-08-29T07:31:56Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50023",
    "user": "https://github.com/TimDumol"
}
```

Fixes docstrings added by patch #6568 in `notebook.py` and `worksheet.py`. Depends on #6568



---

archive/attachments_008497.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_6840-notebook-documentation.patch",
    "asset_url": "tarball://root/attachments/ticket6840/trac_6840-notebook-documentation.patch",
    "created_at": "2009-08-30T10:16:59Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation.patch",
    "user": "https://github.com/qed777"
}
```



---

archive/issue_comments_050024.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Attachment:** [trac_6840-notebook-documentation.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation.patch)\n\nI think there is some \"overlap\" here with version 2 of the patch at #5360.  But that patch makes only a few changes to `notebook.py`.  To avoid merge conflicts, should I put them in a separate patch or bring them here?",
    "created_at": "2009-08-30T10:16:59Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50024",
    "user": "https://github.com/qed777"
}
```

<a id='comment:1'></a>
**Attachment:** [trac_6840-notebook-documentation.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation.patch)

I think there is some "overlap" here with version 2 of the patch at #5360.  But that patch makes only a few changes to `notebook.py`.  To avoid merge conflicts, should I put them in a separate patch or bring them here?



---

archive/issue_comments_050025.json:
```json
{
    "body": "<a id='comment:2'></a>\nIf you don't mind, I merged the changes from #5360 to save you the trouble.",
    "created_at": "2009-08-30T16:54:21Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50025",
    "user": "https://github.com/TimDumol"
}
```

<a id='comment:2'></a>
If you don't mind, I merged the changes from #5360 to save you the trouble.



---

archive/issue_comments_050026.json:
```json
{
    "body": "<a id='comment:3'></a>\nThanks!  #5360 is now marked for closure.",
    "created_at": "2009-08-30T18:09:44Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50026",
    "user": "https://github.com/qed777"
}
```

<a id='comment:3'></a>
Thanks!  #5360 is now marked for closure.



---

archive/issue_comments_050027.json:
```json
{
    "body": "Merged changes from #5360. Apply only this file.",
    "created_at": "2009-08-30T18:11:38Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50027",
    "user": "https://github.com/TimDumol"
}
```

Merged changes from #5360. Apply only this file.



---

archive/attachments_008498.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_6840-notebook-documentation-v2.patch",
    "asset_url": "tarball://root/attachments/ticket6840/trac_6840-notebook-documentation-v2.patch",
    "created_at": "2009-08-30T18:13:32Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v2.patch",
    "user": "https://github.com/TimDumol"
}
```



---

archive/issue_comments_050028.json:
```json
{
    "body": "**Attachment:** [trac_6840-notebook-documentation-v2.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v2.patch)\n\nOBSOLETE.",
    "created_at": "2009-08-30T18:13:32Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50028",
    "user": "https://github.com/TimDumol"
}
```

**Attachment:** [trac_6840-notebook-documentation-v2.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v2.patch)

OBSOLETE.



---

archive/attachments_008499.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_6840-notebook-documentation.v2.patch",
    "asset_url": "tarball://root/attachments/ticket6840/trac_6840-notebook-documentation.v2.patch",
    "created_at": "2009-08-30T18:18:08Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation.v2.patch",
    "user": "https://github.com/qed777"
}
```



---

archive/issue_comments_050029.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Attachment:** [trac_6840-notebook-documentation.v2.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation.v2.patch)\n\nI think the patch somehow got doubled in size during the merger.",
    "created_at": "2009-08-30T18:18:08Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50029",
    "user": "https://github.com/qed777"
}
```

<a id='comment:4'></a>
**Attachment:** [trac_6840-notebook-documentation.v2.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation.v2.patch)

I think the patch somehow got doubled in size during the merger.



---

archive/issue_comments_050030.json:
```json
{
    "body": "<a id='comment:5'></a>\nYes, it got messed up the first times around, but it seems to be the right size: `trac_6840-notebook-documentation-v2.patch  (112.6 KB)`.",
    "created_at": "2009-08-30T19:31:30Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50030",
    "user": "https://github.com/TimDumol"
}
```

<a id='comment:5'></a>
Yes, it got messed up the first times around, but it seems to be the right size: `trac_6840-notebook-documentation-v2.patch  (112.6 KB)`.



---

archive/issue_comments_050031.json:
```json
{
    "body": "<a id='comment:6'></a>\nVersion 3 adds *lots* of small changes to `introspect.py`, `misc.py`, `docHTMLProcessor.py`, `interact.py`, `notebook.py`, `template.py`, and `support.py`.  \n\nTopics: missing docstrings, directives, blank lines, bullet points, headings; other inconsistencies; Sphinx warnings; etc.  The doctests pass, apart the known problem with randomly ordered tests in `worksheet.py`.\n\nI apologize for stepping on any toes.  There may still be other problems, besides those I just introduced.  Prepping `server/` for the reference manual is tedious, but the docstrings do appear to render somewhat more nicely now, especially those in `interact.py`.\n\nPlease feel free to make more changes.  Or we can just put this up for review and fix the remaining quirks as we find them.",
    "created_at": "2009-08-31T02:52:49Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50031",
    "user": "https://github.com/qed777"
}
```

<a id='comment:6'></a>
Version 3 adds *lots* of small changes to `introspect.py`, `misc.py`, `docHTMLProcessor.py`, `interact.py`, `notebook.py`, `template.py`, and `support.py`.  

Topics: missing docstrings, directives, blank lines, bullet points, headings; other inconsistencies; Sphinx warnings; etc.  The doctests pass, apart the known problem with randomly ordered tests in `worksheet.py`.

I apologize for stepping on any toes.  There may still be other problems, besides those I just introduced.  Prepping `server/` for the reference manual is tedious, but the docstrings do appear to render somewhat more nicely now, especially those in `interact.py`.

Please feel free to make more changes.  Or we can just put this up for review and fix the remaining quirks as we find them.



---

archive/attachments_008500.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_6840-notebook-documentation-v3.patch",
    "asset_url": "tarball://root/attachments/ticket6840/trac_6840-notebook-documentation-v3.patch",
    "created_at": "2009-08-31T03:08:17Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v3.patch",
    "user": "https://github.com/qed777"
}
```



---

archive/issue_comments_050032.json:
```json
{
    "body": "**Attachment:** [trac_6840-notebook-documentation-v3.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v3.patch)\n\nVersion 3.  Apply only this patch.",
    "created_at": "2009-08-31T03:08:17Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50032",
    "user": "https://github.com/qed777"
}
```

**Attachment:** [trac_6840-notebook-documentation-v3.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v3.patch)

Version 3.  Apply only this patch.



---

archive/attachments_008501.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_6840-notebook-documentation-v4.patch",
    "asset_url": "tarball://root/attachments/ticket6840/trac_6840-notebook-documentation-v4.patch",
    "created_at": "2009-08-31T10:15:45Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v4.patch",
    "user": "https://github.com/TimDumol"
}
```



---

archive/issue_comments_050033.json:
```json
{
    "body": "**Attachment:** [trac_6840-notebook-documentation-v4.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v4.patch)\n\nVersion 4. Brought up `cell.py` coverage to almost 100%, except for 2 functions.",
    "created_at": "2009-08-31T10:15:45Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50033",
    "user": "https://github.com/TimDumol"
}
```

**Attachment:** [trac_6840-notebook-documentation-v4.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v4.patch)

Version 4. Brought up `cell.py` coverage to almost 100%, except for 2 functions.



---

archive/issue_events_045427.json:
```json
{
    "actor": "https://github.com/TimDumol",
    "created_at": "2009-08-31T10:18:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6840#event-45427"
}
```



---

archive/issue_comments_050034.json:
```json
{
    "body": "<a id='comment:7'></a>\nVersion 4 adds docstrings and doctests for `cell.py` except for 2 functions: one of which is a hack (`doc_html`), and the other I have no idea how to test (`stop_interacting`).\n\nI'll put this up for review, and we can work on the rest of the documentation another time (unless you want to add some more now?).",
    "created_at": "2009-08-31T10:18:46Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50034",
    "user": "https://github.com/TimDumol"
}
```

<a id='comment:7'></a>
Version 4 adds docstrings and doctests for `cell.py` except for 2 functions: one of which is a hack (`doc_html`), and the other I have no idea how to test (`stop_interacting`).

I'll put this up for review, and we can work on the rest of the documentation another time (unless you want to add some more now?).



---

archive/issue_events_045428.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-08-31T12:52:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6840#event-45428"
}
```



---

archive/issue_events_045429.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-08-31T12:52:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6840#event-45429"
}
```



---

archive/issue_comments_050035.json:
```json
{
    "body": "<a id='comment:8'></a>\nThe patch `trac_6840-notebook-documentation-v4.patch` applies OK against 4.1.1, but with one fuzz:\n\n```\n[mvngu@sage sage-main]$ hg qimport https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v4.patch && hg qpush\nadding trac_6840-notebook-documentation-v4.patch to series file\napplying trac_6840-notebook-documentation-v4.patch\npatching file sage/server/notebook/config.py\nHunk #1 succeeded at 1 with fuzz 1 (offset -1 lines).\nNow at: trac_6840-notebook-documentation-v4.patch\n```\nBuilding the reference manual results in about 10 warnings:\n\n```\nWARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.Cell.html:8: (WARNING/2) Inline literal start-string without end-string.\nWARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.Cell.html_out:6: (WARNING/2) Bullet list ends without a blank line; unexpected unindent.\nWARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.Cell.is_interacting:8: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\nWARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.Cell.output_text:10: (WARNING/2) Bullet list ends without a blank line; unexpected unindent.\nWARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.Cell.parse_html:15: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\nWARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.ComputeCell.html:8: (WARNING/2) Inline literal start-string without end-string.\nWARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.ComputeCell.html_out:6: (WARNING/2) Bullet list ends without a blank line; unexpected unindent.\nWARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.ComputeCell.is_interacting:8: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\nWARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.ComputeCell.output_text:10: (WARNING/2) Bullet list ends without a blank line; unexpected unindent.\nWARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.ComputeCell.parse_html:15: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\n```\nThe test suite reports one doctest failure:\n\n```\nsage -t -long devel/sage-main/sage/server/notebook/cell.py\n**********************************************************************\nFile \"/scratch/mvngu/release/sage-4.1.1/devel/sage-main/sage/server/notebook/cell.py\", line 1598:\n    sage: C.introspect_html()\nExpected:\n    '<div class=\"docstring\">\\n    \\n  <p><span class=\"math\">foobar</span></p>\\n\\n\\n</div>'\nGot:\n    '<div class=\"docstring\">\\n    \\n  \\n  <p><span class=\"math\">foobar</span></p>\\n\\n\\n</div>'\n**********************************************************************\n1 items had failures:\n   1 of  13 in __main__.example_71\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /scratch/mvngu/release/sage-4.1.1/tmp/.doctest_cell.py\n\t [26.4 s]\n```\nI'm marking this as \"needs work\", since at least the doctest failure must be resolved. The warnings from building the reference manual can be addressed via another ticket. However, it would be nice if both of these issues could be fixed here.",
    "created_at": "2009-08-31T12:52:56Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50035",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:8'></a>
The patch `trac_6840-notebook-documentation-v4.patch` applies OK against 4.1.1, but with one fuzz:

```
[mvngu@sage sage-main]$ hg qimport https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v4.patch && hg qpush
adding trac_6840-notebook-documentation-v4.patch to series file
applying trac_6840-notebook-documentation-v4.patch
patching file sage/server/notebook/config.py
Hunk #1 succeeded at 1 with fuzz 1 (offset -1 lines).
Now at: trac_6840-notebook-documentation-v4.patch
```
Building the reference manual results in about 10 warnings:

```
WARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.Cell.html:8: (WARNING/2) Inline literal start-string without end-string.
WARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.Cell.html_out:6: (WARNING/2) Bullet list ends without a blank line; unexpected unindent.
WARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.Cell.is_interacting:8: (WARNING/2) Block quote ends without a blank line; unexpected unindent.
WARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.Cell.output_text:10: (WARNING/2) Bullet list ends without a blank line; unexpected unindent.
WARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.Cell.parse_html:15: (WARNING/2) Block quote ends without a blank line; unexpected unindent.
WARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.ComputeCell.html:8: (WARNING/2) Inline literal start-string without end-string.
WARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.ComputeCell.html_out:6: (WARNING/2) Bullet list ends without a blank line; unexpected unindent.
WARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.ComputeCell.is_interacting:8: (WARNING/2) Block quote ends without a blank line; unexpected unindent.
WARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.ComputeCell.output_text:10: (WARNING/2) Bullet list ends without a blank line; unexpected unindent.
WARNING: /scratch/mvngu/release/sage-4.1.1/local/lib/python2.6/site-packages/sage/server/notebook/cell.py:docstring of sage.server.notebook.cell.ComputeCell.parse_html:15: (WARNING/2) Block quote ends without a blank line; unexpected unindent.
```
The test suite reports one doctest failure:

```
sage -t -long devel/sage-main/sage/server/notebook/cell.py
**********************************************************************
File "/scratch/mvngu/release/sage-4.1.1/devel/sage-main/sage/server/notebook/cell.py", line 1598:
    sage: C.introspect_html()
Expected:
    '<div class="docstring">\n    \n  <p><span class="math">foobar</span></p>\n\n\n</div>'
Got:
    '<div class="docstring">\n    \n  \n  <p><span class="math">foobar</span></p>\n\n\n</div>'
**********************************************************************
1 items had failures:
   1 of  13 in __main__.example_71
***Test Failed*** 1 failures.
For whitespace errors, see the file /scratch/mvngu/release/sage-4.1.1/tmp/.doctest_cell.py
	 [26.4 s]
```
I'm marking this as "needs work", since at least the doctest failure must be resolved. The warnings from building the reference manual can be addressed via another ticket. However, it would be nice if both of these issues could be fixed here.



---

archive/issue_comments_050036.json:
```json
{
    "body": "<a id='comment:9'></a>\nI've fixed the warnings and the doctest failure.",
    "created_at": "2009-08-31T14:32:30Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50036",
    "user": "https://github.com/TimDumol"
}
```

<a id='comment:9'></a>
I've fixed the warnings and the doctest failure.



---

archive/issue_events_045430.json:
```json
{
    "actor": "https://github.com/TimDumol",
    "created_at": "2009-08-31T14:32:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6840#event-45430"
}
```



---

archive/issue_events_045431.json:
```json
{
    "actor": "https://github.com/TimDumol",
    "created_at": "2009-08-31T14:32:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6840#event-45431"
}
```



---

archive/issue_comments_050037.json:
```json
{
    "body": "Fixed documentation warnings and doctest failure. Apply this patch only.",
    "created_at": "2009-08-31T14:43:55Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50037",
    "user": "https://github.com/TimDumol"
}
```

Fixed documentation warnings and doctest failure. Apply this patch only.



---

archive/attachments_008502.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_6840-notebook-documentation-v5.patch",
    "asset_url": "tarball://root/attachments/ticket6840/trac_6840-notebook-documentation-v5.patch",
    "created_at": "2009-08-31T20:43:37Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v5.patch",
    "user": "https://github.com/qed777"
}
```



---

archive/issue_comments_050038.json:
```json
{
    "body": "**Attachment:** [trac_6840-notebook-documentation-v5.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v5.patch)\n\nMiscellaneous tiny changes (see comment). Apply only this patch.",
    "created_at": "2009-08-31T20:43:37Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50038",
    "user": "https://github.com/qed777"
}
```

**Attachment:** [trac_6840-notebook-documentation-v5.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v5.patch)

Miscellaneous tiny changes (see comment). Apply only this patch.



---

archive/attachments_008503.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_6840-notebook-documentation-v6.patch",
    "asset_url": "tarball://root/attachments/ticket6840/trac_6840-notebook-documentation-v6.patch",
    "created_at": "2009-08-31T20:54:01Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v6.patch",
    "user": "https://github.com/qed777"
}
```



---

archive/issue_comments_050039.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Attachment:** [trac_6840-notebook-documentation-v6.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v6.patch)\n\nv6 changes:\n\n* Fixed `INPUT::` in `template.py`.\n* Removed the space immediately after `:meth:` in two places in `cell.py`.\n* Removed `config.py` from `notebook.rst`, since there's no significant documentation yet on notebook key bindings.\n\nThat's impressive coverage for `cell.py`!  It seems that `Cell.stop_interacting()` isn't even called in the Sage library.",
    "created_at": "2009-08-31T20:54:01Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50039",
    "user": "https://github.com/qed777"
}
```

<a id='comment:10'></a>
**Attachment:** [trac_6840-notebook-documentation-v6.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v6.patch)

v6 changes:

* Fixed `INPUT::` in `template.py`.
* Removed the space immediately after `:meth:` in two places in `cell.py`.
* Removed `config.py` from `notebook.rst`, since there's no significant documentation yet on notebook key bindings.

That's impressive coverage for `cell.py`!  It seems that `Cell.stop_interacting()` isn't even called in the Sage library.



---

archive/issue_comments_050040.json:
```json
{
    "body": "**Author:** Tim Dumol, Mitesh Patel",
    "created_at": "2009-08-31T20:54:01Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50040",
    "user": "https://github.com/qed777"
}
```

**Author:** Tim Dumol, Mitesh Patel



---

archive/issue_comments_050041.json:
```json
{
    "body": "<a id='comment:11'></a>\nOne way to placate Sphinx about the unused source file `doc/en/reference/sage/server/notebook/config.rst`:  Delete `doc/output/*/en/reference/` and rebuild from scratch.",
    "created_at": "2009-08-31T21:04:53Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50041",
    "user": "https://github.com/qed777"
}
```

<a id='comment:11'></a>
One way to placate Sphinx about the unused source file `doc/en/reference/sage/server/notebook/config.rst`:  Delete `doc/output/*/en/reference/` and rebuild from scratch.



---

archive/issue_comments_050042.json:
```json
{
    "body": "<a id='comment:12'></a>\nThe patch `trac_6840-notebook-documentation-v6.patch` applies OK, but with fuzz:\n\n```\n[mvngu@sage sage-main]$ hg qimport https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v6.patch && hg qpush\nadding trac_6840-notebook-documentation-v6.patch to series file\napplying trac_6840-notebook-documentation-v6.patch\npatching file sage/server/notebook/config.py\nHunk #1 succeeded at 1 with fuzz 1 (offset -1 lines).\nNow at: trac_6840-notebook-documentation-v6.patch\n```\nDon't worry too much about the fuzz. I have attached a reviewer patch that fixes typos introduced by the previous patch. If you're OK with that reviewer patch, then the ticket gets a positive review and patches should be merged in this order:\n\n1. `trac_6840-notebook-documentation-v6.patch`\n2. `trac_6840-reviewer.patch`",
    "created_at": "2009-09-01T04:20:04Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50042",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:12'></a>
The patch `trac_6840-notebook-documentation-v6.patch` applies OK, but with fuzz:

```
[mvngu@sage sage-main]$ hg qimport https://github.com/sagemath/sage/files/ticket6840/trac_6840-notebook-documentation-v6.patch && hg qpush
adding trac_6840-notebook-documentation-v6.patch to series file
applying trac_6840-notebook-documentation-v6.patch
patching file sage/server/notebook/config.py
Hunk #1 succeeded at 1 with fuzz 1 (offset -1 lines).
Now at: trac_6840-notebook-documentation-v6.patch
```
Don't worry too much about the fuzz. I have attached a reviewer patch that fixes typos introduced by the previous patch. If you're OK with that reviewer patch, then the ticket gets a positive review and patches should be merged in this order:

1. `trac_6840-notebook-documentation-v6.patch`
2. `trac_6840-reviewer.patch`



---

archive/issue_comments_050043.json:
```json
{
    "body": "<a id='comment:13'></a>\nThanks very much for fixing the typos, including `AttributeErrro`.\n\nIs it alright if we treat the \"PLANNING\" section near the top of `interact.py` as \"internal\" documentation, at least for now?  I haven't checked that it's current and Sphinx complains copiously about it.  Either way, just let me know, and I'll attach v2 of the reviewer patch, since I found at least one more minor change to make (`2D` to `2-D`).\n\nBy the way, is there a reST alternative to double back-quotes that puts the enclosed text in a fixed-width font but does not change its background color?",
    "created_at": "2009-09-01T05:16:36Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50043",
    "user": "https://github.com/qed777"
}
```

<a id='comment:13'></a>
Thanks very much for fixing the typos, including `AttributeErrro`.

Is it alright if we treat the "PLANNING" section near the top of `interact.py` as "internal" documentation, at least for now?  I haven't checked that it's current and Sphinx complains copiously about it.  Either way, just let me know, and I'll attach v2 of the reviewer patch, since I found at least one more minor change to make (`2D` to `2-D`).

By the way, is there a reST alternative to double back-quotes that puts the enclosed text in a fixed-width font but does not change its background color?



---

archive/issue_comments_050044.json:
```json
{
    "body": "<a id='comment:14'></a>\nWhile I'm here I should ask whether we should put both side-effects, including possible exceptions, *and* return values in `OUTPUT` sections.  Mostly, I've mentioned just the return values in `OUTPUT`.  On occasion, I've noted significant effects in the blurb at the top of a docstring.",
    "created_at": "2009-09-01T05:25:19Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50044",
    "user": "https://github.com/qed777"
}
```

<a id='comment:14'></a>
While I'm here I should ask whether we should put both side-effects, including possible exceptions, *and* return values in `OUTPUT` sections.  Mostly, I've mentioned just the return values in `OUTPUT`.  On occasion, I've noted significant effects in the blurb at the top of a docstring.



---

archive/attachments_008504.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_6840-reviewer.patch",
    "asset_url": "tarball://root/attachments/ticket6840/trac_6840-reviewer.patch",
    "created_at": "2009-09-01T05:35:14Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6840/trac_6840-reviewer.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```



---

archive/issue_comments_050045.json:
```json
{
    "body": "**Attachment:** [trac_6840-reviewer.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-reviewer.patch)\n\napply on top of previous patch",
    "created_at": "2009-09-01T05:35:14Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50045",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Attachment:** [trac_6840-reviewer.patch](https://github.com/sagemath/sage/files/ticket6840/trac_6840-reviewer.patch)

apply on top of previous patch



---

archive/issue_comments_050046.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [mpatel](#comment%3A13):\n> Is it alright if we treat the \"PLANNING\" section near the top of `interact.py` as \"internal\" documentation, at least for now?  I haven't checked that it's current and Sphinx complains copiously about it.\n\nNew reviewer patch attached. Please use that one. That should get rid of the complaints by Sphinx.\n\n\n\n>  Either way, just let me know, and I'll attach v2 of the reviewer patch, since I found at least one more minor change to make (`2D` to `2-D`).\n\nThe updated reviewer patch also addresses this issue.\n\n\n\n\n> By the way, is there a reST alternative to double back-quotes that puts the enclosed text in a fixed-width font but does not change its background color?\n\nI don't know.\n\n\n\nReplying to [mpatel](#comment%3A14):\n> While I'm here I should ask whether we should put both side-effects, including possible exceptions, *and* return values in `OUTPUT` sections.  Mostly, I've mentioned just the return values in `OUTPUT`.  On occasion, I've noted significant effects in the blurb at the top of a docstring.\n\nThat's a good idea. Document what works and what doesn't. I usually have a \"TESTS:\" section for a method/function/class where I document exceptions that could be raised when using that method/function/class.",
    "created_at": "2009-09-01T05:42:18Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50046",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:15'></a>
Replying to [mpatel](#comment%3A13):
> Is it alright if we treat the "PLANNING" section near the top of `interact.py` as "internal" documentation, at least for now?  I haven't checked that it's current and Sphinx complains copiously about it.

New reviewer patch attached. Please use that one. That should get rid of the complaints by Sphinx.



>  Either way, just let me know, and I'll attach v2 of the reviewer patch, since I found at least one more minor change to make (`2D` to `2-D`).

The updated reviewer patch also addresses this issue.




> By the way, is there a reST alternative to double back-quotes that puts the enclosed text in a fixed-width font but does not change its background color?

I don't know.



Replying to [mpatel](#comment%3A14):
> While I'm here I should ask whether we should put both side-effects, including possible exceptions, *and* return values in `OUTPUT` sections.  Mostly, I've mentioned just the return values in `OUTPUT`.  On occasion, I've noted significant effects in the blurb at the top of a docstring.

That's a good idea. Document what works and what doesn't. I usually have a "TESTS:" section for a method/function/class where I document exceptions that could be raised when using that method/function/class.



---

archive/issue_events_045432.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2009-09-01T06:05:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6840#event-45432"
}
```



---

archive/issue_events_045433.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2009-09-01T06:05:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6840#event-45433"
}
```



---

archive/issue_comments_050047.json:
```json
{
    "body": "**Reviewer:** Minh Van Nguyen, Mitesh Patel",
    "created_at": "2009-09-01T06:05:50Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50047",
    "user": "https://github.com/qed777"
}
```

**Reviewer:** Minh Van Nguyen, Mitesh Patel



---

archive/issue_comments_050048.json:
```json
{
    "body": "**Changing author** from \"Tim Dumol, Mitesh Patel\" to \"Tim Dumol, Minh Van Nguyen, Mitesh Patel\".",
    "created_at": "2009-09-01T06:05:50Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50048",
    "user": "https://github.com/qed777"
}
```

**Changing author** from "Tim Dumol, Mitesh Patel" to "Tim Dumol, Minh Van Nguyen, Mitesh Patel".



---

archive/issue_comments_050049.json:
```json
{
    "body": "**Merged:** Sage 4.1.2.alpha0",
    "created_at": "2009-09-01T06:12:17Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50049",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Merged:** Sage 4.1.2.alpha0



---

archive/issue_events_045434.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-09-01T06:12:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6840#event-45434"
}
```



---

archive/issue_events_045435.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-09-01T06:12:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6840#event-45435"
}
```



---

archive/issue_comments_050050.json:
```json
{
    "body": "<a id='comment:17'></a>\nMerged patches in this order:\n\n1. `trac_6840-notebook-documentation-v6.patch`\n2. `trac_6840-reviewer.patch`\n\nI take reviewer credit, but not authorship credit :-)",
    "created_at": "2009-09-01T06:12:17Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50050",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:17'></a>
Merged patches in this order:

1. `trac_6840-notebook-documentation-v6.patch`
2. `trac_6840-reviewer.patch`

I take reviewer credit, but not authorship credit :-)



---

archive/issue_comments_050051.json:
```json
{
    "body": "**Changing author** from \"Tim Dumol, Minh Van Nguyen, Mitesh Patel\" to \"Tim Dumol, Mitesh Patel\".",
    "created_at": "2009-09-01T06:12:17Z",
    "issue": "https://github.com/sagemath/sage/issues/6840",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6840#issuecomment-50051",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Changing author** from "Tim Dumol, Minh Van Nguyen, Mitesh Patel" to "Tim Dumol, Mitesh Patel".
