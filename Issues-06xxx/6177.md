# Issue 6177: Update PolyBoRi to newest upstream release

archive/issues_006177.json:
```json
{
    "body": "\n```\n2009/04/06 The first release candidate of PolyBoRi 0.6 is available \nfor download. It comes with a PEP8-conforming python interface and \nnew algorithms: FGLM and (experimental) parallel processing of \nGr\u00f6bner basis variants. In addition, the documentation was improved \nconsiderably: the tutorial is more extensive, and the TeX4ht-\nSupport has been improved. Finally, built-in support for plotting \nthe underlying decision diagrams has been added.\n```\n\nThis version also allows bigger systems to be solved using the M4RI library (due to an updated M4RI) and makes use of M4RI in shared library mode.\n\nThis ticket depends on #5510\n\n**Assignee:** @malb\n\n**CC:**  polybori @burcin @rlmill boothby\n\n**Keywords:** M4RI, PolyBoRi\n\n**Author:** Michael Brickenstein, Alexander Dreyer, Martin Albrecht\n\n**Reviewer:** David Kirkby, Alex Ghitza, Burcin Erocal, Minh Van Nguyen\n\n**Merged:** Sage 4.1.2.alpha2\n\nIssue created by migration from https://trac.sagemath.org/ticket/6177\n\n",
    "closed_at": "2009-09-11T16:33:21Z",
    "created_at": "2009-06-01T09:35:19Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.1.2",
    "title": "Update PolyBoRi to newest upstream release",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/6177",
    "user": "https://github.com/malb"
}
```

```
2009/04/06 The first release candidate of PolyBoRi 0.6 is available 
for download. It comes with a PEP8-conforming python interface and 
new algorithms: FGLM and (experimental) parallel processing of 
Gröbner basis variants. In addition, the documentation was improved 
considerably: the tutorial is more extensive, and the TeX4ht-
Support has been improved. Finally, built-in support for plotting 
the underlying decision diagrams has been added.
```

This version also allows bigger systems to be solved using the M4RI library (due to an updated M4RI) and makes use of M4RI in shared library mode.

This ticket depends on #5510

**Assignee:** @malb

**CC:**  polybori @burcin @rlmill boothby

**Keywords:** M4RI, PolyBoRi

**Author:** Michael Brickenstein, Alexander Dreyer, Martin Albrecht

**Reviewer:** David Kirkby, Alex Ghitza, Burcin Erocal, Minh Van Nguyen

**Merged:** Sage 4.1.2.alpha2

Issue created by migration from https://trac.sagemath.org/ticket/6177





---

archive/issue_comments_042183.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,12 @@\n \n ```\n-2009/04/06 The first release candidate of PolyBoRi 0.6 is available for download. It comes with a PEP8-conforming python interface and new algorithms: FGLM and (experimental) parallel processing of Gr\u00f6bner basis variants. In addition, the documentation was improved considerably: the tutorial is more extensive, and the TeX4ht-Support has been improved. Finally, built-in support for plotting the underlying decision diagrams has been added.\n+2009/04/06 The first release candidate of PolyBoRi 0.6 is available \n+for download. It comes with a PEP8-conforming python interface and \n+new algorithms: FGLM and (experimental) parallel processing of \n+Gr\u00f6bner basis variants. In addition, the documentation was improved \n+considerably: the tutorial is more extensive, and the TeX4ht-\n+Support has been improved. Finally, built-in support for plotting \n+the underlying decision diagrams has been added.\n ```\n \n This version also allows bigger systems to be solved using the M4RI library (due to an updated M4RI) and makes use of M4RI in shared library mode.\n``````\n",
    "created_at": "2009-06-01T09:35:45Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42183",
    "user": "https://github.com/malb"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,12 @@
 
 ```
-2009/04/06 The first release candidate of PolyBoRi 0.6 is available for download. It comes with a PEP8-conforming python interface and new algorithms: FGLM and (experimental) parallel processing of Gröbner basis variants. In addition, the documentation was improved considerably: the tutorial is more extensive, and the TeX4ht-Support has been improved. Finally, built-in support for plotting the underlying decision diagrams has been added.
+2009/04/06 The first release candidate of PolyBoRi 0.6 is available 
+for download. It comes with a PEP8-conforming python interface and 
+new algorithms: FGLM and (experimental) parallel processing of 
+Gröbner basis variants. In addition, the documentation was improved 
+considerably: the tutorial is more extensive, and the TeX4ht-
+Support has been improved. Finally, built-in support for plotting 
+the underlying decision diagrams has been added.
 ```
 
 This version also allows bigger systems to be solved using the M4RI library (due to an updated M4RI) and makes use of M4RI in shared library mode.
``````




---

archive/issue_comments_042184.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe SPKG is here:\n\n   http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.spkg",
    "created_at": "2009-06-01T09:36:42Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42184",
    "user": "https://github.com/malb"
}
```

<a id='comment:2'></a>
The SPKG is here:

   http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.spkg



---

archive/issue_comments_042185.json:
```json
{
    "body": "<a id='comment:3'></a>\nTODO:\n\n* write more documentation\n* fix FGLM (it doesn't do anything right now)\n* expose PolyBoRi ZDD plots",
    "created_at": "2009-06-04T09:57:49Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42185",
    "user": "https://github.com/malb"
}
```

<a id='comment:3'></a>
TODO:

* write more documentation
* fix FGLM (it doesn't do anything right now)
* expose PolyBoRi ZDD plots



---

archive/issue_comments_042186.json:
```json
{
    "body": "<a id='comment:4'></a>\nMichael's notes on the docs:\n\n```\nall_spolys_in_next_degree()\npops all spolys with next sugar degree from the strategy \n\nclean_top_by_chain_criterion()\n\ncontains_one()\n1 \\in generating system?\n\nfaugere_step_dense()\nreduces a vector of polynomials using linear algebra\n\nimplications()\ncomputes useful implied polynomials of i-th generator, and adds them  to the strategy, if it finds any.\n\nll_reduce_all()\nuses the build in ll-encoded BooleSet of polynomials with linear lexicographical leading term, which coincides  \nwith leading term in current ordering, to reduce the tails of all polynomials in the strategy\n\nminimalize()\nreturns a vector of all polynomials with minimal leading terms use that if strat contains a GB\n\nminimalize_and_tail_reduce()\nreturns a vector of all polynomials with minimal leading terms and does tail reductions use that if strat contains a GB and you want a reduced GB\n\nnext_spoly()\n\nnf()\n\nnpairs()\nNumber of pairs in the pair queue\n\nreduction_strategy\nReductionStrategy member of GroebnerStrategy, does all the reductions\n\nsmall_spolys_in_next_degree()\nI am not sure, if it is still used, similar to the next one\n\nsome_spolys_in_next_degree(n)\n\nfetches upto n s-polynomials from the strategy, having all a sugar  \nvalue <= the sugar value of the first polynomial/pair in the queue.\n\nsuggest_plugin_variable()\nsome heuristic to suggest a variable, which could be plugged with 0 and 1 to branch the computation\n\nsymmGB_F2()\nout of date C++ implementation of symmgb, will revived at some point of time\n\ntop_sugar()\nsugar value of the first \"pair\" in the queue. Sugar is \"some estimated degree\".\n\nvariable_has_value()\nComputes, whether, there exists some polynomial of the form $v+c$ in the Strategy, where c is a constant\nin the list of generators\n\nelength()\nx+y*z -> 3\nfor lp (x>y>z)\nthe interesting case\n\nNote\n\nIf this function is called repeatedly with the same I then it is  \nadvised to use PolyBoRi\u2019s GroebnerStrategy object directly, since that  \nwill be faster. See the source code of this function for details.\n\n-> ReductionStrategy, as it is smaller and contains everything needed  \nfor reductions.\n```",
    "created_at": "2009-06-04T09:59:51Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42186",
    "user": "https://github.com/malb"
}
```

<a id='comment:4'></a>
Michael's notes on the docs:

```
all_spolys_in_next_degree()
pops all spolys with next sugar degree from the strategy 

clean_top_by_chain_criterion()

contains_one()
1 \in generating system?

faugere_step_dense()
reduces a vector of polynomials using linear algebra

implications()
computes useful implied polynomials of i-th generator, and adds them  to the strategy, if it finds any.

ll_reduce_all()
uses the build in ll-encoded BooleSet of polynomials with linear lexicographical leading term, which coincides  
with leading term in current ordering, to reduce the tails of all polynomials in the strategy

minimalize()
returns a vector of all polynomials with minimal leading terms use that if strat contains a GB

minimalize_and_tail_reduce()
returns a vector of all polynomials with minimal leading terms and does tail reductions use that if strat contains a GB and you want a reduced GB

next_spoly()

nf()

npairs()
Number of pairs in the pair queue

reduction_strategy
ReductionStrategy member of GroebnerStrategy, does all the reductions

small_spolys_in_next_degree()
I am not sure, if it is still used, similar to the next one

some_spolys_in_next_degree(n)

fetches upto n s-polynomials from the strategy, having all a sugar  
value <= the sugar value of the first polynomial/pair in the queue.

suggest_plugin_variable()
some heuristic to suggest a variable, which could be plugged with 0 and 1 to branch the computation

symmGB_F2()
out of date C++ implementation of symmgb, will revived at some point of time

top_sugar()
sugar value of the first "pair" in the queue. Sugar is "some estimated degree".

variable_has_value()
Computes, whether, there exists some polynomial of the form $v+c$ in the Strategy, where c is a constant
in the list of generators

elength()
x+y*z -> 3
for lp (x>y>z)
the interesting case

Note

If this function is called repeatedly with the same I then it is  
advised to use PolyBoRi’s GroebnerStrategy object directly, since that  
will be faster. See the source code of this function for details.

-> ReductionStrategy, as it is smaller and contains everything needed  
for reductions.
```



---

archive/issue_comments_042187.json:
```json
{
    "body": "<a id='comment:5'></a>\nMore notes by Michael:\n\n```\nCan you please link: http://polybori.sourceforge.net/zdd.html\n\nA picture says more, than 1000 words.\n\n2. How is the pickling of Boolean polynomials done?\n\nHave a look at parallel.py:\n\ndef to_fast_pickable(l):\n     \"\"\"\n     to_fast_pickable(l) converts a list of polynomials into a builtin  \nPython value, which is fast pickable and compact.\n     INPUT:\n         - a list of Boolean polynomials\n     OUTPUT:\n         It is converted to a tuple consisting of\n         - codes referring to the polynomials\n         - list of conversions of nodes.\n             The nodes are sorted, that\n             n occurs before n.else_branch(), n.then_branch()\n             Nodes are only listed, if they are not constant.\n\n         A node is converted in this way:\n             0 -> 0\n             1 -> 1\n             if_then_else(v,t,e) -> (v, index of then branch +2, index of else branch +2)\n             The shift of +2 is for the constant values implicitly   contained in the list.\n         Each code c refers to the c-2-th position in the conversion   list, if c >=2, else to\n         the corresponding Boolean constant if c in {0, 1}\n     EXAMPLES:\n         >>> from polybori.PyPolyBoRi import Ring, Variable\n         >>> r=Ring(1000)\n         >>> x=Variable\n         >>> to_fast_pickable([Polynomial(1)])\n         [[1], []]\n         >>> to_fast_pickable([Polynomial(0)])\n         [[0], []]\n         >>> to_fast_pickable([x(0)])\n         [[2], [(0, 1, 0)]]\n         >>> to_fast_pickable([x(0)*x(1)+x(1)])\n         [[2], [(0, 3, 3), (1, 1, 0)]]\n         >>> to_fast_pickable([x(1)])\n         [[2], [(1, 1, 0)]]\n         >>> to_fast_pickable([x(0)+1])\n         [[2], [(0, 1, 1)]]\n         >>> to_fast_pickable([x(0)*x(1)])\n         [[2], [(0, 3, 0), (1, 1, 0)]]\n         >>> to_fast_pickable([x(0)*x(1)+x(1)])\n         [[2], [(0, 3, 3), (1, 1, 0)]]\n         >>> to_fast_pickable([x(0)*x(1)+x(2)])\n         [[2], [(0, 3, 4), (1, 1, 0), (2, 1, 0)]]\n         >>> p=x(5)*x(23) + x(5)*x(24)*x(59) + x(5) + x(6)*x(23)*x(89)   + x(6)*x(60)*x(89) + x(23) + x(24)*x(89) + x(24) + x(60)*x(89) + x(89)   + 1\n         >>> from_fast_pickable(to_fast_pickable([p]))==[p]\n         True\n         >>> to_fast_pickable([x(0)*x(1), Polynomial(0), Polynomial(1), x(3)])\n         [[2, 0, 1, 4], [(0, 3, 0), (1, 1, 0), (3, 1, 0)]]\n     \"\"\"\n```",
    "created_at": "2009-06-04T10:01:09Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42187",
    "user": "https://github.com/malb"
}
```

<a id='comment:5'></a>
More notes by Michael:

```
Can you please link: http://polybori.sourceforge.net/zdd.html

A picture says more, than 1000 words.

2. How is the pickling of Boolean polynomials done?

Have a look at parallel.py:

def to_fast_pickable(l):
     """
     to_fast_pickable(l) converts a list of polynomials into a builtin  
Python value, which is fast pickable and compact.
     INPUT:
         - a list of Boolean polynomials
     OUTPUT:
         It is converted to a tuple consisting of
         - codes referring to the polynomials
         - list of conversions of nodes.
             The nodes are sorted, that
             n occurs before n.else_branch(), n.then_branch()
             Nodes are only listed, if they are not constant.

         A node is converted in this way:
             0 -> 0
             1 -> 1
             if_then_else(v,t,e) -> (v, index of then branch +2, index of else branch +2)
             The shift of +2 is for the constant values implicitly   contained in the list.
         Each code c refers to the c-2-th position in the conversion   list, if c >=2, else to
         the corresponding Boolean constant if c in {0, 1}
     EXAMPLES:
         >>> from polybori.PyPolyBoRi import Ring, Variable
         >>> r=Ring(1000)
         >>> x=Variable
         >>> to_fast_pickable([Polynomial(1)])
         [[1], []]
         >>> to_fast_pickable([Polynomial(0)])
         [[0], []]
         >>> to_fast_pickable([x(0)])
         [[2], [(0, 1, 0)]]
         >>> to_fast_pickable([x(0)*x(1)+x(1)])
         [[2], [(0, 3, 3), (1, 1, 0)]]
         >>> to_fast_pickable([x(1)])
         [[2], [(1, 1, 0)]]
         >>> to_fast_pickable([x(0)+1])
         [[2], [(0, 1, 1)]]
         >>> to_fast_pickable([x(0)*x(1)])
         [[2], [(0, 3, 0), (1, 1, 0)]]
         >>> to_fast_pickable([x(0)*x(1)+x(1)])
         [[2], [(0, 3, 3), (1, 1, 0)]]
         >>> to_fast_pickable([x(0)*x(1)+x(2)])
         [[2], [(0, 3, 4), (1, 1, 0), (2, 1, 0)]]
         >>> p=x(5)*x(23) + x(5)*x(24)*x(59) + x(5) + x(6)*x(23)*x(89)   + x(6)*x(60)*x(89) + x(23) + x(24)*x(89) + x(24) + x(60)*x(89) + x(89)   + 1
         >>> from_fast_pickable(to_fast_pickable([p]))==[p]
         True
         >>> to_fast_pickable([x(0)*x(1), Polynomial(0), Polynomial(1), x(3)])
         [[2, 0, 1, 4], [(0, 3, 0), (1, 1, 0), (3, 1, 0)]]
     """
```



---

archive/issue_comments_042188.json:
```json
{
    "body": "<a id='comment:6'></a>\nBtw. I'm posting this all here because I might not get around to do the last required steps in the next 2 weeks.",
    "created_at": "2009-06-04T10:02:02Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42188",
    "user": "https://github.com/malb"
}
```

<a id='comment:6'></a>
Btw. I'm posting this all here because I might not get around to do the last required steps in the next 2 weeks.



---

archive/issue_comments_042189.json:
```json
{
    "body": "<a id='comment:7'></a>\nBurcin, I came across the `RingProxy` class which we add to `PyPolyBori.py`. I don't understand why we need this.",
    "created_at": "2009-06-05T11:18:27Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42189",
    "user": "https://github.com/malb"
}
```

<a id='comment:7'></a>
Burcin, I came across the `RingProxy` class which we add to `PyPolyBori.py`. I don't understand why we need this.



---

archive/issue_comments_042190.json:
```json
{
    "body": "<a id='comment:8'></a>\nAFAIR, the `global_ring()` function you see in that file is expected to return an object which has a `.set()` method. This method should change the ordering of the current ring. I didn't want to add a `.set()` method to the `BooleanPolynomialRing`, so decided to wrap it in a `RingProxy` class.\n\nOf course, this was centuries ago, and it's possible that I'm making up all that I wrote above. :)",
    "created_at": "2009-06-05T11:34:57Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42190",
    "user": "https://github.com/burcin"
}
```

<a id='comment:8'></a>
AFAIR, the `global_ring()` function you see in that file is expected to return an object which has a `.set()` method. This method should change the ordering of the current ring. I didn't want to add a `.set()` method to the `BooleanPolynomialRing`, so decided to wrap it in a `RingProxy` class.

Of course, this was centuries ago, and it's possible that I'm making up all that I wrote above. :)



---

archive/issue_comments_042191.json:
```json
{
    "body": "<a id='comment:9'></a>\nI just ported the plotting to the jinja template engine, which is contained in Sage.\nThe only missing dependency is graphviz, which is an optional package.\nI hope that helps integrating it. I really would wish to be able to plot ZDDs in the Sage notebook.\nThat would be a nice extra feature and would probably help much about the understanding of ZDDs.",
    "created_at": "2009-06-23T06:13:20Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42191",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:9'></a>
I just ported the plotting to the jinja template engine, which is contained in Sage.
The only missing dependency is graphviz, which is an optional package.
I hope that helps integrating it. I really would wish to be able to plot ZDDs in the Sage notebook.
That would be a nice extra feature and would probably help much about the understanding of ZDDs.



---

archive/issue_comments_042192.json:
```json
{
    "body": "plot.py patch for jinja, to be contained in a 0.6.2 release (hopefully soon)",
    "created_at": "2009-06-23T06:14:53Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42192",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

plot.py patch for jinja, to be contained in a 0.6.2 release (hopefully soon)



---

archive/attachments_007531.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "jinja.patch",
    "asset_url": "tarball://root/attachments/ticket6177/jinja.patch",
    "created_at": "2009-06-23T10:06:49Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/jinja.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_042193.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Attachment:** [jinja.patch](https://github.com/sagemath/sage/files/ticket6177/jinja.patch)\n\nCCing Robert Miller since he is the resident graph expert and is sitting like two seats next to me. Robert, the last two comments are about printing the decision diagrams used by PolyBoRi to represent polynomials, cf. http://polybori.sourceforge.net/zdd.html",
    "created_at": "2009-06-23T10:06:49Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42193",
    "user": "https://github.com/malb"
}
```

<a id='comment:10'></a>
**Attachment:** [jinja.patch](https://github.com/sagemath/sage/files/ticket6177/jinja.patch)

CCing Robert Miller since he is the resident graph expert and is sitting like two seats next to me. Robert, the last two comments are about printing the decision diagrams used by PolyBoRi to represent polynomials, cf. http://polybori.sourceforge.net/zdd.html



---

archive/issue_comments_042194.json:
```json
{
    "body": "<a id='comment:11'></a>\nBurcin, I just uploaded my current PolyBoRi SPKG to /home/malb/spkgs so all you should need is the this SPKG + the patch `polybori_0_6_1.patch`",
    "created_at": "2009-06-23T10:11:34Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42194",
    "user": "https://github.com/malb"
}
```

<a id='comment:11'></a>
Burcin, I just uploaded my current PolyBoRi SPKG to /home/malb/spkgs so all you should need is the this SPKG + the patch `polybori_0_6_1.patch`



---

archive/attachments_007532.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "polybori_0_6_1.patch",
    "asset_url": "tarball://root/attachments/ticket6177/polybori_0_6_1.patch",
    "created_at": "2009-06-23T10:12:05Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/polybori_0_6_1.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_042195.json:
```json
{
    "body": "**Attachment:** [polybori_0_6_1.patch](https://github.com/sagemath/sage/files/ticket6177/polybori_0_6_1.patch)\n\nmost recent version of the patch",
    "created_at": "2009-06-23T10:12:05Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42195",
    "user": "https://github.com/malb"
}
```

**Attachment:** [polybori_0_6_1.patch](https://github.com/sagemath/sage/files/ticket6177/polybori_0_6_1.patch)

most recent version of the patch



---

archive/issue_comments_042196.json:
```json
{
    "body": "<a id='comment:12'></a>\nCCing Tom Boothby, because he loves decision diagrams for polynomials.",
    "created_at": "2009-06-23T10:12:52Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42196",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:12'></a>
CCing Tom Boothby, because he loves decision diagrams for polynomials.



---

archive/issue_comments_042197.json:
```json
{
    "body": "<a id='comment:13'></a>\nHi!\nJust as a further motivation :-) :\nThat is, how the diagrams will look like.\nhttp://polybori.sourceforge.net/zdd.html\nMichael",
    "created_at": "2009-06-23T11:17:18Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42197",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:13'></a>
Hi!
Just as a further motivation :-) :
That is, how the diagrams will look like.
http://polybori.sourceforge.net/zdd.html
Michael



---

archive/issue_events_040041.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2009-07-28T15:23:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40041"
}
```



---

archive/issue_comments_042198.json:
```json
{
    "body": "<a id='comment:14'></a>\nThe requires SPKG is available at\n\n   http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.3-20090728.spkg\n\nOnly apply `polybori-0-6-3.patch`.",
    "created_at": "2009-07-28T15:23:59Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42198",
    "user": "https://github.com/malb"
}
```

<a id='comment:14'></a>
The requires SPKG is available at

   http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.3-20090728.spkg

Only apply `polybori-0-6-3.patch`.



---

archive/issue_events_040042.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2009-08-04T10:52:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40042"
}
```



---

archive/issue_events_040043.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2009-08-04T10:52:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40043"
}
```



---

archive/issue_comments_042199.json:
```json
{
    "body": "<a id='comment:15'></a>\nSee http://groups.google.com/group/sage-support/browse_thread/thread/fa3afaeff5444cf3 for a problem description.",
    "created_at": "2009-08-04T10:52:09Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42199",
    "user": "https://github.com/malb"
}
```

<a id='comment:15'></a>
See http://groups.google.com/group/sage-support/browse_thread/thread/fa3afaeff5444cf3 for a problem description.



---

archive/issue_comments_042200.json:
```json
{
    "body": "<a id='comment:16'></a>\ndoesn't build for me (Mac OS X, 64 BIT, but it's not an 64 BIT issue).\nI have to set FORCE_HASH_MAP=True via custom.py or construct argument.\n\n```\ng++ -o groebner/src/groebner.o -c -m64 -O3 -Wno-long-long -Wreturn-type -g -fPIC -ftemplate-depth-100 -g -fPIC -m64 -O3 -Wno-long-long -Wreturn-type -g -fPIC -DNDEBUG -DHAVE_TR1_UNORDERED_MAP -DPACKED -DHAVE_M4RI -DSIZEOF_VOID_P=8 -DSIZEOF_LONG=8 -DHAVE_IEEE_754 -I/Applications/sage/spkg/build/polybori-0.6.3-20090728/src/boost_1_34_1.cropped -I/Applications/sage/local/include -I/Applications/sage/local/include/python2.6 -Ipolybori/include -IM4RI -ICudd/obj -ICudd/util -ICudd/cudd -ICudd/mtr -ICudd/st -ICudd/epd groebner/src/groebner.cc\n/usr/include/c++/4.0.0/tr1/hashtable: In member function 'typename std::tr1::hashtable<Key, Value, Allocator, ExtractKey, Equal, H1, H2, H, RehashPolicy, cache_hash_code, mutable_iterators, unique_keys>::const_iterator std::tr1::hashtable<Key, Value, Allocator, ExtractKey, Equal, H1, H2, H, RehashPolicy, cache_hash_code, mutable_iterators, unique_keys>::find(const Key&) const [with Key = polybori::BooleExponent, Value = std::pair<const polybori::BooleExponent, int>, Allocator = std::allocator<std::pair<const polybori::BooleExponent, int> >, ExtractKey = Internal::extract1st<std::pair<const polybori::BooleExponent, int> >, Equal = std::equal_to<polybori::BooleExponent>, H1 = polybori::hashes<polybori::BooleExponent>, H2 = Internal::mod_range_hashing, H = Internal::default_ranged_hash, RehashPolicy = Internal::prime_rehash_policy, bool cache_hash_code = false, bool mutable_iterators = true, bool unique_keys = true]':\ngroebner/src/groebner_alg.h:267:   instantiated from here\n/usr/include/c++/4.0.0/tr1/hashtable:1135: error: passing 'const std::tr1::hashtable<polybori::BooleExponent, std::pair<const polybori::BooleExponent, int>, std::allocator<std::pair<const polybori::BooleExponent, int> >, Internal::extract1st<std::pair<const polybori::BooleExponent, int> >, std::equal_to<polybori::BooleExponent>, polybori::hashes<polybori::BooleExponent>, Internal::mod_range_hashing, Internal::default_ranged_hash, Internal::prime_rehash_policy, false, true, true>' as 'this' argument of 'typename std::tr1::hashtable<Key, Value, Allocator, ExtractKey, Equal, H1, H2, H, RehashPolicy, cache_hash_code, mutable_iterators, unique_keys>::node* std::tr1::hashtable<Key, Value, Allocator, ExtractKey, Equal, H1, H2, H, RehashPolicy, cache_hash_code, mutable_iterators, unique_keys>::find_node(Internal::hash_node<Value, cache_hash_code>*, const Key&, typename std::tr1::hashtable<Key, Value, Allocator, ExtractKey, Equal, H1, H2, H, RehashPolicy, cache_hash_code, mutable_iterators, unique_keys>::hash_code_t) [with Key = polybori::BooleExponent, Value = std::pair<const polybori::BooleExponent, int>, Allocator = std::allocator<std::pair<const polybori::BooleExponent, int> >, ExtractKey = Internal::extract1st<std::pair<const polybori::BooleExponent, int> >, Equal = std::equal_to<polybori::BooleExponent>, H1 = polybori::hashes<polybori::BooleExponent>, H2 = Internal::mod_range_hashing, H = Internal::default_ranged_hash, RehashPolicy = Internal::prime_rehash_policy, bool cache_hash_code = false, bool mutable_iterators = true, bool unique_keys = true]' discards qualifiers\nscons: *** [groebner/src/groebner.o] Error 1\n```",
    "created_at": "2009-08-05T12:44:04Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42200",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:16'></a>
doesn't build for me (Mac OS X, 64 BIT, but it's not an 64 BIT issue).
I have to set FORCE_HASH_MAP=True via custom.py or construct argument.

```
g++ -o groebner/src/groebner.o -c -m64 -O3 -Wno-long-long -Wreturn-type -g -fPIC -ftemplate-depth-100 -g -fPIC -m64 -O3 -Wno-long-long -Wreturn-type -g -fPIC -DNDEBUG -DHAVE_TR1_UNORDERED_MAP -DPACKED -DHAVE_M4RI -DSIZEOF_VOID_P=8 -DSIZEOF_LONG=8 -DHAVE_IEEE_754 -I/Applications/sage/spkg/build/polybori-0.6.3-20090728/src/boost_1_34_1.cropped -I/Applications/sage/local/include -I/Applications/sage/local/include/python2.6 -Ipolybori/include -IM4RI -ICudd/obj -ICudd/util -ICudd/cudd -ICudd/mtr -ICudd/st -ICudd/epd groebner/src/groebner.cc
/usr/include/c++/4.0.0/tr1/hashtable: In member function 'typename std::tr1::hashtable<Key, Value, Allocator, ExtractKey, Equal, H1, H2, H, RehashPolicy, cache_hash_code, mutable_iterators, unique_keys>::const_iterator std::tr1::hashtable<Key, Value, Allocator, ExtractKey, Equal, H1, H2, H, RehashPolicy, cache_hash_code, mutable_iterators, unique_keys>::find(const Key&) const [with Key = polybori::BooleExponent, Value = std::pair<const polybori::BooleExponent, int>, Allocator = std::allocator<std::pair<const polybori::BooleExponent, int> >, ExtractKey = Internal::extract1st<std::pair<const polybori::BooleExponent, int> >, Equal = std::equal_to<polybori::BooleExponent>, H1 = polybori::hashes<polybori::BooleExponent>, H2 = Internal::mod_range_hashing, H = Internal::default_ranged_hash, RehashPolicy = Internal::prime_rehash_policy, bool cache_hash_code = false, bool mutable_iterators = true, bool unique_keys = true]':
groebner/src/groebner_alg.h:267:   instantiated from here
/usr/include/c++/4.0.0/tr1/hashtable:1135: error: passing 'const std::tr1::hashtable<polybori::BooleExponent, std::pair<const polybori::BooleExponent, int>, std::allocator<std::pair<const polybori::BooleExponent, int> >, Internal::extract1st<std::pair<const polybori::BooleExponent, int> >, std::equal_to<polybori::BooleExponent>, polybori::hashes<polybori::BooleExponent>, Internal::mod_range_hashing, Internal::default_ranged_hash, Internal::prime_rehash_policy, false, true, true>' as 'this' argument of 'typename std::tr1::hashtable<Key, Value, Allocator, ExtractKey, Equal, H1, H2, H, RehashPolicy, cache_hash_code, mutable_iterators, unique_keys>::node* std::tr1::hashtable<Key, Value, Allocator, ExtractKey, Equal, H1, H2, H, RehashPolicy, cache_hash_code, mutable_iterators, unique_keys>::find_node(Internal::hash_node<Value, cache_hash_code>*, const Key&, typename std::tr1::hashtable<Key, Value, Allocator, ExtractKey, Equal, H1, H2, H, RehashPolicy, cache_hash_code, mutable_iterators, unique_keys>::hash_code_t) [with Key = polybori::BooleExponent, Value = std::pair<const polybori::BooleExponent, int>, Allocator = std::allocator<std::pair<const polybori::BooleExponent, int> >, ExtractKey = Internal::extract1st<std::pair<const polybori::BooleExponent, int> >, Equal = std::equal_to<polybori::BooleExponent>, H1 = polybori::hashes<polybori::BooleExponent>, H2 = Internal::mod_range_hashing, H = Internal::default_ranged_hash, RehashPolicy = Internal::prime_rehash_policy, bool cache_hash_code = false, bool mutable_iterators = true, bool unique_keys = true]' discards qualifiers
scons: *** [groebner/src/groebner.o] Error 1
```



---

archive/issue_comments_042201.json:
```json
{
    "body": "fixes the issue",
    "created_at": "2009-08-05T13:35:09Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42201",
    "user": "https://github.com/malb"
}
```

fixes the issue



---

archive/attachments_007533.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "polybori-0-6-3.patch",
    "asset_url": "tarball://root/attachments/ticket6177/polybori-0-6-3.patch",
    "created_at": "2009-08-05T13:35:58Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_042202.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Attachment:** [polybori-0-6-3.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.patch)\n\nThe attached patch fixes the wrong GB issue.",
    "created_at": "2009-08-05T13:35:58Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42202",
    "user": "https://github.com/malb"
}
```

<a id='comment:17'></a>
**Attachment:** [polybori-0-6-3.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.patch)

The attached patch fixes the wrong GB issue.



---

archive/issue_comments_042203.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [PolyBoRi](#comment%3A16):\n> doesn't build for me (Mac OS X, 64 BIT, but it's not an 64 BIT issue).\n> I have to set FORCE_HASH_MAP=True via custom.py or construct argument.\n\nIs that a bug in PolyBoRi or how we build it?",
    "created_at": "2009-08-05T13:36:28Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42203",
    "user": "https://github.com/malb"
}
```

<a id='comment:18'></a>
Replying to [PolyBoRi](#comment%3A16):
> doesn't build for me (Mac OS X, 64 BIT, but it's not an 64 BIT issue).
> I have to set FORCE_HASH_MAP=True via custom.py or construct argument.

Is that a bug in PolyBoRi or how we build it?



---

archive/issue_comments_042204.json:
```json
{
    "body": "<a id='comment:19'></a>\nIt seems some `const` is dropped somewhere which makes the C++ compiler choke?\n\n```\npassing 'const std::tr1::hashtable<... as 'this' argument of 'typename std::tr1::hashtable<Key, Valu ...  discards qualifiers\n```",
    "created_at": "2009-08-05T16:41:21Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42204",
    "user": "https://github.com/malb"
}
```

<a id='comment:19'></a>
It seems some `const` is dropped somewhere which makes the C++ compiler choke?

```
passing 'const std::tr1::hashtable<... as 'this' argument of 'typename std::tr1::hashtable<Key, Valu ...  discards qualifiers
```



---

archive/issue_comments_042205.json:
```json
{
    "body": "<a id='comment:20'></a>\nMichael suggested to pass\n\n```\nscons  FORCE_HASH_MAP=True\n```\non OSX *only* to work around this issue.\n\nI can't work on this in the near future and would appreciate if someone else could take care of this.",
    "created_at": "2009-08-06T14:33:07Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42205",
    "user": "https://github.com/malb"
}
```

<a id='comment:20'></a>
Michael suggested to pass

```
scons  FORCE_HASH_MAP=True
```
on OSX *only* to work around this issue.

I can't work on this in the near future and would appreciate if someone else could take care of this.



---

archive/issue_comments_042206.json:
```json
{
    "body": "<a id='comment:21'></a>\nHi!\nI have put a new spkg here:\n\nhttp://sage.math.washington.edu/home/bricken/polybori-0.6.3-20090806.spkg\nI have adjusted the custom.py.\nActually, I needed most time, until I noticed, that the patched SConstruct was outdated, which I have fixed.\n\nMay I ask, what you have fixed about the wrong results due to some interface issues?\n\nMichael",
    "created_at": "2009-08-06T15:24:50Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42206",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:21'></a>
Hi!
I have put a new spkg here:

http://sage.math.washington.edu/home/bricken/polybori-0.6.3-20090806.spkg
I have adjusted the custom.py.
Actually, I needed most time, until I noticed, that the patched SConstruct was outdated, which I have fixed.

May I ask, what you have fixed about the wrong results due to some interface issues?

Michael



---

archive/issue_comments_042207.json:
```json
{
    "body": "<a id='comment:22'></a>\nI added a new term ordering \"deglex_asc\" which is used instead of \"degrevlex\" if a Sage ring is constructed from a C++ ring. Also, I changed the hash to include the term ordering.",
    "created_at": "2009-08-06T15:27:06Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42207",
    "user": "https://github.com/malb"
}
```

<a id='comment:22'></a>
I added a new term ordering "deglex_asc" which is used instead of "degrevlex" if a Sage ring is constructed from a C++ ring. Also, I changed the hash to include the term ordering.



---

archive/issue_comments_042208.json:
```json
{
    "body": "<a id='comment:23'></a>\n`'sage.rings.polynomial.pbori.BooleanPolynomialRing' object has no attribute 'clone'`\nThe clone method is not wrapped, which does not give us access to our new ll-stuff, which is also very relevant to crypto.\nI just had a look at the present stuff and tried to speed it up.",
    "created_at": "2009-08-06T17:03:55Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42208",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:23'></a>
`'sage.rings.polynomial.pbori.BooleanPolynomialRing' object has no attribute 'clone'`
The clone method is not wrapped, which does not give us access to our new ll-stuff, which is also very relevant to crypto.
I just had a look at the present stuff and tried to speed it up.



---

archive/issue_comments_042209.json:
```json
{
    "body": "<a id='comment:24'></a>\nI checked in Michael's changes in the SPKG in \n\n  http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.3-20090807.spkg\n\nunder Michael's name.\n\n**My Todo List**\n* wrap `clone`\n* wrap `ll_red_nf_noredsb_single_recursive_call`\n* speed-up `Polynomial(p)` if `p` is a boolean polynomial\n* check for memory leaks with crypo scripts from bitbucket",
    "created_at": "2009-08-07T08:19:43Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42209",
    "user": "https://github.com/malb"
}
```

<a id='comment:24'></a>
I checked in Michael's changes in the SPKG in 

  http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.3-20090807.spkg

under Michael's name.

**My Todo List**
* wrap `clone`
* wrap `ll_red_nf_noredsb_single_recursive_call`
* speed-up `Polynomial(p)` if `p` is a boolean polynomial
* check for memory leaks with crypo scripts from bitbucket



---

archive/attachments_007534.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "polybori-0-6-3.2.patch",
    "asset_url": "tarball://root/attachments/ticket6177/polybori-0-6-3.2.patch",
    "created_at": "2009-08-07T08:32:06Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.2.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_042210.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Attachment:** [polybori-0-6-3.2.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.2.patch)\n\nThe latest patch links in gd",
    "created_at": "2009-08-07T08:32:06Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42210",
    "user": "https://github.com/malb"
}
```

<a id='comment:25'></a>
**Attachment:** [polybori-0-6-3.2.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.2.patch)

The latest patch links in gd



---

archive/issue_comments_042211.json:
```json
{
    "body": "<a id='comment:26'></a>\nI have to add that also substitute_variables(vec, poly) is missing, which is\nan instantiation of\nsubstitute_variables<std::vector<BoolePolynomial>, BoolePolynomial>\n\nvar(i) (our polybori indices) is replaced by vec[i] in poly.\n\ndocs:\n\nBoolePolyRing::clone is a flat copy of the ring, as well as the normal copy constructor.\nIn contrast to using the constructor, the new ring will contain its own vector of variable names,\nso changing a variable name via `set_variable_name`\nwon't modify the original ring.\n\nll_red_nf_noredsb_single_recursive call has the same specification as ll_red_nf_noredsb, but a different implementation:\nThis is described in my PHD thesis, the corresponding chapter is available on demand.\nIt is very sensitive to the ordering of variables, however it has the very nice property, that it needs just one recursive call.\nWe provide utilities for determing an appropriate var ordering. It is a matter of research, to find good heuristics here.\nBut I think, that I have a good solution.",
    "created_at": "2009-08-07T08:38:44Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42211",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:26'></a>
I have to add that also substitute_variables(vec, poly) is missing, which is
an instantiation of
substitute_variables<std::vector<BoolePolynomial>, BoolePolynomial>

var(i) (our polybori indices) is replaced by vec[i] in poly.

docs:

BoolePolyRing::clone is a flat copy of the ring, as well as the normal copy constructor.
In contrast to using the constructor, the new ring will contain its own vector of variable names,
so changing a variable name via `set_variable_name`
won't modify the original ring.

ll_red_nf_noredsb_single_recursive call has the same specification as ll_red_nf_noredsb, but a different implementation:
This is described in my PHD thesis, the corresponding chapter is available on demand.
It is very sensitive to the ordering of variables, however it has the very nice property, that it needs just one recursive call.
We provide utilities for determing an appropriate var ordering. It is a matter of research, to find good heuristics here.
But I think, that I have a good solution.



---

archive/attachments_007535.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "polybori-0-6-3.3.patch",
    "asset_url": "tarball://root/attachments/ticket6177/polybori-0-6-3.3.patch",
    "created_at": "2009-08-10T17:16:03Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.3.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_042212.json:
```json
{
    "body": "**Attachment:** [polybori-0-6-3.3.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.3.patch)\n\nadds the requested functions",
    "created_at": "2009-08-10T17:16:03Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42212",
    "user": "https://github.com/malb"
}
```

**Attachment:** [polybori-0-6-3.3.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.3.patch)

adds the requested functions



---

archive/issue_events_040044.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2009-08-10T17:17:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40044"
}
```



---

archive/issue_events_040045.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2009-08-10T17:17:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40045"
}
```



---

archive/issue_comments_042213.json:
```json
{
    "body": "<a id='comment:27'></a>\nThe new patch in combination with http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.3-20090810.spkg provides the following additional features:\n* `Polynomial(p)` much faster if `p` is a `BooleanPolynomial`\n* added `substitute_variables`\n* added `BooleanPolynomialRing.clone`\n* added `ll_red_nf_noredsb_single_recursive`",
    "created_at": "2009-08-10T17:17:57Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42213",
    "user": "https://github.com/malb"
}
```

<a id='comment:27'></a>
The new patch in combination with http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.3-20090810.spkg provides the following additional features:
* `Polynomial(p)` much faster if `p` is a `BooleanPolynomial`
* added `substitute_variables`
* added `BooleanPolynomialRing.clone`
* added `ll_red_nf_noredsb_single_recursive`



---

archive/issue_comments_042214.json:
```json
{
    "body": "the latest patch swallowed the 'gd' in modules_list.py, this one adds it back",
    "created_at": "2009-08-10T19:42:24Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42214",
    "user": "https://github.com/malb"
}
```

the latest patch swallowed the 'gd' in modules_list.py, this one adds it back



---

archive/attachments_007536.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "polybori-0-6-3.4.patch",
    "asset_url": "tarball://root/attachments/ticket6177/polybori-0-6-3.4.patch",
    "created_at": "2009-08-11T15:40:49Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.4.patch",
    "user": "https://github.com/malb"
}
```



---

archive/attachments_007537.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "polybori-0-6-3.5.patch",
    "asset_url": "tarball://root/attachments/ticket6177/polybori-0-6-3.5.patch",
    "created_at": "2009-08-11T15:40:49Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.5.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_042215.json:
```json
{
    "body": "**Attachment:** [polybori-0-6-3.4.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.4.patch)\n\n**Attachment:** [polybori-0-6-3.5.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.5.patch)\n\nspeeds up comparison with zero and fixes a doctest failure",
    "created_at": "2009-08-11T15:40:49Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42215",
    "user": "https://github.com/malb"
}
```

**Attachment:** [polybori-0-6-3.4.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.4.patch)

**Attachment:** [polybori-0-6-3.5.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.5.patch)

speeds up comparison with zero and fixes a doctest failure



---

archive/issue_comments_042216.json:
```json
{
    "body": "<a id='comment:28'></a>\nIf one doesn't have #6628 applied one hunk will fail which can safely be ignored.",
    "created_at": "2009-08-16T00:16:25Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42216",
    "user": "https://github.com/malb"
}
```

<a id='comment:28'></a>
If one doesn't have #6628 applied one hunk will fail which can safely be ignored.



---

archive/issue_events_040046.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/drkirkby",
    "created_at": "2009-08-16T04:12:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40046"
}
```



---

archive/issue_events_040047.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/drkirkby",
    "created_at": "2009-08-16T04:12:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40047"
}
```



---

archive/issue_comments_042217.json:
```json
{
    "body": "<a id='comment:29'></a>\nThis appears to suffer the same issue earlier releases of PolyBoRi had on Solaris. Even if the Sun Studio compiler is not in the path, and CC, CXX are not set, so this attempts to use the Sun C++ compiler. That fails miserably. \n\nChanges had to be made to the earlier PolyBoRi code to allow this to build with gcc on Solaris if the Sun compiler was present. I assume those changes will need to be reintegrated. \n\nHere you can see CC and CXX are not set\n\n```\ndrkirkby@smudge:[~/sage/sage-4.1.1] $ echo $CC\n\ndrkirkby@smudge:[~/sage/sage-4.1.1] $ echo $CXX\n\ndrkirkby@smudge:[~/sage/sage-4.1.1] $\n```\n\nBut still the package uses Sun's C++ compiler. \n\n```\n/opt/sunstudio12.1/bin/CC -o polybori/src/BoolePolyRing.o -c -O3 -Wno-long-long -Wreturn-type -g -fPIC -ftemplate-depth-100 -g -fPIC -O3 -Wno-long-long -Wreturn -type -g -fPIC -DNDEBUG -DHAVE_GD -DPACKED -DHAVE_M4RI -DHAVE_GD -DHAVE_IEEE_754  -DBSD -I/export/home/drkirkby/sage/sage-4.1.1/spkg/build/polybori-0.6.3-2009081 0/src/boost_1_34_1.cropped -I/export/home/drkirkby/sage/sage-4.1.1/local/include  -I/export/home/drkirkby/sage/sage-4.1.1/local/include/python2.6 -Ipolybori/incl ude -ICudd/obj -ICudd/util -ICudd/cudd -ICudd/mtr -ICudd/st -ICudd/epd polybori/ src/BoolePolyRing.cc\nCC: Warning: Option -Wno-long-long passed to ld, if ld is invoked, ignored other wise\nCC: Warning: Option -Wreturn-type passed to ld, if ld is invoked, ignored otherw ise\nCC: Warning: Option -fPIC passed to ld, if ld is invoked, ignored otherwise\nCC: Warning: Option -ftemplate-depth-100 passed to ld, if ld is invoked, ignored  otherwise\nCC: Warning: Option -fPIC passed to ld, if ld is invoked, ignored otherwise\nCC: Warning: Option -Wno-long-long passed to ld, if ld is invoked, ignored other wise\nCC: Warning: Option -Wreturn-type passed to ld, if ld is invoked, ignored otherw ise\nCC: Warning: Option -fPIC passed to ld, if ld is invoked, ignored otherwise\n\"polybori/include/CDDManager.h\", line 103: Warning: Last line in file \"polybori/ include/cacheopts.h\" is not terminated with a newline.\n\"polybori/include/CCuddZDD.h\", line 308: Warning (Anachronism): Formal argument func of type DdNode*(*)(DdManager*,DdNode*,int) in call to polybori::CCuddDDBase <polybori::CCuddZDD>::apply(DdNode*(*)(DdManager*,DdNode*,int), int) const is be ing passed extern \"C\" DdNode*(*)(DdManager*,DdNode*,int).\n\"polybori/include/CCuddZDD.h\", line 308: Warning (Anachronism): Formal argument func of type DdNode*(*)(DdManager*,DdNode*,int) in call to polybori::CCuddDDBase <polybori::CCuddZDD>::apply(DdNode*(*)(DdManager*,DdNode*,int), int) const is be ing passed extern \"C\" DdNode*(*)(DdManager*,DdNode*,int).\n\"polybori/include/CCuddZDD.h\", line 308: Warning (Anachronism): Formal argument func of type DdNode*(*)(DdManager*,DdNode*,int) in call to polybori::CCuddDDBase <polybori::CCuddZDD>::apply(DdNode*(*)(DdManager*,DdNode*,int), int) const is be ing passed extern \"C\" DdNode*(*)(DdManager*,DdNode*,int).\n\"polybori/include/CCuddZDD.h\", line 313: Warning (Anachronism): Formal argument func of type DdNode*(*)(DdManager*,DdNode*,DdNode*,DdNode*) in call to polybori: :CCuddDDBase<polybori::CCuddZDD>::apply(DdNode*(*)(DdManager*,DdNode*,DdNode*,Dd Node*), const polybori::CCuddZDD&, const polybori::CCuddZDD&) const is being pas sed extern \"C\" DdNode*(*)(DdManager*,DdNode*,DdNode*,DdNode*).\n\"polybori/include/CCuddZDD.h\", line 322: Warning (Anachronism): Formal argument func of type int(*)(DdManager*,DdNode*) in call to polybori::CCuddDDBase<polybor i::CCuddZDD>::apply(int(*)(DdManager*,DdNode*)) const is being passed extern \"C\"  int(*)(DdManager*,DdNode*).\n\"polybori/include/CCuddZDD.h\", line 323: Warning (Anachronism): Formal argument func of type int(*)(DdManager*,DdNode*) in call to polybori::CCuddDDBase<polybor i::CCuddZDD>::apply(int(*)(DdManager*,DdNode*)) const is being passed extern \"C\"  int(*)(DdManager*,DdNode*).\n\"polybori/include/CCuddZDD.h\", line 327: Warning (Anachronism): Formal argument func of type int(*)(DdManager*,DdNode*) in call to polybori::CCuddDDBase<polybor i::CCuddZDD>::memApply<int>(int(*)(DdManager*,DdNode*)) const is being passed ex tern \"C\" int(*)(DdManager*,DdNode*).\n\"polybori/include/CCuddZDD.h\", line 330: Warning (Anachronism): Formal argument func of type double(*)(DdManager*,DdNode*) in call to polybori::CCuddDDBase<poly bori::CCuddZDD>::memApply<double>(double(*)(DdManager*,DdNode*)) const is being passed extern \"C\" double(*)(DdManager*,DdNode*).\n\"polybori/include/CCuddInterface.h\", line 192: Warning (Anachronism): Formal arg ument func of type DdNode*(*)(DdManager*,int) in call to polybori::CCuddInterfac e::apply(DdNode*(*)(DdManager*,int), int) const is being passed extern \"C\" DdNod e*(*)(DdManager*,int).\n\"polybori/include/CCuddInterface.h\", line 195: Warning (Anachronism): Formal arg ument func of type DdNode*(*)(DdManager*,int) in call to polybori::CCuddInterfac e::apply(DdNode*(*)(DdManager*,int), int) const is being passed extern \"C\" DdNod e*(*)(DdManager*,int).\n\"polybori/include/CCuddInterface.h\", line 198: Warning (Anachronism): Formal arg ument func of type DdNode*(*)(DdManager*) in call to polybori::CCuddInterface::a pply(DdNode*(*)(DdManager*)) const is being passed extern \"C\" DdNode*(*)(DdManag er*).\n\"polybori/include/CCuddNavigator.h\", line 157: Error: iterator_traits is not a m ember of std.\n\"polybori/include/CCuddNavigator.h\", line 157: Error: A declaration does not spe cify a tag or an identifier.\n\"polybori/include/CCuddNavigator.h\", line 157: Error: Use \";\" to terminate decla rations.\n\"polybori/include/CCuddNavigator.h\", line 157: Error: \"}\" expected instead of \"< \".\n\"polybori/include/CCuddNavigator.h\", line 157: Error: Use \";\" to terminate decla rations.\n\"polybori/include/CCuddNavigator.h\", line 157: Error: A declaration was expected  instead of \"<\".\n\"polybori/include/CCuddNavigator.h\", line 157: Error: \",\" expected instead of \"> \".\n\"polybori/include/CCuddNavigator.h\", line 159: Error: value_type is not defined.\n\"polybori/include/CCuddNavigator.h\", line 163: Error: There must be an identifie r to declare.\n\"polybori/include/CCuddNavigator.h\", line 171: Error: \"explicit\" is not allowed here.\n\"polybori/include/CCuddNavigator.h\", line 171: Error: \")\" expected instead of \"& \".\n\"polybori/include/CCuddNavigator.h\", line 174: Error: \")\" expected instead of \"& \".\n\"polybori/include/CCuddNavigator.h\", line 177: Error: Type name expected instead  of \"CCuddNavigator\".\n\"polybori/include/CCuddNavigator.h\", line 177: Error: Illegal number of argument s for ~file level().\n\"polybori/include/CCuddNavigator.h\", line 180: Error: \",\" expected instead of \"& \".\n\"polybori/include/CCuddNavigator.h\", line 183: Error: self is not defined.\n\"polybori/include/CCuddNavigator.h\", line 183: Error: The function \"thenBranch()  const\" cannot be declared const.\n\"polybori/include/CCuddNavigator.h\", line 183: Error: Can only use this within a  non-static member function.\n\"polybori/include/CCuddNavigator.h\", line 183: Error: Only a function may be cal led.\n\"polybori/include/CCuddNavigator.h\", line 183: Error: Only a function may be cal led.\n\"polybori/include/CCuddNavigator.h\", line 186: Error: Multiple declaration for s elf.\n\"polybori/include/CCuddNavigator.h\", line 186: Error: \",\" expected instead of \"& \".\n\"polybori/include/CCuddNavigator.h\", line 189: Error: self is not defined.\n\"polybori/include/CCuddNavigator.h\", line 189: Error: The function \"elseBranch()  const\" cannot be declared const.\n\"polybori/include/CCuddNavigator.h\", line 189: Error: Can only use this within a  non-static member function.\nCompilation aborted, too many Error messages.\nscons: *** [polybori/src/BoolePolyRing.o] Error 1\nscons: building terminated because of errors.\nError building PolyBoRi.\n\nreal    0m22.968s\nuser    0m17.385s\nsys     0m4.811s\nsage: An error occurred while installing polybori-0.6.3-20090810\nPlease email sage-devel http://groups.google.com/group/sage-devel\nexplaining the problem and send the relevant part of\nof /export/home/drkirkby/sage/sage-4.1.1/install.log.  Describe your computer, o perating system, etc.\nIf you want to try to fix the problem, yourself *don't* just cd to\n/export/home/drkirkby/sage/sage-4.1.1/spkg/build/polybori-0.6.3-20090810 and typ e 'make'.\nInstead type \"/export/home/drkirkby/sage/sage-4.1.1/sage -sh\"\nin order to set all environment variables correctly, then cd to\n/export/home/drkirkby/sage/sage-4.1.1/spkg/build/polybori-0.6.3-20090810\n(When you are done debugging, you can type \"exit\" to leave the\nsubshell.)\nmake[1]: *** [installed/polybori-0.6.3-20090810] Error 1\nmake[1]: Leaving directory `/export/home/drkirkby/sage/sage-4.1.1/spkg'\n```",
    "created_at": "2009-08-16T04:12:05Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42217",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:29'></a>
This appears to suffer the same issue earlier releases of PolyBoRi had on Solaris. Even if the Sun Studio compiler is not in the path, and CC, CXX are not set, so this attempts to use the Sun C++ compiler. That fails miserably. 

Changes had to be made to the earlier PolyBoRi code to allow this to build with gcc on Solaris if the Sun compiler was present. I assume those changes will need to be reintegrated. 

Here you can see CC and CXX are not set

```
drkirkby@smudge:[~/sage/sage-4.1.1] $ echo $CC

drkirkby@smudge:[~/sage/sage-4.1.1] $ echo $CXX

drkirkby@smudge:[~/sage/sage-4.1.1] $
```

But still the package uses Sun's C++ compiler. 

```
/opt/sunstudio12.1/bin/CC -o polybori/src/BoolePolyRing.o -c -O3 -Wno-long-long -Wreturn-type -g -fPIC -ftemplate-depth-100 -g -fPIC -O3 -Wno-long-long -Wreturn -type -g -fPIC -DNDEBUG -DHAVE_GD -DPACKED -DHAVE_M4RI -DHAVE_GD -DHAVE_IEEE_754  -DBSD -I/export/home/drkirkby/sage/sage-4.1.1/spkg/build/polybori-0.6.3-2009081 0/src/boost_1_34_1.cropped -I/export/home/drkirkby/sage/sage-4.1.1/local/include  -I/export/home/drkirkby/sage/sage-4.1.1/local/include/python2.6 -Ipolybori/incl ude -ICudd/obj -ICudd/util -ICudd/cudd -ICudd/mtr -ICudd/st -ICudd/epd polybori/ src/BoolePolyRing.cc
CC: Warning: Option -Wno-long-long passed to ld, if ld is invoked, ignored other wise
CC: Warning: Option -Wreturn-type passed to ld, if ld is invoked, ignored otherw ise
CC: Warning: Option -fPIC passed to ld, if ld is invoked, ignored otherwise
CC: Warning: Option -ftemplate-depth-100 passed to ld, if ld is invoked, ignored  otherwise
CC: Warning: Option -fPIC passed to ld, if ld is invoked, ignored otherwise
CC: Warning: Option -Wno-long-long passed to ld, if ld is invoked, ignored other wise
CC: Warning: Option -Wreturn-type passed to ld, if ld is invoked, ignored otherw ise
CC: Warning: Option -fPIC passed to ld, if ld is invoked, ignored otherwise
"polybori/include/CDDManager.h", line 103: Warning: Last line in file "polybori/ include/cacheopts.h" is not terminated with a newline.
"polybori/include/CCuddZDD.h", line 308: Warning (Anachronism): Formal argument func of type DdNode*(*)(DdManager*,DdNode*,int) in call to polybori::CCuddDDBase <polybori::CCuddZDD>::apply(DdNode*(*)(DdManager*,DdNode*,int), int) const is be ing passed extern "C" DdNode*(*)(DdManager*,DdNode*,int).
"polybori/include/CCuddZDD.h", line 308: Warning (Anachronism): Formal argument func of type DdNode*(*)(DdManager*,DdNode*,int) in call to polybori::CCuddDDBase <polybori::CCuddZDD>::apply(DdNode*(*)(DdManager*,DdNode*,int), int) const is be ing passed extern "C" DdNode*(*)(DdManager*,DdNode*,int).
"polybori/include/CCuddZDD.h", line 308: Warning (Anachronism): Formal argument func of type DdNode*(*)(DdManager*,DdNode*,int) in call to polybori::CCuddDDBase <polybori::CCuddZDD>::apply(DdNode*(*)(DdManager*,DdNode*,int), int) const is be ing passed extern "C" DdNode*(*)(DdManager*,DdNode*,int).
"polybori/include/CCuddZDD.h", line 313: Warning (Anachronism): Formal argument func of type DdNode*(*)(DdManager*,DdNode*,DdNode*,DdNode*) in call to polybori: :CCuddDDBase<polybori::CCuddZDD>::apply(DdNode*(*)(DdManager*,DdNode*,DdNode*,Dd Node*), const polybori::CCuddZDD&, const polybori::CCuddZDD&) const is being pas sed extern "C" DdNode*(*)(DdManager*,DdNode*,DdNode*,DdNode*).
"polybori/include/CCuddZDD.h", line 322: Warning (Anachronism): Formal argument func of type int(*)(DdManager*,DdNode*) in call to polybori::CCuddDDBase<polybor i::CCuddZDD>::apply(int(*)(DdManager*,DdNode*)) const is being passed extern "C"  int(*)(DdManager*,DdNode*).
"polybori/include/CCuddZDD.h", line 323: Warning (Anachronism): Formal argument func of type int(*)(DdManager*,DdNode*) in call to polybori::CCuddDDBase<polybor i::CCuddZDD>::apply(int(*)(DdManager*,DdNode*)) const is being passed extern "C"  int(*)(DdManager*,DdNode*).
"polybori/include/CCuddZDD.h", line 327: Warning (Anachronism): Formal argument func of type int(*)(DdManager*,DdNode*) in call to polybori::CCuddDDBase<polybor i::CCuddZDD>::memApply<int>(int(*)(DdManager*,DdNode*)) const is being passed ex tern "C" int(*)(DdManager*,DdNode*).
"polybori/include/CCuddZDD.h", line 330: Warning (Anachronism): Formal argument func of type double(*)(DdManager*,DdNode*) in call to polybori::CCuddDDBase<poly bori::CCuddZDD>::memApply<double>(double(*)(DdManager*,DdNode*)) const is being passed extern "C" double(*)(DdManager*,DdNode*).
"polybori/include/CCuddInterface.h", line 192: Warning (Anachronism): Formal arg ument func of type DdNode*(*)(DdManager*,int) in call to polybori::CCuddInterfac e::apply(DdNode*(*)(DdManager*,int), int) const is being passed extern "C" DdNod e*(*)(DdManager*,int).
"polybori/include/CCuddInterface.h", line 195: Warning (Anachronism): Formal arg ument func of type DdNode*(*)(DdManager*,int) in call to polybori::CCuddInterfac e::apply(DdNode*(*)(DdManager*,int), int) const is being passed extern "C" DdNod e*(*)(DdManager*,int).
"polybori/include/CCuddInterface.h", line 198: Warning (Anachronism): Formal arg ument func of type DdNode*(*)(DdManager*) in call to polybori::CCuddInterface::a pply(DdNode*(*)(DdManager*)) const is being passed extern "C" DdNode*(*)(DdManag er*).
"polybori/include/CCuddNavigator.h", line 157: Error: iterator_traits is not a m ember of std.
"polybori/include/CCuddNavigator.h", line 157: Error: A declaration does not spe cify a tag or an identifier.
"polybori/include/CCuddNavigator.h", line 157: Error: Use ";" to terminate decla rations.
"polybori/include/CCuddNavigator.h", line 157: Error: "}" expected instead of "< ".
"polybori/include/CCuddNavigator.h", line 157: Error: Use ";" to terminate decla rations.
"polybori/include/CCuddNavigator.h", line 157: Error: A declaration was expected  instead of "<".
"polybori/include/CCuddNavigator.h", line 157: Error: "," expected instead of "> ".
"polybori/include/CCuddNavigator.h", line 159: Error: value_type is not defined.
"polybori/include/CCuddNavigator.h", line 163: Error: There must be an identifie r to declare.
"polybori/include/CCuddNavigator.h", line 171: Error: "explicit" is not allowed here.
"polybori/include/CCuddNavigator.h", line 171: Error: ")" expected instead of "& ".
"polybori/include/CCuddNavigator.h", line 174: Error: ")" expected instead of "& ".
"polybori/include/CCuddNavigator.h", line 177: Error: Type name expected instead  of "CCuddNavigator".
"polybori/include/CCuddNavigator.h", line 177: Error: Illegal number of argument s for ~file level().
"polybori/include/CCuddNavigator.h", line 180: Error: "," expected instead of "& ".
"polybori/include/CCuddNavigator.h", line 183: Error: self is not defined.
"polybori/include/CCuddNavigator.h", line 183: Error: The function "thenBranch()  const" cannot be declared const.
"polybori/include/CCuddNavigator.h", line 183: Error: Can only use this within a  non-static member function.
"polybori/include/CCuddNavigator.h", line 183: Error: Only a function may be cal led.
"polybori/include/CCuddNavigator.h", line 183: Error: Only a function may be cal led.
"polybori/include/CCuddNavigator.h", line 186: Error: Multiple declaration for s elf.
"polybori/include/CCuddNavigator.h", line 186: Error: "," expected instead of "& ".
"polybori/include/CCuddNavigator.h", line 189: Error: self is not defined.
"polybori/include/CCuddNavigator.h", line 189: Error: The function "elseBranch()  const" cannot be declared const.
"polybori/include/CCuddNavigator.h", line 189: Error: Can only use this within a  non-static member function.
Compilation aborted, too many Error messages.
scons: *** [polybori/src/BoolePolyRing.o] Error 1
scons: building terminated because of errors.
Error building PolyBoRi.

real    0m22.968s
user    0m17.385s
sys     0m4.811s
sage: An error occurred while installing polybori-0.6.3-20090810
Please email sage-devel http://groups.google.com/group/sage-devel
explaining the problem and send the relevant part of
of /export/home/drkirkby/sage/sage-4.1.1/install.log.  Describe your computer, o perating system, etc.
If you want to try to fix the problem, yourself *don't* just cd to
/export/home/drkirkby/sage/sage-4.1.1/spkg/build/polybori-0.6.3-20090810 and typ e 'make'.
Instead type "/export/home/drkirkby/sage/sage-4.1.1/sage -sh"
in order to set all environment variables correctly, then cd to
/export/home/drkirkby/sage/sage-4.1.1/spkg/build/polybori-0.6.3-20090810
(When you are done debugging, you can type "exit" to leave the
subshell.)
make[1]: *** [installed/polybori-0.6.3-20090810] Error 1
make[1]: Leaving directory `/export/home/drkirkby/sage/sage-4.1.1/spkg'
```



---

archive/issue_comments_042218.json:
```json
{
    "body": "<a id='comment:30'></a>\nIf you are updating PolyBoRi, take a look at #6582 too.",
    "created_at": "2009-08-16T08:38:33Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42218",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:30'></a>
If you are updating PolyBoRi, take a look at #6582 too.



---

archive/issue_comments_042219.json:
```json
{
    "body": "<a id='comment:31'></a>\nI remember, that I used the SConstruct.patch to regenerate the patched SConstruct from a current version. Maybe someone has just hacked the fix into the patched SConstruct and ignored the patch?\n\nMichael",
    "created_at": "2009-08-17T07:21:49Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42219",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:31'></a>
I remember, that I used the SConstruct.patch to regenerate the patched SConstruct from a current version. Maybe someone has just hacked the fix into the patched SConstruct and ignored the patch?

Michael



---

archive/issue_comments_042220.json:
```json
{
    "body": "<a id='comment:32'></a>\nHi!\n\nFirst of all,\nit is difficult to test the Sage-Wrapper using our tests, since Sage checks the variable names from time to time.\n\n\n```\n/Applications/sage/local/lib/python2.6/site-packages/polybori/gbcore.pyc in clean_polys(I)\n    156     return make_wrapper\n    157 def clean_polys(I):\n--> 158     zero=Polynomial(0)\n    159     I=list(set((Polynomial(p) for p in I if p!=zero)))\n    160     return I\n\n/Applications/sage/local/lib/python2.6/site-packages/sage/rings/polynomial/pbori.so in sage.rings.polynomial.pbori.PolynomialFactory.__call__ (sage/rings/polynomial/pbori.cpp:24232)()\n\n/Applications/sage/local/lib/python2.6/site-packages/sage/rings/polynomial/pbori.so in sage.rings.polynomial.pbori.get_cring (sage/rings/polynomial/pbori.cpp:36518)()\n\n/Applications/sage/local/lib/python2.6/site-packages/sage/rings/polynomial/pbori.so in sage.rings.polynomial.pbori.BooleanPolynomialRing_from_PBRing (sage/rings/polynomial/pbori.cpp:37213)()\n\n/Applications/sage/local/lib/python2.6/site-packages/sage/rings/polynomial/multi_polynomial_ring_generic.so in sage.rings.polynomial.multi_polynomial_ring_generic.MPolynomialRing_generic.__init__ (sage/rings/polynomial/multi_polynomial_ring_generic.c:1913)()\n\n/Applications/sage/local/lib/python2.6/site-packages/sage/structure/parent_gens.so in sage.structure.parent_gens.ParentWithGens.__init__ (sage/structure/parent_gens.c:2342)()\n\n/Applications/sage/local/lib/python2.6/site-packages/sage/structure/parent_gens.so in sage.structure.parent_gens.ParentWithGens._assign_names (sage/structure/parent_gens.c:2830)()\n\n/Applications/sage/local/lib/python2.6/site-packages/sage/structure/parent_gens.so in sage.structure.parent_gens.normalize_names (sage/structure/parent_gens.c:2068)()\n\n/Applications/sage/local/lib/python2.6/site-packages/sage/structure/parent_gens.so in sage.structure.parent_gens._certify_names (sage/structure/parent_gens.c:1601)()\n```\n\nFurthermore the ring wrapper has no method n_variables, which is equivalent to ngens.\n\nMichael",
    "created_at": "2009-08-18T08:35:07Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42220",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:32'></a>
Hi!

First of all,
it is difficult to test the Sage-Wrapper using our tests, since Sage checks the variable names from time to time.


```
/Applications/sage/local/lib/python2.6/site-packages/polybori/gbcore.pyc in clean_polys(I)
    156     return make_wrapper
    157 def clean_polys(I):
--> 158     zero=Polynomial(0)
    159     I=list(set((Polynomial(p) for p in I if p!=zero)))
    160     return I

/Applications/sage/local/lib/python2.6/site-packages/sage/rings/polynomial/pbori.so in sage.rings.polynomial.pbori.PolynomialFactory.__call__ (sage/rings/polynomial/pbori.cpp:24232)()

/Applications/sage/local/lib/python2.6/site-packages/sage/rings/polynomial/pbori.so in sage.rings.polynomial.pbori.get_cring (sage/rings/polynomial/pbori.cpp:36518)()

/Applications/sage/local/lib/python2.6/site-packages/sage/rings/polynomial/pbori.so in sage.rings.polynomial.pbori.BooleanPolynomialRing_from_PBRing (sage/rings/polynomial/pbori.cpp:37213)()

/Applications/sage/local/lib/python2.6/site-packages/sage/rings/polynomial/multi_polynomial_ring_generic.so in sage.rings.polynomial.multi_polynomial_ring_generic.MPolynomialRing_generic.__init__ (sage/rings/polynomial/multi_polynomial_ring_generic.c:1913)()

/Applications/sage/local/lib/python2.6/site-packages/sage/structure/parent_gens.so in sage.structure.parent_gens.ParentWithGens.__init__ (sage/structure/parent_gens.c:2342)()

/Applications/sage/local/lib/python2.6/site-packages/sage/structure/parent_gens.so in sage.structure.parent_gens.ParentWithGens._assign_names (sage/structure/parent_gens.c:2830)()

/Applications/sage/local/lib/python2.6/site-packages/sage/structure/parent_gens.so in sage.structure.parent_gens.normalize_names (sage/structure/parent_gens.c:2068)()

/Applications/sage/local/lib/python2.6/site-packages/sage/structure/parent_gens.so in sage.structure.parent_gens._certify_names (sage/structure/parent_gens.c:1601)()
```

Furthermore the ring wrapper has no method n_variables, which is equivalent to ngens.

Michael



---

archive/issue_comments_042221.json:
```json
{
    "body": "<a id='comment:33'></a>\nHi!\nThe following gives me a segfault:\n\n```\nfrom polybori import *\ndata=load_file(\"data/cook.py\")\n\nchange_ordering(block_dp_asc)\nappend_ring_block(25)\ngroebner_basis(data.ideal, prot=True, heuristic=False)\n```\n\n```\n------------------------------------------------------------\nUnhandled SIGBUS: A bus error occured in SAGE.\nThis probably occured because a *compiled* component\nof SAGE has a bug in it (typically accessing invalid memory)\nor is not properly wrapped with _sig_on, _sig_off.\nYou might want to run SAGE under gdb with 'sage -gdb' to debug this.\nSAGE will now terminate (sorry).\n------------------------------------------------------------\n\nsage.bin(2141) malloc: *** error for object 0x10ad1f000: incorrect checksum for freed object - object was probably modified after being freed.\n*** set a breakpoint in malloc_error_break to debug\nsage.bin(2141) malloc: *** error for object 0x10ad52000: incorrect checksum for freed object - object was probably modified after being freed.\n*** set a breakpoint in malloc_error_break to debug\nsage.bin(2141) malloc: *** error for object 0x10ad53800: incorrect checksum for freed object - object was probably modified after being freed.\n*** set a breakpoint in malloc_error_break to debug\n```\n\nUsed it on Mac OS X 10.5 64BIT.\n\nI attach the example file",
    "created_at": "2009-08-18T09:51:57Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42221",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:33'></a>
Hi!
The following gives me a segfault:

```
from polybori import *
data=load_file("data/cook.py")

change_ordering(block_dp_asc)
append_ring_block(25)
groebner_basis(data.ideal, prot=True, heuristic=False)
```

```
------------------------------------------------------------
Unhandled SIGBUS: A bus error occured in SAGE.
This probably occured because a *compiled* component
of SAGE has a bug in it (typically accessing invalid memory)
or is not properly wrapped with _sig_on, _sig_off.
You might want to run SAGE under gdb with 'sage -gdb' to debug this.
SAGE will now terminate (sorry).
------------------------------------------------------------

sage.bin(2141) malloc: *** error for object 0x10ad1f000: incorrect checksum for freed object - object was probably modified after being freed.
*** set a breakpoint in malloc_error_break to debug
sage.bin(2141) malloc: *** error for object 0x10ad52000: incorrect checksum for freed object - object was probably modified after being freed.
*** set a breakpoint in malloc_error_break to debug
sage.bin(2141) malloc: *** error for object 0x10ad53800: incorrect checksum for freed object - object was probably modified after being freed.
*** set a breakpoint in malloc_error_break to debug
```

Used it on Mac OS X 10.5 64BIT.

I attach the example file



---

archive/issue_comments_042222.json:
```json
{
    "body": "example for segfault",
    "created_at": "2009-08-18T09:52:54Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42222",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

example for segfault



---

archive/attachments_007538.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "cook.py",
    "asset_url": "tarball://root/attachments/ticket6177/cook.py",
    "created_at": "2009-08-18T11:15:27Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/cook.py",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_042223.json:
```json
{
    "body": "**Attachment:** [cook.py](https://github.com/sagemath/sage/files/ticket6177/cook.py)\n\nadds n_variables and fixes segfault",
    "created_at": "2009-08-18T11:15:27Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42223",
    "user": "https://github.com/malb"
}
```

**Attachment:** [cook.py](https://github.com/sagemath/sage/files/ticket6177/cook.py)

adds n_variables and fixes segfault



---

archive/issue_events_040048.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2009-08-18T11:17:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40048"
}
```



---

archive/issue_events_040049.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2009-08-18T11:17:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40049"
}
```



---

archive/attachments_007539.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "polybori-0-6-3.6.patch",
    "asset_url": "tarball://root/attachments/ticket6177/polybori-0-6-3.6.patch",
    "created_at": "2009-08-18T11:17:11Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.6.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_042224.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Attachment:** [polybori-0-6-3.6.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.6.patch)\n\nThe newest version of the patch fixes the segfault and adds `n_variables`. Note that both Michael and myself are using this patch for more than two weeks now in our research (see above for issues discovered and fixed this way), so it should be (almost) good to go. It mainly needs a review from the Sage side.",
    "created_at": "2009-08-18T11:17:11Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42224",
    "user": "https://github.com/malb"
}
```

<a id='comment:34'></a>
**Attachment:** [polybori-0-6-3.6.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.6.patch)

The newest version of the patch fixes the segfault and adds `n_variables`. Note that both Michael and myself are using this patch for more than two weeks now in our research (see above for issues discovered and fixed this way), so it should be (almost) good to go. It mainly needs a review from the Sage side.



---

archive/issue_comments_042225.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [@malb](#comment%3A34):\n> The newest version of the patch fixes the segfault and adds `n_variables`. Note that both Michael and myself are using this patch for more than two weeks now in our research (see above for issues discovered and fixed this way), so it should be (almost) good to go. It mainly needs a review from the Sage side.\n\nThis is also my point of view.\nThanks for the update.\nMichael",
    "created_at": "2009-08-18T11:53:27Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42225",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:35'></a>
Replying to [@malb](#comment%3A34):
> The newest version of the patch fixes the segfault and adds `n_variables`. Note that both Michael and myself are using this patch for more than two weeks now in our research (see above for issues discovered and fixed this way), so it should be (almost) good to go. It mainly needs a review from the Sage side.

This is also my point of view.
Thanks for the update.
Michael



---

archive/issue_comments_042226.json:
```json
{
    "body": "<a id='comment:36'></a>\nI have found another subtle bug.\nThis is due to, that we are in the quite slow progress to make PolyBoRi more Pythonic:\nSince Python is dynamically typed,\nlen should be the same on polynomials and monomials, so it's the constant 1-function for us now.\n\n```python\nP=BooleanPolynomialRing(3,\"x\")\nsage: m=P.gen(1)*P.gen(2)\nsage: m.lead()\nx1*x2\nsage: len(m.lead())\n2\nsage: \nExiting SAGE (CPU time 0m0.13s, Wall time 0m20.23s).\n```\n\n```python\nginkgo:downloads michael$ ipbori\n\nIn [1]: p=x(1)*x(2)\n\nIn [2]: p.__class__\nOut[2]: <class 'polybori.dynamic.PyPolyBoRi.Monomial'>\n\nIn [3]: len(p)\nOut[3]: 1\n```\n\nFixing that will break the anf2cnf converter here:\n\n```python\n isinstance(m, BooleanPolynomial):\n            if len(m) == 1:\n                m = m.lm()\n            else:\n                raise TypeError, \"Input must be monomial.\"\n\n        if m == 1:\n            monomial = self._cnf_literal()\n            return (monomial,), ((monomial,),) # adding the clause that 1\n                                            # has to be True\n```\n\nJust use .deg instead of len there",
    "created_at": "2009-08-18T12:33:34Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42226",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:36'></a>
I have found another subtle bug.
This is due to, that we are in the quite slow progress to make PolyBoRi more Pythonic:
Since Python is dynamically typed,
len should be the same on polynomials and monomials, so it's the constant 1-function for us now.

```python
P=BooleanPolynomialRing(3,"x")
sage: m=P.gen(1)*P.gen(2)
sage: m.lead()
x1*x2
sage: len(m.lead())
2
sage: 
Exiting SAGE (CPU time 0m0.13s, Wall time 0m20.23s).
```

```python
ginkgo:downloads michael$ ipbori

In [1]: p=x(1)*x(2)

In [2]: p.__class__
Out[2]: <class 'polybori.dynamic.PyPolyBoRi.Monomial'>

In [3]: len(p)
Out[3]: 1
```

Fixing that will break the anf2cnf converter here:

```python
 isinstance(m, BooleanPolynomial):
            if len(m) == 1:
                m = m.lm()
            else:
                raise TypeError, "Input must be monomial."

        if m == 1:
            monomial = self._cnf_literal()
            return (monomial,), ((monomial,),) # adding the clause that 1
                                            # has to be True
```

Just use .deg instead of len there



---

archive/issue_comments_042227.json:
```json
{
    "body": "changes len(m) to be constant 1 if m is a monomial",
    "created_at": "2009-08-18T13:15:48Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42227",
    "user": "https://github.com/malb"
}
```

changes len(m) to be constant 1 if m is a monomial



---

archive/attachments_007540.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "polybori-0-6-3.7.patch",
    "asset_url": "tarball://root/attachments/ticket6177/polybori-0-6-3.7.patch",
    "created_at": "2009-08-18T13:16:54Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.7.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_042228.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Attachment:** [polybori-0-6-3.7.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.7.patch)\n\nThe attached patch fixes the issue (`len(m) == 1` if `m` is a monomial). I don't see how it breaks anf2cnf but I'll check now (this is orthogonal to accepting this patch anyway)",
    "created_at": "2009-08-18T13:16:54Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42228",
    "user": "https://github.com/malb"
}
```

<a id='comment:37'></a>
**Attachment:** [polybori-0-6-3.7.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0-6-3.7.patch)

The attached patch fixes the issue (`len(m) == 1` if `m` is a monomial). I don't see how it breaks anf2cnf but I'll check now (this is orthogonal to accepting this patch anyway)



---

archive/issue_comments_042229.json:
```json
{
    "body": "<a id='comment:38'></a>\nAlright, I saw and fixed it on bitbucket (th anf2ncf issue)",
    "created_at": "2009-08-18T13:27:28Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42229",
    "user": "https://github.com/malb"
}
```

<a id='comment:38'></a>
Alright, I saw and fixed it on bitbucket (th anf2ncf issue)



---

archive/issue_comments_042230.json:
```json
{
    "body": "<a id='comment:39'></a>\nHi!\n\nIn a similar way as the polynomial constructor, Variable is really slow:\n\n```\ntimeit(\"Variable(0)\")\n25 loops, best of 3: 8.68 ms per loop\n```\n\nThis is no release blocker,\n\nbut the following is a bug:\n\n```python\n BooleSet([Monomial()])\nOut[1]: {}\n```\ncorrect would be\n\n```\nIn [1]: BooleSet([Monomial()])\nOut[1]: {{}}\n```\n\nThis is implemented in PyPolyBoRi.py",
    "created_at": "2009-08-19T12:42:59Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42230",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:39'></a>
Hi!

In a similar way as the polynomial constructor, Variable is really slow:

```
timeit("Variable(0)")
25 loops, best of 3: 8.68 ms per loop
```

This is no release blocker,

but the following is a bug:

```python
 BooleSet([Monomial()])
Out[1]: {}
```
correct would be

```
In [1]: BooleSet([Monomial()])
Out[1]: {{}}
```

This is implemented in PyPolyBoRi.py



---

archive/attachments_007541.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "polybori-0.6.3.patch",
    "asset_url": "tarball://root/attachments/ticket6177/polybori-0.6.3.patch",
    "created_at": "2009-08-20T13:45:47Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/polybori-0.6.3.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_042231.json:
```json
{
    "body": "**Attachment:** [polybori-0.6.3.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0.6.3.patch)\n\nrebased and bugfix",
    "created_at": "2009-08-20T13:45:47Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42231",
    "user": "https://github.com/malb"
}
```

**Attachment:** [polybori-0.6.3.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0.6.3.patch)

rebased and bugfix



---

archive/issue_comments_042232.json:
```json
{
    "body": "<a id='comment:40'></a>\nThe new SPKG \n\n  http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.3-20090820.spkg\n\nand the new patch `polybori-0.6.3.patch` improve the performance and fix the bug described above. However, I couldn't make `Variable(0)` faster because the main bottleneck for some reason is `BooleEnv::ring()` which we call to get the current ring. The code\n\n```c\n  BoolePolyRing __pyx_v__pbring;\n  //... some more other Cython stuff\n  __pyx_v__pbring = BooleEnv::ring();\n```\n\nseems to be the bottleneck. Any ideas?",
    "created_at": "2009-08-20T13:49:37Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42232",
    "user": "https://github.com/malb"
}
```

<a id='comment:40'></a>
The new SPKG 

  http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.3-20090820.spkg

and the new patch `polybori-0.6.3.patch` improve the performance and fix the bug described above. However, I couldn't make `Variable(0)` faster because the main bottleneck for some reason is `BooleEnv::ring()` which we call to get the current ring. The code

```c
  BoolePolyRing __pyx_v__pbring;
  //... some more other Cython stuff
  __pyx_v__pbring = BooleEnv::ring();
```

seems to be the bottleneck. Any ideas?



---

archive/issue_comments_042233.json:
```json
{
    "body": "<a id='comment:41'></a>\nHi!\nIt's damn hot here.\nAt the moment, I don't know any more, why you shouldn't just use the\nconstructor Variable(i).\nIs it, as you have to attach the parent?\nUnluckily, we use use Variable(i) in a lot of places from python.\nOf course, it would be cleaner to do something like ring.gen(i).\nMichael",
    "created_at": "2009-08-20T14:02:46Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42233",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:41'></a>
Hi!
It's damn hot here.
At the moment, I don't know any more, why you shouldn't just use the
constructor Variable(i).
Is it, as you have to attach the parent?
Unluckily, we use use Variable(i) in a lot of places from python.
Of course, it would be cleaner to do something like ring.gen(i).
Michael



---

archive/issue_comments_042234.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [PolyBoRi](#comment%3A41):\n> Is it, as you have to attach the parent?\n\nYep, it is still somewhat strange that the code above is so slow.",
    "created_at": "2009-08-20T14:04:24Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42234",
    "user": "https://github.com/malb"
}
```

<a id='comment:42'></a>
Replying to [PolyBoRi](#comment%3A41):
> Is it, as you have to attach the parent?

Yep, it is still somewhat strange that the code above is so slow.



---

archive/issue_comments_042235.json:
```json
{
    "body": "<a id='comment:43'></a>\nI think, we should wait for Alexander having a look on it, who might have an idea,\nwhat happens.\nMichael",
    "created_at": "2009-08-20T14:06:06Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42235",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:43'></a>
I think, we should wait for Alexander having a look on it, who might have an idea,
what happens.
Michael



---

archive/issue_comments_042236.json:
```json
{
    "body": "<a id='comment:44'></a>\nBy the way, there happen at least two things:\nthe call BooleEnv::ring and\n\n```C\nstatic ring_type& ring(){\n      return active_ring;\n  }\n```\nthe assigment operator.",
    "created_at": "2009-08-20T14:07:37Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42236",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:44'></a>
By the way, there happen at least two things:
the call BooleEnv::ring and

```C
static ring_type& ring(){
      return active_ring;
  }
```
the assigment operator.



---

archive/issue_comments_042237.json:
```json
{
    "body": "<a id='comment:45'></a>\nIt must be the assignment operator (or the dummy constructor) then.",
    "created_at": "2009-08-20T14:09:23Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42237",
    "user": "https://github.com/malb"
}
```

<a id='comment:45'></a>
It must be the assignment operator (or the dummy constructor) then.



---

archive/issue_comments_042238.json:
```json
{
    "body": "<a id='comment:46'></a>\nThanks, a lot, you did it.\nI didn't remember this Cython thingy.\nIt is the dummy constructor. The assignment doesn't do anything.\nIt is isn't defined. So it is the standard c++ behaviour.\nHowever the dummy constructors of the ring should construct a CuddManager, which means something like allocating a memory pool.\nMichael",
    "created_at": "2009-08-20T14:13:04Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42238",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:46'></a>
Thanks, a lot, you did it.
I didn't remember this Cython thingy.
It is the dummy constructor. The assignment doesn't do anything.
It is isn't defined. So it is the standard c++ behaviour.
However the dummy constructors of the ring should construct a CuddManager, which means something like allocating a memory pool.
Michael



---

archive/issue_comments_042239.json:
```json
{
    "body": "faster Variable(i)",
    "created_at": "2009-08-20T14:42:43Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42239",
    "user": "https://github.com/malb"
}
```

faster Variable(i)



---

archive/attachments_007542.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "polybori-0.6.3.2.patch",
    "asset_url": "tarball://root/attachments/ticket6177/polybori-0.6.3.2.patch",
    "created_at": "2009-08-20T14:43:51Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/polybori-0.6.3.2.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_042240.json:
```json
{
    "body": "<a id='comment:47'></a>\n**Attachment:** [polybori-0.6.3.2.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0.6.3.2.patch)\n\nThe attached patch fixes the bottleneck by avoiding the dummy constructor. Note, that we still need to take care of that Solaris issue Dave reported where scons would pick up the Sun compiler instead of gcc.",
    "created_at": "2009-08-20T14:43:51Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42240",
    "user": "https://github.com/malb"
}
```

<a id='comment:47'></a>
**Attachment:** [polybori-0.6.3.2.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0.6.3.2.patch)

The attached patch fixes the bottleneck by avoiding the dummy constructor. Note, that we still need to take care of that Solaris issue Dave reported where scons would pick up the Sun compiler instead of gcc.



---

archive/attachments_007543.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "custom.py",
    "asset_url": "tarball://root/attachments/ticket6177/custom.py",
    "created_at": "2009-08-21T07:06:45Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/custom.py",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```



---

archive/issue_comments_042241.json:
```json
{
    "body": "**Attachment:** [custom.py](https://github.com/sagemath/sage/files/ticket6177/custom.py)\n\nSolaris fix for patches/custom.py",
    "created_at": "2009-08-21T07:06:45Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42241",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

**Attachment:** [custom.py](https://github.com/sagemath/sage/files/ticket6177/custom.py)

Solaris fix for patches/custom.py



---

archive/issue_comments_042242.json:
```json
{
    "body": "<a id='comment:48'></a>\nI added some lines to custom.py, s.th. C and C++ compiler are picked from the Sage environment (if any). This fixes the Solaris issue.\n\nRegards,\n  Alexander",
    "created_at": "2009-08-21T07:10:04Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42242",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:48'></a>
I added some lines to custom.py, s.th. C and C++ compiler are picked from the Sage environment (if any). This fixes the Solaris issue.

Regards,
  Alexander



---

archive/issue_comments_042243.json:
```json
{
    "body": "<a id='comment:49'></a>\nI have added this fix to the newest SPKG available at:\n\n  http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.3-20090825.spkg",
    "created_at": "2009-08-25T10:13:27Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42243",
    "user": "https://github.com/malb"
}
```

<a id='comment:49'></a>
I have added this fix to the newest SPKG available at:

  http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.3-20090825.spkg



---

archive/issue_events_040050.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2009-08-27T02:20:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40050"
}
```



---

archive/issue_events_040051.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2009-08-27T02:20:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40051"
}
```



---

archive/issue_comments_042244.json:
```json
{
    "body": "<a id='comment:50'></a>\nThere seems to be a pickling problem, try the following on sage.math:\n\n```\nsage -t -long devel/sage/sage/structure/sage_object.pyx\n```",
    "created_at": "2009-08-27T02:20:34Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42244",
    "user": "https://github.com/aghitza"
}
```

<a id='comment:50'></a>
There seems to be a pickling problem, try the following on sage.math:

```
sage -t -long devel/sage/sage/structure/sage_object.pyx
```



---

archive/issue_comments_042245.json:
```json
{
    "body": "<a id='comment:51'></a>\nI've found another Solaris issue. I tried a build of Sage from scratch on my Solaris machine, which has Sun Studio 12 update 1 in /opt/sunstudio12.1\n\nYou will note below that SCons can't write to the file sage-4.1.1/local/share/polybori/flags.conf, as it does not exist. \n\nIt strikes me the build process of this leaves a bit to be desired. Note in the following line, -fPIC is twice used as a flag (... -g -fPIC -fPIC -DNDEBUG), and the 'gd' library is linked no less than four times in the line following that (...-Lgroebner -LCudd -lm -lgd -lgd -lgd -lgd). Looking at install.log I see numerous instances of this. \n\nAnother thing that I believe would be helpful is if there was a space between the '-h' flag and the library name, which appears below as  \"-Wl,-hlibpboriCudd-0.6.3.so.0\". Although the Sun linker will accept that, I think having \"-Wl,-h libpboriCudd-0.6.3.so.0\" would be a bit neater. But all these are minor points compared to the fact polybori fails as it can't write to a file which does not exist. \n\n\n```\n\ngcc -o M4RI/brilliantrussian.pic.o -c -std=c99 -O3 -Wno-long-long -Wreturn-type -g -fPIC -fPIC -DNDEBUG -DHAVE_GD -DHAVE_TR1_UNORDERED_MAP -DPACKED -DHAVE_M4RI -DHAVE_GD -DHAVE_IEEE_754 -DBSD -I/export/home/drkirkby/sage/tmp/sage-4.1.1/spkg/build/polybori-0.6.3-20090825/src/boost_1_34_1.cropped -I/export/home/drkirkby/sage/tmp/sage-4.1.1/local/include -I/export/home/drkirkby/sage/tmp/sage-4.1.1/local/include/python2.6 -Ipolybori/include -IM4RI -ICudd/obj -ICudd/util -ICudd/cudd -ICudd/mtr -ICudd/st -ICudd/epd M4RI/brilliantrussian.c\ng++ -o groebner/libgroebner-0.6.3.so.0.0.0 -G -Wl,-hlibgroebner-0.6.3.so.0 Cudd/obj/cuddObj.pic.o Cudd/util/cpu_time.pic.o Cudd/util/state.pic.o Cudd/util/datalimit.pic.o Cudd/util/texpand.pic.o Cudd/util/pipefork.pic.o Cudd/util/strsav.pic.o Cudd/util/ptime.pic.o Cudd/util/tmpfile.pic.o Cudd/util/stub.pic.o Cudd/util/cpu_stats.pic.o Cudd/util/safe_mem.pic.o Cudd/util/getopt.pic.o Cudd/util/prtime.pic.o Cudd/util/pathsearch.pic.o Cudd/cudd/cuddApprox.pic.o Cudd/cudd/cuddRead.pic.o Cudd/cudd/cuddLevelQ.pic.o Cudd/cudd/cuddCof.pic.o Cudd/cudd/cuddGenetic.pic.o Cudd/cudd/cuddZddPort.pic.o Cudd/cudd/cuddMatMult.pic.o Cudd/cudd/cuddZddIsop.pic.o Cudd/cudd/cuddAPI.pic.o Cudd/cudd/cuddZddGroup.pic.o Cudd/cudd/cuddZddSymm.pic.o Cudd/cudd/cuddRef.pic.o Cudd/cudd/cuddZddMisc.pic.o Cudd/cudd/cuddDecomp.pic.o Cudd/cudd/cuddZddUtil.pic.o Cudd/cudd/cuddLiteral.pic.o Cudd/cudd/cuddAddNeg.pic.o Cudd/cudd/cuddPriority.pic.o Cudd/cudd/cuddAnneal.pic.o Cudd/cudd/cuddInit.pic.o Cudd/cudd/cuddZddSetop.pic.o Cudd/cudd/cuddReorder.pic.o Cudd/cudd/cuddSolve.pic.o Cudd/cudd/cuddBddCorr.pic.o Cudd/cudd/cuddAddFind.pic.o Cudd/cudd/cuddAddInv.pic.o Cudd/cudd/cuddWindow.pic.o Cudd/cudd/cuddAddIte.pic.o Cudd/cudd/cuddAddAbs.pic.o Cudd/cudd/cuddZddReord.pic.o Cudd/cudd/cuddBddAbs.pic.o Cudd/cudd/cuddBddIte.pic.o Cudd/cudd/cuddLinear.pic.o Cudd/cudd/cuddSign.pic.o Cudd/cudd/cuddCheck.pic.o Cudd/cudd/cuddZddCount.pic.o Cudd/cudd/cuddZddFuncs.pic.o Cudd/cudd/cuddEssent.pic.o Cudd/cudd/cuddGroup.pic.o Cudd/cudd/cuddSplit.pic.o Cudd/cudd/cuddSat.pic.o Cudd/cudd/cuddAddApply.pic.o Cudd/cudd/cuddLCache.pic.o Cudd/cudd/cuddCache.pic.o Cudd/cudd/cuddAndAbs.pic.o Cudd/cudd/cuddHarwell.pic.o Cudd/cudd/cuddBridge.pic.o Cudd/cudd/cuddUtil.pic.o Cudd/cudd/cuddExport.pic.o Cudd/cudd/cuddSubsetHB.pic.o Cudd/cudd/cuddAddWalsh.pic.o Cudd/cudd/cuddSymmetry.pic.o Cudd/cudd/cuddTable.pic.o Cudd/cudd/cuddApa.pic.o Cudd/cudd/cuddCompose.pic.o Cudd/cudd/cuddZddLin.pic.o Cudd/cudd/cuddExact.pic.o Cudd/cudd/cuddSubsetSP.pic.o Cudd/cudd/cuddGenCof.pic.o Cudd/cudd/cuddClip.pic.o Cudd/cudd/cuddInteract.pic.o Cudd/mtr/mtrBasic.pic.o Cudd/mtr/mtrGroup.pic.o Cudd/st/st.pic.o Cudd/epd/epd.pic.o polybori/src/BoolePolyRing.pic.o polybori/src/BooleEnv.pic.o polybori/src/BoolePolynomial.pic.o polybori/src/BooleVariable.pic.o polybori/src/CErrorInfo.pic.o polybori/src/PBoRiError.pic.o polybori/src/CCuddFirstIter.pic.o polybori/src/CCuddNavigator.pic.o polybori/src/BooleMonomial.pic.o polybori/src/BooleSet.pic.o polybori/src/LexOrder.pic.o polybori/src/CCuddLastIter.pic.o polybori/src/CCuddGetNode.pic.o polybori/src/BooleExponent.pic.o polybori/src/DegLexOrder.pic.o polybori/src/DegRevLexAscOrder.pic.o polybori/src/pbori_routines.pic.o polybori/src/BlockDegLexOrder.pic.o polybori/src/BlockDegRevLexAscOrder.pic.o groebner/src/groebner.pic.o groebner/src/literal_factorization.pic.o groebner/src/randomset.pic.o groebner/src/pairs.pic.o groebner/src/groebner_alg.pic.o groebner/src/fglm.pic.o groebner/src/polynomial_properties.pic.o groebner/src/lexbuckets.pic.o groebner/src/dlex4data.pic.o groebner/src/dp_asc4data.pic.o groebner/src/lp4data.pic.o groebner/src/nf.pic.o groebner/src/interpolate.pic.o M4RI/grayflex.pic.o M4RI/permutation.pic.o M4RI/packedmatrix.pic.o M4RI/strassen.pic.o M4RI/misc.pic.o M4RI/brilliantrussian.pic.o -L/export/home/drkirkby/sage/tmp/sage-4.1.1/local/lib -L/export/home/drkirkby/sage/tmp/sage-4.1.1/local/lib/python2.6/config -Lpolybori -Lgroebner -LCudd -lm -lgd -lgd -lgd -lgd\ng++ -o Cudd/libpboriCudd-0.6.3.so.0.0.0 -G -Wl,-hlibpboriCudd-0.6.3.so.0 Cudd/obj/cuddObj.pic.o Cudd/util/cpu_time.pic.o Cudd/util/state.pic.o Cudd/util/datalimit.pic.o Cudd/util/texpand.pic.o Cudd/util/pipefork.pic.o Cudd/util/strsav.pic.o Cudd/util/ptime.pic.o Cudd/util/tmpfile.pic.o Cudd/util/stub.pic.o Cudd/util/cpu_stats.pic.o Cudd/util/safe_mem.pic.o Cudd/util/getopt.pic.o Cudd/util/prtime.pic.o Cudd/util/pathsearch.pic.o Cudd/cudd/cuddApprox.pic.o Cudd/cudd/cuddRead.pic.o Cudd/cudd/cuddLevelQ.pic.o Cudd/cudd/cuddCof.pic.o Cudd/cudd/cuddGenetic.pic.o Cudd/cudd/cuddZddPort.pic.o Cudd/cudd/cuddMatMult.pic.o Cudd/cudd/cuddZddIsop.pic.o Cudd/cudd/cuddAPI.pic.o Cudd/cudd/cuddZddGroup.pic.o Cudd/cudd/cuddZddSymm.pic.o Cudd/cudd/cuddRef.pic.o Cudd/cudd/cuddZddMisc.pic.o Cudd/cudd/cuddDecomp.pic.o Cudd/cudd/cuddZddUtil.pic.o Cudd/cudd/cuddLiteral.pic.o Cudd/cudd/cuddAddNeg.pic.o Cudd/cudd/cuddPriority.pic.o Cudd/cudd/cuddAnneal.pic.o Cudd/cudd/cuddInit.pic.o Cudd/cudd/cuddZddSetop.pic.o Cudd/cudd/cuddReorder.pic.o Cudd/cudd/cuddSolve.pic.o Cudd/cudd/cuddBddCorr.pic.o Cudd/cudd/cuddAddFind.pic.o Cudd/cudd/cuddAddInv.pic.o Cudd/cudd/cuddWindow.pic.o Cudd/cudd/cuddAddIte.pic.o Cudd/cudd/cuddAddAbs.pic.o Cudd/cudd/cuddZddReord.pic.o Cudd/cudd/cuddBddAbs.pic.o Cudd/cudd/cuddBddIte.pic.o Cudd/cudd/cuddLinear.pic.o Cudd/cudd/cuddSign.pic.o Cudd/cudd/cuddCheck.pic.o Cudd/cudd/cuddZddCount.pic.o Cudd/cudd/cuddZddFuncs.pic.o Cudd/cudd/cuddEssent.pic.o Cudd/cudd/cuddGroup.pic.o Cudd/cudd/cuddSplit.pic.o Cudd/cudd/cuddSat.pic.o Cudd/cudd/cuddAddApply.pic.o Cudd/cudd/cuddLCache.pic.o Cudd/cudd/cuddCache.pic.o Cudd/cudd/cuddAndAbs.pic.o Cudd/cudd/cuddHarwell.pic.o Cudd/cudd/cuddBridge.pic.o Cudd/cudd/cuddUtil.pic.o Cudd/cudd/cuddExport.pic.o Cudd/cudd/cuddSubsetHB.pic.o Cudd/cudd/cuddAddWalsh.pic.o Cudd/cudd/cuddSymmetry.pic.o Cudd/cudd/cuddTable.pic.o Cudd/cudd/cuddApa.pic.o Cudd/cudd/cuddCompose.pic.o Cudd/cudd/cuddZddLin.pic.o Cudd/cudd/cuddExact.pic.o Cudd/cudd/cuddSubsetSP.pic.o Cudd/cudd/cuddGenCof.pic.o Cudd/cudd/cuddClip.pic.o Cudd/cudd/cuddInteract.pic.o Cudd/mtr/mtrBasic.pic.o Cudd/mtr/mtrGroup.pic.o Cudd/st/st.pic.o Cudd/epd/epd.pic.o -L/export/home/drkirkby/sage/tmp/sage-4.1.1/local/lib -L/export/home/drkirkby/sage/tmp/sage-4.1.1/local/lib/python2.6/config -Lpolybori -Lgroebner -LCudd -lm -lgd -lgd -lgd -lgd\nbuild_symlink([\"polybori/libpolybori-0.6.3.so.0\"], [\"polybori/libpolybori-0.6.3.so.0.0.0\"])\nSymlinking from libpolybori-0.6.3.so.0.0.0 to polybori/libpolybori-0.6.3.so.0\nbuild_symlink([\"polybori/libpolybori-0.6.3.so\"], [\"polybori/libpolybori-0.6.3.so.0\"])\nSymlinking from libpolybori-0.6.3.so.0 to polybori/libpolybori-0.6.3.so\nbuild_symlink([\"polybori/libpolybori.so\"], [\"polybori/libpolybori-0.6.3.so\"])\nSymlinking from libpolybori-0.6.3.so to polybori/libpolybori.so\nbuild_symlink([\"groebner/libgroebner-0.6.3.so.0\"], [\"groebner/libgroebner-0.6.3.so.0.0.0\"])\nSymlinking from libgroebner-0.6.3.so.0.0.0 to groebner/libgroebner-0.6.3.so.0\nbuild_symlink([\"groebner/libgroebner-0.6.3.so\"], [\"groebner/libgroebner-0.6.3.so.0\"])\nSymlinking from libgroebner-0.6.3.so.0 to groebner/libgroebner-0.6.3.so\nbuild_symlink([\"groebner/libgroebner.so\"], [\"groebner/libgroebner-0.6.3.so\"])\nSymlinking from libgroebner-0.6.3.so to groebner/libgroebner.so\nbuild_symlink([\"Cudd/libpboriCudd-0.6.3.so.0\"], [\"Cudd/libpboriCudd-0.6.3.so.0.0.0\"])\nSymlinking from libpboriCudd-0.6.3.so.0.0.0 to Cudd/libpboriCudd-0.6.3.so.0\nbuild_symlink([\"Cudd/libpboriCudd-0.6.3.so\"], [\"Cudd/libpboriCudd-0.6.3.so.0\"])\nSymlinking from libpboriCudd-0.6.3.so.0 to Cudd/libpboriCudd-0.6.3.so\nbuild_symlink([\"Cudd/libpboriCudd.so\"], [\"Cudd/libpboriCudd-0.6.3.so\"])\nSymlinking from libpboriCudd-0.6.3.so to Cudd/libpboriCudd.so\nscons: done building targets.\nDone build_polybori.\nInstalling PolyBoRi...\nscons: Reading SConscript files ...\nSun linker detected.\nChecking for C header file gd.h... (cached) yes\nChecking for C library gd... (cached) yes\nChecking for C++ header file unordered_map... (cached) no\nChecking for C++ header file tr1/unordered_map... (cached) yes\nWarning: No LaTeX to html converter found, Tutorial will not be installed\nChecking for C library m4ri... (cached) no\nChecking for C header file gd.h... (cached) yes\nChecking for C library gd... (cached) yes\nno python extension\nsetting umask to 022 (was 022)\n\nscons: *** Error writing options to file: /export/home/drkirkby/sage/tmp/sage-4.1.1/local/share/polybori/flags.conf\n[Errno 2] No such file or directory: '/export/home/drkirkby/sage/tmp/sage-4.1.1/local/share/polybori/flags.conf'\nFile \"/export/home/drkirkby/sage/tmp/sage-4.1.1/spkg/build/polybori-0.6.3-20090825/src/polybori-0.6/SConstruct\", line 1281, in <module>\nError installing PolyBoRi.\n\nreal    18m9.386s\nuser    16m29.417s\nsys     1m23.875s\nsage: An error occurred while installing polybori-0.6.3-20090825\n\n```",
    "created_at": "2009-08-27T06:08:02Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42245",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:51'></a>
I've found another Solaris issue. I tried a build of Sage from scratch on my Solaris machine, which has Sun Studio 12 update 1 in /opt/sunstudio12.1

You will note below that SCons can't write to the file sage-4.1.1/local/share/polybori/flags.conf, as it does not exist. 

It strikes me the build process of this leaves a bit to be desired. Note in the following line, -fPIC is twice used as a flag (... -g -fPIC -fPIC -DNDEBUG), and the 'gd' library is linked no less than four times in the line following that (...-Lgroebner -LCudd -lm -lgd -lgd -lgd -lgd). Looking at install.log I see numerous instances of this. 

Another thing that I believe would be helpful is if there was a space between the '-h' flag and the library name, which appears below as  "-Wl,-hlibpboriCudd-0.6.3.so.0". Although the Sun linker will accept that, I think having "-Wl,-h libpboriCudd-0.6.3.so.0" would be a bit neater. But all these are minor points compared to the fact polybori fails as it can't write to a file which does not exist. 


```

gcc -o M4RI/brilliantrussian.pic.o -c -std=c99 -O3 -Wno-long-long -Wreturn-type -g -fPIC -fPIC -DNDEBUG -DHAVE_GD -DHAVE_TR1_UNORDERED_MAP -DPACKED -DHAVE_M4RI -DHAVE_GD -DHAVE_IEEE_754 -DBSD -I/export/home/drkirkby/sage/tmp/sage-4.1.1/spkg/build/polybori-0.6.3-20090825/src/boost_1_34_1.cropped -I/export/home/drkirkby/sage/tmp/sage-4.1.1/local/include -I/export/home/drkirkby/sage/tmp/sage-4.1.1/local/include/python2.6 -Ipolybori/include -IM4RI -ICudd/obj -ICudd/util -ICudd/cudd -ICudd/mtr -ICudd/st -ICudd/epd M4RI/brilliantrussian.c
g++ -o groebner/libgroebner-0.6.3.so.0.0.0 -G -Wl,-hlibgroebner-0.6.3.so.0 Cudd/obj/cuddObj.pic.o Cudd/util/cpu_time.pic.o Cudd/util/state.pic.o Cudd/util/datalimit.pic.o Cudd/util/texpand.pic.o Cudd/util/pipefork.pic.o Cudd/util/strsav.pic.o Cudd/util/ptime.pic.o Cudd/util/tmpfile.pic.o Cudd/util/stub.pic.o Cudd/util/cpu_stats.pic.o Cudd/util/safe_mem.pic.o Cudd/util/getopt.pic.o Cudd/util/prtime.pic.o Cudd/util/pathsearch.pic.o Cudd/cudd/cuddApprox.pic.o Cudd/cudd/cuddRead.pic.o Cudd/cudd/cuddLevelQ.pic.o Cudd/cudd/cuddCof.pic.o Cudd/cudd/cuddGenetic.pic.o Cudd/cudd/cuddZddPort.pic.o Cudd/cudd/cuddMatMult.pic.o Cudd/cudd/cuddZddIsop.pic.o Cudd/cudd/cuddAPI.pic.o Cudd/cudd/cuddZddGroup.pic.o Cudd/cudd/cuddZddSymm.pic.o Cudd/cudd/cuddRef.pic.o Cudd/cudd/cuddZddMisc.pic.o Cudd/cudd/cuddDecomp.pic.o Cudd/cudd/cuddZddUtil.pic.o Cudd/cudd/cuddLiteral.pic.o Cudd/cudd/cuddAddNeg.pic.o Cudd/cudd/cuddPriority.pic.o Cudd/cudd/cuddAnneal.pic.o Cudd/cudd/cuddInit.pic.o Cudd/cudd/cuddZddSetop.pic.o Cudd/cudd/cuddReorder.pic.o Cudd/cudd/cuddSolve.pic.o Cudd/cudd/cuddBddCorr.pic.o Cudd/cudd/cuddAddFind.pic.o Cudd/cudd/cuddAddInv.pic.o Cudd/cudd/cuddWindow.pic.o Cudd/cudd/cuddAddIte.pic.o Cudd/cudd/cuddAddAbs.pic.o Cudd/cudd/cuddZddReord.pic.o Cudd/cudd/cuddBddAbs.pic.o Cudd/cudd/cuddBddIte.pic.o Cudd/cudd/cuddLinear.pic.o Cudd/cudd/cuddSign.pic.o Cudd/cudd/cuddCheck.pic.o Cudd/cudd/cuddZddCount.pic.o Cudd/cudd/cuddZddFuncs.pic.o Cudd/cudd/cuddEssent.pic.o Cudd/cudd/cuddGroup.pic.o Cudd/cudd/cuddSplit.pic.o Cudd/cudd/cuddSat.pic.o Cudd/cudd/cuddAddApply.pic.o Cudd/cudd/cuddLCache.pic.o Cudd/cudd/cuddCache.pic.o Cudd/cudd/cuddAndAbs.pic.o Cudd/cudd/cuddHarwell.pic.o Cudd/cudd/cuddBridge.pic.o Cudd/cudd/cuddUtil.pic.o Cudd/cudd/cuddExport.pic.o Cudd/cudd/cuddSubsetHB.pic.o Cudd/cudd/cuddAddWalsh.pic.o Cudd/cudd/cuddSymmetry.pic.o Cudd/cudd/cuddTable.pic.o Cudd/cudd/cuddApa.pic.o Cudd/cudd/cuddCompose.pic.o Cudd/cudd/cuddZddLin.pic.o Cudd/cudd/cuddExact.pic.o Cudd/cudd/cuddSubsetSP.pic.o Cudd/cudd/cuddGenCof.pic.o Cudd/cudd/cuddClip.pic.o Cudd/cudd/cuddInteract.pic.o Cudd/mtr/mtrBasic.pic.o Cudd/mtr/mtrGroup.pic.o Cudd/st/st.pic.o Cudd/epd/epd.pic.o polybori/src/BoolePolyRing.pic.o polybori/src/BooleEnv.pic.o polybori/src/BoolePolynomial.pic.o polybori/src/BooleVariable.pic.o polybori/src/CErrorInfo.pic.o polybori/src/PBoRiError.pic.o polybori/src/CCuddFirstIter.pic.o polybori/src/CCuddNavigator.pic.o polybori/src/BooleMonomial.pic.o polybori/src/BooleSet.pic.o polybori/src/LexOrder.pic.o polybori/src/CCuddLastIter.pic.o polybori/src/CCuddGetNode.pic.o polybori/src/BooleExponent.pic.o polybori/src/DegLexOrder.pic.o polybori/src/DegRevLexAscOrder.pic.o polybori/src/pbori_routines.pic.o polybori/src/BlockDegLexOrder.pic.o polybori/src/BlockDegRevLexAscOrder.pic.o groebner/src/groebner.pic.o groebner/src/literal_factorization.pic.o groebner/src/randomset.pic.o groebner/src/pairs.pic.o groebner/src/groebner_alg.pic.o groebner/src/fglm.pic.o groebner/src/polynomial_properties.pic.o groebner/src/lexbuckets.pic.o groebner/src/dlex4data.pic.o groebner/src/dp_asc4data.pic.o groebner/src/lp4data.pic.o groebner/src/nf.pic.o groebner/src/interpolate.pic.o M4RI/grayflex.pic.o M4RI/permutation.pic.o M4RI/packedmatrix.pic.o M4RI/strassen.pic.o M4RI/misc.pic.o M4RI/brilliantrussian.pic.o -L/export/home/drkirkby/sage/tmp/sage-4.1.1/local/lib -L/export/home/drkirkby/sage/tmp/sage-4.1.1/local/lib/python2.6/config -Lpolybori -Lgroebner -LCudd -lm -lgd -lgd -lgd -lgd
g++ -o Cudd/libpboriCudd-0.6.3.so.0.0.0 -G -Wl,-hlibpboriCudd-0.6.3.so.0 Cudd/obj/cuddObj.pic.o Cudd/util/cpu_time.pic.o Cudd/util/state.pic.o Cudd/util/datalimit.pic.o Cudd/util/texpand.pic.o Cudd/util/pipefork.pic.o Cudd/util/strsav.pic.o Cudd/util/ptime.pic.o Cudd/util/tmpfile.pic.o Cudd/util/stub.pic.o Cudd/util/cpu_stats.pic.o Cudd/util/safe_mem.pic.o Cudd/util/getopt.pic.o Cudd/util/prtime.pic.o Cudd/util/pathsearch.pic.o Cudd/cudd/cuddApprox.pic.o Cudd/cudd/cuddRead.pic.o Cudd/cudd/cuddLevelQ.pic.o Cudd/cudd/cuddCof.pic.o Cudd/cudd/cuddGenetic.pic.o Cudd/cudd/cuddZddPort.pic.o Cudd/cudd/cuddMatMult.pic.o Cudd/cudd/cuddZddIsop.pic.o Cudd/cudd/cuddAPI.pic.o Cudd/cudd/cuddZddGroup.pic.o Cudd/cudd/cuddZddSymm.pic.o Cudd/cudd/cuddRef.pic.o Cudd/cudd/cuddZddMisc.pic.o Cudd/cudd/cuddDecomp.pic.o Cudd/cudd/cuddZddUtil.pic.o Cudd/cudd/cuddLiteral.pic.o Cudd/cudd/cuddAddNeg.pic.o Cudd/cudd/cuddPriority.pic.o Cudd/cudd/cuddAnneal.pic.o Cudd/cudd/cuddInit.pic.o Cudd/cudd/cuddZddSetop.pic.o Cudd/cudd/cuddReorder.pic.o Cudd/cudd/cuddSolve.pic.o Cudd/cudd/cuddBddCorr.pic.o Cudd/cudd/cuddAddFind.pic.o Cudd/cudd/cuddAddInv.pic.o Cudd/cudd/cuddWindow.pic.o Cudd/cudd/cuddAddIte.pic.o Cudd/cudd/cuddAddAbs.pic.o Cudd/cudd/cuddZddReord.pic.o Cudd/cudd/cuddBddAbs.pic.o Cudd/cudd/cuddBddIte.pic.o Cudd/cudd/cuddLinear.pic.o Cudd/cudd/cuddSign.pic.o Cudd/cudd/cuddCheck.pic.o Cudd/cudd/cuddZddCount.pic.o Cudd/cudd/cuddZddFuncs.pic.o Cudd/cudd/cuddEssent.pic.o Cudd/cudd/cuddGroup.pic.o Cudd/cudd/cuddSplit.pic.o Cudd/cudd/cuddSat.pic.o Cudd/cudd/cuddAddApply.pic.o Cudd/cudd/cuddLCache.pic.o Cudd/cudd/cuddCache.pic.o Cudd/cudd/cuddAndAbs.pic.o Cudd/cudd/cuddHarwell.pic.o Cudd/cudd/cuddBridge.pic.o Cudd/cudd/cuddUtil.pic.o Cudd/cudd/cuddExport.pic.o Cudd/cudd/cuddSubsetHB.pic.o Cudd/cudd/cuddAddWalsh.pic.o Cudd/cudd/cuddSymmetry.pic.o Cudd/cudd/cuddTable.pic.o Cudd/cudd/cuddApa.pic.o Cudd/cudd/cuddCompose.pic.o Cudd/cudd/cuddZddLin.pic.o Cudd/cudd/cuddExact.pic.o Cudd/cudd/cuddSubsetSP.pic.o Cudd/cudd/cuddGenCof.pic.o Cudd/cudd/cuddClip.pic.o Cudd/cudd/cuddInteract.pic.o Cudd/mtr/mtrBasic.pic.o Cudd/mtr/mtrGroup.pic.o Cudd/st/st.pic.o Cudd/epd/epd.pic.o -L/export/home/drkirkby/sage/tmp/sage-4.1.1/local/lib -L/export/home/drkirkby/sage/tmp/sage-4.1.1/local/lib/python2.6/config -Lpolybori -Lgroebner -LCudd -lm -lgd -lgd -lgd -lgd
build_symlink(["polybori/libpolybori-0.6.3.so.0"], ["polybori/libpolybori-0.6.3.so.0.0.0"])
Symlinking from libpolybori-0.6.3.so.0.0.0 to polybori/libpolybori-0.6.3.so.0
build_symlink(["polybori/libpolybori-0.6.3.so"], ["polybori/libpolybori-0.6.3.so.0"])
Symlinking from libpolybori-0.6.3.so.0 to polybori/libpolybori-0.6.3.so
build_symlink(["polybori/libpolybori.so"], ["polybori/libpolybori-0.6.3.so"])
Symlinking from libpolybori-0.6.3.so to polybori/libpolybori.so
build_symlink(["groebner/libgroebner-0.6.3.so.0"], ["groebner/libgroebner-0.6.3.so.0.0.0"])
Symlinking from libgroebner-0.6.3.so.0.0.0 to groebner/libgroebner-0.6.3.so.0
build_symlink(["groebner/libgroebner-0.6.3.so"], ["groebner/libgroebner-0.6.3.so.0"])
Symlinking from libgroebner-0.6.3.so.0 to groebner/libgroebner-0.6.3.so
build_symlink(["groebner/libgroebner.so"], ["groebner/libgroebner-0.6.3.so"])
Symlinking from libgroebner-0.6.3.so to groebner/libgroebner.so
build_symlink(["Cudd/libpboriCudd-0.6.3.so.0"], ["Cudd/libpboriCudd-0.6.3.so.0.0.0"])
Symlinking from libpboriCudd-0.6.3.so.0.0.0 to Cudd/libpboriCudd-0.6.3.so.0
build_symlink(["Cudd/libpboriCudd-0.6.3.so"], ["Cudd/libpboriCudd-0.6.3.so.0"])
Symlinking from libpboriCudd-0.6.3.so.0 to Cudd/libpboriCudd-0.6.3.so
build_symlink(["Cudd/libpboriCudd.so"], ["Cudd/libpboriCudd-0.6.3.so"])
Symlinking from libpboriCudd-0.6.3.so to Cudd/libpboriCudd.so
scons: done building targets.
Done build_polybori.
Installing PolyBoRi...
scons: Reading SConscript files ...
Sun linker detected.
Checking for C header file gd.h... (cached) yes
Checking for C library gd... (cached) yes
Checking for C++ header file unordered_map... (cached) no
Checking for C++ header file tr1/unordered_map... (cached) yes
Warning: No LaTeX to html converter found, Tutorial will not be installed
Checking for C library m4ri... (cached) no
Checking for C header file gd.h... (cached) yes
Checking for C library gd... (cached) yes
no python extension
setting umask to 022 (was 022)

scons: *** Error writing options to file: /export/home/drkirkby/sage/tmp/sage-4.1.1/local/share/polybori/flags.conf
[Errno 2] No such file or directory: '/export/home/drkirkby/sage/tmp/sage-4.1.1/local/share/polybori/flags.conf'
File "/export/home/drkirkby/sage/tmp/sage-4.1.1/spkg/build/polybori-0.6.3-20090825/src/polybori-0.6/SConstruct", line 1281, in <module>
Error installing PolyBoRi.

real    18m9.386s
user    16m29.417s
sys     1m23.875s
sage: An error occurred while installing polybori-0.6.3-20090825

```



---

archive/issue_comments_042246.json:
```json
{
    "body": "Patched the (patched) patch/SConstruct to fix the \"flags.conf\" issue",
    "created_at": "2009-08-27T09:25:30Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42246",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

Patched the (patched) patch/SConstruct to fix the "flags.conf" issue



---

archive/attachments_007544.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "flags-conf.patch",
    "asset_url": "tarball://root/attachments/ticket6177/flags-conf.patch",
    "created_at": "2009-08-27T09:32:20Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/flags-conf.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```



---

archive/issue_comments_042247.json:
```json
{
    "body": "<a id='comment:52'></a>\n**Attachment:** [flags-conf.patch](https://github.com/sagemath/sage/files/ticket6177/flags-conf.patch)\n\nIndeed, this is not a Solaris issue, but it will occur always, in the case, that PolyBoRi wasn't installed in the corresponding Sage before. Some patch from Sage adds the generation of `flags.conf`, but that goes wrong, if the installation directory does not exist before.  The flags-conf.patch above should fix the problem.\n\nRegards,\n  Alexander",
    "created_at": "2009-08-27T09:32:20Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42247",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:52'></a>
**Attachment:** [flags-conf.patch](https://github.com/sagemath/sage/files/ticket6177/flags-conf.patch)

Indeed, this is not a Solaris issue, but it will occur always, in the case, that PolyBoRi wasn't installed in the corresponding Sage before. Some patch from Sage adds the generation of `flags.conf`, but that goes wrong, if the installation directory does not exist before.  The flags-conf.patch above should fix the problem.

Regards,
  Alexander



---

archive/issue_comments_042248.json:
```json
{
    "body": "<a id='comment:53'></a>\nI would suggest to postpone the minor issues (duplicated arguments, missing, but not mandatory space) to the next release of PolyBoRi.\n\nAlexander",
    "created_at": "2009-08-27T09:34:42Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42248",
    "user": "https://trac.sagemath.org/admin/accounts/users/PolyBoRi"
}
```

<a id='comment:53'></a>
I would suggest to postpone the minor issues (duplicated arguments, missing, but not mandatory space) to the next release of PolyBoRi.

Alexander



---

archive/issue_comments_042249.json:
```json
{
    "body": "<a id='comment:54'></a>\nAlright, the new SPKG deals with the flags.conf issue (thanks Alexander)\n\n  http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.3-20090827.spkg\n\nI will postpone the fPIC issue for now and will concentrate on the pickling issue.",
    "created_at": "2009-08-27T09:51:24Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42249",
    "user": "https://github.com/malb"
}
```

<a id='comment:54'></a>
Alright, the new SPKG deals with the flags.conf issue (thanks Alexander)

  http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.3-20090827.spkg

I will postpone the fPIC issue for now and will concentrate on the pickling issue.



---

archive/issue_comments_042250.json:
```json
{
    "body": "**Reviewer:** David Kirkby, Alex Ghitza",
    "created_at": "2009-08-27T09:52:16Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42250",
    "user": "https://github.com/malb"
}
```

**Reviewer:** David Kirkby, Alex Ghitza



---

archive/issue_comments_042251.json:
```json
{
    "body": "**Author:** Michael Brickenstein, Alexander Dreyer, Martin Albrecht",
    "created_at": "2009-08-27T09:52:16Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42251",
    "user": "https://github.com/malb"
}
```

**Author:** Michael Brickenstein, Alexander Dreyer, Martin Albrecht



---

archive/attachments_007545.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "polybori-0.6.3.3.patch",
    "asset_url": "tarball://root/attachments/ticket6177/polybori-0.6.3.3.patch",
    "created_at": "2009-08-27T10:35:12Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/polybori-0.6.3.3.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_042252.json:
```json
{
    "body": "**Attachment:** [polybori-0.6.3.3.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0.6.3.3.patch)\n\nfixes the pickling issue",
    "created_at": "2009-08-27T10:35:12Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42252",
    "user": "https://github.com/malb"
}
```

**Attachment:** [polybori-0.6.3.3.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0.6.3.3.patch)

fixes the pickling issue



---

archive/issue_events_040052.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2009-08-27T10:35:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40052"
}
```



---

archive/issue_events_040053.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2009-08-27T10:35:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40053"
}
```



---

archive/issue_comments_042253.json:
```json
{
    "body": "<a id='comment:56'></a>\nThe attached patch fixes the pickling issue and now all doctests pass on sage.math.",
    "created_at": "2009-08-27T10:35:43Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42253",
    "user": "https://github.com/malb"
}
```

<a id='comment:56'></a>
The attached patch fixes the pickling issue and now all doctests pass on sage.math.



---

archive/attachments_007546.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_6177_reviewer_patch",
    "asset_url": "tarball://root/attachments/ticket6177/trac_6177_reviewer_patch",
    "created_at": "2009-09-10T09:38:04Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/trac_6177_reviewer_patch",
    "user": "https://github.com/burcin"
}
```



---

archive/issue_comments_042254.json:
```json
{
    "body": "**Attachment:** [trac_6177_reviewer_patch](https://github.com/sagemath/sage/files/ticket6177/trac_6177_reviewer_patch)\n\nminor fixes",
    "created_at": "2009-09-10T09:38:04Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42254",
    "user": "https://github.com/burcin"
}
```

**Attachment:** [trac_6177_reviewer_patch](https://github.com/sagemath/sage/files/ticket6177/trac_6177_reviewer_patch)

minor fixes



---

archive/issue_comments_042255.json:
```json
{
    "body": "<a id='comment:57'></a>\nI added a patch with minor changes:\n\n- fix a doctest problem in `sage/crypto/mq/mpolynomialsystem.py`\n- eliminate use of Python `eval()` in `module_list.py`\n- remove commented code for which a newer version seems to be present somewhere else in the file\n\nI give Martin's patch and the package a positive review. Martin, if you're ok with my changes, please mark this positive review.\n\n\nOnly [attachment:polybori-0.6.3.3.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0.6.3.3.patch) and [attachment:trac_6177_reviewer_patch](https://github.com/sagemath/sage/files/ticket6177/trac_6177_reviewer_patch) should be applied, with the package linked from [comment:54](#comment%3A54).",
    "created_at": "2009-09-10T09:44:47Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42255",
    "user": "https://github.com/burcin"
}
```

<a id='comment:57'></a>
I added a patch with minor changes:

- fix a doctest problem in `sage/crypto/mq/mpolynomialsystem.py`
- eliminate use of Python `eval()` in `module_list.py`
- remove commented code for which a newer version seems to be present somewhere else in the file

I give Martin's patch and the package a positive review. Martin, if you're ok with my changes, please mark this positive review.


Only [attachment:polybori-0.6.3.3.patch](https://github.com/sagemath/sage/files/ticket6177/polybori-0.6.3.3.patch) and [attachment:trac_6177_reviewer_patch](https://github.com/sagemath/sage/files/ticket6177/trac_6177_reviewer_patch) should be applied, with the package linked from [comment:54](#comment%3A54).



---

archive/issue_comments_042256.json:
```json
{
    "body": "**Changing reviewer** from \"David Kirkby, Alex Ghitza\" to \"David Kirkby, Alex Ghitza, Burcin Erocal\".",
    "created_at": "2009-09-10T09:44:47Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42256",
    "user": "https://github.com/burcin"
}
```

**Changing reviewer** from "David Kirkby, Alex Ghitza" to "David Kirkby, Alex Ghitza, Burcin Erocal".



---

archive/issue_comments_042257.json:
```json
{
    "body": "<a id='comment:58'></a>\nBurcin's patch looks good, applies cleanly against 4.1.2.alpha1 and doctests pass.\n\nIts done, finally!",
    "created_at": "2009-09-10T12:35:31Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42257",
    "user": "https://github.com/malb"
}
```

<a id='comment:58'></a>
Burcin's patch looks good, applies cleanly against 4.1.2.alpha1 and doctests pass.

Its done, finally!



---

archive/issue_events_040054.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2009-09-10T12:35:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40054"
}
```



---

archive/issue_events_040055.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2009-09-10T12:35:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40055"
}
```



---

archive/issue_events_040056.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-09-11T16:33:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40056"
}
```



---

archive/issue_events_040057.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-09-11T16:33:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/6177#event-40057"
}
```



---

archive/issue_comments_042258.json:
```json
{
    "body": "<a id='comment:59'></a>\nMerged patches in this order:\n\n1. `polybori-0.6.3.3.patch`\n2. `trac_6177_reviewer_patch`\n\nMerged `polybori-0.6.3-20090827.spkg` in the standard packages repository.",
    "created_at": "2009-09-11T16:33:21Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42258",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:59'></a>
Merged patches in this order:

1. `polybori-0.6.3.3.patch`
2. `trac_6177_reviewer_patch`

Merged `polybori-0.6.3-20090827.spkg` in the standard packages repository.



---

archive/issue_comments_042259.json:
```json
{
    "body": "**Merged:** Sage 4.1.2.alpha2",
    "created_at": "2009-09-11T16:33:21Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42259",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Merged:** Sage 4.1.2.alpha2



---

archive/attachments_007547.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_6177-polybori-0.6.3.3.patch",
    "asset_url": "tarball://root/attachments/ticket6177/trac_6177-polybori-0.6.3.3.patch",
    "created_at": "2009-09-21T03:42:38Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/trac_6177-polybori-0.6.3.3.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```



---

archive/issue_comments_042260.json:
```json
{
    "body": "**Attachment:** [trac_6177-polybori-0.6.3.3.patch](https://github.com/sagemath/sage/files/ticket6177/trac_6177-polybori-0.6.3.3.patch)\n\nrepo corrupt-free version",
    "created_at": "2009-09-21T03:42:38Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42260",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Attachment:** [trac_6177-polybori-0.6.3.3.patch](https://github.com/sagemath/sage/files/ticket6177/trac_6177-polybori-0.6.3.3.patch)

repo corrupt-free version



---

archive/issue_comments_042261.json:
```json
{
    "body": "with the \".patch\" file extension",
    "created_at": "2009-09-21T03:43:27Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42261",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

with the ".patch" file extension



---

archive/attachments_007548.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_6177_reviewer.patch",
    "asset_url": "tarball://root/attachments/ticket6177/trac_6177_reviewer.patch",
    "created_at": "2009-09-21T04:07:06Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/trac_6177_reviewer.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```



---

archive/issue_comments_042262.json:
```json
{
    "body": "<a id='comment:60'></a>\n**Attachment:** [trac_6177_reviewer.patch](https://github.com/sagemath/sage/files/ticket6177/trac_6177_reviewer.patch)\n\nI have attached two new patches\n\n1. `trac_6177-polybori-0.6.3.3.patch` --- This is the same as `polybori-0.6.3.3.patch`. The only change is inserting the comment \n\n ```\n # Insert a comment here to prevent repo corruption.\n ```\n into the empty file `sage/libs/polybori/__init__.py` in order to prevent repository corruption as was reported on IRC by William Stein:\n\n ```\n 20:14 < williamstein> mvngu -- possible problem with alpha2\n 20:14 < williamstein> i get /scratch/wstein/build/sage-4.1.2.alpha3/devel/sage-main/sage/rings/polynomial/pbori.pxd:10:0: 'sage.libs.polybori.decl.pxd' not found\n 20:15 < williamstein> \"repo corruption\"?\n 20:15 < williamstein> yep\n 20:15 < williamstein> wstein@sage:~/build/sage-4.1.2.alpha3/devel/sage$ hg status\n 20:15 < williamstein> ! sage/libs/polybori/__init__.py\n 20:15 < williamstein> I fix it with:\n 20:15 < williamstein> wstein@sage:~/build/sage-4.1.2.alpha3/devel/sage$ hg revert --all\n 20:15 < williamstein> reverting sage/libs/polybori/__init__.py\n 20:16 < mvngu> williamstein: yeah, I just do \"make\" again.\n 20:16 < williamstein> mvngu -- that always bites you for some reason.\n 20:17 < mvngu> I have been experiencing that problem on every machine I'm building on.\n 20:17 < mvngu> It's always about polybori.\n ```\n1. `trac_6177_reviewer.patch` --- This is the same as `trac_6177_reviewer_patch`. I put in the file extension \".patch\" so that the patch would be displayed with colour on trac.",
    "created_at": "2009-09-21T04:07:06Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42262",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:60'></a>
**Attachment:** [trac_6177_reviewer.patch](https://github.com/sagemath/sage/files/ticket6177/trac_6177_reviewer.patch)

I have attached two new patches

1. `trac_6177-polybori-0.6.3.3.patch` --- This is the same as `polybori-0.6.3.3.patch`. The only change is inserting the comment 

 ```
 # Insert a comment here to prevent repo corruption.
 ```
 into the empty file `sage/libs/polybori/__init__.py` in order to prevent repository corruption as was reported on IRC by William Stein:

 ```
 20:14 < williamstein> mvngu -- possible problem with alpha2
 20:14 < williamstein> i get /scratch/wstein/build/sage-4.1.2.alpha3/devel/sage-main/sage/rings/polynomial/pbori.pxd:10:0: 'sage.libs.polybori.decl.pxd' not found
 20:15 < williamstein> "repo corruption"?
 20:15 < williamstein> yep
 20:15 < williamstein> wstein@sage:~/build/sage-4.1.2.alpha3/devel/sage$ hg status
 20:15 < williamstein> ! sage/libs/polybori/__init__.py
 20:15 < williamstein> I fix it with:
 20:15 < williamstein> wstein@sage:~/build/sage-4.1.2.alpha3/devel/sage$ hg revert --all
 20:15 < williamstein> reverting sage/libs/polybori/__init__.py
 20:16 < mvngu> williamstein: yeah, I just do "make" again.
 20:16 < williamstein> mvngu -- that always bites you for some reason.
 20:17 < mvngu> I have been experiencing that problem on every machine I'm building on.
 20:17 < mvngu> It's always about polybori.
 ```
1. `trac_6177_reviewer.patch` --- This is the same as `trac_6177_reviewer_patch`. I put in the file extension ".patch" so that the patch would be displayed with colour on trac.



---

archive/issue_comments_042263.json:
```json
{
    "body": "<a id='comment:61'></a>\n**Only merge these:**\n\n1. `trac_6177-polybori-0.6.3.3.patch`\n2. `trac_6177_reviewer.patch`",
    "created_at": "2009-09-21T04:41:24Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42263",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:61'></a>
**Only merge these:**

1. `trac_6177-polybori-0.6.3.3.patch`
2. `trac_6177_reviewer.patch`



---

archive/issue_comments_042264.json:
```json
{
    "body": "add files to MANIFEST.in",
    "created_at": "2009-09-21T16:56:14Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42264",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

add files to MANIFEST.in



---

archive/attachments_007549.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_6177-manifest.patch",
    "asset_url": "tarball://root/attachments/ticket6177/trac_6177-manifest.patch",
    "created_at": "2009-09-21T16:59:53Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket6177/trac_6177-manifest.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```



---

archive/issue_comments_042265.json:
```json
{
    "body": "<a id='comment:62'></a>\n**Attachment:** [trac_6177-manifest.patch](https://github.com/sagemath/sage/files/ticket6177/trac_6177-manifest.patch)\n\nThe patch `trac_6177-manifest.patch` adds the following files to MANIFEST.in:\n\n* `sage/libs/polybori/__init__.py`\n* `sage/libs/polybori/decl.pxd`\n\nThis way, the files would be picked up when making a source release. By now, patches should be **merged in this order**:\n\n1. `trac_6177-polybori-0.6.3.3.patch`\n2. `trac_6177_reviewer.patch`\n3. `trac_6177-manifest.patch`",
    "created_at": "2009-09-21T16:59:53Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42265",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:62'></a>
**Attachment:** [trac_6177-manifest.patch](https://github.com/sagemath/sage/files/ticket6177/trac_6177-manifest.patch)

The patch `trac_6177-manifest.patch` adds the following files to MANIFEST.in:

* `sage/libs/polybori/__init__.py`
* `sage/libs/polybori/decl.pxd`

This way, the files would be picked up when making a source release. By now, patches should be **merged in this order**:

1. `trac_6177-polybori-0.6.3.3.patch`
2. `trac_6177_reviewer.patch`
3. `trac_6177-manifest.patch`



---

archive/issue_comments_042266.json:
```json
{
    "body": "**Changing reviewer** from \"David Kirkby, Alex Ghitza, Burcin Erocal\" to \"David Kirkby, Alex Ghitza, Burcin Erocal, Minh Van Nguyen\".",
    "created_at": "2009-09-21T16:59:53Z",
    "issue": "https://github.com/sagemath/sage/issues/6177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/6177#issuecomment-42266",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Changing reviewer** from "David Kirkby, Alex Ghitza, Burcin Erocal" to "David Kirkby, Alex Ghitza, Burcin Erocal, Minh Van Nguyen".
