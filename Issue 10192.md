# Issue 10192: Create the category of GradedEnumeratedSets

Issue created by migration from Trac.

Original creator: nthiery

Original creation time: 2010-10-31 09:31:54

Assignee: sage-combinat

CC:  sage-combinat nborie

Keywords: categories, enumerated sets

The patch, under development on the sage-combinat patch server, creates the category `GradedEnumeratedSets`, and puts Partitions() into it.

As an example, this also implements `WeightedIntegerVectors(weights)` (whose graded compontents are the previously existing `WeightedIntegerVectors(n, weights)`).


---

Comment by mhansen created at 2010-11-01 20:44:05

It seems like it would be better to use degree as opposed to size for consistency with the "standard" graded things.  Also, it seems like it might be better to have the degree method implemented on the parents.  It could be somewhat confusing if the degree method on the elements corresponded to a different grading than the parent it belongs to.


---

Comment by hivert created at 2011-06-08 07:23:18

Hi ! What is the status of this one ?


---

Comment by zimmerma created at 2012-01-11 12:53:44

Changing status from new to needs_info.


---

Comment by zimmerma created at 2012-01-11 12:53:44

Hi, here at SD35.5 I wanted to review #9280, but I see it depends on this ticket, which did not
progress since 15 months. Is this ticket dead?

Paul

PS: moreover the patch url is dead...


---

Comment by zimmerma created at 2012-01-11 12:53:44

Changing keywords from "categories, enumerated sets" to "categories, enumerated sets, sd35.5".


---

Comment by nthiery created at 2012-01-11 13:50:44

Replying to [comment:6 zimmerma]:
> Hi, here at SD35.5 I wanted to review #9280, but I see it depends on this ticket, which did not
> progress since 15 months. Is this ticket dead?

We just discussed it with Vincent Delecroix, and where planning to 
finalize/review it during the Sage-Combinat days in Cernay (early February).
 
> PS: moreover the patch url is dead...

Should be fixed now.


---

Comment by tscrim created at 2012-12-17 08:47:27

Hey Nicolas and Florent (and Vincent),

I was wondering what the status of this patch is since #13605 is currently based on this patch. I can commute #13605 past, but I would prefer to keep the current order (especially if this patch is close to being completed).

Thank you,

Travis


---

Comment by tscrim created at 2013-01-31 22:39:42

Note that this will be swapped with #13605 in the combinat queue once Andrew uploads his review patch.


---

Comment by vdelecroix created at 2013-02-13 22:44:19

Changing status from needs_info to needs_review.


---

Comment by nthiery created at 2013-02-14 00:00:51

TODO: add an example!


---

Attachment

What's new:
 * remove the changes for partitions as it affects #13605
 * rename `GradedSets` to `SetsWithGrading`
 * creation of an example (sage.categories.examples.sets_with_grading)
 * fix documentation

Vincent


---

Comment by tscrim created at 2013-02-22 14:26:16

Hey Vincent,

Let us know when the rebased patch over #6495 is up and ready for review.

Thanks,

Travis


---

Comment by tscrim created at 2013-02-22 14:26:16

Changing keywords from "categories, enumerated sets, sd35.5" to "categories, enumerated sets, sd35.5, days45".


---

Comment by vdelecroix created at 2013-02-23 03:54:39

Hey Travis,

Actually it is (in the sage-combinat queue). I wait for the review patch of Nicolas Borie !

Best,
Vincent


---

Comment by chapoton created at 2013-03-15 22:04:40

rebased on 5.8.beta4 (just a doc change)

apply trac_10193-graded_sets-rebased.patch


---

Comment by chapoton created at 2013-03-20 10:48:27

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2013-03-20 10:48:27

There remains at least one *self.n* which has not been turned into a *self._n*

This makes a lot of tests fail.


---

Comment by vdelecroix created at 2013-03-20 12:49:09

Replying to [comment:20 chapoton]:
> There remains at least one *self.n* which has not been turned into a *self._n*
> 
> This makes a lot of tests fail.

You are right. I also notice that the comment message in the top of the patch file is not adapted to the content (the patch does not touch anymore Permutations).


---

Comment by chapoton created at 2013-03-20 19:56:52

I have changed the .n and now tests should pass


---

Attachment


---

Comment by chapoton created at 2013-03-21 19:26:22

new patch, removing one assert statement


---

Comment by chapoton created at 2013-04-04 20:44:21

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2013-04-30 18:04:08

Hey,

A few comments/questions:

- I prefer the name `GradedSets` over `SetsWithGrading`, it's a more natural name to me.
- The example, I don't think there should be the need for another `NonNegativeIntegers` class. Can't we just use the existing `sage.sets.NonNegativeIntegers` with the required methods and placed in this category?
- Similar to above, I'd like to see all sets which belong actually into this category. Or at least a few more of the big classes.
- Grade should be implemented as an abstract Element method
- I don't like the default implementation of `graded_component()` since it assumes the first argument of subset (which may not be implemented) is the graded component. If you want to use the `subset()` method, you should call it with `self.subset(grade=grade)`.
- It's not well documented what methods must be implemented. The "automatic" way is to make them ``@`abstract_method`s.

Here's also some more wish-list type things that I'd like to see, but can wait for a followup ticket:

- Simple API for grading shifts
- Checking that morphisms preserve grading
- Make `degree()` call `grade()` (thus act like an alias, unfortunately in categories you can't simply make an alias by `degree = grade` [it will reference the wrong function]).

Thanks,

Travis


---

Comment by tscrim created at 2013-04-30 18:04:08

Changing status from needs_review to needs_work.


---

Comment by tscrim created at 2013-04-30 21:25:32

I just talked with Nicolas T. and basically my previous comments are to be disregarded except the documentation of the methods which need to be implemented needs to be improved.

Best,

Travis


---

Comment by nthiery created at 2013-04-30 22:27:17

Replying to [comment:26 tscrim]:
> I just talked with Nicolas T. and basically my previous comments are to be disregarded except the documentation of the methods which need to be implemented needs to be improved.

I should add that those objections were natural! It would be good to explain in the documentation why, for example, SetsWithGrading rather than GradedSets. But this patch has been waiting long enough and it needs to be finally be put to real use; let's not delay it for this reason.

+1 as well on the feature requests in a later patch! (except for degree=grade for which I'd rather wait until we have some large scale feedback to see if there really would be a desire for it).


---

Comment by tscrim created at 2013-06-01 17:45:59

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2013-06-01 17:45:59

Here's a review patch which describes what needs to be implemented and some other minor doc fixes. If you're happy with the changes, you can set this to positive review.

Best,

Travis

For patchbot:

Apply: trac_10193-graded_sets-rebased.patch trac_10193-graded_sets-review-ts.patch


---

Comment by vdelecroix created at 2013-06-01 18:12:58

Hi,

Thanks Travis. I am not happy!! The last sentence of the documentation of the category is uncomprehensible and there should be a link to the example.

I will upload an ultimate patch in a minute...

Vincent


---

Attachment


---

Comment by vdelecroix created at 2013-06-01 18:30:53

It also appears that the example was not included in the documentation...

Apply: trac_10193-graded_sets-rebased.patch trac_10193-graded_sets-review-ts.patch trac_10193-graded_sets-more_doc-vd.patch


---

Attachment


---

Comment by tscrim created at 2013-06-02 01:04:25

Hey Vincent,

I've folded your review patch in and made changes to that (very) poorly written sentence I wrote.

Best,

Travis

For patchbot:

Apply: trac_10193-graded_sets-rebased.patch trac_10193-graded_sets-review-ts.patch


---

Comment by vdelecroix created at 2013-06-02 07:31:03

Hi Travis,

> I've folded your review patch in and made changes to that (very) poorly written sentence I wrote.

Perfect! I am not sure it was yours (and your english is for sure better than mine). I remember the first time I learn how to do a parent and a category: I found useful when they were specifications and pointers !
 
Best
Vincent


---

Comment by vdelecroix created at 2013-06-02 07:31:03

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-06-06 12:30:54

Resolution: fixed
