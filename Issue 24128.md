# Issue 24128: Nonnumeric integer expressions not handled by floor/ceil

Issue created by migration from Trac.

Original creator: rws

Original creation time: 2017-12-11 08:02:39

In #22079 `floor/ceil` gets a new implementation. Symbolic arguments are not checked with `is_integer` however so we get

```
sage: var('x',domain='integer')
x
sage: floor(x)
floor(x)
sage: ceil(x)
ceil(x)
```

Inserting that check (if not is_numeric) would immediately simplify a class of expressions.


---

Comment by rws created at 2018-02-02 07:21:00

New commits:


---

Comment by rws created at 2018-02-02 07:21:00

Changing status from new to needs_review.


---

Comment by rws created at 2018-03-03 17:00:17

Changing status from needs_review to needs_work.


---

Comment by rws created at 2018-03-03 17:00:17

Lots of doctest fails.


---

Comment by rws created at 2018-03-04 14:23:44

Changing status from needs_work to needs_review.


---

Comment by rws created at 2018-03-04 14:23:44

Patchbot fails are all unrelated.


---

Comment by @bryangingechen created at 2018-07-28 13:43:40

Changing status from needs_review to positive_review.


---

Comment by @bryangingechen created at 2018-07-28 13:43:40

This looks good to me.


---

Comment by vbraun created at 2018-08-05 08:43:14

Resolution: fixed
