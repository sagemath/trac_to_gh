# Issue 21865: Substitutions inside piecewise functions don't work

Issue created by migration from https://trac.sagemath.org/ticket/22102

Original creator: rws

Original creation time: 2016-12-27 14:23:33

Not implemented at the moment

```
sage: f = piecewise([((0,1), x^2), ([-1,0], -x)], var=x);
sage: f.subs(x=-1)
1
sage: f.subs(x=y)
...
ValueError: substituting the piecewise variable must result in real number
```




---

Comment by rws created at 2016-12-27 15:21:57

It may be desirable to substitute inside the piece expressions only, and require the user to generate a new function for a variable change.


---

Comment by rws created at 2016-12-27 15:38:00

Changing status from new to needs_review.


---

Comment by rws created at 2016-12-27 15:38:00

New commits:


---

Comment by rws created at 2016-12-28 14:24:34

Changing status from needs_review to needs_info.


---

Comment by rws created at 2016-12-28 14:24:34

#21071 requires a different approach.
