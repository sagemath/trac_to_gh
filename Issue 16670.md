# Issue 16670: Adding two region plots yields surprising results

archive/issues_016670.json:
```json
{
    "body": "CC:  kcrisman mkoeppe vdelecroix\n\nAnd wrong ones, of course.  See [this sage-support thread](https://groups.google.com/forum/#!topic/sage-support/TRM4f-LJ6vE).\n\n\n```\nsage: disc1= region_plot(lambda x, y : x^2+y^2 < 1, (x, -1, 1), (y, -1, 1))\nsage: disc2= region_plot(lambda x, y : (x-0.7)^2+(y-0.7)^2 < 0.5, (x, -2, 2), (y, -2, 2) )\n```\n\nthen do `disc1+disc2` and `disc2+disc1` for some surprises.  Most likely we are abusing `contourf` in matplotlib a little by allowing the adding of these plots.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16907\n\n",
    "created_at": "2014-08-29T19:42:24Z",
    "labels": [
        "graphics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Adding two region plots yields surprising results",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16670",
    "user": "kcrisman"
}
```
CC:  kcrisman mkoeppe vdelecroix

And wrong ones, of course.  See [this sage-support thread](https://groups.google.com/forum/#!topic/sage-support/TRM4f-LJ6vE).


```
sage: disc1= region_plot(lambda x, y : x^2+y^2 < 1, (x, -1, 1), (y, -1, 1))
sage: disc2= region_plot(lambda x, y : (x-0.7)^2+(y-0.7)^2 < 0.5, (x, -2, 2), (y, -2, 2) )
```

then do `disc1+disc2` and `disc2+disc1` for some surprises.  Most likely we are abusing `contourf` in matplotlib a little by allowing the adding of these plots.

Issue created by migration from https://trac.sagemath.org/ticket/16907





---

archive/issue_comments_220081.json:
```json
{
    "body": "cc: me. Also, I don't see how this could be fixed. :(",
    "created_at": "2014-08-30T16:00:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220081",
    "user": "ppurka"
}
```

cc: me. Also, I don't see how this could be fixed. :(



---

archive/issue_comments_220082.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-04-19T09:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220082",
    "user": "yzh"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_220083.json:
```json
{
    "body": "Interesting fix!  Do you think the change in the \"endpoints\" for the contours will make a big difference?  Thanks for the contribution, I'll put this on my list for things to review once the semester is over.",
    "created_at": "2015-04-20T13:20:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220083",
    "user": "kcrisman"
}
```

Interesting fix!  Do you think the change in the "endpoints" for the contours will make a big difference?  Thanks for the contribution, I'll put this on my list for things to review once the semester is over.



---

archive/issue_comments_220084.json:
```json
{
    "body": "Replying to [comment:4 kcrisman]:\n> Interesting fix!  Do you think the change in the \"endpoints\" for the contours will make a big difference?  Thanks for the contribution, I'll put this on my list for things to review once the semester is over.\n\nDo you mean the change of `contours` from `[-1e307, 0, 1e307]` to `[-1e-20, 0, 1e-20]`?\n \nYes, I think setting `contours=[-1e307, 0, 1e307]` was not a good idea. I tried \n\n```\nsage: x,y = var('x,y')\nsage: region_plot(x^2+y^2 < 1, (x, -1, 1), (y, -1, 1), incol='blue', outcol='red',alpha=0.5)\n```\n \nwith setting `contours=[-0.2, 0, 0.2]`, and figured out that the meaning of the \"endpoints\" was quite different from what I had imagined.",
    "created_at": "2015-04-20T18:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220084",
    "user": "yzh"
}
```

Replying to [comment:4 kcrisman]:
> Interesting fix!  Do you think the change in the "endpoints" for the contours will make a big difference?  Thanks for the contribution, I'll put this on my list for things to review once the semester is over.

Do you mean the change of `contours` from `[-1e307, 0, 1e307]` to `[-1e-20, 0, 1e-20]`?
 
Yes, I think setting `contours=[-1e307, 0, 1e307]` was not a good idea. I tried 

```
sage: x,y = var('x,y')
sage: region_plot(x^2+y^2 < 1, (x, -1, 1), (y, -1, 1), incol='blue', outcol='red',alpha=0.5)
```
 
with setting `contours=[-0.2, 0, 0.2]`, and figured out that the meaning of the "endpoints" was quite different from what I had imagined.



---

archive/issue_comments_220085.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-23T01:14:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220085",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_220086.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-11T21:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220086",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_220087.json:
```json
{
    "body": "Why is there a duplicate ticket at #18286?",
    "created_at": "2015-05-11T21:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220087",
    "user": "vdelecroix"
}
```

Why is there a duplicate ticket at #18286?



---

archive/issue_comments_220088.json:
```json
{
    "body": "I have removed the branch from this ticket. Once #18286 is positively reviewed, I will set this too to positive review.",
    "created_at": "2015-05-16T15:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220088",
    "user": "ppurka"
}
```

I have removed the branch from this ticket. Once #18286 is positively reviewed, I will set this too to positive review.



---

archive/issue_comments_220089.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-20T22:46:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220089",
    "user": "ppurka"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_220090.json:
```json
{
    "body": "What am I supposed to do with this ticket? If you want it closed without merging a branch: This ticket should be set to  duplicate/invalid/wontfix, and #18286 should not depend on this ticket.",
    "created_at": "2015-05-21T18:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220090",
    "user": "vbraun"
}
```

What am I supposed to do with this ticket? If you want it closed without merging a branch: This ticket should be set to  duplicate/invalid/wontfix, and #18286 should not depend on this ticket.



---

archive/issue_comments_220091.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2015-05-21T23:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220091",
    "user": "ppurka"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_220092.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-21T23:33:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220092",
    "user": "ppurka"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_220093.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2015-06-19T08:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16670",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16670#issuecomment-220093",
    "user": "vbraun"
}
```

Resolution: duplicate
