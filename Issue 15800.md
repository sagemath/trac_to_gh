# Issue 15800: Hash value of Family is based on string representation

Issue created by migration from Trac.

Original creator: tscrim

Original creation time: 2014-03-31 22:36:16

Assignee: sage-combinat

CC:  sage-combinat nthiery

Which can cause equality without hash equality. The proposed fix is to make the keys into a frozen set if finite or hash they keys for lazy families.


---

Comment by tscrim created at 2014-03-31 22:37:09

This came up in #15300, but apparently we can create (python) dictionaries whose result from keys is not consistent (despite the dictionaries being equal).


---

Comment by tscrim created at 2014-03-31 22:54:41

New commits:


---

Comment by tscrim created at 2014-03-31 22:54:41

Changing status from new to needs_review.


---

Comment by tscrim created at 2014-04-09 00:34:40

Nicolas, do you think you could get this reviewed? We're almost done with #15300 and it fixes a doctest there about the unique representation behavior.


---

Comment by git created at 2014-07-01 17:03:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-07-01 17:19:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by nthiery created at 2014-07-01 17:23:47

We just discussed this together, and I am happy with it. Positive review assuming all long doctest pass! Thanks Travis :-)


---

Comment by nthiery created at 2014-07-01 17:23:47

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2014-07-01 17:24:20

Thanks again Nicolas.


---

Comment by vbraun created at 2014-07-03 02:03:51

Resolution: fixed
