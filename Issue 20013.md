# Issue 20013: Sanitizing indexing into iterated power series rings and polynomial rings

Issue created by migration from Trac.

Original creator: roed

Original creation time: 2016-03-22 16:55:24




```
sage: f = 1/(1+x+y)
sage: S = PowerSeriesRing(QQ,'x',2)
sage: T = PowerSeriesRing(S,'y',2)
sage: g = T(f)
sage: g
1 - x + O(x^2) + (-1 + 2*x + O(x^2))*y + O(y^2)
sage: g[1][0]
-1
sage: g[1,0]
0
```


Moreover:

```
sage: S = PolynomialRing(QQ,'x')
sage: T = PolynomialRing(S,'y')
sage: g = T.gen() + S.gen()
sage: g
y + x
sage: g[1][0]
1
sage: g[1,0]
0
```


You can even do:

```
sage: g[QQ]
0
```



---

Comment by roed created at 2016-03-22 16:56:00

Changing keywords from "" to "days71, beginner".


---

Comment by panda314 created at 2016-03-31 08:22:17

I am getting the following error on trying to access unsanitized index
IndexError: coefficient not known
The following is what i ran.
sage: S=PowerSeriesRing(QQ,'x',2)
sage: T=PowerSeriesRing(S,'y',2)
sage: g=T.gen()+S.gen()
sage: g[1,0]


---

Comment by roed created at 2016-03-31 15:36:39

Cool.  It looks like this got fixed between 6.8 and 7.1 by some optimizations to `__getitem__` in power series.


---

Comment by roed created at 2016-03-31 15:36:39

Changing status from new to needs_review.


---

Comment by roed created at 2016-03-31 15:37:05

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-06-12 12:02:30

Resolution: fixed
