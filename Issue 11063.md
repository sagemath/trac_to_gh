# Issue 11063: Make the ipython edit magic command edit the right file and show both files when doing ??

archive/issues_011063.json:
```json
{
    "body": "Assignee: jason\n\nAll is really said in the title.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11235\n\n",
    "created_at": "2011-04-21T21:59:37Z",
    "labels": [
        "misc",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Make the ipython edit magic command edit the right file and show both files when doing ??",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11063",
    "user": "mderickx"
}
```
Assignee: jason

All is really said in the title.

Issue created by migration from https://trac.sagemath.org/ticket/11235





---

archive/issue_comments_120609.json:
```json
{
    "body": "Here is the spkg which patches IPython http://www.math.leidenuniv.nl/~mderickx/ipython-0.9.1.p1.spkg. Since there is no ipython hook you really need the patch here to show both files.",
    "created_at": "2011-04-21T22:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120609",
    "user": "mderickx"
}
```

Here is the spkg which patches IPython http://www.math.leidenuniv.nl/~mderickx/ipython-0.9.1.p1.spkg. Since there is no ipython hook you really need the patch here to show both files.



---

archive/issue_comments_120610.json:
```json
{
    "body": "Attachment [IPython-edit.patch](tarball://root/attachments/some-uuid/ticket11235/IPython-edit.patch) by mderickx created at 2011-04-21 22:25:20",
    "created_at": "2011-04-21T22:25:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120610",
    "user": "mderickx"
}
```

Attachment [IPython-edit.patch](tarball://root/attachments/some-uuid/ticket11235/IPython-edit.patch) by mderickx created at 2011-04-21 22:25:20



---

archive/issue_comments_120611.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-04-21T22:27:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120611",
    "user": "mderickx"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_120612.json:
```json
{
    "body": "Have you looked at sage/misc/edit_module.py?  Would it be better to plug into that functionality when you type \"%edit\"?",
    "created_at": "2011-04-22T02:10:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120612",
    "user": "jhpalmieri"
}
```

Have you looked at sage/misc/edit_module.py?  Would it be better to plug into that functionality when you type "%edit"?



---

archive/issue_comments_120613.json:
```json
{
    "body": "Yeah I looked at it, but I think that following the arguments of least surprise it would be good to just keep the IPython behavior as much as possible . People might already know the exact behaviour of %edit because they have used IPython. And since typing % in front of something is really an IPython thing, so I think we should keep their implementation and not our custom one (at least when doing %edit, you can always use the edit() function if you want the sage behaviour.",
    "created_at": "2011-04-22T09:30:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120613",
    "user": "mderickx"
}
```

Yeah I looked at it, but I think that following the arguments of least surprise it would be good to just keep the IPython behavior as much as possible . People might already know the exact behaviour of %edit because they have used IPython. And since typing % in front of something is really an IPython thing, so I think we should keep their implementation and not our custom one (at least when doing %edit, you can always use the edit() function if you want the sage behaviour.



---

archive/issue_comments_120614.json:
```json
{
    "body": "Note that before the patch %edit also worked, but it opened the wrong file, all that the patch does is change the file it opens.",
    "created_at": "2011-04-22T09:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120614",
    "user": "mderickx"
}
```

Note that before the patch %edit also worked, but it opened the wrong file, all that the patch does is change the file it opens.



---

archive/issue_comments_120615.json:
```json
{
    "body": "new ipython",
    "created_at": "2011-12-17T15:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120615",
    "user": "mstreng"
}
```

new ipython



---

archive/issue_comments_120616.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-12-17T15:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120616",
    "user": "mstreng"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_120617.json:
```json
{
    "body": "I added a new spkg http://www.math.leidenuniv.nl/~mderickx/ipython-0.10.2.p1.spkg",
    "created_at": "2011-12-18T14:52:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120617",
    "user": "mderickx"
}
```

I added a new spkg http://www.math.leidenuniv.nl/~mderickx/ipython-0.10.2.p1.spkg



---

archive/issue_comments_120618.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-12-18T14:52:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120618",
    "user": "mderickx"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_120619.json:
```json
{
    "body": "\n```\n09:56:43:~$ tar -xf ipython-0.10.2.p1.spkg \nipython-0.10.2.p1/src/docs/examples/kernel/davinci2.txt: Truncated tar archive\ntar: Error exit delayed from previous errors.\n```\n\n???",
    "created_at": "2011-12-19T09:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120619",
    "user": "mstreng"
}
```


```
09:56:43:~$ tar -xf ipython-0.10.2.p1.spkg 
ipython-0.10.2.p1/src/docs/examples/kernel/davinci2.txt: Truncated tar archive
tar: Error exit delayed from previous errors.
```

???



---

archive/issue_comments_120620.json:
```json
{
    "body": "Replying to [comment:10 mstreng]:\n> {{{\n> 09:56:43:~$ tar -xf ipython-0.10.2.p1.spkg \n> ipython-0.10.2.p1/src/docs/examples/kernel/davinci2.txt: Truncated tar archive\n> tar: Error exit delayed from previous errors.\n> }}}\n> ???\n\nNever mind that, I downloaded a partial file apparently. Got the right one now.",
    "created_at": "2011-12-19T10:02:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120620",
    "user": "mstreng"
}
```

Replying to [comment:10 mstreng]:
> {{{
> 09:56:43:~$ tar -xf ipython-0.10.2.p1.spkg 
> ipython-0.10.2.p1/src/docs/examples/kernel/davinci2.txt: Truncated tar archive
> tar: Error exit delayed from previous errors.
> }}}
> ???

Never mind that, I downloaded a partial file apparently. Got the right one now.



---

archive/issue_comments_120621.json:
```json
{
    "body": "Which Sage version did you test this on? I installed the spkg, then the patch, and the patch gave me:\n\n```\n10:10:22:~/sage-4.8.alpha4/devel/sage$ hg qpush\napplying IPython-edit.patch\npatching file sage/misc/edit_module.py\nHunk #1 FAILED at 39\n1 out of 3 hunks FAILED -- saving rejects to file sage/misc/edit_module.py.rej\npatch failed, unable to continue (try -v)\npatch failed, rejects left in working dir\nerrors during apply, please fix and refresh IPython-edit.patch\n10:10:54:~/sage-4.8.alpha4/devel/sage$ cat sage/misc/edit_module.py.rej\n--- edit_module.py\n+++ edit_module.py\n@@ -40,6 +40,8 @@\n import inspect\n import os\n import sys\n+import re\n+import IPython\n \n from string import Template\n```\n",
    "created_at": "2011-12-19T10:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120621",
    "user": "mstreng"
}
```

Which Sage version did you test this on? I installed the spkg, then the patch, and the patch gave me:

```
10:10:22:~/sage-4.8.alpha4/devel/sage$ hg qpush
applying IPython-edit.patch
patching file sage/misc/edit_module.py
Hunk #1 FAILED at 39
1 out of 3 hunks FAILED -- saving rejects to file sage/misc/edit_module.py.rej
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh IPython-edit.patch
10:10:54:~/sage-4.8.alpha4/devel/sage$ cat sage/misc/edit_module.py.rej
--- edit_module.py
+++ edit_module.py
@@ -40,6 +40,8 @@
 import inspect
 import os
 import sys
+import re
+import IPython
 
 from string import Template
```




---

archive/issue_comments_120622.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd35 ipython source file location\".",
    "created_at": "2011-12-19T10:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120622",
    "user": "mstreng"
}
```

Changing keywords from "" to "sd35 ipython source file location".



---

archive/issue_comments_120623.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-12-19T10:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120623",
    "user": "mstreng"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_120624.json:
```json
{
    "body": "And it is not because I installed the spkg first: on a Sage 4.8.alpha4 without the spkg, I get the same problem.",
    "created_at": "2011-12-19T10:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120624",
    "user": "mstreng"
}
```

And it is not because I installed the spkg first: on a Sage 4.8.alpha4 without the spkg, I get the same problem.



---

archive/issue_comments_120625.json:
```json
{
    "body": "Attachment [IPython-edit.patch.patch](tarball://root/attachments/some-uuid/ticket11235/IPython-edit.patch.patch) by mderickx created at 2011-12-22 16:29:39",
    "created_at": "2011-12-22T16:29:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120625",
    "user": "mderickx"
}
```

Attachment [IPython-edit.patch.patch](tarball://root/attachments/some-uuid/ticket11235/IPython-edit.patch.patch) by mderickx created at 2011-12-22 16:29:39



---

archive/issue_comments_120626.json:
```json
{
    "body": "Ok I updated the patch.",
    "created_at": "2011-12-22T16:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120626",
    "user": "mderickx"
}
```

Ok I updated the patch.



---

archive/issue_comments_120627.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-12-22T16:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120627",
    "user": "mderickx"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_120628.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-01-05T10:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120628",
    "user": "mstreng"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_120629.json:
```json
{
    "body": "Sorry I missed the trac update. I'm reviewing right now. Like it very much.\n\nMild reasons for needs_work:\n\n* incorrect spelling of diffrent\n* I guess you can't doctest `edit_devel`, but it would be good to get rid of the following warning:\n  {{{\n  sage -coverage devel/sage/sage/misc/edit_module.py\n  ----------------------------------------------------------------------\n  devel/sage/sage/misc/edit_module.py\n  SCORE devel/sage/sage/misc/edit_module.py: 100% (6 of 6) \n  \n  Possibly wrong (function name doesn't occur in doctests):\n \t * edit_devel(self, filename, linenum):\n  \n  ----------------------------------------------------------------------\n  }}}\n\nSuggestions for the patch (these things aren't regressions, they were like this always, so if you don't want to spend time on it, that's fine with me):\n\n* After %ed, the file is reloaded, which is not the correct thing to do. It should be imported, otherwise doing %ed doesn't make sense. Example:\n   {{{\n   sage: EllipticCurve([1,2,3,4,6])\n   Elliptic Curve defined by y^2 + x*y + 3*y = x^3 + 2*x^2 + 4*x + 6 over Rational Field\n   sage: %ed EllipticCurve\n   Editing... done. Executing edited code...\n   sage: EllipticCurve([1,2,3,4,6])\n   ImportError: No module named ell_generic\n   }}}\n* when the `.sub` is successful and `filename` ends with `\".sage\"`, it would be easy to afterwards overwrite the site-packages file with the source file. Then the user only has to `sage: from sage.all import *` (which you can tell the user to do, or maybe program Sage to do)",
    "created_at": "2012-01-05T10:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120629",
    "user": "mstreng"
}
```

Sorry I missed the trac update. I'm reviewing right now. Like it very much.

Mild reasons for needs_work:

* incorrect spelling of diffrent
* I guess you can't doctest `edit_devel`, but it would be good to get rid of the following warning:
  {{{
  sage -coverage devel/sage/sage/misc/edit_module.py
  ----------------------------------------------------------------------
  devel/sage/sage/misc/edit_module.py
  SCORE devel/sage/sage/misc/edit_module.py: 100% (6 of 6) 
  
  Possibly wrong (function name doesn't occur in doctests):
 	 * edit_devel(self, filename, linenum):
  
  ----------------------------------------------------------------------
  }}}

Suggestions for the patch (these things aren't regressions, they were like this always, so if you don't want to spend time on it, that's fine with me):

* After %ed, the file is reloaded, which is not the correct thing to do. It should be imported, otherwise doing %ed doesn't make sense. Example:
   {{{
   sage: EllipticCurve([1,2,3,4,6])
   Elliptic Curve defined by y^2 + x*y + 3*y = x^3 + 2*x^2 + 4*x + 6 over Rational Field
   sage: %ed EllipticCurve
   Editing... done. Executing edited code...
   sage: EllipticCurve([1,2,3,4,6])
   ImportError: No module named ell_generic
   }}}
* when the `.sub` is successful and `filename` ends with `".sage"`, it would be easy to afterwards overwrite the site-packages file with the source file. Then the user only has to `sage: from sage.all import *` (which you can tell the user to do, or maybe program Sage to do)



---

archive/issue_comments_120630.json:
```json
{
    "body": "There are no changes to the notebook, right?",
    "created_at": "2012-01-05T10:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120630",
    "user": "mstreng"
}
```

There are no changes to the notebook, right?



---

archive/issue_comments_120631.json:
```json
{
    "body": "(all tests pass on 4.8.alpha4)",
    "created_at": "2012-01-05T11:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120631",
    "user": "mstreng"
}
```

(all tests pass on 4.8.alpha4)



---

archive/issue_comments_120632.json:
```json
{
    "body": "I thought I'd fix the typo and put up a reviewer patch, but found out that there is something duplicate about your patch.\n\nThe functionality that your patch provides in `sage.misc.edit_module.edit_devel` is already in `sage.misc.edit_module.edit`. See [http://www.sagemath.org/doc/reference/sage/misc/edit_module.html](http://www.sagemath.org/doc/reference/sage/misc/edit_module.html). See also #7961.\n\nOn an unpatched sage-4.8.alpha4, I get the correct file with `sage: edit(EllipticCurve)`, but the incorrect file with `sage: %ed EllipticCurve`",
    "created_at": "2012-01-12T16:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120632",
    "user": "mstreng"
}
```

I thought I'd fix the typo and put up a reviewer patch, but found out that there is something duplicate about your patch.

The functionality that your patch provides in `sage.misc.edit_module.edit_devel` is already in `sage.misc.edit_module.edit`. See [http://www.sagemath.org/doc/reference/sage/misc/edit_module.html](http://www.sagemath.org/doc/reference/sage/misc/edit_module.html). See also #7961.

On an unpatched sage-4.8.alpha4, I get the correct file with `sage: edit(EllipticCurve)`, but the incorrect file with `sage: %ed EllipticCurve`



---

archive/issue_comments_120633.json:
```json
{
    "body": "Replying to [comment:18 mstreng]:\n> I thought I'd fix the typo and put up a reviewer patch, but found out that there is something duplicate about your patch.\n\nBut I guess you know all that. This is about `%ed`, not `edit`",
    "created_at": "2012-01-12T16:59:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120633",
    "user": "mstreng"
}
```

Replying to [comment:18 mstreng]:
> I thought I'd fix the typo and put up a reviewer patch, but found out that there is something duplicate about your patch.

But I guess you know all that. This is about `%ed`, not `edit`



---

archive/issue_comments_120634.json:
```json
{
    "body": "Attachment [11235-reviewer.patch](tarball://root/attachments/some-uuid/ticket11235/11235-reviewer.patch) by mstreng created at 2012-01-12 17:16:28\n\nreST formatting, spelling, clarity",
    "created_at": "2012-01-12T17:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120634",
    "user": "mstreng"
}
```

Attachment [11235-reviewer.patch](tarball://root/attachments/some-uuid/ticket11235/11235-reviewer.patch) by mstreng created at 2012-01-12 17:16:28

reST formatting, spelling, clarity



---

archive/issue_comments_120635.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-01-12T20:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120635",
    "user": "mstreng"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_120636.json:
```json
{
    "body": "Positive review for everything but the reviewer patch. Please review the reviewer patch!",
    "created_at": "2012-01-12T20:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120636",
    "user": "mstreng"
}
```

Positive review for everything but the reviewer patch. Please review the reviewer patch!



---

archive/issue_comments_120637.json:
```json
{
    "body": "Replying to [comment:19 mstreng]:\n> Replying to [comment:18 mstreng]:\n> > I thought I'd fix the typo and put up a reviewer patch, but found out that there is something duplicate about your patch.\n> \n> But I guess you know all that. This is about `%ed`, not `edit`\n\nYes this is exactly the reason. \nI would like to review your review patch, and at least I agree with the documentation changes. But I'm terrible at spelling so it can have positive review as soon as someone  just can guarente to me that the English is correct",
    "created_at": "2012-01-20T17:45:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120637",
    "user": "mderickx"
}
```

Replying to [comment:19 mstreng]:
> Replying to [comment:18 mstreng]:
> > I thought I'd fix the typo and put up a reviewer patch, but found out that there is something duplicate about your patch.
> 
> But I guess you know all that. This is about `%ed`, not `edit`

Yes this is exactly the reason. 
I would like to review your review patch, and at least I agree with the documentation changes. But I'm terrible at spelling so it can have positive review as soon as someone  just can guarente to me that the English is correct



---

archive/issue_comments_120638.json:
```json
{
    "body": "The English in the reviewer patch looks fine to me (although I would have said \"the Sage library\" instead of \"the sage library\").  So feel free to switch this to a positive review.",
    "created_at": "2012-01-20T18:44:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120638",
    "user": "jhpalmieri"
}
```

The English in the reviewer patch looks fine to me (although I would have said "the Sage library" instead of "the sage library").  So feel free to switch this to a positive review.



---

archive/issue_comments_120639.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-01-21T14:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120639",
    "user": "mderickx"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_120640.json:
```json
{
    "body": "There is a small problem with the documentation:\n\n```\n/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta2/local/lib/python2.7/site-packages/sage/misc/edit_module.py:docstring of sage.misc.edit_module.edit_devel:14: WARNING: Inline interpreted text or phrase reference start-string without end-string.\n```\n",
    "created_at": "2012-01-24T14:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120640",
    "user": "jdemeyer"
}
```

There is a small problem with the documentation:

```
/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta2/local/lib/python2.7/site-packages/sage/misc/edit_module.py:docstring of sage.misc.edit_module.edit_devel:14: WARNING: Inline interpreted text or phrase reference start-string without end-string.
```




---

archive/issue_comments_120641.json:
```json
{
    "body": "Replying to [comment:25 jdemeyer]:\n\nWhat causes this? Is it the ```%edit``` in the docstring?",
    "created_at": "2012-01-24T21:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120641",
    "user": "mstreng"
}
```

Replying to [comment:25 jdemeyer]:

What causes this? Is it the ```%edit``` in the docstring?



---

archive/issue_comments_120642.json:
```json
{
    "body": "No, it's the dollar sign.  Try this:\n\n```diff\ndiff --git a/sage/misc/edit_module.py b/sage/misc/edit_module.py\n--- a/sage/misc/edit_module.py\n+++ b/sage/misc/edit_module.py\n@@ -299,7 +299,7 @@ def edit_devel(self, filename, linenum):\n         sage: %ed gcd           # indirect doctest, not tested\n \n     The above should open your favorite editor (as stored in the environment\n-    variable $EDITOR) with the file in which gcd is defined, and when your\n+    variable \\$EDITOR) with the file in which gcd is defined, and when your\n     editor supports it, also at the line in wich gcd is defined.\n     \"\"\"\n     sageroot = sage.misc.sageinspect.SAGE_ROOT+'/'\n```\n",
    "created_at": "2012-01-24T21:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120642",
    "user": "jhpalmieri"
}
```

No, it's the dollar sign.  Try this:

```diff
diff --git a/sage/misc/edit_module.py b/sage/misc/edit_module.py
--- a/sage/misc/edit_module.py
+++ b/sage/misc/edit_module.py
@@ -299,7 +299,7 @@ def edit_devel(self, filename, linenum):
         sage: %ed gcd           # indirect doctest, not tested
 
     The above should open your favorite editor (as stored in the environment
-    variable $EDITOR) with the file in which gcd is defined, and when your
+    variable \$EDITOR) with the file in which gcd is defined, and when your
     editor supports it, also at the line in wich gcd is defined.
     """
     sageroot = sage.misc.sageinspect.SAGE_ROOT+'/'
```




---

archive/issue_comments_120643.json:
```json
{
    "body": "Attachment [11235_doc.patch](tarball://root/attachments/some-uuid/ticket11235/11235_doc.patch) by jdemeyer created at 2012-01-29 12:59:19",
    "created_at": "2012-01-29T12:59:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120643",
    "user": "jdemeyer"
}
```

Attachment [11235_doc.patch](tarball://root/attachments/some-uuid/ticket11235/11235_doc.patch) by jdemeyer created at 2012-01-29 12:59:19



---

archive/issue_comments_120644.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-01-29T13:03:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120644",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_120645.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-01-29T13:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120645",
    "user": "jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_120646.json:
```json
{
    "body": "[attachment:11235_doc.patch] needs review.",
    "created_at": "2012-01-29T23:35:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120646",
    "user": "jdemeyer"
}
```

[attachment:11235_doc.patch] needs review.



---

archive/issue_comments_120647.json:
```json
{
    "body": "Thanks Jeroen",
    "created_at": "2012-01-30T10:27:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120647",
    "user": "mstreng"
}
```

Thanks Jeroen



---

archive/issue_comments_120648.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-01-30T10:27:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120648",
    "user": "mstreng"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_120649.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-02-02T12:53:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120649",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_120650.json:
```json
{
    "body": "spkg contains garbage:\n\n```\njdemeyer@sage:~/spkg/ipython-0.10.2.p1$ hg status\n? .spkg-install.swp\n```\n\n\nFixed at [http://boxen.math.washington.edu/home/jdemeyer/spkg/ipython-0.10.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ipython-0.10.2.p1.spkg)",
    "created_at": "2012-03-04T20:43:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120650",
    "user": "jdemeyer"
}
```

spkg contains garbage:

```
jdemeyer@sage:~/spkg/ipython-0.10.2.p1$ hg status
? .spkg-install.swp
```


Fixed at [http://boxen.math.washington.edu/home/jdemeyer/spkg/ipython-0.10.2.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ipython-0.10.2.p1.spkg)



---

archive/issue_comments_120651.json:
```json
{
    "body": "The spkg wasn't `qfinish`ed, fixed this also.",
    "created_at": "2012-03-06T08:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11063",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11063#issuecomment-120651",
    "user": "jdemeyer"
}
```

The spkg wasn't `qfinish`ed, fixed this also.
