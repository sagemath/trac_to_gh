# Issue 24161: Document function initialization parameters

archive/issues_024161.json:
```json
{
    "body": "The classes in `symbolic/function.pyx` need better docs, esp. the parameters. Make sure it is referenced in what the user gets with `function??`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24398\n\n",
    "created_at": "2017-12-18T07:28:27Z",
    "labels": [
        "symbolics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Document function initialization parameters",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24161",
    "user": "rws"
}
```
The classes in `symbolic/function.pyx` need better docs, esp. the parameters. Make sure it is referenced in what the user gets with `function??`.

Issue created by migration from https://trac.sagemath.org/ticket/24398





---

archive/issue_comments_338573.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-03-01T16:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338573",
    "user": "rws"
}
```

New commits:



---

archive/issue_comments_338574.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-03-01T16:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338574",
    "user": "rws"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_338575.json:
```json
{
    "body": "Changing component from symbolics to documentation.",
    "created_at": "2018-03-01T16:14:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338575",
    "user": "rws"
}
```

Changing component from symbolics to documentation.



---

archive/issue_comments_338576.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-03-04T06:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338576",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_338577.json:
```json
{
    "body": "This documentation is really helpful!\n\nSuggestions:\n\n- In `src/doc/en/reference/functions/index.rst`, add a link to `src/sage/symbolic/function.pyx`\n- Presumably you meant to remove the fragment at the end of this line\n\n```\n+ * :class:`BuiltinFunction`: the code of these functions is written in Python; many special functions are of this type, see :doc\n```\n\n\nThis may be out-of-scope for this ticket but it's so trivial that I must point it out:\n\n- There is a formatting error in the docstring for `sage.symbolic.function.get_sfunction_from_serial`, there should be double backticks around `sage.symbolic.function.sfunction_serial_dict`",
    "created_at": "2018-07-28T11:22:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338577",
    "user": "@bryangingechen"
}
```

This documentation is really helpful!

Suggestions:

- In `src/doc/en/reference/functions/index.rst`, add a link to `src/sage/symbolic/function.pyx`
- Presumably you meant to remove the fragment at the end of this line

```
+ * :class:`BuiltinFunction`: the code of these functions is written in Python; many special functions are of this type, see :doc
```


This may be out-of-scope for this ticket but it's so trivial that I must point it out:

- There is a formatting error in the docstring for `sage.symbolic.function.get_sfunction_from_serial`, there should be double backticks around `sage.symbolic.function.sfunction_serial_dict`



---

archive/issue_comments_338578.json:
```json
{
    "body": "I'm willing to give this a positive review once comment 6 is addressed.",
    "created_at": "2018-12-11T09:54:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338578",
    "user": "dimpase"
}
```

I'm willing to give this a positive review once comment 6 is addressed.



---

archive/issue_comments_338579.json:
```json
{
    "body": "Changing type from task to enhancement.",
    "created_at": "2018-12-11T09:54:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338579",
    "user": "dimpase"
}
```

Changing type from task to enhancement.



---

archive/issue_comments_338580.json:
```json
{
    "body": "Two quick comments:\n\n1. `Please find extensive developer documentation for creating new functions\nin the symbolic calculus module.` is not really helpful without a hyperlink to the symbolic calculus module.\n\n2. Can you limit line lengths? Some lines are rather long.",
    "created_at": "2019-01-06T08:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338580",
    "user": "jdemeyer"
}
```

Two quick comments:

1. `Please find extensive developer documentation for creating new functions
in the symbolic calculus module.` is not really helpful without a hyperlink to the symbolic calculus module.

2. Can you limit line lengths? Some lines are rather long.



---

archive/issue_comments_338581.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-12-01T19:04:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338581",
    "user": "egourgoulhon"
}
```

New commits:



---

archive/issue_comments_338582.json:
```json
{
    "body": "The above commit implements the corrections suggested in comment:6 and comment:8. \nIt would be nice to have this in Sage 9.0...",
    "created_at": "2019-12-01T19:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338582",
    "user": "egourgoulhon"
}
```

The above commit implements the corrections suggested in comment:6 and comment:8. 
It would be nice to have this in Sage 9.0...



---

archive/issue_comments_338583.json:
```json
{
    "body": "The documentation does not build.",
    "created_at": "2019-12-02T07:40:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338583",
    "user": "@mwageringel"
}
```

The documentation does not build.



---

archive/issue_comments_338584.json:
```json
{
    "body": "basically, one cannot use `:doc:` to refer to index, one needs something like\n`list <../../../functions/index.html>` etc. I'll push a fix soon.",
    "created_at": "2019-12-02T10:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338584",
    "user": "dimpase"
}
```

basically, one cannot use `:doc:` to refer to index, one needs something like
`list <../../../functions/index.html>` etc. I'll push a fix soon.



---

archive/issue_comments_338585.json:
```json
{
    "body": "Replying to [comment:14 dimpase]:\n> basically, one cannot use `:doc:` to refer to index, \n\nIndeed. It was working in my case probably because the referred document had been already created by a previous `make doc`. \n>one needs something like\n> `list <../../../functions/index.html>` etc. I'll push a fix soon.\nAnother solution would be to add a tag in `src/doc/en/reference/functions/index.rst`,  `special-functions` say, and refer to it as `:ref:`list <special-functions>``.",
    "created_at": "2019-12-02T12:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338585",
    "user": "egourgoulhon"
}
```

Replying to [comment:14 dimpase]:
> basically, one cannot use `:doc:` to refer to index, 

Indeed. It was working in my case probably because the referred document had been already created by a previous `make doc`. 
>one needs something like
> `list <../../../functions/index.html>` etc. I'll push a fix soon.
Another solution would be to add a tag in `src/doc/en/reference/functions/index.rst`,  `special-functions` say, and refer to it as `:ref:`list <special-functions>``.



---

archive/issue_comments_338586.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-12-02T13:06:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338586",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_338587.json:
```json
{
    "body": "Replying to [comment:15 egourgoulhon]:\n> Replying to [comment:14 dimpase]:\n> >one needs something like\n> > `list <../../../functions/index.html>` etc. I'll push a fix soon.\n> Another solution would be to add a tag in `src/doc/en/reference/functions/index.rst`,  `special-functions` say, and refer to it as `:ref:`list <special-functions>``.\nI've implemented the latter solution in the last commit. Do you agree it is more robust? in particular when generating the pdf documentation (I guess something like  `../../../functions/index.html` would fail then).",
    "created_at": "2019-12-02T13:10:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338587",
    "user": "egourgoulhon"
}
```

Replying to [comment:15 egourgoulhon]:
> Replying to [comment:14 dimpase]:
> >one needs something like
> > `list <../../../functions/index.html>` etc. I'll push a fix soon.
> Another solution would be to add a tag in `src/doc/en/reference/functions/index.rst`,  `special-functions` say, and refer to it as `:ref:`list <special-functions>``.
I've implemented the latter solution in the last commit. Do you agree it is more robust? in particular when generating the pdf documentation (I guess something like  `../../../functions/index.html` would fail then).



---

archive/issue_comments_338588.json:
```json
{
    "body": "This seems to work, thanks.\nI'd rather use tag names like\n\n\n```\n+.. _calculus-index:\n```\n\nthan\n\n```\n+.. _symbolic-calculus:\n```\n\nto make it more clear where it points to.\n\nWe have quite a number of links like `<../../../foo/index.html>` in `src/sage`, perhaps all such links should be replaces the way you propose?\n\nI also wonder whether we should rather be using https://www.sphinx-doc.org/en/master/usage/extensions/autosectionlabel.html\nwhich apparently allows using headings as labels, and so explicit tags won't be needed\n(I must say I don't know how to enable it in our oh so transparent sphinx configs...)",
    "created_at": "2019-12-02T16:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338588",
    "user": "dimpase"
}
```

This seems to work, thanks.
I'd rather use tag names like


```
+.. _calculus-index:
```

than

```
+.. _symbolic-calculus:
```

to make it more clear where it points to.

We have quite a number of links like `<../../../foo/index.html>` in `src/sage`, perhaps all such links should be replaces the way you propose?

I also wonder whether we should rather be using https://www.sphinx-doc.org/en/master/usage/extensions/autosectionlabel.html
which apparently allows using headings as labels, and so explicit tags won't be needed
(I must say I don't know how to enable it in our oh so transparent sphinx configs...)



---

archive/issue_comments_338589.json:
```json
{
    "body": "it appears that `autosectionlabel` doesn't fly well with Sage (one gets name clashes all over the place, from autogenerated rst files). So unless this is reworked somehow we can't use it.",
    "created_at": "2019-12-02T18:05:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338589",
    "user": "dimpase"
}
```

it appears that `autosectionlabel` doesn't fly well with Sage (one gets name clashes all over the place, from autogenerated rst files). So unless this is reworked somehow we can't use it.



---

archive/issue_comments_338590.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-12-02T18:09:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338590",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_338591.json:
```json
{
    "body": "OK, let's get this in.",
    "created_at": "2019-12-02T18:09:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338591",
    "user": "dimpase"
}
```

OK, let's get this in.



---

archive/issue_comments_338592.json:
```json
{
    "body": "Replying to [comment:18 dimpase]:\n> We have quite a number of links like `<../../../foo/index.html>` in `src/sage`, perhaps all such links should be replaces the way you propose?\n\nAs far as I know, the tags only work within a single sphinx document, but we have many documents which is a reason for many of the relative links to exist.",
    "created_at": "2019-12-02T18:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338592",
    "user": "@mwageringel"
}
```

Replying to [comment:18 dimpase]:
> We have quite a number of links like `<../../../foo/index.html>` in `src/sage`, perhaps all such links should be replaces the way you propose?

As far as I know, the tags only work within a single sphinx document, but we have many documents which is a reason for many of the relative links to exist.



---

archive/issue_comments_338593.json:
```json
{
    "body": "Replying to [comment:19 dimpase]:\n> it appears that `autosectionlabel` doesn't fly well with Sage (one gets name clashes all over the place, from autogenerated rst files). So unless this is reworked somehow we can't use it.\n\nThanks for having given it a try. This certainly would have been a better solution...",
    "created_at": "2019-12-02T18:35:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338593",
    "user": "egourgoulhon"
}
```

Replying to [comment:19 dimpase]:
> it appears that `autosectionlabel` doesn't fly well with Sage (one gets name clashes all over the place, from autogenerated rst files). So unless this is reworked somehow we can't use it.

Thanks for having given it a try. This certainly would have been a better solution...



---

archive/issue_comments_338594.json:
```json
{
    "body": "Replying to [comment:21 gh-mwageringel]:\n> Replying to [comment:18 dimpase]:\n> > We have quite a number of links like `<../../../foo/index.html>` in `src/sage`, perhaps all such links should be replaces the way you propose?\n> \n> As far as I know, the tags only work within a single sphinx document, but we have many documents which is a reason for many of the relative links to exist.\nNot always: the following links are inside the same document (the reference manual):\n\n```\nrings/big_oh.py:    - `asymptotic expansions <../../../asymptotic/index.html>`_\nrings/big_oh.py:    - `p-adic numbers <../../../padics/index.html>`_\nrings/big_oh.py:    - `power series <../../../power_series/index.html>`_\nrings/big_oh.py:    - `polynomials <../../../polynomial_rings/index.html>`_\nrings/asymptotic/asymptotic_ring.py:`coercion <../../../../coercion/index.html>`_. \n```\n",
    "created_at": "2019-12-02T18:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338594",
    "user": "egourgoulhon"
}
```

Replying to [comment:21 gh-mwageringel]:
> Replying to [comment:18 dimpase]:
> > We have quite a number of links like `<../../../foo/index.html>` in `src/sage`, perhaps all such links should be replaces the way you propose?
> 
> As far as I know, the tags only work within a single sphinx document, but we have many documents which is a reason for many of the relative links to exist.
Not always: the following links are inside the same document (the reference manual):

```
rings/big_oh.py:    - `asymptotic expansions <../../../asymptotic/index.html>`_
rings/big_oh.py:    - `p-adic numbers <../../../padics/index.html>`_
rings/big_oh.py:    - `power series <../../../power_series/index.html>`_
rings/big_oh.py:    - `polynomials <../../../polynomial_rings/index.html>`_
rings/asymptotic/asymptotic_ring.py:`coercion <../../../../coercion/index.html>`_. 
```




---

archive/issue_comments_338595.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-12-04T22:43:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24161",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24161#issuecomment-338595",
    "user": "vbraun"
}
```

Resolution: fixed
