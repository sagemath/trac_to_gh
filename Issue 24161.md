# Issue 24161: Document function initialization parameters

Issue created by migration from Trac.

Original creator: rws

Original creation time: 2017-12-18 07:28:27

The classes in `symbolic/function.pyx` need better docs, esp. the parameters. Make sure it is referenced in what the user gets with `function??`.


---

Comment by rws created at 2018-03-01 16:13:06

New commits:


---

Comment by rws created at 2018-03-01 16:13:06

Changing status from new to needs_review.


---

Comment by rws created at 2018-03-01 16:14:01

Changing component from symbolics to documentation.


---

Comment by git created at 2018-03-04 06:34:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @bryangingechen created at 2018-07-28 11:22:43

This documentation is really helpful!

Suggestions:

- In `src/doc/en/reference/functions/index.rst`, add a link to `src/sage/symbolic/function.pyx`
- Presumably you meant to remove the fragment at the end of this line

```
+ * :class:`BuiltinFunction`: the code of these functions is written in Python; many special functions are of this type, see :doc
```


This may be out-of-scope for this ticket but it's so trivial that I must point it out:

- There is a formatting error in the docstring for `sage.symbolic.function.get_sfunction_from_serial`, there should be double backticks around `sage.symbolic.function.sfunction_serial_dict`


---

Comment by dimpase created at 2018-12-11 09:54:03

I'm willing to give this a positive review once comment 6 is addressed.


---

Comment by dimpase created at 2018-12-11 09:54:03

Changing type from task to enhancement.


---

Comment by jdemeyer created at 2019-01-06 08:23:51

Two quick comments:

1. `Please find extensive developer documentation for creating new functions
in the symbolic calculus module.` is not really helpful without a hyperlink to the symbolic calculus module.

2. Can you limit line lengths? Some lines are rather long.


---

Comment by egourgoulhon created at 2019-12-01 19:04:26

New commits:


---

Comment by egourgoulhon created at 2019-12-01 19:06:41

The above commit implements the corrections suggested in comment:6 and comment:8. 
It would be nice to have this in Sage 9.0...


---

Comment by @mwageringel created at 2019-12-02 07:40:36

The documentation does not build.


---

Comment by dimpase created at 2019-12-02 10:58:25

basically, one cannot use `:doc:` to refer to index, one needs something like
`list <../../../functions/index.html>` etc. I'll push a fix soon.


---

Comment by egourgoulhon created at 2019-12-02 12:31:23

Replying to [comment:14 dimpase]:
> basically, one cannot use `:doc:` to refer to index, 

Indeed. It was working in my case probably because the referred document had been already created by a previous `make doc`. 
>one needs something like
> `list <../../../functions/index.html>` etc. I'll push a fix soon.
Another solution would be to add a tag in `src/doc/en/reference/functions/index.rst`,  `special-functions` say, and refer to it as `:ref:`list <special-functions>``.


---

Comment by git created at 2019-12-02 13:06:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by egourgoulhon created at 2019-12-02 13:10:51

Replying to [comment:15 egourgoulhon]:
> Replying to [comment:14 dimpase]:
> >one needs something like
> > `list <../../../functions/index.html>` etc. I'll push a fix soon.
> Another solution would be to add a tag in `src/doc/en/reference/functions/index.rst`,  `special-functions` say, and refer to it as `:ref:`list <special-functions>``.
I've implemented the latter solution in the last commit. Do you agree it is more robust? in particular when generating the pdf documentation (I guess something like  `../../../functions/index.html` would fail then).


---

Comment by dimpase created at 2019-12-02 16:31:10

This seems to work, thanks.
I'd rather use tag names like


```
+.. _calculus-index:
```

than

```
+.. _symbolic-calculus:
```

to make it more clear where it points to.

We have quite a number of links like `<../../../foo/index.html>` in `src/sage`, perhaps all such links should be replaces the way you propose?

I also wonder whether we should rather be using https://www.sphinx-doc.org/en/master/usage/extensions/autosectionlabel.html
which apparently allows using headings as labels, and so explicit tags won't be needed
(I must say I don't know how to enable it in our oh so transparent sphinx configs...)


---

Comment by dimpase created at 2019-12-02 18:05:38

it appears that `autosectionlabel` doesn't fly well with Sage (one gets name clashes all over the place, from autogenerated rst files). So unless this is reworked somehow we can't use it.


---

Comment by dimpase created at 2019-12-02 18:09:52

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2019-12-02 18:09:52

OK, let's get this in.


---

Comment by @mwageringel created at 2019-12-02 18:25:59

Replying to [comment:18 dimpase]:
> We have quite a number of links like `<../../../foo/index.html>` in `src/sage`, perhaps all such links should be replaces the way you propose?

As far as I know, the tags only work within a single sphinx document, but we have many documents which is a reason for many of the relative links to exist.


---

Comment by egourgoulhon created at 2019-12-02 18:35:26

Replying to [comment:19 dimpase]:
> it appears that `autosectionlabel` doesn't fly well with Sage (one gets name clashes all over the place, from autogenerated rst files). So unless this is reworked somehow we can't use it.

Thanks for having given it a try. This certainly would have been a better solution...


---

Comment by egourgoulhon created at 2019-12-02 18:46:28

Replying to [comment:21 gh-mwageringel]:
> Replying to [comment:18 dimpase]:
> > We have quite a number of links like `<../../../foo/index.html>` in `src/sage`, perhaps all such links should be replaces the way you propose?
> 
> As far as I know, the tags only work within a single sphinx document, but we have many documents which is a reason for many of the relative links to exist.
Not always: the following links are inside the same document (the reference manual):

```
rings/big_oh.py:    - `asymptotic expansions <../../../asymptotic/index.html>`_
rings/big_oh.py:    - `p-adic numbers <../../../padics/index.html>`_
rings/big_oh.py:    - `power series <../../../power_series/index.html>`_
rings/big_oh.py:    - `polynomials <../../../polynomial_rings/index.html>`_
rings/asymptotic/asymptotic_ring.py:`coercion <../../../../coercion/index.html>`_. 
```



---

Comment by vbraun created at 2019-12-04 22:43:38

Resolution: fixed
