# Issue 16121: Wrong answers of IncidenceStructure.automorphism_group()

archive/issues_016121.json:
```json
{
    "body": "CC:  @videlec @KPanComputes @dimpase @brettpim\n\nI would say that this was broken when #16237 was fixed. The cool news is that it did not make it inside of the stable release `:-P`\n\n....\n\nOn the other hand all the doctests of `automorphism_group` were not changed, so it cannot be #16237. So it may have been wrong since the beginning ? `O_o`\n\nBefore this branch is applied :\n\n```\nsage: BlockDesign(4,[[0,1,2,3],[1,2,3]],test=False).automorphism_group()\nPermutation Group with generators [()]\n```\n\n\nAfter:\n\n```\nsage: BlockDesign(4,[[0,1,2,3],[1,2,3]],test=False).automorphism_group()\nPermutation Group with generators [(3,4), (2,3)]\n```\n\n\nAaaaaaaand it turns out that writing this patch did not even force me to change any doctest.. So it was just bad luck that the automorphism groups used in the docstrings were EXACTLY the automorphism groups of the duals (like the Fano plane... `:-P`) `:-P`\n\nNathann\n\nP.S. : this also adds some potentially useful keyword in is_block_design. That's how I found this bug.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16358\n\n",
    "created_at": "2014-05-16T09:04:23Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Wrong answers of IncidenceStructure.automorphism_group()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16121",
    "user": "https://github.com/nathanncohen"
}
```
CC:  @videlec @KPanComputes @dimpase @brettpim

I would say that this was broken when #16237 was fixed. The cool news is that it did not make it inside of the stable release `:-P`

....

On the other hand all the doctests of `automorphism_group` were not changed, so it cannot be #16237. So it may have been wrong since the beginning ? `O_o`

Before this branch is applied :

```
sage: BlockDesign(4,[[0,1,2,3],[1,2,3]],test=False).automorphism_group()
Permutation Group with generators [()]
```


After:

```
sage: BlockDesign(4,[[0,1,2,3],[1,2,3]],test=False).automorphism_group()
Permutation Group with generators [(3,4), (2,3)]
```


Aaaaaaaand it turns out that writing this patch did not even force me to change any doctest.. So it was just bad luck that the automorphism groups used in the docstrings were EXACTLY the automorphism groups of the duals (like the Fano plane... `:-P`) `:-P`

Nathann

P.S. : this also adds some potentially useful keyword in is_block_design. That's how I found this bug.

Issue created by migration from https://trac.sagemath.org/ticket/16358





---

archive/issue_comments_210119.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-16T09:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16121#issuecomment-210119",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_210120.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-16T09:07:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16121#issuecomment-210120",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210121.json:
```json
{
    "body": "Changing component from combinatorics to combinatorial designs.",
    "created_at": "2014-05-16T21:13:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16121#issuecomment-210121",
    "user": "https://github.com/nathanncohen"
}
```

Changing component from combinatorics to combinatorial designs.



---

archive/issue_comments_210122.json:
```json
{
    "body": "Hey guys... Sorry to bug you but this is a one-line bugfix, and in the meantime Sage really returns wrong results... `:-/`\n\nAaaaaaand #16367 is also a very simple improvement that does help a lot when playing with designs...\n\nNathann",
    "created_at": "2014-05-27T13:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16121#issuecomment-210122",
    "user": "https://github.com/nathanncohen"
}
```

Hey guys... Sorry to bug you but this is a one-line bugfix, and in the meantime Sage really returns wrong results... `:-/`

Aaaaaaand #16367 is also a very simple improvement that does help a lot when playing with designs...

Nathann



---

archive/issue_comments_210123.json:
```json
{
    "body": "Hi Nathann,\n\nI did not like the doctests so I rewrote them... have a look u/vdelecroix/16358. And if you like, you can set to positive review.\n\nVincent",
    "created_at": "2014-05-27T18:02:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16121#issuecomment-210123",
    "user": "https://github.com/videlec"
}
```

Hi Nathann,

I did not like the doctests so I rewrote them... have a look u/vdelecroix/16358. And if you like, you can set to positive review.

Vincent



---

archive/issue_comments_210124.json:
```json
{
    "body": "`>_<`\n\nI would love to get this PGL stuff some day... `>_<`\n\nThanks for your review !!!\n\nNathann\n----\nNew commits:",
    "created_at": "2014-05-27T18:09:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16121#issuecomment-210124",
    "user": "https://github.com/nathanncohen"
}
```

`>_<`

I would love to get this PGL stuff some day... `>_<`

Thanks for your review !!!

Nathann
----
New commits:



---

archive/issue_comments_210125.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-27T18:09:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16121#issuecomment-210125",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_210126.json:
```json
{
    "body": "Please rebase #16367 and I will continue.\n\nVincent",
    "created_at": "2014-05-27T18:10:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16121#issuecomment-210126",
    "user": "https://github.com/videlec"
}
```

Please rebase #16367 and I will continue.

Vincent



---

archive/issue_comments_210127.json:
```json
{
    "body": "Done.\n\nNathann",
    "created_at": "2014-05-27T18:20:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16121#issuecomment-210127",
    "user": "https://github.com/nathanncohen"
}
```

Done.

Nathann



---

archive/issue_comments_210128.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-29T14:51:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16121",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16121#issuecomment-210128",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_015678.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-29T14:51:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16121",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16121#event-15678"
}
```
