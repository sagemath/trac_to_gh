# Issue 16121: Wrong answers of IncidenceStructure.automorphism_group()

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2014-05-16 09:04:23

CC:  vdelecroix knsam dimpase brett

I would say that this was broken when #16237 was fixed. The cool news is that it did not make it inside of the stable release `:-P`

....

On the other hand all the doctests of `automorphism_group` were not changed, so it cannot be #16237. So it may have been wrong since the beginning ? `O_o`

Before this branch is applied :

```
sage: BlockDesign(4,[[0,1,2,3],[1,2,3]],test=False).automorphism_group()
Permutation Group with generators [()]
```


After:

```
sage: BlockDesign(4,[[0,1,2,3],[1,2,3]],test=False).automorphism_group()
Permutation Group with generators [(3,4), (2,3)]
```


Aaaaaaaand it turns out that writing this patch did not even force me to change any doctest.. So it was just bad luck that the automorphism groups used in the docstrings were EXACTLY the automorphism groups of the duals (like the Fano plane... `:-P`) `:-P`

Nathann

P.S. : this also adds some potentially useful keyword in is_block_design. That's how I found this bug.


---

Comment by ncohen created at 2014-05-16 09:07:04

Changing status from new to needs_review.


---

Comment by git created at 2014-05-16 09:07:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2014-05-16 21:13:36

Changing component from combinatorics to combinatorial designs.


---

Comment by ncohen created at 2014-05-27 13:58:29

Hey guys... Sorry to bug you but this is a one-line bugfix, and in the meantime Sage really returns wrong results... `:-/`

Aaaaaaand #16367 is also a very simple improvement that does help a lot when playing with designs...

Nathann


---

Comment by vdelecroix created at 2014-05-27 18:02:01

Hi Nathann,

I did not like the doctests so I rewrote them... have a look u/vdelecroix/16358. And if you like, you can set to positive review.

Vincent


---

Comment by ncohen created at 2014-05-27 18:09:00

`>_<`

I would love to get this PGL stuff some day... `>_<`

Thanks for your review !!!

Nathann
----
New commits:


---

Comment by ncohen created at 2014-05-27 18:09:00

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2014-05-27 18:10:06

Please rebase #16367 and I will continue.

Vincent


---

Comment by ncohen created at 2014-05-27 18:20:39

Done.

Nathann


---

Comment by vbraun created at 2014-05-29 14:51:19

Resolution: fixed
