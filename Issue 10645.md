# Issue 10645: unpickle_all called twice in a row = boom!

Issue created by migration from Trac.

Original creator: slabbe

Original creation time: 2011-01-28 20:43:32

Assignee: was

Calling twice in a row the function `unpickle_all` breaks sage:


```
sage: sage.structure.sage_object.unpickle_all()
x...
Successfully unpickled 586 objects.
Failed to unpickle 0 objects.
sage: sage.structure.sage_object.unpickle_all()
/Users/slabbe/Applications/sage-4.6.1/local/bin/sage-sage: line 300:  
7292 Abort trap              sage-ipython "$`@`" -i
$
```


Doing some `print i, A` inside the loop of the function `unpickle_all` shows that the process stop on the 170th :


```
sage: sage.structure.sage_object.unpickle_all()
...
163 _class__sage_combinat_sf_homogeneous_SymmetricFunctionAlgebra_homogeneous__.sobj
164 _class__sage_combinat_sf_jack_JackPolynomials_j__.sobj
165 _class__sage_combinat_sf_jack_JackPolynomials_p__.sobj
166 _class__sage_combinat_sf_jack_JackPolynomials_q__.sobj
167 _class__sage_combinat_sf_kschur_kSchurFunctions_t__.sobj
168 _class__sage_combinat_sf_llt_LLT_cospin__.sobj
169 _class__sage_combinat_sf_llt_LLT_spin__.sobj
170 _class__sage_combinat_sf_macdonald_MacdonaldPolynomials_h__.sobj
/Users/slabbe/Applications/sage-4.6.1/local/bin/sage-sage: line 300:  
6926 Abort trap              sage-ipython "$`@`" -i
 $ 
```


If a solution needs to change the `pickle_jar`, be aware, because it may
results in conflicts because I am actually changing it at #10354.


---

Comment by andrew.mathas created at 2013-01-25 00:50:52

See #13636 for another seg fault associated with unpickle_all.


---

Comment by slabbe created at 2017-07-19 12:25:04

Changing status from new to needs_review.


---

Comment by slabbe created at 2017-07-19 12:26:22

Changing status from needs_review to positive_review.


---

Comment by slabbe created at 2017-07-19 12:26:22

This is not a problem anymore on 8.0.rc0.


---

Comment by pbruin created at 2017-08-04 12:46:34

A doctest to check that this is fixed was added in #5838.


---

Comment by embray created at 2017-12-12 08:23:33

Resolution: wontfix
