# Issue 14182: Fix Cygwin inline fortran issue

archive/issues_014182.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  jpflori dimpase\n\n\n```\nsage -t  devel/sage-main/sage/misc/inline_fortran.py\n**********************************************************************\nFile \"/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/misc/inline_fortran.py\", line 29:\n    sage: fortran(_example)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/sagetest/sage-5.8.beta4/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_1[4]>\", line 1, in <module>\n        fortran(_example)###line 29:\n    sage: fortran(_example)\n      File \"/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/inline_fortran.py\", line 21, in __call__\n        return self.eval(*args, **kwds)\n      File \"/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/inline_fortran.py\", line 93, in eval\n        raise RuntimeError(\"failed to compile Fortran code:\\n\" + log_string)\n    RuntimeError: failed to compile Fortran code:\n    Found executable /home/sagetest/sage-5.8.beta4/local/bin/sage-inline-fortran\n    gnu: no Fortran 90 compiler found\n Found executable /usr/bin/ld\n    Found executable /usr/bin/ar\n    Found executable /usr/bin/ranlib\n    gnu: no Fortran 90 compiler found\n\n**********************************************************************\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/14386\n\n",
    "created_at": "2013-03-30T01:02:09Z",
    "labels": [
        "porting: Cygwin",
        "major",
        "bug"
    ],
    "title": "Fix Cygwin inline fortran issue",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14182",
    "user": "kcrisman"
}
```
Assignee: tbd

CC:  jpflori dimpase


```
sage -t  devel/sage-main/sage/misc/inline_fortran.py
**********************************************************************
File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/misc/inline_fortran.py", line 29:
    sage: fortran(_example)
Exception raised:
    Traceback (most recent call last):
      File "/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/sagetest/sage-5.8.beta4/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_1[4]>", line 1, in <module>
        fortran(_example)###line 29:
    sage: fortran(_example)
      File "/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/inline_fortran.py", line 21, in __call__
        return self.eval(*args, **kwds)
      File "/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/inline_fortran.py", line 93, in eval
        raise RuntimeError("failed to compile Fortran code:\n" + log_string)
    RuntimeError: failed to compile Fortran code:
    Found executable /home/sagetest/sage-5.8.beta4/local/bin/sage-inline-fortran
    gnu: no Fortran 90 compiler found
 Found executable /usr/bin/ld
    Found executable /usr/bin/ar
    Found executable /usr/bin/ranlib
    gnu: no Fortran 90 compiler found

**********************************************************************
```


Issue created by migration from https://trac.sagemath.org/ticket/14386





---

archive/issue_comments_178255.json:
```json
{
    "body": "Please specify if this is with Sage's GCC spkg or not and which version of `gfortran` you use.",
    "created_at": "2013-03-30T04:29:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178255",
    "user": "jdemeyer"
}
```

Please specify if this is with Sage's GCC spkg or not and which version of `gfortran` you use.



---

archive/issue_comments_178256.json:
```json
{
    "body": "Sorry for the delay - it's the system gcc, gfortran 4.5.3.  It's possible things will work better with the Sage gcc but I don't think I'll have the chance to look into this further.",
    "created_at": "2013-03-30T13:20:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178256",
    "user": "kcrisman"
}
```

Sorry for the delay - it's the system gcc, gfortran 4.5.3.  It's possible things will work better with the Sage gcc but I don't think I'll have the chance to look into this further.



---

archive/issue_comments_178257.json:
```json
{
    "body": "Nope they don't with Sage's gcc.",
    "created_at": "2013-03-30T13:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178257",
    "user": "jpflori"
}
```

Nope they don't with Sage's gcc.



---

archive/issue_comments_178258.json:
```json
{
    "body": "Same as in #14387: it's just because we're looking for a .so file but gfortran produces a .dll one.",
    "created_at": "2013-03-30T14:10:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178258",
    "user": "jpflori"
}
```

Same as in #14387: it's just because we're looking for a .so file but gfortran produces a .dll one.



---

archive/issue_comments_178259.json:
```json
{
    "body": "Attachment [trac_14386.patch](tarball://root/attachments/some-uuid/ticket14386/trac_14386.patch) by jpflori created at 2013-03-30 14:45:31",
    "created_at": "2013-03-30T14:45:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178259",
    "user": "jpflori"
}
```

Attachment [trac_14386.patch](tarball://root/attachments/some-uuid/ticket14386/trac_14386.patch) by jpflori created at 2013-03-30 14:45:31



---

archive/issue_comments_178260.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-03-30T14:45:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178260",
    "user": "jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_178261.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-03-30T21:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178261",
    "user": "kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_178262.json:
```json
{
    "body": "Great, I'll try that.  Works - great!\n\nTrivial typo, by the way - \"except\" not \"expect\", auto-correct is likely to blame.",
    "created_at": "2013-03-30T21:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178262",
    "user": "kcrisman"
}
```

Great, I'll try that.  Works - great!

Trivial typo, by the way - "except" not "expect", auto-correct is likely to blame.



---

archive/issue_comments_178263.json:
```json
{
    "body": "Replying to [comment:4 jpflori]:\n> Nope they don't with Sage's gcc.\nWhat does this sentence mean?",
    "created_at": "2013-04-01T10:20:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178263",
    "user": "jdemeyer"
}
```

Replying to [comment:4 jpflori]:
> Nope they don't with Sage's gcc.
What does this sentence mean?



---

archive/issue_comments_178264.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2013-04-01T10:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178264",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_178265.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2013-04-01T11:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178265",
    "user": "jpflori"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_178266.json:
```json
{
    "body": "The doctests are broken with Cygwin gcc and with Sage gcc as well.",
    "created_at": "2013-04-01T11:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178266",
    "user": "jpflori"
}
```

The doctests are broken with Cygwin gcc and with Sage gcc as well.



---

archive/issue_comments_178267.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-01T11:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178267",
    "user": "jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_178268.json:
```json
{
    "body": "Or gfortran if you prefer. Or GNU Compiler Collection.",
    "created_at": "2013-04-01T11:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178268",
    "user": "jpflori"
}
```

Or gfortran if you prefer. Or GNU Compiler Collection.



---

archive/issue_comments_178269.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-04-02T10:52:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14182#issuecomment-178269",
    "user": "jdemeyer"
}
```

Resolution: fixed
