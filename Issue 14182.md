# Issue 14182: Fix Cygwin inline fortran issue

Issue created by migration from Trac.

Original creator: kcrisman

Original creation time: 2013-03-30 01:02:09

Assignee: tbd

CC:  jpflori dimpase


```
sage -t  devel/sage-main/sage/misc/inline_fortran.py
**********************************************************************
File "/home/sagetest/sage-5.8.beta4/devel/sage-main/sage/misc/inline_fortran.py", line 29:
    sage: fortran(_example)
Exception raised:
    Traceback (most recent call last):
      File "/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/sagetest/sage-5.8.beta4/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/sagetest/sage-5.8.beta4/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_1[4]>", line 1, in <module>
        fortran(_example)###line 29:
    sage: fortran(_example)
      File "/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/inline_fortran.py", line 21, in __call__
        return self.eval(*args, **kwds)
      File "/home/sagetest/sage-5.8.beta4/local/lib/python/site-packages/sage/misc/inline_fortran.py", line 93, in eval
        raise RuntimeError("failed to compile Fortran code:\n" + log_string)
    RuntimeError: failed to compile Fortran code:
    Found executable /home/sagetest/sage-5.8.beta4/local/bin/sage-inline-fortran
    gnu: no Fortran 90 compiler found
 Found executable /usr/bin/ld
    Found executable /usr/bin/ar
    Found executable /usr/bin/ranlib
    gnu: no Fortran 90 compiler found

**********************************************************************
```



---

Comment by jdemeyer created at 2013-03-30 04:29:32

Please specify if this is with Sage's GCC spkg or not and which version of `gfortran` you use.


---

Comment by kcrisman created at 2013-03-30 13:20:46

Sorry for the delay - it's the system gcc, gfortran 4.5.3.  It's possible things will work better with the Sage gcc but I don't think I'll have the chance to look into this further.


---

Comment by jpflori created at 2013-03-30 13:23:00

Nope they don't with Sage's gcc.


---

Comment by jpflori created at 2013-03-30 14:10:35

Same as in #14387: it's just because we're looking for a .so file but gfortran produces a .dll one.


---

Attachment


---

Comment by jpflori created at 2013-03-30 14:45:31

Changing status from new to needs_review.


---

Comment by kcrisman created at 2013-03-30 21:07:36

Changing status from needs_review to positive_review.


---

Comment by kcrisman created at 2013-03-30 21:07:36

Great, I'll try that.  Works - great!

Trivial typo, by the way - "except" not "expect", auto-correct is likely to blame.


---

Comment by jdemeyer created at 2013-04-01 10:20:22

Replying to [comment:4 jpflori]:
> Nope they don't with Sage's gcc.
What does this sentence mean?


---

Comment by jdemeyer created at 2013-04-01 10:20:36

Changing status from positive_review to needs_info.


---

Comment by jpflori created at 2013-04-01 11:41:45

Changing status from needs_info to needs_review.


---

Comment by jpflori created at 2013-04-01 11:41:45

The doctests are broken with Cygwin gcc and with Sage gcc as well.


---

Comment by jpflori created at 2013-04-01 11:41:56

Changing status from needs_review to positive_review.


---

Comment by jpflori created at 2013-04-01 11:42:24

Or gfortran if you prefer. Or GNU Compiler Collection.


---

Comment by jdemeyer created at 2013-04-02 10:52:49

Resolution: fixed
