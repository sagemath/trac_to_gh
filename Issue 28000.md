# Issue 28000: Atkinson's algorithm for counting linear extensions of (tree) posets

Issue created by migration from https://trac.sagemath.org/ticket/28237

Original creator: jmatherne

Original creation time: 2019-07-23 14:27:56




---

Comment by jmatherne created at 2019-07-23 14:45:09

Changing keywords from "" to "sd99, linear extensions, posets, trees, spectrum".


---

Comment by jmatherne created at 2019-07-23 14:45:09

Changing priority from major to minor.


---

Comment by jmatherne created at 2019-07-23 14:45:09

We are working on this at Sage Days 99 this week.


---

Comment by jmatherne created at 2019-07-23 14:45:09

Changing type from PLEASE CHANGE to enhancement.


---

Comment by jmatherne created at 2019-07-23 14:45:09

Set assignee to jmatherne.


---

Comment by jmatherne created at 2019-07-23 14:52:00

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by jmatherne created at 2019-07-23 14:52:00

Changing priority from minor to major.


---

Comment by jmatherne created at 2019-07-25 14:09:37

New commits:


---

Comment by jmatherne created at 2019-07-25 14:09:37

Changing keywords from "sd99, linear extensions, posets, trees, spectrum" to "IMA Coding Sprints, days99, linear extensions, posets, trees, spectrum".


---

Comment by git created at 2019-07-26 00:12:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-07-26 16:40:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmatherne created at 2019-07-26 16:53:57

Changing status from new to needs_review.


---

Comment by git created at 2019-07-26 19:12:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-11-29 13:23:50

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2019-11-29 13:23:50

- syntax should by python3 compatible, and it is not

- in the first-line-description, use "Return" and not "Returns"

- EXAMPLES: should be followed by 2 colons, usually


---

Comment by embray created at 2019-12-30 14:48:17

Ticket retargeted after milestone closed


---

Comment by git created at 2020-04-04 18:19:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-04-04 20:18:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bgillespie created at 2020-04-04 22:17:08

Rebased the ticket on release `9.1.beta9` and made a few revisions to docstrings and code to improve a few conventions.  The functionality for this ticket seems to be working well, so I think the patch should be good to go.

Since I didn't directly write any of the code for the original patch, I'm going to call this a positive review with a reviewer patch.  If one of the other authors can verify that the rebased code works for them as expected, we should be all set to change the ticket to positive review.


---

Comment by bgillespie created at 2020-04-04 22:17:08

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2020-04-05 07:46:47

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2020-04-05 07:46:47

Hello,

every new "raise" line that you introduce should be doctested.


---

Comment by git created at 2020-04-05 17:35:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bgillespie created at 2020-04-05 17:38:32

Changing status from needs_work to needs_review.


---

Comment by bgillespie created at 2020-04-05 17:38:32

Replying to [comment:19 chapoton]:
> Hello,
> 
> every new "raise" line that you introduce should be doctested.

Sure, added the tests.  Let me know if you see any other issues.


---

Comment by chapoton created at 2020-04-07 07:08:14

Thanks.

found a typo:

Hasse daigram


---

Comment by git created at 2020-04-07 14:48:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bgillespie created at 2020-04-07 14:50:33

Replying to [comment:22 chapoton]:

> found a typo:
> 
> Hasse daigram

Fixed.


---

Comment by mkoeppe created at 2020-04-14 19:41:51

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.


---

Comment by @sgrosser created at 2020-06-08 23:56:28

Instead of using `binomial(i,j)` each time, it would be more efficient to use Pascal's identity and generate the full Pascal's triangle from levels 0 to n. Otherwise, you are recomputing many binomial coefficients repeatedly.


---

Comment by tscrim created at 2020-06-09 00:10:41

I have just made a few documentation tweaks.

I think that computing and storing all of that information would take more time since it is done in Python than the binomial computation time (done at at most the C level if not a lower level). So I don't think it is worthwhile to do this right now unless we already have efficient code to generate Pascal's triangle.

However, if you do want a way to get more speed with minimal changes, I would suggest moving all of the helper functions to the Hasse diagram. That way you are working with integer labels and directly on the underlying digraph.
----
New commits:


---

Comment by git created at 2020-06-09 00:30:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kdilks created at 2020-06-09 00:47:10

Convention for the list of methods is to refer to it as "the poset", not "a poset", or "this poset".

`atkinson` method doc-string is missing the grave character for the last use of i-th.

Not going to make those changes right away until I'm finished getting reacquainted with this code and checking things over again.


---

Comment by tscrim created at 2020-06-09 01:27:44

Replying to [comment:29 kdilks]:
> Convention for the list of methods is to refer to it as "the poset", not "a poset", or "this poset".

There is no such convention, or at least once that is followed. `unwrap` uses "this poset" and the "a poset" makes grammatical sense here. However, I am +1 for having more uniformity.

> Not going to make those changes right away until I'm finished getting reacquainted with this code and checking things over again.

Stefan (gh-sgrosser) should be soon moving stuff to the Hasse diagram backend, so give him a few days to do this.

How have you been doing Kevin?


---

Comment by kdilks created at 2020-06-09 02:11:59

I'll wait until that gets done, then. Only other thing I noticed was that `spectrum` could maybe use a better non-trivial example than BooleanLattice, since it's not immediately obvious what element '5' should correspond to.

Still working on the non-academic job search.


---

Comment by git created at 2020-06-13 19:21:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-06-13 23:34:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2020-06-15 23:37:12

Thanks. LGTM.


---

Comment by tscrim created at 2020-06-15 23:37:12

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2020-06-15 23:38:41

Changing status from positive_review to needs_work.


---

Comment by tscrim created at 2020-06-15 23:38:41

Forgot about addressing comment:31 for a different example.


---

Comment by git created at 2020-06-16 00:28:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-06-16 00:31:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2020-06-16 00:33:08

Changing status from needs_work to positive_review.


---

Comment by tscrim created at 2020-06-16 00:33:08

This now addresses comment:31. Kevin, if you disagree, feel free to revert the positive review.

`@`kdills Good luck with the job search. We should catch up sometime soon.


---

Comment by vbraun created at 2020-06-22 22:34:25

Resolution: fixed


---

Comment by tscrim created at 2020-07-13 23:17:21

Changing keywords from "IMA Coding Sprints, days99, linear extensions, posets, trees, spectrum" to "IMA Coding Sprints, days99, linear extensions, posets, trees, spectrum, gsoc2020".
