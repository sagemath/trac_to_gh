# Issue 19881: Internal links in doc are sometimes seen as external

Issue created by migration from https://trac.sagemath.org/ticket/20118

Original creator: jdemeyer

Original creation time: 2016-02-25 21:38:39

CC:  hivert

The file `local/share/doc/sage/html/en/thematic_tutorials/index.html` contains

```
<div class="section" id="number-theory">
<h2>Number Theory<a class="headerlink" href="#number-theory" title="Permalink to this headline">Â¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="numtheory_rsa.html#numtheory-rsa"><em>Number Theory and the RSA Public Key Cryptosystem</em></a></li>
<li><a class="reference external" href="/usr/local/src/sage-git/local/share/doc/sage/html/en/reference/padics/sage/rings/padics/tutorial.html#sage-rings-padics-        tutorial" title="(in Sage Reference Manual: p-Adics v7.1.beta3)"><em>Introduction to the p-adics</em></a></li>
<li><a class="reference internal" href="explicit_methods_in_number_theory/index.html#explicit-methods-in-number-theory"><em>Three Lectures about Explicit Methods in    Number Theory Using Sage</em></a></li>
</ul>
</div>
```


Note the "reference external" which really should be internal. This breaks the sagenb live documentation.


---

Comment by jdemeyer created at 2016-02-26 08:45:32

Changing priority from critical to blocker.


---

Comment by jdemeyer created at 2016-02-26 15:24:46

This one is tough to debug... if anybody has an idea, that would be welcome.


---

Comment by jhpalmieri created at 2016-02-26 21:13:57

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2016-02-26 21:13:57

This fixes it for me.
----
New commits:


---

Comment by jdemeyer created at 2016-02-27 13:35:15

Your patch does indeed fix the problem. I added a doctest, please review.
----
New commits:


---

Comment by jhpalmieri created at 2016-02-27 16:52:36

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2016-02-27 16:52:36

I was thinking of adding a doctest but hadn't gotten around to it. Looks good.


---

Comment by vbraun created at 2016-02-28 09:55:49

Resolution: fixed
