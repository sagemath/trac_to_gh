# Issue 32846: System package information / tox.ini / GH Actions for alpine linux

archive/issues_032846.json:
```json
{
    "body": "CC:  @dimpase @slel @frederichan-IMJPRG parisse @dkwo @tornaria @orlitzky\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/33083\n\n",
    "created_at": "2021-12-26T20:17:20Z",
    "labels": [
        "component: porting"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "System package information / tox.ini / GH Actions for alpine linux",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32846",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @dimpase @slel @frederichan-IMJPRG parisse @dkwo @tornaria @orlitzky



Issue created by migration from https://trac.sagemath.org/ticket/33083





---

archive/issue_comments_467704.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-12-26T23:11:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467704",
    "user": "https://github.com/mkoeppe"
}
```

New commits:



---

archive/issue_comments_467705.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-26T23:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467705",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467706.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-27T00:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467706",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_467707.json:
```json
{
    "body": "```\n  [r-3.6.3]   ********************************************************************************\n  [r-3.6.3]   /sage/build/bin/sage-dist-helpers: line 143: fmt: command not found\n  [r-3.6.3]   ********************************************************************************\n```",
    "created_at": "2021-12-27T00:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467707",
    "user": "https://github.com/mkoeppe"
}
```

```
  [r-3.6.3]   ********************************************************************************
  [r-3.6.3]   /sage/build/bin/sage-dist-helpers: line 143: fmt: command not found
  [r-3.6.3]   ********************************************************************************
```



---

archive/issue_comments_467708.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-27T00:23:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467708",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467709.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-27T00:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467709",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467710.json:
```json
{
    "body": "flint\n\n```\nIn file included from /sage/local/var/tmp/sage/build/flint-2.7.1/src/thread_support.h:16,\n                 from /sage/local/var/tmp/sage/build/flint-2.7.1/src/nmod_mat.h:35,\n                 from /sage/local/var/tmp/sage/build/flint-2.7.1/src/nmod_poly.h:34,\n                 from /sage/local/var/tmp/sage/build/flint-2.7.1/src/fmpz_poly.h:35,\n                 from /sage/local/var/tmp/sage/build/flint-2.7.1/src/aprcl.h:18,\n                 from config_gauss.c:12:\n/sage/local/var/tmp/sage/build/flint-2.7.1/src/thread_pool.h:55:5: error: unknown type name 'cpu_set_t'\n   55 |     cpu_set_t original_affinity;\n      |     ^~~~~~~~~\n```\n\ngiac:\n\n```\nIn file included from History.cc:8:\nfirst.h: In function 'float fgamma(float)':\nfirst.h:546:39: error: 'gammaf' was not declared in this scope; did you mean 'tgammaf'?\n  546 | inline float fgamma(float f1){ return gammaf(f1); } // or tgammaf(f1) on some versions of emscripten\n      |                                       ^~~~~~\n      |                                       tgammaf\nmake[5]: *** [Makefile:976: History.lo] Error 1\n```",
    "created_at": "2021-12-27T01:54:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467710",
    "user": "https://github.com/mkoeppe"
}
```

flint

```
In file included from /sage/local/var/tmp/sage/build/flint-2.7.1/src/thread_support.h:16,
                 from /sage/local/var/tmp/sage/build/flint-2.7.1/src/nmod_mat.h:35,
                 from /sage/local/var/tmp/sage/build/flint-2.7.1/src/nmod_poly.h:34,
                 from /sage/local/var/tmp/sage/build/flint-2.7.1/src/fmpz_poly.h:35,
                 from /sage/local/var/tmp/sage/build/flint-2.7.1/src/aprcl.h:18,
                 from config_gauss.c:12:
/sage/local/var/tmp/sage/build/flint-2.7.1/src/thread_pool.h:55:5: error: unknown type name 'cpu_set_t'
   55 |     cpu_set_t original_affinity;
      |     ^~~~~~~~~
```

giac:

```
In file included from History.cc:8:
first.h: In function 'float fgamma(float)':
first.h:546:39: error: 'gammaf' was not declared in this scope; did you mean 'tgammaf'?
  546 | inline float fgamma(float f1){ return gammaf(f1); } // or tgammaf(f1) on some versions of emscripten
      |                                       ^~~~~~
      |                                       tgammaf
make[5]: *** [Makefile:976: History.lo] Error 1
```



---

archive/issue_comments_467711.json:
```json
{
    "body": "there is also `mpfr-dev` for `mpfr`.",
    "created_at": "2021-12-27T09:17:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467711",
    "user": "https://github.com/dimpase"
}
```

there is also `mpfr-dev` for `mpfr`.



---

archive/issue_comments_467712.json:
```json
{
    "body": "see https://github.com/wbhart/flint2/issues/1054 for Flint error\n\nProbably as a workaround on can put -D_GNU_SOURCE into CFLAGS.",
    "created_at": "2021-12-27T09:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467712",
    "user": "https://github.com/dimpase"
}
```

see https://github.com/wbhart/flint2/issues/1054 for Flint error

Probably as a workaround on can put -D_GNU_SOURCE into CFLAGS.



---

archive/issue_comments_467713.json:
```json
{
    "body": "That's indeed what we do on Void linux, see https://github.com/void-linux/void-packages/blob/master/srcpkgs/flintlib/template",
    "created_at": "2021-12-27T11:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467713",
    "user": "https://github.com/dkwo"
}
```

That's indeed what we do on Void linux, see https://github.com/void-linux/void-packages/blob/master/srcpkgs/flintlib/template



---

archive/issue_comments_467714.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-27T19:44:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467714",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467715.json:
```json
{
    "body": "The `giac` build error was previously mentioned in \n- https://www.mail-archive.com/sage-devel`@`googlegroups.com/msg100176.html\n- https://groups.google.com/g/sage-devel/c/kiEh8JgbWeQ/m/Oqe77sQTCAAJ",
    "created_at": "2021-12-27T19:46:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467715",
    "user": "https://github.com/mkoeppe"
}
```

The `giac` build error was previously mentioned in 
- https://www.mail-archive.com/sage-devel`@`googlegroups.com/msg100176.html
- https://groups.google.com/g/sage-devel/c/kiEh8JgbWeQ/m/Oqe77sQTCAAJ



---

archive/issue_comments_467716.json:
```json
{
    "body": "From https://www.gnu.org/software/libc/manual/html_node/Special-Functions.html:\n\nFunction: double gamma (double x)\nFunction: float gammaf (float x)\nFunction: long double gammal (long double x)\nPreliminary: | MT-Unsafe race:signgam | AS-Unsafe | AC-Safe | See POSIX Safety Concepts.\n\nThese functions exist for compatibility reasons. They are equivalent to lgamma etc. It is better to use lgamma since for one the name reflects better the actual computation, and moreover lgamma is standardized in ISO C99 while gamma is not.",
    "created_at": "2021-12-27T19:48:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467716",
    "user": "https://github.com/mkoeppe"
}
```

From https://www.gnu.org/software/libc/manual/html_node/Special-Functions.html:

Function: double gamma (double x)
Function: float gammaf (float x)
Function: long double gammal (long double x)
Preliminary: | MT-Unsafe race:signgam | AS-Unsafe | AC-Safe | See POSIX Safety Concepts.

These functions exist for compatibility reasons. They are equivalent to lgamma etc. It is better to use lgamma since for one the name reflects better the actual computation, and moreover lgamma is standardized in ISO C99 while gamma is not.



---

archive/issue_comments_467717.json:
```json
{
    "body": "Has this patch been submitted to upstream `giac`?\n- https://github.com/void-linux/void-packages/blob/master/srcpkgs/giac/patches/fgamma.patch",
    "created_at": "2021-12-27T19:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467717",
    "user": "https://github.com/mkoeppe"
}
```

Has this patch been submitted to upstream `giac`?
- https://github.com/void-linux/void-packages/blob/master/srcpkgs/giac/patches/fgamma.patch



---

archive/issue_comments_467718.json:
```json
{
    "body": "There seems to be some confusion between gamma and log of gamma here.",
    "created_at": "2021-12-27T20:06:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467718",
    "user": "https://github.com/mkoeppe"
}
```

There seems to be some confusion between gamma and log of gamma here.



---

archive/issue_comments_467719.json:
```json
{
    "body": "Does this test pass on Alpine?\n\n```\nsage -t /usr/lib/sage-9.5.beta9/src/sage/matrix/matrix_mod2_dense.pyx # 1 doctest failed\n```\n\nIt's the last one failing on Void with musl 1.2.2,\nwhere it gives \n\n```\ncysignals.signals.SignalError: matrix allocation failed\n```\n\ninstead of\n\n```\nRuntimeError: matrix allocation failed\n```\n\nso I wonder if the result is the same on Alpine,\nand whether possibly the test result should be updated.",
    "created_at": "2021-12-28T18:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467719",
    "user": "https://github.com/dkwo"
}
```

Does this test pass on Alpine?

```
sage -t /usr/lib/sage-9.5.beta9/src/sage/matrix/matrix_mod2_dense.pyx # 1 doctest failed
```

It's the last one failing on Void with musl 1.2.2,
where it gives 

```
cysignals.signals.SignalError: matrix allocation failed
```

instead of

```
RuntimeError: matrix allocation failed
```

so I wonder if the result is the same on Alpine,
and whether possibly the test result should be updated.



---

archive/issue_comments_467720.json:
```json
{
    "body": "Replying to [comment:18 gh-dkwo]:\n> Does this test pass on Alpine?\n\n\nIt looks to me like a bug in `posix_memalign()` in musl 1.2.2, see https://github.com/void-linux/void-packages/pull/34030#issuecomment-1002300676 and the comment before that one.\n\nThe cysignals code looks ok to me (specifically `sig_raise_exception` in `signals.pyx`) except that when raising `SignalError` with a custom message there is no way to distinguish `SIGILL`, `SIGSEGV` and `SIGBUS`. Maybe useful to append or prepend `\"(SIGILL)\"`, etc. to the message to aid debugging.",
    "created_at": "2021-12-28T22:33:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467720",
    "user": "https://github.com/tornaria"
}
```

Replying to [comment:18 gh-dkwo]:
> Does this test pass on Alpine?


It looks to me like a bug in `posix_memalign()` in musl 1.2.2, see https://github.com/void-linux/void-packages/pull/34030#issuecomment-1002300676 and the comment before that one.

The cysignals code looks ok to me (specifically `sig_raise_exception` in `signals.pyx`) except that when raising `SignalError` with a custom message there is no way to distinguish `SIGILL`, `SIGSEGV` and `SIGBUS`. Maybe useful to append or prepend `"(SIGILL)"`, etc. to the message to aid debugging.



---

archive/issue_comments_467721.json:
```json
{
    "body": "Replying to [comment:17 mkoeppe]:\n> There seems to be some confusion between gamma and log of gamma here.\n\n\nThe intention of `fgamma()` seems to be to compute gamma (not log gamma). If I'm not mistaken the patch would be necessary for glibc as much as for musl, but I don't know if there's a way to trigger giac to call `fgamma()` at all.\n\nYou may find https://github.com/void-linux/void-packages/blob/master/srcpkgs/giac/patches/malloc.patch useful.",
    "created_at": "2021-12-29T02:13:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467721",
    "user": "https://github.com/tornaria"
}
```

Replying to [comment:17 mkoeppe]:
> There seems to be some confusion between gamma and log of gamma here.


The intention of `fgamma()` seems to be to compute gamma (not log gamma). If I'm not mistaken the patch would be necessary for glibc as much as for musl, but I don't know if there's a way to trigger giac to call `fgamma()` at all.

You may find https://github.com/void-linux/void-packages/blob/master/srcpkgs/giac/patches/malloc.patch useful.



---

archive/issue_comments_467722.json:
```json
{
    "body": "`@`parisse, could you take a look at the issue with `gamma` (comment:16, comment:21)?",
    "created_at": "2021-12-29T19:35:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467722",
    "user": "https://github.com/mkoeppe"
}
```

`@`parisse, could you take a look at the issue with `gamma` (comment:16, comment:21)?



---

archive/issue_comments_467723.json:
```json
{
    "body": "some apline system packages listed, e.g. primesieve, is only available in their testing repo. I.e. one needs to make sure that\n`/etc/apk/repositories`\ncontains\n\n```\nhttp://dl-cdn.alpinelinux.org/alpine/edge/testing\n```",
    "created_at": "2022-01-01T10:38:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467723",
    "user": "https://github.com/dimpase"
}
```

some apline system packages listed, e.g. primesieve, is only available in their testing repo. I.e. one needs to make sure that
`/etc/apk/repositories`
contains

```
http://dl-cdn.alpinelinux.org/alpine/edge/testing
```



---

archive/issue_comments_467724.json:
```json
{
    "body": "for Flint, `d7b89f1`\n\n```\n+# Trac #33083: Needed for cpu_set_t on musl libc\n+CPPFLAGS=\"$CPPFLAGS -D_GNU_SOURCE\"\n+export CPPFLAGS\n```\ndoes not work. One really needs to use CFLAGS instead. Also, the same is needed for arb,\nas it includes flint's headers, and without it it's the same error.",
    "created_at": "2022-01-01T14:36:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467724",
    "user": "https://github.com/dimpase"
}
```

for Flint, `d7b89f1`

```
+# Trac #33083: Needed for cpu_set_t on musl libc
+CPPFLAGS="$CPPFLAGS -D_GNU_SOURCE"
+export CPPFLAGS
```
does not work. One really needs to use CFLAGS instead. Also, the same is needed for arb,
as it includes flint's headers, and without it it's the same error.



---

archive/issue_comments_467725.json:
```json
{
    "body": "Replying to [comment:21 tornaria]:\n> Replying to [comment:17 mkoeppe]:\n> > There seems to be some confusion between gamma and log of gamma here.\n\n> \n> The intention of `fgamma()` seems to be to compute gamma (not log gamma). If I'm not mistaken the patch would be necessary for glibc as much as for musl, but I don't know if there's a way to trigger giac to call `fgamma()` at all.\n> \n> You may find https://github.com/void-linux/void-packages/blob/master/srcpkgs/giac/patches/malloc.patch useful.\n\n\nFrom reading giac source, it's obvious that `tgammaf` was meant there. It's just some weirdness of musl or alpine which makes it not to use `tgammaf`, but `gammaf`, where e.g. on Apple it would have been `tgammaf`.\n\nBuilding with `CPPFLAGS=\"$CPPFLAGS -DNO_BSD\" make giac` succeeds. `NO_BSD` is some strange variable that does not seem to be used anywhere else in giac, so that's tentative.",
    "created_at": "2022-01-01T15:52:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467725",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:21 tornaria]:
> Replying to [comment:17 mkoeppe]:
> > There seems to be some confusion between gamma and log of gamma here.

> 
> The intention of `fgamma()` seems to be to compute gamma (not log gamma). If I'm not mistaken the patch would be necessary for glibc as much as for musl, but I don't know if there's a way to trigger giac to call `fgamma()` at all.
> 
> You may find https://github.com/void-linux/void-packages/blob/master/srcpkgs/giac/patches/malloc.patch useful.


From reading giac source, it's obvious that `tgammaf` was meant there. It's just some weirdness of musl or alpine which makes it not to use `tgammaf`, but `gammaf`, where e.g. on Apple it would have been `tgammaf`.

Building with `CPPFLAGS="$CPPFLAGS -DNO_BSD" make giac` succeeds. `NO_BSD` is some strange variable that does not seem to be used anywhere else in giac, so that's tentative.



---

archive/issue_comments_467726.json:
```json
{
    "body": "The next problem is with numpy, see #33070 and the attachment there. Apparently numpy currently is a problem on alpine/edge. I'll look up numpy's issues on this.",
    "created_at": "2022-01-02T09:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467726",
    "user": "https://github.com/dimpase"
}
```

The next problem is with numpy, see #33070 and the attachment there. Apparently numpy currently is a problem on alpine/edge. I'll look up numpy's issues on this.



---

archive/issue_comments_467727.json:
```json
{
    "body": "one more package to add - mpc:\n\n```diff\n--- /dev/null\n+++ b/build/pkgs/mpc/distros/apline.txt\n@@ -0,0 +1,2 @@\n+mpc1\n+mpc1-dev\n```",
    "created_at": "2022-01-02T22:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467727",
    "user": "https://github.com/dimpase"
}
```

one more package to add - mpc:

```diff
--- /dev/null
+++ b/build/pkgs/mpc/distros/apline.txt
@@ -0,0 +1,2 @@
+mpc1
+mpc1-dev
```



---

archive/issue_comments_467728.json:
```json
{
    "body": "Feel free to push to branch after fixing the typoe `apline` -> `alpine`",
    "created_at": "2022-01-02T22:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467728",
    "user": "https://github.com/mkoeppe"
}
```

Feel free to push to branch after fixing the typoe `apline` -> `alpine`



---

archive/issue_comments_467729.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2022-01-02T23:36:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467729",
    "user": "https://github.com/dimpase"
}
```

Last 10 new commits:



---

archive/issue_comments_467730.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-02T23:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467730",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467731.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-01-09T18:54:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467731",
    "user": "https://github.com/mkoeppe"
}
```

New commits:



---

archive/issue_comments_467732.json:
```json
{
    "body": "The problem with `giac` is still unresolved",
    "created_at": "2022-01-09T20:23:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467732",
    "user": "https://github.com/mkoeppe"
}
```

The problem with `giac` is still unresolved



---

archive/issue_comments_467733.json:
```json
{
    "body": "maybe add the workaround from comment:25 ?",
    "created_at": "2022-01-09T20:47:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467733",
    "user": "https://github.com/dimpase"
}
```

maybe add the workaround from comment:25 ?



---

archive/issue_comments_467734.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-09T21:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467734",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467735.json:
```json
{
    "body": "how about the numpy problem?\n\nI looked a bit into this - while alpine does provide a numpy package, I had trouble finding their patches/source package.",
    "created_at": "2022-01-09T21:51:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467735",
    "user": "https://github.com/dimpase"
}
```

how about the numpy problem?

I looked a bit into this - while alpine does provide a numpy package, I had trouble finding their patches/source package.



---

archive/issue_comments_467736.json:
```json
{
    "body": "Replying to [comment:37 dimpase]:\n> how about the numpy problem?\n\n\nFixed by #33138.",
    "created_at": "2022-01-10T02:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467736",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:37 dimpase]:
> how about the numpy problem?


Fixed by #33138.



---

archive/issue_comments_467737.json:
```json
{
    "body": "Next issue:\n\n```\n  [cvxopt-1.2.7]     src/C/umfpack.c:23:10: fatal error: umfpack.h: No such file or directory\n  [cvxopt-1.2.7]        23 | #include \"umfpack.h\"\n  [cvxopt-1.2.7]           |          ^~~~~~~~~~~\n  [cvxopt-1.2.7]     compilation terminated.\n```",
    "created_at": "2022-01-10T02:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467737",
    "user": "https://github.com/mkoeppe"
}
```

Next issue:

```
  [cvxopt-1.2.7]     src/C/umfpack.c:23:10: fatal error: umfpack.h: No such file or directory
  [cvxopt-1.2.7]        23 | #include "umfpack.h"
  [cvxopt-1.2.7]           |          ^~~~~~~~~~~
  [cvxopt-1.2.7]     compilation terminated.
```



---

archive/issue_comments_467738.json:
```json
{
    "body": "This problem is again - our `build/pkgs/suitesparse/spkg-configure.m4` finds suitesparse but forgets to tell anyone where it was found.",
    "created_at": "2022-01-10T03:53:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467738",
    "user": "https://github.com/mkoeppe"
}
```

This problem is again - our `build/pkgs/suitesparse/spkg-configure.m4` finds suitesparse but forgets to tell anyone where it was found.



---

archive/issue_comments_467739.json:
```json
{
    "body": "Similar to #30052.",
    "created_at": "2022-01-10T04:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467739",
    "user": "https://github.com/mkoeppe"
}
```

Similar to #30052.



---

archive/issue_comments_467740.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-10T05:23:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467740",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467741.json:
```json
{
    "body": "Replying to [comment:40 mkoeppe]:\n> This problem is again - our `build/pkgs/suitesparse/spkg-configure.m4` finds suitesparse but forgets to tell anyone where it was found.\n\n\nSuitesparse found in the system library/header path but cvxopt tries to guess it anyway?\n\nThis has been reported a few times,\n- https://github.com/cvxopt/cvxopt/issues/156\n- https://github.com/cvxopt/cvxopt/issues/174\n\nFor now we'll probably be adding another special case to\n\nhttps://github.com/cvxopt/cvxopt/blob/master/setup.py#L55",
    "created_at": "2022-01-10T12:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467741",
    "user": "https://github.com/orlitzky"
}
```

Replying to [comment:40 mkoeppe]:
> This problem is again - our `build/pkgs/suitesparse/spkg-configure.m4` finds suitesparse but forgets to tell anyone where it was found.


Suitesparse found in the system library/header path but cvxopt tries to guess it anyway?

This has been reported a few times,
- https://github.com/cvxopt/cvxopt/issues/156
- https://github.com/cvxopt/cvxopt/issues/174

For now we'll probably be adding another special case to

https://github.com/cvxopt/cvxopt/blob/master/setup.py#L55



---

archive/issue_comments_467742.json:
```json
{
    "body": "Replying to [comment:43 git]:\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                           |                                                                 |\n> |-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n> |[455e1fa](https://git.sagemath.org/sage.git/commit/?id=455e1fa3187386367b43d0e3869e5d39f5b8101d)|`build/pkgs/numpy/spkg-install.in: Use pip wheel --no-use-pep517`|\n> |[1fe1e85](https://git.sagemath.org/sage.git/commit/?id=1fe1e859086183d0fe6e86cda3b1227ff3a96501)|`Merge #33138`|\n\n\nThis gives a different error:\n\n```\n  Running setup.py clean for numpy\n  Running command /home/dima/sagetrac-mirror/local/var/lib/sage/venv-python3.10/bin/python3 -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/hom\ne/dima/sagetrac-mirror/local/var/lib/sage/venv-python3.10/var/tmp/sage/build/numpy-1.21.4/src/setup.py'\"'\"'; __file__='\"'\"'/home/dima/sagetrac-mirror/local/var/lib/\nsage/venv-python3.10/var/tmp/sage/build/numpy-1.21.4/src/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.Str\ningIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))\n' clean --all\n  /home/dima/sagetrac-mirror/local/var/lib/sage/venv-python3.10/var/tmp/sage/build/numpy-1.21.4/src/setup.py:63: RuntimeWarning: NumPy 1.21.4 may not yet support Py\nthon 3.10.\n    warnings.warn(\n  Running from numpy source directory.\n\n  `setup.py clean` is not supported, use one of the following instead:\n\n    - `git clean -xdf` (cleans all files)\n    - `git clean -Xdf` (cleans all versioned files, doesn't touch\n                        files that aren't checked into the git repo)\n\n  Add `--force` to your command to use it anyway if you must (unsupported).\n\n  ERROR: Failed cleaning build dir for numpy\nFailed to build numpy\nERROR: Failed to build one or more wheels\n********************************************************************************\nError building a wheel for numpy-1.21.4\n```",
    "created_at": "2022-01-10T12:37:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467742",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:43 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                           |                                                                 |
> |-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
> |[455e1fa](https://git.sagemath.org/sage.git/commit/?id=455e1fa3187386367b43d0e3869e5d39f5b8101d)|`build/pkgs/numpy/spkg-install.in: Use pip wheel --no-use-pep517`|
> |[1fe1e85](https://git.sagemath.org/sage.git/commit/?id=1fe1e859086183d0fe6e86cda3b1227ff3a96501)|`Merge #33138`|


This gives a different error:

```
  Running setup.py clean for numpy
  Running command /home/dima/sagetrac-mirror/local/var/lib/sage/venv-python3.10/bin/python3 -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '"'"'/hom
e/dima/sagetrac-mirror/local/var/lib/sage/venv-python3.10/var/tmp/sage/build/numpy-1.21.4/src/setup.py'"'"'; __file__='"'"'/home/dima/sagetrac-mirror/local/var/lib/
sage/venv-python3.10/var/tmp/sage/build/numpy-1.21.4/src/setup.py'"'"';f = getattr(tokenize, '"'"'open'"'"', open)(__file__) if os.path.exists(__file__) else io.Str
ingIO('"'"'from setuptools import setup; setup()'"'"');code = f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))
' clean --all
  /home/dima/sagetrac-mirror/local/var/lib/sage/venv-python3.10/var/tmp/sage/build/numpy-1.21.4/src/setup.py:63: RuntimeWarning: NumPy 1.21.4 may not yet support Py
thon 3.10.
    warnings.warn(
  Running from numpy source directory.

  `setup.py clean` is not supported, use one of the following instead:

    - `git clean -xdf` (cleans all files)
    - `git clean -Xdf` (cleans all versioned files, doesn't touch
                        files that aren't checked into the git repo)

  Add `--force` to your command to use it anyway if you must (unsupported).

  ERROR: Failed cleaning build dir for numpy
Failed to build numpy
ERROR: Failed to build one or more wheels
********************************************************************************
Error building a wheel for numpy-1.21.4
```



---

archive/issue_comments_467743.json:
```json
{
    "body": "Nor it fixed the already reported numpy error, the `clean` thing is just an extra after\n\n```\n[numpy-1.21.4]   creating build/temp.linux-x86_64-3.10/build/src.linux-x86_64-3.10/numpy/core/src/npymath\n[numpy-1.21.4]   compile options: '-Ibuild/src.linux-x86_64-3.10/numpy/core/src/npymath -Inumpy/core/include -Ibuild/src.linux-x86_64-3.10/numpy/core/include/numpy -Ibuild/src.linux-x86_64-3.10/numpy/distutils/include -Inumpy/core/src/common -Inumpy/core/src -Inumpy/core -Inumpy/core/src/npymath -Inumpy/core/src/multiarray -Inumpy/core/src/umath -Inumpy/core/src/npysort -Inumpy/core/src/_simd -I/home/dima/sagetrac-mirror/local/var/lib/sage/venv-python3.10/include -I/usr/include/python3.10 -Ibuild/src.linux-x86_64-3.10/numpy/core/src/common -Ibuild/src.linux-x86_64-3.10/numpy/core/src/npymath -c'\n[numpy-1.21.4]   extra options: '-msse -msse2 -msse3'\n[numpy-1.21.4]   error: [Errno 2] No such file or directory\n[numpy-1.21.4] \n[numpy-1.21.4]   ########### CLIB COMPILER OPTIMIZATION ###########\n[numpy-1.21.4]   Platform      :\n[numpy-1.21.4]     Architecture: x64\n[numpy-1.21.4]     Compiler    : gcc\n[numpy-1.21.4] \n[numpy-1.21.4]   CPU baseline  :\n[numpy-1.21.4]     Requested   : 'min'\n[numpy-1.21.4]     Enabled     : SSE SSE2 SSE3\n[numpy-1.21.4]     Flags       : -msse -msse2 -msse3\n[numpy-1.21.4]     Extra checks: none\n```\n\napline sources for numpy are in https://git.alpinelinux.org/aports/tree/community/py3-numpy - going to try their patch. Note that they just call `python3 setup.py` directly, no pip.",
    "created_at": "2022-01-10T13:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467743",
    "user": "https://github.com/dimpase"
}
```

Nor it fixed the already reported numpy error, the `clean` thing is just an extra after

```
[numpy-1.21.4]   creating build/temp.linux-x86_64-3.10/build/src.linux-x86_64-3.10/numpy/core/src/npymath
[numpy-1.21.4]   compile options: '-Ibuild/src.linux-x86_64-3.10/numpy/core/src/npymath -Inumpy/core/include -Ibuild/src.linux-x86_64-3.10/numpy/core/include/numpy -Ibuild/src.linux-x86_64-3.10/numpy/distutils/include -Inumpy/core/src/common -Inumpy/core/src -Inumpy/core -Inumpy/core/src/npymath -Inumpy/core/src/multiarray -Inumpy/core/src/umath -Inumpy/core/src/npysort -Inumpy/core/src/_simd -I/home/dima/sagetrac-mirror/local/var/lib/sage/venv-python3.10/include -I/usr/include/python3.10 -Ibuild/src.linux-x86_64-3.10/numpy/core/src/common -Ibuild/src.linux-x86_64-3.10/numpy/core/src/npymath -c'
[numpy-1.21.4]   extra options: '-msse -msse2 -msse3'
[numpy-1.21.4]   error: [Errno 2] No such file or directory
[numpy-1.21.4] 
[numpy-1.21.4]   ########### CLIB COMPILER OPTIMIZATION ###########
[numpy-1.21.4]   Platform      :
[numpy-1.21.4]     Architecture: x64
[numpy-1.21.4]     Compiler    : gcc
[numpy-1.21.4] 
[numpy-1.21.4]   CPU baseline  :
[numpy-1.21.4]     Requested   : 'min'
[numpy-1.21.4]     Enabled     : SSE SSE2 SSE3
[numpy-1.21.4]     Flags       : -msse -msse2 -msse3
[numpy-1.21.4]     Extra checks: none
```

apline sources for numpy are in https://git.alpinelinux.org/aports/tree/community/py3-numpy - going to try their patch. Note that they just call `python3 setup.py` directly, no pip.



---

archive/issue_comments_467744.json:
```json
{
    "body": "Apline patches don't help. They don't build wheels, as far as I can see, either.",
    "created_at": "2022-01-10T14:15:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467744",
    "user": "https://github.com/dimpase"
}
```

Apline patches don't help. They don't build wheels, as far as I can see, either.



---

archive/issue_comments_467745.json:
```json
{
    "body": "given that numpy don't distribute wheels for musl libc, it might be something they just can't do at the moment...",
    "created_at": "2022-01-10T15:11:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467745",
    "user": "https://github.com/dimpase"
}
```

given that numpy don't distribute wheels for musl libc, it might be something they just can't do at the moment...



---

archive/issue_comments_467746.json:
```json
{
    "body": "see https://github.com/numpy/numpy/issues/20780",
    "created_at": "2022-01-10T16:02:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467746",
    "user": "https://github.com/dimpase"
}
```

see https://github.com/numpy/numpy/issues/20780



---

archive/issue_comments_467747.json:
```json
{
    "body": "Replying to [comment:45 dimpase]:\n> Replying to [comment:43 git]:\n> > Branch pushed to git repo; I updated commit sha1. New commits:\n> > |                                                                                                                                           |                                                                 |\n> > |-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n> > |[455e1fa](https://git.sagemath.org/sage.git/commit/?id=455e1fa3187386367b43d0e3869e5d39f5b8101d)|`build/pkgs/numpy/spkg-install.in: Use pip wheel --no-use-pep517`|\n> > |[1fe1e85](https://git.sagemath.org/sage.git/commit/?id=1fe1e859086183d0fe6e86cda3b1227ff3a96501)|`Merge #33138`|\n\n> \n> This gives a different error\n\n\nWorks fine here. How are you testing this?",
    "created_at": "2022-01-10T17:52:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467747",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:45 dimpase]:
> Replying to [comment:43 git]:
> > Branch pushed to git repo; I updated commit sha1. New commits:
> > |                                                                                                                                           |                                                                 |
> > |-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
> > |[455e1fa](https://git.sagemath.org/sage.git/commit/?id=455e1fa3187386367b43d0e3869e5d39f5b8101d)|`build/pkgs/numpy/spkg-install.in: Use pip wheel --no-use-pep517`|
> > |[1fe1e85](https://git.sagemath.org/sage.git/commit/?id=1fe1e859086183d0fe6e86cda3b1227ff3a96501)|`Merge #33138`|

> 
> This gives a different error


Works fine here. How are you testing this?



---

archive/issue_comments_467748.json:
```json
{
    "body": "Replying to [comment:50 mkoeppe]:\n> Replying to [comment:45 dimpase]:\n> > Replying to [comment:43 git]:\n> > > Branch pushed to git repo; I updated commit sha1. New commits:\n> > > |                                                                                                                                           |                                                                 |\n> > > |-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n> > > |[455e1fa](https://git.sagemath.org/sage.git/commit/?id=455e1fa3187386367b43d0e3869e5d39f5b8101d)|`build/pkgs/numpy/spkg-install.in: Use pip wheel --no-use-pep517`|\n> > > |[1fe1e85](https://git.sagemath.org/sage.git/commit/?id=1fe1e859086183d0fe6e86cda3b1227ff3a96501)|`Merge #33138`|\n\n> > \n> > This gives a different error\n\n> \n> Works fine here. How are you testing this?\n\n\nrunning Apline in an lxc container.\nUsing their Python 3.10, their openblas - I guess that's the only pieces of the config puzzle that matter. \n\nThat's the same error as I get while trying to build numpy wheel without Sage using pip,\njust by running `pip wheel -e .` in the unzipped numpy distro. (same error on their master from the repo, too),",
    "created_at": "2022-01-11T11:05:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467748",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:50 mkoeppe]:
> Replying to [comment:45 dimpase]:
> > Replying to [comment:43 git]:
> > > Branch pushed to git repo; I updated commit sha1. New commits:
> > > |                                                                                                                                           |                                                                 |
> > > |-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
> > > |[455e1fa](https://git.sagemath.org/sage.git/commit/?id=455e1fa3187386367b43d0e3869e5d39f5b8101d)|`build/pkgs/numpy/spkg-install.in: Use pip wheel --no-use-pep517`|
> > > |[1fe1e85](https://git.sagemath.org/sage.git/commit/?id=1fe1e859086183d0fe6e86cda3b1227ff3a96501)|`Merge #33138`|

> > 
> > This gives a different error

> 
> Works fine here. How are you testing this?


running Apline in an lxc container.
Using their Python 3.10, their openblas - I guess that's the only pieces of the config puzzle that matter. 

That's the same error as I get while trying to build numpy wheel without Sage using pip,
just by running `pip wheel -e .` in the unzipped numpy distro. (same error on their master from the repo, too),



---

archive/issue_comments_467749.json:
```json
{
    "body": "Your installation is broken somehow",
    "created_at": "2022-01-11T16:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467749",
    "user": "https://github.com/mkoeppe"
}
```

Your installation is broken somehow



---

archive/issue_comments_467750.json:
```json
{
    "body": "Maybe, but \"No such file or directory\" error ought to be traceable...",
    "created_at": "2022-01-11T20:15:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467750",
    "user": "https://github.com/dimpase"
}
```

Maybe, but "No such file or directory" error ought to be traceable...



---

archive/issue_comments_467751.json:
```json
{
    "body": "OK, let's get this in. (the lxc container setup might be to blame for the numpy issue I keep seeing)",
    "created_at": "2022-01-12T14:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467751",
    "user": "https://github.com/dimpase"
}
```

OK, let's get this in. (the lxc container setup might be to blame for the numpy issue I keep seeing)



---

archive/issue_comments_467752.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-01-12T14:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467752",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_467753.json:
```json
{
    "body": "Looks like the added flags break the build of `arb` on Debian variants - https://github.com/mkoeppe/sage/runs/4785815685?check_suite_focus=true",
    "created_at": "2022-01-12T16:29:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467753",
    "user": "https://github.com/mkoeppe"
}
```

Looks like the added flags break the build of `arb` on Debian variants - https://github.com/mkoeppe/sage/runs/4785815685?check_suite_focus=true



---

archive/issue_comments_467754.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-01-12T16:29:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467754",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_events_087411.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-12T17:03:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32846#event-87411"
}
```



---

archive/issue_comments_467755.json:
```json
{
    "body": "Replying to [comment:44 mjo]:\n> Replying to [comment:40 mkoeppe]:\n> > This problem is again - our `build/pkgs/suitesparse/spkg-configure.m4` finds suitesparse but forgets to tell anyone where it was found.\n\n> \n> Suitesparse found in the system library/header path but cvxopt tries to guess it anyway?\n> \n> This has been reported a few times,\n> - https://github.com/cvxopt/cvxopt/issues/156\n> - https://github.com/cvxopt/cvxopt/issues/174\n> \n> For now we'll probably be adding another special case to\n> \n> https://github.com/cvxopt/cvxopt/blob/master/setup.py#L55\n\n\nSee also #31905",
    "created_at": "2022-01-17T08:12:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467755",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:44 mjo]:
> Replying to [comment:40 mkoeppe]:
> > This problem is again - our `build/pkgs/suitesparse/spkg-configure.m4` finds suitesparse but forgets to tell anyone where it was found.

> 
> Suitesparse found in the system library/header path but cvxopt tries to guess it anyway?
> 
> This has been reported a few times,
> - https://github.com/cvxopt/cvxopt/issues/156
> - https://github.com/cvxopt/cvxopt/issues/174
> 
> For now we'll probably be adding another special case to
> 
> https://github.com/cvxopt/cvxopt/blob/master/setup.py#L55


See also #31905



---

archive/issue_events_087412.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:19:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32846#event-87412"
}
```



---

archive/issue_events_087413.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:19:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32846#event-87413"
}
```



---

archive/issue_comments_467756.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-06-18T22:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467756",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_467757.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-07T23:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32846#issuecomment-467757",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_087414.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32846#event-87414"
}
```



---

archive/issue_events_087415.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32846",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32846#event-87415"
}
```
