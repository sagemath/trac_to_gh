# Issue 12903: ToroidalHexagonalGrid2dGraph

archive/issues_012903.json:
```json
{
    "body": "Assignee: jason, ncohen, rlm\n\nOoch. This patch implements a method with a nasty name. With this one can create  hexagonal grids on the torus, and have some acceptable drawing.\n\nIt also modifies the embedding of ToroidalGrid2dGraph, as some edges did not appear on the drawing.\n\nNathann\n\nIssue created by migration from https://trac.sagemath.org/ticket/13075\n\n",
    "created_at": "2012-06-01T14:08:20Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "title": "ToroidalHexagonalGrid2dGraph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12903",
    "user": "ncohen"
}
```
Assignee: jason, ncohen, rlm

Ooch. This patch implements a method with a nasty name. With this one can create  hexagonal grids on the torus, and have some acceptable drawing.

It also modifies the embedding of ToroidalGrid2dGraph, as some edges did not appear on the drawing.

Nathann

Issue created by migration from https://trac.sagemath.org/ticket/13075





---

archive/issue_comments_155359.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-06-01T14:09:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155359",
    "user": "ncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_155360.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2012-07-20T11:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155360",
    "user": "eisermbi"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_155361.json:
```json
{
    "body": "Hi Nathann,\n\nI looked at the patch and found the modified layout of `ToroidalGrid2dGraph` better.\n\nFor a hexagonal grid graph, can you give some reference with the definition you are using? Your graph is 6-regular while several other definitions are 3-regular. For example, see article 1203.0666v1, section 5,  from arXiv.org, or [http://mathworld.wolfram.com/HexagonalGrid.html](http://mathworld.wolfram.com/HexagonalGrid.html). I am confused ;-)\n\nBirk",
    "created_at": "2012-07-20T11:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155361",
    "user": "eisermbi"
}
```

Hi Nathann,

I looked at the patch and found the modified layout of `ToroidalGrid2dGraph` better.

For a hexagonal grid graph, can you give some reference with the definition you are using? Your graph is 6-regular while several other definitions are 3-regular. For example, see article 1203.0666v1, section 5,  from arXiv.org, or [http://mathworld.wolfram.com/HexagonalGrid.html](http://mathworld.wolfram.com/HexagonalGrid.html). I am confused ;-)

Birk



---

archive/issue_comments_155362.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2012-10-01T12:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155362",
    "user": "ncohen"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_155363.json:
```json
{
    "body": "That's rather true... After trying to find an intermediate solution, I ended up renaming the function. It makes more sense like that `:-)`\n\nI hope that everything is running smoothly on your side ! I am now back from asia and I work in Paris `:-)`\n\nNathann",
    "created_at": "2012-10-01T12:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155363",
    "user": "ncohen"
}
```

That's rather true... After trying to find an intermediate solution, I ended up renaming the function. It makes more sense like that `:-)`

I hope that everything is running smoothly on your side ! I am now back from asia and I work in Paris `:-)`

Nathann



---

archive/issue_comments_155364.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-10-28T16:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155364",
    "user": "dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_155365.json:
```json
{
    "body": "Hello,\n\nI was about to write a small review patch to add:\n- a space between i and \\in (same for j) since otherwise i and in are glued when asking for the doc of the function. \n- to write ``((i+1)%n_1, (j+1)%n_2`` so add (). \nBut then I found a problem in the method as well as for `ToroidalGrid2dGraph`, `Grid2dGraph`, and certainly others: I'm able to call `graphs.Toroidal6RegularGrid2dGraph(-1,2)` without warnings! O_o\n\nFor which values of n1 and n2 are these methods defined? So far, I'm able to produce a graph that is not 6-regular.\n\nDavid.",
    "created_at": "2012-10-28T16:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155365",
    "user": "dcoudert"
}
```

Hello,

I was about to write a small review patch to add:
- a space between i and \in (same for j) since otherwise i and in are glued when asking for the doc of the function. 
- to write ``((i+1)%n_1, (j+1)%n_2`` so add (). 
But then I found a problem in the method as well as for `ToroidalGrid2dGraph`, `Grid2dGraph`, and certainly others: I'm able to call `graphs.Toroidal6RegularGrid2dGraph(-1,2)` without warnings! O_o

For which values of n1 and n2 are these methods defined? So far, I'm able to produce a graph that is not 6-regular.

David.



---

archive/issue_comments_155366.json:
```json
{
    "body": "Oh, right. Well, I added what you asked, in this new function and also in Grid2dGraph `:-)`\n\nNathann",
    "created_at": "2012-10-31T09:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155366",
    "user": "ncohen"
}
```

Oh, right. Well, I added what you asked, in this new function and also in Grid2dGraph `:-)`

Nathann



---

archive/issue_comments_155367.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-10-31T09:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155367",
    "user": "ncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_155368.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-10-31T10:12:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155368",
    "user": "dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_155369.json:
```json
{
    "body": "That's much better now.",
    "created_at": "2012-10-31T10:12:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155369",
    "user": "dcoudert"
}
```

That's much better now.



---

archive/issue_comments_155370.json:
```json
{
    "body": "Thanks ! I'm reimplementing something to compute the girth with static_sparse_graph, because of the conversations on sage-devel these days `:-)`\n\nIt's good to write a piece of code knowing it will not have to be changed later `:-)`\n\nNathann",
    "created_at": "2012-10-31T10:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155370",
    "user": "ncohen"
}
```

Thanks ! I'm reimplementing something to compute the girth with static_sparse_graph, because of the conversations on sage-devel these days `:-)`

It's good to write a piece of code knowing it will not have to be changed later `:-)`

Nathann



---

archive/issue_comments_155371.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-11-01T16:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155371",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_155372.json:
```json
{
    "body": "The documentation doesn't build correctly:\n\n```\n/release/merger/sage-5.5.beta2/local/lib/python2.7/site-packages/sage/graphs/graph_generators.py:docstring of sage.graphs.graph_generators.GraphGenerators.Toroidal6RegularGrid2dGraph:16: WARNING: Literal block expected; none found.\n```\n\nand\n\n```\n! Extra }, or forgotten $.\nl.85529 ...ordinates $(i,j)$ for $i \\in \\{0...i-1}\n                                                  $\n?\n! Emergency stop.\nl.85529 ...ordinates $(i,j)$ for $i \\in \\{0...i-1}\n                                                  $\n!  ==> Fatal error occurred, no output PDF file produced!\n```\n",
    "created_at": "2012-11-01T16:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155372",
    "user": "jdemeyer"
}
```

The documentation doesn't build correctly:

```
/release/merger/sage-5.5.beta2/local/lib/python2.7/site-packages/sage/graphs/graph_generators.py:docstring of sage.graphs.graph_generators.GraphGenerators.Toroidal6RegularGrid2dGraph:16: WARNING: Literal block expected; none found.
```

and

```
! Extra }, or forgotten $.
l.85529 ...ordinates $(i,j)$ for $i \in \{0...i-1}
                                                  $
?
! Emergency stop.
l.85529 ...ordinates $(i,j)$ for $i \in \{0...i-1}
                                                  $
!  ==> Fatal error occurred, no output PDF file produced!
```




---

archive/issue_comments_155373.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-11-01T17:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155373",
    "user": "ncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_155374.json:
```json
{
    "body": "Gloops. LaTeX does not like \"%\" much, and there was a \"::\" where it should not be. Sorry about that, I just fixed it !\n\nNathann",
    "created_at": "2012-11-01T17:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155374",
    "user": "ncohen"
}
```

Gloops. LaTeX does not like "%" much, and there was a "::" where it should not be. Sorry about that, I just fixed it !

Nathann



---

archive/issue_comments_155375.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-11-01T17:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155375",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_155376.json:
```json
{
    "body": "The PDF still doesn't work.",
    "created_at": "2012-11-01T17:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155376",
    "user": "jdemeyer"
}
```

The PDF still doesn't work.



---

archive/issue_comments_155377.json:
```json
{
    "body": "Are you sure you uploaded the right patch?",
    "created_at": "2012-11-01T17:40:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155377",
    "user": "jdemeyer"
}
```

Are you sure you uploaded the right patch?



---

archive/issue_comments_155378.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-11-01T17:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155378",
    "user": "ncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_155379.json:
```json
{
    "body": "\n```\n~$ md5sum trac_13075.patch /tmp/a.patch \n2996688ca9b0d1b325e406f054bdca9a  trac_13075.patch\ndb9c6e30a366712c2c979dfb6805f94f  /tmp/a.patch\n```\n\n\nAhem. Sorry again `>_<`\n\nNathann",
    "created_at": "2012-11-01T17:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155379",
    "user": "ncohen"
}
```


```
~$ md5sum trac_13075.patch /tmp/a.patch 
2996688ca9b0d1b325e406f054bdca9a  trac_13075.patch
db9c6e30a366712c2c979dfb6805f94f  /tmp/a.patch
```


Ahem. Sorry again `>_<`

Nathann



---

archive/issue_comments_155380.json:
```json
{
    "body": "Attachment [trac_13075.patch](tarball://root/attachments/some-uuid/ticket13075/trac_13075.patch) by ncohen created at 2012-11-01 17:43:36",
    "created_at": "2012-11-01T17:43:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155380",
    "user": "ncohen"
}
```

Attachment [trac_13075.patch](tarball://root/attachments/some-uuid/ticket13075/trac_13075.patch) by ncohen created at 2012-11-01 17:43:36



---

archive/issue_comments_155381.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-11-17T08:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12903#issuecomment-155381",
    "user": "jdemeyer"
}
```

Resolution: fixed
