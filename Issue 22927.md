# Issue 22927: cache Polynomial.is_irreducible()

Issue created by migration from Trac.

Original creator: saraedum

Original creation time: 2017-06-07 16:59:10

Keywords: sd86.5

Determining irreducibility is often very expensive. At the same time, it requires hardly any memory to cache this.


---

Comment by git created at 2017-06-07 17:22:30

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by saraedum created at 2017-06-07 17:25:31

I took the liberty to polish the docstrings a bit while I was at it.
Some comments:
- I removed the mention of composite n from the generic docstring since this is not the documentation that you see when you look at the docstring for a polynomial over `Z/nZ`.
- I removed the mention of ticket 5140 since I found the discussion there confusing and replaced it with the conclusion of that discussion.
- I did not add a doctest for the actual caching. How would I do that (without checking `type(f.is_irreducible)`?)


---

Comment by saraedum created at 2017-06-07 17:25:31

Changing status from new to needs_review.


---

Comment by saraedum created at 2017-06-07 23:54:00

Changing status from needs_review to needs_work.


---

Comment by aly.deines created at 2017-06-08 00:27:45

Actually, this isn't caching:

```
sage: S.<s> = Zmod(7)[]
sage: s.is_irreducible()
True
sage: s.is_irreducible.cache
sage: s.is_irreducible.cache is None
True
```



---

Comment by aly.deines created at 2017-06-08 01:17:15

Changing status from needs_work to needs_review.


---

Comment by aly.deines created at 2017-06-08 01:17:15

This should be caching now.  I also added doctests.
----
New commits:


---

Comment by roed created at 2017-06-08 06:08:53

Changing status from needs_review to positive_review.


---

Comment by roed created at 2017-06-08 06:08:53

I fixed a doctest error, and Julian okayed it verbally.  I ran tests locally, so giving this a positive review.
----
New commits:


---

Comment by git created at 2017-06-09 00:56:13

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2017-06-09 00:56:13

Changing status from positive_review to needs_review.


---

Comment by git created at 2017-06-09 00:57:23

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by saraedum created at 2017-06-09 00:59:07

pushed to the wrong ticket number again, sorry.


---

Comment by saraedum created at 2017-06-09 00:59:07

Changing status from needs_review to positive_review.


---

Comment by git created at 2017-06-09 00:59:28

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2017-06-09 00:59:28

Changing status from positive_review to needs_review.


---

Comment by saraedum created at 2017-06-09 01:03:21

Changing status from needs_review to positive_review.


---

Comment by saraedum created at 2017-06-09 01:03:21

ok. I think I reverted to the positive_review state now.


---

Comment by vbraun created at 2017-06-13 06:51:08

Resolution: fixed
