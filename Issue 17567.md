# Issue 17567: Cleanup of sage.graphs.pq_trees

archive/issues_017567.json:
```json
{
    "body": "CC:  dcoudert dimpase\n\nWhile fixing the bug reported at #17787, I noticed several things in `sage.graphs.pq_trees` that should be cleaned. Some misnamed functions, hard-to-read documentation, and also a couple of simple but useful missing features that can be very helpful when debugging code.\n\nThis branch consists of several commits which do the following:\n\n- Rename `.cardinality` to `.number_of_children`: the `PQ`-trees encode a set of permutations, and the 'cardinality' function should represent that, instead of what it represents now.\n\n- Add a real `.cardinality` function, which can be used to compute the number of different representations of an interval graph\n\n- Add a `.orderings` function, which lists all possibles representations of an interval graph\n\n- remove `.is_P` and `.is_Q`. These functions were barely used in the code itself, and can be replaced with `isinstance(x,P)` and `isinstance(x,Q)`.\n\n- Move the documentation of class PQ-tree, which actually explains how the main algorithm works, into the module's doc. It is also rewritten, and hopefully easier to understand.\n\n- Some one-line changes that improve readability or add links.\n\nNathann\n\nIssue created by migration from https://trac.sagemath.org/ticket/17804\n\n",
    "created_at": "2015-02-18T17:33:36Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "title": "Cleanup of sage.graphs.pq_trees",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17567",
    "user": "ncohen"
}
```
CC:  dcoudert dimpase

While fixing the bug reported at #17787, I noticed several things in `sage.graphs.pq_trees` that should be cleaned. Some misnamed functions, hard-to-read documentation, and also a couple of simple but useful missing features that can be very helpful when debugging code.

This branch consists of several commits which do the following:

- Rename `.cardinality` to `.number_of_children`: the `PQ`-trees encode a set of permutations, and the 'cardinality' function should represent that, instead of what it represents now.

- Add a real `.cardinality` function, which can be used to compute the number of different representations of an interval graph

- Add a `.orderings` function, which lists all possibles representations of an interval graph

- remove `.is_P` and `.is_Q`. These functions were barely used in the code itself, and can be replaced with `isinstance(x,P)` and `isinstance(x,Q)`.

- Move the documentation of class PQ-tree, which actually explains how the main algorithm works, into the module's doc. It is also rewritten, and hopefully easier to understand.

- Some one-line changes that improve readability or add links.

Nathann

Issue created by migration from https://trac.sagemath.org/ticket/17804





---

archive/issue_comments_234487.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-02-18T17:33:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17567#issuecomment-234487",
    "user": "ncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_234488.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-18T17:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17567#issuecomment-234488",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234489.json:
```json
{
    "body": "Hello,\n\nthe patch is good (install, docbuild html and pdf, tests).\n\nBefore the 4th item (One at a time, we update the data structure...), it would be nice to have some space. I don't know how to force it (I tried).\n\nAlso, if you want to play more with your new PLOT command, you could add an example of PQ-tree ;)\n\nDavid.",
    "created_at": "2015-02-19T14:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17567#issuecomment-234489",
    "user": "dcoudert"
}
```

Hello,

the patch is good (install, docbuild html and pdf, tests).

Before the 4th item (One at a time, we update the data structure...), it would be nice to have some space. I don't know how to force it (I tried).

Also, if you want to play more with your new PLOT command, you could add an example of PQ-tree ;)

David.



---

archive/issue_comments_234490.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-02-19T14:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17567#issuecomment-234490",
    "user": "dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_234491.json:
```json
{
    "body": "Hellooooooooooooooo,\n\n> Before the 4th item (One at a time, we update the data structure...), it would be nice to have some space. I don't know how to force it (I tried).\n\nI do not know either. That is because Sphinx does not like it when a list ends with a sublist. I met this bug several times but I do not know any clean workaround `:-/`\n\n> Also, if you want to play more with your new PLOT command, you could add an example of PQ-tree ;)\n\nI did try, but decided against it because all the pictures I was able to produce took the whole screen vertically, and really 'broke the flow' of the explanations. So I decided against it. This is the kind of options of \"plot\" that we will need very soon `:-P`\n\nNathann",
    "created_at": "2015-02-20T10:20:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17567#issuecomment-234491",
    "user": "ncohen"
}
```

Hellooooooooooooooo,

> Before the 4th item (One at a time, we update the data structure...), it would be nice to have some space. I don't know how to force it (I tried).

I do not know either. That is because Sphinx does not like it when a list ends with a sublist. I met this bug several times but I do not know any clean workaround `:-/`

> Also, if you want to play more with your new PLOT command, you could add an example of PQ-tree ;)

I did try, but decided against it because all the pictures I was able to produce took the whole screen vertically, and really 'broke the flow' of the explanations. So I decided against it. This is the kind of options of "plot" that we will need very soon `:-P`

Nathann



---

archive/issue_comments_234492.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-02-20T10:21:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17567#issuecomment-234492",
    "user": "ncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_234493.json:
```json
{
    "body": "So let the text as it is.\nDavid.",
    "created_at": "2015-02-20T10:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17567#issuecomment-234493",
    "user": "dcoudert"
}
```

So let the text as it is.
David.



---

archive/issue_comments_234494.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-02-20T10:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17567#issuecomment-234494",
    "user": "dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_234495.json:
```json
{
    "body": "Thanks !",
    "created_at": "2015-02-20T10:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17567#issuecomment-234495",
    "user": "ncohen"
}
```

Thanks !



---

archive/issue_comments_234496.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-02-21T12:40:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17567#issuecomment-234496",
    "user": "vbraun"
}
```

Resolution: fixed
