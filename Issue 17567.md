# Issue 17567: Cleanup of sage.graphs.pq_trees

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2015-02-18 17:33:36

CC:  dcoudert dimpase

While fixing the bug reported at #17787, I noticed several things in `sage.graphs.pq_trees` that should be cleaned. Some misnamed functions, hard-to-read documentation, and also a couple of simple but useful missing features that can be very helpful when debugging code.

This branch consists of several commits which do the following:

- Rename `.cardinality` to `.number_of_children`: the `PQ`-trees encode a set of permutations, and the 'cardinality' function should represent that, instead of what it represents now.

- Add a real `.cardinality` function, which can be used to compute the number of different representations of an interval graph

- Add a `.orderings` function, which lists all possibles representations of an interval graph

- remove `.is_P` and `.is_Q`. These functions were barely used in the code itself, and can be replaced with `isinstance(x,P)` and `isinstance(x,Q)`.

- Move the documentation of class PQ-tree, which actually explains how the main algorithm works, into the module's doc. It is also rewritten, and hopefully easier to understand.

- Some one-line changes that improve readability or add links.

Nathann


---

Comment by ncohen created at 2015-02-18 17:33:49

Changing status from new to needs_review.


---

Comment by git created at 2015-02-18 17:34:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2015-02-19 14:29:08

Hello,

the patch is good (install, docbuild html and pdf, tests).

Before the 4th item (One at a time, we update the data structure...), it would be nice to have some space. I don't know how to force it (I tried).

Also, if you want to play more with your new PLOT command, you could add an example of PQ-tree ;)

David.


---

Comment by dcoudert created at 2015-02-19 14:29:08

Changing status from needs_review to needs_work.


---

Comment by ncohen created at 2015-02-20 10:20:49

Hellooooooooooooooo,

> Before the 4th item (One at a time, we update the data structure...), it would be nice to have some space. I don't know how to force it (I tried).

I do not know either. That is because Sphinx does not like it when a list ends with a sublist. I met this bug several times but I do not know any clean workaround `:-/`

> Also, if you want to play more with your new PLOT command, you could add an example of PQ-tree ;)

I did try, but decided against it because all the pictures I was able to produce took the whole screen vertically, and really 'broke the flow' of the explanations. So I decided against it. This is the kind of options of "plot" that we will need very soon `:-P`

Nathann


---

Comment by ncohen created at 2015-02-20 10:21:24

Changing status from needs_work to needs_review.


---

Comment by dcoudert created at 2015-02-20 10:23:39

So let the text as it is.
David.


---

Comment by dcoudert created at 2015-02-20 10:23:39

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2015-02-20 10:30:05

Thanks !


---

Comment by vbraun created at 2015-02-21 12:40:33

Resolution: fixed
