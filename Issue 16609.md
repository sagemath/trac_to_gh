# Issue 16609: a difference_matrices module

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2014-08-17 14:59:25

CC:  vdelecroix

This commit creates a `difference_matrices` module which does not do much at the moment: it can creates DM for prime powers, and return DM from the database.

In the database, however, a lot changes as many OA were actually difference matrices. The constructors are turned into difference matrices constructors, and `orthogonal_array` now calls `difference_matrix` to get them.

All in all what this patch does is mostly code administration, but well, that's the way to go ...

Quasi-difference matrices will be handled later as there are some problems with them, in particular in the way `orthogonal_array` will query the future `quasi_difference_matrix` constructor.

Nathann


---

Comment by ncohen created at 2014-08-17 14:59:42

Changing status from new to needs_review.


---

Comment by git created at 2014-08-17 15:00:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2014-08-17 15:02:09

Sorry for the diff in the database file, it's a bit hard to review with everything being mixed up by the diff algorithm... `:-/`

What happens there is simple: some `DM_*` functions are removed and replaced by their `DM_*` counterpart. No new constructor is added, it's only a rephrase of that code.

Nathann


---

Comment by vdelecroix created at 2014-08-17 18:34:58

Hi Nathann,

Very nice that you did that!

I guess that difference matrices are interesting only over Abelian groups. Is that true? It would be nice to coordinate with difference families for input/output. For example, in #16802, in the database, you can ask a difference family with a given group and not only a fixed cardinality. It is not perfect, but I tried to start involving the group...

Vincent


---

Comment by ncohen created at 2014-08-17 18:46:20

Yo !

> I guess that difference matrices are interesting only over Abelian groups. Is that true?

I have no idea about that, but all examples I saw were on abelian groups indeed.

> It would be nice to coordinate with difference families for input/output. For example, in #16802, in the database, you can ask a difference family with a given group and not only a fixed cardinality. It is not perfect, but I tried to start involving the group...

Hmmmmm... So a structure like that ?

```
DM_constructions = {
   order_of_the_group : {
     signature_of_the_abelian_group: [
         (k1,matrix_constructor1),
         (k2,matrix_constructor2)
         ]
     }
}
```


Having several difference families/matrices or OA and stuff is a hobby of yours, you know ? To me it's just not the interesting direction `:-P`

It can be done anyway but we have to do that later, this heap of patches is really getting dangerous. Plus Travis wrote a patch that is totally incompatible with this one, and there are like 10 tickets in linear order an `needs_review` at the moment `:-P`

Nathann


---

Comment by vdelecroix created at 2014-08-17 19:05:14

Replying to [comment:5 ncohen]:
> Yo !
> 
> > I guess that difference matrices are interesting only over Abelian groups. Is that true?
> 
> I have no idea about that, but all examples I saw were on abelian groups indeed.

Because you can not develop a difference matrix to get an OA if the group is non Abelian. But perhaps, difference matrices can be used for other purposes.

> > It would be nice to coordinate with difference families for input/output. For example, in #16802, in the database, you can ask a difference family with a given group and not only a fixed cardinality. It is not perfect, but I tried to start involving the group...
> 
> Hmmmmm... So a structure like that ?
> {{{
> DM_constructions = {
>    order_of_the_group : {
>      signature_of_the_abelian_group: [
>          (k1,matrix_constructor1),
>          (k2,matrix_constructor2)
>          ]
>      }
> }
> }}}

Might be better than what I did... I used ` {signature: DF} `

> Having several difference families/matrices or OA and stuff is a hobby of yours, you know ? To me it's just not the interesting direction `:-P`

Sometimes it is very important that your group is cyclic (for difference families or difference matrix)... so you want to be able to ask a given difference X over a cyclic group only.

> It can be done anyway but we have to do that later, this heap of patches is really getting dangerous. Plus Travis wrote a patch that is totally incompatible with this one, and there are like 10 tickets in linear order an `needs_review` at the moment `:-P`

+1

Vincent


---

Comment by ncohen created at 2014-08-17 19:07:18

> Might be better than what I did... I used ` {signature: DF} `

If you just want a difference family to exist in order to build a BIBD but don't know the exact decomposition you need to list everything `:-/` 

Nathann


---

Comment by ncohen created at 2014-08-22 11:57:13

Last 10 new commits:


---

Comment by git created at 2014-08-22 12:10:44

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2014-08-22 14:28:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-08-22 15:03:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2014-08-22 15:03:51

I did
- removed `TD_6_12`
- `OA_7_39` -> `DM_39_6_1`

As a consequence, doc builds... and test still pass.

If you like it, set to positive review.

Vincent


---

Comment by ncohen created at 2014-08-22 15:10:27

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2014-08-22 15:10:27

The doc builds, and doctests pass. Thank you very much for this last review ! `:-D`

Nathann


---

Comment by vbraun created at 2014-08-24 17:36:44

Resolution: fixed
