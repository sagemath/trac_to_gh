# Issue 26416: clean connectivity.pyx (part 2)

Issue created by migration from https://trac.sagemath.org/ticket/26653

Original creator: dcoudert

Original creation time: 2018-11-06 18:07:51

CC:  tscrim

Keywords: py3, graph

Done here:
- some PEP8 cleaning
- improve some tests to avoid using `.edges()`, `.min_spanning_tree` when not necessary
- improve documentation of `strongly_connected_components_digraph`
- in method `bridges`, correct the edge label of returned edges when the graph has multiple edges has method `edge_labels` returns a list in this case.


---

Comment by dcoudert created at 2018-11-06 18:13:49

The next steps, in (an)other ticket(s), are to improve method `is_cut_edge` as its current implementation may modify the input graph (bad), and then check all methods for triconnectivity.
----
New commits:


---

Comment by dcoudert created at 2018-11-06 18:13:49

Changing status from new to needs_review.


---

Comment by tscrim created at 2018-11-08 14:34:28

I do not agree with this change:

```diff
-        ....:     assert (e1 == e2)
+        ....:     if e1 != e2:
+        ....:         print("Something goes wrong")
```

I think the test should immediately error out when something did go wrong.

I am not convinced that when the input vertex is not in the graph that it should raise a `LookupError`. It is not acting as a key, but instead as an input value. So IMO it should remain a `ValueError`.

Other than that LGTM.


---

Comment by git created at 2018-11-08 16:54:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-11-08 16:57:09

I made required changes. I agree that the error should immediately be raised.

Concerning the `LookupError`, I did that change following what is done in the backends, but I agree that a `ValueError` is suitable here.

Thank you for the review.


---

Comment by tscrim created at 2018-11-08 19:39:41

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-11-08 19:39:41

I am not sure I agree with what the backends do, but they might have other reasons for it. Anyways, thank you.


---

Comment by vbraun created at 2018-11-11 22:19:55

Resolution: fixed
