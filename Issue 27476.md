# Issue 27476: Patch pynac to build properly with Cygwin's system GMP

Issue created by migration from https://trac.sagemath.org/ticket/27713

Original creator: embray

Original creation time: 2019-04-23 10:51:19

Keywords: gmp pynac

There are some bits in plain GMP not present for some reason in MPIR such that Cygwin gets some configure-time flags set differently than the defaults on Linux.  Cygwin's system package for GMP is configured with these different defaults, leading to a build failure in pynac that I don't get on other platforms.

See the upstream PR for more details: https://github.com/pynac/pynac/pull/342


---

Comment by embray created at 2019-04-23 10:52:59

Changing status from new to needs_review.


---

Comment by git created at 2019-04-23 10:53:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by embray created at 2019-04-23 10:54:45

To add, this started of course since #27212.  Not sure why I didn't catch the problem before since I have recollection of testing this on Cygwin, but maybe I just never rebuilt everything (including pynac?) from scratch for some reason.


---

Comment by embray created at 2019-04-23 14:30:11

Fixed upstream.  rws confirms there will be a new pynac release in a few weeks, so we can possibly wait on that as well.


---

Comment by tscrim created at 2019-04-25 02:27:13

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2019-04-25 02:27:13

I think we can add this patch now (in part to get some extra testing through Sage beta releases) and then remove it when we upgrade Pynac (if that does get into the next stable Sage release).


---

Comment by vbraun created at 2019-04-29 12:36:12

Resolution: fixed


---

Comment by dimpase created at 2019-06-19 10:43:53

the update with the patch in has been released, see #28016
