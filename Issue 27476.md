# Issue 27476: Patch pynac to build properly with Cygwin's system GMP

archive/issues_027476.json:
```json
{
    "body": "Keywords: gmp pynac\n\nThere are some bits in plain GMP not present for some reason in MPIR such that Cygwin gets some configure-time flags set differently than the defaults on Linux.  Cygwin's system package for GMP is configured with these different defaults, leading to a build failure in pynac that I don't get on other platforms.\n\nSee the upstream PR for more details: https://github.com/pynac/pynac/pull/342\n\nIssue created by migration from https://trac.sagemath.org/ticket/27713\n\n",
    "created_at": "2019-04-23T10:51:19Z",
    "labels": [
        "component: porting: cygwin",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "Patch pynac to build properly with Cygwin's system GMP",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27476",
    "user": "https://github.com/embray"
}
```
Keywords: gmp pynac

There are some bits in plain GMP not present for some reason in MPIR such that Cygwin gets some configure-time flags set differently than the defaults on Linux.  Cygwin's system package for GMP is configured with these different defaults, leading to a build failure in pynac that I don't get on other platforms.

See the upstream PR for more details: https://github.com/pynac/pynac/pull/342

Issue created by migration from https://trac.sagemath.org/ticket/27713





---

archive/issue_comments_387002.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-04-23T10:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27476#issuecomment-387002",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_387003.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-23T10:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27476#issuecomment-387003",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_387004.json:
```json
{
    "body": "To add, this started of course since #27212.  Not sure why I didn't catch the problem before since I have recollection of testing this on Cygwin, but maybe I just never rebuilt everything (including pynac?) from scratch for some reason.",
    "created_at": "2019-04-23T10:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27476#issuecomment-387004",
    "user": "https://github.com/embray"
}
```

To add, this started of course since #27212.  Not sure why I didn't catch the problem before since I have recollection of testing this on Cygwin, but maybe I just never rebuilt everything (including pynac?) from scratch for some reason.



---

archive/issue_comments_387005.json:
```json
{
    "body": "Fixed upstream.  rws confirms there will be a new pynac release in a few weeks, so we can possibly wait on that as well.",
    "created_at": "2019-04-23T14:30:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27476#issuecomment-387005",
    "user": "https://github.com/embray"
}
```

Fixed upstream.  rws confirms there will be a new pynac release in a few weeks, so we can possibly wait on that as well.



---

archive/issue_comments_387006.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-04-25T02:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27476#issuecomment-387006",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_387007.json:
```json
{
    "body": "I think we can add this patch now (in part to get some extra testing through Sage beta releases) and then remove it when we upgrade Pynac (if that does get into the next stable Sage release).",
    "created_at": "2019-04-25T02:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27476#issuecomment-387007",
    "user": "https://github.com/tscrim"
}
```

I think we can add this patch now (in part to get some extra testing through Sage beta releases) and then remove it when we upgrade Pynac (if that does get into the next stable Sage release).



---

archive/issue_events_025501.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2019-04-29T12:36:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27476",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27476#event-25501"
}
```



---

archive/issue_comments_387008.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-04-29T12:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27476#issuecomment-387008",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_387009.json:
```json
{
    "body": "the update with the patch in has been released, see #28016",
    "created_at": "2019-06-19T10:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27476#issuecomment-387009",
    "user": "https://github.com/dimpase"
}
```

the update with the patch in has been released, see #28016
