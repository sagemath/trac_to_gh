# Issue 20765: LatticePoset: certificates for non-[semi]modularity and non-distributivity

archive/issues_020765.json:
```json
{
    "body": "CC:  @kevindilks @tscrim\n\nAdd a `certificate`-option to the functions checking if a lattice is semimodular, modular or distributive.\n\nIssue created by migration from https://trac.sagemath.org/ticket/21002\n\n",
    "created_at": "2016-07-11T19:08:02Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "LatticePoset: certificates for non-[semi]modularity and non-distributivity",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20765",
    "user": "https://github.com/jm58660"
}
```
CC:  @kevindilks @tscrim

Add a `certificate`-option to the functions checking if a lattice is semimodular, modular or distributive.

Issue created by migration from https://trac.sagemath.org/ticket/21002





---

archive/issue_comments_286449.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2016-07-11T19:11:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20765#issuecomment-286449",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_286450.json:
```json
{
    "body": "Kevin: First part is #20980, but a question about interface part:\n\nWhat should be the certificate? I.e. a sublattice, a list of five elements of the sublattice, or list of three elements violating the defining property? Or a choise between those?",
    "created_at": "2016-07-11T19:11:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20765#issuecomment-286450",
    "user": "https://github.com/jm58660"
}
```

Kevin: First part is #20980, but a question about interface part:

What should be the certificate? I.e. a sublattice, a list of five elements of the sublattice, or list of three elements violating the defining property? Or a choise between those?



---

archive/issue_comments_286451.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2016-07-15T11:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20765#issuecomment-286451",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_286452.json:
```json
{
    "body": "I thinked about this, and here is first part.\n\nFirst, this is faster for almost all cases. But for small lattices with already computed meet, join and rank function this is slower. However, the speedup for, say, `BooleanLattice(10)` is big. With current code the time to check semimodularity is 4,9 seconds for first time and 0,6 seconds for second time. With this patch it drops to 0,1 seconds.\n\nSecond, this adds a `certificate`-option.\n\nI thinked this, and I guess we should use this by-definition -certificate, and later implement `isomoprhic_sublattices()`.\n\nI will put this to needs_review and later try to do something similar to `is_modular()` and `is_distributive()`.\n----\nNew commits:",
    "created_at": "2016-07-15T11:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20765#issuecomment-286452",
    "user": "https://github.com/jm58660"
}
```

I thinked about this, and here is first part.

First, this is faster for almost all cases. But for small lattices with already computed meet, join and rank function this is slower. However, the speedup for, say, `BooleanLattice(10)` is big. With current code the time to check semimodularity is 4,9 seconds for first time and 0,6 seconds for second time. With this patch it drops to 0,1 seconds.

Second, this adds a `certificate`-option.

I thinked this, and I guess we should use this by-definition -certificate, and later implement `isomoprhic_sublattices()`.

I will put this to needs_review and later try to do something similar to `is_modular()` and `is_distributive()`.
----
New commits:



---

archive/issue_events_056158.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-07-15T11:32:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20765#event-56158"
}
```



---

archive/issue_comments_286453.json:
```json
{
    "body": "rc0 is out.",
    "created_at": "2016-08-04T06:18:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20765#issuecomment-286453",
    "user": "https://github.com/jm58660"
}
```

rc0 is out.



---

archive/issue_events_056159.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-08-04T06:18:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20765#event-56159"
}
```



---

archive/issue_events_056160.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-08-04T06:18:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20765#event-56160"
}
```



---

archive/issue_comments_286454.json:
```json
{
    "body": "Just pinging... Nothing very complicated here.",
    "created_at": "2016-08-25T04:51:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20765#issuecomment-286454",
    "user": "https://github.com/jm58660"
}
```

Just pinging... Nothing very complicated here.



---

archive/issue_comments_286455.json:
```json
{
    "body": "Even though it's a \"hidden\" function, I don't think the method in `hasse_diagram.py` should be called `is_semimodular()` if it's not in some way return a boolean (either directly, or as part of a tuple along with certificate).",
    "created_at": "2016-08-25T18:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20765#issuecomment-286455",
    "user": "https://github.com/kevindilks"
}
```

Even though it's a "hidden" function, I don't think the method in `hasse_diagram.py` should be called `is_semimodular()` if it's not in some way return a boolean (either directly, or as part of a tuple along with certificate).



---

archive/issue_comments_286456.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T19:21:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20765#issuecomment-286456",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_286457.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T20:48:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20765#issuecomment-286457",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_286458.json:
```json
{
    "body": "Replying to [comment:6 kdilks]:\n> Even though it's a \"hidden\" function, I don't think the method in `hasse_diagram.py` should be called `is_semimodular()` if it's not in some way return a boolean (either directly, or as part of a tuple along with certificate).\n\nTrue. Changed that.",
    "created_at": "2016-08-25T20:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20765#issuecomment-286458",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:6 kdilks]:
> Even though it's a "hidden" function, I don't think the method in `hasse_diagram.py` should be called `is_semimodular()` if it's not in some way return a boolean (either directly, or as part of a tuple along with certificate).

True. Changed that.



---

archive/issue_comments_286459.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-26T19:30:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20765#issuecomment-286459",
    "user": "https://github.com/kevindilks"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_056161.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-29T16:56:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20765#event-56161"
}
```



---

archive/issue_comments_286460.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-08-29T16:56:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20765#issuecomment-286460",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
