# Issue 16179: provide AtlasRep GAP package

archive/issues_016179.json:
```json
{
    "body": "CC:  @vbraun @williamstein\n\nIt is needed for a functioning TomLib GAP package, which we do provide, but which is broken due to this.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16416\n\n",
    "created_at": "2014-05-31T02:10:34Z",
    "labels": [
        "component: packages: optional",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "provide AtlasRep GAP package",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16179",
    "user": "https://github.com/dimpase"
}
```
CC:  @vbraun @williamstein

It is needed for a functioning TomLib GAP package, which we do provide, but which is broken due to this.

Issue created by migration from https://trac.sagemath.org/ticket/16416





---

archive/issue_comments_211002.json:
```json
{
    "body": "please test (for the updated tarball, see the link in the ticket description).",
    "created_at": "2014-05-31T02:56:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211002",
    "user": "https://github.com/dimpase"
}
```

please test (for the updated tarball, see the link in the ticket description).



---

archive/issue_comments_211003.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-31T02:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211003",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_211004.json:
```json
{
    "body": "Tarball name must be different (on name per hash).\n\nBranch contains unrelated javascript plotting stuff.",
    "created_at": "2014-05-31T11:34:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211004",
    "user": "https://github.com/vbraun"
}
```

Tarball name must be different (on name per hash).

Branch contains unrelated javascript plotting stuff.



---

archive/issue_comments_211005.json:
```json
{
    "body": "I got nowhere (on Ubuntu 14.04 with sage-6.2):\n\n\n```\n$ sage -i http://boxen.math.washington.edu/home/dima/packages/gap_packages-4.7.4.tar.bz2\nAttempting to download package gap_packages-4.7.4.tar.bz2\n>>> Trying to download http://boxen.math.washington.edu/home/dima/packages/gap_packages-4.7.4.tar.bz2\n[............................................................]\ngap_packages-4.7.4.tar.bz2\n====================================================\nExtracting package /usr/local/sage/sage-6.2.rc0/upstream/gap_packages-4.7.4.tar.bz2\n-rw-r--r-- 1 salvus salvus 32177447 Jun  1 02:06 /usr/local/sage/sage-6.2.rc0/upstream/gap_packages-4.7.4.tar.bz2\nFinished extraction\n/usr/local/sage/sage-6.2.rc0/src/bin/sage-spkg: line 594: cd: gap_packages-4.7.4.tar.bz2: No such file or directory\nError: after extracting, the directory gap_packages-4.7.4.tar.bz2 does not exist\n```\n\n\nThis is probably just another instance of 7-year old functionality of Sage conflicting with \"the git transition\"...",
    "created_at": "2014-06-01T02:09:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211005",
    "user": "https://github.com/williamstein"
}
```

I got nowhere (on Ubuntu 14.04 with sage-6.2):


```
$ sage -i http://boxen.math.washington.edu/home/dima/packages/gap_packages-4.7.4.tar.bz2
Attempting to download package gap_packages-4.7.4.tar.bz2
>>> Trying to download http://boxen.math.washington.edu/home/dima/packages/gap_packages-4.7.4.tar.bz2
[............................................................]
gap_packages-4.7.4.tar.bz2
====================================================
Extracting package /usr/local/sage/sage-6.2.rc0/upstream/gap_packages-4.7.4.tar.bz2
-rw-r--r-- 1 salvus salvus 32177447 Jun  1 02:06 /usr/local/sage/sage-6.2.rc0/upstream/gap_packages-4.7.4.tar.bz2
Finished extraction
/usr/local/sage/sage-6.2.rc0/src/bin/sage-spkg: line 594: cd: gap_packages-4.7.4.tar.bz2: No such file or directory
Error: after extracting, the directory gap_packages-4.7.4.tar.bz2 does not exist
```


This is probably just another instance of 7-year old functionality of Sage conflicting with "the git transition"...



---

archive/issue_comments_211006.json:
```json
{
    "body": "Replying to [comment:6 vbraun]:\n> Tarball name must be different (on name per hash).\n> \n> Branch contains unrelated javascript plotting stuff.\n\nUgh -- this is exactly the problem with the branch approach (instead of patch approach) to development that everybody is complaining about on sage-devel right now.   Does this happen all the time?",
    "created_at": "2014-06-01T02:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211006",
    "user": "https://github.com/williamstein"
}
```

Replying to [comment:6 vbraun]:
> Tarball name must be different (on name per hash).
> 
> Branch contains unrelated javascript plotting stuff.

Ugh -- this is exactly the problem with the branch approach (instead of patch approach) to development that everybody is complaining about on sage-devel right now.   Does this happen all the time?



---

archive/issue_comments_211007.json:
```json
{
    "body": "Replying to [comment:7 was]:\n> I got nowhere (on Ubuntu 14.04 with sage-6.2):\n> \n> {{{\n> $ sage -i http://boxen.math.washington.edu/home/dima/packages/gap_packages-4.7.4.tar.bz2\n> Attempting to download package gap_packages-4.7.4.tar.bz2\n> >>> Trying to download http://boxen.math.washington.edu/home/dima/packages/gap_packages-4.7.4.tar.bz2\n> [............................................................]\n> gap_packages-4.7.4.tar.bz2\n> ====================================================\n> Extracting package /usr/local/sage/sage-6.2.rc0/upstream/gap_packages-4.7.4.tar.bz2\n> -rw-r--r-- 1 salvus salvus 32177447 Jun  1 02:06 /usr/local/sage/sage-6.2.rc0/upstream/gap_packages-4.7.4.tar.bz2\n> Finished extraction\n> /usr/local/sage/sage-6.2.rc0/src/bin/sage-spkg: line 594: cd: gap_packages-4.7.4.tar.bz2: No such file or directory\n> Error: after extracting, the directory gap_packages-4.7.4.tar.bz2 does not exist\n> }}}\n> \n\ndownload the tarball to `$SAGEROOT/upstream` and then run sage -f gap_packages\n\nit will work then.\n\n> This is probably just another instance of 7-year old functionality of Sage conflicting with \"the git transition\"...",
    "created_at": "2014-06-01T02:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211007",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:7 was]:
> I got nowhere (on Ubuntu 14.04 with sage-6.2):
> 
> {{{
> $ sage -i http://boxen.math.washington.edu/home/dima/packages/gap_packages-4.7.4.tar.bz2
> Attempting to download package gap_packages-4.7.4.tar.bz2
> >>> Trying to download http://boxen.math.washington.edu/home/dima/packages/gap_packages-4.7.4.tar.bz2
> [............................................................]
> gap_packages-4.7.4.tar.bz2
> ====================================================
> Extracting package /usr/local/sage/sage-6.2.rc0/upstream/gap_packages-4.7.4.tar.bz2
> -rw-r--r-- 1 salvus salvus 32177447 Jun  1 02:06 /usr/local/sage/sage-6.2.rc0/upstream/gap_packages-4.7.4.tar.bz2
> Finished extraction
> /usr/local/sage/sage-6.2.rc0/src/bin/sage-spkg: line 594: cd: gap_packages-4.7.4.tar.bz2: No such file or directory
> Error: after extracting, the directory gap_packages-4.7.4.tar.bz2 does not exist
> }}}
> 

download the tarball to `$SAGEROOT/upstream` and then run sage -f gap_packages

it will work then.

> This is probably just another instance of 7-year old functionality of Sage conflicting with "the git transition"...



---

archive/issue_comments_211008.json:
```json
{
    "body": "Replying to [comment:10 dimpase]:\n\nthis addresses both the branch mess (sorry, my fault!) and the tarball naming.\n\nI also checked that `AtlasRep` works just fine on OSX if one installs `wget` (to some global place like `/usr/local/bin`).\n[`wget`](http://ftp.gnu.org/gnu/wget/wget-1.14.tar.gz) builds just fine on OSX 10.9.3 if configured with \n\n```\n./configure --with-ssl=openssl\n```\n\n----\nNew commits:",
    "created_at": "2014-06-01T03:11:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211008",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:10 dimpase]:

this addresses both the branch mess (sorry, my fault!) and the tarball naming.

I also checked that `AtlasRep` works just fine on OSX if one installs `wget` (to some global place like `/usr/local/bin`).
[`wget`](http://ftp.gnu.org/gnu/wget/wget-1.14.tar.gz) builds just fine on OSX 10.9.3 if configured with 

```
./configure --with-ssl=openssl
```

----
New commits:



---

archive/issue_comments_211009.json:
```json
{
    "body": "Replying to [comment:8 was]:\n> Ugh -- this is exactly the problem with the branch approach (instead of patch approach) \n\nNo its not, basing your branch on the wrong starting point is just as much of a problem as diffing your patch relative to the wrong base. Its only easier to detect and fix with git since the history is recorded and can be edited if necessary.",
    "created_at": "2014-06-01T12:08:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211009",
    "user": "https://github.com/vbraun"
}
```

Replying to [comment:8 was]:
> Ugh -- this is exactly the problem with the branch approach (instead of patch approach) 

No its not, basing your branch on the wrong starting point is just as much of a problem as diffing your patch relative to the wrong base. Its only easier to detect and fix with git since the history is recorded and can be edited if necessary.



---

archive/issue_comments_211010.json:
```json
{
    "body": "The tarball name must match the `package-version.txt`, i.e. `gap_packages-4.7.4.20140531.tar.bz`",
    "created_at": "2014-06-01T12:10:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211010",
    "user": "https://github.com/vbraun"
}
```

The tarball name must match the `package-version.txt`, i.e. `gap_packages-4.7.4.20140531.tar.bz`



---

archive/issue_comments_211011.json:
```json
{
    "body": "Replying to [comment:13 vbraun]:\n> The tarball name must match the `package-version.txt`, i.e. `gap_packages-4.7.4.20140531.tar.bz`\n\nbut it does match in the new branch u/dimpase/16416, no?",
    "created_at": "2014-06-01T12:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211011",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:13 vbraun]:
> The tarball name must match the `package-version.txt`, i.e. `gap_packages-4.7.4.20140531.tar.bz`

but it does match in the new branch u/dimpase/16416, no?



---

archive/issue_comments_211012.json:
```json
{
    "body": "The branch was correct, just not the actual name of the tarball (but is fixed now)",
    "created_at": "2014-06-01T12:25:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211012",
    "user": "https://github.com/vbraun"
}
```

The branch was correct, just not the actual name of the tarball (but is fixed now)



---

archive/issue_comments_211013.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-01T12:25:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211013",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_211014.json:
```json
{
    "body": "Replying to [comment:17 vbraun]:\n> The branch was correct, just not the actual name of the tarball (but is fixed now)\nThanks. I changed the ticket description only after shooting off the question in comment 15, realising the nature of your complaint... \n\nRegarding the problem to install an spkg from a specific URL - is it a bug or a feature?",
    "created_at": "2014-06-01T12:49:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211014",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:17 vbraun]:
> The branch was correct, just not the actual name of the tarball (but is fixed now)
Thanks. I changed the ticket description only after shooting off the question in comment 15, realising the nature of your complaint... 

Regarding the problem to install an spkg from a specific URL - is it a bug or a feature?



---

archive/issue_comments_211015.json:
```json
{
    "body": "You can install an old-style spkg (containing `spkg-install` and so on inside the archive) from a url. It has never been supported to install a tarball from a url (where is the build script, what about checksums, etc).",
    "created_at": "2014-06-01T13:33:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211015",
    "user": "https://github.com/vbraun"
}
```

You can install an old-style spkg (containing `spkg-install` and so on inside the archive) from a url. It has never been supported to install a tarball from a url (where is the build script, what about checksums, etc).



---

archive/issue_comments_211016.json:
```json
{
    "body": "Replying to [comment:19 vbraun]:\n> You can install an old-style spkg (containing `spkg-install` and so on inside the archive) from a url. It has never \n> been supported to install a tarball from a url (where is the build script, what about checksums, etc).\n\nThen \"sage -i foo.tar.bz2\" should immediately give an error, rather than downloading the tarball, extracting it, etc.?",
    "created_at": "2014-06-01T16:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211016",
    "user": "https://github.com/williamstein"
}
```

Replying to [comment:19 vbraun]:
> You can install an old-style spkg (containing `spkg-install` and so on inside the archive) from a url. It has never 
> been supported to install a tarball from a url (where is the build script, what about checksums, etc).

Then "sage -i foo.tar.bz2" should immediately give an error, rather than downloading the tarball, extracting it, etc.?



---

archive/issue_comments_211017.json:
```json
{
    "body": "Replying to [comment:11 dimpase]:\n> Replying to [comment:10 dimpase]:\n> \n> this addresses both the branch mess (sorry, my fault!) and the tarball naming.\n> \n> I also checked that `AtlasRep` works just fine on OSX if one installs `wget` (to some global place like `/usr/local/bin`).\n> [`wget`](http://ftp.gnu.org/gnu/wget/wget-1.14.tar.gz) builds just fine on OSX 10.9.3 if configured with \n> {{{\n> ./configure --with-ssl=openssl\n> }}}\n> ----\n> New commits:\n> ||[203e3cd](http://git.sagemath.org/sage.git/commit/?id=203e3cd084c8c51eb1b855dbc6925c7c02fb25b6)||`changes necessary for the updated gap_packages tarball, which includes`||\n\nIt's `OS X`, not `OSX`.  For what it's worth, curl is standard on OS X instead of wget and can do the same thing (though with very different commands).   This is probably due to licensing, as wget is GPL'd and curl is MIT licensed.   Apple tries very hard to avoid shipping GPL'd software.",
    "created_at": "2014-06-01T16:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211017",
    "user": "https://github.com/williamstein"
}
```

Replying to [comment:11 dimpase]:
> Replying to [comment:10 dimpase]:
> 
> this addresses both the branch mess (sorry, my fault!) and the tarball naming.
> 
> I also checked that `AtlasRep` works just fine on OSX if one installs `wget` (to some global place like `/usr/local/bin`).
> [`wget`](http://ftp.gnu.org/gnu/wget/wget-1.14.tar.gz) builds just fine on OSX 10.9.3 if configured with 
> {{{
> ./configure --with-ssl=openssl
> }}}
> ----
> New commits:
> ||[203e3cd](http://git.sagemath.org/sage.git/commit/?id=203e3cd084c8c51eb1b855dbc6925c7c02fb25b6)||`changes necessary for the updated gap_packages tarball, which includes`||

It's `OS X`, not `OSX`.  For what it's worth, curl is standard on OS X instead of wget and can do the same thing (though with very different commands).   This is probably due to licensing, as wget is GPL'd and curl is MIT licensed.   Apple tries very hard to avoid shipping GPL'd software.



---

archive/issue_comments_211018.json:
```json
{
    "body": "Replying to [comment:20 was]:\n> Then \"sage -i foo.tar.bz2\" should immediately give an error, rather than downloading the tarball, extracting it, etc.?\n\nI agree, feel free to fix it.",
    "created_at": "2014-06-01T17:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211018",
    "user": "https://github.com/vbraun"
}
```

Replying to [comment:20 was]:
> Then "sage -i foo.tar.bz2" should immediately give an error, rather than downloading the tarball, extracting it, etc.?

I agree, feel free to fix it.



---

archive/issue_comments_211019.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-01T18:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16179#issuecomment-211019",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_015728.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2014-06-01T18:22:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16179",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16179#event-15728"
}
```
