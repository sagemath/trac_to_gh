# Issue 31159: relocatable wheel version of package sage_conf

archive/issues_031159.json:
```json
{
    "body": "CC:  culler @kliem dimpase jhpalmieri slelievre fbissey\n\nThis version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_LOCAL` relocatable using the method proposed in #31076, using `SAGE_LOCAL=/var/tmp/sage-...` and a symlink.\n\nThe `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n\nIssue created by migration from https://trac.sagemath.org/ticket/31396\n\n",
    "created_at": "2021-02-14T22:06:47Z",
    "labels": [
        "relocation",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "relocatable wheel version of package sage_conf",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31159",
    "user": "mkoeppe"
}
```
CC:  culler @kliem dimpase jhpalmieri slelievre fbissey

This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_LOCAL` relocatable using the method proposed in #31076, using `SAGE_LOCAL=/var/tmp/sage-...` and a symlink.

The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.

Issue created by migration from https://trac.sagemath.org/ticket/31396





---

archive/issue_comments_445260.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-15T06:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445260",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445261.json:
```json
{
    "body": "On macOS, some shared libraries from homebrew still leak into the build:\n\n```\nfind src/pkgs/sage_conf-relocatable/.tox/python/lib/python3.9/site-packages/sage_root -name \"*.so\" -o -name \"*.dylib\" | xargs otool -L\nlibgiac.dylib:\n/usr/local/opt/gettext/lib/libintl.8.dylib\nR/library/cluster/libs/*.dylib:\n\t/usr/local/opt/gettext/lib/libintl.8.dylib (compatibility version 11.0.0, current version 11.0.0)\n\t/usr/local/opt/pcre/lib/libpcre.1.dylib (compatibility version 4.0.0, current version 4.12.0)\n\t/usr/local/opt/xz/lib/liblzma.5.dylib (compatibility version 8.0.0, current version 8.5.0)\n```\n\nDefinitely should disable the R build (#30383).\n\nAlso check whether setting CC=`gcc -sysroot....` helps getting rid of `/usr/local` leaking in.\n\nAlso need to add `--enable-fat-binary`.\n\n`setup.py build_py` should probably use a symlink from `/var/tmp...` into `~/.sage` as well so that it is easy to test relocation after removing the symlink.\nAlso `copytree` from `sage_root_source` should be changed so it overwrites (updates) the existing contents of SAGE_ROOT.\n\nthe tox test should include the test with `otool` for self-containedness.",
    "created_at": "2021-02-15T07:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445261",
    "user": "mkoeppe"
}
```

On macOS, some shared libraries from homebrew still leak into the build:

```
find src/pkgs/sage_conf-relocatable/.tox/python/lib/python3.9/site-packages/sage_root -name "*.so" -o -name "*.dylib" | xargs otool -L
libgiac.dylib:
/usr/local/opt/gettext/lib/libintl.8.dylib
R/library/cluster/libs/*.dylib:
	/usr/local/opt/gettext/lib/libintl.8.dylib (compatibility version 11.0.0, current version 11.0.0)
	/usr/local/opt/pcre/lib/libpcre.1.dylib (compatibility version 4.0.0, current version 4.12.0)
	/usr/local/opt/xz/lib/liblzma.5.dylib (compatibility version 8.0.0, current version 8.5.0)
```

Definitely should disable the R build (#30383).

Also check whether setting CC=`gcc -sysroot....` helps getting rid of `/usr/local` leaking in.

Also need to add `--enable-fat-binary`.

`setup.py build_py` should probably use a symlink from `/var/tmp...` into `~/.sage` as well so that it is easy to test relocation after removing the symlink.
Also `copytree` from `sage_root_source` should be changed so it overwrites (updates) the existing contents of SAGE_ROOT.

the tox test should include the test with `otool` for self-containedness.



---

archive/issue_comments_445262.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-16T02:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445262",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445263.json:
```json
{
    "body": "Using -isysroot helps but giac configuration needs more work - #31403",
    "created_at": "2021-02-16T02:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445263",
    "user": "mkoeppe"
}
```

Using -isysroot helps but giac configuration needs more work - #31403



---

archive/issue_comments_445264.json:
```json
{
    "body": "Replying to [comment:4 mkoeppe]:\n> `setup.py build_py` should probably use a symlink from `/var/tmp...` into `~/.sage` as well so that it is easy to test relocation after removing the symlink.\nDoes not work because sage resolves symlinks when it determines SAGE_ROOT.",
    "created_at": "2021-02-16T03:26:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445264",
    "user": "mkoeppe"
}
```

Replying to [comment:4 mkoeppe]:
> `setup.py build_py` should probably use a symlink from `/var/tmp...` into `~/.sage` as well so that it is easy to test relocation after removing the symlink.
Does not work because sage resolves symlinks when it determines SAGE_ROOT.



---

archive/issue_comments_445265.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-19T00:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445265",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445266.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-19T02:19:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445266",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445267.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-19T03:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445267",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445268.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-02-19T06:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445268",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_445269.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-19T06:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445269",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445270.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-03-15T06:02:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445270",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_445271.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-03-24T17:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445271",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_445272.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T17:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445272",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445273.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T19:14:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445273",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445274.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T20:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445274",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445275.json:
```json
{
    "body": "`delocate-listdeps` reports the following library dependencies:\n\n```\n/usr/local/Cellar/gettext/0.21/lib/libintl.8.dylib\n/usr/local/Cellar/gmp/6.2.1/lib/libgmp.10.dylib\n/usr/local/Cellar/harfbuzz/2.8.0/lib/libharfbuzz.0.dylib\n/usr/local/Cellar/libtiff/4.2.0/lib/libtiff.5.dylib\n/usr/local/Cellar/libxcb/1.14_1/lib/libxcb.1.1.0.dylib\n/usr/local/Cellar/little-cms2/2.12/lib/liblcms2.2.dylib\n/usr/local/Cellar/mpfr/4.1.0/lib/libmpfr.6.dylib\n/usr/local/Cellar/openjpeg/2.4.0/lib/libopenjp2.2.4.0.dylib\n/usr/local/Cellar/readline/8.1/lib/libreadline.8.1.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebp.7.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebpdemux.2.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebpmux.3.dylib\n/usr/local/Cellar/zeromq/4.3.3/lib/libzmq.5.dylib\n/usr/local/Cellar/zlib/1.2.11/lib/libz.1.2.11.dylib\n@executable_path/../../../../Python3\nliba.dylib\nlibb.dylib\nlibc.dylib\n```\n",
    "created_at": "2021-03-25T01:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445275",
    "user": "mkoeppe"
}
```

`delocate-listdeps` reports the following library dependencies:

```
/usr/local/Cellar/gettext/0.21/lib/libintl.8.dylib
/usr/local/Cellar/gmp/6.2.1/lib/libgmp.10.dylib
/usr/local/Cellar/harfbuzz/2.8.0/lib/libharfbuzz.0.dylib
/usr/local/Cellar/libtiff/4.2.0/lib/libtiff.5.dylib
/usr/local/Cellar/libxcb/1.14_1/lib/libxcb.1.1.0.dylib
/usr/local/Cellar/little-cms2/2.12/lib/liblcms2.2.dylib
/usr/local/Cellar/mpfr/4.1.0/lib/libmpfr.6.dylib
/usr/local/Cellar/openjpeg/2.4.0/lib/libopenjp2.2.4.0.dylib
/usr/local/Cellar/readline/8.1/lib/libreadline.8.1.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebp.7.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebpdemux.2.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebpmux.3.dylib
/usr/local/Cellar/zeromq/4.3.3/lib/libzmq.5.dylib
/usr/local/Cellar/zlib/1.2.11/lib/libz.1.2.11.dylib
@executable_path/../../../../Python3
liba.dylib
libb.dylib
libc.dylib
```




---

archive/issue_comments_445276.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-25T01:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445276",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445277.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-25T05:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445277",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445278.json:
```json
{
    "body": "\n```\n/usr/local/Cellar/gettext/0.21/lib/libintl.8.dylib\n/usr/local/Cellar/harfbuzz/2.8.0/lib/libharfbuzz.0.dylib\n/usr/local/Cellar/libtiff/4.2.0/lib/libtiff.5.dylib\n/usr/local/Cellar/libxcb/1.14_1/lib/libxcb.1.1.0.dylib\n/usr/local/Cellar/little-cms2/2.12/lib/liblcms2.2.dylib\n/usr/local/Cellar/openjpeg/2.4.0/lib/libopenjp2.2.4.0.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebp.7.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebpdemux.2.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebpmux.3.dylib\n/usr/local/Cellar/zlib/1.2.11/lib/libz.1.2.11.dylib\n@executable_path/../../../../Python3\nliba.dylib\nlibb.dylib\nlibc.dylib\n```\n",
    "created_at": "2021-03-25T06:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445278",
    "user": "mkoeppe"
}
```


```
/usr/local/Cellar/gettext/0.21/lib/libintl.8.dylib
/usr/local/Cellar/harfbuzz/2.8.0/lib/libharfbuzz.0.dylib
/usr/local/Cellar/libtiff/4.2.0/lib/libtiff.5.dylib
/usr/local/Cellar/libxcb/1.14_1/lib/libxcb.1.1.0.dylib
/usr/local/Cellar/little-cms2/2.12/lib/liblcms2.2.dylib
/usr/local/Cellar/openjpeg/2.4.0/lib/libopenjp2.2.4.0.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebp.7.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebpdemux.2.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebpmux.3.dylib
/usr/local/Cellar/zlib/1.2.11/lib/libz.1.2.11.dylib
@executable_path/../../../../Python3
liba.dylib
libb.dylib
libc.dylib
```




---

archive/issue_comments_445279.json:
```json
{
    "body": "`libintl` is still coming in through giac",
    "created_at": "2021-03-25T07:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445279",
    "user": "mkoeppe"
}
```

`libintl` is still coming in through giac



---

archive/issue_comments_445280.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-25T18:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445280",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445281.json:
```json
{
    "body": "The remaining shared libraries from `/usr/local` come in through our `freetype` (which uses libharfbuzz from `/usr/local`), `libgd` (which uses libtiff), and `pillow` (libtiff and everything else).\n\nWe could try not to ship `matplotlib` at all in the wheelhouse - it is responsible for pulling in `freetype` and `pillow` - but it still shares one shared library with some of our packages - `libpng`.",
    "created_at": "2021-03-25T23:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445281",
    "user": "mkoeppe"
}
```

The remaining shared libraries from `/usr/local` come in through our `freetype` (which uses libharfbuzz from `/usr/local`), `libgd` (which uses libtiff), and `pillow` (libtiff and everything else).

We could try not to ship `matplotlib` at all in the wheelhouse - it is responsible for pulling in `freetype` and `pillow` - but it still shares one shared library with some of our packages - `libpng`.



---

archive/issue_comments_445282.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-03-26T01:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445282",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_445283.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-03-26T02:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445283",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_445284.json:
```json
{
    "body": "Replying to [comment:30 mkoeppe]:\n> `libintl` is still coming in through giac\nSolved now via #31562.",
    "created_at": "2021-03-26T02:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445284",
    "user": "mkoeppe"
}
```

Replying to [comment:30 mkoeppe]:
> `libintl` is still coming in through giac
Solved now via #31562.



---

archive/issue_comments_445285.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-26T19:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445285",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445286.json:
```json
{
    "body": "Replying to [comment:32 mkoeppe]:\n> The remaining shared libraries from `/usr/local` come in through our `freetype` (which uses libharfbuzz from `/usr/local`)\n\nfreetype checks for harfbuzz using pkg-config, accepts `configure --without-harfbuzz`. https://github.com/freetype/freetype/blob/f9f6adb625c48ef15b5d61a3ac1709a068ea95a3/builds/unix/configure.raw#L504",
    "created_at": "2021-03-27T04:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445286",
    "user": "mkoeppe"
}
```

Replying to [comment:32 mkoeppe]:
> The remaining shared libraries from `/usr/local` come in through our `freetype` (which uses libharfbuzz from `/usr/local`)

freetype checks for harfbuzz using pkg-config, accepts `configure --without-harfbuzz`. https://github.com/freetype/freetype/blob/f9f6adb625c48ef15b5d61a3ac1709a068ea95a3/builds/unix/configure.raw#L504



---

archive/issue_comments_445287.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-27T05:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445287",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445288.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-03-28T06:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445288",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_445289.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-29T02:00:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445289",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445290.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-29T04:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445290",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445291.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-29T16:37:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445291",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_445292.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-03-30T16:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445292",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_445293.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-04-03T21:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445293",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_445294.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-04T00:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445294",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445295.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-04T02:15:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445295",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445296.json:
```json
{
    "body": "Unfortunately it turns out that PyPI does not allow `@` references in install requires (see https://github.com/pypa/pip/issues/6301)\n\n```\nHTTPError: 400 Bad Request from https://upload.pypi.org/legacy/\nInvalid value for requires_dist. Error: Can't have direct dependency: 'Cython @ https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/Cython-0.29.21-cp38-cp38-macosx_10_15_x86_64.whl'\n```\n",
    "created_at": "2021-04-04T04:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445296",
    "user": "mkoeppe"
}
```

Unfortunately it turns out that PyPI does not allow `@` references in install requires (see https://github.com/pypa/pip/issues/6301)

```
HTTPError: 400 Bad Request from https://upload.pypi.org/legacy/
Invalid value for requires_dist. Error: Can't have direct dependency: 'Cython @ https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/Cython-0.29.21-cp38-cp38-macosx_10_15_x86_64.whl'
```




---

archive/issue_comments_445297.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-04T21:26:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445297",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445298.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-04T23:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445298",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445299.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-04-05T02:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445299",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_445300.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-06T04:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445300",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445301.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-06T04:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445301",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445302.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-07T00:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445302",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445303.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-07T00:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445303",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445304.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-07T02:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445304",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445305.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-08T19:55:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445305",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445306.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-08T22:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445306",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445307.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-09T02:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445307",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445308.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-10T18:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445308",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445309.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T16:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445309",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445310.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T17:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445310",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445311.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T17:07:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445311",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445312.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-11T03:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445312",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445313.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-06-06T20:18:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445313",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_445314.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-07T02:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445314",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445315.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-07T02:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445315",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445316.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-07T18:35:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445316",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445317.json:
```json
{
    "body": "Installation with `/usr/bin/python3 -m pip install -I --user https://github.com/sagemath/sage-wheels/releases/download/9.4.beta1/sage_conf-9.4b1-cp38-cp38-macosx_11_0_x86_64.whl https://github.com/sagemath/sage-wheels/releases/download/9.4.beta1/sagemath_standard-9.4b1-cp38-cp38-macosx_11_0_x86_64.whl` fails with:\n\n\n```\nCollecting argon2-cffi (from notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.5.1->sagemath-standard==9.4b1)\n  Downloading https://files.pythonhosted.org/packages/74/fd/d78e003a79c453e8454197092fce9d1c6099445b7e7da0b04eb4fe1dbab7/argon2-cffi-20.1.0.tar.gz (1.8MB)\n[...]\nFailed to build argon2-cffi\n```\n",
    "created_at": "2021-06-07T23:59:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445317",
    "user": "mkoeppe"
}
```

Installation with `/usr/bin/python3 -m pip install -I --user https://github.com/sagemath/sage-wheels/releases/download/9.4.beta1/sage_conf-9.4b1-cp38-cp38-macosx_11_0_x86_64.whl https://github.com/sagemath/sage-wheels/releases/download/9.4.beta1/sagemath_standard-9.4b1-cp38-cp38-macosx_11_0_x86_64.whl` fails with:


```
Collecting argon2-cffi (from notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.5.1->sagemath-standard==9.4b1)
  Downloading https://files.pythonhosted.org/packages/74/fd/d78e003a79c453e8454197092fce9d1c6099445b7e7da0b04eb4fe1dbab7/argon2-cffi-20.1.0.tar.gz (1.8MB)
[...]
Failed to build argon2-cffi
```




---

archive/issue_comments_445318.json:
```json
{
    "body": "#29039 is listed as a dependency, is it an error?",
    "created_at": "2021-06-08T11:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445318",
    "user": "dimpase"
}
```

#29039 is listed as a dependency, is it an error?



---

archive/issue_comments_445319.json:
```json
{
    "body": "No, that's correct",
    "created_at": "2021-06-09T13:00:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445319",
    "user": "mkoeppe"
}
```

No, that's correct



---

archive/issue_comments_445320.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-06-25T07:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445320",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_445321.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-06-25T19:31:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445321",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_445322.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-06-25T19:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445322",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_445323.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-06-25T20:02:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445323",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_445324.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-26T18:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445324",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445325.json:
```json
{
    "body": "<deleted - meant to be on #31456>",
    "created_at": "2021-06-27T10:07:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445325",
    "user": "dimpase"
}
```

<deleted - meant to be on #31456>



---

archive/issue_comments_445326.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-07-24T19:58:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445326",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_445327.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-12T21:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445327",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445328.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-12T22:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445328",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445329.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-09-27T04:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445329",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_445330.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-28T01:31:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445330",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445331.json:
```json
{
    "body": "On Linux, `PATH` in testing instructions should start from `$HOME/.local/lib/python3.8` or something like this. There is no `~/Library`, that's macOS-only.",
    "created_at": "2021-10-14T10:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445331",
    "user": "dimpase"
}
```

On Linux, `PATH` in testing instructions should start from `$HOME/.local/lib/python3.8` or something like this. There is no `~/Library`, that's macOS-only.



---

archive/issue_comments_445332.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-25T03:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445332",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445333.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-11-13T06:51:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445333",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_445334.json:
```json
{
    "body": "Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445334",
    "user": "mkoeppe"
}
```

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_comments_445335.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-01-01T01:37:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445335",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_445336.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-01-01T01:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445336",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_445337.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T02:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445337",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445338.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T02:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445338",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445339.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T03:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445339",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445340.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T05:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445340",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445341.json:
```json
{
    "body": "To avoid the duplication between the two versions of `sage_conf.py.in`, could do what was suggested in #29039#comment:148 - split module `sage_conf` into several modules of a `sage_conf` package",
    "created_at": "2022-01-01T06:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445341",
    "user": "mkoeppe"
}
```

To avoid the duplication between the two versions of `sage_conf.py.in`, could do what was suggested in #29039#comment:148 - split module `sage_conf` into several modules of a `sage_conf` package



---

archive/issue_comments_445342.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T19:30:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445342",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445343.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-01-02T19:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445343",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_445344.json:
```json
{
    "body": "Need to get uninstallation of script package `sage_conf` fixed, or switching between branches with `sage_conf.py` and branches with `sage_conf/` will be tricky",
    "created_at": "2022-01-02T19:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445344",
    "user": "mkoeppe"
}
```

Need to get uninstallation of script package `sage_conf` fixed, or switching between branches with `sage_conf.py` and branches with `sage_conf/` will be tricky



---

archive/issue_comments_445345.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-11T17:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445345",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445346.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-11T20:30:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445346",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445347.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T20:36:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445347",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_445348.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T20:49:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445348",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_445349.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T20:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445349",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_445350.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T21:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445350",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_445351.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T21:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445351",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_445352.json:
```json
{
    "body": "`tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels`\ncurrently builds a mistagged `sage_conf-9.5rc0-cp38-cp38-macosx_11_0_x86_64.whl`",
    "created_at": "2022-01-12T00:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445352",
    "user": "mkoeppe"
}
```

`tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels`
currently builds a mistagged `sage_conf-9.5rc0-cp38-cp38-macosx_11_0_x86_64.whl`



---

archive/issue_comments_445353.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-16T20:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445353",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445354.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-16T20:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445354",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445355.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-17T00:20:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445355",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445356.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-17T01:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445356",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445357.json:
```json
{
    "body": "Replying to [comment:150 mkoeppe]:\n> `tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels`\n> currently builds a mistagged `sage_conf-9.5rc0-cp38-cp38-macosx_11_0_x86_64.whl`\n\nThat was caused by trash in `pkgs/sage-conf_relocatable/build/`",
    "created_at": "2022-01-17T01:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445357",
    "user": "mkoeppe"
}
```

Replying to [comment:150 mkoeppe]:
> `tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels`
> currently builds a mistagged `sage_conf-9.5rc0-cp38-cp38-macosx_11_0_x86_64.whl`

That was caused by trash in `pkgs/sage-conf_relocatable/build/`



---

archive/issue_comments_445358.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-17T07:38:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445358",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445359.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-01-18T22:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445359",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_445360.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-05T17:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445360",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445361.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-05T17:37:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445361",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445362.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-03T01:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445362",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445363.json:
```json
{
    "body": "There seem to be merge conflicts.",
    "created_at": "2022-06-16T18:00:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445363",
    "user": "saraedum"
}
```

There seem to be merge conflicts.



---

archive/issue_comments_445364.json:
```json
{
    "body": "Do you want this to be reviewed & merged even though it does not work on Linux yet? Or does it work by now?",
    "created_at": "2022-06-16T18:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445364",
    "user": "saraedum"
}
```

Do you want this to be reviewed & merged even though it does not work on Linux yet? Or does it work by now?



---

archive/issue_comments_445365.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-06-16T18:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445365",
    "user": "saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_445366.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-17T18:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445366",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445367.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-06-17T18:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445367",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_445368.json:
```json
{
    "body": "Replying to [comment:171 saraedum]:\n> Do you want this to be reviewed & merged even though it does not work on Linux yet?\n\nYes, that would be great!",
    "created_at": "2022-06-17T18:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445368",
    "user": "mkoeppe"
}
```

Replying to [comment:171 saraedum]:
> Do you want this to be reviewed & merged even though it does not work on Linux yet?

Yes, that would be great!



---

archive/issue_comments_445369.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-01T02:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445369",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445370.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-07-11T00:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445370",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_445371.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-11T03:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445371",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445372.json:
```json
{
    "body": "There's an isolated\n\n\n```\n+        #\n```\n\n\nIs a comment missing there?",
    "created_at": "2022-07-14T20:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445372",
    "user": "saraedum"
}
```

There's an isolated


```
+        #
```


Is a comment missing there?



---

archive/issue_comments_445373.json:
```json
{
    "body": "I don't understand the `STICKY` business. Why is there a hardcoded `/var/tmp` there?",
    "created_at": "2022-07-14T20:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445373",
    "user": "saraedum"
}
```

I don't understand the `STICKY` business. Why is there a hardcoded `/var/tmp` there?



---

archive/issue_comments_445374.json:
```json
{
    "body": "Is the plan to eventually make these wheels available on PyPI?",
    "created_at": "2022-07-14T20:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445374",
    "user": "saraedum"
}
```

Is the plan to eventually make these wheels available on PyPI?



---

archive/issue_comments_445375.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2022-07-14T20:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445375",
    "user": "saraedum"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_445376.json:
```json
{
    "body": "Note to self. I don't really understand what `pkgs/sage-conf_relocatable/setup.py` does because of the above. The rest looks fine.",
    "created_at": "2022-07-14T20:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445376",
    "user": "saraedum"
}
```

Note to self. I don't really understand what `pkgs/sage-conf_relocatable/setup.py` does because of the above. The rest looks fine.



---

archive/issue_comments_445377.json:
```json
{
    "body": "/var/tmp is a sticky directory, meaning every user can create a new subdirectory, which then securely belongs to them.\n\nThe README of https://pypi.org/project/sage-conf/ (section \"sage_conf wheels\") explains more",
    "created_at": "2022-07-14T20:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445377",
    "user": "mkoeppe"
}
```

/var/tmp is a sticky directory, meaning every user can create a new subdirectory, which then securely belongs to them.

The README of https://pypi.org/project/sage-conf/ (section "sage_conf wheels") explains more



---

archive/issue_comments_445378.json:
```json
{
    "body": "Replying to [comment:181 saraedum]:\n> Is the plan to eventually make these wheels available on PyPI?\n\nTicket description explains why they can't go to PyPI.",
    "created_at": "2022-07-14T20:46:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445378",
    "user": "mkoeppe"
}
```

Replying to [comment:181 saraedum]:
> Is the plan to eventually make these wheels available on PyPI?

Ticket description explains why they can't go to PyPI.



---

archive/issue_comments_445379.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-27T01:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445379",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445380.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2022-07-27T03:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445380",
    "user": "mkoeppe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_445381.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-12-14T22:35:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445381",
    "user": "saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_445382.json:
```json
{
    "body": "Sorry for not having a look at this ticket for a while. There are merge conflicts now btw.",
    "created_at": "2022-12-14T22:35:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445382",
    "user": "saraedum"
}
```

Sorry for not having a look at this ticket for a while. There are merge conflicts now btw.



---

archive/issue_comments_445383.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-15T01:16:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-445383",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:
