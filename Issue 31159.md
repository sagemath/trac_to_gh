# Issue 31159: relocatable wheel version of package sage_conf

archive/issues_031159.json:
```json
{
    "body": "CC:  @culler @kliem @dimpase @jhpalmieri @slel @kiwifb\n\nThis version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's symbolic link surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).\n\nThe `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.\n\n\nSo far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  \n\nThe wheel declares dependencies (`install-requires`) to all Python packages in the Sage distribution that have extension modules.  The dependencies are specific using ``@`` to URLs on \nhttps://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2, where I have uploaded the binary wheels.  Unfortunately, by PyPI policy, such ``@`` references are not allowed for packages on PyPI. \nHence, the pip invocation needs to use a URL.\n\n(See also https://twitter.com/mkoeppe_math/status/1378860285537054723)\n\n**Instructions for testing:**\n\n1. Make sure that the `bin` directory of the user installation scheme is in `PATH`. For example, on macOS:\n\n```\n$ export PATH=$HOME/Library/Python/3.8/bin:/usr/bin:/bin:/usr/sbin:/sbin\n```\n\n2. Install the wheel in the user scheme:\n\n```\n$ /usr/bin/python3 -m pip install -U --user  https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sagemath_standard-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n```\n\n3. Run the installed sage.\n\n```\n$ sage\n``` \n\n**Procedure for building the sage_conf wheel and compatible wheels:**\n\n\nFor building wheels on macOS Catalina that uses XCode python 3.8:\n\n```\n$ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash\n(tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel --plat-name macosx_10_15_x86_64)\n```\nor\n\n```\ntox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n```\n\nThis creates (uploaded to https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2)\n- src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl\n- src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl\n\nBuild for macOS Big Sur (requires a machine running Big Sur or Monterey) (uploaded to https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2)\n\n```\ntox -e local-macos-11.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n```\n\nBuild for macOS Monterey (requires a machine running Monterey)\n\n```\ntox -e local-macos-12.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels\n```\n\n\nBuild for Linux (does not work yet):\n\n```\n$ TARGETS_PRE=Makefile tox -e docker-manylinux-2_24-minimal-python3.9 -- sage-wheels\n\n```\n\n**Follow-up steps:** \n- also build a **sagemath-standard** wheel\n- build wheels for `manylinux` using `tox -e docker-manylinux....`\n  - wheel is much too big: 2.3GB\n  - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`). https://github.com/pypa/packaging-problems/issues/542#issuecomment-912838470: subclass `build_ext` instead of `build_py`\n- disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible -- for example by storing a tar file `sage_root.tar` (with symlinks) instead of including the sage root as a directory - https://docs.python.org/3/library/tarfile.html#tarfile.open \n- #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/31396\n\n",
    "created_at": "2021-02-14T22:06:47Z",
    "labels": [
        "component: relocation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "relocatable wheel version of package sage_conf",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31159",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @culler @kliem @dimpase @jhpalmieri @slel @kiwifb

This version of `sage_conf` is for making a wheel that packages the precompiled non-Python bits of the Sage distribution, making `SAGE_ROOT` (and thus `SAGE_LOCAL=$SAGE_ROOT/local`) relocatable using Marc Culler's symbolic link surgery (the method proposed in #31076, using `SAGE_ROOT=/var/tmp/sage-...` and a symlink).

The `sage` script invokes `sage-config` to determine `SAGE_ROOT` and `SAGE_LOCAL`. In the version of `sage-config` supplied by this version of `sage_conf`, we ensure that the symlink from `/var/tmp/sage-....` to the actual install location is set.


So far, a wheel has been built for XCode python 3.8 on macOS 10.15.  The wheel is 670MB in size, an order of magnitude above the standard file size limit on PyPI; but a file size limit increase (requested in  https://github.com/pypa/pypi-support/issues/985) has kindly been granted by the PyPI team.  

The wheel declares dependencies (`install-requires`) to all Python packages in the Sage distribution that have extension modules.  The dependencies are specific using ``@`` to URLs on 
https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2, where I have uploaded the binary wheels.  Unfortunately, by PyPI policy, such ``@`` references are not allowed for packages on PyPI. 
Hence, the pip invocation needs to use a URL.

(See also https://twitter.com/mkoeppe_math/status/1378860285537054723)

**Instructions for testing:**

1. Make sure that the `bin` directory of the user installation scheme is in `PATH`. For example, on macOS:

```
$ export PATH=$HOME/Library/Python/3.8/bin:/usr/bin:/bin:/usr/sbin:/sbin
```

2. Install the wheel in the user scheme:

```
$ /usr/bin/python3 -m pip install -U --user  https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/sagemath_standard-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
```

3. Run the installed sage.

```
$ sage
``` 

**Procedure for building the sage_conf wheel and compatible wheels:**


For building wheels on macOS Catalina that uses XCode python 3.8:

```
$ SKIP_CONFIGURE=1 tox -e local-macos-10.15-nohomebrew-python3_xcode -- bash
(tox -e ...) $ (cd src/pkgs/sage_conf-relocatable/ && python3 setup.py bdist_wheel --plat-name macosx_10_15_x86_64)
```
or

```
tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
```

This creates (uploaded to https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2)
- src/pkgs/sage_conf-relocatable/dist/sage_conf-9.3rc1-cp38-cp38-macosx_10_15_x86_64.whl
- src/pkgs/sage_conf-relocatable/sage_root/venv-cpython-38-darwin-macosx_10_15_x86_64/var/lib/sage/wheels/*.whl

Build for macOS Big Sur (requires a machine running Big Sur or Monterey) (uploaded to https://github.com/sagemath/sage-wheels/releases/tag/9.5.rc2)

```
tox -e local-macos-11.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
```

Build for macOS Monterey (requires a machine running Monterey)

```
tox -e local-macos-12.1-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels
```


Build for Linux (does not work yet):

```
$ TARGETS_PRE=Makefile tox -e docker-manylinux-2_24-minimal-python3.9 -- sage-wheels

```

**Follow-up steps:** 
- also build a **sagemath-standard** wheel
- build wheels for `manylinux` using `tox -e docker-manylinux....`
  - wheel is much too big: 2.3GB
  - auditwheel complains: `RuntimeError: Invalid binary wheel, found the following shared library/libraries in purelib folder:`; so we should replace our current abuse of package data (`install_data`) by platlib (`install_lib`). https://github.com/pypa/packaging-problems/issues/542#issuecomment-912838470: subclass `build_ext` instead of `build_py`
- disable building the dependencies of the sphinx packages; remove unneeded static libraries; remove duplicated/triplicated shared libraries if possible -- for example by storing a tar file `sage_root.tar` (with symlinks) instead of including the sage root as a directory - https://docs.python.org/3/library/tarfile.html#tarfile.open 
- #31602: split out `sage_root` from `sage_conf` and use install-requires in the `sage_conf` sdist/wheel with `@` links to GH releases to the `sage_root` wheel and the built non-`any` wheels.


Issue created by migration from https://trac.sagemath.org/ticket/31396





---

archive/issue_comments_444742.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-15T06:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444742",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444743.json:
```json
{
    "body": "On macOS, some shared libraries from homebrew still leak into the build:\n\n```\nfind src/pkgs/sage_conf-relocatable/.tox/python/lib/python3.9/site-packages/sage_root -name \"*.so\" -o -name \"*.dylib\" | xargs otool -L\nlibgiac.dylib:\n/usr/local/opt/gettext/lib/libintl.8.dylib\nR/library/cluster/libs/*.dylib:\n\t/usr/local/opt/gettext/lib/libintl.8.dylib (compatibility version 11.0.0, current version 11.0.0)\n\t/usr/local/opt/pcre/lib/libpcre.1.dylib (compatibility version 4.0.0, current version 4.12.0)\n\t/usr/local/opt/xz/lib/liblzma.5.dylib (compatibility version 8.0.0, current version 8.5.0)\n```\nDefinitely should disable the R build (#30383).\n\nAlso check whether setting CC=`gcc -sysroot....` helps getting rid of `/usr/local` leaking in.\n\nAlso need to add `--enable-fat-binary`.\n\n`setup.py build_py` should probably use a symlink from `/var/tmp...` into `~/.sage` as well so that it is easy to test relocation after removing the symlink.\nAlso `copytree` from `sage_root_source` should be changed so it overwrites (updates) the existing contents of SAGE_ROOT.\n\nthe tox test should include the test with `otool` for self-containedness.",
    "created_at": "2021-02-15T07:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444743",
    "user": "https://github.com/mkoeppe"
}
```

On macOS, some shared libraries from homebrew still leak into the build:

```
find src/pkgs/sage_conf-relocatable/.tox/python/lib/python3.9/site-packages/sage_root -name "*.so" -o -name "*.dylib" | xargs otool -L
libgiac.dylib:
/usr/local/opt/gettext/lib/libintl.8.dylib
R/library/cluster/libs/*.dylib:
	/usr/local/opt/gettext/lib/libintl.8.dylib (compatibility version 11.0.0, current version 11.0.0)
	/usr/local/opt/pcre/lib/libpcre.1.dylib (compatibility version 4.0.0, current version 4.12.0)
	/usr/local/opt/xz/lib/liblzma.5.dylib (compatibility version 8.0.0, current version 8.5.0)
```
Definitely should disable the R build (#30383).

Also check whether setting CC=`gcc -sysroot....` helps getting rid of `/usr/local` leaking in.

Also need to add `--enable-fat-binary`.

`setup.py build_py` should probably use a symlink from `/var/tmp...` into `~/.sage` as well so that it is easy to test relocation after removing the symlink.
Also `copytree` from `sage_root_source` should be changed so it overwrites (updates) the existing contents of SAGE_ROOT.

the tox test should include the test with `otool` for self-containedness.



---

archive/issue_comments_444744.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-16T02:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444744",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444745.json:
```json
{
    "body": "Using -isysroot helps but giac configuration needs more work - #31403",
    "created_at": "2021-02-16T02:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444745",
    "user": "https://github.com/mkoeppe"
}
```

Using -isysroot helps but giac configuration needs more work - #31403



---

archive/issue_comments_444746.json:
```json
{
    "body": "Replying to [comment:4 mkoeppe]:\n> `setup.py build_py` should probably use a symlink from `/var/tmp...` into `~/.sage` as well so that it is easy to test relocation after removing the symlink.\n\nDoes not work because sage resolves symlinks when it determines SAGE_ROOT.",
    "created_at": "2021-02-16T03:26:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444746",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:4 mkoeppe]:
> `setup.py build_py` should probably use a symlink from `/var/tmp...` into `~/.sage` as well so that it is easy to test relocation after removing the symlink.

Does not work because sage resolves symlinks when it determines SAGE_ROOT.



---

archive/issue_comments_444747.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-19T00:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444747",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444748.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-19T02:19:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444748",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444749.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-19T03:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444750.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-02-19T06:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444750",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_444751.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-02-19T06:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444751",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444752.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-03-15T06:02:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444752",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_444753.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-03-24T17:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444753",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_444754.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T17:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444754",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444755.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T19:14:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444755",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444756.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T20:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444756",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444757.json:
```json
{
    "body": "`delocate-listdeps` reports the following library dependencies:\n\n```\n/usr/local/Cellar/gettext/0.21/lib/libintl.8.dylib\n/usr/local/Cellar/gmp/6.2.1/lib/libgmp.10.dylib\n/usr/local/Cellar/harfbuzz/2.8.0/lib/libharfbuzz.0.dylib\n/usr/local/Cellar/libtiff/4.2.0/lib/libtiff.5.dylib\n/usr/local/Cellar/libxcb/1.14_1/lib/libxcb.1.1.0.dylib\n/usr/local/Cellar/little-cms2/2.12/lib/liblcms2.2.dylib\n/usr/local/Cellar/mpfr/4.1.0/lib/libmpfr.6.dylib\n/usr/local/Cellar/openjpeg/2.4.0/lib/libopenjp2.2.4.0.dylib\n/usr/local/Cellar/readline/8.1/lib/libreadline.8.1.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebp.7.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebpdemux.2.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebpmux.3.dylib\n/usr/local/Cellar/zeromq/4.3.3/lib/libzmq.5.dylib\n/usr/local/Cellar/zlib/1.2.11/lib/libz.1.2.11.dylib\n@executable_path/../../../../Python3\nliba.dylib\nlibb.dylib\nlibc.dylib\n```",
    "created_at": "2021-03-25T01:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444757",
    "user": "https://github.com/mkoeppe"
}
```

`delocate-listdeps` reports the following library dependencies:

```
/usr/local/Cellar/gettext/0.21/lib/libintl.8.dylib
/usr/local/Cellar/gmp/6.2.1/lib/libgmp.10.dylib
/usr/local/Cellar/harfbuzz/2.8.0/lib/libharfbuzz.0.dylib
/usr/local/Cellar/libtiff/4.2.0/lib/libtiff.5.dylib
/usr/local/Cellar/libxcb/1.14_1/lib/libxcb.1.1.0.dylib
/usr/local/Cellar/little-cms2/2.12/lib/liblcms2.2.dylib
/usr/local/Cellar/mpfr/4.1.0/lib/libmpfr.6.dylib
/usr/local/Cellar/openjpeg/2.4.0/lib/libopenjp2.2.4.0.dylib
/usr/local/Cellar/readline/8.1/lib/libreadline.8.1.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebp.7.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebpdemux.2.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebpmux.3.dylib
/usr/local/Cellar/zeromq/4.3.3/lib/libzmq.5.dylib
/usr/local/Cellar/zlib/1.2.11/lib/libz.1.2.11.dylib
@executable_path/../../../../Python3
liba.dylib
libb.dylib
libc.dylib
```



---

archive/issue_comments_444758.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-25T01:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444759.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-25T05:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444759",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444760.json:
```json
{
    "body": "```\n/usr/local/Cellar/gettext/0.21/lib/libintl.8.dylib\n/usr/local/Cellar/harfbuzz/2.8.0/lib/libharfbuzz.0.dylib\n/usr/local/Cellar/libtiff/4.2.0/lib/libtiff.5.dylib\n/usr/local/Cellar/libxcb/1.14_1/lib/libxcb.1.1.0.dylib\n/usr/local/Cellar/little-cms2/2.12/lib/liblcms2.2.dylib\n/usr/local/Cellar/openjpeg/2.4.0/lib/libopenjp2.2.4.0.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebp.7.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebpdemux.2.dylib\n/usr/local/Cellar/webp/1.2.0/lib/libwebpmux.3.dylib\n/usr/local/Cellar/zlib/1.2.11/lib/libz.1.2.11.dylib\n@executable_path/../../../../Python3\nliba.dylib\nlibb.dylib\nlibc.dylib\n```",
    "created_at": "2021-03-25T06:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444760",
    "user": "https://github.com/mkoeppe"
}
```

```
/usr/local/Cellar/gettext/0.21/lib/libintl.8.dylib
/usr/local/Cellar/harfbuzz/2.8.0/lib/libharfbuzz.0.dylib
/usr/local/Cellar/libtiff/4.2.0/lib/libtiff.5.dylib
/usr/local/Cellar/libxcb/1.14_1/lib/libxcb.1.1.0.dylib
/usr/local/Cellar/little-cms2/2.12/lib/liblcms2.2.dylib
/usr/local/Cellar/openjpeg/2.4.0/lib/libopenjp2.2.4.0.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebp.7.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebpdemux.2.dylib
/usr/local/Cellar/webp/1.2.0/lib/libwebpmux.3.dylib
/usr/local/Cellar/zlib/1.2.11/lib/libz.1.2.11.dylib
@executable_path/../../../../Python3
liba.dylib
libb.dylib
libc.dylib
```



---

archive/issue_comments_444761.json:
```json
{
    "body": "`libintl` is still coming in through giac",
    "created_at": "2021-03-25T07:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444761",
    "user": "https://github.com/mkoeppe"
}
```

`libintl` is still coming in through giac



---

archive/issue_comments_444762.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-25T18:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444762",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444763.json:
```json
{
    "body": "The remaining shared libraries from `/usr/local` come in through our `freetype` (which uses libharfbuzz from `/usr/local`), `libgd` (which uses libtiff), and `pillow` (libtiff and everything else).\n\nWe could try not to ship `matplotlib` at all in the wheelhouse - it is responsible for pulling in `freetype` and `pillow` - but it still shares one shared library with some of our packages - `libpng`.",
    "created_at": "2021-03-25T23:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444763",
    "user": "https://github.com/mkoeppe"
}
```

The remaining shared libraries from `/usr/local` come in through our `freetype` (which uses libharfbuzz from `/usr/local`), `libgd` (which uses libtiff), and `pillow` (libtiff and everything else).

We could try not to ship `matplotlib` at all in the wheelhouse - it is responsible for pulling in `freetype` and `pillow` - but it still shares one shared library with some of our packages - `libpng`.



---

archive/issue_comments_444764.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-03-26T01:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444764",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444765.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-03-26T02:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444765",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444766.json:
```json
{
    "body": "Replying to [comment:30 mkoeppe]:\n> `libintl` is still coming in through giac\n\nSolved now via #31562.",
    "created_at": "2021-03-26T02:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444766",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:30 mkoeppe]:
> `libintl` is still coming in through giac

Solved now via #31562.



---

archive/issue_comments_444767.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-26T19:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444767",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444768.json:
```json
{
    "body": "Replying to [comment:32 mkoeppe]:\n> The remaining shared libraries from `/usr/local` come in through our `freetype` (which uses libharfbuzz from `/usr/local`)\n\n\nfreetype checks for harfbuzz using pkg-config, accepts `configure --without-harfbuzz`. https://github.com/freetype/freetype/blob/f9f6adb625c48ef15b5d61a3ac1709a068ea95a3/builds/unix/configure.raw#L504",
    "created_at": "2021-03-27T04:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444768",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:32 mkoeppe]:
> The remaining shared libraries from `/usr/local` come in through our `freetype` (which uses libharfbuzz from `/usr/local`)


freetype checks for harfbuzz using pkg-config, accepts `configure --without-harfbuzz`. https://github.com/freetype/freetype/blob/f9f6adb625c48ef15b5d61a3ac1709a068ea95a3/builds/unix/configure.raw#L504



---

archive/issue_comments_444769.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-27T05:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444769",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444770.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-03-28T06:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444770",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_444771.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-29T02:00:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444771",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444772.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-29T04:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444772",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444773.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-29T16:37:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444773",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_444774.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-03-30T16:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444774",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_082250.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-30T17:19:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31159#event-82250"
}
```



---

archive/issue_comments_444775.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-04-03T21:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444775",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_444776.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-04T00:49:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444776",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444777.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-04T02:15:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444777",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444778.json:
```json
{
    "body": "Unfortunately it turns out that PyPI does not allow `@` references in install requires (see https://github.com/pypa/pip/issues/6301)\n\n```\nHTTPError: 400 Bad Request from https://upload.pypi.org/legacy/\nInvalid value for requires_dist. Error: Can't have direct dependency: 'Cython @ https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/Cython-0.29.21-cp38-cp38-macosx_10_15_x86_64.whl'\n```",
    "created_at": "2021-04-04T04:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444778",
    "user": "https://github.com/mkoeppe"
}
```

Unfortunately it turns out that PyPI does not allow `@` references in install requires (see https://github.com/pypa/pip/issues/6301)

```
HTTPError: 400 Bad Request from https://upload.pypi.org/legacy/
Invalid value for requires_dist. Error: Can't have direct dependency: 'Cython @ https://github.com/sagemath/sage-wheels/releases/download/9.3.rc1/Cython-0.29.21-cp38-cp38-macosx_10_15_x86_64.whl'
```



---

archive/issue_comments_444779.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-04T21:26:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444779",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444780.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-04T23:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444780",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444781.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-04-05T02:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444781",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_444782.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-06T04:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444782",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444783.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-06T04:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444783",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444784.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-07T00:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444784",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444785.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-07T00:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444785",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444786.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-07T02:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444786",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444787.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-08T19:55:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444787",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444788.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-08T22:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444788",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444789.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-09T02:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444789",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444790.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-10T18:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444790",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444791.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T16:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444791",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444792.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T17:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444792",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444793.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-11T17:07:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444793",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444794.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-11T03:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444794",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444795.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-06-06T20:18:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444795",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_444796.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-07T02:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444796",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444797.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-07T02:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444797",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444798.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-07T18:35:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444798",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444799.json:
```json
{
    "body": "Installation with `/usr/bin/python3 -m pip install -I --user https://github.com/sagemath/sage-wheels/releases/download/9.4.beta1/sage_conf-9.4b1-cp38-cp38-macosx_11_0_x86_64.whl https://github.com/sagemath/sage-wheels/releases/download/9.4.beta1/sagemath_standard-9.4b1-cp38-cp38-macosx_11_0_x86_64.whl` fails with:\n\n```\nCollecting argon2-cffi (from notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.5.1->sagemath-standard==9.4b1)\n  Downloading https://files.pythonhosted.org/packages/74/fd/d78e003a79c453e8454197092fce9d1c6099445b7e7da0b04eb4fe1dbab7/argon2-cffi-20.1.0.tar.gz (1.8MB)\n[...]\nFailed to build argon2-cffi\n```",
    "created_at": "2021-06-07T23:59:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444799",
    "user": "https://github.com/mkoeppe"
}
```

Installation with `/usr/bin/python3 -m pip install -I --user https://github.com/sagemath/sage-wheels/releases/download/9.4.beta1/sage_conf-9.4b1-cp38-cp38-macosx_11_0_x86_64.whl https://github.com/sagemath/sage-wheels/releases/download/9.4.beta1/sagemath_standard-9.4b1-cp38-cp38-macosx_11_0_x86_64.whl` fails with:

```
Collecting argon2-cffi (from notebook>=4.4.1->widgetsnbextension~=3.5.0->ipywidgets>=7.5.1->sagemath-standard==9.4b1)
  Downloading https://files.pythonhosted.org/packages/74/fd/d78e003a79c453e8454197092fce9d1c6099445b7e7da0b04eb4fe1dbab7/argon2-cffi-20.1.0.tar.gz (1.8MB)
[...]
Failed to build argon2-cffi
```



---

archive/issue_comments_444800.json:
```json
{
    "body": "#29039 is listed as a dependency, is it an error?",
    "created_at": "2021-06-08T11:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444800",
    "user": "https://github.com/dimpase"
}
```

#29039 is listed as a dependency, is it an error?



---

archive/issue_comments_444801.json:
```json
{
    "body": "No, that's correct",
    "created_at": "2021-06-09T13:00:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444801",
    "user": "https://github.com/mkoeppe"
}
```

No, that's correct



---

archive/issue_comments_444802.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-06-25T07:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444802",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_444803.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-06-25T19:31:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444803",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_444804.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-06-25T19:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444804",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444805.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-06-25T20:02:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444805",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_444806.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-26T18:52:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444806",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444807.json:
```json
{
    "body": "<deleted - meant to be on #31456>",
    "created_at": "2021-06-27T10:07:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444807",
    "user": "https://github.com/dimpase"
}
```

<deleted - meant to be on #31456>



---

archive/issue_comments_444808.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-07-24T19:58:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444808",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_events_082251.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:59:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31159#event-82251"
}
```



---

archive/issue_events_082252.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:59:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31159#event-82252"
}
```



---

archive/issue_comments_444809.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-12T21:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444809",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444810.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-12T22:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444810",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444811.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-09-27T04:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444811",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_444812.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-28T01:31:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444812",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444813.json:
```json
{
    "body": "On Linux, `PATH` in testing instructions should start from `$HOME/.local/lib/python3.8` or something like this. There is no `~/Library`, that's macOS-only.",
    "created_at": "2021-10-14T10:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444813",
    "user": "https://github.com/dimpase"
}
```

On Linux, `PATH` in testing instructions should start from `$HOME/.local/lib/python3.8` or something like this. There is no `~/Library`, that's macOS-only.



---

archive/issue_comments_444814.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-25T03:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444814",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444815.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-11-13T06:51:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444815",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_444816.json:
```json
{
    "body": "Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444816",
    "user": "https://github.com/mkoeppe"
}
```

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_082253.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31159#event-82253"
}
```



---

archive/issue_events_082254.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31159#event-82254"
}
```



---

archive/issue_comments_444817.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-01-01T01:37:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444817",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_444818.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-01-01T01:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444818",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_444819.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T02:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444819",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444820.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T02:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444820",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444821.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T03:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444821",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444822.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T05:33:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444822",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444823.json:
```json
{
    "body": "To avoid the duplication between the two versions of `sage_conf.py.in`, could do what was suggested in #29039#comment:148 - split module `sage_conf` into several modules of a `sage_conf` package",
    "created_at": "2022-01-01T06:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444823",
    "user": "https://github.com/mkoeppe"
}
```

To avoid the duplication between the two versions of `sage_conf.py.in`, could do what was suggested in #29039#comment:148 - split module `sage_conf` into several modules of a `sage_conf` package



---

archive/issue_comments_444824.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T19:30:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444824",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444825.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-01-02T19:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444825",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_444826.json:
```json
{
    "body": "Need to get uninstallation of script package `sage_conf` fixed, or switching between branches with `sage_conf.py` and branches with `sage_conf/` will be tricky",
    "created_at": "2022-01-02T19:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444826",
    "user": "https://github.com/mkoeppe"
}
```

Need to get uninstallation of script package `sage_conf` fixed, or switching between branches with `sage_conf.py` and branches with `sage_conf/` will be tricky



---

archive/issue_comments_444827.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-11T17:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444827",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444828.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-11T20:30:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444828",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444829.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T20:36:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444829",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444830.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T20:49:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444831.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T20:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444831",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444832.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T21:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444832",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444833.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-01-11T21:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444833",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444834.json:
```json
{
    "body": "`tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels`\ncurrently builds a mistagged `sage_conf-9.5rc0-cp38-cp38-macosx_11_0_x86_64.whl`",
    "created_at": "2022-01-12T00:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444834",
    "user": "https://github.com/mkoeppe"
}
```

`tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels`
currently builds a mistagged `sage_conf-9.5rc0-cp38-cp38-macosx_11_0_x86_64.whl`



---

archive/issue_comments_444835.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-16T20:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444835",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444836.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-16T20:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444836",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444837.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-17T00:20:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444837",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444838.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-17T01:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444838",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444839.json:
```json
{
    "body": "Replying to [comment:150 mkoeppe]:\n> `tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels`\n> currently builds a mistagged `sage_conf-9.5rc0-cp38-cp38-macosx_11_0_x86_64.whl`\n\n\nThat was caused by trash in `pkgs/sage-conf_relocatable/build/`",
    "created_at": "2022-01-17T01:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444839",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:150 mkoeppe]:
> `tox -e local-macos-10.15-nohomebrew-python3_xcode -- SAGE_CHECK=no sage-wheels`
> currently builds a mistagged `sage_conf-9.5rc0-cp38-cp38-macosx_11_0_x86_64.whl`


That was caused by trash in `pkgs/sage-conf_relocatable/build/`



---

archive/issue_comments_444840.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-17T07:38:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444840",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444841.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-01-18T22:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444841",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_444842.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-05T17:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444842",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444843.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-05T17:37:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444843",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_082255.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T17:54:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31159#event-82255"
}
```



---

archive/issue_events_082256.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T17:54:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31159#event-82256"
}
```



---

archive/issue_comments_444844.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-03T01:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444844",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444845.json:
```json
{
    "body": "There seem to be merge conflicts.",
    "created_at": "2022-06-16T18:00:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444845",
    "user": "https://github.com/saraedum"
}
```

There seem to be merge conflicts.



---

archive/issue_comments_444846.json:
```json
{
    "body": "Do you want this to be reviewed & merged even though it does not work on Linux yet? Or does it work by now?",
    "created_at": "2022-06-16T18:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444846",
    "user": "https://github.com/saraedum"
}
```

Do you want this to be reviewed & merged even though it does not work on Linux yet? Or does it work by now?



---

archive/issue_comments_444847.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-06-16T18:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444847",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_444848.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-17T18:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444848",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444849.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-06-17T18:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444849",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_444850.json:
```json
{
    "body": "Replying to [comment:171 saraedum]:\n> Do you want this to be reviewed & merged even though it does not work on Linux yet?\n\n\nYes, that would be great!",
    "created_at": "2022-06-17T18:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444850",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:171 saraedum]:
> Do you want this to be reviewed & merged even though it does not work on Linux yet?


Yes, that would be great!



---

archive/issue_comments_444851.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-01T02:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444851",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444852.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-07-11T00:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444852",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_444853.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-11T03:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444853",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444854.json:
```json
{
    "body": "There's an isolated\n\n```\n+        #\n```\n\nIs a comment missing there?",
    "created_at": "2022-07-14T20:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444854",
    "user": "https://github.com/saraedum"
}
```

There's an isolated

```
+        #
```

Is a comment missing there?



---

archive/issue_comments_444855.json:
```json
{
    "body": "I don't understand the `STICKY` business. Why is there a hardcoded `/var/tmp` there?",
    "created_at": "2022-07-14T20:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444855",
    "user": "https://github.com/saraedum"
}
```

I don't understand the `STICKY` business. Why is there a hardcoded `/var/tmp` there?



---

archive/issue_comments_444856.json:
```json
{
    "body": "Is the plan to eventually make these wheels available on PyPI?",
    "created_at": "2022-07-14T20:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444856",
    "user": "https://github.com/saraedum"
}
```

Is the plan to eventually make these wheels available on PyPI?



---

archive/issue_comments_444857.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2022-07-14T20:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444857",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_444858.json:
```json
{
    "body": "Note to self. I don't really understand what `pkgs/sage-conf_relocatable/setup.py` does because of the above. The rest looks fine.",
    "created_at": "2022-07-14T20:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444858",
    "user": "https://github.com/saraedum"
}
```

Note to self. I don't really understand what `pkgs/sage-conf_relocatable/setup.py` does because of the above. The rest looks fine.



---

archive/issue_comments_444859.json:
```json
{
    "body": "/var/tmp is a sticky directory, meaning every user can create a new subdirectory, which then securely belongs to them.\n\nThe README of https://pypi.org/project/sage-conf/ (section \"sage_conf wheels\") explains more",
    "created_at": "2022-07-14T20:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444859",
    "user": "https://github.com/mkoeppe"
}
```

/var/tmp is a sticky directory, meaning every user can create a new subdirectory, which then securely belongs to them.

The README of https://pypi.org/project/sage-conf/ (section "sage_conf wheels") explains more



---

archive/issue_comments_444860.json:
```json
{
    "body": "Replying to [comment:181 saraedum]:\n> Is the plan to eventually make these wheels available on PyPI?\n\n\nTicket description explains why they can't go to PyPI.",
    "created_at": "2022-07-14T20:46:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444860",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:181 saraedum]:
> Is the plan to eventually make these wheels available on PyPI?


Ticket description explains why they can't go to PyPI.



---

archive/issue_comments_444861.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-27T01:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444861",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444862.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2022-07-27T03:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444862",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_events_082257.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31159#event-82257"
}
```



---

archive/issue_events_082258.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31159#event-82258"
}
```



---

archive/issue_comments_444863.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-12-14T22:35:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444863",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_444864.json:
```json
{
    "body": "Sorry for not having a look at this ticket for a while. There are merge conflicts now btw.",
    "created_at": "2022-12-14T22:35:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444864",
    "user": "https://github.com/saraedum"
}
```

Sorry for not having a look at this ticket for a while. There are merge conflicts now btw.



---

archive/issue_comments_444865.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-12-15T01:16:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31159#issuecomment-444865",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:
