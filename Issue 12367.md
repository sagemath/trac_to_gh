# Issue 12367: graphs and digraphs distances distribution

archive/issues_012367.json:
```json
{
    "body": "Assignee: jason, ncohen, rlm\n\nCC:  ncohen\n\nThis patch implements a simple function that returns the distances distribution of the (di)graph in a dictionary.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12539\n\n",
    "created_at": "2012-02-19T14:43:18Z",
    "labels": [
        "graph theory",
        "minor",
        "enhancement"
    ],
    "title": "graphs and digraphs distances distribution",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12367",
    "user": "dcoudert"
}
```
Assignee: jason, ncohen, rlm

CC:  ncohen

This patch implements a simple function that returns the distances distribution of the (di)graph in a dictionary.

Issue created by migration from https://trac.sagemath.org/ticket/12539





---

archive/issue_comments_145751.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-02-19T14:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145751",
    "user": "dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_145752.json:
```json
{
    "body": "Helloooooo !!\n\nNice patch ! This can be useful indeed `:-)`\n\nTwo things, though.. Could you mention in the ``distances_distribution`` method of generic_graph.py that the method *ignores all edge labels* ? Our distance methods are usually built so that they can take it into account, depending on the input. It is not necessary to do the same for the function defined in distances_all_pairs as the whole module is built this way.\n\nAlso, what would you think of casting the answers to Sage integers before returning the values ? Right now you divide two C integer variables and so the answer is a float, but by doing something like Integer(4)/Integer(6) what the user would get is a pretty 2/3 instead of 0.66666666... At this level, it's not a very costly operation `:-)`\n\nNathann",
    "created_at": "2012-02-20T10:00:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145752",
    "user": "ncohen"
}
```

Helloooooo !!

Nice patch ! This can be useful indeed `:-)`

Two things, though.. Could you mention in the ``distances_distribution`` method of generic_graph.py that the method *ignores all edge labels* ? Our distance methods are usually built so that they can take it into account, depending on the input. It is not necessary to do the same for the function defined in distances_all_pairs as the whole module is built this way.

Also, what would you think of casting the answers to Sage integers before returning the values ? Right now you divide two C integer variables and so the answer is a float, but by doing something like Integer(4)/Integer(6) what the user would get is a pretty 2/3 instead of 0.66666666... At this level, it's not a very costly operation `:-)`

Nathann



---

archive/issue_comments_145753.json:
```json
{
    "body": "I have done all proposed improvements (and changed the outputs of the tests accordingly).\nThe Sage integer cast is quite nice and much more precise.\n\nD.",
    "created_at": "2012-02-20T12:19:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145753",
    "user": "dcoudert"
}
```

I have done all proposed improvements (and changed the outputs of the tests accordingly).
The Sage integer cast is quite nice and much more precise.

D.



---

archive/issue_comments_145754.json:
```json
{
    "body": "Hellooooo !!!\n\nHere are some modifications to the documentation, some sphinx typo (when there is no space between \"..\" and \"note\" Sphinx just ignores it), and details from the code. \n\nI give your patch a positive review, and you can do the same with mine (and so with the ticket) you like the changes `:-)`\n\nNathann",
    "created_at": "2012-02-20T19:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145754",
    "user": "ncohen"
}
```

Hellooooo !!!

Here are some modifications to the documentation, some sphinx typo (when there is no space between ".." and "note" Sphinx just ignores it), and details from the code. 

I give your patch a positive review, and you can do the same with mine (and so with the ticket) you like the changes `:-)`

Nathann



---

archive/issue_comments_145755.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-02-20T22:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145755",
    "user": "dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_145756.json:
```json
{
    "body": "Thanks for the corrections. \nInstallation and tests OK.\n\nI give a positive review to your additional patch ;-)\n\nD.",
    "created_at": "2012-02-20T22:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145756",
    "user": "dcoudert"
}
```

Thanks for the corrections. 
Installation and tests OK.

I give a positive review to your additional patch ;-)

D.



---

archive/issue_comments_145757.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-02-21T11:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145757",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_145758.json:
```json
{
    "body": "This needs to be rebased to sage-5.0.beta5 (not yet released but essentially ready): [http://boxen.math.washington.edu/home/release/sage-5.0.beta5/](http://boxen.math.washington.edu/home/release/sage-5.0.beta5/)",
    "created_at": "2012-02-21T11:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145758",
    "user": "jdemeyer"
}
```

This needs to be rebased to sage-5.0.beta5 (not yet released but essentially ready): [http://boxen.math.washington.edu/home/release/sage-5.0.beta5/](http://boxen.math.washington.edu/home/release/sage-5.0.beta5/)



---

archive/issue_comments_145759.json:
```json
{
    "body": "> This needs to be rebased to sage-5.0.beta5 (not yet released but essentially ready): [http://boxen.math.washington.edu/home/release/sage-5.0.beta5/](http://boxen.math.washington.edu/home/release/sage-5.0.beta5/)\n\nMy GOD there is going to be so much new stuff in 5.0 `:-P`\n\nNathann",
    "created_at": "2012-02-21T11:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145759",
    "user": "ncohen"
}
```

> This needs to be rebased to sage-5.0.beta5 (not yet released but essentially ready): [http://boxen.math.washington.edu/home/release/sage-5.0.beta5/](http://boxen.math.washington.edu/home/release/sage-5.0.beta5/)

My GOD there is going to be so much new stuff in 5.0 `:-P`

Nathann



---

archive/issue_comments_145760.json:
```json
{
    "body": "Attachment [trac_12539_distances_distribution_v2.patch](tarball://root/attachments/some-uuid/ticket12539/trac_12539_distances_distribution_v2.patch) by dcoudert created at 2012-02-21 17:53:59",
    "created_at": "2012-02-21T17:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145760",
    "user": "dcoudert"
}
```

Attachment [trac_12539_distances_distribution_v2.patch](tarball://root/attachments/some-uuid/ticket12539/trac_12539_distances_distribution_v2.patch) by dcoudert created at 2012-02-21 17:53:59



---

archive/issue_comments_145761.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-02-21T18:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145761",
    "user": "dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_145762.json:
```json
{
    "body": "Hello,\n\nI have \n* Installed sage-5.0.beta5\n* Merge into trac_12539_distances_distribution_v2.patch the original patch AND the review patch of Nathann.\n* Tested this new version on sage-5.0.beta5 (install, tests, docbuild, functionality)\n* Change the description of this ticket\n\nI hope it will now be acceptable, and accepted before next beta release ;-)\n\nNathann: If the new version is OK, could you please remove the now useless files ?\n\nD.",
    "created_at": "2012-02-21T18:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145762",
    "user": "dcoudert"
}
```

Hello,

I have 
* Installed sage-5.0.beta5
* Merge into trac_12539_distances_distribution_v2.patch the original patch AND the review patch of Nathann.
* Tested this new version on sage-5.0.beta5 (install, tests, docbuild, functionality)
* Change the description of this ticket

I hope it will now be acceptable, and accepted before next beta release ;-)

Nathann: If the new version is OK, could you please remove the now useless files ?

D.



---

archive/issue_comments_145763.json:
```json
{
    "body": "Goooooooooood to go ! `:-)`\n\nNathann",
    "created_at": "2012-02-22T20:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145763",
    "user": "ncohen"
}
```

Goooooooooood to go ! `:-)`

Nathann



---

archive/issue_comments_145764.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-02-22T20:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145764",
    "user": "ncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_145765.json:
```json
{
    "body": "Thanks !",
    "created_at": "2012-02-22T20:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145765",
    "user": "dcoudert"
}
```

Thanks !



---

archive/issue_comments_145766.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-02-27T11:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12367#issuecomment-145766",
    "user": "jdemeyer"
}
```

Resolution: fixed
