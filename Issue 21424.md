# Issue 21424: @func_persist is totally broken

Issue created by migration from https://trac.sagemath.org/ticket/21661

Original creator: jsrn

Original creation time: 2016-10-07 12:20:14

CC:  jdemeyer

Keywords: caching

`sage.misc.func_persist.func_persist` is a variant of `cached_method` but which saves the cache to disc.

The current implementation is using hashes of the arguments of the decorated function to give a (probably) unique name to a function invocation. This is used as file name and the result of the computation is stored there.

This behaviour is quite broken since there is no promise that hash values are persistent across Python invocations. Indeed, many objects do not satisfy this, e.g. finite fields. In Python3 this behaviour seem to be exacerbated and holds even for strings.
