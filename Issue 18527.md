# Issue 18527: Add glp_exact to Sage's GLPK bindings

Issue created by migration from https://trac.sagemath.org/ticket/18764

Original creator: mkoeppe

Original creation time: 2015-06-22 21:29:14

CC:  yzh dimpase ncohen

Keywords: lp

The function glp_exact provides access to an implementation of the simplex method in exact rational arithmetic (using GMP). 

(The only access to data is via double-precision floats, however. It reconstructs rationals from doubles and provides results as doubles using the standard API functions of GLPK. Direct access, using GMP rationals, would be possible through the header file glpssx.h, which is not a public header as of GLPK 4.55; see http://lists.gnu.org/archive/html/help-glpk/2007-10/msg00031.html http://lists.gnu.org/archive/html/help-glpk/2008-06/msg00006.html http://lists.gnu.org/archive/html/help-glpk/2013-11/msg00019.html)

(On the Sage side, one could reconstruct the rational solution via #18735.)


---

Comment by dimpase created at 2015-06-23 08:31:21

copying from a comment on another ticket:

I don't think using non-public non-documented features is a good idea. Next version would break them, and we'd be stuck with maintaining a fork...
Perhaps we have to find a way first to make GLPK folks finally address the public need of making these things public?


---

Comment by mkoeppe created at 2015-06-23 18:15:15

Hi Dima, 

Replying to [comment:1 dimpase]:
> copying from a comment on another ticket:
> 
> I don't think using non-public non-documented features is a good idea. Next version would break them, and we'd be stuck with maintaining a fork...
> Perhaps we have to find a way first to make GLPK folks finally address the public need of making these things public?

I share your concern about the non-public functions, which is valid for the other ticket (#18765), but *not* for this ticket.

glp_exact is a documented API function.

There's just no way to feed the problem using exact data, or to retrieve the solution using exact data.
However, if the problem can be expressed using small integers (<= 53 bits) that are represented exactly by double floats, then the rational reconstruction that GLPK does should be exact. The Sage code could refuse, or warn, if this is violated.

And we can access the combinatorial information about the basis on the Sage side and compute the basic solution using exact arithmetic.


---

Comment by mkoeppe created at 2015-06-24 17:05:27

Needs review.
----
New commits:


---

Comment by mkoeppe created at 2015-06-24 17:05:27

Changing status from new to needs_review.


---

Comment by git created at 2015-06-24 18:14:06

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2015-06-25 02:43:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-07-04 07:36:04

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by dimpase created at 2015-07-07 13:22:04

OK, looks good


---

Comment by dimpase created at 2015-07-07 13:22:04

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-07-08 07:16:06

Reviewer name


---

Comment by vbraun created at 2015-07-08 07:16:06

Changing status from positive_review to needs_work.


---

Comment by mkoeppe created at 2015-07-08 08:17:52

Changing status from needs_work to positive_review.


---

Comment by dimpase created at 2015-07-08 08:20:50

I plan to learn some trac internals, and perhaps I'll be able to implement automatic filling of fields ;-)


---

Comment by vbraun created at 2015-07-08 22:59:05

Resolution: fixed
