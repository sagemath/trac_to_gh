# Issue 31991: Move examples from sage.geometry.riemannian_manifolds to sage.manifolds

archive/issues_031991.json:
```json
{
    "body": "CC:  egourgoulhon @mjungmath vdelecroix\n\n... with deprecation\n\nIssue created by migration from https://trac.sagemath.org/ticket/32228\n\n",
    "created_at": "2021-07-17T23:53:11Z",
    "labels": [
        "manifolds",
        "major",
        "enhancement"
    ],
    "title": "Move examples from sage.geometry.riemannian_manifolds to sage.manifolds",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31991",
    "user": "mkoeppe"
}
```
CC:  egourgoulhon @mjungmath vdelecroix

... with deprecation

Issue created by migration from https://trac.sagemath.org/ticket/32228





---

archive/issue_comments_457058.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-18T02:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31991#issuecomment-457058",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_457059.json:
```json
{
    "body": "The next step would be to deprecate most of the methods",
    "created_at": "2021-07-18T02:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31991#issuecomment-457059",
    "user": "mkoeppe"
}
```

The next step would be to deprecate most of the methods



---

archive/issue_comments_457060.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-14T00:36:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31991#issuecomment-457060",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_457061.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-09-14T00:36:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31991#issuecomment-457061",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_457062.json:
```json
{
    "body": "Do we want to fix the syntax-block errors and unused import in this ticket?\n\nCoverage is likely more for another ticket.",
    "created_at": "2021-09-14T07:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31991#issuecomment-457062",
    "user": "@mjungmath"
}
```

Do we want to fix the syntax-block errors and unused import in this ticket?

Coverage is likely more for another ticket.



---

archive/issue_comments_457063.json:
```json
{
    "body": "Thanks for this first move. \nHowever it is quite incomplete at this stage. Indeed, it makes `ParametrizedSurface3D` a derived class of `PseudoRiemannianSubmanifold`, which is very natural. But many of the methods, like `first_fundamental_form`, `second_fundamental_form`, `point`, `plot`, `tangent_vector`, etc. have their code left in place, so that they appear redefined with respect to the corresponding `PseudoRiemannianSubmanifold` methods with very different \ninputs and outputs. For instance, `ParametrizedSurface3D.tangent_vector` takes a tuple of coordinates and returns a tuple of vector components, while `PseudoRiemannianSubmanifold.tangent_vector` takes a manifold point and returns an element of the tangent space at that point. It would be quite disturbing for the end user that `manifolds.Ellipsoid()` behaves so differently from `manifolds.Sphere(2)`. At first glance, all the methods implemented in `ParametrizedSurface3D` have their equivalent in `PseudoRiemannianSubmanifold`, but it requires some work to implement things properly. I guess the question is then: shall this be done in this ticket? \n\nAlso what about the deprecation? If we change the behavior of most methods to make them coincide with the manifold framework, we should leave the old code in `src/sage/geometry/riemannian_manifolds` (with a deprecation warning), shouldn't we? In doing so, during the deprecation period, we would have:\n\n```\nsage: C1 = manifolds.Catenoid()  # returns a manifold-type object\nsage: C2 = surfaces.Catenoid()    # returns a (deprecated) old type of object\n```\n\n\nI am adding Vincent to Cc, since he took part in the initial implementation of `ParametrizedSurface3D` in #10132.",
    "created_at": "2021-09-14T20:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31991#issuecomment-457063",
    "user": "egourgoulhon"
}
```

Thanks for this first move. 
However it is quite incomplete at this stage. Indeed, it makes `ParametrizedSurface3D` a derived class of `PseudoRiemannianSubmanifold`, which is very natural. But many of the methods, like `first_fundamental_form`, `second_fundamental_form`, `point`, `plot`, `tangent_vector`, etc. have their code left in place, so that they appear redefined with respect to the corresponding `PseudoRiemannianSubmanifold` methods with very different 
inputs and outputs. For instance, `ParametrizedSurface3D.tangent_vector` takes a tuple of coordinates and returns a tuple of vector components, while `PseudoRiemannianSubmanifold.tangent_vector` takes a manifold point and returns an element of the tangent space at that point. It would be quite disturbing for the end user that `manifolds.Ellipsoid()` behaves so differently from `manifolds.Sphere(2)`. At first glance, all the methods implemented in `ParametrizedSurface3D` have their equivalent in `PseudoRiemannianSubmanifold`, but it requires some work to implement things properly. I guess the question is then: shall this be done in this ticket? 

Also what about the deprecation? If we change the behavior of most methods to make them coincide with the manifold framework, we should leave the old code in `src/sage/geometry/riemannian_manifolds` (with a deprecation warning), shouldn't we? In doing so, during the deprecation period, we would have:

```
sage: C1 = manifolds.Catenoid()  # returns a manifold-type object
sage: C2 = surfaces.Catenoid()    # returns a (deprecated) old type of object
```


I am adding Vincent to Cc, since he took part in the initial implementation of `ParametrizedSurface3D` in #10132.



---

archive/issue_comments_457064.json:
```json
{
    "body": "If all methods from `ParametrizedSurface3D` have equivalent functionalities in `PseudoRiemannianSubmanifold` I would say that deprecation of the class makes sense. However, this could potentially breaks a lot of code in the future. For that reason, I would suggest to carefully document the \"new way of doing\". That is to say\n- in each method of `ParametrizedSurface3D` there should be an explanation of the equivalent `PseudoRiemannianSubmanifold` way of doing\n- for each relevant doctest in `ParametrizedSurface3D`, the same computation should be reproduced with a `PseudoRiemannianSubmanifold` object.\n\nThis is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.",
    "created_at": "2021-09-14T20:35:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31991#issuecomment-457064",
    "user": "vdelecroix"
}
```

If all methods from `ParametrizedSurface3D` have equivalent functionalities in `PseudoRiemannianSubmanifold` I would say that deprecation of the class makes sense. However, this could potentially breaks a lot of code in the future. For that reason, I would suggest to carefully document the "new way of doing". That is to say
- in each method of `ParametrizedSurface3D` there should be an explanation of the equivalent `PseudoRiemannianSubmanifold` way of doing
- for each relevant doctest in `ParametrizedSurface3D`, the same computation should be reproduced with a `PseudoRiemannianSubmanifold` object.

This is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.



---

archive/issue_comments_457065.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-09-14T21:26:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31991#issuecomment-457065",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_457066.json:
```json
{
    "body": "Replying to [comment:11 vdelecroix]:\n> This is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.\n\nThanks for your feedback! On my side, this project is on my todo list, but with a zillion of other things. I hope to do it relatively soon, unless someone do it before.",
    "created_at": "2021-09-15T09:02:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31991#issuecomment-457066",
    "user": "egourgoulhon"
}
```

Replying to [comment:11 vdelecroix]:
> This is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.

Thanks for your feedback! On my side, this project is on my todo list, but with a zillion of other things. I hope to do it relatively soon, unless someone do it before.
