# Issue 29352: Syntax error is spkg-check

Issue created by migration from https://trac.sagemath.org/ticket/29589

Original creator: vbraun

Original creation time: 2020-04-26 12:43:37

CC:  jhpalmieri embray dimpase mkoeppe

Thats on Debian 9:

```
Copying package files from temporary location /var/lib/buildbot/slave/sage_git/build/local/var/tmp/sage/build/pari-2.11.2/inst to /var/lib/buildbot/slave/sage_git/build/local
Running the test suite for pari-2.11.2...
./spkg-check: line 38: syntax error near unexpected token `else'
./spkg-check: line 38: `else'
```




---

Comment by mkoeppe created at 2020-04-26 15:56:13

Some more details would be needed here.


---

Comment by mkoeppe created at 2020-04-26 16:03:57

`@`vbraun By the way, the announcement of 9.1.rc2 is missing


---

Comment by mkoeppe created at 2020-04-26 16:04:41

Changing status from new to needs_info.


---

Comment by vbraun created at 2020-04-26 18:03:36

Relevant lines of spgk-check:

```
     32 
     33 ###########################################
     34 ## PARI
     35 ###########################################
     36 
     37 if [ "x$SAGE_DEBUG" = xyes ] ; then
     38     CFLAGS="$CFLAGS -O0 -g" # Disable optimisation, add debug symbols. Good
     39                             # for debugging or working around compiler bugs.
     40 else
     41     CFLAGS="-O3 -g $CFLAGS" # Default optimisation, with debug symbols.
     42                             # Prepend to not override user's setting.
     43 fi
```



---

Comment by mkoeppe created at 2020-04-26 18:14:27

These lines have not been touched since 2010.
Are you using some experimental bash version on that bot?
This error does not show on any of the platforms that I test, including debian-stretch


---

Comment by vbraun created at 2020-04-26 18:19:08

No, nothing has changed on the buildbot in a long time. I just noticed the snipped is likely wrong as I did another build in the meantime.


---

Comment by mkoeppe created at 2020-04-26 18:20:46

Changing status from needs_info to needs_review.


---

Comment by mkoeppe created at 2020-04-26 18:20:46

Changing priority from blocker to major.


---

Comment by mkoeppe created at 2020-04-26 18:20:46

Likely from when you tested #27122, not from 9.1.rc2


---

Comment by @kliem created at 2020-04-26 19:26:42

Changing status from needs_review to positive_review.


---

Comment by @kliem created at 2020-04-26 19:26:42

Yes, this is me in #27122. I'll fix it there.


---

Comment by chapoton created at 2020-05-08 07:10:12

Resolution: duplicate
