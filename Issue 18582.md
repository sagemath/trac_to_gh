# Issue 18582: Real number fields with __cmp__ that gives a linear order induced by its real embedding

archive/issues_018582.json:
```json
{
    "body": "CC:  @vbraun @gagern @videlec\n\nIt would seem to be useful to have a category of number fields whose `__cmp__` method agrees with the linear order of its embedding. (I might be using the word \"category\" in a non-technical sense.)\n\nThis has been the topic of past discussions and tickets (#6132, #7160, #9752),\nand there is a conflict between at least two different desirable meanings for `__cmp__`, which could be\n- lexicographic comparison of the coordinates in the power basis of the generator;\n- or, as proposed, the linear order.\nBut it has not been completely resolved. The current status in Sage is inconsistent because quadratic number fields behave differently from number fields of a higher degree, due to `NumberFieldElement_quadratic.__cmp__`.\n\n\n```\nsage: field, field_values, morphism = number_field_elements_from_algebraics((sqrt(2), sqrt(3)))\nsage: field_values\n[-a^3 + 3*a, -a^2 + 2]\n# If I explicitly send the number field elements back into AA, I can compare them\nsage: 1 < morphism(field_values[0]) < morphism(field_values[1]) < 2 < 3 * morphism(field_values[0]) < 5\nTrue\n# but the number field elements themselves do not compare according to that linear order.\nsage: field_values[0] < field_values[1]\nFalse\n\n# and note that this is in contrast to the special case of quadratic\n# extensions of the rationals, where comparisons seem to work as\n# expected.\nsage: from sage.rings.number_field.number_field_element_quadratic import NumberFieldElement_quadratic\nK.<sqrt2> = QuadraticField(2,name='sqrt2')\n\nsage: 1 < sqrt2 < 2 < 3 * sqrt2 < 5\nTrue\n```\n\n\n(I mentioned this to some developers during the Sage Days in Davis in 2013, but didn't follow up on it.)\n\nAn implementation of this in user code is brittle as it will depend on Sage internals. This is what I'm currently doing for my application:\nhttps://github.com/mkoeppe/infinite-group-relaxation-code/blob/master/real_number_field.sage\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/18819\n\n",
    "created_at": "2015-06-29T19:58:51Z",
    "labels": [
        "component: number fields",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Real number fields with __cmp__ that gives a linear order induced by its real embedding",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18582",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @vbraun @gagern @videlec

It would seem to be useful to have a category of number fields whose `__cmp__` method agrees with the linear order of its embedding. (I might be using the word "category" in a non-technical sense.)

This has been the topic of past discussions and tickets (#6132, #7160, #9752),
and there is a conflict between at least two different desirable meanings for `__cmp__`, which could be
- lexicographic comparison of the coordinates in the power basis of the generator;
- or, as proposed, the linear order.
But it has not been completely resolved. The current status in Sage is inconsistent because quadratic number fields behave differently from number fields of a higher degree, due to `NumberFieldElement_quadratic.__cmp__`.


```
sage: field, field_values, morphism = number_field_elements_from_algebraics((sqrt(2), sqrt(3)))
sage: field_values
[-a^3 + 3*a, -a^2 + 2]
# If I explicitly send the number field elements back into AA, I can compare them
sage: 1 < morphism(field_values[0]) < morphism(field_values[1]) < 2 < 3 * morphism(field_values[0]) < 5
True
# but the number field elements themselves do not compare according to that linear order.
sage: field_values[0] < field_values[1]
False

# and note that this is in contrast to the special case of quadratic
# extensions of the rationals, where comparisons seem to work as
# expected.
sage: from sage.rings.number_field.number_field_element_quadratic import NumberFieldElement_quadratic
K.<sqrt2> = QuadraticField(2,name='sqrt2')

sage: 1 < sqrt2 < 2 < 3 * sqrt2 < 5
True
```


(I mentioned this to some developers during the Sage Days in Davis in 2013, but didn't follow up on it.)

An implementation of this in user code is brittle as it will depend on Sage internals. This is what I'm currently doing for my application:
https://github.com/mkoeppe/infinite-group-relaxation-code/blob/master/real_number_field.sage


Issue created by migration from https://trac.sagemath.org/ticket/18819





---

archive/issue_comments_252472.json:
```json
{
    "body": "Duplicate of #17830?",
    "created_at": "2015-06-29T20:26:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18582",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18582#issuecomment-252472",
    "user": "https://github.com/videlec"
}
```

Duplicate of #17830?



---

archive/issue_comments_252473.json:
```json
{
    "body": "Replying to [comment:1 vdelecroix]:\n> Duplicate of #17830?\n\nIndeed. Not sure how I managed to overlook this ticket.",
    "created_at": "2015-06-29T20:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18582",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18582#issuecomment-252473",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:1 vdelecroix]:
> Duplicate of #17830?

Indeed. Not sure how I managed to overlook this ticket.



---

archive/issue_comments_252474.json:
```json
{
    "body": "Most of this is a duplicate of #17830; but see #20181 for the remaining \"wishlist item\" of having `number_field_elements_from_algebraics` create embedded elements by default, or by option.",
    "created_at": "2016-03-09T03:19:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18582",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18582#issuecomment-252474",
    "user": "https://github.com/mkoeppe"
}
```

Most of this is a duplicate of #17830; but see #20181 for the remaining "wishlist item" of having `number_field_elements_from_algebraics` create embedded elements by default, or by option.



---

archive/issue_comments_252475.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-27T01:02:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18582",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18582#issuecomment-252475",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_252476.json:
```json
{
    "body": "Setting this to \"needs_review\" so that this ticket can be closed.",
    "created_at": "2016-03-27T01:02:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18582",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18582#issuecomment-252476",
    "user": "https://github.com/mkoeppe"
}
```

Setting this to "needs_review" so that this ticket can be closed.



---

archive/issue_comments_252477.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-03-27T08:58:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18582",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18582#issuecomment-252477",
    "user": "https://github.com/mezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_252478.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-06-12T12:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18582",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18582#issuecomment-252478",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_017772.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2016-06-12T12:02:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/18582",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/18582#event-17772"
}
```
