# Issue 23797: py3 : bad imports and QQ(string)

archive/issues_023797.json:
```json
{
    "body": "CC:  @tscrim @jhpalmieri @a-andre @kiwifb\n\nas another step\n\nIssue created by migration from https://trac.sagemath.org/ticket/24034\n\n",
    "created_at": "2017-10-13T14:14:23Z",
    "labels": [
        "python3",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "py3 : bad imports and QQ(string)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23797",
    "user": "@fchapoton"
}
```
CC:  @tscrim @jhpalmieri @a-andre @kiwifb

as another step

Issue created by migration from https://trac.sagemath.org/ticket/24034





---

archive/issue_comments_333363.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-10-13T14:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333363",
    "user": "@fchapoton"
}
```

New commits:



---

archive/issue_comments_333364.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-10-13T14:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333364",
    "user": "@fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_333365.json:
```json
{
    "body": "What's wrong with `QQ(string)`? Are we going to disallow that?",
    "created_at": "2017-10-13T14:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333365",
    "user": "@jdemeyer"
}
```

What's wrong with `QQ(string)`? Are we going to disallow that?



---

archive/issue_comments_333366.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2017-10-13T14:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333366",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_333367.json:
```json
{
    "body": "well, this screams (in the experimental python3 build that nobody seems to care about) that bytes is expected and str is given. I am just trying to move forward to more serious issues.\n\nMaybe the call QQ('string') will need to be fixed, but not now and here.",
    "created_at": "2017-10-13T14:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333367",
    "user": "@fchapoton"
}
```

well, this screams (in the experimental python3 build that nobody seems to care about) that bytes is expected and str is given. I am just trying to move forward to more serious issues.

Maybe the call QQ('string') will need to be fixed, but not now and here.



---

archive/issue_comments_333368.json:
```json
{
    "body": "Replying to [comment:4 chapoton]:\n> well, this screams (in the experimental python3 build that nobody seems to care about)\n\nThen just fix it in your experimental branch instead of an official Sage Trac ticket.",
    "created_at": "2017-10-13T14:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333368",
    "user": "@jdemeyer"
}
```

Replying to [comment:4 chapoton]:
> well, this screams (in the experimental python3 build that nobody seems to care about)

Then just fix it in your experimental branch instead of an official Sage Trac ticket.



---

archive/issue_comments_333369.json:
```json
{
    "body": "This I did for sure. But the change is so small that I assumed it would meet no objection.",
    "created_at": "2017-10-13T14:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333369",
    "user": "@fchapoton"
}
```

This I did for sure. But the change is so small that I assumed it would meet no objection.



---

archive/issue_comments_333370.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2017-10-13T14:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333370",
    "user": "@fchapoton"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_333371.json:
```json
{
    "body": "In `lie_algebras/all.py`, could we change\n\n```\nfrom .import examples as lie_algebras\n```\n\nto\n\n```\nfrom . import examples as lie_algebras\n```\n",
    "created_at": "2017-10-13T18:06:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333371",
    "user": "@jhpalmieri"
}
```

In `lie_algebras/all.py`, could we change

```
from .import examples as lie_algebras
```

to

```
from . import examples as lie_algebras
```




---

archive/issue_comments_333372.json:
```json
{
    "body": "Why don't other instances of `QQ(str)` fail? There are some for example in `rings/rational.pyx`.",
    "created_at": "2017-10-13T18:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333372",
    "user": "@jhpalmieri"
}
```

Why don't other instances of `QQ(str)` fail? There are some for example in `rings/rational.pyx`.



---

archive/issue_comments_333373.json:
```json
{
    "body": "I don't mind the QQ changes on this ticket, since it is not changing any doctests and not changing any functionality of Sage, just changing how a few rational numbers are initialized in the Sage code.",
    "created_at": "2017-10-13T18:12:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333373",
    "user": "@jhpalmieri"
}
```

I don't mind the QQ changes on this ticket, since it is not changing any doctests and not changing any functionality of Sage, just changing how a few rational numbers are initialized in the Sage code.



---

archive/issue_comments_333374.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-13T18:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333374",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_333375.json:
```json
{
    "body": "Thanks.\n\nThis ticket is part of the effort to make sage start when built with python3. It turns out that one of these QQ(string) was sitting on the road. It does not pretend to fix anything else.\n\nReady to go, if patchbots say green ?",
    "created_at": "2017-10-13T18:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333375",
    "user": "@fchapoton"
}
```

Thanks.

This ticket is part of the effort to make sage start when built with python3. It turns out that one of these QQ(string) was sitting on the road. It does not pretend to fix anything else.

Ready to go, if patchbots say green ?



---

archive/issue_comments_333376.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-13T19:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333376",
    "user": "@jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_333377.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-21T19:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23797",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23797#issuecomment-333377",
    "user": "@vbraun"
}
```

Resolution: fixed
