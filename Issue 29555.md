# Issue 29555: proper fix for "fedora-30-standard: Doctests using system brial crash"

Issue created by migration from https://trac.sagemath.org/ticket/29792

Original creator: dimpase

Original creation time: 2020-06-04 16:57:32

CC:  mjo mkoeppe

This is a followup to #29490.

We now add code rejecting Brial 1.2.5 - provided it can
be recognised from `VERSION` macro in `polybory/config.h` header.
This identifies standard Brial on Fedora 30 (and possibly elsewhere, but tough luck then).



---

Comment by dimpase created at 2020-06-04 17:00:26

Changing status from new to needs_review.


---

Comment by @kliem created at 2020-06-04 18:22:02

Running tests now:

cygwin-standard https://github.com/kliem/sage-test-27122/actions/runs/125137233

gcc_spkg https://github.com/kliem/sage-test-27122/actions/runs/125137236

targets optional https://github.com/kliem/sage-test-27122/actions/runs/125137239

tox.ini https://github.com/kliem/sage-test-27122/actions/runs/125137242

cygwin-minimal https://github.com/kliem/sage-test-27122/actions/runs/125137245


---

Comment by @kliem created at 2020-06-05 13:07:12

Seems to work fine.

https://github.com/kliem/sage-test-27122/actions/runs/125137242

It rejects brial on fedora 30 and 31 and ubuntu eoan (all use Brial 1.2.5).

It doesn't reject Brial 1.2.4 on debian buster and Brial 1.2.7 on ubuntu focal.


---

Comment by dimpase created at 2020-06-05 15:41:10

it also accepts brial 1.2.8 on Gentoo lunux.


---

Comment by @kliem created at 2020-06-06 07:51:58

I think this is good to go.


---

Comment by @kliem created at 2020-06-06 07:51:58

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-06-27 09:26:29

Resolution: fixed
