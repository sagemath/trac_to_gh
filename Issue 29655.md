# Issue 29655: Move sage.misc.misc.coeff_repr, repr_lincomb to new module sage.misc.repr

archive/issues_029655.json:
```json
{
    "body": "CC:  chapoton kcrisman tscrim slelievre nthiery @davewittemorris\n\nIn fact, we have 2 copies of `coeff_repr` and `repr_lincomb`: one in `sage.misc.misc`, one in `sage.misc.latex`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29892\n\n",
    "created_at": "2020-06-18T01:47:48Z",
    "labels": [
        "PLEASE CHANGE",
        "major",
        "enhancement"
    ],
    "title": "Move sage.misc.misc.coeff_repr, repr_lincomb to new module sage.misc.repr",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29655",
    "user": "mkoeppe"
}
```
CC:  chapoton kcrisman tscrim slelievre nthiery @davewittemorris

In fact, we have 2 copies of `coeff_repr` and `repr_lincomb`: one in `sage.misc.misc`, one in `sage.misc.latex`.

Issue created by migration from https://trac.sagemath.org/ticket/29892





---

archive/issue_comments_421144.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to refactoring.",
    "created_at": "2020-06-18T01:51:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421144",
    "user": "mkoeppe"
}
```

Changing component from PLEASE CHANGE to refactoring.



---

archive/issue_comments_421145.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-06-18T03:07:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421145",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_421146.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-06-18T03:07:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421146",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_421147.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-06-18T06:09:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421147",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_421148.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-06-18T06:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421148",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_421149.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-18T06:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421149",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_421150.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-18T17:36:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421150",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_421151.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-18T17:42:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421151",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_421152.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-18T22:15:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421152",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_421153.json:
```json
{
    "body": "Not sure what's up with the \"block syntax\" warning",
    "created_at": "2020-06-22T05:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421153",
    "user": "mkoeppe"
}
```

Not sure what's up with the "block syntax" warning



---

archive/issue_comments_421154.json:
```json
{
    "body": "Returns should be Return",
    "created_at": "2020-06-22T06:00:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421154",
    "user": "chapoton"
}
```

Returns should be Return



---

archive/issue_comments_421155.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-22T06:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421155",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_421156.json:
```json
{
    "body": "Thanks!",
    "created_at": "2020-06-22T06:06:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421156",
    "user": "mkoeppe"
}
```

Thanks!



---

archive/issue_comments_421157.json:
```json
{
    "body": "The remaining plugin warnings are old news. Needs review",
    "created_at": "2020-06-22T18:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421157",
    "user": "mkoeppe"
}
```

The remaining plugin warnings are old news. Needs review



---

archive/issue_comments_421158.json:
```json
{
    "body": "I agree with every change except for 08fedfa. This is used:\n\n```\nsage: CartanType.options.notation='Kac'\nsage: CartanType(['BC', 4, 2]).dual()\n['A', 8, 2]^+\nsage: CartanType(['BC', 4, 2]).dual()._repr_(compact=True)\n'A8^2+'\n\nsage: CartanType.options.notation='Stembridge'\nsage: CartanType(['BC', 4, 2]).dual()\n['BC', 4, 2]^*\nsage: CartanType(['BC', 4, 2]).dual()._repr_(compact=True)\n'BC4~*'\n```\n\nIt is suppose to represent the notation for affine Cartan type introduced by Kac of A<sub>2n</sub><sup>(2)\\dagger</sup>. There probably should be a doctest showing this though...",
    "created_at": "2020-06-30T04:35:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421158",
    "user": "tscrim"
}
```

I agree with every change except for 08fedfa. This is used:

```
sage: CartanType.options.notation='Kac'
sage: CartanType(['BC', 4, 2]).dual()
['A', 8, 2]^+
sage: CartanType(['BC', 4, 2]).dual()._repr_(compact=True)
'A8^2+'

sage: CartanType.options.notation='Stembridge'
sage: CartanType(['BC', 4, 2]).dual()
['BC', 4, 2]^*
sage: CartanType(['BC', 4, 2]).dual()._repr_(compact=True)
'BC4~*'
```

It is suppose to represent the notation for affine Cartan type introduced by Kac of A<sub>2n</sub><sup>(2)\dagger</sup>. There probably should be a doctest showing this though...



---

archive/issue_comments_421159.json:
```json
{
    "body": "The function delegates to `CartanType._repr_` in this case, which computes `dual_str` again and uses it",
    "created_at": "2020-06-30T04:55:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421159",
    "user": "mkoeppe"
}
```

The function delegates to `CartanType._repr_` in this case, which computes `dual_str` again and uses it



---

archive/issue_comments_421160.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-30T05:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421160",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_421161.json:
```json
{
    "body": "Ah, I see. I was looking at the wrong `_repr_`. There seems to be some redundant code that probably should be cleaned up. A good starter ticket for a new developer.\n\nLGTM. Thanks.",
    "created_at": "2020-06-30T05:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421161",
    "user": "tscrim"
}
```

Ah, I see. I was looking at the wrong `_repr_`. There seems to be some redundant code that probably should be cleaned up. A good starter ticket for a new developer.

LGTM. Thanks.



---

archive/issue_comments_421162.json:
```json
{
    "body": "Thanks!",
    "created_at": "2020-06-30T05:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421162",
    "user": "mkoeppe"
}
```

Thanks!



---

archive/issue_comments_421163.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-08T19:34:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29655",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29655#issuecomment-421163",
    "user": "vbraun"
}
```

Resolution: fixed
