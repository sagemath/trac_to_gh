# Issue 29655: Move sage.misc.misc.coeff_repr, repr_lincomb to new module sage.misc.repr

Issue created by migration from https://trac.sagemath.org/ticket/29892

Original creator: mkoeppe

Original creation time: 2020-06-18 01:47:48

CC:  chapoton kcrisman tscrim slelievre nthiery @davewittemorris

In fact, we have 2 copies of `coeff_repr` and `repr_lincomb`: one in `sage.misc.misc`, one in `sage.misc.latex`.


---

Comment by mkoeppe created at 2020-06-18 01:51:37

Changing component from PLEASE CHANGE to refactoring.


---

Comment by mkoeppe created at 2020-06-18 03:07:07

New commits:


---

Comment by mkoeppe created at 2020-06-18 03:07:07

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-06-18 06:09:14

Changing status from needs_review to needs_work.


---

Comment by git created at 2020-06-18 06:10:59

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2020-06-18 06:11:17

Changing status from needs_work to needs_review.


---

Comment by git created at 2020-06-18 17:36:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-06-18 17:42:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-06-18 22:15:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-06-22 05:37:25

Not sure what's up with the "block syntax" warning


---

Comment by chapoton created at 2020-06-22 06:00:58

Returns should be Return


---

Comment by git created at 2020-06-22 06:06:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-06-22 06:06:56

Thanks!


---

Comment by mkoeppe created at 2020-06-22 18:00:08

The remaining plugin warnings are old news. Needs review


---

Comment by tscrim created at 2020-06-30 04:35:40

I agree with every change except for 08fedfa. This is used:

```
sage: CartanType.options.notation='Kac'
sage: CartanType(['BC', 4, 2]).dual()
['A', 8, 2]^+
sage: CartanType(['BC', 4, 2]).dual()._repr_(compact=True)
'A8^2+'

sage: CartanType.options.notation='Stembridge'
sage: CartanType(['BC', 4, 2]).dual()
['BC', 4, 2]^*
sage: CartanType(['BC', 4, 2]).dual()._repr_(compact=True)
'BC4~*'
```

It is suppose to represent the notation for affine Cartan type introduced by Kac of A<sub>2n</sub><sup>(2)\dagger</sup>. There probably should be a doctest showing this though...


---

Comment by mkoeppe created at 2020-06-30 04:55:57

The function delegates to `CartanType._repr_` in this case, which computes `dual_str` again and uses it


---

Comment by tscrim created at 2020-06-30 05:01:35

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2020-06-30 05:01:35

Ah, I see. I was looking at the wrong `_repr_`. There seems to be some redundant code that probably should be cleaned up. A good starter ticket for a new developer.

LGTM. Thanks.


---

Comment by mkoeppe created at 2020-06-30 05:02:54

Thanks!


---

Comment by vbraun created at 2020-07-08 19:34:07

Resolution: fixed
