# Issue 21516: Fix sagelib sdist (src/setup.py sdist)

archive/issues_021279.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThis ticket adds some targets to `src/Makefile.in`: `sdist` and `sdistcheck`.\nThe latter, after building an `sdist` (using `distutils`), unpacks it into a subdirectory, and builds and installs (into SAGE_LOCAL) from there. \n\n`(cd src && make sdist)` gives the following warnings. They need fixing.\n\n```\nwarning: sdist: standard file not found: should have one of README, README.txt\n```\n(this one is #21565)\n\n```\nreading manifest template 'MANIFEST.in'\nwarning: sdist: MANIFEST.in, line 6: 'recursive-include' expects <dir> <pattern1> <pattern2> ...\n\nwarning: no previously-included files matching '*.h' found under directory 'sage/ext/interpreters'\nwarning: no previously-included files found matching 'sage/libs/pari/gen.h'\nwarning: no previously-included files found matching 'sage/modular/arithgroup/farey_symbol.h'\nwarning: no previously-included files found matching 'sage/rings/real_mpfi.h'\nwarning: no previously-included files found matching 'sage/symbolic/pynac.h'\nwarning: no directories found matching 'doc/common/static'\nwarning: no files found matching 'doc/en/bordeaux_2008/birch.png'\nwarning: no files found matching 'doc/en/bordeaux_2008/modpcurve.png'\nno previously-included directories found matching 'doc/output'\n```\n\n\nThere is something more seriously wrong with the sdist. The sage that is built from there (using `(cd src && make sdistcheck)`)  crashes as follows.\n\n```\n/Users/mkoeppe/s/sage/sage-rebasing/src/sage/ext/interpreters/wrapper_rdf.pxd in init sage.plot.plot3d.parametric_surface (build/cythonized/sage/plot/plot3d/parametric_surface.c:11409)()\n      1 # Automatically generated by sage_setup/autogen/interpreters.pyc.  Do not edit!\n      2 \n      3 from cpython cimport PyObject\n      4 \n      5 from sage.ext.fast_callable cimport Wrapper\n      6 \n----> 7 cdef class Wrapper_rdf(Wrapper):\n        global cdef = undefined\n        global Wrapper_rdf = undefined\n        global Wrapper = undefined\n      8     cdef int _n_args\n      9     cdef double* _args\n     10     cdef int _n_constants\n     11     cdef double* _constants\n     12     cdef object _list_py_constants\n     13     cdef int _n_py_constants\n     14     cdef PyObject** _py_constants\n     15     cdef int _n_stack\n     16     cdef double* _stack\n     17     cdef int _n_code\n     18     cdef int* _code\n     19     cdef object _domain\n     20     cdef bint call_c(self,\n     21                      double* args,\n     22                      double* result) except 0\n\nImportError: No module named wrapper_rdf\n```\n\nThis needs fixing.\n\nThe branch is on top of #21480.\n\n---\n\nReferences:\n\nOther technologies:\n- https://flit.readthedocs.io/en/latest/pyproject_toml.html#sdist-section\n- https://python-poetry.org/docs/pyproject/\n\nSee also: #29845 - PEP 517 buildapi for sage_setup\n\n\nDepends on #13190\n\nCC:  @jdemeyer @vbraun @embray @nexttime @kiwifb @dimpase @orlitzky @fchapoton\n\nComponent: **build**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21516_\n\n",
    "closed_at": "2020-10-11T16:57:56Z",
    "created_at": "2016-09-17T04:36:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix sagelib sdist (src/setup.py sdist)",
    "type": "issue",
    "updated_at": "2020-10-11T16:57:56Z",
    "url": "https://github.com/sagemath/sage/issues/21516",
    "user": "https://github.com/mkoeppe"
}
```
<div id="comment:0"></div>

This ticket adds some targets to `src/Makefile.in`: `sdist` and `sdistcheck`.
The latter, after building an `sdist` (using `distutils`), unpacks it into a subdirectory, and builds and installs (into SAGE_LOCAL) from there. 

`(cd src && make sdist)` gives the following warnings. They need fixing.

```
warning: sdist: standard file not found: should have one of README, README.txt
```
(this one is #21565)

```
reading manifest template 'MANIFEST.in'
warning: sdist: MANIFEST.in, line 6: 'recursive-include' expects <dir> <pattern1> <pattern2> ...

warning: no previously-included files matching '*.h' found under directory 'sage/ext/interpreters'
warning: no previously-included files found matching 'sage/libs/pari/gen.h'
warning: no previously-included files found matching 'sage/modular/arithgroup/farey_symbol.h'
warning: no previously-included files found matching 'sage/rings/real_mpfi.h'
warning: no previously-included files found matching 'sage/symbolic/pynac.h'
warning: no directories found matching 'doc/common/static'
warning: no files found matching 'doc/en/bordeaux_2008/birch.png'
warning: no files found matching 'doc/en/bordeaux_2008/modpcurve.png'
no previously-included directories found matching 'doc/output'
```


There is something more seriously wrong with the sdist. The sage that is built from there (using `(cd src && make sdistcheck)`)  crashes as follows.

```
/Users/mkoeppe/s/sage/sage-rebasing/src/sage/ext/interpreters/wrapper_rdf.pxd in init sage.plot.plot3d.parametric_surface (build/cythonized/sage/plot/plot3d/parametric_surface.c:11409)()
      1 # Automatically generated by sage_setup/autogen/interpreters.pyc.  Do not edit!
      2 
      3 from cpython cimport PyObject
      4 
      5 from sage.ext.fast_callable cimport Wrapper
      6 
----> 7 cdef class Wrapper_rdf(Wrapper):
        global cdef = undefined
        global Wrapper_rdf = undefined
        global Wrapper = undefined
      8     cdef int _n_args
      9     cdef double* _args
     10     cdef int _n_constants
     11     cdef double* _constants
     12     cdef object _list_py_constants
     13     cdef int _n_py_constants
     14     cdef PyObject** _py_constants
     15     cdef int _n_stack
     16     cdef double* _stack
     17     cdef int _n_code
     18     cdef int* _code
     19     cdef object _domain
     20     cdef bint call_c(self,
     21                      double* args,
     22                      double* result) except 0

ImportError: No module named wrapper_rdf
```

This needs fixing.

The branch is on top of #21480.

---

References:

Other technologies:
- https://flit.readthedocs.io/en/latest/pyproject_toml.html#sdist-section
- https://python-poetry.org/docs/pyproject/

See also: #29845 - PEP 517 buildapi for sage_setup


Depends on #13190

CC:  @jdemeyer @vbraun @embray @nexttime @kiwifb @dimpase @orlitzky @fchapoton

Component: **build**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/21516_





---

archive/issue_events_299535.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-17T04:36:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299535"
}
```



---

archive/issue_events_299536.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-17T04:36:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299536"
}
```



---

archive/issue_events_299537.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-17T04:36:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299537"
}
```



---

archive/issue_events_299538.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-17T04:36:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299538"
}
```



---

archive/issue_comments_315731.json:
```json
{
    "body": "Branch: **[u/mkoeppe/sagelib_sdist](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sagelib_sdist)**",
    "created_at": "2016-09-17T04:41:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315731",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/sagelib_sdist](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sagelib_sdist)**



---

archive/issue_comments_315732.json:
```json
{
    "body": "Dependencies: **#21480**",
    "created_at": "2016-09-17T04:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315732",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#21480**



---

archive/issue_comments_315733.json:
```json
{
    "body": "Commit: **[`c7964a0`](https://github.com/sagemath/sagetrac-mirror/commit/c7964a0047837b76fa265d96780e5b3e07c5284a)**",
    "created_at": "2016-09-17T04:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315733",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`c7964a0`](https://github.com/sagemath/sagetrac-mirror/commit/c7964a0047837b76fa265d96780e5b3e07c5284a)**



---

archive/issue_comments_315734.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd670afd3c7510113b686a9b1545873bda5165dc\"><code>bd670af</code></a></td><td><code>Ignore generated files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/751bd0fbde10aa234867122308c7bb76673cbaba\"><code>751bd0f</code></a></td><td><code>Reword TODO item</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a8cc0e1bc0c09142275a7ea6b03775e83d73e28\"><code>3a8cc0e</code></a></td><td><code>Fix typo in comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0dd9c50021302e4d8cfc6f95e8bbdea232c60b97\"><code>0dd9c50</code></a></td><td><code>Respect environment variable MAKE</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17f90d8d1e8b35f9ae08bb98bb876083ba968824\"><code>17f90d8</code></a></td><td><code>beautification</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5f90659f21cc7ac1e39cdcf7974dba2ba223da5\"><code>e5f9065</code></a></td><td><code>More comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7791cd987347dfe253e3ed3ce74214f4527485d8\"><code>7791cd9</code></a></td><td><code>Remove --buildbase code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74169e75b0c650e6b1070c6beca231422cf62eaa\"><code>74169e7</code></a></td><td><code>Pass SAGE_SRC to generate_py_source.mk</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0394333a54e51c53b9404f248220a412cf13e00e\"><code>0394333</code></a></td><td><code>Add new file to MANIFEST.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7964a0047837b76fa265d96780e5b3e07c5284a\"><code>c7964a0</code></a></td><td><code>sdist* Makefile targets</code></td></tr></table>\n",
    "created_at": "2016-09-17T04:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315734",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2"></div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd670afd3c7510113b686a9b1545873bda5165dc"><code>bd670af</code></a></td><td><code>Ignore generated files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/751bd0fbde10aa234867122308c7bb76673cbaba"><code>751bd0f</code></a></td><td><code>Reword TODO item</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a8cc0e1bc0c09142275a7ea6b03775e83d73e28"><code>3a8cc0e</code></a></td><td><code>Fix typo in comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0dd9c50021302e4d8cfc6f95e8bbdea232c60b97"><code>0dd9c50</code></a></td><td><code>Respect environment variable MAKE</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17f90d8d1e8b35f9ae08bb98bb876083ba968824"><code>17f90d8</code></a></td><td><code>beautification</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5f90659f21cc7ac1e39cdcf7974dba2ba223da5"><code>e5f9065</code></a></td><td><code>More comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7791cd987347dfe253e3ed3ce74214f4527485d8"><code>7791cd9</code></a></td><td><code>Remove --buildbase code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74169e75b0c650e6b1070c6beca231422cf62eaa"><code>74169e7</code></a></td><td><code>Pass SAGE_SRC to generate_py_source.mk</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0394333a54e51c53b9404f248220a412cf13e00e"><code>0394333</code></a></td><td><code>Add new file to MANIFEST.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7964a0047837b76fa265d96780e5b3e07c5284a"><code>c7964a0</code></a></td><td><code>sdist* Makefile targets</code></td></tr></table>




---

archive/issue_comments_315735.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -55,3 +55,5 @@\n \n This needs fixing.\n \n+The branch is on top of #21480.\n+\n``````\n",
    "created_at": "2016-09-17T04:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315735",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -55,3 +55,5 @@
 
 This needs fixing.
 
+The branch is on top of #21480.
+
``````




---

archive/issue_comments_315736.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nObviously you are missing an include that would point where to find `sage/ext/fast_callable.*`. I will have a deeper look.",
    "created_at": "2016-09-17T04:56:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315736",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:3" align="right">comment:3</div>

Obviously you are missing an include that would point where to find `sage/ext/fast_callable.*`. I will have a deeper look.



---

archive/issue_comments_315737.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nSo this fails after you built and you try to run `./sage`? There may be some points in sage that sets where to find the hierarchy of include files under `SAGE_SRC` when, once you have installed sage properly you should point to `SAGE_LIB` (usually `SAGE_LOCAL/lib/python2.7/site-package`).\n\nIf that's the case that may recoup with some concerns I expressed in one of the earlier tickets. sage's internal should be fixed before you do something like that to the build system. Off course I could be wrong :)",
    "created_at": "2016-09-17T05:06:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315737",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:4" align="right">comment:4</div>

So this fails after you built and you try to run `./sage`? There may be some points in sage that sets where to find the hierarchy of include files under `SAGE_SRC` when, once you have installed sage properly you should point to `SAGE_LIB` (usually `SAGE_LOCAL/lib/python2.7/site-package`).

If that's the case that may recoup with some concerns I expressed in one of the earlier tickets. sage's internal should be fixed before you do something like that to the build system. Off course I could be wrong :)



---

archive/issue_comments_315738.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@kiwifb](#comment%3A4):\n> So this fails after you built and you try to run `./sage`? \n\nYes.\n\n> There may be some points in sage that sets where to find the hierarchy of include files under `SAGE_SRC` when, once you have installed sage properly you should point to `SAGE_LIB` (usually `SAGE_LOCAL/lib/python2.7/site-package`).\n\nI don't understand, could you explain more?",
    "created_at": "2016-09-17T05:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315738",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@kiwifb](#comment%3A4):
> So this fails after you built and you try to run `./sage`? 

Yes.

> There may be some points in sage that sets where to find the hierarchy of include files under `SAGE_SRC` when, once you have installed sage properly you should point to `SAGE_LIB` (usually `SAGE_LOCAL/lib/python2.7/site-package`).

I don't understand, could you explain more?



---

archive/issue_comments_315739.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIs `SAGE_SRC` pointing to anything or is it blank? From the little bit I see, I am guessing some piece of code is autogenerated at runtime to be compiled and executed. And to work, it needs to have an include (-I$SOMEPATH) that points to the top of the sage python install (SAGE_LIB) or as it is usually wrongly done in sage, where the source is in SAGE_SRC. You would find this in `sage/misc/cython.py`.\n\nHave to prepare dinner for my family. Be back in about 2-3 hours.",
    "created_at": "2016-09-17T05:19:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315739",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:6" align="right">comment:6</div>

Is `SAGE_SRC` pointing to anything or is it blank? From the little bit I see, I am guessing some piece of code is autogenerated at runtime to be compiled and executed. And to work, it needs to have an include (-I$SOMEPATH) that points to the top of the sage python install (SAGE_LIB) or as it is usually wrongly done in sage, where the source is in SAGE_SRC. You would find this in `sage/misc/cython.py`.

Have to prepare dinner for my family. Be back in about 2-3 hours.



---

archive/issue_comments_315740.json:
```json
{
    "body": "Changed commit from **[`c7964a0`](https://github.com/sagemath/sagetrac-mirror/commit/c7964a0047837b76fa265d96780e5b3e07c5284a)** to **[`4fe9088`](https://github.com/sagemath/sagetrac-mirror/commit/4fe9088cd75ebe54d694c74895697a628fc0d5c0)**",
    "created_at": "2016-09-17T06:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315740",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c7964a0`](https://github.com/sagemath/sagetrac-mirror/commit/c7964a0047837b76fa265d96780e5b3e07c5284a)** to **[`4fe9088`](https://github.com/sagemath/sagetrac-mirror/commit/4fe9088cd75ebe54d694c74895697a628fc0d5c0)**



---

archive/issue_comments_315741.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fe9088cd75ebe54d694c74895697a628fc0d5c0\"><code>4fe9088</code></a></td><td><code>New target: sdistcheck-compare-trees</code></td></tr></table>\n",
    "created_at": "2016-09-17T06:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315741",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fe9088cd75ebe54d694c74895697a628fc0d5c0"><code>4fe9088</code></a></td><td><code>New target: sdistcheck-compare-trees</code></td></tr></table>




---

archive/issue_comments_315742.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI added another debugging helper `make sdistcheck-compare-trees`, which shows the differences between the source tree and the sdist tree. \n\nThere are various differences (for example, all README files are missing); I won't have time to take a closer look before tomorrow.",
    "created_at": "2016-09-17T06:07:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315742",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

I added another debugging helper `make sdistcheck-compare-trees`, which shows the differences between the source tree and the sdist tree. 

There are various differences (for example, all README files are missing); I won't have time to take a closer look before tomorrow.



---

archive/issue_comments_315743.json:
```json
{
    "body": "Changed dependencies from **#21480** to **#21480, #21565**",
    "created_at": "2016-09-30T22:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315743",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#21480** to **#21480, #21565**



---

archive/issue_comments_315744.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,10 @@\n \n ```\n warning: sdist: standard file not found: should have one of README, README.txt\n+```\n+(this one is #21565)\n+\n+```\n reading manifest template 'MANIFEST.in'\n warning: sdist: MANIFEST.in, line 6: 'recursive-include' expects <dir> <pattern1> <pattern2> ...\n \n``````\n",
    "created_at": "2016-09-30T22:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315744",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,10 @@
 
 ```
 warning: sdist: standard file not found: should have one of README, README.txt
+```
+(this one is #21565)
+
+```
 reading manifest template 'MANIFEST.in'
 warning: sdist: MANIFEST.in, line 6: 'recursive-include' expects <dir> <pattern1> <pattern2> ...
 
``````




---

archive/issue_comments_315745.json:
```json
{
    "body": "Changed commit from **[`4fe9088`](https://github.com/sagemath/sagetrac-mirror/commit/4fe9088cd75ebe54d694c74895697a628fc0d5c0)** to **[`286adb0`](https://github.com/sagemath/sagetrac-mirror/commit/286adb0efd1d75837b578d9acbf609dbfd165646)**",
    "created_at": "2016-10-23T01:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315745",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4fe9088`](https://github.com/sagemath/sagetrac-mirror/commit/4fe9088cd75ebe54d694c74895697a628fc0d5c0)** to **[`286adb0`](https://github.com/sagemath/sagetrac-mirror/commit/286adb0efd1d75837b578d9acbf609dbfd165646)**



---

archive/issue_comments_315746.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f93a6a20f75eaf98dba0938880114c0b51a84b61\"><code>f93a6a2</code></a></td><td><code>sdist* Makefile targets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/286adb0efd1d75837b578d9acbf609dbfd165646\"><code>286adb0</code></a></td><td><code>New target: sdistcheck-compare-trees</code></td></tr></table>\n",
    "created_at": "2016-10-23T01:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315746",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f93a6a20f75eaf98dba0938880114c0b51a84b61"><code>f93a6a2</code></a></td><td><code>sdist* Makefile targets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/286adb0efd1d75837b578d9acbf609dbfd165646"><code>286adb0</code></a></td><td><code>New target: sdistcheck-compare-trees</code></td></tr></table>




---

archive/issue_comments_315747.json:
```json
{
    "body": "Changed commit from **[`286adb0`](https://github.com/sagemath/sagetrac-mirror/commit/286adb0efd1d75837b578d9acbf609dbfd165646)** to **[`6a314d7`](https://github.com/sagemath/sagetrac-mirror/commit/6a314d7d113bf5426b7bf7250641c737230c23b8)**",
    "created_at": "2016-10-23T05:39:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315747",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`286adb0`](https://github.com/sagemath/sagetrac-mirror/commit/286adb0efd1d75837b578d9acbf609dbfd165646)** to **[`6a314d7`](https://github.com/sagemath/sagetrac-mirror/commit/6a314d7d113bf5426b7bf7250641c737230c23b8)**



---

archive/issue_comments_315748.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c6efbd58aad45f3e6b1395f3424982c02c29ca5\"><code>4c6efbd</code></a></td><td><code>reconfigure if src/Makefile.in changed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be24c3422aa9e20901d62127b89f5f35e4daa3d0\"><code>be24c34</code></a></td><td><code>New target 'make sagelib-sdistcheck'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/376bf1aa03c87f4048f220ef4c466430da2be175\"><code>376bf1a</code></a></td><td><code>Refactor sdistcheck targets and fix dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a314d7d113bf5426b7bf7250641c737230c23b8\"><code>6a314d7</code></a></td><td><code>More work on sdistcheck-compare-trees</code></td></tr></table>\n",
    "created_at": "2016-10-23T05:39:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315748",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c6efbd58aad45f3e6b1395f3424982c02c29ca5"><code>4c6efbd</code></a></td><td><code>reconfigure if src/Makefile.in changed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be24c3422aa9e20901d62127b89f5f35e4daa3d0"><code>be24c34</code></a></td><td><code>New target 'make sagelib-sdistcheck'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/376bf1aa03c87f4048f220ef4c466430da2be175"><code>376bf1a</code></a></td><td><code>Refactor sdistcheck targets and fix dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a314d7d113bf5426b7bf7250641c737230c23b8"><code>6a314d7</code></a></td><td><code>More work on sdistcheck-compare-trees</code></td></tr></table>




---

archive/issue_events_299539.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-10-23T06:05:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299539"
}
```



---

archive/issue_events_299540.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-10-23T06:05:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299540"
}
```



---

archive/issue_comments_315749.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThis ticket needs some help from the distutils experts",
    "created_at": "2016-10-23T06:05:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315749",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

This ticket needs some help from the distutils experts



---

archive/issue_comments_315750.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nWhat can I help with?",
    "created_at": "2016-11-07T12:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315750",
    "user": "https://github.com/embray"
}
```

<div id="comment:13" align="right">comment:13</div>

What can I help with?



---

archive/issue_comments_315751.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@embray](#comment%3A13):\n> What can I help with?\n\nI'd need help in figuring out why some files are missing in the `sdist` and what is the idiomatic way (or the most appropriate way for Sage) of adding them.",
    "created_at": "2016-11-10T06:48:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315751",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@embray](#comment%3A13):
> What can I help with?

I'd need help in figuring out why some files are missing in the `sdist` and what is the idiomatic way (or the most appropriate way for Sage) of adding them.



---

archive/issue_comments_315752.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI think this calls for a cleaning up of the MANIFEST.in.  I'll play around with it.",
    "created_at": "2016-11-10T11:48:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315752",
    "user": "https://github.com/embray"
}
```

<div id="comment:15" align="right">comment:15</div>

I think this calls for a cleaning up of the MANIFEST.in.  I'll play around with it.



---

archive/issue_comments_315753.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI think that #21682 might help with this issue as well.  As I've repeatedly suggested, it's best to include Cythonized sources in the sdist (taking the onus off the user to create the files with the correct version of Cython--especially important since we currently use a patched Cython for Sage...).  This would also ensure that generated modules like the pari interfaces are included (on possible problem with this is if we want to be able to target different versions of pari--that's a problem to be pushed down the line though...)",
    "created_at": "2016-11-10T12:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315753",
    "user": "https://github.com/embray"
}
```

<div id="comment:16" align="right">comment:16</div>

I think that #21682 might help with this issue as well.  As I've repeatedly suggested, it's best to include Cythonized sources in the sdist (taking the onus off the user to create the files with the correct version of Cython--especially important since we currently use a patched Cython for Sage...).  This would also ensure that generated modules like the pari interfaces are included (on possible problem with this is if we want to be able to target different versions of pari--that's a problem to be pushed down the line though...)



---

archive/issue_comments_315754.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n@embray This is the ticket that I mentioned in #26964.",
    "created_at": "2020-02-06T12:26:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315754",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

@embray This is the ticket that I mentioned in #26964.



---

archive/issue_events_299541.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-02-06T12:26:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299541"
}
```



---

archive/issue_events_299542.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-02-06T12:26:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299542"
}
```



---

archive/issue_comments_315755.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nCan you tell me how did that error go from ` no previously-included files ` to. ` no directories found `, the time I recreated this error, this happened after I had quit the command of ./sage",
    "created_at": "2020-03-30T05:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315755",
    "user": "https://github.com/Shlokatadistance"
}
```

<div id="comment:19" align="right">comment:19</div>

Can you tell me how did that error go from ` no previously-included files ` to. ` no directories found `, the time I recreated this error, this happened after I had quit the command of ./sage



---

archive/issue_comments_315756.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAlso I had obtained such an error after a direct installation of [SageMath](../wiki/SageMath) as an application, did you do it the same way? or was it through the tar file and unpacking?",
    "created_at": "2020-04-04T12:49:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315756",
    "user": "https://github.com/Shlokatadistance"
}
```

<div id="comment:20" align="right">comment:20</div>

Also I had obtained such an error after a direct installation of [SageMath](../wiki/SageMath) as an application, did you do it the same way? or was it through the tar file and unpacking?



---

archive/issue_events_299543.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:08:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299543"
}
```



---

archive/issue_events_299544.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:08:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299544"
}
```



---

archive/issue_comments_315757.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nIs this still relevant? Has the world converged onto distributing via pip?",
    "created_at": "2020-05-16T12:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315757",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

Is this still relevant? Has the world converged onto distributing via pip?



---

archive/issue_comments_315758.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nYes, still need to fix this.",
    "created_at": "2020-05-16T15:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315758",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">comment:23</div>

Yes, still need to fix this.



---

archive/issue_comments_315759.json:
```json
{
    "body": "Changed commit from **[`6a314d7`](https://github.com/sagemath/sagetrac-mirror/commit/6a314d7d113bf5426b7bf7250641c737230c23b8)** to **[`086fc86`](https://github.com/sagemath/sagetrac-mirror/commit/086fc8678a6f0074337ae882848b3df1fb19b2d5)**",
    "created_at": "2020-05-17T05:39:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315759",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6a314d7`](https://github.com/sagemath/sagetrac-mirror/commit/6a314d7d113bf5426b7bf7250641c737230c23b8)** to **[`086fc86`](https://github.com/sagemath/sagetrac-mirror/commit/086fc8678a6f0074337ae882848b3df1fb19b2d5)**



---

archive/issue_comments_315760.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ce279c662f1970c21aa1e1d4de6f3d3022d77f1\"><code>8ce279c</code></a></td><td><code>sdist* Makefile targets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3abffd8a0523dd58a09c30bc5e2ea390de8afca4\"><code>3abffd8</code></a></td><td><code>New target: sdistcheck-compare-trees</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c7ecbebaa65d9316365ca89609fcfd4cf0dfd11\"><code>9c7ecbe</code></a></td><td><code>New target 'make sagelib-sdistcheck'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d8b72c67c9cd75397e05baade71af659411a1ac\"><code>4d8b72c</code></a></td><td><code>Refactor sdistcheck targets and fix dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/086fc8678a6f0074337ae882848b3df1fb19b2d5\"><code>086fc86</code></a></td><td><code>More work on sdistcheck-compare-trees</code></td></tr></table>\n",
    "created_at": "2020-05-17T05:39:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315760",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ce279c662f1970c21aa1e1d4de6f3d3022d77f1"><code>8ce279c</code></a></td><td><code>sdist* Makefile targets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3abffd8a0523dd58a09c30bc5e2ea390de8afca4"><code>3abffd8</code></a></td><td><code>New target: sdistcheck-compare-trees</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c7ecbebaa65d9316365ca89609fcfd4cf0dfd11"><code>9c7ecbe</code></a></td><td><code>New target 'make sagelib-sdistcheck'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d8b72c67c9cd75397e05baade71af659411a1ac"><code>4d8b72c</code></a></td><td><code>Refactor sdistcheck targets and fix dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/086fc8678a6f0074337ae882848b3df1fb19b2d5"><code>086fc86</code></a></td><td><code>More work on sdistcheck-compare-trees</code></td></tr></table>




---

archive/issue_comments_315761.json:
```json
{
    "body": "Changed commit from **[`086fc86`](https://github.com/sagemath/sagetrac-mirror/commit/086fc8678a6f0074337ae882848b3df1fb19b2d5)** to **[`51c4da6`](https://github.com/sagemath/sagetrac-mirror/commit/51c4da612a99e61ba2975af9e7982087493e12bc)**",
    "created_at": "2020-05-17T06:04:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315761",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`086fc86`](https://github.com/sagemath/sagetrac-mirror/commit/086fc8678a6f0074337ae882848b3df1fb19b2d5)** to **[`51c4da6`](https://github.com/sagemath/sagetrac-mirror/commit/51c4da612a99e61ba2975af9e7982087493e12bc)**



---

archive/issue_comments_315762.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51c4da612a99e61ba2975af9e7982087493e12bc\"><code>51c4da6</code></a></td><td><code>src/MANIFEST.in: prune .tox</code></td></tr></table>\n",
    "created_at": "2020-05-17T06:04:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315762",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51c4da612a99e61ba2975af9e7982087493e12bc"><code>51c4da6</code></a></td><td><code>src/MANIFEST.in: prune .tox</code></td></tr></table>




---

archive/issue_comments_315763.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -61,3 +61,13 @@\n \n The branch is on top of #21480.\n \n+---\n+\n+References:\n+\n+- https://flit.readthedocs.io/en/latest/pyproject_toml.html#sdist-section\n+\n+\n+\n+\n+\n``````\n",
    "created_at": "2020-06-11T01:49:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315763",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -61,3 +61,13 @@
 
 The branch is on top of #21480.
 
+---
+
+References:
+
+- https://flit.readthedocs.io/en/latest/pyproject_toml.html#sdist-section
+
+
+
+
+
``````




---

archive/issue_comments_315764.json:
```json
{
    "body": "Changed dependencies from **#21480, #21565** to **#13190**",
    "created_at": "2020-06-11T01:56:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315764",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#21480, #21565** to **#13190**



---

archive/issue_comments_315765.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -65,9 +65,10 @@\n \n References:\n \n+Other technologies:\n - https://flit.readthedocs.io/en/latest/pyproject_toml.html#sdist-section\n+- https://python-poetry.org/docs/pyproject/\n \n \n \n \n-\n``````\n",
    "created_at": "2020-06-11T01:56:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315765",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -65,9 +65,10 @@
 
 References:
 
+Other technologies:
 - https://flit.readthedocs.io/en/latest/pyproject_toml.html#sdist-section
+- https://python-poetry.org/docs/pyproject/
 
 
 
 
-
``````




---

archive/issue_comments_315766.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -69,6 +69,5 @@\n - https://flit.readthedocs.io/en/latest/pyproject_toml.html#sdist-section\n - https://python-poetry.org/docs/pyproject/\n \n+See also: #29845 - PEP 517 buildapi for sage_setup\n \n-\n-\n``````\n",
    "created_at": "2020-06-11T02:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315766",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -69,6 +69,5 @@
 - https://flit.readthedocs.io/en/latest/pyproject_toml.html#sdist-section
 - https://python-poetry.org/docs/pyproject/
 
+See also: #29845 - PEP 517 buildapi for sage_setup
 
-
-
``````




---

archive/issue_events_299545.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-25T06:35:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299545"
}
```



---

archive/issue_events_299546.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-25T06:35:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299546"
}
```



---

archive/issue_comments_315767.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nDevelopment continues on #29950 (Build sagelib using the installed `sage_setup`, add `spkg-src`). This ticket can be closed.",
    "created_at": "2020-06-25T06:35:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315767",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">comment:29</div>

Development continues on #29950 (Build sagelib using the installed `sage_setup`, add `spkg-src`). This ticket can be closed.



---

archive/issue_events_299547.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-07-16T19:07:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299547"
}
```



---

archive/issue_events_299548.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-07-16T19:07:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299548"
}
```



---

archive/issue_comments_315768.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2020-07-16T19:07:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315768",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_299549.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-11T16:57:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299549"
}
```



---

archive/issue_events_299550.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-11T16:57:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299550"
}
```



---

archive/issue_comments_315769.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/sagelib_sdist](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sagelib_sdist)** to none",
    "created_at": "2020-10-11T16:57:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315769",
    "user": "https://github.com/slel"
}
```

Changed branch from **[u/mkoeppe/sagelib_sdist](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sagelib_sdist)** to none



---

archive/issue_comments_315770.json:
```json
{
    "body": "Changed author from **Matthias Koeppe** to none",
    "created_at": "2020-10-11T16:57:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315770",
    "user": "https://github.com/slel"
}
```

Changed author from **Matthias Koeppe** to none



---

archive/issue_comments_315771.json:
```json
{
    "body": "Changed commit from **[`51c4da6`](https://github.com/sagemath/sagetrac-mirror/commit/51c4da612a99e61ba2975af9e7982087493e12bc)** to none",
    "created_at": "2020-10-11T16:57:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21516#issuecomment-315771",
    "user": "https://github.com/slel"
}
```

Changed commit from **[`51c4da6`](https://github.com/sagemath/sagetrac-mirror/commit/51c4da612a99e61ba2975af9e7982087493e12bc)** to none



---

archive/issue_events_299551.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-11T16:57:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299551"
}
```



---

archive/issue_events_299552.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-11T16:57:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21516",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "c6c6c6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21516#event-299552"
}
```
