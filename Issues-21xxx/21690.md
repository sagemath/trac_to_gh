# Issue 21690: fp(y)lll 5.x build fails on Cygwin

archive/issues_021453.json:
```json
{
    "body": "Relevant portion of the build log:\n\n```\n[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\\.lo$||'`;\\\n[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\\\n[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo\n[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o\n[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,\n[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,\n[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n[fplll-5.0.3rc0]                  from util.h:23,\n[fplll-5.0.3rc0]                  from fplll.h:25,\n[fplll-5.0.3rc0]                  from fplll.cpp:18:\n[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':\n[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope\n[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));\n[fplll-5.0.3rc0]                                           ^\n[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,\n[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n[fplll-5.0.3rc0]                  from util.h:23,\n[fplll-5.0.3rc0]                  from fplll.h:25,\n[fplll-5.0.3rc0]                  from fplll.cpp:18:\n[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':\n[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope\n[fplll-5.0.3rc0]      gettimeofday(&time,NULL);\n[fplll-5.0.3rc0]                             ^\n[fplll-5.0.3rc0] In file included from bkz.h:24:0,\n[fplll-5.0.3rc0]                  from fplll.h:28,\n[fplll-5.0.3rc0]                  from fplll.cpp:18:\n[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':\n[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared\n[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }\n[fplll-5.0.3rc0]                      ^\n[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1\n```\n\nThis only started since #21221 was merged.\n\nThere are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.\n\n1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21185) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.\n\n2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`\n\nUpstream bug report for fplll: https://github.com/fplll/fplll/issues/212\nUpstream bug report for fpylll: https://github.com/fplll/fpylll/issues/40\n\n\n(P.S. I can't wait to get that cygwin build bot up and running :D)\n\n\nCC:  @malb\n\nKeywords: windows cygwin fplll\n\nBranch/Commit: 1517ea7830e7a2542c3069239e5bbcbf248dc342\n\nUpstream: Fixed upstream, but not in a stable release.\n\nReviewer: Jean-Pierre Flori\n\nAuthor: Erik Bray\n\nDependencies: #21675, #20692\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21690\n\n",
    "closed_at": "2017-02-16T22:28:27Z",
    "created_at": "2016-10-12T08:53:24Z",
    "labels": [
        "component: porting: cygwin",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "fp(y)lll 5.x build fails on Cygwin",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21690",
    "user": "https://github.com/embray"
}
```
Relevant portion of the build log:

```
[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\
[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo
[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o
[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,
[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,
[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
[fplll-5.0.3rc0]                  from nr/matrix.h:21,
[fplll-5.0.3rc0]                  from util.h:23,
[fplll-5.0.3rc0]                  from fplll.h:25,
[fplll-5.0.3rc0]                  from fplll.cpp:18:
[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':
[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope
[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));
[fplll-5.0.3rc0]                                           ^
[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,
[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
[fplll-5.0.3rc0]                  from nr/matrix.h:21,
[fplll-5.0.3rc0]                  from util.h:23,
[fplll-5.0.3rc0]                  from fplll.h:25,
[fplll-5.0.3rc0]                  from fplll.cpp:18:
[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':
[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope
[fplll-5.0.3rc0]      gettimeofday(&time,NULL);
[fplll-5.0.3rc0]                             ^
[fplll-5.0.3rc0] In file included from bkz.h:24:0,
[fplll-5.0.3rc0]                  from fplll.h:28,
[fplll-5.0.3rc0]                  from fplll.cpp:18:
[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':
[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared
[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }
[fplll-5.0.3rc0]                      ^
[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1
```

This only started since #21221 was merged.

There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.

1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21185) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.

2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`

Upstream bug report for fplll: https://github.com/fplll/fplll/issues/212
Upstream bug report for fpylll: https://github.com/fplll/fpylll/issues/40


(P.S. I can't wait to get that cygwin build bot up and running :D)


CC:  @malb

Keywords: windows cygwin fplll

Branch/Commit: 1517ea7830e7a2542c3069239e5bbcbf248dc342

Upstream: Fixed upstream, but not in a stable release.

Reviewer: Jean-Pierre Flori

Author: Erik Bray

Dependencies: #21675, #20692

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21690





---

archive/issue_comments_316854.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -36,9 +36,10 @@\n [fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1\n ```\n \n-This only started since #21221 was merged.  I haven't looked at the cause at all yet.\n+This only started since #21221 was merged.  It looks like this is another instance of #20926.\n \n (P.S. I can't wait to get that cygwin build bot up and running :D)\n+\n \n Comment: 1\n \n```\n",
    "created_at": "2016-10-12T09:01:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316854",
    "user": "https://github.com/embray"
}
```

Description changed:
```diff
--- 
+++ 
@@ -36,9 +36,10 @@
 [fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1
 ```
 
-This only started since #21221 was merged.  I haven't looked at the cause at all yet.
+This only started since #21221 was merged.  It looks like this is another instance of #20926.
 
 (P.S. I can't wait to get that cygwin build bot up and running :D)
+
 
 Comment: 1
 
```




---

archive/issue_comments_316855.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,44 @@\n+Relevant portion of the build log:\n+\n+```\n+[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\\.lo$||'`;\\\n+[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\\\n+[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo\n+[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o\n+[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n+[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n+[fplll-5.0.3rc0]                  from util.h:23,\n+[fplll-5.0.3rc0]                  from fplll.h:25,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':\n+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope\n+[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));\n+[fplll-5.0.3rc0]                                           ^\n+[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n+[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n+[fplll-5.0.3rc0]                  from util.h:23,\n+[fplll-5.0.3rc0]                  from fplll.h:25,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':\n+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope\n+[fplll-5.0.3rc0]      gettimeofday(&time,NULL);\n+[fplll-5.0.3rc0]                             ^\n+[fplll-5.0.3rc0] In file included from bkz.h:24:0,\n+[fplll-5.0.3rc0]                  from fplll.h:28,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':\n+[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared\n+[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }\n+[fplll-5.0.3rc0]                      ^\n+[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1\n+```\n+\n+This only started since #21221 was merged.  It looks like this is similar to #21185, and possibly related to #20926.  In other words, an issue with how well supported C(++) standard flags are.\n+\n+(P.S. I can't wait to get that cygwin build bot up and running :D)\n \n \n Comment: 1\n```\n",
    "created_at": "2016-10-12T09:06:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316855",
    "user": "https://github.com/embray"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,44 @@
+Relevant portion of the build log:
+
+```
+[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
+[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\
+[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo
+[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o
+[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,
+[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,
+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
+[fplll-5.0.3rc0]                  from nr/matrix.h:21,
+[fplll-5.0.3rc0]                  from util.h:23,
+[fplll-5.0.3rc0]                  from fplll.h:25,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':
+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope
+[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));
+[fplll-5.0.3rc0]                                           ^
+[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,
+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
+[fplll-5.0.3rc0]                  from nr/matrix.h:21,
+[fplll-5.0.3rc0]                  from util.h:23,
+[fplll-5.0.3rc0]                  from fplll.h:25,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':
+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope
+[fplll-5.0.3rc0]      gettimeofday(&time,NULL);
+[fplll-5.0.3rc0]                             ^
+[fplll-5.0.3rc0] In file included from bkz.h:24:0,
+[fplll-5.0.3rc0]                  from fplll.h:28,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':
+[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared
+[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }
+[fplll-5.0.3rc0]                      ^
+[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1
+```
+
+This only started since #21221 was merged.  It looks like this is similar to #21185, and possibly related to #20926.  In other words, an issue with how well supported C(++) standard flags are.
+
+(P.S. I can't wait to get that cygwin build bot up and running :D)
 
 
 Comment: 1
```




---

archive/issue_comments_316856.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,51 @@\n+Relevant portion of the build log:\n+\n+```\n+[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\\.lo$||'`;\\\n+[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\\\n+[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo\n+[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o\n+[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n+[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n+[fplll-5.0.3rc0]                  from util.h:23,\n+[fplll-5.0.3rc0]                  from fplll.h:25,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':\n+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope\n+[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));\n+[fplll-5.0.3rc0]                                           ^\n+[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n+[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n+[fplll-5.0.3rc0]                  from util.h:23,\n+[fplll-5.0.3rc0]                  from fplll.h:25,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':\n+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope\n+[fplll-5.0.3rc0]      gettimeofday(&time,NULL);\n+[fplll-5.0.3rc0]                             ^\n+[fplll-5.0.3rc0] In file included from bkz.h:24:0,\n+[fplll-5.0.3rc0]                  from fplll.h:28,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':\n+[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared\n+[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }\n+[fplll-5.0.3rc0]                      ^\n+[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1\n+```\n+\n+This only started since #21221 was merged.\n+\n+There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.\n+\n+1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21855) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.\n+\n+2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`\n+\n+\n+(P.S. I can't wait to get that cygwin build bot up and running :D)\n \n \n Comment: 1\n```\n",
    "created_at": "2016-10-12T10:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316856",
    "user": "https://github.com/embray"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,51 @@
+Relevant portion of the build log:
+
+```
+[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
+[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\
+[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo
+[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o
+[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,
+[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,
+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
+[fplll-5.0.3rc0]                  from nr/matrix.h:21,
+[fplll-5.0.3rc0]                  from util.h:23,
+[fplll-5.0.3rc0]                  from fplll.h:25,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':
+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope
+[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));
+[fplll-5.0.3rc0]                                           ^
+[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,
+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
+[fplll-5.0.3rc0]                  from nr/matrix.h:21,
+[fplll-5.0.3rc0]                  from util.h:23,
+[fplll-5.0.3rc0]                  from fplll.h:25,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':
+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope
+[fplll-5.0.3rc0]      gettimeofday(&time,NULL);
+[fplll-5.0.3rc0]                             ^
+[fplll-5.0.3rc0] In file included from bkz.h:24:0,
+[fplll-5.0.3rc0]                  from fplll.h:28,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':
+[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared
+[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }
+[fplll-5.0.3rc0]                      ^
+[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1
+```
+
+This only started since #21221 was merged.
+
+There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.
+
+1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21855) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.
+
+2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`
+
+
+(P.S. I can't wait to get that cygwin build bot up and running :D)
 
 
 Comment: 1
```




---

archive/issue_comments_316857.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,51 @@\n+Relevant portion of the build log:\n+\n+```\n+[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\\.lo$||'`;\\\n+[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\\\n+[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo\n+[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o\n+[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n+[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n+[fplll-5.0.3rc0]                  from util.h:23,\n+[fplll-5.0.3rc0]                  from fplll.h:25,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':\n+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope\n+[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));\n+[fplll-5.0.3rc0]                                           ^\n+[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n+[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n+[fplll-5.0.3rc0]                  from util.h:23,\n+[fplll-5.0.3rc0]                  from fplll.h:25,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':\n+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope\n+[fplll-5.0.3rc0]      gettimeofday(&time,NULL);\n+[fplll-5.0.3rc0]                             ^\n+[fplll-5.0.3rc0] In file included from bkz.h:24:0,\n+[fplll-5.0.3rc0]                  from fplll.h:28,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':\n+[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared\n+[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }\n+[fplll-5.0.3rc0]                      ^\n+[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1\n+```\n+\n+This only started since #21221 was merged.\n+\n+There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.\n+\n+1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21185) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.\n+\n+2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`\n+\n+\n+(P.S. I can't wait to get that cygwin build bot up and running :D)\n \n \n Comment: 1\n```\n",
    "created_at": "2016-10-12T10:10:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316857",
    "user": "https://github.com/embray"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,51 @@
+Relevant portion of the build log:
+
+```
+[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
+[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\
+[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo
+[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o
+[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,
+[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,
+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
+[fplll-5.0.3rc0]                  from nr/matrix.h:21,
+[fplll-5.0.3rc0]                  from util.h:23,
+[fplll-5.0.3rc0]                  from fplll.h:25,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':
+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope
+[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));
+[fplll-5.0.3rc0]                                           ^
+[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,
+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
+[fplll-5.0.3rc0]                  from nr/matrix.h:21,
+[fplll-5.0.3rc0]                  from util.h:23,
+[fplll-5.0.3rc0]                  from fplll.h:25,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':
+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope
+[fplll-5.0.3rc0]      gettimeofday(&time,NULL);
+[fplll-5.0.3rc0]                             ^
+[fplll-5.0.3rc0] In file included from bkz.h:24:0,
+[fplll-5.0.3rc0]                  from fplll.h:28,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':
+[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared
+[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }
+[fplll-5.0.3rc0]                      ^
+[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1
+```
+
+This only started since #21221 was merged.
+
+There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.
+
+1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21185) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.
+
+2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`
+
+
+(P.S. I can't wait to get that cygwin build bot up and running :D)
 
 
 Comment: 1
```




---

archive/issue_comments_316858.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-10-12T10:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316858",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_316859.json:
```json
{
    "body": "<a id='comment:6'></a>Here's an initial fix (against #21675) which includes the patch to `lll.h` and a patch to `spkg-install`.\n\nI'm also about to try a patch to the `configure.ac` for supporting Cygwin.\n\n---\nNew commits:",
    "created_at": "2016-10-12T10:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316859",
    "user": "https://github.com/embray"
}
```

<a id='comment:6'></a>Here's an initial fix (against #21675) which includes the patch to `lll.h` and a patch to `spkg-install`.

I'm also about to try a patch to the `configure.ac` for supporting Cygwin.

---
New commits:



---

archive/issue_comments_316860.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,53 @@\n+Relevant portion of the build log:\n+\n+```\n+[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\\.lo$||'`;\\\n+[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\\\n+[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo\n+[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o\n+[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n+[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n+[fplll-5.0.3rc0]                  from util.h:23,\n+[fplll-5.0.3rc0]                  from fplll.h:25,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':\n+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope\n+[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));\n+[fplll-5.0.3rc0]                                           ^\n+[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n+[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n+[fplll-5.0.3rc0]                  from util.h:23,\n+[fplll-5.0.3rc0]                  from fplll.h:25,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':\n+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope\n+[fplll-5.0.3rc0]      gettimeofday(&time,NULL);\n+[fplll-5.0.3rc0]                             ^\n+[fplll-5.0.3rc0] In file included from bkz.h:24:0,\n+[fplll-5.0.3rc0]                  from fplll.h:28,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':\n+[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared\n+[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }\n+[fplll-5.0.3rc0]                      ^\n+[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1\n+```\n+\n+This only started since #21221 was merged.\n+\n+There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.\n+\n+1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21185) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.\n+\n+2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`\n+\n+Upstream bug report: https://github.com/fplll/fplll/issues/212\n+\n+\n+(P.S. I can't wait to get that cygwin build bot up and running :D)\n \n \n Comment: 1\n```\n",
    "created_at": "2016-10-12T12:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316860",
    "user": "https://github.com/embray"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,53 @@
+Relevant portion of the build log:
+
+```
+[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
+[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\
+[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo
+[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o
+[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,
+[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,
+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
+[fplll-5.0.3rc0]                  from nr/matrix.h:21,
+[fplll-5.0.3rc0]                  from util.h:23,
+[fplll-5.0.3rc0]                  from fplll.h:25,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':
+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope
+[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));
+[fplll-5.0.3rc0]                                           ^
+[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,
+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
+[fplll-5.0.3rc0]                  from nr/matrix.h:21,
+[fplll-5.0.3rc0]                  from util.h:23,
+[fplll-5.0.3rc0]                  from fplll.h:25,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':
+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope
+[fplll-5.0.3rc0]      gettimeofday(&time,NULL);
+[fplll-5.0.3rc0]                             ^
+[fplll-5.0.3rc0] In file included from bkz.h:24:0,
+[fplll-5.0.3rc0]                  from fplll.h:28,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':
+[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared
+[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }
+[fplll-5.0.3rc0]                      ^
+[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1
+```
+
+This only started since #21221 was merged.
+
+There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.
+
+1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21185) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.
+
+2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`
+
+Upstream bug report: https://github.com/fplll/fplll/issues/212
+
+
+(P.S. I can't wait to get that cygwin build bot up and running :D)
 
 
 Comment: 1
```




---

archive/issue_comments_316861.json:
```json
{
    "body": "<a id='comment:8'></a>Looks like fpylll also has a problem on Cygwin.  I'm going to address that as part of this ticket while I'm at it.  It appears to be another issue with long double.",
    "created_at": "2016-10-13T10:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316861",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>Looks like fpylll also has a problem on Cygwin.  I'm going to address that as part of this ticket while I'm at it.  It appears to be another issue with long double.



---

archive/issue_comments_316862.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-10-13T10:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316862",
    "user": "https://github.com/embray"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_316863.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,54 @@\n+Relevant portion of the build log:\n+\n+```\n+[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\\.lo$||'`;\\\n+[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\\\n+[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo\n+[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o\n+[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n+[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n+[fplll-5.0.3rc0]                  from util.h:23,\n+[fplll-5.0.3rc0]                  from fplll.h:25,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':\n+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope\n+[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));\n+[fplll-5.0.3rc0]                                           ^\n+[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,\n+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n+[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n+[fplll-5.0.3rc0]                  from util.h:23,\n+[fplll-5.0.3rc0]                  from fplll.h:25,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':\n+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope\n+[fplll-5.0.3rc0]      gettimeofday(&time,NULL);\n+[fplll-5.0.3rc0]                             ^\n+[fplll-5.0.3rc0] In file included from bkz.h:24:0,\n+[fplll-5.0.3rc0]                  from fplll.h:28,\n+[fplll-5.0.3rc0]                  from fplll.cpp:18:\n+[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':\n+[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared\n+[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }\n+[fplll-5.0.3rc0]                      ^\n+[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1\n+```\n+\n+This only started since #21221 was merged.\n+\n+There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.\n+\n+1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21185) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.\n+\n+2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`\n+\n+Upstream bug report for fplll: https://github.com/fplll/fplll/issues/212\n+Upstream bug report for fpylll: https://github.com/fplll/fpylll/issues/40\n+\n+\n+(P.S. I can't wait to get that cygwin build bot up and running :D)\n \n \n Comment: 1\n```\n",
    "created_at": "2016-10-13T13:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316863",
    "user": "https://github.com/embray"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,54 @@
+Relevant portion of the build log:
+
+```
+[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
+[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\
+[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo
+[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o
+[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,
+[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,
+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
+[fplll-5.0.3rc0]                  from nr/matrix.h:21,
+[fplll-5.0.3rc0]                  from util.h:23,
+[fplll-5.0.3rc0]                  from fplll.h:25,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':
+[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope
+[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));
+[fplll-5.0.3rc0]                                           ^
+[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,
+[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
+[fplll-5.0.3rc0]                  from nr/matrix.h:21,
+[fplll-5.0.3rc0]                  from util.h:23,
+[fplll-5.0.3rc0]                  from fplll.h:25,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':
+[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope
+[fplll-5.0.3rc0]      gettimeofday(&time,NULL);
+[fplll-5.0.3rc0]                             ^
+[fplll-5.0.3rc0] In file included from bkz.h:24:0,
+[fplll-5.0.3rc0]                  from fplll.h:28,
+[fplll-5.0.3rc0]                  from fplll.cpp:18:
+[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':
+[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared
+[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }
+[fplll-5.0.3rc0]                      ^
+[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1
+```
+
+This only started since #21221 was merged.
+
+There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.
+
+1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21185) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.
+
+2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`
+
+Upstream bug report for fplll: https://github.com/fplll/fplll/issues/212
+Upstream bug report for fpylll: https://github.com/fplll/fpylll/issues/40
+
+
+(P.S. I can't wait to get that cygwin build bot up and running :D)
 
 
 Comment: 1
```




---

archive/issue_comments_316864.json:
```json
{
    "body": "<a id='comment:12'></a>My patch for the issue in fpylll is here: https://github.com/fplll/fpylll/pull/41  I've confirmed that it solves the problem for me and passes the existing tests.  I could update this ticket to include the patch, but there's no longer any urgency on this for me (as I can proceed with the build) so I'll wait and see.",
    "created_at": "2016-10-14T08:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316864",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'></a>My patch for the issue in fpylll is here: https://github.com/fplll/fpylll/pull/41  I've confirmed that it solves the problem for me and passes the existing tests.  I could update this ticket to include the patch, but there's no longer any urgency on this for me (as I can proceed with the build) so I'll wait and see.



---

archive/issue_comments_316865.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2016-10-14T12:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316865",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_316866.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-10-14T12:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316866",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_316867.json:
```json
{
    "body": "<a id='comment:14'></a>Added additional patch needed for fpylll to build/work on Cygwin.  Rebased on #20692 which I'm making a dependency of this ticket, just so I don't have to rebase *that* branch again.  This ticket can wait on #20692.",
    "created_at": "2016-10-14T12:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316867",
    "user": "https://github.com/embray"
}
```

<a id='comment:14'></a>Added additional patch needed for fpylll to build/work on Cygwin.  Rebased on #20692 which I'm making a dependency of this ticket, just so I don't have to rebase *that* branch again.  This ticket can wait on #20692.



---

archive/issue_comments_316868.json:
```json
{
    "body": "<a id='comment:16'></a>does not merge with 7.5.rc2",
    "created_at": "2017-01-08T06:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316868",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:16'></a>does not merge with 7.5.rc2



---

archive/issue_comments_316869.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-01-08T06:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316869",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_316870.json:
```json
{
    "body": "<a id='comment:17'></a>Hm, I wouldn't complain but this one never even got a review.",
    "created_at": "2017-01-09T09:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316870",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'></a>Hm, I wouldn't complain but this one never even got a review.



---

archive/issue_comments_316871.json:
```json
{
    "body": "<a id='comment:18'></a>Please update the branch and I'll review it.",
    "created_at": "2017-01-26T07:54:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316871",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:18'></a>Please update the branch and I'll review it.



---

archive/issue_comments_316872.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-26T09:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316872",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_316873.json:
```json
{
    "body": "<a id='comment:20'></a>Rebased.",
    "created_at": "2017-01-26T09:55:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316873",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'></a>Rebased.



---

archive/issue_comments_316874.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-01-26T09:55:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316874",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_316875.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-01-26T10:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316875",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_316876.json:
```json
{
    "body": "<a id='comment:21'></a>Looks ok to me.\nI trust Erik tested it properly.",
    "created_at": "2017-01-26T10:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316876",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:21'></a>Looks ok to me.
I trust Erik tested it properly.



---

archive/issue_comments_316877.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-01-28T17:25:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316877",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_316878.json:
```json
{
    "body": "<a id='comment:22'></a>\n```\nApplying ../patches/ticket-21690.patch\npatching file setup.py\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n1 out of 1 hunk ignored -- saving rejects to file setup.py.rej\npatching file src/fpylll/config.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n1 out of 1 hunk ignored -- saving rejects to file src/fpylll/config.pyx.rej\npatching file src/fpylll/fplll/bkz.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n16 out of 16 hunks ignored -- saving rejects to file src/fpylll/fplll/bkz.pyx.rej\npatching file src/fpylll/fplll/decl.pxd\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n1 out of 1 hunk ignored -- saving rejects to file src/fpylll/fplll/decl.pxd.rej\npatching file src/fpylll/fplll/enumeration.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n8 out of 8 hunks ignored -- saving rejects to file src/fpylll/fplll/enumeration.pyx.rej\npatching file src/fpylll/fplll/gso.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n30 out of 30 hunks ignored -- saving rejects to file src/fpylll/fplll/gso.pyx.rej\npatching file src/fpylll/fplll/lll.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n9 out of 9 hunks ignored -- saving rejects to file src/fpylll/fplll/lll.pyx.rej\npatching file src/fpylll/fplll/pruner.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n3 out of 3 hunks ignored -- saving rejects to file src/fpylll/fplll/pruner.pyx.rej\npatching file src/fpylll/numpy.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n2 out of 2 hunks ignored -- saving rejects to file src/fpylll/numpy.pyx.rej\npatching file src/fpylll/util.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n1 out of 1 hunk ignored -- saving rejects to file src/fpylll/util.pyx.rej\nError applying '../patches/ticket-21690.patch'\n```",
    "created_at": "2017-01-28T17:25:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316878",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>
```
Applying ../patches/ticket-21690.patch
patching file setup.py
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
1 out of 1 hunk ignored -- saving rejects to file setup.py.rej
patching file src/fpylll/config.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
1 out of 1 hunk ignored -- saving rejects to file src/fpylll/config.pyx.rej
patching file src/fpylll/fplll/bkz.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
16 out of 16 hunks ignored -- saving rejects to file src/fpylll/fplll/bkz.pyx.rej
patching file src/fpylll/fplll/decl.pxd
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
1 out of 1 hunk ignored -- saving rejects to file src/fpylll/fplll/decl.pxd.rej
patching file src/fpylll/fplll/enumeration.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
8 out of 8 hunks ignored -- saving rejects to file src/fpylll/fplll/enumeration.pyx.rej
patching file src/fpylll/fplll/gso.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
30 out of 30 hunks ignored -- saving rejects to file src/fpylll/fplll/gso.pyx.rej
patching file src/fpylll/fplll/lll.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
9 out of 9 hunks ignored -- saving rejects to file src/fpylll/fplll/lll.pyx.rej
patching file src/fpylll/fplll/pruner.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
3 out of 3 hunks ignored -- saving rejects to file src/fpylll/fplll/pruner.pyx.rej
patching file src/fpylll/numpy.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
2 out of 2 hunks ignored -- saving rejects to file src/fpylll/numpy.pyx.rej
patching file src/fpylll/util.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
1 out of 1 hunk ignored -- saving rejects to file src/fpylll/util.pyx.rej
Error applying '../patches/ticket-21690.patch'
```



---

archive/issue_comments_316879.json:
```json
{
    "body": "<a id='comment:23'></a>Um, this obviously used to work.  Was the fpylll package updated?",
    "created_at": "2017-01-30T11:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316879",
    "user": "https://github.com/embray"
}
```

<a id='comment:23'></a>Um, this obviously used to work.  Was the fpylll package updated?



---

archive/issue_comments_316880.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-01-30T11:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316880",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_316881.json:
```json
{
    "body": "<a id='comment:25'></a>Updated the branch to drop to patch for fpylll since it is no longer needed since the fpylll version was bumped in #21728.",
    "created_at": "2017-01-30T11:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316881",
    "user": "https://github.com/embray"
}
```

<a id='comment:25'></a>Updated the branch to drop to patch for fpylll since it is no longer needed since the fpylll version was bumped in #21728.



---

archive/issue_comments_316882.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-01-30T11:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316882",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_316883.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-02-13T09:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316883",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_316884.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-16T22:28:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21690#issuecomment-316884",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_057441.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-16T22:28:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21690",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21690#event-57441"
}
```
