# Issue 21690: fp(y)lll 5.x build fails on Cygwin

archive/issues_021453.json:
```json
{
    "body": "Relevant portion of the build log:\n\n```\n[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\\.lo$||'`;\\\n[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\\\n[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo\n[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o\n[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,\n[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,\n[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n[fplll-5.0.3rc0]                  from util.h:23,\n[fplll-5.0.3rc0]                  from fplll.h:25,\n[fplll-5.0.3rc0]                  from fplll.cpp:18:\n[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':\n[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope\n[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));\n[fplll-5.0.3rc0]                                           ^\n[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,\n[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,\n[fplll-5.0.3rc0]                  from nr/matrix.h:21,\n[fplll-5.0.3rc0]                  from util.h:23,\n[fplll-5.0.3rc0]                  from fplll.h:25,\n[fplll-5.0.3rc0]                  from fplll.cpp:18:\n[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':\n[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope\n[fplll-5.0.3rc0]      gettimeofday(&time,NULL);\n[fplll-5.0.3rc0]                             ^\n[fplll-5.0.3rc0] In file included from bkz.h:24:0,\n[fplll-5.0.3rc0]                  from fplll.h:28,\n[fplll-5.0.3rc0]                  from fplll.cpp:18:\n[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':\n[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared\n[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }\n[fplll-5.0.3rc0]                      ^\n[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1\n```\n\nThis only started since #21221 was merged.\n\nThere are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.\n\n1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21185) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.\n\n2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`\n\nUpstream bug report for fplll: https://github.com/fplll/fplll/issues/212\nUpstream bug report for fpylll: https://github.com/fplll/fpylll/issues/40\n\n\n(P.S. I can't wait to get that cygwin build bot up and running :D)\n\n\n**CC:**  @malb\n\n**Keywords:** windows cygwin fplll\n\n**Branch/Commit:** [1517ea7830e7a2542c3069239e5bbcbf248dc342](https://github.com/sagemath/sagetrac-mirror/commit/1517ea7830e7a2542c3069239e5bbcbf248dc342)\n\n**Upstream:** Fixed upstream, but not in a stable release.\n\n**Reviewer:** Jean-Pierre Flori\n\n**Author:** Erik Bray\n\n**Dependencies:** #21675, #20692\n\nIssue created by migration from https://trac.sagemath.org/ticket/21690\n\n",
    "closed_at": "2017-02-16T22:28:27Z",
    "created_at": "2016-10-12T08:53:24Z",
    "labels": [
        "component: porting: cygwin",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "title": "fp(y)lll 5.x build fails on Cygwin",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/21690",
    "user": "https://github.com/embray"
}
```
Relevant portion of the build log:

```
[fplll-5.0.3rc0] depbase=`echo fplll.lo | sed 's|[^/]*$|.deps/&|;s|\.lo$||'`;\
[fplll-5.0.3rc0] /bin/sh ../libtool  --tag=CXX   --mode=compile g++ -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/  -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF $depbase.Tpo -c -o fplll.lo fplll.cpp &&\
[fplll-5.0.3rc0] mv -f $depbase.Tpo $depbase.Plo
[fplll-5.0.3rc0] libtool: compile:  g++ -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/home/embray/src/sagemath/sage/local/share/fplll/strategies/default.json\" -I./.. -I/home/embray/src/sagemath/sage/local/include/ -I/home/embray/src/sagemath/sage/local/include/ -L/home/embray/src/sagemath/sage/local/lib -O0 -MT fplll.lo -MD -MP -MF .deps/fplll.Tpo -c fplll.cpp  -DDLL_EXPORT -DPIC -o .libs/fplll.o
[fplll-5.0.3rc0] In file included from ../fplll/nr/../defs.h:55:0,
[fplll-5.0.3rc0]                  from ../fplll/nr/nr.h:8,
[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
[fplll-5.0.3rc0]                  from nr/matrix.h:21,
[fplll-5.0.3rc0]                  from util.h:23,
[fplll-5.0.3rc0]                  from fplll.h:25,
[fplll-5.0.3rc0]                  from fplll.cpp:18:
[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h: In function 'void dpe_ugly_log(dpe_struct*, const dpe_struct*)':
[fplll-5.0.3rc0] ../fplll/nr/../nr/dpe.h:775:42: error: 'M_LN2' was not declared in this scope
[fplll-5.0.3rc0]    dpe_set_d (x, ((double) DPE_EXP(y)) *  M_LN2 + log (DPE_MANT(y)));
[fplll-5.0.3rc0]                                           ^
[fplll-5.0.3rc0] In file included from ../fplll/nr/nr.h:10:0,
[fplll-5.0.3rc0]                  from ../fplll/nr/numvect.h:19,
[fplll-5.0.3rc0]                  from nr/matrix.h:21,
[fplll-5.0.3rc0]                  from util.h:23,
[fplll-5.0.3rc0]                  from fplll.h:25,
[fplll-5.0.3rc0]                  from fplll.cpp:18:
[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl: In static member function 'static void fplll::RandGen::init_with_time2()':
[fplll-5.0.3rc0] ../fplll/nr/nr_rand.inl:29:28: error: 'gettimeofday' was not declared in this scope
[fplll-5.0.3rc0]      gettimeofday(&time,NULL);
[fplll-5.0.3rc0]                             ^
[fplll-5.0.3rc0] In file included from bkz.h:24:0,
[fplll-5.0.3rc0]                  from fplll.h:28,
[fplll-5.0.3rc0]                  from fplll.cpp:18:
[fplll-5.0.3rc0] lll.h: In destructor 'fplll::LLLReduction<ZT, FT>::~LLLReduction()':
[fplll-5.0.3rc0] lll.h:39:21: error: 'LDConvHelper' has not been declared
[fplll-5.0.3rc0]    ~LLLReduction() { LDConvHelper::free(); }
[fplll-5.0.3rc0]                      ^
[fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1
```

This only started since #21221 was merged.

There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.

1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21185) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.

2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`

Upstream bug report for fplll: https://github.com/fplll/fplll/issues/212
Upstream bug report for fpylll: https://github.com/fplll/fpylll/issues/40


(P.S. I can't wait to get that cygwin build bot up and running :D)


**CC:**  @malb

**Keywords:** windows cygwin fplll

**Branch/Commit:** [1517ea7830e7a2542c3069239e5bbcbf248dc342](https://github.com/sagemath/sagetrac-mirror/commit/1517ea7830e7a2542c3069239e5bbcbf248dc342)

**Upstream:** Fixed upstream, but not in a stable release.

**Reviewer:** Jean-Pierre Flori

**Author:** Erik Bray

**Dependencies:** #21675, #20692

Issue created by migration from https://trac.sagemath.org/ticket/21690





---

archive/issue_comments_321265.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -36,7 +36,7 @@\n [fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1\n ```\n \n-This only started since #21221 was merged.  I haven't looked at the cause at all yet.\n+This only started since #21221 was merged.  It looks like this is another instance of #20926.\n \n (P.S. I can't wait to get that cygwin build bot up and running :D)\n \n``````\n",
    "created_at": "2016-10-12T09:01:55Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321265",
    "user": "https://github.com/embray"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -36,7 +36,7 @@
 [fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1
 ```
 
-This only started since #21221 was merged.  I haven't looked at the cause at all yet.
+This only started since #21221 was merged.  It looks like this is another instance of #20926.
 
 (P.S. I can't wait to get that cygwin build bot up and running :D)
 
``````




---

archive/issue_comments_321266.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -36,7 +36,7 @@\n [fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1\n ```\n \n-This only started since #21221 was merged.  It looks like this is another instance of #20926.\n+This only started since #21221 was merged.  It looks like this is similar to #21185, and possibly related to #20926.  In other words, an issue with how well supported C(++) standard flags are.\n \n (P.S. I can't wait to get that cygwin build bot up and running :D)\n \n``````\n",
    "created_at": "2016-10-12T09:06:36Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321266",
    "user": "https://github.com/embray"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -36,7 +36,7 @@
 [fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1
 ```
 
-This only started since #21221 was merged.  It looks like this is another instance of #20926.
+This only started since #21221 was merged.  It looks like this is similar to #21185, and possibly related to #20926.  In other words, an issue with how well supported C(++) standard flags are.
 
 (P.S. I can't wait to get that cygwin build bot up and running :D)
 
``````




---

archive/issue_comments_321267.json:
```json
{
    "body": "**Dependencies:** #21675",
    "created_at": "2016-10-12T09:44:51Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321267",
    "user": "https://github.com/jdemeyer"
}
```

**Dependencies:** #21675



---

archive/issue_comments_321268.json:
```json
{
    "body": "**Upstream:** Not yet reported upstream; Will do shortly.",
    "created_at": "2016-10-12T10:06:19Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321268",
    "user": "https://github.com/embray"
}
```

**Upstream:** Not yet reported upstream; Will do shortly.



---

archive/issue_comments_321269.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -36,7 +36,14 @@\n [fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1\n ```\n \n-This only started since #21221 was merged.  It looks like this is similar to #21185, and possibly related to #20926.  In other words, an issue with how well supported C(++) standard flags are.\n+This only started since #21221 was merged.\n+\n+There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.\n+\n+1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21855) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.\n+\n+2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`\n+\n \n (P.S. I can't wait to get that cygwin build bot up and running :D)\n \n``````\n",
    "created_at": "2016-10-12T10:06:19Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321269",
    "user": "https://github.com/embray"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -36,7 +36,14 @@
 [fplll-5.0.3rc0] make[6]: *** [Makefile:851: fplll.lo] Error 1
 ```
 
-This only started since #21221 was merged.  It looks like this is similar to #21185, and possibly related to #20926.  In other words, an issue with how well supported C(++) standard flags are.
+This only started since #21221 was merged.
+
+There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.
+
+1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21855) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.
+
+2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`
+
 
 (P.S. I can't wait to get that cygwin build bot up and running :D)
 
``````




---

archive/issue_comments_321270.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -40,7 +40,7 @@\n \n There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.\n \n-1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21855) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.\n+1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21185) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.\n \n 2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`\n \n``````\n",
    "created_at": "2016-10-12T10:10:13Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321270",
    "user": "https://github.com/embray"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -40,7 +40,7 @@
 
 There are two issues here, one of which is definitely an upstream bug, and the other of which is more of an omission but could be addressed upstream as well.
 
-1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21855) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.
+1. Compiling with `-std=c++11` fails on Cygwin.  I haven't pinpointed the *exact* cause, but this is not the first time (e.g. #21185) this has been an issue on Cygwin.  Really this is a bug with newlib, which has bugs in its headers w.r.t. C standard versions.  Compiling with `-std=gnu++11` fixes the first two issues above.  This could be addressed either in Sage's `spkg-install` or in a patch to fplll's `configure.ac`.
 
 2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`
 
``````




---

archive/issue_events_194218.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-12T10:29:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194218"
}
```



---

archive/issue_comments_321271.json:
```json
{
    "body": "**Author:** Erik Bray",
    "created_at": "2016-10-12T10:29:23Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321271",
    "user": "https://github.com/embray"
}
```

**Author:** Erik Bray



---

archive/issue_comments_321272.json:
```json
{
    "body": "**Commit:** [91814c2bc80cf62e8d86379fbd708c8011cd1241](https://github.com/sagemath/sagetrac-mirror/commit/91814c2bc80cf62e8d86379fbd708c8011cd1241)",
    "created_at": "2016-10-12T10:29:23Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321272",
    "user": "https://github.com/embray"
}
```

**Commit:** [91814c2bc80cf62e8d86379fbd708c8011cd1241](https://github.com/sagemath/sagetrac-mirror/commit/91814c2bc80cf62e8d86379fbd708c8011cd1241)



---

archive/issue_comments_321273.json:
```json
{
    "body": "<a id='comment:6'></a>\nHere's an initial fix (against #21675) which includes the patch to `lll.h` and a patch to `spkg-install`.\n\nI'm also about to try a patch to the `configure.ac` for supporting Cygwin.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88a7a70fadc943a5fd3574663396852235426233\">88a7a70</a></td><td><code>Make sure dowgrading from fplll to libfplll works.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3951f9162aad6fc11de180f3d2fe3a11b49da36f\">3951f91</a></td><td><code>Rename fplll -> libfplll</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/618a581220339d4af6985080be5d7a2172de49a8\">618a581</a></td><td><code>sagelib no longer depends on fplll</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91814c2bc80cf62e8d86379fbd708c8011cd1241\">91814c2</a></td><td><code>Fix issues with building fplll 5.x on Cygwin as reported in</code></td></tr></table>\n",
    "created_at": "2016-10-12T10:29:23Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321273",
    "user": "https://github.com/embray"
}
```

<a id='comment:6'></a>
Here's an initial fix (against #21675) which includes the patch to `lll.h` and a patch to `spkg-install`.

I'm also about to try a patch to the `configure.ac` for supporting Cygwin.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88a7a70fadc943a5fd3574663396852235426233">88a7a70</a></td><td><code>Make sure dowgrading from fplll to libfplll works.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3951f9162aad6fc11de180f3d2fe3a11b49da36f">3951f91</a></td><td><code>Rename fplll -> libfplll</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/618a581220339d4af6985080be5d7a2172de49a8">618a581</a></td><td><code>sagelib no longer depends on fplll</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91814c2bc80cf62e8d86379fbd708c8011cd1241">91814c2</a></td><td><code>Fix issues with building fplll 5.x on Cygwin as reported in</code></td></tr></table>




---

archive/issue_comments_321274.json:
```json
{
    "body": "**Branch:** [u/embray/cygwin/ticket-21690](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/ticket-21690)",
    "created_at": "2016-10-12T10:29:23Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321274",
    "user": "https://github.com/embray"
}
```

**Branch:** [u/embray/cygwin/ticket-21690](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/ticket-21690)



---

archive/issue_comments_321275.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -44,6 +44,8 @@\n \n 2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`\n \n+Upstream bug report: https://github.com/fplll/fplll/issues/212\n+\n \n (P.S. I can't wait to get that cygwin build bot up and running :D)\n \n``````\n",
    "created_at": "2016-10-12T12:21:26Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321275",
    "user": "https://github.com/embray"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -44,6 +44,8 @@
 
 2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`
 
+Upstream bug report: https://github.com/fplll/fplll/issues/212
+
 
 (P.S. I can't wait to get that cygwin build bot up and running :D)
 
``````




---

archive/issue_comments_321276.json:
```json
{
    "body": "**Changing upstream** from \"Not yet reported upstream; Will do shortly.\" to \"Reported upstream. No feedback yet.\".",
    "created_at": "2016-10-12T12:21:26Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321276",
    "user": "https://github.com/embray"
}
```

**Changing upstream** from "Not yet reported upstream; Will do shortly." to "Reported upstream. No feedback yet.".



---

archive/issue_comments_321277.json:
```json
{
    "body": "<a id='comment:8'></a>\nLooks like fpylll also has a problem on Cygwin.  I'm going to address that as part of this ticket while I'm at it.  It appears to be another issue with long double.",
    "created_at": "2016-10-13T10:41:27Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321277",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>
Looks like fpylll also has a problem on Cygwin.  I'm going to address that as part of this ticket while I'm at it.  It appears to be another issue with long double.



---

archive/issue_events_194219.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-13T10:41:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194219"
}
```



---

archive/issue_events_194220.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-13T10:41:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194220"
}
```



---

archive/issue_events_194221.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-13T10:41:27Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "rename": {
        "from": "fplll 5.x build fails on Cygwin",
        "to": "fp(y)lll 5.x build fails on Cygwin"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194221"
}
```



---

archive/issue_comments_321278.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -44,7 +44,8 @@\n \n 2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`\n \n-Upstream bug report: https://github.com/fplll/fplll/issues/212\n+Upstream bug report for fplll: https://github.com/fplll/fplll/issues/212\n+Upstream bug report for fpylll: https://github.com/fplll/fpylll/issues/40\n \n \n (P.S. I can't wait to get that cygwin build bot up and running :D)\n``````\n",
    "created_at": "2016-10-13T13:04:39Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321278",
    "user": "https://github.com/embray"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -44,7 +44,8 @@
 
 2. The second issue is simply a bug.  fplll does not define the macro `FPLLL_WITH_LONG_DOUBLE` on Cygwin, so the definition of the destructor `~LLLReduction()` should be be bracketed with `#ifdef FPLLL_WITH_LONG_DOUBLE`
 
-Upstream bug report: https://github.com/fplll/fplll/issues/212
+Upstream bug report for fplll: https://github.com/fplll/fplll/issues/212
+Upstream bug report for fpylll: https://github.com/fplll/fpylll/issues/40
 
 
 (P.S. I can't wait to get that cygwin build bot up and running :D)
``````




---

archive/issue_comments_321279.json:
```json
{
    "body": "**Changing upstream** from \"Reported upstream. No feedback yet.\" to \"Reported upstream. Developers acknowledge bug.\".",
    "created_at": "2016-10-13T13:49:41Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321279",
    "user": "https://github.com/embray"
}
```

**Changing upstream** from "Reported upstream. No feedback yet." to "Reported upstream. Developers acknowledge bug.".



---

archive/issue_comments_321280.json:
```json
{
    "body": "<a id='comment:12'></a>\nMy patch for the issue in fpylll is here: https://github.com/fplll/fpylll/pull/41  I've confirmed that it solves the problem for me and passes the existing tests.  I could update this ticket to include the patch, but there's no longer any urgency on this for me (as I can proceed with the build) so I'll wait and see.",
    "created_at": "2016-10-14T08:28:06Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321280",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'></a>
My patch for the issue in fpylll is here: https://github.com/fplll/fpylll/pull/41  I've confirmed that it solves the problem for me and passes the existing tests.  I could update this ticket to include the patch, but there's no longer any urgency on this for me (as I can proceed with the build) so I'll wait and see.



---

archive/issue_comments_321281.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27cc968cd38843efe132a5981b69f8f6efca9e5f\">27cc968</a></td><td><code>Add license notice.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c9d6d1df2f8cef29ee9e575409241ee4618e289\">6c9d6d1</a></td><td><code>Warn but don't fail if there are no patches to apply</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/229199fc1ccde3034a9d6f58d016456423da16c5\">229199f</a></td><td><code>Apply sage-apply-patches standard on all packages during spkg-install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b00b256eabda6e610a9a09c9eeebac5549ea8b8\">5b00b25</a></td><td><code>Fixup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5343f3bef75da86de5bf2d9d8fffc1ab39f76de3\">5343f3b</a></td><td><code>Use sage-apply-patches in more packages.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f728e26d95fc12c60d4bb1762d0836700676ed8\">2f728e2</a></td><td><code>Make sure dowgrading from fplll to libfplll works.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a372f4be137862b139b541afe2e00825157db8b\">1a372f4</a></td><td><code>Rename fplll -> libfplll</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32aad0a58b0a68e86c5ba00c45b0ffcf3cdc50bf\">32aad0a</a></td><td><code>sagelib no longer depends on fplll</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/719a5acfd7f57db4dc1b331b2a91bb8fb9966651\">719a5ac</a></td><td><code>Fix issues with building fplll 5.x on Cygwin as reported in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/855752d71251de0de76be1c7a4cb08044a183721\">855752d</a></td><td><code>Add patch for fpylll that addresses the build failure on Cygwin</code></td></tr></table>\n",
    "created_at": "2016-10-14T12:53:28Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321281",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27cc968cd38843efe132a5981b69f8f6efca9e5f">27cc968</a></td><td><code>Add license notice.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c9d6d1df2f8cef29ee9e575409241ee4618e289">6c9d6d1</a></td><td><code>Warn but don't fail if there are no patches to apply</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/229199fc1ccde3034a9d6f58d016456423da16c5">229199f</a></td><td><code>Apply sage-apply-patches standard on all packages during spkg-install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b00b256eabda6e610a9a09c9eeebac5549ea8b8">5b00b25</a></td><td><code>Fixup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5343f3bef75da86de5bf2d9d8fffc1ab39f76de3">5343f3b</a></td><td><code>Use sage-apply-patches in more packages.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f728e26d95fc12c60d4bb1762d0836700676ed8">2f728e2</a></td><td><code>Make sure dowgrading from fplll to libfplll works.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a372f4be137862b139b541afe2e00825157db8b">1a372f4</a></td><td><code>Rename fplll -> libfplll</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32aad0a58b0a68e86c5ba00c45b0ffcf3cdc50bf">32aad0a</a></td><td><code>sagelib no longer depends on fplll</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/719a5acfd7f57db4dc1b331b2a91bb8fb9966651">719a5ac</a></td><td><code>Fix issues with building fplll 5.x on Cygwin as reported in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/855752d71251de0de76be1c7a4cb08044a183721">855752d</a></td><td><code>Add patch for fpylll that addresses the build failure on Cygwin</code></td></tr></table>




---

archive/issue_comments_321282.json:
```json
{
    "body": "**Changing commit** from \"[91814c2bc80cf62e8d86379fbd708c8011cd1241](https://github.com/sagemath/sagetrac-mirror/commit/91814c2bc80cf62e8d86379fbd708c8011cd1241)\" to \"[855752d71251de0de76be1c7a4cb08044a183721](https://github.com/sagemath/sagetrac-mirror/commit/855752d71251de0de76be1c7a4cb08044a183721)\".",
    "created_at": "2016-10-14T12:53:28Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[91814c2bc80cf62e8d86379fbd708c8011cd1241](https://github.com/sagemath/sagetrac-mirror/commit/91814c2bc80cf62e8d86379fbd708c8011cd1241)" to "[855752d71251de0de76be1c7a4cb08044a183721](https://github.com/sagemath/sagetrac-mirror/commit/855752d71251de0de76be1c7a4cb08044a183721)".



---

archive/issue_comments_321283.json:
```json
{
    "body": "**Changing dependencies** from \"#21675\" to \"#21675, #20692\".",
    "created_at": "2016-10-14T12:54:44Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321283",
    "user": "https://github.com/embray"
}
```

**Changing dependencies** from "#21675" to "#21675, #20692".



---

archive/issue_events_194222.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-14T12:54:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194222"
}
```



---

archive/issue_events_194223.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-14T12:54:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194223"
}
```



---

archive/issue_comments_321284.json:
```json
{
    "body": "<a id='comment:14'></a>\nAdded additional patch needed for fpylll to build/work on Cygwin.  Rebased on #20692 which I'm making a dependency of this ticket, just so I don't have to rebase *that* branch again.  This ticket can wait on #20692.",
    "created_at": "2016-10-14T12:54:44Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321284",
    "user": "https://github.com/embray"
}
```

<a id='comment:14'></a>
Added additional patch needed for fpylll to build/work on Cygwin.  Rebased on #20692 which I'm making a dependency of this ticket, just so I don't have to rebase *that* branch again.  This ticket can wait on #20692.



---

archive/issue_comments_321285.json:
```json
{
    "body": "**Changing upstream** from \"Reported upstream. Developers acknowledge bug.\" to \"Fixed upstream, but not in a stable release.\".",
    "created_at": "2016-10-14T12:54:53Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321285",
    "user": "https://github.com/embray"
}
```

**Changing upstream** from "Reported upstream. Developers acknowledge bug." to "Fixed upstream, but not in a stable release.".



---

archive/issue_comments_321286.json:
```json
{
    "body": "<a id='comment:16'></a>\ndoes not merge with 7.5.rc2",
    "created_at": "2017-01-08T06:34:29Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321286",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:16'></a>
does not merge with 7.5.rc2



---

archive/issue_events_194224.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2017-01-08T06:34:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194224"
}
```



---

archive/issue_events_194225.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2017-01-08T06:34:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194225"
}
```



---

archive/issue_comments_321287.json:
```json
{
    "body": "<a id='comment:17'></a>\nHm, I wouldn't complain but this one never even got a review.",
    "created_at": "2017-01-09T09:00:26Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321287",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'></a>
Hm, I wouldn't complain but this one never even got a review.



---

archive/issue_comments_321288.json:
```json
{
    "body": "<a id='comment:18'></a>\nPlease update the branch and I'll review it.",
    "created_at": "2017-01-26T07:54:00Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321288",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:18'></a>
Please update the branch and I'll review it.



---

archive/issue_comments_321289.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1517ea7830e7a2542c3069239e5bbcbf248dc342\">1517ea7</a></td><td><code>Fix issues with building fplll 5.x on Cygwin as reported in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24abf0de4ae3d30a6c89d1107b08a51ff0431645\">24abf0d</a></td><td><code>Add patch for fpylll that addresses the build failure on Cygwin</code></td></tr></table>\n",
    "created_at": "2017-01-26T09:54:25Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321289",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1517ea7830e7a2542c3069239e5bbcbf248dc342">1517ea7</a></td><td><code>Fix issues with building fplll 5.x on Cygwin as reported in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24abf0de4ae3d30a6c89d1107b08a51ff0431645">24abf0d</a></td><td><code>Add patch for fpylll that addresses the build failure on Cygwin</code></td></tr></table>




---

archive/issue_comments_321290.json:
```json
{
    "body": "**Changing commit** from \"[855752d71251de0de76be1c7a4cb08044a183721](https://github.com/sagemath/sagetrac-mirror/commit/855752d71251de0de76be1c7a4cb08044a183721)\" to \"[24abf0de4ae3d30a6c89d1107b08a51ff0431645](https://github.com/sagemath/sagetrac-mirror/commit/24abf0de4ae3d30a6c89d1107b08a51ff0431645)\".",
    "created_at": "2017-01-26T09:54:25Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321290",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[855752d71251de0de76be1c7a4cb08044a183721](https://github.com/sagemath/sagetrac-mirror/commit/855752d71251de0de76be1c7a4cb08044a183721)" to "[24abf0de4ae3d30a6c89d1107b08a51ff0431645](https://github.com/sagemath/sagetrac-mirror/commit/24abf0de4ae3d30a6c89d1107b08a51ff0431645)".



---

archive/issue_comments_321291.json:
```json
{
    "body": "<a id='comment:20'></a>\nRebased.",
    "created_at": "2017-01-26T09:55:20Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321291",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'></a>
Rebased.



---

archive/issue_events_194226.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-01-26T09:55:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194226"
}
```



---

archive/issue_events_194227.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-01-26T09:55:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194227"
}
```



---

archive/issue_events_194228.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2017-01-26T10:00:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194228"
}
```



---

archive/issue_events_194229.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2017-01-26T10:00:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194229"
}
```



---

archive/issue_comments_321292.json:
```json
{
    "body": "<a id='comment:21'></a>\nLooks ok to me.\nI trust Erik tested it properly.",
    "created_at": "2017-01-26T10:00:36Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321292",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:21'></a>
Looks ok to me.
I trust Erik tested it properly.



---

archive/issue_comments_321293.json:
```json
{
    "body": "**Reviewer:** Jean-Pierre Flori",
    "created_at": "2017-01-26T10:00:36Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321293",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Reviewer:** Jean-Pierre Flori



---

archive/issue_events_194230.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-28T17:25:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194230"
}
```



---

archive/issue_events_194231.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-28T17:25:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194231"
}
```



---

archive/issue_comments_321294.json:
```json
{
    "body": "<a id='comment:22'></a>\n\n```\nApplying ../patches/ticket-21690.patch\npatching file setup.py\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n1 out of 1 hunk ignored -- saving rejects to file setup.py.rej\npatching file src/fpylll/config.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n1 out of 1 hunk ignored -- saving rejects to file src/fpylll/config.pyx.rej\npatching file src/fpylll/fplll/bkz.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n16 out of 16 hunks ignored -- saving rejects to file src/fpylll/fplll/bkz.pyx.rej\npatching file src/fpylll/fplll/decl.pxd\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n1 out of 1 hunk ignored -- saving rejects to file src/fpylll/fplll/decl.pxd.rej\npatching file src/fpylll/fplll/enumeration.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n8 out of 8 hunks ignored -- saving rejects to file src/fpylll/fplll/enumeration.pyx.rej\npatching file src/fpylll/fplll/gso.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n30 out of 30 hunks ignored -- saving rejects to file src/fpylll/fplll/gso.pyx.rej\npatching file src/fpylll/fplll/lll.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n9 out of 9 hunks ignored -- saving rejects to file src/fpylll/fplll/lll.pyx.rej\npatching file src/fpylll/fplll/pruner.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n3 out of 3 hunks ignored -- saving rejects to file src/fpylll/fplll/pruner.pyx.rej\npatching file src/fpylll/numpy.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n2 out of 2 hunks ignored -- saving rejects to file src/fpylll/numpy.pyx.rej\npatching file src/fpylll/util.pyx\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n1 out of 1 hunk ignored -- saving rejects to file src/fpylll/util.pyx.rej\nError applying '../patches/ticket-21690.patch'\n```",
    "created_at": "2017-01-28T17:25:22Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321294",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>

```
Applying ../patches/ticket-21690.patch
patching file setup.py
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
1 out of 1 hunk ignored -- saving rejects to file setup.py.rej
patching file src/fpylll/config.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
1 out of 1 hunk ignored -- saving rejects to file src/fpylll/config.pyx.rej
patching file src/fpylll/fplll/bkz.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
16 out of 16 hunks ignored -- saving rejects to file src/fpylll/fplll/bkz.pyx.rej
patching file src/fpylll/fplll/decl.pxd
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
1 out of 1 hunk ignored -- saving rejects to file src/fpylll/fplll/decl.pxd.rej
patching file src/fpylll/fplll/enumeration.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
8 out of 8 hunks ignored -- saving rejects to file src/fpylll/fplll/enumeration.pyx.rej
patching file src/fpylll/fplll/gso.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
30 out of 30 hunks ignored -- saving rejects to file src/fpylll/fplll/gso.pyx.rej
patching file src/fpylll/fplll/lll.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
9 out of 9 hunks ignored -- saving rejects to file src/fpylll/fplll/lll.pyx.rej
patching file src/fpylll/fplll/pruner.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
3 out of 3 hunks ignored -- saving rejects to file src/fpylll/fplll/pruner.pyx.rej
patching file src/fpylll/numpy.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
2 out of 2 hunks ignored -- saving rejects to file src/fpylll/numpy.pyx.rej
patching file src/fpylll/util.pyx
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
1 out of 1 hunk ignored -- saving rejects to file src/fpylll/util.pyx.rej
Error applying '../patches/ticket-21690.patch'
```



---

archive/issue_comments_321295.json:
```json
{
    "body": "<a id='comment:23'></a>\nUm, this obviously used to work.  Was the fpylll package updated?",
    "created_at": "2017-01-30T11:04:08Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321295",
    "user": "https://github.com/embray"
}
```

<a id='comment:23'></a>
Um, this obviously used to work.  Was the fpylll package updated?



---

archive/issue_comments_321296.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:",
    "created_at": "2017-01-30T11:08:43Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321296",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:



---

archive/issue_comments_321297.json:
```json
{
    "body": "**Changing commit** from \"[24abf0de4ae3d30a6c89d1107b08a51ff0431645](https://github.com/sagemath/sagetrac-mirror/commit/24abf0de4ae3d30a6c89d1107b08a51ff0431645)\" to \"[1517ea7830e7a2542c3069239e5bbcbf248dc342](https://github.com/sagemath/sagetrac-mirror/commit/1517ea7830e7a2542c3069239e5bbcbf248dc342)\".",
    "created_at": "2017-01-30T11:08:43Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321297",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[24abf0de4ae3d30a6c89d1107b08a51ff0431645](https://github.com/sagemath/sagetrac-mirror/commit/24abf0de4ae3d30a6c89d1107b08a51ff0431645)" to "[1517ea7830e7a2542c3069239e5bbcbf248dc342](https://github.com/sagemath/sagetrac-mirror/commit/1517ea7830e7a2542c3069239e5bbcbf248dc342)".



---

archive/issue_comments_321298.json:
```json
{
    "body": "<a id='comment:25'></a>\nUpdated the branch to drop to patch for fpylll since it is no longer needed since the fpylll version was bumped in #21728.",
    "created_at": "2017-01-30T11:11:32Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321298",
    "user": "https://github.com/embray"
}
```

<a id='comment:25'></a>
Updated the branch to drop to patch for fpylll since it is no longer needed since the fpylll version was bumped in #21728.



---

archive/issue_events_194232.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-01-30T11:11:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194232"
}
```



---

archive/issue_events_194233.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-01-30T11:11:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194233"
}
```



---

archive/issue_events_194234.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2017-02-13T09:48:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194234"
}
```



---

archive/issue_events_194235.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2017-02-13T09:48:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194235"
}
```



---

archive/issue_events_194236.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-16T22:28:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194236"
}
```



---

archive/issue_events_194237.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-16T22:28:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21690#event-194237"
}
```



---

archive/issue_comments_321299.json:
```json
{
    "body": "**Changing branch** from \"[u/embray/cygwin/ticket-21690](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/ticket-21690)\" to \"[1517ea7830e7a2542c3069239e5bbcbf248dc342](https://github.com/sagemath/sagetrac-mirror/commit/1517ea7830e7a2542c3069239e5bbcbf248dc342)\".",
    "created_at": "2017-02-16T22:28:27Z",
    "issue": "https://github.com/sagemath/sage/issues/21690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21690#issuecomment-321299",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/embray/cygwin/ticket-21690](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/ticket-21690)" to "[1517ea7830e7a2542c3069239e5bbcbf248dc342](https://github.com/sagemath/sagetrac-mirror/commit/1517ea7830e7a2542c3069239e5bbcbf248dc342)".
