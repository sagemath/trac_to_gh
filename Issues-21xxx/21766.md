# Issue 21766: py3-compatible way to sort monomials

archive/issues_021529.json:
```json
{
    "body": "currently using a cmp, we need to switch to sorting using a key\n\nmay not be entirely obvious\n\nCC:  @jdemeyer @tscrim @a-andre\n\nBranch: [b67b06bcaa4772ee1ebdd93bc094b8025711f3aa](https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa)\n\nReviewer: Travis Scrimshaw\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21766\n\n",
    "closed_at": "2016-11-09T18:16:15Z",
    "created_at": "2016-10-25T14:08:35Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "py3-compatible way to sort monomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21766",
    "user": "https://github.com/fchapoton"
}
```
currently using a cmp, we need to switch to sorting using a key

may not be entirely obvious

CC:  @jdemeyer @tscrim @a-andre

Branch: [b67b06bcaa4772ee1ebdd93bc094b8025711f3aa](https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa)

Reviewer: Travis Scrimshaw

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21766





---

archive/issue_comments_404459.json:
```json
{
    "body": "Changing commit from \"\" to \"56f0788ee16c7fc2a33c41fe6259de6c897f249d\"",
    "created_at": "2016-10-25T14:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404459",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "56f0788ee16c7fc2a33c41fe6259de6c897f249d"



---

archive/issue_comments_404460.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[ee0e488](https://github.com/sagemath/sagetrac-mirror/commit/ee0e4880dab823e637fdace3c80c051164ca69d9)|`introducing sortkey to sort monomials (first steps)`|\n|[56f0788](https://github.com/sagemath/sagetrac-mirror/commit/56f0788ee16c7fc2a33c41fe6259de6c897f249d)|`one detail`|",
    "created_at": "2016-10-25T14:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404460",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[ee0e488](https://github.com/sagemath/sagetrac-mirror/commit/ee0e4880dab823e637fdace3c80c051164ca69d9)|`introducing sortkey to sort monomials (first steps)`|
|[56f0788](https://github.com/sagemath/sagetrac-mirror/commit/56f0788ee16c7fc2a33c41fe6259de6c897f249d)|`one detail`|



---

archive/issue_comments_404461.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/21766\"",
    "created_at": "2016-10-25T14:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404461",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/21766"



---

archive/issue_comments_404462.json:
```json
{
    "body": "Changing commit from \"56f0788ee16c7fc2a33c41fe6259de6c897f249d\" to \"65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc\"",
    "created_at": "2016-10-26T19:08:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404462",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "56f0788ee16c7fc2a33c41fe6259de6c897f249d" to "65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc"



---

archive/issue_comments_404463.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[65856bb](https://github.com/sagemath/sagetrac-mirror/commit/65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc)|`trac 21766 hopefully better keys to sort polynomials`|",
    "created_at": "2016-10-26T19:08:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404463",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[65856bb](https://github.com/sagemath/sagetrac-mirror/commit/65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc)|`trac 21766 hopefully better keys to sort polynomials`|



---

archive/issue_comments_404464.json:
```json
{
    "body": "<a id='comment:3'></a>\nI now get the following surprising behaviour:\n\n```\nsage: T.<a,b> = PowerSeriesRing(ZZ,2)\nsage: f = a + b + a*b + T.O(3)\nsage: f\na + b + a*b + O(a, b)^3\nsage: f.change_ring(QQ)\na + b + a*b + O(a, b)^3\nsage: f.change_ring(RR)\na*b + b + a + O(a, b)^3\n```\nDoes anybody have any idea why ?",
    "created_at": "2016-10-27T20:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404464",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
I now get the following surprising behaviour:

```
sage: T.<a,b> = PowerSeriesRing(ZZ,2)
sage: f = a + b + a*b + T.O(3)
sage: f
a + b + a*b + O(a, b)^3
sage: f.change_ring(QQ)
a + b + a*b + O(a, b)^3
sage: f.change_ring(RR)
a*b + b + a + O(a, b)^3
```
Does anybody have any idea why ?



---

archive/issue_comments_404465.json:
```json
{
    "body": "Changing commit from \"65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc\" to \"97902c27608772377d3a102e4ace7724e4cef7f6\"",
    "created_at": "2016-10-27T20:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404465",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc" to "97902c27608772377d3a102e4ace7724e4cef7f6"



---

archive/issue_comments_404466.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[97902c2](https://github.com/sagemath/sagetrac-mirror/commit/97902c27608772377d3a102e4ace7724e4cef7f6)|`trac 21766 handling the case of Laurent polys`|",
    "created_at": "2016-10-27T20:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404466",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[97902c2](https://github.com/sagemath/sagetrac-mirror/commit/97902c27608772377d3a102e4ace7724e4cef7f6)|`trac 21766 handling the case of Laurent polys`|



---

archive/issue_comments_404467.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis does not come from the change_ring:\n\n```\nsage: T.<a,b> = PowerSeriesRing(RDF,2)\nsage: f = a + b + a*b + T.O(3)\nsage: f\na*b + b + a + O(a, b)^3\n```",
    "created_at": "2016-10-30T15:13:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404467",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
This does not come from the change_ring:

```
sage: T.<a,b> = PowerSeriesRing(RDF,2)
sage: f = a + b + a*b + T.O(3)
sage: f
a*b + b + a + O(a, b)^3
```



---

archive/issue_comments_404468.json:
```json
{
    "body": "Changing commit from \"97902c27608772377d3a102e4ace7724e4cef7f6\" to \"cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d\"",
    "created_at": "2016-10-30T17:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404468",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "97902c27608772377d3a102e4ace7724e4cef7f6" to "cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d"



---

archive/issue_comments_404469.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|\n|[cc4504c](https://github.com/sagemath/sagetrac-mirror/commit/cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d)|`trac 21766 going deeper into sorting of monomials and polynomials`|",
    "created_at": "2016-10-30T17:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404469",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
|[cc4504c](https://github.com/sagemath/sagetrac-mirror/commit/cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d)|`trac 21766 going deeper into sorting of monomials and polynomials`|



---

archive/issue_comments_404470.json:
```json
{
    "body": "Changing commit from \"cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d\" to \"4d52ce2a8666fe17c9863f8fe234959a364dae95\"",
    "created_at": "2016-10-30T17:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404470",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d" to "4d52ce2a8666fe17c9863f8fe234959a364dae95"



---

archive/issue_comments_404471.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[4d52ce2](https://github.com/sagemath/sagetrac-mirror/commit/4d52ce2a8666fe17c9863f8fe234959a364dae95)|`trac 21766 details for compilation`|",
    "created_at": "2016-10-30T17:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404471",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[4d52ce2](https://github.com/sagemath/sagetrac-mirror/commit/4d52ce2a8666fe17c9863f8fe234959a364dae95)|`trac 21766 details for compilation`|



---

archive/issue_comments_404472.json:
```json
{
    "body": "Changing commit from \"4d52ce2a8666fe17c9863f8fe234959a364dae95\" to \"4d86358ad3256a2fc00c2c1dee363c1c1ca4920f\"",
    "created_at": "2016-10-30T20:08:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404472",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4d52ce2a8666fe17c9863f8fe234959a364dae95" to "4d86358ad3256a2fc00c2c1dee363c1c1ca4920f"



---

archive/issue_comments_404473.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n|[4d86358](https://github.com/sagemath/sagetrac-mirror/commit/4d86358ad3256a2fc00c2c1dee363c1c1ca4920f)|`trac 21776 moving indirect documentation to new sortkey methods`|",
    "created_at": "2016-10-30T20:08:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404473",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
|[4d86358](https://github.com/sagemath/sagetrac-mirror/commit/4d86358ad3256a2fc00c2c1dee363c1c1ca4920f)|`trac 21776 moving indirect documentation to new sortkey methods`|



---

archive/issue_comments_404474.json:
```json
{
    "body": "Changing commit from \"4d86358ad3256a2fc00c2c1dee363c1c1ca4920f\" to \"ca8cf38db9e73bc096e89473e791c519afdd3bcf\"",
    "created_at": "2016-10-31T08:12:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404474",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4d86358ad3256a2fc00c2c1dee363c1c1ca4920f" to "ca8cf38db9e73bc096e89473e791c519afdd3bcf"



---

archive/issue_comments_404475.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[ca8cf38](https://github.com/sagemath/sagetrac-mirror/commit/ca8cf38db9e73bc096e89473e791c519afdd3bcf)|`trac 21766 fixing two name typos`|",
    "created_at": "2016-10-31T08:12:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404475",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[ca8cf38](https://github.com/sagemath/sagetrac-mirror/commit/ca8cf38db9e73bc096e89473e791c519afdd3bcf)|`trac 21766 fixing two name typos`|



---

archive/issue_comments_404476.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-10-31T13:02:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404476",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_404477.json:
```json
{
    "body": "<a id='comment:10'></a>\ngreen bot !",
    "created_at": "2016-10-31T13:02:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404477",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
green bot !



---

archive/issue_comments_404478.json:
```json
{
    "body": "<a id='comment:11'></a>\nFor all of the `compare` methods, do we want to deprecate them?",
    "created_at": "2016-10-31T13:48:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404478",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
For all of the `compare` methods, do we want to deprecate them?



---

archive/issue_comments_404479.json:
```json
{
    "body": "<a id='comment:12'></a>\ntwo possibilities: remove them all, or deprecate them all. After this ticket, they will no longer be used anywhere in sage.\n\nI would rather choose removal, but I know that this breaks the rules.",
    "created_at": "2016-10-31T14:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404479",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
two possibilities: remove them all, or deprecate them all. After this ticket, they will no longer be used anywhere in sage.

I would rather choose removal, but I know that this breaks the rules.



---

archive/issue_comments_404480.json:
```json
{
    "body": "Changing commit from \"ca8cf38db9e73bc096e89473e791c519afdd3bcf\" to \"c1ed8901efc17a5fabf6341f4330bac3614e4615\"",
    "created_at": "2016-11-06T08:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404480",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ca8cf38db9e73bc096e89473e791c519afdd3bcf" to "c1ed8901efc17a5fabf6341f4330bac3614e4615"



---

archive/issue_comments_404481.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[3a044d7](https://github.com/sagemath/sagetrac-mirror/commit/3a044d7538f0b81502083dfef5f6c1cee424a54f)|`Merge branch 'u/chapoton/21766' in 7.5.b1`|\n|[c1ed890](https://github.com/sagemath/sagetrac-mirror/commit/c1ed8901efc17a5fabf6341f4330bac3614e4615)|`trac 21766 proper deprecation`|",
    "created_at": "2016-11-06T08:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404481",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[3a044d7](https://github.com/sagemath/sagetrac-mirror/commit/3a044d7538f0b81502083dfef5f6c1cee424a54f)|`Merge branch 'u/chapoton/21766' in 7.5.b1`|
|[c1ed890](https://github.com/sagemath/sagetrac-mirror/commit/c1ed8901efc17a5fabf6341f4330bac3614e4615)|`trac 21766 proper deprecation`|



---

archive/issue_comments_404482.json:
```json
{
    "body": "<a id='comment:14'></a>\nI have introduced the proper deprecations. This may affect a few doctests.",
    "created_at": "2016-11-06T08:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404482",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
I have introduced the proper deprecations. This may affect a few doctests.



---

archive/issue_comments_404483.json:
```json
{
    "body": "<a id='comment:15'></a>\nSorry, I lost track of this, I had meant to respond. However, I agree that we probably should deprecate them since they are publically reachable. Thanks.",
    "created_at": "2016-11-06T14:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404483",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
Sorry, I lost track of this, I had meant to respond. However, I agree that we probably should deprecate them since they are publically reachable. Thanks.



---

archive/issue_comments_404484.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2016-11-06T14:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404484",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_404485.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-11-06T14:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404485",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_404486.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-11-07T19:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404486",
    "user": "https://github.com/fchapoton"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_404487.json:
```json
{
    "body": "<a id='comment:16'></a>\none failing doctest",
    "created_at": "2016-11-07T19:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404487",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
one failing doctest



---

archive/issue_comments_404488.json:
```json
{
    "body": "Changing commit from \"c1ed8901efc17a5fabf6341f4330bac3614e4615\" to \"b67b06bcaa4772ee1ebdd93bc094b8025711f3aa\"",
    "created_at": "2016-11-07T20:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404488",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c1ed8901efc17a5fabf6341f4330bac3614e4615" to "b67b06bcaa4772ee1ebdd93bc094b8025711f3aa"



---

archive/issue_comments_404489.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[b67b06b](https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa)|`trac 21766 removing last use of compare_tuples`|",
    "created_at": "2016-11-07T20:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404489",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[b67b06b](https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa)|`trac 21766 removing last use of compare_tuples`|



---

archive/issue_comments_404490.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2016-11-07T22:05:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404490",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_404491.json:
```json
{
    "body": "<a id='comment:19'></a>\n\n```\nsage -t --long src/sage/rings/polynomial/term_order.py\n**********************************************************************\nFile \"src/sage/rings/polynomial/term_order.py\", line 1542, in sage.rings.polynomial.term_order.TermOrder.greater_tuple_neglex\nFailed example:\n    f = a + c^4; f.lm() # indirect doctest\nExpected:\n    c^4\nGot:\n    doctest:warning\n      File \"/home/sage/patchbot/sage/src/bin/sage-runtests\", line 89, in <module>\n        err = DC.run()\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 1130, in run\n        self.run_doctests()\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 854, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1700, in dispatch\n        self.parallel_dispatch()\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1590, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1866, in start\n        super(DocTestWorker, self).start()\n      File \"/home/sage/patchbot/sage/local/lib/python/multiprocessing/process.py\", line 130, in start\n        self._popen = Popen(self)\n      File \"/home/sage/patchbot/sage/local/lib/python/multiprocessing/forking.py\", line 126, in __init__\n        code = process_obj._bootstrap()\n      File \"/home/sage/patchbot/sage/local/lib/python/multiprocessing/process.py\", line 258, in _bootstrap\n        self.run()\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1839, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2132, in __call__\n        runner.run(test)\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 636, in run\n        return self._run(test, compileflags, out)\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.polynomial.term_order.TermOrder.greater_tuple_neglex[1]>\", line 1, in <module>\n        f = a + c**Integer(4); f.lm() # indirect doctest\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_element.py\", line 1387, in lm\n        f = self._MPolynomial_element__element.lcmt( R.term_order().greater_tuple )\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/term_order.py\", line 1685, in greater_tuple_block\n        r = getattr(block,\"compare_tuples_\" + block.name())(f[n:n+len(block)],g[n:n+len(block)])\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/term_order.py\", line 982, in compare_tuples_degrevlex\n        deprecation(21766, 'sorting of polynomials now uses sortkey instead')\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py\", line 100, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py\", line 141, in warning\n        warn(message, warning_class, stacklevel)\n    :\n    DeprecationWarning: sorting of polynomials now uses sortkey instead\n    See http://trac.sagemath.org/21766 for details.\n    c^4\n**********************************************************************\n1 item had failures:\n   1 of   4 in sage.rings.polynomial.term_order.TermOrder.greater_tuple_neglex\n    [308 tests, 1 failure, 0.68 s]\n```",
    "created_at": "2016-11-07T23:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404491",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'></a>

```
sage -t --long src/sage/rings/polynomial/term_order.py
**********************************************************************
File "src/sage/rings/polynomial/term_order.py", line 1542, in sage.rings.polynomial.term_order.TermOrder.greater_tuple_neglex
Failed example:
    f = a + c^4; f.lm() # indirect doctest
Expected:
    c^4
Got:
    doctest:warning
      File "/home/sage/patchbot/sage/src/bin/sage-runtests", line 89, in <module>
        err = DC.run()
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/control.py", line 1130, in run
        self.run_doctests()
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/control.py", line 854, in run_doctests
        self.dispatcher.dispatch()
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1700, in dispatch
        self.parallel_dispatch()
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1590, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1866, in start
        super(DocTestWorker, self).start()
      File "/home/sage/patchbot/sage/local/lib/python/multiprocessing/process.py", line 130, in start
        self._popen = Popen(self)
      File "/home/sage/patchbot/sage/local/lib/python/multiprocessing/forking.py", line 126, in __init__
        code = process_obj._bootstrap()
      File "/home/sage/patchbot/sage/local/lib/python/multiprocessing/process.py", line 258, in _bootstrap
        self.run()
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1839, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2132, in __call__
        runner.run(test)
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 636, in run
        return self._run(test, compileflags, out)
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.polynomial.term_order.TermOrder.greater_tuple_neglex[1]>", line 1, in <module>
        f = a + c**Integer(4); f.lm() # indirect doctest
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_element.py", line 1387, in lm
        f = self._MPolynomial_element__element.lcmt( R.term_order().greater_tuple )
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/term_order.py", line 1685, in greater_tuple_block
        r = getattr(block,"compare_tuples_" + block.name())(f[n:n+len(block)],g[n:n+len(block)])
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/term_order.py", line 982, in compare_tuples_degrevlex
        deprecation(21766, 'sorting of polynomials now uses sortkey instead')
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py", line 100, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py", line 141, in warning
        warn(message, warning_class, stacklevel)
    :
    DeprecationWarning: sorting of polynomials now uses sortkey instead
    See http://trac.sagemath.org/21766 for details.
    c^4
**********************************************************************
1 item had failures:
   1 of   4 in sage.rings.polynomial.term_order.TermOrder.greater_tuple_neglex
    [308 tests, 1 failure, 0.68 s]
```



---

archive/issue_comments_404492.json:
```json
{
    "body": "<a id='comment:20'></a>\nFr\u00e9d\u00e9ric took care of this on the last commit.",
    "created_at": "2016-11-08T02:56:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404492",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>
Frédéric took care of this on the last commit.



---

archive/issue_comments_404493.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-11-09T18:16:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404493",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_065482.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-09T18:16:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21766#event-65482"
}
```



---

archive/issue_comments_404494.json:
```json
{
    "body": "Changing branch from \"u/chapoton/21766\" to \"b67b06bcaa4772ee1ebdd93bc094b8025711f3aa\"",
    "created_at": "2016-11-09T18:16:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404494",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/21766" to "b67b06bcaa4772ee1ebdd93bc094b8025711f3aa"



---

archive/issue_comments_404495.json:
```json
{
    "body": "<a id='comment:22'></a>\nfollowup in #24409",
    "created_at": "2017-12-20T14:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404495",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>
followup in #24409



---

archive/issue_comments_404496.json:
```json
{
    "body": "Changing commit from \"b67b06bcaa4772ee1ebdd93bc094b8025711f3aa\" to \"\"",
    "created_at": "2017-12-20T14:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-404496",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "b67b06bcaa4772ee1ebdd93bc094b8025711f3aa" to ""
