# Issue 21766: py3-compatible way to sort monomials

archive/issues_021529.json:
```json
{
    "body": "currently using a cmp, we need to switch to sorting using a key\n\nmay not be entirely obvious\n\n**CC:**  @jdemeyer @tscrim @a-andre\n\n**Branch:** [b67b06bcaa4772ee1ebdd93bc094b8025711f3aa](https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/21766\n\n",
    "closed_at": "2016-11-09T18:16:15Z",
    "created_at": "2016-10-25T14:08:35Z",
    "labels": [
        "component: python3",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "py3-compatible way to sort monomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21766",
    "user": "https://github.com/fchapoton"
}
```
currently using a cmp, we need to switch to sorting using a key

may not be entirely obvious

**CC:**  @jdemeyer @tscrim @a-andre

**Branch:** [b67b06bcaa4772ee1ebdd93bc094b8025711f3aa](https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa)

**Reviewer:** Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/21766





---

archive/issue_comments_324071.json:
```json
{
    "body": "**Commit:** [56f0788ee16c7fc2a33c41fe6259de6c897f249d](https://github.com/sagemath/sagetrac-mirror/commit/56f0788ee16c7fc2a33c41fe6259de6c897f249d)",
    "created_at": "2016-10-25T14:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324071",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [56f0788ee16c7fc2a33c41fe6259de6c897f249d](https://github.com/sagemath/sagetrac-mirror/commit/56f0788ee16c7fc2a33c41fe6259de6c897f249d)



---

archive/issue_comments_324072.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee0e4880dab823e637fdace3c80c051164ca69d9\">ee0e488</a></td><td><code>introducing sortkey to sort monomials (first steps)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56f0788ee16c7fc2a33c41fe6259de6c897f249d\">56f0788</a></td><td><code>one detail</code></td></tr></table>\n",
    "created_at": "2016-10-25T14:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324072",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee0e4880dab823e637fdace3c80c051164ca69d9">ee0e488</a></td><td><code>introducing sortkey to sort monomials (first steps)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56f0788ee16c7fc2a33c41fe6259de6c897f249d">56f0788</a></td><td><code>one detail</code></td></tr></table>




---

archive/issue_comments_324073.json:
```json
{
    "body": "**Branch:** [u/chapoton/21766](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21766)",
    "created_at": "2016-10-25T14:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324073",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/21766](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21766)



---

archive/issue_comments_324074.json:
```json
{
    "body": "**Changing commit** from \"[56f0788ee16c7fc2a33c41fe6259de6c897f249d](https://github.com/sagemath/sagetrac-mirror/commit/56f0788ee16c7fc2a33c41fe6259de6c897f249d)\" to \"[65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc](https://github.com/sagemath/sagetrac-mirror/commit/65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc)\".",
    "created_at": "2016-10-26T19:08:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324074",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[56f0788ee16c7fc2a33c41fe6259de6c897f249d](https://github.com/sagemath/sagetrac-mirror/commit/56f0788ee16c7fc2a33c41fe6259de6c897f249d)" to "[65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc](https://github.com/sagemath/sagetrac-mirror/commit/65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc)".



---

archive/issue_comments_324075.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc\">65856bb</a></td><td><code>trac 21766 hopefully better keys to sort polynomials</code></td></tr></table>\n",
    "created_at": "2016-10-26T19:08:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324075",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc">65856bb</a></td><td><code>trac 21766 hopefully better keys to sort polynomials</code></td></tr></table>




---

archive/issue_comments_324076.json:
```json
{
    "body": "<a id='comment:3'></a>\nI now get the following surprising behaviour:\n\n```\nsage: T.<a,b> = PowerSeriesRing(ZZ,2)\nsage: f = a + b + a*b + T.O(3)\nsage: f\na + b + a*b + O(a, b)^3\nsage: f.change_ring(QQ)\na + b + a*b + O(a, b)^3\nsage: f.change_ring(RR)\na*b + b + a + O(a, b)^3\n```\nDoes anybody have any idea why ?",
    "created_at": "2016-10-27T20:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324076",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
I now get the following surprising behaviour:

```
sage: T.<a,b> = PowerSeriesRing(ZZ,2)
sage: f = a + b + a*b + T.O(3)
sage: f
a + b + a*b + O(a, b)^3
sage: f.change_ring(QQ)
a + b + a*b + O(a, b)^3
sage: f.change_ring(RR)
a*b + b + a + O(a, b)^3
```
Does anybody have any idea why ?



---

archive/issue_comments_324077.json:
```json
{
    "body": "**Changing commit** from \"[65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc](https://github.com/sagemath/sagetrac-mirror/commit/65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc)\" to \"[97902c27608772377d3a102e4ace7724e4cef7f6](https://github.com/sagemath/sagetrac-mirror/commit/97902c27608772377d3a102e4ace7724e4cef7f6)\".",
    "created_at": "2016-10-27T20:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324077",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc](https://github.com/sagemath/sagetrac-mirror/commit/65856bb8c59e0e0d7e1e13c8ae2debde0d700fcc)" to "[97902c27608772377d3a102e4ace7724e4cef7f6](https://github.com/sagemath/sagetrac-mirror/commit/97902c27608772377d3a102e4ace7724e4cef7f6)".



---

archive/issue_comments_324078.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97902c27608772377d3a102e4ace7724e4cef7f6\">97902c2</a></td><td><code>trac 21766 handling the case of Laurent polys</code></td></tr></table>\n",
    "created_at": "2016-10-27T20:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324078",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97902c27608772377d3a102e4ace7724e4cef7f6">97902c2</a></td><td><code>trac 21766 handling the case of Laurent polys</code></td></tr></table>




---

archive/issue_comments_324079.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis does not come from the change_ring:\n\n```\nsage: T.<a,b> = PowerSeriesRing(RDF,2)\nsage: f = a + b + a*b + T.O(3)\nsage: f\na*b + b + a + O(a, b)^3\n```",
    "created_at": "2016-10-30T15:13:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324079",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
This does not come from the change_ring:

```
sage: T.<a,b> = PowerSeriesRing(RDF,2)
sage: f = a + b + a*b + T.O(3)
sage: f
a*b + b + a + O(a, b)^3
```



---

archive/issue_comments_324080.json:
```json
{
    "body": "**Changing commit** from \"[97902c27608772377d3a102e4ace7724e4cef7f6](https://github.com/sagemath/sagetrac-mirror/commit/97902c27608772377d3a102e4ace7724e4cef7f6)\" to \"[cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d](https://github.com/sagemath/sagetrac-mirror/commit/cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d)\".",
    "created_at": "2016-10-30T17:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[97902c27608772377d3a102e4ace7724e4cef7f6](https://github.com/sagemath/sagetrac-mirror/commit/97902c27608772377d3a102e4ace7724e4cef7f6)" to "[cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d](https://github.com/sagemath/sagetrac-mirror/commit/cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d)".



---

archive/issue_comments_324081.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d\">cc4504c</a></td><td><code>trac 21766 going deeper into sorting of monomials and polynomials</code></td></tr></table>\n",
    "created_at": "2016-10-30T17:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324081",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d">cc4504c</a></td><td><code>trac 21766 going deeper into sorting of monomials and polynomials</code></td></tr></table>




---

archive/issue_comments_324082.json:
```json
{
    "body": "**Changing commit** from \"[cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d](https://github.com/sagemath/sagetrac-mirror/commit/cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d)\" to \"[4d52ce2a8666fe17c9863f8fe234959a364dae95](https://github.com/sagemath/sagetrac-mirror/commit/4d52ce2a8666fe17c9863f8fe234959a364dae95)\".",
    "created_at": "2016-10-30T17:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324082",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d](https://github.com/sagemath/sagetrac-mirror/commit/cc4504c0a5c3769a0c5c6e0d8fcbd9f4771cd98d)" to "[4d52ce2a8666fe17c9863f8fe234959a364dae95](https://github.com/sagemath/sagetrac-mirror/commit/4d52ce2a8666fe17c9863f8fe234959a364dae95)".



---

archive/issue_comments_324083.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d52ce2a8666fe17c9863f8fe234959a364dae95\">4d52ce2</a></td><td><code>trac 21766 details for compilation</code></td></tr></table>\n",
    "created_at": "2016-10-30T17:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d52ce2a8666fe17c9863f8fe234959a364dae95">4d52ce2</a></td><td><code>trac 21766 details for compilation</code></td></tr></table>




---

archive/issue_comments_324084.json:
```json
{
    "body": "**Changing commit** from \"[4d52ce2a8666fe17c9863f8fe234959a364dae95](https://github.com/sagemath/sagetrac-mirror/commit/4d52ce2a8666fe17c9863f8fe234959a364dae95)\" to \"[4d86358ad3256a2fc00c2c1dee363c1c1ca4920f](https://github.com/sagemath/sagetrac-mirror/commit/4d86358ad3256a2fc00c2c1dee363c1c1ca4920f)\".",
    "created_at": "2016-10-30T20:08:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4d52ce2a8666fe17c9863f8fe234959a364dae95](https://github.com/sagemath/sagetrac-mirror/commit/4d52ce2a8666fe17c9863f8fe234959a364dae95)" to "[4d86358ad3256a2fc00c2c1dee363c1c1ca4920f](https://github.com/sagemath/sagetrac-mirror/commit/4d86358ad3256a2fc00c2c1dee363c1c1ca4920f)".



---

archive/issue_comments_324085.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d86358ad3256a2fc00c2c1dee363c1c1ca4920f\">4d86358</a></td><td><code>trac 21776 moving indirect documentation to new sortkey methods</code></td></tr></table>\n",
    "created_at": "2016-10-30T20:08:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d86358ad3256a2fc00c2c1dee363c1c1ca4920f">4d86358</a></td><td><code>trac 21776 moving indirect documentation to new sortkey methods</code></td></tr></table>




---

archive/issue_comments_324086.json:
```json
{
    "body": "**Changing commit** from \"[4d86358ad3256a2fc00c2c1dee363c1c1ca4920f](https://github.com/sagemath/sagetrac-mirror/commit/4d86358ad3256a2fc00c2c1dee363c1c1ca4920f)\" to \"[ca8cf38db9e73bc096e89473e791c519afdd3bcf](https://github.com/sagemath/sagetrac-mirror/commit/ca8cf38db9e73bc096e89473e791c519afdd3bcf)\".",
    "created_at": "2016-10-31T08:12:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4d86358ad3256a2fc00c2c1dee363c1c1ca4920f](https://github.com/sagemath/sagetrac-mirror/commit/4d86358ad3256a2fc00c2c1dee363c1c1ca4920f)" to "[ca8cf38db9e73bc096e89473e791c519afdd3bcf](https://github.com/sagemath/sagetrac-mirror/commit/ca8cf38db9e73bc096e89473e791c519afdd3bcf)".



---

archive/issue_comments_324087.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca8cf38db9e73bc096e89473e791c519afdd3bcf\">ca8cf38</a></td><td><code>trac 21766 fixing two name typos</code></td></tr></table>\n",
    "created_at": "2016-10-31T08:12:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324087",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca8cf38db9e73bc096e89473e791c519afdd3bcf">ca8cf38</a></td><td><code>trac 21766 fixing two name typos</code></td></tr></table>




---

archive/issue_events_198514.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-10-31T13:02:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21766#event-198514"
}
```



---

archive/issue_comments_324088.json:
```json
{
    "body": "<a id='comment:10'></a>\ngreen bot !",
    "created_at": "2016-10-31T13:02:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324088",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
green bot !



---

archive/issue_comments_324089.json:
```json
{
    "body": "<a id='comment:11'></a>\nFor all of the `compare` methods, do we want to deprecate them?",
    "created_at": "2016-10-31T13:48:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324089",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
For all of the `compare` methods, do we want to deprecate them?



---

archive/issue_comments_324090.json:
```json
{
    "body": "<a id='comment:12'></a>\ntwo possibilities: remove them all, or deprecate them all. After this ticket, they will no longer be used anywhere in sage.\n\nI would rather choose removal, but I know that this breaks the rules.",
    "created_at": "2016-10-31T14:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324090",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
two possibilities: remove them all, or deprecate them all. After this ticket, they will no longer be used anywhere in sage.

I would rather choose removal, but I know that this breaks the rules.



---

archive/issue_comments_324091.json:
```json
{
    "body": "**Changing commit** from \"[ca8cf38db9e73bc096e89473e791c519afdd3bcf](https://github.com/sagemath/sagetrac-mirror/commit/ca8cf38db9e73bc096e89473e791c519afdd3bcf)\" to \"[c1ed8901efc17a5fabf6341f4330bac3614e4615](https://github.com/sagemath/sagetrac-mirror/commit/c1ed8901efc17a5fabf6341f4330bac3614e4615)\".",
    "created_at": "2016-11-06T08:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324091",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ca8cf38db9e73bc096e89473e791c519afdd3bcf](https://github.com/sagemath/sagetrac-mirror/commit/ca8cf38db9e73bc096e89473e791c519afdd3bcf)" to "[c1ed8901efc17a5fabf6341f4330bac3614e4615](https://github.com/sagemath/sagetrac-mirror/commit/c1ed8901efc17a5fabf6341f4330bac3614e4615)".



---

archive/issue_comments_324092.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a044d7538f0b81502083dfef5f6c1cee424a54f\">3a044d7</a></td><td><code>Merge branch 'u/chapoton/21766' in 7.5.b1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1ed8901efc17a5fabf6341f4330bac3614e4615\">c1ed890</a></td><td><code>trac 21766 proper deprecation</code></td></tr></table>\n",
    "created_at": "2016-11-06T08:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324092",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a044d7538f0b81502083dfef5f6c1cee424a54f">3a044d7</a></td><td><code>Merge branch 'u/chapoton/21766' in 7.5.b1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1ed8901efc17a5fabf6341f4330bac3614e4615">c1ed890</a></td><td><code>trac 21766 proper deprecation</code></td></tr></table>




---

archive/issue_comments_324093.json:
```json
{
    "body": "<a id='comment:14'></a>\nI have introduced the proper deprecations. This may affect a few doctests.",
    "created_at": "2016-11-06T08:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324093",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
I have introduced the proper deprecations. This may affect a few doctests.



---

archive/issue_comments_324094.json:
```json
{
    "body": "<a id='comment:15'></a>\nSorry, I lost track of this, I had meant to respond. However, I agree that we probably should deprecate them since they are publically reachable. Thanks.",
    "created_at": "2016-11-06T14:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324094",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
Sorry, I lost track of this, I had meant to respond. However, I agree that we probably should deprecate them since they are publically reachable. Thanks.



---

archive/issue_comments_324095.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2016-11-06T14:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324095",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_events_198515.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-06T14:17:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21766#event-198515"
}
```



---

archive/issue_events_198516.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-06T14:17:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21766#event-198516"
}
```



---

archive/issue_events_198517.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-07T19:48:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21766#event-198517"
}
```



---

archive/issue_events_198518.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-07T19:48:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21766#event-198518"
}
```



---

archive/issue_comments_324096.json:
```json
{
    "body": "<a id='comment:16'></a>\none failing doctest",
    "created_at": "2016-11-07T19:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324096",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
one failing doctest



---

archive/issue_comments_324097.json:
```json
{
    "body": "**Changing commit** from \"[c1ed8901efc17a5fabf6341f4330bac3614e4615](https://github.com/sagemath/sagetrac-mirror/commit/c1ed8901efc17a5fabf6341f4330bac3614e4615)\" to \"[b67b06bcaa4772ee1ebdd93bc094b8025711f3aa](https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa)\".",
    "created_at": "2016-11-07T20:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324097",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c1ed8901efc17a5fabf6341f4330bac3614e4615](https://github.com/sagemath/sagetrac-mirror/commit/c1ed8901efc17a5fabf6341f4330bac3614e4615)" to "[b67b06bcaa4772ee1ebdd93bc094b8025711f3aa](https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa)".



---

archive/issue_comments_324098.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa\">b67b06b</a></td><td><code>trac 21766 removing last use of compare_tuples</code></td></tr></table>\n",
    "created_at": "2016-11-07T20:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa">b67b06b</a></td><td><code>trac 21766 removing last use of compare_tuples</code></td></tr></table>




---

archive/issue_events_198519.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-07T22:05:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21766#event-198519"
}
```



---

archive/issue_events_198520.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-07T22:05:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21766#event-198520"
}
```



---

archive/issue_comments_324099.json:
```json
{
    "body": "<a id='comment:19'></a>\n\n```\nsage -t --long src/sage/rings/polynomial/term_order.py\n**********************************************************************\nFile \"src/sage/rings/polynomial/term_order.py\", line 1542, in sage.rings.polynomial.term_order.TermOrder.greater_tuple_neglex\nFailed example:\n    f = a + c^4; f.lm() # indirect doctest\nExpected:\n    c^4\nGot:\n    doctest:warning\n      File \"/home/sage/patchbot/sage/src/bin/sage-runtests\", line 89, in <module>\n        err = DC.run()\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 1130, in run\n        self.run_doctests()\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 854, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1700, in dispatch\n        self.parallel_dispatch()\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1590, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1866, in start\n        super(DocTestWorker, self).start()\n      File \"/home/sage/patchbot/sage/local/lib/python/multiprocessing/process.py\", line 130, in start\n        self._popen = Popen(self)\n      File \"/home/sage/patchbot/sage/local/lib/python/multiprocessing/forking.py\", line 126, in __init__\n        code = process_obj._bootstrap()\n      File \"/home/sage/patchbot/sage/local/lib/python/multiprocessing/process.py\", line 258, in _bootstrap\n        self.run()\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1839, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2132, in __call__\n        runner.run(test)\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 636, in run\n        return self._run(test, compileflags, out)\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.polynomial.term_order.TermOrder.greater_tuple_neglex[1]>\", line 1, in <module>\n        f = a + c**Integer(4); f.lm() # indirect doctest\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_element.py\", line 1387, in lm\n        f = self._MPolynomial_element__element.lcmt( R.term_order().greater_tuple )\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/term_order.py\", line 1685, in greater_tuple_block\n        r = getattr(block,\"compare_tuples_\" + block.name())(f[n:n+len(block)],g[n:n+len(block)])\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/term_order.py\", line 982, in compare_tuples_degrevlex\n        deprecation(21766, 'sorting of polynomials now uses sortkey instead')\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py\", line 100, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py\", line 141, in warning\n        warn(message, warning_class, stacklevel)\n    :\n    DeprecationWarning: sorting of polynomials now uses sortkey instead\n    See http://trac.sagemath.org/21766 for details.\n    c^4\n**********************************************************************\n1 item had failures:\n   1 of   4 in sage.rings.polynomial.term_order.TermOrder.greater_tuple_neglex\n    [308 tests, 1 failure, 0.68 s]\n```",
    "created_at": "2016-11-07T23:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324099",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'></a>

```
sage -t --long src/sage/rings/polynomial/term_order.py
**********************************************************************
File "src/sage/rings/polynomial/term_order.py", line 1542, in sage.rings.polynomial.term_order.TermOrder.greater_tuple_neglex
Failed example:
    f = a + c^4; f.lm() # indirect doctest
Expected:
    c^4
Got:
    doctest:warning
      File "/home/sage/patchbot/sage/src/bin/sage-runtests", line 89, in <module>
        err = DC.run()
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/control.py", line 1130, in run
        self.run_doctests()
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/control.py", line 854, in run_doctests
        self.dispatcher.dispatch()
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1700, in dispatch
        self.parallel_dispatch()
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1590, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1866, in start
        super(DocTestWorker, self).start()
      File "/home/sage/patchbot/sage/local/lib/python/multiprocessing/process.py", line 130, in start
        self._popen = Popen(self)
      File "/home/sage/patchbot/sage/local/lib/python/multiprocessing/forking.py", line 126, in __init__
        code = process_obj._bootstrap()
      File "/home/sage/patchbot/sage/local/lib/python/multiprocessing/process.py", line 258, in _bootstrap
        self.run()
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1839, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2132, in __call__
        runner.run(test)
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 636, in run
        return self._run(test, compileflags, out)
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.polynomial.term_order.TermOrder.greater_tuple_neglex[1]>", line 1, in <module>
        f = a + c**Integer(4); f.lm() # indirect doctest
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_element.py", line 1387, in lm
        f = self._MPolynomial_element__element.lcmt( R.term_order().greater_tuple )
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/term_order.py", line 1685, in greater_tuple_block
        r = getattr(block,"compare_tuples_" + block.name())(f[n:n+len(block)],g[n:n+len(block)])
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/term_order.py", line 982, in compare_tuples_degrevlex
        deprecation(21766, 'sorting of polynomials now uses sortkey instead')
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py", line 100, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/home/sage/patchbot/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py", line 141, in warning
        warn(message, warning_class, stacklevel)
    :
    DeprecationWarning: sorting of polynomials now uses sortkey instead
    See http://trac.sagemath.org/21766 for details.
    c^4
**********************************************************************
1 item had failures:
   1 of   4 in sage.rings.polynomial.term_order.TermOrder.greater_tuple_neglex
    [308 tests, 1 failure, 0.68 s]
```



---

archive/issue_comments_324100.json:
```json
{
    "body": "<a id='comment:20'></a>\nFr\u00e9d\u00e9ric took care of this on the last commit.",
    "created_at": "2016-11-08T02:56:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324100",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>
Frédéric took care of this on the last commit.



---

archive/issue_events_198521.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-09T18:16:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21766#event-198521"
}
```



---

archive/issue_events_198522.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-09T18:16:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21766#event-198522"
}
```



---

archive/issue_comments_324101.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/21766](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21766)\" to \"[b67b06bcaa4772ee1ebdd93bc094b8025711f3aa](https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa)\".",
    "created_at": "2016-11-09T18:16:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324101",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/21766](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21766)" to "[b67b06bcaa4772ee1ebdd93bc094b8025711f3aa](https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa)".



---

archive/issue_comments_324102.json:
```json
{
    "body": "<a id='comment:22'></a>\nfollowup in #24409",
    "created_at": "2017-12-20T14:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324102",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>
followup in #24409



---

archive/issue_comments_324103.json:
```json
{
    "body": "**Changing commit** from \"[b67b06bcaa4772ee1ebdd93bc094b8025711f3aa](https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa)\" to \"\".",
    "created_at": "2017-12-20T14:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21766#issuecomment-324103",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[b67b06bcaa4772ee1ebdd93bc094b8025711f3aa](https://github.com/sagemath/sagetrac-mirror/commit/b67b06bcaa4772ee1ebdd93bc094b8025711f3aa)" to "".
