# Issue 21893: Properly initialize symbolic rings

archive/issues_021656.json:
```json
{
    "assignees": [],
    "body": "Currently\n\n```\nsage: f(x) = 1\nsage: TestSuite(f.parent()).run()\nAttributeError\nsage: 'sum' in dict(f.parent())\nTrue\nsage: f.parent().sum\nAttributeError\n```\nThis is because this symbolic ring does not call its super classes `__init__` and therefore it does not inherit correctly the methods of its category.\n\nAlso, some tests do not pass because the pickling provided by factory is not properly used:\n\n```\nsage: f.parent()._test_pickling()\nAssertionError\n```\n\nBranch/Commit: **[`36c6bb0`](https://github.com/sagemath/sagetrac-mirror/commit/36c6bb000fb994851cb4b8e53d2e84cf1e47829e)**\n\nReviewer: **David Roe**\n\nAuthor: **Julian R\u00fcth**\n\nComponent: **symbolics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21893_\n\n",
    "closed_at": "2016-11-20T22:04:19Z",
    "created_at": "2016-11-18T01:22:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Properly initialize symbolic rings",
    "type": "issue",
    "updated_at": "2016-11-20T22:04:19Z",
    "url": "https://github.com/sagemath/sage/issues/21893",
    "user": "https://github.com/saraedum"
}
```
Currently

```
sage: f(x) = 1
sage: TestSuite(f.parent()).run()
AttributeError
sage: 'sum' in dict(f.parent())
True
sage: f.parent().sum
AttributeError
```
This is because this symbolic ring does not call its super classes `__init__` and therefore it does not inherit correctly the methods of its category.

Also, some tests do not pass because the pickling provided by factory is not properly used:

```
sage: f.parent()._test_pickling()
AssertionError
```

Branch/Commit: **[`36c6bb0`](https://github.com/sagemath/sagetrac-mirror/commit/36c6bb000fb994851cb4b8e53d2e84cf1e47829e)**

Reviewer: **David Roe**

Author: **Julian RÃ¼th**

Component: **symbolics**

_Issue created by migration from https://trac.sagemath.org/ticket/21893_





---

archive/issue_events_306994.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-18T01:22:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21893#event-306994"
}
```



---

archive/issue_events_306995.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-18T01:22:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21893#event-306995"
}
```



---

archive/issue_events_306996.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-18T01:22:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21893#event-306996"
}
```



---

archive/issue_events_306997.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-18T01:22:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21893#event-306997"
}
```



---

archive/issue_comments_322697.json:
```json
{
    "body": "Branch: **[u/saraedum/properly_initialize_symbolic_rings](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/properly_initialize_symbolic_rings)**",
    "created_at": "2016-11-18T03:28:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21893#issuecomment-322697",
    "user": "https://github.com/saraedum"
}
```

Branch: **[u/saraedum/properly_initialize_symbolic_rings](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/properly_initialize_symbolic_rings)**



---

archive/issue_comments_322698.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,9 +4,14 @@\n sage: f(x) = 1\n sage: TestSuite(f.parent()).run()\n AttributeError\n+sage: 'sum' in dict(f.parent())\n+True\n+sage: f.parent().sum\n+AttributeError\n ```\n+This is because this symbolic ring does not call its super classes `__init__` and therefore it does not inherit correctly the methods of its category.\n \n-Also, some tests do not pass because the factory is not properly used:\n+Also, some tests do not pass because the pickling provided by factory is not properly used:\n \n ```\n sage: f.parent()._test_pickling()\n``````\n",
    "created_at": "2016-11-18T03:30:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21893#issuecomment-322698",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,9 +4,14 @@
 sage: f(x) = 1
 sage: TestSuite(f.parent()).run()
 AttributeError
+sage: 'sum' in dict(f.parent())
+True
+sage: f.parent().sum
+AttributeError
 ```
+This is because this symbolic ring does not call its super classes `__init__` and therefore it does not inherit correctly the methods of its category.
 
-Also, some tests do not pass because the factory is not properly used:
+Also, some tests do not pass because the pickling provided by factory is not properly used:
 
 ```
 sage: f.parent()._test_pickling()
``````




---

archive/issue_comments_322699.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7703373a5517a1d25fc52b895113400ef1976b0\">a770337</a></td><td><code>SymbolicRing is a singleton</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/901bae3c93a875d83bc7764ca8739b2f70e26095\">901bae3</a></td><td><code>SymbolicRing is a singleton</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5979aef67ef21c4ebec3ec693eec88b1cac26ffe\">5979aef</a></td><td><code>CallableSymbolicExpressionRing_class get only created through a factory</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d32dbd13cf0f2180868ec52417b414f94f79baf\">5d32dbd</a></td><td><code>Properly call the super class constructors of CallableSymbolicExpressionRing_class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36c6bb000fb994851cb4b8e53d2e84cf1e47829e\">36c6bb0</a></td><td><code>Run test suites for symbolic rings</code></td></tr></table>\n",
    "created_at": "2016-11-18T03:30:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21893#issuecomment-322699",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7703373a5517a1d25fc52b895113400ef1976b0">a770337</a></td><td><code>SymbolicRing is a singleton</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/901bae3c93a875d83bc7764ca8739b2f70e26095">901bae3</a></td><td><code>SymbolicRing is a singleton</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5979aef67ef21c4ebec3ec693eec88b1cac26ffe">5979aef</a></td><td><code>CallableSymbolicExpressionRing_class get only created through a factory</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d32dbd13cf0f2180868ec52417b414f94f79baf">5d32dbd</a></td><td><code>Properly call the super class constructors of CallableSymbolicExpressionRing_class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36c6bb000fb994851cb4b8e53d2e84cf1e47829e">36c6bb0</a></td><td><code>Run test suites for symbolic rings</code></td></tr></table>




---

archive/issue_comments_322700.json:
```json
{
    "body": "Commit: **[`36c6bb0`](https://github.com/sagemath/sagetrac-mirror/commit/36c6bb000fb994851cb4b8e53d2e84cf1e47829e)**",
    "created_at": "2016-11-18T03:30:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21893#issuecomment-322700",
    "user": "https://github.com/saraedum"
}
```

Commit: **[`36c6bb0`](https://github.com/sagemath/sagetrac-mirror/commit/36c6bb000fb994851cb4b8e53d2e84cf1e47829e)**



---

archive/issue_comments_322701.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe tests in `symbolic/` pass. Let's see what the patchbot thinks.\n\nThe commits should make sense one by one. The reviewer might want to review them individually.",
    "created_at": "2016-11-18T03:31:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21893#issuecomment-322701",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:3" align="right">comment:3</div>

The tests in `symbolic/` pass. Let's see what the patchbot thinks.

The commits should make sense one by one. The reviewer might want to review them individually.



---

archive/issue_events_306998.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2016-11-18T03:31:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21893#event-306998"
}
```



---

archive/issue_events_306999.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2016-11-18T04:09:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21893#event-306999"
}
```



---

archive/issue_events_307000.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2016-11-18T04:09:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21893#event-307000"
}
```



---

archive/issue_comments_322702.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nLooks good once patchbot approves.",
    "created_at": "2016-11-18T04:09:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21893#issuecomment-322702",
    "user": "https://github.com/roed314"
}
```

<div id="comment:4" align="right">comment:4</div>

Looks good once patchbot approves.



---

archive/issue_comments_322703.json:
```json
{
    "body": "Reviewer: **David Roe**",
    "created_at": "2016-11-18T04:09:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21893#issuecomment-322703",
    "user": "https://github.com/roed314"
}
```

Reviewer: **David Roe**



---

archive/issue_events_307001.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-20T22:04:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21893#event-307001"
}
```



---

archive/issue_events_307002.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0ce675be7c9cea6f5c197df5a4021dd3780a75e0",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-11-20T22:04:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21893#event-307002"
}
```



---

archive/issue_comments_322704.json:
```json
{
    "body": "Changed branch from **[u/saraedum/properly_initialize_symbolic_rings](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/properly_initialize_symbolic_rings)** to **[`36c6bb0`](https://github.com/sagemath/sagetrac-mirror/commit/36c6bb000fb994851cb4b8e53d2e84cf1e47829e)**",
    "created_at": "2016-11-20T22:04:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21893",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21893#issuecomment-322704",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/saraedum/properly_initialize_symbolic_rings](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/properly_initialize_symbolic_rings)** to **[`36c6bb0`](https://github.com/sagemath/sagetrac-mirror/commit/36c6bb000fb994851cb4b8e53d2e84cf1e47829e)**
