# Issue 21338: implement the poset of intervals of a poset

archive/issues_021101.json:
```json
{
    "assignees": [],
    "body": "this is a useful construction to have\n\nCC:  @jm58660\n\nBranch/Commit: **[966bfd4](https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5)**\n\nReviewer: **Jori M\u00e4ntysalo**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21338_\n\n",
    "closed_at": "2016-08-30T06:46:17Z",
    "created_at": "2016-08-25T20:17:39Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "implement the poset of intervals of a poset",
    "type": "issue",
    "updated_at": "2016-08-30T06:46:17Z",
    "url": "https://github.com/sagemath/sage/issues/21338",
    "user": "https://github.com/fchapoton"
}
```
this is a useful construction to have

CC:  @jm58660

Branch/Commit: **[966bfd4](https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5)**

Reviewer: **Jori Mäntysalo**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/21338_





---

archive/issue_events_281925.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-25T20:17:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-281925"
}
```



---

archive/issue_events_281926.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-25T20:17:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-281926"
}
```



---

archive/issue_events_281927.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-25T20:17:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-281927"
}
```



---

archive/issue_events_281928.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-25T20:17:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-281928"
}
```



---

archive/issue_comments_314776.json:
```json
{
    "body": "Branch: **[u/chapoton/21338](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21338)**",
    "created_at": "2016-08-25T20:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314776",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/21338](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21338)**



---

archive/issue_comments_314777.json:
```json
{
    "body": "Commit: **[d40082a](https://github.com/sagemath/sagetrac-mirror/commit/d40082a97896c42962ef9cb751d38ce0abb4ae28)**",
    "created_at": "2016-08-25T20:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314777",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[d40082a](https://github.com/sagemath/sagetrac-mirror/commit/d40082a97896c42962ef9cb751d38ce0abb4ae28)**



---

archive/issue_comments_314778.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d40082a97896c42962ef9cb751d38ce0abb4ae28\">d40082a</a></td><td><code>implement the poset of intervals of a poset</code></td></tr></table>\n",
    "created_at": "2016-08-25T20:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314778",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d40082a97896c42962ef9cb751d38ce0abb4ae28">d40082a</a></td><td><code>implement the poset of intervals of a poset</code></td></tr></table>




---

archive/issue_comments_314779.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nGood idea.\n\n- I think that this needs seealso-crosslinks with `sublattices_lattice()`.\n- Should return type be lattice when `self` is of type lattice? Compare for example to `dual()`.\n- We really should have a guideline whether to use `self` or \"the thing\" at docstrings. This now conflicts with other functions at `posets.py`.",
    "created_at": "2016-08-25T20:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314779",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:2'>Comment 2:</a>
Good idea.

- I think that this needs seealso-crosslinks with `sublattices_lattice()`.
- Should return type be lattice when `self` is of type lattice? Compare for example to `dual()`.
- We really should have a guideline whether to use `self` or "the thing" at docstrings. This now conflicts with other functions at `posets.py`.



---

archive/issue_comments_314780.json:
```json
{
    "body": "Changed commit from **[d40082a](https://github.com/sagemath/sagetrac-mirror/commit/d40082a97896c42962ef9cb751d38ce0abb4ae28)** to **[da1e421](https://github.com/sagemath/sagetrac-mirror/commit/da1e421718e66624a3d78a5b9c3681e20f4c8697)**",
    "created_at": "2016-08-26T06:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314780",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d40082a](https://github.com/sagemath/sagetrac-mirror/commit/d40082a97896c42962ef9cb751d38ce0abb4ae28)** to **[da1e421](https://github.com/sagemath/sagetrac-mirror/commit/da1e421718e66624a3d78a5b9c3681e20f4c8697)**



---

archive/issue_comments_314781.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da1e421718e66624a3d78a5b9c3681e20f4c8697\">da1e421</a></td><td><code>trac 21338 more work on posets of intervals</code></td></tr></table>\n",
    "created_at": "2016-08-26T06:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314781",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da1e421718e66624a3d78a5b9c3681e20f4c8697">da1e421</a></td><td><code>trac 21338 more work on posets of intervals</code></td></tr></table>




---

archive/issue_comments_314782.json:
```json
{
    "body": "Changed commit from **[da1e421](https://github.com/sagemath/sagetrac-mirror/commit/da1e421718e66624a3d78a5b9c3681e20f4c8697)** to **[9edc860](https://github.com/sagemath/sagetrac-mirror/commit/9edc8601a3f7ea297812be2e575dabe118310d60)**",
    "created_at": "2016-08-26T07:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314782",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[da1e421](https://github.com/sagemath/sagetrac-mirror/commit/da1e421718e66624a3d78a5b9c3681e20f4c8697)** to **[9edc860](https://github.com/sagemath/sagetrac-mirror/commit/9edc8601a3f7ea297812be2e575dabe118310d60)**



---

archive/issue_comments_314783.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9edc8601a3f7ea297812be2e575dabe118310d60\">9edc860</a></td><td><code>trac 21338 more work, not successful</code></td></tr></table>\n",
    "created_at": "2016-08-26T07:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314783",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9edc8601a3f7ea297812be2e575dabe118310d60">9edc860</a></td><td><code>trac 21338 more work, not successful</code></td></tr></table>




---

archive/issue_comments_314784.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/089493916d1b3a518ffb678a5b8197236710f381\">0894939</a></td><td><code>trac 21338 ready for review</code></td></tr></table>\n",
    "created_at": "2016-08-26T11:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314784",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/089493916d1b3a518ffb678a5b8197236710f381">0894939</a></td><td><code>trac 21338 ready for review</code></td></tr></table>




---

archive/issue_comments_314785.json:
```json
{
    "body": "Changed commit from **[9edc860](https://github.com/sagemath/sagetrac-mirror/commit/9edc8601a3f7ea297812be2e575dabe118310d60)** to **[0894939](https://github.com/sagemath/sagetrac-mirror/commit/089493916d1b3a518ffb678a5b8197236710f381)**",
    "created_at": "2016-08-26T11:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314785",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9edc860](https://github.com/sagemath/sagetrac-mirror/commit/9edc8601a3f7ea297812be2e575dabe118310d60)** to **[0894939](https://github.com/sagemath/sagetrac-mirror/commit/089493916d1b3a518ffb678a5b8197236710f381)**



---

archive/issue_events_281929.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-26T11:32:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-281929"
}
```



---

archive/issue_comments_314786.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nok, ready for review now",
    "created_at": "2016-08-26T11:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314786",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'>Comment 6:</a>
ok, ready for review now



---

archive/issue_comments_314787.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nTests passed, nothing wrong with the code etc. The function does what it says to do, so I could put this to positive review. And the code is fast -- good work!\n\nBut where is this \"natural partial order\" defined? I would have guessed from the name that it means a poset where `[a,b] <= [c,d]` iff `a >= c` and `b <= d`. Then for lattices it would be lattice of convex sublattices, hence a sublattice of lattice of (all) sublattices. That's why I suggested seealso-crosslinks; sorry for not reading this carefully.",
    "created_at": "2016-08-28T04:35:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314787",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:7'>Comment 7:</a>
Tests passed, nothing wrong with the code etc. The function does what it says to do, so I could put this to positive review. And the code is fast -- good work!

But where is this "natural partial order" defined? I would have guessed from the name that it means a poset where `[a,b] <= [c,d]` iff `a >= c` and `b <= d`. Then for lattices it would be lattice of convex sublattices, hence a sublattice of lattice of (all) sublattices. That's why I suggested seealso-crosslinks; sorry for not reading this carefully.



---

archive/issue_comments_314788.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nThis is natural in the following sense:\n\na poset is a category, a morphism of posets is a functor, a morphism between morphisms of posets is a natural transformation.\n\nSo if posets are understood in the proper language, there is no real choice for\na natural definition of a partial order on the morphisms from 2 to P.\n\nShould I remove the cross-links ?",
    "created_at": "2016-08-28T06:23:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314788",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'>Comment 8:</a>
This is natural in the following sense:

a poset is a category, a morphism of posets is a functor, a morphism between morphisms of posets is a natural transformation.

So if posets are understood in the proper language, there is no real choice for
a natural definition of a partial order on the morphisms from 2 to P.

Should I remove the cross-links ?



---

archive/issue_comments_314789.json:
```json
{
    "body": "Reviewer: **Jori M\u00e4ntysalo**",
    "created_at": "2016-08-28T06:47:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314789",
    "user": "https://github.com/jm58660"
}
```

Reviewer: **Jori Mäntysalo**



---

archive/issue_comments_314790.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@fchapoton](#comment%3A8):\n\nExplanation accepted.\n\n> Should I remove the cross-links ?\n\nYes, I guess so. After that you can click *positive_review* on behalf of me.",
    "created_at": "2016-08-28T06:47:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314790",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@fchapoton](#comment%3A8):

Explanation accepted.

> Should I remove the cross-links ?

Yes, I guess so. After that you can click *positive_review* on behalf of me.



---

archive/issue_comments_314791.json:
```json
{
    "body": "Changed commit from **[0894939](https://github.com/sagemath/sagetrac-mirror/commit/089493916d1b3a518ffb678a5b8197236710f381)** to **[966bfd4](https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5)**",
    "created_at": "2016-08-28T06:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314791",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0894939](https://github.com/sagemath/sagetrac-mirror/commit/089493916d1b3a518ffb678a5b8197236710f381)** to **[966bfd4](https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5)**



---

archive/issue_comments_314792.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e09a7cb646dd6e46db1509a273efed162684fb8c\">e09a7cb</a></td><td><code>Merge branch 'u/chapoton/21338' in 7.4.b2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5\">966bfd4</a></td><td><code>trac 21338 removing seealsos</code></td></tr></table>\n",
    "created_at": "2016-08-28T06:53:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314792",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e09a7cb646dd6e46db1509a273efed162684fb8c">e09a7cb</a></td><td><code>Merge branch 'u/chapoton/21338' in 7.4.b2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5">966bfd4</a></td><td><code>trac 21338 removing seealsos</code></td></tr></table>




---

archive/issue_comments_314793.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\ndone, thanks. Setting to positive",
    "created_at": "2016-08-28T06:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314793",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'>Comment 11:</a>
done, thanks. Setting to positive



---

archive/issue_events_281930.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-28T06:54:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-281930"
}
```



---

archive/issue_events_281931.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-28T06:54:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-281931"
}
```



---

archive/issue_comments_314794.json:
```json
{
    "body": "Changed branch from **[u/chapoton/21338](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21338)** to **[966bfd4](https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5)**",
    "created_at": "2016-08-30T06:46:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21338#issuecomment-314794",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/21338](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21338)** to **[966bfd4](https://github.com/sagemath/sagetrac-mirror/commit/966bfd4bbf3c7d9e17e29357954e729c18cba7a5)**



---

archive/issue_events_281932.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-30T06:46:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-281932"
}
```



---

archive/issue_events_281933.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "16d505ea86fcfb80d65e20d4a3df8834498d8f91",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-08-30T06:46:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21338",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21338#event-281933"
}
```
