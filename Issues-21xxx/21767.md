# Issue 21767: Package libcurl (and curl) as a standard package

archive/issues_021530.json:
```json
{
    "body": "Rationale : R (standard package) requires libcurl (and possibly the curl executable), but stopped to package it with version 3.3.0.\n\nSee [discussion](https://groups.google.com/forum/#!topic/sage-devel/9gun2Wo6zGM) on sage-devel.\n\n**Tarball**: https://curl.haxx.se/download/curl-7.53.1.tar.bz2\n\n**Assignee:** @EmmanuelCharpentier\n\n**CC:**  jpflori @jdemeyer @jhpalmieri @vbraun\n\n**Keywords:** r-project, days85\n\n**Branch/Commit:** [4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9](https://github.com/sagemath/sagetrac-mirror/commit/4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9)\n\n**Stopgaps:** use clang and --with-darwinssl on OSX\n\n**Reviewer:** Jean-Pierre Flori, Jeroen Demeyer, Dima Pasechnik\n\n**Author:** Emmanuel Charpentier, Jean-Pierre Flori\n\nIssue created by migration from https://trac.sagemath.org/ticket/21767\n\n",
    "closed_at": "2017-03-27T20:43:10Z",
    "created_at": "2016-10-25T19:24:41Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "title": "Package libcurl (and curl) as a standard package",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/21767",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
Rationale : R (standard package) requires libcurl (and possibly the curl executable), but stopped to package it with version 3.3.0.

See [discussion](https://groups.google.com/forum/#!topic/sage-devel/9gun2Wo6zGM) on sage-devel.

**Tarball**: https://curl.haxx.se/download/curl-7.53.1.tar.bz2

**Assignee:** @EmmanuelCharpentier

**CC:**  jpflori @jdemeyer @jhpalmieri @vbraun

**Keywords:** r-project, days85

**Branch/Commit:** [4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9](https://github.com/sagemath/sagetrac-mirror/commit/4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9)

**Stopgaps:** use clang and --with-darwinssl on OSX

**Reviewer:** Jean-Pierre Flori, Jeroen Demeyer, Dima Pasechnik

**Author:** Emmanuel Charpentier, Jean-Pierre Flori

Issue created by migration from https://trac.sagemath.org/ticket/21767





---

archive/issue_comments_322519.json:
```json
{
    "body": "<a id='comment:1'></a>\nPlan :\n\n* Create a package that builds and installs curl unconditionnally. Test that.\n* Immediately after, patch it to add a detection of an usable systemwide version, and do not install if such a version is found.",
    "created_at": "2016-10-25T19:26:53Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322519",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:1'></a>
Plan :

* Create a package that builds and installs curl unconditionnally. Test that.
* Immediately after, patch it to add a detection of an usable systemwide version, and do not install if such a version is found.



---

archive/issue_comments_322520.json:
```json
{
    "body": "**Branch:** [u/charpent/package_libcurl__and_curl__as_a_standard_package](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/package_libcurl__and_curl__as_a_standard_package)",
    "created_at": "2016-10-25T21:39:09Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322520",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Branch:** [u/charpent/package_libcurl__and_curl__as_a_standard_package](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/package_libcurl__and_curl__as_a_standard_package)



---

archive/issue_comments_322521.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis initial packaging :\n* builds with no error on top of 7.5beta0\n* passes its own test suite successfully.\n\nThe resulting Sage passes testlong with no errors (not even transient, for a marvel...\n\nMarking `needs_review`. See the thread on `sage-devel` for discussion of conditional installation.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2884837b51b874cf4630fbf593df642f30733b6c\">2884837</a></td><td><code>Initial packaging of curl : unconditionnal installation.</code></td></tr></table>\n",
    "created_at": "2016-10-25T21:44:05Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322521",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:3'></a>
This initial packaging :
* builds with no error on top of 7.5beta0
* passes its own test suite successfully.

The resulting Sage passes testlong with no errors (not even transient, for a marvel...

Marking `needs_review`. See the thread on `sage-devel` for discussion of conditional installation.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2884837b51b874cf4630fbf593df642f30733b6c">2884837</a></td><td><code>Initial packaging of curl : unconditionnal installation.</code></td></tr></table>




---

archive/issue_events_194827.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2016-10-25T21:44:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194827"
}
```



---

archive/issue_comments_322522.json:
```json
{
    "body": "**Commit:** [2884837b51b874cf4630fbf593df642f30733b6c](https://github.com/sagemath/sagetrac-mirror/commit/2884837b51b874cf4630fbf593df642f30733b6c)",
    "created_at": "2016-10-25T21:44:05Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322522",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Commit:** [2884837b51b874cf4630fbf593df642f30733b6c](https://github.com/sagemath/sagetrac-mirror/commit/2884837b51b874cf4630fbf593df642f30733b6c)



---

archive/issue_comments_322523.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n See [discussion](https://groups.google.com/forum/#!topic/sage-devel/9gun2Wo6zGM) on sage-devel.\n \n-Original tarball is [here](https://curl.haxx.se/download/curl-7.50.3.tar.gz)\n+**Tarball**: https://curl.haxx.se/download/curl-7.50.3.tar.gz\n``````\n",
    "created_at": "2016-10-26T07:22:43Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322523",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 See [discussion](https://groups.google.com/forum/#!topic/sage-devel/9gun2Wo6zGM) on sage-devel.
 
-Original tarball is [here](https://curl.haxx.se/download/curl-7.50.3.tar.gz)
+**Tarball**: https://curl.haxx.se/download/curl-7.50.3.tar.gz
``````




---

archive/issue_comments_322524.json:
```json
{
    "body": "<a id='comment:4'></a>\nAuthor name please...",
    "created_at": "2016-10-26T07:22:43Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322524",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
Author name please...



---

archive/issue_events_194828.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-26T07:22:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194828"
}
```



---

archive/issue_events_194829.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-26T07:22:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194829"
}
```



---

archive/issue_comments_322525.json:
```json
{
    "body": "<a id='comment:5'></a>\nI don't like this style of logging:\n\n```\nCC       libcurl_la-curl_gethostname.lo\n```\nI like to see the `gcc` command-line to figure out what is going on.\n\nUsually, this can be changed by passing `V=1` to the `make` command line (see for example `build/pkgs/libfplll/spkg-install`)",
    "created_at": "2016-10-26T07:27:14Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322525",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
I don't like this style of logging:

```
CC       libcurl_la-curl_gethostname.lo
```
I like to see the `gcc` command-line to figure out what is going on.

Usually, this can be changed by passing `V=1` to the `make` command line (see for example `build/pkgs/libfplll/spkg-install`)



---

archive/issue_comments_322526.json:
```json
{
    "body": "<a id='comment:6'></a>\nWould be nice to have the standard pieces of code to check we are in a Sage shell and to apply potential patches.",
    "created_at": "2016-10-26T10:25:45Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322526",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:6'></a>
Would be nice to have the standard pieces of code to check we are in a Sage shell and to apply potential patches.



---

archive/issue_events_194830.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2016-10-26T10:25:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194830"
}
```



---

archive/issue_events_194831.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2016-10-26T10:25:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194831"
}
```



---

archive/issue_comments_322527.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [@jdemeyer](#comment%3A5):\n> I don't like this style of logging:\n> \n> ```\n> CC       libcurl_la-curl_gethostname.lo\n> ```\n> I like to see the `gcc` command-line to figure out what is going on.\n> \n> Usually, this can be changed by passing `V=1` to the `make` command line (see for example `build/pkgs/libfplll/spkg-install`)\n\nDoable. On your head be it...",
    "created_at": "2016-10-26T10:31:23Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322527",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:7'></a>
Replying to [@jdemeyer](#comment%3A5):
> I don't like this style of logging:
> 
> ```
> CC       libcurl_la-curl_gethostname.lo
> ```
> I like to see the `gcc` command-line to figure out what is going on.
> 
> Usually, this can be changed by passing `V=1` to the `make` command line (see for example `build/pkgs/libfplll/spkg-install`)

Doable. On your head be it...



---

archive/issue_comments_322528.json:
```json
{
    "body": "**Author:** Emmanuel Charpentier",
    "created_at": "2016-10-26T10:31:54Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322528",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Author:** Emmanuel Charpentier



---

archive/issue_comments_322529.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [@jdemeyer](#comment%3A4):\n> Author name please...\n\nDone",
    "created_at": "2016-10-26T10:31:54Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322529",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:8'></a>
Replying to [@jdemeyer](#comment%3A4):
> Author name please...

Done



---

archive/issue_comments_322530.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [jpflori](#comment%3A6):\n\nCould you clarify :\n> Would be nice to have the standard pieces of code to check we are in a Sage shell\n\n??? What\"'s that ?  A simple hint might be to `test ! X$SAGE_ROOT = X `, but you seem to have something more sophisticated in head.\n\n> and to apply potential patches.\n\n??? Clarification required. What are \"potential patches\" ?",
    "created_at": "2016-10-26T10:36:17Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322530",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:9'></a>
Replying to [jpflori](#comment%3A6):

Could you clarify :
> Would be nice to have the standard pieces of code to check we are in a Sage shell

??? What"'s that ?  A simple hint might be to `test ! X$SAGE_ROOT = X `, but you seem to have something more sophisticated in head.

> and to apply potential patches.

??? Clarification required. What are "potential patches" ?



---

archive/issue_comments_322531.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A9):\n> Replying to [jpflori](#comment%3A6):\n> \n> Could you clarify :\n> > Would be nice to have the standard pieces of code to check we are in a Sage shell\n\n> \n> ??? What\"'s that ?  A simple hint might be to `test ! X$SAGE_ROOT = X `, but you seem to have something more sophisticated in head.\n\nhttps://github.com/sagemath/sage/blob/master/build/pkgs/ecl/spkg-install#L3\n\n> \n> > and to apply potential patches.\n\n> \n> ??? Clarification required. What are \"potential patches\" ?\n\nhttps://github.com/sagemath/sage/blob/master/build/pkgs/ecl/spkg-install#L13",
    "created_at": "2016-10-26T11:13:10Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322531",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:10'></a>
Replying to [@EmmanuelCharpentier](#comment%3A9):
> Replying to [jpflori](#comment%3A6):
> 
> Could you clarify :
> > Would be nice to have the standard pieces of code to check we are in a Sage shell

> 
> ??? What"'s that ?  A simple hint might be to `test ! X$SAGE_ROOT = X `, but you seem to have something more sophisticated in head.

https://github.com/sagemath/sage/blob/master/build/pkgs/ecl/spkg-install#L3

> 
> > and to apply potential patches.

> 
> ??? Clarification required. What are "potential patches" ?

https://github.com/sagemath/sage/blob/master/build/pkgs/ecl/spkg-install#L13



---

archive/issue_comments_322532.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A7):\n> Doable. On your head be it...\n\nWhat do you mean with this?",
    "created_at": "2016-10-26T11:15:09Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322532",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Replying to [@EmmanuelCharpentier](#comment%3A7):
> Doable. On your head be it...

What do you mean with this?



---

archive/issue_comments_322533.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [jpflori](#comment%3A10):\n> https://github.com/sagemath/sage/blob/master/build/pkgs/ecl/spkg-install#L13\n\nPlease don't, see #20692 instead.",
    "created_at": "2016-10-26T11:15:50Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322533",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
Replying to [jpflori](#comment%3A10):
> https://github.com/sagemath/sage/blob/master/build/pkgs/ecl/spkg-install#L13

Please don't, see #20692 instead.



---

archive/issue_comments_322534.json:
```json
{
    "body": "<a id='comment:13'></a>\nThe package builds fine.",
    "created_at": "2016-10-26T11:16:49Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322534",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
The package builds fine.



---

archive/issue_comments_322535.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [@jdemeyer](#comment%3A11):\n> Replying to [@EmmanuelCharpentier](#comment%3A7):\n> > Doable. On your head be it...\n\n> \n> What do you mean with this?\n\nNothing rude, be assured ! (sorry if that sounded rude...). I just mean that I'm not very fond of miles-log logs, where the relevant information doesn't stand out (common problem with, for example, LaTeX).",
    "created_at": "2016-10-26T11:52:45Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322535",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:14'></a>
Replying to [@jdemeyer](#comment%3A11):
> Replying to [@EmmanuelCharpentier](#comment%3A7):
> > Doable. On your head be it...

> 
> What do you mean with this?

Nothing rude, be assured ! (sorry if that sounded rude...). I just mean that I'm not very fond of miles-log logs, where the relevant information doesn't stand out (common problem with, for example, LaTeX).



---

archive/issue_comments_322536.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1588558c94c80f698b40a6033155ebf6d78e77e7\">1588558</a></td><td><code>Packaging polish.</code></td></tr></table>\n",
    "created_at": "2016-10-26T17:07:32Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322536",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1588558c94c80f698b40a6033155ebf6d78e77e7">1588558</a></td><td><code>Packaging polish.</code></td></tr></table>




---

archive/issue_comments_322537.json:
```json
{
    "body": "**Changing commit** from \"[2884837b51b874cf4630fbf593df642f30733b6c](https://github.com/sagemath/sagetrac-mirror/commit/2884837b51b874cf4630fbf593df642f30733b6c)\" to \"[1588558c94c80f698b40a6033155ebf6d78e77e7](https://github.com/sagemath/sagetrac-mirror/commit/1588558c94c80f698b40a6033155ebf6d78e77e7)\".",
    "created_at": "2016-10-26T17:07:32Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322537",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2884837b51b874cf4630fbf593df642f30733b6c](https://github.com/sagemath/sagetrac-mirror/commit/2884837b51b874cf4630fbf593df642f30733b6c)" to "[1588558c94c80f698b40a6033155ebf6d78e77e7](https://github.com/sagemath/sagetrac-mirror/commit/1588558c94c80f698b40a6033155ebf6d78e77e7)".



---

archive/issue_events_194832.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2016-10-26T17:25:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194832"
}
```



---

archive/issue_events_194833.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2016-10-26T17:25:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194833"
}
```



---

archive/issue_comments_322538.json:
```json
{
    "body": "<a id='comment:16'></a>\nIn this branch :\n* Sage shell checking\n* verbose compilation\n* patching (and empty patches directory), [Sage Maintainer's Guide](http://doc.sagemath.org/html/en/developer/packaging.html#patching-sources) style.\n\nThis builds and passes the package's own test suite without errors ; the resulting Sage passes ptestlong with the usual transient error on `simplicial_complex.py`, which passes succesfully standalone.\n\nRe: #20692 : This ticket has been in the works for 5 months and still depends on two other tickets. I'd rather not wait for it to be merged in Sage before getting the damn `curl` in Sage : `R` depends on it, and updating it begins to be a matter of some (slight) urgency : more and more `R` packages can no longer be installed under 2.4.2...  That doesn't mean I won't revise the way to patch things when #20692 is merged.\n\nAnyway, the point is moot for now : there are **no** patches...\n\n==>`needs_review`",
    "created_at": "2016-10-26T17:25:25Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322538",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:16'></a>
In this branch :
* Sage shell checking
* verbose compilation
* patching (and empty patches directory), [Sage Maintainer's Guide](http://doc.sagemath.org/html/en/developer/packaging.html#patching-sources) style.

This builds and passes the package's own test suite without errors ; the resulting Sage passes ptestlong with the usual transient error on `simplicial_complex.py`, which passes succesfully standalone.

Re: #20692 : This ticket has been in the works for 5 months and still depends on two other tickets. I'd rather not wait for it to be merged in Sage before getting the damn `curl` in Sage : `R` depends on it, and updating it begins to be a matter of some (slight) urgency : more and more `R` packages can no longer be installed under 2.4.2...  That doesn't mean I won't revise the way to patch things when #20692 is merged.

Anyway, the point is moot for now : there are **no** patches...

==>`needs_review`



---

archive/issue_comments_322539.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A14):\n> I just mean that I'm not very fond of miles-log logs, where the relevant information doesn't stand out\n\nAt least the relevant information **exists** in the log.",
    "created_at": "2016-10-26T17:31:33Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322539",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
Replying to [@EmmanuelCharpentier](#comment%3A14):
> I just mean that I'm not very fond of miles-log logs, where the relevant information doesn't stand out

At least the relevant information **exists** in the log.



---

archive/issue_comments_322540.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [@jdemeyer](#comment%3A17):\n> Replying to [@EmmanuelCharpentier](#comment%3A14):\n> > I just mean that I'm not very fond of miles-log logs, where the relevant information doesn't stand out\n\n> \n> At least the relevant information **exists** in the log.\n\nIndeed. I can see your point : it's mainly a `grep` vs `vgrep` (non-)issue ; probably coming from our respective initial curricula (a surgeon (even a dental one) needs to see (literally) a lot of things at once ; details can (usually) wait. Hence my preference for breadth-first searches).",
    "created_at": "2016-10-26T17:48:35Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322540",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:18'></a>
Replying to [@jdemeyer](#comment%3A17):
> Replying to [@EmmanuelCharpentier](#comment%3A14):
> > I just mean that I'm not very fond of miles-log logs, where the relevant information doesn't stand out

> 
> At least the relevant information **exists** in the log.

Indeed. I can see your point : it's mainly a `grep` vs `vgrep` (non-)issue ; probably coming from our respective initial curricula (a surgeon (even a dental one) needs to see (literally) a lot of things at once ; details can (usually) wait. Hence my preference for breadth-first searches).



---

archive/issue_comments_322541.json:
```json
{
    "body": "<a id='comment:19'></a>\nThe HTTPS/openssl issue is still an issue.",
    "created_at": "2016-10-26T17:59:24Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322541",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:19'></a>
The HTTPS/openssl issue is still an issue.



---

archive/issue_events_194834.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-26T18:01:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194834"
}
```



---

archive/issue_events_194835.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-26T18:01:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194835"
}
```



---

archive/issue_comments_322542.json:
```json
{
    "body": "**Work Issues:** HTTPS",
    "created_at": "2016-10-26T18:01:02Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322542",
    "user": "https://github.com/jdemeyer"
}
```

**Work Issues:** HTTPS



---

archive/issue_comments_322543.json:
```json
{
    "body": "<a id='comment:21'></a>\nWithout patching I fear the only solution is to make curl and R optional.\nGroumpf.",
    "created_at": "2016-10-26T18:16:30Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322543",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:21'></a>
Without patching I fear the only solution is to make curl and R optional.
Groumpf.



---

archive/issue_comments_322544.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [@jdemeyer](#comment%3A20):\n\nAs compiled, curl supports https. You can check this with `curl-config --protocols`.\n\nThe issue raised by Volker is valid, but has little to do with the present issue (nor with R's update...).\n\nFurthermore, I think we shouldn't try to solve locally a systemwide problem.",
    "created_at": "2016-10-26T19:04:21Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322544",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:22'></a>
Replying to [@jdemeyer](#comment%3A20):

As compiled, curl supports https. You can check this with `curl-config --protocols`.

The issue raised by Volker is valid, but has little to do with the present issue (nor with R's update...).

Furthermore, I think we shouldn't try to solve locally a systemwide problem.



---

archive/issue_comments_322545.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [jpflori](#comment%3A21):\n> Without patching I fear the only solution is to make curl and R optional.\n> Groumpf.\n\nCare to explain ? I'm a dentist of very little mind, and have trouble following you.",
    "created_at": "2016-10-26T19:05:27Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322545",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:23'></a>
Replying to [jpflori](#comment%3A21):
> Without patching I fear the only solution is to make curl and R optional.
> Groumpf.

Care to explain ? I'm a dentist of very little mind, and have trouble following you.



---

archive/issue_comments_322546.json:
```json
{
    "body": "<a id='comment:24'></a>\nIIRC we cannot automatically install openssl bc of license issues...\nHence no https support in curl and then R does not want to build.",
    "created_at": "2016-10-26T19:40:42Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322546",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:24'></a>
IIRC we cannot automatically install openssl bc of license issues...
Hence no https support in curl and then R does not want to build.



---

archive/issue_comments_322547.json:
```json
{
    "body": "<a id='comment:25'></a>\nI guess you get https support because you have openssl and its headers installed.",
    "created_at": "2016-10-26T19:43:15Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322547",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:25'></a>
I guess you get https support because you have openssl and its headers installed.



---

archive/issue_comments_322548.json:
```json
{
    "body": "<a id='comment:26'></a>\nAnd openssl is not a dependency of sage ATM.",
    "created_at": "2016-10-26T19:44:00Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322548",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:26'></a>
And openssl is not a dependency of sage ATM.



---

archive/issue_comments_322549.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [jpflori](#comment%3A26):\n> And openssl is not a dependency of sage ATM.\n\nTherefore, the obvious solution is to add OpenSSL as a prerequisite to Sage. (easy patch : two words in the main README.md...).\n\nWould *that* be a problem ?\n\nShould we open a discussion on sage-devel ?",
    "created_at": "2016-10-26T19:48:21Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322549",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:27'></a>
Replying to [jpflori](#comment%3A26):
> And openssl is not a dependency of sage ATM.

Therefore, the obvious solution is to add OpenSSL as a prerequisite to Sage. (easy patch : two words in the main README.md...).

Would *that* be a problem ?

Should we open a discussion on sage-devel ?



---

archive/issue_comments_322550.json:
```json
{
    "body": "<a id='comment:28'></a>\nOr add curl (with SSL support) as a prerequisite to Sage. How widely installed are `curl` and `OpenSSL`? OS X seems to include `curl` and `libcurl`, and also `libssl` (but is that the same as OpenSSL? or is it at least good enough?). What about the various linux distributions?",
    "created_at": "2016-10-26T20:08:50Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322550",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:28'></a>
Or add curl (with SSL support) as a prerequisite to Sage. How widely installed are `curl` and `OpenSSL`? OS X seems to include `curl` and `libcurl`, and also `libssl` (but is that the same as OpenSSL? or is it at least good enough?). What about the various linux distributions?



---

archive/issue_comments_322551.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [@jhpalmieri](#comment%3A28):\n> Or add curl (with SSL support) as a prerequisite to Sage. How widely installed are `curl` and `OpenSSL`? OS X seems to include `curl` and `libcurl`, and also `libssl` (but is that the same as OpenSSL? or is it at least good enough?). What about the various linux distributions?\n\nI would guess that `curl` itself is widely available, but maybe not with \"development headers\" that many distros package separately.",
    "created_at": "2016-10-26T21:02:51Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322551",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:29'></a>
Replying to [@jhpalmieri](#comment%3A28):
> Or add curl (with SSL support) as a prerequisite to Sage. How widely installed are `curl` and `OpenSSL`? OS X seems to include `curl` and `libcurl`, and also `libssl` (but is that the same as OpenSSL? or is it at least good enough?). What about the various linux distributions?

I would guess that `curl` itself is widely available, but maybe not with "development headers" that many distros package separately.



---

archive/issue_comments_322552.json:
```json
{
    "body": "<a id='comment:30'></a>\nAs I tried to explain [comment:12], please remove this patch block (especially given that there are no patches):\n\n```\n# Patch sources.\nfor patch in ../patches/*.patch; do\n    [ -r \"$patch\" ] || continue  # Skip non-existing or non-readable patches\n    patch -p1 <\"$patch\"\n    if [ $? -ne 0 ]; then\n        echo >&2 \"Error applying '$patch'\"\n        exit 1\n    fi\ndone\n```",
    "created_at": "2016-10-26T21:07:47Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322552",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
As I tried to explain [comment:12], please remove this patch block (especially given that there are no patches):

```
# Patch sources.
for patch in ../patches/*.patch; do
    [ -r "$patch" ] || continue  # Skip non-existing or non-readable patches
    patch -p1 <"$patch"
    if [ $? -ne 0 ]; then
        echo >&2 "Error applying '$patch'"
        exit 1
    fi
done
```



---

archive/issue_comments_322553.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A16):\n> I'd rather not wait for it to be merged in Sage before getting the damn `curl` in Sage\n\nI never said that you need to depend on that ticket. If you remove the \"patching\" block, it will work with or without #20692.",
    "created_at": "2016-10-26T21:10:22Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322553",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'></a>
Replying to [@EmmanuelCharpentier](#comment%3A16):
> I'd rather not wait for it to be merged in Sage before getting the damn `curl` in Sage

I never said that you need to depend on that ticket. If you remove the "patching" block, it will work with or without #20692.



---

archive/issue_comments_322554.json:
```json
{
    "body": "**Changing commit** from \"[1588558c94c80f698b40a6033155ebf6d78e77e7](https://github.com/sagemath/sagetrac-mirror/commit/1588558c94c80f698b40a6033155ebf6d78e77e7)\" to \"[81e3341358690d10e8ec0d14e1d7e53b8b8bf16c](https://github.com/sagemath/sagetrac-mirror/commit/81e3341358690d10e8ec0d14e1d7e53b8b8bf16c)\".",
    "created_at": "2016-10-27T06:31:17Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322554",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1588558c94c80f698b40a6033155ebf6d78e77e7](https://github.com/sagemath/sagetrac-mirror/commit/1588558c94c80f698b40a6033155ebf6d78e77e7)" to "[81e3341358690d10e8ec0d14e1d7e53b8b8bf16c](https://github.com/sagemath/sagetrac-mirror/commit/81e3341358690d10e8ec0d14e1d7e53b8b8bf16c)".



---

archive/issue_comments_322555.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81e3341358690d10e8ec0d14e1d7e53b8b8bf16c\">81e3341</a></td><td><code>Removed patches handling.</code></td></tr></table>\n",
    "created_at": "2016-10-27T06:31:17Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322555",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81e3341358690d10e8ec0d14e1d7e53b8b8bf16c">81e3341</a></td><td><code>Removed patches handling.</code></td></tr></table>




---

archive/issue_comments_322556.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [git](#comment%3A32):\n> Branch pushed to git repo; I updated commit sha1. **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81e3341358690d10e8ec0d14e1d7e53b8b8bf16c\">81e3341</a></td><td><code>Removed patches handling.</code></td></tr></table>\n\nBuilds OK, passes its test suite.",
    "created_at": "2016-10-27T06:33:12Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322556",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:33'></a>
Replying to [git](#comment%3A32):
> Branch pushed to git repo; I updated commit sha1. **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81e3341358690d10e8ec0d14e1d7e53b8b8bf16c">81e3341</a></td><td><code>Removed patches handling.</code></td></tr></table>

Builds OK, passes its test suite.



---

archive/issue_events_194836.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2016-10-27T06:33:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194836"
}
```



---

archive/issue_events_194837.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2016-10-27T06:33:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194837"
}
```



---

archive/issue_events_194838.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-27T06:56:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194838"
}
```



---

archive/issue_events_194839.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-27T06:56:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194839"
}
```



---

archive/issue_comments_322557.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [@jdemeyer](#comment%3A34):\n\nCare to explain ?",
    "created_at": "2016-10-27T07:08:56Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322557",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:35'></a>
Replying to [@jdemeyer](#comment%3A34):

Care to explain ?



---

archive/issue_comments_322558.json:
```json
{
    "body": "<a id='comment:36'></a>\n[comment:19]",
    "created_at": "2016-10-27T07:10:32Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322558",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:36'></a>
[comment:19]



---

archive/issue_comments_322559.json:
```json
{
    "body": "<a id='comment:37'></a>\nSome old discussions that might enlighten you:\n* https://groups.google.com/forum/#!searchin/sage-devel/openssl|sort:relevance/sage-devel/mbGbpRz96q0/8nsKRNyLs3oJ (OpenSSL license issue)\n* https://groups.google.com/forum/#!searchin/sage-devel/openssl|sort:relevance/sage-devel/Jl11JxIb2E8/-1NrQmjbMKIJ (why GnuTLS which is GPL is not a drop in replacement)",
    "created_at": "2016-10-27T07:42:10Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322559",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:37'></a>
Some old discussions that might enlighten you:
* https://groups.google.com/forum/#!searchin/sage-devel/openssl|sort:relevance/sage-devel/mbGbpRz96q0/8nsKRNyLs3oJ (OpenSSL license issue)
* https://groups.google.com/forum/#!searchin/sage-devel/openssl|sort:relevance/sage-devel/Jl11JxIb2E8/-1NrQmjbMKIJ (why GnuTLS which is GPL is not a drop in replacement)



---

archive/issue_comments_322560.json:
```json
{
    "body": "<a id='comment:38'></a>\nDiscussion at:\n* https://groups.google.com/forum/#!topic/sage-devel/QaBdHSNJuKg",
    "created_at": "2016-10-27T09:50:16Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322560",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:38'></a>
Discussion at:
* https://groups.google.com/forum/#!topic/sage-devel/QaBdHSNJuKg



---

archive/issue_comments_322561.json:
```json
{
    "body": "<a id='comment:39'></a>\nReplying to [jpflori](#comment%3A38):\n> Discussion at:\n> * https://groups.google.com/forum/#!topic/sage-devel/QaBdHSNJuKg\n\nThanks for the heads-up. It's important, and I'm afraid that the full size of the problem hasn't yet been considered : the R ecosystem is much larger (by about 3-4 magnitudes) than some seem to think...",
    "created_at": "2016-10-27T10:30:56Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322561",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:39'></a>
Replying to [jpflori](#comment%3A38):
> Discussion at:
> * https://groups.google.com/forum/#!topic/sage-devel/QaBdHSNJuKg

Thanks for the heads-up. It's important, and I'm afraid that the full size of the problem hasn't yet been considered : the R ecosystem is much larger (by about 3-4 magnitudes) than some seem to think...



---

archive/issue_comments_322562.json:
```json
{
    "body": "**Changing branch** from \"[u/charpent/package_libcurl__and_curl__as_a_standard_package](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/package_libcurl__and_curl__as_a_standard_package)\" to \"[public/curl7510](https://github.com/sagemath/sagetrac-mirror/tree/public/curl7510)\".",
    "created_at": "2016-11-02T14:45:48Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322562",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing branch** from "[u/charpent/package_libcurl__and_curl__as_a_standard_package](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/package_libcurl__and_curl__as_a_standard_package)" to "[public/curl7510](https://github.com/sagemath/sagetrac-mirror/tree/public/curl7510)".



---

archive/issue_comments_322563.json:
```json
{
    "body": "<a id='comment:40'></a>\n`@`Volker: I've added a fat mode to avoid a lot of stuff curl might be tempted to use.\nI did not touch the SSL/TLS options. Should I?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c02cb61da261e9e9b5eb960eadeede6d034f2240\">c02cb61</a></td><td><code>Update Curl to 7.51.0.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d31c5607d0f4cc3ebad13388fa9d6d630dd23c11\">d31c560</a></td><td><code>Add a fat mode to curl.</code></td></tr></table>\n",
    "created_at": "2016-11-02T14:45:48Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322563",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:40'></a>
`@`Volker: I've added a fat mode to avoid a lot of stuff curl might be tempted to use.
I did not touch the SSL/TLS options. Should I?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c02cb61da261e9e9b5eb960eadeede6d034f2240">c02cb61</a></td><td><code>Update Curl to 7.51.0.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d31c5607d0f4cc3ebad13388fa9d6d630dd23c11">d31c560</a></td><td><code>Add a fat mode to curl.</code></td></tr></table>




---

archive/issue_comments_322564.json:
```json
{
    "body": "**Changing commit** from \"[81e3341358690d10e8ec0d14e1d7e53b8b8bf16c](https://github.com/sagemath/sagetrac-mirror/commit/81e3341358690d10e8ec0d14e1d7e53b8b8bf16c)\" to \"[d31c5607d0f4cc3ebad13388fa9d6d630dd23c11](https://github.com/sagemath/sagetrac-mirror/commit/d31c5607d0f4cc3ebad13388fa9d6d630dd23c11)\".",
    "created_at": "2016-11-02T14:45:48Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322564",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing commit** from "[81e3341358690d10e8ec0d14e1d7e53b8b8bf16c](https://github.com/sagemath/sagetrac-mirror/commit/81e3341358690d10e8ec0d14e1d7e53b8b8bf16c)" to "[d31c5607d0f4cc3ebad13388fa9d6d630dd23c11](https://github.com/sagemath/sagetrac-mirror/commit/d31c5607d0f4cc3ebad13388fa9d6d630dd23c11)".



---

archive/issue_events_194840.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2016-11-02T14:45:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194840"
}
```



---

archive/issue_events_194841.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2016-11-02T14:45:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194841"
}
```



---

archive/issue_comments_322565.json:
```json
{
    "body": "**Changing author** from \"Emmanuel Charpentier\" to \"Emmanuel Charpentier, Jean-Pierre Flori\".",
    "created_at": "2016-11-02T14:45:48Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322565",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing author** from "Emmanuel Charpentier" to "Emmanuel Charpentier, Jean-Pierre Flori".



---

archive/issue_comments_322566.json:
```json
{
    "body": "**Changing work issues** from \"HTTPS\" to \"\".",
    "created_at": "2016-11-02T14:45:48Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322566",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing work issues** from "HTTPS" to "".



---

archive/issue_comments_322567.json:
```json
{
    "body": "<a id='comment:41'></a>\nI think that the (pseudo-)legal considerations which motivated last month's [saga](https://groups.google.com/forum/#!topic/sage-devel/QaBdHSNJuKg) leave us few options.\n\nI looked a bit closer to the idea of using an `rpy2`-based new interface to an external `R`. This is doable, but not in the short term.\n\nI am under the impression that the current (pexpect) interface won't work reliably with a system R (especially on \"exotic\" systems such as cygwin and the Mac). Therefore, depending on a systemwide installation for R is out of the question in the short term. We need an interim solution.\n\nMy current plan is :\n* Mark this ticket (#21767) as invalid/won't fix, forthe (pseudo-)legal reasons discussed in the saga.\n* Document in the REAME.md and various places in the [Installation guide](http://doc.sagemath.org/html/en/installation/index.html) that **Sage** depends on `libcurl` and building it depends on `libcurl`'s development files.\n* Make `xz` (existing package) and `pcre` (proposed new package) standard packages (see #21744 and #21770 respectively).\n* patch the `R install-spkg` to test for the existence and correct capabilities of libcurl before starting to install ; display an explicitly Sage-centered message and fail if not found / not correct.\n* make `R` depend on `xz` and `pcre`\n\nOnly *after* this interim solution works, envision the much larger task of creating a new interface.\n\nJean-Pierre : I think that omitting `https` requirement for R is a *very* bad idea : I do not know how longer R users will be able to depend on http-only repositories ; and, as I said before, R practical use is highly dependent of access to the 9000+ R packages in existence.\n\nAdvice required. Do you think useful to open an new discussion on [sage-devel](https://groups.google.com/forum/#!forum/sage-devel) ?\n\nNote 1 : the patchbot test of #21744 is marked \"pending\". What does that mean ?\n\nNote 2 : the patchbot test of #21770 fails repeatedly due to thye source tarball being unavailable on Sage standard repositories. What should I do ? The (ftp) address of the original tarball is in the ticket's header.",
    "created_at": "2016-11-20T20:36:40Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322567",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:41'></a>
I think that the (pseudo-)legal considerations which motivated last month's [saga](https://groups.google.com/forum/#!topic/sage-devel/QaBdHSNJuKg) leave us few options.

I looked a bit closer to the idea of using an `rpy2`-based new interface to an external `R`. This is doable, but not in the short term.

I am under the impression that the current (pexpect) interface won't work reliably with a system R (especially on "exotic" systems such as cygwin and the Mac). Therefore, depending on a systemwide installation for R is out of the question in the short term. We need an interim solution.

My current plan is :
* Mark this ticket (#21767) as invalid/won't fix, forthe (pseudo-)legal reasons discussed in the saga.
* Document in the REAME.md and various places in the [Installation guide](http://doc.sagemath.org/html/en/installation/index.html) that **Sage** depends on `libcurl` and building it depends on `libcurl`'s development files.
* Make `xz` (existing package) and `pcre` (proposed new package) standard packages (see #21744 and #21770 respectively).
* patch the `R install-spkg` to test for the existence and correct capabilities of libcurl before starting to install ; display an explicitly Sage-centered message and fail if not found / not correct.
* make `R` depend on `xz` and `pcre`

Only *after* this interim solution works, envision the much larger task of creating a new interface.

Jean-Pierre : I think that omitting `https` requirement for R is a *very* bad idea : I do not know how longer R users will be able to depend on http-only repositories ; and, as I said before, R practical use is highly dependent of access to the 9000+ R packages in existence.

Advice required. Do you think useful to open an new discussion on [sage-devel](https://groups.google.com/forum/#!forum/sage-devel) ?

Note 1 : the patchbot test of #21744 is marked "pending". What does that mean ?

Note 2 : the patchbot test of #21770 fails repeatedly due to thye source tarball being unavailable on Sage standard repositories. What should I do ? The (ftp) address of the original tarball is in the ticket's header.



---

archive/issue_comments_322568.json:
```json
{
    "body": "**Changing commit** from \"[d31c5607d0f4cc3ebad13388fa9d6d630dd23c11](https://github.com/sagemath/sagetrac-mirror/commit/d31c5607d0f4cc3ebad13388fa9d6d630dd23c11)\" to \"[e4e56651e3252781f3eb04af00082f7c63be816b](https://github.com/sagemath/sagetrac-mirror/commit/e4e56651e3252781f3eb04af00082f7c63be816b)\".",
    "created_at": "2017-02-18T22:02:15Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322568",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d31c5607d0f4cc3ebad13388fa9d6d630dd23c11](https://github.com/sagemath/sagetrac-mirror/commit/d31c5607d0f4cc3ebad13388fa9d6d630dd23c11)" to "[e4e56651e3252781f3eb04af00082f7c63be816b](https://github.com/sagemath/sagetrac-mirror/commit/e4e56651e3252781f3eb04af00082f7c63be816b)".



---

archive/issue_comments_322569.json:
```json
{
    "body": "<a id='comment:42'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4e56651e3252781f3eb04af00082f7c63be816b\">e4e5665</a></td><td><code>Upgraded curl to 7.52.1</code></td></tr></table>\n",
    "created_at": "2017-02-18T22:02:15Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322569",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4e56651e3252781f3eb04af00082f7c63be816b">e4e5665</a></td><td><code>Upgraded curl to 7.52.1</code></td></tr></table>




---

archive/issue_comments_322570.json:
```json
{
    "body": "<a id='comment:43'></a>\nAfter #22189, curl remains a valid solution. I took the opportunity to upgrade curl to 7.52.1\n\nStill `needs_review`\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4e56651e3252781f3eb04af00082f7c63be816b\">e4e5665</a></td><td><code>Upgraded curl to 7.52.1</code></td></tr></table>\n",
    "created_at": "2017-02-18T22:06:22Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322570",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:43'></a>
After #22189, curl remains a valid solution. I took the opportunity to upgrade curl to 7.52.1

Still `needs_review`

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4e56651e3252781f3eb04af00082f7c63be816b">e4e5665</a></td><td><code>Upgraded curl to 7.52.1</code></td></tr></table>




---

archive/issue_comments_322571.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n See [discussion](https://groups.google.com/forum/#!topic/sage-devel/9gun2Wo6zGM) on sage-devel.\n \n-**Tarball**: https://curl.haxx.se/download/curl-7.50.3.tar.gz\n+**Tarball**: https://curl.haxx.se/download/curl-7.52.1.tar.bz2\n``````\n",
    "created_at": "2017-02-18T22:28:49Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322571",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 See [discussion](https://groups.google.com/forum/#!topic/sage-devel/9gun2Wo6zGM) on sage-devel.
 
-**Tarball**: https://curl.haxx.se/download/curl-7.50.3.tar.gz
+**Tarball**: https://curl.haxx.se/download/curl-7.52.1.tar.bz2
``````




---

archive/issue_comments_322572.json:
```json
{
    "body": "<a id='comment:45'></a>\nSage-7.6.beta4 + #20523 + #21767 (this patch) + #21770 passes ptestlong witht two transient errors :\n\n```\n----------------------------------------------------------------------\nsage -t --long src/sage/homology/simplicial_set_morphism.py  # Bad exit: 2\nsage -t --long src/sage/homology/simplicial_complex.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\nBoth tests pass when run standalone.\n\nThis should close the R saga (for now) by allowing the current interfaces to work with R >= 3.3.x.\n\nStill `needs_review`",
    "created_at": "2017-02-19T04:48:28Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322572",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:45'></a>
Sage-7.6.beta4 + #20523 + #21767 (this patch) + #21770 passes ptestlong witht two transient errors :

```
----------------------------------------------------------------------
sage -t --long src/sage/homology/simplicial_set_morphism.py  # Bad exit: 2
sage -t --long src/sage/homology/simplicial_complex.py  # 1 doctest failed
----------------------------------------------------------------------
```
Both tests pass when run standalone.

This should close the R saga (for now) by allowing the current interfaces to work with R >= 3.3.x.

Still `needs_review`



---

archive/issue_comments_322573.json:
```json
{
    "body": "**Assignee:** @EmmanuelCharpentier",
    "created_at": "2017-02-20T19:50:45Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322573",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Assignee:** @EmmanuelCharpentier



---

archive/issue_comments_322574.json:
```json
{
    "body": "<a id='comment:46'></a>\nMerged in #20523. Acceptingthe ticket in order to mark it as invalid.",
    "created_at": "2017-02-20T19:50:45Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322574",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:46'></a>
Merged in #20523. Acceptingthe ticket in order to mark it as invalid.



---

archive/issue_comments_322575.json:
```json
{
    "body": "<a id='comment:47'></a>\nI still can't mark it as invalid. Can someone with the right rights do this for me ?",
    "created_at": "2017-02-20T19:51:43Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322575",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:47'></a>
I still can't mark it as invalid. Can someone with the right rights do this for me ?



---

archive/issue_comments_322576.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A47):\n> I still can't mark it as invalid. Can someone with the right rights do this for me ?\n\nAfter discussion of (potential) #20523 reviewers, I now think that this ticket should be kept, reviewed and validated. Pleas DON'T invalidate it.",
    "created_at": "2017-02-20T20:33:35Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322576",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:48'></a>
Replying to [@EmmanuelCharpentier](#comment%3A47):
> I still can't mark it as invalid. Can someone with the right rights do this for me ?

After discussion of (potential) #20523 reviewers, I now think that this ticket should be kept, reviewed and validated. Pleas DON'T invalidate it.



---

archive/issue_comments_322577.json:
```json
{
    "body": "<a id='comment:49'></a>\n`@`jeroen: I think we can merge this one ut it also entails that SSL becomes a Sage dependency. Any thought?",
    "created_at": "2017-03-14T12:33:26Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322577",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:49'></a>
`@`jeroen: I think we can merge this one ut it also entails that SSL becomes a Sage dependency. Any thought?



---

archive/issue_comments_322578.json:
```json
{
    "body": "<a id='comment:50'></a>\nReplying to [jpflori](#comment%3A49):\n> `@`jeroen: I think we can merge this one ut it also entails that SSL becomes a Sage dependency. Any thought?\n\nAs per #22189 (already merged), SSL **IS** a Sage dependency. The point is therefore moot...",
    "created_at": "2017-03-14T12:47:43Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322578",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:50'></a>
Replying to [jpflori](#comment%3A49):
> `@`jeroen: I think we can merge this one ut it also entails that SSL becomes a Sage dependency. Any thought?

As per #22189 (already merged), SSL **IS** a Sage dependency. The point is therefore moot...



---

archive/issue_comments_322579.json:
```json
{
    "body": "<a id='comment:51'></a>\nReplying to [jpflori](#comment%3A49):\n> `@`jeroen: I think we can merge this one ut it also entails that SSL becomes a Sage dependency. Any thought?\n\nI have mentioned before that I really would not like that...\n\nSo far, we have always been fixing packages requiring OpenSSL such that they would work without OpenSSL (with reduced functionality). I think that can and should be done for R also.",
    "created_at": "2017-03-14T22:57:16Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322579",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:51'></a>
Replying to [jpflori](#comment%3A49):
> `@`jeroen: I think we can merge this one ut it also entails that SSL becomes a Sage dependency. Any thought?

I have mentioned before that I really would not like that...

So far, we have always been fixing packages requiring OpenSSL such that they would work without OpenSSL (with reduced functionality). I think that can and should be done for R also.



---

archive/issue_comments_322580.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [@jdemeyer](#comment%3A51):\n> Replying to [jpflori](#comment%3A49):\n> > `@`jeroen: I think we can merge this one ut it also entails that SSL becomes a Sage dependency. Any thought?\n\n> \n> I have mentioned before that I really would not like that...\n\nBut somehow failed to explain the reasons of your dislike.\n\n> So far, we have always been fixing packages requiring OpenSSL such that they would work without OpenSSL (with reduced functionality).\n\nAnd that's why Sage's pip, compiled on a VM without OpenSSL, is unusable. \"Reduced functionality\", indeed...\n\n> I think that can and should be done for R also.\n\nThat should be done **upstream** :\n* in R (the R Core Team introduced the SSL requirement with R 3.3 after having maintained an internal library for years...) ;\n* in Python (which explicitly depends on OpenSSL).\n\nBut I really think that this is weather-fighting (and a rearguard fight, BTW). You still have to convince us that OpenSSL drawbacks (what are they ?) are worth committing a large part of our limited resources to work around it.",
    "created_at": "2017-03-15T06:53:57Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322580",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:52'></a>
Replying to [@jdemeyer](#comment%3A51):
> Replying to [jpflori](#comment%3A49):
> > `@`jeroen: I think we can merge this one ut it also entails that SSL becomes a Sage dependency. Any thought?

> 
> I have mentioned before that I really would not like that...

But somehow failed to explain the reasons of your dislike.

> So far, we have always been fixing packages requiring OpenSSL such that they would work without OpenSSL (with reduced functionality).

And that's why Sage's pip, compiled on a VM without OpenSSL, is unusable. "Reduced functionality", indeed...

> I think that can and should be done for R also.

That should be done **upstream** :
* in R (the R Core Team introduced the SSL requirement with R 3.3 after having maintained an internal library for years...) ;
* in Python (which explicitly depends on OpenSSL).

But I really think that this is weather-fighting (and a rearguard fight, BTW). You still have to convince us that OpenSSL drawbacks (what are they ?) are worth committing a large part of our limited resources to work around it.



---

archive/issue_comments_322581.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A52):\n> But somehow failed to explain the reasons of your dislike.\n\nIt's simple: an extra dependency makes it harder to build Sage. So far, we tried hard in Sage to have a minimal set of dependencies: all dependencies to build Sage are either obviously needed (compilers, make, ...) or are installed by default on most typical operating systems (Python).",
    "created_at": "2017-03-15T08:53:14Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322581",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:53'></a>
Replying to [@EmmanuelCharpentier](#comment%3A52):
> But somehow failed to explain the reasons of your dislike.

It's simple: an extra dependency makes it harder to build Sage. So far, we tried hard in Sage to have a minimal set of dependencies: all dependencies to build Sage are either obviously needed (compilers, make, ...) or are installed by default on most typical operating systems (Python).



---

archive/issue_comments_322582.json:
```json
{
    "body": "<a id='comment:54'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A52):\n> * in Python (which explicitly depends on OpenSSL).\n\nPython does not require OpenSSL, so I don't get your point.",
    "created_at": "2017-03-15T08:54:17Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322582",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:54'></a>
Replying to [@EmmanuelCharpentier](#comment%3A52):
> * in Python (which explicitly depends on OpenSSL).

Python does not require OpenSSL, so I don't get your point.



---

archive/issue_comments_322583.json:
```json
{
    "body": "<a id='comment:55'></a>\nAnyway, sorry for reviving this here as curl can build without ssl.\nThe issue is with R checking that curl supports ssl and I've posted a patch on the R ticket to remove that check.\n\n`@`emmanuel: can you update curl to the latest upstream version?\nThen I'll push the positive review button.",
    "created_at": "2017-03-15T09:11:20Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322583",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:55'></a>
Anyway, sorry for reviving this here as curl can build without ssl.
The issue is with R checking that curl supports ssl and I've posted a patch on the R ticket to remove that check.

`@`emmanuel: can you update curl to the latest upstream version?
Then I'll push the positive review button.



---

archive/issue_comments_322584.json:
```json
{
    "body": "<a id='comment:56'></a>\nI'm currently checking that 7.53.1 works on OSX. I'll push the update as soon as I'm done.",
    "created_at": "2017-03-15T12:42:06Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322584",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:56'></a>
I'm currently checking that 7.53.1 works on OSX. I'll push the update as soon as I'm done.



---

archive/issue_comments_322585.json:
```json
{
    "body": "**Changing commit** from \"[e4e56651e3252781f3eb04af00082f7c63be816b](https://github.com/sagemath/sagetrac-mirror/commit/e4e56651e3252781f3eb04af00082f7c63be816b)\" to \"[2e615c130c342dc69fc79f6dfa1fa13d3969d7a9](https://github.com/sagemath/sagetrac-mirror/commit/2e615c130c342dc69fc79f6dfa1fa13d3969d7a9)\".",
    "created_at": "2017-03-15T12:44:26Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322585",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e4e56651e3252781f3eb04af00082f7c63be816b](https://github.com/sagemath/sagetrac-mirror/commit/e4e56651e3252781f3eb04af00082f7c63be816b)" to "[2e615c130c342dc69fc79f6dfa1fa13d3969d7a9](https://github.com/sagemath/sagetrac-mirror/commit/2e615c130c342dc69fc79f6dfa1fa13d3969d7a9)".



---

archive/issue_comments_322586.json:
```json
{
    "body": "<a id='comment:57'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e615c130c342dc69fc79f6dfa1fa13d3969d7a9\">2e615c1</a></td><td><code>Merge branch 'public/curl7510' of trac.sagemath.org:sage into rupd</code></td></tr></table>\n",
    "created_at": "2017-03-15T12:44:26Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:57'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e615c130c342dc69fc79f6dfa1fa13d3969d7a9">2e615c1</a></td><td><code>Merge branch 'public/curl7510' of trac.sagemath.org:sage into rupd</code></td></tr></table>




---

archive/issue_comments_322587.json:
```json
{
    "body": "<a id='comment:58'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf54f54e895a416a21457e48067cb198ebae28cc\">bf54f54</a></td><td><code>bumped up the version</code></td></tr></table>\n",
    "created_at": "2017-03-15T12:45:26Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322587",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf54f54e895a416a21457e48067cb198ebae28cc">bf54f54</a></td><td><code>bumped up the version</code></td></tr></table>




---

archive/issue_comments_322588.json:
```json
{
    "body": "**Changing commit** from \"[2e615c130c342dc69fc79f6dfa1fa13d3969d7a9](https://github.com/sagemath/sagetrac-mirror/commit/2e615c130c342dc69fc79f6dfa1fa13d3969d7a9)\" to \"[bf54f54e895a416a21457e48067cb198ebae28cc](https://github.com/sagemath/sagetrac-mirror/commit/bf54f54e895a416a21457e48067cb198ebae28cc)\".",
    "created_at": "2017-03-15T12:45:26Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322588",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2e615c130c342dc69fc79f6dfa1fa13d3969d7a9](https://github.com/sagemath/sagetrac-mirror/commit/2e615c130c342dc69fc79f6dfa1fa13d3969d7a9)" to "[bf54f54e895a416a21457e48067cb198ebae28cc](https://github.com/sagemath/sagetrac-mirror/commit/bf54f54e895a416a21457e48067cb198ebae28cc)".



---

archive/issue_events_194842.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-03-15T12:46:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194842"
}
```



---

archive/issue_events_194843.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-03-15T12:46:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194843"
}
```



---

archive/issue_events_194844.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-03-15T12:46:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194844"
}
```



---

archive/issue_events_194845.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-03-15T12:46:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194845"
}
```



---

archive/issue_comments_322589.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n See [discussion](https://groups.google.com/forum/#!topic/sage-devel/9gun2Wo6zGM) on sage-devel.\n \n-**Tarball**: https://curl.haxx.se/download/curl-7.52.1.tar.bz2\n+**Tarball**: https://curl.haxx.se/download/curl-7.53.1.tar.bz2\n``````\n",
    "created_at": "2017-03-15T12:46:16Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322589",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 See [discussion](https://groups.google.com/forum/#!topic/sage-devel/9gun2Wo6zGM) on sage-devel.
 
-**Tarball**: https://curl.haxx.se/download/curl-7.52.1.tar.bz2
+**Tarball**: https://curl.haxx.se/download/curl-7.53.1.tar.bz2
``````




---

archive/issue_events_194846.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-03-15T12:48:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194846"
}
```



---

archive/issue_events_194847.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-03-15T12:48:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194847"
}
```



---

archive/issue_comments_322590.json:
```json
{
    "body": "**Reviewer:** Jean-Pierre Flori, Jeroen Demeyer, Dima Pasechnik",
    "created_at": "2017-03-15T12:48:04Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322590",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Jean-Pierre Flori, Jeroen Demeyer, Dima Pasechnik



---

archive/issue_events_194848.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-03-15T12:48:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194848"
}
```



---

archive/issue_events_194849.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-03-15T12:48:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194849"
}
```



---

archive/issue_comments_322591.json:
```json
{
    "body": "<a id='comment:62'></a>\nReplying to [@dimpase](#comment%3A61):\n\n\u0421\u043f\u0430\u0441\u0441\u0438\u0431\u043e, \u0414\u0438\u043c\u0438\u0442\u0440\u0438. Sorry for the delay : I wasn't available this morning.",
    "created_at": "2017-03-15T14:42:52Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322591",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:62'></a>
Replying to [@dimpase](#comment%3A61):

, . Sorry for the delay : I wasn't available this morning.



---

archive/issue_comments_322592.json:
```json
{
    "body": "<a id='comment:63'></a>\nI am on it.",
    "created_at": "2017-03-16T10:07:26Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322592",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:63'></a>
I am on it.



---

archive/issue_comments_322593.json:
```json
{
    "body": "**Stopgaps:** use clang and --with-darwinssl on OSX",
    "created_at": "2017-03-16T10:07:26Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322593",
    "user": "https://github.com/dimpase"
}
```

**Stopgaps:** use clang and --with-darwinssl on OSX



---

archive/issue_events_194850.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-03-16T10:07:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194850"
}
```



---

archive/issue_events_194851.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-03-16T10:07:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194851"
}
```



---

archive/issue_comments_322594.json:
```json
{
    "body": "<a id='comment:64'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9\">4c7d5eb</a></td><td><code>use clang with --with-darwinssl for newer OSX</code></td></tr></table>\n",
    "created_at": "2017-03-16T10:48:30Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322594",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:64'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9">4c7d5eb</a></td><td><code>use clang with --with-darwinssl for newer OSX</code></td></tr></table>




---

archive/issue_comments_322595.json:
```json
{
    "body": "**Changing commit** from \"[bf54f54e895a416a21457e48067cb198ebae28cc](https://github.com/sagemath/sagetrac-mirror/commit/bf54f54e895a416a21457e48067cb198ebae28cc)\" to \"[4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9](https://github.com/sagemath/sagetrac-mirror/commit/4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9)\".",
    "created_at": "2017-03-16T10:48:30Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322595",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bf54f54e895a416a21457e48067cb198ebae28cc](https://github.com/sagemath/sagetrac-mirror/commit/bf54f54e895a416a21457e48067cb198ebae28cc)" to "[4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9](https://github.com/sagemath/sagetrac-mirror/commit/4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9)".



---

archive/issue_events_194852.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-03-16T10:49:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194852"
}
```



---

archive/issue_events_194853.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-03-16T10:49:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194853"
}
```



---

archive/issue_comments_322596.json:
```json
{
    "body": "<a id='comment:66'></a>\nYou don't export CC so are you sure it will be taken into account?",
    "created_at": "2017-03-16T10:54:39Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322596",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:66'></a>
You don't export CC so are you sure it will be taken into account?



---

archive/issue_comments_322597.json:
```json
{
    "body": "<a id='comment:67'></a>\nReplying to [jpflori](#comment%3A66):\n> You don't export CC so are you sure it will be taken into account?\n\nit is taken into account, sure. (I checked the log, etc). By the way, the same works in `r/spkg-install` - from where I stole this.",
    "created_at": "2017-03-16T11:16:47Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322597",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:67'></a>
Replying to [jpflori](#comment%3A66):
> You don't export CC so are you sure it will be taken into account?

it is taken into account, sure. (I checked the log, etc). By the way, the same works in `r/spkg-install` - from where I stole this.



---

archive/issue_events_194854.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2017-03-16T11:18:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194854"
}
```



---

archive/issue_events_194855.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2017-03-16T11:18:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194855"
}
```



---

archive/issue_comments_322598.json:
```json
{
    "body": "<a id='comment:68'></a>\nThen...",
    "created_at": "2017-03-16T11:18:55Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322598",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:68'></a>
Then...



---

archive/issue_comments_322599.json:
```json
{
    "body": "**Changing keywords** from \"r-project\" to \"r-project, days85\".",
    "created_at": "2017-03-16T16:39:35Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322599",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing keywords** from "r-project" to "r-project, days85".



---

archive/issue_comments_322600.json:
```json
{
    "body": "<a id='comment:70'></a>\nFollowup at #22686",
    "created_at": "2017-03-26T20:03:52Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322600",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:70'></a>
Followup at #22686



---

archive/issue_events_194856.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-03-27T20:43:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194856"
}
```



---

archive/issue_events_194857.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5df0553293a543432eb1094a444767988f5a09d4",
    "created_at": "2017-03-27T20:43:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21767#event-194857"
}
```



---

archive/issue_comments_322601.json:
```json
{
    "body": "**Changing branch** from \"[public/curl7510](https://github.com/sagemath/sagetrac-mirror/tree/public/curl7510)\" to \"[4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9](https://github.com/sagemath/sagetrac-mirror/commit/4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9)\".",
    "created_at": "2017-03-27T20:43:10Z",
    "issue": "https://github.com/sagemath/sage/issues/21767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21767#issuecomment-322601",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/curl7510](https://github.com/sagemath/sagetrac-mirror/tree/public/curl7510)" to "[4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9](https://github.com/sagemath/sagetrac-mirror/commit/4c7d5eb846d40287f9fb69ddff18d2e00ae9f6d9)".
