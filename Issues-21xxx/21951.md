# Issue 21951: implement random planar bicubic graphs in a bijective way

archive/issues_021714.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nusing an algorithm of Schaeffer (bijection with blossoming trees)\n\n\n\nCC:  @kevindilks @dimpase @sagetrac-pportilla @dcoudert\n\nComponent: **graph theory**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nBranch/Commit: **[`e3da5b2`](https://github.com/sagemath/sagetrac-mirror/commit/e3da5b2a6996fb16143002e8053ff205cc0fd81e)**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21951_\n\n",
    "closed_at": "2017-01-18T20:39:06Z",
    "created_at": "2016-11-23T14:55:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "implement random planar bicubic graphs in a bijective way",
    "type": "issue",
    "updated_at": "2017-01-18T20:39:06Z",
    "url": "https://github.com/sagemath/sage/issues/21951",
    "user": "https://github.com/fchapoton"
}
```
<div id="comment:0"></div>

using an algorithm of Schaeffer (bijection with blossoming trees)



CC:  @kevindilks @dimpase @sagetrac-pportilla @dcoudert

Component: **graph theory**

Author: **Frédéric Chapoton**

Branch/Commit: **[`e3da5b2`](https://github.com/sagemath/sagetrac-mirror/commit/e3da5b2a6996fb16143002e8053ff205cc0fd81e)**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/21951_





---

archive/issue_events_304923.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-23T14:55:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21951#event-304923"
}
```



---

archive/issue_events_304924.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-23T14:55:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21951#event-304924"
}
```



---

archive/issue_events_304925.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-23T14:55:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21951#event-304925"
}
```



---

archive/issue_events_304926.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-23T14:55:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21951#event-304926"
}
```



---

archive/issue_comments_323402.json:
```json
{
    "body": "Branch: **[u/chapoton/21951](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21951)**",
    "created_at": "2016-11-23T14:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323402",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/21951](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21951)**



---

archive/issue_comments_323403.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5173db430c60de75758f55efab1c6d21ba2a9135\"><code>5173db4</code></a></td><td><code>implement a generator for random bicubic planar graphs (rooted maps)</code></td></tr></table>\n",
    "created_at": "2016-11-23T14:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323403",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5173db430c60de75758f55efab1c6d21ba2a9135"><code>5173db4</code></a></td><td><code>implement a generator for random bicubic planar graphs (rooted maps)</code></td></tr></table>




---

archive/issue_comments_323404.json:
```json
{
    "body": "Commit: **[`5173db4`](https://github.com/sagemath/sagetrac-mirror/commit/5173db430c60de75758f55efab1c6d21ba2a9135)**",
    "created_at": "2016-11-23T14:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323404",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`5173db4`](https://github.com/sagemath/sagetrac-mirror/commit/5173db430c60de75758f55efab1c6d21ba2a9135)**



---

archive/issue_events_304927.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-23T16:56:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21951#event-304927"
}
```



---

archive/issue_comments_323405.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nlooking for a referee...",
    "created_at": "2016-12-13T20:42:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323405",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

looking for a referee...



---

archive/issue_comments_323406.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-using an algorithm of Schaeffer\n+using an algorithm of Schaeffer (bijection with blossoming trees)\n \n \n``````\n",
    "created_at": "2016-12-13T20:42:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323406",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-using an algorithm of Schaeffer
+using an algorithm of Schaeffer (bijection with blossoming trees)
 
 
``````




---

archive/issue_comments_323407.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nDo you have a script to test it? I mean, the total number of such graphs is known for small values of  n (cf. https://oeis.org/A007085) and so it's possible to run it many times and see whether you can get anywhere close to a uniform distribution.\n\nBy the way, there are few trailing spaces in the branch.",
    "created_at": "2016-12-13T21:14:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323407",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

Do you have a script to test it? I mean, the total number of such graphs is known for small values of  n (cf. https://oeis.org/A007085) and so it's possible to run it many times and see whether you can get anywhere close to a uniform distribution.

By the way, there are few trailing spaces in the branch.



---

archive/issue_comments_323408.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWhen looking at the diff of your branch [here](https://github.com/sagemath/sagetrac-mirror/commit/747f0a0b0f29497fb4b063ab223e19bc27b2c174), it seems that it deletes file `graph_generators.py`. Please check...",
    "created_at": "2016-12-13T21:59:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323408",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:6" align="right">comment:6</div>

When looking at the diff of your branch [here](https://github.com/sagemath/sagetrac-mirror/commit/747f0a0b0f29497fb4b063ab223e19bc27b2c174), it seems that it deletes file `graph_generators.py`. Please check...



---

archive/issue_comments_323409.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nno, it's OK, it's a git viewer bug; I saw this few times. If you fetch the branch it's OK. It adds 2 lines to the file that is shown as deleted.",
    "created_at": "2016-12-13T22:09:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323409",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

no, it's OK, it's a git viewer bug; I saw this few times. If you fetch the branch it's OK. It adds 2 lines to the file that is shown as deleted.



---

archive/issue_comments_323410.json:
```json
{
    "body": "Changed commit from **[`5173db4`](https://github.com/sagemath/sagetrac-mirror/commit/5173db430c60de75758f55efab1c6d21ba2a9135)** to **[`e3da5b2`](https://github.com/sagemath/sagetrac-mirror/commit/e3da5b2a6996fb16143002e8053ff205cc0fd81e)**",
    "created_at": "2016-12-14T09:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323410",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5173db4`](https://github.com/sagemath/sagetrac-mirror/commit/5173db430c60de75758f55efab1c6d21ba2a9135)** to **[`e3da5b2`](https://github.com/sagemath/sagetrac-mirror/commit/e3da5b2a6996fb16143002e8053ff205cc0fd81e)**



---

archive/issue_comments_323411.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/900fbe9a15a2f3eb676ffa5a1d6e6203d6614e3d\"><code>900fbe9</code></a></td><td><code>Merge branch 'u/chapoton/21951' in 7.5.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3da5b2a6996fb16143002e8053ff205cc0fd81e\"><code>e3da5b2</code></a></td><td><code>trac 21951 remove trailing spaces</code></td></tr></table>\n",
    "created_at": "2016-12-14T09:12:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323411",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/900fbe9a15a2f3eb676ffa5a1d6e6203d6614e3d"><code>900fbe9</code></a></td><td><code>Merge branch 'u/chapoton/21951' in 7.5.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3da5b2a6996fb16143002e8053ff205cc0fd81e"><code>e3da5b2</code></a></td><td><code>trac 21951 remove trailing spaces</code></td></tr></table>




---

archive/issue_comments_323412.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHmm, this algorithm does not generate only 3-connected graphs.\n\nIt seems that the sequence of numbers is not in the OEIS:\n\n```\nsage: resu = {i: set() for i in range(1,6)}\nsage: liste = []                           \n....: for n in range(1,6):\n....:     for k in range(6600):\n....:         g = graphs.RandomBicubicPlanar(n)\n....:         h = g.copy(immutable=True)\n....:         resu[n].add(hash(h))\n....:     liste.append(len(resu[n]))\nsage: liste\n[1, 3, 17, 103, 642]\n```\n\nProbably a better way to check would be to return also the root edge, so that the number of different possible outputs is given by Tutte's formula in A257.",
    "created_at": "2016-12-14T10:25:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323412",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

Hmm, this algorithm does not generate only 3-connected graphs.

It seems that the sequence of numbers is not in the OEIS:

```
sage: resu = {i: set() for i in range(1,6)}
sage: liste = []                           
....: for n in range(1,6):
....:     for k in range(6600):
....:         g = graphs.RandomBicubicPlanar(n)
....:         h = g.copy(immutable=True)
....:         resu[n].add(hash(h))
....:     liste.append(len(resu[n]))
sage: liste
[1, 3, 17, 103, 642]
```

Probably a better way to check would be to return also the root edge, so that the number of different possible outputs is given by Tutte's formula in A257.



---

archive/issue_comments_323413.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@fchapoton](#comment%3A9):\n> Hmm, this algorithm does not generate only 3-connected graphs.\n\nRight - but you could drop ones that are not 3-connected,\nand also drop the marked (root) edge and count the results up to an isomorphism, and this would give you the OEIS sequence.\n\n\n> \n> It seems that the sequence of numbers is not in the OEIS:\n> \n> ```\n> sage: resu = {i: set() for i in range(1,6)}\n> sage: liste = []                           \n> ....: for n in range(1,6):\n> ....:     for k in range(6600):\n> ....:         g = graphs.RandomBicubicPlanar(n)\n> ....:         h = g.copy(immutable=True)\n> ....:         resu[n].add(hash(h))\n> ....:     liste.append(len(resu[n]))\n> sage: liste\n> [1, 3, 17, 103, 642]\n> ```\n> \n> Probably a better way to check would be to return also the root edge, so that the number of different possible outputs is given by Tutte's formula in A257.",
    "created_at": "2016-12-14T11:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323413",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@fchapoton](#comment%3A9):
> Hmm, this algorithm does not generate only 3-connected graphs.

Right - but you could drop ones that are not 3-connected,
and also drop the marked (root) edge and count the results up to an isomorphism, and this would give you the OEIS sequence.


> 
> It seems that the sequence of numbers is not in the OEIS:
> 
> ```
> sage: resu = {i: set() for i in range(1,6)}
> sage: liste = []                           
> ....: for n in range(1,6):
> ....:     for k in range(6600):
> ....:         g = graphs.RandomBicubicPlanar(n)
> ....:         h = g.copy(immutable=True)
> ....:         resu[n].add(hash(h))
> ....:     liste.append(len(resu[n]))
> sage: liste
> [1, 3, 17, 103, 642]
> ```
> 
> Probably a better way to check would be to return also the root edge, so that the number of different possible outputs is given by Tutte's formula in A257.



---

archive/issue_comments_323414.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nping ?",
    "created_at": "2016-12-31T21:12:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323414",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

ping ?



---

archive/issue_comments_323415.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nOK, can you say anything about the distribution of your random graphs?\nAsking the user to check the original article for this is a bit too much...",
    "created_at": "2016-12-31T22:06:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323415",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

OK, can you say anything about the distribution of your random graphs?
Asking the user to check the original article for this is a bit too much...



---

archive/issue_comments_323416.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHere is at least a way to check that it generates\nA000257: Number of rooted bicubic maps: a(n) = (8n-4)*a(n-1)/(n+2)\n\nA procedure to faithfully encode the rooted map in a digraph:\n\n```\ndef bicubic_dual_grand(g):\n    G = DiGraph()\n    for a, b, c in g.edges():\n        ac = a + (c,)\n        bc = b + (c,)\n        G.add_edge((ac, bc))\n        G.add_edge((bc, ac))\n    for vert in g:\n        if vert[0] == 'i':\n            clef = (0, 1, 2)\n        else:\n            clef = (1, 0, 2)\n\n        A, B, C = [vert + (c,) for c in clef]\n        G.add_edge(A, B)\n        G.add_edge(B, C)\n        G.add_edge(C, A)\n\n    op_root = [u for u in G.outgoing_edge_iterator(('n', -1, 0))\n               if u[1][0] == 'i']\n    G.delete_edge(op_root[0])\n    return G\n```\nthen\n\n```\nsage: resu = {i: set() for i in range(1,6)}\nsage: liste = []                           \n....: for n in range(1,6):\n....:     for k in range(400*n):\n....:         g = bicubic_dual_grand(graphs.RandomBicubicPlanar(n)).canonical_label()\n....:         h = g.copy(immutable=True)\n....:         resu[n].add(h)\n....:     liste.append(len(resu[n]))\nsage: liste\n```\nChecking uniformity should be doable similarly.",
    "created_at": "2017-01-01T09:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323416",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">comment:13</div>

Here is at least a way to check that it generates
A000257: Number of rooted bicubic maps: a(n) = (8n-4)*a(n-1)/(n+2)

A procedure to faithfully encode the rooted map in a digraph:

```
def bicubic_dual_grand(g):
    G = DiGraph()
    for a, b, c in g.edges():
        ac = a + (c,)
        bc = b + (c,)
        G.add_edge((ac, bc))
        G.add_edge((bc, ac))
    for vert in g:
        if vert[0] == 'i':
            clef = (0, 1, 2)
        else:
            clef = (1, 0, 2)

        A, B, C = [vert + (c,) for c in clef]
        G.add_edge(A, B)
        G.add_edge(B, C)
        G.add_edge(C, A)

    op_root = [u for u in G.outgoing_edge_iterator(('n', -1, 0))
               if u[1][0] == 'i']
    G.delete_edge(op_root[0])
    return G
```
then

```
sage: resu = {i: set() for i in range(1,6)}
sage: liste = []                           
....: for n in range(1,6):
....:     for k in range(400*n):
....:         g = bicubic_dual_grand(graphs.RandomBicubicPlanar(n)).canonical_label()
....:         h = g.copy(immutable=True)
....:         resu[n].add(h)
....:     liste.append(len(resu[n]))
sage: liste
```
Checking uniformity should be doable similarly.



---

archive/issue_comments_323417.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI don't always get all the graphs; in some runs for n=6 I get one graph less, and for n=7 I got only 1230 (instead of 1584, according to [OEIS](https://oeis.org/A000257)).\nHere is one more run of your script in the range [1..8]:\n\n```\nsage: liste\n[1, 3, 12, 56, 288, 1242, 2418]\n```\n\nI did not check, perhaps the non-uniformity is not in your branch, but somewhere else...",
    "created_at": "2017-01-01T11:21:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323417",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

I don't always get all the graphs; in some runs for n=6 I get one graph less, and for n=7 I got only 1230 (instead of 1584, according to [OEIS](https://oeis.org/A000257)).
Here is one more run of your script in the range [1..8]:

```
sage: liste
[1, 3, 12, 56, 288, 1242, 2418]
```

I did not check, perhaps the non-uniformity is not in your branch, but somewhere else...



---

archive/issue_comments_323418.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nWell, this is random generation, so probably you just need to run more times. The bound 400*n is quite arbitrary, and likely to be insufficient for n>=7. I do not know how many runs would be sufficient to get all of them with high probability.",
    "created_at": "2017-01-01T12:25:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323418",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:15" align="right">comment:15</div>

Well, this is random generation, so probably you just need to run more times. The bound 400*n is quite arbitrary, and likely to be insufficient for n>=7. I do not know how many runs would be sufficient to get all of them with high probability.



---

archive/issue_comments_323419.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@fchapoton](#comment%3A15):\n> Well, this is random generation, so probably you just need to run more times. The bound 400*n is quite arbitrary, and likely to be insufficient for n>=7. I do not know how many runs would be sufficient to get all of them with high probability.\n\nIncreasing bound to 4000*n gives\n\n```\n[1, 3, 12, 56, 288, 1584, 8710]\n```\n\nOK, this looks reasonable. If there is anything regarding the distribution in the text you refer to, please add it to the docs. Otherwise it's good to go.",
    "created_at": "2017-01-01T13:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323419",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@fchapoton](#comment%3A15):
> Well, this is random generation, so probably you just need to run more times. The bound 400*n is quite arbitrary, and likely to be insufficient for n>=7. I do not know how many runs would be sufficient to get all of them with high probability.

Increasing bound to 4000*n gives

```
[1, 3, 12, 56, 288, 1584, 8710]
```

OK, this looks reasonable. If there is anything regarding the distribution in the text you refer to, please add it to the docs. Otherwise it's good to go.



---

archive/issue_comments_323420.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThanks for your help.\n\nAs I have already explained in the doc, the distribution is uniform.",
    "created_at": "2017-01-01T13:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323420",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:17" align="right">comment:17</div>

Thanks for your help.

As I have already explained in the doc, the distribution is uniform.



---

archive/issue_events_304928.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-01-01T13:28:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21951#event-304928"
}
```



---

archive/issue_events_304929.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-01-01T13:28:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21951#event-304929"
}
```



---

archive/issue_comments_323421.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2017-01-01T13:28:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323421",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_323422.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nHappy NY!",
    "created_at": "2017-01-01T13:28:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323422",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

Happy NY!



---

archive/issue_comments_323423.json:
```json
{
    "body": "Changed branch from **[u/chapoton/21951](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21951)** to **[`e3da5b2`](https://github.com/sagemath/sagetrac-mirror/commit/e3da5b2a6996fb16143002e8053ff205cc0fd81e)**",
    "created_at": "2017-01-18T20:39:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21951#issuecomment-323423",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/21951](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21951)** to **[`e3da5b2`](https://github.com/sagemath/sagetrac-mirror/commit/e3da5b2a6996fb16143002e8053ff205cc0fd81e)**



---

archive/issue_events_304930.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-18T20:39:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21951#event-304930"
}
```



---

archive/issue_events_304931.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "15d554f220a4bca69ddbed10422cec73a89ce74b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-01-18T20:39:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21951",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21951#event-304931"
}
```
