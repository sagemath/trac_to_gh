# Issue 21400: Make libgap_exec test more portable

archive/issues_021163.json:
```json
{
    "body": "This test fails on Windows (even Cygwin) because GAP's `Exec()` function passes its input through `cmd.exe` on Windows (again, even on Cygwin), so there is no `/dev/null`.  \n\nI might consider this an upstream bug, since when running on Cygwin it should just use `$SHELL`.  In any case this improves the test slightly by also testing its output--I don't think there was a good reason to send to `/dev/null` anyways.\n\n(one could argue relying on the existence of a command called `echo` isn't portable either, but I don't think there's a system Sage works on where that wouldn't work :)\n\nKeywords: windows cygwin libgap\n\nUpstream: Not yet reported upstream; Will do shortly.\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Erik Bray\n\nBranch: c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21400\n\n",
    "closed_at": "2016-09-17T20:09:29Z",
    "created_at": "2016-09-02T14:35:26Z",
    "labels": [
        "component: porting: cygwin",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "Make libgap_exec test more portable",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21400",
    "user": "https://github.com/embray"
}
```
This test fails on Windows (even Cygwin) because GAP's `Exec()` function passes its input through `cmd.exe` on Windows (again, even on Cygwin), so there is no `/dev/null`.  

I might consider this an upstream bug, since when running on Cygwin it should just use `$SHELL`.  In any case this improves the test slightly by also testing its output--I don't think there was a good reason to send to `/dev/null` anyways.

(one could argue relying on the existence of a command called `echo` isn't portable either, but I don't think there's a system Sage works on where that wouldn't work :)

Keywords: windows cygwin libgap

Upstream: Not yet reported upstream; Will do shortly.

Reviewer: Frédéric Chapoton

Author: Erik Bray

Branch: c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21400





---

archive/issue_comments_393537.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Not yet reported upstream; Will do shortly.\"",
    "created_at": "2016-09-02T14:35:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-393537",
    "user": "https://github.com/embray"
}
```

Changing upstream from "N/A" to "Not yet reported upstream; Will do shortly."



---

archive/issue_comments_393538.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-09-02T14:35:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-393538",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_393539.json:
```json
{
    "body": "<a id='comment:3'></a>\nok, good",
    "created_at": "2016-09-14T07:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-393539",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
ok, good



---

archive/issue_comments_393540.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2016-09-14T07:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-393540",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_393541.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-09-14T07:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-393541",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_393542.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-09-17T20:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-393542",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_393543.json:
```json
{
    "body": "Changing branch from \"u/embray/cygwin/libgap-exec\" to \"c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b\"",
    "created_at": "2016-09-17T20:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-393543",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/embray/cygwin/libgap-exec" to "c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b"



---

archive/issue_events_056905.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-09-17T20:09:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21400#event-56905"
}
```



---

archive/issue_comments_393544.json:
```json
{
    "body": "Changing commit from \"c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b\" to \"\"",
    "created_at": "2016-09-22T14:50:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-393544",
    "user": "https://github.com/embray"
}
```

Changing commit from "c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b" to ""



---

archive/issue_comments_393545.json:
```json
{
    "body": "<a id='comment:5'></a>\nNote: I haven't reported this upstream yet.",
    "created_at": "2016-09-22T14:50:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-393545",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Note: I haven't reported this upstream yet.
