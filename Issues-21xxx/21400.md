# Issue 21400: Make libgap_exec test more portable

archive/issues_021163.json:
```json
{
    "body": "This test fails on Windows (even Cygwin) because GAP's `Exec()` function passes its input through `cmd.exe` on Windows (again, even on Cygwin), so there is no `/dev/null`.  \n\nI might consider this an upstream bug, since when running on Cygwin it should just use `$SHELL`.  In any case this improves the test slightly by also testing its output--I don't think there was a good reason to send to `/dev/null` anyways.\n\n(one could argue relying on the existence of a command called `echo` isn't portable either, but I don't think there's a system Sage works on where that wouldn't work :)\n\n**Keywords:** windows cygwin libgap\n\n**Branch:** [c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b](https://github.com/sagemath/sagetrac-mirror/commit/c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b)\n\n**Upstream:** Not yet reported upstream; Will do shortly.\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Erik Bray\n\nIssue created by migration from https://trac.sagemath.org/ticket/21400\n\n",
    "closed_at": "2016-09-17T20:09:29Z",
    "created_at": "2016-09-02T14:35:26Z",
    "labels": [
        "component: porting: cygwin",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "Make libgap_exec test more portable",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21400",
    "user": "https://github.com/embray"
}
```
This test fails on Windows (even Cygwin) because GAP's `Exec()` function passes its input through `cmd.exe` on Windows (again, even on Cygwin), so there is no `/dev/null`.  

I might consider this an upstream bug, since when running on Cygwin it should just use `$SHELL`.  In any case this improves the test slightly by also testing its output--I don't think there was a good reason to send to `/dev/null` anyways.

(one could argue relying on the existence of a command called `echo` isn't portable either, but I don't think there's a system Sage works on where that wouldn't work :)

**Keywords:** windows cygwin libgap

**Branch:** [c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b](https://github.com/sagemath/sagetrac-mirror/commit/c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b)

**Upstream:** Not yet reported upstream; Will do shortly.

**Reviewer:** Frédéric Chapoton

**Author:** Erik Bray

Issue created by migration from https://trac.sagemath.org/ticket/21400





---

archive/issue_comments_317392.json:
```json
{
    "body": "**Changing upstream** from \"N/A\" to \"Not yet reported upstream; Will do shortly.\".",
    "created_at": "2016-09-02T14:35:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-317392",
    "user": "https://github.com/embray"
}
```

**Changing upstream** from "N/A" to "Not yet reported upstream; Will do shortly.".



---

archive/issue_events_195397.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-09-02T14:35:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21400#event-195397"
}
```



---

archive/issue_events_195398.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-09-02T14:36:19Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "rename": {
        "from": "Max libgap_exec test more portable",
        "to": "Make libgap_exec test more portable"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21400#event-195398"
}
```



---

archive/issue_comments_317393.json:
```json
{
    "body": "<a id='comment:3'></a>\nok, good",
    "created_at": "2016-09-14T07:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-317393",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
ok, good



---

archive/issue_comments_317394.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2016-09-14T07:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-317394",
    "user": "https://github.com/fchapoton"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_events_195399.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-14T07:12:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21400#event-195399"
}
```



---

archive/issue_events_195400.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-14T07:12:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21400#event-195400"
}
```



---

archive/issue_comments_317395.json:
```json
{
    "body": "**Changing branch** from \"[u/embray/cygwin/libgap-exec](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/libgap-exec)\" to \"[c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b](https://github.com/sagemath/sagetrac-mirror/commit/c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b)\".",
    "created_at": "2016-09-17T20:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-317395",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/embray/cygwin/libgap-exec](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/libgap-exec)" to "[c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b](https://github.com/sagemath/sagetrac-mirror/commit/c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b)".



---

archive/issue_events_195401.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-09-17T20:09:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21400#event-195401"
}
```



---

archive/issue_events_195402.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-09-17T20:09:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21400#event-195402"
}
```



---

archive/issue_comments_317396.json:
```json
{
    "body": "**Changing commit** from \"[c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b](https://github.com/sagemath/sagetrac-mirror/commit/c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b)\" to \"\".",
    "created_at": "2016-09-22T14:50:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-317396",
    "user": "https://github.com/embray"
}
```

**Changing commit** from "[c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b](https://github.com/sagemath/sagetrac-mirror/commit/c6e49d9c7ea09d8b6ae29628d9cc4a874a72600b)" to "".



---

archive/issue_comments_317397.json:
```json
{
    "body": "<a id='comment:5'></a>\nNote: I haven't reported this upstream yet.",
    "created_at": "2016-09-22T14:50:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21400#issuecomment-317397",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Note: I haven't reported this upstream yet.
