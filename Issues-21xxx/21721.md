# Issue 21721: Standardize patches in fricas, frobby

archive/issues_021484.json:
```json
{
    "assignees": [],
    "body": "The packages `fricas` and `frobby` use non-standard patching.\n\nCC:  @embray @dimpase\n\nComponent: **packages: experimental**\n\nAuthor: **Jeroen Demeyer**\n\nBranch/Commit: **[`683e7b9`](https://github.com/sagemath/sagetrac-mirror/commit/683e7b9f0ac762d3da2c6ad4de2f99839bc4347c)**\n\nReviewer: **Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21721_\n\n",
    "closed_at": "2016-10-31T12:32:39Z",
    "created_at": "2016-10-18T13:29:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Standardize patches in fricas, frobby",
    "type": "issue",
    "updated_at": "2016-10-31T12:32:39Z",
    "url": "https://github.com/sagemath/sage/issues/21721",
    "user": "https://github.com/jdemeyer"
}
```
The packages `fricas` and `frobby` use non-standard patching.

CC:  @embray @dimpase

Component: **packages: experimental**

Author: **Jeroen Demeyer**

Branch/Commit: **[`683e7b9`](https://github.com/sagemath/sagetrac-mirror/commit/683e7b9f0ac762d3da2c6ad4de2f99839bc4347c)**

Reviewer: **Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/21721_





---

archive/issue_events_302097.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-18T13:29:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21721#event-302097"
}
```



---

archive/issue_events_302098.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-18T13:29:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
    "label_color": "0000b0",
    "label_name": "c: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21721#event-302098"
}
```



---

archive/issue_events_302099.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-18T13:29:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21721#event-302099"
}
```



---

archive/issue_events_302100.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-18T13:29:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21721#event-302100"
}
```



---

archive/issue_comments_319269.json:
```json
{
    "body": "Branch: **[u/jdemeyer/standardize_patches_in_fricas__frobby__gap3](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/standardize_patches_in_fricas__frobby__gap3)**",
    "created_at": "2016-10-18T14:41:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319269",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/standardize_patches_in_fricas__frobby__gap3](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/standardize_patches_in_fricas__frobby__gap3)**



---

archive/issue_comments_319270.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/683e7b9f0ac762d3da2c6ad4de2f99839bc4347c\"><code>683e7b9</code></a></td><td><code>Standardize patches in fricas and frobby</code></td></tr></table>\n",
    "created_at": "2016-10-18T14:43:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319270",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/683e7b9f0ac762d3da2c6ad4de2f99839bc4347c"><code>683e7b9</code></a></td><td><code>Standardize patches in fricas and frobby</code></td></tr></table>




---

archive/issue_comments_319271.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-The packages `fricas`, `frobby`, `gap3` use non-standard patching.\n+The packages `fricas` and `frobby` use non-standard patching.\n``````\n",
    "created_at": "2016-10-18T14:43:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319271",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-The packages `fricas`, `frobby`, `gap3` use non-standard patching.
+The packages `fricas` and `frobby` use non-standard patching.
``````




---

archive/issue_events_302101.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-18T14:43:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "title_is": "Standardize patches in fricas, frobby",
    "title_was": "Standardize patches in fricas, frobby, gap3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21721#event-302101"
}
```



---

archive/issue_comments_319272.json:
```json
{
    "body": "Commit: **[`683e7b9`](https://github.com/sagemath/sagetrac-mirror/commit/683e7b9f0ac762d3da2c6ad4de2f99839bc4347c)**",
    "created_at": "2016-10-18T14:43:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319272",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`683e7b9`](https://github.com/sagemath/sagetrac-mirror/commit/683e7b9f0ac762d3da2c6ad4de2f99839bc4347c)**



---

archive/issue_comments_319273.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI think that fricas shouldn't need the patch anymore, at least with #21377 (but I admit, I cannot package)",
    "created_at": "2016-10-18T15:39:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319273",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:3" align="right">comment:3</div>

I think that fricas shouldn't need the patch anymore, at least with #21377 (but I admit, I cannot package)



---

archive/issue_events_302102.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-18T15:58:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21721#event-302102"
}
```



---

archive/issue_comments_319274.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nCc'ing dimpase, who probably has a script that created the frobby patches.",
    "created_at": "2016-10-25T17:48:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319274",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Cc'ing dimpase, who probably has a script that created the frobby patches.



---

archive/issue_comments_319275.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@mkoeppe](#comment%3A5):\n> Cc'ing dimpase, who probably has a script that created the frobby patches.\n\nno, I think I simply used git to create/update patches.\n\nOtherwise, this simply moves things around, right?",
    "created_at": "2016-10-26T12:36:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319275",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@mkoeppe](#comment%3A5):
> Cc'ing dimpase, who probably has a script that created the frobby patches.

no, I think I simply used git to create/update patches.

Otherwise, this simply moves things around, right?



---

archive/issue_comments_319276.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis ticket *edits* the patch to make it -p1 instead of -p0\nWouldn't it be better if there was a public git of the modified frobby, and a script that regenerated the patches?",
    "created_at": "2016-10-28T21:39:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319276",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

This ticket *edits* the patch to make it -p1 instead of -p0
Wouldn't it be better if there was a public git of the modified frobby, and a script that regenerated the patches?



---

archive/issue_comments_319277.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI don't think that we ever use scripts in Sage to generate patches...",
    "created_at": "2016-10-28T23:40:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319277",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

I don't think that we ever use scripts in Sage to generate patches...



---

archive/issue_comments_319278.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI know that we don't (with [some](https://github.com/sagemath/sage/blob/master/build/pkgs/gc/patches/0001-Workaround-missing-getcontext-in-Docker-osrf-ubuntu_.patch) [exceptions](https://github.com/sagemath/sage/tree/master/build/pkgs/scipoptsuite/patches/scip)), but my point is that it would be better if we did.\nOur patch management seems ad-hoc (in contrast for example to Debian's tools and documented workflow for this)\nand few people seem to be aware of `git format-patch`, which can be used to create a set of patches.",
    "created_at": "2016-10-29T00:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319278",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

I know that we don't (with [some](https://github.com/sagemath/sage/blob/master/build/pkgs/gc/patches/0001-Workaround-missing-getcontext-in-Docker-osrf-ubuntu_.patch) [exceptions](https://github.com/sagemath/sage/tree/master/build/pkgs/scipoptsuite/patches/scip)), but my point is that it would be better if we did.
Our patch management seems ad-hoc (in contrast for example to Debian's tools and documented workflow for this)
and few people seem to be aware of `git format-patch`, which can be used to create a set of patches.



---

archive/issue_comments_319279.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI [used](https://github.com/sagemath/sagetrac-mirror/blob/3c280228256c02dcba6e6a8df2bcb98625031613/build/pkgs/maxima/patches/0001-In-eigenvectors-iterate-over-all-eigenvalues.patch&id2=26d412436c7199d6380cf397e2aa4ad9ed3e517d) `git format-patch` yesterday for the 1st time :-)",
    "created_at": "2016-10-29T00:28:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319279",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

I [used](https://github.com/sagemath/sagetrac-mirror/blob/3c280228256c02dcba6e6a8df2bcb98625031613/build/pkgs/maxima/patches/0001-In-eigenvectors-iterate-over-all-eigenvalues.patch&id2=26d412436c7199d6380cf397e2aa4ad9ed3e517d) `git format-patch` yesterday for the 1st time :-)



---

archive/issue_comments_319280.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nNice. Let's add a short section on how to manage patchsets with git format-patch to the developers' guide...",
    "created_at": "2016-10-29T00:30:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319280",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

Nice. Let's add a short section on how to manage patchsets with git format-patch to the developers' guide...



---

archive/issue_comments_319281.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThis is #21781.",
    "created_at": "2016-10-29T00:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319281",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

This is #21781.



---

archive/issue_comments_319282.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2016-10-29T00:39:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319282",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_events_302103.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-10-29T00:39:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21721#event-302103"
}
```



---

archive/issue_events_302104.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-10-29T00:39:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21721#event-302104"
}
```



---

archive/issue_events_302105.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-31T12:32:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21721#event-302105"
}
```



---

archive/issue_events_302106.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "41e9f603f0b58da28566c70a2f43c3fa108ebaa7",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-10-31T12:32:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21721#event-302106"
}
```



---

archive/issue_comments_319283.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/standardize_patches_in_fricas__frobby__gap3](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/standardize_patches_in_fricas__frobby__gap3)** to **[`683e7b9`](https://github.com/sagemath/sagetrac-mirror/commit/683e7b9f0ac762d3da2c6ad4de2f99839bc4347c)**",
    "created_at": "2016-10-31T12:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21721#issuecomment-319283",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/standardize_patches_in_fricas__frobby__gap3](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/standardize_patches_in_fricas__frobby__gap3)** to **[`683e7b9`](https://github.com/sagemath/sagetrac-mirror/commit/683e7b9f0ac762d3da2c6ad4de2f99839bc4347c)**
