# Issue 21571: Install COPYING.txt

archive/issues_021334.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nUse the installed location for `COPYING.txt` from `sage.misc.copying`.\n\nUse `src/doc/bootstrap` to install a copy in `src/doc` somewhere as preparation for installation.\n\nPerhaps autogenerate `COPYING.txt` from portions in `build/pkgs/`\n\nDepends on #30912\n\nCC:  @williamstein @vbraun @jdemeyer @dimpase @tobihan @kiwifb @infinity0 @orlitzky\n\nComponent: **build**\n\nKeywords: **sd111**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21571_\n\n",
    "created_at": "2016-09-22T22:50:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Install COPYING.txt",
    "type": "issue",
    "updated_at": "2022-08-31T02:51:13Z",
    "url": "https://github.com/sagemath/sage/issues/21571",
    "user": "https://github.com/mkoeppe"
}
```
<div id="comment:0"></div>

Use the installed location for `COPYING.txt` from `sage.misc.copying`.

Use `src/doc/bootstrap` to install a copy in `src/doc` somewhere as preparation for installation.

Perhaps autogenerate `COPYING.txt` from portions in `build/pkgs/`

Depends on #30912

CC:  @williamstein @vbraun @jdemeyer @dimpase @tobihan @kiwifb @infinity0 @orlitzky

Component: **build**

Keywords: **sd111**

_Issue created by migration from https://trac.sagemath.org/ticket/21571_





---

archive/issue_events_300204.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-22T22:50:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300204"
}
```



---

archive/issue_events_300205.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-22T22:50:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300205"
}
```



---

archive/issue_events_300206.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-22T22:50:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300206"
}
```



---

archive/issue_events_300207.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-22T22:50:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300207"
}
```



---

archive/issue_comments_316637.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI was about to make this ticket as well...",
    "created_at": "2016-09-29T14:26:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316637",
    "user": "https://github.com/embray"
}
```

<div id="comment:1" align="right">comment:1</div>

I was about to make this ticket as well...



---

archive/issue_comments_316638.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nPlease feel free to work on it, or any other of the tickets that I have created. \nIf I didn't put my name on \"Authors\", I haven't done any work on it yet; so there's no danger of duplicating work.",
    "created_at": "2016-09-29T17:38:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316638",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

Please feel free to work on it, or any other of the tickets that I have created. 
If I didn't put my name on "Authors", I haven't done any work on it yet; so there's no danger of duplicating work.



---

archive/issue_comments_316639.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI think really, to get this right more work needs to be done on cleaning up the setup.py.",
    "created_at": "2016-09-30T09:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316639",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">comment:3</div>

I think really, to get this right more work needs to be done on cleaning up the setup.py.



---

archive/issue_comments_316640.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@embray](#comment%3A3):\n> I think really, to get this right more work needs to be done on cleaning up the setup.py.\n\nIs it feasible to do this one on top of #21604 and #21600, or is more cleaning needed first?",
    "created_at": "2016-10-15T05:55:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316640",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@embray](#comment%3A3):
> I think really, to get this right more work needs to be done on cleaning up the setup.py.

Is it feasible to do this one on top of #21604 and #21600, or is more cleaning needed first?



---

archive/issue_comments_316641.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI mean, part of the problem is \"COPYING.txt\" does not even exist in the root of the Python source code (that is, at or below setup.py).  When we make a source distribution of sagelib it's going to have to have all the files it needs in it.  So for starters we're going to have to copy COPYING.txt into src/",
    "created_at": "2016-10-17T09:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316641",
    "user": "https://github.com/embray"
}
```

<div id="comment:5" align="right">comment:5</div>

I mean, part of the problem is "COPYING.txt" does not even exist in the root of the Python source code (that is, at or below setup.py).  When we make a source distribution of sagelib it's going to have to have all the files it needs in it.  So for starters we're going to have to copy COPYING.txt into src/



---

archive/issue_comments_316642.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nInstead of copying, perhaps we can move it to `src/`\nand replace it by a very short notice in `COPYING.txt`, pointing the user to `src/COPYING.txt` for more detail.\nThis would avoid duplication.",
    "created_at": "2016-10-18T06:11:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316642",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Instead of copying, perhaps we can move it to `src/`
and replace it by a very short notice in `COPYING.txt`, pointing the user to `src/COPYING.txt` for more detail.
This would avoid duplication.



---

archive/issue_comments_316643.json:
```json
{
    "body": "Branch: **[u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py)**",
    "created_at": "2016-10-19T01:03:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316643",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py)**



---

archive/issue_events_300208.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-10-19T01:05:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300208"
}
```



---

archive/issue_events_300209.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-10-19T01:05:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300209"
}
```



---

archive/issue_comments_316644.json:
```json
{
    "body": "Commit: **[`91f7b9a`](https://github.com/sagemath/sagetrac-mirror/commit/91f7b9a81eb741d5f7a1cf3591767644652da946)**",
    "created_at": "2016-10-19T01:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316644",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`91f7b9a`](https://github.com/sagemath/sagetrac-mirror/commit/91f7b9a81eb741d5f7a1cf3591767644652da946)**



---

archive/issue_comments_316645.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nCc'ing a few people to see if this change to the layout of the license file(s) is acceptable.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91f7b9a81eb741d5f7a1cf3591767644652da946\"><code>91f7b9a</code></a></td><td><code>Move COPYING.txt to src/COPYING.txt, leaving behind a short notice</code></td></tr></table>\n",
    "created_at": "2016-10-19T01:05:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316645",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Cc'ing a few people to see if this change to the layout of the license file(s) is acceptable.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91f7b9a81eb741d5f7a1cf3591767644652da946"><code>91f7b9a</code></a></td><td><code>Move COPYING.txt to src/COPYING.txt, leaving behind a short notice</code></td></tr></table>




---

archive/issue_comments_316646.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI have a slight preference for just copying it.  My mind is still that sagelib and all stuff related to the distribution should eventually be split into separate repositories.  But that's of course an uphill battle so I'm fine with any interim solution.",
    "created_at": "2016-11-07T11:41:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316646",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">comment:9</div>

I have a slight preference for just copying it.  My mind is still that sagelib and all stuff related to the distribution should eventually be split into separate repositories.  But that's of course an uphill battle so I'm fine with any interim solution.



---

archive/issue_comments_316647.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nActually, now that I take a closer look the license file for sagelib should really be entirely different.  Almost none of the copyright notices for all the differenge sage packages apply to sagelib itself.  Instead src/COPYING.txt could probably be little more than another copy of the applicable GPL.",
    "created_at": "2016-11-07T11:43:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316647",
    "user": "https://github.com/embray"
}
```

<div id="comment:10" align="right">comment:10</div>

Actually, now that I take a closer look the license file for sagelib should really be entirely different.  Almost none of the copyright notices for all the differenge sage packages apply to sagelib itself.  Instead src/COPYING.txt could probably be little more than another copy of the applicable GPL.



---

archive/issue_comments_316648.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nBut we need a comprehensive license file to display to the user. It should display all relevant licenses of the packages that Sage uses, as it does now.",
    "created_at": "2016-11-10T06:47:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316648",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

But we need a comprehensive license file to display to the user. It should display all relevant licenses of the packages that Sage uses, as it does now.



---

archive/issue_comments_316649.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThat's....not true.  It only needs to include licences for sources that are distributed with it.  It does not need to be distributed with licences for all packages it might happen to link to.",
    "created_at": "2016-11-10T11:44:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316649",
    "user": "https://github.com/embray"
}
```

<div id="comment:12" align="right">comment:12</div>

That's....not true.  It only needs to include licences for sources that are distributed with it.  It does not need to be distributed with licences for all packages it might happen to link to.



---

archive/issue_comments_316650.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSage-the-distribution provides its own distribution for all those packages so it makes sense there. But the \"COPYING.txt\" for sagelib itself only needs the licence for sagelib.",
    "created_at": "2016-11-10T11:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316650",
    "user": "https://github.com/embray"
}
```

<div id="comment:13" align="right">comment:13</div>

Sage-the-distribution provides its own distribution for all those packages so it makes sense there. But the "COPYING.txt" for sagelib itself only needs the licence for sagelib.



---

archive/issue_comments_316651.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI agree with Erik. The licenses of Sage-the-distribution and Sage-the-library should not be confused. Whatever goes into `src` should be about Sage-the-library only.",
    "created_at": "2016-11-10T19:26:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316651",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

I agree with Erik. The licenses of Sage-the-distribution and Sage-the-library should not be confused. Whatever goes into `src` should be about Sage-the-library only.



---

archive/issue_comments_316652.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAre you saying that \n\n```\nsage: copying()\n```\nshould only print the license of sagelib?",
    "created_at": "2016-11-10T19:30:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316652",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Are you saying that 

```
sage: copying()
```
should only print the license of sagelib?



---

archive/issue_comments_316653.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nCc'ing people who work on distro packaging to get more input on what `copying()` should print.",
    "created_at": "2016-12-30T02:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316653",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Cc'ing people who work on distro packaging to get more input on what `copying()` should print.



---

archive/issue_comments_316654.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI don't know what `copying()` should print, but the license file that needs to be included in the source tarball for just sagelib should just be the license for sagelib.\n\nPerhaps, if the full sage distribution license file is installed to a standard place in the sage distribution then `copying()` could also try to read and display that.  But if sage is installed, say, by a Linux distro not using the full sage distribution then it's not as relevant.",
    "created_at": "2016-12-30T12:00:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316654",
    "user": "https://github.com/embray"
}
```

<div id="comment:17" align="right">comment:17</div>

I don't know what `copying()` should print, but the license file that needs to be included in the source tarball for just sagelib should just be the license for sagelib.

Perhaps, if the full sage distribution license file is installed to a standard place in the sage distribution then `copying()` could also try to read and display that.  But if sage is installed, say, by a Linux distro not using the full sage distribution then it's not as relevant.



---

archive/issue_comments_316655.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI patched the Debian package to display the Debian copyright file for `copying()`:\n\nhttps://anonscm.debian.org/cgit/debian-science/packages/sagemath.git/tree/debian/copyright\n\nwhich is basically everything not in the spkgs (which we're using Debian packages in the place of). So, sagelib but also build scripts and other misc things left in the source tree.",
    "created_at": "2017-01-06T10:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316655",
    "user": "https://github.com/infinity0"
}
```

<div id="comment:18" align="right">comment:18</div>

I patched the Debian package to display the Debian copyright file for `copying()`:

https://anonscm.debian.org/cgit/debian-science/packages/sagemath.git/tree/debian/copyright

which is basically everything not in the spkgs (which we're using Debian packages in the place of). So, sagelib but also build scripts and other misc things left in the source tree.



---

archive/issue_events_300210.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-09T13:47:24Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "title_is": "Install COPYING.txt and VERSION.txt",
    "title_was": "Install COPYING.txt in SAGE_LOCAL and use it from misc/copying.py",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300210"
}
```



---

archive/issue_comments_316656.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1 @@\n-(Currently it's referring to SAGE_ROOT.)\n-\n+Use the installed location for `COPYING.txt` from `sage.misc.copying`.\n``````\n",
    "created_at": "2018-04-09T13:47:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316656",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1 @@
-(Currently it's referring to SAGE_ROOT.)
-
+Use the installed location for `COPYING.txt` from `sage.misc.copying`.
``````




---

archive/issue_comments_316657.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nPer the title, this should apply a similar fix for `VERSION.txt` as discussed in [#25056 comment:39](https://github.com/sagemath/sage/issues/25056#comment:39)",
    "created_at": "2018-04-11T12:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316657",
    "user": "https://github.com/embray"
}
```

<div id="comment:20" align="right">comment:20</div>

Per the title, this should apply a similar fix for `VERSION.txt` as discussed in [#25056 comment:39](https://github.com/sagemath/sage/issues/25056#comment:39)



---

archive/issue_comments_316658.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThe branch needs to be rebased. And we have to be clear about what we are doing here. #25056 means that in sage-8.2 the sage start up script will refer to `SAGE_ROOT/VERSION.txt` I fixed that in sage-on-gentoo but it will bite debian and the other.\n\nWe should have a consensus on where those files live and apply it.",
    "created_at": "2018-04-11T20:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316658",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:21" align="right">comment:21</div>

The branch needs to be rebased. And we have to be clear about what we are doing here. #25056 means that in sage-8.2 the sage start up script will refer to `SAGE_ROOT/VERSION.txt` I fixed that in sage-on-gentoo but it will bite debian and the other.

We should have a consensus on where those files live and apply it.



---

archive/issue_comments_316659.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nUpon re-reading this issue I don't think we should conflate handling of VERSION.txt into it.  There was still some question in this issue as to handle the actual license text--IMO there needs to be separate license files covering Sage-the-distribution (and hence licenses of all the bundled software and the license for the build tools) and Sage-the-library.\n\nThe VERSION.txt issue is simply matter of having a reasonable standard place to install this file.  I will open a new ticket for that with a proposed solution and set it as a blocker for 8.2.",
    "created_at": "2018-04-12T09:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316659",
    "user": "https://github.com/embray"
}
```

<div id="comment:22" align="right">comment:22</div>

Upon re-reading this issue I don't think we should conflate handling of VERSION.txt into it.  There was still some question in this issue as to handle the actual license text--IMO there needs to be separate license files covering Sage-the-distribution (and hence licenses of all the bundled software and the license for the build tools) and Sage-the-library.

The VERSION.txt issue is simply matter of having a reasonable standard place to install this file.  I will open a new ticket for that with a proposed solution and set it as a blocker for 8.2.



---

archive/issue_events_300211.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-12T09:17:41Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "title_is": "Install COPYING.txt",
    "title_was": "Install COPYING.txt and VERSION.txt",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300211"
}
```



---

archive/issue_comments_316660.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@embray](#comment%3A22):\n> The VERSION.txt issue is simply matter of having a reasonable standard\n> place to install this file.  I will open a new ticket for that with a\n> proposed solution and set it as a blocker for 8.2.\n\nFor reference the new ticket Erik opened for this is #25150.",
    "created_at": "2018-04-26T14:30:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316660",
    "user": "https://github.com/slel"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@embray](#comment%3A22):
> The VERSION.txt issue is simply matter of having a reasonable standard
> place to install this file.  I will open a new ticket for that with a
> proposed solution and set it as a blocker for 8.2.

For reference the new ticket Erik opened for this is #25150.



---

archive/issue_comments_316661.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nShould each package have a file with its license, and then COPYING.txt would be autogenerated from those? Either from all standard packages, or from all packages, or from all packages which will be installed according to `./configure`.",
    "created_at": "2020-07-18T03:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316661",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:24" align="right">comment:24</div>

Should each package have a file with its license, and then COPYING.txt would be autogenerated from those? Either from all standard packages, or from all packages, or from all packages which will be installed according to `./configure`.



---

archive/issue_comments_316662.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jhpalmieri](#comment%3A24):\n> Should each package have a file with its license, and then COPYING.txt would be autogenerated from those? Either from all standard packages, or from all packages, or from all packages which will be installed according to `./configure`.\n\nI don't think that is necessary. Each package should install its own license if required. The question is specifically about `sagelib`'s `COPYING.txt` file which is currently under `SAGE_ROOT` and `sage/misc/copying.py` is looking for it exactly there which is inconvenient for distros.\n\nI think doing something like #27171 would be appropriate.",
    "created_at": "2020-07-18T03:55:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316662",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jhpalmieri](#comment%3A24):
> Should each package have a file with its license, and then COPYING.txt would be autogenerated from those? Either from all standard packages, or from all packages, or from all packages which will be installed according to `./configure`.

I don't think that is necessary. Each package should install its own license if required. The question is specifically about `sagelib`'s `COPYING.txt` file which is currently under `SAGE_ROOT` and `sage/misc/copying.py` is looking for it exactly there which is inconvenient for distros.

I think doing something like #27171 would be appropriate.



---

archive/issue_events_300212.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-10T21:09:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300212"
}
```



---

archive/issue_events_300213.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-10T21:09:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300213"
}
```



---

archive/issue_comments_316663.json:
```json
{
    "body": "Changed keywords from none to **sd111**",
    "created_at": "2020-12-10T21:09:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316663",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from none to **sd111**



---

archive/issue_comments_316664.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n Use the installed location for `COPYING.txt` from `sage.misc.copying`.\n+\n+Use `src/doc/bootstrap` to install a copy in `src/doc` somewhere as preparation for installation.\n+\n+Perhaps autogenerate `COPYING.txt` from portions in `build/pkgs/`\n``````\n",
    "created_at": "2020-12-10T21:31:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316664",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 Use the installed location for `COPYING.txt` from `sage.misc.copying`.
+
+Use `src/doc/bootstrap` to install a copy in `src/doc` somewhere as preparation for installation.
+
+Perhaps autogenerate `COPYING.txt` from portions in `build/pkgs/`
``````




---

archive/issue_comments_316665.json:
```json
{
    "body": "Changed commit from **[`91f7b9a`](https://github.com/sagemath/sagetrac-mirror/commit/91f7b9a81eb741d5f7a1cf3591767644652da946)** to none",
    "created_at": "2020-12-11T01:16:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316665",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`91f7b9a`](https://github.com/sagemath/sagetrac-mirror/commit/91f7b9a81eb741d5f7a1cf3591767644652da946)** to none



---

archive/issue_comments_316666.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py)** to none",
    "created_at": "2020-12-11T01:16:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316666",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py)** to none



---

archive/issue_comments_316667.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nSome thought should go into this one. First... we don't install COPYING.txt in Gentoo because it's redundant. The type of license is part of the package, and it's up to the maintainer to figure out what license type should go in the package. (This allows users to restrict what licenses are allowed on his machine.)\n\nOne consequence of that is that the Gentoo developer has to dig through the source of the package, and list every license that he sees. If the main project is GPL-2 but if one file says BSD at the top, we include both. This is not legally accurate, though; it's done only because we don't want maintainers to have to worry about legal issues! So if you decide to include every COPYING.txt from every spkg, be aware that you're doing essentially the same thing.\n\nThis overlooks two subtle issues. The first is that. when installed, all of the licenses used had damned well better be compatible. If not, you have a legal problem.\n\nThen, if they are compatible, they are often subsumed into the most restrictive license in a way that makes e.g. \"GPL-3\" the only effective license. If you release code as public domain, I can take it and make it GPL-3. So while I may say that my package has both \"public domain\" and \"GPL-3\" code, it would make more sense to say that the license is GPL-3. When linked, it will be the GPL-3 that is in effect. Adding a COPYING.txt that mentions the public domain would be misleading at best.\n\nSo, to summarize, copyright is stupid, and we should be really sure that we know what problem we're trying to solve here before we solve it.",
    "created_at": "2020-12-11T19:56:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316667",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:29" align="right">comment:29</div>

Some thought should go into this one. First... we don't install COPYING.txt in Gentoo because it's redundant. The type of license is part of the package, and it's up to the maintainer to figure out what license type should go in the package. (This allows users to restrict what licenses are allowed on his machine.)

One consequence of that is that the Gentoo developer has to dig through the source of the package, and list every license that he sees. If the main project is GPL-2 but if one file says BSD at the top, we include both. This is not legally accurate, though; it's done only because we don't want maintainers to have to worry about legal issues! So if you decide to include every COPYING.txt from every spkg, be aware that you're doing essentially the same thing.

This overlooks two subtle issues. The first is that. when installed, all of the licenses used had damned well better be compatible. If not, you have a legal problem.

Then, if they are compatible, they are often subsumed into the most restrictive license in a way that makes e.g. "GPL-3" the only effective license. If you release code as public domain, I can take it and make it GPL-3. So while I may say that my package has both "public domain" and "GPL-3" code, it would make more sense to say that the license is GPL-3. When linked, it will be the GPL-3 that is in effect. Adding a COPYING.txt that mentions the public domain would be misleading at best.

So, to summarize, copyright is stupid, and we should be really sure that we know what problem we're trying to solve here before we solve it.



---

archive/issue_comments_316668.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nTechnical aspect first: currently sage has a function called license that essentially read `COPYING.txt` located in SAGE_ROOT. And it is doctested. \n\nAs you can imagine, it thrills me. \n\nThe second issue is that the current file which is a meta distribution COPYING.txt is supposed to aggregate the license of all the packages shipped. As a set file, unless it lists all possible licenses ever, it is obsolete by design. It ought to be generated.\n\nLegal point, yes copyright can be stupid. But license compatibility really kicks in when you distribute binaries. So long as you distribute only source code and you build it yourself, you don't have to worry about it. Of course who does build by themselves these days :) \n\nAs sage-on-gentoo I seek a solution to the first aspect. Runtime shouldn't depend on SAGE_ROOT. sagemath needs to fix the second aspect as well for themselves.",
    "created_at": "2020-12-11T20:08:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316668",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:30" align="right">comment:30</div>

Technical aspect first: currently sage has a function called license that essentially read `COPYING.txt` located in SAGE_ROOT. And it is doctested. 

As you can imagine, it thrills me. 

The second issue is that the current file which is a meta distribution COPYING.txt is supposed to aggregate the license of all the packages shipped. As a set file, unless it lists all possible licenses ever, it is obsolete by design. It ought to be generated.

Legal point, yes copyright can be stupid. But license compatibility really kicks in when you distribute binaries. So long as you distribute only source code and you build it yourself, you don't have to worry about it. Of course who does build by themselves these days :) 

As sage-on-gentoo I seek a solution to the first aspect. Runtime shouldn't depend on SAGE_ROOT. sagemath needs to fix the second aspect as well for themselves.



---

archive/issue_comments_316669.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThe technical problem can be solved by deleting `sage.misc.copying` =P\n\nThe legal issues can be solved by... somebody else.",
    "created_at": "2020-12-11T20:12:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316669",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:31" align="right">comment:31</div>

The technical problem can be solved by deleting `sage.misc.copying` =P

The legal issues can be solved by... somebody else.



---

archive/issue_comments_316670.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI'll add a simple license file for sagelib only to `src/` in #30912",
    "created_at": "2020-12-11T23:41:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316670",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

I'll add a simple license file for sagelib only to `src/` in #30912



---

archive/issue_comments_316671.json:
```json
{
    "body": "Dependencies: **#30912**",
    "created_at": "2020-12-12T00:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316671",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#30912**



---

archive/issue_comments_316672.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21571#issuecomment-316672",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:34" align="right">comment:34</div>

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_300214.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300214"
}
```



---

archive/issue_events_300215.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300215"
}
```



---

archive/issue_events_300216.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300216"
}
```



---

archive/issue_events_300217.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300217"
}
```



---

archive/issue_events_300218.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300218"
}
```



---

archive/issue_events_300219.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300219"
}
```



---

archive/issue_events_300220.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300220"
}
```



---

archive/issue_events_300221.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300221"
}
```



---

archive/issue_events_300222.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300222"
}
```



---

archive/issue_events_300223.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21571",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21571#event-300223"
}
```
