# Issue 21571: Install COPYING.txt

archive/issues_021334.json:
```json
{
    "body": "Use the installed location for `COPYING.txt` from `sage.misc.copying`.\n\nUse `src/doc/bootstrap` to install a copy in `src/doc` somewhere as preparation for installation.\n\nPerhaps autogenerate `COPYING.txt` from portions in `build/pkgs/`\n\nCC:  @williamstein @vbraun @jdemeyer @dimpase @tobihan @kiwifb @infinity0 @orlitzky\n\nKeywords: sd111\n\nStatus: new\n\nDependencies: #30912\n\nIssue created by migration from https://trac.sagemath.org/ticket/21571\n\n",
    "created_at": "2016-09-22T22:50:19Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Install COPYING.txt",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21571",
    "user": "https://github.com/mkoeppe"
}
```
Use the installed location for `COPYING.txt` from `sage.misc.copying`.

Use `src/doc/bootstrap` to install a copy in `src/doc` somewhere as preparation for installation.

Perhaps autogenerate `COPYING.txt` from portions in `build/pkgs/`

CC:  @williamstein @vbraun @jdemeyer @dimpase @tobihan @kiwifb @infinity0 @orlitzky

Keywords: sd111

Status: new

Dependencies: #30912

Issue created by migration from https://trac.sagemath.org/ticket/21571





---

archive/issue_comments_400489.json:
```json
{
    "body": "<a id='comment:1'></a>\nI was about to make this ticket as well...",
    "created_at": "2016-09-29T14:26:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400489",
    "user": "https://github.com/embray"
}
```

<a id='comment:1'></a>
I was about to make this ticket as well...



---

archive/issue_comments_400490.json:
```json
{
    "body": "<a id='comment:2'></a>\nPlease feel free to work on it, or any other of the tickets that I have created. \nIf I didn't put my name on \"Authors\", I haven't done any work on it yet; so there's no danger of duplicating work.",
    "created_at": "2016-09-29T17:38:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400490",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Please feel free to work on it, or any other of the tickets that I have created. 
If I didn't put my name on "Authors", I haven't done any work on it yet; so there's no danger of duplicating work.



---

archive/issue_comments_400491.json:
```json
{
    "body": "<a id='comment:3'></a>\nI think really, to get this right more work needs to be done on cleaning up the setup.py.",
    "created_at": "2016-09-30T09:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400491",
    "user": "https://github.com/embray"
}
```

<a id='comment:3'></a>
I think really, to get this right more work needs to be done on cleaning up the setup.py.



---

archive/issue_comments_400492.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [embray](#comment%3A3):\n> I think really, to get this right more work needs to be done on cleaning up the setup.py.\n\n\nIs it feasible to do this one on top of #21604 and #21600, or is more cleaning needed first?",
    "created_at": "2016-10-15T05:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400492",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
Replying to [embray](#comment%3A3):
> I think really, to get this right more work needs to be done on cleaning up the setup.py.


Is it feasible to do this one on top of #21604 and #21600, or is more cleaning needed first?



---

archive/issue_comments_400493.json:
```json
{
    "body": "<a id='comment:5'></a>\nI mean, part of the problem is \"COPYING.txt\" does not even exist in the root of the Python source code (that is, at or below setup.py).  When we make a source distribution of sagelib it's going to have to have all the files it needs in it.  So for starters we're going to have to copy COPYING.txt into src/",
    "created_at": "2016-10-17T09:18:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400493",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
I mean, part of the problem is "COPYING.txt" does not even exist in the root of the Python source code (that is, at or below setup.py).  When we make a source distribution of sagelib it's going to have to have all the files it needs in it.  So for starters we're going to have to copy COPYING.txt into src/



---

archive/issue_comments_400494.json:
```json
{
    "body": "<a id='comment:6'></a>\nInstead of copying, perhaps we can move it to `src/`\nand replace it by a very short notice in `COPYING.txt`, pointing the user to `src/COPYING.txt` for more detail.\nThis would avoid duplication.",
    "created_at": "2016-10-18T06:11:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400494",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Instead of copying, perhaps we can move it to `src/`
and replace it by a very short notice in `COPYING.txt`, pointing the user to `src/COPYING.txt` for more detail.
This would avoid duplication.



---

archive/issue_comments_400495.json:
```json
{
    "body": "Branch: [u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py)",
    "created_at": "2016-10-19T01:03:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400495",
    "user": "https://github.com/mkoeppe"
}
```

Branch: [u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py)



---

archive/issue_events_065072.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-10-19T01:05:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65072"
}
```



---

archive/issue_comments_400496.json:
```json
{
    "body": "Commit: [91f7b9a81eb741d5f7a1cf3591767644652da946](https://github.com/sagemath/sagetrac-mirror/commit/91f7b9a81eb741d5f7a1cf3591767644652da946)",
    "created_at": "2016-10-19T01:05:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400496",
    "user": "https://github.com/mkoeppe"
}
```

Commit: [91f7b9a81eb741d5f7a1cf3591767644652da946](https://github.com/sagemath/sagetrac-mirror/commit/91f7b9a81eb741d5f7a1cf3591767644652da946)



---

archive/issue_comments_400497.json:
```json
{
    "body": "<a id='comment:8'></a>\nCc'ing a few people to see if this change to the layout of the license file(s) is acceptable.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[91f7b9a](https://github.com/sagemath/sagetrac-mirror/commit/91f7b9a81eb741d5f7a1cf3591767644652da946)|`Move COPYING.txt to src/COPYING.txt, leaving behind a short notice`|",
    "created_at": "2016-10-19T01:05:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400497",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Cc'ing a few people to see if this change to the layout of the license file(s) is acceptable.

---
New commits:
|                                                                                                                                          |                                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[91f7b9a](https://github.com/sagemath/sagetrac-mirror/commit/91f7b9a81eb741d5f7a1cf3591767644652da946)|`Move COPYING.txt to src/COPYING.txt, leaving behind a short notice`|



---

archive/issue_comments_400498.json:
```json
{
    "body": "<a id='comment:9'></a>\nI have a slight preference for just copying it.  My mind is still that sagelib and all stuff related to the distribution should eventually be split into separate repositories.  But that's of course an uphill battle so I'm fine with any interim solution.",
    "created_at": "2016-11-07T11:41:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400498",
    "user": "https://github.com/embray"
}
```

<a id='comment:9'></a>
I have a slight preference for just copying it.  My mind is still that sagelib and all stuff related to the distribution should eventually be split into separate repositories.  But that's of course an uphill battle so I'm fine with any interim solution.



---

archive/issue_comments_400499.json:
```json
{
    "body": "<a id='comment:10'></a>\nActually, now that I take a closer look the license file for sagelib should really be entirely different.  Almost none of the copyright notices for all the differenge sage packages apply to sagelib itself.  Instead src/COPYING.txt could probably be little more than another copy of the applicable GPL.",
    "created_at": "2016-11-07T11:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400499",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'></a>
Actually, now that I take a closer look the license file for sagelib should really be entirely different.  Almost none of the copyright notices for all the differenge sage packages apply to sagelib itself.  Instead src/COPYING.txt could probably be little more than another copy of the applicable GPL.



---

archive/issue_comments_400500.json:
```json
{
    "body": "<a id='comment:11'></a>\nBut we need a comprehensive license file to display to the user. It should display all relevant licenses of the packages that Sage uses, as it does now.",
    "created_at": "2016-11-10T06:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400500",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
But we need a comprehensive license file to display to the user. It should display all relevant licenses of the packages that Sage uses, as it does now.



---

archive/issue_comments_400501.json:
```json
{
    "body": "<a id='comment:12'></a>\nThat's....not true.  It only needs to include licences for sources that are distributed with it.  It does not need to be distributed with licences for all packages it might happen to link to.",
    "created_at": "2016-11-10T11:44:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400501",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'></a>
That's....not true.  It only needs to include licences for sources that are distributed with it.  It does not need to be distributed with licences for all packages it might happen to link to.



---

archive/issue_comments_400502.json:
```json
{
    "body": "<a id='comment:13'></a>\nSage-the-distribution provides its own distribution for all those packages so it makes sense there. But the \"COPYING.txt\" for sagelib itself only needs the licence for sagelib.",
    "created_at": "2016-11-10T11:46:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400502",
    "user": "https://github.com/embray"
}
```

<a id='comment:13'></a>
Sage-the-distribution provides its own distribution for all those packages so it makes sense there. But the "COPYING.txt" for sagelib itself only needs the licence for sagelib.



---

archive/issue_comments_400503.json:
```json
{
    "body": "<a id='comment:14'></a>\nI agree with Erik. The licenses of Sage-the-distribution and Sage-the-library should not be confused. Whatever goes into `src` should be about Sage-the-library only.",
    "created_at": "2016-11-10T19:26:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400503",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
I agree with Erik. The licenses of Sage-the-distribution and Sage-the-library should not be confused. Whatever goes into `src` should be about Sage-the-library only.



---

archive/issue_comments_400504.json:
```json
{
    "body": "<a id='comment:15'></a>\nAre you saying that \n\n```\nsage: copying()\n```\nshould only print the license of sagelib?",
    "created_at": "2016-11-10T19:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400504",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
Are you saying that 

```
sage: copying()
```
should only print the license of sagelib?



---

archive/issue_comments_400505.json:
```json
{
    "body": "<a id='comment:16'></a>\nCc'ing people who work on distro packaging to get more input on what `copying()` should print.",
    "created_at": "2016-12-30T02:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400505",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Cc'ing people who work on distro packaging to get more input on what `copying()` should print.



---

archive/issue_comments_400506.json:
```json
{
    "body": "<a id='comment:17'></a>\nI don't know what `copying()` should print, but the license file that needs to be included in the source tarball for just sagelib should just be the license for sagelib.\n\nPerhaps, if the full sage distribution license file is installed to a standard place in the sage distribution then `copying()` could also try to read and display that.  But if sage is installed, say, by a Linux distro not using the full sage distribution then it's not as relevant.",
    "created_at": "2016-12-30T12:00:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400506",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'></a>
I don't know what `copying()` should print, but the license file that needs to be included in the source tarball for just sagelib should just be the license for sagelib.

Perhaps, if the full sage distribution license file is installed to a standard place in the sage distribution then `copying()` could also try to read and display that.  But if sage is installed, say, by a Linux distro not using the full sage distribution then it's not as relevant.



---

archive/issue_comments_400507.json:
```json
{
    "body": "<a id='comment:18'></a>\nI patched the Debian package to display the Debian copyright file for `copying()`:\n\nhttps://anonscm.debian.org/cgit/debian-science/packages/sagemath.git/tree/debian/copyright\n\nwhich is basically everything not in the spkgs (which we're using Debian packages in the place of). So, sagelib but also build scripts and other misc things left in the source tree.",
    "created_at": "2017-01-06T10:48:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400507",
    "user": "https://github.com/infinity0"
}
```

<a id='comment:18'></a>
I patched the Debian package to display the Debian copyright file for `copying()`:

https://anonscm.debian.org/cgit/debian-science/packages/sagemath.git/tree/debian/copyright

which is basically everything not in the spkgs (which we're using Debian packages in the place of). So, sagelib but also build scripts and other misc things left in the source tree.



---

archive/issue_events_065073.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "rename": {
        "from": "Install COPYING.txt in SAGE_LOCAL and use it from misc/copying.py",
        "to": "Install COPYING.txt and VERSION.txt"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65073"
}
```



---

archive/issue_comments_400508.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1 @@\n-(Currently it's referring to SAGE_ROOT.)\n-\n+Use the installed location for `COPYING.txt` from `sage.misc.copying`.\n``````\n",
    "created_at": "2018-04-09T13:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400508",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1 @@
-(Currently it's referring to SAGE_ROOT.)
-
+Use the installed location for `COPYING.txt` from `sage.misc.copying`.
``````




---

archive/issue_comments_400509.json:
```json
{
    "body": "<a id='comment:20'></a>\nPer the title, this should apply a similar fix for `VERSION.txt` as discussed in #25056#comment:39",
    "created_at": "2018-04-11T12:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400509",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'></a>
Per the title, this should apply a similar fix for `VERSION.txt` as discussed in #25056#comment:39



---

archive/issue_comments_400510.json:
```json
{
    "body": "<a id='comment:21'></a>\nThe branch needs to be rebased. And we have to be clear about what we are doing here. #25056 means that in sage-8.2 the sage start up script will refer to `SAGE_ROOT/VERSION.txt` I fixed that in sage-on-gentoo but it will bite debian and the other.\n\nWe should have a consensus on where those files live and apply it.",
    "created_at": "2018-04-11T20:58:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400510",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:21'></a>
The branch needs to be rebased. And we have to be clear about what we are doing here. #25056 means that in sage-8.2 the sage start up script will refer to `SAGE_ROOT/VERSION.txt` I fixed that in sage-on-gentoo but it will bite debian and the other.

We should have a consensus on where those files live and apply it.



---

archive/issue_comments_400511.json:
```json
{
    "body": "<a id='comment:22'></a>\nUpon re-reading this issue I don't think we should conflate handling of VERSION.txt into it.  There was still some question in this issue as to handle the actual license text--IMO there needs to be separate license files covering Sage-the-distribution (and hence licenses of all the bundled software and the license for the build tools) and Sage-the-library.\n\nThe VERSION.txt issue is simply matter of having a reasonable standard place to install this file.  I will open a new ticket for that with a proposed solution and set it as a blocker for 8.2.",
    "created_at": "2018-04-12T09:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400511",
    "user": "https://github.com/embray"
}
```

<a id='comment:22'></a>
Upon re-reading this issue I don't think we should conflate handling of VERSION.txt into it.  There was still some question in this issue as to handle the actual license text--IMO there needs to be separate license files covering Sage-the-distribution (and hence licenses of all the bundled software and the license for the build tools) and Sage-the-library.

The VERSION.txt issue is simply matter of having a reasonable standard place to install this file.  I will open a new ticket for that with a proposed solution and set it as a blocker for 8.2.



---

archive/issue_events_065074.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "rename": {
        "from": "Install COPYING.txt and VERSION.txt",
        "to": "Install COPYING.txt"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65074"
}
```



---

archive/issue_comments_400512.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [embray](#comment%3A22):\n> The VERSION.txt issue is simply matter of having a reasonable standard\n> place to install this file.  I will open a new ticket for that with a\n> proposed solution and set it as a blocker for 8.2.\n\n\nFor reference the new ticket Erik opened for this is #25150.",
    "created_at": "2018-04-26T14:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400512",
    "user": "https://github.com/slel"
}
```

<a id='comment:23'></a>
Replying to [embray](#comment%3A22):
> The VERSION.txt issue is simply matter of having a reasonable standard
> place to install this file.  I will open a new ticket for that with a
> proposed solution and set it as a blocker for 8.2.


For reference the new ticket Erik opened for this is #25150.



---

archive/issue_comments_400513.json:
```json
{
    "body": "<a id='comment:24'></a>\nShould each package have a file with its license, and then COPYING.txt would be autogenerated from those? Either from all standard packages, or from all packages, or from all packages which will be installed according to `./configure`.",
    "created_at": "2020-07-18T03:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400513",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:24'></a>
Should each package have a file with its license, and then COPYING.txt would be autogenerated from those? Either from all standard packages, or from all packages, or from all packages which will be installed according to `./configure`.



---

archive/issue_comments_400514.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [jhpalmieri](#comment%3A24):\n> Should each package have a file with its license, and then COPYING.txt would be autogenerated from those? Either from all standard packages, or from all packages, or from all packages which will be installed according to `./configure`.\n\n\nI don't think that is necessary. Each package should install its own license if required. The question is specifically about `sagelib`'s `COPYING.txt` file which is currently under `SAGE_ROOT` and `sage/misc/copying.py` is looking for it exactly there which is inconvenient for distros.\n\nI think doing something like #27171 would be appropriate.",
    "created_at": "2020-07-18T03:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400514",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:25'></a>
Replying to [jhpalmieri](#comment%3A24):
> Should each package have a file with its license, and then COPYING.txt would be autogenerated from those? Either from all standard packages, or from all packages, or from all packages which will be installed according to `./configure`.


I don't think that is necessary. Each package should install its own license if required. The question is specifically about `sagelib`'s `COPYING.txt` file which is currently under `SAGE_ROOT` and `sage/misc/copying.py` is looking for it exactly there which is inconvenient for distros.

I think doing something like #27171 would be appropriate.



---

archive/issue_events_065075.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-10T21:09:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65075"
}
```



---

archive/issue_events_065076.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-10T21:09:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65076"
}
```



---

archive/issue_comments_400515.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd111\".",
    "created_at": "2020-12-10T21:09:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400515",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "sd111".



---

archive/issue_comments_400516.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n Use the installed location for `COPYING.txt` from `sage.misc.copying`.\n+\n+Use `src/doc/bootstrap` to install a copy in `src/doc` somewhere as preparation for installation.\n+\n+Perhaps autogenerate `COPYING.txt` from portions in `build/pkgs/`\n``````\n",
    "created_at": "2020-12-10T21:31:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400516",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 Use the installed location for `COPYING.txt` from `sage.misc.copying`.
+
+Use `src/doc/bootstrap` to install a copy in `src/doc` somewhere as preparation for installation.
+
+Perhaps autogenerate `COPYING.txt` from portions in `build/pkgs/`
``````




---

archive/issue_comments_400517.json:
```json
{
    "body": "Changing commit from \"[91f7b9a81eb741d5f7a1cf3591767644652da946](https://github.com/sagemath/sagetrac-mirror/commit/91f7b9a81eb741d5f7a1cf3591767644652da946)\" to \"\"",
    "created_at": "2020-12-11T01:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400517",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "[91f7b9a81eb741d5f7a1cf3591767644652da946](https://github.com/sagemath/sagetrac-mirror/commit/91f7b9a81eb741d5f7a1cf3591767644652da946)" to ""



---

archive/issue_comments_400518.json:
```json
{
    "body": "Changing branch from \"[u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py)\" to \"\"",
    "created_at": "2020-12-11T01:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400518",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "[u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/install_copying_txt_in_sage_local_and_use_it_from_misc_copying_py)" to ""



---

archive/issue_comments_400519.json:
```json
{
    "body": "<a id='comment:29'></a>\nSome thought should go into this one. First... we don't install COPYING.txt in Gentoo because it's redundant. The type of license is part of the package, and it's up to the maintainer to figure out what license type should go in the package. (This allows users to restrict what licenses are allowed on his machine.)\n\nOne consequence of that is that the Gentoo developer has to dig through the source of the package, and list every license that he sees. If the main project is GPL-2 but if one file says BSD at the top, we include both. This is not legally accurate, though; it's done only because we don't want maintainers to have to worry about legal issues! So if you decide to include every COPYING.txt from every spkg, be aware that you're doing essentially the same thing.\n\nThis overlooks two subtle issues. The first is that. when installed, all of the licenses used had damned well better be compatible. If not, you have a legal problem.\n\nThen, if they are compatible, they are often subsumed into the most restrictive license in a way that makes e.g. \"GPL-3\" the only effective license. If you release code as public domain, I can take it and make it GPL-3. So while I may say that my package has both \"public domain\" and \"GPL-3\" code, it would make more sense to say that the license is GPL-3. When linked, it will be the GPL-3 that is in effect. Adding a COPYING.txt that mentions the public domain would be misleading at best.\n\nSo, to summarize, copyright is stupid, and we should be really sure that we know what problem we're trying to solve here before we solve it.",
    "created_at": "2020-12-11T19:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400519",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:29'></a>
Some thought should go into this one. First... we don't install COPYING.txt in Gentoo because it's redundant. The type of license is part of the package, and it's up to the maintainer to figure out what license type should go in the package. (This allows users to restrict what licenses are allowed on his machine.)

One consequence of that is that the Gentoo developer has to dig through the source of the package, and list every license that he sees. If the main project is GPL-2 but if one file says BSD at the top, we include both. This is not legally accurate, though; it's done only because we don't want maintainers to have to worry about legal issues! So if you decide to include every COPYING.txt from every spkg, be aware that you're doing essentially the same thing.

This overlooks two subtle issues. The first is that. when installed, all of the licenses used had damned well better be compatible. If not, you have a legal problem.

Then, if they are compatible, they are often subsumed into the most restrictive license in a way that makes e.g. "GPL-3" the only effective license. If you release code as public domain, I can take it and make it GPL-3. So while I may say that my package has both "public domain" and "GPL-3" code, it would make more sense to say that the license is GPL-3. When linked, it will be the GPL-3 that is in effect. Adding a COPYING.txt that mentions the public domain would be misleading at best.

So, to summarize, copyright is stupid, and we should be really sure that we know what problem we're trying to solve here before we solve it.



---

archive/issue_comments_400520.json:
```json
{
    "body": "<a id='comment:30'></a>\nTechnical aspect first: currently sage has a function called license that essentially read `COPYING.txt` located in SAGE_ROOT. And it is doctested. \n\nAs you can imagine, it thrills me. \n\nThe second issue is that the current file which is a meta distribution COPYING.txt is supposed to aggregate the license of all the packages shipped. As a set file, unless it lists all possible licenses ever, it is obsolete by design. It ought to be generated.\n\nLegal point, yes copyright can be stupid. But license compatibility really kicks in when you distribute binaries. So long as you distribute only source code and you build it yourself, you don't have to worry about it. Of course who does build by themselves these days :) \n\nAs sage-on-gentoo I seek a solution to the first aspect. Runtime shouldn't depend on SAGE_ROOT. sagemath needs to fix the second aspect as well for themselves.",
    "created_at": "2020-12-11T20:08:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400520",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:30'></a>
Technical aspect first: currently sage has a function called license that essentially read `COPYING.txt` located in SAGE_ROOT. And it is doctested. 

As you can imagine, it thrills me. 

The second issue is that the current file which is a meta distribution COPYING.txt is supposed to aggregate the license of all the packages shipped. As a set file, unless it lists all possible licenses ever, it is obsolete by design. It ought to be generated.

Legal point, yes copyright can be stupid. But license compatibility really kicks in when you distribute binaries. So long as you distribute only source code and you build it yourself, you don't have to worry about it. Of course who does build by themselves these days :) 

As sage-on-gentoo I seek a solution to the first aspect. Runtime shouldn't depend on SAGE_ROOT. sagemath needs to fix the second aspect as well for themselves.



---

archive/issue_comments_400521.json:
```json
{
    "body": "<a id='comment:31'></a>\nThe technical problem can be solved by deleting `sage.misc.copying` =P\n\nThe legal issues can be solved by... somebody else.",
    "created_at": "2020-12-11T20:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400521",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:31'></a>
The technical problem can be solved by deleting `sage.misc.copying` =P

The legal issues can be solved by... somebody else.



---

archive/issue_comments_400522.json:
```json
{
    "body": "<a id='comment:32'></a>\nI'll add a simple license file for sagelib only to `src/` in #30912",
    "created_at": "2020-12-11T23:41:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400522",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>
I'll add a simple license file for sagelib only to `src/` in #30912



---

archive/issue_comments_400523.json:
```json
{
    "body": "Dependencies: #30912",
    "created_at": "2020-12-12T00:16:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400523",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: #30912



---

archive/issue_comments_400524.json:
```json
{
    "body": "<a id='comment:34'></a>\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21571#issuecomment-400524",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>
Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_065077.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65077"
}
```



---

archive/issue_events_065078.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65078"
}
```



---

archive/issue_events_065079.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65079"
}
```



---

archive/issue_events_065080.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65080"
}
```



---

archive/issue_events_065081.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65081"
}
```



---

archive/issue_events_065082.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65082"
}
```



---

archive/issue_events_065083.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65083"
}
```



---

archive/issue_events_065084.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65084"
}
```



---

archive/issue_events_065085.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65085"
}
```



---

archive/issue_events_065086.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21571",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21571#event-65086"
}
```
