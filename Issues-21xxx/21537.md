# Issue 21537: If $SAGE_SUDO is set, use it whenever we do "make install" of a package.

archive/issues_021300.json:
```json
{
    "body": "That would be a solution for those who want to install Sage in a prefix that's only writable by root.\n\nIn this way, building can take place in unprivileged user account.\n\nIt could perhaps also be enabled by `./configure --enable-sudo-install`. (not on this ticket)\n\nThis ticket makes routine changes to all `spkg-install` scripts. Whenever installing has more steps than just `make install`, it moves the install part to a separate script `spkg-do-install`.\n\n*** See #21726 for a slightly different approach ***\n\n\n**CC:**  @jdemeyer @kiwifb @embray @nexttime @vbraun @mezzarobba\n\n**Reviewer:** Matthias Koeppe, Samuel Leli\u00e8vre\n\nIssue created by migration from https://trac.sagemath.org/ticket/21537\n\n",
    "closed_at": "2021-08-26T02:08:43Z",
    "created_at": "2016-09-18T23:02:19Z",
    "labels": [
        "component: build",
        "invalid"
    ],
    "title": "If $SAGE_SUDO is set, use it whenever we do \"make install\" of a package.",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/21537",
    "user": "https://github.com/mkoeppe"
}
```
That would be a solution for those who want to install Sage in a prefix that's only writable by root.

In this way, building can take place in unprivileged user account.

It could perhaps also be enabled by `./configure --enable-sudo-install`. (not on this ticket)

This ticket makes routine changes to all `spkg-install` scripts. Whenever installing has more steps than just `make install`, it moves the install part to a separate script `spkg-do-install`.

*** See #21726 for a slightly different approach ***


**CC:**  @jdemeyer @kiwifb @embray @nexttime @vbraun @mezzarobba

**Reviewer:** Matthias Koeppe, Samuel Lelièvre

Issue created by migration from https://trac.sagemath.org/ticket/21537





---

archive/issue_comments_318655.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,5 +2,8 @@\n \n In this way, building can take place in unprivileged user account.\n \n+It could perhaps also be enabled by `./configure --enable-sudo-install`.\n+\n This ticket requires routine changes to all `spkg-install` scripts.\n \n+\n``````\n",
    "created_at": "2016-09-18T23:18:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318655",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,5 +2,8 @@
 
 In this way, building can take place in unprivileged user account.
 
+It could perhaps also be enabled by `./configure --enable-sudo-install`.
+
 This ticket requires routine changes to all `spkg-install` scripts.
 
+
``````




---

archive/issue_comments_318656.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_)",
    "created_at": "2016-09-19T00:39:38Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318656",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_)



---

archive/issue_comments_318657.json:
```json
{
    "body": "<a id='comment:3'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/444fd6e910c46e8212e7d10eb160e908e14975c2\">444fd6e</a></td><td><code>Add SAGE_SUDO for packages A-L</code></td></tr></table>\n",
    "created_at": "2016-09-19T00:40:29Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318657",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/444fd6e910c46e8212e7d10eb160e908e14975c2">444fd6e</a></td><td><code>Add SAGE_SUDO for packages A-L</code></td></tr></table>




---

archive/issue_comments_318658.json:
```json
{
    "body": "**Commit:** [444fd6e910c46e8212e7d10eb160e908e14975c2](https://github.com/sagemath/sagetrac-mirror/commit/444fd6e910c46e8212e7d10eb160e908e14975c2)",
    "created_at": "2016-09-19T00:40:29Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318658",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [444fd6e910c46e8212e7d10eb160e908e14975c2](https://github.com/sagemath/sagetrac-mirror/commit/444fd6e910c46e8212e7d10eb160e908e14975c2)



---

archive/issue_comments_318659.json:
```json
{
    "body": "<a id='comment:4'></a>\nPractical matters:\n* documentation \n* If you need a password and that the time between sudo-ing is longer than the time out, you will have to insert the password quite a number of times. In the case of a parallel install, will it block output to screen until you have entered the password?\n\nI don't know enough of the mechanics of sage standard output on screen to know how requesting a password will affect the flow.",
    "created_at": "2016-09-19T00:50:40Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318659",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'></a>
Practical matters:
* documentation 
* If you need a password and that the time between sudo-ing is longer than the time out, you will have to insert the password quite a number of times. In the case of a parallel install, will it block output to screen until you have entered the password?

I don't know enough of the mechanics of sage standard output on screen to know how requesting a password will affect the flow.



---

archive/issue_comments_318660.json:
```json
{
    "body": "<a id='comment:5'></a>\nI guess I should say in the case of parallel make. In which the parallelism of make is translated into installing packages concurrently.",
    "created_at": "2016-09-19T00:52:25Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318660",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>
I guess I should say in the case of parallel make. In which the parallelism of make is translated into installing packages concurrently.



---

archive/issue_comments_318661.json:
```json
{
    "body": "<a id='comment:6'></a>\nYes, these issues need addressing in documentation and/or implementation.",
    "created_at": "2016-09-19T01:04:22Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318661",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Yes, these issues need addressing in documentation and/or implementation.



---

archive/issue_comments_318662.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/666fb57e41dfcb66c08b1ad8231877b515f17a8e\">666fb57</a></td><td><code>Add SAGE_SUDO for packages L-P</code></td></tr></table>\n",
    "created_at": "2016-09-19T03:52:43Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318662",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/666fb57e41dfcb66c08b1ad8231877b515f17a8e">666fb57</a></td><td><code>Add SAGE_SUDO for packages L-P</code></td></tr></table>




---

archive/issue_comments_318663.json:
```json
{
    "body": "**Changing commit** from \"[444fd6e910c46e8212e7d10eb160e908e14975c2](https://github.com/sagemath/sagetrac-mirror/commit/444fd6e910c46e8212e7d10eb160e908e14975c2)\" to \"[666fb57e41dfcb66c08b1ad8231877b515f17a8e](https://github.com/sagemath/sagetrac-mirror/commit/666fb57e41dfcb66c08b1ad8231877b515f17a8e)\".",
    "created_at": "2016-09-19T03:52:43Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318663",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[444fd6e910c46e8212e7d10eb160e908e14975c2](https://github.com/sagemath/sagetrac-mirror/commit/444fd6e910c46e8212e7d10eb160e908e14975c2)" to "[666fb57e41dfcb66c08b1ad8231877b515f17a8e](https://github.com/sagemath/sagetrac-mirror/commit/666fb57e41dfcb66c08b1ad8231877b515f17a8e)".



---

archive/issue_comments_318664.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [fbissey](#comment%3A4):\n> In the case of a parallel install, will it block output to screen until you have entered the password?\n> \n> I don't know enough of the mechanics of sage standard output on screen to know how requesting a password will affect the flow.\n\n\nThe problem of parallel output and prompts has been discussed before in #20884, #21082. \nAlso #21539 could help.",
    "created_at": "2016-09-19T04:21:28Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318664",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Replying to [fbissey](#comment%3A4):
> In the case of a parallel install, will it block output to screen until you have entered the password?
> 
> I don't know enough of the mechanics of sage standard output on screen to know how requesting a password will affect the flow.


The problem of parallel output and prompts has been discussed before in #20884, #21082. 
Also #21539 could help.



---

archive/issue_comments_318665.json:
```json
{
    "body": "**Changing commit** from \"[666fb57e41dfcb66c08b1ad8231877b515f17a8e](https://github.com/sagemath/sagetrac-mirror/commit/666fb57e41dfcb66c08b1ad8231877b515f17a8e)\" to \"[ec6ce246c07221e75fad1c1a6d47983156753540](https://github.com/sagemath/sagetrac-mirror/commit/ec6ce246c07221e75fad1c1a6d47983156753540)\".",
    "created_at": "2016-09-19T05:05:02Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318665",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[666fb57e41dfcb66c08b1ad8231877b515f17a8e](https://github.com/sagemath/sagetrac-mirror/commit/666fb57e41dfcb66c08b1ad8231877b515f17a8e)" to "[ec6ce246c07221e75fad1c1a6d47983156753540](https://github.com/sagemath/sagetrac-mirror/commit/ec6ce246c07221e75fad1c1a6d47983156753540)".



---

archive/issue_comments_318666.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec6ce246c07221e75fad1c1a6d47983156753540\">ec6ce24</a></td><td><code>spkg-do-install: Make executable</code></td></tr></table>\n",
    "created_at": "2016-09-19T05:05:02Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318666",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec6ce246c07221e75fad1c1a6d47983156753540">ec6ce24</a></td><td><code>spkg-do-install: Make executable</code></td></tr></table>




---

archive/issue_comments_318667.json:
```json
{
    "body": "**Changing commit** from \"[ec6ce246c07221e75fad1c1a6d47983156753540](https://github.com/sagemath/sagetrac-mirror/commit/ec6ce246c07221e75fad1c1a6d47983156753540)\" to \"[23e3ddcebbdfbae9d22e05688d2b98acc6c61726](https://github.com/sagemath/sagetrac-mirror/commit/23e3ddcebbdfbae9d22e05688d2b98acc6c61726)\".",
    "created_at": "2016-09-20T04:18:23Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318667",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ec6ce246c07221e75fad1c1a6d47983156753540](https://github.com/sagemath/sagetrac-mirror/commit/ec6ce246c07221e75fad1c1a6d47983156753540)" to "[23e3ddcebbdfbae9d22e05688d2b98acc6c61726](https://github.com/sagemath/sagetrac-mirror/commit/23e3ddcebbdfbae9d22e05688d2b98acc6c61726)".



---

archive/issue_comments_318668.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23e3ddcebbdfbae9d22e05688d2b98acc6c61726\">23e3ddc</a></td><td><code>Packages P-S</code></td></tr></table>\n",
    "created_at": "2016-09-20T04:18:23Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318668",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23e3ddcebbdfbae9d22e05688d2b98acc6c61726">23e3ddc</a></td><td><code>Packages P-S</code></td></tr></table>




---

archive/issue_comments_318669.json:
```json
{
    "body": "**Changing commit** from \"[23e3ddcebbdfbae9d22e05688d2b98acc6c61726](https://github.com/sagemath/sagetrac-mirror/commit/23e3ddcebbdfbae9d22e05688d2b98acc6c61726)\" to \"[74fbeff37dd0fe35ff5d85ade206b4fe9644cc79](https://github.com/sagemath/sagetrac-mirror/commit/74fbeff37dd0fe35ff5d85ade206b4fe9644cc79)\".",
    "created_at": "2016-09-20T05:53:55Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318669",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[23e3ddcebbdfbae9d22e05688d2b98acc6c61726](https://github.com/sagemath/sagetrac-mirror/commit/23e3ddcebbdfbae9d22e05688d2b98acc6c61726)" to "[74fbeff37dd0fe35ff5d85ade206b4fe9644cc79](https://github.com/sagemath/sagetrac-mirror/commit/74fbeff37dd0fe35ff5d85ade206b4fe9644cc79)".



---

archive/issue_comments_318670.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/341bdb031065ca9c4427dd9c3f75aa54bda2a442\">341bdb0</a></td><td><code>Packages M-Z</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74fbeff37dd0fe35ff5d85ade206b4fe9644cc79\">74fbeff</a></td><td><code>Call pip with SAGE_SUDO</code></td></tr></table>\n",
    "created_at": "2016-09-20T05:53:55Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318670",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/341bdb031065ca9c4427dd9c3f75aa54bda2a442">341bdb0</a></td><td><code>Packages M-Z</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74fbeff37dd0fe35ff5d85ade206b4fe9644cc79">74fbeff</a></td><td><code>Call pip with SAGE_SUDO</code></td></tr></table>




---

archive/issue_comments_318671.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2016-09-20T05:58:31Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318671",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_318672.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8919cc342ccff35109c2696ba6c87220ccd83bc\">d8919cc</a></td><td><code>Add SAGE_SUDO for packages A-L</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f46f6c8ca27e5694f3d935844051647808688ae\">7f46f6c</a></td><td><code>Add SAGE_SUDO for packages L-P</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ccb3a137bd0a672337f0b45131bf6f1c972b657f\">ccb3a13</a></td><td><code>spkg-do-install: Make executable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f957ccbf403b960d11e903fb74db5c31b43c71a\">3f957cc</a></td><td><code>Packages P-S</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c806e9f50ff8e8f67f46c72046b93df164b2c82f\">c806e9f</a></td><td><code>Packages M-Z</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abd3e96ace7de829396b691e209bb7dd813dd77d\">abd3e96</a></td><td><code>Call pip with SAGE_SUDO</code></td></tr></table>\n",
    "created_at": "2016-09-27T19:21:45Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318672",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8919cc342ccff35109c2696ba6c87220ccd83bc">d8919cc</a></td><td><code>Add SAGE_SUDO for packages A-L</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f46f6c8ca27e5694f3d935844051647808688ae">7f46f6c</a></td><td><code>Add SAGE_SUDO for packages L-P</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ccb3a137bd0a672337f0b45131bf6f1c972b657f">ccb3a13</a></td><td><code>spkg-do-install: Make executable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f957ccbf403b960d11e903fb74db5c31b43c71a">3f957cc</a></td><td><code>Packages P-S</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c806e9f50ff8e8f67f46c72046b93df164b2c82f">c806e9f</a></td><td><code>Packages M-Z</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abd3e96ace7de829396b691e209bb7dd813dd77d">abd3e96</a></td><td><code>Call pip with SAGE_SUDO</code></td></tr></table>




---

archive/issue_comments_318673.json:
```json
{
    "body": "**Changing commit** from \"[74fbeff37dd0fe35ff5d85ade206b4fe9644cc79](https://github.com/sagemath/sagetrac-mirror/commit/74fbeff37dd0fe35ff5d85ade206b4fe9644cc79)\" to \"[abd3e96ace7de829396b691e209bb7dd813dd77d](https://github.com/sagemath/sagetrac-mirror/commit/abd3e96ace7de829396b691e209bb7dd813dd77d)\".",
    "created_at": "2016-09-27T19:21:45Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318673",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[74fbeff37dd0fe35ff5d85ade206b4fe9644cc79](https://github.com/sagemath/sagetrac-mirror/commit/74fbeff37dd0fe35ff5d85ade206b4fe9644cc79)" to "[abd3e96ace7de829396b691e209bb7dd813dd77d](https://github.com/sagemath/sagetrac-mirror/commit/abd3e96ace7de829396b691e209bb7dd813dd77d)".



---

archive/issue_comments_318674.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,8 +2,9 @@\n \n In this way, building can take place in unprivileged user account.\n \n-It could perhaps also be enabled by `./configure --enable-sudo-install`.\n+It could perhaps also be enabled by `./configure --enable-sudo-install`. (not on this ticket)\n \n-This ticket requires routine changes to all `spkg-install` scripts.\n+This ticket makes routine changes to all `spkg-install` scripts. Whenever installing has more steps than just `make install`, it moves the install part to a separate script `spkg-do-install`.\n \n \n+\n``````\n",
    "created_at": "2016-09-27T19:27:09Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318674",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,8 +2,9 @@
 
 In this way, building can take place in unprivileged user account.
 
-It could perhaps also be enabled by `./configure --enable-sudo-install`.
+It could perhaps also be enabled by `./configure --enable-sudo-install`. (not on this ticket)
 
-This ticket requires routine changes to all `spkg-install` scripts.
+This ticket makes routine changes to all `spkg-install` scripts. Whenever installing has more steps than just `make install`, it moves the install part to a separate script `spkg-do-install`.
 
 
+
``````




---

archive/issue_comments_318675.json:
```json
{
    "body": "<a id='comment:14'></a>\nRebased on 7.4.beta6. \nNeeds review.",
    "created_at": "2016-09-27T19:27:09Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318675",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Rebased on 7.4.beta6. 
Needs review.



---

archive/issue_events_193016.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-27T19:27:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193016"
}
```



---

archive/issue_comments_318676.json:
```json
{
    "body": "<a id='comment:15'></a>\nSomehow this makes me feel a bit icky, but I'm not -1 on it either.  It's a solution for now.  I feel icky because if the Sage distribution were like a \"normal\" autoconf package I should be able to simply run `make && sudo make install` and not have tell configure that I intend to use sudo when I install.  Nor should sudo be invoked in each sub-make.  But the Sage distribution is definitely *not* a normal package since really it's just a big wrapper around a bunch of other packages, combined with some semblance of dependency management.\n\nThat said, it would be *nice* if the Sage distribution did work like `make && sudo make install`.  To me, this points toward another area where sage packages could and probably should be refactored anyways.  If packages had separate `spkg-build` and `spkg-install` scripts that would go a long way, I think.  Then `make`/`make build` would run the `spkg-build` scripts, and only `make install` would run the actual `spkg-install` scripts.  It would probably also go a long ways towards further eliminating duplication of effort between the many `spkg-install` scripts.\n\nOn another note, for Python packages installed with pip it still might be best to have separate \"build\" and \"install\" phases--in particular for Python packages with extension modules, where one might not want to be running a compiler as root.  This could be achieved by running `pip install` without sudo with a temporary target directory, and then copying into the appropriate `site-packages` (perhaps after an uninstall of previously installed versions of the package).  For that to work it might be best if this waited on #21441 which adds a new `sage-pip-install` script, which might be further modified to support this usage.",
    "created_at": "2016-09-28T06:21:16Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318676",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'></a>
Somehow this makes me feel a bit icky, but I'm not -1 on it either.  It's a solution for now.  I feel icky because if the Sage distribution were like a "normal" autoconf package I should be able to simply run `make && sudo make install` and not have tell configure that I intend to use sudo when I install.  Nor should sudo be invoked in each sub-make.  But the Sage distribution is definitely *not* a normal package since really it's just a big wrapper around a bunch of other packages, combined with some semblance of dependency management.

That said, it would be *nice* if the Sage distribution did work like `make && sudo make install`.  To me, this points toward another area where sage packages could and probably should be refactored anyways.  If packages had separate `spkg-build` and `spkg-install` scripts that would go a long way, I think.  Then `make`/`make build` would run the `spkg-build` scripts, and only `make install` would run the actual `spkg-install` scripts.  It would probably also go a long ways towards further eliminating duplication of effort between the many `spkg-install` scripts.

On another note, for Python packages installed with pip it still might be best to have separate "build" and "install" phases--in particular for Python packages with extension modules, where one might not want to be running a compiler as root.  This could be achieved by running `pip install` without sudo with a temporary target directory, and then copying into the appropriate `site-packages` (perhaps after an uninstall of previously installed versions of the package).  For that to work it might be best if this waited on #21441 which adds a new `sage-pip-install` script, which might be further modified to support this usage.



---

archive/issue_comments_318677.json:
```json
{
    "body": "<a id='comment:16'></a>\nFine with me to wait for #21441 and its `sage-pip-install`. Is that ticket moving forward, by the way?",
    "created_at": "2016-09-29T07:04:29Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318677",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Fine with me to wait for #21441 and its `sage-pip-install`. Is that ticket moving forward, by the way?



---

archive/issue_comments_318678.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [embray](#comment%3A15):\n> [...] if the Sage distribution were like a \"normal\" autoconf package I should be able to simply run `make && sudo make install` and not have tell configure that I intend to use sudo when I install.  \n\n\nJust for reference for other readers (I know that you are aware of that ticket, Erik): Any discussion of separating `make` and `make install` for sage-the-distribution should take place on ticket #21495.",
    "created_at": "2016-09-30T01:28:51Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318678",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
Replying to [embray](#comment%3A15):
> [...] if the Sage distribution were like a "normal" autoconf package I should be able to simply run `make && sudo make install` and not have tell configure that I intend to use sudo when I install.  


Just for reference for other readers (I know that you are aware of that ticket, Erik): Any discussion of separating `make` and `make install` for sage-the-distribution should take place on ticket #21495.



---

archive/issue_comments_318679.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [embray](#comment%3A15):\n>  To me, this points toward another area where sage packages could and probably should be refactored anyways.  If packages had separate `spkg-build` and `spkg-install` scripts that would go a long way, I think.  Then `make`/`make build` would run the `spkg-build` scripts, and only `make install` would run the actual `spkg-install` scripts.  It would probably also go a long ways towards further eliminating duplication of effort between the many `spkg-install` scripts.\n\n\nRight now, in this patch I am calling `spkg-do-install` scripts with `$SAGE_SUDO` from various package's `spkg-install` scripts.\nOf course, each package's `spkg-install` script needs to be changed for `$SAGE_SUDO` to work, and installing packages that have not been prepared for it will cause an error when trying to install them to a prefix that is only root-writable.\n\nAn \"easier\" solution would be to just call `spkg-build` if it exists, unprivileged, and then call `spkg-install` using `$SAGE_SUDO`. This would \"just work\" without making changes to the -- but it would run a lot of stuff as root until a package moves its build part from `spkg-install` to `spkg-build`.\n\nThoughts?\n\n> On another note, for Python packages installed with pip it still might be best to have separate \"build\" and \"install\" phases--in particular for Python packages with extension modules, where one might not want to be running a compiler as root.  This could be achieved by running `pip install` without sudo with a temporary target directory, and then copying into the appropriate `site-packages` (perhaps after an uninstall of previously installed versions of the package).  \n\n\nAre you sure that Python packages with extension modules are relocatable in this way? I have no experience with the specifics of the Python distutils world, but I would imagine all kinds of trouble (rpath/sonames, possible hardcoded paths, ...)\n\n> For that to work it might be best if this waited on #21441 which adds a new `sage-pip-install` script, which might be further modified to support this usage.\n\n\nSure, I've made it a dependency.",
    "created_at": "2016-09-30T01:41:03Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318679",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
Replying to [embray](#comment%3A15):
>  To me, this points toward another area where sage packages could and probably should be refactored anyways.  If packages had separate `spkg-build` and `spkg-install` scripts that would go a long way, I think.  Then `make`/`make build` would run the `spkg-build` scripts, and only `make install` would run the actual `spkg-install` scripts.  It would probably also go a long ways towards further eliminating duplication of effort between the many `spkg-install` scripts.


Right now, in this patch I am calling `spkg-do-install` scripts with `$SAGE_SUDO` from various package's `spkg-install` scripts.
Of course, each package's `spkg-install` script needs to be changed for `$SAGE_SUDO` to work, and installing packages that have not been prepared for it will cause an error when trying to install them to a prefix that is only root-writable.

An "easier" solution would be to just call `spkg-build` if it exists, unprivileged, and then call `spkg-install` using `$SAGE_SUDO`. This would "just work" without making changes to the -- but it would run a lot of stuff as root until a package moves its build part from `spkg-install` to `spkg-build`.

Thoughts?

> On another note, for Python packages installed with pip it still might be best to have separate "build" and "install" phases--in particular for Python packages with extension modules, where one might not want to be running a compiler as root.  This could be achieved by running `pip install` without sudo with a temporary target directory, and then copying into the appropriate `site-packages` (perhaps after an uninstall of previously installed versions of the package).  


Are you sure that Python packages with extension modules are relocatable in this way? I have no experience with the specifics of the Python distutils world, but I would imagine all kinds of trouble (rpath/sonames, possible hardcoded paths, ...)

> For that to work it might be best if this waited on #21441 which adds a new `sage-pip-install` script, which might be further modified to support this usage.


Sure, I've made it a dependency.



---

archive/issue_comments_318680.json:
```json
{
    "body": "**Dependencies:** #21441",
    "created_at": "2016-09-30T01:41:03Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318680",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #21441



---

archive/issue_comments_318681.json:
```json
{
    "body": "<a id='comment:19'></a>\nRight, regardless of how make is invoked, if there are separate `spkg-build` and `spkg-install` scripts the former can be run unprivileged.  Then, at least in the current system, you would call `$SAGE_SUDO spkg-install`.\n\nI think most packages would be easy enough to split up their `spkg-install` into two scripts.  Though as I think I wrote in another ticket one might actually want a third `spkg-env` script that sets environment variables needed for both the build and install steps (fortunately for most autotools packages most relevant environment variables are only needed for the build step, I think).",
    "created_at": "2016-09-30T10:04:20Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318681",
    "user": "https://github.com/embray"
}
```

<a id='comment:19'></a>
Right, regardless of how make is invoked, if there are separate `spkg-build` and `spkg-install` scripts the former can be run unprivileged.  Then, at least in the current system, you would call `$SAGE_SUDO spkg-install`.

I think most packages would be easy enough to split up their `spkg-install` into two scripts.  Though as I think I wrote in another ticket one might actually want a third `spkg-env` script that sets environment variables needed for both the build and install steps (fortunately for most autotools packages most relevant environment variables are only needed for the build step, I think).



---

archive/issue_comments_318682.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [mkoeppe](#comment%3A18):\n> Replying to [embray](#comment%3A15):\n> > On another note, for Python packages installed with pip it still might be best to have separate \"build\" and \"install\" phases--in particular for Python packages with extension modules, where one might not want to be running a compiler as root.  This could be achieved by running `pip install` without sudo with a temporary target directory, and then copying into the appropriate `site-packages` (perhaps after an uninstall of previously installed versions of the package).  \n\n> \n> Are you sure that Python packages with extension modules are relocatable in this way? I have no experience with the specifics of the Python distutils world, but I would imagine all kinds of trouble (rpath/sonames, possible hardcoded paths, ...)\n\n\nIn general, yes, it should not be a problem.  This does not affect rpath or soname for extension modules--I mean in principle it could but that would be a pathological case the likes of which I've never seen, and that is definitely not supported.\n\nIn principle one could also imagine a module that when installed generates some files containing hard-coded paths, but can't think of anything like that.  Most well made Python modules are good about keeping such things relative and dynamic.  So I'd be surprised if that's a problem anywhere, though if it is obviously exceptions can be made.\n\n(**Update:** In fact, I should add, this is how distutils builds packages normally anyways--first it builds everything to `build/`, and then simply copies from there directly to the install location--what I described simply adds one additional copy.  All the \"install\" commands really do in distutils is copy files--all the real work should usually be done in the \"build\" command (or sub-commands thereof).)",
    "created_at": "2016-09-30T10:10:04Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318682",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'></a>
Replying to [mkoeppe](#comment%3A18):
> Replying to [embray](#comment%3A15):
> > On another note, for Python packages installed with pip it still might be best to have separate "build" and "install" phases--in particular for Python packages with extension modules, where one might not want to be running a compiler as root.  This could be achieved by running `pip install` without sudo with a temporary target directory, and then copying into the appropriate `site-packages` (perhaps after an uninstall of previously installed versions of the package).  

> 
> Are you sure that Python packages with extension modules are relocatable in this way? I have no experience with the specifics of the Python distutils world, but I would imagine all kinds of trouble (rpath/sonames, possible hardcoded paths, ...)


In general, yes, it should not be a problem.  This does not affect rpath or soname for extension modules--I mean in principle it could but that would be a pathological case the likes of which I've never seen, and that is definitely not supported.

In principle one could also imagine a module that when installed generates some files containing hard-coded paths, but can't think of anything like that.  Most well made Python modules are good about keeping such things relative and dynamic.  So I'd be surprised if that's a problem anywhere, though if it is obviously exceptions can be made.

(**Update:** In fact, I should add, this is how distutils builds packages normally anyways--first it builds everything to `build/`, and then simply copies from there directly to the install location--what I described simply adds one additional copy.  All the "install" commands really do in distutils is copy files--all the real work should usually be done in the "build" command (or sub-commands thereof).)



---

archive/issue_events_193017.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-10-19T03:52:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193017"
}
```



---

archive/issue_events_193018.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-10-19T03:52:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193018"
}
```



---

archive/issue_comments_318683.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n \n This ticket makes routine changes to all `spkg-install` scripts. Whenever installing has more steps than just `make install`, it moves the install part to a separate script `spkg-do-install`.\n \n+*** See #21726 for a slightly different approach ***\n \n-\n``````\n",
    "created_at": "2016-10-19T03:52:34Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318683",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 
 This ticket makes routine changes to all `spkg-install` scripts. Whenever installing has more steps than just `make install`, it moves the install part to a separate script `spkg-do-install`.
 
+*** See #21726 for a slightly different approach ***
 
-
``````




---

archive/issue_comments_318684.json:
```json
{
    "body": "**Changing dependencies** from \"#21441\" to \"#21726\".",
    "created_at": "2016-11-08T18:53:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318684",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#21441" to "#21726".



---

archive/issue_comments_318685.json:
```json
{
    "body": "**Work Issues:** redo patch using the method of 21726",
    "created_at": "2016-11-08T18:53:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318685",
    "user": "https://github.com/mkoeppe"
}
```

**Work Issues:** redo patch using the method of 21726



---

archive/issue_events_193019.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-11-08T18:53:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193019"
}
```



---

archive/issue_events_193020.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-11-08T18:53:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193020"
}
```



---

archive/issue_events_193021.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-11-08T18:53:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193021"
}
```



---

archive/issue_events_193022.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-15T18:40:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193022"
}
```



---

archive/issue_events_193023.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-15T18:40:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193023"
}
```



---

archive/issue_comments_318686.json:
```json
{
    "body": "<a id='comment:24'></a>\nThis was implemented in #21726. The present ticket can be closed",
    "created_at": "2020-09-15T18:40:40Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318686",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
This was implemented in #21726. The present ticket can be closed



---

archive/issue_events_193024.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-15T18:40:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193024"
}
```



---

archive/issue_comments_318687.json:
```json
{
    "body": "**Changing author** from \"Matthias Koeppe\" to \"\".",
    "created_at": "2020-09-15T18:40:40Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318687",
    "user": "https://github.com/mkoeppe"
}
```

**Changing author** from "Matthias Koeppe" to "".



---

archive/issue_comments_318688.json:
```json
{
    "body": "<a id='comment:25'></a>\nOk.",
    "created_at": "2021-08-19T22:54:06Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318688",
    "user": "https://github.com/slel"
}
```

<a id='comment:25'></a>
Ok.



---

archive/issue_comments_318689.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_)\" to \"\".",
    "created_at": "2021-08-19T22:54:06Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318689",
    "user": "https://github.com/slel"
}
```

**Changing branch** from "[u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_)" to "".



---

archive/issue_comments_318690.json:
```json
{
    "body": "**Changing commit** from \"[abd3e96ace7de829396b691e209bb7dd813dd77d](https://github.com/sagemath/sagetrac-mirror/commit/abd3e96ace7de829396b691e209bb7dd813dd77d)\" to \"\".",
    "created_at": "2021-08-19T22:54:06Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318690",
    "user": "https://github.com/slel"
}
```

**Changing commit** from "[abd3e96ace7de829396b691e209bb7dd813dd77d](https://github.com/sagemath/sagetrac-mirror/commit/abd3e96ace7de829396b691e209bb7dd813dd77d)" to "".



---

archive/issue_events_193025.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-08-19T22:54:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193025"
}
```



---

archive/issue_events_193026.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-08-19T22:54:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193026"
}
```



---

archive/issue_comments_318691.json:
```json
{
    "body": "**Changing work issues** from \"redo patch using the method of 21726\" to \"\".",
    "created_at": "2021-08-19T22:54:06Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318691",
    "user": "https://github.com/slel"
}
```

**Changing work issues** from "redo patch using the method of 21726" to "".



---

archive/issue_comments_318692.json:
```json
{
    "body": "**Changing dependencies** from \"#21726\" to \"\".",
    "created_at": "2021-08-19T22:54:06Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318692",
    "user": "https://github.com/slel"
}
```

**Changing dependencies** from "#21726" to "".



---

archive/issue_comments_318693.json:
```json
{
    "body": "**Reviewer:** Matthias Koeppe, Samuel Leli\u00e8vre",
    "created_at": "2021-08-19T22:54:06Z",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-318693",
    "user": "https://github.com/slel"
}
```

**Reviewer:** Matthias Koeppe, Samuel Lelièvre



---

archive/issue_events_193027.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-26T02:08:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193027"
}
```



---

archive/issue_events_193028.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-26T02:08:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-193028"
}
```
