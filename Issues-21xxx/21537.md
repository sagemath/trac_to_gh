# Issue 21537: If $SAGE_SUDO is set, use it whenever we do "make install" of a package.

archive/issues_021300.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThat would be a solution for those who want to install Sage in a prefix that's only writable by root.\n\nIn this way, building can take place in unprivileged user account.\n\nIt could perhaps also be enabled by `./configure --enable-sudo-install`. (not on this ticket)\n\nThis ticket makes routine changes to all `spkg-install` scripts. Whenever installing has more steps than just `make install`, it moves the install part to a separate script `spkg-do-install`.\n\n*** See #21726 for a slightly different approach ***\n\n\nCC:  @jdemeyer @kiwifb @embray @nexttime @vbraun @mezzarobba\n\nComponent: **build**\n\nReviewer: **Matthias Koeppe, Samuel Leli\u00e8vre**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21537_\n\n",
    "closed_at": "2021-08-26T02:08:43Z",
    "created_at": "2016-09-18T23:02:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "If $SAGE_SUDO is set, use it whenever we do \"make install\" of a package.",
    "type": "issue",
    "updated_at": "2021-08-26T02:08:43Z",
    "url": "https://github.com/sagemath/sage/issues/21537",
    "user": "https://github.com/mkoeppe"
}
```
<div id="comment:0"></div>

That would be a solution for those who want to install Sage in a prefix that's only writable by root.

In this way, building can take place in unprivileged user account.

It could perhaps also be enabled by `./configure --enable-sudo-install`. (not on this ticket)

This ticket makes routine changes to all `spkg-install` scripts. Whenever installing has more steps than just `make install`, it moves the install part to a separate script `spkg-do-install`.

*** See #21726 for a slightly different approach ***


CC:  @jdemeyer @kiwifb @embray @nexttime @vbraun @mezzarobba

Component: **build**

Reviewer: **Matthias Koeppe, Samuel Leli√®vre**

_Issue created by migration from https://trac.sagemath.org/ticket/21537_





---

archive/issue_events_299813.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-18T23:02:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299813"
}
```



---

archive/issue_events_299814.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-18T23:02:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299814"
}
```



---

archive/issue_events_299815.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-18T23:02:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299815"
}
```



---

archive/issue_events_299816.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-18T23:02:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299816"
}
```



---

archive/issue_comments_316100.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,5 +2,8 @@\n \n In this way, building can take place in unprivileged user account.\n \n+It could perhaps also be enabled by `./configure --enable-sudo-install`.\n+\n This ticket requires routine changes to all `spkg-install` scripts.\n \n+\n``````\n",
    "created_at": "2016-09-18T23:18:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316100",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,5 +2,8 @@
 
 In this way, building can take place in unprivileged user account.
 
+It could perhaps also be enabled by `./configure --enable-sudo-install`.
+
 This ticket requires routine changes to all `spkg-install` scripts.
 
+
``````




---

archive/issue_comments_316101.json:
```json
{
    "body": "Branch: **[u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_)**",
    "created_at": "2016-09-19T00:39:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316101",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_)**



---

archive/issue_comments_316102.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/444fd6e910c46e8212e7d10eb160e908e14975c2\"><code>444fd6e</code></a></td><td><code>Add SAGE_SUDO for packages A-L</code></td></tr></table>\n",
    "created_at": "2016-09-19T00:40:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316102",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/444fd6e910c46e8212e7d10eb160e908e14975c2"><code>444fd6e</code></a></td><td><code>Add SAGE_SUDO for packages A-L</code></td></tr></table>




---

archive/issue_comments_316103.json:
```json
{
    "body": "Commit: **[`444fd6e`](https://github.com/sagemath/sagetrac-mirror/commit/444fd6e910c46e8212e7d10eb160e908e14975c2)**",
    "created_at": "2016-09-19T00:40:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316103",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`444fd6e`](https://github.com/sagemath/sagetrac-mirror/commit/444fd6e910c46e8212e7d10eb160e908e14975c2)**



---

archive/issue_comments_316104.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nPractical matters:\n* documentation \n* If you need a password and that the time between sudo-ing is longer than the time out, you will have to insert the password quite a number of times. In the case of a parallel install, will it block output to screen until you have entered the password?\n\nI don't know enough of the mechanics of sage standard output on screen to know how requesting a password will affect the flow.",
    "created_at": "2016-09-19T00:50:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316104",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:4" align="right">comment:4</div>

Practical matters:
* documentation 
* If you need a password and that the time between sudo-ing is longer than the time out, you will have to insert the password quite a number of times. In the case of a parallel install, will it block output to screen until you have entered the password?

I don't know enough of the mechanics of sage standard output on screen to know how requesting a password will affect the flow.



---

archive/issue_comments_316105.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI guess I should say in the case of parallel make. In which the parallelism of make is translated into installing packages concurrently.",
    "created_at": "2016-09-19T00:52:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316105",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:5" align="right">comment:5</div>

I guess I should say in the case of parallel make. In which the parallelism of make is translated into installing packages concurrently.



---

archive/issue_comments_316106.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nYes, these issues need addressing in documentation and/or implementation.",
    "created_at": "2016-09-19T01:04:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316106",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Yes, these issues need addressing in documentation and/or implementation.



---

archive/issue_comments_316107.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/666fb57e41dfcb66c08b1ad8231877b515f17a8e\"><code>666fb57</code></a></td><td><code>Add SAGE_SUDO for packages L-P</code></td></tr></table>\n",
    "created_at": "2016-09-19T03:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316107",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/666fb57e41dfcb66c08b1ad8231877b515f17a8e"><code>666fb57</code></a></td><td><code>Add SAGE_SUDO for packages L-P</code></td></tr></table>




---

archive/issue_comments_316108.json:
```json
{
    "body": "Changed commit from **[`444fd6e`](https://github.com/sagemath/sagetrac-mirror/commit/444fd6e910c46e8212e7d10eb160e908e14975c2)** to **[`666fb57`](https://github.com/sagemath/sagetrac-mirror/commit/666fb57e41dfcb66c08b1ad8231877b515f17a8e)**",
    "created_at": "2016-09-19T03:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316108",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`444fd6e`](https://github.com/sagemath/sagetrac-mirror/commit/444fd6e910c46e8212e7d10eb160e908e14975c2)** to **[`666fb57`](https://github.com/sagemath/sagetrac-mirror/commit/666fb57e41dfcb66c08b1ad8231877b515f17a8e)**



---

archive/issue_comments_316109.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@kiwifb](#comment%3A4):\n> In the case of a parallel install, will it block output to screen until you have entered the password?\n> \n> I don't know enough of the mechanics of sage standard output on screen to know how requesting a password will affect the flow.\n\nThe problem of parallel output and prompts has been discussed before in #20884, #21082. \nAlso #21539 could help.",
    "created_at": "2016-09-19T04:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316109",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@kiwifb](#comment%3A4):
> In the case of a parallel install, will it block output to screen until you have entered the password?
> 
> I don't know enough of the mechanics of sage standard output on screen to know how requesting a password will affect the flow.

The problem of parallel output and prompts has been discussed before in #20884, #21082. 
Also #21539 could help.



---

archive/issue_comments_316110.json:
```json
{
    "body": "Changed commit from **[`666fb57`](https://github.com/sagemath/sagetrac-mirror/commit/666fb57e41dfcb66c08b1ad8231877b515f17a8e)** to **[`ec6ce24`](https://github.com/sagemath/sagetrac-mirror/commit/ec6ce246c07221e75fad1c1a6d47983156753540)**",
    "created_at": "2016-09-19T05:05:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316110",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`666fb57`](https://github.com/sagemath/sagetrac-mirror/commit/666fb57e41dfcb66c08b1ad8231877b515f17a8e)** to **[`ec6ce24`](https://github.com/sagemath/sagetrac-mirror/commit/ec6ce246c07221e75fad1c1a6d47983156753540)**



---

archive/issue_comments_316111.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec6ce246c07221e75fad1c1a6d47983156753540\"><code>ec6ce24</code></a></td><td><code>spkg-do-install: Make executable</code></td></tr></table>\n",
    "created_at": "2016-09-19T05:05:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316111",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec6ce246c07221e75fad1c1a6d47983156753540"><code>ec6ce24</code></a></td><td><code>spkg-do-install: Make executable</code></td></tr></table>




---

archive/issue_comments_316112.json:
```json
{
    "body": "Changed commit from **[`ec6ce24`](https://github.com/sagemath/sagetrac-mirror/commit/ec6ce246c07221e75fad1c1a6d47983156753540)** to **[`23e3ddc`](https://github.com/sagemath/sagetrac-mirror/commit/23e3ddcebbdfbae9d22e05688d2b98acc6c61726)**",
    "created_at": "2016-09-20T04:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316112",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ec6ce24`](https://github.com/sagemath/sagetrac-mirror/commit/ec6ce246c07221e75fad1c1a6d47983156753540)** to **[`23e3ddc`](https://github.com/sagemath/sagetrac-mirror/commit/23e3ddcebbdfbae9d22e05688d2b98acc6c61726)**



---

archive/issue_comments_316113.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23e3ddcebbdfbae9d22e05688d2b98acc6c61726\"><code>23e3ddc</code></a></td><td><code>Packages P-S</code></td></tr></table>\n",
    "created_at": "2016-09-20T04:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316113",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23e3ddcebbdfbae9d22e05688d2b98acc6c61726"><code>23e3ddc</code></a></td><td><code>Packages P-S</code></td></tr></table>




---

archive/issue_comments_316114.json:
```json
{
    "body": "Changed commit from **[`23e3ddc`](https://github.com/sagemath/sagetrac-mirror/commit/23e3ddcebbdfbae9d22e05688d2b98acc6c61726)** to **[`74fbeff`](https://github.com/sagemath/sagetrac-mirror/commit/74fbeff37dd0fe35ff5d85ade206b4fe9644cc79)**",
    "created_at": "2016-09-20T05:53:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316114",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`23e3ddc`](https://github.com/sagemath/sagetrac-mirror/commit/23e3ddcebbdfbae9d22e05688d2b98acc6c61726)** to **[`74fbeff`](https://github.com/sagemath/sagetrac-mirror/commit/74fbeff37dd0fe35ff5d85ade206b4fe9644cc79)**



---

archive/issue_comments_316115.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/341bdb031065ca9c4427dd9c3f75aa54bda2a442\"><code>341bdb0</code></a></td><td><code>Packages M-Z</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74fbeff37dd0fe35ff5d85ade206b4fe9644cc79\"><code>74fbeff</code></a></td><td><code>Call pip with SAGE_SUDO</code></td></tr></table>\n",
    "created_at": "2016-09-20T05:53:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316115",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/341bdb031065ca9c4427dd9c3f75aa54bda2a442"><code>341bdb0</code></a></td><td><code>Packages M-Z</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74fbeff37dd0fe35ff5d85ade206b4fe9644cc79"><code>74fbeff</code></a></td><td><code>Call pip with SAGE_SUDO</code></td></tr></table>




---

archive/issue_comments_316116.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2016-09-20T05:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316116",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_316117.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8919cc342ccff35109c2696ba6c87220ccd83bc\"><code>d8919cc</code></a></td><td><code>Add SAGE_SUDO for packages A-L</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f46f6c8ca27e5694f3d935844051647808688ae\"><code>7f46f6c</code></a></td><td><code>Add SAGE_SUDO for packages L-P</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ccb3a137bd0a672337f0b45131bf6f1c972b657f\"><code>ccb3a13</code></a></td><td><code>spkg-do-install: Make executable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f957ccbf403b960d11e903fb74db5c31b43c71a\"><code>3f957cc</code></a></td><td><code>Packages P-S</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c806e9f50ff8e8f67f46c72046b93df164b2c82f\"><code>c806e9f</code></a></td><td><code>Packages M-Z</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abd3e96ace7de829396b691e209bb7dd813dd77d\"><code>abd3e96</code></a></td><td><code>Call pip with SAGE_SUDO</code></td></tr></table>\n",
    "created_at": "2016-09-27T19:21:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316117",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8919cc342ccff35109c2696ba6c87220ccd83bc"><code>d8919cc</code></a></td><td><code>Add SAGE_SUDO for packages A-L</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f46f6c8ca27e5694f3d935844051647808688ae"><code>7f46f6c</code></a></td><td><code>Add SAGE_SUDO for packages L-P</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ccb3a137bd0a672337f0b45131bf6f1c972b657f"><code>ccb3a13</code></a></td><td><code>spkg-do-install: Make executable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f957ccbf403b960d11e903fb74db5c31b43c71a"><code>3f957cc</code></a></td><td><code>Packages P-S</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c806e9f50ff8e8f67f46c72046b93df164b2c82f"><code>c806e9f</code></a></td><td><code>Packages M-Z</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abd3e96ace7de829396b691e209bb7dd813dd77d"><code>abd3e96</code></a></td><td><code>Call pip with SAGE_SUDO</code></td></tr></table>




---

archive/issue_comments_316118.json:
```json
{
    "body": "Changed commit from **[`74fbeff`](https://github.com/sagemath/sagetrac-mirror/commit/74fbeff37dd0fe35ff5d85ade206b4fe9644cc79)** to **[`abd3e96`](https://github.com/sagemath/sagetrac-mirror/commit/abd3e96ace7de829396b691e209bb7dd813dd77d)**",
    "created_at": "2016-09-27T19:21:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316118",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`74fbeff`](https://github.com/sagemath/sagetrac-mirror/commit/74fbeff37dd0fe35ff5d85ade206b4fe9644cc79)** to **[`abd3e96`](https://github.com/sagemath/sagetrac-mirror/commit/abd3e96ace7de829396b691e209bb7dd813dd77d)**



---

archive/issue_comments_316119.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,8 +2,9 @@\n \n In this way, building can take place in unprivileged user account.\n \n-It could perhaps also be enabled by `./configure --enable-sudo-install`.\n+It could perhaps also be enabled by `./configure --enable-sudo-install`. (not on this ticket)\n \n-This ticket requires routine changes to all `spkg-install` scripts.\n+This ticket makes routine changes to all `spkg-install` scripts. Whenever installing has more steps than just `make install`, it moves the install part to a separate script `spkg-do-install`.\n \n \n+\n``````\n",
    "created_at": "2016-09-27T19:27:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316119",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,8 +2,9 @@
 
 In this way, building can take place in unprivileged user account.
 
-It could perhaps also be enabled by `./configure --enable-sudo-install`.
+It could perhaps also be enabled by `./configure --enable-sudo-install`. (not on this ticket)
 
-This ticket requires routine changes to all `spkg-install` scripts.
+This ticket makes routine changes to all `spkg-install` scripts. Whenever installing has more steps than just `make install`, it moves the install part to a separate script `spkg-do-install`.
 
 
+
``````




---

archive/issue_comments_316120.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nRebased on 7.4.beta6. \nNeeds review.",
    "created_at": "2016-09-27T19:27:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316120",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Rebased on 7.4.beta6. 
Needs review.



---

archive/issue_events_299817.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-09-27T19:27:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299817"
}
```



---

archive/issue_comments_316121.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nSomehow this makes me feel a bit icky, but I'm not -1 on it either.  It's a solution for now.  I feel icky because if the Sage distribution were like a \"normal\" autoconf package I should be able to simply run `make && sudo make install` and not have tell configure that I intend to use sudo when I install.  Nor should sudo be invoked in each sub-make.  But the Sage distribution is definitely *not* a normal package since really it's just a big wrapper around a bunch of other packages, combined with some semblance of dependency management.\n\nThat said, it would be *nice* if the Sage distribution did work like `make && sudo make install`.  To me, this points toward another area where sage packages could and probably should be refactored anyways.  If packages had separate `spkg-build` and `spkg-install` scripts that would go a long way, I think.  Then `make`/`make build` would run the `spkg-build` scripts, and only `make install` would run the actual `spkg-install` scripts.  It would probably also go a long ways towards further eliminating duplication of effort between the many `spkg-install` scripts.\n\nOn another note, for Python packages installed with pip it still might be best to have separate \"build\" and \"install\" phases--in particular for Python packages with extension modules, where one might not want to be running a compiler as root.  This could be achieved by running `pip install` without sudo with a temporary target directory, and then copying into the appropriate `site-packages` (perhaps after an uninstall of previously installed versions of the package).  For that to work it might be best if this waited on #21441 which adds a new `sage-pip-install` script, which might be further modified to support this usage.",
    "created_at": "2016-09-28T06:21:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316121",
    "user": "https://github.com/embray"
}
```

<div id="comment:15" align="right">comment:15</div>

Somehow this makes me feel a bit icky, but I'm not -1 on it either.  It's a solution for now.  I feel icky because if the Sage distribution were like a "normal" autoconf package I should be able to simply run `make && sudo make install` and not have tell configure that I intend to use sudo when I install.  Nor should sudo be invoked in each sub-make.  But the Sage distribution is definitely *not* a normal package since really it's just a big wrapper around a bunch of other packages, combined with some semblance of dependency management.

That said, it would be *nice* if the Sage distribution did work like `make && sudo make install`.  To me, this points toward another area where sage packages could and probably should be refactored anyways.  If packages had separate `spkg-build` and `spkg-install` scripts that would go a long way, I think.  Then `make`/`make build` would run the `spkg-build` scripts, and only `make install` would run the actual `spkg-install` scripts.  It would probably also go a long ways towards further eliminating duplication of effort between the many `spkg-install` scripts.

On another note, for Python packages installed with pip it still might be best to have separate "build" and "install" phases--in particular for Python packages with extension modules, where one might not want to be running a compiler as root.  This could be achieved by running `pip install` without sudo with a temporary target directory, and then copying into the appropriate `site-packages` (perhaps after an uninstall of previously installed versions of the package).  For that to work it might be best if this waited on #21441 which adds a new `sage-pip-install` script, which might be further modified to support this usage.



---

archive/issue_comments_316122.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nFine with me to wait for #21441 and its `sage-pip-install`. Is that ticket moving forward, by the way?",
    "created_at": "2016-09-29T07:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316122",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Fine with me to wait for #21441 and its `sage-pip-install`. Is that ticket moving forward, by the way?



---

archive/issue_comments_316123.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@embray](#comment%3A15):\n> [...] if the Sage distribution were like a \"normal\" autoconf package I should be able to simply run `make && sudo make install` and not have tell configure that I intend to use sudo when I install.  \n\nJust for reference for other readers (I know that you are aware of that ticket, Erik): Any discussion of separating `make` and `make install` for sage-the-distribution should take place on ticket #21495.",
    "created_at": "2016-09-30T01:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316123",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@embray](#comment%3A15):
> [...] if the Sage distribution were like a "normal" autoconf package I should be able to simply run `make && sudo make install` and not have tell configure that I intend to use sudo when I install.  

Just for reference for other readers (I know that you are aware of that ticket, Erik): Any discussion of separating `make` and `make install` for sage-the-distribution should take place on ticket #21495.



---

archive/issue_comments_316124.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@embray](#comment%3A15):\n>  To me, this points toward another area where sage packages could and probably should be refactored anyways.  If packages had separate `spkg-build` and `spkg-install` scripts that would go a long way, I think.  Then `make`/`make build` would run the `spkg-build` scripts, and only `make install` would run the actual `spkg-install` scripts.  It would probably also go a long ways towards further eliminating duplication of effort between the many `spkg-install` scripts.\n\nRight now, in this patch I am calling `spkg-do-install` scripts with `$SAGE_SUDO` from various package's `spkg-install` scripts.\nOf course, each package's `spkg-install` script needs to be changed for `$SAGE_SUDO` to work, and installing packages that have not been prepared for it will cause an error when trying to install them to a prefix that is only root-writable.\n\nAn \"easier\" solution would be to just call `spkg-build` if it exists, unprivileged, and then call `spkg-install` using `$SAGE_SUDO`. This would \"just work\" without making changes to the -- but it would run a lot of stuff as root until a package moves its build part from `spkg-install` to `spkg-build`.\n\nThoughts?\n\n> On another note, for Python packages installed with pip it still might be best to have separate \"build\" and \"install\" phases--in particular for Python packages with extension modules, where one might not want to be running a compiler as root.  This could be achieved by running `pip install` without sudo with a temporary target directory, and then copying into the appropriate `site-packages` (perhaps after an uninstall of previously installed versions of the package).  \n\nAre you sure that Python packages with extension modules are relocatable in this way? I have no experience with the specifics of the Python distutils world, but I would imagine all kinds of trouble (rpath/sonames, possible hardcoded paths, ...)\n\n> For that to work it might be best if this waited on #21441 which adds a new `sage-pip-install` script, which might be further modified to support this usage.\n\nSure, I've made it a dependency.",
    "created_at": "2016-09-30T01:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316124",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@embray](#comment%3A15):
>  To me, this points toward another area where sage packages could and probably should be refactored anyways.  If packages had separate `spkg-build` and `spkg-install` scripts that would go a long way, I think.  Then `make`/`make build` would run the `spkg-build` scripts, and only `make install` would run the actual `spkg-install` scripts.  It would probably also go a long ways towards further eliminating duplication of effort between the many `spkg-install` scripts.

Right now, in this patch I am calling `spkg-do-install` scripts with `$SAGE_SUDO` from various package's `spkg-install` scripts.
Of course, each package's `spkg-install` script needs to be changed for `$SAGE_SUDO` to work, and installing packages that have not been prepared for it will cause an error when trying to install them to a prefix that is only root-writable.

An "easier" solution would be to just call `spkg-build` if it exists, unprivileged, and then call `spkg-install` using `$SAGE_SUDO`. This would "just work" without making changes to the -- but it would run a lot of stuff as root until a package moves its build part from `spkg-install` to `spkg-build`.

Thoughts?

> On another note, for Python packages installed with pip it still might be best to have separate "build" and "install" phases--in particular for Python packages with extension modules, where one might not want to be running a compiler as root.  This could be achieved by running `pip install` without sudo with a temporary target directory, and then copying into the appropriate `site-packages` (perhaps after an uninstall of previously installed versions of the package).  

Are you sure that Python packages with extension modules are relocatable in this way? I have no experience with the specifics of the Python distutils world, but I would imagine all kinds of trouble (rpath/sonames, possible hardcoded paths, ...)

> For that to work it might be best if this waited on #21441 which adds a new `sage-pip-install` script, which might be further modified to support this usage.

Sure, I've made it a dependency.



---

archive/issue_comments_316125.json:
```json
{
    "body": "Dependencies: **#21441**",
    "created_at": "2016-09-30T01:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316125",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#21441**



---

archive/issue_comments_316126.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nRight, regardless of how make is invoked, if there are separate `spkg-build` and `spkg-install` scripts the former can be run unprivileged.  Then, at least in the current system, you would call `$SAGE_SUDO spkg-install`.\n\nI think most packages would be easy enough to split up their `spkg-install` into two scripts.  Though as I think I wrote in another ticket one might actually want a third `spkg-env` script that sets environment variables needed for both the build and install steps (fortunately for most autotools packages most relevant environment variables are only needed for the build step, I think).",
    "created_at": "2016-09-30T10:04:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316126",
    "user": "https://github.com/embray"
}
```

<div id="comment:19" align="right">comment:19</div>

Right, regardless of how make is invoked, if there are separate `spkg-build` and `spkg-install` scripts the former can be run unprivileged.  Then, at least in the current system, you would call `$SAGE_SUDO spkg-install`.

I think most packages would be easy enough to split up their `spkg-install` into two scripts.  Though as I think I wrote in another ticket one might actually want a third `spkg-env` script that sets environment variables needed for both the build and install steps (fortunately for most autotools packages most relevant environment variables are only needed for the build step, I think).



---

archive/issue_comments_316127.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@mkoeppe](#comment%3A18):\n> Replying to [@embray](#comment%3A15):\n> > On another note, for Python packages installed with pip it still might be best to have separate \"build\" and \"install\" phases--in particular for Python packages with extension modules, where one might not want to be running a compiler as root.  This could be achieved by running `pip install` without sudo with a temporary target directory, and then copying into the appropriate `site-packages` (perhaps after an uninstall of previously installed versions of the package).  \n> \n> \n> Are you sure that Python packages with extension modules are relocatable in this way? I have no experience with the specifics of the Python distutils world, but I would imagine all kinds of trouble (rpath/sonames, possible hardcoded paths, ...)\n\nIn general, yes, it should not be a problem.  This does not affect rpath or soname for extension modules--I mean in principle it could but that would be a pathological case the likes of which I've never seen, and that is definitely not supported.\n\nIn principle one could also imagine a module that when installed generates some files containing hard-coded paths, but can't think of anything like that.  Most well made Python modules are good about keeping such things relative and dynamic.  So I'd be surprised if that's a problem anywhere, though if it is obviously exceptions can be made.\n\n(**Update:** In fact, I should add, this is how distutils builds packages normally anyways--first it builds everything to `build/`, and then simply copies from there directly to the install location--what I described simply adds one additional copy.  All the \"install\" commands really do in distutils is copy files--all the real work should usually be done in the \"build\" command (or sub-commands thereof).)",
    "created_at": "2016-09-30T10:10:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316127",
    "user": "https://github.com/embray"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@mkoeppe](#comment%3A18):
> Replying to [@embray](#comment%3A15):
> > On another note, for Python packages installed with pip it still might be best to have separate "build" and "install" phases--in particular for Python packages with extension modules, where one might not want to be running a compiler as root.  This could be achieved by running `pip install` without sudo with a temporary target directory, and then copying into the appropriate `site-packages` (perhaps after an uninstall of previously installed versions of the package).  
> 
> 
> Are you sure that Python packages with extension modules are relocatable in this way? I have no experience with the specifics of the Python distutils world, but I would imagine all kinds of trouble (rpath/sonames, possible hardcoded paths, ...)

In general, yes, it should not be a problem.  This does not affect rpath or soname for extension modules--I mean in principle it could but that would be a pathological case the likes of which I've never seen, and that is definitely not supported.

In principle one could also imagine a module that when installed generates some files containing hard-coded paths, but can't think of anything like that.  Most well made Python modules are good about keeping such things relative and dynamic.  So I'd be surprised if that's a problem anywhere, though if it is obviously exceptions can be made.

(**Update:** In fact, I should add, this is how distutils builds packages normally anyways--first it builds everything to `build/`, and then simply copies from there directly to the install location--what I described simply adds one additional copy.  All the "install" commands really do in distutils is copy files--all the real work should usually be done in the "build" command (or sub-commands thereof).)



---

archive/issue_events_299818.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-10-19T03:52:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299818"
}
```



---

archive/issue_events_299819.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-10-19T03:52:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299819"
}
```



---

archive/issue_comments_316128.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n \n This ticket makes routine changes to all `spkg-install` scripts. Whenever installing has more steps than just `make install`, it moves the install part to a separate script `spkg-do-install`.\n \n+*** See #21726 for a slightly different approach ***\n \n-\n``````\n",
    "created_at": "2016-10-19T03:52:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316128",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 
 This ticket makes routine changes to all `spkg-install` scripts. Whenever installing has more steps than just `make install`, it moves the install part to a separate script `spkg-do-install`.
 
+*** See #21726 for a slightly different approach ***
 
-
``````




---

archive/issue_comments_316129.json:
```json
{
    "body": "Changed dependencies from **#21441** to **#21726**",
    "created_at": "2016-11-08T18:53:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316129",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#21441** to **#21726**



---

archive/issue_comments_316130.json:
```json
{
    "body": "Work Issues: **redo patch using the method of 21726**",
    "created_at": "2016-11-08T18:53:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316130",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **redo patch using the method of 21726**



---

archive/issue_events_299820.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-11-08T18:53:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299820"
}
```



---

archive/issue_events_299821.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-11-08T18:53:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299821"
}
```



---

archive/issue_events_299822.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-11-08T18:53:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299822"
}
```



---

archive/issue_events_299823.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-15T18:40:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299823"
}
```



---

archive/issue_events_299824.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-15T18:40:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299824"
}
```



---

archive/issue_comments_316131.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThis was implemented in #21726. The present ticket can be closed",
    "created_at": "2020-09-15T18:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316131",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

This was implemented in #21726. The present ticket can be closed



---

archive/issue_events_299825.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-15T18:40:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299825"
}
```



---

archive/issue_comments_316132.json:
```json
{
    "body": "Changed author from **Matthias Koeppe** to none",
    "created_at": "2020-09-15T18:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316132",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Matthias Koeppe** to none



---

archive/issue_comments_316133.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nOk.",
    "created_at": "2021-08-19T22:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316133",
    "user": "https://github.com/slel"
}
```

<div id="comment:25" align="right">comment:25</div>

Ok.



---

archive/issue_comments_316134.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_)** to none",
    "created_at": "2021-08-19T22:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316134",
    "user": "https://github.com/slel"
}
```

Changed branch from **[u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/if__sage_sudo_is_set__use_it_whenever_we_do__make_install__of_a_package_)** to none



---

archive/issue_comments_316135.json:
```json
{
    "body": "Changed commit from **[`abd3e96`](https://github.com/sagemath/sagetrac-mirror/commit/abd3e96ace7de829396b691e209bb7dd813dd77d)** to none",
    "created_at": "2021-08-19T22:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316135",
    "user": "https://github.com/slel"
}
```

Changed commit from **[`abd3e96`](https://github.com/sagemath/sagetrac-mirror/commit/abd3e96ace7de829396b691e209bb7dd813dd77d)** to none



---

archive/issue_events_299826.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-08-19T22:54:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299826"
}
```



---

archive/issue_events_299827.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-08-19T22:54:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299827"
}
```



---

archive/issue_comments_316136.json:
```json
{
    "body": "Changed work issues from **redo patch using the method of 21726** to none",
    "created_at": "2021-08-19T22:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316136",
    "user": "https://github.com/slel"
}
```

Changed work issues from **redo patch using the method of 21726** to none



---

archive/issue_comments_316137.json:
```json
{
    "body": "Changed dependencies from **#21726** to none",
    "created_at": "2021-08-19T22:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316137",
    "user": "https://github.com/slel"
}
```

Changed dependencies from **#21726** to none



---

archive/issue_comments_316138.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, Samuel Leli\u00e8vre**",
    "created_at": "2021-08-19T22:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21537#issuecomment-316138",
    "user": "https://github.com/slel"
}
```

Reviewer: **Matthias Koeppe, Samuel Leli√®vre**



---

archive/issue_events_299828.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-26T02:08:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299828"
}
```



---

archive/issue_events_299829.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-26T02:08:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21537",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21537#event-299829"
}
```
