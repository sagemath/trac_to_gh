# Issue 21986: LaTeX and digraph of crystals.infinity.Tableaux never finish

archive/issues_021749.json:
```json
{
    "body": "The following is a common problem with infinite objects:\n\n```\nsage: B = crystals.infinity.Tableaux([\"G\", 2])\nsage: latex(B) # Never stops\n```\n\nThis happens because `B._latex_` is the implementation of generic _latex_ from sage/categories/crystals.py that calls `self.digraph()`. But `B.digraph()` is infinite.\n\nSuggestions on how to fix this:\n* `B.digraph()` should raise `NotImplementedError`, until we have a way to represent infinite digraphs. It is a better API, in my opinion, not to remove this method.\n* `B.latex()` should return something like `\"\\\\mathcal{B}\"`, and adding a new method `B.tikz()` that for infinite crystals takes the LaTeX string of `B.subcrystal(max_depth=3)` and appends `\"\\\\vdots\"` to denote that it is an infinite crystal.\n\nCC:  @tscrim @bsalisbury1 @anneschilling\n\nKeywords: days79\n\nBranch/Commit: 49307bf4cd80128eae829fe8ef4d3275258b2412\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton, Tomer Bauer\n\nAuthor: Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21986\n\n",
    "closed_at": "2016-12-05T22:34:46Z",
    "created_at": "2016-11-28T12:10:58Z",
    "labels": [
        "component: combinatorics",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "LaTeX and digraph of crystals.infinity.Tableaux never finish",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21986",
    "user": "https://github.com/mathzeta"
}
```
The following is a common problem with infinite objects:

```
sage: B = crystals.infinity.Tableaux(["G", 2])
sage: latex(B) # Never stops
```

This happens because `B._latex_` is the implementation of generic _latex_ from sage/categories/crystals.py that calls `self.digraph()`. But `B.digraph()` is infinite.

Suggestions on how to fix this:
* `B.digraph()` should raise `NotImplementedError`, until we have a way to represent infinite digraphs. It is a better API, in my opinion, not to remove this method.
* `B.latex()` should return something like `"\\mathcal{B}"`, and adding a new method `B.tikz()` that for infinite crystals takes the LaTeX string of `B.subcrystal(max_depth=3)` and appends `"\\vdots"` to denote that it is an infinite crystal.

CC:  @tscrim @bsalisbury1 @anneschilling

Keywords: days79

Branch/Commit: 49307bf4cd80128eae829fe8ef4d3275258b2412

Reviewer: Frédéric Chapoton, Tomer Bauer

Author: Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21986





---

archive/issue_comments_409179.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[e3ca013](https://github.com/sagemath/sagetrac-mirror/commit/e3ca013a73be0eb1b2544d52e41eeb546a3e6755)|`Raise an error for digraph of infinite crystals.`|",
    "created_at": "2016-12-04T01:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409179",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[e3ca013](https://github.com/sagemath/sagetrac-mirror/commit/e3ca013a73be0eb1b2544d52e41eeb546a3e6755)|`Raise an error for digraph of infinite crystals.`|



---

archive/issue_comments_409180.json:
```json
{
    "body": "Changing branch from \"\" to \"public/crystals/latex_infinite_crystals-21986\"",
    "created_at": "2016-12-04T01:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409180",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "" to "public/crystals/latex_infinite_crystals-21986"



---

archive/issue_comments_409181.json:
```json
{
    "body": "Changing author from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2016-12-04T01:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409181",
    "user": "https://github.com/tscrim"
}
```

Changing author from "" to "Travis Scrimshaw"



---

archive/issue_comments_409182.json:
```json
{
    "body": "Changing commit from \"\" to \"e3ca013a73be0eb1b2544d52e41eeb546a3e6755\"",
    "created_at": "2016-12-04T01:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409182",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "" to "e3ca013a73be0eb1b2544d52e41eeb546a3e6755"



---

archive/issue_comments_409183.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-12-04T01:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409183",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_409184.json:
```json
{
    "body": "<a id='comment:2'></a>\nok, looks good",
    "created_at": "2016-12-04T17:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409184",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
ok, looks good



---

archive/issue_comments_409185.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2016-12-04T17:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409185",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_409186.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-12-04T17:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409186",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_409187.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [chapoton](#comment%3A2):\n> ok, looks good\n\nYou are faster than me.\nIt might be my ignorance, but is the import of `CategoryWithAxiom` needed?",
    "created_at": "2016-12-04T18:06:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409187",
    "user": "https://github.com/mathzeta"
}
```

<a id='comment:4'></a>
Replying to [chapoton](#comment%3A2):
> ok, looks good

You are faster than me.
It might be my ignorance, but is the import of `CategoryWithAxiom` needed?



---

archive/issue_comments_409188.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                           |                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[49307bf](https://github.com/sagemath/sagetrac-mirror/commit/49307bf4cd80128eae829fe8ef4d3275258b2412)|`Removed import of CategoryWithAxiom from first attempt.`|",
    "created_at": "2016-12-04T18:16:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409188",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                           |                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[49307bf](https://github.com/sagemath/sagetrac-mirror/commit/49307bf4cd80128eae829fe8ef4d3275258b2412)|`Removed import of CategoryWithAxiom from first attempt.`|



---

archive/issue_comments_409189.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2016-12-04T18:16:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409189",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_409190.json:
```json
{
    "body": "Changing commit from \"e3ca013a73be0eb1b2544d52e41eeb546a3e6755\" to \"49307bf4cd80128eae829fe8ef4d3275258b2412\"",
    "created_at": "2016-12-04T18:16:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409190",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e3ca013a73be0eb1b2544d52e41eeb546a3e6755" to "49307bf4cd80128eae829fe8ef4d3275258b2412"



---

archive/issue_comments_409191.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-12-04T18:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409191",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_409192.json:
```json
{
    "body": "<a id='comment:6'></a>\nThat was leftover from my first attempt. I've removed it and allowed myself to revert this to positive review.",
    "created_at": "2016-12-04T18:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409192",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
That was leftover from my first attempt. I've removed it and allowed myself to revert this to positive review.



---

archive/issue_comments_409193.json:
```json
{
    "body": "Changing reviewer from \"Fr\u00e9d\u00e9ric Chapoton\" to \"Fr\u00e9d\u00e9ric Chapoton, Tomer Bauer\"",
    "created_at": "2016-12-04T19:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409193",
    "user": "https://github.com/mathzeta"
}
```

Changing reviewer from "Frédéric Chapoton" to "Frédéric Chapoton, Tomer Bauer"



---

archive/issue_events_065878.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-12-05T22:34:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21986#event-65878"
}
```



---

archive/issue_comments_409194.json:
```json
{
    "body": "Changing branch from \"public/crystals/latex_infinite_crystals-21986\" to \"49307bf4cd80128eae829fe8ef4d3275258b2412\"",
    "created_at": "2016-12-05T22:34:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409194",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/crystals/latex_infinite_crystals-21986" to "49307bf4cd80128eae829fe8ef4d3275258b2412"



---

archive/issue_comments_409195.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-12-05T22:34:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21986#issuecomment-409195",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
