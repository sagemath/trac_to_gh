# Issue 21986: LaTeX and digraph of crystals.infinity.Tableaux never finish

archive/issues_021749.json:
```json
{
    "assignees": [],
    "body": "The following is a common problem with infinite objects:\n\n```\nsage: B = crystals.infinity.Tableaux([\"G\", 2])\nsage: latex(B) # Never stops\n```\n\nThis happens because `B._latex_` is the implementation of generic `_latex_` from sage/categories/crystals.py that calls `self.digraph()`. But `B.digraph()` is infinite.\n\nSuggestions on how to fix this:\n* `B.digraph()` should raise `NotImplementedError`, until we have a way to represent infinite digraphs. It is a better API, in my opinion, not to remove this method.\n* `B.latex()` should return something like `\"\\\\mathcal{B}\"`, and adding a new method `B.tikz()` that for infinite crystals takes the LaTeX string of `B.subcrystal(max_depth=3)` and appends `\"\\\\vdots\"` to denote that it is an infinite crystal.\n\nCC:  @tscrim @bsalisbury1 @anneschilling\n\nKeywords: **days79**\n\nBranch/Commit: **[49307bf](https://github.com/sagemath/sagetrac-mirror/commit/49307bf4cd80128eae829fe8ef4d3275258b2412)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton, Tomer Bauer**\n\nAuthor: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21986_\n\n",
    "closed_at": "2016-12-05T22:34:46Z",
    "created_at": "2016-11-28T12:10:58Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "LaTeX and digraph of crystals.infinity.Tableaux never finish",
    "type": "issue",
    "updated_at": "2016-12-05T22:34:46Z",
    "url": "https://github.com/sagemath/sage/issues/21986",
    "user": "https://github.com/mathzeta"
}
```
The following is a common problem with infinite objects:

```
sage: B = crystals.infinity.Tableaux(["G", 2])
sage: latex(B) # Never stops
```

This happens because `B._latex_` is the implementation of generic `_latex_` from sage/categories/crystals.py that calls `self.digraph()`. But `B.digraph()` is infinite.

Suggestions on how to fix this:
* `B.digraph()` should raise `NotImplementedError`, until we have a way to represent infinite digraphs. It is a better API, in my opinion, not to remove this method.
* `B.latex()` should return something like `"\\mathcal{B}"`, and adding a new method `B.tikz()` that for infinite crystals takes the LaTeX string of `B.subcrystal(max_depth=3)` and appends `"\\vdots"` to denote that it is an infinite crystal.

CC:  @tscrim @bsalisbury1 @anneschilling

Keywords: **days79**

Branch/Commit: **[49307bf](https://github.com/sagemath/sagetrac-mirror/commit/49307bf4cd80128eae829fe8ef4d3275258b2412)**

Reviewer: **Frédéric Chapoton, Tomer Bauer**

Author: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/21986_





---

archive/issue_events_290083.json:
```json
{
    "actor": "https://github.com/mathzeta",
    "created_at": "2016-11-28T12:10:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290083"
}
```



---

archive/issue_events_290084.json:
```json
{
    "actor": "https://github.com/mathzeta",
    "created_at": "2016-11-28T12:10:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290084"
}
```



---

archive/issue_events_290085.json:
```json
{
    "actor": "https://github.com/mathzeta",
    "created_at": "2016-11-28T12:10:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290085"
}
```



---

archive/issue_events_290086.json:
```json
{
    "actor": "https://github.com/mathzeta",
    "created_at": "2016-11-28T12:10:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290086"
}
```



---

archive/issue_comments_326477.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3ca013a73be0eb1b2544d52e41eeb546a3e6755\">e3ca013</a></td><td><code>Raise an error for digraph of infinite crystals.</code></td></tr></table>\n",
    "created_at": "2016-12-04T01:23:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21986#issuecomment-326477",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:1" align="right">Comment 1</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3ca013a73be0eb1b2544d52e41eeb546a3e6755">e3ca013</a></td><td><code>Raise an error for digraph of infinite crystals.</code></td></tr></table>




---

archive/issue_comments_326478.json:
```json
{
    "body": "Branch: **[public/crystals/latex_infinite_crystals-21986](https://github.com/sagemath/sagetrac-mirror/tree/public/crystals/latex_infinite_crystals-21986)**",
    "created_at": "2016-12-04T01:23:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21986#issuecomment-326478",
    "user": "https://github.com/tscrim"
}
```

Branch: **[public/crystals/latex_infinite_crystals-21986](https://github.com/sagemath/sagetrac-mirror/tree/public/crystals/latex_infinite_crystals-21986)**



---

archive/issue_comments_326479.json:
```json
{
    "body": "Author: **Travis Scrimshaw**",
    "created_at": "2016-12-04T01:23:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21986#issuecomment-326479",
    "user": "https://github.com/tscrim"
}
```

Author: **Travis Scrimshaw**



---

archive/issue_comments_326480.json:
```json
{
    "body": "Commit: **[e3ca013](https://github.com/sagemath/sagetrac-mirror/commit/e3ca013a73be0eb1b2544d52e41eeb546a3e6755)**",
    "created_at": "2016-12-04T01:23:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21986#issuecomment-326480",
    "user": "https://github.com/tscrim"
}
```

Commit: **[e3ca013](https://github.com/sagemath/sagetrac-mirror/commit/e3ca013a73be0eb1b2544d52e41eeb546a3e6755)**



---

archive/issue_events_290087.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-12-04T01:23:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290087"
}
```



---

archive/issue_comments_326481.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nok, looks good",
    "created_at": "2016-12-04T17:15:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21986#issuecomment-326481",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2" align="right">Comment 2</div>

ok, looks good



---

archive/issue_comments_326482.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2016-12-04T17:15:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21986#issuecomment-326482",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_events_290088.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-12-04T17:15:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290088"
}
```



---

archive/issue_events_290089.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-12-04T17:15:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290089"
}
```



---

archive/issue_comments_326483.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nReplying to [@fchapoton](#comment%3A2):\n> ok, looks good\n\nYou are faster than me.\nIt might be my ignorance, but is the import of `CategoryWithAxiom` needed?",
    "created_at": "2016-12-04T18:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21986#issuecomment-326483",
    "user": "https://github.com/mathzeta"
}
```

<div id="comment:4" align="right">Comment 4</div>

Replying to [@fchapoton](#comment%3A2):
> ok, looks good

You are faster than me.
It might be my ignorance, but is the import of `CategoryWithAxiom` needed?



---

archive/issue_comments_326484.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49307bf4cd80128eae829fe8ef4d3275258b2412\">49307bf</a></td><td><code>Removed import of CategoryWithAxiom from first attempt.</code></td></tr></table>\n",
    "created_at": "2016-12-04T18:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21986#issuecomment-326484",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5" align="right">Comment 5</div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49307bf4cd80128eae829fe8ef4d3275258b2412">49307bf</a></td><td><code>Removed import of CategoryWithAxiom from first attempt.</code></td></tr></table>




---

archive/issue_events_290090.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2016-12-04T18:16:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290090"
}
```



---

archive/issue_events_290091.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2016-12-04T18:16:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290091"
}
```



---

archive/issue_comments_326485.json:
```json
{
    "body": "Changed commit from **[e3ca013](https://github.com/sagemath/sagetrac-mirror/commit/e3ca013a73be0eb1b2544d52e41eeb546a3e6755)** to **[49307bf](https://github.com/sagemath/sagetrac-mirror/commit/49307bf4cd80128eae829fe8ef4d3275258b2412)**",
    "created_at": "2016-12-04T18:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21986#issuecomment-326485",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e3ca013](https://github.com/sagemath/sagetrac-mirror/commit/e3ca013a73be0eb1b2544d52e41eeb546a3e6755)** to **[49307bf](https://github.com/sagemath/sagetrac-mirror/commit/49307bf4cd80128eae829fe8ef4d3275258b2412)**



---

archive/issue_events_290092.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-12-04T18:17:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290092"
}
```



---

archive/issue_events_290093.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-12-04T18:17:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290093"
}
```



---

archive/issue_comments_326486.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nThat was leftover from my first attempt. I've removed it and allowed myself to revert this to positive review.",
    "created_at": "2016-12-04T18:17:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21986#issuecomment-326486",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">Comment 6</div>

That was leftover from my first attempt. I've removed it and allowed myself to revert this to positive review.



---

archive/issue_comments_326487.json:
```json
{
    "body": "Changed reviewer from **Fr\u00e9d\u00e9ric Chapoton** to **Fr\u00e9d\u00e9ric Chapoton, Tomer Bauer**",
    "created_at": "2016-12-04T19:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21986#issuecomment-326487",
    "user": "https://github.com/mathzeta"
}
```

Changed reviewer from **Frédéric Chapoton** to **Frédéric Chapoton, Tomer Bauer**



---

archive/issue_events_290094.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-12-05T22:34:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290094"
}
```



---

archive/issue_events_290095.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "36c1fa027526d87ce5e9ad0de54a53ba9319d3fe",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-12-05T22:34:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21986#event-290095"
}
```



---

archive/issue_comments_326488.json:
```json
{
    "body": "Changed branch from **[public/crystals/latex_infinite_crystals-21986](https://github.com/sagemath/sagetrac-mirror/tree/public/crystals/latex_infinite_crystals-21986)** to **[49307bf](https://github.com/sagemath/sagetrac-mirror/commit/49307bf4cd80128eae829fe8ef4d3275258b2412)**",
    "created_at": "2016-12-05T22:34:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21986#issuecomment-326488",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/crystals/latex_infinite_crystals-21986](https://github.com/sagemath/sagetrac-mirror/tree/public/crystals/latex_infinite_crystals-21986)** to **[49307bf](https://github.com/sagemath/sagetrac-mirror/commit/49307bf4cd80128eae829fe8ef4d3275258b2412)**
