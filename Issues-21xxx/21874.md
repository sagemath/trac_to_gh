# Issue 21874: Make autogen/pari Python 3 compatible

archive/issues_021637.json:
```json
{
    "body": "\n\nCC:  @defeo @fchapoton\n\nBranch/Commit: 07d262ad2bef1bfe9387ebb885ff773bcab219a0\n\nReviewer: Jeroen Demeyer\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21874\n\n",
    "closed_at": "2016-11-19T16:34:52Z",
    "created_at": "2016-11-13T22:49:19Z",
    "labels": [
        "component: python3",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "Make autogen/pari Python 3 compatible",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21874",
    "user": "https://github.com/jdemeyer"
}
```


CC:  @defeo @fchapoton

Branch/Commit: 07d262ad2bef1bfe9387ebb885ff773bcab219a0

Reviewer: Jeroen Demeyer

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21874





---

archive/issue_comments_399209.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/21874\"",
    "created_at": "2016-11-14T18:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399209",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/21874"



---

archive/issue_comments_399210.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|\n|[c36156e](https://github.com/sagemath/sagetrac-mirror/commit/c36156ebea1662aad4584f9d954e0fa20b22a0b4)|`21874 py3 compatible autogen/pari (bytes for communicate)`|",
    "created_at": "2016-11-14T18:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399210",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
|[c36156e](https://github.com/sagemath/sagetrac-mirror/commit/c36156ebea1662aad4584f9d954e0fa20b22a0b4)|`21874 py3 compatible autogen/pari (bytes for communicate)`|



---

archive/issue_comments_399211.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-11-14T18:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399211",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_399212.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2016-11-14T18:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399212",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_comments_399213.json:
```json
{
    "body": "Changing commit from \"\" to \"c36156ebea1662aad4584f9d954e0fa20b22a0b4\"",
    "created_at": "2016-11-14T18:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399213",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "c36156ebea1662aad4584f9d954e0fa20b22a0b4"



---

archive/issue_comments_399214.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|\n|[6d3d2c7](https://github.com/sagemath/sagetrac-mirror/commit/6d3d2c7468e783b737736180045a2898644f9ea5)|`trac 21874 fixing`|",
    "created_at": "2016-11-14T19:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399214",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
|[6d3d2c7](https://github.com/sagemath/sagetrac-mirror/commit/6d3d2c7468e783b737736180045a2898644f9ea5)|`trac 21874 fixing`|



---

archive/issue_comments_399215.json:
```json
{
    "body": "Changing commit from \"c36156ebea1662aad4584f9d954e0fa20b22a0b4\" to \"6d3d2c7468e783b737736180045a2898644f9ea5\"",
    "created_at": "2016-11-14T19:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399215",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c36156ebea1662aad4584f9d954e0fa20b22a0b4" to "6d3d2c7468e783b737736180045a2898644f9ea5"



---

archive/issue_comments_399216.json:
```json
{
    "body": "<a id='comment:3'></a>\nshould be good now. Works for python3, not checked for python2.",
    "created_at": "2016-11-14T19:27:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399216",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
should be good now. Works for python3, not checked for python2.



---

archive/issue_comments_399217.json:
```json
{
    "body": "<a id='comment:4'></a>\nDoctest failure, see patchbot.",
    "created_at": "2016-11-16T12:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399217",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
Doctest failure, see patchbot.



---

archive/issue_comments_399218.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-11-16T12:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399218",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_399219.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe \"native\" format for filenames is `bytes`. So it seems silly to convert `bytes` to `unicode` and then let Python convert it back to `bytes`. Just drop the `.decode()`.",
    "created_at": "2016-11-16T13:00:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399219",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
The "native" format for filenames is `bytes`. So it seems silly to convert `bytes` to `unicode` and then let Python convert it back to `bytes`. Just drop the `.decode()`.



---

archive/issue_comments_399220.json:
```json
{
    "body": "<a id='comment:6'></a>\nelsewhere in the code, one takes the sum (+) of datadir and a string, so one needs the decode()",
    "created_at": "2016-11-16T14:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399220",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
elsewhere in the code, one takes the sum (+) of datadir and a string, so one needs the decode()



---

archive/issue_comments_399221.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[169eb21](https://github.com/sagemath/sagetrac-mirror/commit/169eb2107367e9ddd1a8bdee43c434d71abc08f7)|`trac 21874 correct doctest`|",
    "created_at": "2016-11-16T14:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399221",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[169eb21](https://github.com/sagemath/sagetrac-mirror/commit/169eb2107367e9ddd1a8bdee43c434d71abc08f7)|`trac 21874 correct doctest`|



---

archive/issue_comments_399222.json:
```json
{
    "body": "Changing commit from \"6d3d2c7468e783b737736180045a2898644f9ea5\" to \"169eb2107367e9ddd1a8bdee43c434d71abc08f7\"",
    "created_at": "2016-11-16T14:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399222",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6d3d2c7468e783b737736180045a2898644f9ea5" to "169eb2107367e9ddd1a8bdee43c434d71abc08f7"



---

archive/issue_comments_399223.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-11-16T14:20:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399223",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_399224.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [chapoton](#comment%3A6):\n> elsewhere in the code, one takes the sum (+) of datadir and a string, so one needs the decode()\n\n\nThat string should then also be `bytes`.",
    "created_at": "2016-11-16T14:21:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399224",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
Replying to [chapoton](#comment%3A6):
> elsewhere in the code, one takes the sum (+) of datadir and a string, so one needs the decode()


That string should then also be `bytes`.



---

archive/issue_comments_399225.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-11-16T14:21:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399225",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_399226.json:
```json
{
    "body": "<a id='comment:10'></a>\n> The \"native\" format for filenames is `bytes`.\n\n\nAre you sure about this? In Python 3.5\n\n```\n>>> import os\n>>> type(os.listdir('.')[0])\nstr\n```",
    "created_at": "2016-11-16T14:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399226",
    "user": "https://github.com/defeo"
}
```

<a id='comment:10'></a>
> The "native" format for filenames is `bytes`.


Are you sure about this? In Python 3.5

```
>>> import os
>>> type(os.listdir('.')[0])
str
```



---

archive/issue_comments_399227.json:
```json
{
    "body": "<a id='comment:11'></a>\n`listdir` outputs `str` when given `str` and `bytes` when given `bytes`:\n\n```\n>>> import os\n>>> type(os.listdir(b'.')[0])\n<class 'bytes'>\n```\n\n```\n>>> import os\n>>> type(os.listdir('.')[0])\n<class 'str'>\n```",
    "created_at": "2016-11-16T14:45:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399227",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
`listdir` outputs `str` when given `str` and `bytes` when given `bytes`:

```
>>> import os
>>> type(os.listdir(b'.')[0])
<class 'bytes'>
```

```
>>> import os
>>> type(os.listdir('.')[0])
<class 'str'>
```



---

archive/issue_comments_399228.json:
```json
{
    "body": "<a id='comment:12'></a>\nSee https://docs.python.org/3/howto/unicode.html#unicode-filenames\n\nNote the sentence \"When opening a file for reading or writing, you can usually just provide the Unicode string as the filename, and it will be automatically converted to the right encoding for you\". This means that Python does a conversion of encoding, so it makes sense to use `bytes` for filenames to avoid conversions.",
    "created_at": "2016-11-16T14:47:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399228",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
See https://docs.python.org/3/howto/unicode.html#unicode-filenames

Note the sentence "When opening a file for reading or writing, you can usually just provide the Unicode string as the filename, and it will be automatically converted to the right encoding for you". This means that Python does a conversion of encoding, so it makes sense to use `bytes` for filenames to avoid conversions.



---

archive/issue_comments_399229.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [jdemeyer](#comment%3A12):\n> See https://docs.python.org/3/howto/unicode.html#unicode-filenames\n> \n> Note the sentence \"When opening a file for reading or writing, you can usually just provide the Unicode string as the filename, and it will be automatically converted to the right encoding for you\". This means that Python does a conversion of encoding, so it makes sense to use `bytes` for filenames to avoid conversions.\n\n\nBut handling the locale/filesystem encoding seems best left to Python. What if `datastring` is `bytes`, `string` is python's utf-8, and the user's locale is ISO-8859? What is safest among `open(datastring.decode() + string)` and `open(datastring + string.encode())`? Probably neither.\n\nI do not even dare imagine what would happen with a WIN-1252-encoded fat filesystem mounted inside a ISO-8859 locale (these things can happen with usb keys...).",
    "created_at": "2016-11-16T15:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399229",
    "user": "https://github.com/defeo"
}
```

<a id='comment:13'></a>
Replying to [jdemeyer](#comment%3A12):
> See https://docs.python.org/3/howto/unicode.html#unicode-filenames
> 
> Note the sentence "When opening a file for reading or writing, you can usually just provide the Unicode string as the filename, and it will be automatically converted to the right encoding for you". This means that Python does a conversion of encoding, so it makes sense to use `bytes` for filenames to avoid conversions.


But handling the locale/filesystem encoding seems best left to Python. What if `datastring` is `bytes`, `string` is python's utf-8, and the user's locale is ISO-8859? What is safest among `open(datastring.decode() + string)` and `open(datastring + string.encode())`? Probably neither.

I do not even dare imagine what would happen with a WIN-1252-encoded fat filesystem mounted inside a ISO-8859 locale (these things can happen with usb keys...).



---

archive/issue_comments_399230.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [defeo](#comment%3A13):\n> But handling the locale/filesystem encoding seems best left to Python. What if `datastring` is `bytes`, `string` is python's utf-8, and the user's locale is ISO-8859? What is safest among `open(datastring.decode() + string)` and `open(datastring + string.encode())`? Probably neither.\n\n\nIf `string` is ASCII, then `string.encode()` should be pretty safe since most encodings map ASCII to ASCII bytes.",
    "created_at": "2016-11-16T15:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399230",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
Replying to [defeo](#comment%3A13):
> But handling the locale/filesystem encoding seems best left to Python. What if `datastring` is `bytes`, `string` is python's utf-8, and the user's locale is ISO-8859? What is safest among `open(datastring.decode() + string)` and `open(datastring + string.encode())`? Probably neither.


If `string` is ASCII, then `string.encode()` should be pretty safe since most encodings map ASCII to ASCII bytes.



---

archive/issue_comments_399231.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [jdemeyer](#comment%3A14):\n> Replying to [defeo](#comment%3A13):\n> > But handling the locale/filesystem encoding seems best left to Python. What if `datastring` is `bytes`, `string` is python's utf-8, and the user's locale is ISO-8859? What is safest among `open(datastring.decode() + string)` and `open(datastring + string.encode())`? Probably neither.\n\n> \n> If `string` is ASCII, then `string.encode()` should be pretty safe since most encodings map ASCII to ASCII bytes.\n\n\nSame goes for `datastring.decode()`, then. I was obviously thinking of the case where they contain non-ASCII characters.",
    "created_at": "2016-11-16T15:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399231",
    "user": "https://github.com/defeo"
}
```

<a id='comment:15'></a>
Replying to [jdemeyer](#comment%3A14):
> Replying to [defeo](#comment%3A13):
> > But handling the locale/filesystem encoding seems best left to Python. What if `datastring` is `bytes`, `string` is python's utf-8, and the user's locale is ISO-8859? What is safest among `open(datastring.decode() + string)` and `open(datastring + string.encode())`? Probably neither.

> 
> If `string` is ASCII, then `string.encode()` should be pretty safe since most encodings map ASCII to ASCII bytes.


Same goes for `datastring.decode()`, then. I was obviously thinking of the case where they contain non-ASCII characters.



---

archive/issue_comments_399232.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [defeo](#comment%3A15):\n> Same goes for `datastring.decode()`, then.\n\n\nNot if `datastring` refers to a user-chosen path. Then we shouldn't make too many assumptions.",
    "created_at": "2016-11-16T15:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399232",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Replying to [defeo](#comment%3A15):
> Same goes for `datastring.decode()`, then.


Not if `datastring` refers to a user-chosen path. Then we shouldn't make too many assumptions.



---

archive/issue_comments_399233.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [jdemeyer](#comment%3A16):\n> Replying to [defeo](#comment%3A15):\n> > Same goes for `datastring.decode()`, then.\n\n> \n> Not if `datastring` refers to a user-chosen path. Then we shouldn't make too many assumptions.\n\n\nRight. I thought it was the other way around. So where are these `datadir` + `string`? I see one on line 83 of `parser.py`, and there `string` is `pari.desc`, so I agree with you (assuming that gp correctly handles locale encodings). Any other places?",
    "created_at": "2016-11-16T15:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399233",
    "user": "https://github.com/defeo"
}
```

<a id='comment:17'></a>
Replying to [jdemeyer](#comment%3A16):
> Replying to [defeo](#comment%3A15):
> > Same goes for `datastring.decode()`, then.

> 
> Not if `datastring` refers to a user-chosen path. Then we shouldn't make too many assumptions.


Right. I thought it was the other way around. So where are these `datadir` + `string`? I see one on line 83 of `parser.py`, and there `string` is `pari.desc`, so I agree with you (assuming that gp correctly handles locale encodings). Any other places?



---

archive/issue_comments_399234.json:
```json
{
    "body": "<a id='comment:18'></a>\nI think this is the only place. Could you please handle all this without me ?",
    "created_at": "2016-11-16T16:04:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399234",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>
I think this is the only place. Could you please handle all this without me ?



---

archive/issue_comments_399235.json:
```json
{
    "body": "Changing commit from \"169eb2107367e9ddd1a8bdee43c434d71abc08f7\" to \"07d262ad2bef1bfe9387ebb885ff773bcab219a0\"",
    "created_at": "2016-11-16T19:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399235",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "169eb2107367e9ddd1a8bdee43c434d71abc08f7" to "07d262ad2bef1bfe9387ebb885ff773bcab219a0"



---

archive/issue_comments_399236.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[07d262a](https://github.com/sagemath/sagetrac-mirror/commit/07d262ad2bef1bfe9387ebb885ff773bcab219a0)|`trac 21874 using bytes everywhere`|",
    "created_at": "2016-11-16T19:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399236",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[07d262a](https://github.com/sagemath/sagetrac-mirror/commit/07d262ad2bef1bfe9387ebb885ff773bcab219a0)|`trac 21874 using bytes everywhere`|



---

archive/issue_comments_399237.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-11-16T19:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399237",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_399238.json:
```json
{
    "body": "<a id='comment:20'></a>\nok, here is another try, following Jeroen's suggestion",
    "created_at": "2016-11-16T19:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399238",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'></a>
ok, here is another try, following Jeroen's suggestion



---

archive/issue_comments_399239.json:
```json
{
    "body": "<a id='comment:21'></a>\npatchbot now gives a green light",
    "created_at": "2016-11-17T10:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399239",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>
patchbot now gives a green light



---

archive/issue_comments_399240.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2016-11-17T10:07:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399240",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_399241.json:
```json
{
    "body": "<a id='comment:22'></a>\nGood for me then.",
    "created_at": "2016-11-17T10:07:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399241",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
Good for me then.



---

archive/issue_comments_399242.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-11-17T10:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399242",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_073496.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-19T16:34:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21874#event-73496"
}
```



---

archive/issue_comments_399243.json:
```json
{
    "body": "Changing branch from \"u/chapoton/21874\" to \"07d262ad2bef1bfe9387ebb885ff773bcab219a0\"",
    "created_at": "2016-11-19T16:34:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399243",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/21874" to "07d262ad2bef1bfe9387ebb885ff773bcab219a0"



---

archive/issue_comments_399244.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-11-19T16:34:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21874#issuecomment-399244",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
