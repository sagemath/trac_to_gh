# Issue 21959: Optional automatic injection of undefined variables into the global namespaces

archive/issues_021722.json:
```json
{
    "body": "The Sage Notebook interface allows automatic creation of undefined variables, which can be useful e.g. for quick calculus work.\n\nIt is listed as one of the blockers for moving completely to Jupyter in [the wiki](https://wiki.sagemath.org/IpythonNotebook)\n\nCC:  @kcrisman @robertwb @tscrim\n\nKeywords: days79,calculus\n\nAuthor: Konstantin Kliakhandler\n\nBranch: u/Kosta/auto_vars\n\nStatus: needs_work\n\nCommit: 1e4d4fb2478d9b4a6dc2b93b4878c00a612eac6c\n\nIssue created by migration from https://trac.sagemath.org/ticket/21959\n\n",
    "created_at": "2016-11-24T13:40:39Z",
    "labels": [
        "component: misc",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "Optional automatic injection of undefined variables into the global namespaces",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21959",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kosta"
}
```
The Sage Notebook interface allows automatic creation of undefined variables, which can be useful e.g. for quick calculus work.

It is listed as one of the blockers for moving completely to Jupyter in [the wiki](https://wiki.sagemath.org/IpythonNotebook)

CC:  @kcrisman @robertwb @tscrim

Keywords: days79,calculus

Author: Konstantin Kliakhandler

Branch: u/Kosta/auto_vars

Status: needs_work

Commit: 1e4d4fb2478d9b4a6dc2b93b4878c00a612eac6c

Issue created by migration from https://trac.sagemath.org/ticket/21959





---

archive/issue_comments_320971.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-24T14:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21959#issuecomment-320971",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320972.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-24T14:48:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21959#issuecomment-320972",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320973.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-11-24T14:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21959#issuecomment-320973",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kosta"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_320974.json:
```json
{
    "body": "<a id='comment:4'></a>New commits:",
    "created_at": "2016-11-24T14:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21959#issuecomment-320974",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kosta"
}
```

<a id='comment:4'></a>New commits:



---

archive/issue_comments_320975.json:
```json
{
    "body": "<a id='comment:5'></a>Right now this is implemented by patching ipython. A more permanent way would possibly be to add a post exception hook to ipython and then to use that hook, but for that ipython would need to accept such a modification first.",
    "created_at": "2016-11-24T14:52:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21959#issuecomment-320975",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kosta"
}
```

<a id='comment:5'></a>Right now this is implemented by patching ipython. A more permanent way would possibly be to add a post exception hook to ipython and then to use that hook, but for that ipython would need to accept such a modification first.



---

archive/issue_comments_320976.json:
```json
{
    "body": "Changing keywords from \"\" to \"days79,calculus\".",
    "created_at": "2016-11-26T07:33:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21959#issuecomment-320976",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kosta"
}
```

Changing keywords from "" to "days79,calculus".



---

archive/issue_comments_320977.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-26T07:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21959#issuecomment-320977",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320978.json:
```json
{
    "body": "<a id='comment:8'></a>Turns out it wasn't necessary to modify ipython, since it already had the relevant hook available.",
    "created_at": "2016-11-26T07:47:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21959#issuecomment-320978",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kosta"
}
```

<a id='comment:8'></a>Turns out it wasn't necessary to modify ipython, since it already had the relevant hook available.



---

archive/issue_comments_320979.json:
```json
{
    "body": "<a id='comment:9'></a>ping?",
    "created_at": "2017-01-08T10:26:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21959#issuecomment-320979",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kosta"
}
```

<a id='comment:9'></a>ping?



---

archive/issue_comments_320980.json:
```json
{
    "body": "<a id='comment:10'></a>Sorry for not getting back to you sooner on this. A few quick comments:\n\n- Indentation is 4 spaces.\n- You should have the 1-line description on the line after the `\"\"\"`.\n- Perhaps make the `Beware...` sentence in a `.. WARNING::` block?\n- It would be good to have doctests for every function and method.\n- Why are the tests in `__auto_vars` marked as `# not tested`?",
    "created_at": "2017-04-28T13:18:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21959#issuecomment-320980",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>Sorry for not getting back to you sooner on this. A few quick comments:

- Indentation is 4 spaces.
- You should have the 1-line description on the line after the `"""`.
- Perhaps make the `Beware...` sentence in a `.. WARNING::` block?
- It would be good to have doctests for every function and method.
- Why are the tests in `__auto_vars` marked as `# not tested`?



---

archive/issue_comments_320981.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-04-12T14:52:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21959#issuecomment-320981",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.
