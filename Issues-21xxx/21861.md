# Issue 21861: LatticePosets: Add congruence-related functions / part 2

archive/issues_021624.json:
```json
{
    "body": "This patch adds functions to check if the lattice is regular, uniform or isoform.\n\nSecond, \"backend\" functions will make it easier to construct the lattice of congruences.\n\nThird, there was a slight error in `congruence()` of Hasse diagram with `start`-parameter. This patch corrects that.\n\nRelated: #20058, #22225, #22238, #22229.\n\n\nCC:  @mantepse @tscrim @fchapoton\n\nBranch/Commit: 5fc745e0281756b99acb88dc63eabf6969b5a943\n\nReviewer: Travis Scrimshaw\n\nAuthor: Jori M\u00e4ntysalo\n\nDependencies: #22225\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21861\n\n",
    "closed_at": "2017-02-16T22:28:52Z",
    "created_at": "2016-11-11T14:21:18Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "LatticePosets: Add congruence-related functions / part 2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21861",
    "user": "https://github.com/jm58660"
}
```
This patch adds functions to check if the lattice is regular, uniform or isoform.

Second, "backend" functions will make it easier to construct the lattice of congruences.

Third, there was a slight error in `congruence()` of Hasse diagram with `start`-parameter. This patch corrects that.

Related: #20058, #22225, #22238, #22229.


CC:  @mantepse @tscrim @fchapoton

Branch/Commit: 5fc745e0281756b99acb88dc63eabf6969b5a943

Reviewer: Travis Scrimshaw

Author: Jori MÃ¤ntysalo

Dependencies: #22225

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21861





---

archive/issue_comments_398408.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jmantysalo/latticeposets__add_congruence_related_functions___part_2\"",
    "created_at": "2017-01-30T17:25:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398408",
    "user": "https://github.com/jm58660"
}
```

Changing branch from "" to "u/jmantysalo/latticeposets__add_congruence_related_functions___part_2"



---

archive/issue_events_073480.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-01-30T17:36:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21861#event-73480"
}
```



---

archive/issue_comments_398409.json:
```json
{
    "body": "<a id='comment:3'></a>\nWhole set: Needs comments about the code implementation, the code PEP-compliance, the documentation and the examples used.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|\n|[d96afed](https://github.com/sagemath/sagetrac-mirror/commit/d96afeddf02ee160ad730922e2e6bc4335b315e3)|`Add three congruence-related frontend-functions, two to backend.`|",
    "created_at": "2017-01-30T17:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398409",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:3'></a>
Whole set: Needs comments about the code implementation, the code PEP-compliance, the documentation and the examples used.

---
New commits:
|                                                                                                                                          |                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
|[d96afed](https://github.com/sagemath/sagetrac-mirror/commit/d96afeddf02ee160ad730922e2e6bc4335b315e3)|`Add three congruence-related frontend-functions, two to backend.`|



---

archive/issue_comments_398410.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-01-30T17:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398410",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_398411.json:
```json
{
    "body": "Changing commit from \"\" to \"d96afeddf02ee160ad730922e2e6bc4335b315e3\"",
    "created_at": "2017-01-30T17:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398411",
    "user": "https://github.com/jm58660"
}
```

Changing commit from "" to "d96afeddf02ee160ad730922e2e6bc4335b315e3"



---

archive/issue_comments_398412.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,7 @@\n-Add functions that computes 1) congruence generated by lists of elements, 2) lattice of congruences and 3) quotient lattice. Add functions to check if a lattice is 4) simple and 5) uniform.\n+This patch adds functions to check if the lattice is regular, uniform or isoform.\n \n-This is part two. Part one is #20058 and it handles number 1 above.\n+Second, \"backend\" functions will make it easier to construct the lattice of congruences.\n \n+Third, there was a slight error in `congruence()` of Hasse diagram with `start`-parameter. This patch corrects that.\n+\n+Related: #20058, #22225, #22238, #22229.\n``````\n",
    "created_at": "2017-01-30T17:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398412",
    "user": "https://github.com/jm58660"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,7 @@
-Add functions that computes 1) congruence generated by lists of elements, 2) lattice of congruences and 3) quotient lattice. Add functions to check if a lattice is 4) simple and 5) uniform.
+This patch adds functions to check if the lattice is regular, uniform or isoform.
 
-This is part two. Part one is #20058 and it handles number 1 above.
+Second, "backend" functions will make it easier to construct the lattice of congruences.
 
+Third, there was a slight error in `congruence()` of Hasse diagram with `start`-parameter. This patch corrects that.
+
+Related: #20058, #22225, #22238, #22229.
``````




---

archive/issue_comments_398413.json:
```json
{
    "body": "<a id='comment:4'></a>\nIf wanted, I can of course split this ticket to several separate tickets.",
    "created_at": "2017-02-04T14:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398413",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:4'></a>
If wanted, I can of course split this ticket to several separate tickets.



---

archive/issue_comments_398414.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,4 @@\n Third, there was a slight error in `congruence()` of Hasse diagram with `start`-parameter. This patch corrects that.\n \n Related: #20058, #22225, #22238, #22229.\n+\n``````\n",
    "created_at": "2017-02-12T12:19:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398414",
    "user": "https://github.com/jm58660"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,4 @@
 Third, there was a slight error in `congruence()` of Hasse diagram with `start`-parameter. This patch corrects that.
 
 Related: #20058, #22225, #22238, #22229.
+
``````




---

archive/issue_comments_398415.json:
```json
{
    "body": "<a id='comment:5'></a>\nOne doctest fails, but that is already taken care by #22225.",
    "created_at": "2017-02-12T12:19:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398415",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:5'></a>
One doctest fails, but that is already taken care by #22225.



---

archive/issue_comments_398416.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|\n|[dd5be6c](https://github.com/sagemath/sagetrac-mirror/commit/dd5be6c09034959968ea92ca6e32164472d30895)|`Merge branch 'develop' into t/21861/latticeposets__add_congruence_related_functions___part_2`|",
    "created_at": "2017-02-12T12:26:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|
|[dd5be6c](https://github.com/sagemath/sagetrac-mirror/commit/dd5be6c09034959968ea92ca6e32164472d30895)|`Merge branch 'develop' into t/21861/latticeposets__add_congruence_related_functions___part_2`|



---

archive/issue_comments_398417.json:
```json
{
    "body": "Changing commit from \"d96afeddf02ee160ad730922e2e6bc4335b315e3\" to \"dd5be6c09034959968ea92ca6e32164472d30895\"",
    "created_at": "2017-02-12T12:26:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d96afeddf02ee160ad730922e2e6bc4335b315e3" to "dd5be6c09034959968ea92ca6e32164472d30895"



---

archive/issue_comments_398418.json:
```json
{
    "body": "<a id='comment:7'></a>\nCan you add a test showing the bug is fixed? Also, what about the `TODO` comment?",
    "created_at": "2017-02-12T18:16:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398418",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Can you add a test showing the bug is fixed? Also, what about the `TODO` comment?



---

archive/issue_comments_398419.json:
```json
{
    "body": "Changing commit from \"dd5be6c09034959968ea92ca6e32164472d30895\" to \"699f24d90815d2156dbe9ff5dd1a1f17edb4e05d\"",
    "created_at": "2017-02-12T18:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398419",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dd5be6c09034959968ea92ca6e32164472d30895" to "699f24d90815d2156dbe9ff5dd1a1f17edb4e05d"



---

archive/issue_comments_398420.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[699f24d](https://github.com/sagemath/sagetrac-mirror/commit/699f24d90815d2156dbe9ff5dd1a1f17edb4e05d)|`Doctest a bug correction.`|",
    "created_at": "2017-02-12T18:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398420",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[699f24d](https://github.com/sagemath/sagetrac-mirror/commit/699f24d90815d2156dbe9ff5dd1a1f17edb4e05d)|`Doctest a bug correction.`|



---

archive/issue_comments_398421.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [tscrim](#comment%3A7):\n> Can you add a test showing the bug is fixed?\n\n\nGood point. Added.\n\n> Also, what about the `TODO` comment?\n\n\nWell, I haven't thinked yet `:=)`. The code works, but it can be that it does unnecessary computing.",
    "created_at": "2017-02-12T18:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398421",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:9'></a>
Replying to [tscrim](#comment%3A7):
> Can you add a test showing the bug is fixed?


Good point. Added.

> Also, what about the `TODO` comment?


Well, I haven't thinked yet `:=)`. The code works, but it can be that it does unnecessary computing.



---

archive/issue_comments_398422.json:
```json
{
    "body": "<a id='comment:10'></a>\nThis hits the same error on the number of functions as the other ticket (sorry, I don't remember the number offhand), so that is a (soft) dependency of this ticket.\n\nIf you haven't thought about it yet and don't plan on doing so soon, then could you change the `TODO` comment to seem less like it is targeted to yourself? (Sorry, I don't really understand the comment, so I can't quite help here.)",
    "created_at": "2017-02-13T17:29:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398422",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
This hits the same error on the number of functions as the other ticket (sorry, I don't remember the number offhand), so that is a (soft) dependency of this ticket.

If you haven't thought about it yet and don't plan on doing so soon, then could you change the `TODO` comment to seem less like it is targeted to yourself? (Sorry, I don't really understand the comment, so I can't quite help here.)



---

archive/issue_comments_398423.json:
```json
{
    "body": "Changing commit from \"699f24d90815d2156dbe9ff5dd1a1f17edb4e05d\" to \"5fc745e0281756b99acb88dc63eabf6969b5a943\"",
    "created_at": "2017-02-13T18:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398423",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "699f24d90815d2156dbe9ff5dd1a1f17edb4e05d" to "5fc745e0281756b99acb88dc63eabf6969b5a943"



---

archive/issue_comments_398424.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------|\n|[5fc745e](https://github.com/sagemath/sagetrac-mirror/commit/5fc745e0281756b99acb88dc63eabf6969b5a943)|`Removed todo-notes.`|",
    "created_at": "2017-02-13T18:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398424",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
|[5fc745e](https://github.com/sagemath/sagetrac-mirror/commit/5fc745e0281756b99acb88dc63eabf6969b5a943)|`Removed todo-notes.`|



---

archive/issue_comments_398425.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#22225\"",
    "created_at": "2017-02-13T18:26:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398425",
    "user": "https://github.com/jm58660"
}
```

Changing dependencies from "" to "#22225"



---

archive/issue_comments_398426.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [tscrim](#comment%3A10):\n> This hits the same error on the number of functions as the other ticket (sorry, I don't remember the number offhand), so that is a (soft) dependency of this ticket.\n\n\nAdded.\n\n> If you haven't thought about it yet and don't plan on doing so soon, then could you change the `TODO` comment to seem less like it is targeted to yourself?\n\n\nAs you wish, removed. I guess everyone looking at the code can see that there might be a place for optimization.\n\nThe question can be phrased like this: \"Suppose that the congruence generated by pair (a,b) is regular, and so is the congruence generated by (c,d). Is the congruence generated by both together then also regular?\" (And same for uniform and isoform congruences.)",
    "created_at": "2017-02-13T18:26:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398426",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:12'></a>
Replying to [tscrim](#comment%3A10):
> This hits the same error on the number of functions as the other ticket (sorry, I don't remember the number offhand), so that is a (soft) dependency of this ticket.


Added.

> If you haven't thought about it yet and don't plan on doing so soon, then could you change the `TODO` comment to seem less like it is targeted to yourself?


As you wish, removed. I guess everyone looking at the code can see that there might be a place for optimization.

The question can be phrased like this: "Suppose that the congruence generated by pair (a,b) is regular, and so is the congruence generated by (c,d). Is the congruence generated by both together then also regular?" (And same for uniform and isoform congruences.)



---

archive/issue_comments_398427.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-02-14T14:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398427",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_398428.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2017-02-14T14:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398428",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_398429.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [jmantysalo](#comment%3A12):\n> Replying to [tscrim](#comment%3A10):\n> > If you haven't thought about it yet and don't plan on doing so soon, then could you change the `TODO` comment to seem less like it is targeted to yourself?\n\n> \n> As you wish, removed. I guess everyone looking at the code can see that there might be a place for optimization.\n\n\nThanks. Positive review.\n\n> The question can be phrased like this: \"Suppose that the congruence generated by pair (a,b) is regular, and so is the congruence generated by (c,d). Is the congruence generated by both together then also regular?\" (And same for uniform and isoform congruences.)\n> \n\n\nAlas, I have no idea, sorry.",
    "created_at": "2017-02-14T14:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398429",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
Replying to [jmantysalo](#comment%3A12):
> Replying to [tscrim](#comment%3A10):
> > If you haven't thought about it yet and don't plan on doing so soon, then could you change the `TODO` comment to seem less like it is targeted to yourself?

> 
> As you wish, removed. I guess everyone looking at the code can see that there might be a place for optimization.


Thanks. Positive review.

> The question can be phrased like this: "Suppose that the congruence generated by pair (a,b) is regular, and so is the congruence generated by (c,d). Is the congruence generated by both together then also regular?" (And same for uniform and isoform congruences.)
> 


Alas, I have no idea, sorry.



---

archive/issue_comments_398430.json:
```json
{
    "body": "<a id='comment:14'></a>\nThanks Travis! Not only for this one, but for several tickets.",
    "created_at": "2017-02-14T14:44:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398430",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:14'></a>
Thanks Travis! Not only for this one, but for several tickets.



---

archive/issue_events_073481.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-16T22:28:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21861#event-73481"
}
```



---

archive/issue_comments_398431.json:
```json
{
    "body": "Changing branch from \"u/jmantysalo/latticeposets__add_congruence_related_functions___part_2\" to \"5fc745e0281756b99acb88dc63eabf6969b5a943\"",
    "created_at": "2017-02-16T22:28:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398431",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jmantysalo/latticeposets__add_congruence_related_functions___part_2" to "5fc745e0281756b99acb88dc63eabf6969b5a943"



---

archive/issue_comments_398432.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-16T22:28:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21861#issuecomment-398432",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
