# Issue 21635: LatticePoset: Add iterator over isomorphic sublattices

archive/issues_021398.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThis patch will add a function to iterate over isomorphic sublattices; compare to `isomorphic_subposets_iterator()`.\n\nImplementation is trivial. Better ideas are welcome.\n\n\nCC:  @fchapoton\n\nComponent: **combinatorics**\n\nAuthor: **Jori M\u00e4ntysalo**\n\nBranch/Commit: **[`05efd9a`](https://github.com/sagemath/sagetrac-mirror/commit/05efd9a4955367a4b3caad9cc3389e89abd8cd8b)**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21635_\n\n",
    "closed_at": "2016-11-12T23:01:31Z",
    "created_at": "2016-10-04T08:03:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "LatticePoset: Add iterator over isomorphic sublattices",
    "type": "issue",
    "updated_at": "2016-11-12T23:01:31Z",
    "url": "https://github.com/sagemath/sage/issues/21635",
    "user": "https://github.com/jm58660"
}
```
<div id="comment:0"></div>

This patch will add a function to iterate over isomorphic sublattices; compare to `isomorphic_subposets_iterator()`.

Implementation is trivial. Better ideas are welcome.


CC:  @fchapoton

Component: **combinatorics**

Author: **Jori MÃ¤ntysalo**

Branch/Commit: **[`05efd9a`](https://github.com/sagemath/sagetrac-mirror/commit/05efd9a4955367a4b3caad9cc3389e89abd8cd8b)**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/21635_





---

archive/issue_events_301081.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-04T08:03:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21635#event-301081"
}
```



---

archive/issue_events_301082.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-04T08:03:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21635#event-301082"
}
```



---

archive/issue_events_301083.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-04T08:03:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21635#event-301083"
}
```



---

archive/issue_events_301084.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-04T08:03:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21635#event-301084"
}
```



---

archive/issue_comments_317928.json:
```json
{
    "body": "Branch: **[u/jmantysalo/isom-sublattices-iterator](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/isom-sublattices-iterator)**",
    "created_at": "2016-10-04T08:03:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317928",
    "user": "https://github.com/jm58660"
}
```

Branch: **[u/jmantysalo/isom-sublattices-iterator](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/isom-sublattices-iterator)**



---

archive/issue_comments_317929.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27659371e64106dba666b5c3b5c75991210fb8cc\"><code>2765937</code></a></td><td><code>Crosslinks.</code></td></tr></table>\n",
    "created_at": "2016-10-04T08:09:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317929",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27659371e64106dba666b5c3b5c75991210fb8cc"><code>2765937</code></a></td><td><code>Crosslinks.</code></td></tr></table>




---

archive/issue_comments_317930.json:
```json
{
    "body": "Commit: **[`2765937`](https://github.com/sagemath/sagetrac-mirror/commit/27659371e64106dba666b5c3b5c75991210fb8cc)**",
    "created_at": "2016-10-04T08:09:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317930",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`2765937`](https://github.com/sagemath/sagetrac-mirror/commit/27659371e64106dba666b5c3b5c75991210fb8cc)**



---

archive/issue_comments_317931.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d4c4f147f7e8b343b8e25ac83d74e828dff1057\"><code>1d4c4f1</code></a></td><td><code>Add isomorphic_sublattices_iterator().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27659371e64106dba666b5c3b5c75991210fb8cc\"><code>2765937</code></a></td><td><code>Crosslinks.</code></td></tr></table>\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d4c4f147f7e8b343b8e25ac83d74e828dff1057\"><code>1d4c4f1</code></a></td><td><code>Add isomorphic_sublattices_iterator().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27659371e64106dba666b5c3b5c75991210fb8cc\"><code>2765937</code></a></td><td><code>Crosslinks.</code></td></tr></table>\n",
    "created_at": "2016-10-04T08:09:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317931",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d4c4f147f7e8b343b8e25ac83d74e828dff1057"><code>1d4c4f1</code></a></td><td><code>Add isomorphic_sublattices_iterator().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27659371e64106dba666b5c3b5c75991210fb8cc"><code>2765937</code></a></td><td><code>Crosslinks.</code></td></tr></table>

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d4c4f147f7e8b343b8e25ac83d74e828dff1057"><code>1d4c4f1</code></a></td><td><code>Add isomorphic_sublattices_iterator().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27659371e64106dba666b5c3b5c75991210fb8cc"><code>2765937</code></a></td><td><code>Crosslinks.</code></td></tr></table>




---

archive/issue_events_301085.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-04T08:09:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21635#event-301085"
}
```



---

archive/issue_comments_317932.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This patch will add a function to iterate over isomorphic sublattices; compare to `isomoprhic_subposets_iterator()`.\n+This patch will add a function to iterate over isomorphic sublattices; compare to `isomorphic_subposets_iterator()`.\n \n Implementation is trivial. Better ideas are welcome.\n \n``````\n",
    "created_at": "2016-10-04T15:29:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317932",
    "user": "https://github.com/kevindilks"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This patch will add a function to iterate over isomorphic sublattices; compare to `isomoprhic_subposets_iterator()`.
+This patch will add a function to iterate over isomorphic sublattices; compare to `isomorphic_subposets_iterator()`.
 
 Implementation is trivial. Better ideas are welcome.
 
``````




---

archive/issue_comments_317933.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nWhat happens when this is given a poset which is not a lattice? Should it fail? From looking at the code, it seems like it would start going through and then `sublattice` would be the point of failure. Also, this makes sense for a general poset, so could we move it up to there?",
    "created_at": "2016-10-07T13:59:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317933",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">comment:5</div>

What happens when this is given a poset which is not a lattice? Should it fail? From looking at the code, it seems like it would start going through and then `sublattice` would be the point of failure. Also, this makes sense for a general poset, so could we move it up to there?



---

archive/issue_comments_317934.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThis (indirectly) calls `self.meet()` and `self.join()`, hence does not make sense to move function to posets.\n\nIn this implementation `other` can really be any poset, but if it is not a lattice by structure, the function will return empty list (i.e. instantly raise `StopIteration`). How should this behave?",
    "created_at": "2016-10-07T14:46:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317934",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:6" align="right">comment:6</div>

This (indirectly) calls `self.meet()` and `self.join()`, hence does not make sense to move function to posets.

In this implementation `other` can really be any poset, but if it is not a lattice by structure, the function will return empty list (i.e. instantly raise `StopIteration`). How should this behave?



---

archive/issue_comments_317935.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jm58660](#comment%3A6):\n> This (indirectly) calls `self.meet()` and `self.join()`, hence does not make sense to move function to posets.\n\nAh, yes. I agree.\n\n> In this implementation `other` can really be any poset, but if it is not a lattice by structure, the function will return empty list (i.e. instantly raise `StopIteration`). How should this behave?\n\nYou should add an example showing this happens and perhaps change the input to say <code>- \\`\\`other\\`\\` --  finite poset</code>.\n\nOne other little detail, remove the period in the `.. SEEALSO::` blocks.",
    "created_at": "2016-10-07T15:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317935",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jm58660](#comment%3A6):
> This (indirectly) calls `self.meet()` and `self.join()`, hence does not make sense to move function to posets.

Ah, yes. I agree.

> In this implementation `other` can really be any poset, but if it is not a lattice by structure, the function will return empty list (i.e. instantly raise `StopIteration`). How should this behave?

You should add an example showing this happens and perhaps change the input to say <code>- \`\`other\`\` --  finite poset</code>.

One other little detail, remove the period in the `.. SEEALSO::` blocks.



---

archive/issue_comments_317936.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05efd9a4955367a4b3caad9cc3389e89abd8cd8b\"><code>05efd9a</code></a></td><td><code>Check for being lattice, not any poset.</code></td></tr></table>\n",
    "created_at": "2016-10-07T17:03:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317936",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05efd9a4955367a4b3caad9cc3389e89abd8cd8b"><code>05efd9a</code></a></td><td><code>Check for being lattice, not any poset.</code></td></tr></table>




---

archive/issue_comments_317937.json:
```json
{
    "body": "Changed commit from **[`2765937`](https://github.com/sagemath/sagetrac-mirror/commit/27659371e64106dba666b5c3b5c75991210fb8cc)** to **[`05efd9a`](https://github.com/sagemath/sagetrac-mirror/commit/05efd9a4955367a4b3caad9cc3389e89abd8cd8b)**",
    "created_at": "2016-10-07T17:03:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317937",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2765937`](https://github.com/sagemath/sagetrac-mirror/commit/27659371e64106dba666b5c3b5c75991210fb8cc)** to **[`05efd9a`](https://github.com/sagemath/sagetrac-mirror/commit/05efd9a4955367a4b3caad9cc3389e89abd8cd8b)**



---

archive/issue_comments_317938.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI thinked slightly more about this. We can always loose restrictions from a lattice to a poset, and so this code wants exactly lattices. It may also help if I try to invent some better way to list isomorphic sublattices.",
    "created_at": "2016-10-07T17:06:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317938",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:9" align="right">comment:9</div>

I thinked slightly more about this. We can always loose restrictions from a lattice to a poset, and so this code wants exactly lattices. It may also help if I try to invent some better way to list isomorphic sublattices.



---

archive/issue_comments_317939.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nJust pinging. Is this solution (requiring `other` to be a lattice) OK?",
    "created_at": "2016-11-11T05:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317939",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:10" align="right">comment:10</div>

Just pinging. Is this solution (requiring `other` to be a lattice) OK?



---

archive/issue_comments_317940.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2016-11-11T14:54:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317940",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_301086.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-11T14:54:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21635#event-301086"
}
```



---

archive/issue_events_301087.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-11T14:54:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21635#event-301087"
}
```



---

archive/issue_events_301088.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-11T14:54:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21635#event-301088"
}
```



---

archive/issue_events_301089.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-11T14:54:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21635#event-301089"
}
```



---

archive/issue_comments_317941.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThis is good with me.",
    "created_at": "2016-11-11T14:54:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317941",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

This is good with me.



---

archive/issue_events_301090.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-12T23:01:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21635#event-301090"
}
```



---

archive/issue_events_301091.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "421c1386ed9224a2d3d27f019f11efa07ac0db81",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-11-12T23:01:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21635#event-301091"
}
```



---

archive/issue_comments_317942.json:
```json
{
    "body": "Changed branch from **[u/jmantysalo/isom-sublattices-iterator](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/isom-sublattices-iterator)** to **[`05efd9a`](https://github.com/sagemath/sagetrac-mirror/commit/05efd9a4955367a4b3caad9cc3389e89abd8cd8b)**",
    "created_at": "2016-11-12T23:01:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21635",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21635#issuecomment-317942",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jmantysalo/isom-sublattices-iterator](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/isom-sublattices-iterator)** to **[`05efd9a`](https://github.com/sagemath/sagetrac-mirror/commit/05efd9a4955367a4b3caad9cc3389e89abd8cd8b)**
