# Issue 21513: Package rst2ipynb

archive/issues_021276.json:
```json
{
    "assignees": [],
    "body": "`rst2ipynb` converts rst source to ipynb worksheet.\n\n- upstream tarball : https://pypi.python.org/packages/59/74/ed45a207317c8dbfe987db83841ba4d262cfe9fc561fe3180185f82f1e95/rst2ipynb-0.2.1.tar.gz\n\n\nThis package will be used through the straightforward `sage -rst2ipynb` command, see #21514 You can still test it by hand as follows: install `pandoc` on your system and if you have a `myfile.rst` do:\n\n```\nsage -sh\nrst2ipynb --kernel='sagemath' myfile.rst -o myfile.ipynb\n```\n\n\nDepends on #21512\n\nCC:  @seblabbe @nthiery @sagetrac-boussica @videlec\n\nKeywords: **days79**\n\nBranch/Commit: **[`d5d5680`](https://github.com/sagemath/sagetrac-mirror/commit/d5d5680d547487a9702758f4a62852f34a0ab725)**\n\nReviewer: **S\u00e9bastien Labb\u00e9**\n\nAuthor: **Thierry Monteil, Nicolas M. Thi\u00e9ry**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21513_\n\n",
    "closed_at": "2016-11-27T16:46:00Z",
    "created_at": "2016-09-16T23:18:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Package rst2ipynb",
    "type": "issue",
    "updated_at": "2016-11-27T16:46:00Z",
    "url": "https://github.com/sagemath/sage/issues/21513",
    "user": "https://github.com/sagetrac-tmonteil"
}
```
`rst2ipynb` converts rst source to ipynb worksheet.

- upstream tarball : https://pypi.python.org/packages/59/74/ed45a207317c8dbfe987db83841ba4d262cfe9fc561fe3180185f82f1e95/rst2ipynb-0.2.1.tar.gz


This package will be used through the straightforward `sage -rst2ipynb` command, see #21514 You can still test it by hand as follows: install `pandoc` on your system and if you have a `myfile.rst` do:

```
sage -sh
rst2ipynb --kernel='sagemath' myfile.rst -o myfile.ipynb
```


Depends on #21512

CC:  @seblabbe @nthiery @sagetrac-boussica @videlec

Keywords: **days79**

Branch/Commit: **[`d5d5680`](https://github.com/sagemath/sagetrac-mirror/commit/d5d5680d547487a9702758f4a62852f34a0ab725)**

Reviewer: **Sébastien Labbé**

Author: **Thierry Monteil, Nicolas M. Thiéry**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/21513_





---

archive/issue_events_302177.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-09-16T23:18:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302177"
}
```



---

archive/issue_events_302178.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-09-16T23:18:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302178"
}
```



---

archive/issue_events_302179.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-09-16T23:18:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302179"
}
```



---

archive/issue_events_302180.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-09-16T23:18:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302180"
}
```



---

archive/issue_comments_315706.json:
```json
{
    "body": "Changed dependencies from **21512** to **#21512**",
    "created_at": "2016-09-16T23:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315706",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed dependencies from **21512** to **#21512**



---

archive/issue_comments_315707.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nIs this related to\nhttps://github.com/esc/rst2ipynb\nor to\nhttps://github.com/ariddell/rst2ipynb\n?",
    "created_at": "2016-09-26T15:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315707",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:3" align="right">comment:3</div>

Is this related to
https://github.com/esc/rst2ipynb
or to
https://github.com/ariddell/rst2ipynb
?



---

archive/issue_comments_315708.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nOr do you have https://github.com/nthiery/rst-to-ipynb in mind?\n\nSee also https://github.com/aaren/notedown/issues/33",
    "created_at": "2016-09-27T16:09:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315708",
    "user": "https://github.com/slel"
}
```

<div id="comment:4" align="right">comment:4</div>

Or do you have https://github.com/nthiery/rst-to-ipynb in mind?

See also https://github.com/aaren/notedown/issues/33



---

archive/issue_comments_315709.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@slel](#comment:4):\n> Or do you have https://github.com/nthiery/rst-to-ipynb in mind?\n\nIndeed. But i proposed some changes to allow tables to be correctly displayed and the possiblity to tune the jupyter kernel (we need the sagemath one), now i have to wait that the repository get stablized again to push my changes on this ticket with the most recent version/hash, in particular, the work is not licensed yet, and should become BSD-3clause in case jupyter wants to include it.",
    "created_at": "2016-09-28T12:00:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315709",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@slel](#comment:4):
> Or do you have https://github.com/nthiery/rst-to-ipynb in mind?

Indeed. But i proposed some changes to allow tables to be correctly displayed and the possiblity to tune the jupyter kernel (we need the sagemath one), now i have to wait that the repository get stablized again to push my changes on this ticket with the most recent version/hash, in particular, the work is not licensed yet, and should become BSD-3clause in case jupyter wants to include it.



---

archive/issue_comments_315710.json:
```json
{
    "body": "Branch: **[u/tmonteil/package_rst-to-ipynb](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/package_rst-to-ipynb)**",
    "created_at": "2016-09-29T22:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315710",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Branch: **[u/tmonteil/package_rst-to-ipynb](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/package_rst-to-ipynb)**



---

archive/issue_comments_315711.json:
```json
{
    "body": "Commit: **[`45e561a`](https://github.com/sagemath/sagetrac-mirror/commit/45e561a5c9e1b8665d2899c589df5ae476da3941)**",
    "created_at": "2016-09-29T22:47:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315711",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Commit: **[`45e561a`](https://github.com/sagemath/sagetrac-mirror/commit/45e561a5c9e1b8665d2899c589df5ae476da3941)**



---

archive/issue_comments_315712.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,5 @@\n-`rst_to_ipynb` converts rst source to ipynb worksheet. Code will be added once #21512 is reviewed.\n+`rst_to_ipynb` converts rst source to ipynb worksheet.\n \n+- upstream zipball : https://github.com/nthiery/rst-to-ipynb/archive/fd58cd0378ce4b08565d14f3dc02626b795c6d71.zip to be renamed rst_to_ipynb-fd58cd03.zip\n+- alternative download : \u200bhttps://lipn.univ-paris13.fr/~monteil/hebergement/tmp/rst_to_ipynb-fd58cd03.zip\n+\n``````\n",
    "created_at": "2016-09-29T22:47:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315712",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,5 @@
-`rst_to_ipynb` converts rst source to ipynb worksheet. Code will be added once #21512 is reviewed.
+`rst_to_ipynb` converts rst source to ipynb worksheet.
 
+- upstream zipball : https://github.com/nthiery/rst-to-ipynb/archive/fd58cd0378ce4b08565d14f3dc02626b795c6d71.zip to be renamed rst_to_ipynb-fd58cd03.zip
+- alternative download : ​https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/rst_to_ipynb-fd58cd03.zip
+
``````




---

archive/issue_events_302181.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-09-29T22:47:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302181"
}
```



---

archive/issue_comments_315713.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6aaed417b72287d74bfb31e8ad4a9d33269f67d7\">6aaed41</a></td><td><code>#21490 package pandoc_attributes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f062c3d57696d2cb1a61ce9005d1a79c9c2d2052\">f062c3d</a></td><td><code>Merge branch 'u/tmonteil/package_pandoc_attributes' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1ea92b336613ab99f965dd91d2604b43fbc975c\">e1ea92b</a></td><td><code>#21512: package notedown</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45e561a5c9e1b8665d2899c589df5ae476da3941\">45e561a</a></td><td><code>#21513: package rst-to-ipynb</code></td></tr></table>\n",
    "created_at": "2016-09-29T22:47:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315713",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:7"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6aaed417b72287d74bfb31e8ad4a9d33269f67d7">6aaed41</a></td><td><code>#21490 package pandoc_attributes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f062c3d57696d2cb1a61ce9005d1a79c9c2d2052">f062c3d</a></td><td><code>Merge branch 'u/tmonteil/package_pandoc_attributes' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1ea92b336613ab99f965dd91d2604b43fbc975c">e1ea92b</a></td><td><code>#21512: package notedown</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45e561a5c9e1b8665d2899c589df5ae476da3941">45e561a</a></td><td><code>#21513: package rst-to-ipynb</code></td></tr></table>




---

archive/issue_comments_315714.json:
```json
{
    "body": "Changed commit from **[`45e561a`](https://github.com/sagemath/sagetrac-mirror/commit/45e561a5c9e1b8665d2899c589df5ae476da3941)** to **[`966a95d`](https://github.com/sagemath/sagetrac-mirror/commit/966a95d9b6951543251a7d0942caf098d58c2c0f)**",
    "created_at": "2016-09-30T16:03:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315714",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`45e561a`](https://github.com/sagemath/sagetrac-mirror/commit/45e561a5c9e1b8665d2899c589df5ae476da3941)** to **[`966a95d`](https://github.com/sagemath/sagetrac-mirror/commit/966a95d9b6951543251a7d0942caf098d58c2c0f)**



---

archive/issue_comments_315715.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/966a95d9b6951543251a7d0942caf098d58c2c0f\">966a95d</a></td><td><code>#21513 : rst_to_ipynb -> rst-to-ipynb</code></td></tr></table>\n",
    "created_at": "2016-09-30T16:03:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315715",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/966a95d9b6951543251a7d0942caf098d58c2c0f">966a95d</a></td><td><code>#21513 : rst_to_ipynb -> rst-to-ipynb</code></td></tr></table>




---

archive/issue_comments_315716.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAs suggested by Samuel by email, the name of the upstream package is `rst-to-ipynb`, with scores.",
    "created_at": "2016-09-30T16:04:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315716",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:9" align="right">comment:9</div>

As suggested by Samuel by email, the name of the upstream package is `rst-to-ipynb`, with scores.



---

archive/issue_comments_315717.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nping ?",
    "created_at": "2016-11-08T07:29:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315717",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:10" align="right">comment:10</div>

ping ?



---

archive/issue_events_302182.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2016-11-08T09:51:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302182"
}
```



---

archive/issue_events_302183.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2016-11-08T09:51:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302183"
}
```



---

archive/issue_comments_315718.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAfter downloading the zip file into upstream directory, both make `rst-to-ipynb` and `sage -f rst-to-ipynb` fail:\n\n```\n$ sage -f rst-to-ipynb\nmake build/make/Makefile\nmake[1]\u00a0: on entre dans le r\u00e9pertoire \u00ab\u00a0/home/labbe/Applications/sage-git\u00a0\u00bb\nmake[1]: \u00ab\u00a0build/make/Makefile\u00a0\u00bb est \u00e0 jour.\nmake[1]\u00a0: on quitte le r\u00e9pertoire \u00ab\u00a0/home/labbe/Applications/sage-git\u00a0\u00bb\nbuild/bin/sage-logger \\\n\t\"cd build/make && ./install 'all-toolchain'\" logs/install.log\nNothing to (re)build / all up-to-date.\n\nError: package 'rst-to-ipynb' not found\nAssuming it is an old-style package... (this is deprecated: use -p instead of -i to install old-style packages)\n\nAttempting to download package rst-to-ipynb\n>>> Checking online list of optional packages.\n>>> Checking online list of experimental packages.\n>>> Checking online list of huge packages.\nError: could not find a package matching rst-to-ipynb\n       Try 'sage --package list' to see the available packages\n       Did you mean: rst_to_ipynb?\n```",
    "created_at": "2016-11-08T09:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315718",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:11" align="right">comment:11</div>

After downloading the zip file into upstream directory, both make `rst-to-ipynb` and `sage -f rst-to-ipynb` fail:

```
$ sage -f rst-to-ipynb
make build/make/Makefile
make[1] : on entre dans le répertoire « /home/labbe/Applications/sage-git »
make[1]: « build/make/Makefile » est à jour.
make[1] : on quitte le répertoire « /home/labbe/Applications/sage-git »
build/bin/sage-logger \
	"cd build/make && ./install 'all-toolchain'" logs/install.log
Nothing to (re)build / all up-to-date.

Error: package 'rst-to-ipynb' not found
Assuming it is an old-style package... (this is deprecated: use -p instead of -i to install old-style packages)

Attempting to download package rst-to-ipynb
>>> Checking online list of optional packages.
>>> Checking online list of experimental packages.
>>> Checking online list of huge packages.
Error: could not find a package matching rst-to-ipynb
       Try 'sage --package list' to see the available packages
       Did you mean: rst_to_ipynb?
```



---

archive/issue_comments_315719.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAlso `make rst_to_ipynb` fail:\n\n```\n[rst_to_ipynb-fd58cd03] Found local metadata for rst_to_ipynb-fd58cd03\n[rst_to_ipynb-fd58cd03] Attempting to download package rst_to_ipynb-fd58cd03.zip from mirrors\n[rst_to_ipynb-fd58cd03] http://www.mirrorservice.org/sites/www.sagemath.org/spkg/upstream/rst_to_ipynb/rst_to_ipynb-fd58cd03.zip\n[rst_to_ipynb-fd58cd03] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]\n[rst_to_ipynb-fd58cd03] ERROR [transfer|run:135]: [Errno 404] Not Found: '//www.mirrorservice.org/sites/www.sagemath.org/spkg/upstream/rst_to_ipynb/rst_to_ipynb-fd58cd03.zip'\n[rst_to_ipynb-fd58cd03] http://www-ftp.lip6.fr/pub/math/sagemath/spkg/upstream/rst_to_ipynb/rst_to_ipynb-fd58cd03.zip\n[rst_to_ipynb-fd58cd03] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]\n[rst_to_ipynb-fd58cd03] ERROR [transfer|run:135]: [Errno 404] Not Found: '//www-ftp.lip6.fr/pub/math/sagemath/spkg/upstream/rst_to_ipynb/rst_to_ipynb-fd58cd03.zip'\n\n...\n```",
    "created_at": "2016-11-08T10:03:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315719",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:12" align="right">comment:12</div>

Also `make rst_to_ipynb` fail:

```
[rst_to_ipynb-fd58cd03] Found local metadata for rst_to_ipynb-fd58cd03
[rst_to_ipynb-fd58cd03] Attempting to download package rst_to_ipynb-fd58cd03.zip from mirrors
[rst_to_ipynb-fd58cd03] http://www.mirrorservice.org/sites/www.sagemath.org/spkg/upstream/rst_to_ipynb/rst_to_ipynb-fd58cd03.zip
[rst_to_ipynb-fd58cd03] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
[rst_to_ipynb-fd58cd03] ERROR [transfer|run:135]: [Errno 404] Not Found: '//www.mirrorservice.org/sites/www.sagemath.org/spkg/upstream/rst_to_ipynb/rst_to_ipynb-fd58cd03.zip'
[rst_to_ipynb-fd58cd03] http://www-ftp.lip6.fr/pub/math/sagemath/spkg/upstream/rst_to_ipynb/rst_to_ipynb-fd58cd03.zip
[rst_to_ipynb-fd58cd03] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
[rst_to_ipynb-fd58cd03] ERROR [transfer|run:135]: [Errno 404] Not Found: '//www-ftp.lip6.fr/pub/math/sagemath/spkg/upstream/rst_to_ipynb/rst_to_ipynb-fd58cd03.zip'

...
```



---

archive/issue_comments_315720.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe description of the ticket should be updated: scores vs underscores.\n\nCan you add information in the ticket how I should use that package? Inside sage? Inside `sage -sh`? Using `sage -rst2ipynb` ? What command should I type?",
    "created_at": "2016-11-08T10:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315720",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:13" align="right">comment:13</div>

The description of the ticket should be updated: scores vs underscores.

Can you add information in the ticket how I should use that package? Inside sage? Inside `sage -sh`? Using `sage -rst2ipynb` ? What command should I type?



---

archive/issue_events_302184.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-11-08T10:31:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302184"
}
```



---

archive/issue_events_302185.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-11-08T10:31:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302185"
}
```



---

archive/issue_events_302186.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-11-08T10:31:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "title_is": "Package rst-to-ipynb",
    "title_was": "Package rst_to_ipynb",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302186"
}
```



---

archive/issue_comments_315721.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,12 @@\n-`rst_to_ipynb` converts rst source to ipynb worksheet.\n+`rst-to-ipynb` converts rst source to ipynb worksheet.\n \n-- upstream zipball : https://github.com/nthiery/rst-to-ipynb/archive/fd58cd0378ce4b08565d14f3dc02626b795c6d71.zip to be renamed rst_to_ipynb-fd58cd03.zip\n+- upstream zipball : https://github.com/nthiery/rst-to-ipynb/archive/fd58cd0378ce4b08565d14f3dc02626b795c6d71.zip to be renamed `rst_to_ipynb-fd58cd03.zip` (with underscores).\n - alternative download : \u200bhttps://lipn.univ-paris13.fr/~monteil/hebergement/tmp/rst_to_ipynb-fd58cd03.zip\n \n+This package will be used through the straightforward `sage -rst2ipynb` command, see #21514 You can still test it by hand as follows: install `pandoc` on your system and if you have a `myfile.rst` do:\n+\n+```\n+sage -sh\n+python ${SAGE_LOCAL}/lib/rst_to_ipynb/convert.py --kernel='sagemath' myfile.rst -o myfile.ipynb\n+```\n+\n``````\n",
    "created_at": "2016-11-08T10:31:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315721",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,12 @@
-`rst_to_ipynb` converts rst source to ipynb worksheet.
+`rst-to-ipynb` converts rst source to ipynb worksheet.
 
-- upstream zipball : https://github.com/nthiery/rst-to-ipynb/archive/fd58cd0378ce4b08565d14f3dc02626b795c6d71.zip to be renamed rst_to_ipynb-fd58cd03.zip
+- upstream zipball : https://github.com/nthiery/rst-to-ipynb/archive/fd58cd0378ce4b08565d14f3dc02626b795c6d71.zip to be renamed `rst_to_ipynb-fd58cd03.zip` (with underscores).
 - alternative download : ​https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/rst_to_ipynb-fd58cd03.zip
 
+This package will be used through the straightforward `sage -rst2ipynb` command, see #21514 You can still test it by hand as follows: install `pandoc` on your system and if you have a `myfile.rst` do:
+
+```
+sage -sh
+python ${SAGE_LOCAL}/lib/rst_to_ipynb/convert.py --kernel='sagemath' myfile.rst -o myfile.ipynb
+```
+
``````




---

archive/issue_comments_315722.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThe ticket description said that the zipball should be renamed as `rst_to_ipynb-fd58cd03.zip` or directly downloaded from my homepage, anyway i updated the description to be more explicit and added hints for testing the package.",
    "created_at": "2016-11-08T10:31:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315722",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:14" align="right">comment:14</div>

The ticket description said that the zipball should be renamed as `rst_to_ipynb-fd58cd03.zip` or directly downloaded from my homepage, anyway i updated the description to be more explicit and added hints for testing the package.



---

archive/issue_comments_315723.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThanks for the info. I forgot about #21514.\n\nI managed to run `make rst_to_ipynb` succesfully from scratch on another machine.\n\nI did some testing... Sage blocks like the following works great:\n\n```\nsage: 4+4\n8\nsage: for i in range(5):\n....:     print i\n0\n1\n2\n3\n4\n```\n\nThey are translated into one input block + one output block. Great.\n\nI get a problem with\n\n```\n>>> 4+4\n8\n>>> for i in range(5):\n...     print i\n0\n1\n2\n3\n4\n```\n\nwhich get written into one input block. Is it possible to patch Nicolas Thi\u00e9ry package?",
    "created_at": "2016-11-08T10:57:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315723",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:15" align="right">comment:15</div>

Thanks for the info. I forgot about #21514.

I managed to run `make rst_to_ipynb` succesfully from scratch on another machine.

I did some testing... Sage blocks like the following works great:

```
sage: 4+4
8
sage: for i in range(5):
....:     print i
0
1
2
3
4
```

They are translated into one input block + one output block. Great.

I get a problem with

```
>>> 4+4
8
>>> for i in range(5):
...     print i
0
1
2
3
4
```

which get written into one input block. Is it possible to patch Nicolas Thiéry package?



---

archive/issue_comments_315724.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@seblabbe](#comment:15):\n[...]\n> I get a problem with\n> \n> ```\n> >>> 4+4\n> 8\n> >>> for i in range(5):\n> ...     print i\n> 0\n> 1\n> 2\n> 3\n> 4\n> ```\n> \n> which get written into one input block. Is it possible to patch Nicolas Thi\u00e9ry package?\n\nI hope so ! Just make patch a send him a pull-request. I did that already to be able to define the kernel (so that the `sage -rst2ipynb` command builds sagemath worksheets), and to fix malformatted tables.",
    "created_at": "2016-11-10T14:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315724",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@seblabbe](#comment:15):
[...]
> I get a problem with
> 
> ```
> >>> 4+4
> 8
> >>> for i in range(5):
> ...     print i
> 0
> 1
> 2
> 3
> 4
> ```
> 
> which get written into one input block. Is it possible to patch Nicolas Thiéry package?

I hope so ! Just make patch a send him a pull-request. I did that already to be able to define the kernel (so that the `sage -rst2ipynb` command builds sagemath worksheets), and to fix malformatted tables.



---

archive/issue_comments_315725.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOk! I will do this probably next week during the sage days.\n\nQuestion maybe for Nicolas. Should I patch the `sageblockfilter.py` file or should I create a new file `pythonblockfilter.py` ?",
    "created_at": "2016-11-17T15:50:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315725",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:17" align="right">comment:17</div>

Ok! I will do this probably next week during the sage days.

Question maybe for Nicolas. Should I patch the `sageblockfilter.py` file or should I create a new file `pythonblockfilter.py` ?



---

archive/issue_comments_315726.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nPlease note that contributing to `rst-to-ipynb` is independent of the current ticket, which is about packaging it. It would be nice to have `sage -rst2ipynb` available soon for everyone (it is ready for almost 3 months now).\n\nNote also that such a sage command should make your own development of `rst-to-ipynb` easier ;) (i used it massively for scripting the build of tutorials last month, it is very handy).",
    "created_at": "2016-11-20T12:35:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315726",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:18" align="right">comment:18</div>

Please note that contributing to `rst-to-ipynb` is independent of the current ticket, which is about packaging it. It would be nice to have `sage -rst2ipynb` available soon for everyone (it is ready for almost 3 months now).

Note also that such a sage command should make your own development of `rst-to-ipynb` easier ;) (i used it massively for scripting the build of tutorials last month, it is very handy).



---

archive/issue_comments_315727.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nHi S\u00e9bastien,\n\nShall we have a small sprint on this this week?\n\nCheers,\n                                Nicolas",
    "created_at": "2016-11-20T19:23:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315727",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:19" align="right">comment:19</div>

Hi Sébastien,

Shall we have a small sprint on this this week?

Cheers,
                                Nicolas



---

archive/issue_comments_315728.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nHi Thierry,\n\nAdrien tried to use rst-to-ipynb by cloning the repo; that was painful\nto use for him (getting the dependencies, ...). So I ended up making\nit into a proper Python/pip package, which installs the conversion\nscript. While I am at it, I might as well upload the package on pipy\n(planning to do this tomorrow).\n\nAt this stage, the script is called rst2ipynb for consistency with\n`sage -rst2ipynb` and many existing `rst2xxx` converters.\n\nQuestions:\n- Should the pip package be called rst2ipynb or rst-to-ipynb?\n- In the former case, should the github repo be renamed rst2ipynb?\n- Once we have a proper pip package on pipy, do we need a Sage package?\n  (if no, sorry for the lack of sync; we could have saved the writing\n  of this package).\n\nCheers,\n      Nicolas",
    "created_at": "2016-11-22T21:31:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315728",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:20" align="right">comment:20</div>

Hi Thierry,

Adrien tried to use rst-to-ipynb by cloning the repo; that was painful
to use for him (getting the dependencies, ...). So I ended up making
it into a proper Python/pip package, which installs the conversion
script. While I am at it, I might as well upload the package on pipy
(planning to do this tomorrow).

At this stage, the script is called rst2ipynb for consistency with
`sage -rst2ipynb` and many existing `rst2xxx` converters.

Questions:
- Should the pip package be called rst2ipynb or rst-to-ipynb?
- In the former case, should the github repo be renamed rst2ipynb?
- Once we have a proper pip package on pipy, do we need a Sage package?
  (if no, sorry for the lack of sync; we could have saved the writing
  of this package).

Cheers,
      Nicolas



---

archive/issue_comments_315729.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nLet me just remind that Sage is a collective effort, which aims to share the development of common features in order to focus on the code specific to our own research.\n\nAll the `sage -rst2ipynb` stuff (packaging, scripting,...) is ready for 3 months now (i wrote those in August during https://wiki.sagemath.org/days75).\n\nIf, instead of trying alternate/duplicate ways to install it painlessly, those tickets had been reviewed, `sage -rst2ipynb` command would have been in Sage 7.4 already and Adrien would not even have had to clone anything nor to suffer some dependencies issues, because some Sage developers (myself and the reviewers) would have taken care of this once for all.\n\nNow, could please someone review the last 2 tickets (this one and #21514 that i will push over this branch after it is reviewed) so that `sage -rst2ipynb` command will be available to every Sage user in the next release, which might end up in real-life interesting feature requests and useful improvements.\n\nI presume Sebastien noticed the `>>>` issue because he used the package on a concrete use case that led to errors. The rst-to-ipynb package development will benefit from its easy availability to every Sage users, each with their specific workflow.\n\n---\n\nThat said, regarding pip installation, there are two very different things: having rst-to-ipynb being pip-installable, and having it hosted/mirrored on PyPI.\n\nIf you write a convenient setup.py script, we could modify the spkg-install script to use the pip command for the install. But please do not condition the review of this ticket to that, plan it for 7.6 instead, or earlier if the last 2 ticket get merged soon.\n\nNow, regarding fetching from PyPI for Sage, it is another story, since rst-yo-ipynb depends on notedown and pandoc_attributes, whose versions on PyPI are bitroting a lot behind the github source from which the Sage packages are built. Changes since the last PyPI update (more than 1+1/2 year) include Python3 support and various fixes.\n\nIf you have enough free time for not only creating, but also being commited to maintaining a PyPI rst-to-ipynb package indefinitely, it is definitely interesting.\n\nIt could even replace the current spkgs on the longer run, but it requires first to pressure notedown/pandoc_attributes dev to also update his PyPI repositories, and probably he does not have much time for this.\n\nMoreover, regarding the development of rst-to-ipynb, i guess it is better to develop and test it against the latest versions of its dependencies, and not the PyPI ones, since in case of an upstream problem, it is much more doable to obtain a pull than to obtain a new PyPI release.\n\nThat said, having a somehow degraded (because of older dependencies) version on PyPI could be interesting for non-Sage users, but it would currently be a loss for Sage, and since the packaging work with up-to-date dependencies is done anyway, i do not see any benefit in relying on older Python3 incompatible versions.\n\nThis is only a very personal suggestion, but if i had such free time, i would better work on having a rst2ipynb feature being part of Jupyter (which is why i promoted the licensing of rst-to-ipynb to be the same as the jupyter one), so that it will be much more maintained, widely tested, used in different contexts, hence improved. It would perhaps imply finding a non-pandoc way to do the conversion, i am not sure.\n\nRegarding the naming scheme, it is not very important, and certainly not imposed by the `sage -rst2ipynb` command name, since this later needs a dedicated script anyway (being interfaced with the `sage` command and specifying the Sage kernel).\n\nPlease, let us focus on having a public working `sage -rst2ipynb` command first. It is a key step for a lossless sagenb to jupyter migration.",
    "created_at": "2016-11-23T00:33:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315729",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:21" align="right">comment:21</div>

Let me just remind that Sage is a collective effort, which aims to share the development of common features in order to focus on the code specific to our own research.

All the `sage -rst2ipynb` stuff (packaging, scripting,...) is ready for 3 months now (i wrote those in August during https://wiki.sagemath.org/days75).

If, instead of trying alternate/duplicate ways to install it painlessly, those tickets had been reviewed, `sage -rst2ipynb` command would have been in Sage 7.4 already and Adrien would not even have had to clone anything nor to suffer some dependencies issues, because some Sage developers (myself and the reviewers) would have taken care of this once for all.

Now, could please someone review the last 2 tickets (this one and #21514 that i will push over this branch after it is reviewed) so that `sage -rst2ipynb` command will be available to every Sage user in the next release, which might end up in real-life interesting feature requests and useful improvements.

I presume Sebastien noticed the `>>>` issue because he used the package on a concrete use case that led to errors. The rst-to-ipynb package development will benefit from its easy availability to every Sage users, each with their specific workflow.

---

That said, regarding pip installation, there are two very different things: having rst-to-ipynb being pip-installable, and having it hosted/mirrored on PyPI.

If you write a convenient setup.py script, we could modify the spkg-install script to use the pip command for the install. But please do not condition the review of this ticket to that, plan it for 7.6 instead, or earlier if the last 2 ticket get merged soon.

Now, regarding fetching from PyPI for Sage, it is another story, since rst-yo-ipynb depends on notedown and pandoc_attributes, whose versions on PyPI are bitroting a lot behind the github source from which the Sage packages are built. Changes since the last PyPI update (more than 1+1/2 year) include Python3 support and various fixes.

If you have enough free time for not only creating, but also being commited to maintaining a PyPI rst-to-ipynb package indefinitely, it is definitely interesting.

It could even replace the current spkgs on the longer run, but it requires first to pressure notedown/pandoc_attributes dev to also update his PyPI repositories, and probably he does not have much time for this.

Moreover, regarding the development of rst-to-ipynb, i guess it is better to develop and test it against the latest versions of its dependencies, and not the PyPI ones, since in case of an upstream problem, it is much more doable to obtain a pull than to obtain a new PyPI release.

That said, having a somehow degraded (because of older dependencies) version on PyPI could be interesting for non-Sage users, but it would currently be a loss for Sage, and since the packaging work with up-to-date dependencies is done anyway, i do not see any benefit in relying on older Python3 incompatible versions.

This is only a very personal suggestion, but if i had such free time, i would better work on having a rst2ipynb feature being part of Jupyter (which is why i promoted the licensing of rst-to-ipynb to be the same as the jupyter one), so that it will be much more maintained, widely tested, used in different contexts, hence improved. It would perhaps imply finding a non-pandoc way to do the conversion, i am not sure.

Regarding the naming scheme, it is not very important, and certainly not imposed by the `sage -rst2ipynb` command name, since this later needs a dedicated script anyway (being interfaced with the `sage` command and specifying the Sage kernel).

Please, let us focus on having a public working `sage -rst2ipynb` command first. It is a key step for a lossless sagenb to jupyter migration.



---

archive/issue_comments_315730.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nSalut Thierry,\n\nWith S\u00e9bastien, we are precisely in the process of reviewing this\nticket and its `sage -rst2ipynb` counterpart, with goal to get it done\nhopefully today. That's what led me to try first a manual install of\nrst2ipynb, and realize it was even more messy than I thought. Making\nit pip installable / a pipy package is part of that collective effort\nto work with upstream and write stuff useful to the larger community :-)\n\nI agree, it would have been more productive to discuss earlier on the\nbest approach for packaging.\n\nThanks for pointing out the caveat about the outdated versions of\nnotedown on pipy. Plus the necessity to pass down extra arguments for\nthe kernel. This is indeed a good reason to have a sage package, at\nleast for now.\n\nMy plan:\n- Do tiny further edits to rst2ipynb, and make an \"official release\".\n  (it's already pip installable)\n- Release it on pipy (that's cheap anyway)\n- Update the Sage package to use pip to install it from a source clone.\n\nFor the long run: having a reST to ipynb converter under the Jupyter\numbrella would indeed be best. The current pandoc+notedown approach is\nreaching its limits (e.g. for handling cross references, in particular\nfor multi-file documents). I believe more in a Sphinx-based\napproach. In a discussion with the Jupyter dev, they pointed out that\npandoc was a heavy dependency, and that Sphinx also looked better to\nthat respect.\n\nCheers,\n                                   Nicolas",
    "created_at": "2016-11-23T07:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315730",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:23" align="right">comment:23</div>

Salut Thierry,

With Sébastien, we are precisely in the process of reviewing this
ticket and its `sage -rst2ipynb` counterpart, with goal to get it done
hopefully today. That's what led me to try first a manual install of
rst2ipynb, and realize it was even more messy than I thought. Making
it pip installable / a pipy package is part of that collective effort
to work with upstream and write stuff useful to the larger community :-)

I agree, it would have been more productive to discuss earlier on the
best approach for packaging.

Thanks for pointing out the caveat about the outdated versions of
notedown on pipy. Plus the necessity to pass down extra arguments for
the kernel. This is indeed a good reason to have a sage package, at
least for now.

My plan:
- Do tiny further edits to rst2ipynb, and make an "official release".
  (it's already pip installable)
- Release it on pipy (that's cheap anyway)
- Update the Sage package to use pip to install it from a source clone.

For the long run: having a reST to ipynb converter under the Jupyter
umbrella would indeed be best. The current pandoc+notedown approach is
reaching its limits (e.g. for handling cross references, in particular
for multi-file documents). I believe more in a Sphinx-based
approach. In a discussion with the Jupyter dev, they pointed out that
pandoc was a heavy dependency, and that Sphinx also looked better to
that respect.

Cheers,
                                   Nicolas



---

archive/issue_comments_315731.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nrst2ipynb 0.2.1 \"released\" and uploaded on pipy: https://pypi.python.org/pypi/rst2ipynb/0.2.1",
    "created_at": "2016-11-23T07:52:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315731",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:24" align="right">comment:24</div>

rst2ipynb 0.2.1 "released" and uploaded on pipy: https://pypi.python.org/pypi/rst2ipynb/0.2.1



---

archive/issue_comments_315732.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/package_rst-to-ipynb](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/package_rst-to-ipynb)** to **[u/nthiery/package_rst-to-ipynb](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/package_rst-to-ipynb)**",
    "created_at": "2016-11-23T07:56:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315732",
    "user": "https://github.com/nthiery"
}
```

Changed branch from **[u/tmonteil/package_rst-to-ipynb](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/package_rst-to-ipynb)** to **[u/nthiery/package_rst-to-ipynb](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/package_rst-to-ipynb)**



---

archive/issue_comments_315733.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d44379de829bdc001554e0d58e78a3f05d5eaf90\">d44379d</a></td><td><code>Merge branch 'develop' into t/21513/package_rst-to-ipynb</code></td></tr></table>\n",
    "created_at": "2016-11-23T09:40:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315733",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:26"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d44379de829bdc001554e0d58e78a3f05d5eaf90">d44379d</a></td><td><code>Merge branch 'develop' into t/21513/package_rst-to-ipynb</code></td></tr></table>




---

archive/issue_events_302187.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2016-11-23T09:40:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302187"
}
```



---

archive/issue_events_302188.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2016-11-23T09:40:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302188"
}
```



---

archive/issue_events_302189.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2016-11-23T09:40:01Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "title_is": "Package rst2ipynb",
    "title_was": "Package rst-to-ipynb",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302189"
}
```



---

archive/issue_comments_315734.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,12 +1,12 @@\n-`rst-to-ipynb` converts rst source to ipynb worksheet.\n+`rst2ipynb` converts rst source to ipynb worksheet.\n \n-- upstream zipball : https://github.com/nthiery/rst-to-ipynb/archive/fd58cd0378ce4b08565d14f3dc02626b795c6d71.zip to be renamed `rst_to_ipynb-fd58cd03.zip` (with underscores).\n-- alternative download : \u200bhttps://lipn.univ-paris13.fr/~monteil/hebergement/tmp/rst_to_ipynb-fd58cd03.zip\n+- upstream tarball : https://pypi.python.org/packages/59/74/ed45a207317c8dbfe987db83841ba4d262cfe9fc561fe3180185f82f1e95/rst2ipynb-0.2.1.tar.gz\n+\n \n This package will be used through the straightforward `sage -rst2ipynb` command, see #21514 You can still test it by hand as follows: install `pandoc` on your system and if you have a `myfile.rst` do:\n \n ```\n sage -sh\n-python ${SAGE_LOCAL}/lib/rst_to_ipynb/convert.py --kernel='sagemath' myfile.rst -o myfile.ipynb\n+rst2ipynb --kernel='sagemath' myfile.rst -o myfile.ipynb\n ```\n \n``````\n",
    "created_at": "2016-11-23T09:40:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315734",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,12 +1,12 @@
-`rst-to-ipynb` converts rst source to ipynb worksheet.
+`rst2ipynb` converts rst source to ipynb worksheet.
 
-- upstream zipball : https://github.com/nthiery/rst-to-ipynb/archive/fd58cd0378ce4b08565d14f3dc02626b795c6d71.zip to be renamed `rst_to_ipynb-fd58cd03.zip` (with underscores).
-- alternative download : ​https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/rst_to_ipynb-fd58cd03.zip
+- upstream tarball : https://pypi.python.org/packages/59/74/ed45a207317c8dbfe987db83841ba4d262cfe9fc561fe3180185f82f1e95/rst2ipynb-0.2.1.tar.gz
+
 
 This package will be used through the straightforward `sage -rst2ipynb` command, see #21514 You can still test it by hand as follows: install `pandoc` on your system and if you have a `myfile.rst` do:
 
 ```
 sage -sh
-python ${SAGE_LOCAL}/lib/rst_to_ipynb/convert.py --kernel='sagemath' myfile.rst -o myfile.ipynb
+rst2ipynb --kernel='sagemath' myfile.rst -o myfile.ipynb
 ```
 
``````




---

archive/issue_comments_315735.json:
```json
{
    "body": "Changed commit from **[`966a95d`](https://github.com/sagemath/sagetrac-mirror/commit/966a95d9b6951543251a7d0942caf098d58c2c0f)** to **[`d44379d`](https://github.com/sagemath/sagetrac-mirror/commit/d44379de829bdc001554e0d58e78a3f05d5eaf90)**",
    "created_at": "2016-11-23T09:40:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315735",
    "user": "https://github.com/nthiery"
}
```

Changed commit from **[`966a95d`](https://github.com/sagemath/sagetrac-mirror/commit/966a95d9b6951543251a7d0942caf098d58c2c0f)** to **[`d44379d`](https://github.com/sagemath/sagetrac-mirror/commit/d44379de829bdc001554e0d58e78a3f05d5eaf90)**



---

archive/issue_comments_315736.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ade0a42757aa70f4d1e647933ee8c14fe1461c21\">ade0a42</a></td><td><code>Refactor the rst2ipynb package to use the new pip-installable package</code></td></tr></table>\n",
    "created_at": "2016-11-23T09:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315736",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ade0a42757aa70f4d1e647933ee8c14fe1461c21">ade0a42</a></td><td><code>Refactor the rst2ipynb package to use the new pip-installable package</code></td></tr></table>




---

archive/issue_comments_315737.json:
```json
{
    "body": "Changed commit from **[`d44379d`](https://github.com/sagemath/sagetrac-mirror/commit/d44379de829bdc001554e0d58e78a3f05d5eaf90)** to **[`ade0a42`](https://github.com/sagemath/sagetrac-mirror/commit/ade0a42757aa70f4d1e647933ee8c14fe1461c21)**",
    "created_at": "2016-11-23T09:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315737",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d44379d`](https://github.com/sagemath/sagetrac-mirror/commit/d44379de829bdc001554e0d58e78a3f05d5eaf90)** to **[`ade0a42`](https://github.com/sagemath/sagetrac-mirror/commit/ade0a42757aa70f4d1e647933ee8c14fe1461c21)**



---

archive/issue_events_302190.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2016-11-23T09:58:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302190"
}
```



---

archive/issue_events_302191.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2016-11-23T09:58:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302191"
}
```



---

archive/issue_comments_315738.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nDone! Thierry, S\u00e9bastien, do you mind reviewing my changes?\n\nI am now moving on to #21514.",
    "created_at": "2016-11-23T09:58:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315738",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:28" align="right">comment:28</div>

Done! Thierry, Sébastien, do you mind reviewing my changes?

I am now moving on to #21514.



---

archive/issue_comments_315739.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nNot sure whether I should be author or reviewer here :-)",
    "created_at": "2016-11-23T10:01:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315739",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:29" align="right">comment:29</div>

Not sure whether I should be author or reviewer here :-)



---

archive/issue_comments_315740.json:
```json
{
    "body": "Reviewer: **S\u00e9bastien Labb\u00e9, Nicolas M. Thi\u00e9ry**",
    "created_at": "2016-11-23T10:01:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315740",
    "user": "https://github.com/nthiery"
}
```

Reviewer: **Sébastien Labbé, Nicolas M. Thiéry**



---

archive/issue_comments_315741.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThe way you did the refactor lost all the history so it is hard to see what changed, you should use `git mv` command, then modify the files, then `git add` command.\n\nI have to recompile parts of Sage, so the rest might take time.",
    "created_at": "2016-11-23T10:32:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315741",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:30" align="right">comment:30</div>

The way you did the refactor lost all the history so it is hard to see what changed, you should use `git mv` command, then modify the files, then `git add` command.

I have to recompile parts of Sage, so the rest might take time.



---

archive/issue_comments_315742.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI am sorry that I was late at working on this ticket this Fall.\n\nI agree to postpone the fix of `>>>` blocks to a later release of rst2ipynb.\n\nI intend to review this ticket so that it gets a positive review *during* Sage Days 79.\n\nReplying to [@sagetrac-tmonteil](#comment:30):\n> The way you did the refactor lost all the history so it is hard to see what changed, you should use `git mv` command, then modify the files, then `git add` command.\n\n+1\n\nNicolas, can you redo your last commit and use `git mv` instead (you will need to `git push -f` your new branch: whatever).",
    "created_at": "2016-11-23T13:28:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315742",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:31" align="right">comment:31</div>

I am sorry that I was late at working on this ticket this Fall.

I agree to postpone the fix of `>>>` blocks to a later release of rst2ipynb.

I intend to review this ticket so that it gets a positive review *during* Sage Days 79.

Replying to [@sagetrac-tmonteil](#comment:30):
> The way you did the refactor lost all the history so it is hard to see what changed, you should use `git mv` command, then modify the files, then `git add` command.

+1

Nicolas, can you redo your last commit and use `git mv` instead (you will need to `git push -f` your new branch: whatever).



---

archive/issue_comments_315743.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/421388a6415cf9d3bed8ea9047afa4928570ad2e\">421388a</a></td><td><code>21513: Refactor the rst2ipynb package to use the new pip-installable package, step 1: renaming the pkg directory</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5d5680d547487a9702758f4a62852f34a0ab725\">d5d5680</a></td><td><code>21513: Refactor the rst2ipynb package to use the new pip-installable package, remainder</code></td></tr></table>\n",
    "created_at": "2016-11-23T15:04:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315743",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/421388a6415cf9d3bed8ea9047afa4928570ad2e">421388a</a></td><td><code>21513: Refactor the rst2ipynb package to use the new pip-installable package, step 1: renaming the pkg directory</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5d5680d547487a9702758f4a62852f34a0ab725">d5d5680</a></td><td><code>21513: Refactor the rst2ipynb package to use the new pip-installable package, remainder</code></td></tr></table>




---

archive/issue_comments_315744.json:
```json
{
    "body": "Changed commit from **[`ade0a42`](https://github.com/sagemath/sagetrac-mirror/commit/ade0a42757aa70f4d1e647933ee8c14fe1461c21)** to **[`d5d5680`](https://github.com/sagemath/sagetrac-mirror/commit/d5d5680d547487a9702758f4a62852f34a0ab725)**",
    "created_at": "2016-11-23T15:04:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315744",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ade0a42`](https://github.com/sagemath/sagetrac-mirror/commit/ade0a42757aa70f4d1e647933ee8c14fe1461c21)** to **[`d5d5680`](https://github.com/sagemath/sagetrac-mirror/commit/d5d5680d547487a9702758f4a62852f34a0ab725)**



---

archive/issue_events_302192.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2016-11-23T21:33:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302192"
}
```



---

archive/issue_events_302193.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2016-11-23T21:33:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302193"
}
```



---

archive/issue_comments_315745.json:
```json
{
    "body": "Changed keywords from none to **days79**",
    "created_at": "2016-11-23T21:33:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315745",
    "user": "https://github.com/seblabbe"
}
```

Changed keywords from none to **days79**



---

archive/issue_comments_315746.json:
```json
{
    "body": "Changed reviewer from **S\u00e9bastien Labb\u00e9, Nicolas M. Thi\u00e9ry** to **S\u00e9bastien Labb\u00e9**",
    "created_at": "2016-11-23T21:33:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315746",
    "user": "https://github.com/seblabbe"
}
```

Changed reviewer from **Sébastien Labbé, Nicolas M. Thiéry** to **Sébastien Labbé**



---

archive/issue_comments_315747.json:
```json
{
    "body": "Changed author from **Thierry Monteil** to **Thierry Monteil, Nicolas M. Thi\u00e9ry**",
    "created_at": "2016-11-23T21:33:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315747",
    "user": "https://github.com/seblabbe"
}
```

Changed author from **Thierry Monteil** to **Thierry Monteil, Nicolas M. Thiéry**



---

archive/issue_events_302194.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-27T16:46:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302194"
}
```



---

archive/issue_events_302195.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4c9e1624c9aae0945e0b20b4914cf4f7480c9764",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-11-27T16:46:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21513#event-302195"
}
```



---

archive/issue_comments_315748.json:
```json
{
    "body": "Changed branch from **[u/nthiery/package_rst-to-ipynb](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/package_rst-to-ipynb)** to **[`d5d5680`](https://github.com/sagemath/sagetrac-mirror/commit/d5d5680d547487a9702758f4a62852f34a0ab725)**",
    "created_at": "2016-11-27T16:46:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21513",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21513#issuecomment-315748",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/nthiery/package_rst-to-ipynb](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/package_rst-to-ipynb)** to **[`d5d5680`](https://github.com/sagemath/sagetrac-mirror/commit/d5d5680d547487a9702758f4a62852f34a0ab725)**
