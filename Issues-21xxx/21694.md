# Issue 21694: Exception types in posets.py

archive/issues_021457.json:
```json
{
    "body": "This patch modifies several `raise` statements in `posets.py`.\n\nThe context is this discussion: https://groups.google.com/forum/#!topic/sage-devel/nXTaoQQdT3Y . This patch tries to make some concrete examples of raising exceptions; hopefully later something will be added to devel manual.\n\n\nCC:  @jdemeyer\n\nBranch/Commit: 21f14c34f99c0d5cb654610275212be0061a52d6\n\nReviewer: Travis Scrimshaw\n\nAuthor: Jori M\u00e4ntysalo\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21694\n\n",
    "closed_at": "2016-11-02T19:19:58Z",
    "created_at": "2016-10-13T08:11:23Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "Exception types in posets.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21694",
    "user": "https://github.com/jm58660"
}
```
This patch modifies several `raise` statements in `posets.py`.

The context is this discussion: https://groups.google.com/forum/#!topic/sage-devel/nXTaoQQdT3Y . This patch tries to make some concrete examples of raising exceptions; hopefully later something will be added to devel manual.


CC:  @jdemeyer

Branch/Commit: 21f14c34f99c0d5cb654610275212be0061a52d6

Reviewer: Travis Scrimshaw

Author: Jori MÃ¤ntysalo

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21694





---

archive/issue_comments_395002.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jmantysalo/posets-raise\"",
    "created_at": "2016-10-13T08:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395002",
    "user": "https://github.com/jm58660"
}
```

Changing branch from "" to "u/jmantysalo/posets-raise"



---

archive/issue_comments_395003.json:
```json
{
    "body": "Changing commit from \"\" to \"126f05d9e65def98090856f7442c3c0631d0e5d7\"",
    "created_at": "2016-10-13T08:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395003",
    "user": "https://github.com/jm58660"
}
```

Changing commit from "" to "126f05d9e65def98090856f7442c3c0631d0e5d7"



---

archive/issue_comments_395004.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-10-13T08:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395004",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_395005.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[126f05d](https://github.com/sagemath/sagetrac-mirror/commit/126f05d9e65def98090856f7442c3c0631d0e5d7)|`Modifications to raise-statements on posets.py.`|",
    "created_at": "2016-10-13T08:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395005",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[126f05d](https://github.com/sagemath/sagetrac-mirror/commit/126f05d9e65def98090856f7442c3c0631d0e5d7)|`Modifications to raise-statements on posets.py.`|



---

archive/issue_comments_395006.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-10-13T13:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395006",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_395007.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2016-10-13T13:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395007",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_395008.json:
```json
{
    "body": "<a id='comment:3'></a>\nLGTM.",
    "created_at": "2016-10-13T13:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395008",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
LGTM.



---

archive/issue_comments_395009.json:
```json
{
    "body": "<a id='comment:4'></a>\nSorry, this should not have been on *needs_review* yet. But don't worry, I'll just convert some  `ValueError` to `ArithmeticError` so remaining review should be easy.",
    "created_at": "2016-10-14T02:56:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395009",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:4'></a>
Sorry, this should not have been on *needs_review* yet. But don't worry, I'll just convert some  `ValueError` to `ArithmeticError` so remaining review should be easy.



---

archive/issue_comments_395010.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-10-14T02:56:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395010",
    "user": "https://github.com/jm58660"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_395011.json:
```json
{
    "body": "Changing commit from \"126f05d9e65def98090856f7442c3c0631d0e5d7\" to \"40de1e7adc8da9fab364b370590e114cb8b62de9\"",
    "created_at": "2016-10-14T03:11:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395011",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "126f05d9e65def98090856f7442c3c0631d0e5d7" to "40de1e7adc8da9fab364b370590e114cb8b62de9"



---

archive/issue_comments_395012.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[40de1e7](https://github.com/sagemath/sagetrac-mirror/commit/40de1e7adc8da9fab364b370590e114cb8b62de9)|`Some exceptions to ArithmeticError.`|",
    "created_at": "2016-10-14T03:11:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395012",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[40de1e7](https://github.com/sagemath/sagetrac-mirror/commit/40de1e7adc8da9fab364b370590e114cb8b62de9)|`Some exceptions to ArithmeticError.`|



---

archive/issue_comments_395013.json:
```json
{
    "body": "<a id='comment:6'></a>\nIt seems that at least for this particular case it is quite easy to select between `ValueError` and `ArithmeticError`; `ValueError` is left for cases where the user for example put `direction='junk'`. Hardest part is something like `Poset({0: [1], 1: [0]})`, which error it should be?\n\nOTOH Python itself gives `ZeroDivisionError`, a subclass of `ArithmeticError`, from `1/0`, but `ValueError` from `sqrt(-42)`. But then, some other Sage code already raises ArithmeticErrors, so maybe that should happen here also.",
    "created_at": "2016-10-14T03:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395013",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>
It seems that at least for this particular case it is quite easy to select between `ValueError` and `ArithmeticError`; `ValueError` is left for cases where the user for example put `direction='junk'`. Hardest part is something like `Poset({0: [1], 1: [0]})`, which error it should be?

OTOH Python itself gives `ZeroDivisionError`, a subclass of `ArithmeticError`, from `1/0`, but `ValueError` from `sqrt(-42)`. But then, some other Sage code already raises ArithmeticErrors, so maybe that should happen here also.



---

archive/issue_comments_395014.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2016-10-14T03:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395014",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_395015.json:
```json
{
    "body": "Changing commit from \"40de1e7adc8da9fab364b370590e114cb8b62de9\" to \"21f14c34f99c0d5cb654610275212be0061a52d6\"",
    "created_at": "2016-10-24T04:09:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395015",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "40de1e7adc8da9fab364b370590e114cb8b62de9" to "21f14c34f99c0d5cb654610275212be0061a52d6"



---

archive/issue_comments_395016.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[21f14c3](https://github.com/sagemath/sagetrac-mirror/commit/21f14c34f99c0d5cb654610275212be0061a52d6)|`Revert \"Some exceptions to ArithmeticError.\"`|",
    "created_at": "2016-10-24T04:09:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395016",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[21f14c3](https://github.com/sagemath/sagetrac-mirror/commit/21f14c34f99c0d5cb654610275212be0061a52d6)|`Revert "Some exceptions to ArithmeticError."`|



---

archive/issue_comments_395017.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2016-10-24T04:11:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395017",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_395018.json:
```json
{
    "body": "<a id='comment:8'></a>\nThere was no more interest in this bikeshedding. Hence I revert this to phase that Travis already give a positive review. This at least unifies exception strings.",
    "created_at": "2016-10-24T04:11:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395018",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:8'></a>
There was no more interest in this bikeshedding. Hence I revert this to phase that Travis already give a positive review. This at least unifies exception strings.



---

archive/issue_events_073135.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-02T19:19:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21694#event-73135"
}
```



---

archive/issue_comments_395019.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-11-02T19:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395019",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_395020.json:
```json
{
    "body": "Changing branch from \"u/jmantysalo/posets-raise\" to \"21f14c34f99c0d5cb654610275212be0061a52d6\"",
    "created_at": "2016-11-02T19:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21694#issuecomment-395020",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jmantysalo/posets-raise" to "21f14c34f99c0d5cb654610275212be0061a52d6"
