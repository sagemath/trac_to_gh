# Issue 21353: fix `MIPVariable` inheritance

archive/issues_021116.json:
```json
{
    "body": "Let `MIPVariable` not inherit from `Element` but `SageObject`. The only reason it used to be this way is to be able to multiply variables with scalars that can be dealt with in other ways. The previous inheritance scheme used the old parent framework that we try to get rid of.\n\nSee also the task ticket: #21380\n\n**CC:**  @tscrim @nthiery simonking @mkoeppe\n\n**Branch/Commit:** [76c7fab2af36b139552bb2e92f0f710d8d608a26](https://github.com/sagemath/sagetrac-mirror/commit/76c7fab2af36b139552bb2e92f0f710d8d608a26)\n\n**Reviewer:** Vincent Delecroix, Travis Scrimshaw\n\n**Author:** Vincent Delecroix, Travis Scrimshaw\n\n**Dependencies:** #24096\n\nIssue created by migration from https://trac.sagemath.org/ticket/21353\n\n",
    "closed_at": "2018-01-01T14:20:21Z",
    "created_at": "2016-08-26T22:39:43Z",
    "labels": [
        "component: categories",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "fix `MIPVariable` inheritance",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21353",
    "user": "https://github.com/videlec"
}
```
Let `MIPVariable` not inherit from `Element` but `SageObject`. The only reason it used to be this way is to be able to multiply variables with scalars that can be dealt with in other ways. The previous inheritance scheme used the old parent framework that we try to get rid of.

See also the task ticket: #21380

**CC:**  @tscrim @nthiery simonking @mkoeppe

**Branch/Commit:** [76c7fab2af36b139552bb2e92f0f710d8d608a26](https://github.com/sagemath/sagetrac-mirror/commit/76c7fab2af36b139552bb2e92f0f710d8d608a26)

**Reviewer:** Vincent Delecroix, Travis Scrimshaw

**Author:** Vincent Delecroix, Travis Scrimshaw

**Dependencies:** #24096

Issue created by migration from https://trac.sagemath.org/ticket/21353





---

archive/issue_comments_375265.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2016-08-26T22:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375265",
    "user": "https://github.com/videlec"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_375266.json:
```json
{
    "body": "**Commit:** [aba5b7402c2f881f19e52c78cffb05974d33a2fe](https://github.com/sagemath/sagetrac-mirror/commit/aba5b7402c2f881f19e52c78cffb05974d33a2fe)",
    "created_at": "2016-08-26T22:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375266",
    "user": "https://github.com/videlec"
}
```

**Commit:** [aba5b7402c2f881f19e52c78cffb05974d33a2fe](https://github.com/sagemath/sagetrac-mirror/commit/aba5b7402c2f881f19e52c78cffb05974d33a2fe)



---

archive/issue_comments_375267.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aba5b7402c2f881f19e52c78cffb05974d33a2fe\">aba5b74</a></td><td><code>21353: remove guess_category</code></td></tr></table>\n",
    "created_at": "2016-08-26T22:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375267",
    "user": "https://github.com/videlec"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aba5b7402c2f881f19e52c78cffb05974d33a2fe">aba5b74</a></td><td><code>21353: remove guess_category</code></td></tr></table>




---

archive/issue_comments_375268.json:
```json
{
    "body": "**Branch:** [u/vdelecroix/21353](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/21353)",
    "created_at": "2016-08-26T22:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375268",
    "user": "https://github.com/videlec"
}
```

**Branch:** [u/vdelecroix/21353](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/21353)



---

archive/issue_comments_375269.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-We remove the quite fragile `guess_category` from `sage.structure.category_object.\n+We remove the quite fragile `guess_category` from `sage.structure.category_object`.\n``````\n",
    "created_at": "2016-08-26T22:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375269",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-We remove the quite fragile `guess_category` from `sage.structure.category_object.
+We remove the quite fragile `guess_category` from `sage.structure.category_object`.
``````




---

archive/issue_comments_375270.json:
```json
{
    "body": "<a id='comment:4'></a>\n+1 on getting rid of this kludge if we finally can!\n\nAbout the change `Parent.__init__` -> `Ring.__init__`: if this does not induce complications, I would tend to use the occasion to not have `InfinityRing` inherit from `Ring` and instead pass `category=Rings()` to `Parent.__init__`.\n\nI don't expect a need for pure speed for this parent, right? Of course the elements could still belong to `RingElement`.",
    "created_at": "2016-08-27T05:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375270",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:4'></a>
+1 on getting rid of this kludge if we finally can!

About the change `Parent.__init__` -> `Ring.__init__`: if this does not induce complications, I would tend to use the occasion to not have `InfinityRing` inherit from `Ring` and instead pass `category=Rings()` to `Parent.__init__`.

I don't expect a need for pure speed for this parent, right? Of course the elements could still belong to `RingElement`.



---

archive/issue_comments_375271.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [nthiery](#comment%3A4):\n> About the change `Parent.__init__` -> `Ring.__init__`: if this does not induce complications, I would tend to use the occasion to not have `InfinityRing` inherit from `Ring` and instead pass `category=Rings()` to `Parent.__init__`.\n\n\nDoing that change would remove some functionality from `InfinityRing` (although I highly, highly doubt anyone is creating things like ideals of the infinity ring). Although that would be something\n\n> I don't expect a need for pure speed for this parent, right? Of course the elements could still belong to `RingElement`. \n\n\nI believe we have this parent (essentially) nailed in memory at startup because of `oo`. So I don't think this is an issue at the end of the day.",
    "created_at": "2016-08-27T15:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375271",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
Replying to [nthiery](#comment%3A4):
> About the change `Parent.__init__` -> `Ring.__init__`: if this does not induce complications, I would tend to use the occasion to not have `InfinityRing` inherit from `Ring` and instead pass `category=Rings()` to `Parent.__init__`.


Doing that change would remove some functionality from `InfinityRing` (although I highly, highly doubt anyone is creating things like ideals of the infinity ring). Although that would be something

> I don't expect a need for pure speed for this parent, right? Of course the elements could still belong to `RingElement`. 


I believe we have this parent (essentially) nailed in memory at startup because of `oo`. So I don't think this is an issue at the end of the day.



---

archive/issue_comments_375272.json:
```json
{
    "body": "<a id='comment:6'></a>\nIt does introduce complications: removing the inheritance from `Ring` causes error due to the absence of methods `is_integral_domain` and `is_field`. Some doctests are creating vector/matrices over the infinity ring.",
    "created_at": "2016-08-27T22:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375272",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>
It does introduce complications: removing the inheritance from `Ring` causes error due to the absence of methods `is_integral_domain` and `is_field`. Some doctests are creating vector/matrices over the infinity ring.



---

archive/issue_comments_375273.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [vdelecroix](#comment%3A6):\n> It does introduce complications: removing the inheritance from `Ring` causes error due to the absence of methods `is_integral_domain` and `is_field`. Some doctests are creating vector/matrices over the infinity ring.\n\n\nAh, shoot. That would be easy to fix by moving up those methods to\n`Rings`, which anyway we want to do at some point. But then that's\nstarting to shift beyond the scope of this ticket.\n\nAs an intermediate step, one could keep for now the inheritance from\n`Ring`, and pass a `category=Rings()` argument to `Parent`.\n\nAs you feel like guys!",
    "created_at": "2016-08-28T06:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375273",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:7'></a>
Replying to [vdelecroix](#comment%3A6):
> It does introduce complications: removing the inheritance from `Ring` causes error due to the absence of methods `is_integral_domain` and `is_field`. Some doctests are creating vector/matrices over the infinity ring.


Ah, shoot. That would be easy to fix by moving up those methods to
`Rings`, which anyway we want to do at some point. But then that's
starting to shift beyond the scope of this ticket.

As an intermediate step, one could keep for now the inheritance from
`Ring`, and pass a `category=Rings()` argument to `Parent`.

As you feel like guys!



---

archive/issue_comments_375274.json:
```json
{
    "body": "<a id='comment:8'></a>\nI am setting #20686 as a dependency since it is very likely to create merge failures.\n\nReplying to [nthiery](#comment%3A7):\n> Replying to [vdelecroix](#comment%3A6):\n> > It does introduce complications: removing the inheritance from `Ring` causes error due to the absence of methods `is_integral_domain` and `is_field`. Some doctests are creating vector/matrices over the infinity ring.\n\n> \n> Ah, shoot. That would be easy to fix by moving up those methods to\n> `Rings`, which anyway we want to do at some point. But then that's\n> starting to shift beyond the scope of this ticket.\n\n\nIf you do open a ticket for that, I would be happy to review.\n\n> As an intermediate step, one could keep for now the inheritance from\n> `Ring`, and pass a `category=Rings()` argument to `Parent`.\n\n\nWell be better to get rid of `sage.structure.rings.Ring` in one step.",
    "created_at": "2016-08-31T14:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375274",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>
I am setting #20686 as a dependency since it is very likely to create merge failures.

Replying to [nthiery](#comment%3A7):
> Replying to [vdelecroix](#comment%3A6):
> > It does introduce complications: removing the inheritance from `Ring` causes error due to the absence of methods `is_integral_domain` and `is_field`. Some doctests are creating vector/matrices over the infinity ring.

> 
> Ah, shoot. That would be easy to fix by moving up those methods to
> `Rings`, which anyway we want to do at some point. But then that's
> starting to shift beyond the scope of this ticket.


If you do open a ticket for that, I would be happy to review.

> As an intermediate step, one could keep for now the inheritance from
> `Ring`, and pass a `category=Rings()` argument to `Parent`.


Well be better to get rid of `sage.structure.rings.Ring` in one step.



---

archive/issue_comments_375275.json:
```json
{
    "body": "**Dependencies:** #20686",
    "created_at": "2016-08-31T14:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375275",
    "user": "https://github.com/videlec"
}
```

**Dependencies:** #20686



---

archive/issue_comments_375276.json:
```json
{
    "body": "**Changing commit** from \"[aba5b7402c2f881f19e52c78cffb05974d33a2fe](https://github.com/sagemath/sagetrac-mirror/commit/aba5b7402c2f881f19e52c78cffb05974d33a2fe)\" to \"[81506ffa3ebc3362b9b8035c50b5fbc5ff7f7e3e](https://github.com/sagemath/sagetrac-mirror/commit/81506ffa3ebc3362b9b8035c50b5fbc5ff7f7e3e)\".",
    "created_at": "2016-09-19T05:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375276",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[aba5b7402c2f881f19e52c78cffb05974d33a2fe](https://github.com/sagemath/sagetrac-mirror/commit/aba5b7402c2f881f19e52c78cffb05974d33a2fe)" to "[81506ffa3ebc3362b9b8035c50b5fbc5ff7f7e3e](https://github.com/sagemath/sagetrac-mirror/commit/81506ffa3ebc3362b9b8035c50b5fbc5ff7f7e3e)".



---

archive/issue_comments_375277.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81506ffa3ebc3362b9b8035c50b5fbc5ff7f7e3e\">81506ff</a></td><td><code>21353: remove guess_category</code></td></tr></table>\n",
    "created_at": "2016-09-19T05:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375277",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81506ffa3ebc3362b9b8035c50b5fbc5ff7f7e3e">81506ff</a></td><td><code>21353: remove guess_category</code></td></tr></table>




---

archive/issue_comments_375278.json:
```json
{
    "body": "<a id='comment:10'></a>\nrebased",
    "created_at": "2016-09-19T06:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375278",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>
rebased



---

archive/issue_comments_375279.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2016-09-19T16:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375279",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_375280.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [vdelecroix](#comment%3A10):\n> rebased\n\n...on an old version of Sage.\n\nStill needs rebase.",
    "created_at": "2016-09-19T16:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375280",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Replying to [vdelecroix](#comment%3A10):
> rebased

...on an old version of Sage.

Still needs rebase.



---

archive/issue_comments_375281.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n We remove the quite fragile `guess_category` from `sage.structure.category_object`.\n+\n+See also the task ticket: #21380\n``````\n",
    "created_at": "2016-09-19T16:45:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375281",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 We remove the quite fragile `guess_category` from `sage.structure.category_object`.
+
+See also the task ticket: #21380
``````




---

archive/issue_comments_375282.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e095c5a9923709bcd084a97ac6d0164080edd46\">0e095c5</a></td><td><code>21353: remove guess_category</code></td></tr></table>\n",
    "created_at": "2016-10-13T13:14:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e095c5a9923709bcd084a97ac6d0164080edd46">0e095c5</a></td><td><code>21353: remove guess_category</code></td></tr></table>




---

archive/issue_comments_375283.json:
```json
{
    "body": "**Changing commit** from \"[81506ffa3ebc3362b9b8035c50b5fbc5ff7f7e3e](https://github.com/sagemath/sagetrac-mirror/commit/81506ffa3ebc3362b9b8035c50b5fbc5ff7f7e3e)\" to \"[0e095c5a9923709bcd084a97ac6d0164080edd46](https://github.com/sagemath/sagetrac-mirror/commit/0e095c5a9923709bcd084a97ac6d0164080edd46)\".",
    "created_at": "2016-10-13T13:14:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375283",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[81506ffa3ebc3362b9b8035c50b5fbc5ff7f7e3e](https://github.com/sagemath/sagetrac-mirror/commit/81506ffa3ebc3362b9b8035c50b5fbc5ff7f7e3e)" to "[0e095c5a9923709bcd084a97ac6d0164080edd46](https://github.com/sagemath/sagetrac-mirror/commit/0e095c5a9923709bcd084a97ac6d0164080edd46)".



---

archive/issue_comments_375284.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2016-10-13T13:15:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375284",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_375285.json:
```json
{
    "body": "<a id='comment:14'></a>\nrebased on rc1",
    "created_at": "2016-10-13T13:15:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375285",
    "user": "https://github.com/videlec"
}
```

<a id='comment:14'></a>
rebased on rc1



---

archive/issue_comments_375286.json:
```json
{
    "body": "**Changing dependencies** from \"#20686\" to \"\".",
    "created_at": "2016-10-13T13:19:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375286",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#20686" to "".



---

archive/issue_comments_375287.json:
```json
{
    "body": "<a id='comment:16'></a>\nIf this passes doctests, I have no objections. Nicolas?",
    "created_at": "2016-10-13T13:21:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375287",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
If this passes doctests, I have no objections. Nicolas?



---

archive/issue_comments_375288.json:
```json
{
    "body": "<a id='comment:17'></a>\nMaybe two details: we should add a check like\n\n```\nif not isinstance(category, Category)\n    raise TypeError(f\"invalid category {category} for {self}\")\n```\n(or at least check that `category is not None`)\n\nAnd remove the \"or None\" from the documentation line\n\n```\n- ``category`` -- a category, or list or tuple thereof, or ``None``\n```",
    "created_at": "2016-10-13T13:26:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375288",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
Maybe two details: we should add a check like

```
if not isinstance(category, Category)
    raise TypeError(f"invalid category {category} for {self}")
```
(or at least check that `category is not None`)

And remove the "or None" from the documentation line

```
- ``category`` -- a category, or list or tuple thereof, or ``None``
```



---

archive/issue_comments_375289.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2016-10-13T13:26:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375289",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_375290.json:
```json
{
    "body": "<a id='comment:18'></a>\nThis modification makes Sage crash on startup...\n\n```\nTypeError: invalid category None for Parent of MIPVariables\n```",
    "created_at": "2016-10-13T13:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375290",
    "user": "https://github.com/videlec"
}
```

<a id='comment:18'></a>
This modification makes Sage crash on startup...

```
TypeError: invalid category None for Parent of MIPVariables
```



---

archive/issue_comments_375291.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2016-10-13T13:35:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375291",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_375292.json:
```json
{
    "body": "<a id='comment:20'></a>\nPerhaps we should raise a warning? Also, I agree that we should remove `None` from the doc because we should not initialize parents without categories, or have the default be `Sets()`.",
    "created_at": "2016-10-13T13:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375292",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>
Perhaps we should raise a warning? Also, I agree that we should remove `None` from the doc because we should not initialize parents without categories, or have the default be `Sets()`.



---

archive/issue_comments_375293.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [vdelecroix](#comment%3A18):\n> This modification makes Sage crash on startup...\n> \n> ```\n> TypeError: invalid category None for Parent of MIPVariables\n> ```\n\n\nThat shows to me that this ticket isn't ready. I think we should only remove `guess_category` when everything is actually initialized with a category.",
    "created_at": "2016-10-17T07:47:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375293",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>
Replying to [vdelecroix](#comment%3A18):
> This modification makes Sage crash on startup...
> 
> ```
> TypeError: invalid category None for Parent of MIPVariables
> ```


That shows to me that this ticket isn't ready. I think we should only remove `guess_category` when everything is actually initialized with a category.



---

archive/issue_comments_375294.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2016-10-17T07:47:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375294",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_375295.json:
```json
{
    "body": "<a id='comment:22'></a>\nMatthias, do you know if `MIPVariables` needs to be a parent, and if so, could the category for that parent be simply changed to `Sets`?",
    "created_at": "2016-10-17T14:34:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375295",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>
Matthias, do you know if `MIPVariables` needs to be a parent, and if so, could the category for that parent be simply changed to `Sets`?



---

archive/issue_comments_375296.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [tscrim](#comment%3A22):\n> Matthias, do you know if `MIPVariables` needs to be a parent\n\n\nA Sage `Element` class requires a `Parent` class so I guess the answer is \"yes\" here.\n\n> could the category for that parent be simply changed to `Sets`?\n\n\nProbably also \"yes\".",
    "created_at": "2016-10-17T15:28:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375296",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>
Replying to [tscrim](#comment%3A22):
> Matthias, do you know if `MIPVariables` needs to be a parent


A Sage `Element` class requires a `Parent` class so I guess the answer is "yes" here.

> could the category for that parent be simply changed to `Sets`?


Probably also "yes".



---

archive/issue_comments_375297.json:
```json
{
    "body": "<a id='comment:24'></a>\nSo, if I explicit pass `Sets` as the category for that, make `set_generic` have a default category of `Sets`, I still have a can of worms between changing the doctests (trivial) to the more non-trivial parent of interfaces, e.g., I get:\n\n```\nTypeError: invalid category None for C library interface to GAP\n```\n\nWhat are people's thoughts on making the default category for `Parent` be `Sets`. At least this seemed to generate less individual issues...",
    "created_at": "2016-10-17T18:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375297",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'></a>
So, if I explicit pass `Sets` as the category for that, make `set_generic` have a default category of `Sets`, I still have a can of worms between changing the doctests (trivial) to the more non-trivial parent of interfaces, e.g., I get:

```
TypeError: invalid category None for C library interface to GAP
```

What are people's thoughts on making the default category for `Parent` be `Sets`. At least this seemed to generate less individual issues...



---

archive/issue_comments_375298.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [tscrim](#comment%3A22):\n> Matthias, do you know if `MIPVariables` needs to be a parent, and if so, could the category for that parent be simply changed to `Sets`?\n\nA `MIPVariable` is a strange thing at the moment. In particular it is mutable. Currently there is a parent class called `MIPVariableParent`. Not sure where it fits with regards to categories.",
    "created_at": "2016-10-17T20:31:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375298",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Replying to [tscrim](#comment%3A22):
> Matthias, do you know if `MIPVariables` needs to be a parent, and if so, could the category for that parent be simply changed to `Sets`?

A `MIPVariable` is a strange thing at the moment. In particular it is mutable. Currently there is a parent class called `MIPVariableParent`. Not sure where it fits with regards to categories.



---

archive/issue_comments_375299.json:
```json
{
    "body": "<a id='comment:26'></a>\nAs far as I understand, the only reason why `MIPVariables` is a parent is because it benefits from coercion (like scalar multiplication). And as far as I know, the only way to use coercion is to use the `Category`/`Parent`/`Element` framework.",
    "created_at": "2016-10-17T21:09:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375299",
    "user": "https://github.com/videlec"
}
```

<a id='comment:26'></a>
As far as I understand, the only reason why `MIPVariables` is a parent is because it benefits from coercion (like scalar multiplication). And as far as I know, the only way to use coercion is to use the `Category`/`Parent`/`Element` framework.



---

archive/issue_comments_375300.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [vdelecroix](#comment%3A26):\n> As far as I understand, the only reason why `MIPVariables` is a parent is because it benefits from coercion (like scalar multiplication). And as far as I know, the only way to use coercion is to use the `Category`/`Parent`/`Element` framework.\n\n\nI think we could just lift the necessary parts directly into `MIPVariables` as it is an action, and IIRC, the coercion framework has some support for things that are not parents (e.g., python `int`). That would make a good follow-up ticket.",
    "created_at": "2016-10-17T21:32:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375300",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'></a>
Replying to [vdelecroix](#comment%3A26):
> As far as I understand, the only reason why `MIPVariables` is a parent is because it benefits from coercion (like scalar multiplication). And as far as I know, the only way to use coercion is to use the `Category`/`Parent`/`Element` framework.


I think we could just lift the necessary parts directly into `MIPVariables` as it is an action, and IIRC, the coercion framework has some support for things that are not parents (e.g., python `int`). That would make a good follow-up ticket.



---

archive/issue_comments_375301.json:
```json
{
    "body": "<a id='comment:28'></a>\nI have no idea why, but it seems that the problems on this ticket no longer occur. I am deprecating `guess_category` on #24109, so this ticket can be closed as duplicate.",
    "created_at": "2017-10-26T11:50:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375301",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
I have no idea why, but it seems that the problems on this ticket no longer occur. I am deprecating `guess_category` on #24109, so this ticket can be closed as duplicate.



---

archive/issue_comments_375302.json:
```json
{
    "body": "**Dependencies:** #24109",
    "created_at": "2017-10-26T12:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375302",
    "user": "https://github.com/jdemeyer"
}
```

**Dependencies:** #24109



---

archive/issue_comments_375303.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [jdemeyer](#comment%3A28):\n> so this ticket can be closed as duplicate.\n\n\n...unless you want to keep some of the other changes that you did on this ticket.",
    "created_at": "2017-10-26T12:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375303",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:29'></a>
Replying to [jdemeyer](#comment%3A28):
> so this ticket can be closed as duplicate.


...unless you want to keep some of the other changes that you did on this ticket.



---

archive/issue_comments_375304.json:
```json
{
    "body": "<a id='comment:30'></a>\nThe only current changes I'd really want to keep are in `rings/infinity.py` so infinity rings properly declare their categories.\n\nAlso, from looking at the code for `MIPVariables`, the parent probably should be removed and instead `MIPVariable` just implemented as `__mul__` and `__rmul__` as a subclass of `SageObject`.\n\nWant me to do both of those things here on this ticket and make this independent of #24109?",
    "created_at": "2017-10-27T04:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375304",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'></a>
The only current changes I'd really want to keep are in `rings/infinity.py` so infinity rings properly declare their categories.

Also, from looking at the code for `MIPVariables`, the parent probably should be removed and instead `MIPVariable` just implemented as `__mul__` and `__rmul__` as a subclass of `SageObject`.

Want me to do both of those things here on this ticket and make this independent of #24109?



---

archive/issue_comments_375305.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [tscrim](#comment%3A30):\n> Want me to do both of those things here on this ticket and make this independent of #24109?\n\n\nI don't know who you are asking...\n\nI would say: feel free to do that or to close this ticket.",
    "created_at": "2017-10-27T10:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375305",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'></a>
Replying to [tscrim](#comment%3A30):
> Want me to do both of those things here on this ticket and make this independent of #24109?


I don't know who you are asking...

I would say: feel free to do that or to close this ticket.



---

archive/issue_comments_375306.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [jdemeyer](#comment%3A31):\n> Replying to [tscrim](#comment%3A30):\n> > Want me to do both of those things here on this ticket and make this independent of #24109?\n\n> \n> I don't know who you are asking...\n\n\nMore to you since you did #24109.\n\n> I would say: feel free to do that or to close this ticket.\n\n\nI will go ahead and do that tomorrow (I am now on Australia time) at some point.",
    "created_at": "2017-10-27T13:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375306",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:32'></a>
Replying to [jdemeyer](#comment%3A31):
> Replying to [tscrim](#comment%3A30):
> > Want me to do both of those things here on this ticket and make this independent of #24109?

> 
> I don't know who you are asking...


More to you since you did #24109.

> I would say: feel free to do that or to close this ticket.


I will go ahead and do that tomorrow (I am now on Australia time) at some point.



---

archive/issue_comments_375307.json:
```json
{
    "body": "**Changing commit** from \"[0e095c5a9923709bcd084a97ac6d0164080edd46](https://github.com/sagemath/sagetrac-mirror/commit/0e095c5a9923709bcd084a97ac6d0164080edd46)\" to \"[c87eaae21e436a6f21a2443937ad9d38aa2e6d7f](https://github.com/sagemath/sagetrac-mirror/commit/c87eaae21e436a6f21a2443937ad9d38aa2e6d7f)\".",
    "created_at": "2017-10-29T07:13:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375307",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[0e095c5a9923709bcd084a97ac6d0164080edd46](https://github.com/sagemath/sagetrac-mirror/commit/0e095c5a9923709bcd084a97ac6d0164080edd46)" to "[c87eaae21e436a6f21a2443937ad9d38aa2e6d7f](https://github.com/sagemath/sagetrac-mirror/commit/c87eaae21e436a6f21a2443937ad9d38aa2e6d7f)".



---

archive/issue_comments_375308.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2017-10-29T07:13:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375308",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_375309.json:
```json
{
    "body": "**Changing author** from \"Vincent Delecroix\" to \"Vincent Delecroix, Travis Scrimshaw\".",
    "created_at": "2017-10-29T07:13:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375309",
    "user": "https://github.com/tscrim"
}
```

**Changing author** from "Vincent Delecroix" to "Vincent Delecroix, Travis Scrimshaw".



---

archive/issue_events_064855.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-10-29T07:13:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21353#event-64855"
}
```



---

archive/issue_comments_375310.json:
```json
{
    "body": "<a id='comment:33'></a>\nNew branch that removes the parent for MIP variables and does the `Ring.__init__` for initializing the category of infinity rings.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cf11a9f61f1240c5e0747f0d47e71a1c967752b\">3cf11a9</a></td><td><code>Always enable bad_parent_warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c9dcd6f83e8044ffeae0ee6da164b01cffd34fc\">7c9dcd6</a></td><td><code>Made the infinity rings call Ring.__init__ to initialize the category.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c87eaae21e436a6f21a2443937ad9d38aa2e6d7f\">c87eaae</a></td><td><code>Removing useless parent/element framework for MIP variables.</code></td></tr></table>\n",
    "created_at": "2017-10-29T07:13:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375310",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:33'></a>
New branch that removes the parent for MIP variables and does the `Ring.__init__` for initializing the category of infinity rings.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cf11a9f61f1240c5e0747f0d47e71a1c967752b">3cf11a9</a></td><td><code>Always enable bad_parent_warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c9dcd6f83e8044ffeae0ee6da164b01cffd34fc">7c9dcd6</a></td><td><code>Made the infinity rings call Ring.__init__ to initialize the category.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c87eaae21e436a6f21a2443937ad9d38aa2e6d7f">c87eaae</a></td><td><code>Removing useless parent/element framework for MIP variables.</code></td></tr></table>




---

archive/issue_comments_375311.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/21353](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/21353)\" to \"[public/categoires/some_cleanup-21353](https://github.com/sagemath/sagetrac-mirror/tree/public/categoires/some_cleanup-21353)\".",
    "created_at": "2017-10-29T07:13:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375311",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/vdelecroix/21353](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/21353)" to "[public/categoires/some_cleanup-21353](https://github.com/sagemath/sagetrac-mirror/tree/public/categoires/some_cleanup-21353)".



---

archive/issue_comments_375312.json:
```json
{
    "body": "<a id='comment:34'></a>\n`return NotImplemented` instead of `raise TypeError`. Also I would avoid the name `self` in arithmetic slot functions: use `left` and `right` instead of `self` and `m`.",
    "created_at": "2017-10-29T07:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375312",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'></a>
`return NotImplemented` instead of `raise TypeError`. Also I would avoid the name `self` in arithmetic slot functions: use `left` and `right` instead of `self` and `m`.



---

archive/issue_comments_375313.json:
```json
{
    "body": "**Changing commit** from \"[c87eaae21e436a6f21a2443937ad9d38aa2e6d7f](https://github.com/sagemath/sagetrac-mirror/commit/c87eaae21e436a6f21a2443937ad9d38aa2e6d7f)\" to \"[403ba9ed800d0af80d0d871ab4ef556cfe5484db](https://github.com/sagemath/sagetrac-mirror/commit/403ba9ed800d0af80d0d871ab4ef556cfe5484db)\".",
    "created_at": "2017-10-29T08:30:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c87eaae21e436a6f21a2443937ad9d38aa2e6d7f](https://github.com/sagemath/sagetrac-mirror/commit/c87eaae21e436a6f21a2443937ad9d38aa2e6d7f)" to "[403ba9ed800d0af80d0d871ab4ef556cfe5484db](https://github.com/sagemath/sagetrac-mirror/commit/403ba9ed800d0af80d0d871ab4ef556cfe5484db)".



---

archive/issue_comments_375314.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/403ba9ed800d0af80d0d871ab4ef556cfe5484db\">403ba9e</a></td><td><code>Return NotImplemented and use arg names left/right.</code></td></tr></table>\n",
    "created_at": "2017-10-29T08:30:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375314",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/403ba9ed800d0af80d0d871ab4ef556cfe5484db">403ba9e</a></td><td><code>Return NotImplemented and use arg names left/right.</code></td></tr></table>




---

archive/issue_comments_375315.json:
```json
{
    "body": "<a id='comment:36'></a>\nBoth good points. Changed.",
    "created_at": "2017-10-29T08:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375315",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:36'></a>
Both good points. Changed.



---

archive/issue_comments_375316.json:
```json
{
    "body": "<a id='comment:37'></a>\nDon't use `from sage.matrix.matrix import is_Matrix`. Import it from `sage.structure.element` instead. See #24096",
    "created_at": "2017-10-30T15:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375316",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:37'></a>
Don't use `from sage.matrix.matrix import is_Matrix`. Import it from `sage.structure.element` instead. See #24096



---

archive/issue_comments_375317.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2017-10-30T16:07:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375317",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_375318.json:
```json
{
    "body": "<a id='comment:39'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d59a704ec51c972dcaf3f4adc72396e6e5f1857\">8d59a70</a></td><td><code>Deprecate sage.matrix.matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1fc3650ab4a5935dde9bff373ffe61d49caba44\">f1fc365</a></td><td><code>Rebase over #24096.</code></td></tr></table>\n",
    "created_at": "2017-10-30T22:21:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375318",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d59a704ec51c972dcaf3f4adc72396e6e5f1857">8d59a70</a></td><td><code>Deprecate sage.matrix.matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1fc3650ab4a5935dde9bff373ffe61d49caba44">f1fc365</a></td><td><code>Rebase over #24096.</code></td></tr></table>




---

archive/issue_comments_375319.json:
```json
{
    "body": "**Changing commit** from \"[403ba9ed800d0af80d0d871ab4ef556cfe5484db](https://github.com/sagemath/sagetrac-mirror/commit/403ba9ed800d0af80d0d871ab4ef556cfe5484db)\" to \"[f1fc3650ab4a5935dde9bff373ffe61d49caba44](https://github.com/sagemath/sagetrac-mirror/commit/f1fc3650ab4a5935dde9bff373ffe61d49caba44)\".",
    "created_at": "2017-10-30T22:21:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[403ba9ed800d0af80d0d871ab4ef556cfe5484db](https://github.com/sagemath/sagetrac-mirror/commit/403ba9ed800d0af80d0d871ab4ef556cfe5484db)" to "[f1fc3650ab4a5935dde9bff373ffe61d49caba44](https://github.com/sagemath/sagetrac-mirror/commit/f1fc3650ab4a5935dde9bff373ffe61d49caba44)".



---

archive/issue_comments_375320.json:
```json
{
    "body": "<a id='comment:40'></a>\nRight...somehow I should put 2 and 2 together and get 4, Sage tells me that is true. :P",
    "created_at": "2017-10-30T22:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375320",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:40'></a>
Right...somehow I should put 2 and 2 together and get 4, Sage tells me that is true. :P



---

archive/issue_comments_375321.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2017-10-30T22:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375321",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_375322.json:
```json
{
    "body": "**Changing dependencies** from \"#24109\" to \"#24109 #24096\".",
    "created_at": "2017-10-30T22:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375322",
    "user": "https://github.com/tscrim"
}
```

**Changing dependencies** from "#24109" to "#24109 #24096".



---

archive/issue_comments_375323.json:
```json
{
    "body": "<a id='comment:41'></a>\nI didn't say that this has to depend on #24096. I only asked to write it in such a way that it doesn't conflict with #24096.",
    "created_at": "2017-10-31T08:10:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375323",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:41'></a>
I didn't say that this has to depend on #24096. I only asked to write it in such a way that it doesn't conflict with #24096.



---

archive/issue_comments_375324.json:
```json
{
    "body": "<a id='comment:42'></a>\nI didn't see how that was possible because this moves two calls to `is_Matrix` and their imports (even if it was not consolidated into 1 top-level import). Really #24096 is positively reviewed, so it's not a big deal.",
    "created_at": "2017-10-31T08:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375324",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:42'></a>
I didn't see how that was possible because this moves two calls to `is_Matrix` and their imports (even if it was not consolidated into 1 top-level import). Really #24096 is positively reviewed, so it's not a big deal.



---

archive/issue_comments_375325.json:
```json
{
    "body": "<a id='comment:43'></a>\nReplying to [tscrim](#comment%3A42):\n> I didn't see how that was possible because this moves two calls to `is_Matrix` and their imports\n\n\nOK, I thought that you only *added* imports in this patch, but you did indeed *move* an import.",
    "created_at": "2017-10-31T08:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375325",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:43'></a>
Replying to [tscrim](#comment%3A42):
> I didn't see how that was possible because this moves two calls to `is_Matrix` and their imports


OK, I thought that you only *added* imports in this patch, but you did indeed *move* an import.



---

archive/issue_comments_375326.json:
```json
{
    "body": "**Changing dependencies** from \"#24109 #24096\" to \"#24096\".",
    "created_at": "2017-11-28T13:38:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375326",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#24109 #24096" to "#24096".



---

archive/issue_comments_375327.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2017-11-28T13:38:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375327",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_375328.json:
```json
{
    "body": "<a id='comment:44'></a>\nMerge conflict. Note that you may want to wait until the next beta when #24096 is merged.",
    "created_at": "2017-11-28T13:38:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375328",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:44'></a>
Merge conflict. Note that you may want to wait until the next beta when #24096 is merged.



---

archive/issue_events_064856.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "rename": {
        "from": "get rid of guess_category",
        "to": "Various fixes in category initialization"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21353#event-64856"
}
```



---

archive/issue_comments_375329.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n-We remove the quite fragile `guess_category` from `sage.structure.category_object`.\n-\n See also the task ticket: #21380\n``````\n",
    "created_at": "2017-11-29T15:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375329",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1 @@
-We remove the quite fragile `guess_category` from `sage.structure.category_object`.
-
 See also the task ticket: #21380
``````




---

archive/issue_comments_375330.json:
```json
{
    "body": "**Changing commit** from \"[f1fc3650ab4a5935dde9bff373ffe61d49caba44](https://github.com/sagemath/sagetrac-mirror/commit/f1fc3650ab4a5935dde9bff373ffe61d49caba44)\" to \"[5897f6da7233574728df6a9501a241ca59e28d35](https://github.com/sagemath/sagetrac-mirror/commit/5897f6da7233574728df6a9501a241ca59e28d35)\".",
    "created_at": "2017-12-30T02:38:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375330",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f1fc3650ab4a5935dde9bff373ffe61d49caba44](https://github.com/sagemath/sagetrac-mirror/commit/f1fc3650ab4a5935dde9bff373ffe61d49caba44)" to "[5897f6da7233574728df6a9501a241ca59e28d35](https://github.com/sagemath/sagetrac-mirror/commit/5897f6da7233574728df6a9501a241ca59e28d35)".



---

archive/issue_comments_375331.json:
```json
{
    "body": "<a id='comment:46'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5897f6da7233574728df6a9501a241ca59e28d35\">5897f6d</a></td><td><code>Merge branch 'public/categoires/some_cleanup-21353' of git://trac.sagemath.org/sage into public/categoires/some_cleanup-21353</code></td></tr></table>\n",
    "created_at": "2017-12-30T02:38:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375331",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:46'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5897f6da7233574728df6a9501a241ca59e28d35">5897f6d</a></td><td><code>Merge branch 'public/categoires/some_cleanup-21353' of git://trac.sagemath.org/sage into public/categoires/some_cleanup-21353</code></td></tr></table>




---

archive/issue_comments_375332.json:
```json
{
    "body": "<a id='comment:47'></a>\nRebased",
    "created_at": "2017-12-30T02:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375332",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:47'></a>
Rebased



---

archive/issue_events_064857.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-12-30T02:38:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21353#event-64857"
}
```



---

archive/issue_events_064858.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-12-30T02:38:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21353#event-64858"
}
```



---

archive/issue_comments_375333.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2017-12-30T02:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375333",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_375334.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+Let `MIPVariable` not inherit from `Element` but `SageObject`. The only reason it used to be this way is to be able to multiply variables with scalars that can be dealt with in other ways. The previous inheritance scheme used the old parent framework that we try to get rid of.\n+\n See also the task ticket: #21380\n``````\n",
    "created_at": "2017-12-30T09:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375334",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+Let `MIPVariable` not inherit from `Element` but `SageObject`. The only reason it used to be this way is to be able to multiply variables with scalars that can be dealt with in other ways. The previous inheritance scheme used the old parent framework that we try to get rid of.
+
 See also the task ticket: #21380
``````




---

archive/issue_events_064859.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "rename": {
        "from": "Various fixes in category initialization",
        "to": "fix `MIPVariable` inheritance"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21353#event-64859"
}
```



---

archive/issue_comments_375335.json:
```json
{
    "body": "**Changing commit** from \"[5897f6da7233574728df6a9501a241ca59e28d35](https://github.com/sagemath/sagetrac-mirror/commit/5897f6da7233574728df6a9501a241ca59e28d35)\" to \"[76c7fab2af36b139552bb2e92f0f710d8d608a26](https://github.com/sagemath/sagetrac-mirror/commit/76c7fab2af36b139552bb2e92f0f710d8d608a26)\".",
    "created_at": "2017-12-30T10:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375335",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5897f6da7233574728df6a9501a241ca59e28d35](https://github.com/sagemath/sagetrac-mirror/commit/5897f6da7233574728df6a9501a241ca59e28d35)" to "[76c7fab2af36b139552bb2e92f0f710d8d608a26](https://github.com/sagemath/sagetrac-mirror/commit/76c7fab2af36b139552bb2e92f0f710d8d608a26)".



---

archive/issue_comments_375336.json:
```json
{
    "body": "<a id='comment:50'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76c7fab2af36b139552bb2e92f0f710d8d608a26\">76c7fab</a></td><td><code>21353: extra doctest</code></td></tr></table>\n",
    "created_at": "2017-12-30T10:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375336",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76c7fab2af36b139552bb2e92f0f710d8d608a26">76c7fab</a></td><td><code>21353: extra doctest</code></td></tr></table>




---

archive/issue_comments_375337.json:
```json
{
    "body": "**Reviewer:** Vincent Delecroix",
    "created_at": "2017-12-30T10:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375337",
    "user": "https://github.com/videlec"
}
```

**Reviewer:** Vincent Delecroix



---

archive/issue_comments_375338.json:
```json
{
    "body": "<a id='comment:51'></a>\nAdded an extra doctest for checking about the base ring being taken into account.\n\nI am happy with the current version.",
    "created_at": "2017-12-30T10:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375338",
    "user": "https://github.com/videlec"
}
```

<a id='comment:51'></a>
Added an extra doctest for checking about the base ring being taken into account.

I am happy with the current version.



---

archive/issue_comments_375339.json:
```json
{
    "body": "<a id='comment:52'></a>\nLGTM, thanks.",
    "created_at": "2017-12-30T21:18:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375339",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:52'></a>
LGTM, thanks.



---

archive/issue_comments_375340.json:
```json
{
    "body": "**Changing reviewer** from \"Vincent Delecroix\" to \"Vincent Delecroix, Travis Scrimshaw\".",
    "created_at": "2017-12-30T21:18:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375340",
    "user": "https://github.com/tscrim"
}
```

**Changing reviewer** from "Vincent Delecroix" to "Vincent Delecroix, Travis Scrimshaw".



---

archive/issue_comments_375341.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-12-30T21:18:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375341",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_064860.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-01-01T14:20:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21353#event-64860"
}
```



---

archive/issue_comments_375342.json:
```json
{
    "body": "**Changing branch** from \"[public/categoires/some_cleanup-21353](https://github.com/sagemath/sagetrac-mirror/tree/public/categoires/some_cleanup-21353)\" to \"[76c7fab2af36b139552bb2e92f0f710d8d608a26](https://github.com/sagemath/sagetrac-mirror/commit/76c7fab2af36b139552bb2e92f0f710d8d608a26)\".",
    "created_at": "2018-01-01T14:20:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21353",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21353#issuecomment-375342",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/categoires/some_cleanup-21353](https://github.com/sagemath/sagetrac-mirror/tree/public/categoires/some_cleanup-21353)" to "[76c7fab2af36b139552bb2e92f0f710d8d608a26](https://github.com/sagemath/sagetrac-mirror/commit/76c7fab2af36b139552bb2e92f0f710d8d608a26)".
