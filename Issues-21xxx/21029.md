# Issue 21029: cat: .../local/bin/sage-banner: No such file or directory

archive/issues_020792.json:
```json
{
    "assignees": [],
    "body": "Sage 7.3.beta8 is giving me a lot of errors of the form\n\n```\n[atlas-3.10.2.p2] cat: /usr/local/src/sage-config/local/bin/sage-banner: No such file or directory\n```\n\nThe reason is that the file `local/bin/sage-banner` is installed at some point but it is always read by `sage-env`.\n\nCC:  @embray @fchapoton\n\nBranch/Commit: **[`4b869fb`](https://github.com/sagemath/sagetrac-mirror/commit/4b869fbbd008b408a232c651eaa8bf0e955e626d)**\n\nReviewer: **Erik Bray**\n\nAuthor: **Erik Bray, Jeroen Demeyer**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21029_\n\n",
    "closed_at": "2016-08-13T22:50:42Z",
    "created_at": "2016-07-15T09:43:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "cat: .../local/bin/sage-banner: No such file or directory",
    "type": "issue",
    "updated_at": "2016-08-13T22:50:42Z",
    "url": "https://github.com/sagemath/sage/issues/21029",
    "user": "https://github.com/jdemeyer"
}
```
Sage 7.3.beta8 is giving me a lot of errors of the form

```
[atlas-3.10.2.p2] cat: /usr/local/src/sage-config/local/bin/sage-banner: No such file or directory
```

The reason is that the file `local/bin/sage-banner` is installed at some point but it is always read by `sage-env`.

CC:  @embray @fchapoton

Branch/Commit: **[`4b869fb`](https://github.com/sagemath/sagetrac-mirror/commit/4b869fbbd008b408a232c651eaa8bf0e955e626d)**

Reviewer: **Erik Bray**

Author: **Erik Bray, Jeroen Demeyer**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/21029_





---

archive/issue_events_295833.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-15T09:43:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295833"
}
```



---

archive/issue_events_295834.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-15T09:43:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295834"
}
```



---

archive/issue_events_295835.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-15T09:43:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295835"
}
```



---

archive/issue_events_295836.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-15T09:43:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295836"
}
```



---

archive/issue_comments_305812.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nRight...see #20897.  I guess that should check if the file exists first before setting that environment variable.  It looks like that could happen from a fresh build.\n\n(Do the patch bots really not test fresh builds from scratch?)",
    "created_at": "2016-07-15T09:55:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305812",
    "user": "https://github.com/embray"
}
```

<div id="comment:1" align="right">comment:1</div>

Right...see #20897.  I guess that should check if the file exists first before setting that environment variable.  It looks like that could happen from a fresh build.

(Do the patch bots really not test fresh builds from scratch?)



---

archive/issue_comments_305813.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nFor the record, this does not cause the build to fail, just the error message gets printed.",
    "created_at": "2016-07-15T09:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305813",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

For the record, this does not cause the build to fail, just the error message gets printed.



---

archive/issue_comments_305814.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nDo we really need `SAGE_BANNER_TEXT` as variable? I suggest to use a shell function instead, such that the banner text gets computed only when needed, not every time that `sage-env` is sourced.",
    "created_at": "2016-07-15T10:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305814",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

Do we really need `SAGE_BANNER_TEXT` as variable? I suggest to use a shell function instead, such that the banner text gets computed only when needed, not every time that `sage-env` is sourced.



---

archive/issue_comments_305815.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nA shell function would be fine.  Thanks for the suggestion.",
    "created_at": "2016-07-15T10:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305815",
    "user": "https://github.com/embray"
}
```

<div id="comment:4" align="right">comment:4</div>

A shell function would be fine.  Thanks for the suggestion.



---

archive/issue_comments_305816.json:
```json
{
    "body": "Author: **Erik Bray**",
    "created_at": "2016-07-15T10:17:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305816",
    "user": "https://github.com/embray"
}
```

Author: **Erik Bray**



---

archive/issue_comments_305817.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1aae17a7d99011aab96fd098146873578ded170e\">1aae17a</a></td><td><code>Do away with SAGE_BANNER_TEXT environment variable, replace with a shell function having the same purpose.</code></td></tr></table>\n",
    "created_at": "2016-07-15T10:17:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305817",
    "user": "https://github.com/embray"
}
```

<div id="comment:5"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1aae17a7d99011aab96fd098146873578ded170e">1aae17a</a></td><td><code>Do away with SAGE_BANNER_TEXT environment variable, replace with a shell function having the same purpose.</code></td></tr></table>




---

archive/issue_comments_305818.json:
```json
{
    "body": "Branch: **[u/embray/ticket-21029](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-21029)**",
    "created_at": "2016-07-15T10:17:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305818",
    "user": "https://github.com/embray"
}
```

Branch: **[u/embray/ticket-21029](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-21029)**



---

archive/issue_comments_305819.json:
```json
{
    "body": "Commit: **[`1aae17a`](https://github.com/sagemath/sagetrac-mirror/commit/1aae17a7d99011aab96fd098146873578ded170e)**",
    "created_at": "2016-07-15T10:17:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305819",
    "user": "https://github.com/embray"
}
```

Commit: **[`1aae17a`](https://github.com/sagemath/sagetrac-mirror/commit/1aae17a7d99011aab96fd098146873578ded170e)**



---

archive/issue_events_295837.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-15T10:17:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295837"
}
```



---

archive/issue_comments_305820.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI would replace\n\n```\n    if [ -n \"$banner_file\" -a -f \"$banner_file\" ]; then\n        cat \"$banner_file\"\n    fi\n```\nby\n\n```\n    cat \"$banner_file\"\n```\nsince we want to see an error message when we ask for the banner but it doesn't exist.",
    "created_at": "2016-07-15T11:42:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305820",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

I would replace

```
    if [ -n "$banner_file" -a -f "$banner_file" ]; then
        cat "$banner_file"
    fi
```
by

```
    cat "$banner_file"
```
since we want to see an error message when we ask for the banner but it doesn't exist.



---

archive/issue_events_295838.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-15T11:42:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295838"
}
```



---

archive/issue_events_295839.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-07-15T11:42:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295839"
}
```



---

archive/issue_comments_305821.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI'm not sure about that.  I think it's of such minor importance that it should just be silent in that case.  The banner files doesn't exist yet when someone first checks out the source, but if they run, for example, `./sage --help` (incorrectly, of course) they would get an error.  I think it's not worth the panic that any error inevitably causes.",
    "created_at": "2016-07-15T12:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305821",
    "user": "https://github.com/embray"
}
```

<div id="comment:8" align="right">comment:8</div>

I'm not sure about that.  I think it's of such minor importance that it should just be silent in that case.  The banner files doesn't exist yet when someone first checks out the source, but if they run, for example, `./sage --help` (incorrectly, of course) they would get an error.  I think it's not worth the panic that any error inevitably causes.



---

archive/issue_comments_305822.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@embray](#comment:8):\n> I think it's not worth the panic that any error inevitably causes.\n\nIn that case, just use `cat >&2 file` to silence error message because it's simpler.",
    "created_at": "2016-07-15T12:45:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305822",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@embray](#comment:8):
> I think it's not worth the panic that any error inevitably causes.

In that case, just use `cat >&2 file` to silence error message because it's simpler.



---

archive/issue_comments_305823.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI think this is fine as-is.  That looks like line noise to me even though I know what it means.",
    "created_at": "2016-07-15T13:50:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305823",
    "user": "https://github.com/embray"
}
```

<div id="comment:10" align="right">comment:10</div>

I think this is fine as-is.  That looks like line noise to me even though I know what it means.



---

archive/issue_events_295840.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-26T11:47:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295840"
}
```



---

archive/issue_events_295841.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-26T11:47:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295841"
}
```



---

archive/issue_comments_305824.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@embray](#comment:10):\n> I think this is fine as-is.  That looks like line noise to me even though I know what it means.\n\nI don't understand this comment. There are many instances of using `>&2` in Sage scripts; one might even say that it is approved (or at least standard) style for shell scripts in Sage. Why not listen to a conscientious reviewer and make the simple change he requests?",
    "created_at": "2016-07-26T15:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305824",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@embray](#comment:10):
> I think this is fine as-is.  That looks like line noise to me even though I know what it means.

I don't understand this comment. There are many instances of using `>&2` in Sage scripts; one might even say that it is approved (or at least standard) style for shell scripts in Sage. Why not listen to a conscientious reviewer and make the simple change he requests?



---

archive/issue_comments_305825.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nWhy call an executable just to throw its output away when you can be certain, using shell built-ins, that it's not going to work anyways?",
    "created_at": "2016-07-26T15:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305825",
    "user": "https://github.com/embray"
}
```

<div id="comment:13" align="right">comment:13</div>

Why call an executable just to throw its output away when you can be certain, using shell built-ins, that it's not going to work anyways?



---

archive/issue_comments_305826.json:
```json
{
    "body": "Changed commit from **[`1aae17a`](https://github.com/sagemath/sagetrac-mirror/commit/1aae17a7d99011aab96fd098146873578ded170e)** to **[`16ad005`](https://github.com/sagemath/sagetrac-mirror/commit/16ad005ed4e94984a26a10e6c65f55f023cd235e)**",
    "created_at": "2016-07-26T15:58:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305826",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1aae17a`](https://github.com/sagemath/sagetrac-mirror/commit/1aae17a7d99011aab96fd098146873578ded170e)** to **[`16ad005`](https://github.com/sagemath/sagetrac-mirror/commit/16ad005ed4e94984a26a10e6c65f55f023cd235e)**



---

archive/issue_comments_305827.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16ad005ed4e94984a26a10e6c65f55f023cd235e\">16ad005</a></td><td><code>Just use cat</code></td></tr></table>\n",
    "created_at": "2016-07-26T15:58:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305827",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16ad005ed4e94984a26a10e6c65f55f023cd235e">16ad005</a></td><td><code>Just use cat</code></td></tr></table>




---

archive/issue_comments_305828.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nLook, this is hardly the hill I want to die on :)",
    "created_at": "2016-07-26T15:58:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305828",
    "user": "https://github.com/embray"
}
```

<div id="comment:15" align="right">comment:15</div>

Look, this is hardly the hill I want to die on :)



---

archive/issue_comments_305829.json:
```json
{
    "body": "Changed commit from **[`16ad005`](https://github.com/sagemath/sagetrac-mirror/commit/16ad005ed4e94984a26a10e6c65f55f023cd235e)** to **[`e5ee236`](https://github.com/sagemath/sagetrac-mirror/commit/e5ee236cb8818cd3d80f64d38c07d6f83ce317fa)**",
    "created_at": "2016-07-26T16:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305829",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`16ad005`](https://github.com/sagemath/sagetrac-mirror/commit/16ad005ed4e94984a26a10e6c65f55f023cd235e)** to **[`e5ee236`](https://github.com/sagemath/sagetrac-mirror/commit/e5ee236cb8818cd3d80f64d38c07d6f83ce317fa)**



---

archive/issue_comments_305830.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5ee236cb8818cd3d80f64d38c07d6f83ce317fa\">e5ee236</a></td><td><code>Just use cat</code></td></tr></table>\n",
    "created_at": "2016-07-26T16:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305830",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5ee236cb8818cd3d80f64d38c07d6f83ce317fa">e5ee236</a></td><td><code>Just use cat</code></td></tr></table>




---

archive/issue_comments_305831.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-07-26T16:21:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305831",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_305832.json:
```json
{
    "body": "Changed commit from **[`e5ee236`](https://github.com/sagemath/sagetrac-mirror/commit/e5ee236cb8818cd3d80f64d38c07d6f83ce317fa)** to **[`1aae17a`](https://github.com/sagemath/sagetrac-mirror/commit/1aae17a7d99011aab96fd098146873578ded170e)**",
    "created_at": "2016-07-26T16:21:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305832",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e5ee236`](https://github.com/sagemath/sagetrac-mirror/commit/e5ee236cb8818cd3d80f64d38c07d6f83ce317fa)** to **[`1aae17a`](https://github.com/sagemath/sagetrac-mirror/commit/1aae17a7d99011aab96fd098146873578ded170e)**



---

archive/issue_comments_305833.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nActually, decided to undo that.  I don't know if it's just that I'm tired and keep making mistake or what but `cat` even with errors suppressed still outputs a pointless newline so that's undesirable.",
    "created_at": "2016-07-26T16:26:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305833",
    "user": "https://github.com/embray"
}
```

<div id="comment:18" align="right">comment:18</div>

Actually, decided to undo that.  I don't know if it's just that I'm tired and keep making mistake or what but `cat` even with errors suppressed still outputs a pointless newline so that's undesirable.



---

archive/issue_comments_305834.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI agree it's not all that important, but for me `2>/dev/null cat no_such_file` outputs nothing, not a newline. I see no reason at all why `cat` would randomly output newlines, so I guess you must have made a mistake somewhere.\n\nAnyway, leave the branch alone for now, I wanted to make some further simplifications anyway.",
    "created_at": "2016-07-27T09:03:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305834",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

I agree it's not all that important, but for me `2>/dev/null cat no_such_file` outputs nothing, not a newline. I see no reason at all why `cat` would randomly output newlines, so I guess you must have made a mistake somewhere.

Anyway, leave the branch alone for now, I wanted to make some further simplifications anyway.



---

archive/issue_comments_305835.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nNo, it doesn't output a newline.  I had a bit flipped incorrectly in my head somewhere.",
    "created_at": "2016-07-27T09:12:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305835",
    "user": "https://github.com/embray"
}
```

<div id="comment:20" align="right">comment:20</div>

No, it doesn't output a newline.  I had a bit flipped incorrectly in my head somewhere.



---

archive/issue_comments_305836.json:
```json
{
    "body": "Changed branch from **[u/embray/ticket-21029](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-21029)** to **[u/jdemeyer/ticket-21029](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket-21029)**",
    "created_at": "2016-07-27T10:25:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305836",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/embray/ticket-21029](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-21029)** to **[u/jdemeyer/ticket-21029](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket-21029)**



---

archive/issue_comments_305837.json:
```json
{
    "body": "Changed commit from **[`1aae17a`](https://github.com/sagemath/sagetrac-mirror/commit/1aae17a7d99011aab96fd098146873578ded170e)** to **[`0d06b17`](https://github.com/sagemath/sagetrac-mirror/commit/0d06b1767b15ad98ad4775f7bb08dc8cf96cd7a3)**",
    "created_at": "2016-07-27T10:26:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305837",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`1aae17a`](https://github.com/sagemath/sagetrac-mirror/commit/1aae17a7d99011aab96fd098146873578ded170e)** to **[`0d06b17`](https://github.com/sagemath/sagetrac-mirror/commit/0d06b1767b15ad98ad4775f7bb08dc8cf96cd7a3)**



---

archive/issue_comments_305838.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nIf you agree, you can set this to positive_review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d06b1767b15ad98ad4775f7bb08dc8cf96cd7a3\">0d06b17</a></td><td><code>Simplify printing of banner</code></td></tr></table>\n",
    "created_at": "2016-07-27T10:26:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305838",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

If you agree, you can set this to positive_review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d06b1767b15ad98ad4775f7bb08dc8cf96cd7a3">0d06b17</a></td><td><code>Simplify printing of banner</code></td></tr></table>




---

archive/issue_comments_305839.json:
```json
{
    "body": "Changed author from **Erik Bray** to **Erik Bray, Jeroen Demeyer**",
    "created_at": "2016-07-27T10:26:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305839",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Erik Bray** to **Erik Bray, Jeroen Demeyer**



---

archive/issue_comments_305840.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n> +        cat \"$SAGE_ROOT/VERSION.txt\"\n\nCorrect me if I'm wrong, but I think it's possible for `$SAGE_ROOT/VERSION.txt` to be missing if building for the first time as well.  That's why it was done the way I had it.",
    "created_at": "2016-07-27T10:59:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305840",
    "user": "https://github.com/embray"
}
```

<div id="comment:23" align="right">comment:23</div>

> +        cat "$SAGE_ROOT/VERSION.txt"

Correct me if I'm wrong, but I think it's possible for `$SAGE_ROOT/VERSION.txt` to be missing if building for the first time as well.  That's why it was done the way I had it.



---

archive/issue_comments_305841.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n`$SAGE_ROOT/VERSION.txt` is tracked by `git`, so it should always be present.",
    "created_at": "2016-07-27T12:28:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305841",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

`$SAGE_ROOT/VERSION.txt` is tracked by `git`, so it should always be present.



---

archive/issue_comments_305842.json:
```json
{
    "body": "Reviewer: **Erik Bray**",
    "created_at": "2016-07-28T08:36:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305842",
    "user": "https://github.com/embray"
}
```

Reviewer: **Erik Bray**



---

archive/issue_events_295842.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-28T08:36:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295842"
}
```



---

archive/issue_events_295843.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-07-28T08:36:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295843"
}
```



---

archive/issue_comments_305843.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nVarious failures of the form\n\n```\nsage -t --long src/sage/doctest/test.py\n**********************************************************************\nFile \"src/sage/doctest/test.py\", line 26, in sage.doctest.test\nFailed example:\n    subprocess.call([\"sage\", \"-t\", \"--warn-long\", \"0\", \"longtime.rst\"], **kwds)  # long time\nExpected:\n    Running doctests...\n    Doctesting 1 file.\n    sage -t --warn-long 0.0 longtime.rst\n    [0 tests, ...s]\n    ----------------------------------------------------------------------\n    All tests passed!\n    ----------------------------------------------------------------------\n    ...\n    0\nGot:\n    /Users/buildslave-sage/slave/sage_git/build/src/bin/sage: line 368: sage_banner: command not found\n    Running doctests with ID 2016-08-07-23-12-09-44d630e7.\n    Git branch: develop\n    Using --optional=mpir,python2,sage\n    Doctesting 1 file.\n    sage -t --warn-long 0.0 longtime.rst\n        [0 tests, 0.00 s]\n    ----------------------------------------------------------------------\n    All tests passed!\n    ----------------------------------------------------------------------\n    Total time for all tests: 0.0 seconds\n        cpu time: 0.0 seconds\n        cumulative wall time: 0.0 seconds\n    0\n**********************************************************************\n```",
    "created_at": "2016-08-08T19:12:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305843",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:26" align="right">comment:26</div>

Various failures of the form

```
sage -t --long src/sage/doctest/test.py
**********************************************************************
File "src/sage/doctest/test.py", line 26, in sage.doctest.test
Failed example:
    subprocess.call(["sage", "-t", "--warn-long", "0", "longtime.rst"], **kwds)  # long time
Expected:
    Running doctests...
    Doctesting 1 file.
    sage -t --warn-long 0.0 longtime.rst
    [0 tests, ...s]
    ----------------------------------------------------------------------
    All tests passed!
    ----------------------------------------------------------------------
    ...
    0
Got:
    /Users/buildslave-sage/slave/sage_git/build/src/bin/sage: line 368: sage_banner: command not found
    Running doctests with ID 2016-08-07-23-12-09-44d630e7.
    Git branch: develop
    Using --optional=mpir,python2,sage
    Doctesting 1 file.
    sage -t --warn-long 0.0 longtime.rst
        [0 tests, 0.00 s]
    ----------------------------------------------------------------------
    All tests passed!
    ----------------------------------------------------------------------
    Total time for all tests: 0.0 seconds
        cpu time: 0.0 seconds
        cumulative wall time: 0.0 seconds
    0
**********************************************************************
```



---

archive/issue_events_295844.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-08T19:12:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295844"
}
```



---

archive/issue_events_295845.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-08T19:12:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295845"
}
```



---

archive/issue_comments_305844.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nSomething seems fishy there.  I don't think that would happen unless somehow `sage-env` weren't updated.",
    "created_at": "2016-08-09T09:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305844",
    "user": "https://github.com/embray"
}
```

<div id="comment:27" align="right">comment:27</div>

Something seems fishy there.  I don't think that would happen unless somehow `sage-env` weren't updated.



---

archive/issue_comments_305845.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI think I know what's wrong... commit coming up.",
    "created_at": "2016-08-10T07:37:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305845",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

I think I know what's wrong... commit coming up.



---

archive/issue_comments_305846.json:
```json
{
    "body": "Changed commit from **[`0d06b17`](https://github.com/sagemath/sagetrac-mirror/commit/0d06b1767b15ad98ad4775f7bb08dc8cf96cd7a3)** to **[`4b869fb`](https://github.com/sagemath/sagetrac-mirror/commit/4b869fbbd008b408a232c651eaa8bf0e955e626d)**",
    "created_at": "2016-08-10T09:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305846",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0d06b17`](https://github.com/sagemath/sagetrac-mirror/commit/0d06b1767b15ad98ad4775f7bb08dc8cf96cd7a3)** to **[`4b869fb`](https://github.com/sagemath/sagetrac-mirror/commit/4b869fbbd008b408a232c651eaa8bf0e955e626d)**



---

archive/issue_comments_305847.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b869fbbd008b408a232c651eaa8bf0e955e626d\">4b869fb</a></td><td><code>Always define sage_banner function, even if sage-env was already sourced</code></td></tr></table>\n",
    "created_at": "2016-08-10T09:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305847",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b869fbbd008b408a232c651eaa8bf0e955e626d">4b869fb</a></td><td><code>Always define sage_banner function, even if sage-env was already sourced</code></td></tr></table>




---

archive/issue_events_295846.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-10T09:27:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295846"
}
```



---

archive/issue_events_295847.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-10T09:27:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295847"
}
```



---

archive/issue_events_295848.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-10T09:29:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295848"
}
```



---

archive/issue_events_295849.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-10T09:29:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295849"
}
```



---

archive/issue_comments_305848.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAh, I see what happened there.  Thanks, that makes sense.",
    "created_at": "2016-08-10T09:29:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305848",
    "user": "https://github.com/embray"
}
```

<div id="comment:31" align="right">comment:31</div>

Ah, I see what happened there.  Thanks, that makes sense.



---

archive/issue_comments_305849.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket-21029](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket-21029)** to **[`4b869fb`](https://github.com/sagemath/sagetrac-mirror/commit/4b869fbbd008b408a232c651eaa8bf0e955e626d)**",
    "created_at": "2016-08-13T22:50:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21029#issuecomment-305849",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/ticket-21029](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket-21029)** to **[`4b869fb`](https://github.com/sagemath/sagetrac-mirror/commit/4b869fbbd008b408a232c651eaa8bf0e955e626d)**



---

archive/issue_events_295850.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-13T22:50:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295850"
}
```



---

archive/issue_events_295851.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d11920bc735fc99aedb6a4826282b2b3af96eda5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-08-13T22:50:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21029",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21029#event-295851"
}
```
