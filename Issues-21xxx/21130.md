# Issue 21130: Cleaning fileserver.sagemath.org for optional packages

archive/issues_020893.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThe pages http://files.sagemath.org/spkg/optional/list and http://files.sagemath.org/spkg/optional/ contain outdated information. The following are now new style packages\n- beautifulsoup-3.2.1 (pip)\n- biopython-1.61 (pip)\n- brian-1.4.1.p0 (pip)\n- coxeter3-1.1 (in #19178)\n- database_jones_numfield-v4 (in #19174)\n- database_kohel-20060803 (in #21086)\n- guppy-0.1.8 (pip)\n- lie-2.2.2.p5 (? moved in experimental in #19781)\n- mpi4py-1.2.2 (pip)\n- ore_algebra-0.2 (#19175)\n- pybtex-20120618 (pip)\n- pyx-0.10 (#21076)\n- TOPCOM-0.17.4 (now lower case topcom)\n- trac-0.11.5.p0 (pip)\n\nSee also #19220.\n\nCC:  @jdemeyer @haraldschilly @jhpalmieri\n\nComponent: **packages: optional**\n\nBranch: **[#19213](https://github.com/sagemath/sagetrac-mirror/tree/#19213)**\n\nReviewer: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21130_\n\n",
    "closed_at": "2016-08-30T13:32:25Z",
    "created_at": "2016-07-29T15:41:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Cleaning fileserver.sagemath.org for optional packages",
    "type": "issue",
    "updated_at": "2016-08-30T13:32:25Z",
    "url": "https://github.com/sagemath/sage/issues/21130",
    "user": "https://github.com/videlec"
}
```
<div id="comment:0"></div>

The pages http://files.sagemath.org/spkg/optional/list and http://files.sagemath.org/spkg/optional/ contain outdated information. The following are now new style packages
- beautifulsoup-3.2.1 (pip)
- biopython-1.61 (pip)
- brian-1.4.1.p0 (pip)
- coxeter3-1.1 (in #19178)
- database_jones_numfield-v4 (in #19174)
- database_kohel-20060803 (in #21086)
- guppy-0.1.8 (pip)
- lie-2.2.2.p5 (? moved in experimental in #19781)
- mpi4py-1.2.2 (pip)
- ore_algebra-0.2 (#19175)
- pybtex-20120618 (pip)
- pyx-0.10 (#21076)
- TOPCOM-0.17.4 (now lower case topcom)
- trac-0.11.5.p0 (pip)

See also #19220.

CC:  @jdemeyer @haraldschilly @jhpalmieri

Component: **packages: optional**

Branch: **[#19213](https://github.com/sagemath/sagetrac-mirror/tree/#19213)**

Reviewer: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/21130_





---

archive/issue_events_294506.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-07-29T15:41:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21130#event-294506"
}
```



---

archive/issue_events_294507.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-07-29T15:41:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21130#event-294507"
}
```



---

archive/issue_events_294508.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-07-29T15:41:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21130#event-294508"
}
```



---

archive/issue_comments_307859.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,3 +15,5 @@\n - mpi4py-1.2.2\n - pybtex-20120618\n - trac-0.11.5.p0\n+\n+See also #21130\n``````\n",
    "created_at": "2016-07-29T15:47:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307859",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,3 +15,5 @@
 - mpi4py-1.2.2
 - pybtex-20120618
 - trac-0.11.5.p0
+
+See also #21130
``````




---

archive/issue_comments_307860.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,4 +16,4 @@\n - pybtex-20120618\n - trac-0.11.5.p0\n \n-See also #21130\n+See also #19220.\n``````\n",
    "created_at": "2016-07-29T17:51:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307860",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,4 +16,4 @@
 - pybtex-20120618
 - trac-0.11.5.p0
 
-See also #21130
+See also #19220.
``````




---

archive/issue_comments_307861.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI think the pip packages can be removed from the server: users can download and install them using `sage -i ...`, which should use pip.",
    "created_at": "2016-07-29T17:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307861",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:3" align="right">comment:3</div>

I think the pip packages can be removed from the server: users can download and install them using `sage -i ...`, which should use pip.



---

archive/issue_comments_307862.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI think so. One difference will be that the package names will not appear anymore with `$ sage -optional`. However, that script that list packages would be easily changed. But since pip type is transitional I am not sure it is what we want.",
    "created_at": "2016-07-29T18:00:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307862",
    "user": "https://github.com/sagetrac-dmuthiah"
}
```

<div id="comment:4" align="right">comment:4</div>

I think so. One difference will be that the package names will not appear anymore with `$ sage -optional`. However, that script that list packages would be easily changed. But since pip type is transitional I am not sure it is what we want.



---

archive/issue_comments_307863.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nSee #19213.",
    "created_at": "2016-07-29T18:04:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307863",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:5" align="right">comment:5</div>

See #19213.



---

archive/issue_comments_307864.json:
```json
{
    "body": "Replying to [ticket:21130 vdelecroix (ticket description)]:\n> See also #21130\n\n???\n\n---\n\nYou (or we) shouldn't search for optional packages in `spkg/optional/` **unless** there's no new-style version of a package.\n\nAll packages below `spkg/` are for \"backwards-compatibility\", i.e., older versions of Sage.\n\nAt some point, all old-style packages should be converted, such that we can (in principle) disable the installation of legacy spkgs into newer versions of Sage.\n\n---\n\nAs you may know, I've always been against the \"unified repo\" as is (tying any spkg to specific Sage versions and vice versa, and offering only a single version of each at the same time), which is completely against the original philosophy (that anybody could offer *his/her* spkg, most being self-contained, some needing Sage library support of course).\n\nBecause of this, it's difficult to generally disallow the installation of \"old-style\" spkgs, unless or until we have a new format and mechanism for truly \"external\" packages.  (I suggested to split spkgs into two parts, the **S**age **pa**ckage **m**etadata, `.spam`, and an upstream tarball, years ago.  We could still do the same for at least \"external\" packages, namely create/use a tarball with just what is now in `build/pkgs/<pkgname>/`, although a single plain text file \u00e0 la Arch Linux or !Gentoo/Funtoo would be better.)\n\nA related problem is that our build / package system lacks any notion of version requirements, it always [en]forces to use exactly a single specific version of a package, no matter whether that's necessary or not, and true requirements are hardly documented.",
    "created_at": "2016-07-29T18:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307864",
    "user": "https://github.com/nexttime"
}
```

Replying to [ticket:21130 vdelecroix (ticket description)]:
> See also #21130

???

---

You (or we) shouldn't search for optional packages in `spkg/optional/` **unless** there's no new-style version of a package.

All packages below `spkg/` are for "backwards-compatibility", i.e., older versions of Sage.

At some point, all old-style packages should be converted, such that we can (in principle) disable the installation of legacy spkgs into newer versions of Sage.

---

As you may know, I've always been against the "unified repo" as is (tying any spkg to specific Sage versions and vice versa, and offering only a single version of each at the same time), which is completely against the original philosophy (that anybody could offer *his/her* spkg, most being self-contained, some needing Sage library support of course).

Because of this, it's difficult to generally disallow the installation of "old-style" spkgs, unless or until we have a new format and mechanism for truly "external" packages.  (I suggested to split spkgs into two parts, the **S**age **pa**ckage **m**etadata, `.spam`, and an upstream tarball, years ago.  We could still do the same for at least "external" packages, namely create/use a tarball with just what is now in `build/pkgs/<pkgname>/`, although a single plain text file Ã  la Arch Linux or !Gentoo/Funtoo would be better.)

A related problem is that our build / package system lacks any notion of version requirements, it always [en]forces to use exactly a single specific version of a package, no matter whether that's necessary or not, and true requirements are hardly documented.



---

archive/issue_comments_307865.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@nexttime](#comment%3A6):\n> Replying to [ticket:21130 vdelecroix (ticket description)]:\n> > See also #21130\n> \n> \n> ???\n\nAh ok, fixed now.",
    "created_at": "2016-07-29T18:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307865",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@nexttime](#comment%3A6):
> Replying to [ticket:21130 vdelecroix (ticket description)]:
> > See also #21130
> 
> 
> ???

Ah ok, fixed now.



---

archive/issue_comments_307866.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@nexttime](#comment%3A6):\n> Replying to [ticket:21130 vdelecroix (ticket description)]:\n\nI did no try to look at `spkg/optional`. I just did `sage -optional` that shows wrong information (e.g. lie being optional but `sage -i lie` install a different experimental package). I want to be able to install all optional packages using `sage -optional` and this is badly broken.\n\nI also consider the current packaging system as very bad. But this ticket is about cleaning the websites mentioned in the description. And I think cleaning is a good step forward.",
    "created_at": "2016-07-29T18:13:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307866",
    "user": "https://github.com/sagetrac-dmuthiah"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@nexttime](#comment%3A6):
> Replying to [ticket:21130 vdelecroix (ticket description)]:

I did no try to look at `spkg/optional`. I just did `sage -optional` that shows wrong information (e.g. lie being optional but `sage -i lie` install a different experimental package). I want to be able to install all optional packages using `sage -optional` and this is badly broken.

I also consider the current packaging system as very bad. But this ticket is about cleaning the websites mentioned in the description. And I think cleaning is a good step forward.



---

archive/issue_comments_307867.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAnother consequence of this\n\n```\n$ sage -i brian\n... #snip \n$ sage -optional|grep brian -C1\nboost................................... 1_61_0 (not_installed)\nbrian................................... 1.4.1.p0 (not_installed)\nbuckygen................................ 1.0 (not_installed)\n```\nSo +1 from removing pip packages as well...",
    "created_at": "2016-07-29T18:32:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307867",
    "user": "https://github.com/sagetrac-dmuthiah"
}
```

<div id="comment:9" align="right">comment:9</div>

Another consequence of this

```
$ sage -i brian
... #snip 
$ sage -optional|grep brian -C1
boost................................... 1_61_0 (not_installed)
brian................................... 1.4.1.p0 (not_installed)
buckygen................................ 1.0 (not_installed)
```
So +1 from removing pip packages as well...



---

archive/issue_comments_307868.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,19 +1,17 @@\n The pages http://files.sagemath.org/spkg/optional/list and http://files.sagemath.org/spkg/optional/ contain outdated information. The following are now new style packages\n+- beautifulsoup-3.2.1 (pip)\n+- biopython-1.61 (pip)\n+- brian-1.4.1.p0 (pip)\n - coxeter3-1.1 (in #19178)\n - database_jones_numfield-v4 (in #19174)\n - database_kohel-20060803 (in #21086)\n+- guppy-0.1.8 (pip)\n - lie-2.2.2.p5 (? moved in experimental in #19781)\n+- mpi4py-1.2.2 (pip)\n - ore_algebra-0.2 (#19175)\n+- pybtex-20120618 (pip)\n - pyx-0.10 (#21076)\n - TOPCOM-0.17.4 (now lower case topcom)\n-\n-I am not sure about what should be done with pip packages\n-- beautifulsoup-3.2.1\n-- biopython-1.61\n-- brian-1.4.1.p0\n-- guppy-0.1.8\n-- mpi4py-1.2.2\n-- pybtex-20120618\n-- trac-0.11.5.p0\n+- trac-0.11.5.p0 (pip)\n \n See also #19220.\n``````\n",
    "created_at": "2016-07-29T18:32:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307868",
    "user": "https://github.com/sagetrac-dmuthiah"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,19 +1,17 @@
 The pages http://files.sagemath.org/spkg/optional/list and http://files.sagemath.org/spkg/optional/ contain outdated information. The following are now new style packages
+- beautifulsoup-3.2.1 (pip)
+- biopython-1.61 (pip)
+- brian-1.4.1.p0 (pip)
 - coxeter3-1.1 (in #19178)
 - database_jones_numfield-v4 (in #19174)
 - database_kohel-20060803 (in #21086)
+- guppy-0.1.8 (pip)
 - lie-2.2.2.p5 (? moved in experimental in #19781)
+- mpi4py-1.2.2 (pip)
 - ore_algebra-0.2 (#19175)
+- pybtex-20120618 (pip)
 - pyx-0.10 (#21076)
 - TOPCOM-0.17.4 (now lower case topcom)
-
-I am not sure about what should be done with pip packages
-- beautifulsoup-3.2.1
-- biopython-1.61
-- brian-1.4.1.p0
-- guppy-0.1.8
-- mpi4py-1.2.2
-- pybtex-20120618
-- trac-0.11.5.p0
+- trac-0.11.5.p0 (pip)
 
 See also #19220.
``````




---

archive/issue_comments_307869.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@sagetrac-dmuthiah](#comment%3A8):\n> Replying to [@nexttime](#comment%3A6):\n> > Replying to [ticket:21130 vdelecroix (ticket description)]:\n> \n> \n> I did no try to look at `spkg/optional`. I just did `sage -optional` that shows wrong information (e.g. lie being optional but `sage -i lie` install a different experimental package).\n\nThat's because the \"new-style\" package is now categorized \"experimental\".\n\n\n\n\n> I want to be able to install all optional packages using `sage -optional` and this is badly broken.\n\nYes, it is.  Not long ago, it kept showing *only* legacy spkgs, now it gives an inconsistent mixture instead of what I mentioned above (namely legacy spkgs iff there's no \"new-style\" version at all).\n\n> I also consider the current packaging system as very bad. But this ticket is about cleaning the websites mentioned in the description. And I think cleaning is a good step forward.\n\nIt's not the *website* that's broken, it's `sage --optional`, `sage --experimental` etc.  We should fix **that**, and not just try to hide the problem by more or less randomly deleting or moving some stuff.",
    "created_at": "2016-07-29T18:40:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307869",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@sagetrac-dmuthiah](#comment%3A8):
> Replying to [@nexttime](#comment%3A6):
> > Replying to [ticket:21130 vdelecroix (ticket description)]:
> 
> 
> I did no try to look at `spkg/optional`. I just did `sage -optional` that shows wrong information (e.g. lie being optional but `sage -i lie` install a different experimental package).

That's because the "new-style" package is now categorized "experimental".




> I want to be able to install all optional packages using `sage -optional` and this is badly broken.

Yes, it is.  Not long ago, it kept showing *only* legacy spkgs, now it gives an inconsistent mixture instead of what I mentioned above (namely legacy spkgs iff there's no "new-style" version at all).

> I also consider the current packaging system as very bad. But this ticket is about cleaning the websites mentioned in the description. And I think cleaning is a good step forward.

It's not the *website* that's broken, it's `sage --optional`, `sage --experimental` etc.  We should fix **that**, and not just try to hide the problem by more or less randomly deleting or moving some stuff.



---

archive/issue_comments_307870.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@nexttime](#comment%3A10):\n> Replying to [@sagetrac-dmuthiah](#comment%3A8):\n> > Replying to [@nexttime](#comment%3A6):\n> > I also consider the current packaging system as very bad. But this ticket is about cleaning the websites mentioned in the description. And I think cleaning is a good step forward.\n> \n> \n> It's not the *website* that's broken, it's `sage --optional`, `sage --experimental` etc.  We should fix **that**, and not just try to hide the problem by more or less randomly deleting or moving some stuff.\n\nWhat do you suggest to fix them?",
    "created_at": "2016-07-29T18:43:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307870",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@nexttime](#comment%3A10):
> Replying to [@sagetrac-dmuthiah](#comment%3A8):
> > Replying to [@nexttime](#comment%3A6):
> > I also consider the current packaging system as very bad. But this ticket is about cleaning the websites mentioned in the description. And I think cleaning is a good step forward.
> 
> 
> It's not the *website* that's broken, it's `sage --optional`, `sage --experimental` etc.  We should fix **that**, and not just try to hide the problem by more or less randomly deleting or moving some stuff.

What do you suggest to fix them?



---

archive/issue_comments_307871.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@videlec](#comment%3A11):\n> Replying to [@nexttime](#comment%3A10):\n> > Replying to [@sagetrac-dmuthiah](#comment%3A8):\n> > > Replying to [@nexttime](#comment%3A6):\n> > > I also consider the current packaging system as very bad. But this ticket is about cleaning the websites mentioned in the description. And I think cleaning is a good step forward.\n> > \n> > \n> > It's not the *website* that's broken, it's `sage --optional`, `sage --experimental` etc.  We should fix **that**, and not just try to hide the problem by more or less randomly deleting or moving some stuff.\n> \n> \n> What do you suggest to fix them?\n\nWhat I said, fix the function showing optional/experimental packages.\n\nStart with `build/pkgs/*` (as we do in `configure`), and if we at all still want to list legacy spkgs as well, only show those from `spkg/*` on files.sagemath.org that are *not* in the local repo (`build/pkgs/`).",
    "created_at": "2016-07-29T18:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307871",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@videlec](#comment%3A11):
> Replying to [@nexttime](#comment%3A10):
> > Replying to [@sagetrac-dmuthiah](#comment%3A8):
> > > Replying to [@nexttime](#comment%3A6):
> > > I also consider the current packaging system as very bad. But this ticket is about cleaning the websites mentioned in the description. And I think cleaning is a good step forward.
> > 
> > 
> > It's not the *website* that's broken, it's `sage --optional`, `sage --experimental` etc.  We should fix **that**, and not just try to hide the problem by more or less randomly deleting or moving some stuff.
> 
> 
> What do you suggest to fix them?

What I said, fix the function showing optional/experimental packages.

Start with `build/pkgs/*` (as we do in `configure`), and if we at all still want to list legacy spkgs as well, only show those from `spkg/*` on files.sagemath.org that are *not* in the local repo (`build/pkgs/`).



---

archive/issue_comments_307872.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@nexttime](#comment%3A12):\n> Replying to [@videlec](#comment%3A11):\n> > Replying to [@nexttime](#comment%3A10):\n> > > Replying to [@sagetrac-dmuthiah](#comment%3A8):\n> > > > Replying to [@nexttime](#comment%3A6):\n> > > > I also consider the current packaging system as very bad. But this ticket is about cleaning the websites mentioned in the description. And I think cleaning is a good step forward.\n> > > \n> > > \n> > > It's not the *website* that's broken, it's `sage --optional`, `sage --experimental` etc.  We should fix **that**, and not just try to hide the problem by more or less randomly deleting or moving some stuff.\n> > \n> > \n> > What do you suggest to fix them?\n> \n> \n> What I said, fix the function showing optional/experimental packages.\n> \n> Start with `build/pkgs/*` (as we do in `configure`), and if we at all still want to list legacy spkgs as well, only show those from `spkg/*` on files.sagemath.org that are *not* in the local repo (`build/pkgs/`).\n\nWhat about `TOPCOM` versus `topcom`?",
    "created_at": "2016-07-29T18:55:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307872",
    "user": "https://github.com/videlec"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@nexttime](#comment%3A12):
> Replying to [@videlec](#comment%3A11):
> > Replying to [@nexttime](#comment%3A10):
> > > Replying to [@sagetrac-dmuthiah](#comment%3A8):
> > > > Replying to [@nexttime](#comment%3A6):
> > > > I also consider the current packaging system as very bad. But this ticket is about cleaning the websites mentioned in the description. And I think cleaning is a good step forward.
> > > 
> > > 
> > > It's not the *website* that's broken, it's `sage --optional`, `sage --experimental` etc.  We should fix **that**, and not just try to hide the problem by more or less randomly deleting or moving some stuff.
> > 
> > 
> > What do you suggest to fix them?
> 
> 
> What I said, fix the function showing optional/experimental packages.
> 
> Start with `build/pkgs/*` (as we do in `configure`), and if we at all still want to list legacy spkgs as well, only show those from `spkg/*` on files.sagemath.org that are *not* in the local repo (`build/pkgs/`).

What about `TOPCOM` versus `topcom`?



---

archive/issue_comments_307873.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nTOPCOM is old-style, all new-style packages have all-lowercase.",
    "created_at": "2016-07-29T18:56:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307873",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:14" align="right">comment:14</div>

TOPCOM is old-style, all new-style packages have all-lowercase.



---

archive/issue_comments_307874.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n(There are probably other packages that got renamed, also by adding or deleting some dashes or underscores, so we perhaps need a short alias list, but in general comparing tolower(name) should suffice.)",
    "created_at": "2016-07-29T18:58:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307874",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:15" align="right">comment:15</div>

(There are probably other packages that got renamed, also by adding or deleting some dashes or underscores, so we perhaps need a short alias list, but in general comparing tolower(name) should suffice.)



---

archive/issue_comments_307875.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nP.P.S.:  The \"name\" of a new-style package is its folder name in `build/pkgs/` (these contain only `[a-zA-Z0-9_]`), while that of the (upstream) tarball, encrypted in `checksums.ini` -- by the way a wonderful choice, might differ.\n\nOld-style package names are in constrast everything up to the first dash of the filename of the spkg/tarball, more likely to match what is now in `checksums.ini`.",
    "created_at": "2016-07-29T19:04:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307875",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:16" align="right">comment:16</div>

P.P.S.:  The "name" of a new-style package is its folder name in `build/pkgs/` (these contain only `[a-zA-Z0-9_]`), while that of the (upstream) tarball, encrypted in `checksums.ini` -- by the way a wonderful choice, might differ.

Old-style package names are in constrast everything up to the first dash of the filename of the spkg/tarball, more likely to match what is now in `checksums.ini`.



---

archive/issue_comments_307876.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAnd old-style packages usually have a *Sage* patchlevel in addition, `.pN`, right before the `.spkg`, so that should get removed before trying to match names as well.",
    "created_at": "2016-07-29T19:11:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307876",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:17" align="right">comment:17</div>

And old-style packages usually have a *Sage* patchlevel in addition, `.pN`, right before the `.spkg`, so that should get removed before trying to match names as well.



---

archive/issue_comments_307877.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nIt's not just `sage --optional` etc. that may need fixing, it's also `sage -i ...`, which looks at the website for matches. As long as there are valid old-style packages on the website, we should search for them, so we should also clean out the crap on the website so that we don't get incorrect matches. So cleaning the website is a good idea.\n\nBy the way, although the name of each new-style spkg is lowercase, its tarball need not be. Relying on cases to determine whether a package is old or new seems like a dangerous idea.",
    "created_at": "2016-07-29T19:44:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307877",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:18" align="right">comment:18</div>

It's not just `sage --optional` etc. that may need fixing, it's also `sage -i ...`, which looks at the website for matches. As long as there are valid old-style packages on the website, we should search for them, so we should also clean out the crap on the website so that we don't get incorrect matches. So cleaning the website is a good idea.

By the way, although the name of each new-style spkg is lowercase, its tarball need not be. Relying on cases to determine whether a package is old or new seems like a dangerous idea.



---

archive/issue_comments_307878.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI am cleaning the sage-list-packages script in #19213. Once this is done, the website could be cleaned as well.",
    "created_at": "2016-07-29T20:26:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307878",
    "user": "https://github.com/videlec"
}
```

<div id="comment:19" align="right">comment:19</div>

I am cleaning the sage-list-packages script in #19213. Once this is done, the website could be cleaned as well.



---

archive/issue_comments_307879.json:
```json
{
    "body": "Branch: **[#19213](https://github.com/sagemath/sagetrac-mirror/tree/#19213)**",
    "created_at": "2016-07-29T20:26:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307879",
    "user": "https://github.com/videlec"
}
```

Branch: **[#19213](https://github.com/sagemath/sagetrac-mirror/tree/#19213)**



---

archive/issue_comments_307880.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jhpalmieri](#comment%3A18):\n> It's not just `sage --optional` etc. that may need fixing, it's also `sage -i ...`, which looks at the website for matches.\n\nYes, see below.  We shouldn't have two implementations of the same thing (in addition not acting in the same manner).\n\n\n\n\n> As long as there are valid old-style packages on the website, we should search for them, so we should also clean out the crap on the website so that we don't get incorrect matches. So cleaning the website is a good idea.\n\nWhile the last version of Sage without \"new-style\" packages was released quite a while ago, removing anything from `spkg/` breaks all the old versions.  I'm not aware of any announcement regarding that (although it's not unlikely I missed it), but I'm not aware of any \"static\" statement anywhere either.\n\nIf we *do* no longer support older versions, then **wipe out everything** below `spkg/`.\n\nIf there are still valuable optional/experimental packages which (after years?) haven't been converted, that's a bug, and there should be tickets for each.\n\n\n\n \n> By the way, although the name of each new-style spkg is lowercase, its tarball need not be. Relying on cases to determine whether a package is old or new seems like a dangerous idea.\n\nI didn't say that.  I meant if you encounter an old-style package (from the file server), strip the version, including the Sage patch level, and of course the extension, convert it to lowercase, and see if that matches any of the folder names in `build/pkgs/`, or everything after the equals sign up to the first dash from the first line (or the line containing `tarball=`) of each `build/pkgs/*/checksum.ini`, again converted to lowercase. [Not *my* design.]  It's presumably sufficient to also simply remove any special characters including underscores; I doubt there will be any name clash of actually *different* packages.\n\nWhat happened to the work of Nathann and others (about a year ago IIRC)?  We have been dealing with this a couple of times in the past...\n\nAnother thing we have to solve is of course any discrepancy between `sage-list-packages` or whatever its name is, and (the behavior of) `sage-spkg`.  Again, the easiest solution is to disable downloading old-style packages (automatically).  That's orthogonal to disallowing *installing* such (`sage -i /path/to/spkg`).",
    "created_at": "2016-07-29T20:52:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307880",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jhpalmieri](#comment%3A18):
> It's not just `sage --optional` etc. that may need fixing, it's also `sage -i ...`, which looks at the website for matches.

Yes, see below.  We shouldn't have two implementations of the same thing (in addition not acting in the same manner).




> As long as there are valid old-style packages on the website, we should search for them, so we should also clean out the crap on the website so that we don't get incorrect matches. So cleaning the website is a good idea.

While the last version of Sage without "new-style" packages was released quite a while ago, removing anything from `spkg/` breaks all the old versions.  I'm not aware of any announcement regarding that (although it's not unlikely I missed it), but I'm not aware of any "static" statement anywhere either.

If we *do* no longer support older versions, then **wipe out everything** below `spkg/`.

If there are still valuable optional/experimental packages which (after years?) haven't been converted, that's a bug, and there should be tickets for each.



 
> By the way, although the name of each new-style spkg is lowercase, its tarball need not be. Relying on cases to determine whether a package is old or new seems like a dangerous idea.

I didn't say that.  I meant if you encounter an old-style package (from the file server), strip the version, including the Sage patch level, and of course the extension, convert it to lowercase, and see if that matches any of the folder names in `build/pkgs/`, or everything after the equals sign up to the first dash from the first line (or the line containing `tarball=`) of each `build/pkgs/*/checksum.ini`, again converted to lowercase. [Not *my* design.]  It's presumably sufficient to also simply remove any special characters including underscores; I doubt there will be any name clash of actually *different* packages.

What happened to the work of Nathann and others (about a year ago IIRC)?  We have been dealing with this a couple of times in the past...

Another thing we have to solve is of course any discrepancy between `sage-list-packages` or whatever its name is, and (the behavior of) `sage-spkg`.  Again, the easiest solution is to disable downloading old-style packages (automatically).  That's orthogonal to disallowing *installing* such (`sage -i /path/to/spkg`).



---

archive/issue_comments_307881.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@nexttime](#comment%3A20):\n> Replying to [@jhpalmieri](#comment%3A18):\n> What happened to the work of Nathann and others (about a year ago IIRC)?  We have been dealing with this a couple of times in the past...\n\nStill there and useful `sage.misc.package`. I am cleaning, updating this file in #19213.",
    "created_at": "2016-07-29T21:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307881",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@nexttime](#comment%3A20):
> Replying to [@jhpalmieri](#comment%3A18):
> What happened to the work of Nathann and others (about a year ago IIRC)?  We have been dealing with this a couple of times in the past...

Still there and useful `sage.misc.package`. I am cleaning, updating this file in #19213.



---

archive/issue_comments_307882.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@videlec](#comment%3A21):\n> Replying to [@nexttime](#comment%3A20):\n> > Replying to [@jhpalmieri](#comment%3A18):\n> > What happened to the work of Nathann and others (about a year ago IIRC)?  We have been dealing with this a couple of times in the past...\n> \n> \n> Still there and useful `sage.misc.package`. I am cleaning, updating this file in #19213.\n\nSince we meanwhile (rather \"by accident\") require a *system python* (>=2.6) anyway, if the python files there are stand-alone (i.e., do not need the Sage *library*), you could use them from `sage-spkg` as well.",
    "created_at": "2016-07-29T22:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307882",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@videlec](#comment%3A21):
> Replying to [@nexttime](#comment%3A20):
> > Replying to [@jhpalmieri](#comment%3A18):
> > What happened to the work of Nathann and others (about a year ago IIRC)?  We have been dealing with this a couple of times in the past...
> 
> 
> Still there and useful `sage.misc.package`. I am cleaning, updating this file in #19213.

Since we meanwhile (rather "by accident") require a *system python* (>=2.6) anyway, if the python files there are stand-alone (i.e., do not need the Sage *library*), you could use them from `sage-spkg` as well.



---

archive/issue_comments_307883.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@nexttime](#comment%3A22):\n> Replying to [@videlec](#comment%3A21):\n> > Replying to [@nexttime](#comment%3A20):\n> > > Replying to [@jhpalmieri](#comment%3A18):\n> > > What happened to the work of Nathann and others (about a year ago IIRC)?  We have been dealing with this a couple of times in the past...\n> > \n> > \n> > Still there and useful `sage.misc.package`. I am cleaning, updating this file in #19213.\n> \n> \n> Since we meanwhile (rather \"by accident\") require a *system python* (>=2.6) anyway, if the python files there are stand-alone (i.e., do not need the Sage *library*), you could use them from `sage-spkg` as well.\n\nIt is more or less standalone: only needs various variables from `sage.env`.",
    "created_at": "2016-07-29T22:22:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307883",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@nexttime](#comment%3A22):
> Replying to [@videlec](#comment%3A21):
> > Replying to [@nexttime](#comment%3A20):
> > > Replying to [@jhpalmieri](#comment%3A18):
> > > What happened to the work of Nathann and others (about a year ago IIRC)?  We have been dealing with this a couple of times in the past...
> > 
> > 
> > Still there and useful `sage.misc.package`. I am cleaning, updating this file in #19213.
> 
> 
> Since we meanwhile (rather "by accident") require a *system python* (>=2.6) anyway, if the python files there are stand-alone (i.e., do not need the Sage *library*), you could use them from `sage-spkg` as well.

It is more or less standalone: only needs various variables from `sage.env`.



---

archive/issue_comments_307884.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nBut since we won't upload any new old-style packages (I guess), we could use a *static* list of everything what's currently there (or worth to be kept / installed) anyway.  Never ever looking at `spkg/{optional,experimental,huge}/list` again.",
    "created_at": "2016-07-29T22:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307884",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:24" align="right">comment:24</div>

But since we won't upload any new old-style packages (I guess), we could use a *static* list of everything what's currently there (or worth to be kept / installed) anyway.  Never ever looking at `spkg/{optional,experimental,huge}/list` again.



---

archive/issue_comments_307885.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThis is exactly what I proposed in #19213: two files `build/old_style_packages_optional` and `build/old_style_packages_experimental`. And I would actually be happier if we move all old style optional to experimental.",
    "created_at": "2016-07-29T22:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307885",
    "user": "https://github.com/videlec"
}
```

<div id="comment:25" align="right">comment:25</div>

This is exactly what I proposed in #19213: two files `build/old_style_packages_optional` and `build/old_style_packages_experimental`. And I would actually be happier if we move all old style optional to experimental.



---

archive/issue_comments_307886.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@videlec](#comment%3A25):\n> This is exactly what I proposed in #19213: two files `build/old_style_packages_optional` and `build/old_style_packages_experimental`. And I would actually be happier if we move all old style optional to experimental.\n\nWhy not directly move them into `build/pkgs/` (with their \"simplified\" names), putting `legacy` into `type`, `tarball=...` (and checksums) into `checksums.ini`, what we consider the version into `package-version.txt`, and if one downloads them, into `upstream/` as usual.  (You could even already extract `spkg-{install,check}` and `SPKG.txt`.)\n\nThen conversion will probably happen sooner...",
    "created_at": "2016-07-29T22:43:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307886",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@videlec](#comment%3A25):
> This is exactly what I proposed in #19213: two files `build/old_style_packages_optional` and `build/old_style_packages_experimental`. And I would actually be happier if we move all old style optional to experimental.

Why not directly move them into `build/pkgs/` (with their "simplified" names), putting `legacy` into `type`, `tarball=...` (and checksums) into `checksums.ini`, what we consider the version into `package-version.txt`, and if one downloads them, into `upstream/` as usual.  (You could even already extract `spkg-{install,check}` and `SPKG.txt`.)

Then conversion will probably happen sooner...



---

archive/issue_comments_307887.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@nexttime](#comment%3A26):\n> Replying to [@videlec](#comment%3A25):\n> > This is exactly what I proposed in #19213: two files `build/old_style_packages_optional` and `build/old_style_packages_experimental`. And I would actually be happier if we move all old style optional to experimental.\n> \n> \n> Why not directly move them into `build/pkgs/` (with their \"simplified\" names), putting `legacy` into `type`, `tarball=...` (and checksums) into `checksums.ini`, what we consider the version into `package-version.txt`, and if one downloads them, into `upstream/` as usual.  (You could even already extract `spkg-{install,check}` and `SPKG.txt`.)\n> \n> Then conversion will probably happen sooner...\n\nI like very much the idea. But out of scope of #19213... I am opening a ticket for this which will be a dependency of #19213.",
    "created_at": "2016-07-29T22:49:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307887",
    "user": "https://github.com/videlec"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@nexttime](#comment%3A26):
> Replying to [@videlec](#comment%3A25):
> > This is exactly what I proposed in #19213: two files `build/old_style_packages_optional` and `build/old_style_packages_experimental`. And I would actually be happier if we move all old style optional to experimental.
> 
> 
> Why not directly move them into `build/pkgs/` (with their "simplified" names), putting `legacy` into `type`, `tarball=...` (and checksums) into `checksums.ini`, what we consider the version into `package-version.txt`, and if one downloads them, into `upstream/` as usual.  (You could even already extract `spkg-{install,check}` and `SPKG.txt`.)
> 
> Then conversion will probably happen sooner...

I like very much the idea. But out of scope of #19213... I am opening a ticket for this which will be a dependency of #19213.



---

archive/issue_comments_307888.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nWhy is this not a duplicate of #19220?",
    "created_at": "2016-07-30T07:46:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307888",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

Why is this not a duplicate of #19220?



---

archive/issue_comments_307889.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@jdemeyer](#comment%3A28):\n> Why is this not a duplicate of #19220?\n\nI guess because #19220 deals with throwing some away, while we here (or on #19213) try to keep the valuable ones, but presumably not by leaving them a) there b) as they are, which may also involve changes to the build system (perhaps on follow-ups though)...",
    "created_at": "2016-07-30T17:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307889",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@jdemeyer](#comment%3A28):
> Why is this not a duplicate of #19220?

I guess because #19220 deals with throwing some away, while we here (or on #19213) try to keep the valuable ones, but presumably not by leaving them a) there b) as they are, which may also involve changes to the build system (perhaps on follow-ups though)...



---

archive/issue_comments_307890.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nOr maybe not...  I actually missed the ticket references in the description, but for a couple it's not obvious what the tickets actually achieve, i.e., whether a closed ticket there really means *\"we can safely delete that package\"* (for newer versions of Sage at least), or whether when all tickets referenced in the description are merged, *\"stop looking for packages in `spkg/`\"* in `sage-spkg` as well as the scripts / code listing packages.",
    "created_at": "2016-07-30T17:30:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307890",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:30" align="right">comment:30</div>

Or maybe not...  I actually missed the ticket references in the description, but for a couple it's not obvious what the tickets actually achieve, i.e., whether a closed ticket there really means *"we can safely delete that package"* (for newer versions of Sage at least), or whether when all tickets referenced in the description are merged, *"stop looking for packages in `spkg/`"* in `sage-spkg` as well as the scripts / code listing packages.



---

archive/issue_comments_307891.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nP.S.:  There's no point in moving packages when we simply stop looking there, which doesn't require completely converting all of them to (fully) new-style packages, and that's the subject here, not on #19220 I'd say.",
    "created_at": "2016-07-30T17:34:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307891",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:31" align="right">comment:31</div>

P.S.:  There's no point in moving packages when we simply stop looking there, which doesn't require completely converting all of them to (fully) new-style packages, and that's the subject here, not on #19220 I'd say.



---

archive/issue_comments_307892.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2016-08-01T06:31:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307892",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_294509.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-01T06:31:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21130#event-294509"
}
```



---

archive/issue_comments_307893.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nThe list of packages here is a subset of #19220, so this is just a duplicate of #19220.",
    "created_at": "2016-08-01T06:31:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307893",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

The list of packages here is a subset of #19220, so this is just a duplicate of #19220.



---

archive/issue_events_294510.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-01T06:31:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21130#event-294510"
}
```



---

archive/issue_events_294511.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-01T06:31:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21130#event-294511"
}
```



---

archive/issue_events_294512.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-01T06:31:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21130#event-294512"
}
```



---

archive/issue_events_294513.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21130#event-294513"
}
```



---

archive/issue_events_294514.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21130#event-294514"
}
```



---

archive/issue_comments_307894.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nDetermined to be invalid/duplicate/wontfix (closing as \"wontfix\" as a catch-all resolution).",
    "created_at": "2016-08-30T13:32:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21130#issuecomment-307894",
    "user": "https://github.com/embray"
}
```

<div id="comment:34" align="right">comment:34</div>

Determined to be invalid/duplicate/wontfix (closing as "wontfix" as a catch-all resolution).



---

archive/issue_events_294515.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21130#event-294515"
}
```



---

archive/issue_events_294516.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21130",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "c6c6c6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21130#event-294516"
}
```
