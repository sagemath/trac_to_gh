# Issue 21540: Graph plotting: allow setting edge thickness in looped digraphs

archive/issues_021303.json:
```json
{
    "body": "Try\n\n```\nsage: G = DiGraph({0: [0,1]}, loops=True)\nsage: G.show()\n```\n\nThe loop-edge from `0` to `0` is very small. However it is better with\n\n```\nG.show(edge_thickness=3)\n```\n\nAlso I was asked why it has no arrow head. Maybe it could be added? But anyways, why thickness can not be changed in digraphs?\n\n\nCC:  @paulmasson @slel\n\nReviewer: Ben Barros\n\nAuthor: Johannes Huisman\n\nBranch: u/johanneshuisman/digraph_plot_edge_thickness\n\nStatus: needs_work\n\nCommit: 25a8b602af9b50c6d2f1e9458a5d1dc880f04236\n\nIssue created by migration from https://trac.sagemath.org/ticket/21540\n\n",
    "created_at": "2016-09-19T09:01:21Z",
    "labels": [
        "component: graphics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "Graph plotting: allow setting edge thickness in looped digraphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21540",
    "user": "https://github.com/jm58660"
}
```
Try

```
sage: G = DiGraph({0: [0,1]}, loops=True)
sage: G.show()
```

The loop-edge from `0` to `0` is very small. However it is better with

```
G.show(edge_thickness=3)
```

Also I was asked why it has no arrow head. Maybe it could be added? But anyways, why thickness can not be changed in digraphs?


CC:  @paulmasson @slel

Reviewer: Ben Barros

Author: Johannes Huisman

Branch: u/johanneshuisman/digraph_plot_edge_thickness

Status: needs_work

Commit: 25a8b602af9b50c6d2f1e9458a5d1dc880f04236

Issue created by migration from https://trac.sagemath.org/ticket/21540





---

archive/issue_comments_397094.json:
```json
{
    "body": "Changing branch from \"\" to \"u/johanneshuisman/digraph_plot_edge_thickness\"",
    "created_at": "2017-01-27T22:57:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21540#issuecomment-397094",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanneshuisman"
}
```

Changing branch from "" to "u/johanneshuisman/digraph_plot_edge_thickness"



---

archive/issue_comments_397095.json:
```json
{
    "body": "<a id='comment:1'></a>\nAdded edge_thickness functionality for digraphs. The problem was that arrow2d has width and not thickness.",
    "created_at": "2017-01-27T22:57:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21540#issuecomment-397095",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanneshuisman"
}
```

<a id='comment:1'></a>
Added edge_thickness functionality for digraphs. The problem was that arrow2d has width and not thickness.



---

archive/issue_comments_397096.json:
```json
{
    "body": "Changing author from \"\" to \"Johannes Huisman\"",
    "created_at": "2017-01-27T22:57:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21540#issuecomment-397096",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanneshuisman"
}
```

Changing author from "" to "Johannes Huisman"



---

archive/issue_comments_397097.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-01-27T22:57:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21540#issuecomment-397097",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanneshuisman"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_397098.json:
```json
{
    "body": "Changing commit from \"\" to \"25a8b602af9b50c6d2f1e9458a5d1dc880f04236\"",
    "created_at": "2017-01-27T22:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21540#issuecomment-397098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "25a8b602af9b50c6d2f1e9458a5d1dc880f04236"



---

archive/issue_comments_397099.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[25a8b60](https://git.sagemath.org/sage.git/commit/?id=25a8b602af9b50c6d2f1e9458a5d1dc880f04236)|`added edge_thickness for digraphs`|",
    "created_at": "2017-01-27T22:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21540#issuecomment-397099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[25a8b60](https://git.sagemath.org/sage.git/commit/?id=25a8b602af9b50c6d2f1e9458a5d1dc880f04236)|`added edge_thickness for digraphs`|



---

archive/issue_comments_397100.json:
```json
{
    "body": "<a id='comment:3'></a>\nchanged milestone to 7.6",
    "created_at": "2017-01-28T10:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21540#issuecomment-397100",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanneshuisman"
}
```

<a id='comment:3'></a>
changed milestone to 7.6



---

archive/issue_events_057176.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/johanneshuisman",
    "created_at": "2017-01-28T10:49:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21540#event-57176"
}
```



---

archive/issue_comments_397101.json:
```json
{
    "body": "<a id='comment:4'></a>\nConcerning the missing arrow heads on loops of directed graphs, they are missing since these loops are drawn as circles by using the circle command! Here is the relevant portion of graph_plot.py:\n\n```\nself._plot_components['edges'].append(circle((self._pos[a][0],\n    self._pos[a][1]-curr_loop_size), curr_loop_size,\n    rgbcolor=local_labels[i][1], **eoptions))\n\n```",
    "created_at": "2017-01-28T11:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21540#issuecomment-397101",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanneshuisman"
}
```

<a id='comment:4'></a>
Concerning the missing arrow heads on loops of directed graphs, they are missing since these loops are drawn as circles by using the circle command! Here is the relevant portion of graph_plot.py:

```
self._plot_components['edges'].append(circle((self._pos[a][0],
    self._pos[a][1]-curr_loop_size), curr_loop_size,
    rgbcolor=local_labels[i][1], **eoptions))

```



---

archive/issue_comments_397102.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-03-10T18:40:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21540#issuecomment-397102",
    "user": "https://github.com/bbarros50"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_397103.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe edge_thickness functionality only works for loops of fixed points. For example,\n\n```\nG = DiGraph({0: [0,1]},loops=True)\nG.show(edge_thickness=1)\nG.show(edge_thickness=15)\n```\nonly changes the thickness of the loop at 0 and not the thickness of the arc from 0 to 1.",
    "created_at": "2017-03-10T18:40:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21540#issuecomment-397103",
    "user": "https://github.com/bbarros50"
}
```

<a id='comment:5'></a>
The edge_thickness functionality only works for loops of fixed points. For example,

```
G = DiGraph({0: [0,1]},loops=True)
G.show(edge_thickness=1)
G.show(edge_thickness=15)
```
only changes the thickness of the loop at 0 and not the thickness of the arc from 0 to 1.



---

archive/issue_comments_397104.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Ben Barros\"",
    "created_at": "2017-03-10T18:40:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21540#issuecomment-397104",
    "user": "https://github.com/bbarros50"
}
```

Changing reviewer from "" to "Ben Barros"



---

archive/issue_events_057177.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-04-20T15:33:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21540#event-57177"
}
```



---

archive/issue_events_057178.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-04-20T15:33:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21540#event-57178"
}
```



---

archive/issue_comments_397105.json:
```json
{
    "body": "<a id='comment:6'></a>\nSee also #6546, #20035.",
    "created_at": "2018-04-20T15:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21540#issuecomment-397105",
    "user": "https://github.com/slel"
}
```

<a id='comment:6'></a>
See also #6546, #20035.
