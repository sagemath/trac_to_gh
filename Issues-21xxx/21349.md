# Issue 21349: build verbose upon Python's logging module

archive/issues_021112.json:
```json
{
    "body": "Make SageMath's verbosity system use Python's logging module and explain how to use (basic) logging in SageMath.\n\nSee the discussion on https://groups.google.com/d/msg/sage-devel/TYjZcAg9uT0/Ym-H6KmNAAAJ\n\n**CC:**  @mkoeppe @williamstein @novoselt @jdemeyer\n\n**Branch:** [u/mkoeppe/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/verbose-logger)\n\n**Commit:** [c99238f0a0edc870d13a002c4eb9d08887b1f27f](https://github.com/sagemath/sagetrac-mirror/commit/c99238f0a0edc870d13a002c4eb9d08887b1f27f)\n\n**Work Issues:** rebase on top of #29895; jupyter notebooks\n\n**Author:** Daniel Krenn\n\n**Status:** needs_work\n\n**Dependencies:** #22125, #29895\n\nIssue created by migration from https://trac.sagemath.org/ticket/21349\n\n",
    "created_at": "2016-08-26T17:18:00Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "build verbose upon Python's logging module",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21349",
    "user": "https://github.com/dkrenn"
}
```
Make SageMath's verbosity system use Python's logging module and explain how to use (basic) logging in SageMath.

See the discussion on https://groups.google.com/d/msg/sage-devel/TYjZcAg9uT0/Ym-H6KmNAAAJ

**CC:**  @mkoeppe @williamstein @novoselt @jdemeyer

**Branch:** [u/mkoeppe/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/verbose-logger)

**Commit:** [c99238f0a0edc870d13a002c4eb9d08887b1f27f](https://github.com/sagemath/sagetrac-mirror/commit/c99238f0a0edc870d13a002c4eb9d08887b1f27f)

**Work Issues:** rebase on top of #29895; jupyter notebooks

**Author:** Daniel Krenn

**Status:** needs_work

**Dependencies:** #22125, #29895

Issue created by migration from https://trac.sagemath.org/ticket/21349





---

archive/issue_comments_395295.json:
```json
{
    "body": "**Branch:** [u/dkrenn/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/verbose-logger)",
    "created_at": "2016-08-26T17:22:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395295",
    "user": "https://github.com/dkrenn"
}
```

**Branch:** [u/dkrenn/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/verbose-logger)



---

archive/issue_comments_395296.json:
```json
{
    "body": "**Work_Issues:** use sage.misc.verbose.verbose everywhere",
    "created_at": "2016-08-26T17:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395296",
    "user": "https://github.com/dkrenn"
}
```

**Work_Issues:** use sage.misc.verbose.verbose everywhere



---

archive/issue_comments_395297.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe current branch provides the new functionality and gives a short \"howto\" use Python's logging module.\n\nWhat is left: Update the whole Sage-library to use the new sage.misc.verbose.verbose (it's syntax compatible).\n\nOld sage.misc.misc.verbose is deprecated. Once the deprecation period is over, we can switch to sage.misc.verbose.* in the global name space.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4de749d7537a5f3c0d1ab9c06de5a34a78473622\">4de749d</a></td><td><code>new verbosity system</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f9c85a2691689498ab4072a72794c1888fdc5b8\">6f9c85a</a></td><td><code>Write short howto</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30cde808b4ad8e9bf0335ae9019fe6903dff7d08\">30cde80</a></td><td><code>rename msg to mesg (backward compatibility)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbaccca021b837de255c3a4c6abd4955428cb014\">fbaccca</a></td><td><code>add sage.misc.verbose to documents</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f74e14be42a1f6967263e368f64d712d3550c13\">5f74e14</a></td><td><code>more on docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bd04bc1cdb69617a6a1135771f3637fc5059964\">6bd04bc</a></td><td><code>complete docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ae309b38b213d3c7a9f3e0c01ccd09ca1163f51\">5ae309b</a></td><td><code>deprecate sage.misc.misc.verbose</code></td></tr></table>\n",
    "created_at": "2016-08-26T17:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395297",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:2'></a>
The current branch provides the new functionality and gives a short "howto" use Python's logging module.

What is left: Update the whole Sage-library to use the new sage.misc.verbose.verbose (it's syntax compatible).

Old sage.misc.misc.verbose is deprecated. Once the deprecation period is over, we can switch to sage.misc.verbose.* in the global name space.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4de749d7537a5f3c0d1ab9c06de5a34a78473622">4de749d</a></td><td><code>new verbosity system</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f9c85a2691689498ab4072a72794c1888fdc5b8">6f9c85a</a></td><td><code>Write short howto</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30cde808b4ad8e9bf0335ae9019fe6903dff7d08">30cde80</a></td><td><code>rename msg to mesg (backward compatibility)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbaccca021b837de255c3a4c6abd4955428cb014">fbaccca</a></td><td><code>add sage.misc.verbose to documents</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f74e14be42a1f6967263e368f64d712d3550c13">5f74e14</a></td><td><code>more on docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bd04bc1cdb69617a6a1135771f3637fc5059964">6bd04bc</a></td><td><code>complete docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ae309b38b213d3c7a9f3e0c01ccd09ca1163f51">5ae309b</a></td><td><code>deprecate sage.misc.misc.verbose</code></td></tr></table>




---

archive/issue_comments_395298.json:
```json
{
    "body": "**Commit:** [5ae309b38b213d3c7a9f3e0c01ccd09ca1163f51](https://github.com/sagemath/sagetrac-mirror/commit/5ae309b38b213d3c7a9f3e0c01ccd09ca1163f51)",
    "created_at": "2016-08-26T17:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395298",
    "user": "https://github.com/dkrenn"
}
```

**Commit:** [5ae309b38b213d3c7a9f3e0c01ccd09ca1163f51](https://github.com/sagemath/sagetrac-mirror/commit/5ae309b38b213d3c7a9f3e0c01ccd09ca1163f51)



---

archive/issue_comments_395299.json:
```json
{
    "body": "<a id='comment:3'></a>\nIs this related to #17815?",
    "created_at": "2016-08-26T17:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395299",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:3'></a>
Is this related to #17815?



---

archive/issue_comments_395300.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis needs testing in SageMathCloud and in the notebook.\nA while back, when using Python logging in SMC, I noticed that log messages would end up in the wrong cell (where the logger was initialized). At the time I wrote a (hackish) workaround for my project: https://github.com/mkoeppe/infinite-group-relaxation-code/blob/master/logging.sage",
    "created_at": "2016-08-28T10:49:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395300",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
This needs testing in SageMathCloud and in the notebook.
A while back, when using Python logging in SMC, I noticed that log messages would end up in the wrong cell (where the logger was initialized). At the time I wrote a (hackish) workaround for my project: https://github.com/mkoeppe/infinite-group-relaxation-code/blob/master/logging.sage



---

archive/issue_comments_395301.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [aapitzsch](#comment%3A3):\n> Is this related to #17815?\n\n\nKind of. #17815 means that the following part of [dkrenn](#comment%3A2) is skipped (which is fine for me):\n> Old sage.misc.misc.verbose is deprecated. Once the deprecation period is over, we can switch to sage.misc.verbose.* in the global name space.",
    "created_at": "2016-08-29T13:50:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395301",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:7'></a>
Replying to [aapitzsch](#comment%3A3):
> Is this related to #17815?


Kind of. #17815 means that the following part of [dkrenn](#comment%3A2) is skipped (which is fine for me):
> Old sage.misc.misc.verbose is deprecated. Once the deprecation period is over, we can switch to sage.misc.verbose.* in the global name space.



---

archive/issue_comments_395302.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f35d47270f708302ad5e1d6d94c0b876502e3770\">f35d472</a></td><td><code>replace all of sage.misc.*verbose by sage.verbose.*verbose</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49639fb9dcbc4009a78fb345bcc25cdb72f64c21\">49639fb</a></td><td><code>resolve verbose-nameclash</code></td></tr></table>\n",
    "created_at": "2016-08-29T15:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395302",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f35d47270f708302ad5e1d6d94c0b876502e3770">f35d472</a></td><td><code>replace all of sage.misc.*verbose by sage.verbose.*verbose</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49639fb9dcbc4009a78fb345bcc25cdb72f64c21">49639fb</a></td><td><code>resolve verbose-nameclash</code></td></tr></table>




---

archive/issue_comments_395303.json:
```json
{
    "body": "**Changing commit** from \"[5ae309b38b213d3c7a9f3e0c01ccd09ca1163f51](https://github.com/sagemath/sagetrac-mirror/commit/5ae309b38b213d3c7a9f3e0c01ccd09ca1163f51)\" to \"[49639fb9dcbc4009a78fb345bcc25cdb72f64c21](https://github.com/sagemath/sagetrac-mirror/commit/49639fb9dcbc4009a78fb345bcc25cdb72f64c21)\".",
    "created_at": "2016-08-29T15:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395303",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5ae309b38b213d3c7a9f3e0c01ccd09ca1163f51](https://github.com/sagemath/sagetrac-mirror/commit/5ae309b38b213d3c7a9f3e0c01ccd09ca1163f51)" to "[49639fb9dcbc4009a78fb345bcc25cdb72f64c21](https://github.com/sagemath/sagetrac-mirror/commit/49639fb9dcbc4009a78fb345bcc25cdb72f64c21)".



---

archive/issue_comments_395304.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e63dbd2fba8374aa5df32d54f22f7f6b54cd5c25\">e63dbd2</a></td><td><code>sage.misc.verbose: ?-logger to root-logger</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f455fa19c5005aae6f288ec8085bf61024d61e9\">1f455fa</a></td><td><code>example for suppressing logging</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/258cadac37d586c728c0dd98fe417a3bdbd53ff0\">258cada</a></td><td><code>deprecation warnings in doctests of misc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bae939352277f807004e19108544f6ceecffd65f\">bae9393</a></td><td><code>change logging level from ERROR to WARNING as warnings are shown</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30e067bbdd65228758bba923a9c7566e9a35ebe4\">30e067b</a></td><td><code>adapt doctests</code></td></tr></table>\n",
    "created_at": "2016-08-30T09:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395304",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e63dbd2fba8374aa5df32d54f22f7f6b54cd5c25">e63dbd2</a></td><td><code>sage.misc.verbose: ?-logger to root-logger</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f455fa19c5005aae6f288ec8085bf61024d61e9">1f455fa</a></td><td><code>example for suppressing logging</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/258cadac37d586c728c0dd98fe417a3bdbd53ff0">258cada</a></td><td><code>deprecation warnings in doctests of misc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bae939352277f807004e19108544f6ceecffd65f">bae9393</a></td><td><code>change logging level from ERROR to WARNING as warnings are shown</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30e067bbdd65228758bba923a9c7566e9a35ebe4">30e067b</a></td><td><code>adapt doctests</code></td></tr></table>




---

archive/issue_comments_395305.json:
```json
{
    "body": "**Changing commit** from \"[49639fb9dcbc4009a78fb345bcc25cdb72f64c21](https://github.com/sagemath/sagetrac-mirror/commit/49639fb9dcbc4009a78fb345bcc25cdb72f64c21)\" to \"[30e067bbdd65228758bba923a9c7566e9a35ebe4](https://github.com/sagemath/sagetrac-mirror/commit/30e067bbdd65228758bba923a9c7566e9a35ebe4)\".",
    "created_at": "2016-08-30T09:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395305",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[49639fb9dcbc4009a78fb345bcc25cdb72f64c21](https://github.com/sagemath/sagetrac-mirror/commit/49639fb9dcbc4009a78fb345bcc25cdb72f64c21)" to "[30e067bbdd65228758bba923a9c7566e9a35ebe4](https://github.com/sagemath/sagetrac-mirror/commit/30e067bbdd65228758bba923a9c7566e9a35ebe4)".



---

archive/issue_comments_395306.json:
```json
{
    "body": "**Changing work_issues** from \"use sage.misc.verbose.verbose everywhere\" to \"\".",
    "created_at": "2016-08-30T09:24:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395306",
    "user": "https://github.com/dkrenn"
}
```

**Changing work_issues** from "use sage.misc.verbose.verbose everywhere" to "".



---

archive/issue_comments_395307.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2016-08-30T10:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395307",
    "user": "https://github.com/dkrenn"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_395308.json:
```json
{
    "body": "<a id='comment:12'></a>\nIf this is meant as a replacement for the current 'verbose' system, shouldn't Sage (the application) initialize the logger?\nAlso see comment 5.",
    "created_at": "2016-08-31T14:36:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395308",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
If this is meant as a replacement for the current 'verbose' system, shouldn't Sage (the application) initialize the logger?
Also see comment 5.



---

archive/issue_comments_395309.json:
```json
{
    "body": "<a id='comment:13'></a>\nThanks for working on this!\n\nA quick suggestion (unfortunately, I don't have time for reviewing the code right now): what would you think of adding a semi-standard logging level (say `HINT` to follow Maple's terminology) between `logging.WARNING` and `logging.INFO`? The idea is that `HINT` messages would be similar to `INFO` messages, but *on by default* under the Sage shell/notebook, and could be used (sparingly!) for things that aren't quite warnings but that the user ought to know when using sage interactively (\u201ctry this instead\u201d when returning a probably useless result, for instance).\n\nOn a related note, are you sure that you want to keep exposing and documenting Sage's legacy verbosity levels, instead of just supporting them for compatibility but encouraging everyone to switch to standard `logging` levels?",
    "created_at": "2016-09-01T13:13:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395309",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:13'></a>
Thanks for working on this!

A quick suggestion (unfortunately, I don't have time for reviewing the code right now): what would you think of adding a semi-standard logging level (say `HINT` to follow Maple's terminology) between `logging.WARNING` and `logging.INFO`? The idea is that `HINT` messages would be similar to `INFO` messages, but *on by default* under the Sage shell/notebook, and could be used (sparingly!) for things that aren't quite warnings but that the user ought to know when using sage interactively (“try this instead” when returning a probably useless result, for instance).

On a related note, are you sure that you want to keep exposing and documenting Sage's legacy verbosity levels, instead of just supporting them for compatibility but encouraging everyone to switch to standard `logging` levels?



---

archive/issue_comments_395310.json:
```json
{
    "body": "**Changing commit** from \"[30e067bbdd65228758bba923a9c7566e9a35ebe4](https://github.com/sagemath/sagetrac-mirror/commit/30e067bbdd65228758bba923a9c7566e9a35ebe4)\" to \"[96da863725e42bc095475b12f7a5fc79ff3b1c6a](https://github.com/sagemath/sagetrac-mirror/commit/96da863725e42bc095475b12f7a5fc79ff3b1c6a)\".",
    "created_at": "2016-09-02T14:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395310",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[30e067bbdd65228758bba923a9c7566e9a35ebe4](https://github.com/sagemath/sagetrac-mirror/commit/30e067bbdd65228758bba923a9c7566e9a35ebe4)" to "[96da863725e42bc095475b12f7a5fc79ff3b1c6a](https://github.com/sagemath/sagetrac-mirror/commit/96da863725e42bc095475b12f7a5fc79ff3b1c6a)".



---

archive/issue_comments_395311.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2984341591d1f5a0e7c89c68d59570d2093b7464\">2984341</a></td><td><code>Trac #21349: load logging at startup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a7459ed653ec7b7d141aaf334c98b3fe0032aa9\">8a7459e</a></td><td><code>Trac #21349: encourage Python logging</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa2a8767c1b0e5d191ae80d26033dddc3e80f164\">aa2a876</a></td><td><code>Trac #21349: remove \"import logging\" everywhere since it is now in sage.misc.all</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96da863725e42bc095475b12f7a5fc79ff3b1c6a\">96da863</a></td><td><code>Trac 21349: improve docs</code></td></tr></table>\n",
    "created_at": "2016-09-02T14:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395311",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2984341591d1f5a0e7c89c68d59570d2093b7464">2984341</a></td><td><code>Trac #21349: load logging at startup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a7459ed653ec7b7d141aaf334c98b3fe0032aa9">8a7459e</a></td><td><code>Trac #21349: encourage Python logging</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa2a8767c1b0e5d191ae80d26033dddc3e80f164">aa2a876</a></td><td><code>Trac #21349: remove "import logging" everywhere since it is now in sage.misc.all</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96da863725e42bc095475b12f7a5fc79ff3b1c6a">96da863</a></td><td><code>Trac 21349: improve docs</code></td></tr></table>




---

archive/issue_comments_395312.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [mkoeppe](#comment%3A12):\n> If this is meant as a replacement for the current 'verbose' system, shouldn't Sage (the application) initialize the logger?\n\n\nDone.",
    "created_at": "2016-09-02T14:48:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395312",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:15'></a>
Replying to [mkoeppe](#comment%3A12):
> If this is meant as a replacement for the current 'verbose' system, shouldn't Sage (the application) initialize the logger?


Done.



---

archive/issue_comments_395313.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [mmezzarobba](#comment%3A13):\n> A quick suggestion (unfortunately, I don't have time for reviewing the code right now): what would you think of adding a semi-standard logging level (say `HINT` to follow Maple's terminology) between `logging.WARNING` and `logging.INFO`? The idea is that `HINT` messages would be similar to `INFO` messages, but *on by default* under the Sage shell/notebook, and could be used (sparingly!) for things that aren't quite warnings but that the user ought to know when using sage interactively (\u201ctry this instead\u201d when returning a probably useless result, for instance).\n\n\nIs fine for me; I suggest to put this on a follow-up ticket.",
    "created_at": "2016-09-02T14:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395313",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:16'></a>
Replying to [mmezzarobba](#comment%3A13):
> A quick suggestion (unfortunately, I don't have time for reviewing the code right now): what would you think of adding a semi-standard logging level (say `HINT` to follow Maple's terminology) between `logging.WARNING` and `logging.INFO`? The idea is that `HINT` messages would be similar to `INFO` messages, but *on by default* under the Sage shell/notebook, and could be used (sparingly!) for things that aren't quite warnings but that the user ought to know when using sage interactively (“try this instead” when returning a probably useless result, for instance).


Is fine for me; I suggest to put this on a follow-up ticket.



---

archive/issue_comments_395314.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [mmezzarobba](#comment%3A13):\n> On a related note, are you sure that you want to keep exposing and documenting Sage's legacy verbosity levels, instead of just supporting them for compatibility but encouraging everyone to switch to standard `logging` levels?\n\n\nOk (I think I agree); changed.",
    "created_at": "2016-09-02T14:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395314",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:17'></a>
Replying to [mmezzarobba](#comment%3A13):
> On a related note, are you sure that you want to keep exposing and documenting Sage's legacy verbosity levels, instead of just supporting them for compatibility but encouraging everyone to switch to standard `logging` levels?


Ok (I think I agree); changed.



---

archive/issue_comments_395315.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [mkoeppe](#comment%3A5):\n> This needs testing in SageMathCloud and in the notebook.\n\n\nNo idea what to do here...",
    "created_at": "2016-09-02T14:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395315",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:18'></a>
Replying to [mkoeppe](#comment%3A5):
> This needs testing in SageMathCloud and in the notebook.


No idea what to do here...



---

archive/issue_comments_395316.json:
```json
{
    "body": "**Changing commit** from \"[96da863725e42bc095475b12f7a5fc79ff3b1c6a](https://github.com/sagemath/sagetrac-mirror/commit/96da863725e42bc095475b12f7a5fc79ff3b1c6a)\" to \"[d79caa22837a30727e58dec7b41092c6107b5a96](https://github.com/sagemath/sagetrac-mirror/commit/d79caa22837a30727e58dec7b41092c6107b5a96)\".",
    "created_at": "2016-09-02T15:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[96da863725e42bc095475b12f7a5fc79ff3b1c6a](https://github.com/sagemath/sagetrac-mirror/commit/96da863725e42bc095475b12f7a5fc79ff3b1c6a)" to "[d79caa22837a30727e58dec7b41092c6107b5a96](https://github.com/sagemath/sagetrac-mirror/commit/d79caa22837a30727e58dec7b41092c6107b5a96)".



---

archive/issue_comments_395317.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d79caa22837a30727e58dec7b41092c6107b5a96\">d79caa2</a></td><td><code>Trac #21349: forgotten :: in docs</code></td></tr></table>\n",
    "created_at": "2016-09-02T15:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395317",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d79caa22837a30727e58dec7b41092c6107b5a96">d79caa2</a></td><td><code>Trac #21349: forgotten :: in docs</code></td></tr></table>




---

archive/issue_comments_395318.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [dkrenn](#comment%3A18):\n> Replying to [mkoeppe](#comment%3A5):\n> > This needs testing in SageMathCloud and in the notebook.\n\n> \n> No idea what to do here...\n\n\nFor SageMathCloud: https://github.com/sagemathinc/smc/wiki/SageMath-Development-on-SageMathCloud",
    "created_at": "2016-09-03T23:14:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395318",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
Replying to [dkrenn](#comment%3A18):
> Replying to [mkoeppe](#comment%3A5):
> > This needs testing in SageMathCloud and in the notebook.

> 
> No idea what to do here...


For SageMathCloud: https://github.com/sagemathinc/smc/wiki/SageMath-Development-on-SageMathCloud



---

archive/issue_comments_395319.json:
```json
{
    "body": "<a id='comment:21'></a>\nI don't see any reason why this would impact SageMathCloud (really just Ubuntu 16.04).  We'll test there when the next beta is released and open a ticket if there are any problems.    (Thanks for being considerate and worrying about testing there.)",
    "created_at": "2016-09-03T23:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395319",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:21'></a>
I don't see any reason why this would impact SageMathCloud (really just Ubuntu 16.04).  We'll test there when the next beta is released and open a ticket if there are any problems.    (Thanks for being considerate and worrying about testing there.)



---

archive/issue_comments_395320.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [was](#comment%3A21):\n> I don't see any reason why this would impact SageMathCloud (really just Ubuntu 16.04).  We'll test there when the next beta is released and open a ticket if there are any problems.    (Thanks for being considerate and worrying about testing there.)\n\n\nIt's not about the OS. \nPython's logging, or rather the way that this patch intends to use it to replace the verbose facility, \"does not work\" in SageMathCloud. Try this example, from the patch on this ticket, in SMC.\n\n```\n+    sage: import logging\n+    sage: logging.basicConfig()\n+\n+Setting the level::\n+\n+    sage: logging.getLogger().setLevel(logging.INFO)\n+\n+Log something::\n+\n+    sage: logger = logging.getLogger(__name__)\n+    sage: logger.info('Hello. I am talking to you.')\n+    INFO:__main__:Hello. I am talking to you.\n```\nSee comment 5 for more info",
    "created_at": "2016-09-03T23:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395320",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
Replying to [was](#comment%3A21):
> I don't see any reason why this would impact SageMathCloud (really just Ubuntu 16.04).  We'll test there when the next beta is released and open a ticket if there are any problems.    (Thanks for being considerate and worrying about testing there.)


It's not about the OS. 
Python's logging, or rather the way that this patch intends to use it to replace the verbose facility, "does not work" in SageMathCloud. Try this example, from the patch on this ticket, in SMC.

```
+    sage: import logging
+    sage: logging.basicConfig()
+
+Setting the level::
+
+    sage: logging.getLogger().setLevel(logging.INFO)
+
+Log something::
+
+    sage: logger = logging.getLogger(__name__)
+    sage: logger.info('Hello. I am talking to you.')
+    INFO:__main__:Hello. I am talking to you.
```
See comment 5 for more info



---

archive/issue_comments_395321.json:
```json
{
    "body": "<a id='comment:23'></a>\nI see -- the logger must not use sys.stdout (or sys.stderr).  Argh.   Does this fully work with Jupyter?  Does jupyter do something special to deal with this.",
    "created_at": "2016-09-04T00:03:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395321",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:23'></a>
I see -- the logger must not use sys.stdout (or sys.stderr).  Argh.   Does this fully work with Jupyter?  Does jupyter do something special to deal with this.



---

archive/issue_comments_395322.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [was](#comment%3A23):\n> I see -- the logger must not use sys.stdout (or sys.stderr).  Argh.   Does this fully work with Jupyter?  Does jupyter do something special to deal with this.\n\nI don't know. I have only tested logging in the ipython shell, the sage notebook and SMC.",
    "created_at": "2016-09-04T00:06:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395322",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
Replying to [was](#comment%3A23):
> I see -- the logger must not use sys.stdout (or sys.stderr).  Argh.   Does this fully work with Jupyter?  Does jupyter do something special to deal with this.

I don't know. I have only tested logging in the ipython shell, the sage notebook and SMC.



---

archive/issue_comments_395323.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [mkoeppe](#comment%3A24):\n> Replying to [was](#comment%3A23):\n> > I see -- the logger must not use sys.stdout (or sys.stderr).  Argh.   Does this fully work with Jupyter?  Does jupyter do something special to deal with this.\n\n\nWhen using a Jupyter notebook (using `sage --notebook=jupyter`), the log messages end up in the terminal rather than in the notebook:\n\n```\n[I 19:24:29.026 NotebookApp] Kernel started: 6f4e0b9a-ad72-4147-99c6-f9dae1282fda\nINFO:__main__:Hello. I am talking to you.\n```",
    "created_at": "2016-09-04T02:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395323",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Replying to [mkoeppe](#comment%3A24):
> Replying to [was](#comment%3A23):
> > I see -- the logger must not use sys.stdout (or sys.stderr).  Argh.   Does this fully work with Jupyter?  Does jupyter do something special to deal with this.


When using a Jupyter notebook (using `sage --notebook=jupyter`), the log messages end up in the terminal rather than in the notebook:

```
[I 19:24:29.026 NotebookApp] Kernel started: 6f4e0b9a-ad72-4147-99c6-f9dae1282fda
INFO:__main__:Hello. I am talking to you.
```



---

archive/issue_comments_395324.json:
```json
{
    "body": "**Work_Issues:** jupyter notebooks",
    "created_at": "2016-09-04T02:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395324",
    "user": "https://github.com/mkoeppe"
}
```

**Work_Issues:** jupyter notebooks



---

archive/issue_comments_395325.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2016-09-04T02:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395325",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_395326.json:
```json
{
    "body": "<a id='comment:27'></a>\nLikewise in [SageMathCell](SageMathCell) (http://sagecell.sagemath.org/).",
    "created_at": "2016-09-08T18:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395326",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
Likewise in [SageMathCell](SageMathCell) (http://sagecell.sagemath.org/).



---

archive/issue_comments_395327.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [mkoeppe](#comment%3A25):\n> Replying to [mkoeppe](#comment%3A24):\n> > Replying to [was](#comment%3A23):\n> > > I see -- the logger must not use sys.stdout (or sys.stderr).  Argh.   Does this fully work with Jupyter?  Does jupyter do something special to deal with this.\n\n> \n> When using a Jupyter notebook (using `sage --notebook=jupyter`), the log messages end up in the terminal rather than in the notebook:\n> \n> ```\n> [I 19:24:29.026 NotebookApp] Kernel started: 6f4e0b9a-ad72-4147-99c6-f9dae1282fda\n> INFO:__main__:Hello. I am talking to you.\n> ```\n\n\nDoes anyone know how to fix this?",
    "created_at": "2016-09-08T19:05:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395327",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:28'></a>
Replying to [mkoeppe](#comment%3A25):
> Replying to [mkoeppe](#comment%3A24):
> > Replying to [was](#comment%3A23):
> > > I see -- the logger must not use sys.stdout (or sys.stderr).  Argh.   Does this fully work with Jupyter?  Does jupyter do something special to deal with this.

> 
> When using a Jupyter notebook (using `sage --notebook=jupyter`), the log messages end up in the terminal rather than in the notebook:
> 
> ```
> [I 19:24:29.026 NotebookApp] Kernel started: 6f4e0b9a-ad72-4147-99c6-f9dae1282fda
> INFO:__main__:Hello. I am talking to you.
> ```


Does anyone know how to fix this?



---

archive/issue_comments_395328.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [dkrenn](#comment%3A28):\n> Does anyone know how to fix this?\n\n\nSee the link in comment 5.",
    "created_at": "2016-09-08T19:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395328",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Replying to [dkrenn](#comment%3A28):
> Does anyone know how to fix this?


See the link in comment 5.



---

archive/issue_comments_395329.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [mkoeppe](#comment%3A29):\n> Replying to [dkrenn](#comment%3A28):\n> > Does anyone know how to fix this?\n\n> \n> See the link in comment 5.\n\n\nYes, I've looked at this before. Can you (or someone else who is knowing something about these stream handlers) include the relevant part(s) of code here in the branch on this ticket?",
    "created_at": "2016-09-08T19:21:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395329",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:30'></a>
Replying to [mkoeppe](#comment%3A29):
> Replying to [dkrenn](#comment%3A28):
> > Does anyone know how to fix this?

> 
> See the link in comment 5.


Yes, I've looked at this before. Can you (or someone else who is knowing something about these stream handlers) include the relevant part(s) of code here in the branch on this ticket?



---

archive/issue_comments_395330.json:
```json
{
    "body": "**Changing branch** from \"[u/dkrenn/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/verbose-logger)\" to \"[u/mkoeppe/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/verbose-logger)\".",
    "created_at": "2016-09-08T20:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395330",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/dkrenn/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/verbose-logger)" to "[u/mkoeppe/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/verbose-logger)".



---

archive/issue_comments_395331.json:
```json
{
    "body": "**Changing commit** from \"[d79caa22837a30727e58dec7b41092c6107b5a96](https://github.com/sagemath/sagetrac-mirror/commit/d79caa22837a30727e58dec7b41092c6107b5a96)\" to \"[5ed1e442b64115a747ab90881e615d5246994278](https://github.com/sagemath/sagetrac-mirror/commit/5ed1e442b64115a747ab90881e615d5246994278)\".",
    "created_at": "2016-09-08T20:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395331",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[d79caa22837a30727e58dec7b41092c6107b5a96](https://github.com/sagemath/sagetrac-mirror/commit/d79caa22837a30727e58dec7b41092c6107b5a96)" to "[5ed1e442b64115a747ab90881e615d5246994278](https://github.com/sagemath/sagetrac-mirror/commit/5ed1e442b64115a747ab90881e615d5246994278)".



---

archive/issue_comments_395332.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [dkrenn](#comment%3A30):\n>  Can you (or someone else who is knowing something about these stream handlers) include the relevant part(s) of code here in the branch on this ticket?\n\n\nI've added something based on that code.\nDoesn't work yet with the Jupyter notebook, either because there's already a handler installed when `basic_sage_logging_config` is called or something overrides it later. This needs investigating\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37425ee40dba45281464e6520b8f5d28f3f5c8a7\">37425ee</a></td><td><code>Merge tag '7.4.beta3' into t/21349/verbose-logger</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ed1e442b64115a747ab90881e615d5246994278\">5ed1e44</a></td><td><code>DynamicStdErrStreamHandler, basic_sage_logging_config: New</code></td></tr></table>\n",
    "created_at": "2016-09-08T20:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395332",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>
Replying to [dkrenn](#comment%3A30):
>  Can you (or someone else who is knowing something about these stream handlers) include the relevant part(s) of code here in the branch on this ticket?


I've added something based on that code.
Doesn't work yet with the Jupyter notebook, either because there's already a handler installed when `basic_sage_logging_config` is called or something overrides it later. This needs investigating

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37425ee40dba45281464e6520b8f5d28f3f5c8a7">37425ee</a></td><td><code>Merge tag '7.4.beta3' into t/21349/verbose-logger</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ed1e442b64115a747ab90881e615d5246994278">5ed1e44</a></td><td><code>DynamicStdErrStreamHandler, basic_sage_logging_config: New</code></td></tr></table>




---

archive/issue_comments_395333.json:
```json
{
    "body": "<a id='comment:33'></a>\nAbout SageMathCell - logging is already used there with the relevant file https://github.com/sagemath/sagecell/blob/master/log.py\n\nI don't recall much detail by now, but when I was making things work the problem was that IPython and tornado are trying to install their own loggers as well and perform global initialization if they don't detect one present. Listing all loggers/handlers after startup in a particular environment may be helpful to figuring out what to do.",
    "created_at": "2016-09-09T01:15:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395333",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:33'></a>
About SageMathCell - logging is already used there with the relevant file https://github.com/sagemath/sagecell/blob/master/log.py

I don't recall much detail by now, but when I was making things work the problem was that IPython and tornado are trying to install their own loggers as well and perform global initialization if they don't detect one present. Listing all loggers/handlers after startup in a particular environment may be helpful to figuring out what to do.



---

archive/issue_comments_395334.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/verbose-logger)\" to \"[u/dkrenn/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/verbose-logger)\".",
    "created_at": "2016-11-24T18:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395334",
    "user": "https://github.com/dkrenn"
}
```

**Changing branch** from "[u/mkoeppe/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/verbose-logger)" to "[u/dkrenn/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/verbose-logger)".



---

archive/issue_comments_395335.json:
```json
{
    "body": "<a id='comment:35'></a>\nRelated: https://github.com/ipython/ipykernel/issues/111\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4a5d51a95e69b33c27442d54fbe0a256c674740\">c4a5d51</a></td><td><code>Merge tag '7.4.beta3' into t/21349/verbose-logger</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ad30b6dad2a2602679c25199ff94fc31a2720eb\">7ad30b6</a></td><td><code>Merge branch 'u/mkoeppe/verbose-logger' of trac.sagemath.org:sage into t/21349/verbose-logger</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de54c71b85a679b278a4caf36e6331c89eccf187\">de54c71</a></td><td><code>Merge tag '7.5.beta3' into t/21349/verbose-logger</code></td></tr></table>\n",
    "created_at": "2017-01-11T00:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395335",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>
Related: https://github.com/ipython/ipykernel/issues/111

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4a5d51a95e69b33c27442d54fbe0a256c674740">c4a5d51</a></td><td><code>Merge tag '7.4.beta3' into t/21349/verbose-logger</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ad30b6dad2a2602679c25199ff94fc31a2720eb">7ad30b6</a></td><td><code>Merge branch 'u/mkoeppe/verbose-logger' of trac.sagemath.org:sage into t/21349/verbose-logger</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de54c71b85a679b278a4caf36e6331c89eccf187">de54c71</a></td><td><code>Merge tag '7.5.beta3' into t/21349/verbose-logger</code></td></tr></table>




---

archive/issue_comments_395336.json:
```json
{
    "body": "**Changing commit** from \"[5ed1e442b64115a747ab90881e615d5246994278](https://github.com/sagemath/sagetrac-mirror/commit/5ed1e442b64115a747ab90881e615d5246994278)\" to \"[de54c71b85a679b278a4caf36e6331c89eccf187](https://github.com/sagemath/sagetrac-mirror/commit/de54c71b85a679b278a4caf36e6331c89eccf187)\".",
    "created_at": "2017-01-11T00:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395336",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[5ed1e442b64115a747ab90881e615d5246994278](https://github.com/sagemath/sagetrac-mirror/commit/5ed1e442b64115a747ab90881e615d5246994278)" to "[de54c71b85a679b278a4caf36e6331c89eccf187](https://github.com/sagemath/sagetrac-mirror/commit/de54c71b85a679b278a4caf36e6331c89eccf187)".



---

archive/issue_events_064564.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-01-11T00:34:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64564"
}
```



---

archive/issue_comments_395337.json:
```json
{
    "body": "**Dependencies:** #22125",
    "created_at": "2017-01-11T00:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395337",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #22125



---

archive/issue_comments_395338.json:
```json
{
    "body": "<a id='comment:36'></a>\nThe upstream fix for the logging problem in Jupyter notebooks appears to be fixed in newer versions of ipykernel. \n#22125 upgrades to 4.5.2, which should be new enough (haven't tested).\nIs it possible to add doctests for this?",
    "created_at": "2017-01-11T00:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395338",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>
The upstream fix for the logging problem in Jupyter notebooks appears to be fixed in newer versions of ipykernel. 
#22125 upgrades to 4.5.2, which should be new enough (haven't tested).
Is it possible to add doctests for this?



---

archive/issue_events_064565.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-18T18:09:22Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64565"
}
```



---

archive/issue_events_064566.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-18T18:09:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64566"
}
```



---

archive/issue_comments_395339.json:
```json
{
    "body": "**Changing dependencies** from \"#22125\" to \"#22125, #29895\".",
    "created_at": "2020-06-18T20:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395339",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#22125" to "#22125, #29895".



---

archive/issue_comments_395340.json:
```json
{
    "body": "**Changing branch** from \"[u/dkrenn/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/verbose-logger)\" to \"[u/mkoeppe/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/verbose-logger)\".",
    "created_at": "2020-06-18T21:09:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395340",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/dkrenn/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/verbose-logger)" to "[u/mkoeppe/verbose-logger](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/verbose-logger)".



---

archive/issue_comments_395341.json:
```json
{
    "body": "<a id='comment:40'></a>\nPushed a partial rebase of this branch, dropping a few commits that updated imports and tests throughout the sage library. It will be easier to redo them than to try to rebase them.\n\n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11562cd93813d6d735813205acdbaf67ff2b5d31\">11562cd</a></td><td><code>more on docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/591c56c6b1295341758b0e390bf3dca5a2cb9ece\">591c56c</a></td><td><code>complete docstrings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bf2fe96c03d4c0d024ce17978832558346fed69\">7bf2fe9</a></td><td><code>deprecate sage.misc.misc.verbose</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf488ce5e15b67709b70583e3a10ba96ccf3c3de\">cf488ce</a></td><td><code>sage.misc.verbose: ?-logger to root-logger</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd5c3ff5b5fe3b227b8380595131658e0d409fdd\">bd5c3ff</a></td><td><code>example for suppressing logging</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba9a5d37edd645876b919b07145ae4136a683181\">ba9a5d3</a></td><td><code>deprecation warnings in doctests of misc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0f357d5e70638c2ef163a4cf071c226f746709e\">c0f357d</a></td><td><code>Trac #21349: load logging at startup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94442563f3d42aad245536a136c79e79d48f5125\">9444256</a></td><td><code>Trac #21349: encourage Python logging</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57eb2c8cab9521226fd06b7cb8f42bca610a8040\">57eb2c8</a></td><td><code>Trac 21349: improve docs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c99238f0a0edc870d13a002c4eb9d08887b1f27f\">c99238f</a></td><td><code>DynamicStdErrStreamHandler, basic_sage_logging_config: New</code></td></tr></table>\n",
    "created_at": "2020-06-18T21:10:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395341",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'></a>
Pushed a partial rebase of this branch, dropping a few commits that updated imports and tests throughout the sage library. It will be easier to redo them than to try to rebase them.

---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11562cd93813d6d735813205acdbaf67ff2b5d31">11562cd</a></td><td><code>more on docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/591c56c6b1295341758b0e390bf3dca5a2cb9ece">591c56c</a></td><td><code>complete docstrings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bf2fe96c03d4c0d024ce17978832558346fed69">7bf2fe9</a></td><td><code>deprecate sage.misc.misc.verbose</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf488ce5e15b67709b70583e3a10ba96ccf3c3de">cf488ce</a></td><td><code>sage.misc.verbose: ?-logger to root-logger</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd5c3ff5b5fe3b227b8380595131658e0d409fdd">bd5c3ff</a></td><td><code>example for suppressing logging</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba9a5d37edd645876b919b07145ae4136a683181">ba9a5d3</a></td><td><code>deprecation warnings in doctests of misc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0f357d5e70638c2ef163a4cf071c226f746709e">c0f357d</a></td><td><code>Trac #21349: load logging at startup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94442563f3d42aad245536a136c79e79d48f5125">9444256</a></td><td><code>Trac #21349: encourage Python logging</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57eb2c8cab9521226fd06b7cb8f42bca610a8040">57eb2c8</a></td><td><code>Trac 21349: improve docs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c99238f0a0edc870d13a002c4eb9d08887b1f27f">c99238f</a></td><td><code>DynamicStdErrStreamHandler, basic_sage_logging_config: New</code></td></tr></table>




---

archive/issue_comments_395342.json:
```json
{
    "body": "**Changing commit** from \"[de54c71b85a679b278a4caf36e6331c89eccf187](https://github.com/sagemath/sagetrac-mirror/commit/de54c71b85a679b278a4caf36e6331c89eccf187)\" to \"[c99238f0a0edc870d13a002c4eb9d08887b1f27f](https://github.com/sagemath/sagetrac-mirror/commit/c99238f0a0edc870d13a002c4eb9d08887b1f27f)\".",
    "created_at": "2020-06-18T21:10:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395342",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[de54c71b85a679b278a4caf36e6331c89eccf187](https://github.com/sagemath/sagetrac-mirror/commit/de54c71b85a679b278a4caf36e6331c89eccf187)" to "[c99238f0a0edc870d13a002c4eb9d08887b1f27f](https://github.com/sagemath/sagetrac-mirror/commit/c99238f0a0edc870d13a002c4eb9d08887b1f27f)".



---

archive/issue_comments_395343.json:
```json
{
    "body": "**Changing work_issues** from \"jupyter notebooks\" to \"rebase on top of #29895; jupyter notebooks\".",
    "created_at": "2020-06-19T05:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395343",
    "user": "https://github.com/mkoeppe"
}
```

**Changing work_issues** from "jupyter notebooks" to "rebase on top of #29895; jupyter notebooks".



---

archive/issue_events_064567.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64567"
}
```



---

archive/issue_events_064568.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64568"
}
```



---

archive/issue_comments_395344.json:
```json
{
    "body": "<a id='comment:43'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395344",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_064569.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64569"
}
```



---

archive/issue_events_064570.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64570"
}
```



---

archive/issue_comments_395345.json:
```json
{
    "body": "<a id='comment:44'></a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21349#issuecomment-395345",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'></a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_064571.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64571"
}
```



---

archive/issue_events_064572.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64572"
}
```



---

archive/issue_events_064573.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64573"
}
```



---

archive/issue_events_064574.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64574"
}
```



---

archive/issue_events_064575.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64575"
}
```



---

archive/issue_events_064576.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64576"
}
```



---

archive/issue_events_064577.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64577"
}
```



---

archive/issue_events_064578.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21349",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21349#event-64578"
}
```
