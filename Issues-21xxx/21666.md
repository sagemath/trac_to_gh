# Issue 21666: Changes to Posets.DivisorLattice()

archive/issues_021429.json:
```json
{
    "body": "This is kind of first part of #17147.\n\nThis will 1) make `Posets.DivisorLattice(n)` faster; for example for `n=123456789098765432100` it took 0,87 seconds without this, 0,17 seconds after this, and 2) make the linear extension to always be ascending numbers; try for example `Posets.DivisorLattice(12).meet_irreducibles()`.\n\nIf this breaks nothing I will continue with other poset examples.\n\n\nBranch/Commit: 60c6ee1a297aed26352659dd23de1e2f42450bae\n\nReviewer: Travis Scrimshaw\n\nAuthor: Jori M\u00e4ntysalo\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21666\n\n",
    "closed_at": "2016-10-29T14:27:58Z",
    "created_at": "2016-10-08T08:13:54Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "Changes to Posets.DivisorLattice()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21666",
    "user": "https://github.com/jm58660"
}
```
This is kind of first part of #17147.

This will 1) make `Posets.DivisorLattice(n)` faster; for example for `n=123456789098765432100` it took 0,87 seconds without this, 0,17 seconds after this, and 2) make the linear extension to always be ascending numbers; try for example `Posets.DivisorLattice(12).meet_irreducibles()`.

If this breaks nothing I will continue with other poset examples.


Branch/Commit: 60c6ee1a297aed26352659dd23de1e2f42450bae

Reviewer: Travis Scrimshaw

Author: Jori MÃ¤ntysalo

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21666





---

archive/issue_comments_402523.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jmantysalo/faster-DivisorLattice\"",
    "created_at": "2016-10-08T08:14:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402523",
    "user": "https://github.com/jm58660"
}
```

Changing branch from "" to "u/jmantysalo/faster-DivisorLattice"



---

archive/issue_comments_402524.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[8ee46bc](https://github.com/sagemath/sagetrac-mirror/commit/8ee46bce3159d9dd51e7fd1639e67cd4a2790f25)|`Modify DivisorLattice(n).`|",
    "created_at": "2016-10-08T08:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402524",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[8ee46bc](https://github.com/sagemath/sagetrac-mirror/commit/8ee46bce3159d9dd51e7fd1639e67cd4a2790f25)|`Modify DivisorLattice(n).`|



---

archive/issue_comments_402525.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-10-08T08:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402525",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_402526.json:
```json
{
    "body": "Changing commit from \"\" to \"8ee46bce3159d9dd51e7fd1639e67cd4a2790f25\"",
    "created_at": "2016-10-08T08:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402526",
    "user": "https://github.com/jm58660"
}
```

Changing commit from "" to "8ee46bce3159d9dd51e7fd1639e67cd4a2790f25"



---

archive/issue_comments_402527.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2016-10-08T14:30:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402527",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_402528.json:
```json
{
    "body": "<a id='comment:3'></a>\nTrivial thing, you don't need the parentheses here: `from sage.arith.misc import (divisors, is_prime)`. You can set a positive review on my behalf.",
    "created_at": "2016-10-08T14:30:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402528",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
Trivial thing, you don't need the parentheses here: `from sage.arith.misc import (divisors, is_prime)`. You can set a positive review on my behalf.



---

archive/issue_comments_402529.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[87bd385](https://github.com/sagemath/sagetrac-mirror/commit/87bd385c77dde049d146ac317309dec372e255f0)|`Parentheses from import.`|",
    "created_at": "2016-10-08T15:58:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[87bd385](https://github.com/sagemath/sagetrac-mirror/commit/87bd385c77dde049d146ac317309dec372e255f0)|`Parentheses from import.`|



---

archive/issue_comments_402530.json:
```json
{
    "body": "Changing commit from \"8ee46bce3159d9dd51e7fd1639e67cd4a2790f25\" to \"87bd385c77dde049d146ac317309dec372e255f0\"",
    "created_at": "2016-10-08T15:58:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402530",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8ee46bce3159d9dd51e7fd1639e67cd4a2790f25" to "87bd385c77dde049d146ac317309dec372e255f0"



---

archive/issue_comments_402531.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-10-08T15:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402531",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_402532.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [tscrim](#comment%3A3):\n> Trivial thing, you don't need the parentheses here: `from sage.arith.misc import (divisors, is_prime)`. You can set a positive review on my behalf.\n\n\nDone that.",
    "created_at": "2016-10-08T15:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402532",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:5'></a>
Replying to [tscrim](#comment%3A3):
> Trivial thing, you don't need the parentheses here: `from sage.arith.misc import (divisors, is_prime)`. You can set a positive review on my behalf.


Done that.



---

archive/issue_comments_402533.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2016-10-16T07:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402533",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_402534.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                           |                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[5ae54b3](https://github.com/sagemath/sagetrac-mirror/commit/5ae54b3cc5b1ce336cd4d8e1fcefb84119f1ccf0)|`Make LatticePoset(..., linear_extension=True) work.`|",
    "created_at": "2016-10-16T07:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402534",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                           |                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[5ae54b3](https://github.com/sagemath/sagetrac-mirror/commit/5ae54b3cc5b1ce336cd4d8e1fcefb84119f1ccf0)|`Make LatticePoset(..., linear_extension=True) work.`|



---

archive/issue_comments_402535.json:
```json
{
    "body": "Changing commit from \"87bd385c77dde049d146ac317309dec372e255f0\" to \"5ae54b3cc5b1ce336cd4d8e1fcefb84119f1ccf0\"",
    "created_at": "2016-10-16T07:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402535",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "87bd385c77dde049d146ac317309dec372e255f0" to "5ae54b3cc5b1ce336cd4d8e1fcefb84119f1ccf0"



---

archive/issue_comments_402536.json:
```json
{
    "body": "<a id='comment:7'></a>\nTo fix things, you should create a new branch that is at the current commit (5ae54b3) and then reset this branch to the previous commit (87bd385). This will involve a force push here, but that's okay.\n\nEdit - Actually, if you want to remove the dependency of #20434 on this, you could cherry-pick the commit 5ae54b3 onto a new branch.",
    "created_at": "2016-10-16T13:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402536",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
To fix things, you should create a new branch that is at the current commit (5ae54b3) and then reset this branch to the previous commit (87bd385). This will involve a force push here, but that's okay.

Edit - Actually, if you want to remove the dependency of #20434 on this, you could cherry-pick the commit 5ae54b3 onto a new branch.



---

archive/issue_comments_402537.json:
```json
{
    "body": "<a id='comment:8'></a>\nAnother possibility: Can you review this, if I change the description?\n\nNot very nice to have so unrelated modifications in one ticket, but...",
    "created_at": "2016-10-16T18:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402537",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:8'></a>
Another possibility: Can you review this, if I change the description?

Not very nice to have so unrelated modifications in one ticket, but...



---

archive/issue_comments_402538.json:
```json
{
    "body": "Changing branch from \"u/jmantysalo/faster-DivisorLattice\" to \"public/posets/faster_DivisorLattice-21666\"",
    "created_at": "2016-10-17T18:10:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402538",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "u/jmantysalo/faster-DivisorLattice" to "public/posets/faster_DivisorLattice-21666"



---

archive/issue_comments_402539.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-10-17T18:10:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402539",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_402540.json:
```json
{
    "body": "Changing commit from \"5ae54b3cc5b1ce336cd4d8e1fcefb84119f1ccf0\" to \"60c6ee1a297aed26352659dd23de1e2f42450bae\"",
    "created_at": "2016-10-17T18:10:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402540",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "5ae54b3cc5b1ce336cd4d8e1fcefb84119f1ccf0" to "60c6ee1a297aed26352659dd23de1e2f42450bae"



---

archive/issue_comments_402541.json:
```json
{
    "body": "<a id='comment:9'></a>\nFixed the git branch issues with #20434.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------|\n|[aaf79c6](https://github.com/sagemath/sagetrac-mirror/commit/aaf79c63ee1d6d7dbe2137dd008ece2950330094)|`Merge branch 'u/jmantysalo/faster-DivisorLattice' of git://trac.sagemath.org/sage into u/jmantysalo/faster-DivisorLattice`|\n|[60c6ee1](https://github.com/sagemath/sagetrac-mirror/commit/60c6ee1a297aed26352659dd23de1e2f42450bae)|`Revert \"Make LatticePoset(..., linear_extension=True) work.\"`|",
    "created_at": "2016-10-17T18:10:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402541",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
Fixed the git branch issues with #20434.

---
New commits:
|                                                                                                                                          |                                                                                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------|
|[aaf79c6](https://github.com/sagemath/sagetrac-mirror/commit/aaf79c63ee1d6d7dbe2137dd008ece2950330094)|`Merge branch 'u/jmantysalo/faster-DivisorLattice' of git://trac.sagemath.org/sage into u/jmantysalo/faster-DivisorLattice`|
|[60c6ee1](https://github.com/sagemath/sagetrac-mirror/commit/60c6ee1a297aed26352659dd23de1e2f42450bae)|`Revert "Make LatticePoset(..., linear_extension=True) work."`|



---

archive/issue_comments_402542.json:
```json
{
    "body": "<a id='comment:10'></a>\nThanks!",
    "created_at": "2016-10-17T19:36:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402542",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:10'></a>
Thanks!



---

archive/issue_comments_402543.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-10-29T14:27:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402543",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_065278.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-29T14:27:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21666#event-65278"
}
```



---

archive/issue_comments_402544.json:
```json
{
    "body": "Changing branch from \"public/posets/faster_DivisorLattice-21666\" to \"60c6ee1a297aed26352659dd23de1e2f42450bae\"",
    "created_at": "2016-10-29T14:27:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21666#issuecomment-402544",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/posets/faster_DivisorLattice-21666" to "60c6ee1a297aed26352659dd23de1e2f42450bae"
