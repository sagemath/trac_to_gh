# Issue 21741: Errors on empty graph

archive/issues_021504.json:
```json
{
    "assignees": [],
    "body": "For example\n\n```\nG = Graph()\nknown_kaboom = ['is_prime', 'layout_graphviz']\nerrors = []\nfor f in [y for y in dir(G) if y[0] != '_']:\n    if f in known_kaboom:\n        continue\n    try:\n        attrcall(f)(G)\n    except TypeError as e:\n        if \"takes exactly\" in e.message:\n            continue\n    except Exception as e:\n        print(f, e)\n        print\n        errors.append(f)\n        continue\nerrors\n```\n\nshows some errors on empty graph (or more general in a corner case: `eulerian_circuit` on any graph without edges). Correct them.\n\n\n**Branch/Commit:** [d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4](https://github.com/sagemath/sagetrac-mirror/commit/d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4)\n\n**Reviewer:** Thierry Monteil, Peleg Michaeli, David Coudert\n\n**Author:** Jori M\u00e4ntysalo\n\nIssue created by migration from https://trac.sagemath.org/ticket/21741\n\n",
    "closed_at": "2017-02-11T10:22:42Z",
    "created_at": "2016-10-22T15:05:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Errors on empty graph",
    "type": "issue",
    "updated_at": "2017-02-11T10:22:42Z",
    "url": "https://github.com/sagemath/sage/issues/21741",
    "user": "https://github.com/jm58660"
}
```
For example

```
G = Graph()
known_kaboom = ['is_prime', 'layout_graphviz']
errors = []
for f in [y for y in dir(G) if y[0] != '_']:
    if f in known_kaboom:
        continue
    try:
        attrcall(f)(G)
    except TypeError as e:
        if "takes exactly" in e.message:
            continue
    except Exception as e:
        print(f, e)
        print
        errors.append(f)
        continue
errors
```

shows some errors on empty graph (or more general in a corner case: `eulerian_circuit` on any graph without edges). Correct them.


**Branch/Commit:** [d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4](https://github.com/sagemath/sagetrac-mirror/commit/d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4)

**Reviewer:** Thierry Monteil, Peleg Michaeli, David Coudert

**Author:** Jori MÃ¤ntysalo

Issue created by migration from https://trac.sagemath.org/ticket/21741





---

archive/issue_events_264278.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-22T15:05:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264278"
}
```



---

archive/issue_events_264279.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-22T15:05:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "08517b",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264279"
}
```



---

archive/issue_events_264280.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-22T15:05:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "008080",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264280"
}
```



---

archive/issue_comments_322138.json:
```json
{
    "body": "**Branch:** [u/jmantysalo/errors_on_empty_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/errors_on_empty_graph)",
    "created_at": "2016-10-22T16:00:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322138",
    "user": "https://github.com/jm58660"
}
```

**Branch:** [u/jmantysalo/errors_on_empty_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/errors_on_empty_graph)



---

archive/issue_comments_322139.json:
```json
{
    "body": "**Commit:** [e9ed9b1b750380f7a719ade05a93aaf8b67041f7](https://github.com/sagemath/sagetrac-mirror/commit/e9ed9b1b750380f7a719ade05a93aaf8b67041f7)",
    "created_at": "2016-10-22T17:19:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322139",
    "user": "https://github.com/sagetrac-git"
}
```

**Commit:** [e9ed9b1b750380f7a719ade05a93aaf8b67041f7](https://github.com/sagemath/sagetrac-mirror/commit/e9ed9b1b750380f7a719ade05a93aaf8b67041f7)



---

archive/issue_comments_322140.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9ed9b1b750380f7a719ade05a93aaf8b67041f7\">e9ed9b1</a></td><td><code>Corrections to part 1.</code></td></tr></table>\n",
    "created_at": "2016-10-22T17:19:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322140",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9ed9b1b750380f7a719ade05a93aaf8b67041f7">e9ed9b1</a></td><td><code>Corrections to part 1.</code></td></tr></table>




---

archive/issue_comments_322141.json:
```json
{
    "body": "**Changing commit** from \"[e9ed9b1b750380f7a719ade05a93aaf8b67041f7](https://github.com/sagemath/sagetrac-mirror/commit/e9ed9b1b750380f7a719ade05a93aaf8b67041f7)\" to \"[f552be457b9965a08f03da94d27b73e6a33c1eda](https://github.com/sagemath/sagetrac-mirror/commit/f552be457b9965a08f03da94d27b73e6a33c1eda)\".",
    "created_at": "2016-10-22T18:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322141",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[e9ed9b1b750380f7a719ade05a93aaf8b67041f7](https://github.com/sagemath/sagetrac-mirror/commit/e9ed9b1b750380f7a719ade05a93aaf8b67041f7)" to "[f552be457b9965a08f03da94d27b73e6a33c1eda](https://github.com/sagemath/sagetrac-mirror/commit/f552be457b9965a08f03da94d27b73e6a33c1eda)".



---

archive/issue_comments_322142.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ac39c352ea369cba33820eb7bf6e68746f765d9\">8ac39c3</a></td><td><code>Part 2.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f552be457b9965a08f03da94d27b73e6a33c1eda\">f552be4</a></td><td><code>Correction to part 2.</code></td></tr></table>\n",
    "created_at": "2016-10-22T18:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322142",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ac39c352ea369cba33820eb7bf6e68746f765d9">8ac39c3</a></td><td><code>Part 2.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f552be457b9965a08f03da94d27b73e6a33c1eda">f552be4</a></td><td><code>Correction to part 2.</code></td></tr></table>




---

archive/issue_comments_322143.json:
```json
{
    "body": "<a id='comment:4'></a>\nThis patch corrects most of those. No function called on the empty graph should now crash the worksheet.",
    "created_at": "2016-10-22T18:13:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322143",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:4'></a>
This patch corrects most of those. No function called on the empty graph should now crash the worksheet.



---

archive/issue_events_264281.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-22T18:13:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264281"
}
```



---

archive/issue_comments_322144.json:
```json
{
    "body": "<a id='comment:5'></a>\nYou should systematically add doctest for such typical corner case (in the `TESTS:` section), or they will reappear.",
    "created_at": "2016-10-22T18:37:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322144",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:5'></a>
You should systematically add doctest for such typical corner case (in the `TESTS:` section), or they will reappear.



---

archive/issue_comments_322145.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [tmonteil](#comment%3A5):\n> You should systematically add doctest for such typical corner case (in the `TESTS:` section), or they will reappear.\n\nTrue, but that should done in every function, not just for those I now modified.\n\nMaybe at the same time when checking docstrings. There are too many \"Returns\" vs. \"Return\", \"Return if the graph...\" vs. \"Tests whether the graph\" etc, and also some indentation errors.",
    "created_at": "2016-10-22T20:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322145",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>
Replying to [tmonteil](#comment%3A5):
> You should systematically add doctest for such typical corner case (in the `TESTS:` section), or they will reappear.

True, but that should done in every function, not just for those I now modified.

Maybe at the same time when checking docstrings. There are too many "Returns" vs. "Return", "Return if the graph..." vs. "Tests whether the graph" etc, and also some indentation errors.



---

archive/issue_comments_322146.json:
```json
{
    "body": "**Reviewer:** Thierry Monteil",
    "created_at": "2016-10-24T08:57:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322146",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

**Reviewer:** Thierry Monteil



---

archive/issue_comments_322147.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [@jm58660](#comment%3A6):\n> Replying to [tmonteil](#comment%3A5):\n> > You should systematically add doctest for such typical corner case (in the `TESTS:` section), or they will reappear.\n\n> \n> True, but that should done in every function, not just for those I now modified.\n\nSure, if you feel the energy of doing this in this ticket, that would be amazing. Otherwise, adding tests related to the changes of behaviours introduced to this ticket would be enough to close this one and then open a follow-up for the other things. I guess it is up to you and your available time.",
    "created_at": "2016-10-24T08:57:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322147",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:7'></a>
Replying to [@jm58660](#comment%3A6):
> Replying to [tmonteil](#comment%3A5):
> > You should systematically add doctest for such typical corner case (in the `TESTS:` section), or they will reappear.

> 
> True, but that should done in every function, not just for those I now modified.

Sure, if you feel the energy of doing this in this ticket, that would be amazing. Otherwise, adding tests related to the changes of behaviours introduced to this ticket would be enough to close this one and then open a follow-up for the other things. I guess it is up to you and your available time.



---

archive/issue_events_264282.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-10-24T08:57:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264282"
}
```



---

archive/issue_events_264283.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-10-24T08:57:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264283"
}
```



---

archive/issue_comments_322148.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [tmonteil](#comment%3A7):\n> Replying to [@jm58660](#comment%3A6):\n> > Replying to [tmonteil](#comment%3A5):\n> > > You should systematically add doctest for such typical corner case (in the `TESTS:` section), or they will reappear.\n\n> > \n> > True, but that should done in every function, not just for those I now modified.\n\n> \n> Sure, if you feel the energy of doing this in this ticket, that would be amazing. Otherwise, adding tests related to the changes of behaviours introduced to this ticket would be enough to close this one and then open a follow-up for the other things. I guess it is up to you and your available time.\n\nIn one ticket, no. That would make too much conflicts.\n\nI'll add tests to this set of bug corrections.",
    "created_at": "2016-10-24T10:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322148",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:8'></a>
Replying to [tmonteil](#comment%3A7):
> Replying to [@jm58660](#comment%3A6):
> > Replying to [tmonteil](#comment%3A5):
> > > You should systematically add doctest for such typical corner case (in the `TESTS:` section), or they will reappear.

> > 
> > True, but that should done in every function, not just for those I now modified.

> 
> Sure, if you feel the energy of doing this in this ticket, that would be amazing. Otherwise, adding tests related to the changes of behaviours introduced to this ticket would be enough to close this one and then open a follow-up for the other things. I guess it is up to you and your available time.

In one ticket, no. That would make too much conflicts.

I'll add tests to this set of bug corrections.



---

archive/issue_comments_322149.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cbd1168d38e0c2eee5727cb5f1e04e9dacc8af4\">4cbd116</a></td><td><code>Added tests.</code></td></tr></table>\n",
    "created_at": "2016-10-24T11:11:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322149",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cbd1168d38e0c2eee5727cb5f1e04e9dacc8af4">4cbd116</a></td><td><code>Added tests.</code></td></tr></table>




---

archive/issue_comments_322150.json:
```json
{
    "body": "**Changing commit** from \"[f552be457b9965a08f03da94d27b73e6a33c1eda](https://github.com/sagemath/sagetrac-mirror/commit/f552be457b9965a08f03da94d27b73e6a33c1eda)\" to \"[4cbd1168d38e0c2eee5727cb5f1e04e9dacc8af4](https://github.com/sagemath/sagetrac-mirror/commit/4cbd1168d38e0c2eee5727cb5f1e04e9dacc8af4)\".",
    "created_at": "2016-10-24T11:11:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322150",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[f552be457b9965a08f03da94d27b73e6a33c1eda](https://github.com/sagemath/sagetrac-mirror/commit/f552be457b9965a08f03da94d27b73e6a33c1eda)" to "[4cbd1168d38e0c2eee5727cb5f1e04e9dacc8af4](https://github.com/sagemath/sagetrac-mirror/commit/4cbd1168d38e0c2eee5727cb5f1e04e9dacc8af4)".



---

archive/issue_events_264284.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-24T11:12:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264284"
}
```



---

archive/issue_events_264285.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-10-24T11:12:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264285"
}
```



---

archive/issue_comments_322151.json:
```json
{
    "body": "<a id='comment:11'></a>\nJust pinging.",
    "created_at": "2016-11-18T20:29:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322151",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:11'></a>
Just pinging.



---

archive/issue_comments_322152.json:
```json
{
    "body": "<a id='comment:12'></a>\nI don't like these lines:\n\n```diff\n+        if self.size() == 0:\n+            raise ValueError(\"can't get a random vertex from the empty graph\")\n```\n\nThere are graphs with no edges which are not the empty graph.\n\nPerhaps you wanted to put there `self.order()` instead?",
    "created_at": "2016-11-28T20:35:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322152",
    "user": "https://github.com/pelegm"
}
```

<a id='comment:12'></a>
I don't like these lines:

```diff
+        if self.size() == 0:
+            raise ValueError("can't get a random vertex from the empty graph")
```

There are graphs with no edges which are not the empty graph.

Perhaps you wanted to put there `self.order()` instead?



---

archive/issue_events_264286.json:
```json
{
    "actor": "https://github.com/pelegm",
    "created_at": "2016-11-28T20:36:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264286"
}
```



---

archive/issue_events_264287.json:
```json
{
    "actor": "https://github.com/pelegm",
    "created_at": "2016-11-28T20:36:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264287"
}
```



---

archive/issue_comments_322153.json:
```json
{
    "body": "**Changing reviewer** from \"Thierry Monteil\" to \"Thierry Monteil, Peleg Michaeli\".",
    "created_at": "2016-11-28T20:36:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322153",
    "user": "https://github.com/pelegm"
}
```

**Changing reviewer** from "Thierry Monteil" to "Thierry Monteil, Peleg Michaeli".



---

archive/issue_comments_322154.json:
```json
{
    "body": "**Changing commit** from \"[4cbd1168d38e0c2eee5727cb5f1e04e9dacc8af4](https://github.com/sagemath/sagetrac-mirror/commit/4cbd1168d38e0c2eee5727cb5f1e04e9dacc8af4)\" to \"[81d250b20a67563a33910506f709dad1a15c7d0e](https://github.com/sagemath/sagetrac-mirror/commit/81d250b20a67563a33910506f709dad1a15c7d0e)\".",
    "created_at": "2016-11-29T06:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322154",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[4cbd1168d38e0c2eee5727cb5f1e04e9dacc8af4](https://github.com/sagemath/sagetrac-mirror/commit/4cbd1168d38e0c2eee5727cb5f1e04e9dacc8af4)" to "[81d250b20a67563a33910506f709dad1a15c7d0e](https://github.com/sagemath/sagetrac-mirror/commit/81d250b20a67563a33910506f709dad1a15c7d0e)".



---

archive/issue_comments_322155.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9457fcfdaf3ac03ce0f391c763c148e48b5a8e14\">9457fcf</a></td><td><code>Part 1, more to come.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8d2f1f67d0e22d4358da4228757dcee2949aa45\">b8d2f1f</a></td><td><code>Corrections to part 1.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/223fbb61138d81cd588e9f25948b53cc2588908c\">223fbb6</a></td><td><code>Part 2.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61c3c940c62cb612680fa9b62635d9f7c4af4700\">61c3c94</a></td><td><code>Correction to part 2.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cc431f89d78bf70b554211f4527e3870d3674de\">6cc431f</a></td><td><code>Added tests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81d250b20a67563a33910506f709dad1a15c7d0e\">81d250b</a></td><td><code>Merge branch 'u/jmantysalo/errors_on_empty_graph' of trac.sagemath.org:sage into t/21741/errors_on_empty_graph</code></td></tr></table>\n",
    "created_at": "2016-11-29T06:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322155",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9457fcfdaf3ac03ce0f391c763c148e48b5a8e14">9457fcf</a></td><td><code>Part 1, more to come.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8d2f1f67d0e22d4358da4228757dcee2949aa45">b8d2f1f</a></td><td><code>Corrections to part 1.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/223fbb61138d81cd588e9f25948b53cc2588908c">223fbb6</a></td><td><code>Part 2.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61c3c940c62cb612680fa9b62635d9f7c4af4700">61c3c94</a></td><td><code>Correction to part 2.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cc431f89d78bf70b554211f4527e3870d3674de">6cc431f</a></td><td><code>Added tests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81d250b20a67563a33910506f709dad1a15c7d0e">81d250b</a></td><td><code>Merge branch 'u/jmantysalo/errors_on_empty_graph' of trac.sagemath.org:sage into t/21741/errors_on_empty_graph</code></td></tr></table>




---

archive/issue_comments_322156.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ff4bb6dc3846c1628f4728fded41ee1a7f5d699\">1ff4bb6</a></td><td><code>Correction to empty vs. edgeless graph.</code></td></tr></table>\n",
    "created_at": "2016-11-29T06:53:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322156",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ff4bb6dc3846c1628f4728fded41ee1a7f5d699">1ff4bb6</a></td><td><code>Correction to empty vs. edgeless graph.</code></td></tr></table>




---

archive/issue_comments_322157.json:
```json
{
    "body": "**Changing commit** from \"[81d250b20a67563a33910506f709dad1a15c7d0e](https://github.com/sagemath/sagetrac-mirror/commit/81d250b20a67563a33910506f709dad1a15c7d0e)\" to \"[1ff4bb6dc3846c1628f4728fded41ee1a7f5d699](https://github.com/sagemath/sagetrac-mirror/commit/1ff4bb6dc3846c1628f4728fded41ee1a7f5d699)\".",
    "created_at": "2016-11-29T06:53:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322157",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[81d250b20a67563a33910506f709dad1a15c7d0e](https://github.com/sagemath/sagetrac-mirror/commit/81d250b20a67563a33910506f709dad1a15c7d0e)" to "[1ff4bb6dc3846c1628f4728fded41ee1a7f5d699](https://github.com/sagemath/sagetrac-mirror/commit/1ff4bb6dc3846c1628f4728fded41ee1a7f5d699)".



---

archive/issue_comments_322158.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [@pelegm](#comment%3A12):\n> \n> ```diff\n> +        if self.size() == 0:\n> +            raise ValueError(\"can't get a random vertex from the empty graph\")\n> ```\n\nMy bad, corrected. Thanks!",
    "created_at": "2016-11-29T07:20:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322158",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:16'></a>
Replying to [@pelegm](#comment%3A12):
> 
> ```diff
> +        if self.size() == 0:
> +            raise ValueError("can't get a random vertex from the empty graph")
> ```

My bad, corrected. Thanks!



---

archive/issue_events_264288.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-29T10:40:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264288"
}
```



---

archive/issue_events_264289.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-29T10:40:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264289"
}
```



---

archive/issue_comments_322159.json:
```json
{
    "body": "<a id='comment:18'></a>\nThe following:\n\n```python\nsage: g = graphs.EmptyGraph()\nsage: g.maximum_average_degree()\n```\nstill raises\n\n```pytb\nTraceback (most recent call last):\n  File \"<ipython-input-8-5411948f9b78>\", line 1, in <module>\n    g.maximum_average_degree()\n  File \"/home/peleg/sage/local/lib/python2.7/site-packages/sage/graphs/graph.py\", line 4643, in maximum_average_degree\n    m = 1/(10 *Integer(g.order()))\n  File \"sage/rings/integer.pyx\", line 1858, in sage.rings.integer.Integer.__div__ (build/cythonized/sage/rings/integer.c:13037)\n    return coercion_model.bin_op(left, right, operator.div)\n  File \"sage/structure/coerce.pyx\", line 1055, in sage.structure.coerce.CoercionModel_cache_maps.bin_op (build/cythonized/sage/structure/coerce.c:9327)\n    return PyObject_CallObject(op, xy)\n  File \"sage/rings/integer.pyx\", line 1843, in sage.rings.integer.Integer.__div__ (build/cythonized/sage/rings/integer.c:12871)\n    raise ZeroDivisionError(\"rational division by zero\")\nZeroDivisionError: rational division by zero\n```\n\nPerhaps we wish to fix that as well in this ticket?",
    "created_at": "2016-11-30T20:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322159",
    "user": "https://github.com/pelegm"
}
```

<a id='comment:18'></a>
The following:

```python
sage: g = graphs.EmptyGraph()
sage: g.maximum_average_degree()
```
still raises

```pytb
Traceback (most recent call last):
  File "<ipython-input-8-5411948f9b78>", line 1, in <module>
    g.maximum_average_degree()
  File "/home/peleg/sage/local/lib/python2.7/site-packages/sage/graphs/graph.py", line 4643, in maximum_average_degree
    m = 1/(10 *Integer(g.order()))
  File "sage/rings/integer.pyx", line 1858, in sage.rings.integer.Integer.__div__ (build/cythonized/sage/rings/integer.c:13037)
    return coercion_model.bin_op(left, right, operator.div)
  File "sage/structure/coerce.pyx", line 1055, in sage.structure.coerce.CoercionModel_cache_maps.bin_op (build/cythonized/sage/structure/coerce.c:9327)
    return PyObject_CallObject(op, xy)
  File "sage/rings/integer.pyx", line 1843, in sage.rings.integer.Integer.__div__ (build/cythonized/sage/rings/integer.c:12871)
    raise ZeroDivisionError("rational division by zero")
ZeroDivisionError: rational division by zero
```

Perhaps we wish to fix that as well in this ticket?



---

archive/issue_comments_322160.json:
```json
{
    "body": "<a id='comment:19'></a>\nSome other failures (here `g` is the empty graph).\n\n1. `g.average_degree()` (both this and `g.maximum_average_degree()` may raise, perhaps, `ZeroDivisionError`, but in this case a more informative error would be helpful probably)\n2. `g.bridges()` raises `StopIteration`.  Should probably return an empty list.\n3. `g.density()` returns 0.  This should probably raise an error instead (`ZeroDivisionError`?) or return NaN.\n4. The diameter and radius methods for the null graph currently raise a `ValueError`. Shouldn't they return plus or minus inifnity, as they represent the minimum and the maximum of some function, taken over an empty set?\n5. `g.gomory_hu_tree` raises `StopIteration`.\n6. About your fix in finding Hamilton cycles: I don't think that the problem of finding a Hamilton cycle is not well defined for graphs with less than 2 vertices.  I just think that these graphs are not Hamiltonian.  If one tries the method `g.hamiltonian cycle` on `PetersenGraph`, for example, the error raised is `EmptySetError: The given graph is not Hamiltonian`.  I don't think there should be a difference between the responses.  Not sure `EmptySetError` is the best response; but if this is the response for the Petersen graph, it should be the response for 0/1-vertex graphs as well, as these graphs simply do not have a Hamilton cycle (as thry do not even have cycles!).\n7. Same goes for `g.is_hamiltonian()`.\n8. In the function `is_weakly_chordal` you have added a test for `is_long_hole_free`. Seems to be a copy-paste error. Make sure you fix and test both.\n9. Not sure about that: but isn't the empty graph vertex transitive?\n10. The number of faces of the empty graph is no 0, but rather 1 - or undefined.  A matter of taste probably.  See also #22003.\n21. `g.show3d` raises an unrelated error: `AttributeError: 'int' object has no attribute 'show'`.\n\nFinally, should we add the alias `NullGraph` to `EmptyGraph`?",
    "created_at": "2016-11-30T21:12:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322160",
    "user": "https://github.com/pelegm"
}
```

<a id='comment:19'></a>
Some other failures (here `g` is the empty graph).

1. `g.average_degree()` (both this and `g.maximum_average_degree()` may raise, perhaps, `ZeroDivisionError`, but in this case a more informative error would be helpful probably)
2. `g.bridges()` raises `StopIteration`.  Should probably return an empty list.
3. `g.density()` returns 0.  This should probably raise an error instead (`ZeroDivisionError`?) or return NaN.
4. The diameter and radius methods for the null graph currently raise a `ValueError`. Shouldn't they return plus or minus inifnity, as they represent the minimum and the maximum of some function, taken over an empty set?
5. `g.gomory_hu_tree` raises `StopIteration`.
6. About your fix in finding Hamilton cycles: I don't think that the problem of finding a Hamilton cycle is not well defined for graphs with less than 2 vertices.  I just think that these graphs are not Hamiltonian.  If one tries the method `g.hamiltonian cycle` on `PetersenGraph`, for example, the error raised is `EmptySetError: The given graph is not Hamiltonian`.  I don't think there should be a difference between the responses.  Not sure `EmptySetError` is the best response; but if this is the response for the Petersen graph, it should be the response for 0/1-vertex graphs as well, as these graphs simply do not have a Hamilton cycle (as thry do not even have cycles!).
7. Same goes for `g.is_hamiltonian()`.
8. In the function `is_weakly_chordal` you have added a test for `is_long_hole_free`. Seems to be a copy-paste error. Make sure you fix and test both.
9. Not sure about that: but isn't the empty graph vertex transitive?
10. The number of faces of the empty graph is no 0, but rather 1 - or undefined.  A matter of taste probably.  See also #22003.
21. `g.show3d` raises an unrelated error: `AttributeError: 'int' object has no attribute 'show'`.

Finally, should we add the alias `NullGraph` to `EmptyGraph`?



---

archive/issue_comments_322161.json:
```json
{
    "body": "<a id='comment:20'></a>\nI can do those, but shall it be on another ticket? This one already has high propability of clashing with some other change.",
    "created_at": "2016-11-30T22:37:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322161",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:20'></a>
I can do those, but shall it be on another ticket? This one already has high propability of clashing with some other change.



---

archive/issue_comments_322162.json:
```json
{
    "body": "<a id='comment:21'></a>\nComments **1**-**5** seems to be very much related to this ticket, but I see no real harm in opening a new ticket for them.\n\nComments **6**-**8** are directly related to your patch, so they should be probably discussed (and/or fixed) in this ticket.\n\nComments **9**-**11** are really different stuff. It might be better to open a new ticket(s) for these. I'll do that.\n\nDon't be afraid of merge commits.  These can be handled.",
    "created_at": "2016-12-01T07:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322162",
    "user": "https://github.com/pelegm"
}
```

<a id='comment:21'></a>
Comments **1**-**5** seems to be very much related to this ticket, but I see no real harm in opening a new ticket for them.

Comments **6**-**8** are directly related to your patch, so they should be probably discussed (and/or fixed) in this ticket.

Comments **9**-**11** are really different stuff. It might be better to open a new ticket(s) for these. I'll do that.

Don't be afraid of merge commits.  These can be handled.



---

archive/issue_comments_322163.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [@pelegm](#comment%3A21):\n\n> Comments **6**-**8** are directly related to your patch, so they should be probably discussed (and/or fixed) in this ticket.\n\nOK, I'll check them.\n\n> Don't be afraid of merge commits.  These can be handled.\n\nYes, but it is irritating.",
    "created_at": "2016-12-01T07:33:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322163",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:22'></a>
Replying to [@pelegm](#comment%3A21):

> Comments **6**-**8** are directly related to your patch, so they should be probably discussed (and/or fixed) in this ticket.

OK, I'll check them.

> Don't be afraid of merge commits.  These can be handled.

Yes, but it is irritating.



---

archive/issue_events_264290.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-12-01T07:33:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264290"
}
```



---

archive/issue_events_264291.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-12-01T07:33:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264291"
}
```



---

archive/issue_comments_322164.json:
```json
{
    "body": "**Changing commit** from \"[1ff4bb6dc3846c1628f4728fded41ee1a7f5d699](https://github.com/sagemath/sagetrac-mirror/commit/1ff4bb6dc3846c1628f4728fded41ee1a7f5d699)\" to \"[1885ebc39d8fb132be67245c28cb538d9bc05c55](https://github.com/sagemath/sagetrac-mirror/commit/1885ebc39d8fb132be67245c28cb538d9bc05c55)\".",
    "created_at": "2016-12-01T11:40:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322164",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1ff4bb6dc3846c1628f4728fded41ee1a7f5d699](https://github.com/sagemath/sagetrac-mirror/commit/1ff4bb6dc3846c1628f4728fded41ee1a7f5d699)" to "[1885ebc39d8fb132be67245c28cb538d9bc05c55](https://github.com/sagemath/sagetrac-mirror/commit/1885ebc39d8fb132be67245c28cb538d9bc05c55)".



---

archive/issue_comments_322165.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1885ebc39d8fb132be67245c28cb538d9bc05c55\">1885ebc</a></td><td><code>Make the empty and the one-element graph to be non-hamiltonian.</code></td></tr></table>\n",
    "created_at": "2016-12-01T11:40:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322165",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1885ebc39d8fb132be67245c28cb538d9bc05c55">1885ebc</a></td><td><code>Make the empty and the one-element graph to be non-hamiltonian.</code></td></tr></table>




---

archive/issue_comments_322166.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [@pelegm](#comment%3A19):\n> 6. About your fix in finding Hamilton cycles: I don't think that the problem of finding a Hamilton cycle is not well defined for graphs with less than 2 vertices.  I just think that these graphs are not Hamiltonian.\n\nOK, here is a patch that makse those graphs to return False.\n\nHowever, I do not know that much about graphs. Hence I hope someone else also to comment on this. I suppose there has been some reason for making them to raise an exception.\n\n> 8. In the function `is_weakly_chordal` you have added a test for `is_long_hole_free`. Seems to be a copy-paste error. Make sure you fix and test both.\n\nYes, my error. Corrected.",
    "created_at": "2016-12-01T11:43:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322166",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:24'></a>
Replying to [@pelegm](#comment%3A19):
> 6. About your fix in finding Hamilton cycles: I don't think that the problem of finding a Hamilton cycle is not well defined for graphs with less than 2 vertices.  I just think that these graphs are not Hamiltonian.

OK, here is a patch that makse those graphs to return False.

However, I do not know that much about graphs. Hence I hope someone else also to comment on this. I suppose there has been some reason for making them to raise an exception.

> 8. In the function `is_weakly_chordal` you have added a test for `is_long_hole_free`. Seems to be a copy-paste error. Make sure you fix and test both.

Yes, my error. Corrected.



---

archive/issue_comments_322167.json:
```json
{
    "body": "<a id='comment:25'></a>\nLooks better to me. I suggest we will wait indeed for another review.",
    "created_at": "2016-12-01T12:03:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322167",
    "user": "https://github.com/pelegm"
}
```

<a id='comment:25'></a>
Looks better to me. I suggest we will wait indeed for another review.



---

archive/issue_comments_322168.json:
```json
{
    "body": "<a id='comment:26'></a>\nTicket #10206 fix empty graph issue for method `find_hamiltonian` of `generic_graph_pyx.pyx`.",
    "created_at": "2016-12-03T15:06:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322168",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:26'></a>
Ticket #10206 fix empty graph issue for method `find_hamiltonian` of `generic_graph_pyx.pyx`.



---

archive/issue_comments_322169.json:
```json
{
    "body": "**Changing reviewer** from \"Thierry Monteil, Peleg Michaeli\" to \"Thierry Monteil, Peleg Michaeli, David Coudert\".",
    "created_at": "2016-12-03T19:05:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322169",
    "user": "https://github.com/dcoudert"
}
```

**Changing reviewer** from "Thierry Monteil, Peleg Michaeli" to "Thierry Monteil, Peleg Michaeli, David Coudert".



---

archive/issue_comments_322170.json:
```json
{
    "body": "<a id='comment:27'></a>\nThis ticket passes all tests (on `src/sage/graphs/`) and solves many issues.\nHowever, for `max_cut`, you could also check the graph of order 1.\n\n```\nsage: Graph(0).max_cut()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n...\nValueError: max cut is not defined for the empty graph\nsage: Graph(1).max_cut()\n---------------------------------------------------------------------------\nMIPSolverException                        Traceback (most recent call last)\n...\nMIPSolverException: CPLEX: The problem has no feasible solution\nsage: Graph(2).max_cut()\n0\n```",
    "created_at": "2016-12-03T19:05:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322170",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:27'></a>
This ticket passes all tests (on `src/sage/graphs/`) and solves many issues.
However, for `max_cut`, you could also check the graph of order 1.

```
sage: Graph(0).max_cut()
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
...
ValueError: max cut is not defined for the empty graph
sage: Graph(1).max_cut()
---------------------------------------------------------------------------
MIPSolverException                        Traceback (most recent call last)
...
MIPSolverException: CPLEX: The problem has no feasible solution
sage: Graph(2).max_cut()
0
```



---

archive/issue_comments_322171.json:
```json
{
    "body": "<a id='comment:28'></a>\nOK, so I wait for #10206 to get closed and then run the test set again with one-element graph.",
    "created_at": "2016-12-04T20:58:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322171",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:28'></a>
OK, so I wait for #10206 to get closed and then run the test set again with one-element graph.



---

archive/issue_comments_322172.json:
```json
{
    "body": "<a id='comment:29'></a>\nSee also discussion at #15060.",
    "created_at": "2017-01-08T21:43:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322172",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:29'></a>
See also discussion at #15060.



---

archive/issue_comments_322173.json:
```json
{
    "body": "<a id='comment:30'></a>\nWell, #10206 is now closed :)",
    "created_at": "2017-02-03T13:36:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322173",
    "user": "https://github.com/pelegm"
}
```

<a id='comment:30'></a>
Well, #10206 is now closed :)



---

archive/issue_comments_322174.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [@pelegm](#comment%3A30):\n> Well, #10206 is now closed :)\n\nYep. So time to merge... Job I don't like.\n\nWill be ready either today or next week.",
    "created_at": "2017-02-03T13:53:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322174",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:31'></a>
Replying to [@pelegm](#comment%3A30):
> Well, #10206 is now closed :)

Yep. So time to merge... Job I don't like.

Will be ready either today or next week.



---

archive/issue_comments_322175.json:
```json
{
    "body": "**Changing commit** from \"[1885ebc39d8fb132be67245c28cb538d9bc05c55](https://github.com/sagemath/sagetrac-mirror/commit/1885ebc39d8fb132be67245c28cb538d9bc05c55)\" to \"[adec5d68bf0dc953d847684154611ab3b97bc36c](https://github.com/sagemath/sagetrac-mirror/commit/adec5d68bf0dc953d847684154611ab3b97bc36c)\".",
    "created_at": "2017-02-06T08:12:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322175",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1885ebc39d8fb132be67245c28cb538d9bc05c55](https://github.com/sagemath/sagetrac-mirror/commit/1885ebc39d8fb132be67245c28cb538d9bc05c55)" to "[adec5d68bf0dc953d847684154611ab3b97bc36c](https://github.com/sagemath/sagetrac-mirror/commit/adec5d68bf0dc953d847684154611ab3b97bc36c)".



---

archive/issue_comments_322176.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/adec5d68bf0dc953d847684154611ab3b97bc36c\">adec5d6</a></td><td><code>Megre</code></td></tr></table>\n",
    "created_at": "2017-02-06T08:12:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322176",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/adec5d68bf0dc953d847684154611ab3b97bc36c">adec5d6</a></td><td><code>Megre</code></td></tr></table>




---

archive/issue_comments_322177.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [@jm58660](#comment%3A31):\n\n> Will be ready either today or next week.\n\nDone. Compiling and testing now.",
    "created_at": "2017-02-06T08:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322177",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:33'></a>
Replying to [@jm58660](#comment%3A31):

> Will be ready either today or next week.

Done. Compiling and testing now.



---

archive/issue_events_264292.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-02-06T08:56:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264292"
}
```



---

archive/issue_events_264293.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-02-06T08:56:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264293"
}
```



---

archive/issue_comments_322178.json:
```json
{
    "body": "<a id='comment:35'></a>\nSome remarks/questions:\n* In `traveling_salesman_problem` you have different treatments for a graph of order 1 without edges and a graph of order 1 with multiple loops. Why this choice?\n* `The empty graph is defined be not a Cayley graph` -> `The empty graph is defined to be not a Cayley graph` or `by definition the empty graph is not a Cayley graph` ?",
    "created_at": "2017-02-06T09:29:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322178",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:35'></a>
Some remarks/questions:
* In `traveling_salesman_problem` you have different treatments for a graph of order 1 without edges and a graph of order 1 with multiple loops. Why this choice?
* `The empty graph is defined be not a Cayley graph` -> `The empty graph is defined to be not a Cayley graph` or `by definition the empty graph is not a Cayley graph` ?



---

archive/issue_comments_322179.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [@dcoudert](#comment%3A35):\n\n> * In `traveling_salesman_problem` you have different treatments for a graph of order 1 without edges and a graph of order 1 with multiple loops. Why this choice?\n\nI guess I did not think this at all. How should TSP behave on graph with loops?",
    "created_at": "2017-02-06T09:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322179",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:36'></a>
Replying to [@dcoudert](#comment%3A35):

> * In `traveling_salesman_problem` you have different treatments for a graph of order 1 without edges and a graph of order 1 with multiple loops. Why this choice?

I guess I did not think this at all. How should TSP behave on graph with loops?



---

archive/issue_comments_322180.json:
```json
{
    "body": "<a id='comment:37'></a>\nWhen you have 2 or more vertices, loops are useless (loops are removed in the code). But honestly I don't know what to do with a graph of order 1 with a loop. The `not well defined` error message was good, no? I think that the expected behavior depends on the model/situation.",
    "created_at": "2017-02-06T10:29:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322180",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:37'></a>
When you have 2 or more vertices, loops are useless (loops are removed in the code). But honestly I don't know what to do with a graph of order 1 with a loop. The `not well defined` error message was good, no? I think that the expected behavior depends on the model/situation.



---

archive/issue_comments_322181.json:
```json
{
    "body": "<a id='comment:38'></a>\nNow I re-read this. But\n\n```\nsage: g = Graph(1, loops=True, multiedges=True)\nsage: g.traveling_salesman_problem()\nEmptySetError: the given graph is not Hamiltonian\nsage: g.add_edge(0, 0); g.add_edge(0, 0)\nsage: g.traveling_salesman_problem()\nEmptySetError: the given graph is not Hamiltonian\n```\n\nSo the error message is the same. Do you mean that the error message should begin with \"the\" and not \"The\" in all cases?",
    "created_at": "2017-02-07T06:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322181",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:38'></a>
Now I re-read this. But

```
sage: g = Graph(1, loops=True, multiedges=True)
sage: g.traveling_salesman_problem()
EmptySetError: the given graph is not Hamiltonian
sage: g.add_edge(0, 0); g.add_edge(0, 0)
sage: g.traveling_salesman_problem()
EmptySetError: the given graph is not Hamiltonian
```

So the error message is the same. Do you mean that the error message should begin with "the" and not "The" in all cases?



---

archive/issue_comments_322182.json:
```json
{
    "body": "<a id='comment:39'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4\">d0dccde</a></td><td><code>Exception message to lowercase.</code></td></tr></table>\n",
    "created_at": "2017-02-07T06:33:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322182",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:39'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4">d0dccde</a></td><td><code>Exception message to lowercase.</code></td></tr></table>




---

archive/issue_comments_322183.json:
```json
{
    "body": "**Changing commit** from \"[adec5d68bf0dc953d847684154611ab3b97bc36c](https://github.com/sagemath/sagetrac-mirror/commit/adec5d68bf0dc953d847684154611ab3b97bc36c)\" to \"[d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4](https://github.com/sagemath/sagetrac-mirror/commit/d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4)\".",
    "created_at": "2017-02-07T06:33:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322183",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[adec5d68bf0dc953d847684154611ab3b97bc36c](https://github.com/sagemath/sagetrac-mirror/commit/adec5d68bf0dc953d847684154611ab3b97bc36c)" to "[d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4](https://github.com/sagemath/sagetrac-mirror/commit/d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4)".



---

archive/issue_events_264294.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2017-02-07T07:45:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264294"
}
```



---

archive/issue_events_264295.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2017-02-07T07:45:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264295"
}
```



---

archive/issue_comments_322184.json:
```json
{
    "body": "<a id='comment:40'></a>\nI confused myself between methods `is_hamiltonian` and `traveling_salesman_problem`. I checked again and it's OK.\n\nConcerning error messages, I saw in other tickets that messages should start with `the` instead of `The` and that endpoint should be removed. This is correct here.\n\nThis patch passes all tests on `src/sage/graphs`, so for me it's good to go.",
    "created_at": "2017-02-07T07:45:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322184",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:40'></a>
I confused myself between methods `is_hamiltonian` and `traveling_salesman_problem`. I checked again and it's OK.

Concerning error messages, I saw in other tickets that messages should start with `the` instead of `The` and that endpoint should be removed. This is correct here.

This patch passes all tests on `src/sage/graphs`, so for me it's good to go.



---

archive/issue_comments_322185.json:
```json
{
    "body": "**Changing branch** from \"[u/jmantysalo/errors_on_empty_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/errors_on_empty_graph)\" to \"[d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4](https://github.com/sagemath/sagetrac-mirror/commit/d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4)\".",
    "created_at": "2017-02-11T10:22:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21741#issuecomment-322185",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jmantysalo/errors_on_empty_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/errors_on_empty_graph)" to "[d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4](https://github.com/sagemath/sagetrac-mirror/commit/d0dccde88cc72d7a0d8acb936c1c2559a9e4c2b4)".



---

archive/issue_events_264296.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-11T10:22:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264296"
}
```



---

archive/issue_events_264297.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a29eba1a30dea0d706f9cf305083770ccd9b1105",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-02-11T10:22:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21741",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21741#event-264297"
}
```
