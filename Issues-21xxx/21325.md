# Issue 21325: k-regular sequences: subsequences, forward/backward difference, partial sums

archive/issues_021088.json:
```json
{
    "body": "Implement subsequences and forward/backward differences and partial sums.\n\nSee also meta ticket #21202\n\n**CC:**  @galipnik\n\n**Branch/Commit:** [7bc6722500105d73f7e268ab80c0005a05a051de](https://github.com/sagemath/sagetrac-mirror/commit/7bc6722500105d73f7e268ab80c0005a05a051de)\n\n**Reviewer:** Clemens Heuberger, Daniel Krenn\n\n**Author:** Daniel Krenn, Clemens Heuberger\n\n**Dependencies:** #21318\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21325\n\n",
    "closed_at": "2022-01-31T23:31:53Z",
    "created_at": "2016-08-24T08:56:30Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "k-regular sequences: subsequences, forward/backward difference, partial sums",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21325",
    "user": "https://github.com/dkrenn"
}
```
Implement subsequences and forward/backward differences and partial sums.

See also meta ticket #21202

**CC:**  @galipnik

**Branch/Commit:** [7bc6722500105d73f7e268ab80c0005a05a051de](https://github.com/sagemath/sagetrac-mirror/commit/7bc6722500105d73f7e268ab80c0005a05a051de)

**Reviewer:** Clemens Heuberger, Daniel Krenn

**Author:** Daniel Krenn, Clemens Heuberger

**Dependencies:** #21318

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/21325





---

archive/issue_comments_394743.json:
```json
{
    "body": "**Branch:** [u/dkrenn/sequences/k-regular-subseq](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/sequences/k-regular-subseq)",
    "created_at": "2016-08-24T08:56:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394743",
    "user": "https://github.com/dkrenn"
}
```

**Branch:** [u/dkrenn/sequences/k-regular-subseq](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/sequences/k-regular-subseq)



---

archive/issue_comments_394744.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-Implement subsequences and forward/backward differences\n+Implement subsequences and forward/backward differences.\n+\n+See also meta ticket #21202\n``````\n",
    "created_at": "2016-08-24T08:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394744",
    "user": "https://github.com/dkrenn"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-Implement subsequences and forward/backward differences
+Implement subsequences and forward/backward differences.
+
+See also meta ticket #21202
``````




---

archive/issue_comments_394745.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8a9173031e800803e5dcb5632225f907e40344f\">d8a9173</a></td><td><code>doctesting rmul, lmul and one_hadamard</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01495cb3c0e69ae363b146a23eebe65738e1d1c5\">01495cb</a></td><td><code>extend to negative shifts in subsequence</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b76bf4e6dc30f0363321188835baa2db66a8dc7c\">b76bf4e</a></td><td><code>factor out subsequence to separat ticket</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4e4bd57e72adc2c2c326a91d8cba11e140daf08\">a4e4bd5</a></td><td><code>subsequence</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26842f4e7c162678e15aad872678a9f15734bf39\">26842f4</a></td><td><code>missing_value=0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41bc2883f42f4883e5882f9f7cefd6c93e149b2a\">41bc288</a></td><td><code>quasi-cherry-pick of pad_right of k-regular-guess branch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/302323321d6385d6e60a4e47376f57f9c38fccd2\">3023233</a></td><td><code>rewrite to make subsequence more efficient (dynamically add kernel)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51e7d72dc505ec5e7d9ccc6332bf2e1a34f11780\">51e7d72</a></td><td><code>minor rewrite</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9311636514441c56890c124cfdd077fef16042ad\">9311636</a></td><td><code>allow b to be a dict</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/624e6c05ac216a6f518861fc89b6d230aafa2b31\">624e6c0</a></td><td><code>forward/backward difference</code></td></tr></table>\n",
    "created_at": "2016-08-24T08:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394745",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:2'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8a9173031e800803e5dcb5632225f907e40344f">d8a9173</a></td><td><code>doctesting rmul, lmul and one_hadamard</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01495cb3c0e69ae363b146a23eebe65738e1d1c5">01495cb</a></td><td><code>extend to negative shifts in subsequence</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b76bf4e6dc30f0363321188835baa2db66a8dc7c">b76bf4e</a></td><td><code>factor out subsequence to separat ticket</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4e4bd57e72adc2c2c326a91d8cba11e140daf08">a4e4bd5</a></td><td><code>subsequence</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26842f4e7c162678e15aad872678a9f15734bf39">26842f4</a></td><td><code>missing_value=0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41bc2883f42f4883e5882f9f7cefd6c93e149b2a">41bc288</a></td><td><code>quasi-cherry-pick of pad_right of k-regular-guess branch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/302323321d6385d6e60a4e47376f57f9c38fccd2">3023233</a></td><td><code>rewrite to make subsequence more efficient (dynamically add kernel)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51e7d72dc505ec5e7d9ccc6332bf2e1a34f11780">51e7d72</a></td><td><code>minor rewrite</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9311636514441c56890c124cfdd077fef16042ad">9311636</a></td><td><code>allow b to be a dict</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/624e6c05ac216a6f518861fc89b6d230aafa2b31">624e6c0</a></td><td><code>forward/backward difference</code></td></tr></table>




---

archive/issue_comments_394746.json:
```json
{
    "body": "**Commit:** [624e6c05ac216a6f518861fc89b6d230aafa2b31](https://github.com/sagemath/sagetrac-mirror/commit/624e6c05ac216a6f518861fc89b6d230aafa2b31)",
    "created_at": "2016-08-24T08:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394746",
    "user": "https://github.com/dkrenn"
}
```

**Commit:** [624e6c05ac216a6f518861fc89b6d230aafa2b31](https://github.com/sagemath/sagetrac-mirror/commit/624e6c05ac216a6f518861fc89b6d230aafa2b31)



---

archive/issue_comments_394747.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45d9e67e1d7812e0387655cea888186c5450d92e\">45d9e67</a></td><td><code>minor rewrites</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c43015813f20f9eaf469efb0771e9db1f03eeadf\">c430158</a></td><td><code>partial sums</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7eb93e1ff2893543270d04f49799bf62fa8b3522\">7eb93e1</a></td><td><code>minor rewrites to use existing stuff better</code></td></tr></table>\n",
    "created_at": "2016-08-25T10:55:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394747",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45d9e67e1d7812e0387655cea888186c5450d92e">45d9e67</a></td><td><code>minor rewrites</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c43015813f20f9eaf469efb0771e9db1f03eeadf">c430158</a></td><td><code>partial sums</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7eb93e1ff2893543270d04f49799bf62fa8b3522">7eb93e1</a></td><td><code>minor rewrites to use existing stuff better</code></td></tr></table>




---

archive/issue_comments_394748.json:
```json
{
    "body": "**Changing commit** from \"[624e6c05ac216a6f518861fc89b6d230aafa2b31](https://github.com/sagemath/sagetrac-mirror/commit/624e6c05ac216a6f518861fc89b6d230aafa2b31)\" to \"[7eb93e1ff2893543270d04f49799bf62fa8b3522](https://github.com/sagemath/sagetrac-mirror/commit/7eb93e1ff2893543270d04f49799bf62fa8b3522)\".",
    "created_at": "2016-08-25T10:55:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394748",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[624e6c05ac216a6f518861fc89b6d230aafa2b31](https://github.com/sagemath/sagetrac-mirror/commit/624e6c05ac216a6f518861fc89b6d230aafa2b31)" to "[7eb93e1ff2893543270d04f49799bf62fa8b3522](https://github.com/sagemath/sagetrac-mirror/commit/7eb93e1ff2893543270d04f49799bf62fa8b3522)".



---

archive/issue_comments_394749.json:
```json
{
    "body": "**Changing commit** from \"[7eb93e1ff2893543270d04f49799bf62fa8b3522](https://github.com/sagemath/sagetrac-mirror/commit/7eb93e1ff2893543270d04f49799bf62fa8b3522)\" to \"[0f89159a4704750761bc41c70d5c096fc09709c5](https://github.com/sagemath/sagetrac-mirror/commit/0f89159a4704750761bc41c70d5c096fc09709c5)\".",
    "created_at": "2016-08-25T11:28:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7eb93e1ff2893543270d04f49799bf62fa8b3522](https://github.com/sagemath/sagetrac-mirror/commit/7eb93e1ff2893543270d04f49799bf62fa8b3522)" to "[0f89159a4704750761bc41c70d5c096fc09709c5](https://github.com/sagemath/sagetrac-mirror/commit/0f89159a4704750761bc41c70d5c096fc09709c5)".



---

archive/issue_comments_394750.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59191200dbc773146b9396ba4e216ec4ed0b1cdf\">5919120</a></td><td><code>doctesting all parameters in coefficient_of_word</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7243a68f3be1898b6e478b429954587e2b493db\">c7243a6</a></td><td><code>Merge tag '7.4.beta1' into t/21295/sequences/recognizable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4012778b779f1376987795518690dba7a632b6ed\">4012778</a></td><td><code>Merge branch 't/21295/sequences/recognizable' into t/21203/sequences/k-regular</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5dbedab079a7cd94d7f7784ac06ea918849ba4e5\">5dbedab</a></td><td><code>fix doctests (experimental warning)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/143ea731ca93c79ee9cdb177293b1862f84abc47\">143ea73</a></td><td><code>fix building of docs (no idea why it failed)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6247a7f0dfc308bf0175f4950a7a3ce3950c907d\">6247a7f</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f89159a4704750761bc41c70d5c096fc09709c5\">0f89159</a></td><td><code>Merge branch 't/21318/sequences/rec-basic-arith' into t/21325/sequences/k-regular-subseq</code></td></tr></table>\n",
    "created_at": "2016-08-25T11:28:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394750",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59191200dbc773146b9396ba4e216ec4ed0b1cdf">5919120</a></td><td><code>doctesting all parameters in coefficient_of_word</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7243a68f3be1898b6e478b429954587e2b493db">c7243a6</a></td><td><code>Merge tag '7.4.beta1' into t/21295/sequences/recognizable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4012778b779f1376987795518690dba7a632b6ed">4012778</a></td><td><code>Merge branch 't/21295/sequences/recognizable' into t/21203/sequences/k-regular</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5dbedab079a7cd94d7f7784ac06ea918849ba4e5">5dbedab</a></td><td><code>fix doctests (experimental warning)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/143ea731ca93c79ee9cdb177293b1862f84abc47">143ea73</a></td><td><code>fix building of docs (no idea why it failed)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6247a7f0dfc308bf0175f4950a7a3ce3950c907d">6247a7f</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f89159a4704750761bc41c70d5c096fc09709c5">0f89159</a></td><td><code>Merge branch 't/21318/sequences/rec-basic-arith' into t/21325/sequences/k-regular-subseq</code></td></tr></table>




---

archive/issue_events_064530.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "rename": {
        "from": "k-regular sequences: subsequences, forward/backward difference",
        "to": "k-regular sequences: subsequences, forward/backward difference, partial sums"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21325#event-64530"
}
```



---

archive/issue_comments_394751.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2016-08-25T11:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394751",
    "user": "https://github.com/dkrenn"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_394752.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-Implement subsequences and forward/backward differences.\n+Implement subsequences and forward/backward differences and partial sums.\n \n See also meta ticket #21202\n``````\n",
    "created_at": "2016-08-25T11:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394752",
    "user": "https://github.com/dkrenn"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-Implement subsequences and forward/backward differences.
+Implement subsequences and forward/backward differences and partial sums.
 
 See also meta ticket #21202
``````




---

archive/issue_comments_394753.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7d2114e42b6991fe8ea48cc5b75d959c314f465\">e7d2114</a></td><td><code>minor correction in doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fc3d42cb48e7e74e5edb7b4b21ee2a674d57192\">0fc3d42</a></td><td><code>solve troubles with doc-building</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5c378d50f4f94421e1b664ca66da350d13cc884\">d5c378d</a></td><td><code>solve troubles with doc-building</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/291faf91985cc258a94fa6bf86f2bead82c8e5e7\">291faf9</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/019c161008e43fd52b47695b00ab56ac8146331c\">019c161</a></td><td><code>remove zero()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2fe6f3e54cb308d52f7e4f2b58741ce6b335614\">a2fe6f3</a></td><td><code>Merge branch 't/21318/sequences/rec-basic-arith' into t/21325/sequences/k-regular-subseq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4cec17c3c63ee1a82e24af89a2fcbfeb111577d\">e4cec17</a></td><td><code>minor correction in doc</code></td></tr></table>\n",
    "created_at": "2016-08-26T11:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394753",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7d2114e42b6991fe8ea48cc5b75d959c314f465">e7d2114</a></td><td><code>minor correction in doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fc3d42cb48e7e74e5edb7b4b21ee2a674d57192">0fc3d42</a></td><td><code>solve troubles with doc-building</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5c378d50f4f94421e1b664ca66da350d13cc884">d5c378d</a></td><td><code>solve troubles with doc-building</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/291faf91985cc258a94fa6bf86f2bead82c8e5e7">291faf9</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/019c161008e43fd52b47695b00ab56ac8146331c">019c161</a></td><td><code>remove zero()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2fe6f3e54cb308d52f7e4f2b58741ce6b335614">a2fe6f3</a></td><td><code>Merge branch 't/21318/sequences/rec-basic-arith' into t/21325/sequences/k-regular-subseq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4cec17c3c63ee1a82e24af89a2fcbfeb111577d">e4cec17</a></td><td><code>minor correction in doc</code></td></tr></table>




---

archive/issue_comments_394754.json:
```json
{
    "body": "**Changing commit** from \"[0f89159a4704750761bc41c70d5c096fc09709c5](https://github.com/sagemath/sagetrac-mirror/commit/0f89159a4704750761bc41c70d5c096fc09709c5)\" to \"[e4cec17c3c63ee1a82e24af89a2fcbfeb111577d](https://github.com/sagemath/sagetrac-mirror/commit/e4cec17c3c63ee1a82e24af89a2fcbfeb111577d)\".",
    "created_at": "2016-08-26T11:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394754",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0f89159a4704750761bc41c70d5c096fc09709c5](https://github.com/sagemath/sagetrac-mirror/commit/0f89159a4704750761bc41c70d5c096fc09709c5)" to "[e4cec17c3c63ee1a82e24af89a2fcbfeb111577d](https://github.com/sagemath/sagetrac-mirror/commit/e4cec17c3c63ee1a82e24af89a2fcbfeb111577d)".



---

archive/issue_comments_394755.json:
```json
{
    "body": "**Changing commit** from \"[e4cec17c3c63ee1a82e24af89a2fcbfeb111577d](https://github.com/sagemath/sagetrac-mirror/commit/e4cec17c3c63ee1a82e24af89a2fcbfeb111577d)\" to \"[3a4e849dacacf112c2fb4da83298e8c2ad51e9e5](https://github.com/sagemath/sagetrac-mirror/commit/3a4e849dacacf112c2fb4da83298e8c2ad51e9e5)\".",
    "created_at": "2016-08-26T11:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394755",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e4cec17c3c63ee1a82e24af89a2fcbfeb111577d](https://github.com/sagemath/sagetrac-mirror/commit/e4cec17c3c63ee1a82e24af89a2fcbfeb111577d)" to "[3a4e849dacacf112c2fb4da83298e8c2ad51e9e5](https://github.com/sagemath/sagetrac-mirror/commit/3a4e849dacacf112c2fb4da83298e8c2ad51e9e5)".



---

archive/issue_comments_394756.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e03a32f0fbea66dbfdf8877c2adfe2ef21423d5c\">e03a32f</a></td><td><code>Merge tag '7.4.beta2' into t/21180/cantor_product_comb</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/642cceecccb01ae15f9a867534ab7354ff906270\">642ccee</a></td><td><code>Merge branch 't/21180/cantor_product_comb' into t/21203/sequences/k-regular</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/352751e2d5ff38ca5d5d819c01385035d11f2269\">352751e</a></td><td><code>Merge tag '7.4.beta2' into t/21295/sequences/recognizable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/914640f9ddd581c526e0d70191d86522e2b28f51\">914640f</a></td><td><code>Merge branch 't/21295/sequences/recognizable' into t/21203/sequences/k-regular</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0ade9980fecea50cdafce28d5f8ec8b9c2d7e75\">c0ade99</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a4e849dacacf112c2fb4da83298e8c2ad51e9e5\">3a4e849</a></td><td><code>Merge branch 't/21318/sequences/rec-basic-arith' into t/21325/sequences/k-regular-subseq</code></td></tr></table>\n",
    "created_at": "2016-08-26T11:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394756",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e03a32f0fbea66dbfdf8877c2adfe2ef21423d5c">e03a32f</a></td><td><code>Merge tag '7.4.beta2' into t/21180/cantor_product_comb</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/642cceecccb01ae15f9a867534ab7354ff906270">642ccee</a></td><td><code>Merge branch 't/21180/cantor_product_comb' into t/21203/sequences/k-regular</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/352751e2d5ff38ca5d5d819c01385035d11f2269">352751e</a></td><td><code>Merge tag '7.4.beta2' into t/21295/sequences/recognizable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/914640f9ddd581c526e0d70191d86522e2b28f51">914640f</a></td><td><code>Merge branch 't/21295/sequences/recognizable' into t/21203/sequences/k-regular</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0ade9980fecea50cdafce28d5f8ec8b9c2d7e75">c0ade99</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a4e849dacacf112c2fb4da83298e8c2ad51e9e5">3a4e849</a></td><td><code>Merge branch 't/21318/sequences/rec-basic-arith' into t/21325/sequences/k-regular-subseq</code></td></tr></table>




---

archive/issue_comments_394757.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2017-01-05T12:12:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394757",
    "user": "https://github.com/cheuberg"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_394758.json:
```json
{
    "body": "<a id='comment:8'></a>\npatchbot python3 plugin fails",
    "created_at": "2017-01-05T12:12:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394758",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:8'></a>
patchbot python3 plugin fails



---

archive/issue_comments_394759.json:
```json
{
    "body": "**Changing commit** from \"[3a4e849dacacf112c2fb4da83298e8c2ad51e9e5](https://github.com/sagemath/sagetrac-mirror/commit/3a4e849dacacf112c2fb4da83298e8c2ad51e9e5)\" to \"[fc6c3f51de423ebb8ab2f1c512df95e72a845933](https://github.com/sagemath/sagetrac-mirror/commit/fc6c3f51de423ebb8ab2f1c512df95e72a845933)\".",
    "created_at": "2017-01-24T13:13:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394759",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3a4e849dacacf112c2fb4da83298e8c2ad51e9e5](https://github.com/sagemath/sagetrac-mirror/commit/3a4e849dacacf112c2fb4da83298e8c2ad51e9e5)" to "[fc6c3f51de423ebb8ab2f1c512df95e72a845933](https://github.com/sagemath/sagetrac-mirror/commit/fc6c3f51de423ebb8ab2f1c512df95e72a845933)".



---

archive/issue_comments_394760.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fe1a56013019a7b5aa49413c3da2494d02fe658\">4fe1a56</a></td><td><code>Merge tag '7.5' into t/21295/sequences/recognizable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/584835376cfeca4b9b0d2aa1f25169f6380cc66b\">5848353</a></td><td><code>Python3: `__nonzero__`</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a43407d37361ab2e24b965e13358ab408ef894a\">4a43407</a></td><td><code>Python3: izip</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4970cf5984fb88c379748c29fd3824981389468e\">4970cf5</a></td><td><code>Python3: absolute import</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e33a3c9a2f54f10916ea53c468664bed2c1973b3\">e33a3c9</a></td><td><code>Merge branch 't/21295/sequences/recognizable' into t/21203/sequences/k-regular</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4da9796428eb1ebc2ca355e8b9a9af4e2813d2bf\">4da9796</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13b536e30ff5527f942f2430e4f59447c6ef2f0a\">13b536e</a></td><td><code>Python3: absolut import</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5919c4d86994c7686ef81733f81e479725ce42f1\">5919c4d</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9086b6421d26019bb1895d3b1912ce75ce0b3b93\">9086b64</a></td><td><code>Merge branch 't/21318/sequences/rec-basic-arith' into t/21325/sequences/k-regular-subseq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc6c3f51de423ebb8ab2f1c512df95e72a845933\">fc6c3f5</a></td><td><code>Python3: xrange</code></td></tr></table>\n",
    "created_at": "2017-01-24T13:13:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394760",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fe1a56013019a7b5aa49413c3da2494d02fe658">4fe1a56</a></td><td><code>Merge tag '7.5' into t/21295/sequences/recognizable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/584835376cfeca4b9b0d2aa1f25169f6380cc66b">5848353</a></td><td><code>Python3: `__nonzero__`</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a43407d37361ab2e24b965e13358ab408ef894a">4a43407</a></td><td><code>Python3: izip</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4970cf5984fb88c379748c29fd3824981389468e">4970cf5</a></td><td><code>Python3: absolute import</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e33a3c9a2f54f10916ea53c468664bed2c1973b3">e33a3c9</a></td><td><code>Merge branch 't/21295/sequences/recognizable' into t/21203/sequences/k-regular</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4da9796428eb1ebc2ca355e8b9a9af4e2813d2bf">4da9796</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13b536e30ff5527f942f2430e4f59447c6ef2f0a">13b536e</a></td><td><code>Python3: absolut import</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5919c4d86994c7686ef81733f81e479725ce42f1">5919c4d</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9086b6421d26019bb1895d3b1912ce75ce0b3b93">9086b64</a></td><td><code>Merge branch 't/21318/sequences/rec-basic-arith' into t/21325/sequences/k-regular-subseq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc6c3f51de423ebb8ab2f1c512df95e72a845933">fc6c3f5</a></td><td><code>Python3: xrange</code></td></tr></table>




---

archive/issue_comments_394761.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2017-01-24T13:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394761",
    "user": "https://github.com/dkrenn"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_394762.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [cheuberg](#comment%3A8):\n> patchbot python3 plugin fails\n\n\nFixed.",
    "created_at": "2017-01-24T13:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394762",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:10'></a>
Replying to [cheuberg](#comment%3A8):
> patchbot python3 plugin fails


Fixed.



---

archive/issue_comments_394763.json:
```json
{
    "body": "**Changing commit** from \"[fc6c3f51de423ebb8ab2f1c512df95e72a845933](https://github.com/sagemath/sagetrac-mirror/commit/fc6c3f51de423ebb8ab2f1c512df95e72a845933)\" to \"[0c8355780abefada28832ef1dbab8d2c2bb716da](https://github.com/sagemath/sagetrac-mirror/commit/0c8355780abefada28832ef1dbab8d2c2bb716da)\".",
    "created_at": "2018-04-06T07:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394763",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fc6c3f51de423ebb8ab2f1c512df95e72a845933](https://github.com/sagemath/sagetrac-mirror/commit/fc6c3f51de423ebb8ab2f1c512df95e72a845933)" to "[0c8355780abefada28832ef1dbab8d2c2bb716da](https://github.com/sagemath/sagetrac-mirror/commit/0c8355780abefada28832ef1dbab8d2c2bb716da)".



---

archive/issue_comments_394764.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2bf1b852d6865b0f76b9b8f66118c180af54c91\">c2bf1b8</a></td><td><code>Merge tag '8.1' into u/dkrenn/sequences/recognizable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fef79b276af7537c02d1158b222a2b98dff9e65b\">fef79b2</a></td><td><code>Merge branch 'u/dkrenn/sequences/recognizable' into u/dkrenn/sequences/k-regular</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8eda76ea66de1476306d7008215abd671b590cae\">8eda76e</a></td><td><code>Merge branch 'u/dkrenn/sequences/k-regular' into u/dkrenn/sequences/rec-basic-arith</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c8355780abefada28832ef1dbab8d2c2bb716da\">0c83557</a></td><td><code>Merge branch 'u/dkrenn/sequences/rec-basic-arith' into u/dkrenn/sequences/k-regular-subseq</code></td></tr></table>\n",
    "created_at": "2018-04-06T07:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394764",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2bf1b852d6865b0f76b9b8f66118c180af54c91">c2bf1b8</a></td><td><code>Merge tag '8.1' into u/dkrenn/sequences/recognizable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fef79b276af7537c02d1158b222a2b98dff9e65b">fef79b2</a></td><td><code>Merge branch 'u/dkrenn/sequences/recognizable' into u/dkrenn/sequences/k-regular</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8eda76ea66de1476306d7008215abd671b590cae">8eda76e</a></td><td><code>Merge branch 'u/dkrenn/sequences/k-regular' into u/dkrenn/sequences/rec-basic-arith</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c8355780abefada28832ef1dbab8d2c2bb716da">0c83557</a></td><td><code>Merge branch 'u/dkrenn/sequences/rec-basic-arith' into u/dkrenn/sequences/k-regular-subseq</code></td></tr></table>




---

archive/issue_comments_394765.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5dbdcbb79a50371eda4a6fd65a7511e91e915469\">5dbdcbb</a></td><td><code>Merge tag '8.7' into u/dkrenn/sequences/recognizable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d17def8487bffb46d20954e757f1be192979164a\">d17def8</a></td><td><code>Merge branch 'u/dkrenn/sequences/recognizable' into u/dkrenn/sequences/k-regular</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b998ba7ae2250c87de53ffc1638cbc95c1837cf\">2b998ba</a></td><td><code>Merge branch 'u/dkrenn/sequences/k-regular' into u/dkrenn/sequences/rec-basic-arith</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f8c2a1482fe597093fd2ca4fb3cdb1589121db9\">1f8c2a1</a></td><td><code>Merge branch 'u/dkrenn/sequences/rec-basic-arith' into u/dkrenn/sequences/k-regular-subseq</code></td></tr></table>\n",
    "created_at": "2019-03-29T08:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394765",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5dbdcbb79a50371eda4a6fd65a7511e91e915469">5dbdcbb</a></td><td><code>Merge tag '8.7' into u/dkrenn/sequences/recognizable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d17def8487bffb46d20954e757f1be192979164a">d17def8</a></td><td><code>Merge branch 'u/dkrenn/sequences/recognizable' into u/dkrenn/sequences/k-regular</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b998ba7ae2250c87de53ffc1638cbc95c1837cf">2b998ba</a></td><td><code>Merge branch 'u/dkrenn/sequences/k-regular' into u/dkrenn/sequences/rec-basic-arith</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f8c2a1482fe597093fd2ca4fb3cdb1589121db9">1f8c2a1</a></td><td><code>Merge branch 'u/dkrenn/sequences/rec-basic-arith' into u/dkrenn/sequences/k-regular-subseq</code></td></tr></table>




---

archive/issue_comments_394766.json:
```json
{
    "body": "**Changing commit** from \"[0c8355780abefada28832ef1dbab8d2c2bb716da](https://github.com/sagemath/sagetrac-mirror/commit/0c8355780abefada28832ef1dbab8d2c2bb716da)\" to \"[1f8c2a1482fe597093fd2ca4fb3cdb1589121db9](https://github.com/sagemath/sagetrac-mirror/commit/1f8c2a1482fe597093fd2ca4fb3cdb1589121db9)\".",
    "created_at": "2019-03-29T08:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394766",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0c8355780abefada28832ef1dbab8d2c2bb716da](https://github.com/sagemath/sagetrac-mirror/commit/0c8355780abefada28832ef1dbab8d2c2bb716da)" to "[1f8c2a1482fe597093fd2ca4fb3cdb1589121db9](https://github.com/sagemath/sagetrac-mirror/commit/1f8c2a1482fe597093fd2ca4fb3cdb1589121db9)".



---

archive/issue_comments_394767.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38743c1ba0d6c9ae447f83c34e3868a6ac4b61b5\">38743c1</a></td><td><code>Merge branch 't/21295/sequences/recognizable' into t/21203/sequences/k-regular</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4bf7ae98083d0bea37eddff2a2709f3c27cb8c8\">c4bf7ae</a></td><td><code>Trac #21203 review issue 4: rename to coefficient ring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89f656b8e7b7da3dca0e461a183a1141997607dd\">89f656b</a></td><td><code>Trac #21295 review issue 33: rename to number_of_zeros (as it should be)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ddb6861a3ee7a7d00549c513d7f79a0394713d6\">2ddb686</a></td><td><code>Trac #21295 review issue 7: document accessing coefficients</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13ad4a1ef8368b6438c9c2ce1033113833eb8f8d\">13ad4a1</a></td><td><code>Trac #21295 review issue 29: notice minimize vs field</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42606e37c2f4a301c3c597a2470a62ae5687022c\">42606e3</a></td><td><code>Merge tag '9.3' into t/21295/sequences/recognizable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1dbecfd075c9ca354490a9c0b6a96f9d74b817aa\">1dbecfd</a></td><td><code>Merge branch 't/21295/sequences/recognizable' into t/21203/sequences/k-regular</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a117f51ce68e20befc1aba39bc2fe5c335ed7e4e\">a117f51</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f8fb2ed250e9441a10cf2ebdf11d700728f6393\">0f8fb2e</a></td><td><code>Trac #21318: fixup due to recent changes in dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e967fd2ca155399d9b918b19ed101b1f8a0ea41\">4e967fd</a></td><td><code>Merge branch 't/21318/sequences/rec-basic-arith' into t/21325/sequences/k-regular-subseq</code></td></tr></table>\n",
    "created_at": "2021-05-11T14:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394767",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38743c1ba0d6c9ae447f83c34e3868a6ac4b61b5">38743c1</a></td><td><code>Merge branch 't/21295/sequences/recognizable' into t/21203/sequences/k-regular</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4bf7ae98083d0bea37eddff2a2709f3c27cb8c8">c4bf7ae</a></td><td><code>Trac #21203 review issue 4: rename to coefficient ring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89f656b8e7b7da3dca0e461a183a1141997607dd">89f656b</a></td><td><code>Trac #21295 review issue 33: rename to number_of_zeros (as it should be)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ddb6861a3ee7a7d00549c513d7f79a0394713d6">2ddb686</a></td><td><code>Trac #21295 review issue 7: document accessing coefficients</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13ad4a1ef8368b6438c9c2ce1033113833eb8f8d">13ad4a1</a></td><td><code>Trac #21295 review issue 29: notice minimize vs field</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42606e37c2f4a301c3c597a2470a62ae5687022c">42606e3</a></td><td><code>Merge tag '9.3' into t/21295/sequences/recognizable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1dbecfd075c9ca354490a9c0b6a96f9d74b817aa">1dbecfd</a></td><td><code>Merge branch 't/21295/sequences/recognizable' into t/21203/sequences/k-regular</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a117f51ce68e20befc1aba39bc2fe5c335ed7e4e">a117f51</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f8fb2ed250e9441a10cf2ebdf11d700728f6393">0f8fb2e</a></td><td><code>Trac #21318: fixup due to recent changes in dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e967fd2ca155399d9b918b19ed101b1f8a0ea41">4e967fd</a></td><td><code>Merge branch 't/21318/sequences/rec-basic-arith' into t/21325/sequences/k-regular-subseq</code></td></tr></table>




---

archive/issue_comments_394768.json:
```json
{
    "body": "**Changing commit** from \"[1f8c2a1482fe597093fd2ca4fb3cdb1589121db9](https://github.com/sagemath/sagetrac-mirror/commit/1f8c2a1482fe597093fd2ca4fb3cdb1589121db9)\" to \"[4e967fd2ca155399d9b918b19ed101b1f8a0ea41](https://github.com/sagemath/sagetrac-mirror/commit/4e967fd2ca155399d9b918b19ed101b1f8a0ea41)\".",
    "created_at": "2021-05-11T14:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394768",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1f8c2a1482fe597093fd2ca4fb3cdb1589121db9](https://github.com/sagemath/sagetrac-mirror/commit/1f8c2a1482fe597093fd2ca4fb3cdb1589121db9)" to "[4e967fd2ca155399d9b918b19ed101b1f8a0ea41](https://github.com/sagemath/sagetrac-mirror/commit/4e967fd2ca155399d9b918b19ed101b1f8a0ea41)".



---

archive/issue_comments_394769.json:
```json
{
    "body": "**Changing commit** from \"[4e967fd2ca155399d9b918b19ed101b1f8a0ea41](https://github.com/sagemath/sagetrac-mirror/commit/4e967fd2ca155399d9b918b19ed101b1f8a0ea41)\" to \"[87fd4ed3e17bac27f6cd1bf8dbf03e7859a5fa05](https://github.com/sagemath/sagetrac-mirror/commit/87fd4ed3e17bac27f6cd1bf8dbf03e7859a5fa05)\".",
    "created_at": "2021-06-25T11:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394769",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4e967fd2ca155399d9b918b19ed101b1f8a0ea41](https://github.com/sagemath/sagetrac-mirror/commit/4e967fd2ca155399d9b918b19ed101b1f8a0ea41)" to "[87fd4ed3e17bac27f6cd1bf8dbf03e7859a5fa05](https://github.com/sagemath/sagetrac-mirror/commit/87fd4ed3e17bac27f6cd1bf8dbf03e7859a5fa05)".



---

archive/issue_comments_394770.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73fe3390764cccf06e5615f14786d1e6cddcf5c0\">73fe339</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0e49a94ce0ad2cafb2eeb3791a94113da9892ad\">c0e49a9</a></td><td><code>Trac #21318: decorator minimize_result</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0318a04823c64bc6391abb2a43b934c0711c3f7\">d0318a0</a></td><td><code>Trac #21318: fix empty lines and punctuation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/565b4939bad3d43a04b8bc11297a50409d4aea5a\">565b493</a></td><td><code>Trac #21318: use (new) .linear_representation in doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfc296dd92c36032830337983ee61cc870b35e98\">cfc296d</a></td><td><code>Trac #21318: use is_trivial_zero in doctest of `_neg_`</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81c0df4ccd5eba551f6fa7eb17b23d607a0cb9c8\">81c0df4</a></td><td><code>Trac #21318: use tensor_product in method hadamard_product</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e302a5ee32952a489a55f662dd5a3deb2a1a2096\">e302a5e</a></td><td><code>Trac #21318: use \"correct\" 1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8c492788ac38375170f8cf0b1fc2782753f40b5\">c8c4927</a></td><td><code>Trac #21318: fix rmul/lmul issues</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87fd4ed3e17bac27f6cd1bf8dbf03e7859a5fa05\">87fd4ed</a></td><td><code>Merge branch 'u/dkrenn/sequences/rec-basic-arith' of git://trac.sagemath.org/sage into t/21325/sequences/k-regular-subseq</code></td></tr></table>\n",
    "created_at": "2021-06-25T11:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394770",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73fe3390764cccf06e5615f14786d1e6cddcf5c0">73fe339</a></td><td><code>Merge branch 't/21203/sequences/k-regular' into t/21318/sequences/rec-basic-arith</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0e49a94ce0ad2cafb2eeb3791a94113da9892ad">c0e49a9</a></td><td><code>Trac #21318: decorator minimize_result</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0318a04823c64bc6391abb2a43b934c0711c3f7">d0318a0</a></td><td><code>Trac #21318: fix empty lines and punctuation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/565b4939bad3d43a04b8bc11297a50409d4aea5a">565b493</a></td><td><code>Trac #21318: use (new) .linear_representation in doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfc296dd92c36032830337983ee61cc870b35e98">cfc296d</a></td><td><code>Trac #21318: use is_trivial_zero in doctest of `_neg_`</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81c0df4ccd5eba551f6fa7eb17b23d607a0cb9c8">81c0df4</a></td><td><code>Trac #21318: use tensor_product in method hadamard_product</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e302a5ee32952a489a55f662dd5a3deb2a1a2096">e302a5e</a></td><td><code>Trac #21318: use "correct" 1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8c492788ac38375170f8cf0b1fc2782753f40b5">c8c4927</a></td><td><code>Trac #21318: fix rmul/lmul issues</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87fd4ed3e17bac27f6cd1bf8dbf03e7859a5fa05">87fd4ed</a></td><td><code>Merge branch 'u/dkrenn/sequences/rec-basic-arith' of git://trac.sagemath.org/sage into t/21325/sequences/k-regular-subseq</code></td></tr></table>




---

archive/issue_comments_394771.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a73b15672ef939b9b11548a1184c6f8da209b915\">a73b156</a></td><td><code>Trac #21325: remove iteritems</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4391959d3423f010086b22f05dce3c00a93cfd1a\">4391959</a></td><td><code>Trac #21325: remove empty lines, fix punctuation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d12dfe59241c7407d64bcb7b18737f49311d4481\">d12dfe5</a></td><td><code>Trac #21325: use (new) decorator minimize_result</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4e1d1f8633e565fa6166884c120e887bdc595bc\">d4e1d1f</a></td><td><code>Trac #21318: rmul/lmul preserve identity for multiplying by 1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e66ff5e83978085528209094a3c08503419d02cd\">e66ff5e</a></td><td><code>Trac #21325: fixup test .subsequence being identity</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c70f8db49cc17e1e0f4e4409a624e73d33c66171\">c70f8db</a></td><td><code>Trac #21318: rmul/lmul preserve identity for multiplying by 1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/030162a569387276ecd953ff498369af706ec8bb\">030162a</a></td><td><code>Merge branch 't/21318/sequences/rec-basic-arith' into t/21325/sequences/k-regular-subseq</code></td></tr></table>\n",
    "created_at": "2021-06-25T12:09:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394771",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a73b15672ef939b9b11548a1184c6f8da209b915">a73b156</a></td><td><code>Trac #21325: remove iteritems</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4391959d3423f010086b22f05dce3c00a93cfd1a">4391959</a></td><td><code>Trac #21325: remove empty lines, fix punctuation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d12dfe59241c7407d64bcb7b18737f49311d4481">d12dfe5</a></td><td><code>Trac #21325: use (new) decorator minimize_result</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4e1d1f8633e565fa6166884c120e887bdc595bc">d4e1d1f</a></td><td><code>Trac #21318: rmul/lmul preserve identity for multiplying by 1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e66ff5e83978085528209094a3c08503419d02cd">e66ff5e</a></td><td><code>Trac #21325: fixup test .subsequence being identity</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c70f8db49cc17e1e0f4e4409a624e73d33c66171">c70f8db</a></td><td><code>Trac #21318: rmul/lmul preserve identity for multiplying by 1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/030162a569387276ecd953ff498369af706ec8bb">030162a</a></td><td><code>Merge branch 't/21318/sequences/rec-basic-arith' into t/21325/sequences/k-regular-subseq</code></td></tr></table>




---

archive/issue_comments_394772.json:
```json
{
    "body": "**Changing commit** from \"[87fd4ed3e17bac27f6cd1bf8dbf03e7859a5fa05](https://github.com/sagemath/sagetrac-mirror/commit/87fd4ed3e17bac27f6cd1bf8dbf03e7859a5fa05)\" to \"[030162a569387276ecd953ff498369af706ec8bb](https://github.com/sagemath/sagetrac-mirror/commit/030162a569387276ecd953ff498369af706ec8bb)\".",
    "created_at": "2021-06-25T12:09:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394772",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[87fd4ed3e17bac27f6cd1bf8dbf03e7859a5fa05](https://github.com/sagemath/sagetrac-mirror/commit/87fd4ed3e17bac27f6cd1bf8dbf03e7859a5fa05)" to "[030162a569387276ecd953ff498369af706ec8bb](https://github.com/sagemath/sagetrac-mirror/commit/030162a569387276ecd953ff498369af706ec8bb)".



---

archive/issue_comments_394773.json:
```json
{
    "body": "<a id='comment:16'></a>\nMerged dependencies and adapted code due to changes in these dependencies.",
    "created_at": "2021-06-25T12:10:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394773",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:16'></a>
Merged dependencies and adapted code due to changes in these dependencies.



---

archive/issue_comments_394774.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2021-07-09T10:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394774",
    "user": "https://github.com/cheuberg"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_events_064531.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2021-07-09T10:22:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21325#event-64531"
}
```



---

archive/issue_comments_394775.json:
```json
{
    "body": "<a id='comment:18'></a>\n1. `pad_right`: One-sentence description: the syntax <code>\\`\\`zero\\`\\`s</code> does not yield the desired formatting: The output is <code>zero\\`\\`s to have at least the given \\`\\`length.</code>\n\n2. `pad_right`: PEP8: Missing spaces after commas in input of examples and tests.\n\n3. `subsequence`: Description of the input parameter `b`: The meaning of `c_j(a_n+b_j)` is unclear to me.\n\n4. `subsequence`: First example: I think that it might be more intuitive to have a simpler linear representation for the sequence `(n)_{n\\ge 0}`. The current representation corresponds to the vector `(n, 2n+1)`; a representation corresponding to the vector `(n, 1)` would be simpler. It might also be helpful to state the vector explicitly.\n\n5. `subsequence`: the new method `linear_representation` implemented in the review phase of a precursor ticket could be used instead of manually extracting the information.\n\n6. `subsequence`: For the example `C.subsequence(3, 1)`, it might be helpful to document that this does what it should do by adding some tests of the shape\n\n   ```python\n   sage: var('n')\n   sage: def v(n):\n   ....:     return vector([3*n + 1, 6*n + 1])\n   sage: S.mu[0] * v(n) == v(2*n)\n   True\n   sage: S.mu[1] * v(n) == v(2*n + 1)\n   True\n   ```\n   Similar tests would be welcome in other examples, too, e.g. for `C.subsequence(1, -1)`, the vector is something like `[n -1 + delta_0(n), 2*n - 1 + delta_0(n), 4*n + 1]` where `delta_0(n)` corresponds to `int(n == 0)`:\n\n   ```python\n   sage: function('delta_0')\n   sage: def v(n):\n   ....:     return vector([n -1 + delta_0(n), 2*n - 1 + delta_0(n), 4*n + 1])\n   sage: def simplify_delta(expr):\n   ....:     return expr.subs({delta_0(2*n): delta_0(n), delta_0(2*n + 1): 0})\n   sage: simplify_delta(v(2*n) - S.mu[0]*v(n)).is_zero()\n   True\n   sage: simplify_delta(v(2*n + 1) - S.mu[1]*v(n)).is_zero()\n   True\n   ```\n   or, for `S = C.subsequence(1, {0: 1, -1: -1})`:\n\n   ```python\n   sage: def v(n):\n   ....:     return vector([1 - delta_0(n), 1])\n   ```\n\n7. `subsequence`: is there are a particular reason to write `lines = dict((r, []) for r in A)` instead of `lines = {r: [] for r in A}`\n\n8. `subsequence`: I think that the code could be simplified by constructing the matrices of the new linear representation as block matrices in terms of the original matrices. For instance, the loop over `i in srange(dim)` and then extracting the `i`-th row of `self.mu[f]` could be omitted (with the additional benefit of not computing `d` and `f` in `mu_line` for all values of `i`); the index computation `(di*dim)*(0,)` in `pad` could be replaced by taking the zero matrix of the parent of `self.mu[f]` (or create that zero matrix once, instead of the current `zero`), `ndim` would be unnecessary.\n\n9. `subsequence`: I think that in the block calling `mu_line`, a comment stating that we now compute the contributions of `v(an+c)[an\\ge 0]` to the linear representation by using `v(a(kn+r)+c)[a(kn+r)+c\\ge 0] = v(kan+ar+c)[kan+ar+c\\ge 0] = v(k(an+d)+f)[an+d\\ge 0]=mu[f]v(an+d)[an+d\\ge 0]` where `v(n) = self.__getitem__(n, multiply_left=False)` would be helpful.\n\n10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \\le f \\le max(a, |b|)` always holds which implies termination.\n\n21. `subsequence`: I think that the construction of the new left vector could be simplified by constructing it as a \"block vector\" instead of an actual sum of padded tuples:\n\n    ```python\n    vector(sum((tuple(b.get(c, 0)*self.left) for c in kernel), tuple()))\n    ```\n\n32. `partial_sums`: The description of the parameter `include_n` is rendered incompletely because <code>\\`n\\`th</code> is not formatted appropriately.\n\n43. `partial_sums`: the new method `linear_representation` implemented in the review phase of a precursor ticket could be used instead of manually extracting the information.\n\n54. `partial_sums`: is there are a particular reason to write `B = dict((r, sum(self.mu[a] for a in A[r:])) for r in A)` instead of `B = {r: sum(self.mu[a] for a in A[r:]) for r in A)`?\n\n65. `partial_sums`: `dict((r, W.augment((-B[r+1]).stack(self.mu[r]))) for r in A)` vs. `{r: ... for r in A}`\n\n76. `partial_sums` I think that using `block_matrix([[B[0], -B[r-1]], [Z, self.mu[r]]])` would be more readable than constructing the block matrix via `stack` and `augment`; I do not think that reusing the same first block column in all matrices is worth the effort.\n\n87. The patchbot notes two issues raised by pyflakes; one of them can probably be fixed by merging the latest version of #21318\n\n98. It seems that there is no function `block_vector` in [SageMath](SageMath). I think that always constructing them via conversion to tuples, adding tuples, converting back to a vector is not very readable. I posted about `block_vector` on [sage-devel](https://groups.google.com/g/sage-devel/c/X0a-ENF6LNk/m/0iRDn28eAAAJ). If no such function is introduced in appropriate places, I suggest to have a local function in `recognizable_series.py`.\n\n109. I am curios why there are no methods `shift_left` and `shift_right`; they could easily be implemented via `subsequence`.\n\n20. The methods `partial_sums` and the difference methods are mostly inverse to each other. It would be nice to check the obvious relations between these methods (as well as the shift methods from 19) using a random k-regular sequence. See also the discussion on [sage-devel](https://groups.google.com/g/sage-devel/c/3rOts1PjynU/m/vR5VMqmgAQAJ) concerning testing of random elements. This is probably something for a follow-up because equality checking would be useful.",
    "created_at": "2021-07-09T10:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394775",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:18'></a>
1. `pad_right`: One-sentence description: the syntax <code>\`\`zero\`\`s</code> does not yield the desired formatting: The output is <code>zero\`\`s to have at least the given \`\`length.</code>

2. `pad_right`: PEP8: Missing spaces after commas in input of examples and tests.

3. `subsequence`: Description of the input parameter `b`: The meaning of `c_j(a_n+b_j)` is unclear to me.

4. `subsequence`: First example: I think that it might be more intuitive to have a simpler linear representation for the sequence `(n)_{n\ge 0}`. The current representation corresponds to the vector `(n, 2n+1)`; a representation corresponding to the vector `(n, 1)` would be simpler. It might also be helpful to state the vector explicitly.

5. `subsequence`: the new method `linear_representation` implemented in the review phase of a precursor ticket could be used instead of manually extracting the information.

6. `subsequence`: For the example `C.subsequence(3, 1)`, it might be helpful to document that this does what it should do by adding some tests of the shape

   ```python
   sage: var('n')
   sage: def v(n):
   ....:     return vector([3*n + 1, 6*n + 1])
   sage: S.mu[0] * v(n) == v(2*n)
   True
   sage: S.mu[1] * v(n) == v(2*n + 1)
   True
   ```
   Similar tests would be welcome in other examples, too, e.g. for `C.subsequence(1, -1)`, the vector is something like `[n -1 + delta_0(n), 2*n - 1 + delta_0(n), 4*n + 1]` where `delta_0(n)` corresponds to `int(n == 0)`:

   ```python
   sage: function('delta_0')
   sage: def v(n):
   ....:     return vector([n -1 + delta_0(n), 2*n - 1 + delta_0(n), 4*n + 1])
   sage: def simplify_delta(expr):
   ....:     return expr.subs({delta_0(2*n): delta_0(n), delta_0(2*n + 1): 0})
   sage: simplify_delta(v(2*n) - S.mu[0]*v(n)).is_zero()
   True
   sage: simplify_delta(v(2*n + 1) - S.mu[1]*v(n)).is_zero()
   True
   ```
   or, for `S = C.subsequence(1, {0: 1, -1: -1})`:

   ```python
   sage: def v(n):
   ....:     return vector([1 - delta_0(n), 1])
   ```

7. `subsequence`: is there are a particular reason to write `lines = dict((r, []) for r in A)` instead of `lines = {r: [] for r in A}`

8. `subsequence`: I think that the code could be simplified by constructing the matrices of the new linear representation as block matrices in terms of the original matrices. For instance, the loop over `i in srange(dim)` and then extracting the `i`-th row of `self.mu[f]` could be omitted (with the additional benefit of not computing `d` and `f` in `mu_line` for all values of `i`); the index computation `(di*dim)*(0,)` in `pad` could be replaced by taking the zero matrix of the parent of `self.mu[f]` (or create that zero matrix once, instead of the current `zero`), `ndim` would be unnecessary.

9. `subsequence`: I think that in the block calling `mu_line`, a comment stating that we now compute the contributions of `v(an+c)[an\ge 0]` to the linear representation by using `v(a(kn+r)+c)[a(kn+r)+c\ge 0] = v(kan+ar+c)[kan+ar+c\ge 0] = v(k(an+d)+f)[an+d\ge 0]=mu[f]v(an+d)[an+d\ge 0]` where `v(n) = self.__getitem__(n, multiply_left=False)` would be helpful.

10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \le f \le max(a, |b|)` always holds which implies termination.

21. `subsequence`: I think that the construction of the new left vector could be simplified by constructing it as a "block vector" instead of an actual sum of padded tuples:

    ```python
    vector(sum((tuple(b.get(c, 0)*self.left) for c in kernel), tuple()))
    ```

32. `partial_sums`: The description of the parameter `include_n` is rendered incompletely because <code>\`n\`th</code> is not formatted appropriately.

43. `partial_sums`: the new method `linear_representation` implemented in the review phase of a precursor ticket could be used instead of manually extracting the information.

54. `partial_sums`: is there are a particular reason to write `B = dict((r, sum(self.mu[a] for a in A[r:])) for r in A)` instead of `B = {r: sum(self.mu[a] for a in A[r:]) for r in A)`?

65. `partial_sums`: `dict((r, W.augment((-B[r+1]).stack(self.mu[r]))) for r in A)` vs. `{r: ... for r in A}`

76. `partial_sums` I think that using `block_matrix([[B[0], -B[r-1]], [Z, self.mu[r]]])` would be more readable than constructing the block matrix via `stack` and `augment`; I do not think that reusing the same first block column in all matrices is worth the effort.

87. The patchbot notes two issues raised by pyflakes; one of them can probably be fixed by merging the latest version of #21318

98. It seems that there is no function `block_vector` in [SageMath](SageMath). I think that always constructing them via conversion to tuples, adding tuples, converting back to a vector is not very readable. I posted about `block_vector` on [sage-devel](https://groups.google.com/g/sage-devel/c/X0a-ENF6LNk/m/0iRDn28eAAAJ). If no such function is introduced in appropriate places, I suggest to have a local function in `recognizable_series.py`.

109. I am curios why there are no methods `shift_left` and `shift_right`; they could easily be implemented via `subsequence`.

20. The methods `partial_sums` and the difference methods are mostly inverse to each other. It would be nice to check the obvious relations between these methods (as well as the shift methods from 19) using a random k-regular sequence. See also the discussion on [sage-devel](https://groups.google.com/g/sage-devel/c/3rOts1PjynU/m/vR5VMqmgAQAJ) concerning testing of random elements. This is probably something for a follow-up because equality checking would be useful.



---

archive/issue_comments_394776.json:
```json
{
    "body": "**Reviewer:** Clemens Heuberger",
    "created_at": "2021-07-09T10:22:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394776",
    "user": "https://github.com/cheuberg"
}
```

**Reviewer:** Clemens Heuberger



---

archive/issue_comments_394777.json:
```json
{
    "body": "<a id='comment:19'></a>\nFollowing the discussion on [sage-devel](https://groups.google.com/g/sage-devel/c/X0a-ENF6LNk), here are two minor remarks:\n\nReplying to [cheuberg](#comment%3A18):\n> 18. It seems that there is no function `block_vector` in [SageMath](SageMath). I think that always constructing them via conversion to tuples, adding tuples, converting back to a vector is not very readable. I posted about `block_vector` on [sage-devel](https://groups.google.com/g/sage-devel/c/X0a-ENF6LNk/m/0iRDn28eAAAJ). If no such function is introduced in appropriate places, I suggest to have a local function in `recognizable_series.py`.\n  \nOne can use Python's [itertools.chain](https://docs.python.org/3/library/itertools.html#itertools.chain) or [chain.from_iterable](https://docs.python.org/3/library/itertools.html#itertools.chain.from_iterable) where appropriate. For example:\n\n```python\nsage: from itertools import chain\nsage: vector(chain([1,2,3], [4,5,6]))\n(1, 2, 3, 4, 5, 6) \n```\n\n> 14. `partial_sums`: is there are a particular reason to write `B = dict((r, sum(self.mu[a] for a in A[r:])) for r in A)` instead of `B = {r: sum(self.mu[a] for a in A[r:]) for r in A)`?\n  \n>\nI think the number of additions is quadratic, where it can be linear. Creating such partial sums with linear number of additions has many implementations: [itertools.accumulate](https://docs.python.org/3/library/itertools.html#itertools.accumulate), [numpy.cumsum](https://numpy.org/doc/1.21/reference/generated/numpy.cumsum.html#numpy.cumsum), and not long ago I discovered that Sage have the function [running_total](https://doc.sagemath.org/html/en/reference/misc/sage/misc/misc_c.html#sage.misc.misc_c.running_total). If this is premature optimization (e.g. the size of `A` is always small), then please ignore.\n\nI do not know much about k-regular sequences, but from a quick read it seems great to have them implementated in Sage.",
    "created_at": "2021-07-12T00:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394777",
    "user": "https://github.com/mathzeta"
}
```

<a id='comment:19'></a>
Following the discussion on [sage-devel](https://groups.google.com/g/sage-devel/c/X0a-ENF6LNk), here are two minor remarks:

Replying to [cheuberg](#comment%3A18):
> 18. It seems that there is no function `block_vector` in [SageMath](SageMath). I think that always constructing them via conversion to tuples, adding tuples, converting back to a vector is not very readable. I posted about `block_vector` on [sage-devel](https://groups.google.com/g/sage-devel/c/X0a-ENF6LNk/m/0iRDn28eAAAJ). If no such function is introduced in appropriate places, I suggest to have a local function in `recognizable_series.py`.
  
One can use Python's [itertools.chain](https://docs.python.org/3/library/itertools.html#itertools.chain) or [chain.from_iterable](https://docs.python.org/3/library/itertools.html#itertools.chain.from_iterable) where appropriate. For example:

```python
sage: from itertools import chain
sage: vector(chain([1,2,3], [4,5,6]))
(1, 2, 3, 4, 5, 6) 
```

> 14. `partial_sums`: is there are a particular reason to write `B = dict((r, sum(self.mu[a] for a in A[r:])) for r in A)` instead of `B = {r: sum(self.mu[a] for a in A[r:]) for r in A)`?
  
>
I think the number of additions is quadratic, where it can be linear. Creating such partial sums with linear number of additions has many implementations: [itertools.accumulate](https://docs.python.org/3/library/itertools.html#itertools.accumulate), [numpy.cumsum](https://numpy.org/doc/1.21/reference/generated/numpy.cumsum.html#numpy.cumsum), and not long ago I discovered that Sage have the function [running_total](https://doc.sagemath.org/html/en/reference/misc/sage/misc/misc_c.html#sage.misc.misc_c.running_total). If this is premature optimization (e.g. the size of `A` is always small), then please ignore.

I do not know much about k-regular sequences, but from a quick read it seems great to have them implementated in Sage.



---

archive/issue_events_064532.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:26:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21325#event-64532"
}
```



---

archive/issue_events_064533.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:26:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21325#event-64533"
}
```



---

archive/issue_events_064534.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21325#event-64534"
}
```



---

archive/issue_events_064535.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21325#event-64535"
}
```



---

archive/issue_comments_394778.json:
```json
{
    "body": "**Changing commit** from \"[030162a569387276ecd953ff498369af706ec8bb](https://github.com/sagemath/sagetrac-mirror/commit/030162a569387276ecd953ff498369af706ec8bb)\" to \"[26e2d6fa6fb246af12dcf408e33a689728ef0e59](https://github.com/sagemath/sagetrac-mirror/commit/26e2d6fa6fb246af12dcf408e33a689728ef0e59)\".",
    "created_at": "2022-01-05T14:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394778",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[030162a569387276ecd953ff498369af706ec8bb](https://github.com/sagemath/sagetrac-mirror/commit/030162a569387276ecd953ff498369af706ec8bb)" to "[26e2d6fa6fb246af12dcf408e33a689728ef0e59](https://github.com/sagemath/sagetrac-mirror/commit/26e2d6fa6fb246af12dcf408e33a689728ef0e59)".



---

archive/issue_comments_394779.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7cacfed92232634d26d339a6902024a97c33e51\">f7cacfe</a></td><td><code>Trac #21325 review comment 8: rewrite subsequences to use block matrices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e2acb08aa6e8092b7dc647469f0dc667b1be720\">6e2acb0</a></td><td><code> Trac #21325 review comment 8: more rewriting to use block structure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a09d67e6100985f41ddc3fe6e329162b81342349\">a09d67e</a></td><td><code>Trac #21325 review comment 9: add comment in inner loop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44a314db9ed6e40d316f52dde014e8878fb88e38\">44a314d</a></td><td><code> Trac #21325 review comment 11: simplify construction and code for left vector</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b2fb5c8319594cd9deb2c642e4cbd3de9002c3e\">5b2fb5c</a></td><td><code>Trac #21325 review comment 12: fixup docstring partial_sums</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b7c431016a00abf68a88673e182f68d92bded04\">3b7c431</a></td><td><code>Trac #21325 review comment 13: use .linear representation in examples partial_sum</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33d4dae5b2ee7e808adba06dca3e028ee8cae5b8\">33d4dae</a></td><td><code>Trac #21325 review comment 14+15: rewrite construction dict</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ecb36634db5d8ef070fbbefc803aa5485120d09b\">ecb3663</a></td><td><code>Trac #21325 review comment 17: simpler (more readable) construction of block matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96df7b3b68c0742a319887d56533cf1e2c7f3173\">96df7b3</a></td><td><code>Trac #21325 review comment 18: deal with remaining block vectors</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26e2d6fa6fb246af12dcf408e33a689728ef0e59\">26e2d6f</a></td><td><code>Trac #21325 review comment 19: shift_left, shift_right</code></td></tr></table>\n",
    "created_at": "2022-01-05T14:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394779",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7cacfed92232634d26d339a6902024a97c33e51">f7cacfe</a></td><td><code>Trac #21325 review comment 8: rewrite subsequences to use block matrices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e2acb08aa6e8092b7dc647469f0dc667b1be720">6e2acb0</a></td><td><code> Trac #21325 review comment 8: more rewriting to use block structure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a09d67e6100985f41ddc3fe6e329162b81342349">a09d67e</a></td><td><code>Trac #21325 review comment 9: add comment in inner loop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44a314db9ed6e40d316f52dde014e8878fb88e38">44a314d</a></td><td><code> Trac #21325 review comment 11: simplify construction and code for left vector</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b2fb5c8319594cd9deb2c642e4cbd3de9002c3e">5b2fb5c</a></td><td><code>Trac #21325 review comment 12: fixup docstring partial_sums</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b7c431016a00abf68a88673e182f68d92bded04">3b7c431</a></td><td><code>Trac #21325 review comment 13: use .linear representation in examples partial_sum</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33d4dae5b2ee7e808adba06dca3e028ee8cae5b8">33d4dae</a></td><td><code>Trac #21325 review comment 14+15: rewrite construction dict</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ecb36634db5d8ef070fbbefc803aa5485120d09b">ecb3663</a></td><td><code>Trac #21325 review comment 17: simpler (more readable) construction of block matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96df7b3b68c0742a319887d56533cf1e2c7f3173">96df7b3</a></td><td><code>Trac #21325 review comment 18: deal with remaining block vectors</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26e2d6fa6fb246af12dcf408e33a689728ef0e59">26e2d6f</a></td><td><code>Trac #21325 review comment 19: shift_left, shift_right</code></td></tr></table>




---

archive/issue_comments_394780.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [cheuberg](#comment%3A18):\n> 1. `pad_right`: One-sentence description: the syntax <code>\\`\\`zero\\`\\`s</code> does not yield the desired formatting: The output is <code>zero\\`\\`s to have at least the given \\`\\`length.</code>\n\n\nDone.\n\n> 2. `pad_right`: PEP8: Missing spaces after commas in input of examples and tests.\n\n\nDone.\n\n> 3. `subsequence`: Description of the input parameter `b`: The meaning of `c_j(a_n+b_j)` is unclear to me.\n\n\nIndeed, this was incorrect. Changed now.\n\n> 4. `subsequence`: First example: I think that it might be more intuitive to have a simpler linear representation for the sequence `(n)_{n\\ge 0}`. The current representation corresponds to the vector `(n, 2n+1)`; a representation corresponding to the vector `(n, 1)` would be simpler. It might also be helpful to state the vector explicitly.\n\n\nYes, indeed we should use the simpler linear representation; changed.\nVector explicitly added (in separate commit).\n\n> 5. `subsequence`: the new method `linear_representation` implemented in the review phase of a precursor ticket could be used instead of manually extracting the information.\n\n\nDone.\n\n> 6. `subsequence`: For the example `C.subsequence(3, 1)`, it might be helpful to document that this does what it should do by adding some tests of the shape [...]\n\n\nTests added in the `TESTS` section to not pollute the examples section in terms of readability.\n\n> 7. `subsequence`: is there are a particular reason to write `lines = dict((r, []) for r in A)` instead of `lines = {r: [] for r in A}`\n\n\nI vaguely remember that an older Python version didn't support this and parts of the code are quite old in terms of Python versions. Nevertheless, changed, as this is clearly an improvement.\n\n> 8. `subsequence`: I think that the code could be simplified by constructing the matrices of the new linear representation as block matrices in terms of the original matrices. For instance, the loop over `i in srange(dim)` and then extracting the `i`-th row of `self.mu[f]` could be omitted (with the additional benefit of not computing `d` and `f` in `mu_line` for all values of `i`); the index computation `(di*dim)*(0,)` in `pad` could be replaced by taking the zero matrix of the parent of `self.mu[f]` (or create that zero matrix once, instead of the current `zero`), `ndim` would be unnecessary.\n\n\nChanged. However, I am not fully convinced that this rewriting made it that much better/easier to read as hoped; nevertheless, it think it made it somehow easier to understand what is going on. The loop over i, for sure, needed to be pulled out, even without the change to block matrices.\n\n> 9. `subsequence`: I think that in the block calling `mu_line`, a comment stating that we now compute the contributions of `v(an+c)[an\\ge 0]` to the linear representation by using `v(a(kn+r)+c)[a(kn+r)+c\\ge 0] = v(kan+ar+c)[kan+ar+c\\ge 0] = v(k(an+d)+f)[an+d\\ge 0]=mu[f]v(an+d)[an+d\\ge 0]` where `v(n) = self.__getitem__(n, multiply_left=False)` would be helpful.\n\n\nComment (as stated) added.\n\n> 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \\le f \\le max(a, |b|)` always holds which implies termination.\n\n\nOk.\n\n> 11. `subsequence`: I think that the construction of the new left vector could be simplified by constructing it as a \"block vector\" instead of an actual sum of padded tuples:\n> \n>     ```python\n>     vector(sum((tuple(b.get(c, 0)*self.left) for c in kernel), tuple()))\n>     ```\n\n\nThis is indeed much simpler; changed.\n\n> 12. `partial_sums`: The description of the parameter `include_n` is rendered incompletely because <code>\\`n\\`th</code> is not formatted appropriately.\n\n\nDone.\n\n> 13. `partial_sums`: the new method `linear_representation` implemented in the review phase of a precursor ticket could be used instead of manually extracting the information.\n\n\nUsed now.\n\n> 14. `partial_sums`: is there are a particular reason to write `B = dict((r, sum(self.mu[a] for a in A[r:])) for r in A)` instead of `B = {r: sum(self.mu[a] for a in A[r:]) for r in A)`?\n\n\nDone.\n\n> 15. `partial_sums`: `dict((r, W.augment((-B[r+1]).stack(self.mu[r]))) for r in A)` vs. `{r: ... for r in A}`\n\n\nDone.\n\n> 16. `partial_sums` I think that using `block_matrix([[B[0], -B[r-1]], [Z, self.mu[r]]])` would be more readable than constructing the block matrix via `stack` and `augment`; I do not think that reusing the same first block column in all matrices is worth the effort.\n\n\nAgreed; changed.\n\nDo we mind, that now the output of the linear representation sometimes is a displayed as block matrix? I guess not...\n\n> 17. The patchbot notes two issues raised by pyflakes; one of them can probably be fixed by merging the latest version of #21318\n\n\nI think this should be fixed already. Let's see what the patchbot reports.\n\n> 18. It seems that there is no function `block_vector` in [SageMath](SageMath). I think that always constructing them via conversion to tuples, adding tuples, converting back to a vector is not very readable. I posted about `block_vector` on [sage-devel](https://groups.google.com/g/sage-devel/c/X0a-ENF6LNk/m/0iRDn28eAAAJ). If no such function is introduced in appropriate places, I suggest to have a local function in `recognizable_series.py`.\n\n\nChanged to `vector(chain(...))` as discussed on the mailing list and ticket.\n\n> 19. I am curios why there are no methods `shift_left` and `shift_right`; they could easily be implemented via `subsequence`.\n\n\nSimply because not implemented. Done now.\n\n> 20. The methods `partial_sums` and the difference methods are mostly inverse to each other. It would be nice to check the obvious relations between these methods (as well as the shift methods from 19) using a random k-regular sequence. See also the discussion on [sage-devel](https://groups.google.com/g/sage-devel/c/3rOts1PjynU/m/vR5VMqmgAQAJ) concerning testing of random elements. This is probably something for a follow-up because equality checking would be useful.\n\n\nI agree that this should be done on a follow-up ticket.",
    "created_at": "2022-01-05T14:52:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394780",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:23'></a>
Replying to [cheuberg](#comment%3A18):
> 1. `pad_right`: One-sentence description: the syntax <code>\`\`zero\`\`s</code> does not yield the desired formatting: The output is <code>zero\`\`s to have at least the given \`\`length.</code>


Done.

> 2. `pad_right`: PEP8: Missing spaces after commas in input of examples and tests.


Done.

> 3. `subsequence`: Description of the input parameter `b`: The meaning of `c_j(a_n+b_j)` is unclear to me.


Indeed, this was incorrect. Changed now.

> 4. `subsequence`: First example: I think that it might be more intuitive to have a simpler linear representation for the sequence `(n)_{n\ge 0}`. The current representation corresponds to the vector `(n, 2n+1)`; a representation corresponding to the vector `(n, 1)` would be simpler. It might also be helpful to state the vector explicitly.


Yes, indeed we should use the simpler linear representation; changed.
Vector explicitly added (in separate commit).

> 5. `subsequence`: the new method `linear_representation` implemented in the review phase of a precursor ticket could be used instead of manually extracting the information.


Done.

> 6. `subsequence`: For the example `C.subsequence(3, 1)`, it might be helpful to document that this does what it should do by adding some tests of the shape [...]


Tests added in the `TESTS` section to not pollute the examples section in terms of readability.

> 7. `subsequence`: is there are a particular reason to write `lines = dict((r, []) for r in A)` instead of `lines = {r: [] for r in A}`


I vaguely remember that an older Python version didn't support this and parts of the code are quite old in terms of Python versions. Nevertheless, changed, as this is clearly an improvement.

> 8. `subsequence`: I think that the code could be simplified by constructing the matrices of the new linear representation as block matrices in terms of the original matrices. For instance, the loop over `i in srange(dim)` and then extracting the `i`-th row of `self.mu[f]` could be omitted (with the additional benefit of not computing `d` and `f` in `mu_line` for all values of `i`); the index computation `(di*dim)*(0,)` in `pad` could be replaced by taking the zero matrix of the parent of `self.mu[f]` (or create that zero matrix once, instead of the current `zero`), `ndim` would be unnecessary.


Changed. However, I am not fully convinced that this rewriting made it that much better/easier to read as hoped; nevertheless, it think it made it somehow easier to understand what is going on. The loop over i, for sure, needed to be pulled out, even without the change to block matrices.

> 9. `subsequence`: I think that in the block calling `mu_line`, a comment stating that we now compute the contributions of `v(an+c)[an\ge 0]` to the linear representation by using `v(a(kn+r)+c)[a(kn+r)+c\ge 0] = v(kan+ar+c)[kan+ar+c\ge 0] = v(k(an+d)+f)[an+d\ge 0]=mu[f]v(an+d)[an+d\ge 0]` where `v(n) = self.__getitem__(n, multiply_left=False)` would be helpful.


Comment (as stated) added.

> 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \le f \le max(a, |b|)` always holds which implies termination.


Ok.

> 11. `subsequence`: I think that the construction of the new left vector could be simplified by constructing it as a "block vector" instead of an actual sum of padded tuples:
> 
>     ```python
>     vector(sum((tuple(b.get(c, 0)*self.left) for c in kernel), tuple()))
>     ```


This is indeed much simpler; changed.

> 12. `partial_sums`: The description of the parameter `include_n` is rendered incompletely because <code>\`n\`th</code> is not formatted appropriately.


Done.

> 13. `partial_sums`: the new method `linear_representation` implemented in the review phase of a precursor ticket could be used instead of manually extracting the information.


Used now.

> 14. `partial_sums`: is there are a particular reason to write `B = dict((r, sum(self.mu[a] for a in A[r:])) for r in A)` instead of `B = {r: sum(self.mu[a] for a in A[r:]) for r in A)`?


Done.

> 15. `partial_sums`: `dict((r, W.augment((-B[r+1]).stack(self.mu[r]))) for r in A)` vs. `{r: ... for r in A}`


Done.

> 16. `partial_sums` I think that using `block_matrix([[B[0], -B[r-1]], [Z, self.mu[r]]])` would be more readable than constructing the block matrix via `stack` and `augment`; I do not think that reusing the same first block column in all matrices is worth the effort.


Agreed; changed.

Do we mind, that now the output of the linear representation sometimes is a displayed as block matrix? I guess not...

> 17. The patchbot notes two issues raised by pyflakes; one of them can probably be fixed by merging the latest version of #21318


I think this should be fixed already. Let's see what the patchbot reports.

> 18. It seems that there is no function `block_vector` in [SageMath](SageMath). I think that always constructing them via conversion to tuples, adding tuples, converting back to a vector is not very readable. I posted about `block_vector` on [sage-devel](https://groups.google.com/g/sage-devel/c/X0a-ENF6LNk/m/0iRDn28eAAAJ). If no such function is introduced in appropriate places, I suggest to have a local function in `recognizable_series.py`.


Changed to `vector(chain(...))` as discussed on the mailing list and ticket.

> 19. I am curios why there are no methods `shift_left` and `shift_right`; they could easily be implemented via `subsequence`.


Simply because not implemented. Done now.

> 20. The methods `partial_sums` and the difference methods are mostly inverse to each other. It would be nice to check the obvious relations between these methods (as well as the shift methods from 19) using a random k-regular sequence. See also the discussion on [sage-devel](https://groups.google.com/g/sage-devel/c/3rOts1PjynU/m/vR5VMqmgAQAJ) concerning testing of random elements. This is probably something for a follow-up because equality checking would be useful.


I agree that this should be done on a follow-up ticket.



---

archive/issue_comments_394781.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [mathzeta2](#comment%3A19):\n> Following the discussion on [sage-devel](https://groups.google.com/g/sage-devel/c/X0a-ENF6LNk), here are two minor remarks:\n> One can use Python's [itertools.chain](https://docs.python.org/3/library/itertools.html#itertools.chain) or [chain.from_iterable](https://docs.python.org/3/library/itertools.html#itertools.chain.from_iterable) where appropriate. For example:\n\n\n\nDone.\n\n> > 14. `partial_sums`: is there are a particular reason to write `B = dict((r, sum(self.mu[a] for a in A[r:])) for r in A)` instead of `B = {r: sum(self.mu[a] for a in A[r:]) for r in A)`?\n  \n> >\n> I think the number of additions is quadratic, where it can be linear. Creating such partial sums with linear number of additions has many implementations: [itertools.accumulate](https://docs.python.org/3/library/itertools.html#itertools.accumulate), [numpy.cumsum](https://numpy.org/doc/1.21/reference/generated/numpy.cumsum.html#numpy.cumsum), and not long ago I discovered that Sage have the function [running_total](https://doc.sagemath.org/html/en/reference/misc/sage/misc/misc_c.html#sage.misc.misc_c.running_total). If this is premature optimization (e.g. the size of `A` is always small), then please ignore.\n\n\nYes, indeed the size of `A` is small compared to everything else. Nevertheless I gave it a try. One would need something like\n\n```diff\n-        B = {r: sum(self.mu[a] for a in A[r:]) for r in A}\n+        B = dict(zip(reversed(A), accumulate(self.mu[r] for r in reversed(A))))\n```\nwhich makes it much less readable, so rejected this change.",
    "created_at": "2022-01-05T14:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394781",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:24'></a>
Replying to [mathzeta2](#comment%3A19):
> Following the discussion on [sage-devel](https://groups.google.com/g/sage-devel/c/X0a-ENF6LNk), here are two minor remarks:
> One can use Python's [itertools.chain](https://docs.python.org/3/library/itertools.html#itertools.chain) or [chain.from_iterable](https://docs.python.org/3/library/itertools.html#itertools.chain.from_iterable) where appropriate. For example:



Done.

> > 14. `partial_sums`: is there are a particular reason to write `B = dict((r, sum(self.mu[a] for a in A[r:])) for r in A)` instead of `B = {r: sum(self.mu[a] for a in A[r:]) for r in A)`?
  
> >
> I think the number of additions is quadratic, where it can be linear. Creating such partial sums with linear number of additions has many implementations: [itertools.accumulate](https://docs.python.org/3/library/itertools.html#itertools.accumulate), [numpy.cumsum](https://numpy.org/doc/1.21/reference/generated/numpy.cumsum.html#numpy.cumsum), and not long ago I discovered that Sage have the function [running_total](https://doc.sagemath.org/html/en/reference/misc/sage/misc/misc_c.html#sage.misc.misc_c.running_total). If this is premature optimization (e.g. the size of `A` is always small), then please ignore.


Yes, indeed the size of `A` is small compared to everything else. Nevertheless I gave it a try. One would need something like

```diff
-        B = {r: sum(self.mu[a] for a in A[r:]) for r in A}
+        B = dict(zip(reversed(A), accumulate(self.mu[r] for r in reversed(A))))
```
which makes it much less readable, so rejected this change.



---

archive/issue_comments_394782.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2022-01-05T14:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394782",
    "user": "https://github.com/dkrenn"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_394783.json:
```json
{
    "body": "**Changing commit** from \"[26e2d6fa6fb246af12dcf408e33a689728ef0e59](https://github.com/sagemath/sagetrac-mirror/commit/26e2d6fa6fb246af12dcf408e33a689728ef0e59)\" to \"\".",
    "created_at": "2022-01-06T15:46:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394783",
    "user": "https://github.com/cheuberg"
}
```

**Changing commit** from "[26e2d6fa6fb246af12dcf408e33a689728ef0e59](https://github.com/sagemath/sagetrac-mirror/commit/26e2d6fa6fb246af12dcf408e33a689728ef0e59)" to "".



---

archive/issue_comments_394784.json:
```json
{
    "body": "**Changing branch** from \"[u/dkrenn/sequences/k-regular-subseq](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/sequences/k-regular-subseq)\" to \"[u/cheuberg/sequences/k-regular-subseq](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/sequences/k-regular-subseq)\".",
    "created_at": "2022-01-06T15:46:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394784",
    "user": "https://github.com/cheuberg"
}
```

**Changing branch** from "[u/dkrenn/sequences/k-regular-subseq](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/sequences/k-regular-subseq)" to "[u/cheuberg/sequences/k-regular-subseq](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/sequences/k-regular-subseq)".



---

archive/issue_comments_394785.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7cacfed92232634d26d339a6902024a97c33e51\">f7cacfe</a></td><td><code>Trac #21325 review comment 8: rewrite subsequences to use block matrices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e2acb08aa6e8092b7dc647469f0dc667b1be720\">6e2acb0</a></td><td><code> Trac #21325 review comment 8: more rewriting to use block structure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a09d67e6100985f41ddc3fe6e329162b81342349\">a09d67e</a></td><td><code>Trac #21325 review comment 9: add comment in inner loop</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44a314db9ed6e40d316f52dde014e8878fb88e38\">44a314d</a></td><td><code> Trac #21325 review comment 11: simplify construction and code for left vector</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b2fb5c8319594cd9deb2c642e4cbd3de9002c3e\">5b2fb5c</a></td><td><code>Trac #21325 review comment 12: fixup docstring partial_sums</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b7c431016a00abf68a88673e182f68d92bded04\">3b7c431</a></td><td><code>Trac #21325 review comment 13: use .linear representation in examples partial_sum</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33d4dae5b2ee7e808adba06dca3e028ee8cae5b8\">33d4dae</a></td><td><code>Trac #21325 review comment 14+15: rewrite construction dict</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ecb36634db5d8ef070fbbefc803aa5485120d09b\">ecb3663</a></td><td><code>Trac #21325 review comment 17: simpler (more readable) construction of block matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96df7b3b68c0742a319887d56533cf1e2c7f3173\">96df7b3</a></td><td><code>Trac #21325 review comment 18: deal with remaining block vectors</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26e2d6fa6fb246af12dcf408e33a689728ef0e59\">26e2d6f</a></td><td><code>Trac #21325 review comment 19: shift_left, shift_right</code></td></tr></table>\n",
    "created_at": "2022-01-06T15:48:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394785",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7cacfed92232634d26d339a6902024a97c33e51">f7cacfe</a></td><td><code>Trac #21325 review comment 8: rewrite subsequences to use block matrices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e2acb08aa6e8092b7dc647469f0dc667b1be720">6e2acb0</a></td><td><code> Trac #21325 review comment 8: more rewriting to use block structure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a09d67e6100985f41ddc3fe6e329162b81342349">a09d67e</a></td><td><code>Trac #21325 review comment 9: add comment in inner loop</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44a314db9ed6e40d316f52dde014e8878fb88e38">44a314d</a></td><td><code> Trac #21325 review comment 11: simplify construction and code for left vector</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b2fb5c8319594cd9deb2c642e4cbd3de9002c3e">5b2fb5c</a></td><td><code>Trac #21325 review comment 12: fixup docstring partial_sums</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b7c431016a00abf68a88673e182f68d92bded04">3b7c431</a></td><td><code>Trac #21325 review comment 13: use .linear representation in examples partial_sum</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33d4dae5b2ee7e808adba06dca3e028ee8cae5b8">33d4dae</a></td><td><code>Trac #21325 review comment 14+15: rewrite construction dict</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ecb36634db5d8ef070fbbefc803aa5485120d09b">ecb3663</a></td><td><code>Trac #21325 review comment 17: simpler (more readable) construction of block matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96df7b3b68c0742a319887d56533cf1e2c7f3173">96df7b3</a></td><td><code>Trac #21325 review comment 18: deal with remaining block vectors</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26e2d6fa6fb246af12dcf408e33a689728ef0e59">26e2d6f</a></td><td><code>Trac #21325 review comment 19: shift_left, shift_right</code></td></tr></table>




---

archive/issue_comments_394786.json:
```json
{
    "body": "**Commit:** [26e2d6fa6fb246af12dcf408e33a689728ef0e59](https://github.com/sagemath/sagetrac-mirror/commit/26e2d6fa6fb246af12dcf408e33a689728ef0e59)",
    "created_at": "2022-01-06T15:48:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394786",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [26e2d6fa6fb246af12dcf408e33a689728ef0e59](https://github.com/sagemath/sagetrac-mirror/commit/26e2d6fa6fb246af12dcf408e33a689728ef0e59)



---

archive/issue_comments_394787.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27f6dcde1e54cfaa1b1c0f3a644c34e4e5e91914\">27f6dcd</a></td><td><code>Trac #21325: fix typo \"sequnence\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8984fcc9406a00e2f447e261f7bef253281938cf\">8984fcc</a></td><td><code>Trac #21325: fix ReST formatting (TESTS block)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b16342335563856592279108418bd96157874e9\">9b16342</a></td><td><code>Trac #21325: Remove unused import of `sage.arith.srange.srange`</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2a824735a3488bce44913cc5678163c624aaebc\">d2a8247</a></td><td><code>Trac #21325: remove unused variable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffa6a19df33b9b8ceb196d51394c55f915d3bf96\">ffa6a19</a></td><td><code>Trac #21325: Fix links to method `minimized`</code></td></tr></table>\n",
    "created_at": "2022-01-06T16:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394787",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27f6dcde1e54cfaa1b1c0f3a644c34e4e5e91914">27f6dcd</a></td><td><code>Trac #21325: fix typo "sequnence"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8984fcc9406a00e2f447e261f7bef253281938cf">8984fcc</a></td><td><code>Trac #21325: fix ReST formatting (TESTS block)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b16342335563856592279108418bd96157874e9">9b16342</a></td><td><code>Trac #21325: Remove unused import of `sage.arith.srange.srange`</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2a824735a3488bce44913cc5678163c624aaebc">d2a8247</a></td><td><code>Trac #21325: remove unused variable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffa6a19df33b9b8ceb196d51394c55f915d3bf96">ffa6a19</a></td><td><code>Trac #21325: Fix links to method `minimized`</code></td></tr></table>




---

archive/issue_comments_394788.json:
```json
{
    "body": "**Changing commit** from \"[26e2d6fa6fb246af12dcf408e33a689728ef0e59](https://github.com/sagemath/sagetrac-mirror/commit/26e2d6fa6fb246af12dcf408e33a689728ef0e59)\" to \"[ffa6a19df33b9b8ceb196d51394c55f915d3bf96](https://github.com/sagemath/sagetrac-mirror/commit/ffa6a19df33b9b8ceb196d51394c55f915d3bf96)\".",
    "created_at": "2022-01-06T16:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394788",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[26e2d6fa6fb246af12dcf408e33a689728ef0e59](https://github.com/sagemath/sagetrac-mirror/commit/26e2d6fa6fb246af12dcf408e33a689728ef0e59)" to "[ffa6a19df33b9b8ceb196d51394c55f915d3bf96](https://github.com/sagemath/sagetrac-mirror/commit/ffa6a19df33b9b8ceb196d51394c55f915d3bf96)".



---

archive/issue_comments_394789.json:
```json
{
    "body": "<a id='comment:29'></a>\nThank you, I reviewed the changes and added a few reviewer commits (sorry for messing up the history on trac here by mistyping my branch name; the last five commits are new).\n\nReplying to [dkrenn](#comment%3A23):\n> Replying to [cheuberg](#comment%3A18):\n> > 8. `subsequence`: I think that the code could be simplified by constructing the matrices of the new linear representation as block matrices in terms of the original matrices. For instance, the loop over `i in srange(dim)` and then extracting the `i`-th row of `self.mu[f]` could be omitted (with the additional benefit of not computing `d` and `f` in `mu_line` for all values of `i`); the index computation `(di*dim)*(0,)` in `pad` could be replaced by taking the zero matrix of the parent of `self.mu[f]` (or create that zero matrix once, instead of the current `zero`), `ndim` would be unnecessary.\n  \n> \n> Changed. However, I am not fully convinced that this rewriting made it that much better/easier to read as hoped; nevertheless, it think it made it somehow easier to understand what is going on. The loop over i, for sure, needed to be pulled out, even without the change to block matrices.\n\n\nI propose another variant in branch `u/cheuberg/21325-variant` (not linked to this ticket) where I try to avoid padding and indices.\n\nThe essential lines are\n\n```python\n        kernel = list(b)\n\n        zero_M = self.mu[0].parent().zero()\n        zero_R = self.right.parent().zero()\n        # Let v(n) = self.__getitem__(n, multiply_left=False)\n        rule = {}\n        # We will construct `kernel` and `rule` in such a way that for all\n        # c in `kernel`,\n        #     rule[r, c] = (f, d)\n        # holds for some 0 <= f < r and some d in `kernel` such that\n        #     v(a(kn+r)+c) [a(kn+r) +c >= 0] = mu[f] v(an+d) [an+d >= 0].\n\n        ci = 0\n        while ci < len(kernel):\n            c = kernel[ci]\n            for r in A:\n                # We now compute the contributions of v(an+c)[an >= 0] to\n                # the linear representation by using\n                #   v(a(kn+r)+c) [a(kn+r)+c >= 0]\n                #   = v(kan+ar+c) [kan+ar+c >= 0]\n                #   = v(k(an+d)+f) [an+d >= 0]\n                #   = mu[f] v(an+d) [an+d >= 0].\n                d, f = (a*r + c).quo_rem(k)\n                if d not in kernel:\n                    kernel.append(d)\n                rule[r, c] = (d, f)\n            ci += 1\n\n        def matrix_row(r, c):\n            d, f = rule[r, c]\n            return [self.mu[f] if d == j else zero_M for j in kernel]\n\n        result = P.element_class(\n            P,\n            {r: Matrix.block([matrix_row(r, c) for c in kernel])\n             for r in A},\n            vector(chain.from_iterable(\n                b.get(c, 0)*self.left\n                for c in kernel)),\n            vector(chain.from_iterable(\n                (self.__getitem__(c, multiply_left=False) if c >= 0 else zero_R)\n                for c in kernel)))\n```\n\n> > 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \\le f \\le max(a, |b|)` always holds which implies termination.\n  \n> \n> Ok.\n\n\nI propose to remove or amend the comment.\n\n> > 16. `partial_sums` I think that using `block_matrix([[B[0], -B[r-1]], [Z, self.mu[r]]])` would be more readable than constructing the block matrix via `stack` and `augment`; I do not think that reusing the same first block column in all matrices is worth the effort.\n  \n> \n> Agreed; changed.\n> \n> Do we mind, that now the output of the linear representation sometimes is a displayed as block matrix? I guess not...\n\n\nI do not mind.\n\n> > 20. The methods `partial_sums` and the difference methods are mostly inverse to each other. It would be nice to check the obvious relations between these methods (as well as the shift methods from 19) using a random k-regular sequence. See also the discussion on [sage-devel](https://groups.google.com/g/sage-devel/c/3rOts1PjynU/m/vR5VMqmgAQAJ) concerning testing of random elements. This is probably something for a follow-up because equality checking would be useful.\n  \n> \n> I agree that this should be done on a follow-up ticket.\n\n\nOk. Let us just keep it on this list for the moment.",
    "created_at": "2022-01-06T16:20:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394789",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:29'></a>
Thank you, I reviewed the changes and added a few reviewer commits (sorry for messing up the history on trac here by mistyping my branch name; the last five commits are new).

Replying to [dkrenn](#comment%3A23):
> Replying to [cheuberg](#comment%3A18):
> > 8. `subsequence`: I think that the code could be simplified by constructing the matrices of the new linear representation as block matrices in terms of the original matrices. For instance, the loop over `i in srange(dim)` and then extracting the `i`-th row of `self.mu[f]` could be omitted (with the additional benefit of not computing `d` and `f` in `mu_line` for all values of `i`); the index computation `(di*dim)*(0,)` in `pad` could be replaced by taking the zero matrix of the parent of `self.mu[f]` (or create that zero matrix once, instead of the current `zero`), `ndim` would be unnecessary.
  
> 
> Changed. However, I am not fully convinced that this rewriting made it that much better/easier to read as hoped; nevertheless, it think it made it somehow easier to understand what is going on. The loop over i, for sure, needed to be pulled out, even without the change to block matrices.


I propose another variant in branch `u/cheuberg/21325-variant` (not linked to this ticket) where I try to avoid padding and indices.

The essential lines are

```python
        kernel = list(b)

        zero_M = self.mu[0].parent().zero()
        zero_R = self.right.parent().zero()
        # Let v(n) = self.__getitem__(n, multiply_left=False)
        rule = {}
        # We will construct `kernel` and `rule` in such a way that for all
        # c in `kernel`,
        #     rule[r, c] = (f, d)
        # holds for some 0 <= f < r and some d in `kernel` such that
        #     v(a(kn+r)+c) [a(kn+r) +c >= 0] = mu[f] v(an+d) [an+d >= 0].

        ci = 0
        while ci < len(kernel):
            c = kernel[ci]
            for r in A:
                # We now compute the contributions of v(an+c)[an >= 0] to
                # the linear representation by using
                #   v(a(kn+r)+c) [a(kn+r)+c >= 0]
                #   = v(kan+ar+c) [kan+ar+c >= 0]
                #   = v(k(an+d)+f) [an+d >= 0]
                #   = mu[f] v(an+d) [an+d >= 0].
                d, f = (a*r + c).quo_rem(k)
                if d not in kernel:
                    kernel.append(d)
                rule[r, c] = (d, f)
            ci += 1

        def matrix_row(r, c):
            d, f = rule[r, c]
            return [self.mu[f] if d == j else zero_M for j in kernel]

        result = P.element_class(
            P,
            {r: Matrix.block([matrix_row(r, c) for c in kernel])
             for r in A},
            vector(chain.from_iterable(
                b.get(c, 0)*self.left
                for c in kernel)),
            vector(chain.from_iterable(
                (self.__getitem__(c, multiply_left=False) if c >= 0 else zero_R)
                for c in kernel)))
```

> > 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \le f \le max(a, |b|)` always holds which implies termination.
  
> 
> Ok.


I propose to remove or amend the comment.

> > 16. `partial_sums` I think that using `block_matrix([[B[0], -B[r-1]], [Z, self.mu[r]]])` would be more readable than constructing the block matrix via `stack` and `augment`; I do not think that reusing the same first block column in all matrices is worth the effort.
  
> 
> Agreed; changed.
> 
> Do we mind, that now the output of the linear representation sometimes is a displayed as block matrix? I guess not...


I do not mind.

> > 20. The methods `partial_sums` and the difference methods are mostly inverse to each other. It would be nice to check the obvious relations between these methods (as well as the shift methods from 19) using a random k-regular sequence. See also the discussion on [sage-devel](https://groups.google.com/g/sage-devel/c/3rOts1PjynU/m/vR5VMqmgAQAJ) concerning testing of random elements. This is probably something for a follow-up because equality checking would be useful.
  
> 
> I agree that this should be done on a follow-up ticket.


Ok. Let us just keep it on this list for the moment.



---

archive/issue_comments_394790.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2022-01-06T16:20:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394790",
    "user": "https://github.com/cheuberg"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_394791.json:
```json
{
    "body": "**Changing branch** from \"[u/cheuberg/sequences/k-regular-subseq](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/sequences/k-regular-subseq)\" to \"[u/dkrenn/sequences/k-regular-subseq](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/sequences/k-regular-subseq)\".",
    "created_at": "2022-01-07T09:51:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394791",
    "user": "https://github.com/dkrenn"
}
```

**Changing branch** from "[u/cheuberg/sequences/k-regular-subseq](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/sequences/k-regular-subseq)" to "[u/dkrenn/sequences/k-regular-subseq](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/sequences/k-regular-subseq)".



---

archive/issue_comments_394792.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [cheuberg](#comment%3A29):\n> Thank you, I reviewed the changes and added a few reviewer commits\n\n\nLGTM, thank you.\n\n> I propose another variant in branch `u/cheuberg/21325-variant` (not linked to this ticket) where I try to avoid padding and indices.\n> \n> The essential lines are [...]\n\n\nLGTM, so merged in for this ticket.\n\n> > > 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \\le f \\le max(a, |b|)` always holds which implies termination.\n  \n> > \n> > Ok.\n\n> \n> I propose to remove or amend the comment.\n\n\nShould the `f` in `-|b| \\le f \\le max(a, |b|)` be a `d`?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cc1a75c7ad23e00fcb2f0e862af1d9464f7ede9\">4cc1a75</a></td><td><code>Trac #21325 review comment 8: variant without padding</code></td></tr></table>\n",
    "created_at": "2022-01-07T09:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394792",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:31'></a>
Replying to [cheuberg](#comment%3A29):
> Thank you, I reviewed the changes and added a few reviewer commits


LGTM, thank you.

> I propose another variant in branch `u/cheuberg/21325-variant` (not linked to this ticket) where I try to avoid padding and indices.
> 
> The essential lines are [...]


LGTM, so merged in for this ticket.

> > > 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \le f \le max(a, |b|)` always holds which implies termination.
  
> > 
> > Ok.

> 
> I propose to remove or amend the comment.


Should the `f` in `-|b| \le f \le max(a, |b|)` be a `d`?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cc1a75c7ad23e00fcb2f0e862af1d9464f7ede9">4cc1a75</a></td><td><code>Trac #21325 review comment 8: variant without padding</code></td></tr></table>




---

archive/issue_comments_394793.json:
```json
{
    "body": "**Changing commit** from \"[ffa6a19df33b9b8ceb196d51394c55f915d3bf96](https://github.com/sagemath/sagetrac-mirror/commit/ffa6a19df33b9b8ceb196d51394c55f915d3bf96)\" to \"[4cc1a75c7ad23e00fcb2f0e862af1d9464f7ede9](https://github.com/sagemath/sagetrac-mirror/commit/4cc1a75c7ad23e00fcb2f0e862af1d9464f7ede9)\".",
    "created_at": "2022-01-07T09:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394793",
    "user": "https://github.com/dkrenn"
}
```

**Changing commit** from "[ffa6a19df33b9b8ceb196d51394c55f915d3bf96](https://github.com/sagemath/sagetrac-mirror/commit/ffa6a19df33b9b8ceb196d51394c55f915d3bf96)" to "[4cc1a75c7ad23e00fcb2f0e862af1d9464f7ede9](https://github.com/sagemath/sagetrac-mirror/commit/4cc1a75c7ad23e00fcb2f0e862af1d9464f7ede9)".



---

archive/issue_comments_394794.json:
```json
{
    "body": "**Changing reviewer** from \"Clemens Heuberger\" to \"Clemens Heuberger, Daniel Krenn\".",
    "created_at": "2022-01-07T09:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394794",
    "user": "https://github.com/dkrenn"
}
```

**Changing reviewer** from "Clemens Heuberger" to "Clemens Heuberger, Daniel Krenn".



---

archive/issue_comments_394795.json:
```json
{
    "body": "**Changing author** from \"Daniel Krenn\" to \"Daniel Krenn, Clemens Heuberger\".",
    "created_at": "2022-01-07T09:54:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394795",
    "user": "https://github.com/dkrenn"
}
```

**Changing author** from "Daniel Krenn" to "Daniel Krenn, Clemens Heuberger".



---

archive/issue_comments_394796.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [dkrenn](#comment%3A31):\n> Replying to [cheuberg](#comment%3A29):\n> > > > 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \\le f \\le max(a, |b|)` always holds which implies termination.\n  \n> > > \n> > > Ok.\n\n> > \n> > I propose to remove or amend the comment.\n\n> \n> Should the `f` in `-|b| \\le f \\le max(a, |b|)` be a `d`?\n\n\nYes. Sorry.",
    "created_at": "2022-01-08T09:55:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394796",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:32'></a>
Replying to [dkrenn](#comment%3A31):
> Replying to [cheuberg](#comment%3A29):
> > > > 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \le f \le max(a, |b|)` always holds which implies termination.
  
> > > 
> > > Ok.

> > 
> > I propose to remove or amend the comment.

> 
> Should the `f` in `-|b| \le f \le max(a, |b|)` be a `d`?


Yes. Sorry.



---

archive/issue_comments_394797.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [cheuberg](#comment%3A32):\n> Replying to [dkrenn](#comment%3A31):\n> > Should the `f` in `-|b| \\le f \\le max(a, |b|)` be a `d`?\n\n> Yes. Sorry.\n\nCan you explain how you come to this estimate? (I am asking, because from the line `d, f = (a*r + c).quo_rem(k)`, I only get a weaker upper bound)",
    "created_at": "2022-01-09T15:01:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394797",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:33'></a>
Replying to [cheuberg](#comment%3A32):
> Replying to [dkrenn](#comment%3A31):
> > Should the `f` in `-|b| \le f \le max(a, |b|)` be a `d`?

> Yes. Sorry.

Can you explain how you come to this estimate? (I am asking, because from the line `d, f = (a*r + c).quo_rem(k)`, I only get a weaker upper bound)



---

archive/issue_comments_394798.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [dkrenn](#comment%3A33):\n> Replying to [cheuberg](#comment%3A32):\n> > Replying to [dkrenn](#comment%3A31):\n> > > Should the `f` in `-|b| \\le f \\le max(a, |b|)` be a `d`?\n\n> > Yes. Sorry.\n> \n> Can you explain how you come to this estimate? (I am asking, because from the line `d, f = (a*r + c).quo_rem(k)`, I only get a weaker upper bound)\n\n\nSorry for the noise, fine for me now; I understand.",
    "created_at": "2022-01-09T15:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394798",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:34'></a>
Replying to [dkrenn](#comment%3A33):
> Replying to [cheuberg](#comment%3A32):
> > Replying to [dkrenn](#comment%3A31):
> > > Should the `f` in `-|b| \le f \le max(a, |b|)` be a `d`?

> > Yes. Sorry.
> 
> Can you explain how you come to this estimate? (I am asking, because from the line `d, f = (a*r + c).quo_rem(k)`, I only get a weaker upper bound)


Sorry for the noise, fine for me now; I understand.



---

archive/issue_comments_394799.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [cheuberg](#comment%3A29):\n> > > 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \\le f \\le max(a, |b|)` always holds which implies termination.\n  \n> > \n> > Ok.\n\n> \n> I propose to remove or amend the comment.\n\n\nComment removed now.",
    "created_at": "2022-01-09T15:08:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394799",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:35'></a>
Replying to [cheuberg](#comment%3A29):
> > > 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \le f \le max(a, |b|)` always holds which implies termination.
  
> > 
> > Ok.

> 
> I propose to remove or amend the comment.


Comment removed now.



---

archive/issue_comments_394800.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2022-01-09T15:08:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394800",
    "user": "https://github.com/dkrenn"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_394801.json:
```json
{
    "body": "**Changing commit** from \"[4cc1a75c7ad23e00fcb2f0e862af1d9464f7ede9](https://github.com/sagemath/sagetrac-mirror/commit/4cc1a75c7ad23e00fcb2f0e862af1d9464f7ede9)\" to \"[e7e3f2a54792bae3ccb5119658a5e96164d47c0f](https://github.com/sagemath/sagetrac-mirror/commit/e7e3f2a54792bae3ccb5119658a5e96164d47c0f)\".",
    "created_at": "2022-01-09T15:10:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394801",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4cc1a75c7ad23e00fcb2f0e862af1d9464f7ede9](https://github.com/sagemath/sagetrac-mirror/commit/4cc1a75c7ad23e00fcb2f0e862af1d9464f7ede9)" to "[e7e3f2a54792bae3ccb5119658a5e96164d47c0f](https://github.com/sagemath/sagetrac-mirror/commit/e7e3f2a54792bae3ccb5119658a5e96164d47c0f)".



---

archive/issue_comments_394802.json:
```json
{
    "body": "<a id='comment:36'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7e3f2a54792bae3ccb5119658a5e96164d47c0f\">e7e3f2a</a></td><td><code>Trac #21325 review comment 10: remove comment</code></td></tr></table>\n",
    "created_at": "2022-01-09T15:10:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394802",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7e3f2a54792bae3ccb5119658a5e96164d47c0f">e7e3f2a</a></td><td><code>Trac #21325 review comment 10: remove comment</code></td></tr></table>




---

archive/issue_comments_394803.json:
```json
{
    "body": "**Changing commit** from \"[e7e3f2a54792bae3ccb5119658a5e96164d47c0f](https://github.com/sagemath/sagetrac-mirror/commit/e7e3f2a54792bae3ccb5119658a5e96164d47c0f)\" to \"[ce43370d3c83ce83e7c84a5fa5dd24c1d8c8c0cc](https://github.com/sagemath/sagetrac-mirror/commit/ce43370d3c83ce83e7c84a5fa5dd24c1d8c8c0cc)\".",
    "created_at": "2022-01-12T16:35:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394803",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e7e3f2a54792bae3ccb5119658a5e96164d47c0f](https://github.com/sagemath/sagetrac-mirror/commit/e7e3f2a54792bae3ccb5119658a5e96164d47c0f)" to "[ce43370d3c83ce83e7c84a5fa5dd24c1d8c8c0cc](https://github.com/sagemath/sagetrac-mirror/commit/ce43370d3c83ce83e7c84a5fa5dd24c1d8c8c0cc)".



---

archive/issue_comments_394804.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9e7260e189733e9bcda44d2ee03f128490f9462\">c9e7260</a></td><td><code>Revert \"Trac #21325 review comment 10: remove comment\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce43370d3c83ce83e7c84a5fa5dd24c1d8c8c0cc\">ce43370</a></td><td><code>Trac #21325 review comment 10: comment range in kernel</code></td></tr></table>\n",
    "created_at": "2022-01-12T16:35:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394804",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9e7260e189733e9bcda44d2ee03f128490f9462">c9e7260</a></td><td><code>Revert "Trac #21325 review comment 10: remove comment"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce43370d3c83ce83e7c84a5fa5dd24c1d8c8c0cc">ce43370</a></td><td><code>Trac #21325 review comment 10: comment range in kernel</code></td></tr></table>




---

archive/issue_comments_394805.json:
```json
{
    "body": "<a id='comment:38'></a>\nReplying to [cheuberg](#comment%3A29):\n> > > 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \\le f \\le max(a, |b|)` always holds which implies termination.\n  \n> > \n> > Ok.\n\n> \n> I propose to remove or amend the comment.\n\n\nI have now amended a comment. Please have a look.",
    "created_at": "2022-01-12T16:37:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394805",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:38'></a>
Replying to [cheuberg](#comment%3A29):
> > > 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \le f \le max(a, |b|)` always holds which implies termination.
  
> > 
> > Ok.

> 
> I propose to remove or amend the comment.


I have now amended a comment. Please have a look.



---

archive/issue_comments_394806.json:
```json
{
    "body": "<a id='comment:39'></a>\nReplying to [dkrenn](#comment%3A38):\n> Replying to [cheuberg](#comment%3A29):\n> > > > 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \\le f \\le max(a, |b|)` always holds which implies termination.\n  \n> > > \n> > > Ok.\n\n> > \n> > I propose to remove or amend the comment.\n\n> \n> I have now amended a comment. Please have a look.\n\n\nThank you, LGTM.\n\nThe docbuild failure of the patchbot seems to be unrelated.",
    "created_at": "2022-01-15T06:55:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394806",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:39'></a>
Replying to [dkrenn](#comment%3A38):
> Replying to [cheuberg](#comment%3A29):
> > > > 10. `subsequence`: I am not so sure about the comment on the various ranges (and consequently, the tests testing that the range of `c` is large enough): It seems that no predefined range is used (anymore?), everything is generated dynamically. The only thing which actually matters is termination of the procedure, and if I am not mistaken, then `-|b| \le f \le max(a, |b|)` always holds which implies termination.
  
> > > 
> > > Ok.

> > 
> > I propose to remove or amend the comment.

> 
> I have now amended a comment. Please have a look.


Thank you, LGTM.

The docbuild failure of the patchbot seems to be unrelated.



---

archive/issue_comments_394807.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2022-01-15T06:55:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394807",
    "user": "https://github.com/cheuberg"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_394808.json:
```json
{
    "body": "**Changing status** from positive_review to needs_info.",
    "created_at": "2022-01-17T07:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394808",
    "user": "https://github.com/cheuberg"
}
```

**Changing status** from positive_review to needs_info.



---

archive/issue_comments_394809.json:
```json
{
    "body": "<a id='comment:40'></a>\nWhile reviewing #32921, I had one more look at this ticket, and found one more item to discuss.\n\n21. I think that the last commits here removed all usage of the new function `pad_right` introduced in this ticket, so we might as well delete that function.",
    "created_at": "2022-01-17T07:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394809",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:40'></a>
While reviewing #32921, I had one more look at this ticket, and found one more item to discuss.

21. I think that the last commits here removed all usage of the new function `pad_right` introduced in this ticket, so we might as well delete that function.



---

archive/issue_comments_394810.json:
```json
{
    "body": "<a id='comment:41'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bc6722500105d73f7e268ab80c0005a05a051de\">7bc6722</a></td><td><code>Trac #21325 review comment 21: remove unneccessary helper pad_right</code></td></tr></table>\n",
    "created_at": "2022-01-23T16:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394810",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bc6722500105d73f7e268ab80c0005a05a051de">7bc6722</a></td><td><code>Trac #21325 review comment 21: remove unneccessary helper pad_right</code></td></tr></table>




---

archive/issue_comments_394811.json:
```json
{
    "body": "**Changing commit** from \"[ce43370d3c83ce83e7c84a5fa5dd24c1d8c8c0cc](https://github.com/sagemath/sagetrac-mirror/commit/ce43370d3c83ce83e7c84a5fa5dd24c1d8c8c0cc)\" to \"[7bc6722500105d73f7e268ab80c0005a05a051de](https://github.com/sagemath/sagetrac-mirror/commit/7bc6722500105d73f7e268ab80c0005a05a051de)\".",
    "created_at": "2022-01-23T16:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394811",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ce43370d3c83ce83e7c84a5fa5dd24c1d8c8c0cc](https://github.com/sagemath/sagetrac-mirror/commit/ce43370d3c83ce83e7c84a5fa5dd24c1d8c8c0cc)" to "[7bc6722500105d73f7e268ab80c0005a05a051de](https://github.com/sagemath/sagetrac-mirror/commit/7bc6722500105d73f7e268ab80c0005a05a051de)".



---

archive/issue_comments_394812.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [cheuberg](#comment%3A40):\n> 21. I think that the last commits here removed all usage of the new function `pad_right` introduced in this ticket, so we might as well delete that function.\n\n\nRemoved.",
    "created_at": "2022-01-23T16:36:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394812",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:42'></a>
Replying to [cheuberg](#comment%3A40):
> 21. I think that the last commits here removed all usage of the new function `pad_right` introduced in this ticket, so we might as well delete that function.


Removed.



---

archive/issue_comments_394813.json:
```json
{
    "body": "**Changing status** from needs_info to needs_review.",
    "created_at": "2022-01-23T16:36:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394813",
    "user": "https://github.com/dkrenn"
}
```

**Changing status** from needs_info to needs_review.



---

archive/issue_comments_394814.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2022-01-24T10:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394814",
    "user": "https://github.com/dkrenn"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_394815.json:
```json
{
    "body": "**Changing branch** from \"[u/dkrenn/sequences/k-regular-subseq](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/sequences/k-regular-subseq)\" to \"[7bc6722500105d73f7e268ab80c0005a05a051de](https://github.com/sagemath/sagetrac-mirror/commit/7bc6722500105d73f7e268ab80c0005a05a051de)\".",
    "created_at": "2022-01-31T23:31:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394815",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/dkrenn/sequences/k-regular-subseq](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/sequences/k-regular-subseq)" to "[7bc6722500105d73f7e268ab80c0005a05a051de](https://github.com/sagemath/sagetrac-mirror/commit/7bc6722500105d73f7e268ab80c0005a05a051de)".



---

archive/issue_comments_394816.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2022-01-31T23:31:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21325#issuecomment-394816",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_064536.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-01-31T23:31:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21325",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21325#event-64536"
}
```
