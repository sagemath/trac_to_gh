# Issue 21900: Update backports_abc to version 0.5

archive/issues_021663.json:
```json
{
    "body": "**Tarball**: https://pypi.python.org/packages/68/3c/1317a9113c377d1e33711ca8de1e80afbaf4a3c950dd0edfaf61f9bfe6d8/backports_abc-0.5.tar.gz\n\nI am trying to build vaucanson in sage and I get the following problem with Cython 0.25.1 merged in 7.5.beta1 (#20596). That problem does not appear with Cython 0.24. But the problem is really in backport_abc package not in Cython.\n\n```\n(sage-sh) slabbe@MacBookebastien:build$ make python\n[ 20%] Linking CXX shared library libvaucrdyn.dylib\n[ 40%] Built target vaucrdyn\nScanning dependencies of target python\n[ 60%] Forcing python library compilation\n[ 80%] Generating Python module\nTraceback (most recent call last):\n  File \"setup.py\", line 41, in <module>\n    ext_modules =  cythonize(cython_module),\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies\n.py\", line 809, in cythonize\n    aliases=aliases)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies\n.py\", line 648, in create_extension_list\n    elif isinstance(patterns, basestring) or not isinstance(patterns, collections.Iterable):\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 144, in __instancecheck__\n    return cls.__subclasscheck__(subtype)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 180, in __subclasscheck__\n    if issubclass(subclass, scls):\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 180, in __subclasscheck__\n    if issubclass(subclass, scls):\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 161, in __subclasscheck__\n    ok = cls.__subclasshook__(subclass)\n  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/backports_abc.py\", line 6\n6, in __subclasshook__\n    mro = C.__mro__\nAttributeError: class Extension has no attribute '__mro__'\nmake[3]: *** [python/vaucrpy.so] Error 1\nmake[2]: *** [python/CMakeFiles/python.dir/all] Error 2\nmake[1]: *** [python/CMakeFiles/python.dir/rule] Error 2\nmake: *** [python] Error 2\n```\n\nThis seems to have been fixed a few days ago: https://github.com/cython/backports_abc/commit/94294718c6293d1031228943590dc12fe772fa9b which have been released as version 0.5\n\nBranch/Commit: 8b0e1224c12b63cac75bf29cc8461b78c73b0534\n\nReviewer: Jeroen Demeyer\n\nAuthor: S\u00e9bastien Labb\u00e9\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21900\n\n",
    "closed_at": "2016-11-21T21:56:15Z",
    "created_at": "2016-11-19T13:35:52Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "Update backports_abc to version 0.5",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21900",
    "user": "https://github.com/seblabbe"
}
```
**Tarball**: https://pypi.python.org/packages/68/3c/1317a9113c377d1e33711ca8de1e80afbaf4a3c950dd0edfaf61f9bfe6d8/backports_abc-0.5.tar.gz

I am trying to build vaucanson in sage and I get the following problem with Cython 0.25.1 merged in 7.5.beta1 (#20596). That problem does not appear with Cython 0.24. But the problem is really in backport_abc package not in Cython.

```
(sage-sh) slabbe@MacBookebastien:build$ make python
[ 20%] Linking CXX shared library libvaucrdyn.dylib
[ 40%] Built target vaucrdyn
Scanning dependencies of target python
[ 60%] Forcing python library compilation
[ 80%] Generating Python module
Traceback (most recent call last):
  File "setup.py", line 41, in <module>
    ext_modules =  cythonize(cython_module),
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies
.py", line 809, in cythonize
    aliases=aliases)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies
.py", line 648, in create_extension_list
    elif isinstance(patterns, basestring) or not isinstance(patterns, collections.Iterable):
  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 144, in __instancecheck__
    return cls.__subclasscheck__(subtype)
  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 180, in __subclasscheck__
    if issubclass(subclass, scls):
  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 180, in __subclasscheck__
    if issubclass(subclass, scls):
  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 161, in __subclasscheck__
    ok = cls.__subclasshook__(subclass)
  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/backports_abc.py", line 6
6, in __subclasshook__
    mro = C.__mro__
AttributeError: class Extension has no attribute '__mro__'
make[3]: *** [python/vaucrpy.so] Error 1
make[2]: *** [python/CMakeFiles/python.dir/all] Error 2
make[1]: *** [python/CMakeFiles/python.dir/rule] Error 2
make: *** [python] Error 2
```

This seems to have been fixed a few days ago: https://github.com/cython/backports_abc/commit/94294718c6293d1031228943590dc12fe772fa9b which have been released as version 0.5

Branch/Commit: 8b0e1224c12b63cac75bf29cc8461b78c73b0534

Reviewer: Jeroen Demeyer

Author: Sébastien Labbé

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21900





---

archive/issue_comments_320228.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-I am trying to build vaucanson in sage and I get the following problem with Cython 0.25.1 :\n+I am trying to build vaucanson in sage and I get the following problem with Cython 0.25.1 merged in 7.5.beta1 (#20596) :\n \n ```\n (sage-sh) slabbe@MacBookebastien:build$ make python\n```\n",
    "created_at": "2016-11-19T13:38:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320228",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-I am trying to build vaucanson in sage and I get the following problem with Cython 0.25.1 :
+I am trying to build vaucanson in sage and I get the following problem with Cython 0.25.1 merged in 7.5.beta1 (#20596) :
 
 ```
 (sage-sh) slabbe@MacBookebastien:build$ make python
```




---

archive/issue_events_057795.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-11-19T13:44:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21900#event-57795"
}
```



---

archive/issue_comments_320229.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-11-19T13:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320229",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_320230.json:
```json
{
    "body": "<a id='comment:2'></a>How is this related to Sage?",
    "created_at": "2016-11-19T13:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320230",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>How is this related to Sage?



---

archive/issue_comments_320231.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,49 @@\n+I am trying to build vaucanson in sage and I get the following problem with Cython 0.25.1 merged in 7.5.beta1 (#20596) :\n \n+```\n+(sage-sh) slabbe@MacBookebastien:build$ make python\n+[ 20%] Linking CXX shared library libvaucrdyn.dylib\n+[ 40%] Built target vaucrdyn\n+Scanning dependencies of target python\n+[ 60%] Forcing python library compilation\n+[ 80%] Generating Python module\n+Traceback (most recent call last):\n+  File \"setup.py\", line 41, in <module>\n+    ext_modules =  cythonize(cython_module),\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies\n+.py\", line 809, in cythonize\n+    aliases=aliases)\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies\n+.py\", line 648, in create_extension_list\n+    elif isinstance(patterns, basestring) or not isinstance(patterns, collections.Iterable):\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 144, in __instancecheck__\n+    return cls.__subclasscheck__(subtype)\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 180, in __subclasscheck__\n+    if issubclass(subclass, scls):\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 180, in __subclasscheck__\n+    if issubclass(subclass, scls):\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 161, in __subclasscheck__\n+    ok = cls.__subclasshook__(subclass)\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/backports_abc.py\", line 6\n+6, in __subclasshook__\n+    mro = C.__mro__\n+AttributeError: class Extension has no attribute '__mro__'\n+make[3]: *** [python/vaucrpy.so] Error 1\n+make[2]: *** [python/CMakeFiles/python.dir/all] Error 2\n+make[1]: *** [python/CMakeFiles/python.dir/rule] Error 2\n+make: *** [python] Error 2\n+```\n+\n+This seems to have been fixed a few days ago: https://github.com/cython/backports_abc/commit/94294718c6293d1031228943590dc12fe772fa9b\n+\n+Below is the version I am currently running:\n+\n+```\n+(sage-sh) slabbe@MacBookebastien:build$ cython --version\n+Cython version 0.25.1\n+(sage-sh) slabbe@MacBookebastien:build$ sage --version\n+SageMath version 7.5.beta1, Release Date: 2016-10-31\n+```\n \n Upstream: Fixed upstream, in a later stable release.\n \n```\n",
    "created_at": "2016-11-19T13:49:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320231",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,49 @@
+I am trying to build vaucanson in sage and I get the following problem with Cython 0.25.1 merged in 7.5.beta1 (#20596) :
 
+```
+(sage-sh) slabbe@MacBookebastien:build$ make python
+[ 20%] Linking CXX shared library libvaucrdyn.dylib
+[ 40%] Built target vaucrdyn
+Scanning dependencies of target python
+[ 60%] Forcing python library compilation
+[ 80%] Generating Python module
+Traceback (most recent call last):
+  File "setup.py", line 41, in <module>
+    ext_modules =  cythonize(cython_module),
+  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies
+.py", line 809, in cythonize
+    aliases=aliases)
+  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies
+.py", line 648, in create_extension_list
+    elif isinstance(patterns, basestring) or not isinstance(patterns, collections.Iterable):
+  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 144, in __instancecheck__
+    return cls.__subclasscheck__(subtype)
+  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 180, in __subclasscheck__
+    if issubclass(subclass, scls):
+  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 180, in __subclasscheck__
+    if issubclass(subclass, scls):
+  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 161, in __subclasscheck__
+    ok = cls.__subclasshook__(subclass)
+  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/backports_abc.py", line 6
+6, in __subclasshook__
+    mro = C.__mro__
+AttributeError: class Extension has no attribute '__mro__'
+make[3]: *** [python/vaucrpy.so] Error 1
+make[2]: *** [python/CMakeFiles/python.dir/all] Error 2
+make[1]: *** [python/CMakeFiles/python.dir/rule] Error 2
+make: *** [python] Error 2
+```
+
+This seems to have been fixed a few days ago: https://github.com/cython/backports_abc/commit/94294718c6293d1031228943590dc12fe772fa9b
+
+Below is the version I am currently running:
+
+```
+(sage-sh) slabbe@MacBookebastien:build$ cython --version
+Cython version 0.25.1
+(sage-sh) slabbe@MacBookebastien:build$ sage --version
+SageMath version 7.5.beta1, Release Date: 2016-10-31
+```
 
 Upstream: Fixed upstream, in a later stable release.
 
```




---

archive/issue_comments_320232.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:2 jdemeyer]:\n> How is this related to Sage?\n\n\nI would like to make vaucanson as an optional Sage package.\n\nQuestion: I am trying to find a workaround. I was thinking to add a patch on Cython-0.25.1. But where is the file backports_abc.py ? It does not seem to be inside of Cython-0.25.1 ?",
    "created_at": "2016-11-19T13:59:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320232",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:4'></a>Replying to [comment:2 jdemeyer]:
> How is this related to Sage?


I would like to make vaucanson as an optional Sage package.

Question: I am trying to find a workaround. I was thinking to add a patch on Cython-0.25.1. But where is the file backports_abc.py ? It does not seem to be inside of Cython-0.25.1 ?



---

archive/issue_comments_320233.json:
```json
{
    "body": "<a id='comment:5'></a>Ok, now I see. The solution to this ticket to update Sage standard package `backports_abc` from version 0.4 to 0.5.\n\nhttps://pypi.python.org/pypi/backports_abc\n\nJeroen, if you agree, I will change the title of this ticket to \"update backports_abc to 0.5\" and I suggest to not close this ticket as \"won't fix\".",
    "created_at": "2016-11-19T14:17:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320233",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:5'></a>Ok, now I see. The solution to this ticket to update Sage standard package `backports_abc` from version 0.4 to 0.5.

https://pypi.python.org/pypi/backports_abc

Jeroen, if you agree, I will change the title of this ticket to "update backports_abc to 0.5" and I suggest to not close this ticket as "won't fix".



---

archive/issue_comments_320234.json:
```json
{
    "body": "Changing component from cython to packages: standard.",
    "created_at": "2016-11-19T14:27:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320234",
    "user": "https://github.com/seblabbe"
}
```

Changing component from cython to packages: standard.



---

archive/issue_comments_320235.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,49 @@\n+I am trying to build vaucanson in sage and I get the following problem with Cython 0.25.1 merged in 7.5.beta1 (#20596). That problem does not appear with Cython 0.24. But the problem is really in backport_abc package not in Cython.\n \n+```\n+(sage-sh) slabbe@MacBookebastien:build$ make python\n+[ 20%] Linking CXX shared library libvaucrdyn.dylib\n+[ 40%] Built target vaucrdyn\n+Scanning dependencies of target python\n+[ 60%] Forcing python library compilation\n+[ 80%] Generating Python module\n+Traceback (most recent call last):\n+  File \"setup.py\", line 41, in <module>\n+    ext_modules =  cythonize(cython_module),\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies\n+.py\", line 809, in cythonize\n+    aliases=aliases)\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies\n+.py\", line 648, in create_extension_list\n+    elif isinstance(patterns, basestring) or not isinstance(patterns, collections.Iterable):\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 144, in __instancecheck__\n+    return cls.__subclasscheck__(subtype)\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 180, in __subclasscheck__\n+    if issubclass(subclass, scls):\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 180, in __subclasscheck__\n+    if issubclass(subclass, scls):\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 161, in __subclasscheck__\n+    ok = cls.__subclasshook__(subclass)\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/backports_abc.py\", line 6\n+6, in __subclasshook__\n+    mro = C.__mro__\n+AttributeError: class Extension has no attribute '__mro__'\n+make[3]: *** [python/vaucrpy.so] Error 1\n+make[2]: *** [python/CMakeFiles/python.dir/all] Error 2\n+make[1]: *** [python/CMakeFiles/python.dir/rule] Error 2\n+make: *** [python] Error 2\n+```\n+\n+This seems to have been fixed a few days ago: https://github.com/cython/backports_abc/commit/94294718c6293d1031228943590dc12fe772fa9b\n+\n+Below is the version I am currently running:\n+\n+```\n+(sage-sh) slabbe@MacBookebastien:build$ cython --version\n+Cython version 0.25.1\n+(sage-sh) slabbe@MacBookebastien:build$ sage --version\n+SageMath version 7.5.beta1, Release Date: 2016-10-31\n+```\n \n Upstream: Fixed upstream, in a later stable release.\n \n```\n",
    "created_at": "2016-11-19T14:27:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320235",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,49 @@
+I am trying to build vaucanson in sage and I get the following problem with Cython 0.25.1 merged in 7.5.beta1 (#20596). That problem does not appear with Cython 0.24. But the problem is really in backport_abc package not in Cython.
 
+```
+(sage-sh) slabbe@MacBookebastien:build$ make python
+[ 20%] Linking CXX shared library libvaucrdyn.dylib
+[ 40%] Built target vaucrdyn
+Scanning dependencies of target python
+[ 60%] Forcing python library compilation
+[ 80%] Generating Python module
+Traceback (most recent call last):
+  File "setup.py", line 41, in <module>
+    ext_modules =  cythonize(cython_module),
+  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies
+.py", line 809, in cythonize
+    aliases=aliases)
+  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies
+.py", line 648, in create_extension_list
+    elif isinstance(patterns, basestring) or not isinstance(patterns, collections.Iterable):
+  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 144, in __instancecheck__
+    return cls.__subclasscheck__(subtype)
+  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 180, in __subclasscheck__
+    if issubclass(subclass, scls):
+  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 180, in __subclasscheck__
+    if issubclass(subclass, scls):
+  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 161, in __subclasscheck__
+    ok = cls.__subclasshook__(subclass)
+  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/backports_abc.py", line 6
+6, in __subclasshook__
+    mro = C.__mro__
+AttributeError: class Extension has no attribute '__mro__'
+make[3]: *** [python/vaucrpy.so] Error 1
+make[2]: *** [python/CMakeFiles/python.dir/all] Error 2
+make[1]: *** [python/CMakeFiles/python.dir/rule] Error 2
+make: *** [python] Error 2
+```
+
+This seems to have been fixed a few days ago: https://github.com/cython/backports_abc/commit/94294718c6293d1031228943590dc12fe772fa9b
+
+Below is the version I am currently running:
+
+```
+(sage-sh) slabbe@MacBookebastien:build$ cython --version
+Cython version 0.25.1
+(sage-sh) slabbe@MacBookebastien:build$ sage --version
+SageMath version 7.5.beta1, Release Date: 2016-10-31
+```
 
 Upstream: Fixed upstream, in a later stable release.
 
```




---

archive/issue_events_057796.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2016-11-19T14:27:07Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21900#event-57796"
}
```



---

archive/issue_events_057797.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2016-11-19T14:27:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21900#event-57797"
}
```



---

archive/issue_comments_320236.json:
```json
{
    "body": "<a id='comment:6'></a>New commits:",
    "created_at": "2016-11-19T14:27:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320236",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:6'></a>New commits:



---

archive/issue_events_057798.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2016-11-19T14:37:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21900#event-57798"
}
```



---

archive/issue_events_057799.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2016-11-19T14:37:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21900#event-57799"
}
```



---

archive/issue_comments_320237.json:
```json
{
    "body": "<a id='comment:9'></a>Why the `.p0` in the version number?",
    "created_at": "2016-11-19T17:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320237",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>Why the `.p0` in the version number?



---

archive/issue_comments_320238.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2016-11-19T17:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320238",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_320239.json:
```json
{
    "body": "<a id='comment:10'></a>Where is the new package?",
    "created_at": "2016-11-19T17:40:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320239",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>Where is the new package?



---

archive/issue_comments_320240.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-19T19:09:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320240",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320241.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,42 @@\n+**Tarball**: https://pypi.python.org/packages/68/3c/1317a9113c377d1e33711ca8de1e80afbaf4a3c950dd0edfaf61f9bfe6d8/backports_abc-0.5.tar.gz\n \n+I am trying to build vaucanson in sage and I get the following problem with Cython 0.25.1 merged in 7.5.beta1 (#20596). That problem does not appear with Cython 0.24. But the problem is really in backport_abc package not in Cython.\n+\n+```\n+(sage-sh) slabbe@MacBookebastien:build$ make python\n+[ 20%] Linking CXX shared library libvaucrdyn.dylib\n+[ 40%] Built target vaucrdyn\n+Scanning dependencies of target python\n+[ 60%] Forcing python library compilation\n+[ 80%] Generating Python module\n+Traceback (most recent call last):\n+  File \"setup.py\", line 41, in <module>\n+    ext_modules =  cythonize(cython_module),\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies\n+.py\", line 809, in cythonize\n+    aliases=aliases)\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies\n+.py\", line 648, in create_extension_list\n+    elif isinstance(patterns, basestring) or not isinstance(patterns, collections.Iterable):\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 144, in __instancecheck__\n+    return cls.__subclasscheck__(subtype)\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 180, in __subclasscheck__\n+    if issubclass(subclass, scls):\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 180, in __subclasscheck__\n+    if issubclass(subclass, scls):\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python/abc.py\", line 161, in __subclasscheck__\n+    ok = cls.__subclasshook__(subclass)\n+  File \"/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/backports_abc.py\", line 6\n+6, in __subclasshook__\n+    mro = C.__mro__\n+AttributeError: class Extension has no attribute '__mro__'\n+make[3]: *** [python/vaucrpy.so] Error 1\n+make[2]: *** [python/CMakeFiles/python.dir/all] Error 2\n+make[1]: *** [python/CMakeFiles/python.dir/rule] Error 2\n+make: *** [python] Error 2\n+```\n+\n+This seems to have been fixed a few days ago: https://github.com/cython/backports_abc/commit/94294718c6293d1031228943590dc12fe772fa9b which have been released as version 0.5\n \n Upstream: Fixed upstream, in a later stable release.\n \n```\n",
    "created_at": "2016-11-19T19:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320241",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,42 @@
+**Tarball**: https://pypi.python.org/packages/68/3c/1317a9113c377d1e33711ca8de1e80afbaf4a3c950dd0edfaf61f9bfe6d8/backports_abc-0.5.tar.gz
 
+I am trying to build vaucanson in sage and I get the following problem with Cython 0.25.1 merged in 7.5.beta1 (#20596). That problem does not appear with Cython 0.24. But the problem is really in backport_abc package not in Cython.
+
+```
+(sage-sh) slabbe@MacBookebastien:build$ make python
+[ 20%] Linking CXX shared library libvaucrdyn.dylib
+[ 40%] Built target vaucrdyn
+Scanning dependencies of target python
+[ 60%] Forcing python library compilation
+[ 80%] Generating Python module
+Traceback (most recent call last):
+  File "setup.py", line 41, in <module>
+    ext_modules =  cythonize(cython_module),
+  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies
+.py", line 809, in cythonize
+    aliases=aliases)
+  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/Cython/Build/Dependencies
+.py", line 648, in create_extension_list
+    elif isinstance(patterns, basestring) or not isinstance(patterns, collections.Iterable):
+  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 144, in __instancecheck__
+    return cls.__subclasscheck__(subtype)
+  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 180, in __subclasscheck__
+    if issubclass(subclass, scls):
+  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 180, in __subclasscheck__
+    if issubclass(subclass, scls):
+  File "/Users/slabbe/Applications/sage-git/local/lib/python/abc.py", line 161, in __subclasscheck__
+    ok = cls.__subclasshook__(subclass)
+  File "/Users/slabbe/Applications/sage-git/local/lib/python2.7/site-packages/backports_abc.py", line 6
+6, in __subclasshook__
+    mro = C.__mro__
+AttributeError: class Extension has no attribute '__mro__'
+make[3]: *** [python/vaucrpy.so] Error 1
+make[2]: *** [python/CMakeFiles/python.dir/all] Error 2
+make[1]: *** [python/CMakeFiles/python.dir/rule] Error 2
+make: *** [python] Error 2
+```
+
+This seems to have been fixed a few days ago: https://github.com/cython/backports_abc/commit/94294718c6293d1031228943590dc12fe772fa9b which have been released as version 0.5
 
 Upstream: Fixed upstream, in a later stable release.
 
```




---

archive/issue_comments_320242.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2016-11-19T19:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320242",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_320243.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:9 jdemeyer]:\n> Why the `.p0` in the version number?\n\n\nFor the same reason as there was a `.p0` in the version number for 0.4 without any patches to apply. So I removed the `.p0` to be consistent with the fact that there is no patches to apply.\n\nI also added a link to the tarball available on pypi in the first line of description of this ticket.\n\nNeeds review.",
    "created_at": "2016-11-19T19:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320243",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:13'></a>Replying to [comment:9 jdemeyer]:
> Why the `.p0` in the version number?


For the same reason as there was a `.p0` in the version number for 0.4 without any patches to apply. So I removed the `.p0` to be consistent with the fact that there is no patches to apply.

I also added a link to the tarball available on pypi in the first line of description of this ticket.

Needs review.



---

archive/issue_comments_320244.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-19T19:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320244",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320245.json:
```json
{
    "body": "<a id='comment:15'></a>I folded the two commits into one.",
    "created_at": "2016-11-19T19:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320245",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:15'></a>I folded the two commits into one.



---

archive/issue_comments_320246.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:9 jdemeyer]:\n> Why the `.p0` in the version number?\n\n\nMaybe you know the answer more than me:\n\n```\n$ git show 783cd7d build/pkgs/backports_abc\ncommit 783cd7d541970012f037de0364df099312d2624a\nAuthor: Jeroen Demeyer <jdemeyer@cage.ugent.be>\nDate:   Tue Sep 20 10:37:56 2016 +0200\n\n    Re-install all pip-installed packages\n\ndiff --git a/build/pkgs/backports_abc/package-version.txt b/build/pkgs/backports_abc/package-version.txt\nindex bd73f47..fba722f 100644\n--- a/build/pkgs/backports_abc/package-version.txt\n+++ b/build/pkgs/backports_abc/package-version.txt\n@@ -1 +1 @@\n-0.4\n+0.4.p0\n```\n\nSo should it be with or without `.p0`?",
    "created_at": "2016-11-19T19:37:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320246",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:16'></a>Replying to [comment:9 jdemeyer]:
> Why the `.p0` in the version number?


Maybe you know the answer more than me:

```
$ git show 783cd7d build/pkgs/backports_abc
commit 783cd7d541970012f037de0364df099312d2624a
Author: Jeroen Demeyer <jdemeyer@cage.ugent.be>
Date:   Tue Sep 20 10:37:56 2016 +0200

    Re-install all pip-installed packages

diff --git a/build/pkgs/backports_abc/package-version.txt b/build/pkgs/backports_abc/package-version.txt
index bd73f47..fba722f 100644
--- a/build/pkgs/backports_abc/package-version.txt
+++ b/build/pkgs/backports_abc/package-version.txt
@@ -1 +1 @@
-0.4
+0.4.p0
```

So should it be with or without `.p0`?



---

archive/issue_comments_320247.json:
```json
{
    "body": "<a id='comment:17'></a>Ok, I found the ticket (https://trac.sagemath.org/ticket/21441#comment:21) which was related to the commit adding the `.p0` to force reinstallation of some packages. So, I got my answer: that `.p0` should be removed for `0.5`.",
    "created_at": "2016-11-19T19:57:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320247",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:17'></a>Ok, I found the ticket (https://trac.sagemath.org/ticket/21441#comment:21) which was related to the commit adding the `.p0` to force reinstallation of some packages. So, I got my answer: that `.p0` should be removed for `0.5`.



---

archive/issue_comments_320248.json:
```json
{
    "body": "<a id='comment:18'></a>I can't verify that it fixes your problem but otherwise this is fine...",
    "created_at": "2016-11-20T19:21:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320248",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>I can't verify that it fixes your problem but otherwise this is fine...



---

archive/issue_comments_320249.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-11-20T19:21:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320249",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_057800.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-21T21:56:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21900#event-57800"
}
```



---

archive/issue_comments_320250.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-11-21T21:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21900",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21900#issuecomment-320250",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
