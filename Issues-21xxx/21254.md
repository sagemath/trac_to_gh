# Issue 21254: Implement cluster algebras using the Parent-Element framework

archive/issues_021017.json:
```json
{
    "body": "This module uses structural results from \"Cluster algebras IV\" to implement cluster algebras as a subobject of `LaurentPolynomialRing_generic`.\n\nIt provides a new class `ClusterAlgebra`, and two new auxiliary classes `ClusterAlgebraSeed` and `ClusterAlgebraElement`.\n\n\nAssignee: @etn40ff\n\nCC:  gmoose05 drupel stumpc5 mdpressland@bath.edu @tscrim @egunawan\n\nKeywords: cluster algebras, SageDays64.5, days79\n\nBranch/Commit: 389cdc925fb4ed8b438c2bece4f078cefe248d4a\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Dylan Rupel, Salvatore Stella\n\nDependencies: #22160\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21254\n\n",
    "closed_at": "2017-02-23T12:00:47Z",
    "created_at": "2016-08-15T21:20:38Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "Implement cluster algebras using the Parent-Element framework",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21254",
    "user": "https://github.com/etn40ff"
}
```
This module uses structural results from "Cluster algebras IV" to implement cluster algebras as a subobject of `LaurentPolynomialRing_generic`.

It provides a new class `ClusterAlgebra`, and two new auxiliary classes `ClusterAlgebraSeed` and `ClusterAlgebraElement`.


Assignee: @etn40ff

CC:  gmoose05 drupel stumpc5 mdpressland@bath.edu @tscrim @egunawan

Keywords: cluster algebras, SageDays64.5, days79

Branch/Commit: 389cdc925fb4ed8b438c2bece4f078cefe248d4a

Reviewer: Frédéric Chapoton

Author: Dylan Rupel, Salvatore Stella

Dependencies: #22160

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21254





---

archive/issue_comments_385035.json:
```json
{
    "body": "Changing commit from \"\" to \"b76ba976cff6be70a31fd3ab187006e15cd176ea\"",
    "created_at": "2016-08-15T21:34:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385035",
    "user": "https://github.com/etn40ff"
}
```

Changing commit from "" to "b76ba976cff6be70a31fd3ab187006e15cd176ea"



---

archive/issue_comments_385036.json:
```json
{
    "body": "Set assignee to @etn40ff.",
    "created_at": "2016-08-15T21:34:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385036",
    "user": "https://github.com/etn40ff"
}
```

Set assignee to @etn40ff.



---

archive/issue_comments_385037.json:
```json
{
    "body": "Changing branch from \"\" to \"public/ticket/21254\"",
    "created_at": "2016-08-15T21:34:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385037",
    "user": "https://github.com/etn40ff"
}
```

Changing branch from "" to "public/ticket/21254"



---

archive/issue_comments_385038.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#19538\"",
    "created_at": "2016-08-15T21:34:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385038",
    "user": "https://github.com/etn40ff"
}
```

Changing dependencies from "" to "#19538"



---

archive/issue_comments_385039.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n This module uses structural results from \"Cluster algebras IV\" to implement cluster algebras as a subobject of `LaurentPolynomialRing_generic`.\n \n-It provides a new class `ClusterAlgebra` and two auxiliary classes `ClusterAlgebraSeed` and `ClusterAlgebraElement`.\n+It provides a new class `ClusterAlgebra`, and two new auxiliary classes `ClusterAlgebraSeed` and `ClusterAlgebraElement`.\n \n``````\n",
    "created_at": "2016-08-15T21:34:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385039",
    "user": "https://github.com/etn40ff"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 This module uses structural results from "Cluster algebras IV" to implement cluster algebras as a subobject of `LaurentPolynomialRing_generic`.
 
-It provides a new class `ClusterAlgebra` and two auxiliary classes `ClusterAlgebraSeed` and `ClusterAlgebraElement`.
+It provides a new class `ClusterAlgebra`, and two new auxiliary classes `ClusterAlgebraSeed` and `ClusterAlgebraElement`.
 
``````




---

archive/issue_comments_385040.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[e281061](https://github.com/sagemath/sagetrac-mirror/commit/e2810612d1c37b7975b49bd85c6f1d51bff9316a)|`Added warning to functions depending on _sd_iter`|",
    "created_at": "2016-08-20T23:42:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385040",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[e281061](https://github.com/sagemath/sagetrac-mirror/commit/e2810612d1c37b7975b49bd85c6f1d51bff9316a)|`Added warning to functions depending on _sd_iter`|



---

archive/issue_comments_385041.json:
```json
{
    "body": "Changing commit from \"b76ba976cff6be70a31fd3ab187006e15cd176ea\" to \"e2810612d1c37b7975b49bd85c6f1d51bff9316a\"",
    "created_at": "2016-08-20T23:42:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385041",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b76ba976cff6be70a31fd3ab187006e15cd176ea" to "e2810612d1c37b7975b49bd85c6f1d51bff9316a"



---

archive/issue_comments_385042.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[2c64756](https://github.com/sagemath/sagetrac-mirror/commit/2c6475623f43384b2975fbe098b7eab9496ea81a)|`Spaaaaaace (again)`|",
    "created_at": "2016-08-21T09:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385042",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[2c64756](https://github.com/sagemath/sagetrac-mirror/commit/2c6475623f43384b2975fbe098b7eab9496ea81a)|`Spaaaaaace (again)`|



---

archive/issue_comments_385043.json:
```json
{
    "body": "Changing commit from \"e2810612d1c37b7975b49bd85c6f1d51bff9316a\" to \"2c6475623f43384b2975fbe098b7eab9496ea81a\"",
    "created_at": "2016-08-21T09:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385043",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e2810612d1c37b7975b49bd85c6f1d51bff9316a" to "2c6475623f43384b2975fbe098b7eab9496ea81a"



---

archive/issue_comments_385044.json:
```json
{
    "body": "Changing commit from \"2c6475623f43384b2975fbe098b7eab9496ea81a\" to \"e2723026b10881db8f0eeac2f5263b347615d677\"",
    "created_at": "2016-08-22T07:18:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385044",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2c6475623f43384b2975fbe098b7eab9496ea81a" to "e2723026b10881db8f0eeac2f5263b347615d677"



---

archive/issue_comments_385045.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[e272302](https://github.com/sagemath/sagetrac-mirror/commit/e2723026b10881db8f0eeac2f5263b347615d677)|`Catch only StopIteration`|",
    "created_at": "2016-08-22T07:18:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385045",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[e272302](https://github.com/sagemath/sagetrac-mirror/commit/e2723026b10881db8f0eeac2f5263b347615d677)|`Catch only StopIteration`|



---

archive/issue_comments_385046.json:
```json
{
    "body": "Changing commit from \"e2723026b10881db8f0eeac2f5263b347615d677\" to \"673926d50370a03bccd826546c79974b3b2d651a\"",
    "created_at": "2016-08-23T08:55:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385046",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e2723026b10881db8f0eeac2f5263b347615d677" to "673926d50370a03bccd826546c79974b3b2d651a"



---

archive/issue_comments_385047.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[673926d](https://github.com/sagemath/sagetrac-mirror/commit/673926d50370a03bccd826546c79974b3b2d651a)|`Added hash function to ClusterAlgebraSeed`|",
    "created_at": "2016-08-23T08:55:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385047",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[673926d](https://github.com/sagemath/sagetrac-mirror/commit/673926d50370a03bccd826546c79974b3b2d651a)|`Added hash function to ClusterAlgebraSeed`|



---

archive/issue_comments_385048.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[31a51a1](https://github.com/sagemath/sagetrac-mirror/commit/31a51a198df956038e08386fa14eee5e38fe15a5)|`Figured out how to continue seeds after a KeyboardInterrupt`|",
    "created_at": "2016-08-25T17:50:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385048",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[31a51a1](https://github.com/sagemath/sagetrac-mirror/commit/31a51a198df956038e08386fa14eee5e38fe15a5)|`Figured out how to continue seeds after a KeyboardInterrupt`|



---

archive/issue_comments_385049.json:
```json
{
    "body": "Changing commit from \"673926d50370a03bccd826546c79974b3b2d651a\" to \"31a51a198df956038e08386fa14eee5e38fe15a5\"",
    "created_at": "2016-08-25T17:50:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "673926d50370a03bccd826546c79974b3b2d651a" to "31a51a198df956038e08386fa14eee5e38fe15a5"



---

archive/issue_comments_385050.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[13625a1](https://github.com/sagemath/sagetrac-mirror/commit/13625a1ce644b0e249aa9c8604dbd188cbee6d5a)|`Rafactored all fuctions based on seeds()`|",
    "created_at": "2016-08-25T18:03:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385050",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[13625a1](https://github.com/sagemath/sagetrac-mirror/commit/13625a1ce644b0e249aa9c8604dbd188cbee6d5a)|`Rafactored all fuctions based on seeds()`|



---

archive/issue_comments_385051.json:
```json
{
    "body": "Changing commit from \"31a51a198df956038e08386fa14eee5e38fe15a5\" to \"13625a1ce644b0e249aa9c8604dbd188cbee6d5a\"",
    "created_at": "2016-08-25T18:03:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "31a51a198df956038e08386fa14eee5e38fe15a5" to "13625a1ce644b0e249aa9c8604dbd188cbee6d5a"



---

archive/issue_comments_385052.json:
```json
{
    "body": "<a id='comment:8'></a>\nI have just launched my own patchbot on the ticket.\n\nThere are some missing empty lines, for example here\n\n```\n+    EXAMPLES::\n+        sage: A = ClusterAlgebra(['B',2],principal_coefficients=True)\n```",
    "created_at": "2016-08-25T19:09:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385052",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
I have just launched my own patchbot on the ticket.

There are some missing empty lines, for example here

```
+    EXAMPLES::
+        sage: A = ClusterAlgebra(['B',2],principal_coefficients=True)
```



---

archive/issue_comments_385053.json:
```json
{
    "body": "Changing commit from \"13625a1ce644b0e249aa9c8604dbd188cbee6d5a\" to \"2e4ab20a6e707a39a870b83fa2ca7ffa8967b72b\"",
    "created_at": "2016-08-25T20:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385053",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "13625a1ce644b0e249aa9c8604dbd188cbee6d5a" to "2e4ab20a6e707a39a870b83fa2ca7ffa8967b72b"



---

archive/issue_comments_385054.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[bb66742](https://github.com/sagemath/sagetrac-mirror/commit/bb66742fdf143d85d69b5260be1385f4b93828f1)|`Better interrupt handling`|\n|[2e4ab20](https://github.com/sagemath/sagetrac-mirror/commit/2e4ab20a6e707a39a870b83fa2ca7ffa8967b72b)|`Fixed missing :`|",
    "created_at": "2016-08-25T20:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385054",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[bb66742](https://github.com/sagemath/sagetrac-mirror/commit/bb66742fdf143d85d69b5260be1385f4b93828f1)|`Better interrupt handling`|
|[2e4ab20](https://github.com/sagemath/sagetrac-mirror/commit/2e4ab20a6e707a39a870b83fa2ca7ffa8967b72b)|`Fixed missing :`|



---

archive/issue_comments_385055.json:
```json
{
    "body": "Changing commit from \"2e4ab20a6e707a39a870b83fa2ca7ffa8967b72b\" to \"3dd81b4be147b52f74379967e961ea7c8652aca8\"",
    "created_at": "2016-08-25T20:56:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385055",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2e4ab20a6e707a39a870b83fa2ca7ffa8967b72b" to "3dd81b4be147b52f74379967e961ea7c8652aca8"



---

archive/issue_comments_385056.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[3dd81b4](https://github.com/sagemath/sagetrac-mirror/commit/3dd81b4be147b52f74379967e961ea7c8652aca8)|`Fixed missing empty lines`|",
    "created_at": "2016-08-25T20:56:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385056",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[3dd81b4](https://github.com/sagemath/sagetrac-mirror/commit/3dd81b4be147b52f74379967e961ea7c8652aca8)|`Fixed missing empty lines`|



---

archive/issue_comments_385057.json:
```json
{
    "body": "<a id='comment:11'></a>\n> There are some missing empty lines, for example here\n\nI just fixed that; thank you for catching it. Is there any automatic way to check that the code adhere to all the conventions?\nI only know of autopep8 but this does not test docstrings. \n(By the way we have plenty of long lines so we do not really adhere to pep8\neither.)\n\n\nOn a different topic: there has been a discussion on sage-devel on the best way\nto implement the exploring iterator. The discussion migrated to #21312 where the\npossibility to use `RecursivelyEnumeratedSet` has been explored. It turns out that\nthis can be done gaining a significant slowdown. I ended up writing the\ncurrent solution. A migration to `RecursivelyEnumeratedSet` might be considered\nfor a follow-up ticket. I am just writing this here for the record.",
    "created_at": "2016-08-25T21:14:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385057",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:11'></a>
> There are some missing empty lines, for example here

I just fixed that; thank you for catching it. Is there any automatic way to check that the code adhere to all the conventions?
I only know of autopep8 but this does not test docstrings. 
(By the way we have plenty of long lines so we do not really adhere to pep8
either.)


On a different topic: there has been a discussion on sage-devel on the best way
to implement the exploring iterator. The discussion migrated to #21312 where the
possibility to use `RecursivelyEnumeratedSet` has been explored. It turns out that
this can be done gaining a significant slowdown. I ended up writing the
current solution. A migration to `RecursivelyEnumeratedSet` might be considered
for a follow-up ticket. I am just writing this here for the record.



---

archive/issue_comments_385058.json:
```json
{
    "body": "Changing commit from \"3dd81b4be147b52f74379967e961ea7c8652aca8\" to \"8f0480a99a0c817c7e165f814fb44a3c6bb0c7e5\"",
    "created_at": "2016-08-26T06:54:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385058",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3dd81b4be147b52f74379967e961ea7c8652aca8" to "8f0480a99a0c817c7e165f814fb44a3c6bb0c7e5"



---

archive/issue_comments_385059.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[8f0480a](https://github.com/sagemath/sagetrac-mirror/commit/8f0480a99a0c817c7e165f814fb44a3c6bb0c7e5)|`Missing digit in doctest`|",
    "created_at": "2016-08-26T06:54:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[8f0480a](https://github.com/sagemath/sagetrac-mirror/commit/8f0480a99a0c817c7e165f814fb44a3c6bb0c7e5)|`Missing digit in doctest`|



---

archive/issue_comments_385060.json:
```json
{
    "body": "Changing commit from \"8f0480a99a0c817c7e165f814fb44a3c6bb0c7e5\" to \"74006327ce8fd25264fe73bdd6f40a799cc7b60c\"",
    "created_at": "2016-09-05T12:47:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385060",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8f0480a99a0c817c7e165f814fb44a3c6bb0c7e5" to "74006327ce8fd25264fe73bdd6f40a799cc7b60c"



---

archive/issue_comments_385061.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[4cba0a2](https://github.com/sagemath/sagetrac-mirror/commit/4cba0a2441694c0c748192304eee37ac69c795ae)|`Merge branch 'develop' into cluster_algebras`|\n|[7400632](https://github.com/sagemath/sagetrac-mirror/commit/74006327ce8fd25264fe73bdd6f40a799cc7b60c)|`Improved documentation of _div_`|",
    "created_at": "2016-09-05T12:47:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385061",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[4cba0a2](https://github.com/sagemath/sagetrac-mirror/commit/4cba0a2441694c0c748192304eee37ac69c795ae)|`Merge branch 'develop' into cluster_algebras`|
|[7400632](https://github.com/sagemath/sagetrac-mirror/commit/74006327ce8fd25264fe73bdd6f40a799cc7b60c)|`Improved documentation of _div_`|



---

archive/issue_comments_385062.json:
```json
{
    "body": "<a id='comment:14'></a>\nSeems ready to go up for review",
    "created_at": "2016-09-05T13:18:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385062",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:14'></a>
Seems ready to go up for review



---

archive/issue_comments_385063.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-09-05T13:18:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385063",
    "user": "https://github.com/etn40ff"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_385064.json:
```json
{
    "body": "Changing commit from \"74006327ce8fd25264fe73bdd6f40a799cc7b60c\" to \"14939e7bf90d76c80babc4faabbce3b92b9b6eb4\"",
    "created_at": "2016-09-05T13:27:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385064",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "74006327ce8fd25264fe73bdd6f40a799cc7b60c" to "14939e7bf90d76c80babc4faabbce3b92b9b6eb4"



---

archive/issue_comments_385065.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------|\n|[14939e7](https://github.com/sagemath/sagetrac-mirror/commit/14939e7bf90d76c80babc4faabbce3b92b9b6eb4)|`Fixed typos`|",
    "created_at": "2016-09-05T13:27:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385065",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------|
|[14939e7](https://github.com/sagemath/sagetrac-mirror/commit/14939e7bf90d76c80babc4faabbce3b92b9b6eb4)|`Fixed typos`|



---

archive/issue_comments_385066.json:
```json
{
    "body": "Changing commit from \"14939e7bf90d76c80babc4faabbce3b92b9b6eb4\" to \"f933020d91a9961a5dd02d0ee0fd7da27aae10e3\"",
    "created_at": "2016-09-07T13:12:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "14939e7bf90d76c80babc4faabbce3b92b9b6eb4" to "f933020d91a9961a5dd02d0ee0fd7da27aae10e3"



---

archive/issue_comments_385067.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[f933020](https://github.com/sagemath/sagetrac-mirror/commit/f933020d91a9961a5dd02d0ee0fd7da27aae10e3)|`100% coverage reached`|",
    "created_at": "2016-09-07T13:12:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385067",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[f933020](https://github.com/sagemath/sagetrac-mirror/commit/f933020d91a9961a5dd02d0ee0fd7da27aae10e3)|`100% coverage reached`|



---

archive/issue_comments_385068.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[97f22da](https://github.com/sagemath/sagetrac-mirror/commit/97f22dab7ede989eacd3a7a0384b247f86c460cd)|`Rafactored all fuctions based on seeds()`|\n|[18a09db](https://github.com/sagemath/sagetrac-mirror/commit/18a09dbf7ec7fa638077217180659cec7fef8417)|`Better interrupt handling`|\n|[dcf6d1f](https://github.com/sagemath/sagetrac-mirror/commit/dcf6d1f68716099e9e3f35699ba08c949629ffc8)|`Fixed missing :`|\n|[34a11d4](https://github.com/sagemath/sagetrac-mirror/commit/34a11d471fdd5dc9d2d6917275e6ae5478b6855d)|`Fixed missing empty lines`|\n|[f3fb9cc](https://github.com/sagemath/sagetrac-mirror/commit/f3fb9cccb8f88e5a9b9ede64d530336a543aeb15)|`Missing digit in doctest`|\n|[0702e07](https://github.com/sagemath/sagetrac-mirror/commit/0702e075a9b05bc01e58a4101817f3cc482c7c6c)|`Improved documentation of _div_`|\n|[0277f86](https://github.com/sagemath/sagetrac-mirror/commit/0277f86691cb8924bb385b1006b0c97c0d77f5c8)|`Fixed typos`|\n|[6298bb3](https://github.com/sagemath/sagetrac-mirror/commit/6298bb3689079da711966b9d8882d613f0519741)|`Changed introduction to avoit plugin failure`|\n|[8217ed1](https://github.com/sagemath/sagetrac-mirror/commit/8217ed1b8161baa5fa8190e611fd6202e117a3aa)|`98.6% coverage reached. No idea on how to doctest _mutation_parse`|\n|[5d270ca](https://github.com/sagemath/sagetrac-mirror/commit/5d270cad0da423ff37a4e3698cac475e8cdbe1be)|`100% coverage reached`|",
    "created_at": "2016-09-09T09:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385068",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[97f22da](https://github.com/sagemath/sagetrac-mirror/commit/97f22dab7ede989eacd3a7a0384b247f86c460cd)|`Rafactored all fuctions based on seeds()`|
|[18a09db](https://github.com/sagemath/sagetrac-mirror/commit/18a09dbf7ec7fa638077217180659cec7fef8417)|`Better interrupt handling`|
|[dcf6d1f](https://github.com/sagemath/sagetrac-mirror/commit/dcf6d1f68716099e9e3f35699ba08c949629ffc8)|`Fixed missing :`|
|[34a11d4](https://github.com/sagemath/sagetrac-mirror/commit/34a11d471fdd5dc9d2d6917275e6ae5478b6855d)|`Fixed missing empty lines`|
|[f3fb9cc](https://github.com/sagemath/sagetrac-mirror/commit/f3fb9cccb8f88e5a9b9ede64d530336a543aeb15)|`Missing digit in doctest`|
|[0702e07](https://github.com/sagemath/sagetrac-mirror/commit/0702e075a9b05bc01e58a4101817f3cc482c7c6c)|`Improved documentation of _div_`|
|[0277f86](https://github.com/sagemath/sagetrac-mirror/commit/0277f86691cb8924bb385b1006b0c97c0d77f5c8)|`Fixed typos`|
|[6298bb3](https://github.com/sagemath/sagetrac-mirror/commit/6298bb3689079da711966b9d8882d613f0519741)|`Changed introduction to avoit plugin failure`|
|[8217ed1](https://github.com/sagemath/sagetrac-mirror/commit/8217ed1b8161baa5fa8190e611fd6202e117a3aa)|`98.6% coverage reached. No idea on how to doctest _mutation_parse`|
|[5d270ca](https://github.com/sagemath/sagetrac-mirror/commit/5d270cad0da423ff37a4e3698cac475e8cdbe1be)|`100% coverage reached`|



---

archive/issue_comments_385069.json:
```json
{
    "body": "Changing commit from \"f933020d91a9961a5dd02d0ee0fd7da27aae10e3\" to \"5d270cad0da423ff37a4e3698cac475e8cdbe1be\"",
    "created_at": "2016-09-09T09:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385069",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f933020d91a9961a5dd02d0ee0fd7da27aae10e3" to "5d270cad0da423ff37a4e3698cac475e8cdbe1be"



---

archive/issue_comments_385070.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[67eb036](https://github.com/sagemath/sagetrac-mirror/commit/67eb036312333721355973ed1639205ac75eb672)|`Some fixes due to pylint`|\n|[7bf638a](https://github.com/sagemath/sagetrac-mirror/commit/7bf638a5313f5947e9e1685d77380bdf73aebf37)|`Use python3 map`|\n|[9847b8e](https://github.com/sagemath/sagetrac-mirror/commit/9847b8e51f3da86eff354874a8331caa0fc2f0f4)|`Added methods to produce iterators on g-vectors and cluster variables`|\n|[0ad8b47](https://github.com/sagemath/sagetrac-mirror/commit/0ad8b4761409e5d296e8a68766d847f56544f39b)|`Some fixes due to pylint`|",
    "created_at": "2016-09-21T09:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385070",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[67eb036](https://github.com/sagemath/sagetrac-mirror/commit/67eb036312333721355973ed1639205ac75eb672)|`Some fixes due to pylint`|
|[7bf638a](https://github.com/sagemath/sagetrac-mirror/commit/7bf638a5313f5947e9e1685d77380bdf73aebf37)|`Use python3 map`|
|[9847b8e](https://github.com/sagemath/sagetrac-mirror/commit/9847b8e51f3da86eff354874a8331caa0fc2f0f4)|`Added methods to produce iterators on g-vectors and cluster variables`|
|[0ad8b47](https://github.com/sagemath/sagetrac-mirror/commit/0ad8b4761409e5d296e8a68766d847f56544f39b)|`Some fixes due to pylint`|



---

archive/issue_comments_385071.json:
```json
{
    "body": "Changing commit from \"5d270cad0da423ff37a4e3698cac475e8cdbe1be\" to \"0ad8b4761409e5d296e8a68766d847f56544f39b\"",
    "created_at": "2016-09-21T09:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385071",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5d270cad0da423ff37a4e3698cac475e8cdbe1be" to "0ad8b4761409e5d296e8a68766d847f56544f39b"



---

archive/issue_comments_385072.json:
```json
{
    "body": "<a id='comment:19'></a>\n* typo: variariable\n\n* please do not use xrange, but six.moves.range (py3)\n\n* WARNING: should be .. WARNING::\n\n* please do not put a dot at the end of the text of raise *Error(\"some text\")\n\n* pep8 cleanup suggestions:\n\n```\n1       E225 missing whitespace around operator\n74      E226 missing whitespace around arithmetic operator\n9       E228 missing whitespace around modulo operator\n33      E231 missing whitespace after ','\n9       E302 expected 2 blank lines, found 1\n3       W601 .has_key() is deprecated, use 'in'\n```\n\nok, enough for today\n\n**EDIT** another typo : usethe\n\n**EDIT**: itareator",
    "created_at": "2016-10-18T19:19:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385072",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>
* typo: variariable

* please do not use xrange, but six.moves.range (py3)

* WARNING: should be .. WARNING::

* please do not put a dot at the end of the text of raise *Error("some text")

* pep8 cleanup suggestions:

```
1       E225 missing whitespace around operator
74      E226 missing whitespace around arithmetic operator
9       E228 missing whitespace around modulo operator
33      E231 missing whitespace after ','
9       E302 expected 2 blank lines, found 1
3       W601 .has_key() is deprecated, use 'in'
```

ok, enough for today

**EDIT** another typo : usethe

**EDIT**: itareator



---

archive/issue_comments_385073.json:
```json
{
    "body": "Changing commit from \"0ad8b4761409e5d296e8a68766d847f56544f39b\" to \"32383b152148e21a222fa8b94373170328527e6f\"",
    "created_at": "2016-10-19T15:09:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385073",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0ad8b4761409e5d296e8a68766d847f56544f39b" to "32383b152148e21a222fa8b94373170328527e6f"



---

archive/issue_comments_385074.json:
```json
{
    "body": "<a id='comment:22'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[2ed6066](https://github.com/sagemath/sagetrac-mirror/commit/2ed6066d454c4e54bf2f0007674fc258fd3765a7)|`Implemented some of the suggested changes`|\n|[32383b1](https://github.com/sagemath/sagetrac-mirror/commit/32383b152148e21a222fa8b94373170328527e6f)|`missing s`|",
    "created_at": "2016-10-19T15:09:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385074",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[2ed6066](https://github.com/sagemath/sagetrac-mirror/commit/2ed6066d454c4e54bf2f0007674fc258fd3765a7)|`Implemented some of the suggested changes`|
|[32383b1](https://github.com/sagemath/sagetrac-mirror/commit/32383b152148e21a222fa8b94373170328527e6f)|`missing s`|



---

archive/issue_comments_385075.json:
```json
{
    "body": "Changing commit from \"32383b152148e21a222fa8b94373170328527e6f\" to \"da62aeb841996b9497af0b3f06f69225f86726aa\"",
    "created_at": "2016-10-19T15:15:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385075",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "32383b152148e21a222fa8b94373170328527e6f" to "da62aeb841996b9497af0b3f06f69225f86726aa"



---

archive/issue_comments_385076.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------|\n|[da62aeb](https://github.com/sagemath/sagetrac-mirror/commit/da62aeb841996b9497af0b3f06f69225f86726aa)|`Pep8 fixes`|",
    "created_at": "2016-10-19T15:15:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385076",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |            |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------|
|[da62aeb](https://github.com/sagemath/sagetrac-mirror/commit/da62aeb841996b9497af0b3f06f69225f86726aa)|`Pep8 fixes`|



---

archive/issue_comments_385077.json:
```json
{
    "body": "<a id='comment:24'></a>\nthanks.\n\nsome more remarks:\n\n* pep8 is for code, not for documentation. It was not necessary to add a space after all commas in the doc. You can use \"pep8 --ignore=E501 file.py\" to check if there remains errors (and where).\n\n* you should rather just do \"from six.moves import range\" and search-and-replace xrange by range. We are on the way to remove all xrange from sage (except in cython files)\n\n* I am a bit puzzled by your strange manipulations of the doc (using `__doc__`) This is ugly code, imho.\n\n* and I have the same bad feeling about your way to add methods only in special cases.. But maybe this is because I have never seen anything like that before\n\n* a general remark on the doc is that after a single colon, you should not indent by 4, because the single colon is not defining a block. \n\n* maybe not for now, but for the user who wants index starting at one, one may like to implement something like \"index_set\" (that exists for root systems, I think)",
    "created_at": "2016-10-19T18:30:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385077",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>
thanks.

some more remarks:

* pep8 is for code, not for documentation. It was not necessary to add a space after all commas in the doc. You can use "pep8 --ignore=E501 file.py" to check if there remains errors (and where).

* you should rather just do "from six.moves import range" and search-and-replace xrange by range. We are on the way to remove all xrange from sage (except in cython files)

* I am a bit puzzled by your strange manipulations of the doc (using `__doc__`) This is ugly code, imho.

* and I have the same bad feeling about your way to add methods only in special cases.. But maybe this is because I have never seen anything like that before

* a general remark on the doc is that after a single colon, you should not indent by 4, because the single colon is not defining a block. 

* maybe not for now, but for the user who wants index starting at one, one may like to implement something like "index_set" (that exists for root systems, I think)



---

archive/issue_comments_385078.json:
```json
{
    "body": "Changing dependencies from \"#19538\" to \"\"",
    "created_at": "2016-10-19T18:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385078",
    "user": "https://github.com/fchapoton"
}
```

Changing dependencies from "#19538" to ""



---

archive/issue_comments_385079.json:
```json
{
    "body": "<a id='comment:26'></a>\nMore comments:\n\n* probably .rk should be .rank (we prefer explicit names)\n\n* `+ (a1, a2) = d_vector` could be `+ a1, a2 = d_vector` (and same thing in other places)\n\n* remains at least one \"usethe\" and \"itareator\"\n\n* in \n`+        g_mon = prod([self.ambient().gen(i)**g_vector[i] for i in xrange(self.rk())])`\nyou do not need the square bracket inside the prod.\n\n* typo \"g_vetor\"",
    "created_at": "2016-10-19T19:04:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385079",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>
More comments:

* probably .rk should be .rank (we prefer explicit names)

* `+ (a1, a2) = d_vector` could be `+ a1, a2 = d_vector` (and same thing in other places)

* remains at least one "usethe" and "itareator"

* in 
`+        g_mon = prod([self.ambient().gen(i)**g_vector[i] for i in xrange(self.rk())])`
you do not need the square bracket inside the prod.

* typo "g_vetor"



---

archive/issue_comments_385080.json:
```json
{
    "body": "<a id='comment:27'></a>\nAfter Frederic already started with a structural review, I finally take some time to play with the code.\n\nHere is the list of points I want to mention concerning the documentation:\n\n* The documentation start is too technical for my taste, containing many implementation details. I suggest to start with a brief description (or links) to what cluster algebras are + (even more importantly) followed by the later provided good examples. Only after, there should be a description of the algorithms used (I personally would even prefer to be pointed to the exact theorem) + the details of the implementation you give.\n\n* some example sentences start with capital letters, some with small letters\n\n* I agree with Frederic's \"I have [...] bad feeling about your way to add methods only in special cases\". Often, this is solved raising a `NotImplementedError`. On the other hand, I hate those errors and would often prefer if I rather not have a given method...",
    "created_at": "2016-10-21T11:00:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385080",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:27'></a>
After Frederic already started with a structural review, I finally take some time to play with the code.

Here is the list of points I want to mention concerning the documentation:

* The documentation start is too technical for my taste, containing many implementation details. I suggest to start with a brief description (or links) to what cluster algebras are + (even more importantly) followed by the later provided good examples. Only after, there should be a description of the algorithms used (I personally would even prefer to be pointed to the exact theorem) + the details of the implementation you give.

* some example sentences start with capital letters, some with small letters

* I agree with Frederic's "I have [...] bad feeling about your way to add methods only in special cases". Often, this is solved raising a `NotImplementedError`. On the other hand, I hate those errors and would often prefer if I rather not have a given method...



---

archive/issue_comments_385081.json:
```json
{
    "body": "<a id='comment:28'></a>\nConcerning the usage:\n\n* If I want to use `A.F_polynomials()`, I have to first explore and then get the F-polys so far. I suggest to add `def F_polynomials()` as an iterator.\n\n* Maybe I misunderstand the objects, but shouldn't there be `A.d_vectors()` (and `A.c_vectors()` in the case of principal coefficients)?\n\nBeside that, I did play with it for a while and it really seemed to behave nicely and intuitively!",
    "created_at": "2016-10-21T11:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385081",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:28'></a>
Concerning the usage:

* If I want to use `A.F_polynomials()`, I have to first explore and then get the F-polys so far. I suggest to add `def F_polynomials()` as an iterator.

* Maybe I misunderstand the objects, but shouldn't there be `A.d_vectors()` (and `A.c_vectors()` in the case of principal coefficients)?

Beside that, I did play with it for a while and it really seemed to behave nicely and intuitively!



---

archive/issue_comments_385082.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [stumpc5](#comment%3A27):\n> After Frederic already started with a structural review, I finally take some time to play with the code.\n> \n> Here is the list of points I want to mention concerning the documentation:\n> \n> * The documentation start is too technical for my taste, containing many implementation details. I suggest to start with a brief description (or links) to what cluster algebras are + (even more importantly) followed by the later provided good examples. Only after, there should be a description of the algorithms used (I personally would even prefer to be pointed to the exact theorem) + the details of the implementation you give.\n\n\nI am okay with having the module-level documentation being somewhat technical. However, I strongly think the main bulk of the documentation should be at the class-level for `ClusterAlgebra` (with the `__init__` only being a short 1-line and `TESTS::` with a (few) `TestSuite(C).run()` calls). This way the user can get it by `ClusterAlgebra?`.\n\n> * I agree with Frederic's \"I have [...] bad feeling about your way to add methods only in special cases\". Often, this is solved raising a `NotImplementedError`. On the other hand, I hate those errors and would often prefer if I rather not have a given method...\n\n\nI would recommend using ``@`abstract_method` (if optional to implement, you can do ``@`abstract_method(optional=True)`). While it doesn't remove the method if it is not implemented, it does prevent the user from looking at its doc (and the TestSuite` will fail if such a method is found).",
    "created_at": "2016-10-21T14:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385082",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'></a>
Replying to [stumpc5](#comment%3A27):
> After Frederic already started with a structural review, I finally take some time to play with the code.
> 
> Here is the list of points I want to mention concerning the documentation:
> 
> * The documentation start is too technical for my taste, containing many implementation details. I suggest to start with a brief description (or links) to what cluster algebras are + (even more importantly) followed by the later provided good examples. Only after, there should be a description of the algorithms used (I personally would even prefer to be pointed to the exact theorem) + the details of the implementation you give.


I am okay with having the module-level documentation being somewhat technical. However, I strongly think the main bulk of the documentation should be at the class-level for `ClusterAlgebra` (with the `__init__` only being a short 1-line and `TESTS::` with a (few) `TestSuite(C).run()` calls). This way the user can get it by `ClusterAlgebra?`.

> * I agree with Frederic's "I have [...] bad feeling about your way to add methods only in special cases". Often, this is solved raising a `NotImplementedError`. On the other hand, I hate those errors and would often prefer if I rather not have a given method...


I would recommend using ``@`abstract_method` (if optional to implement, you can do ``@`abstract_method(optional=True)`). While it doesn't remove the method if it is not implemented, it does prevent the user from looking at its doc (and the TestSuite` will fail if such a method is found).



---

archive/issue_comments_385083.json:
```json
{
    "body": "<a id='comment:30'></a>\nAlso the `ALGORITHM:` should not be indented.",
    "created_at": "2016-10-21T14:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385083",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'></a>
Also the `ALGORITHM:` should not be indented.



---

archive/issue_comments_385084.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [tscrim](#comment%3A29):\n> I am okay with having the module-level documentation being somewhat technical.\n\n\nThe problem then is that looking at the html documentation might scare users to further look.",
    "created_at": "2016-10-21T14:29:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385084",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:31'></a>
Replying to [tscrim](#comment%3A29):
> I am okay with having the module-level documentation being somewhat technical.


The problem then is that looking at the html documentation might scare users to further look.



---

archive/issue_comments_385085.json:
```json
{
    "body": "Changing commit from \"da62aeb841996b9497af0b3f06f69225f86726aa\" to \"8c290be8819933ab781afcea3f445ee4f7108417\"",
    "created_at": "2016-11-06T18:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "da62aeb841996b9497af0b3f06f69225f86726aa" to "8c290be8819933ab781afcea3f445ee4f7108417"



---

archive/issue_comments_385086.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|\n|[888e004](https://github.com/sagemath/sagetrac-mirror/commit/888e0049513d860459b732269ab5f5181ee7e0ed)|`Removed xrange`|\n|[600b407](https://github.com/sagemath/sagetrac-mirror/commit/600b407e09e56dba376968eb5284e5d14fef4a8c)|`Spelling`|\n|[291fc6e](https://github.com/sagemath/sagetrac-mirror/commit/291fc6ee14714785aaf2977ae2c7d41b127e7c03)|`PEP8 E265`|\n|[25cc544](https://github.com/sagemath/sagetrac-mirror/commit/25cc5447983bc53097658e3d7b68135aec32fc0b)|`PEP8 E226`|\n|[211124f](https://github.com/sagemath/sagetrac-mirror/commit/211124f8341781bc38dab21048a5fcc1f23c6f35)|`Fixed indentations within documentation`|\n|[edf28dd](https://github.com/sagemath/sagetrac-mirror/commit/edf28dd15bdaa96b603937fbb0240b604bc47d04)|`Changed rk() to rank()`|\n|[677021e](https://github.com/sagemath/sagetrac-mirror/commit/677021e99e420ad4dc543dd8fc82d0c14ade7169)|`Streamlined tuple assignments`|\n|[71ee4b5](https://github.com/sagemath/sagetrac-mirror/commit/71ee4b578818072c2a1bc1b3eb68eed8c3a56328)|`Removed useless []`|\n|[fabb498](https://github.com/sagemath/sagetrac-mirror/commit/fabb498292af1dd810566f8ce636ba72b3db341d)|`typo`|\n|[8c290be](https://github.com/sagemath/sagetrac-mirror/commit/8c290be8819933ab781afcea3f445ee4f7108417)|`Reorganization + implementation of F_polynomials`|",
    "created_at": "2016-11-06T18:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|
|[888e004](https://github.com/sagemath/sagetrac-mirror/commit/888e0049513d860459b732269ab5f5181ee7e0ed)|`Removed xrange`|
|[600b407](https://github.com/sagemath/sagetrac-mirror/commit/600b407e09e56dba376968eb5284e5d14fef4a8c)|`Spelling`|
|[291fc6e](https://github.com/sagemath/sagetrac-mirror/commit/291fc6ee14714785aaf2977ae2c7d41b127e7c03)|`PEP8 E265`|
|[25cc544](https://github.com/sagemath/sagetrac-mirror/commit/25cc5447983bc53097658e3d7b68135aec32fc0b)|`PEP8 E226`|
|[211124f](https://github.com/sagemath/sagetrac-mirror/commit/211124f8341781bc38dab21048a5fcc1f23c6f35)|`Fixed indentations within documentation`|
|[edf28dd](https://github.com/sagemath/sagetrac-mirror/commit/edf28dd15bdaa96b603937fbb0240b604bc47d04)|`Changed rk() to rank()`|
|[677021e](https://github.com/sagemath/sagetrac-mirror/commit/677021e99e420ad4dc543dd8fc82d0c14ade7169)|`Streamlined tuple assignments`|
|[71ee4b5](https://github.com/sagemath/sagetrac-mirror/commit/71ee4b578818072c2a1bc1b3eb68eed8c3a56328)|`Removed useless []`|
|[fabb498](https://github.com/sagemath/sagetrac-mirror/commit/fabb498292af1dd810566f8ce636ba72b3db341d)|`typo`|
|[8c290be](https://github.com/sagemath/sagetrac-mirror/commit/8c290be8819933ab781afcea3f445ee4f7108417)|`Reorganization + implementation of F_polynomials`|



---

archive/issue_comments_385087.json:
```json
{
    "body": "<a id='comment:33'></a>\nThanks everybody for the in depth comments and sorry for taking so long to\nreply. \n\nI just updated the code implementing most of your suggestions. Here are some\nextra remarks:\n\n* xrange has been removed\n\n* several indentations has been fixed in the documentation\n\n* implementing index_set is probably a good idea but I might prefer to get first\n  a positive review on this. I already know how this should be implemented and\n  it will not take much.\n \n* as far as the manipulation of `__doc__` I am posting a request for comments on\n  sage-devel to see what is the general consensus on how to best implement this.\n\n* same holds for methods not always defined\n\n* brackets inside `prod()` and `dict()` has been removed\n\n* `F_polynomials` is now implemented as an iterator\n\n* I am not implementing c-vectors at this stage because, as the code is\n  structured right now, we do not keep track of them. A future patch will\n  address the issue of storing and producing exchange relations; c-vectors\n  belong to that\n\n* `d_vectors`: I did not implement it yet but it is easily doable. This raises a\n  question concerning `cluster_variables` and `F_polynomials`.\n  These, as `d_vectors` would be, are simple syntactic sugar around a `map`. For\n  example `cluster_variables` is the same as\n  {{{\n  sage: map(A.cluster_variable, A.g_vectors())\n  }}}\n  is it worth implementing such methods or should we just get rid of them?\n  Pros: less code to maintain!\n  Cons: users might be scared?\n\nNow to the more serious issue: I tried implementing Travis's suggestion about\ndocumentation and I ran into some issues with `TestSuite` that I can't wrap my\nhead around. It looks like instances of neither `ClusterAlgebraElement` nor\n`ClusterAlgebraSees` can't be dumped with `dumps`. \n\n```\nsage: A = ClusterAlgebra(['B',4])\nsage: x = A.initial_cluster_variable(0)\nsage: S = A.current_seed()\nsage: from six.moves import cPickle\nsage: cPickle.dumps(x, protocol=2)\n---------------------------------------------------------------------------\nPicklingError                             Traceback (most recent call last)\n<ipython-input-7-78bafcb24ef1> in <module>()\n----> 1 cPickle.dumps(x, protocol=Integer(2))\n\nPicklingError: Can't pickle <type 'function'>: attribute lookup __builtin__.function failed\nsage: cPickle.dumps(S, protocol=2)\n---------------------------------------------------------------------------\nPicklingError                             Traceback (most recent call last)\n<ipython-input-8-77bd4c9405ba> in <module>()\n----> 1 cPickle.dumps(S, protocol=Integer(2))\n\nPicklingError: Can't pickle <type 'function'>: attribute lookup __builtin__.function failed\n```\n\nWhere am I being stupid?",
    "created_at": "2016-11-06T18:55:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385087",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:33'></a>
Thanks everybody for the in depth comments and sorry for taking so long to
reply. 

I just updated the code implementing most of your suggestions. Here are some
extra remarks:

* xrange has been removed

* several indentations has been fixed in the documentation

* implementing index_set is probably a good idea but I might prefer to get first
  a positive review on this. I already know how this should be implemented and
  it will not take much.
 
* as far as the manipulation of `__doc__` I am posting a request for comments on
  sage-devel to see what is the general consensus on how to best implement this.

* same holds for methods not always defined

* brackets inside `prod()` and `dict()` has been removed

* `F_polynomials` is now implemented as an iterator

* I am not implementing c-vectors at this stage because, as the code is
  structured right now, we do not keep track of them. A future patch will
  address the issue of storing and producing exchange relations; c-vectors
  belong to that

* `d_vectors`: I did not implement it yet but it is easily doable. This raises a
  question concerning `cluster_variables` and `F_polynomials`.
  These, as `d_vectors` would be, are simple syntactic sugar around a `map`. For
  example `cluster_variables` is the same as
  {{{
  sage: map(A.cluster_variable, A.g_vectors())
  }}}
  is it worth implementing such methods or should we just get rid of them?
  Pros: less code to maintain!
  Cons: users might be scared?

Now to the more serious issue: I tried implementing Travis's suggestion about
documentation and I ran into some issues with `TestSuite` that I can't wrap my
head around. It looks like instances of neither `ClusterAlgebraElement` nor
`ClusterAlgebraSees` can't be dumped with `dumps`. 

```
sage: A = ClusterAlgebra(['B',4])
sage: x = A.initial_cluster_variable(0)
sage: S = A.current_seed()
sage: from six.moves import cPickle
sage: cPickle.dumps(x, protocol=2)
---------------------------------------------------------------------------
PicklingError                             Traceback (most recent call last)
<ipython-input-7-78bafcb24ef1> in <module>()
----> 1 cPickle.dumps(x, protocol=Integer(2))

PicklingError: Can't pickle <type 'function'>: attribute lookup __builtin__.function failed
sage: cPickle.dumps(S, protocol=2)
---------------------------------------------------------------------------
PicklingError                             Traceback (most recent call last)
<ipython-input-8-77bd4c9405ba> in <module>()
----> 1 cPickle.dumps(S, protocol=Integer(2))

PicklingError: Can't pickle <type 'function'>: attribute lookup __builtin__.function failed
```

Where am I being stupid?



---

archive/issue_comments_385088.json:
```json
{
    "body": "<a id='comment:34'></a>\nYou don't have a pickling protocol implemented for the parent. Actually, I don't see why you aren't using `UniqueRepresentation`. Also, instead of manually setting the methods, you should use a subclass and dynamically set the `Element` of `ClusterAlgebra`.",
    "created_at": "2016-11-06T21:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385088",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:34'></a>
You don't have a pickling protocol implemented for the parent. Actually, I don't see why you aren't using `UniqueRepresentation`. Also, instead of manually setting the methods, you should use a subclass and dynamically set the `Element` of `ClusterAlgebra`.



---

archive/issue_comments_385089.json:
```json
{
    "body": "<a id='comment:35'></a>\nThanks, I will move `ClusterAlgebra` to `UniqueRepresentation` and test if there are no undesired side effects. I am not sure myself why we did not do it earlier; we might have had reasons but I can't remember them right now.\n\nWhich methods are you referring to? Isn't enough to set `Element = ClusterAlgebraElement` inside `ClusterAlgebra`?",
    "created_at": "2016-11-06T21:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385089",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:35'></a>
Thanks, I will move `ClusterAlgebra` to `UniqueRepresentation` and test if there are no undesired side effects. I am not sure myself why we did not do it earlier; we might have had reasons but I can't remember them right now.

Which methods are you referring to? Isn't enough to set `Element = ClusterAlgebraElement` inside `ClusterAlgebra`?



---

archive/issue_comments_385090.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [etn40ff](#comment%3A35):\n> Which methods are you referring to? Isn't enough to set `Element = ClusterAlgebraElement` inside `ClusterAlgebra`?\n\n\nYou can do it in the `__init__` as long as you do it before you make the call to `Parent.__init__`.",
    "created_at": "2016-11-06T21:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385090",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:36'></a>
Replying to [etn40ff](#comment%3A35):
> Which methods are you referring to? Isn't enough to set `Element = ClusterAlgebraElement` inside `ClusterAlgebra`?


You can do it in the `__init__` as long as you do it before you make the call to `Parent.__init__`.



---

archive/issue_comments_385091.json:
```json
{
    "body": "<a id='comment:37'></a>\nOk now I remember why we ended up not using `UniqueRepresentation`: in many (read \"in every one I can think of\") cases we want to be able to invoke  `ClusterAlgebra` on non hashable arguments.",
    "created_at": "2016-11-06T21:59:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385091",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:37'></a>
Ok now I remember why we ended up not using `UniqueRepresentation`: in many (read "in every one I can think of") cases we want to be able to invoke  `ClusterAlgebra` on non hashable arguments.



---

archive/issue_comments_385092.json:
```json
{
    "body": "<a id='comment:38'></a>\nSorry I am particularly slow with understanding tonight. \n\nAre you saying that instead of using `MethodType` in the cases when I want them\nI should define a subclass containing also the extra methods and dynamically\npick the right one in __init__? \nI am not sure this will work in both cases: I can see how it will help for the\nextra methods in `ClusterAlgebraElement` but how do you make it work for the\nextra methods in `ClusterAlgebra`?\nThe only way I see is to introduce a factory but I would really prefer to\navoid doing that.",
    "created_at": "2016-11-06T22:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385092",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:38'></a>
Sorry I am particularly slow with understanding tonight. 

Are you saying that instead of using `MethodType` in the cases when I want them
I should define a subclass containing also the extra methods and dynamically
pick the right one in __init__? 
I am not sure this will work in both cases: I can see how it will help for the
extra methods in `ClusterAlgebraElement` but how do you make it work for the
extra methods in `ClusterAlgebra`?
The only way I see is to introduce a factory but I would really prefer to
avoid doing that.



---

archive/issue_comments_385093.json:
```json
{
    "body": "<a id='comment:39'></a>\nWhat would be an example? For matrices, we can make an immutable copy or some other equivalent (hashable) data. Same for quivers. (At least I would think `ClusterAlgebraSeed` would fulfill this role.)",
    "created_at": "2016-11-06T22:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385093",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:39'></a>
What would be an example? For matrices, we can make an immutable copy or some other equivalent (hashable) data. Same for quivers. (At least I would think `ClusterAlgebraSeed` would fulfill this role.)



---

archive/issue_comments_385094.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [etn40ff](#comment%3A38):\n> Are you saying that instead of using `MethodType` in the cases when I want them\n> I should define a subclass containing also the extra methods and dynamically\n> pick the right one in __init__? \n> I am not sure this will work in both cases: I can see how it will help for the\n> extra methods in `ClusterAlgebraElement` but how do you make it work for the\n> extra methods in `ClusterAlgebra`?\n> The only way I see is to introduce a factory but I would really prefer to\n> avoid doing that.\n\n\nThis approach is not very readable (subsequently harder to debug) and strongly breaks encapsulation. So I am strongly against it. Also, I believe you should be using `UniqueRepresentation`, where the `__classcall(_private)__` can be used as a factory. Although you can just add the `ClasscallMetaclass` to get the same behavior to return the subclass.",
    "created_at": "2016-11-06T22:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385094",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:40'></a>
Replying to [etn40ff](#comment%3A38):
> Are you saying that instead of using `MethodType` in the cases when I want them
> I should define a subclass containing also the extra methods and dynamically
> pick the right one in __init__? 
> I am not sure this will work in both cases: I can see how it will help for the
> extra methods in `ClusterAlgebraElement` but how do you make it work for the
> extra methods in `ClusterAlgebra`?
> The only way I see is to introduce a factory but I would really prefer to
> avoid doing that.


This approach is not very readable (subsequently harder to debug) and strongly breaks encapsulation. So I am strongly against it. Also, I believe you should be using `UniqueRepresentation`, where the `__classcall(_private)__` can be used as a factory. Although you can just add the `ClasscallMetaclass` to get the same behavior to return the subclass.



---

archive/issue_comments_385095.json:
```json
{
    "body": "<a id='comment:41'></a>\nOK I might have found a way to make everyone happy. What about something like\nthis?\n\n```\nclass MyClass(Parent):\n    \n    def __init__(self):\n    \t# do something here\n    \tpass\n    \n    if somecondition:\n    \tdef method_not_always_defines(self):\n\t    # do something else here\n\t    pass\n\n    def method_always_defined(self):\n        # do nothing\n        pass\n```\n\nI do not know why I did not think of something of this sort before. The only thing I haven't figured out yet is whether it is possible for somecondition to be dependent on the argument with which `MyClass` is called.",
    "created_at": "2016-11-06T23:21:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385095",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:41'></a>
OK I might have found a way to make everyone happy. What about something like
this?

```
class MyClass(Parent):
    
    def __init__(self):
    	# do something here
    	pass
    
    if somecondition:
    	def method_not_always_defines(self):
	    # do something else here
	    pass

    def method_always_defined(self):
        # do nothing
        pass
```

I do not know why I did not think of something of this sort before. The only thing I haven't figured out yet is whether it is possible for somecondition to be dependent on the argument with which `MyClass` is called.



---

archive/issue_comments_385096.json:
```json
{
    "body": "<a id='comment:42'></a>\nWhen I said non hashable I meant that they are not hashable on the nose but can be made hashable. Basically one would like to feed in anything that can be already interpreted by `ClusterQuiver` that take also non hashable inputs.",
    "created_at": "2016-11-06T23:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385096",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:42'></a>
When I said non hashable I meant that they are not hashable on the nose but can be made hashable. Basically one would like to feed in anything that can be already interpreted by `ClusterQuiver` that take also non hashable inputs.



---

archive/issue_comments_385097.json:
```json
{
    "body": "<a id='comment:43'></a>\nWell the data you really want is `ClusterQuiver` or `ClusterSeed`, so you really should use `UniqueRepresentation` as it solves a number of problems.\n\ncomment:41 is better, but I'm still -1. Use subclasses.",
    "created_at": "2016-11-06T23:39:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385097",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:43'></a>
Well the data you really want is `ClusterQuiver` or `ClusterSeed`, so you really should use `UniqueRepresentation` as it solves a number of problems.

comment:41 is better, but I'm still -1. Use subclasses.



---

archive/issue_comments_385098.json:
```json
{
    "body": "<a id='comment:44'></a>\nReplying to [etn40ff](#comment%3A33):\n> * `d_vectors`: I did not implement it yet but it is easily doable. This raises a\n>   question concerning `cluster_variables` and `F_polynomials`.\n>   These, as `d_vectors` would be, are simple syntactic sugar around a `map`. For\n>   example `cluster_variables` is the same as\n>   {{{\n>   sage: map(A.cluster_variable, A.g_vectors())\n>   }}}\n>   is it worth implementing such methods or should we just get rid of them?\n>   Pros: less code to maintain!\n>   Cons: users might be scared?\n\n\nI prefer to look at the usage from, well, the user's perspective. And using\n\n```\nsage: map(A.cluster_variable, A.g_vectors())\n```\nimplies that I have understood already how the implementation works (or, at least, that I have read through the documentation). I'd therefore prefer to have explicit methods providing all sorts of data attached to a cluster seed (independent from how you handle the seed internally).\n\nJust my 2 cents, it's your code so it's your decision what to provide how...",
    "created_at": "2016-11-07T14:42:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385098",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:44'></a>
Replying to [etn40ff](#comment%3A33):
> * `d_vectors`: I did not implement it yet but it is easily doable. This raises a
>   question concerning `cluster_variables` and `F_polynomials`.
>   These, as `d_vectors` would be, are simple syntactic sugar around a `map`. For
>   example `cluster_variables` is the same as
>   {{{
>   sage: map(A.cluster_variable, A.g_vectors())
>   }}}
>   is it worth implementing such methods or should we just get rid of them?
>   Pros: less code to maintain!
>   Cons: users might be scared?


I prefer to look at the usage from, well, the user's perspective. And using

```
sage: map(A.cluster_variable, A.g_vectors())
```
implies that I have understood already how the implementation works (or, at least, that I have read through the documentation). I'd therefore prefer to have explicit methods providing all sorts of data attached to a cluster seed (independent from how you handle the seed internally).

Just my 2 cents, it's your code so it's your decision what to provide how...



---

archive/issue_comments_385099.json:
```json
{
    "body": "<a id='comment:45'></a>\nReplying to [tscrim](#comment%3A43):\n> Well the data you really want is `ClusterQuiver` or `ClusterSeed`, so you really should use `UniqueRepresentation` as it solves a number of problems.\n> \n> comment:41 is better, but I'm still -1. Use subclasses.\n\n\nI will give it a try with `UniqueRepresentation` and report back when I am done. \nI am unfortunately quite short on time for sage lately so this may take a while.\n\nAs for subclasses I am quite against the idea because I will, hopefully soon,\nadd more methods defined only in certain cases and I would have to make a lot of\nclasses just to mix and match all the possibilities. I posted a reply on\nsage-devel on this and I might just define the methods in any case and have them\nraise and error when they are meaningless. Unless of course someone suggests\na better idea.",
    "created_at": "2016-11-14T21:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385099",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:45'></a>
Replying to [tscrim](#comment%3A43):
> Well the data you really want is `ClusterQuiver` or `ClusterSeed`, so you really should use `UniqueRepresentation` as it solves a number of problems.
> 
> comment:41 is better, but I'm still -1. Use subclasses.


I will give it a try with `UniqueRepresentation` and report back when I am done. 
I am unfortunately quite short on time for sage lately so this may take a while.

As for subclasses I am quite against the idea because I will, hopefully soon,
add more methods defined only in certain cases and I would have to make a lot of
classes just to mix and match all the possibilities. I posted a reply on
sage-devel on this and I might just define the methods in any case and have them
raise and error when they are meaningless. Unless of course someone suggests
a better idea.



---

archive/issue_comments_385100.json:
```json
{
    "body": "<a id='comment:46'></a>\nWith the current code, you should use subclasses. In the future, for the more corner case situations, I would then raise a `TypeError` when the particular method does not apply. I should have some time next week during the Sage Days to attack things if you'd want me to.",
    "created_at": "2016-11-15T00:45:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385100",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:46'></a>
With the current code, you should use subclasses. In the future, for the more corner case situations, I would then raise a `TypeError` when the particular method does not apply. I should have some time next week during the Sage Days to attack things if you'd want me to.



---

archive/issue_comments_385101.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [tscrim](#comment%3A46):\n>I should have some time next week during the Sage Days to attack things if you'd want me to.\n\n\nI played a little with `UniqueRepresentation` and there are some issues arising from `mutate_initial` (and `mutate`).\nIf your offer still holds I would be happy to talk any time this week except for Thursday.",
    "created_at": "2016-11-21T17:29:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385101",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:47'></a>
Replying to [tscrim](#comment%3A46):
>I should have some time next week during the Sage Days to attack things if you'd want me to.


I played a little with `UniqueRepresentation` and there are some issues arising from `mutate_initial` (and `mutate`).
If your offer still holds I would be happy to talk any time this week except for Thursday.



---

archive/issue_comments_385102.json:
```json
{
    "body": "<a id='comment:48'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|\n|[56c21e0](https://github.com/sagemath/sagetrac-mirror/commit/56c21e0c55aabba3df4fb633393db2b791cd00dd)|`Merge branch 'public/ticket/21254' of trac.sagemath.org:sage into public/ticket/21254`|\n|[0cf61b7](https://github.com/sagemath/sagetrac-mirror/commit/0cf61b7d116e454cffa5051fcf09edf1e0fad2f0)|`Initial pass of documentation fixes and added TestSuite (to be fixed).`|\n|[fbbb24f](https://github.com/sagemath/sagetrac-mirror/commit/fbbb24fc3c5776bab32dfa8f678f1249506b8b1b)|`Creating element class for cluster algebras with prinicpal coefficients.`|",
    "created_at": "2016-11-22T08:45:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385102",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
|[56c21e0](https://github.com/sagemath/sagetrac-mirror/commit/56c21e0c55aabba3df4fb633393db2b791cd00dd)|`Merge branch 'public/ticket/21254' of trac.sagemath.org:sage into public/ticket/21254`|
|[0cf61b7](https://github.com/sagemath/sagetrac-mirror/commit/0cf61b7d116e454cffa5051fcf09edf1e0fad2f0)|`Initial pass of documentation fixes and added TestSuite (to be fixed).`|
|[fbbb24f](https://github.com/sagemath/sagetrac-mirror/commit/fbbb24fc3c5776bab32dfa8f678f1249506b8b1b)|`Creating element class for cluster algebras with prinicpal coefficients.`|



---

archive/issue_comments_385103.json:
```json
{
    "body": "Changing commit from \"8c290be8819933ab781afcea3f445ee4f7108417\" to \"fbbb24fc3c5776bab32dfa8f678f1249506b8b1b\"",
    "created_at": "2016-11-22T08:45:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8c290be8819933ab781afcea3f445ee4f7108417" to "fbbb24fc3c5776bab32dfa8f678f1249506b8b1b"



---

archive/issue_comments_385104.json:
```json
{
    "body": "<a id='comment:49'></a>\nI've used subclasses for the elements to begin with and done my pass over the documentation. ~~I'm doing the subclasses for the parents next, which should be pushed in minute.~~ Correction: That will likely depend on how the `ClusterAlgebra` class changes with `UniqueRepresentation`, which I can't really do until I understand the difference below.\n\nI don't understand why we need the `ClusterAlgebraSeed` when it seems like all of that functionality is (essentially) done by `ClusterSeed`.\n\nI would appreciate some time to Skype at some point today or tomorrow (I'm 1 hour ahead from Paris time I believe) to go over things. We can set that up over e-mail.",
    "created_at": "2016-11-22T08:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385104",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:49'></a>
I've used subclasses for the elements to begin with and done my pass over the documentation. ~~I'm doing the subclasses for the parents next, which should be pushed in minute.~~ Correction: That will likely depend on how the `ClusterAlgebra` class changes with `UniqueRepresentation`, which I can't really do until I understand the difference below.

I don't understand why we need the `ClusterAlgebraSeed` when it seems like all of that functionality is (essentially) done by `ClusterSeed`.

I would appreciate some time to Skype at some point today or tomorrow (I'm 1 hour ahead from Paris time I believe) to go over things. We can set that up over e-mail.



---

archive/issue_comments_385105.json:
```json
{
    "body": "<a id='comment:50'></a>\nThanks for your work.\n\nReplying to [tscrim](#comment%3A49):\n> I would appreciate some time to Skype at some point today or tomorrow (I'm 1 hour ahead from Paris time I believe) to go over things. We can set that up over e-mail.\n\n\nToday would be great; I am currently queuing in some office but I should be available any time from 13 onwards (Paris time). My Skype username is etn40ff\n\nHold on for `ClusterAlgebraSeed` I'll explain on the phone.",
    "created_at": "2016-11-22T11:13:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385105",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:50'></a>
Thanks for your work.

Replying to [tscrim](#comment%3A49):
> I would appreciate some time to Skype at some point today or tomorrow (I'm 1 hour ahead from Paris time I believe) to go over things. We can set that up over e-mail.


Today would be great; I am currently queuing in some office but I should be available any time from 13 onwards (Paris time). My Skype username is etn40ff

Hold on for `ClusterAlgebraSeed` I'll explain on the phone.



---

archive/issue_comments_385106.json:
```json
{
    "body": "<a id='comment:51'></a>\nReplying to [etn40ff](#comment%3A50):\n> hold on for `ClusterAlgebraSeed` I'll explain on the phone.\n\n\nplease post the transcript of the call here ;-)",
    "created_at": "2016-11-22T11:18:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385106",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:51'></a>
Replying to [etn40ff](#comment%3A50):
> hold on for `ClusterAlgebraSeed` I'll explain on the phone.


please post the transcript of the call here ;-)



---

archive/issue_comments_385107.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [stumpc5](#comment%3A51):\n> Replying to [etn40ff](#comment%3A50):\n> > hold on for `ClusterAlgebraSeed` I'll explain on the phone.\n\n> \n> please post the transcript of the call here ;-)\n\n\nMight be hard, do you want to join?",
    "created_at": "2016-11-22T11:20:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385107",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:52'></a>
Replying to [stumpc5](#comment%3A51):
> Replying to [etn40ff](#comment%3A50):
> > hold on for `ClusterAlgebraSeed` I'll explain on the phone.

> 
> please post the transcript of the call here ;-)


Might be hard, do you want to join?



---

archive/issue_comments_385108.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [etn40ff](#comment%3A52):\n> Replying to [stumpc5](#comment%3A51):\n> > Replying to [etn40ff](#comment%3A50):\n> > > hold on for `ClusterAlgebraSeed` I'll explain on the phone.\n\n> > \n> > please post the transcript of the call here ;-)\n\n> \n> Might be hard, do you want to join?\n\n\ni was just kidding, sorry.",
    "created_at": "2016-11-22T11:30:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385108",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:53'></a>
Replying to [etn40ff](#comment%3A52):
> Replying to [stumpc5](#comment%3A51):
> > Replying to [etn40ff](#comment%3A50):
> > > hold on for `ClusterAlgebraSeed` I'll explain on the phone.

> > 
> > please post the transcript of the call here ;-)

> 
> Might be hard, do you want to join?


i was just kidding, sorry.



---

archive/issue_comments_385109.json:
```json
{
    "body": "<a id='comment:54'></a>\nReplying to [stumpc5](#comment%3A53):\n> Replying to [etn40ff](#comment%3A52):\n> > Replying to [stumpc5](#comment%3A51):\n> > > Replying to [etn40ff](#comment%3A50):\n> > > > hold on for `ClusterAlgebraSeed` I'll explain on the phone.\n\n> > > \n> > > please post the transcript of the call here ;-)\n\n> > \n> > Might be hard, do you want to join?\n\n> \n> i was just kidding, sorry.\n\nI was not: constructive input is always welcome :)\n\nI'll post a summary afterward",
    "created_at": "2016-11-22T11:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385109",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:54'></a>
Replying to [stumpc5](#comment%3A53):
> Replying to [etn40ff](#comment%3A52):
> > Replying to [stumpc5](#comment%3A51):
> > > Replying to [etn40ff](#comment%3A50):
> > > > hold on for `ClusterAlgebraSeed` I'll explain on the phone.

> > > 
> > > please post the transcript of the call here ;-)

> > 
> > Might be hard, do you want to join?

> 
> i was just kidding, sorry.

I was not: constructive input is always welcome :)

I'll post a summary afterward



---

archive/issue_comments_385110.json:
```json
{
    "body": "Changing keywords from \"cluster algebras, SageDays64.5\" to \"cluster algebras, SageDays64.5, days79\".",
    "created_at": "2016-11-22T15:34:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385110",
    "user": "https://github.com/tscrim"
}
```

Changing keywords from "cluster algebras, SageDays64.5" to "cluster algebras, SageDays64.5, days79".



---

archive/issue_comments_385111.json:
```json
{
    "body": "<a id='comment:55'></a>\nHere is the short summary of our discussion:\n\n* We will replace `initial_mutate` by something called `change_initial_seed` (the name has not really been decided) to create a new cluster algebra using another seed `s` as initial data and copy the old data into the new cluster algebra using `s` (and its mutation sequence).\n\n* We will remove the decorator and implement the `UniqueRepresentation` behavior for `ClusterAlgebra`.\n\n* We will have the greedy element method as a method for all cluster algebras but raise a `NotImplementedError` for when it is not rank 2.",
    "created_at": "2016-11-22T15:34:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385111",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:55'></a>
Here is the short summary of our discussion:

* We will replace `initial_mutate` by something called `change_initial_seed` (the name has not really been decided) to create a new cluster algebra using another seed `s` as initial data and copy the old data into the new cluster algebra using `s` (and its mutation sequence).

* We will remove the decorator and implement the `UniqueRepresentation` behavior for `ClusterAlgebra`.

* We will have the greedy element method as a method for all cluster algebras but raise a `NotImplementedError` for when it is not rank 2.



---

archive/issue_events_072204.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-22T15:34:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21254#event-72204"
}
```



---

archive/issue_comments_385112.json:
```json
{
    "body": "<a id='comment:56'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|\n|[97d3890](https://github.com/sagemath/sagetrac-mirror/commit/97d3890a154c39f0d4ccd0f1baa05bf82562918f)|`First attempt at using UniqueRepresentation, mutate_initial should now be broken`|",
    "created_at": "2016-11-23T22:52:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385112",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
|[97d3890](https://github.com/sagemath/sagetrac-mirror/commit/97d3890a154c39f0d4ccd0f1baa05bf82562918f)|`First attempt at using UniqueRepresentation, mutate_initial should now be broken`|



---

archive/issue_comments_385113.json:
```json
{
    "body": "Changing commit from \"fbbb24fc3c5776bab32dfa8f678f1249506b8b1b\" to \"97d3890a154c39f0d4ccd0f1baa05bf82562918f\"",
    "created_at": "2016-11-23T22:52:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385113",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fbbb24fc3c5776bab32dfa8f678f1249506b8b1b" to "97d3890a154c39f0d4ccd0f1baa05bf82562918f"



---

archive/issue_comments_385114.json:
```json
{
    "body": "<a id='comment:57'></a>\nI started working on `UniqueRepresentation` and I think the prototype is ok. I did not touch `mutate_initial` yet.\n\nOne extremely weird issue: if you run\n\n```\nsage -b\nsage -t --long src/sage/algebras/cluster_algebra.py\nsage -t --long src/sage/algebras/cluster_algebra.py\n```\nthe first test will pass while the second will fail. It looks like the cache is not cleared in between tests. Ideas?",
    "created_at": "2016-11-23T22:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385114",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:57'></a>
I started working on `UniqueRepresentation` and I think the prototype is ok. I did not touch `mutate_initial` yet.

One extremely weird issue: if you run

```
sage -b
sage -t --long src/sage/algebras/cluster_algebra.py
sage -t --long src/sage/algebras/cluster_algebra.py
```
the first test will pass while the second will fail. It looks like the cache is not cleared in between tests. Ideas?



---

archive/issue_comments_385115.json:
```json
{
    "body": "<a id='comment:58'></a>\nI cannot reproduce that behavior: I get 3 failures on every run.",
    "created_at": "2016-11-24T07:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385115",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:58'></a>
I cannot reproduce that behavior: I get 3 failures on every run.



---

archive/issue_comments_385116.json:
```json
{
    "body": "Changing commit from \"97d3890a154c39f0d4ccd0f1baa05bf82562918f\" to \"1bb0f903519c4771ed8663b5d0c051b9aa1a422e\"",
    "created_at": "2016-11-24T11:42:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385116",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "97d3890a154c39f0d4ccd0f1baa05bf82562918f" to "1bb0f903519c4771ed8663b5d0c051b9aa1a422e"



---

archive/issue_comments_385117.json:
```json
{
    "body": "<a id='comment:59'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|\n|[f3171f6](https://github.com/sagemath/sagetrac-mirror/commit/f3171f68f556d13d3b9fad31affd0abc7309e703)|`Second pass at using UniqueRepresentatio; still need to remove useless methods like __eq__`|\n|[84b4942](https://github.com/sagemath/sagetrac-mirror/commit/84b49424cd67069de7cc899f0b7ea12b933b4f2d)|`Removed useless methods and got the code to fail with UniqeRepresentation`|\n|[3356c33](https://github.com/sagemath/sagetrac-mirror/commit/3356c3384fca04e0c7c0807448beac326a436b0b)|`Implemented new mutate_initial; this is now consistent with the use of UniqueRepresentation`|\n|[1bb0f90](https://github.com/sagemath/sagetrac-mirror/commit/1bb0f903519c4771ed8663b5d0c051b9aa1a422e)|`Removed old mutate_initial; removed mutate_wrapper; refactored mutate`|",
    "created_at": "2016-11-24T11:42:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385117",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|
|[f3171f6](https://github.com/sagemath/sagetrac-mirror/commit/f3171f68f556d13d3b9fad31affd0abc7309e703)|`Second pass at using UniqueRepresentatio; still need to remove useless methods like __eq__`|
|[84b4942](https://github.com/sagemath/sagetrac-mirror/commit/84b49424cd67069de7cc899f0b7ea12b933b4f2d)|`Removed useless methods and got the code to fail with UniqeRepresentation`|
|[3356c33](https://github.com/sagemath/sagetrac-mirror/commit/3356c3384fca04e0c7c0807448beac326a436b0b)|`Implemented new mutate_initial; this is now consistent with the use of UniqueRepresentation`|
|[1bb0f90](https://github.com/sagemath/sagetrac-mirror/commit/1bb0f903519c4771ed8663b5d0c051b9aa1a422e)|`Removed old mutate_initial; removed mutate_wrapper; refactored mutate`|



---

archive/issue_comments_385118.json:
```json
{
    "body": "<a id='comment:60'></a>\nOk `UniqueRepresentation` is now part of the code. Any comment?\n\nOne thing that bothers me is that we still can create different algebras that should be the same because the parsing of `cluster_variable_names` and symilar is done in `__init__` rather than in `__classcall__`.  Would there be drawbacks in moving these?",
    "created_at": "2016-11-24T11:45:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385118",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:60'></a>
Ok `UniqueRepresentation` is now part of the code. Any comment?

One thing that bothers me is that we still can create different algebras that should be the same because the parsing of `cluster_variable_names` and symilar is done in `__init__` rather than in `__classcall__`.  Would there be drawbacks in moving these?



---

archive/issue_comments_385119.json:
```json
{
    "body": "<a id='comment:61'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[446619f](https://github.com/sagemath/sagetrac-mirror/commit/446619fc0ac79fc0e240df68a09255f3f328b341)|`Polish + removed MethodType`|",
    "created_at": "2016-11-24T17:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385119",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[446619f](https://github.com/sagemath/sagetrac-mirror/commit/446619fc0ac79fc0e240df68a09255f3f328b341)|`Polish + removed MethodType`|



---

archive/issue_comments_385120.json:
```json
{
    "body": "Changing commit from \"1bb0f903519c4771ed8663b5d0c051b9aa1a422e\" to \"446619fc0ac79fc0e240df68a09255f3f328b341\"",
    "created_at": "2016-11-24T17:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385120",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1bb0f903519c4771ed8663b5d0c051b9aa1a422e" to "446619fc0ac79fc0e240df68a09255f3f328b341"



---

archive/issue_comments_385121.json:
```json
{
    "body": "<a id='comment:62'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|\n|[872a4d0](https://github.com/sagemath/sagetrac-mirror/commit/872a4d0a69f20e8a60366652e229760871a2d626)|`Update to version 7.5.rc1. Merge branch 'public/ticket/21254' of git://trac.sagemath.org/sage into public/ticket/21254`|\n|[5341cbd](https://github.com/sagemath/sagetrac-mirror/commit/5341cbd219c650801030dd9df3dd49b34e3c6952)|`21254: add titles and authors to references LLZ2014 and NZ2012, remove duplicate FZ2007`|\n|[1d5bfc7](https://github.com/sagemath/sagetrac-mirror/commit/1d5bfc793a8564ee3fcea999e35e3262a159b51e)|`21254: add cluster algebras to /algebras/catalog.py`|",
    "created_at": "2017-01-08T22:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385121",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:62'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|
|[872a4d0](https://github.com/sagemath/sagetrac-mirror/commit/872a4d0a69f20e8a60366652e229760871a2d626)|`Update to version 7.5.rc1. Merge branch 'public/ticket/21254' of git://trac.sagemath.org/sage into public/ticket/21254`|
|[5341cbd](https://github.com/sagemath/sagetrac-mirror/commit/5341cbd219c650801030dd9df3dd49b34e3c6952)|`21254: add titles and authors to references LLZ2014 and NZ2012, remove duplicate FZ2007`|
|[1d5bfc7](https://github.com/sagemath/sagetrac-mirror/commit/1d5bfc793a8564ee3fcea999e35e3262a159b51e)|`21254: add cluster algebras to /algebras/catalog.py`|



---

archive/issue_comments_385122.json:
```json
{
    "body": "Changing commit from \"446619fc0ac79fc0e240df68a09255f3f328b341\" to \"1d5bfc793a8564ee3fcea999e35e3262a159b51e\"",
    "created_at": "2017-01-08T22:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385122",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "446619fc0ac79fc0e240df68a09255f3f328b341" to "1d5bfc793a8564ee3fcea999e35e3262a159b51e"



---

archive/issue_comments_385123.json:
```json
{
    "body": "<a id='comment:63'></a>\nI did not double check my reference to [NZ2012]. I linked it to: https://arxiv.org/abs/1101.3736",
    "created_at": "2017-01-08T23:03:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385123",
    "user": "https://github.com/egunawan"
}
```

<a id='comment:63'></a>
I did not double check my reference to [NZ2012]. I linked it to: https://arxiv.org/abs/1101.3736



---

archive/issue_comments_385124.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#22160\"",
    "created_at": "2017-01-09T17:36:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385124",
    "user": "https://github.com/etn40ff"
}
```

Changing dependencies from "" to "#22160"



---

archive/issue_comments_385125.json:
```json
{
    "body": "<a id='comment:64'></a>\nHi Emily,\n\nI think the fix you made for the references was not the correct one: if I am not mistaken the goal is to go towards a unified reference system. \n\nI created a new ticket to fix the duplication in `ClusterSeed` #22160 (which needs a quick review) and I will shortly update a new version of this branch to reflect the changes. \nOnce this is done this ticket will depend on #22160.",
    "created_at": "2017-01-09T17:36:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385125",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:64'></a>
Hi Emily,

I think the fix you made for the references was not the correct one: if I am not mistaken the goal is to go towards a unified reference system. 

I created a new ticket to fix the duplication in `ClusterSeed` #22160 (which needs a quick review) and I will shortly update a new version of this branch to reflect the changes. 
Once this is done this ticket will depend on #22160.



---

archive/issue_comments_385126.json:
```json
{
    "body": "Changing commit from \"1d5bfc793a8564ee3fcea999e35e3262a159b51e\" to \"a80a18450a2292348d76af7dbf18c04b752fd8f2\"",
    "created_at": "2017-01-09T17:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385126",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1d5bfc793a8564ee3fcea999e35e3262a159b51e" to "a80a18450a2292348d76af7dbf18c04b752fd8f2"



---

archive/issue_comments_385127.json:
```json
{
    "body": "<a id='comment:65'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[a80a184](https://github.com/sagemath/sagetrac-mirror/commit/a80a18450a2292348d76af7dbf18c04b752fd8f2)|`Revert 5341cbd219c650801030dd9df3dd49b34e3c6952`|",
    "created_at": "2017-01-09T17:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385127",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:65'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[a80a184](https://github.com/sagemath/sagetrac-mirror/commit/a80a18450a2292348d76af7dbf18c04b752fd8f2)|`Revert 5341cbd219c650801030dd9df3dd49b34e3c6952`|



---

archive/issue_comments_385128.json:
```json
{
    "body": "<a id='comment:66'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[f441710](https://github.com/sagemath/sagetrac-mirror/commit/f4417101137d2f6f65b9ec5b552d7b068b444d2a)|`Removed blank line`|",
    "created_at": "2017-01-09T21:01:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385128",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[f441710](https://github.com/sagemath/sagetrac-mirror/commit/f4417101137d2f6f65b9ec5b552d7b068b444d2a)|`Removed blank line`|



---

archive/issue_comments_385129.json:
```json
{
    "body": "Changing commit from \"a80a18450a2292348d76af7dbf18c04b752fd8f2\" to \"f4417101137d2f6f65b9ec5b552d7b068b444d2a\"",
    "created_at": "2017-01-09T21:01:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385129",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a80a18450a2292348d76af7dbf18c04b752fd8f2" to "f4417101137d2f6f65b9ec5b552d7b068b444d2a"



---

archive/issue_comments_385130.json:
```json
{
    "body": "<a id='comment:67'></a>\n+Missing doctests in algebras/cluster_algebra.py: 74 / 75 = 98%",
    "created_at": "2017-01-13T21:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385130",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:67'></a>
+Missing doctests in algebras/cluster_algebra.py: 74 / 75 = 98%



---

archive/issue_comments_385131.json:
```json
{
    "body": "<a id='comment:68'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[dbf42e6](https://github.com/sagemath/sagetrac-mirror/commit/dbf42e6c5f4d3ef0c0dbac97d88829b47431a544)|`Added missing doctest`|",
    "created_at": "2017-01-14T00:48:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385131",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:68'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[dbf42e6](https://github.com/sagemath/sagetrac-mirror/commit/dbf42e6c5f4d3ef0c0dbac97d88829b47431a544)|`Added missing doctest`|



---

archive/issue_comments_385132.json:
```json
{
    "body": "Changing commit from \"f4417101137d2f6f65b9ec5b552d7b068b444d2a\" to \"dbf42e6c5f4d3ef0c0dbac97d88829b47431a544\"",
    "created_at": "2017-01-14T00:48:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385132",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f4417101137d2f6f65b9ec5b552d7b068b444d2a" to "dbf42e6c5f4d3ef0c0dbac97d88829b47431a544"



---

archive/issue_comments_385133.json:
```json
{
    "body": "<a id='comment:69'></a>\nThank you for catching this Fr\u00e9d\u00e9ric. I hope I added the test in the right place.",
    "created_at": "2017-01-14T00:50:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385133",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:69'></a>
Thank you for catching this Frédéric. I hope I added the test in the right place.



---

archive/issue_comments_385134.json:
```json
{
    "body": "<a id='comment:70'></a>\nBranch does no longer apply..\n\nThis has waited long enough..\n\nIf you rebase, I will run my bot, and give a positive review if some bot gives a green light and no other issue arise.",
    "created_at": "2017-02-14T15:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385134",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:70'></a>
Branch does no longer apply..

This has waited long enough..

If you rebase, I will run my bot, and give a positive review if some bot gives a green light and no other issue arise.



---

archive/issue_comments_385135.json:
```json
{
    "body": "Changing commit from \"dbf42e6c5f4d3ef0c0dbac97d88829b47431a544\" to \"06000a4f2e9a2a2b2bf6455add97c25dd486a798\"",
    "created_at": "2017-02-14T22:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385135",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dbf42e6c5f4d3ef0c0dbac97d88829b47431a544" to "06000a4f2e9a2a2b2bf6455add97c25dd486a798"



---

archive/issue_comments_385136.json:
```json
{
    "body": "<a id='comment:71'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|\n|[6c2d7a2](https://github.com/sagemath/sagetrac-mirror/commit/6c2d7a2613d332dbdc8068fb92a27885b74d11d9)|`First attempt at using UniqueRepresentation, mutate_initial should now be broken`|\n|[130de19](https://github.com/sagemath/sagetrac-mirror/commit/130de19b1827199699660f418e5dbc5fb0771779)|`Second pass at using UniqueRepresentatio; still need to remove useless methods like __eq__`|\n|[66e75cf](https://github.com/sagemath/sagetrac-mirror/commit/66e75cf645c427f954eae9cccb124ec671a245e1)|`Removed useless methods and got the code to fail with UniqeRepresentation`|\n|[bcac0e9](https://github.com/sagemath/sagetrac-mirror/commit/bcac0e9d3e49d5d200a39e6d351dc4d22daae2e2)|`Implemented new mutate_initial; this is now consistent with the use of UniqueRepresentation`|\n|[fdc90e8](https://github.com/sagemath/sagetrac-mirror/commit/fdc90e801d61d2482885be54cf1927df6d57edaa)|`Removed old mutate_initial; removed mutate_wrapper; refactored mutate`|\n|[41560ee](https://github.com/sagemath/sagetrac-mirror/commit/41560eebf578786d7a6cf2f04651c417a5825f25)|`Polish + removed MethodType`|\n|[5a827a1](https://github.com/sagemath/sagetrac-mirror/commit/5a827a10349566846a21e184fc7a751299ab4883)|`21254: add titles and authors to references LLZ2014 and NZ2012, remove duplicate FZ2007`|\n|[3981299](https://github.com/sagemath/sagetrac-mirror/commit/39812990e7a2fde173b7413b97f9902802f93cbb)|`21254: add cluster algebras to /algebras/catalog.py`|\n|[94a5d1a](https://github.com/sagemath/sagetrac-mirror/commit/94a5d1ac0518ab2033bfa6306695d6889e706855)|`Revert 5341cbd219c650801030dd9df3dd49b34e3c6952`|\n|[06000a4](https://github.com/sagemath/sagetrac-mirror/commit/06000a4f2e9a2a2b2bf6455add97c25dd486a798)|`Added missing doctest`|",
    "created_at": "2017-02-14T22:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385136",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:71'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
|[6c2d7a2](https://github.com/sagemath/sagetrac-mirror/commit/6c2d7a2613d332dbdc8068fb92a27885b74d11d9)|`First attempt at using UniqueRepresentation, mutate_initial should now be broken`|
|[130de19](https://github.com/sagemath/sagetrac-mirror/commit/130de19b1827199699660f418e5dbc5fb0771779)|`Second pass at using UniqueRepresentatio; still need to remove useless methods like __eq__`|
|[66e75cf](https://github.com/sagemath/sagetrac-mirror/commit/66e75cf645c427f954eae9cccb124ec671a245e1)|`Removed useless methods and got the code to fail with UniqeRepresentation`|
|[bcac0e9](https://github.com/sagemath/sagetrac-mirror/commit/bcac0e9d3e49d5d200a39e6d351dc4d22daae2e2)|`Implemented new mutate_initial; this is now consistent with the use of UniqueRepresentation`|
|[fdc90e8](https://github.com/sagemath/sagetrac-mirror/commit/fdc90e801d61d2482885be54cf1927df6d57edaa)|`Removed old mutate_initial; removed mutate_wrapper; refactored mutate`|
|[41560ee](https://github.com/sagemath/sagetrac-mirror/commit/41560eebf578786d7a6cf2f04651c417a5825f25)|`Polish + removed MethodType`|
|[5a827a1](https://github.com/sagemath/sagetrac-mirror/commit/5a827a10349566846a21e184fc7a751299ab4883)|`21254: add titles and authors to references LLZ2014 and NZ2012, remove duplicate FZ2007`|
|[3981299](https://github.com/sagemath/sagetrac-mirror/commit/39812990e7a2fde173b7413b97f9902802f93cbb)|`21254: add cluster algebras to /algebras/catalog.py`|
|[94a5d1a](https://github.com/sagemath/sagetrac-mirror/commit/94a5d1ac0518ab2033bfa6306695d6889e706855)|`Revert 5341cbd219c650801030dd9df3dd49b34e3c6952`|
|[06000a4](https://github.com/sagemath/sagetrac-mirror/commit/06000a4f2e9a2a2b2bf6455add97c25dd486a798)|`Added missing doctest`|



---

archive/issue_comments_385137.json:
```json
{
    "body": "<a id='comment:72'></a>\nThank you Fr\u00e9d\u00e9ric. I just rebased to the current develop and now it builds cleanly on my machine. Tests seems ok so far. I am starting my patchbot to run overnight.",
    "created_at": "2017-02-14T22:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385137",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:72'></a>
Thank you Frédéric. I just rebased to the current develop and now it builds cleanly on my machine. Tests seems ok so far. I am starting my patchbot to run overnight.



---

archive/issue_comments_385138.json:
```json
{
    "body": "<a id='comment:73'></a>\nok, let it be",
    "created_at": "2017-02-15T12:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385138",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:73'></a>
ok, let it be



---

archive/issue_comments_385139.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2017-02-15T12:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385139",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_385140.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-02-15T12:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385140",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_072205.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-02-15T12:52:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21254#event-72205"
}
```



---

archive/issue_events_072206.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-02-15T12:52:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21254#event-72206"
}
```



---

archive/issue_comments_385141.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-02-17T22:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385141",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_385142.json:
```json
{
    "body": "<a id='comment:75'></a>\nOn 32-bit:\n\n```\nsage -t --long src/sage/algebras/cluster_algebra.py\n1069**********************************************************************\n1070File \"src/sage/algebras/cluster_algebra.py\", line 712, in sage.algebras.cluster_algebra.ClusterAlgebraSeed.__hash__\n1071Failed example:\n1072    hash(S)\n1073Expected:\n1074    6108559638409052534\n1075Got:\n1076    1755906422\n1077**********************************************************************\n10781 item had failures:\n1079   1 of   4 in sage.algebras.cluster_algebra.ClusterAlgebraSeed.__hash__\n1080    [402 tests, 1 failure, 11.03 s]\n108\n```",
    "created_at": "2017-02-17T22:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385142",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:75'></a>
On 32-bit:

```
sage -t --long src/sage/algebras/cluster_algebra.py
1069**********************************************************************
1070File "src/sage/algebras/cluster_algebra.py", line 712, in sage.algebras.cluster_algebra.ClusterAlgebraSeed.__hash__
1071Failed example:
1072    hash(S)
1073Expected:
1074    6108559638409052534
1075Got:
1076    1755906422
1077**********************************************************************
10781 item had failures:
1079   1 of   4 in sage.algebras.cluster_algebra.ClusterAlgebraSeed.__hash__
1080    [402 tests, 1 failure, 11.03 s]
108
```



---

archive/issue_comments_385143.json:
```json
{
    "body": "<a id='comment:76'></a>\nOn 64-bit it works. Which is the correct way to doctest hash functions\nindependently of the architecture?",
    "created_at": "2017-02-17T23:00:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385143",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:76'></a>
On 64-bit it works. Which is the correct way to doctest hash functions
independently of the architecture?



---

archive/issue_comments_385144.json:
```json
{
    "body": "<a id='comment:77'></a>\nCopy and paste Volker's output with `# 32-bit` and `# 64-bit`. Although I prefer the softest that `hash(x) == hash(x)`.",
    "created_at": "2017-02-17T23:05:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385144",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:77'></a>
Copy and paste Volker's output with `# 32-bit` and `# 64-bit`. Although I prefer the softest that `hash(x) == hash(x)`.



---

archive/issue_comments_385145.json:
```json
{
    "body": "Changing commit from \"06000a4f2e9a2a2b2bf6455add97c25dd486a798\" to \"389cdc925fb4ed8b438c2bece4f078cefe248d4a\"",
    "created_at": "2017-02-17T23:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385145",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "06000a4f2e9a2a2b2bf6455add97c25dd486a798" to "389cdc925fb4ed8b438c2bece4f078cefe248d4a"



---

archive/issue_comments_385146.json:
```json
{
    "body": "<a id='comment:78'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[389cdc9](https://github.com/sagemath/sagetrac-mirror/commit/389cdc925fb4ed8b438c2bece4f078cefe248d4a)|`Fixed hash doctest`|",
    "created_at": "2017-02-17T23:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385146",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:78'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[389cdc9](https://github.com/sagemath/sagetrac-mirror/commit/389cdc925fb4ed8b438c2bece4f078cefe248d4a)|`Fixed hash doctest`|



---

archive/issue_comments_385147.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2017-02-17T23:07:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385147",
    "user": "https://github.com/etn40ff"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_385148.json:
```json
{
    "body": "<a id='comment:79'></a>\nDone, thanks. I am setting this back to positive review because I do not have a 32-bit machine to test.",
    "created_at": "2017-02-17T23:07:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385148",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:79'></a>
Done, thanks. I am setting this back to positive review because I do not have a 32-bit machine to test.



---

archive/issue_comments_385149.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-23T12:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385149",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_385150.json:
```json
{
    "body": "Changing branch from \"public/ticket/21254\" to \"389cdc925fb4ed8b438c2bece4f078cefe248d4a\"",
    "created_at": "2017-02-23T12:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21254#issuecomment-385150",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/ticket/21254" to "389cdc925fb4ed8b438c2bece4f078cefe248d4a"



---

archive/issue_events_072207.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-23T12:00:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21254",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21254#event-72207"
}
```
