# Issue 21863: Implement colorings of knots and links

archive/issues_021626.json:
```json
{
    "body": "This ticket implements methods to check n-colorability of knots and links ([1]) and adapts the plot method to allow to plot the link with the corresponding coloring.\n\nIt deppends on the `.arcs()` method, implemented in #21815\n\n[1]: https://en.wikipedia.org/wiki/Fox_n-coloring\n\n\n\nCC:  @kcrisman @amitjamadagni fugelde @tscrim @jdemeyer\n\nKeywords: knot, link\n\nBranch/Commit: bc9412a86b346cabdc7a076f85d37069f17578e0\n\nReviewer: Miguel Marco, Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw\n\nAuthor: Miguel Marco, Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21863\n\n",
    "closed_at": "2019-03-25T19:44:02Z",
    "created_at": "2016-11-11T19:40:29Z",
    "labels": [
        "component: algebraic topology"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "Implement colorings of knots and links",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21863",
    "user": "https://github.com/miguelmarco"
}
```
This ticket implements methods to check n-colorability of knots and links ([1]) and adapts the plot method to allow to plot the link with the corresponding coloring.

It deppends on the `.arcs()` method, implemented in #21815

[1]: https://en.wikipedia.org/wiki/Fox_n-coloring



CC:  @kcrisman @amitjamadagni fugelde @tscrim @jdemeyer

Keywords: knot, link

Branch/Commit: bc9412a86b346cabdc7a076f85d37069f17578e0

Reviewer: Miguel Marco, Frédéric Chapoton, Travis Scrimshaw

Author: Miguel Marco, Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21863





---

archive/issue_events_057744.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-03-15T20:42:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21863#event-57744"
}
```



---

archive/issue_comments_299805.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-03-15T20:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299805",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_299806.json:
```json
{
    "body": "<a id='comment:3'></a>rebased and refreshed, this seems to be good to go\n\n---\nNew commits:",
    "created_at": "2019-03-15T20:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299806",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>rebased and refreshed, this seems to be good to go

---
New commits:



---

archive/issue_comments_299807.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-16T07:00:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299807",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299808.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-16T08:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299808",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299809.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-16T12:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299809",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299810.json:
```json
{
    "body": "<a id='comment:7'></a>Thanks for the revival. If all test pass, would you agree on a positive review?",
    "created_at": "2019-03-16T12:17:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299810",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:7'></a>Thanks for the revival. If all test pass, would you agree on a positive review?



---

archive/issue_comments_299811.json:
```json
{
    "body": "<a id='comment:8'></a>Well, almost.\n\n- I am not fully happy with the test for type \"str\" to check if the color is a color or a coloring. Maybe we should rather check for type \"dict\" to recognize colorings ?\n\n- I would still like to add a reference to [Livi1993] (which gives a nice presentation of knots colorings)",
    "created_at": "2019-03-16T12:51:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299811",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>Well, almost.

- I am not fully happy with the test for type "str" to check if the color is a color or a coloring. Maybe we should rather check for type "dict" to recognize colorings ?

- I would still like to add a reference to [Livi1993] (which gives a nice presentation of knots colorings)



---

archive/issue_comments_299812.json:
```json
{
    "body": "<a id='comment:9'></a>Fine. I will try to work on it during the weekend.",
    "created_at": "2019-03-16T13:07:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299812",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:9'></a>Fine. I will try to work on it during the weekend.



---

archive/issue_comments_299813.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-16T17:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299813",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299814.json:
```json
{
    "body": "<a id='comment:11'></a>I have made the changes that I wanted to do. I will now launch my bot. If it comes back green, it will be ready for your approval.",
    "created_at": "2019-03-16T17:18:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299814",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>I have made the changes that I wanted to do. I will now launch my bot. If it comes back green, it will be ready for your approval.



---

archive/issue_comments_299815.json:
```json
{
    "body": "<a id='comment:12'></a>Bot is green. I am ok with the code. If you too, please set to positive.",
    "created_at": "2019-03-16T21:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299815",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>Bot is green. I am ok with the code. If you too, please set to positive.



---

archive/issue_comments_299816.json:
```json
{
    "body": "<a id='comment:13'></a>Now that I look at it, I am not completely sure that the result of `is_colorable` is mathematically correct in general: it relies on `coloring_matrix`, which takes the next prime of the passed number. So in the case of prime numbers, that is correct, but for non-prime, we are actually saying if it is p-colorable for the next prime p.\n\nMaybe it is ok if we just calrify this in the documentation? Or should we write more complete code to check that there actually exist solutions over the integers mod n for non prime n?",
    "created_at": "2019-03-16T21:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299816",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:13'></a>Now that I look at it, I am not completely sure that the result of `is_colorable` is mathematically correct in general: it relies on `coloring_matrix`, which takes the next prime of the passed number. So in the case of prime numbers, that is correct, but for non-prime, we are actually saying if it is p-colorable for the next prime p.

Maybe it is ok if we just calrify this in the documentation? Or should we write more complete code to check that there actually exist solutions over the integers mod n for non prime n?



---

archive/issue_comments_299817.json:
```json
{
    "body": "<a id='comment:14'></a>I also have one doc nitpick: `n` should be in code formatting.",
    "created_at": "2019-03-16T23:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299817",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>I also have one doc nitpick: `n` should be in code formatting.



---

archive/issue_comments_299818.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-17T07:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299818",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299819.json:
```json
{
    "body": "<a id='comment:16'></a>ok, done",
    "created_at": "2019-03-17T07:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299819",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>ok, done



---

archive/issue_comments_299820.json:
```json
{
    "body": "<a id='comment:17'></a>I am happy with things as the added documentation does clarify what Sage does, but I want to wait to see if Miguel has any additional comments.",
    "created_at": "2019-03-18T09:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299820",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'></a>I am happy with things as the added documentation does clarify what Sage does, but I want to wait to see if Miguel has any additional comments.



---

archive/issue_comments_299821.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-03-18T14:42:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299821",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299822.json:
```json
{
    "body": "<a id='comment:19'></a>I added a check for next prime also in `colorings`, so it is now totally clear that we only cover the case of prime number of colors. Maybe we should support also non prime number of colors, but that requires slightly more sophisticated algorithms, so it should be better done in another ticket.\n\nIf you are ok with these last changes, positive review.",
    "created_at": "2019-03-18T14:45:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299822",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:19'></a>I added a check for next prime also in `colorings`, so it is now totally clear that we only cover the case of prime number of colors. Maybe we should support also non prime number of colors, but that requires slightly more sophisticated algorithms, so it should be better done in another ticket.

If you are ok with these last changes, positive review.



---

archive/issue_comments_299823.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-03-18T17:59:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299823",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_299824.json:
```json
{
    "body": "<a id='comment:20'></a>ok, good to go.",
    "created_at": "2019-03-18T17:59:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299824",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'></a>ok, good to go.



---

archive/issue_comments_299825.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-03-25T19:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21863#issuecomment-299825",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_057745.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-25T19:44:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21863",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21863#event-57745"
}
```
