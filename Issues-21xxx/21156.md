# Issue 21156: AbstractLinearCode.dimension() is wrong if `_dimension` is not set

archive/issues_020919.json:
```json
{
    "body": "The current implementation of `AbstractLinearCode.dimension()` simply accesses `self._dimension`. But there is no (longer a) requirement that this be set at construction time. The method should instead check if the special variable is set, and if it is not, compute the dimension as the number of rows in a generator matrix.\n\n\n**CC:**  dlucas\n\n**Keywords:** linear code, rd3\n\n**Branch/Commit:** [b72b7054c90c6601202940a9c882dcd7ae4a2de3](https://github.com/sagemath/sagetrac-mirror/commit/b72b7054c90c6601202940a9c882dcd7ae4a2de3)\n\n**Reviewer:** Johan Rosenkilde\n\n**Author:** Bruno Grenet\n\nIssue created by migration from https://trac.sagemath.org/ticket/21156\n\n",
    "closed_at": "2017-02-11T10:24:05Z",
    "created_at": "2016-08-03T12:50:31Z",
    "labels": [
        "component: coding theory",
        "bug",
        "good first issue"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "AbstractLinearCode.dimension() is wrong if `_dimension` is not set",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21156",
    "user": "https://github.com/johanrosenkilde"
}
```
The current implementation of `AbstractLinearCode.dimension()` simply accesses `self._dimension`. But there is no (longer a) requirement that this be set at construction time. The method should instead check if the special variable is set, and if it is not, compute the dimension as the number of rows in a generator matrix.


**CC:**  dlucas

**Keywords:** linear code, rd3

**Branch/Commit:** [b72b7054c90c6601202940a9c882dcd7ae4a2de3](https://github.com/sagemath/sagetrac-mirror/commit/b72b7054c90c6601202940a9c882dcd7ae4a2de3)

**Reviewer:** Johan Rosenkilde

**Author:** Bruno Grenet

Issue created by migration from https://trac.sagemath.org/ticket/21156





---

archive/issue_comments_371196.json:
```json
{
    "body": "<a id='comment:1'></a>\nI implemented a fix.",
    "created_at": "2017-02-07T16:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371196",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:1'></a>
I implemented a fix.



---

archive/issue_comments_371197.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a8613e31fae75eee2364c851b2e112563d6388b\">4a8613e</a></td><td><code>21156: Compute dimension if not already known</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c994a64bc02c20a769b06c17f462ec6ed980699\">8c994a6</a></td><td><code>21156: Add tests (+ minor typo)</code></td></tr></table>\n",
    "created_at": "2017-02-07T16:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371197",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a8613e31fae75eee2364c851b2e112563d6388b">4a8613e</a></td><td><code>21156: Compute dimension if not already known</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c994a64bc02c20a769b06c17f462ec6ed980699">8c994a6</a></td><td><code>21156: Add tests (+ minor typo)</code></td></tr></table>




---

archive/issue_comments_371198.json:
```json
{
    "body": "**Branch:** [u/bruno/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set](https://github.com/sagemath/sagetrac-mirror/tree/u/bruno/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set)",
    "created_at": "2017-02-07T16:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371198",
    "user": "https://github.com/bgrenet"
}
```

**Branch:** [u/bruno/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set](https://github.com/sagemath/sagetrac-mirror/tree/u/bruno/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set)



---

archive/issue_comments_371199.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2017-02-07T16:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371199",
    "user": "https://github.com/bgrenet"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_371200.json:
```json
{
    "body": "**Commit:** [8c994a64bc02c20a769b06c17f462ec6ed980699](https://github.com/sagemath/sagetrac-mirror/commit/8c994a64bc02c20a769b06c17f462ec6ed980699)",
    "created_at": "2017-02-07T16:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371200",
    "user": "https://github.com/bgrenet"
}
```

**Commit:** [8c994a64bc02c20a769b06c17f462ec6ed980699](https://github.com/sagemath/sagetrac-mirror/commit/8c994a64bc02c20a769b06c17f462ec6ed980699)



---

archive/issue_comments_371201.json:
```json
{
    "body": "**Changing commit** from \"[8c994a64bc02c20a769b06c17f462ec6ed980699](https://github.com/sagemath/sagetrac-mirror/commit/8c994a64bc02c20a769b06c17f462ec6ed980699)\" to \"[fb83a2527af7bd9540017fd9bb7437210dc08d2d](https://github.com/sagemath/sagetrac-mirror/commit/fb83a2527af7bd9540017fd9bb7437210dc08d2d)\".",
    "created_at": "2017-02-07T16:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371201",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8c994a64bc02c20a769b06c17f462ec6ed980699](https://github.com/sagemath/sagetrac-mirror/commit/8c994a64bc02c20a769b06c17f462ec6ed980699)" to "[fb83a2527af7bd9540017fd9bb7437210dc08d2d](https://github.com/sagemath/sagetrac-mirror/commit/fb83a2527af7bd9540017fd9bb7437210dc08d2d)".



---

archive/issue_comments_371202.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb83a2527af7bd9540017fd9bb7437210dc08d2d\">fb83a25</a></td><td><code>21156: Better doctest</code></td></tr></table>\n",
    "created_at": "2017-02-07T16:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371202",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb83a2527af7bd9540017fd9bb7437210dc08d2d">fb83a25</a></td><td><code>21156: Better doctest</code></td></tr></table>




---

archive/issue_comments_371203.json:
```json
{
    "body": "**Changing branch** from \"[u/bruno/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set](https://github.com/sagemath/sagetrac-mirror/tree/u/bruno/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set)\" to \"[u/jsrn/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set)\".",
    "created_at": "2017-02-07T16:59:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371203",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing branch** from "[u/bruno/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set](https://github.com/sagemath/sagetrac-mirror/tree/u/bruno/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set)" to "[u/jsrn/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set)".



---

archive/issue_comments_371204.json:
```json
{
    "body": "**Changing commit** from \"[fb83a2527af7bd9540017fd9bb7437210dc08d2d](https://github.com/sagemath/sagetrac-mirror/commit/fb83a2527af7bd9540017fd9bb7437210dc08d2d)\" to \"[b72b7054c90c6601202940a9c882dcd7ae4a2de3](https://github.com/sagemath/sagetrac-mirror/commit/b72b7054c90c6601202940a9c882dcd7ae4a2de3)\".",
    "created_at": "2017-02-07T17:01:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371204",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing commit** from "[fb83a2527af7bd9540017fd9bb7437210dc08d2d](https://github.com/sagemath/sagetrac-mirror/commit/fb83a2527af7bd9540017fd9bb7437210dc08d2d)" to "[b72b7054c90c6601202940a9c882dcd7ae4a2de3](https://github.com/sagemath/sagetrac-mirror/commit/b72b7054c90c6601202940a9c882dcd7ae4a2de3)".



---

archive/issue_comments_371205.json:
```json
{
    "body": "<a id='comment:5'></a>\nAdded a note about the `_registered_encoder` that bruno ran into when writing the doc test.\n\nOtherwise good, setting positive review.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b72b7054c90c6601202940a9c882dcd7ae4a2de3\">b72b705</a></td><td><code>Added note on class-level registration dictionaries to the doc.</code></td></tr></table>\n",
    "created_at": "2017-02-07T17:01:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371205",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:5'></a>
Added a note about the `_registered_encoder` that bruno ran into when writing the doc test.

Otherwise good, setting positive review.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b72b7054c90c6601202940a9c882dcd7ae4a2de3">b72b705</a></td><td><code>Added note on class-level registration dictionaries to the doc.</code></td></tr></table>




---

archive/issue_comments_371206.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-02-07T17:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371206",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_371207.json:
```json
{
    "body": "**Reviewer:** Johan Rosenkilde",
    "created_at": "2017-02-07T17:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371207",
    "user": "https://github.com/johanrosenkilde"
}
```

**Reviewer:** Johan Rosenkilde



---

archive/issue_comments_371208.json:
```json
{
    "body": "**Author:** Bruno Grenet",
    "created_at": "2017-02-07T17:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371208",
    "user": "https://github.com/johanrosenkilde"
}
```

**Author:** Bruno Grenet



---

archive/issue_comments_371209.json:
```json
{
    "body": "**Changing keywords** from \"linear code\" to \"linear code, rd3\".",
    "created_at": "2017-02-07T17:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371209",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing keywords** from "linear code" to "linear code, rd3".



---

archive/issue_events_063801.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2017-02-07T17:01:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21156#event-63801"
}
```



---

archive/issue_events_063802.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-11T10:24:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21156#event-63802"
}
```



---

archive/issue_comments_371210.json:
```json
{
    "body": "**Changing branch** from \"[u/jsrn/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set)\" to \"[b72b7054c90c6601202940a9c882dcd7ae4a2de3](https://github.com/sagemath/sagetrac-mirror/commit/b72b7054c90c6601202940a9c882dcd7ae4a2de3)\".",
    "created_at": "2017-02-11T10:24:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-371210",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jsrn/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set)" to "[b72b7054c90c6601202940a9c882dcd7ae4a2de3](https://github.com/sagemath/sagetrac-mirror/commit/b72b7054c90c6601202940a9c882dcd7ae4a2de3)".
