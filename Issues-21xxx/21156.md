# Issue 21156: AbstractLinearCode.dimension() is wrong if `_dimension` is not set

archive/issues_020919.json:
```json
{
    "body": "The current implementation of `AbstractLinearCode.dimension()` simply accesses `self._dimension`. But there is no (longer a) requirement that this be set at construction time. The method should instead check if the special variable is set, and if it is not, compute the dimension as the number of rows in a generator matrix.\n\n\nCC:  dlucas\n\nKeywords: linear code, beginner, rd3\n\nBranch/Commit: b72b7054c90c6601202940a9c882dcd7ae4a2de3\n\nReviewer: Johan Rosenkilde\n\nAuthor: Bruno Grenet\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21156\n\n",
    "closed_at": "2017-02-11T10:24:05Z",
    "created_at": "2016-08-03T12:50:31Z",
    "labels": [
        "component: coding theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "AbstractLinearCode.dimension() is wrong if `_dimension` is not set",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21156",
    "user": "https://github.com/johanrosenkilde"
}
```
The current implementation of `AbstractLinearCode.dimension()` simply accesses `self._dimension`. But there is no (longer a) requirement that this be set at construction time. The method should instead check if the special variable is set, and if it is not, compute the dimension as the number of rows in a generator matrix.


CC:  dlucas

Keywords: linear code, beginner, rd3

Branch/Commit: b72b7054c90c6601202940a9c882dcd7ae4a2de3

Reviewer: Johan Rosenkilde

Author: Bruno Grenet

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21156





---

archive/issue_comments_382328.json:
```json
{
    "body": "<a id='comment:1'></a>\nI implemented a fix.",
    "created_at": "2017-02-07T16:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382328",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:1'></a>
I implemented a fix.



---

archive/issue_comments_382329.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[4a8613e](https://github.com/sagemath/sagetrac-mirror/commit/4a8613e31fae75eee2364c851b2e112563d6388b)|`21156: Compute dimension if not already known`|\n|[8c994a6](https://github.com/sagemath/sagetrac-mirror/commit/8c994a64bc02c20a769b06c17f462ec6ed980699)|`21156: Add tests (+ minor typo)`|",
    "created_at": "2017-02-07T16:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382329",
    "user": "https://github.com/bgrenet"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[4a8613e](https://github.com/sagemath/sagetrac-mirror/commit/4a8613e31fae75eee2364c851b2e112563d6388b)|`21156: Compute dimension if not already known`|
|[8c994a6](https://github.com/sagemath/sagetrac-mirror/commit/8c994a64bc02c20a769b06c17f462ec6ed980699)|`21156: Add tests (+ minor typo)`|



---

archive/issue_comments_382330.json:
```json
{
    "body": "Changing branch from \"\" to \"u/bruno/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set\"",
    "created_at": "2017-02-07T16:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382330",
    "user": "https://github.com/bgrenet"
}
```

Changing branch from "" to "u/bruno/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set"



---

archive/issue_comments_382331.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-02-07T16:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382331",
    "user": "https://github.com/bgrenet"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_382332.json:
```json
{
    "body": "Changing commit from \"\" to \"8c994a64bc02c20a769b06c17f462ec6ed980699\"",
    "created_at": "2017-02-07T16:39:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382332",
    "user": "https://github.com/bgrenet"
}
```

Changing commit from "" to "8c994a64bc02c20a769b06c17f462ec6ed980699"



---

archive/issue_comments_382333.json:
```json
{
    "body": "Changing commit from \"8c994a64bc02c20a769b06c17f462ec6ed980699\" to \"fb83a2527af7bd9540017fd9bb7437210dc08d2d\"",
    "created_at": "2017-02-07T16:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382333",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8c994a64bc02c20a769b06c17f462ec6ed980699" to "fb83a2527af7bd9540017fd9bb7437210dc08d2d"



---

archive/issue_comments_382334.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[fb83a25](https://github.com/sagemath/sagetrac-mirror/commit/fb83a2527af7bd9540017fd9bb7437210dc08d2d)|`21156: Better doctest`|",
    "created_at": "2017-02-07T16:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382334",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[fb83a25](https://github.com/sagemath/sagetrac-mirror/commit/fb83a2527af7bd9540017fd9bb7437210dc08d2d)|`21156: Better doctest`|



---

archive/issue_comments_382335.json:
```json
{
    "body": "Changing branch from \"u/bruno/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set\" to \"u/jsrn/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set\"",
    "created_at": "2017-02-07T16:59:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382335",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing branch from "u/bruno/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set" to "u/jsrn/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set"



---

archive/issue_comments_382336.json:
```json
{
    "body": "Changing commit from \"fb83a2527af7bd9540017fd9bb7437210dc08d2d\" to \"b72b7054c90c6601202940a9c882dcd7ae4a2de3\"",
    "created_at": "2017-02-07T17:01:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382336",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing commit from "fb83a2527af7bd9540017fd9bb7437210dc08d2d" to "b72b7054c90c6601202940a9c882dcd7ae4a2de3"



---

archive/issue_comments_382337.json:
```json
{
    "body": "<a id='comment:5'></a>\nAdded a note about the `_registered_encoder` that bruno ran into when writing the doc test.\n\nOtherwise good, setting positive review.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|\n|[b72b705](https://github.com/sagemath/sagetrac-mirror/commit/b72b7054c90c6601202940a9c882dcd7ae4a2de3)|`Added note on class-level registration dictionaries to the doc.`|",
    "created_at": "2017-02-07T17:01:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382337",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:5'></a>
Added a note about the `_registered_encoder` that bruno ran into when writing the doc test.

Otherwise good, setting positive review.

---
New commits:
|                                                                                                                                          |                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
|[b72b705](https://github.com/sagemath/sagetrac-mirror/commit/b72b7054c90c6601202940a9c882dcd7ae4a2de3)|`Added note on class-level registration dictionaries to the doc.`|



---

archive/issue_comments_382338.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-02-07T17:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382338",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_382339.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Johan Rosenkilde\"",
    "created_at": "2017-02-07T17:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382339",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing reviewer from "" to "Johan Rosenkilde"



---

archive/issue_comments_382340.json:
```json
{
    "body": "Changing author from \"\" to \"Bruno Grenet\"",
    "created_at": "2017-02-07T17:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382340",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing author from "" to "Bruno Grenet"



---

archive/issue_comments_382341.json:
```json
{
    "body": "Changing keywords from \"linear code, beginner\" to \"linear code, beginner, rd3\".",
    "created_at": "2017-02-07T17:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382341",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing keywords from "linear code, beginner" to "linear code, beginner, rd3".



---

archive/issue_events_071989.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2017-02-07T17:01:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21156#event-71989"
}
```



---

archive/issue_events_071990.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-11T10:24:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21156#event-71990"
}
```



---

archive/issue_comments_382342.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-11T10:24:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382342",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_382343.json:
```json
{
    "body": "Changing branch from \"u/jsrn/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set\" to \"b72b7054c90c6601202940a9c882dcd7ae4a2de3\"",
    "created_at": "2017-02-11T10:24:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21156",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21156#issuecomment-382343",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jsrn/abstractlinearcode_dimension___is_wrong_if___dimension__is_not_set" to "b72b7054c90c6601202940a9c882dcd7ae4a2de3"
