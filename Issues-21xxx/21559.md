# Issue 21559: Install src/bin scripts by sagelib's setup.py, not make

archive/issues_021322.json:
```json
{
    "body": "This ticket cleans up how the contents of `src/bin` are installed. One of its goals is to make the `sagelib` installation done by `src/setup.py` self-contained regarding the scripts that it needs at runtime.\n\nPrevious tickets moved some of the scripts to `build/bin` (no longer installed in `SAGE_LOCAL`). \n\nIn follow-up tickets, `src/bin` could be cleaned up more. \n- See the list of files added on this ticket to `src/setup.py` for beginnings of a categorization.\n- #29850: Install `src/bin/sage-env-config` as part of `sage_conf`\n- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\"\n\n\nCC:  @jdemeyer @vbraun @embray @isuruf @jhpalmieri @kiwifb @kcrisman @orlitzky @antonio-rojas @dimpase\n\nBranch/Commit: 19d7f677eab07dc41e3f1e71b9a37f3b58560c39\n\nReviewer: John Palmieri, Fran\u00e7ois Bissey\n\nAuthor: Matthias Koeppe\n\nDependencies: #29111\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21559\n\n",
    "closed_at": "2020-07-10T19:34:13Z",
    "created_at": "2016-09-22T04:53:48Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Install src/bin scripts by sagelib's setup.py, not make",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21559",
    "user": "https://github.com/mkoeppe"
}
```
This ticket cleans up how the contents of `src/bin` are installed. One of its goals is to make the `sagelib` installation done by `src/setup.py` self-contained regarding the scripts that it needs at runtime.

Previous tickets moved some of the scripts to `build/bin` (no longer installed in `SAGE_LOCAL`). 

In follow-up tickets, `src/bin` could be cleaned up more. 
- See the list of files added on this ticket to `src/setup.py` for beginnings of a categorization.
- #29850: Install `src/bin/sage-env-config` as part of `sage_conf`
- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts"


CC:  @jdemeyer @vbraun @embray @isuruf @jhpalmieri @kiwifb @kcrisman @orlitzky @antonio-rojas @dimpase

Branch/Commit: 19d7f677eab07dc41e3f1e71b9a37f3b58560c39

Reviewer: John Palmieri, Fran√ßois Bissey

Author: Matthias Koeppe

Dependencies: #29111

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21559





---

archive/issue_comments_397375.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n This list includes probably:\n - `sage-download-upstream`\n - `sage-fix-pkg-checksums`\n+- `testcc.sh` etc. (which are used by some spkg without a proper build system)\n and perhaps more.\n \n``````\n",
    "created_at": "2016-09-27T21:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397375",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 This list includes probably:
 - `sage-download-upstream`
 - `sage-fix-pkg-checksums`
+- `testcc.sh` etc. (which are used by some spkg without a proper build system)
 and perhaps more.
 
``````




---

archive/issue_comments_397376.json:
```json
{
    "body": "<a id='comment:2'></a>+1\n\nAlso `sage-pip-install` of #21441, but I might wait until that ticket is merged first, then move that script along with the others.",
    "created_at": "2016-09-28T06:23:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397376",
    "user": "https://github.com/embray"
}
```

<a id='comment:2'></a>+1

Also `sage-pip-install` of #21441, but I might wait until that ticket is merged first, then move that script along with the others.



---

archive/issue_comments_397377.json:
```json
{
    "body": "<a id='comment:3'></a>Replying to [comment:2 embray]:\n> +1\n> \n> Also `sage-pip-install` of #21441\n\n\nI already moved that in #21441 (which still needs review by the way).",
    "created_at": "2016-09-29T14:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397377",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>Replying to [comment:2 embray]:
> +1
> 
> Also `sage-pip-install` of #21441


I already moved that in #21441 (which still needs review by the way).



---

archive/issue_comments_397378.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,4 @@\n - `testcc.sh` etc. (which are used by some spkg without a proper build system)\n and perhaps more.\n \n+See also #21707: Split sage-env into sage-build-env and sage-env\n``````\n",
    "created_at": "2016-10-15T06:09:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397378",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,4 @@
 - `testcc.sh` etc. (which are used by some spkg without a proper build system)
 and perhaps more.
 
+See also #21707: Split sage-env into sage-build-env and sage-env
``````




---

archive/issue_events_057194.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-06-02T04:21:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57194"
}
```



---

archive/issue_comments_397379.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,8 @@\n - `sage-download-upstream`\n - `sage-fix-pkg-checksums`\n - `testcc.sh` etc. (which are used by some spkg without a proper build system)\n+- #25130: `sage-dist-helpers`\n+\n and perhaps more.\n \n See also #21707: Split sage-env into sage-build-env and sage-env\n``````\n",
    "created_at": "2018-06-02T04:21:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397379",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,8 @@
 - `sage-download-upstream`
 - `sage-fix-pkg-checksums`
 - `testcc.sh` etc. (which are used by some spkg without a proper build system)
+- #25130: `sage-dist-helpers`
+
 and perhaps more.
 
 See also #21707: Split sage-env into sage-build-env and sage-env
``````




---

archive/issue_comments_397380.json:
```json
{
    "body": "<a id='comment:6'></a>update milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397380",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>update milestone 8.3 -> 8.4



---

archive/issue_events_057195.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57195"
}
```



---

archive/issue_events_057196.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57196"
}
```



---

archive/issue_comments_397381.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,7 @@\n - `sage-fix-pkg-checksums`\n - `testcc.sh` etc. (which are used by some spkg without a proper build system)\n - #25130: `sage-dist-helpers`\n+- #23769: `src/bin/sage-starts` should be moved to `build/bin` or merged into `build/make/deps`\n \n and perhaps more.\n \n``````\n",
    "created_at": "2019-05-20T00:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397381",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,7 @@
 - `sage-fix-pkg-checksums`
 - `testcc.sh` etc. (which are used by some spkg without a proper build system)
 - #25130: `sage-dist-helpers`
+- #23769: `src/bin/sage-starts` should be moved to `build/bin` or merged into `build/make/deps`
 
 and perhaps more.
 
``````




---

archive/issue_events_057197.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-20T00:41:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57197"
}
```



---

archive/issue_events_057198.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-20T00:41:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57198"
}
```



---

archive/issue_events_057199.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:54:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57199"
}
```



---

archive/issue_comments_397382.json:
```json
{
    "body": "<a id='comment:8'></a>As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397382",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_comments_397383.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,4 +7,72 @@\n \n and perhaps more.\n \n+Full list of `src/bin` as of 9.1.beta4:\n+\n+```\n+math-readline\n+sage\n+sage-README-osx.txt\n+sage-cachegrind\n+sage-callgrind\n+sage-cleaner\n+sage-clone-source\n+sage-coverage\n+sage-coverageall\n+sage-cython\n+sage-download-upstream\n+sage-env\n+sage-env-config\n+sage-env-config.in\n+sage-eval\n+sage-fix-pkg-checksums\n+sage-fixdoctests\n+sage-gdb-commands\n+sage-grep\n+sage-grepdoc\n+sage-inline-fortran\n+sage-ipynb2rst\n+sage-ipython\n+sage-list-experimental\n+sage-list-optional\n+sage-list-packages\n+sage-list-standard\n+sage-location\n+sage-massif\n+sage-maxima.lisp\n+sage-native-execute\n+sage-notebook\n+sage-num-threads.py\n+sage-omega\n+sage-open\n+sage-pkg\n+sage-preparse\n+sage-pypkg-location\n+sage-python\n+sage-rebase.bat\n+sage-rebase.sh\n+sage-rebaseall.bat\n+sage-rebaseall.sh\n+sage-rst2sws\n+sage-rst2txt\n+sage-rsyncdist\n+sage-run\n+sage-run-cython\n+sage-runtests\n+sage-sdist\n+sage-starts\n+sage-startuptime.py\n+sage-sws2rst\n+sage-unzip\n+sage-update-src\n+sage-update-version\n+sage-upgrade\n+sage-valgrind\n+sage-version.sh\n+testcc.sh\n+testcflags.sh\n+testcxx.sh\n+```\n+\n+\n See also #21707: Split sage-env into sage-build-env and sage-env\n``````\n",
    "created_at": "2020-02-21T19:14:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397383",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,4 +7,72 @@
 
 and perhaps more.
 
+Full list of `src/bin` as of 9.1.beta4:
+
+```
+math-readline
+sage
+sage-README-osx.txt
+sage-cachegrind
+sage-callgrind
+sage-cleaner
+sage-clone-source
+sage-coverage
+sage-coverageall
+sage-cython
+sage-download-upstream
+sage-env
+sage-env-config
+sage-env-config.in
+sage-eval
+sage-fix-pkg-checksums
+sage-fixdoctests
+sage-gdb-commands
+sage-grep
+sage-grepdoc
+sage-inline-fortran
+sage-ipynb2rst
+sage-ipython
+sage-list-experimental
+sage-list-optional
+sage-list-packages
+sage-list-standard
+sage-location
+sage-massif
+sage-maxima.lisp
+sage-native-execute
+sage-notebook
+sage-num-threads.py
+sage-omega
+sage-open
+sage-pkg
+sage-preparse
+sage-pypkg-location
+sage-python
+sage-rebase.bat
+sage-rebase.sh
+sage-rebaseall.bat
+sage-rebaseall.sh
+sage-rst2sws
+sage-rst2txt
+sage-rsyncdist
+sage-run
+sage-run-cython
+sage-runtests
+sage-sdist
+sage-starts
+sage-startuptime.py
+sage-sws2rst
+sage-unzip
+sage-update-src
+sage-update-version
+sage-upgrade
+sage-valgrind
+sage-version.sh
+testcc.sh
+testcflags.sh
+testcxx.sh
+```
+
+
 See also #21707: Split sage-env into sage-build-env and sage-env
``````




---

archive/issue_events_057200.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-02-21T19:14:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57200"
}
```



---

archive/issue_comments_397384.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,12 +9,37 @@\n \n Full list of `src/bin` as of 9.1.beta4:\n \n+Move to `build/bin` (no longer installed in SAGE_LOCAL):\n+\n+```\n+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src\n+testcc.sh\n+testcflags.sh\n+testcxx.sh\n+```\n+\n+To stay in `src/bin`, install by `src/setup.py` (#21569):\n+\n+```\n+sage\n+# Helper scripts invoked by sage script\n+sage-cachegrind\n+sage-callgrind\n+sage-valgrind\n+\n+```\n+\n+Not an executable script, move elsewhere:\n+\n+```\n+sage-README-osx.txt      # ???\n+\n+```\n+\n+To be determined:\n+\n ```\n math-readline\n-sage\n-sage-README-osx.txt\n-sage-cachegrind\n-sage-callgrind\n sage-cleaner\n sage-clone-source\n sage-coverage\n@@ -67,11 +92,7 @@\n sage-update-src\n sage-update-version\n sage-upgrade\n-sage-valgrind\n sage-version.sh\n-testcc.sh\n-testcflags.sh\n-testcxx.sh\n ```\n \n \n``````\n",
    "created_at": "2020-02-21T19:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397384",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,12 +9,37 @@
 
 Full list of `src/bin` as of 9.1.beta4:
 
+Move to `build/bin` (no longer installed in SAGE_LOCAL):
+
+```
+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src
+testcc.sh
+testcflags.sh
+testcxx.sh
+```
+
+To stay in `src/bin`, install by `src/setup.py` (#21569):
+
+```
+sage
+# Helper scripts invoked by sage script
+sage-cachegrind
+sage-callgrind
+sage-valgrind
+
+```
+
+Not an executable script, move elsewhere:
+
+```
+sage-README-osx.txt      # ???
+
+```
+
+To be determined:
+
 ```
 math-readline
-sage
-sage-README-osx.txt
-sage-cachegrind
-sage-callgrind
 sage-cleaner
 sage-clone-source
 sage-coverage
@@ -67,11 +92,7 @@
 sage-update-src
 sage-update-version
 sage-upgrade
-sage-valgrind
 sage-version.sh
-testcc.sh
-testcflags.sh
-testcxx.sh
 ```
 
 
``````




---

archive/issue_comments_397385.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -29,10 +29,16 @@\n \n ```\n \n-Not an executable script, move elsewhere:\n+Obsolete, delete:\n \n ```\n-sage-README-osx.txt      # ???\n+sage-README-osx.txt      # see #25995, #21570\n+\n+```\n+\n+Not an executable script, move elsewhere (#21570):\n+\n+```\n \n ```\n \n``````\n",
    "created_at": "2020-02-22T22:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397385",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -29,10 +29,16 @@
 
 ```
 
-Not an executable script, move elsewhere:
+Obsolete, delete:
 
 ```
-sage-README-osx.txt      # ???
+sage-README-osx.txt      # see #25995, #21570
+
+```
+
+Not an executable script, move elsewhere (#21570):
+
+```
 
 ```
 
``````




---

archive/issue_comments_397386.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/change-src-bin-installation\"",
    "created_at": "2020-03-02T23:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397386",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/change-src-bin-installation"



---

archive/issue_comments_397387.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,13 +1,4 @@\n-This list includes probably:\n-- `sage-download-upstream`\n-- `sage-fix-pkg-checksums`\n-- `testcc.sh` etc. (which are used by some spkg without a proper build system)\n-- #25130: `sage-dist-helpers`\n-- #23769: `src/bin/sage-starts` should be moved to `build/bin` or merged into `build/make/deps`\n-\n-and perhaps more.\n-\n-Full list of `src/bin` as of 9.1.beta4:\n+This ticket cleans up `src/bin` and how its contents are installed.\n \n Move to `build/bin` (no longer installed in SAGE_LOCAL):\n \n@@ -18,7 +9,13 @@\n testcxx.sh\n ```\n \n-To stay in `src/bin`, install by `src/setup.py` (#21569):\n+Obsolete, delete:\n+\n+```\n+sage-README-osx.txt      # see #25995, #21570\n+```\n+\n+To stay in `src/bin`, install by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569):\n \n ```\n sage\n@@ -26,15 +23,9 @@\n sage-cachegrind\n sage-callgrind\n sage-valgrind\n-\n+...\n ```\n \n-Obsolete, delete:\n-\n-```\n-sage-README-osx.txt      # see #25995, #21570\n-\n-```\n \n Not an executable script, move elsewhere (#21570):\n \n@@ -42,7 +33,7 @@\n \n ```\n \n-To be determined:\n+To be determined (see list added to `src/setup.py`):\n \n ```\n math-readline\n@@ -51,12 +42,12 @@\n sage-coverage\n sage-coverageall\n sage-cython\n-sage-download-upstream\n+sage-download-upstream                 # -> build?\n sage-env\n sage-env-config\n sage-env-config.in\n sage-eval\n-sage-fix-pkg-checksums\n+sage-fix-pkg-checksums               # -> build?\n sage-fixdoctests\n sage-gdb-commands\n sage-grep\n@@ -91,7 +82,7 @@\n sage-run-cython\n sage-runtests\n sage-sdist\n-sage-starts\n+sage-starts                    #23769: `src/bin/sage-starts` should be moved to `build/bin` or merged into `build/make/deps`\n sage-startuptime.py\n sage-sws2rst\n sage-unzip\n@@ -101,5 +92,6 @@\n sage-version.sh\n ```\n \n+(Based on the full list of `src/bin` as of 9.1.beta4.)\n \n See also #21707: Split sage-env into sage-build-env and sage-env\n``````\n",
    "created_at": "2020-03-03T00:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397387",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,13 +1,4 @@
-This list includes probably:
-- `sage-download-upstream`
-- `sage-fix-pkg-checksums`
-- `testcc.sh` etc. (which are used by some spkg without a proper build system)
-- #25130: `sage-dist-helpers`
-- #23769: `src/bin/sage-starts` should be moved to `build/bin` or merged into `build/make/deps`
-
-and perhaps more.
-
-Full list of `src/bin` as of 9.1.beta4:
+This ticket cleans up `src/bin` and how its contents are installed.
 
 Move to `build/bin` (no longer installed in SAGE_LOCAL):
 
@@ -18,7 +9,13 @@
 testcxx.sh
 ```
 
-To stay in `src/bin`, install by `src/setup.py` (#21569):
+Obsolete, delete:
+
+```
+sage-README-osx.txt      # see #25995, #21570
+```
+
+To stay in `src/bin`, install by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569):
 
 ```
 sage
@@ -26,15 +23,9 @@
 sage-cachegrind
 sage-callgrind
 sage-valgrind
-
+...
 ```
 
-Obsolete, delete:
-
-```
-sage-README-osx.txt      # see #25995, #21570
-
-```
 
 Not an executable script, move elsewhere (#21570):
 
@@ -42,7 +33,7 @@
 
 ```
 
-To be determined:
+To be determined (see list added to `src/setup.py`):
 
 ```
 math-readline
@@ -51,12 +42,12 @@
 sage-coverage
 sage-coverageall
 sage-cython
-sage-download-upstream
+sage-download-upstream                 # -> build?
 sage-env
 sage-env-config
 sage-env-config.in
 sage-eval
-sage-fix-pkg-checksums
+sage-fix-pkg-checksums               # -> build?
 sage-fixdoctests
 sage-gdb-commands
 sage-grep
@@ -91,7 +82,7 @@
 sage-run-cython
 sage-runtests
 sage-sdist
-sage-starts
+sage-starts                    #23769: `src/bin/sage-starts` should be moved to `build/bin` or merged into `build/make/deps`
 sage-startuptime.py
 sage-sws2rst
 sage-unzip
@@ -101,5 +92,6 @@
 sage-version.sh
 ```
 
+(Based on the full list of `src/bin` as of 9.1.beta4.)
 
 See also #21707: Split sage-env into sage-build-env and sage-env
``````




---

archive/issue_comments_397388.json:
```json
{
    "body": "Changing commit from \"\" to \"428ea11b2a4ac1c6754f9981d0b732e593e02aac\"",
    "created_at": "2020-03-03T00:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397388",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "428ea11b2a4ac1c6754f9981d0b732e593e02aac"



---

archive/issue_comments_397389.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-03-03T00:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397389",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_397390.json:
```json
{
    "body": "<a id='comment:16'></a>New commits:",
    "created_at": "2020-03-03T00:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397390",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>New commits:



---

archive/issue_comments_397391.json:
```json
{
    "body": "Changing commit from \"428ea11b2a4ac1c6754f9981d0b732e593e02aac\" to \"1b3c860afdb5368545541e989975881a4c57ca1c\"",
    "created_at": "2020-03-03T00:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397391",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "428ea11b2a4ac1c6754f9981d0b732e593e02aac" to "1b3c860afdb5368545541e989975881a4c57ca1c"



---

archive/issue_comments_397392.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-03T00:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397392",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397393.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,6 +7,8 @@\n testcc.sh\n testcflags.sh\n testcxx.sh\n+# Only used by build/make/deps\n+sage-starts                    \n ```\n \n Obsolete, delete:\n@@ -15,17 +17,9 @@\n sage-README-osx.txt      # see #25995, #21570\n ```\n \n-To stay in `src/bin`, install by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569):\n+This ticket leaves all remaining files in `src/bin`, but changes their installation to be done by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569).\n \n-```\n-sage\n-# Helper scripts invoked by sage script\n-sage-cachegrind\n-sage-callgrind\n-sage-valgrind\n-...\n-```\n-\n+In follow-up tickets, `src/bin` could be cleaned up more.  See the list of files added on this ticket to `src/setup.py`.\n \n Not an executable script, move elsewhere (#21570):\n \n@@ -33,7 +27,7 @@\n \n ```\n \n-To be determined (see list added to `src/setup.py`):\n+To be determined (see list):\n \n ```\n math-readline\n@@ -82,7 +76,6 @@\n sage-run-cython\n sage-runtests\n sage-sdist\n-sage-starts                    #23769: `src/bin/sage-starts` should be moved to `build/bin` or merged into `build/make/deps`\n sage-startuptime.py\n sage-sws2rst\n sage-unzip\n@@ -94,4 +87,5 @@\n \n (Based on the full list of `src/bin` as of 9.1.beta4.)\n \n-See also #21707: Split sage-env into sage-build-env and sage-env\n+See also \n+- #21707: Split sage-env into sage-build-env and sage-env\n``````\n",
    "created_at": "2020-03-03T00:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397393",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,6 +7,8 @@
 testcc.sh
 testcflags.sh
 testcxx.sh
+# Only used by build/make/deps
+sage-starts                    
 ```
 
 Obsolete, delete:
@@ -15,17 +17,9 @@
 sage-README-osx.txt      # see #25995, #21570
 ```
 
-To stay in `src/bin`, install by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569):
+This ticket leaves all remaining files in `src/bin`, but changes their installation to be done by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569).
 
-```
-sage
-# Helper scripts invoked by sage script
-sage-cachegrind
-sage-callgrind
-sage-valgrind
-...
-```
-
+In follow-up tickets, `src/bin` could be cleaned up more.  See the list of files added on this ticket to `src/setup.py`.
 
 Not an executable script, move elsewhere (#21570):
 
@@ -33,7 +27,7 @@
 
 ```
 
-To be determined (see list added to `src/setup.py`):
+To be determined (see list):
 
 ```
 math-readline
@@ -82,7 +76,6 @@
 sage-run-cython
 sage-runtests
 sage-sdist
-sage-starts                    #23769: `src/bin/sage-starts` should be moved to `build/bin` or merged into `build/make/deps`
 sage-startuptime.py
 sage-sws2rst
 sage-unzip
@@ -94,4 +87,5 @@
 
 (Based on the full list of `src/bin` as of 9.1.beta4.)
 
-See also #21707: Split sage-env into sage-build-env and sage-env
+See also 
+- #21707: Split sage-env into sage-build-env and sage-env
``````




---

archive/issue_comments_397394.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-03T00:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397394",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_397395.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -54,12 +54,10 @@\n sage-list-packages\n sage-list-standard\n sage-location\n-sage-massif\n sage-maxima.lisp\n sage-native-execute\n sage-notebook\n sage-num-threads.py\n-sage-omega\n sage-open\n sage-pkg\n sage-preparse\n``````\n",
    "created_at": "2020-03-03T00:22:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397395",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -54,12 +54,10 @@
 sage-list-packages
 sage-list-standard
 sage-location
-sage-massif
 sage-maxima.lisp
 sage-native-execute
 sage-notebook
 sage-num-threads.py
-sage-omega
 sage-open
 sage-pkg
 sage-preparse
``````




---

archive/issue_comments_397396.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-08T20:38:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397396",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397397.json:
```json
{
    "body": "Changing commit from \"1b3c860afdb5368545541e989975881a4c57ca1c\" to \"546d1b07856ea236ad6a9021f21109b0082ca82d\"",
    "created_at": "2020-03-08T20:38:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397397",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1b3c860afdb5368545541e989975881a4c57ca1c" to "546d1b07856ea236ad6a9021f21109b0082ca82d"



---

archive/issue_comments_397398.json:
```json
{
    "body": "<a id='comment:22'></a>This ticket could use some help from distribution packagers...",
    "created_at": "2020-03-17T03:45:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397398",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>This ticket could use some help from distribution packagers...



---

archive/issue_comments_397399.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-18T01:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397399",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_397400.json:
```json
{
    "body": "Changing commit from \"546d1b07856ea236ad6a9021f21109b0082ca82d\" to \"dddd4628522f62c7f78315b507116117a580912d\"",
    "created_at": "2020-03-18T01:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397400",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "546d1b07856ea236ad6a9021f21109b0082ca82d" to "dddd4628522f62c7f78315b507116117a580912d"



---

archive/issue_comments_397401.json:
```json
{
    "body": "Changing commit from \"dddd4628522f62c7f78315b507116117a580912d\" to \"9825799e82c8201359faf2e7db103b9f52ba2aef\"",
    "created_at": "2020-03-18T02:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397401",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dddd4628522f62c7f78315b507116117a580912d" to "9825799e82c8201359faf2e7db103b9f52ba2aef"



---

archive/issue_comments_397402.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-18T02:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397402",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397403.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,6 +15,8 @@\n \n ```\n sage-README-osx.txt      # see #25995, #21570\n+sage-pkg       # a script to create old-style spkgs\n+sage-unzip   # unused\n ```\n \n This ticket leaves all remaining files in `src/bin`, but changes their installation to be done by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569).\n@@ -59,7 +61,6 @@\n sage-notebook\n sage-num-threads.py\n sage-open\n-sage-pkg\n sage-preparse\n sage-pypkg-location\n sage-python\n@@ -76,7 +77,6 @@\n sage-sdist\n sage-startuptime.py\n sage-sws2rst\n-sage-unzip\n sage-update-src\n sage-update-version\n sage-upgrade\n``````\n",
    "created_at": "2020-03-18T02:28:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397403",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,6 +15,8 @@
 
 ```
 sage-README-osx.txt      # see #25995, #21570
+sage-pkg       # a script to create old-style spkgs
+sage-unzip   # unused
 ```
 
 This ticket leaves all remaining files in `src/bin`, but changes their installation to be done by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569).
@@ -59,7 +61,6 @@
 sage-notebook
 sage-num-threads.py
 sage-open
-sage-pkg
 sage-preparse
 sage-pypkg-location
 sage-python
@@ -76,7 +77,6 @@
 sage-sdist
 sage-startuptime.py
 sage-sws2rst
-sage-unzip
 sage-update-src
 sage-update-version
 sage-upgrade
``````




---

archive/issue_comments_397404.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-19T17:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397404",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_397405.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#23769, #29381, #29383\"",
    "created_at": "2020-03-20T20:46:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397405",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#23769, #29381, #29383"



---

archive/issue_comments_397406.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,6 +17,15 @@\n sage-README-osx.txt      # see #25995, #21570\n sage-pkg       # a script to create old-style spkgs\n sage-unzip   # unused\n+```\n+\n+Install by a script package `sage-distribution-scripts`? These would be scripts that only sage-the-distribution would install in SAGE_LOCAL, but would not be in OS packages:\n+\n+```\n+sage-list-experimental\n+sage-list-optional\n+sage-list-packages\n+sage-list-standard\n ```\n \n This ticket leaves all remaining files in `src/bin`, but changes their installation to be done by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569).\n@@ -51,10 +60,6 @@\n sage-inline-fortran\n sage-ipynb2rst\n sage-ipython\n-sage-list-experimental\n-sage-list-optional\n-sage-list-packages\n-sage-list-standard\n sage-location\n sage-maxima.lisp\n sage-native-execute\n``````\n",
    "created_at": "2020-03-21T13:41:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397406",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,6 +17,15 @@
 sage-README-osx.txt      # see #25995, #21570
 sage-pkg       # a script to create old-style spkgs
 sage-unzip   # unused
+```
+
+Install by a script package `sage-distribution-scripts`? These would be scripts that only sage-the-distribution would install in SAGE_LOCAL, but would not be in OS packages:
+
+```
+sage-list-experimental
+sage-list-optional
+sage-list-packages
+sage-list-standard
 ```
 
 This ticket leaves all remaining files in `src/bin`, but changes their installation to be done by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569).
@@ -51,10 +60,6 @@
 sage-inline-fortran
 sage-ipynb2rst
 sage-ipython
-sage-list-experimental
-sage-list-optional
-sage-list-packages
-sage-list-standard
 sage-location
 sage-maxima.lisp
 sage-native-execute
``````




---

archive/issue_comments_397407.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -28,7 +28,20 @@\n sage-list-standard\n ```\n \n-This ticket leaves all remaining files in `src/bin`, but changes their installation to be done by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569).\n+Left in `src/bin`, installation changed to be done by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569). All of these scripts must be useful in OS packaging of sagelib as well:\n+\n+```\n+sage\n+sage-eval       #??\n+\n+```\n+\n+Helper scripts that have no business of being in the user's PATH. They belong to something like libexec. Perhaps `src/sage/ext_data/libexec`?\n+\n+```\n+sage-version.sh\n+\n+```\n \n In follow-up tickets, `src/bin` could be cleaned up more.  See the list of files added on this ticket to `src/setup.py`.\n \n@@ -51,7 +64,6 @@\n sage-env\n sage-env-config\n sage-env-config.in\n-sage-eval\n sage-fix-pkg-checksums               # -> build?\n sage-fixdoctests\n sage-gdb-commands\n@@ -85,7 +97,6 @@\n sage-update-src\n sage-update-version\n sage-upgrade\n-sage-version.sh\n ```\n \n (Based on the full list of `src/bin` as of 9.1.beta4.)\n``````\n",
    "created_at": "2020-03-21T13:47:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397407",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -28,7 +28,20 @@
 sage-list-standard
 ```
 
-This ticket leaves all remaining files in `src/bin`, but changes their installation to be done by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569).
+Left in `src/bin`, installation changed to be done by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569). All of these scripts must be useful in OS packaging of sagelib as well:
+
+```
+sage
+sage-eval       #??
+
+```
+
+Helper scripts that have no business of being in the user's PATH. They belong to something like libexec. Perhaps `src/sage/ext_data/libexec`?
+
+```
+sage-version.sh
+
+```
 
 In follow-up tickets, `src/bin` could be cleaned up more.  See the list of files added on this ticket to `src/setup.py`.
 
@@ -51,7 +64,6 @@
 sage-env
 sage-env-config
 sage-env-config.in
-sage-eval
 sage-fix-pkg-checksums               # -> build?
 sage-fixdoctests
 sage-gdb-commands
@@ -85,7 +97,6 @@
 sage-update-src
 sage-update-version
 sage-upgrade
-sage-version.sh
 ```
 
 (Based on the full list of `src/bin` as of 9.1.beta4.)
``````




---

archive/issue_comments_397408.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This ticket cleans up `src/bin` and how its contents are installed.\n+This ticket cleans up `src/bin` and how its contents are installed. One of its goals is to make the `sagelib` installation done by `src/setup.py` self-contained regarding the scripts that it needs at runtime.\n \n Move to `build/bin` (no longer installed in SAGE_LOCAL):\n \n``````\n",
    "created_at": "2020-03-21T15:41:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397408",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This ticket cleans up `src/bin` and how its contents are installed.
+This ticket cleans up `src/bin` and how its contents are installed. One of its goals is to make the `sagelib` installation done by `src/setup.py` self-contained regarding the scripts that it needs at runtime.
 
 Move to `build/bin` (no longer installed in SAGE_LOCAL):
 
``````




---

archive/issue_comments_397409.json:
```json
{
    "body": "<a id='comment:31'></a>This breaks if you try to install sagelib with setup.py without running configure first (as some distros do) since sage-env-config doesn't exist in that case. At least sage-env and sage-env-config should be optional.",
    "created_at": "2020-03-21T18:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397409",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:31'></a>This breaks if you try to install sagelib with setup.py without running configure first (as some distros do) since sage-env-config doesn't exist in that case. At least sage-env and sage-env-config should be optional.



---

archive/issue_comments_397410.json:
```json
{
    "body": "<a id='comment:32'></a>Can this build also configure a better link or communication between SAGE_LOCAL or SAGE_SCRIPTS_DIR variables?",
    "created_at": "2020-03-21T20:41:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397410",
    "user": "https://github.com/Shlokatadistance"
}
```

<a id='comment:32'></a>Can this build also configure a better link or communication between SAGE_LOCAL or SAGE_SCRIPTS_DIR variables?



---

archive/issue_comments_397411.json:
```json
{
    "body": "<a id='comment:33'></a>Replying to [comment:32 gh-Shlokatadistance]:\n> Can this build also configure a better link or communication between SAGE_LOCAL or SAGE_SCRIPTS_DIR variables? \n\nTake a look at #25486",
    "created_at": "2020-03-22T03:21:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397411",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>Replying to [comment:32 gh-Shlokatadistance]:
> Can this build also configure a better link or communication between SAGE_LOCAL or SAGE_SCRIPTS_DIR variables? 

Take a look at #25486



---

archive/issue_events_057201.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-11T06:26:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57201"
}
```



---

archive/issue_events_057202.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-11T06:26:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57202"
}
```



---

archive/issue_comments_397412.json:
```json
{
    "body": "Changing dependencies from \"#23769, #29381, #29383\" to \"#29702\"",
    "created_at": "2020-06-12T21:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397412",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#23769, #29381, #29383" to "#29702"



---

archive/issue_comments_397413.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-06-12T21:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_397414.json:
```json
{
    "body": "Changing commit from \"9825799e82c8201359faf2e7db103b9f52ba2aef\" to \"7c8a0304aff5c2f6376fa7c4b4acf56d35766f31\"",
    "created_at": "2020-06-12T21:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397414",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9825799e82c8201359faf2e7db103b9f52ba2aef" to "7c8a0304aff5c2f6376fa7c4b4acf56d35766f31"



---

archive/issue_comments_397415.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,105 +1,5 @@\n-This ticket cleans up `src/bin` and how its contents are installed. One of its goals is to make the `sagelib` installation done by `src/setup.py` self-contained regarding the scripts that it needs at runtime.\n+This ticket cleans up how the contents of `src/bin` are installed. One of its goals is to make the `sagelib` installation done by `src/setup.py` self-contained regarding the scripts that it needs at runtime.\n \n-Move to `build/bin` (no longer installed in SAGE_LOCAL):\n+Previous tickets moved some of the scripts to `build/bin` (no longer installed in `SAGE_LOCAL`). In follow-up tickets, `src/bin` could be cleaned up more.  See the list of files added on this ticket to `src/setup.py` for beginnings of a categorization.\n+ \n \n-```\n-# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src\n-testcc.sh\n-testcflags.sh\n-testcxx.sh\n-# Only used by build/make/deps\n-sage-starts                    \n-```\n-\n-Obsolete, delete:\n-\n-```\n-sage-README-osx.txt      # see #25995, #21570\n-sage-pkg       # a script to create old-style spkgs\n-sage-unzip   # unused\n-```\n-\n-Install by a script package `sage-distribution-scripts`? These would be scripts that only sage-the-distribution would install in SAGE_LOCAL, but would not be in OS packages:\n-\n-```\n-sage-list-experimental\n-sage-list-optional\n-sage-list-packages\n-sage-list-standard\n-```\n-\n-Left in `src/bin`, installation changed to be done by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569). All of these scripts must be useful in OS packaging of sagelib as well:\n-\n-```\n-sage\n-sage-eval       #??\n-\n-```\n-\n-Helper scripts that have no business of being in the user's PATH. They belong to something like libexec. Perhaps `src/sage/ext_data/libexec`?\n-\n-```\n-sage-version.sh\n-\n-```\n-\n-In follow-up tickets, `src/bin` could be cleaned up more.  See the list of files added on this ticket to `src/setup.py`.\n-\n-Not an executable script, move elsewhere (#21570):\n-\n-```\n-\n-```\n-\n-To be determined (see list):\n-\n-```\n-math-readline\n-sage-cleaner\n-sage-clone-source\n-sage-coverage\n-sage-coverageall\n-sage-cython\n-sage-download-upstream                 # -> build?\n-sage-env\n-sage-env-config\n-sage-env-config.in\n-sage-fix-pkg-checksums               # -> build?\n-sage-fixdoctests\n-sage-gdb-commands\n-sage-grep\n-sage-grepdoc\n-sage-inline-fortran\n-sage-ipynb2rst\n-sage-ipython\n-sage-location\n-sage-maxima.lisp\n-sage-native-execute\n-sage-notebook\n-sage-num-threads.py\n-sage-open\n-sage-preparse\n-sage-pypkg-location\n-sage-python\n-sage-rebase.bat\n-sage-rebase.sh\n-sage-rebaseall.bat\n-sage-rebaseall.sh\n-sage-rst2sws\n-sage-rst2txt\n-sage-rsyncdist\n-sage-run\n-sage-run-cython\n-sage-runtests\n-sage-sdist\n-sage-startuptime.py\n-sage-sws2rst\n-sage-update-src\n-sage-update-version\n-sage-upgrade\n-```\n-\n-(Based on the full list of `src/bin` as of 9.1.beta4.)\n-\n-See also \n-- #21707: Split sage-env into sage-build-env and sage-env\n``````\n",
    "created_at": "2020-06-12T21:37:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397415",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,105 +1,5 @@
-This ticket cleans up `src/bin` and how its contents are installed. One of its goals is to make the `sagelib` installation done by `src/setup.py` self-contained regarding the scripts that it needs at runtime.
+This ticket cleans up how the contents of `src/bin` are installed. One of its goals is to make the `sagelib` installation done by `src/setup.py` self-contained regarding the scripts that it needs at runtime.
 
-Move to `build/bin` (no longer installed in SAGE_LOCAL):
+Previous tickets moved some of the scripts to `build/bin` (no longer installed in `SAGE_LOCAL`). In follow-up tickets, `src/bin` could be cleaned up more.  See the list of files added on this ticket to `src/setup.py` for beginnings of a categorization.
+ 
 
-```
-# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src
-testcc.sh
-testcflags.sh
-testcxx.sh
-# Only used by build/make/deps
-sage-starts                    
-```
-
-Obsolete, delete:
-
-```
-sage-README-osx.txt      # see #25995, #21570
-sage-pkg       # a script to create old-style spkgs
-sage-unzip   # unused
-```
-
-Install by a script package `sage-distribution-scripts`? These would be scripts that only sage-the-distribution would install in SAGE_LOCAL, but would not be in OS packages:
-
-```
-sage-list-experimental
-sage-list-optional
-sage-list-packages
-sage-list-standard
-```
-
-Left in `src/bin`, installation changed to be done by `src/setup.py` using the `scripts` feature, instead of by `build/make/Makefile` (after scanning them in `configure`) (this used to be ticket #21569). All of these scripts must be useful in OS packaging of sagelib as well:
-
-```
-sage
-sage-eval       #??
-
-```
-
-Helper scripts that have no business of being in the user's PATH. They belong to something like libexec. Perhaps `src/sage/ext_data/libexec`?
-
-```
-sage-version.sh
-
-```
-
-In follow-up tickets, `src/bin` could be cleaned up more.  See the list of files added on this ticket to `src/setup.py`.
-
-Not an executable script, move elsewhere (#21570):
-
-```
-
-```
-
-To be determined (see list):
-
-```
-math-readline
-sage-cleaner
-sage-clone-source
-sage-coverage
-sage-coverageall
-sage-cython
-sage-download-upstream                 # -> build?
-sage-env
-sage-env-config
-sage-env-config.in
-sage-fix-pkg-checksums               # -> build?
-sage-fixdoctests
-sage-gdb-commands
-sage-grep
-sage-grepdoc
-sage-inline-fortran
-sage-ipynb2rst
-sage-ipython
-sage-location
-sage-maxima.lisp
-sage-native-execute
-sage-notebook
-sage-num-threads.py
-sage-open
-sage-preparse
-sage-pypkg-location
-sage-python
-sage-rebase.bat
-sage-rebase.sh
-sage-rebaseall.bat
-sage-rebaseall.sh
-sage-rst2sws
-sage-rst2txt
-sage-rsyncdist
-sage-run
-sage-run-cython
-sage-runtests
-sage-sdist
-sage-startuptime.py
-sage-sws2rst
-sage-update-src
-sage-update-version
-sage-upgrade
-```
-
-(Based on the full list of `src/bin` as of 9.1.beta4.)
-
-See also 
-- #21707: Split sage-env into sage-build-env and sage-env
``````




---

archive/issue_comments_397416.json:
```json
{
    "body": "Changing commit from \"7c8a0304aff5c2f6376fa7c4b4acf56d35766f31\" to \"64ec6ae70a8d10ebec7158eecebff996592d273b\"",
    "created_at": "2020-06-12T21:38:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7c8a0304aff5c2f6376fa7c4b4acf56d35766f31" to "64ec6ae70a8d10ebec7158eecebff996592d273b"



---

archive/issue_comments_397417.json:
```json
{
    "body": "<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-12T21:38:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397418.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-12T21:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397418",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_397419.json:
```json
{
    "body": "Changing commit from \"64ec6ae70a8d10ebec7158eecebff996592d273b\" to \"1ee054c0da2494f6bdbe5d4bd6088e0d39c0d3f8\"",
    "created_at": "2020-06-13T00:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397419",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "64ec6ae70a8d10ebec7158eecebff996592d273b" to "1ee054c0da2494f6bdbe5d4bd6088e0d39c0d3f8"



---

archive/issue_comments_397420.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-13T00:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397420",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397421.json:
```json
{
    "body": "Changing commit from \"1ee054c0da2494f6bdbe5d4bd6088e0d39c0d3f8\" to \"daa045c01c6ae4767213abf9dcc1820829200999\"",
    "created_at": "2020-06-18T04:55:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397421",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1ee054c0da2494f6bdbe5d4bd6088e0d39c0d3f8" to "daa045c01c6ae4767213abf9dcc1820829200999"



---

archive/issue_comments_397422.json:
```json
{
    "body": "<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-18T04:55:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397422",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397423.json:
```json
{
    "body": "<a id='comment:42'></a>(this script is deleted in #29111)",
    "created_at": "2020-06-18T05:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397423",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>(this script is deleted in #29111)



---

archive/issue_comments_397424.json:
```json
{
    "body": "Changing dependencies from \"#29702\" to \"#29702, #29111, #29920\"",
    "created_at": "2020-06-20T23:38:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397424",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29702" to "#29702, #29111, #29920"



---

archive/issue_comments_397425.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-20T23:40:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397425",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397426.json:
```json
{
    "body": "Changing commit from \"daa045c01c6ae4767213abf9dcc1820829200999\" to \"e3d9cf23fcce51f679878b86ce462d91d3c41ea5\"",
    "created_at": "2020-06-20T23:40:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397426",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "daa045c01c6ae4767213abf9dcc1820829200999" to "e3d9cf23fcce51f679878b86ce462d91d3c41ea5"



---

archive/issue_comments_397427.json:
```json
{
    "body": "<a id='comment:46'></a>(these scripts are deleted in #29920)",
    "created_at": "2020-06-20T23:40:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397427",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>(these scripts are deleted in #29920)



---

archive/issue_comments_397428.json:
```json
{
    "body": "<a id='comment:47'></a>A bit much to ask but is there a way to override the `scripts` variable in `setup.py`? Apart from patching that is. I and other distros will pick and choose what we install and certainly, even where. We can do things after install is run if needs be. \n\nBut building and providing our own list would be a nice to have.",
    "created_at": "2020-06-20T23:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397428",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:47'></a>A bit much to ask but is there a way to override the `scripts` variable in `setup.py`? Apart from patching that is. I and other distros will pick and choose what we install and certainly, even where. We can do things after install is run if needs be. 

But building and providing our own list would be a nice to have.



---

archive/issue_comments_397429.json:
```json
{
    "body": "<a id='comment:48'></a>Replying to [comment:47 fbissey]:\n> A bit much to ask but is there a way to override the `scripts` variable in `setup.py`? Apart from patching that is. I and other distros will pick and choose what we install and certainly, even where. We can do things after install is run if needs be. \n> \n> But building and providing our own list would be a nice to have.\n\n\nAdding hooks for distributors is not a good direction for development.  It's better to sort out in sagelib itself which scripts should be considered part of sagelib, and which ones are provided by sage-the-distribution instead.",
    "created_at": "2020-06-20T23:56:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397429",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'></a>Replying to [comment:47 fbissey]:
> A bit much to ask but is there a way to override the `scripts` variable in `setup.py`? Apart from patching that is. I and other distros will pick and choose what we install and certainly, even where. We can do things after install is run if needs be. 
> 
> But building and providing our own list would be a nice to have.


Adding hooks for distributors is not a good direction for development.  It's better to sort out in sagelib itself which scripts should be considered part of sagelib, and which ones are provided by sage-the-distribution instead.



---

archive/issue_comments_397430.json:
```json
{
    "body": "<a id='comment:49'></a>This can be done on follow-up tickets of this ticket.\nYou can help by categorizing the scripts in the section \"Uncategorized scripts in alphabetical order\".",
    "created_at": "2020-06-20T23:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397430",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:49'></a>This can be done on follow-up tickets of this ticket.
You can help by categorizing the scripts in the section "Uncategorized scripts in alphabetical order".



---

archive/issue_comments_397431.json:
```json
{
    "body": "<a id='comment:50'></a>Replying to [comment:49 mkoeppe]:\n> This can be done on follow-up tickets of this ticket.\n> You can help by categorizing the scripts in the section \"Uncategorized scripts in alphabetical order\".\n> \n\n\nI'll think about it. Like I said it is a \"nice to have\", not a must have. But this will mark a transition for distros. Before this, most of us were manually installing a selection of scripts. Suddenly the install won't be manual anymore :)",
    "created_at": "2020-06-21T00:01:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397431",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:50'></a>Replying to [comment:49 mkoeppe]:
> This can be done on follow-up tickets of this ticket.
> You can help by categorizing the scripts in the section "Uncategorized scripts in alphabetical order".
> 


I'll think about it. Like I said it is a "nice to have", not a must have. But this will mark a transition for distros. Before this, most of us were manually installing a selection of scripts. Suddenly the install won't be manual anymore :)



---

archive/issue_comments_397432.json:
```json
{
    "body": "<a id='comment:51'></a>In fact, the scripts that belong to sage-the-distribution could perhaps be assigned to `sage_setup` (#29847) -- this distutils package that would be installed by sage-the-distribution but not by distros.",
    "created_at": "2020-06-21T00:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397432",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:51'></a>In fact, the scripts that belong to sage-the-distribution could perhaps be assigned to `sage_setup` (#29847) -- this distutils package that would be installed by sage-the-distribution but not by distros.



---

archive/issue_comments_397433.json:
```json
{
    "body": "<a id='comment:52'></a>Replying to [comment:49 mkoeppe]:\n> This can be done on follow-up tickets of this ticket.\n> You can help by categorizing the scripts in the section \"Uncategorized scripts in alphabetical order\".\n\n\nHere are some thoughts:\n\nPerhaps could just be deleted:\n- `sage-cython`: #29923\n- `sage-native-execute`: look at the script and see #9386. \n- `sage-open`: I wonder if the comment in that script is still valid; perhaps it can be deleted, or done purely in Python in sage/misc/viewer.py, the only place it's used. Maybe I'll look into this.\n- `sage-pypkg-location`: apparently unused\n- `sage-unzip` is in the listed, but the script itself is gone, isn't it?\n\n\nDoctesting-related scripts. Where do these go?\n- sage-runtests\n- coverage scripts\n- sage-fix-doctests\n- sage-startuptime\n\nIn the libexec group:\n- sage-cleaner?\n\nOnly relevant for sage-the-distribution:\n- `sage-download`\n- `sage-clone-source`\n- `sage-sdist`\n- `sage-location`",
    "created_at": "2020-06-21T02:17:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397433",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:52'></a>Replying to [comment:49 mkoeppe]:
> This can be done on follow-up tickets of this ticket.
> You can help by categorizing the scripts in the section "Uncategorized scripts in alphabetical order".


Here are some thoughts:

Perhaps could just be deleted:
- `sage-cython`: #29923
- `sage-native-execute`: look at the script and see #9386. 
- `sage-open`: I wonder if the comment in that script is still valid; perhaps it can be deleted, or done purely in Python in sage/misc/viewer.py, the only place it's used. Maybe I'll look into this.
- `sage-pypkg-location`: apparently unused
- `sage-unzip` is in the listed, but the script itself is gone, isn't it?


Doctesting-related scripts. Where do these go?
- sage-runtests
- coverage scripts
- sage-fix-doctests
- sage-startuptime

In the libexec group:
- sage-cleaner?

Only relevant for sage-the-distribution:
- `sage-download`
- `sage-clone-source`
- `sage-sdist`
- `sage-location`



---

archive/issue_comments_397434.json:
```json
{
    "body": "<a id='comment:53'></a>Replying to [comment:52 jhpalmieri]:\n> Doctesting-related scripts. Where do these go?\n> - sage-runtests\n> - coverage scripts\n> - sage-fix-doctests\n\n\nPer #29111, they are sagelib scripts.\n\n> - sage-startuptime\n\n\nNot sure about this one.",
    "created_at": "2020-06-21T02:31:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397434",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:53'></a>Replying to [comment:52 jhpalmieri]:
> Doctesting-related scripts. Where do these go?
> - sage-runtests
> - coverage scripts
> - sage-fix-doctests


Per #29111, they are sagelib scripts.

> - sage-startuptime


Not sure about this one.



---

archive/issue_comments_397435.json:
```json
{
    "body": "Changing commit from \"e3d9cf23fcce51f679878b86ce462d91d3c41ea5\" to \"455c294091537ca92df0bfbf39fae38816c808bf\"",
    "created_at": "2020-06-21T02:33:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397435",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e3d9cf23fcce51f679878b86ce462d91d3c41ea5" to "455c294091537ca92df0bfbf39fae38816c808bf"



---

archive/issue_comments_397436.json:
```json
{
    "body": "<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-21T02:33:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397436",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397437.json:
```json
{
    "body": "<a id='comment:55'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-21T02:40:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397437",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397438.json:
```json
{
    "body": "Changing commit from \"455c294091537ca92df0bfbf39fae38816c808bf\" to \"b214410e12972a06e4cab87b3225d3d8aac4db7b\"",
    "created_at": "2020-06-21T02:40:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397438",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "455c294091537ca92df0bfbf39fae38816c808bf" to "b214410e12972a06e4cab87b3225d3d8aac4db7b"



---

archive/issue_comments_397439.json:
```json
{
    "body": "Changing commit from \"b214410e12972a06e4cab87b3225d3d8aac4db7b\" to \"8d10bb99f339795601993cb8b2899f544471fd68\"",
    "created_at": "2020-06-21T02:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397439",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b214410e12972a06e4cab87b3225d3d8aac4db7b" to "8d10bb99f339795601993cb8b2899f544471fd68"



---

archive/issue_comments_397440.json:
```json
{
    "body": "<a id='comment:56'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-21T02:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397440",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397441.json:
```json
{
    "body": "Changing commit from \"8d10bb99f339795601993cb8b2899f544471fd68\" to \"6b04075aca84249a2418a365f31ea4a0978461a8\"",
    "created_at": "2020-06-23T21:48:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397441",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8d10bb99f339795601993cb8b2899f544471fd68" to "6b04075aca84249a2418a365f31ea4a0978461a8"



---

archive/issue_comments_397442.json:
```json
{
    "body": "<a id='comment:57'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2020-06-23T21:48:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397442",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:57'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_397443.json:
```json
{
    "body": "Changing commit from \"6b04075aca84249a2418a365f31ea4a0978461a8\" to \"831cc09d32828144a27f7bc8c8b2f70150ed0047\"",
    "created_at": "2020-06-23T21:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397443",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6b04075aca84249a2418a365f31ea4a0978461a8" to "831cc09d32828144a27f7bc8c8b2f70150ed0047"



---

archive/issue_comments_397444.json:
```json
{
    "body": "<a id='comment:58'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-23T21:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397444",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397445.json:
```json
{
    "body": "Changing commit from \"831cc09d32828144a27f7bc8c8b2f70150ed0047\" to \"e3eca857db71b602cf2c7c16755ab2cdeaca1773\"",
    "created_at": "2020-06-23T21:51:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397445",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "831cc09d32828144a27f7bc8c8b2f70150ed0047" to "e3eca857db71b602cf2c7c16755ab2cdeaca1773"



---

archive/issue_comments_397446.json:
```json
{
    "body": "<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-23T21:51:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397446",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397447.json:
```json
{
    "body": "<a id='comment:60'></a>I run into problems unless I make this change:\n\n```diff\ndiff --git a/src/setup.py b/src/setup.py\nindex 9970525cf9..85a32a5962 100755\n--- a/src/setup.py\n+++ b/src/setup.py\n@@ -162,7 +162,6 @@ code = setup(name = 'sage',\n                  'bin/sage-rebaseall.sh',\n                  'bin/sage-rst2sws',\n                  'bin/sage-rst2txt',\n-                 'bin/sage-rsyncdist',\n                  'bin/sage-run',\n                  'bin/sage-run-cython',\n                  'bin/sage-startuptime.py',\n```",
    "created_at": "2020-06-24T16:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397447",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:60'></a>I run into problems unless I make this change:

```diff
diff --git a/src/setup.py b/src/setup.py
index 9970525cf9..85a32a5962 100755
--- a/src/setup.py
+++ b/src/setup.py
@@ -162,7 +162,6 @@ code = setup(name = 'sage',
                  'bin/sage-rebaseall.sh',
                  'bin/sage-rst2sws',
                  'bin/sage-rst2txt',
-                 'bin/sage-rsyncdist',
                  'bin/sage-run',
                  'bin/sage-run-cython',
                  'bin/sage-startuptime.py',
```



---

archive/issue_comments_397448.json:
```json
{
    "body": "<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-24T18:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397448",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397449.json:
```json
{
    "body": "Changing commit from \"e3eca857db71b602cf2c7c16755ab2cdeaca1773\" to \"7d29141662fe9ffd80c61e8867153244004d0a37\"",
    "created_at": "2020-06-24T18:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397449",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e3eca857db71b602cf2c7c16755ab2cdeaca1773" to "7d29141662fe9ffd80c61e8867153244004d0a37"



---

archive/issue_comments_397450.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,9 @@\n This ticket cleans up how the contents of `src/bin` are installed. One of its goals is to make the `sagelib` installation done by `src/setup.py` self-contained regarding the scripts that it needs at runtime.\n \n-Previous tickets moved some of the scripts to `build/bin` (no longer installed in `SAGE_LOCAL`). In follow-up tickets, `src/bin` could be cleaned up more.  See the list of files added on this ticket to `src/setup.py` for beginnings of a categorization.\n- \n+Previous tickets moved some of the scripts to `build/bin` (no longer installed in `SAGE_LOCAL`). \n \n+In follow-up tickets, `src/bin` could be cleaned up more. \n+- See the list of files added on this ticket to `src/setup.py` for beginnings of a categorization.\n+- #29850: Install `src/bin/sage-env-config` as part of `sage_conf`\n+- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\"\n+\n``````\n",
    "created_at": "2020-06-25T04:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397450",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,9 @@
 This ticket cleans up how the contents of `src/bin` are installed. One of its goals is to make the `sagelib` installation done by `src/setup.py` self-contained regarding the scripts that it needs at runtime.
 
-Previous tickets moved some of the scripts to `build/bin` (no longer installed in `SAGE_LOCAL`). In follow-up tickets, `src/bin` could be cleaned up more.  See the list of files added on this ticket to `src/setup.py` for beginnings of a categorization.
- 
+Previous tickets moved some of the scripts to `build/bin` (no longer installed in `SAGE_LOCAL`). 
 
+In follow-up tickets, `src/bin` could be cleaned up more. 
+- See the list of files added on this ticket to `src/setup.py` for beginnings of a categorization.
+- #29850: Install `src/bin/sage-env-config` as part of `sage_conf`
+- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts"
+
``````




---

archive/issue_comments_397451.json:
```json
{
    "body": "<a id='comment:63'></a>Needs review",
    "created_at": "2020-06-29T17:33:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397451",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:63'></a>Needs review



---

archive/issue_comments_397452.json:
```json
{
    "body": "<a id='comment:64'></a>Looks okay to me.",
    "created_at": "2020-06-29T21:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397452",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:64'></a>Looks okay to me.



---

archive/issue_comments_397453.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-29T21:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397453",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_397454.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri, Fran\u00e7ois Bissey\"",
    "created_at": "2020-06-29T21:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397454",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "" to "John Palmieri, Fran√ßois Bissey"



---

archive/issue_comments_397455.json:
```json
{
    "body": "<a id='comment:65'></a>Thanks!",
    "created_at": "2020-06-30T00:14:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397455",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:65'></a>Thanks!



---

archive/issue_comments_397456.json:
```json
{
    "body": "Changing commit from \"7d29141662fe9ffd80c61e8867153244004d0a37\" to \"c5f7f2fb29d376c6bb103e2f070f92690c689161\"",
    "created_at": "2020-07-04T16:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397456",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7d29141662fe9ffd80c61e8867153244004d0a37" to "c5f7f2fb29d376c6bb103e2f070f92690c689161"



---

archive/issue_comments_397457.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-07-04T16:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397457",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_397458.json:
```json
{
    "body": "<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2020-07-04T16:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397458",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_397459.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-07-04T16:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397459",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_397460.json:
```json
{
    "body": "Changing commit from \"c5f7f2fb29d376c6bb103e2f070f92690c689161\" to \"19d7f677eab07dc41e3f1e71b9a37f3b58560c39\"",
    "created_at": "2020-07-08T23:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397460",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c5f7f2fb29d376c6bb103e2f070f92690c689161" to "19d7f677eab07dc41e3f1e71b9a37f3b58560c39"



---

archive/issue_comments_397461.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-07-08T23:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397461",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_397462.json:
```json
{
    "body": "<a id='comment:68'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2020-07-08T23:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397462",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:68'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_397463.json:
```json
{
    "body": "Changing dependencies from \"#29702, #29111, #29920\" to \"#29111\"",
    "created_at": "2020-07-08T23:23:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397463",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29702, #29111, #29920" to "#29111"



---

archive/issue_comments_397464.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-07-08T23:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397464",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_057203.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-10T19:34:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57203"
}
```



---

archive/issue_comments_397465.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-10T19:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397465",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_397466.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/change-src-bin-installation\" to \"19d7f677eab07dc41e3f1e71b9a37f3b58560c39\"",
    "created_at": "2020-07-10T19:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-397466",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/change-src-bin-installation" to "19d7f677eab07dc41e3f1e71b9a37f3b58560c39"
