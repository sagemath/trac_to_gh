# Issue 21559: Install src/bin scripts by sagelib's setup.py, not make

archive/issues_021322.json:
```json
{
    "body": "This ticket cleans up how the contents of `src/bin` are installed. One of its goals is to make the `sagelib` installation done by `src/setup.py` self-contained regarding the scripts that it needs at runtime.\n\nPrevious tickets moved some of the scripts to `build/bin` (no longer installed in `SAGE_LOCAL`). \n\nIn follow-up tickets, `src/bin` could be cleaned up more. \n- See the list of files added on this ticket to `src/setup.py` for beginnings of a categorization.\n- #29850: Install `src/bin/sage-env-config` as part of `sage_conf`\n- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\"\n\n\nCC:  @jdemeyer @vbraun @embray @isuruf @jhpalmieri @kiwifb @kcrisman @orlitzky @antonio-rojas @dimpase\n\nBranch/Commit: 19d7f677eab07dc41e3f1e71b9a37f3b58560c39\n\nReviewer: John Palmieri, Fran\u00e7ois Bissey\n\nAuthor: Matthias Koeppe\n\nDependencies: #29111\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21559\n\n",
    "closed_at": "2020-07-10T19:34:13Z",
    "created_at": "2016-09-22T04:53:48Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Install src/bin scripts by sagelib's setup.py, not make",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21559",
    "user": "https://github.com/mkoeppe"
}
```
This ticket cleans up how the contents of `src/bin` are installed. One of its goals is to make the `sagelib` installation done by `src/setup.py` self-contained regarding the scripts that it needs at runtime.

Previous tickets moved some of the scripts to `build/bin` (no longer installed in `SAGE_LOCAL`). 

In follow-up tickets, `src/bin` could be cleaned up more. 
- See the list of files added on this ticket to `src/setup.py` for beginnings of a categorization.
- #29850: Install `src/bin/sage-env-config` as part of `sage_conf`
- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts"


CC:  @jdemeyer @vbraun @embray @isuruf @jhpalmieri @kiwifb @kcrisman @orlitzky @antonio-rojas @dimpase

Branch/Commit: 19d7f677eab07dc41e3f1e71b9a37f3b58560c39

Reviewer: John Palmieri, Fran√ßois Bissey

Author: Matthias Koeppe

Dependencies: #29111

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21559





---

archive/issue_comments_314797.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,7 +1,9 @@\n This list includes probably:\n - \\`sage-download-upstream\\`\n - \\`sage-fix-pkg-checksums\\`\n+- \\`testcc.sh\\` etc. (which are used by some spkg without a proper build system)\n and perhaps more.\n+\n \n Comment: 1\n \n```\n",
    "created_at": "2016-09-27T21:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314797",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,7 +1,9 @@
 This list includes probably:
 - \`sage-download-upstream\`
 - \`sage-fix-pkg-checksums\`
+- \`testcc.sh\` etc. (which are used by some spkg without a proper build system)
 and perhaps more.
+
 
 Comment: 1
 
```




---

archive/issue_comments_314798.json:
```json
{
    "body": "<a id='comment:2'></a>+1\n\nAlso `sage-pip-install` of #21441, but I might wait until that ticket is merged first, then move that script along with the others.",
    "created_at": "2016-09-28T06:23:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314798",
    "user": "https://github.com/embray"
}
```

<a id='comment:2'></a>+1

Also `sage-pip-install` of #21441, but I might wait until that ticket is merged first, then move that script along with the others.



---

archive/issue_comments_314799.json:
```json
{
    "body": "<a id='comment:3'></a>Replying to [comment:2 embray]:\n> +1\n> \n> Also `sage-pip-install` of #21441\n\n\nI already moved that in #21441 (which still needs review by the way).",
    "created_at": "2016-09-29T14:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314799",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>Replying to [comment:2 embray]:
> +1
> 
> Also `sage-pip-install` of #21441


I already moved that in #21441 (which still needs review by the way).



---

archive/issue_comments_314800.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n+This list includes probably:\n+- \\`sage-download-upstream\\`\n+- \\`sage-fix-pkg-checksums\\`\n+- \\`testcc.sh\\` etc. (which are used by some spkg without a proper build system)\n+and perhaps more.\n \n+See also #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2016-10-15T06:09:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314800",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,10 @@
+This list includes probably:
+- \`sage-download-upstream\`
+- \`sage-fix-pkg-checksums\`
+- \`testcc.sh\` etc. (which are used by some spkg without a proper build system)
+and perhaps more.
 
+See also #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_events_057194.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-06-02T04:21:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57194"
}
```



---

archive/issue_comments_314801.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n+This list includes probably:\n+- \\`sage-download-upstream\\`\n+- \\`sage-fix-pkg-checksums\\`\n+- \\`testcc.sh\\` etc. (which are used by some spkg without a proper build system)\n+- #25130: \\`sage-dist-helpers\\`\n \n+and perhaps more.\n+\n+See also #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2018-06-02T04:21:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314801",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,12 @@
+This list includes probably:
+- \`sage-download-upstream\`
+- \`sage-fix-pkg-checksums\`
+- \`testcc.sh\` etc. (which are used by some spkg without a proper build system)
+- #25130: \`sage-dist-helpers\`
 
+and perhaps more.
+
+See also #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_comments_314802.json:
```json
{
    "body": "<a id='comment:6'></a>update milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314802",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>update milestone 8.3 -> 8.4



---

archive/issue_events_057195.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57195"
}
```



---

archive/issue_events_057196.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57196"
}
```



---

archive/issue_comments_314803.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+This list includes probably:\n+- \\`sage-download-upstream\\`\n+- \\`sage-fix-pkg-checksums\\`\n+- \\`testcc.sh\\` etc. (which are used by some spkg without a proper build system)\n+- #25130: \\`sage-dist-helpers\\`\n+- #23769: \\`src/bin/sage-starts\\` should be moved to \\`build/bin\\` or merged into \\`build/make/deps\\`\n \n+and perhaps more.\n+\n+See also #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2019-05-20T00:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314803",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+This list includes probably:
+- \`sage-download-upstream\`
+- \`sage-fix-pkg-checksums\`
+- \`testcc.sh\` etc. (which are used by some spkg without a proper build system)
+- #25130: \`sage-dist-helpers\`
+- #23769: \`src/bin/sage-starts\` should be moved to \`build/bin\` or merged into \`build/make/deps\`
 
+and perhaps more.
+
+See also #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_events_057197.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-20T00:41:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57197"
}
```



---

archive/issue_events_057198.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-20T00:41:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57198"
}
```



---

archive/issue_events_057199.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:54:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57199"
}
```



---

archive/issue_comments_314804.json:
```json
{
    "body": "<a id='comment:8'></a>As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314804",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_comments_314805.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,81 @@\n+This list includes probably:\n+- \\`sage-download-upstream\\`\n+- \\`sage-fix-pkg-checksums\\`\n+- \\`testcc.sh\\` etc. (which are used by some spkg without a proper build system)\n+- #25130: \\`sage-dist-helpers\\`\n+- #23769: \\`src/bin/sage-starts\\` should be moved to \\`build/bin\\` or merged into \\`build/make/deps\\`\n \n+and perhaps more.\n+\n+Full list of \\`src/bin\\` as of 9.1.beta4:\n+\n+\\`\\`\\`\n+math-readline\n+sage\n+sage-README-osx.txt\n+sage-cachegrind\n+sage-callgrind\n+sage-cleaner\n+sage-clone-source\n+sage-coverage\n+sage-coverageall\n+sage-cython\n+sage-download-upstream\n+sage-env\n+sage-env-config\n+sage-env-config.in\n+sage-eval\n+sage-fix-pkg-checksums\n+sage-fixdoctests\n+sage-gdb-commands\n+sage-grep\n+sage-grepdoc\n+sage-inline-fortran\n+sage-ipynb2rst\n+sage-ipython\n+sage-list-experimental\n+sage-list-optional\n+sage-list-packages\n+sage-list-standard\n+sage-location\n+sage-massif\n+sage-maxima.lisp\n+sage-native-execute\n+sage-notebook\n+sage-num-threads.py\n+sage-omega\n+sage-open\n+sage-pkg\n+sage-preparse\n+sage-pypkg-location\n+sage-python\n+sage-rebase.bat\n+sage-rebase.sh\n+sage-rebaseall.bat\n+sage-rebaseall.sh\n+sage-rst2sws\n+sage-rst2txt\n+sage-rsyncdist\n+sage-run\n+sage-run-cython\n+sage-runtests\n+sage-sdist\n+sage-starts\n+sage-startuptime.py\n+sage-sws2rst\n+sage-unzip\n+sage-update-src\n+sage-update-version\n+sage-upgrade\n+sage-valgrind\n+sage-version.sh\n+testcc.sh\n+testcflags.sh\n+testcxx.sh\n+\\`\\`\\`\n+\n+\n+See also #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2020-02-21T19:14:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314805",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,81 @@
+This list includes probably:
+- \`sage-download-upstream\`
+- \`sage-fix-pkg-checksums\`
+- \`testcc.sh\` etc. (which are used by some spkg without a proper build system)
+- #25130: \`sage-dist-helpers\`
+- #23769: \`src/bin/sage-starts\` should be moved to \`build/bin\` or merged into \`build/make/deps\`
 
+and perhaps more.
+
+Full list of \`src/bin\` as of 9.1.beta4:
+
+\`\`\`
+math-readline
+sage
+sage-README-osx.txt
+sage-cachegrind
+sage-callgrind
+sage-cleaner
+sage-clone-source
+sage-coverage
+sage-coverageall
+sage-cython
+sage-download-upstream
+sage-env
+sage-env-config
+sage-env-config.in
+sage-eval
+sage-fix-pkg-checksums
+sage-fixdoctests
+sage-gdb-commands
+sage-grep
+sage-grepdoc
+sage-inline-fortran
+sage-ipynb2rst
+sage-ipython
+sage-list-experimental
+sage-list-optional
+sage-list-packages
+sage-list-standard
+sage-location
+sage-massif
+sage-maxima.lisp
+sage-native-execute
+sage-notebook
+sage-num-threads.py
+sage-omega
+sage-open
+sage-pkg
+sage-preparse
+sage-pypkg-location
+sage-python
+sage-rebase.bat
+sage-rebase.sh
+sage-rebaseall.bat
+sage-rebaseall.sh
+sage-rst2sws
+sage-rst2txt
+sage-rsyncdist
+sage-run
+sage-run-cython
+sage-runtests
+sage-sdist
+sage-starts
+sage-startuptime.py
+sage-sws2rst
+sage-unzip
+sage-update-src
+sage-update-version
+sage-upgrade
+sage-valgrind
+sage-version.sh
+testcc.sh
+testcflags.sh
+testcxx.sh
+\`\`\`
+
+
+See also #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_events_057200.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-02-21T19:14:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57200"
}
```



---

archive/issue_comments_314806.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,102 @@\n+This list includes probably:\n+- \\`sage-download-upstream\\`\n+- \\`sage-fix-pkg-checksums\\`\n+- \\`testcc.sh\\` etc. (which are used by some spkg without a proper build system)\n+- #25130: \\`sage-dist-helpers\\`\n+- #23769: \\`src/bin/sage-starts\\` should be moved to \\`build/bin\\` or merged into \\`build/make/deps\\`\n \n+and perhaps more.\n+\n+Full list of \\`src/bin\\` as of 9.1.beta4:\n+\n+Move to \\`build/bin\\` (no longer installed in SAGE_LOCAL):\n+\n+\\`\\`\\`\n+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src\n+testcc.sh\n+testcflags.sh\n+testcxx.sh\n+\\`\\`\\`\n+\n+To stay in \\`src/bin\\`, install by \\`src/setup.py\\` (#21569):\n+\n+\\`\\`\\`\n+sage\n+# Helper scripts invoked by sage script\n+sage-cachegrind\n+sage-callgrind\n+sage-valgrind\n+\n+\\`\\`\\`\n+\n+Not an executable script, move elsewhere:\n+\n+\\`\\`\\`\n+sage-README-osx.txt      # ???\n+\n+\\`\\`\\`\n+\n+To be determined:\n+\n+\\`\\`\\`\n+math-readline\n+sage-cleaner\n+sage-clone-source\n+sage-coverage\n+sage-coverageall\n+sage-cython\n+sage-download-upstream\n+sage-env\n+sage-env-config\n+sage-env-config.in\n+sage-eval\n+sage-fix-pkg-checksums\n+sage-fixdoctests\n+sage-gdb-commands\n+sage-grep\n+sage-grepdoc\n+sage-inline-fortran\n+sage-ipynb2rst\n+sage-ipython\n+sage-list-experimental\n+sage-list-optional\n+sage-list-packages\n+sage-list-standard\n+sage-location\n+sage-massif\n+sage-maxima.lisp\n+sage-native-execute\n+sage-notebook\n+sage-num-threads.py\n+sage-omega\n+sage-open\n+sage-pkg\n+sage-preparse\n+sage-pypkg-location\n+sage-python\n+sage-rebase.bat\n+sage-rebase.sh\n+sage-rebaseall.bat\n+sage-rebaseall.sh\n+sage-rst2sws\n+sage-rst2txt\n+sage-rsyncdist\n+sage-run\n+sage-run-cython\n+sage-runtests\n+sage-sdist\n+sage-starts\n+sage-startuptime.py\n+sage-sws2rst\n+sage-unzip\n+sage-update-src\n+sage-update-version\n+sage-upgrade\n+sage-version.sh\n+\\`\\`\\`\n+\n+\n+See also #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2020-02-21T19:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314806",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,102 @@
+This list includes probably:
+- \`sage-download-upstream\`
+- \`sage-fix-pkg-checksums\`
+- \`testcc.sh\` etc. (which are used by some spkg without a proper build system)
+- #25130: \`sage-dist-helpers\`
+- #23769: \`src/bin/sage-starts\` should be moved to \`build/bin\` or merged into \`build/make/deps\`
 
+and perhaps more.
+
+Full list of \`src/bin\` as of 9.1.beta4:
+
+Move to \`build/bin\` (no longer installed in SAGE_LOCAL):
+
+\`\`\`
+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src
+testcc.sh
+testcflags.sh
+testcxx.sh
+\`\`\`
+
+To stay in \`src/bin\`, install by \`src/setup.py\` (#21569):
+
+\`\`\`
+sage
+# Helper scripts invoked by sage script
+sage-cachegrind
+sage-callgrind
+sage-valgrind
+
+\`\`\`
+
+Not an executable script, move elsewhere:
+
+\`\`\`
+sage-README-osx.txt      # ???
+
+\`\`\`
+
+To be determined:
+
+\`\`\`
+math-readline
+sage-cleaner
+sage-clone-source
+sage-coverage
+sage-coverageall
+sage-cython
+sage-download-upstream
+sage-env
+sage-env-config
+sage-env-config.in
+sage-eval
+sage-fix-pkg-checksums
+sage-fixdoctests
+sage-gdb-commands
+sage-grep
+sage-grepdoc
+sage-inline-fortran
+sage-ipynb2rst
+sage-ipython
+sage-list-experimental
+sage-list-optional
+sage-list-packages
+sage-list-standard
+sage-location
+sage-massif
+sage-maxima.lisp
+sage-native-execute
+sage-notebook
+sage-num-threads.py
+sage-omega
+sage-open
+sage-pkg
+sage-preparse
+sage-pypkg-location
+sage-python
+sage-rebase.bat
+sage-rebase.sh
+sage-rebaseall.bat
+sage-rebaseall.sh
+sage-rst2sws
+sage-rst2txt
+sage-rsyncdist
+sage-run
+sage-run-cython
+sage-runtests
+sage-sdist
+sage-starts
+sage-startuptime.py
+sage-sws2rst
+sage-unzip
+sage-update-src
+sage-update-version
+sage-upgrade
+sage-version.sh
+\`\`\`
+
+
+See also #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_comments_314807.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,108 @@\n+This list includes probably:\n+- \\`sage-download-upstream\\`\n+- \\`sage-fix-pkg-checksums\\`\n+- \\`testcc.sh\\` etc. (which are used by some spkg without a proper build system)\n+- #25130: \\`sage-dist-helpers\\`\n+- #23769: \\`src/bin/sage-starts\\` should be moved to \\`build/bin\\` or merged into \\`build/make/deps\\`\n \n+and perhaps more.\n+\n+Full list of \\`src/bin\\` as of 9.1.beta4:\n+\n+Move to \\`build/bin\\` (no longer installed in SAGE_LOCAL):\n+\n+\\`\\`\\`\n+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src\n+testcc.sh\n+testcflags.sh\n+testcxx.sh\n+\\`\\`\\`\n+\n+To stay in \\`src/bin\\`, install by \\`src/setup.py\\` (#21569):\n+\n+\\`\\`\\`\n+sage\n+# Helper scripts invoked by sage script\n+sage-cachegrind\n+sage-callgrind\n+sage-valgrind\n+\n+\\`\\`\\`\n+\n+Obsolete, delete:\n+\n+\\`\\`\\`\n+sage-README-osx.txt      # see #25995, #21570\n+\n+\\`\\`\\`\n+\n+Not an executable script, move elsewhere (#21570):\n+\n+\\`\\`\\`\n+\n+\\`\\`\\`\n+\n+To be determined:\n+\n+\\`\\`\\`\n+math-readline\n+sage-cleaner\n+sage-clone-source\n+sage-coverage\n+sage-coverageall\n+sage-cython\n+sage-download-upstream\n+sage-env\n+sage-env-config\n+sage-env-config.in\n+sage-eval\n+sage-fix-pkg-checksums\n+sage-fixdoctests\n+sage-gdb-commands\n+sage-grep\n+sage-grepdoc\n+sage-inline-fortran\n+sage-ipynb2rst\n+sage-ipython\n+sage-list-experimental\n+sage-list-optional\n+sage-list-packages\n+sage-list-standard\n+sage-location\n+sage-massif\n+sage-maxima.lisp\n+sage-native-execute\n+sage-notebook\n+sage-num-threads.py\n+sage-omega\n+sage-open\n+sage-pkg\n+sage-preparse\n+sage-pypkg-location\n+sage-python\n+sage-rebase.bat\n+sage-rebase.sh\n+sage-rebaseall.bat\n+sage-rebaseall.sh\n+sage-rst2sws\n+sage-rst2txt\n+sage-rsyncdist\n+sage-run\n+sage-run-cython\n+sage-runtests\n+sage-sdist\n+sage-starts\n+sage-startuptime.py\n+sage-sws2rst\n+sage-unzip\n+sage-update-src\n+sage-update-version\n+sage-upgrade\n+sage-version.sh\n+\\`\\`\\`\n+\n+\n+See also #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2020-02-22T22:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314807",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,108 @@
+This list includes probably:
+- \`sage-download-upstream\`
+- \`sage-fix-pkg-checksums\`
+- \`testcc.sh\` etc. (which are used by some spkg without a proper build system)
+- #25130: \`sage-dist-helpers\`
+- #23769: \`src/bin/sage-starts\` should be moved to \`build/bin\` or merged into \`build/make/deps\`
 
+and perhaps more.
+
+Full list of \`src/bin\` as of 9.1.beta4:
+
+Move to \`build/bin\` (no longer installed in SAGE_LOCAL):
+
+\`\`\`
+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src
+testcc.sh
+testcflags.sh
+testcxx.sh
+\`\`\`
+
+To stay in \`src/bin\`, install by \`src/setup.py\` (#21569):
+
+\`\`\`
+sage
+# Helper scripts invoked by sage script
+sage-cachegrind
+sage-callgrind
+sage-valgrind
+
+\`\`\`
+
+Obsolete, delete:
+
+\`\`\`
+sage-README-osx.txt      # see #25995, #21570
+
+\`\`\`
+
+Not an executable script, move elsewhere (#21570):
+
+\`\`\`
+
+\`\`\`
+
+To be determined:
+
+\`\`\`
+math-readline
+sage-cleaner
+sage-clone-source
+sage-coverage
+sage-coverageall
+sage-cython
+sage-download-upstream
+sage-env
+sage-env-config
+sage-env-config.in
+sage-eval
+sage-fix-pkg-checksums
+sage-fixdoctests
+sage-gdb-commands
+sage-grep
+sage-grepdoc
+sage-inline-fortran
+sage-ipynb2rst
+sage-ipython
+sage-list-experimental
+sage-list-optional
+sage-list-packages
+sage-list-standard
+sage-location
+sage-massif
+sage-maxima.lisp
+sage-native-execute
+sage-notebook
+sage-num-threads.py
+sage-omega
+sage-open
+sage-pkg
+sage-preparse
+sage-pypkg-location
+sage-python
+sage-rebase.bat
+sage-rebase.sh
+sage-rebaseall.bat
+sage-rebaseall.sh
+sage-rst2sws
+sage-rst2txt
+sage-rsyncdist
+sage-run
+sage-run-cython
+sage-runtests
+sage-sdist
+sage-starts
+sage-startuptime.py
+sage-sws2rst
+sage-unzip
+sage-update-src
+sage-update-version
+sage-upgrade
+sage-version.sh
+\`\`\`
+
+
+See also #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_comments_314808.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,100 @@\n+This ticket cleans up \\`src/bin\\` and how its contents are installed.\n \n+Move to \\`build/bin\\` (no longer installed in SAGE_LOCAL):\n+\n+\\`\\`\\`\n+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src\n+testcc.sh\n+testcflags.sh\n+testcxx.sh\n+\\`\\`\\`\n+\n+Obsolete, delete:\n+\n+\\`\\`\\`\n+sage-README-osx.txt      # see #25995, #21570\n+\\`\\`\\`\n+\n+To stay in \\`src/bin\\`, install by \\`src/setup.py\\` using the \\`scripts\\` feature, instead of by \\`build/make/Makefile\\` (after scanning them in \\`configure\\`) (this used to be ticket #21569):\n+\n+\\`\\`\\`\n+sage\n+# Helper scripts invoked by sage script\n+sage-cachegrind\n+sage-callgrind\n+sage-valgrind\n+...\n+\\`\\`\\`\n+\n+\n+Not an executable script, move elsewhere (#21570):\n+\n+\\`\\`\\`\n+\n+\\`\\`\\`\n+\n+To be determined (see list added to \\`src/setup.py\\`):\n+\n+\\`\\`\\`\n+math-readline\n+sage-cleaner\n+sage-clone-source\n+sage-coverage\n+sage-coverageall\n+sage-cython\n+sage-download-upstream                 # -> build?\n+sage-env\n+sage-env-config\n+sage-env-config.in\n+sage-eval\n+sage-fix-pkg-checksums               # -> build?\n+sage-fixdoctests\n+sage-gdb-commands\n+sage-grep\n+sage-grepdoc\n+sage-inline-fortran\n+sage-ipynb2rst\n+sage-ipython\n+sage-list-experimental\n+sage-list-optional\n+sage-list-packages\n+sage-list-standard\n+sage-location\n+sage-massif\n+sage-maxima.lisp\n+sage-native-execute\n+sage-notebook\n+sage-num-threads.py\n+sage-omega\n+sage-open\n+sage-pkg\n+sage-preparse\n+sage-pypkg-location\n+sage-python\n+sage-rebase.bat\n+sage-rebase.sh\n+sage-rebaseall.bat\n+sage-rebaseall.sh\n+sage-rst2sws\n+sage-rst2txt\n+sage-rsyncdist\n+sage-run\n+sage-run-cython\n+sage-runtests\n+sage-sdist\n+sage-starts                    #23769: \\`src/bin/sage-starts\\` should be moved to \\`build/bin\\` or merged into \\`build/make/deps\\`\n+sage-startuptime.py\n+sage-sws2rst\n+sage-unzip\n+sage-update-src\n+sage-update-version\n+sage-upgrade\n+sage-version.sh\n+\\`\\`\\`\n+\n+(Based on the full list of \\`src/bin\\` as of 9.1.beta4.)\n+\n+See also #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2020-03-03T00:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314808",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,100 @@
+This ticket cleans up \`src/bin\` and how its contents are installed.
 
+Move to \`build/bin\` (no longer installed in SAGE_LOCAL):
+
+\`\`\`
+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src
+testcc.sh
+testcflags.sh
+testcxx.sh
+\`\`\`
+
+Obsolete, delete:
+
+\`\`\`
+sage-README-osx.txt      # see #25995, #21570
+\`\`\`
+
+To stay in \`src/bin\`, install by \`src/setup.py\` using the \`scripts\` feature, instead of by \`build/make/Makefile\` (after scanning them in \`configure\`) (this used to be ticket #21569):
+
+\`\`\`
+sage
+# Helper scripts invoked by sage script
+sage-cachegrind
+sage-callgrind
+sage-valgrind
+...
+\`\`\`
+
+
+Not an executable script, move elsewhere (#21570):
+
+\`\`\`
+
+\`\`\`
+
+To be determined (see list added to \`src/setup.py\`):
+
+\`\`\`
+math-readline
+sage-cleaner
+sage-clone-source
+sage-coverage
+sage-coverageall
+sage-cython
+sage-download-upstream                 # -> build?
+sage-env
+sage-env-config
+sage-env-config.in
+sage-eval
+sage-fix-pkg-checksums               # -> build?
+sage-fixdoctests
+sage-gdb-commands
+sage-grep
+sage-grepdoc
+sage-inline-fortran
+sage-ipynb2rst
+sage-ipython
+sage-list-experimental
+sage-list-optional
+sage-list-packages
+sage-list-standard
+sage-location
+sage-massif
+sage-maxima.lisp
+sage-native-execute
+sage-notebook
+sage-num-threads.py
+sage-omega
+sage-open
+sage-pkg
+sage-preparse
+sage-pypkg-location
+sage-python
+sage-rebase.bat
+sage-rebase.sh
+sage-rebaseall.bat
+sage-rebaseall.sh
+sage-rst2sws
+sage-rst2txt
+sage-rsyncdist
+sage-run
+sage-run-cython
+sage-runtests
+sage-sdist
+sage-starts                    #23769: \`src/bin/sage-starts\` should be moved to \`build/bin\` or merged into \`build/make/deps\`
+sage-startuptime.py
+sage-sws2rst
+sage-unzip
+sage-update-src
+sage-update-version
+sage-upgrade
+sage-version.sh
+\`\`\`
+
+(Based on the full list of \`src/bin\` as of 9.1.beta4.)
+
+See also #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_comments_314809.json:
```json
{
    "body": "<a id='comment:16'></a>New commits:",
    "created_at": "2020-03-03T00:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314809",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>New commits:



---

archive/issue_comments_314810.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-03T00:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314810",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314811.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,94 @@\n+This ticket cleans up \\`src/bin\\` and how its contents are installed.\n \n+Move to \\`build/bin\\` (no longer installed in SAGE_LOCAL):\n+\n+\\`\\`\\`\n+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src\n+testcc.sh\n+testcflags.sh\n+testcxx.sh\n+# Only used by build/make/deps\n+sage-starts                    \n+\\`\\`\\`\n+\n+Obsolete, delete:\n+\n+\\`\\`\\`\n+sage-README-osx.txt      # see #25995, #21570\n+\\`\\`\\`\n+\n+This ticket leaves all remaining files in \\`src/bin\\`, but changes their installation to be done by \\`src/setup.py\\` using the \\`scripts\\` feature, instead of by \\`build/make/Makefile\\` (after scanning them in \\`configure\\`) (this used to be ticket #21569).\n+\n+In follow-up tickets, \\`src/bin\\` could be cleaned up more.  See the list of files added on this ticket to \\`src/setup.py\\`.\n+\n+Not an executable script, move elsewhere (#21570):\n+\n+\\`\\`\\`\n+\n+\\`\\`\\`\n+\n+To be determined (see list):\n+\n+\\`\\`\\`\n+math-readline\n+sage-cleaner\n+sage-clone-source\n+sage-coverage\n+sage-coverageall\n+sage-cython\n+sage-download-upstream                 # -> build?\n+sage-env\n+sage-env-config\n+sage-env-config.in\n+sage-eval\n+sage-fix-pkg-checksums               # -> build?\n+sage-fixdoctests\n+sage-gdb-commands\n+sage-grep\n+sage-grepdoc\n+sage-inline-fortran\n+sage-ipynb2rst\n+sage-ipython\n+sage-list-experimental\n+sage-list-optional\n+sage-list-packages\n+sage-list-standard\n+sage-location\n+sage-massif\n+sage-maxima.lisp\n+sage-native-execute\n+sage-notebook\n+sage-num-threads.py\n+sage-omega\n+sage-open\n+sage-pkg\n+sage-preparse\n+sage-pypkg-location\n+sage-python\n+sage-rebase.bat\n+sage-rebase.sh\n+sage-rebaseall.bat\n+sage-rebaseall.sh\n+sage-rst2sws\n+sage-rst2txt\n+sage-rsyncdist\n+sage-run\n+sage-run-cython\n+sage-runtests\n+sage-sdist\n+sage-startuptime.py\n+sage-sws2rst\n+sage-unzip\n+sage-update-src\n+sage-update-version\n+sage-upgrade\n+sage-version.sh\n+\\`\\`\\`\n+\n+(Based on the full list of \\`src/bin\\` as of 9.1.beta4.)\n+\n+See also \n+- #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2020-03-03T00:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314811",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,94 @@
+This ticket cleans up \`src/bin\` and how its contents are installed.
 
+Move to \`build/bin\` (no longer installed in SAGE_LOCAL):
+
+\`\`\`
+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src
+testcc.sh
+testcflags.sh
+testcxx.sh
+# Only used by build/make/deps
+sage-starts                    
+\`\`\`
+
+Obsolete, delete:
+
+\`\`\`
+sage-README-osx.txt      # see #25995, #21570
+\`\`\`
+
+This ticket leaves all remaining files in \`src/bin\`, but changes their installation to be done by \`src/setup.py\` using the \`scripts\` feature, instead of by \`build/make/Makefile\` (after scanning them in \`configure\`) (this used to be ticket #21569).
+
+In follow-up tickets, \`src/bin\` could be cleaned up more.  See the list of files added on this ticket to \`src/setup.py\`.
+
+Not an executable script, move elsewhere (#21570):
+
+\`\`\`
+
+\`\`\`
+
+To be determined (see list):
+
+\`\`\`
+math-readline
+sage-cleaner
+sage-clone-source
+sage-coverage
+sage-coverageall
+sage-cython
+sage-download-upstream                 # -> build?
+sage-env
+sage-env-config
+sage-env-config.in
+sage-eval
+sage-fix-pkg-checksums               # -> build?
+sage-fixdoctests
+sage-gdb-commands
+sage-grep
+sage-grepdoc
+sage-inline-fortran
+sage-ipynb2rst
+sage-ipython
+sage-list-experimental
+sage-list-optional
+sage-list-packages
+sage-list-standard
+sage-location
+sage-massif
+sage-maxima.lisp
+sage-native-execute
+sage-notebook
+sage-num-threads.py
+sage-omega
+sage-open
+sage-pkg
+sage-preparse
+sage-pypkg-location
+sage-python
+sage-rebase.bat
+sage-rebase.sh
+sage-rebaseall.bat
+sage-rebaseall.sh
+sage-rst2sws
+sage-rst2txt
+sage-rsyncdist
+sage-run
+sage-run-cython
+sage-runtests
+sage-sdist
+sage-startuptime.py
+sage-sws2rst
+sage-unzip
+sage-update-src
+sage-update-version
+sage-upgrade
+sage-version.sh
+\`\`\`
+
+(Based on the full list of \`src/bin\` as of 9.1.beta4.)
+
+See also 
+- #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_comments_314812.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-03T00:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314812",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_314813.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,92 @@\n+This ticket cleans up \\`src/bin\\` and how its contents are installed.\n \n+Move to \\`build/bin\\` (no longer installed in SAGE_LOCAL):\n+\n+\\`\\`\\`\n+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src\n+testcc.sh\n+testcflags.sh\n+testcxx.sh\n+# Only used by build/make/deps\n+sage-starts                    \n+\\`\\`\\`\n+\n+Obsolete, delete:\n+\n+\\`\\`\\`\n+sage-README-osx.txt      # see #25995, #21570\n+\\`\\`\\`\n+\n+This ticket leaves all remaining files in \\`src/bin\\`, but changes their installation to be done by \\`src/setup.py\\` using the \\`scripts\\` feature, instead of by \\`build/make/Makefile\\` (after scanning them in \\`configure\\`) (this used to be ticket #21569).\n+\n+In follow-up tickets, \\`src/bin\\` could be cleaned up more.  See the list of files added on this ticket to \\`src/setup.py\\`.\n+\n+Not an executable script, move elsewhere (#21570):\n+\n+\\`\\`\\`\n+\n+\\`\\`\\`\n+\n+To be determined (see list):\n+\n+\\`\\`\\`\n+math-readline\n+sage-cleaner\n+sage-clone-source\n+sage-coverage\n+sage-coverageall\n+sage-cython\n+sage-download-upstream                 # -> build?\n+sage-env\n+sage-env-config\n+sage-env-config.in\n+sage-eval\n+sage-fix-pkg-checksums               # -> build?\n+sage-fixdoctests\n+sage-gdb-commands\n+sage-grep\n+sage-grepdoc\n+sage-inline-fortran\n+sage-ipynb2rst\n+sage-ipython\n+sage-list-experimental\n+sage-list-optional\n+sage-list-packages\n+sage-list-standard\n+sage-location\n+sage-maxima.lisp\n+sage-native-execute\n+sage-notebook\n+sage-num-threads.py\n+sage-open\n+sage-pkg\n+sage-preparse\n+sage-pypkg-location\n+sage-python\n+sage-rebase.bat\n+sage-rebase.sh\n+sage-rebaseall.bat\n+sage-rebaseall.sh\n+sage-rst2sws\n+sage-rst2txt\n+sage-rsyncdist\n+sage-run\n+sage-run-cython\n+sage-runtests\n+sage-sdist\n+sage-startuptime.py\n+sage-sws2rst\n+sage-unzip\n+sage-update-src\n+sage-update-version\n+sage-upgrade\n+sage-version.sh\n+\\`\\`\\`\n+\n+(Based on the full list of \\`src/bin\\` as of 9.1.beta4.)\n+\n+See also \n+- #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2020-03-03T00:22:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314813",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,92 @@
+This ticket cleans up \`src/bin\` and how its contents are installed.
 
+Move to \`build/bin\` (no longer installed in SAGE_LOCAL):
+
+\`\`\`
+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src
+testcc.sh
+testcflags.sh
+testcxx.sh
+# Only used by build/make/deps
+sage-starts                    
+\`\`\`
+
+Obsolete, delete:
+
+\`\`\`
+sage-README-osx.txt      # see #25995, #21570
+\`\`\`
+
+This ticket leaves all remaining files in \`src/bin\`, but changes their installation to be done by \`src/setup.py\` using the \`scripts\` feature, instead of by \`build/make/Makefile\` (after scanning them in \`configure\`) (this used to be ticket #21569).
+
+In follow-up tickets, \`src/bin\` could be cleaned up more.  See the list of files added on this ticket to \`src/setup.py\`.
+
+Not an executable script, move elsewhere (#21570):
+
+\`\`\`
+
+\`\`\`
+
+To be determined (see list):
+
+\`\`\`
+math-readline
+sage-cleaner
+sage-clone-source
+sage-coverage
+sage-coverageall
+sage-cython
+sage-download-upstream                 # -> build?
+sage-env
+sage-env-config
+sage-env-config.in
+sage-eval
+sage-fix-pkg-checksums               # -> build?
+sage-fixdoctests
+sage-gdb-commands
+sage-grep
+sage-grepdoc
+sage-inline-fortran
+sage-ipynb2rst
+sage-ipython
+sage-list-experimental
+sage-list-optional
+sage-list-packages
+sage-list-standard
+sage-location
+sage-maxima.lisp
+sage-native-execute
+sage-notebook
+sage-num-threads.py
+sage-open
+sage-pkg
+sage-preparse
+sage-pypkg-location
+sage-python
+sage-rebase.bat
+sage-rebase.sh
+sage-rebaseall.bat
+sage-rebaseall.sh
+sage-rst2sws
+sage-rst2txt
+sage-rsyncdist
+sage-run
+sage-run-cython
+sage-runtests
+sage-sdist
+sage-startuptime.py
+sage-sws2rst
+sage-unzip
+sage-update-src
+sage-update-version
+sage-upgrade
+sage-version.sh
+\`\`\`
+
+(Based on the full list of \`src/bin\` as of 9.1.beta4.)
+
+See also 
+- #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_comments_314814.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-08T20:38:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314814",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314815.json:
```json
{
    "body": "<a id='comment:22'></a>This ticket could use some help from distribution packagers...",
    "created_at": "2020-03-17T03:45:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314815",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>This ticket could use some help from distribution packagers...



---

archive/issue_comments_314816.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-18T01:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314816",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_314817.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-18T02:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314817",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314818.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,92 @@\n+This ticket cleans up \\`src/bin\\` and how its contents are installed.\n \n+Move to \\`build/bin\\` (no longer installed in SAGE_LOCAL):\n+\n+\\`\\`\\`\n+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src\n+testcc.sh\n+testcflags.sh\n+testcxx.sh\n+# Only used by build/make/deps\n+sage-starts                    \n+\\`\\`\\`\n+\n+Obsolete, delete:\n+\n+\\`\\`\\`\n+sage-README-osx.txt      # see #25995, #21570\n+sage-pkg       # a script to create old-style spkgs\n+sage-unzip   # unused\n+\\`\\`\\`\n+\n+This ticket leaves all remaining files in \\`src/bin\\`, but changes their installation to be done by \\`src/setup.py\\` using the \\`scripts\\` feature, instead of by \\`build/make/Makefile\\` (after scanning them in \\`configure\\`) (this used to be ticket #21569).\n+\n+In follow-up tickets, \\`src/bin\\` could be cleaned up more.  See the list of files added on this ticket to \\`src/setup.py\\`.\n+\n+Not an executable script, move elsewhere (#21570):\n+\n+\\`\\`\\`\n+\n+\\`\\`\\`\n+\n+To be determined (see list):\n+\n+\\`\\`\\`\n+math-readline\n+sage-cleaner\n+sage-clone-source\n+sage-coverage\n+sage-coverageall\n+sage-cython\n+sage-download-upstream                 # -> build?\n+sage-env\n+sage-env-config\n+sage-env-config.in\n+sage-eval\n+sage-fix-pkg-checksums               # -> build?\n+sage-fixdoctests\n+sage-gdb-commands\n+sage-grep\n+sage-grepdoc\n+sage-inline-fortran\n+sage-ipynb2rst\n+sage-ipython\n+sage-list-experimental\n+sage-list-optional\n+sage-list-packages\n+sage-list-standard\n+sage-location\n+sage-maxima.lisp\n+sage-native-execute\n+sage-notebook\n+sage-num-threads.py\n+sage-open\n+sage-preparse\n+sage-pypkg-location\n+sage-python\n+sage-rebase.bat\n+sage-rebase.sh\n+sage-rebaseall.bat\n+sage-rebaseall.sh\n+sage-rst2sws\n+sage-rst2txt\n+sage-rsyncdist\n+sage-run\n+sage-run-cython\n+sage-runtests\n+sage-sdist\n+sage-startuptime.py\n+sage-sws2rst\n+sage-update-src\n+sage-update-version\n+sage-upgrade\n+sage-version.sh\n+\\`\\`\\`\n+\n+(Based on the full list of \\`src/bin\\` as of 9.1.beta4.)\n+\n+See also \n+- #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2020-03-18T02:28:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314818",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,92 @@
+This ticket cleans up \`src/bin\` and how its contents are installed.
 
+Move to \`build/bin\` (no longer installed in SAGE_LOCAL):
+
+\`\`\`
+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src
+testcc.sh
+testcflags.sh
+testcxx.sh
+# Only used by build/make/deps
+sage-starts                    
+\`\`\`
+
+Obsolete, delete:
+
+\`\`\`
+sage-README-osx.txt      # see #25995, #21570
+sage-pkg       # a script to create old-style spkgs
+sage-unzip   # unused
+\`\`\`
+
+This ticket leaves all remaining files in \`src/bin\`, but changes their installation to be done by \`src/setup.py\` using the \`scripts\` feature, instead of by \`build/make/Makefile\` (after scanning them in \`configure\`) (this used to be ticket #21569).
+
+In follow-up tickets, \`src/bin\` could be cleaned up more.  See the list of files added on this ticket to \`src/setup.py\`.
+
+Not an executable script, move elsewhere (#21570):
+
+\`\`\`
+
+\`\`\`
+
+To be determined (see list):
+
+\`\`\`
+math-readline
+sage-cleaner
+sage-clone-source
+sage-coverage
+sage-coverageall
+sage-cython
+sage-download-upstream                 # -> build?
+sage-env
+sage-env-config
+sage-env-config.in
+sage-eval
+sage-fix-pkg-checksums               # -> build?
+sage-fixdoctests
+sage-gdb-commands
+sage-grep
+sage-grepdoc
+sage-inline-fortran
+sage-ipynb2rst
+sage-ipython
+sage-list-experimental
+sage-list-optional
+sage-list-packages
+sage-list-standard
+sage-location
+sage-maxima.lisp
+sage-native-execute
+sage-notebook
+sage-num-threads.py
+sage-open
+sage-preparse
+sage-pypkg-location
+sage-python
+sage-rebase.bat
+sage-rebase.sh
+sage-rebaseall.bat
+sage-rebaseall.sh
+sage-rst2sws
+sage-rst2txt
+sage-rsyncdist
+sage-run
+sage-run-cython
+sage-runtests
+sage-sdist
+sage-startuptime.py
+sage-sws2rst
+sage-update-src
+sage-update-version
+sage-upgrade
+sage-version.sh
+\`\`\`
+
+(Based on the full list of \`src/bin\` as of 9.1.beta4.)
+
+See also 
+- #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_comments_314819.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-19T17:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314819",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_314820.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,97 @@\n+This ticket cleans up \\`src/bin\\` and how its contents are installed.\n \n+Move to \\`build/bin\\` (no longer installed in SAGE_LOCAL):\n+\n+\\`\\`\\`\n+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src\n+testcc.sh\n+testcflags.sh\n+testcxx.sh\n+# Only used by build/make/deps\n+sage-starts                    \n+\\`\\`\\`\n+\n+Obsolete, delete:\n+\n+\\`\\`\\`\n+sage-README-osx.txt      # see #25995, #21570\n+sage-pkg       # a script to create old-style spkgs\n+sage-unzip   # unused\n+\\`\\`\\`\n+\n+Install by a script package \\`sage-distribution-scripts\\`? These would be scripts that only sage-the-distribution would install in SAGE_LOCAL, but would not be in OS packages:\n+\n+\\`\\`\\`\n+sage-list-experimental\n+sage-list-optional\n+sage-list-packages\n+sage-list-standard\n+\\`\\`\\`\n+\n+This ticket leaves all remaining files in \\`src/bin\\`, but changes their installation to be done by \\`src/setup.py\\` using the \\`scripts\\` feature, instead of by \\`build/make/Makefile\\` (after scanning them in \\`configure\\`) (this used to be ticket #21569).\n+\n+In follow-up tickets, \\`src/bin\\` could be cleaned up more.  See the list of files added on this ticket to \\`src/setup.py\\`.\n+\n+Not an executable script, move elsewhere (#21570):\n+\n+\\`\\`\\`\n+\n+\\`\\`\\`\n+\n+To be determined (see list):\n+\n+\\`\\`\\`\n+math-readline\n+sage-cleaner\n+sage-clone-source\n+sage-coverage\n+sage-coverageall\n+sage-cython\n+sage-download-upstream                 # -> build?\n+sage-env\n+sage-env-config\n+sage-env-config.in\n+sage-eval\n+sage-fix-pkg-checksums               # -> build?\n+sage-fixdoctests\n+sage-gdb-commands\n+sage-grep\n+sage-grepdoc\n+sage-inline-fortran\n+sage-ipynb2rst\n+sage-ipython\n+sage-location\n+sage-maxima.lisp\n+sage-native-execute\n+sage-notebook\n+sage-num-threads.py\n+sage-open\n+sage-preparse\n+sage-pypkg-location\n+sage-python\n+sage-rebase.bat\n+sage-rebase.sh\n+sage-rebaseall.bat\n+sage-rebaseall.sh\n+sage-rst2sws\n+sage-rst2txt\n+sage-rsyncdist\n+sage-run\n+sage-run-cython\n+sage-runtests\n+sage-sdist\n+sage-startuptime.py\n+sage-sws2rst\n+sage-update-src\n+sage-update-version\n+sage-upgrade\n+sage-version.sh\n+\\`\\`\\`\n+\n+(Based on the full list of \\`src/bin\\` as of 9.1.beta4.)\n+\n+See also \n+- #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2020-03-21T13:41:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314820",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,97 @@
+This ticket cleans up \`src/bin\` and how its contents are installed.
 
+Move to \`build/bin\` (no longer installed in SAGE_LOCAL):
+
+\`\`\`
+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src
+testcc.sh
+testcflags.sh
+testcxx.sh
+# Only used by build/make/deps
+sage-starts                    
+\`\`\`
+
+Obsolete, delete:
+
+\`\`\`
+sage-README-osx.txt      # see #25995, #21570
+sage-pkg       # a script to create old-style spkgs
+sage-unzip   # unused
+\`\`\`
+
+Install by a script package \`sage-distribution-scripts\`? These would be scripts that only sage-the-distribution would install in SAGE_LOCAL, but would not be in OS packages:
+
+\`\`\`
+sage-list-experimental
+sage-list-optional
+sage-list-packages
+sage-list-standard
+\`\`\`
+
+This ticket leaves all remaining files in \`src/bin\`, but changes their installation to be done by \`src/setup.py\` using the \`scripts\` feature, instead of by \`build/make/Makefile\` (after scanning them in \`configure\`) (this used to be ticket #21569).
+
+In follow-up tickets, \`src/bin\` could be cleaned up more.  See the list of files added on this ticket to \`src/setup.py\`.
+
+Not an executable script, move elsewhere (#21570):
+
+\`\`\`
+
+\`\`\`
+
+To be determined (see list):
+
+\`\`\`
+math-readline
+sage-cleaner
+sage-clone-source
+sage-coverage
+sage-coverageall
+sage-cython
+sage-download-upstream                 # -> build?
+sage-env
+sage-env-config
+sage-env-config.in
+sage-eval
+sage-fix-pkg-checksums               # -> build?
+sage-fixdoctests
+sage-gdb-commands
+sage-grep
+sage-grepdoc
+sage-inline-fortran
+sage-ipynb2rst
+sage-ipython
+sage-location
+sage-maxima.lisp
+sage-native-execute
+sage-notebook
+sage-num-threads.py
+sage-open
+sage-preparse
+sage-pypkg-location
+sage-python
+sage-rebase.bat
+sage-rebase.sh
+sage-rebaseall.bat
+sage-rebaseall.sh
+sage-rst2sws
+sage-rst2txt
+sage-rsyncdist
+sage-run
+sage-run-cython
+sage-runtests
+sage-sdist
+sage-startuptime.py
+sage-sws2rst
+sage-update-src
+sage-update-version
+sage-upgrade
+sage-version.sh
+\`\`\`
+
+(Based on the full list of \`src/bin\` as of 9.1.beta4.)
+
+See also 
+- #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_comments_314821.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,108 @@\n+This ticket cleans up \\`src/bin\\` and how its contents are installed.\n \n+Move to \\`build/bin\\` (no longer installed in SAGE_LOCAL):\n+\n+\\`\\`\\`\n+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src\n+testcc.sh\n+testcflags.sh\n+testcxx.sh\n+# Only used by build/make/deps\n+sage-starts                    \n+\\`\\`\\`\n+\n+Obsolete, delete:\n+\n+\\`\\`\\`\n+sage-README-osx.txt      # see #25995, #21570\n+sage-pkg       # a script to create old-style spkgs\n+sage-unzip   # unused\n+\\`\\`\\`\n+\n+Install by a script package \\`sage-distribution-scripts\\`? These would be scripts that only sage-the-distribution would install in SAGE_LOCAL, but would not be in OS packages:\n+\n+\\`\\`\\`\n+sage-list-experimental\n+sage-list-optional\n+sage-list-packages\n+sage-list-standard\n+\\`\\`\\`\n+\n+Left in \\`src/bin\\`, installation changed to be done by \\`src/setup.py\\` using the \\`scripts\\` feature, instead of by \\`build/make/Makefile\\` (after scanning them in \\`configure\\`) (this used to be ticket #21569). All of these scripts must be useful in OS packaging of sagelib as well:\n+\n+\\`\\`\\`\n+sage\n+sage-eval       #??\n+\n+\\`\\`\\`\n+\n+Helper scripts that have no business of being in the user's PATH. They belong to something like libexec. Perhaps \\`src/sage/ext_data/libexec\\`?\n+\n+\\`\\`\\`\n+sage-version.sh\n+\n+\\`\\`\\`\n+\n+In follow-up tickets, \\`src/bin\\` could be cleaned up more.  See the list of files added on this ticket to \\`src/setup.py\\`.\n+\n+Not an executable script, move elsewhere (#21570):\n+\n+\\`\\`\\`\n+\n+\\`\\`\\`\n+\n+To be determined (see list):\n+\n+\\`\\`\\`\n+math-readline\n+sage-cleaner\n+sage-clone-source\n+sage-coverage\n+sage-coverageall\n+sage-cython\n+sage-download-upstream                 # -> build?\n+sage-env\n+sage-env-config\n+sage-env-config.in\n+sage-fix-pkg-checksums               # -> build?\n+sage-fixdoctests\n+sage-gdb-commands\n+sage-grep\n+sage-grepdoc\n+sage-inline-fortran\n+sage-ipynb2rst\n+sage-ipython\n+sage-location\n+sage-maxima.lisp\n+sage-native-execute\n+sage-notebook\n+sage-num-threads.py\n+sage-open\n+sage-preparse\n+sage-pypkg-location\n+sage-python\n+sage-rebase.bat\n+sage-rebase.sh\n+sage-rebaseall.bat\n+sage-rebaseall.sh\n+sage-rst2sws\n+sage-rst2txt\n+sage-rsyncdist\n+sage-run\n+sage-run-cython\n+sage-runtests\n+sage-sdist\n+sage-startuptime.py\n+sage-sws2rst\n+sage-update-src\n+sage-update-version\n+sage-upgrade\n+\\`\\`\\`\n+\n+(Based on the full list of \\`src/bin\\` as of 9.1.beta4.)\n+\n+See also \n+- #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2020-03-21T13:47:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314821",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,108 @@
+This ticket cleans up \`src/bin\` and how its contents are installed.
 
+Move to \`build/bin\` (no longer installed in SAGE_LOCAL):
+
+\`\`\`
+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src
+testcc.sh
+testcflags.sh
+testcxx.sh
+# Only used by build/make/deps
+sage-starts                    
+\`\`\`
+
+Obsolete, delete:
+
+\`\`\`
+sage-README-osx.txt      # see #25995, #21570
+sage-pkg       # a script to create old-style spkgs
+sage-unzip   # unused
+\`\`\`
+
+Install by a script package \`sage-distribution-scripts\`? These would be scripts that only sage-the-distribution would install in SAGE_LOCAL, but would not be in OS packages:
+
+\`\`\`
+sage-list-experimental
+sage-list-optional
+sage-list-packages
+sage-list-standard
+\`\`\`
+
+Left in \`src/bin\`, installation changed to be done by \`src/setup.py\` using the \`scripts\` feature, instead of by \`build/make/Makefile\` (after scanning them in \`configure\`) (this used to be ticket #21569). All of these scripts must be useful in OS packaging of sagelib as well:
+
+\`\`\`
+sage
+sage-eval       #??
+
+\`\`\`
+
+Helper scripts that have no business of being in the user's PATH. They belong to something like libexec. Perhaps \`src/sage/ext_data/libexec\`?
+
+\`\`\`
+sage-version.sh
+
+\`\`\`
+
+In follow-up tickets, \`src/bin\` could be cleaned up more.  See the list of files added on this ticket to \`src/setup.py\`.
+
+Not an executable script, move elsewhere (#21570):
+
+\`\`\`
+
+\`\`\`
+
+To be determined (see list):
+
+\`\`\`
+math-readline
+sage-cleaner
+sage-clone-source
+sage-coverage
+sage-coverageall
+sage-cython
+sage-download-upstream                 # -> build?
+sage-env
+sage-env-config
+sage-env-config.in
+sage-fix-pkg-checksums               # -> build?
+sage-fixdoctests
+sage-gdb-commands
+sage-grep
+sage-grepdoc
+sage-inline-fortran
+sage-ipynb2rst
+sage-ipython
+sage-location
+sage-maxima.lisp
+sage-native-execute
+sage-notebook
+sage-num-threads.py
+sage-open
+sage-preparse
+sage-pypkg-location
+sage-python
+sage-rebase.bat
+sage-rebase.sh
+sage-rebaseall.bat
+sage-rebaseall.sh
+sage-rst2sws
+sage-rst2txt
+sage-rsyncdist
+sage-run
+sage-run-cython
+sage-runtests
+sage-sdist
+sage-startuptime.py
+sage-sws2rst
+sage-update-src
+sage-update-version
+sage-upgrade
+\`\`\`
+
+(Based on the full list of \`src/bin\` as of 9.1.beta4.)
+
+See also 
+- #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_comments_314822.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,108 @@\n+This ticket cleans up \\`src/bin\\` and how its contents are installed. One of its goals is to make the \\`sagelib\\` installation done by \\`src/setup.py\\` self-contained regarding the scripts that it needs at runtime.\n \n+Move to \\`build/bin\\` (no longer installed in SAGE_LOCAL):\n+\n+\\`\\`\\`\n+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src\n+testcc.sh\n+testcflags.sh\n+testcxx.sh\n+# Only used by build/make/deps\n+sage-starts                    \n+\\`\\`\\`\n+\n+Obsolete, delete:\n+\n+\\`\\`\\`\n+sage-README-osx.txt      # see #25995, #21570\n+sage-pkg       # a script to create old-style spkgs\n+sage-unzip   # unused\n+\\`\\`\\`\n+\n+Install by a script package \\`sage-distribution-scripts\\`? These would be scripts that only sage-the-distribution would install in SAGE_LOCAL, but would not be in OS packages:\n+\n+\\`\\`\\`\n+sage-list-experimental\n+sage-list-optional\n+sage-list-packages\n+sage-list-standard\n+\\`\\`\\`\n+\n+Left in \\`src/bin\\`, installation changed to be done by \\`src/setup.py\\` using the \\`scripts\\` feature, instead of by \\`build/make/Makefile\\` (after scanning them in \\`configure\\`) (this used to be ticket #21569). All of these scripts must be useful in OS packaging of sagelib as well:\n+\n+\\`\\`\\`\n+sage\n+sage-eval       #??\n+\n+\\`\\`\\`\n+\n+Helper scripts that have no business of being in the user's PATH. They belong to something like libexec. Perhaps \\`src/sage/ext_data/libexec\\`?\n+\n+\\`\\`\\`\n+sage-version.sh\n+\n+\\`\\`\\`\n+\n+In follow-up tickets, \\`src/bin\\` could be cleaned up more.  See the list of files added on this ticket to \\`src/setup.py\\`.\n+\n+Not an executable script, move elsewhere (#21570):\n+\n+\\`\\`\\`\n+\n+\\`\\`\\`\n+\n+To be determined (see list):\n+\n+\\`\\`\\`\n+math-readline\n+sage-cleaner\n+sage-clone-source\n+sage-coverage\n+sage-coverageall\n+sage-cython\n+sage-download-upstream                 # -> build?\n+sage-env\n+sage-env-config\n+sage-env-config.in\n+sage-fix-pkg-checksums               # -> build?\n+sage-fixdoctests\n+sage-gdb-commands\n+sage-grep\n+sage-grepdoc\n+sage-inline-fortran\n+sage-ipynb2rst\n+sage-ipython\n+sage-location\n+sage-maxima.lisp\n+sage-native-execute\n+sage-notebook\n+sage-num-threads.py\n+sage-open\n+sage-preparse\n+sage-pypkg-location\n+sage-python\n+sage-rebase.bat\n+sage-rebase.sh\n+sage-rebaseall.bat\n+sage-rebaseall.sh\n+sage-rst2sws\n+sage-rst2txt\n+sage-rsyncdist\n+sage-run\n+sage-run-cython\n+sage-runtests\n+sage-sdist\n+sage-startuptime.py\n+sage-sws2rst\n+sage-update-src\n+sage-update-version\n+sage-upgrade\n+\\`\\`\\`\n+\n+(Based on the full list of \\`src/bin\\` as of 9.1.beta4.)\n+\n+See also \n+- #21707: Split sage-env into sage-build-env and sage-env\n \n Comment: 1\n \n```\n",
    "created_at": "2020-03-21T15:41:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314822",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,108 @@
+This ticket cleans up \`src/bin\` and how its contents are installed. One of its goals is to make the \`sagelib\` installation done by \`src/setup.py\` self-contained regarding the scripts that it needs at runtime.
 
+Move to \`build/bin\` (no longer installed in SAGE_LOCAL):
+
+\`\`\`
+# Used only by some build/pkgs/SPKG/spkg-install scripts, not by anything in src
+testcc.sh
+testcflags.sh
+testcxx.sh
+# Only used by build/make/deps
+sage-starts                    
+\`\`\`
+
+Obsolete, delete:
+
+\`\`\`
+sage-README-osx.txt      # see #25995, #21570
+sage-pkg       # a script to create old-style spkgs
+sage-unzip   # unused
+\`\`\`
+
+Install by a script package \`sage-distribution-scripts\`? These would be scripts that only sage-the-distribution would install in SAGE_LOCAL, but would not be in OS packages:
+
+\`\`\`
+sage-list-experimental
+sage-list-optional
+sage-list-packages
+sage-list-standard
+\`\`\`
+
+Left in \`src/bin\`, installation changed to be done by \`src/setup.py\` using the \`scripts\` feature, instead of by \`build/make/Makefile\` (after scanning them in \`configure\`) (this used to be ticket #21569). All of these scripts must be useful in OS packaging of sagelib as well:
+
+\`\`\`
+sage
+sage-eval       #??
+
+\`\`\`
+
+Helper scripts that have no business of being in the user's PATH. They belong to something like libexec. Perhaps \`src/sage/ext_data/libexec\`?
+
+\`\`\`
+sage-version.sh
+
+\`\`\`
+
+In follow-up tickets, \`src/bin\` could be cleaned up more.  See the list of files added on this ticket to \`src/setup.py\`.
+
+Not an executable script, move elsewhere (#21570):
+
+\`\`\`
+
+\`\`\`
+
+To be determined (see list):
+
+\`\`\`
+math-readline
+sage-cleaner
+sage-clone-source
+sage-coverage
+sage-coverageall
+sage-cython
+sage-download-upstream                 # -> build?
+sage-env
+sage-env-config
+sage-env-config.in
+sage-fix-pkg-checksums               # -> build?
+sage-fixdoctests
+sage-gdb-commands
+sage-grep
+sage-grepdoc
+sage-inline-fortran
+sage-ipynb2rst
+sage-ipython
+sage-location
+sage-maxima.lisp
+sage-native-execute
+sage-notebook
+sage-num-threads.py
+sage-open
+sage-preparse
+sage-pypkg-location
+sage-python
+sage-rebase.bat
+sage-rebase.sh
+sage-rebaseall.bat
+sage-rebaseall.sh
+sage-rst2sws
+sage-rst2txt
+sage-rsyncdist
+sage-run
+sage-run-cython
+sage-runtests
+sage-sdist
+sage-startuptime.py
+sage-sws2rst
+sage-update-src
+sage-update-version
+sage-upgrade
+\`\`\`
+
+(Based on the full list of \`src/bin\` as of 9.1.beta4.)
+
+See also 
+- #21707: Split sage-env into sage-build-env and sage-env
 
 Comment: 1
 
```




---

archive/issue_comments_314823.json:
```json
{
    "body": "<a id='comment:31'></a>This breaks if you try to install sagelib with setup.py without running configure first (as some distros do) since sage-env-config doesn't exist in that case. At least sage-env and sage-env-config should be optional.",
    "created_at": "2020-03-21T18:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314823",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:31'></a>This breaks if you try to install sagelib with setup.py without running configure first (as some distros do) since sage-env-config doesn't exist in that case. At least sage-env and sage-env-config should be optional.



---

archive/issue_comments_314824.json:
```json
{
    "body": "<a id='comment:32'></a>Can this build also configure a better link or communication between SAGE_LOCAL or SAGE_SCRIPTS_DIR variables?",
    "created_at": "2020-03-21T20:41:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314824",
    "user": "https://github.com/Shlokatadistance"
}
```

<a id='comment:32'></a>Can this build also configure a better link or communication between SAGE_LOCAL or SAGE_SCRIPTS_DIR variables?



---

archive/issue_comments_314825.json:
```json
{
    "body": "<a id='comment:33'></a>Replying to [comment:32 gh-Shlokatadistance]:\n> Can this build also configure a better link or communication between SAGE_LOCAL or SAGE_SCRIPTS_DIR variables? \n\nTake a look at #25486",
    "created_at": "2020-03-22T03:21:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314825",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>Replying to [comment:32 gh-Shlokatadistance]:
> Can this build also configure a better link or communication between SAGE_LOCAL or SAGE_SCRIPTS_DIR variables? 

Take a look at #25486



---

archive/issue_events_057201.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-11T06:26:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57201"
}
```



---

archive/issue_events_057202.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-11T06:26:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57202"
}
```



---

archive/issue_comments_314826.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-06-12T21:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314826",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_314827.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n+This ticket cleans up how the contents of \\`src/bin\\` are installed. One of its goals is to make the \\`sagelib\\` installation done by \\`src/setup.py\\` self-contained regarding the scripts that it needs at runtime.\n+\n+Previous tickets moved some of the scripts to \\`build/bin\\` (no longer installed in \\`SAGE_LOCAL\\`). In follow-up tickets, \\`src/bin\\` could be cleaned up more.  See the list of files added on this ticket to \\`src/setup.py\\` for beginnings of a categorization.\n+ \n \n \n Comment: 1\n```\n",
    "created_at": "2020-06-12T21:37:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314827",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,7 @@
+This ticket cleans up how the contents of \`src/bin\` are installed. One of its goals is to make the \`sagelib\` installation done by \`src/setup.py\` self-contained regarding the scripts that it needs at runtime.
+
+Previous tickets moved some of the scripts to \`build/bin\` (no longer installed in \`SAGE_LOCAL\`). In follow-up tickets, \`src/bin\` could be cleaned up more.  See the list of files added on this ticket to \`src/setup.py\` for beginnings of a categorization.
+ 
 
 
 Comment: 1
```




---

archive/issue_comments_314828.json:
```json
{
    "body": "<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-12T21:38:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314828",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314829.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-12T21:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314829",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_314830.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-13T00:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314831.json:
```json
{
    "body": "<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-18T04:55:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314831",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314832.json:
```json
{
    "body": "<a id='comment:42'></a>(this script is deleted in #29111)",
    "created_at": "2020-06-18T05:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314832",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>(this script is deleted in #29111)



---

archive/issue_comments_314833.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-20T23:40:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314833",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314834.json:
```json
{
    "body": "<a id='comment:46'></a>(these scripts are deleted in #29920)",
    "created_at": "2020-06-20T23:40:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314834",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>(these scripts are deleted in #29920)



---

archive/issue_comments_314835.json:
```json
{
    "body": "<a id='comment:47'></a>A bit much to ask but is there a way to override the `scripts` variable in `setup.py`? Apart from patching that is. I and other distros will pick and choose what we install and certainly, even where. We can do things after install is run if needs be. \n\nBut building and providing our own list would be a nice to have.",
    "created_at": "2020-06-20T23:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314835",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:47'></a>A bit much to ask but is there a way to override the `scripts` variable in `setup.py`? Apart from patching that is. I and other distros will pick and choose what we install and certainly, even where. We can do things after install is run if needs be. 

But building and providing our own list would be a nice to have.



---

archive/issue_comments_314836.json:
```json
{
    "body": "<a id='comment:48'></a>Replying to [comment:47 fbissey]:\n> A bit much to ask but is there a way to override the `scripts` variable in `setup.py`? Apart from patching that is. I and other distros will pick and choose what we install and certainly, even where. We can do things after install is run if needs be. \n> \n> But building and providing our own list would be a nice to have.\n\n\nAdding hooks for distributors is not a good direction for development.  It's better to sort out in sagelib itself which scripts should be considered part of sagelib, and which ones are provided by sage-the-distribution instead.",
    "created_at": "2020-06-20T23:56:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314836",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'></a>Replying to [comment:47 fbissey]:
> A bit much to ask but is there a way to override the `scripts` variable in `setup.py`? Apart from patching that is. I and other distros will pick and choose what we install and certainly, even where. We can do things after install is run if needs be. 
> 
> But building and providing our own list would be a nice to have.


Adding hooks for distributors is not a good direction for development.  It's better to sort out in sagelib itself which scripts should be considered part of sagelib, and which ones are provided by sage-the-distribution instead.



---

archive/issue_comments_314837.json:
```json
{
    "body": "<a id='comment:49'></a>This can be done on follow-up tickets of this ticket.\nYou can help by categorizing the scripts in the section \"Uncategorized scripts in alphabetical order\".",
    "created_at": "2020-06-20T23:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314837",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:49'></a>This can be done on follow-up tickets of this ticket.
You can help by categorizing the scripts in the section "Uncategorized scripts in alphabetical order".



---

archive/issue_comments_314838.json:
```json
{
    "body": "<a id='comment:50'></a>Replying to [comment:49 mkoeppe]:\n> This can be done on follow-up tickets of this ticket.\n> You can help by categorizing the scripts in the section \"Uncategorized scripts in alphabetical order\".\n> \n\n\nI'll think about it. Like I said it is a \"nice to have\", not a must have. But this will mark a transition for distros. Before this, most of us were manually installing a selection of scripts. Suddenly the install won't be manual anymore :)",
    "created_at": "2020-06-21T00:01:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314838",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:50'></a>Replying to [comment:49 mkoeppe]:
> This can be done on follow-up tickets of this ticket.
> You can help by categorizing the scripts in the section "Uncategorized scripts in alphabetical order".
> 


I'll think about it. Like I said it is a "nice to have", not a must have. But this will mark a transition for distros. Before this, most of us were manually installing a selection of scripts. Suddenly the install won't be manual anymore :)



---

archive/issue_comments_314839.json:
```json
{
    "body": "<a id='comment:51'></a>In fact, the scripts that belong to sage-the-distribution could perhaps be assigned to `sage_setup` (#29847) -- this distutils package that would be installed by sage-the-distribution but not by distros.",
    "created_at": "2020-06-21T00:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314839",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:51'></a>In fact, the scripts that belong to sage-the-distribution could perhaps be assigned to `sage_setup` (#29847) -- this distutils package that would be installed by sage-the-distribution but not by distros.



---

archive/issue_comments_314840.json:
```json
{
    "body": "<a id='comment:52'></a>Replying to [comment:49 mkoeppe]:\n> This can be done on follow-up tickets of this ticket.\n> You can help by categorizing the scripts in the section \"Uncategorized scripts in alphabetical order\".\n\n\nHere are some thoughts:\n\nPerhaps could just be deleted:\n- `sage-cython`: #29923\n- `sage-native-execute`: look at the script and see #9386. \n- `sage-open`: I wonder if the comment in that script is still valid; perhaps it can be deleted, or done purely in Python in sage/misc/viewer.py, the only place it's used. Maybe I'll look into this.\n- `sage-pypkg-location`: apparently unused\n- `sage-unzip` is in the listed, but the script itself is gone, isn't it?\n\n\nDoctesting-related scripts. Where do these go?\n- sage-runtests\n- coverage scripts\n- sage-fix-doctests\n- sage-startuptime\n\nIn the libexec group:\n- sage-cleaner?\n\nOnly relevant for sage-the-distribution:\n- `sage-download`\n- `sage-clone-source`\n- `sage-sdist`\n- `sage-location`",
    "created_at": "2020-06-21T02:17:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314840",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:52'></a>Replying to [comment:49 mkoeppe]:
> This can be done on follow-up tickets of this ticket.
> You can help by categorizing the scripts in the section "Uncategorized scripts in alphabetical order".


Here are some thoughts:

Perhaps could just be deleted:
- `sage-cython`: #29923
- `sage-native-execute`: look at the script and see #9386. 
- `sage-open`: I wonder if the comment in that script is still valid; perhaps it can be deleted, or done purely in Python in sage/misc/viewer.py, the only place it's used. Maybe I'll look into this.
- `sage-pypkg-location`: apparently unused
- `sage-unzip` is in the listed, but the script itself is gone, isn't it?


Doctesting-related scripts. Where do these go?
- sage-runtests
- coverage scripts
- sage-fix-doctests
- sage-startuptime

In the libexec group:
- sage-cleaner?

Only relevant for sage-the-distribution:
- `sage-download`
- `sage-clone-source`
- `sage-sdist`
- `sage-location`



---

archive/issue_comments_314841.json:
```json
{
    "body": "<a id='comment:53'></a>Replying to [comment:52 jhpalmieri]:\n> Doctesting-related scripts. Where do these go?\n> - sage-runtests\n> - coverage scripts\n> - sage-fix-doctests\n\n\nPer #29111, they are sagelib scripts.\n\n> - sage-startuptime\n\n\nNot sure about this one.",
    "created_at": "2020-06-21T02:31:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314841",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:53'></a>Replying to [comment:52 jhpalmieri]:
> Doctesting-related scripts. Where do these go?
> - sage-runtests
> - coverage scripts
> - sage-fix-doctests


Per #29111, they are sagelib scripts.

> - sage-startuptime


Not sure about this one.



---

archive/issue_comments_314842.json:
```json
{
    "body": "<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-21T02:33:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314842",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314843.json:
```json
{
    "body": "<a id='comment:55'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-21T02:40:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314843",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314844.json:
```json
{
    "body": "<a id='comment:56'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-21T02:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314844",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314845.json:
```json
{
    "body": "<a id='comment:57'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2020-06-23T21:48:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314845",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:57'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_314846.json:
```json
{
    "body": "<a id='comment:58'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-23T21:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314846",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314847.json:
```json
{
    "body": "<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-23T21:51:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314847",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314848.json:
```json
{
    "body": "<a id='comment:60'></a>I run into problems unless I make this change:\n\n```diff\ndiff --git a/src/setup.py b/src/setup.py\nindex 9970525cf9..85a32a5962 100755\n--- a/src/setup.py\n+++ b/src/setup.py\n@@ -162,7 +162,6 @@ code = setup(name = 'sage',\n                  'bin/sage-rebaseall.sh',\n                  'bin/sage-rst2sws',\n                  'bin/sage-rst2txt',\n-                 'bin/sage-rsyncdist',\n                  'bin/sage-run',\n                  'bin/sage-run-cython',\n                  'bin/sage-startuptime.py',\n```",
    "created_at": "2020-06-24T16:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314848",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:60'></a>I run into problems unless I make this change:

```diff
diff --git a/src/setup.py b/src/setup.py
index 9970525cf9..85a32a5962 100755
--- a/src/setup.py
+++ b/src/setup.py
@@ -162,7 +162,6 @@ code = setup(name = 'sage',
                  'bin/sage-rebaseall.sh',
                  'bin/sage-rst2sws',
                  'bin/sage-rst2txt',
-                 'bin/sage-rsyncdist',
                  'bin/sage-run',
                  'bin/sage-run-cython',
                  'bin/sage-startuptime.py',
```



---

archive/issue_comments_314849.json:
```json
{
    "body": "<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-24T18:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314849",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_314850.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n+This ticket cleans up how the contents of \\`src/bin\\` are installed. One of its goals is to make the \\`sagelib\\` installation done by \\`src/setup.py\\` self-contained regarding the scripts that it needs at runtime.\n+\n+Previous tickets moved some of the scripts to \\`build/bin\\` (no longer installed in \\`SAGE_LOCAL\\`). \n+\n+In follow-up tickets, \\`src/bin\\` could be cleaned up more. \n+- See the list of files added on this ticket to \\`src/setup.py\\` for beginnings of a categorization.\n+- #29850: Install \\`src/bin/sage-env-config\\` as part of \\`sage_conf\\`\n+- #29847: Install \\`sage_setup\\` with \\`setuptools\\` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\"\n \n \n Comment: 1\n```\n",
    "created_at": "2020-06-25T04:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314850",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,11 @@
+This ticket cleans up how the contents of \`src/bin\` are installed. One of its goals is to make the \`sagelib\` installation done by \`src/setup.py\` self-contained regarding the scripts that it needs at runtime.
+
+Previous tickets moved some of the scripts to \`build/bin\` (no longer installed in \`SAGE_LOCAL\`). 
+
+In follow-up tickets, \`src/bin\` could be cleaned up more. 
+- See the list of files added on this ticket to \`src/setup.py\` for beginnings of a categorization.
+- #29850: Install \`src/bin/sage-env-config\` as part of \`sage_conf\`
+- #29847: Install \`sage_setup\` with \`setuptools\` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts"
 
 
 Comment: 1
```




---

archive/issue_comments_314851.json:
```json
{
    "body": "<a id='comment:63'></a>Needs review",
    "created_at": "2020-06-29T17:33:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314851",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:63'></a>Needs review



---

archive/issue_comments_314852.json:
```json
{
    "body": "<a id='comment:64'></a>Looks okay to me.",
    "created_at": "2020-06-29T21:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314852",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:64'></a>Looks okay to me.



---

archive/issue_comments_314853.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-29T21:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314853",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_314854.json:
```json
{
    "body": "<a id='comment:65'></a>Thanks!",
    "created_at": "2020-06-30T00:14:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314854",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:65'></a>Thanks!



---

archive/issue_comments_314855.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-07-04T16:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314855",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_314856.json:
```json
{
    "body": "<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2020-07-04T16:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314856",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_314857.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-07-04T16:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314857",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_314858.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-07-08T23:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314858",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_314859.json:
```json
{
    "body": "<a id='comment:68'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2020-07-08T23:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314859",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:68'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_314860.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-07-08T23:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314860",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_057203.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-10T19:34:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21559#event-57203"
}
```



---

archive/issue_comments_314861.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-10T19:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21559#issuecomment-314861",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
