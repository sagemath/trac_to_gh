# Issue 21871: Test if a graph is apex

archive/issues_021634.json:
```json
{
    "body": "A graph is apex if it can be made planar by the removal of a single vertex. See [`the wikipedia article on Apex graph`](https://en.wikipedia.org/wiki/Apex_graph) for more details.\n\nI wrote this method after reading [`this question`](https://ask.sagemath.org/question/35112/how-do-i-write-function-to-test-if-a-graph-is-apex/) on https://ask.sagemath.org/.\n\nBranch/Commit: c3cc3690826d03815c20b9a0a7b98f49403ac09a\n\nReviewer: Jori M\u00e4ntysalo\n\nAuthor: David Coudert\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21871\n\n",
    "closed_at": "2016-11-17T18:01:45Z",
    "created_at": "2016-11-13T11:43:04Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "Test if a graph is apex",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21871",
    "user": "https://github.com/dcoudert"
}
```
A graph is apex if it can be made planar by the removal of a single vertex. See [`the wikipedia article on Apex graph`](https://en.wikipedia.org/wiki/Apex_graph) for more details.

I wrote this method after reading [`this question`](https://ask.sagemath.org/question/35112/how-do-i-write-function-to-test-if-a-graph-is-apex/) on https://ask.sagemath.org/.

Branch/Commit: c3cc3690826d03815c20b9a0a7b98f49403ac09a

Reviewer: Jori Mäntysalo

Author: David Coudert

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21871





---

archive/issue_comments_404495.json:
```json
{
    "body": "Changing commit from \"\" to \"ca66bdfa69b96de5e68870f43f5085c1a523a8d7\"",
    "created_at": "2016-11-13T12:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404495",
    "user": "https://github.com/dcoudert"
}
```

Changing commit from "" to "ca66bdfa69b96de5e68870f43f5085c1a523a8d7"



---

archive/issue_comments_404496.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dcoudert/isapex\"",
    "created_at": "2016-11-13T12:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404496",
    "user": "https://github.com/dcoudert"
}
```

Changing branch from "" to "u/dcoudert/isapex"



---

archive/issue_comments_404497.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[ca66bdf](https://git.sagemath.org/sage.git/commit?id=ca66bdfa69b96de5e68870f43f5085c1a523a8d7)|`trac #21871: add method to test if a graph is apex`|",
    "created_at": "2016-11-13T12:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404497",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[ca66bdf](https://git.sagemath.org/sage.git/commit?id=ca66bdfa69b96de5e68870f43f5085c1a523a8d7)|`trac #21871: add method to test if a graph is apex`|



---

archive/issue_comments_404498.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-11-13T12:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404498",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_404499.json:
```json
{
    "body": "<a id='comment:2'></a>\nReady to be reviewed.",
    "created_at": "2016-11-13T12:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404499",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:2'></a>
Ready to be reviewed.



---

archive/issue_comments_404500.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n A graph is apex if it can be made planar by the removal of a single vertex. See [`the wikipedia article on Apex graph`](https://en.wikipedia.org/wiki/Apex_graph) for more details.\n \n+I wrote this method after reading [`this question`](https://ask.sagemath.org/question/35112/how-do-i-write-function-to-test-if-a-graph-is-apex/) on https://ask.sagemath.org/.\n``````\n",
    "created_at": "2016-11-13T12:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404500",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
 A graph is apex if it can be made planar by the removal of a single vertex. See [`the wikipedia article on Apex graph`](https://en.wikipedia.org/wiki/Apex_graph) for more details.
 
+I wrote this method after reading [`this question`](https://ask.sagemath.org/question/35112/how-do-i-write-function-to-test-if-a-graph-is-apex/) on https://ask.sagemath.org/.
``````




---

archive/issue_comments_404501.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[5559320](https://git.sagemath.org/sage.git/commit/?id=5559320ae415c93de5d70c599df37956164a9e65)|`trac #21871: fix documentation`|",
    "created_at": "2016-11-13T12:42:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404501",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[5559320](https://git.sagemath.org/sage.git/commit/?id=5559320ae415c93de5d70c599df37956164a9e65)|`trac #21871: fix documentation`|



---

archive/issue_comments_404502.json:
```json
{
    "body": "Changing commit from \"ca66bdfa69b96de5e68870f43f5085c1a523a8d7\" to \"5559320ae415c93de5d70c599df37956164a9e65\"",
    "created_at": "2016-11-13T12:42:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404502",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ca66bdfa69b96de5e68870f43f5085c1a523a8d7" to "5559320ae415c93de5d70c599df37956164a9e65"



---

archive/issue_comments_404503.json:
```json
{
    "body": "<a id='comment:5'></a>\nI think that just `if certificate:` would be good. It is how many certificate-options are currently done, i.e. for example `P.dimension(certificate=[])` works a poset `P`. It is \"pythonic\" way to code.\n\nI am not sure about the design where `certificate` kind of returns list of all possible \"certificates\". I would make two functions, other to be `apex_vertices()` or something like that. But maybe others can comment this too.",
    "created_at": "2016-11-13T14:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404503",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:5'></a>
I think that just `if certificate:` would be good. It is how many certificate-options are currently done, i.e. for example `P.dimension(certificate=[])` works a poset `P`. It is "pythonic" way to code.

I am not sure about the design where `certificate` kind of returns list of all possible "certificates". I would make two functions, other to be `apex_vertices()` or something like that. But maybe others can comment this too.



---

archive/issue_comments_404504.json:
```json
{
    "body": "<a id='comment:6'></a>\nFails for immutable graphs --> *needs_work*.",
    "created_at": "2016-11-13T14:44:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404504",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>
Fails for immutable graphs --> *needs_work*.



---

archive/issue_comments_404505.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-11-13T14:44:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404505",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_404506.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[a2d6f68](https://git.sagemath.org/sage.git/commit/?id=a2d6f68b82b503f8f20bb5977437c6881f4558ed)|`trac #21871: immutable graphs`|\n|[7f56f93](https://git.sagemath.org/sage.git/commit/?id=7f56f93832b68d7b6b7569c27541e71be0b85fb8)|`trac #21871: add feature to graph_classes`|",
    "created_at": "2016-11-13T15:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404506",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[a2d6f68](https://git.sagemath.org/sage.git/commit/?id=a2d6f68b82b503f8f20bb5977437c6881f4558ed)|`trac #21871: immutable graphs`|
|[7f56f93](https://git.sagemath.org/sage.git/commit/?id=7f56f93832b68d7b6b7569c27541e71be0b85fb8)|`trac #21871: add feature to graph_classes`|



---

archive/issue_comments_404507.json:
```json
{
    "body": "Changing commit from \"5559320ae415c93de5d70c599df37956164a9e65\" to \"7f56f93832b68d7b6b7569c27541e71be0b85fb8\"",
    "created_at": "2016-11-13T15:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404507",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5559320ae415c93de5d70c599df37956164a9e65" to "7f56f93832b68d7b6b7569c27541e71be0b85fb8"



---

archive/issue_comments_404508.json:
```json
{
    "body": "<a id='comment:8'></a>\nSo far I fixed the issue with immutable graphs, and I also added the feature to `graph_classes`. So we can write:\n\n```\nsage: G = graphs.PetersenGraph()\nsage: G in graph_classes.Apex\nFalse\nsage: G = graphs.Grid2dGraph(5,5)\nsage: G in graph_classes.Apex\nTrue\nsage: G = graphs.RandomBarabasiAlbert(100,2)\nsage: G = G.copy(immutable=True)\nsage: G.is_immutable()\nTrue\nsage: G in graph_classes.Apex\nFalse\nsage: G.is_apex()\nFalse\nsage: G = graphs.Grid2dGraph(5,5)\nsage: G.add_path([(1,1),'x',(3,3)])\nsage: G = G.copy(immutable=True)\nsage: G in graph_classes.Apex\nTrue\n```\n\nNow, concerning the behavior of `certificate`. You are right that it is too complex. What I could do is either to return the list of apex vertices when set to True, or to remove that parameter from method `is_apex` and add a method `apex_vertices`.\nLet me know what you prefer.\n\nDavid.",
    "created_at": "2016-11-13T16:01:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404508",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:8'></a>
So far I fixed the issue with immutable graphs, and I also added the feature to `graph_classes`. So we can write:

```
sage: G = graphs.PetersenGraph()
sage: G in graph_classes.Apex
False
sage: G = graphs.Grid2dGraph(5,5)
sage: G in graph_classes.Apex
True
sage: G = graphs.RandomBarabasiAlbert(100,2)
sage: G = G.copy(immutable=True)
sage: G.is_immutable()
True
sage: G in graph_classes.Apex
False
sage: G.is_apex()
False
sage: G = graphs.Grid2dGraph(5,5)
sage: G.add_path([(1,1),'x',(3,3)])
sage: G = G.copy(immutable=True)
sage: G in graph_classes.Apex
True
```

Now, concerning the behavior of `certificate`. You are right that it is too complex. What I could do is either to return the list of apex vertices when set to True, or to remove that parameter from method `is_apex` and add a method `apex_vertices`.
Let me know what you prefer.

David.



---

archive/issue_comments_404509.json:
```json
{
    "body": "<a id='comment:9'></a>\nI would prefer adding `apex_vertices()`. (With SEEALSO-crosslinks in docstrings of course. I would also crosslink `is_planar` <-> `is_apex`.)",
    "created_at": "2016-11-13T16:28:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404509",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:9'></a>
I would prefer adding `apex_vertices()`. (With SEEALSO-crosslinks in docstrings of course. I would also crosslink `is_planar` <-> `is_apex`.)



---

archive/issue_comments_404510.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[6e65d41](https://git.sagemath.org/sage.git/commit/?id=6e65d414fa658f1c5df30e0cc04e7ce9001186b2)|`trac #21871: add seealso sections`|\n|[d6600e2](https://git.sagemath.org/sage.git/commit/?id=d6600e278a23039f1feac80545ffdaf67c727a80)|`trac #21871: add method apex_vertices`|",
    "created_at": "2016-11-13T18:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404510",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[6e65d41](https://git.sagemath.org/sage.git/commit/?id=6e65d414fa658f1c5df30e0cc04e7ce9001186b2)|`trac #21871: add seealso sections`|
|[d6600e2](https://git.sagemath.org/sage.git/commit/?id=d6600e278a23039f1feac80545ffdaf67c727a80)|`trac #21871: add method apex_vertices`|



---

archive/issue_comments_404511.json:
```json
{
    "body": "Changing commit from \"7f56f93832b68d7b6b7569c27541e71be0b85fb8\" to \"d6600e278a23039f1feac80545ffdaf67c727a80\"",
    "created_at": "2016-11-13T18:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404511",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7f56f93832b68d7b6b7569c27541e71be0b85fb8" to "d6600e278a23039f1feac80545ffdaf67c727a80"



---

archive/issue_comments_404512.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-11-13T18:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404512",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_404513.json:
```json
{
    "body": "<a id='comment:11'></a>\nI have added method `apex_vertices` with a parameter to limit the number of returned apex vertices. This is mostly useful for the `is_apex` method which only ask for one apex vertex.\n\nI have also added the see also sections.",
    "created_at": "2016-11-13T18:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404513",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:11'></a>
I have added method `apex_vertices` with a parameter to limit the number of returned apex vertices. This is mostly useful for the `is_apex` method which only ask for one apex vertex.

I have also added the see also sections.



---

archive/issue_comments_404514.json:
```json
{
    "body": "<a id='comment:12'></a>\nOK, this works. One note about code and some bikeshedding:\n\nWhy\n\n```\nH = Graph([e for e in self.edge_iterator(labels=0)], immutable=False)\n```\n\nand not just `H = self.to_simple()`?\n\n- Exception string should start with lowercase and not end to a dot. I don't like it, but this was discussed in sage-devel, and this is how plain Python does.\n- Example \"A 2D grid is apex, and it remains apex when adding a universal vertex\" is odd at `is_apex()`, when you do not add the apex vertex. Maybe that example could be removed, and left only to `apex_vertices()`.\n- `len(apex)>=k` should be `len(apex) >= k`. This is some PEP whose number I don't remember.\n- Input parameter \"k: when\" should be \"k -- when\", copy the format from some existing function.",
    "created_at": "2016-11-13T20:16:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404514",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:12'></a>
OK, this works. One note about code and some bikeshedding:

Why

```
H = Graph([e for e in self.edge_iterator(labels=0)], immutable=False)
```

and not just `H = self.to_simple()`?

- Exception string should start with lowercase and not end to a dot. I don't like it, but this was discussed in sage-devel, and this is how plain Python does.
- Example "A 2D grid is apex, and it remains apex when adding a universal vertex" is odd at `is_apex()`, when you do not add the apex vertex. Maybe that example could be removed, and left only to `apex_vertices()`.
- `len(apex)>=k` should be `len(apex) >= k`. This is some PEP whose number I don't remember.
- Input parameter "k: when" should be "k -- when", copy the format from some existing function.



---

archive/issue_comments_404515.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jori M\u00e4ntysalo\"",
    "created_at": "2016-11-13T20:16:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404515",
    "user": "https://github.com/jm58660"
}
```

Changing reviewer from "" to "Jori Mäntysalo"



---

archive/issue_comments_404516.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-11-13T20:16:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404516",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_404517.json:
```json
{
    "body": "Changing commit from \"d6600e278a23039f1feac80545ffdaf67c727a80\" to \"5fbdf8867de3cfd7bb0a237dc8ca979126e500d2\"",
    "created_at": "2016-11-13T22:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404517",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d6600e278a23039f1feac80545ffdaf67c727a80" to "5fbdf8867de3cfd7bb0a237dc8ca979126e500d2"



---

archive/issue_comments_404518.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[5fbdf88](https://git.sagemath.org/sage.git/commit/?id=5fbdf8867de3cfd7bb0a237dc8ca979126e500d2)|`trac #21871: various corrections`|",
    "created_at": "2016-11-13T22:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404518",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[5fbdf88](https://git.sagemath.org/sage.git/commit/?id=5fbdf8867de3cfd7bb0a237dc8ca979126e500d2)|`trac #21871: various corrections`|



---

archive/issue_comments_404519.json:
```json
{
    "body": "Changing commit from \"5fbdf8867de3cfd7bb0a237dc8ca979126e500d2\" to \"c3cc3690826d03815c20b9a0a7b98f49403ac09a\"",
    "created_at": "2016-11-13T22:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404519",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5fbdf8867de3cfd7bb0a237dc8ca979126e500d2" to "c3cc3690826d03815c20b9a0a7b98f49403ac09a"



---

archive/issue_comments_404520.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[c3cc369](https://git.sagemath.org/sage.git/commit/?id=c3cc3690826d03815c20b9a0a7b98f49403ac09a)|`trac #21871: improve copies`|",
    "created_at": "2016-11-13T22:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404520",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[c3cc369](https://git.sagemath.org/sage.git/commit/?id=c3cc3690826d03815c20b9a0a7b98f49403ac09a)|`trac #21871: improve copies`|



---

archive/issue_comments_404521.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-11-13T22:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404521",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_404522.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [jmantysalo](#comment%3A12):\n> OK, this works. One note about code and some bikeshedding:\n> \n> Why\n> \n> \n> ```\n> H = Graph([e for e in self.edge_iterator(labels=0)], immutable=False)\n> ```\n> \n> and not just `H = self.to_simple()`?\n\n\nI could use `self.to_simple(immutable=False)`. However, here we don't care of labels and the `to_simple` method only proposes to keep all, min or max labels. No clear option is proposed to remove labels. So I prefers to use `H = Graph(self.edges(labels=0), immutable=False, loops=False, multiedges=False)` to get a clean and light copy.\n\n\n> - Exception string should start with lowercase and not end to a dot. I don't like it, but this was discussed in sage-devel, and this is how plain Python does.\n\n\nok.\n\n> - Example \"A 2D grid is apex, and it remains apex when adding a universal vertex\" is odd at `is_apex()`, when you do not add the apex vertex. Maybe that example could be removed, and left only to `apex_vertices()`.\n\n\ndone\n\n> - `len(apex)>=k` should be `len(apex) >= k`. This is some PEP whose number I don't remember.\n\n\nWell, it would be weird to remember all these numbers ;)\n\n> - Input parameter \"k: when\" should be \"k -- when\", copy the format from some existing function.\n \nRight, I forgot.\n\nThanks for the comments.",
    "created_at": "2016-11-13T22:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404522",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:15'></a>
Replying to [jmantysalo](#comment%3A12):
> OK, this works. One note about code and some bikeshedding:
> 
> Why
> 
> 
> ```
> H = Graph([e for e in self.edge_iterator(labels=0)], immutable=False)
> ```
> 
> and not just `H = self.to_simple()`?


I could use `self.to_simple(immutable=False)`. However, here we don't care of labels and the `to_simple` method only proposes to keep all, min or max labels. No clear option is proposed to remove labels. So I prefers to use `H = Graph(self.edges(labels=0), immutable=False, loops=False, multiedges=False)` to get a clean and light copy.


> - Exception string should start with lowercase and not end to a dot. I don't like it, but this was discussed in sage-devel, and this is how plain Python does.


ok.

> - Example "A 2D grid is apex, and it remains apex when adding a universal vertex" is odd at `is_apex()`, when you do not add the apex vertex. Maybe that example could be removed, and left only to `apex_vertices()`.


done

> - `len(apex)>=k` should be `len(apex) >= k`. This is some PEP whose number I don't remember.


Well, it would be weird to remember all these numbers ;)

> - Input parameter "k: when" should be "k -- when", copy the format from some existing function.
 
Right, I forgot.

Thanks for the comments.



---

archive/issue_comments_404523.json:
```json
{
    "body": "<a id='comment:16'></a>\nThanks. No more comments.\n\nReplying to [dcoudert](#comment%3A15):\n\n> the `to_simple` method only proposes to keep all, min or max labels. No clear option is proposed to remove labels.\n\n\nAh, OK. I guess it should have an option for that, but that's a place for another ticket.",
    "created_at": "2016-11-14T05:04:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404523",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:16'></a>
Thanks. No more comments.

Replying to [dcoudert](#comment%3A15):

> the `to_simple` method only proposes to keep all, min or max labels. No clear option is proposed to remove labels.


Ah, OK. I guess it should have an option for that, but that's a place for another ticket.



---

archive/issue_comments_404524.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-11-14T05:04:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404524",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_404525.json:
```json
{
    "body": "<a id='comment:17'></a>\nThank you for the review.",
    "created_at": "2016-11-14T08:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404525",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:17'></a>
Thank you for the review.



---

archive/issue_comments_404526.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-11-17T18:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404526",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_057753.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-17T18:01:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21871#event-57753"
}
```



---

archive/issue_comments_404527.json:
```json
{
    "body": "Changing branch from \"u/dcoudert/isapex\" to \"c3cc3690826d03815c20b9a0a7b98f49403ac09a\"",
    "created_at": "2016-11-17T18:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21871#issuecomment-404527",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dcoudert/isapex" to "c3cc3690826d03815c20b9a0a7b98f49403ac09a"
