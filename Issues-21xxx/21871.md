# Issue 21871: Test if a graph is apex

archive/issues_021634.json:
```json
{
    "assignees": [],
    "body": "A graph is apex if it can be made planar by the removal of a single vertex. See [`the wikipedia article on Apex graph`](https://en.wikipedia.org/wiki/Apex_graph) for more details.\n\nI wrote this method after reading [`this question`](https://ask.sagemath.org/question/35112/how-do-i-write-function-to-test-if-a-graph-is-apex/) on https://ask.sagemath.org/.\n\nComponent: **graph theory**\n\nAuthor: **David Coudert**\n\nBranch/Commit: **[`c3cc369`](https://github.com/sagemath/sagetrac-mirror/commit/c3cc3690826d03815c20b9a0a7b98f49403ac09a)**\n\nReviewer: **Jori M\u00e4ntysalo**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21871_\n\n",
    "closed_at": "2016-11-17T18:01:45Z",
    "created_at": "2016-11-13T11:43:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Test if a graph is apex",
    "type": "issue",
    "updated_at": "2016-11-17T18:01:45Z",
    "url": "https://github.com/sagemath/sage/issues/21871",
    "user": "https://github.com/dcoudert"
}
```
A graph is apex if it can be made planar by the removal of a single vertex. See [`the wikipedia article on Apex graph`](https://en.wikipedia.org/wiki/Apex_graph) for more details.

I wrote this method after reading [`this question`](https://ask.sagemath.org/question/35112/how-do-i-write-function-to-test-if-a-graph-is-apex/) on https://ask.sagemath.org/.

Component: **graph theory**

Author: **David Coudert**

Branch/Commit: **[`c3cc369`](https://github.com/sagemath/sagetrac-mirror/commit/c3cc3690826d03815c20b9a0a7b98f49403ac09a)**

Reviewer: **Jori MÃ¤ntysalo**

_Issue created by migration from https://trac.sagemath.org/ticket/21871_





---

archive/issue_events_303994.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-11-13T11:43:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-303994"
}
```



---

archive/issue_events_303995.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-11-13T11:43:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-303995"
}
```



---

archive/issue_events_303996.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-11-13T11:43:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-303996"
}
```



---

archive/issue_events_303997.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-11-13T11:43:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-303997"
}
```



---

archive/issue_comments_322281.json:
```json
{
    "body": "Commit: **[`ca66bdf`](https://github.com/sagemath/sagetrac-mirror/commit/ca66bdfa69b96de5e68870f43f5085c1a523a8d7)**",
    "created_at": "2016-11-13T12:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322281",
    "user": "https://github.com/dcoudert"
}
```

Commit: **[`ca66bdf`](https://github.com/sagemath/sagetrac-mirror/commit/ca66bdfa69b96de5e68870f43f5085c1a523a8d7)**



---

archive/issue_comments_322282.json:
```json
{
    "body": "Branch: **[u/dcoudert/isapex](https://github.com/sagemath/sagetrac-mirror/tree/u/dcoudert/isapex)**",
    "created_at": "2016-11-13T12:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322282",
    "user": "https://github.com/dcoudert"
}
```

Branch: **[u/dcoudert/isapex](https://github.com/sagemath/sagetrac-mirror/tree/u/dcoudert/isapex)**



---

archive/issue_comments_322283.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca66bdfa69b96de5e68870f43f5085c1a523a8d7\"><code>ca66bdf</code></a></td><td><code>trac #21871: add method to test if a graph is apex</code></td></tr></table>\n",
    "created_at": "2016-11-13T12:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322283",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca66bdfa69b96de5e68870f43f5085c1a523a8d7"><code>ca66bdf</code></a></td><td><code>trac #21871: add method to test if a graph is apex</code></td></tr></table>




---

archive/issue_events_303998.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-11-13T12:19:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-303998"
}
```



---

archive/issue_comments_322284.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nReady to be reviewed.",
    "created_at": "2016-11-13T12:19:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322284",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:2" align="right">comment:2</div>

Ready to be reviewed.



---

archive/issue_comments_322285.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n A graph is apex if it can be made planar by the removal of a single vertex. See [`the wikipedia article on Apex graph`](https://en.wikipedia.org/wiki/Apex_graph) for more details.\n \n+I wrote this method after reading [`this question`](https://ask.sagemath.org/question/35112/how-do-i-write-function-to-test-if-a-graph-is-apex/) on https://ask.sagemath.org/.\n``````\n",
    "created_at": "2016-11-13T12:19:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322285",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
 A graph is apex if it can be made planar by the removal of a single vertex. See [`the wikipedia article on Apex graph`](https://en.wikipedia.org/wiki/Apex_graph) for more details.
 
+I wrote this method after reading [`this question`](https://ask.sagemath.org/question/35112/how-do-i-write-function-to-test-if-a-graph-is-apex/) on https://ask.sagemath.org/.
``````




---

archive/issue_comments_322286.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5559320ae415c93de5d70c599df37956164a9e65\"><code>5559320</code></a></td><td><code>trac #21871: fix documentation</code></td></tr></table>\n",
    "created_at": "2016-11-13T12:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322286",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5559320ae415c93de5d70c599df37956164a9e65"><code>5559320</code></a></td><td><code>trac #21871: fix documentation</code></td></tr></table>




---

archive/issue_comments_322287.json:
```json
{
    "body": "Changed commit from **[`ca66bdf`](https://github.com/sagemath/sagetrac-mirror/commit/ca66bdfa69b96de5e68870f43f5085c1a523a8d7)** to **[`5559320`](https://github.com/sagemath/sagetrac-mirror/commit/5559320ae415c93de5d70c599df37956164a9e65)**",
    "created_at": "2016-11-13T12:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322287",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ca66bdf`](https://github.com/sagemath/sagetrac-mirror/commit/ca66bdfa69b96de5e68870f43f5085c1a523a8d7)** to **[`5559320`](https://github.com/sagemath/sagetrac-mirror/commit/5559320ae415c93de5d70c599df37956164a9e65)**



---

archive/issue_events_303999.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-11-13T12:43:44Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "title_is": "Test if a graph is apex",
    "title_was": "Test if a graph is apx",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-303999"
}
```



---

archive/issue_comments_322288.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI think that just `if certificate:` would be good. It is how many certificate-options are currently done, i.e. for example `P.dimension(certificate=[])` works a poset `P`. It is \"pythonic\" way to code.\n\nI am not sure about the design where `certificate` kind of returns list of all possible \"certificates\". I would make two functions, other to be `apex_vertices()` or something like that. But maybe others can comment this too.",
    "created_at": "2016-11-13T14:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322288",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:5" align="right">comment:5</div>

I think that just `if certificate:` would be good. It is how many certificate-options are currently done, i.e. for example `P.dimension(certificate=[])` works a poset `P`. It is "pythonic" way to code.

I am not sure about the design where `certificate` kind of returns list of all possible "certificates". I would make two functions, other to be `apex_vertices()` or something like that. But maybe others can comment this too.



---

archive/issue_comments_322289.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFails for immutable graphs --> *needs_work*.",
    "created_at": "2016-11-13T14:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322289",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:6" align="right">comment:6</div>

Fails for immutable graphs --> *needs_work*.



---

archive/issue_events_304000.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-13T14:44:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-304000"
}
```



---

archive/issue_events_304001.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-13T14:44:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-304001"
}
```



---

archive/issue_comments_322290.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2d6f68b82b503f8f20bb5977437c6881f4558ed\"><code>a2d6f68</code></a></td><td><code>trac #21871: immutable graphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f56f93832b68d7b6b7569c27541e71be0b85fb8\"><code>7f56f93</code></a></td><td><code>trac #21871: add feature to graph_classes</code></td></tr></table>\n",
    "created_at": "2016-11-13T15:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322290",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2d6f68b82b503f8f20bb5977437c6881f4558ed"><code>a2d6f68</code></a></td><td><code>trac #21871: immutable graphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f56f93832b68d7b6b7569c27541e71be0b85fb8"><code>7f56f93</code></a></td><td><code>trac #21871: add feature to graph_classes</code></td></tr></table>




---

archive/issue_comments_322291.json:
```json
{
    "body": "Changed commit from **[`5559320`](https://github.com/sagemath/sagetrac-mirror/commit/5559320ae415c93de5d70c599df37956164a9e65)** to **[`7f56f93`](https://github.com/sagemath/sagetrac-mirror/commit/7f56f93832b68d7b6b7569c27541e71be0b85fb8)**",
    "created_at": "2016-11-13T15:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322291",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5559320`](https://github.com/sagemath/sagetrac-mirror/commit/5559320ae415c93de5d70c599df37956164a9e65)** to **[`7f56f93`](https://github.com/sagemath/sagetrac-mirror/commit/7f56f93832b68d7b6b7569c27541e71be0b85fb8)**



---

archive/issue_comments_322292.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSo far I fixed the issue with immutable graphs, and I also added the feature to `graph_classes`. So we can write:\n\n```\nsage: G = graphs.PetersenGraph()\nsage: G in graph_classes.Apex\nFalse\nsage: G = graphs.Grid2dGraph(5,5)\nsage: G in graph_classes.Apex\nTrue\nsage: G = graphs.RandomBarabasiAlbert(100,2)\nsage: G = G.copy(immutable=True)\nsage: G.is_immutable()\nTrue\nsage: G in graph_classes.Apex\nFalse\nsage: G.is_apex()\nFalse\nsage: G = graphs.Grid2dGraph(5,5)\nsage: G.add_path([(1,1),'x',(3,3)])\nsage: G = G.copy(immutable=True)\nsage: G in graph_classes.Apex\nTrue\n```\n\nNow, concerning the behavior of `certificate`. You are right that it is too complex. What I could do is either to return the list of apex vertices when set to True, or to remove that parameter from method `is_apex` and add a method `apex_vertices`.\nLet me know what you prefer.\n\nDavid.",
    "created_at": "2016-11-13T16:01:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322292",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:8" align="right">comment:8</div>

So far I fixed the issue with immutable graphs, and I also added the feature to `graph_classes`. So we can write:

```
sage: G = graphs.PetersenGraph()
sage: G in graph_classes.Apex
False
sage: G = graphs.Grid2dGraph(5,5)
sage: G in graph_classes.Apex
True
sage: G = graphs.RandomBarabasiAlbert(100,2)
sage: G = G.copy(immutable=True)
sage: G.is_immutable()
True
sage: G in graph_classes.Apex
False
sage: G.is_apex()
False
sage: G = graphs.Grid2dGraph(5,5)
sage: G.add_path([(1,1),'x',(3,3)])
sage: G = G.copy(immutable=True)
sage: G in graph_classes.Apex
True
```

Now, concerning the behavior of `certificate`. You are right that it is too complex. What I could do is either to return the list of apex vertices when set to True, or to remove that parameter from method `is_apex` and add a method `apex_vertices`.
Let me know what you prefer.

David.



---

archive/issue_comments_322293.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI would prefer adding `apex_vertices()`. (With SEEALSO-crosslinks in docstrings of course. I would also crosslink `is_planar` <-> `is_apex`.)",
    "created_at": "2016-11-13T16:28:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322293",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:9" align="right">comment:9</div>

I would prefer adding `apex_vertices()`. (With SEEALSO-crosslinks in docstrings of course. I would also crosslink `is_planar` <-> `is_apex`.)



---

archive/issue_comments_322294.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e65d414fa658f1c5df30e0cc04e7ce9001186b2\"><code>6e65d41</code></a></td><td><code>trac #21871: add seealso sections</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6600e278a23039f1feac80545ffdaf67c727a80\"><code>d6600e2</code></a></td><td><code>trac #21871: add method apex_vertices</code></td></tr></table>\n",
    "created_at": "2016-11-13T18:02:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322294",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e65d414fa658f1c5df30e0cc04e7ce9001186b2"><code>6e65d41</code></a></td><td><code>trac #21871: add seealso sections</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6600e278a23039f1feac80545ffdaf67c727a80"><code>d6600e2</code></a></td><td><code>trac #21871: add method apex_vertices</code></td></tr></table>




---

archive/issue_comments_322295.json:
```json
{
    "body": "Changed commit from **[`7f56f93`](https://github.com/sagemath/sagetrac-mirror/commit/7f56f93832b68d7b6b7569c27541e71be0b85fb8)** to **[`d6600e2`](https://github.com/sagemath/sagetrac-mirror/commit/d6600e278a23039f1feac80545ffdaf67c727a80)**",
    "created_at": "2016-11-13T18:02:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322295",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7f56f93`](https://github.com/sagemath/sagetrac-mirror/commit/7f56f93832b68d7b6b7569c27541e71be0b85fb8)** to **[`d6600e2`](https://github.com/sagemath/sagetrac-mirror/commit/d6600e278a23039f1feac80545ffdaf67c727a80)**



---

archive/issue_events_304002.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-11-13T18:06:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-304002"
}
```



---

archive/issue_events_304003.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-11-13T18:06:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-304003"
}
```



---

archive/issue_comments_322296.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI have added method `apex_vertices` with a parameter to limit the number of returned apex vertices. This is mostly useful for the `is_apex` method which only ask for one apex vertex.\n\nI have also added the see also sections.",
    "created_at": "2016-11-13T18:06:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322296",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:11" align="right">comment:11</div>

I have added method `apex_vertices` with a parameter to limit the number of returned apex vertices. This is mostly useful for the `is_apex` method which only ask for one apex vertex.

I have also added the see also sections.



---

archive/issue_comments_322297.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nOK, this works. One note about code and some bikeshedding:\n\nWhy\n\n```\nH = Graph([e for e in self.edge_iterator(labels=0)], immutable=False)\n```\n\nand not just `H = self.to_simple()`?\n\n- Exception string should start with lowercase and not end to a dot. I don't like it, but this was discussed in sage-devel, and this is how plain Python does.\n- Example \"A 2D grid is apex, and it remains apex when adding a universal vertex\" is odd at `is_apex()`, when you do not add the apex vertex. Maybe that example could be removed, and left only to `apex_vertices()`.\n- `len(apex)>=k` should be `len(apex) >= k`. This is some PEP whose number I don't remember.\n- Input parameter \"k: when\" should be \"k -- when\", copy the format from some existing function.",
    "created_at": "2016-11-13T20:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322297",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:12" align="right">comment:12</div>

OK, this works. One note about code and some bikeshedding:

Why

```
H = Graph([e for e in self.edge_iterator(labels=0)], immutable=False)
```

and not just `H = self.to_simple()`?

- Exception string should start with lowercase and not end to a dot. I don't like it, but this was discussed in sage-devel, and this is how plain Python does.
- Example "A 2D grid is apex, and it remains apex when adding a universal vertex" is odd at `is_apex()`, when you do not add the apex vertex. Maybe that example could be removed, and left only to `apex_vertices()`.
- `len(apex)>=k` should be `len(apex) >= k`. This is some PEP whose number I don't remember.
- Input parameter "k: when" should be "k -- when", copy the format from some existing function.



---

archive/issue_comments_322298.json:
```json
{
    "body": "Reviewer: **Jori M\u00e4ntysalo**",
    "created_at": "2016-11-13T20:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322298",
    "user": "https://github.com/jm58660"
}
```

Reviewer: **Jori MÃ¤ntysalo**



---

archive/issue_events_304004.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-13T20:16:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-304004"
}
```



---

archive/issue_events_304005.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-13T20:16:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-304005"
}
```



---

archive/issue_comments_322299.json:
```json
{
    "body": "Changed commit from **[`d6600e2`](https://github.com/sagemath/sagetrac-mirror/commit/d6600e278a23039f1feac80545ffdaf67c727a80)** to **[`5fbdf88`](https://github.com/sagemath/sagetrac-mirror/commit/5fbdf8867de3cfd7bb0a237dc8ca979126e500d2)**",
    "created_at": "2016-11-13T22:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322299",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d6600e2`](https://github.com/sagemath/sagetrac-mirror/commit/d6600e278a23039f1feac80545ffdaf67c727a80)** to **[`5fbdf88`](https://github.com/sagemath/sagetrac-mirror/commit/5fbdf8867de3cfd7bb0a237dc8ca979126e500d2)**



---

archive/issue_comments_322300.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fbdf8867de3cfd7bb0a237dc8ca979126e500d2\"><code>5fbdf88</code></a></td><td><code>trac #21871: various corrections</code></td></tr></table>\n",
    "created_at": "2016-11-13T22:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322300",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fbdf8867de3cfd7bb0a237dc8ca979126e500d2"><code>5fbdf88</code></a></td><td><code>trac #21871: various corrections</code></td></tr></table>




---

archive/issue_comments_322301.json:
```json
{
    "body": "Changed commit from **[`5fbdf88`](https://github.com/sagemath/sagetrac-mirror/commit/5fbdf8867de3cfd7bb0a237dc8ca979126e500d2)** to **[`c3cc369`](https://github.com/sagemath/sagetrac-mirror/commit/c3cc3690826d03815c20b9a0a7b98f49403ac09a)**",
    "created_at": "2016-11-13T22:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322301",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5fbdf88`](https://github.com/sagemath/sagetrac-mirror/commit/5fbdf8867de3cfd7bb0a237dc8ca979126e500d2)** to **[`c3cc369`](https://github.com/sagemath/sagetrac-mirror/commit/c3cc3690826d03815c20b9a0a7b98f49403ac09a)**



---

archive/issue_comments_322302.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3cc3690826d03815c20b9a0a7b98f49403ac09a\"><code>c3cc369</code></a></td><td><code>trac #21871: improve copies</code></td></tr></table>\n",
    "created_at": "2016-11-13T22:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322302",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3cc3690826d03815c20b9a0a7b98f49403ac09a"><code>c3cc369</code></a></td><td><code>trac #21871: improve copies</code></td></tr></table>




---

archive/issue_events_304006.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-11-13T22:49:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-304006"
}
```



---

archive/issue_events_304007.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2016-11-13T22:49:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-304007"
}
```



---

archive/issue_comments_322303.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@jm58660](#comment%3A12):\n> OK, this works. One note about code and some bikeshedding:\n> \n> Why\n> \n> ```\n> H = Graph([e for e in self.edge_iterator(labels=0)], immutable=False)\n> ```\n> \n> and not just `H = self.to_simple()`?\n\nI could use `self.to_simple(immutable=False)`. However, here we don't care of labels and the `to_simple` method only proposes to keep all, min or max labels. No clear option is proposed to remove labels. So I prefers to use `H = Graph(self.edges(labels=0), immutable=False, loops=False, multiedges=False)` to get a clean and light copy.\n\n\n> - Exception string should start with lowercase and not end to a dot. I don't like it, but this was discussed in sage-devel, and this is how plain Python does.\n\nok.\n\n> - Example \"A 2D grid is apex, and it remains apex when adding a universal vertex\" is odd at `is_apex()`, when you do not add the apex vertex. Maybe that example could be removed, and left only to `apex_vertices()`.\n\ndone\n\n> - `len(apex)>=k` should be `len(apex) >= k`. This is some PEP whose number I don't remember.\n\nWell, it would be weird to remember all these numbers ;)\n\n> - Input parameter \"k: when\" should be \"k -- when\", copy the format from some existing function.\n\nRight, I forgot.\n\nThanks for the comments.",
    "created_at": "2016-11-13T22:49:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322303",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@jm58660](#comment%3A12):
> OK, this works. One note about code and some bikeshedding:
> 
> Why
> 
> ```
> H = Graph([e for e in self.edge_iterator(labels=0)], immutable=False)
> ```
> 
> and not just `H = self.to_simple()`?

I could use `self.to_simple(immutable=False)`. However, here we don't care of labels and the `to_simple` method only proposes to keep all, min or max labels. No clear option is proposed to remove labels. So I prefers to use `H = Graph(self.edges(labels=0), immutable=False, loops=False, multiedges=False)` to get a clean and light copy.


> - Exception string should start with lowercase and not end to a dot. I don't like it, but this was discussed in sage-devel, and this is how plain Python does.

ok.

> - Example "A 2D grid is apex, and it remains apex when adding a universal vertex" is odd at `is_apex()`, when you do not add the apex vertex. Maybe that example could be removed, and left only to `apex_vertices()`.

done

> - `len(apex)>=k` should be `len(apex) >= k`. This is some PEP whose number I don't remember.

Well, it would be weird to remember all these numbers ;)

> - Input parameter "k: when" should be "k -- when", copy the format from some existing function.

Right, I forgot.

Thanks for the comments.



---

archive/issue_comments_322304.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThanks. No more comments.\n\nReplying to [@dcoudert](#comment%3A15):\n\n> the `to_simple` method only proposes to keep all, min or max labels. No clear option is proposed to remove labels.\n\nAh, OK. I guess it should have an option for that, but that's a place for another ticket.",
    "created_at": "2016-11-14T05:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322304",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:16" align="right">comment:16</div>

Thanks. No more comments.

Replying to [@dcoudert](#comment%3A15):

> the `to_simple` method only proposes to keep all, min or max labels. No clear option is proposed to remove labels.

Ah, OK. I guess it should have an option for that, but that's a place for another ticket.



---

archive/issue_events_304008.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-14T05:04:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-304008"
}
```



---

archive/issue_events_304009.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-14T05:04:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-304009"
}
```



---

archive/issue_comments_322305.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThank you for the review.",
    "created_at": "2016-11-14T08:04:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322305",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:17" align="right">comment:17</div>

Thank you for the review.



---

archive/issue_events_304010.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-17T18:01:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-304010"
}
```



---

archive/issue_events_304011.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b0e19bbac45dd4b548b84c0f449cb6861de51266",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-11-17T18:01:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21871#event-304011"
}
```



---

archive/issue_comments_322306.json:
```json
{
    "body": "Changed branch from **[u/dcoudert/isapex](https://github.com/sagemath/sagetrac-mirror/tree/u/dcoudert/isapex)** to **[`c3cc369`](https://github.com/sagemath/sagetrac-mirror/commit/c3cc3690826d03815c20b9a0a7b98f49403ac09a)**",
    "created_at": "2016-11-17T18:01:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21871#issuecomment-322306",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dcoudert/isapex](https://github.com/sagemath/sagetrac-mirror/tree/u/dcoudert/isapex)** to **[`c3cc369`](https://github.com/sagemath/sagetrac-mirror/commit/c3cc3690826d03815c20b9a0a7b98f49403ac09a)**
