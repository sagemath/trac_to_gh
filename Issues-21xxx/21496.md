# Issue 21496: Merge of GSoC modabvar project

archive/issues_021259.json:
```json
{
    "body": "This is a merge of this project: https://github.com/williamstein/sage_modabvar\n\nMost of the code is checked against Magma. Here's a SMC worksheet checking most of the doctest examples: https://cloud.sagemath.com/projects/0d310a14-a099-47d9-87c7-df6b63af54a6/files/worksheets/magma_test_examples.sagews\n\nThe methods that aren't covered in the worksheet are:\n* `is_J0`, `is_J1`: they're really short\n* `elliptic_curve`: this checks that the newforms agree for conductor up to 50: `all([S.newform(names='a') == S.elliptic_curve().newform() for N in [1..50] for S in J0(N) if S.dimension() == 1])`\n* An algorithm for computing the divisor of order of the rational torsion subgroup is known in the J1(p) case. It is also conjecturally the order of the rational torsion subgroup. This is cover in this paper: http://math.stanford.edu/~conrad/papers/j1p.pdf and the code has been checked against the table in pg. 393.\n* `newform_decomposition`: This checks it against another way of computing it:\n\n  `all([J0(N).newform_decomposition('a') == [S.newform('a') for S in J0(N)] for N in [1..50]])`\n\n  `all([J1(N).newform_decomposition('a') == [S.newform('a') for S in J1(N)] for N in [1..30]])`\n\n**CC:**  @williamstein\n\n**Keywords:** modular abelian variety\n\n**Branch/Commit:** [950049159ea8676065b5c39152acde0a85c585e9](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Kevin Lui\n\nIssue created by migration from https://trac.sagemath.org/ticket/21496\n\n",
    "closed_at": "2017-01-21T21:21:52Z",
    "created_at": "2016-09-14T22:27:00Z",
    "labels": [
        "component: modular forms",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "title": "Merge of GSoC modabvar project",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/21496",
    "user": "https://github.com/kevinywlui"
}
```
This is a merge of this project: https://github.com/williamstein/sage_modabvar

Most of the code is checked against Magma. Here's a SMC worksheet checking most of the doctest examples: https://cloud.sagemath.com/projects/0d310a14-a099-47d9-87c7-df6b63af54a6/files/worksheets/magma_test_examples.sagews

The methods that aren't covered in the worksheet are:
* `is_J0`, `is_J1`: they're really short
* `elliptic_curve`: this checks that the newforms agree for conductor up to 50: `all([S.newform(names='a') == S.elliptic_curve().newform() for N in [1..50] for S in J0(N) if S.dimension() == 1])`
* An algorithm for computing the divisor of order of the rational torsion subgroup is known in the J1(p) case. It is also conjecturally the order of the rational torsion subgroup. This is cover in this paper: http://math.stanford.edu/~conrad/papers/j1p.pdf and the code has been checked against the table in pg. 393.
* `newform_decomposition`: This checks it against another way of computing it:

  `all([J0(N).newform_decomposition('a') == [S.newform('a') for S in J0(N)] for N in [1..50]])`

  `all([J1(N).newform_decomposition('a') == [S.newform('a') for S in J1(N)] for N in [1..30]])`

**CC:**  @williamstein

**Keywords:** modular abelian variety

**Branch/Commit:** [950049159ea8676065b5c39152acde0a85c585e9](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)

**Reviewer:** Frédéric Chapoton

**Author:** Kevin Lui

Issue created by migration from https://trac.sagemath.org/ticket/21496





---

archive/issue_comments_317858.json:
```json
{
    "body": "**Branch:** [u/klui/merge_of_gsoc_modabvar_project](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/merge_of_gsoc_modabvar_project)",
    "created_at": "2016-09-16T21:35:47Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317858",
    "user": "https://github.com/kevinywlui"
}
```

**Branch:** [u/klui/merge_of_gsoc_modabvar_project](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/merge_of_gsoc_modabvar_project)



---

archive/issue_comments_317859.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3\">d431329</a></td><td><code>Copied over files from Github repo. Made small docstring changes.</code></td></tr></table>\n",
    "created_at": "2016-09-19T03:50:07Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317859",
    "user": "https://github.com/kevinywlui"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3">d431329</a></td><td><code>Copied over files from Github repo. Made small docstring changes.</code></td></tr></table>




---

archive/issue_events_192635.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-09-19T03:50:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192635"
}
```



---

archive/issue_comments_317860.json:
```json
{
    "body": "**Changing dependencies** from \"#20857\" to \"\".",
    "created_at": "2016-09-19T03:50:07Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317860",
    "user": "https://github.com/kevinywlui"
}
```

**Changing dependencies** from "#20857" to "".



---

archive/issue_comments_317861.json:
```json
{
    "body": "**Author:** Kevin Lui",
    "created_at": "2016-09-19T03:50:07Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317861",
    "user": "https://github.com/kevinywlui"
}
```

**Author:** Kevin Lui



---

archive/issue_comments_317862.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,13 @@\n This is a merge of this project: https://github.com/williamstein/sage_modabvar\n+\n+Most of the code is checked against Magma. Here's a SMC worksheet checking most of the doctest examples: https://cloud.sagemath.com/projects/0d310a14-a099-47d9-87c7-df6b63af54a6/files/worksheets/magma_test_examples.sagews\n+\n+The methods that aren't covered in the worksheet are:\n+* `is_J0`, `is_J1`: they're really short\n+* `elliptic_curve`: this checks that the newforms agree for conductor up to 50: `all([S.newform(names='a') == S.elliptic_curve().newform() for N in [1..50] for S in J0(N) if S.dimension() == 1])`\n+* An algorithm for computing the divisor of order of the rational torsion subgroup is known in the J1(p) case. It is also conjecturally the order of the rational torsion subgroup. This is cover in this paper: http://math.stanford.edu/~conrad/papers/j1p.pdf and the code has been checked against the table in pg. 393.\n+* `newform_decomposition`: This checks it against another way of computing it:\n+\n+  `all([J0(N).newform_decomposition('a') == [S.newform('a') for S in J0(N)] for N in [1..50]])`\n+\n+  `all([J1(N).newform_decomposition('a') == [S.newform('a') for S in J1(N)] for N in [1..30]])`\n``````\n",
    "created_at": "2016-09-19T03:50:07Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317862",
    "user": "https://github.com/kevinywlui"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,13 @@
 This is a merge of this project: https://github.com/williamstein/sage_modabvar
+
+Most of the code is checked against Magma. Here's a SMC worksheet checking most of the doctest examples: https://cloud.sagemath.com/projects/0d310a14-a099-47d9-87c7-df6b63af54a6/files/worksheets/magma_test_examples.sagews
+
+The methods that aren't covered in the worksheet are:
+* `is_J0`, `is_J1`: they're really short
+* `elliptic_curve`: this checks that the newforms agree for conductor up to 50: `all([S.newform(names='a') == S.elliptic_curve().newform() for N in [1..50] for S in J0(N) if S.dimension() == 1])`
+* An algorithm for computing the divisor of order of the rational torsion subgroup is known in the J1(p) case. It is also conjecturally the order of the rational torsion subgroup. This is cover in this paper: http://math.stanford.edu/~conrad/papers/j1p.pdf and the code has been checked against the table in pg. 393.
+* `newform_decomposition`: This checks it against another way of computing it:
+
+  `all([J0(N).newform_decomposition('a') == [S.newform('a') for S in J0(N)] for N in [1..50]])`
+
+  `all([J1(N).newform_decomposition('a') == [S.newform('a') for S in J1(N)] for N in [1..30]])`
``````




---

archive/issue_comments_317863.json:
```json
{
    "body": "**Commit:** [d431329f0000bf36cdfd6af0f45b93ca99160bf3](https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3)",
    "created_at": "2016-09-19T03:50:07Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317863",
    "user": "https://github.com/kevinywlui"
}
```

**Commit:** [d431329f0000bf36cdfd6af0f45b93ca99160bf3](https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3)



---

archive/issue_comments_317864.json:
```json
{
    "body": "<a id='comment:3'></a>\nQuick comment: i pretty carefully refereed all the original code as it was being written, and had many (many!) comments on it, which Kevin addressed.   So this is likely to be in pretty good shape.",
    "created_at": "2016-09-20T01:12:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317864",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:3'></a>
Quick comment: i pretty carefully refereed all the original code as it was being written, and had many (many!) comments on it, which Kevin addressed.   So this is likely to be in pretty good shape.



---

archive/issue_comments_317865.json:
```json
{
    "body": "<a id='comment:4'></a>\n\n```\nFile \"src/sage/modular/abvar/torsion_subgroup.py\", line 421, in sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order\nFailed example:\n    from sage_modabvar import J0, J1\nException raised:\n    Traceback (most recent call last):\n      File \"/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order[0]>\", line 1, in <module>\n        from sage_modabvar import J0, J1\n    ImportError: No module named sage_modabvar\n**********************************************************************\nFile \"src/sage/modular/abvar/torsion_subgroup.py\", line 559, in sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order_using_frobp\nFailed example:\n    from sage_modabvar import JH\nException raised:\n    Traceback (most recent call last):\n      File \"/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order_using_frobp[20]>\", line 1, in <module>\n        from sage_modabvar import JH\n    ImportError: No module named sage_modabvar\n```",
    "created_at": "2016-09-28T09:20:34Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317865",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>

```
File "src/sage/modular/abvar/torsion_subgroup.py", line 421, in sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order
Failed example:
    from sage_modabvar import J0, J1
Exception raised:
    Traceback (most recent call last):
      File "/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order[0]>", line 1, in <module>
        from sage_modabvar import J0, J1
    ImportError: No module named sage_modabvar
**********************************************************************
File "src/sage/modular/abvar/torsion_subgroup.py", line 559, in sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order_using_frobp
Failed example:
    from sage_modabvar import JH
Exception raised:
    Traceback (most recent call last):
      File "/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order_using_frobp[20]>", line 1, in <module>
        from sage_modabvar import JH
    ImportError: No module named sage_modabvar
```



---

archive/issue_comments_317866.json:
```json
{
    "body": "**Changing branch** from \"[u/klui/merge_of_gsoc_modabvar_project](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/merge_of_gsoc_modabvar_project)\" to \"[public/21496](https://github.com/sagemath/sagetrac-mirror/tree/public/21496)\".",
    "created_at": "2016-09-29T08:06:10Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317866",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/klui/merge_of_gsoc_modabvar_project](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/merge_of_gsoc_modabvar_project)" to "[public/21496](https://github.com/sagemath/sagetrac-mirror/tree/public/21496)".



---

archive/issue_comments_317867.json:
```json
{
    "body": "**Changing commit** from \"[d431329f0000bf36cdfd6af0f45b93ca99160bf3](https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3)\" to \"[c760f00ee59f0c7bb146641d67f36a9ccb0f640c](https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c)\".",
    "created_at": "2016-09-29T08:06:10Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317867",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[d431329f0000bf36cdfd6af0f45b93ca99160bf3](https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3)" to "[c760f00ee59f0c7bb146641d67f36a9ccb0f640c](https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c)".



---

archive/issue_comments_317868.json:
```json
{
    "body": "<a id='comment:5'></a>\nI made a public branch (based on u/klui/merge_of_gsoc_modabvar_project)\nremoving the 3 problematic imports.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53865b79dec9034ecc72ba7f020c6e0f68580368\">53865b7</a></td><td><code>Merge branch 'u/klui/merge_of_gsoc_modabvar_project' in 7.4.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c\">c760f00</a></td><td><code>removing some bad unused imports</code></td></tr></table>\n",
    "created_at": "2016-09-29T08:06:10Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317868",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
I made a public branch (based on u/klui/merge_of_gsoc_modabvar_project)
removing the 3 problematic imports.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53865b79dec9034ecc72ba7f020c6e0f68580368">53865b7</a></td><td><code>Merge branch 'u/klui/merge_of_gsoc_modabvar_project' in 7.4.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c">c760f00</a></td><td><code>removing some bad unused imports</code></td></tr></table>




---

archive/issue_comments_317869.json:
```json
{
    "body": "<a id='comment:6'></a>\none failing doctest:\n\n```\nFile \"src/sage/modular/abvar/abvar.py\", line 4363, in sage.modular.abvar.abvar.ModularAbelianVariety_modsym_abstract.new_subvariety\nFailed example:\n    J0(33).new_subvariety()\nExpected:\n    Abelian subvariety of dimension 1 of J0(33)\nGot:\n    Simple abelian subvariety 33a(1,33) of dimension 1 of J0(33)\n```",
    "created_at": "2016-09-29T08:29:07Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317869",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
one failing doctest:

```
File "src/sage/modular/abvar/abvar.py", line 4363, in sage.modular.abvar.abvar.ModularAbelianVariety_modsym_abstract.new_subvariety
Failed example:
    J0(33).new_subvariety()
Expected:
    Abelian subvariety of dimension 1 of J0(33)
Got:
    Simple abelian subvariety 33a(1,33) of dimension 1 of J0(33)
```



---

archive/issue_comments_317870.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f\">cf1aa03</a></td><td><code>trac 21496 fixing failing doctest</code></td></tr></table>\n",
    "created_at": "2016-09-29T11:36:01Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317870",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f">cf1aa03</a></td><td><code>trac 21496 fixing failing doctest</code></td></tr></table>




---

archive/issue_comments_317871.json:
```json
{
    "body": "**Changing commit** from \"[c760f00ee59f0c7bb146641d67f36a9ccb0f640c](https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c)\" to \"[cf1aa0369cba985788d9b2bd555fd38c8784a36f](https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f)\".",
    "created_at": "2016-09-29T11:36:01Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317871",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c760f00ee59f0c7bb146641d67f36a9ccb0f640c](https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c)" to "[cf1aa0369cba985788d9b2bd555fd38c8784a36f](https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f)".



---

archive/issue_comments_317872.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086\">919e788</a></td><td><code>changed fix to failing doctest</code></td></tr></table>\n",
    "created_at": "2016-09-30T04:02:20Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317872",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086">919e788</a></td><td><code>changed fix to failing doctest</code></td></tr></table>




---

archive/issue_comments_317873.json:
```json
{
    "body": "**Changing commit** from \"[cf1aa0369cba985788d9b2bd555fd38c8784a36f](https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f)\" to \"[919e788607acb6d11ba184e360ab917b80f0a086](https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086)\".",
    "created_at": "2016-09-30T04:02:20Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317873",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cf1aa0369cba985788d9b2bd555fd38c8784a36f](https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f)" to "[919e788607acb6d11ba184e360ab917b80f0a086](https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086)".



---

archive/issue_comments_317874.json:
```json
{
    "body": "<a id='comment:9'></a>\n@fchapoton Thanks for the fixes. I should have caught the bad imports earlier.\n\nI think the doctest in new_subvariety fails because J0(33).is_simple() is called elsewhere in the file. There's a warning about this situation in L3203 in abvar.py . So I changed it to J0(34) since that isn't used anywhere in the file.",
    "created_at": "2016-09-30T04:06:29Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317874",
    "user": "https://github.com/kevinywlui"
}
```

<a id='comment:9'></a>
@fchapoton Thanks for the fixes. I should have caught the bad imports earlier.

I think the doctest in new_subvariety fails because J0(33).is_simple() is called elsewhere in the file. There's a warning about this situation in L3203 in abvar.py . So I changed it to J0(34) since that isn't used anywhere in the file.



---

archive/issue_comments_317875.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcca7ac57642c7f7910a32d6491cf39008418da2\">fcca7ac</a></td><td><code>Merge branch 'public/21496' in 7.5.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5\">b8defb6</a></td><td><code>trac 21496 cosmetics of OUTPUT blocks</code></td></tr></table>\n",
    "created_at": "2016-12-13T17:15:18Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317875",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcca7ac57642c7f7910a32d6491cf39008418da2">fcca7ac</a></td><td><code>Merge branch 'public/21496' in 7.5.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5">b8defb6</a></td><td><code>trac 21496 cosmetics of OUTPUT blocks</code></td></tr></table>




---

archive/issue_comments_317876.json:
```json
{
    "body": "**Changing commit** from \"[919e788607acb6d11ba184e360ab917b80f0a086](https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086)\" to \"[b8defb6e30ff3f6b623ef94af90fddc5835513e5](https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5)\".",
    "created_at": "2016-12-13T17:15:18Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317876",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[919e788607acb6d11ba184e360ab917b80f0a086](https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086)" to "[b8defb6e30ff3f6b623ef94af90fddc5835513e5](https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5)".



---

archive/issue_comments_317877.json:
```json
{
    "body": "<a id='comment:11'></a>\nI have made a cosmetic commit, mainly about formatting the OUTPUT blocks.\n\nIf you do not object to these tiny changes, you can set a positive review on my behalf.",
    "created_at": "2016-12-13T17:16:33Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317877",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
I have made a cosmetic commit, mainly about formatting the OUTPUT blocks.

If you do not object to these tiny changes, you can set a positive review on my behalf.



---

archive/issue_comments_317878.json:
```json
{
    "body": "<a id='comment:12'></a>\noops, it seems that I broke the doc, let me fix that",
    "created_at": "2016-12-14T08:06:20Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317878",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
oops, it seems that I broke the doc, let me fix that



---

archive/issue_comments_317879.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201\">3f92ea1</a></td><td><code>trac 21496 fixing doc, plus little code cleanup of ;</code></td></tr></table>\n",
    "created_at": "2016-12-14T09:01:19Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317879",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201">3f92ea1</a></td><td><code>trac 21496 fixing doc, plus little code cleanup of ;</code></td></tr></table>




---

archive/issue_comments_317880.json:
```json
{
    "body": "**Changing commit** from \"[b8defb6e30ff3f6b623ef94af90fddc5835513e5](https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5)\" to \"[3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201](https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201)\".",
    "created_at": "2016-12-14T09:01:19Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317880",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b8defb6e30ff3f6b623ef94af90fddc5835513e5](https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5)" to "[3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201](https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201)".



---

archive/issue_comments_317881.json:
```json
{
    "body": "<a id='comment:14'></a>\nok, doc is good again.\n\nOnce again, if you agree with my small schanges, this can be set to positive.",
    "created_at": "2016-12-14T11:11:49Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317881",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>
ok, doc is good again.

Once again, if you agree with my small schanges, this can be set to positive.



---

archive/issue_comments_317882.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [chapoton](#comment%3A14):\n> ok, doc is good again.\n> \n> Once again, if you agree with my small schanges, this can be set to positive.\n\nLooks good to me. Thanks. I'll set it on your behalf.",
    "created_at": "2016-12-16T07:01:13Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317882",
    "user": "https://github.com/kevinywlui"
}
```

<a id='comment:15'></a>
Replying to [chapoton](#comment%3A14):
> ok, doc is good again.
> 
> Once again, if you agree with my small schanges, this can be set to positive.

Looks good to me. Thanks. I'll set it on your behalf.



---

archive/issue_events_192636.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-12-16T07:01:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192636"
}
```



---

archive/issue_events_192637.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-12-16T07:01:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192637"
}
```



---

archive/issue_events_192638.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-05T16:15:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192638"
}
```



---

archive/issue_events_192639.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-05T16:15:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192639"
}
```



---

archive/issue_comments_317883.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2017-01-05T16:57:10Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317883",
    "user": "https://github.com/fchapoton"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_comments_317884.json:
```json
{
    "body": "<a id='comment:19'></a>\non 32-bit:\n\n```\nsage -t --long src/sage/modular/abvar/lseries.py\n**********************************************************************\nFile \"src/sage/modular/abvar/lseries.py\", line 102, in sage.modular.abvar.lseries.Lseries_complex.__call__\nFailed example:\n    L(1) # long time (2s)\nExpected:\n    -1.33139759782370e-19\nGot:\n    -1.04128413920120e-19\n**********************************************************************\nFile \"src/sage/modular/abvar/lseries.py\", line 201, in sage.modular.abvar.lseries.Lseries_complex.vanishes_at_1\nFailed example:\n    L(1) # long time (2s)\nExpected:\n    -1.33139759782370e-19\nGot:\n    -1.04128413920120e-19\n^CKilling test src/sage/modular/abvar/lseries.py\n----------------------------------------------------------------------\nDoctests interrupted: 0/1 files tested\n----------------------------------------------------------------------\nTotal time for all tests: 6.6 seconds\n    cpu time: 0.0 seconds\n    cumulative wall time: 0.0 seconds\n```\nNeeds some # abs tol apparently",
    "created_at": "2017-01-17T23:21:03Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317884",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'></a>
on 32-bit:

```
sage -t --long src/sage/modular/abvar/lseries.py
**********************************************************************
File "src/sage/modular/abvar/lseries.py", line 102, in sage.modular.abvar.lseries.Lseries_complex.__call__
Failed example:
    L(1) # long time (2s)
Expected:
    -1.33139759782370e-19
Got:
    -1.04128413920120e-19
**********************************************************************
File "src/sage/modular/abvar/lseries.py", line 201, in sage.modular.abvar.lseries.Lseries_complex.vanishes_at_1
Failed example:
    L(1) # long time (2s)
Expected:
    -1.33139759782370e-19
Got:
    -1.04128413920120e-19
^CKilling test src/sage/modular/abvar/lseries.py
----------------------------------------------------------------------
Doctests interrupted: 0/1 files tested
----------------------------------------------------------------------
Total time for all tests: 6.6 seconds
    cpu time: 0.0 seconds
    cumulative wall time: 0.0 seconds
```
Needs some # abs tol apparently



---

archive/issue_events_192640.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-17T23:21:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192640"
}
```



---

archive/issue_events_192641.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-17T23:21:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192641"
}
```



---

archive/issue_comments_317885.json:
```json
{
    "body": "**Changing commit** from \"[3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201](https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201)\" to \"[950049159ea8676065b5c39152acde0a85c585e9](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)\".",
    "created_at": "2017-01-21T06:14:16Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317885",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201](https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201)" to "[950049159ea8676065b5c39152acde0a85c585e9](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)".



---

archive/issue_comments_317886.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9\">9500491</a></td><td><code>added abs tol to fix some failing test on 32bit</code></td></tr></table>\n",
    "created_at": "2017-01-21T06:14:16Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317886",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9">9500491</a></td><td><code>added abs tol to fix some failing test on 32bit</code></td></tr></table>




---

archive/issue_comments_317887.json:
```json
{
    "body": "<a id='comment:21'></a>\nThanks for the catch. It should work now.",
    "created_at": "2017-01-21T06:14:53Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317887",
    "user": "https://github.com/kevinywlui"
}
```

<a id='comment:21'></a>
Thanks for the catch. It should work now.



---

archive/issue_events_192642.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-01-21T06:15:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192642"
}
```



---

archive/issue_events_192643.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-01-21T06:15:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192643"
}
```



---

archive/issue_events_192644.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T08:57:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192644"
}
```



---

archive/issue_events_192645.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T08:57:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192645"
}
```



---

archive/issue_events_192646.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T21:21:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192646"
}
```



---

archive/issue_events_192647.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e6c350841764dd460c23b8bed26ba2498d3a90dd",
    "created_at": "2017-01-21T21:21:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-192647"
}
```



---

archive/issue_comments_317888.json:
```json
{
    "body": "**Changing branch** from \"[public/21496](https://github.com/sagemath/sagetrac-mirror/tree/public/21496)\" to \"[950049159ea8676065b5c39152acde0a85c585e9](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)\".",
    "created_at": "2017-01-21T21:21:52Z",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317888",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/21496](https://github.com/sagemath/sagetrac-mirror/tree/public/21496)" to "[950049159ea8676065b5c39152acde0a85c585e9](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)".
