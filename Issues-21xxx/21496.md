# Issue 21496: Merge of GSoC modabvar project

archive/issues_021259.json:
```json
{
    "assignees": [],
    "body": "This is a merge of this project: https://github.com/williamstein/sage_modabvar\n\nMost of the code is checked against Magma. Here's a SMC worksheet checking most of the doctest examples: https://cloud.sagemath.com/projects/0d310a14-a099-47d9-87c7-df6b63af54a6/files/worksheets/magma_test_examples.sagews\n\nThe methods that aren't covered in the worksheet are:\n* `is_J0`, `is_J1`: they're really short\n* `elliptic_curve`: this checks that the newforms agree for conductor up to 50: `all([S.newform(names='a') == S.elliptic_curve().newform() for N in [1..50] for S in J0(N) if S.dimension() == 1])`\n* An algorithm for computing the divisor of order of the rational torsion subgroup is known in the J1(p) case. It is also conjecturally the order of the rational torsion subgroup. This is cover in this paper: http://math.stanford.edu/~conrad/papers/j1p.pdf and the code has been checked against the table in pg. 393.\n* `newform_decomposition`: This checks it against another way of computing it:\n\n  `all([J0(N).newform_decomposition('a') == [S.newform('a') for S in J0(N)] for N in [1..50]])`\n\n  `all([J1(N).newform_decomposition('a') == [S.newform('a') for S in J1(N)] for N in [1..30]])`\n\nCC:  @williamstein\n\nKeywords: **modular abelian variety**\n\nBranch/Commit: **[9500491](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Kevin Lui**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21496_\n\n",
    "closed_at": "2017-01-21T21:21:52Z",
    "created_at": "2016-09-14T22:27:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20modular%20forms",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Merge of GSoC modabvar project",
    "type": "issue",
    "updated_at": "2017-01-21T21:21:52Z",
    "url": "https://github.com/sagemath/sage/issues/21496",
    "user": "https://github.com/kevinywlui"
}
```
This is a merge of this project: https://github.com/williamstein/sage_modabvar

Most of the code is checked against Magma. Here's a SMC worksheet checking most of the doctest examples: https://cloud.sagemath.com/projects/0d310a14-a099-47d9-87c7-df6b63af54a6/files/worksheets/magma_test_examples.sagews

The methods that aren't covered in the worksheet are:
* `is_J0`, `is_J1`: they're really short
* `elliptic_curve`: this checks that the newforms agree for conductor up to 50: `all([S.newform(names='a') == S.elliptic_curve().newform() for N in [1..50] for S in J0(N) if S.dimension() == 1])`
* An algorithm for computing the divisor of order of the rational torsion subgroup is known in the J1(p) case. It is also conjecturally the order of the rational torsion subgroup. This is cover in this paper: http://math.stanford.edu/~conrad/papers/j1p.pdf and the code has been checked against the table in pg. 393.
* `newform_decomposition`: This checks it against another way of computing it:

  `all([J0(N).newform_decomposition('a') == [S.newform('a') for S in J0(N)] for N in [1..50]])`

  `all([J1(N).newform_decomposition('a') == [S.newform('a') for S in J1(N)] for N in [1..30]])`

CC:  @williamstein

Keywords: **modular abelian variety**

Branch/Commit: **[9500491](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)**

Reviewer: **Frédéric Chapoton**

Author: **Kevin Lui**

_Issue created by migration from https://trac.sagemath.org/ticket/21496_





---

archive/issue_events_273839.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-09-14T22:27:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273839"
}
```



---

archive/issue_events_273840.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-09-14T22:27:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20modular%20forms",
    "label_color": "0000ff",
    "label_name": "component: modular forms",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273840"
}
```



---

archive/issue_events_273841.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-09-14T22:27:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273841"
}
```



---

archive/issue_events_273842.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-09-14T22:27:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273842"
}
```



---

archive/issue_comments_317961.json:
```json
{
    "body": "Branch: **[u/klui/merge_of_gsoc_modabvar_project](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/merge_of_gsoc_modabvar_project)**",
    "created_at": "2016-09-16T21:35:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317961",
    "user": "https://github.com/kevinywlui"
}
```

Branch: **[u/klui/merge_of_gsoc_modabvar_project](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/merge_of_gsoc_modabvar_project)**



---

archive/issue_comments_317962.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3\">d431329</a></td><td><code>Copied over files from Github repo. Made small docstring changes.</code></td></tr></table>\n",
    "created_at": "2016-09-19T03:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317962",
    "user": "https://github.com/kevinywlui"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3">d431329</a></td><td><code>Copied over files from Github repo. Made small docstring changes.</code></td></tr></table>




---

archive/issue_events_273843.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-09-19T03:50:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273843"
}
```



---

archive/issue_comments_317963.json:
```json
{
    "body": "Changed dependencies from **#20857** to none",
    "created_at": "2016-09-19T03:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317963",
    "user": "https://github.com/kevinywlui"
}
```

Changed dependencies from **#20857** to none



---

archive/issue_comments_317964.json:
```json
{
    "body": "Author: **Kevin Lui**",
    "created_at": "2016-09-19T03:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317964",
    "user": "https://github.com/kevinywlui"
}
```

Author: **Kevin Lui**



---

archive/issue_comments_317965.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,13 @@\n This is a merge of this project: https://github.com/williamstein/sage_modabvar\n+\n+Most of the code is checked against Magma. Here's a SMC worksheet checking most of the doctest examples: https://cloud.sagemath.com/projects/0d310a14-a099-47d9-87c7-df6b63af54a6/files/worksheets/magma_test_examples.sagews\n+\n+The methods that aren't covered in the worksheet are:\n+* `is_J0`, `is_J1`: they're really short\n+* `elliptic_curve`: this checks that the newforms agree for conductor up to 50: `all([S.newform(names='a') == S.elliptic_curve().newform() for N in [1..50] for S in J0(N) if S.dimension() == 1])`\n+* An algorithm for computing the divisor of order of the rational torsion subgroup is known in the J1(p) case. It is also conjecturally the order of the rational torsion subgroup. This is cover in this paper: http://math.stanford.edu/~conrad/papers/j1p.pdf and the code has been checked against the table in pg. 393.\n+* `newform_decomposition`: This checks it against another way of computing it:\n+\n+  `all([J0(N).newform_decomposition('a') == [S.newform('a') for S in J0(N)] for N in [1..50]])`\n+\n+  `all([J1(N).newform_decomposition('a') == [S.newform('a') for S in J1(N)] for N in [1..30]])`\n``````\n",
    "created_at": "2016-09-19T03:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317965",
    "user": "https://github.com/kevinywlui"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,13 @@
 This is a merge of this project: https://github.com/williamstein/sage_modabvar
+
+Most of the code is checked against Magma. Here's a SMC worksheet checking most of the doctest examples: https://cloud.sagemath.com/projects/0d310a14-a099-47d9-87c7-df6b63af54a6/files/worksheets/magma_test_examples.sagews
+
+The methods that aren't covered in the worksheet are:
+* `is_J0`, `is_J1`: they're really short
+* `elliptic_curve`: this checks that the newforms agree for conductor up to 50: `all([S.newform(names='a') == S.elliptic_curve().newform() for N in [1..50] for S in J0(N) if S.dimension() == 1])`
+* An algorithm for computing the divisor of order of the rational torsion subgroup is known in the J1(p) case. It is also conjecturally the order of the rational torsion subgroup. This is cover in this paper: http://math.stanford.edu/~conrad/papers/j1p.pdf and the code has been checked against the table in pg. 393.
+* `newform_decomposition`: This checks it against another way of computing it:
+
+  `all([J0(N).newform_decomposition('a') == [S.newform('a') for S in J0(N)] for N in [1..50]])`
+
+  `all([J1(N).newform_decomposition('a') == [S.newform('a') for S in J1(N)] for N in [1..30]])`
``````




---

archive/issue_comments_317966.json:
```json
{
    "body": "Commit: **[d431329](https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3)**",
    "created_at": "2016-09-19T03:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317966",
    "user": "https://github.com/kevinywlui"
}
```

Commit: **[d431329](https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3)**



---

archive/issue_comments_317967.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nQuick comment: i pretty carefully refereed all the original code as it was being written, and had many (many!) comments on it, which Kevin addressed.   So this is likely to be in pretty good shape.",
    "created_at": "2016-09-20T01:12:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317967",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:3'>Comment 3:</a>
Quick comment: i pretty carefully refereed all the original code as it was being written, and had many (many!) comments on it, which Kevin addressed.   So this is likely to be in pretty good shape.



---

archive/issue_comments_317968.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\n\n```\nFile \"src/sage/modular/abvar/torsion_subgroup.py\", line 421, in sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order\nFailed example:\n    from sage_modabvar import J0, J1\nException raised:\n    Traceback (most recent call last):\n      File \"/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order[0]>\", line 1, in <module>\n        from sage_modabvar import J0, J1\n    ImportError: No module named sage_modabvar\n**********************************************************************\nFile \"src/sage/modular/abvar/torsion_subgroup.py\", line 559, in sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order_using_frobp\nFailed example:\n    from sage_modabvar import JH\nException raised:\n    Traceback (most recent call last):\n      File \"/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order_using_frobp[20]>\", line 1, in <module>\n        from sage_modabvar import JH\n    ImportError: No module named sage_modabvar\n```",
    "created_at": "2016-09-28T09:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317968",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'>Comment 4:</a>

```
File "src/sage/modular/abvar/torsion_subgroup.py", line 421, in sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order
Failed example:
    from sage_modabvar import J0, J1
Exception raised:
    Traceback (most recent call last):
      File "/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order[0]>", line 1, in <module>
        from sage_modabvar import J0, J1
    ImportError: No module named sage_modabvar
**********************************************************************
File "src/sage/modular/abvar/torsion_subgroup.py", line 559, in sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order_using_frobp
Failed example:
    from sage_modabvar import JH
Exception raised:
    Traceback (most recent call last):
      File "/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order_using_frobp[20]>", line 1, in <module>
        from sage_modabvar import JH
    ImportError: No module named sage_modabvar
```



---

archive/issue_comments_317969.json:
```json
{
    "body": "Changed branch from **[u/klui/merge_of_gsoc_modabvar_project](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/merge_of_gsoc_modabvar_project)** to **[public/21496](https://github.com/sagemath/sagetrac-mirror/tree/public/21496)**",
    "created_at": "2016-09-29T08:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317969",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/klui/merge_of_gsoc_modabvar_project](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/merge_of_gsoc_modabvar_project)** to **[public/21496](https://github.com/sagemath/sagetrac-mirror/tree/public/21496)**



---

archive/issue_comments_317970.json:
```json
{
    "body": "Changed commit from **[d431329](https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3)** to **[c760f00](https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c)**",
    "created_at": "2016-09-29T08:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317970",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[d431329](https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3)** to **[c760f00](https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c)**



---

archive/issue_comments_317971.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nI made a public branch (based on u/klui/merge_of_gsoc_modabvar_project)\nremoving the 3 problematic imports.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53865b79dec9034ecc72ba7f020c6e0f68580368\">53865b7</a></td><td><code>Merge branch 'u/klui/merge_of_gsoc_modabvar_project' in 7.4.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c\">c760f00</a></td><td><code>removing some bad unused imports</code></td></tr></table>\n",
    "created_at": "2016-09-29T08:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317971",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'>Comment 5:</a>
I made a public branch (based on u/klui/merge_of_gsoc_modabvar_project)
removing the 3 problematic imports.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53865b79dec9034ecc72ba7f020c6e0f68580368">53865b7</a></td><td><code>Merge branch 'u/klui/merge_of_gsoc_modabvar_project' in 7.4.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c">c760f00</a></td><td><code>removing some bad unused imports</code></td></tr></table>




---

archive/issue_comments_317972.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\none failing doctest:\n\n```\nFile \"src/sage/modular/abvar/abvar.py\", line 4363, in sage.modular.abvar.abvar.ModularAbelianVariety_modsym_abstract.new_subvariety\nFailed example:\n    J0(33).new_subvariety()\nExpected:\n    Abelian subvariety of dimension 1 of J0(33)\nGot:\n    Simple abelian subvariety 33a(1,33) of dimension 1 of J0(33)\n```",
    "created_at": "2016-09-29T08:29:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317972",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'>Comment 6:</a>
one failing doctest:

```
File "src/sage/modular/abvar/abvar.py", line 4363, in sage.modular.abvar.abvar.ModularAbelianVariety_modsym_abstract.new_subvariety
Failed example:
    J0(33).new_subvariety()
Expected:
    Abelian subvariety of dimension 1 of J0(33)
Got:
    Simple abelian subvariety 33a(1,33) of dimension 1 of J0(33)
```



---

archive/issue_comments_317973.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f\">cf1aa03</a></td><td><code>trac 21496 fixing failing doctest</code></td></tr></table>\n",
    "created_at": "2016-09-29T11:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317973",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f">cf1aa03</a></td><td><code>trac 21496 fixing failing doctest</code></td></tr></table>




---

archive/issue_comments_317974.json:
```json
{
    "body": "Changed commit from **[c760f00](https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c)** to **[cf1aa03](https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f)**",
    "created_at": "2016-09-29T11:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317974",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c760f00](https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c)** to **[cf1aa03](https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f)**



---

archive/issue_comments_317975.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086\">919e788</a></td><td><code>changed fix to failing doctest</code></td></tr></table>\n",
    "created_at": "2016-09-30T04:02:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317975",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086">919e788</a></td><td><code>changed fix to failing doctest</code></td></tr></table>




---

archive/issue_comments_317976.json:
```json
{
    "body": "Changed commit from **[cf1aa03](https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f)** to **[919e788](https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086)**",
    "created_at": "2016-09-30T04:02:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317976",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cf1aa03](https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f)** to **[919e788](https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086)**



---

archive/issue_comments_317977.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\n@fchapoton Thanks for the fixes. I should have caught the bad imports earlier.\n\nI think the doctest in new_subvariety fails because J0(33).is_simple() is called elsewhere in the file. There's a warning about this situation in L3203 in abvar.py . So I changed it to J0(34) since that isn't used anywhere in the file.",
    "created_at": "2016-09-30T04:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317977",
    "user": "https://github.com/kevinywlui"
}
```

<a id='comment:9'>Comment 9:</a>
@fchapoton Thanks for the fixes. I should have caught the bad imports earlier.

I think the doctest in new_subvariety fails because J0(33).is_simple() is called elsewhere in the file. There's a warning about this situation in L3203 in abvar.py . So I changed it to J0(34) since that isn't used anywhere in the file.



---

archive/issue_comments_317978.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcca7ac57642c7f7910a32d6491cf39008418da2\">fcca7ac</a></td><td><code>Merge branch 'public/21496' in 7.5.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5\">b8defb6</a></td><td><code>trac 21496 cosmetics of OUTPUT blocks</code></td></tr></table>\n",
    "created_at": "2016-12-13T17:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317978",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcca7ac57642c7f7910a32d6491cf39008418da2">fcca7ac</a></td><td><code>Merge branch 'public/21496' in 7.5.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5">b8defb6</a></td><td><code>trac 21496 cosmetics of OUTPUT blocks</code></td></tr></table>




---

archive/issue_comments_317979.json:
```json
{
    "body": "Changed commit from **[919e788](https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086)** to **[b8defb6](https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5)**",
    "created_at": "2016-12-13T17:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317979",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[919e788](https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086)** to **[b8defb6](https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5)**



---

archive/issue_comments_317980.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nI have made a cosmetic commit, mainly about formatting the OUTPUT blocks.\n\nIf you do not object to these tiny changes, you can set a positive review on my behalf.",
    "created_at": "2016-12-13T17:16:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317980",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'>Comment 11:</a>
I have made a cosmetic commit, mainly about formatting the OUTPUT blocks.

If you do not object to these tiny changes, you can set a positive review on my behalf.



---

archive/issue_comments_317981.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\noops, it seems that I broke the doc, let me fix that",
    "created_at": "2016-12-14T08:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317981",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'>Comment 12:</a>
oops, it seems that I broke the doc, let me fix that



---

archive/issue_comments_317982.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201\">3f92ea1</a></td><td><code>trac 21496 fixing doc, plus little code cleanup of ;</code></td></tr></table>\n",
    "created_at": "2016-12-14T09:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317982",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201">3f92ea1</a></td><td><code>trac 21496 fixing doc, plus little code cleanup of ;</code></td></tr></table>




---

archive/issue_comments_317983.json:
```json
{
    "body": "Changed commit from **[b8defb6](https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5)** to **[3f92ea1](https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201)**",
    "created_at": "2016-12-14T09:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317983",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b8defb6](https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5)** to **[3f92ea1](https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201)**



---

archive/issue_comments_317984.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nok, doc is good again.\n\nOnce again, if you agree with my small schanges, this can be set to positive.",
    "created_at": "2016-12-14T11:11:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317984",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'>Comment 14:</a>
ok, doc is good again.

Once again, if you agree with my small schanges, this can be set to positive.



---

archive/issue_comments_317985.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@fchapoton](#comment%3A14):\n> ok, doc is good again.\n> \n> Once again, if you agree with my small schanges, this can be set to positive.\n\nLooks good to me. Thanks. I'll set it on your behalf.",
    "created_at": "2016-12-16T07:01:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317985",
    "user": "https://github.com/kevinywlui"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@fchapoton](#comment%3A14):
> ok, doc is good again.
> 
> Once again, if you agree with my small schanges, this can be set to positive.

Looks good to me. Thanks. I'll set it on your behalf.



---

archive/issue_events_273844.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-12-16T07:01:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273844"
}
```



---

archive/issue_events_273845.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-12-16T07:01:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273845"
}
```



---

archive/issue_events_273846.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-05T16:15:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273846"
}
```



---

archive/issue_events_273847.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-05T16:15:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273847"
}
```



---

archive/issue_comments_317986.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2017-01-05T16:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317986",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_comments_317987.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\non 32-bit:\n\n```\nsage -t --long src/sage/modular/abvar/lseries.py\n**********************************************************************\nFile \"src/sage/modular/abvar/lseries.py\", line 102, in sage.modular.abvar.lseries.Lseries_complex.__call__\nFailed example:\n    L(1) # long time (2s)\nExpected:\n    -1.33139759782370e-19\nGot:\n    -1.04128413920120e-19\n**********************************************************************\nFile \"src/sage/modular/abvar/lseries.py\", line 201, in sage.modular.abvar.lseries.Lseries_complex.vanishes_at_1\nFailed example:\n    L(1) # long time (2s)\nExpected:\n    -1.33139759782370e-19\nGot:\n    -1.04128413920120e-19\n^CKilling test src/sage/modular/abvar/lseries.py\n----------------------------------------------------------------------\nDoctests interrupted: 0/1 files tested\n----------------------------------------------------------------------\nTotal time for all tests: 6.6 seconds\n    cpu time: 0.0 seconds\n    cumulative wall time: 0.0 seconds\n```\nNeeds some # abs tol apparently",
    "created_at": "2017-01-17T23:21:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317987",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'>Comment 19:</a>
on 32-bit:

```
sage -t --long src/sage/modular/abvar/lseries.py
**********************************************************************
File "src/sage/modular/abvar/lseries.py", line 102, in sage.modular.abvar.lseries.Lseries_complex.__call__
Failed example:
    L(1) # long time (2s)
Expected:
    -1.33139759782370e-19
Got:
    -1.04128413920120e-19
**********************************************************************
File "src/sage/modular/abvar/lseries.py", line 201, in sage.modular.abvar.lseries.Lseries_complex.vanishes_at_1
Failed example:
    L(1) # long time (2s)
Expected:
    -1.33139759782370e-19
Got:
    -1.04128413920120e-19
^CKilling test src/sage/modular/abvar/lseries.py
----------------------------------------------------------------------
Doctests interrupted: 0/1 files tested
----------------------------------------------------------------------
Total time for all tests: 6.6 seconds
    cpu time: 0.0 seconds
    cumulative wall time: 0.0 seconds
```
Needs some # abs tol apparently



---

archive/issue_events_273848.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-17T23:21:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273848"
}
```



---

archive/issue_events_273849.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-17T23:21:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273849"
}
```



---

archive/issue_comments_317988.json:
```json
{
    "body": "Changed commit from **[3f92ea1](https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201)** to **[9500491](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)**",
    "created_at": "2017-01-21T06:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317988",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3f92ea1](https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201)** to **[9500491](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)**



---

archive/issue_comments_317989.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9\">9500491</a></td><td><code>added abs tol to fix some failing test on 32bit</code></td></tr></table>\n",
    "created_at": "2017-01-21T06:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317989",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'>Comment 20:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9">9500491</a></td><td><code>added abs tol to fix some failing test on 32bit</code></td></tr></table>




---

archive/issue_comments_317990.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nThanks for the catch. It should work now.",
    "created_at": "2017-01-21T06:14:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317990",
    "user": "https://github.com/kevinywlui"
}
```

<a id='comment:21'>Comment 21:</a>
Thanks for the catch. It should work now.



---

archive/issue_events_273850.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-01-21T06:15:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273850"
}
```



---

archive/issue_events_273851.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-01-21T06:15:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273851"
}
```



---

archive/issue_events_273852.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T08:57:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273852"
}
```



---

archive/issue_events_273853.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T08:57:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273853"
}
```



---

archive/issue_events_273854.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T21:21:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273854"
}
```



---

archive/issue_events_273855.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e6c350841764dd460c23b8bed26ba2498d3a90dd",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-01-21T21:21:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-273855"
}
```



---

archive/issue_comments_317991.json:
```json
{
    "body": "Changed branch from **[public/21496](https://github.com/sagemath/sagetrac-mirror/tree/public/21496)** to **[9500491](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)**",
    "created_at": "2017-01-21T21:21:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-317991",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/21496](https://github.com/sagemath/sagetrac-mirror/tree/public/21496)** to **[9500491](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)**
