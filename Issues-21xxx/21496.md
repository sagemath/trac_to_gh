# Issue 21496: Merge of GSoC modabvar project

archive/issues_021259.json:
```json
{
    "assignees": [],
    "body": "This is a merge of this project: https://github.com/williamstein/sage_modabvar\n\nMost of the code is checked against Magma. Here's a SMC worksheet checking most of the doctest examples: https://cloud.sagemath.com/projects/0d310a14-a099-47d9-87c7-df6b63af54a6/files/worksheets/magma_test_examples.sagews\n\nThe methods that aren't covered in the worksheet are:\n* `is_J0`, `is_J1`: they're really short\n* `elliptic_curve`: this checks that the newforms agree for conductor up to 50: `all([S.newform(names='a') == S.elliptic_curve().newform() for N in [1..50] for S in J0(N) if S.dimension() == 1])`\n* An algorithm for computing the divisor of order of the rational torsion subgroup is known in the J1(p) case. It is also conjecturally the order of the rational torsion subgroup. This is cover in this paper: http://math.stanford.edu/~conrad/papers/j1p.pdf and the code has been checked against the table in pg. 393.\n* `newform_decomposition`: This checks it against another way of computing it:\n\n  `all([J0(N).newform_decomposition('a') == [S.newform('a') for S in J0(N)] for N in [1..50]])`\n\n  `all([J1(N).newform_decomposition('a') == [S.newform('a') for S in J1(N)] for N in [1..30]])`\n\nCC:  @williamstein\n\nKeywords: **modular abelian variety**\n\nBranch/Commit: **[9500491](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Kevin Lui**\n\nComponent: **modular forms**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21496_\n\n",
    "closed_at": "2017-01-21T21:21:52Z",
    "created_at": "2016-09-14T22:27:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20modular%20forms",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Merge of GSoC modabvar project",
    "type": "issue",
    "updated_at": "2017-01-21T21:21:52Z",
    "url": "https://github.com/sagemath/sage/issues/21496",
    "user": "https://github.com/kevinywlui"
}
```
This is a merge of this project: https://github.com/williamstein/sage_modabvar

Most of the code is checked against Magma. Here's a SMC worksheet checking most of the doctest examples: https://cloud.sagemath.com/projects/0d310a14-a099-47d9-87c7-df6b63af54a6/files/worksheets/magma_test_examples.sagews

The methods that aren't covered in the worksheet are:
* `is_J0`, `is_J1`: they're really short
* `elliptic_curve`: this checks that the newforms agree for conductor up to 50: `all([S.newform(names='a') == S.elliptic_curve().newform() for N in [1..50] for S in J0(N) if S.dimension() == 1])`
* An algorithm for computing the divisor of order of the rational torsion subgroup is known in the J1(p) case. It is also conjecturally the order of the rational torsion subgroup. This is cover in this paper: http://math.stanford.edu/~conrad/papers/j1p.pdf and the code has been checked against the table in pg. 393.
* `newform_decomposition`: This checks it against another way of computing it:

  `all([J0(N).newform_decomposition('a') == [S.newform('a') for S in J0(N)] for N in [1..50]])`

  `all([J1(N).newform_decomposition('a') == [S.newform('a') for S in J1(N)] for N in [1..30]])`

CC:  @williamstein

Keywords: **modular abelian variety**

Branch/Commit: **[9500491](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)**

Reviewer: **Frédéric Chapoton**

Author: **Kevin Lui**

Component: **modular forms**

_Issue created by migration from https://trac.sagemath.org/ticket/21496_





---

archive/issue_events_301949.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-09-14T22:27:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301949"
}
```



---

archive/issue_events_301950.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-09-14T22:27:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20modular%20forms",
    "label_color": "0000ff",
    "label_name": "c: modular forms",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301950"
}
```



---

archive/issue_events_301951.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-09-14T22:27:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301951"
}
```



---

archive/issue_events_301952.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-09-14T22:27:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301952"
}
```



---

archive/issue_comments_315394.json:
```json
{
    "body": "Branch: **[u/klui/merge_of_gsoc_modabvar_project](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/merge_of_gsoc_modabvar_project)**",
    "created_at": "2016-09-16T21:35:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315394",
    "user": "https://github.com/kevinywlui"
}
```

Branch: **[u/klui/merge_of_gsoc_modabvar_project](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/merge_of_gsoc_modabvar_project)**



---

archive/issue_comments_315395.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3\">d431329</a></td><td><code>Copied over files from Github repo. Made small docstring changes.</code></td></tr></table>\n",
    "created_at": "2016-09-19T03:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315395",
    "user": "https://github.com/kevinywlui"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3">d431329</a></td><td><code>Copied over files from Github repo. Made small docstring changes.</code></td></tr></table>




---

archive/issue_events_301953.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-09-19T03:50:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301953"
}
```



---

archive/issue_comments_315396.json:
```json
{
    "body": "Changed dependencies from **#20857** to none",
    "created_at": "2016-09-19T03:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315396",
    "user": "https://github.com/kevinywlui"
}
```

Changed dependencies from **#20857** to none



---

archive/issue_comments_315397.json:
```json
{
    "body": "Author: **Kevin Lui**",
    "created_at": "2016-09-19T03:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315397",
    "user": "https://github.com/kevinywlui"
}
```

Author: **Kevin Lui**



---

archive/issue_comments_315398.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,13 @@\n This is a merge of this project: https://github.com/williamstein/sage_modabvar\n+\n+Most of the code is checked against Magma. Here's a SMC worksheet checking most of the doctest examples: https://cloud.sagemath.com/projects/0d310a14-a099-47d9-87c7-df6b63af54a6/files/worksheets/magma_test_examples.sagews\n+\n+The methods that aren't covered in the worksheet are:\n+* `is_J0`, `is_J1`: they're really short\n+* `elliptic_curve`: this checks that the newforms agree for conductor up to 50: `all([S.newform(names='a') == S.elliptic_curve().newform() for N in [1..50] for S in J0(N) if S.dimension() == 1])`\n+* An algorithm for computing the divisor of order of the rational torsion subgroup is known in the J1(p) case. It is also conjecturally the order of the rational torsion subgroup. This is cover in this paper: http://math.stanford.edu/~conrad/papers/j1p.pdf and the code has been checked against the table in pg. 393.\n+* `newform_decomposition`: This checks it against another way of computing it:\n+\n+  `all([J0(N).newform_decomposition('a') == [S.newform('a') for S in J0(N)] for N in [1..50]])`\n+\n+  `all([J1(N).newform_decomposition('a') == [S.newform('a') for S in J1(N)] for N in [1..30]])`\n``````\n",
    "created_at": "2016-09-19T03:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315398",
    "user": "https://github.com/kevinywlui"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,13 @@
 This is a merge of this project: https://github.com/williamstein/sage_modabvar
+
+Most of the code is checked against Magma. Here's a SMC worksheet checking most of the doctest examples: https://cloud.sagemath.com/projects/0d310a14-a099-47d9-87c7-df6b63af54a6/files/worksheets/magma_test_examples.sagews
+
+The methods that aren't covered in the worksheet are:
+* `is_J0`, `is_J1`: they're really short
+* `elliptic_curve`: this checks that the newforms agree for conductor up to 50: `all([S.newform(names='a') == S.elliptic_curve().newform() for N in [1..50] for S in J0(N) if S.dimension() == 1])`
+* An algorithm for computing the divisor of order of the rational torsion subgroup is known in the J1(p) case. It is also conjecturally the order of the rational torsion subgroup. This is cover in this paper: http://math.stanford.edu/~conrad/papers/j1p.pdf and the code has been checked against the table in pg. 393.
+* `newform_decomposition`: This checks it against another way of computing it:
+
+  `all([J0(N).newform_decomposition('a') == [S.newform('a') for S in J0(N)] for N in [1..50]])`
+
+  `all([J1(N).newform_decomposition('a') == [S.newform('a') for S in J1(N)] for N in [1..30]])`
``````




---

archive/issue_comments_315399.json:
```json
{
    "body": "Commit: **[d431329](https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3)**",
    "created_at": "2016-09-19T03:50:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315399",
    "user": "https://github.com/kevinywlui"
}
```

Commit: **[d431329](https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3)**



---

archive/issue_comments_315400.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nQuick comment: i pretty carefully refereed all the original code as it was being written, and had many (many!) comments on it, which Kevin addressed.   So this is likely to be in pretty good shape.",
    "created_at": "2016-09-20T01:12:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315400",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:3" align="right">comment:3</div>

Quick comment: i pretty carefully refereed all the original code as it was being written, and had many (many!) comments on it, which Kevin addressed.   So this is likely to be in pretty good shape.



---

archive/issue_comments_315401.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\n\n```\nFile \"src/sage/modular/abvar/torsion_subgroup.py\", line 421, in sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order\nFailed example:\n    from sage_modabvar import J0, J1\nException raised:\n    Traceback (most recent call last):\n      File \"/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order[0]>\", line 1, in <module>\n        from sage_modabvar import J0, J1\n    ImportError: No module named sage_modabvar\n**********************************************************************\nFile \"src/sage/modular/abvar/torsion_subgroup.py\", line 559, in sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order_using_frobp\nFailed example:\n    from sage_modabvar import JH\nException raised:\n    Traceback (most recent call last):\n      File \"/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 498, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 861, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order_using_frobp[20]>\", line 1, in <module>\n        from sage_modabvar import JH\n    ImportError: No module named sage_modabvar\n```",
    "created_at": "2016-09-28T09:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315401",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>


```
File "src/sage/modular/abvar/torsion_subgroup.py", line 421, in sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order
Failed example:
    from sage_modabvar import J0, J1
Exception raised:
    Traceback (most recent call last):
      File "/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order[0]>", line 1, in <module>
        from sage_modabvar import J0, J1
    ImportError: No module named sage_modabvar
**********************************************************************
File "src/sage/modular/abvar/torsion_subgroup.py", line 559, in sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order_using_frobp
Failed example:
    from sage_modabvar import JH
Exception raised:
    Traceback (most recent call last):
      File "/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 498, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/u1/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 861, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modular.abvar.torsion_subgroup.RationalTorsionSubgroup.multiple_of_order_using_frobp[20]>", line 1, in <module>
        from sage_modabvar import JH
    ImportError: No module named sage_modabvar
```



---

archive/issue_comments_315402.json:
```json
{
    "body": "Changed branch from **[u/klui/merge_of_gsoc_modabvar_project](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/merge_of_gsoc_modabvar_project)** to **[public/21496](https://github.com/sagemath/sagetrac-mirror/tree/public/21496)**",
    "created_at": "2016-09-29T08:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315402",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/klui/merge_of_gsoc_modabvar_project](https://github.com/sagemath/sagetrac-mirror/tree/u/klui/merge_of_gsoc_modabvar_project)** to **[public/21496](https://github.com/sagemath/sagetrac-mirror/tree/public/21496)**



---

archive/issue_comments_315403.json:
```json
{
    "body": "Changed commit from **[d431329](https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3)** to **[c760f00](https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c)**",
    "created_at": "2016-09-29T08:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315403",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[d431329](https://github.com/sagemath/sagetrac-mirror/commit/d431329f0000bf36cdfd6af0f45b93ca99160bf3)** to **[c760f00](https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c)**



---

archive/issue_comments_315404.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI made a public branch (based on u/klui/merge_of_gsoc_modabvar_project)\nremoving the 3 problematic imports.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53865b79dec9034ecc72ba7f020c6e0f68580368\">53865b7</a></td><td><code>Merge branch 'u/klui/merge_of_gsoc_modabvar_project' in 7.4.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c\">c760f00</a></td><td><code>removing some bad unused imports</code></td></tr></table>\n",
    "created_at": "2016-09-29T08:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315404",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

I made a public branch (based on u/klui/merge_of_gsoc_modabvar_project)
removing the 3 problematic imports.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53865b79dec9034ecc72ba7f020c6e0f68580368">53865b7</a></td><td><code>Merge branch 'u/klui/merge_of_gsoc_modabvar_project' in 7.4.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c">c760f00</a></td><td><code>removing some bad unused imports</code></td></tr></table>




---

archive/issue_comments_315405.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\none failing doctest:\n\n```\nFile \"src/sage/modular/abvar/abvar.py\", line 4363, in sage.modular.abvar.abvar.ModularAbelianVariety_modsym_abstract.new_subvariety\nFailed example:\n    J0(33).new_subvariety()\nExpected:\n    Abelian subvariety of dimension 1 of J0(33)\nGot:\n    Simple abelian subvariety 33a(1,33) of dimension 1 of J0(33)\n```",
    "created_at": "2016-09-29T08:29:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315405",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

one failing doctest:

```
File "src/sage/modular/abvar/abvar.py", line 4363, in sage.modular.abvar.abvar.ModularAbelianVariety_modsym_abstract.new_subvariety
Failed example:
    J0(33).new_subvariety()
Expected:
    Abelian subvariety of dimension 1 of J0(33)
Got:
    Simple abelian subvariety 33a(1,33) of dimension 1 of J0(33)
```



---

archive/issue_comments_315406.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f\">cf1aa03</a></td><td><code>trac 21496 fixing failing doctest</code></td></tr></table>\n",
    "created_at": "2016-09-29T11:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315406",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f">cf1aa03</a></td><td><code>trac 21496 fixing failing doctest</code></td></tr></table>




---

archive/issue_comments_315407.json:
```json
{
    "body": "Changed commit from **[c760f00](https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c)** to **[cf1aa03](https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f)**",
    "created_at": "2016-09-29T11:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315407",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c760f00](https://github.com/sagemath/sagetrac-mirror/commit/c760f00ee59f0c7bb146641d67f36a9ccb0f640c)** to **[cf1aa03](https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f)**



---

archive/issue_comments_315408.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086\">919e788</a></td><td><code>changed fix to failing doctest</code></td></tr></table>\n",
    "created_at": "2016-09-30T04:02:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315408",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086">919e788</a></td><td><code>changed fix to failing doctest</code></td></tr></table>




---

archive/issue_comments_315409.json:
```json
{
    "body": "Changed commit from **[cf1aa03](https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f)** to **[919e788](https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086)**",
    "created_at": "2016-09-30T04:02:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315409",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cf1aa03](https://github.com/sagemath/sagetrac-mirror/commit/cf1aa0369cba985788d9b2bd555fd38c8784a36f)** to **[919e788](https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086)**



---

archive/issue_comments_315410.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n@fchapoton Thanks for the fixes. I should have caught the bad imports earlier.\n\nI think the doctest in new_subvariety fails because J0(33).is_simple() is called elsewhere in the file. There's a warning about this situation in L3203 in abvar.py . So I changed it to J0(34) since that isn't used anywhere in the file.",
    "created_at": "2016-09-30T04:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315410",
    "user": "https://github.com/kevinywlui"
}
```

<div id="comment:9" align="right">comment:9</div>

@fchapoton Thanks for the fixes. I should have caught the bad imports earlier.

I think the doctest in new_subvariety fails because J0(33).is_simple() is called elsewhere in the file. There's a warning about this situation in L3203 in abvar.py . So I changed it to J0(34) since that isn't used anywhere in the file.



---

archive/issue_comments_315411.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcca7ac57642c7f7910a32d6491cf39008418da2\">fcca7ac</a></td><td><code>Merge branch 'public/21496' in 7.5.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5\">b8defb6</a></td><td><code>trac 21496 cosmetics of OUTPUT blocks</code></td></tr></table>\n",
    "created_at": "2016-12-13T17:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315411",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcca7ac57642c7f7910a32d6491cf39008418da2">fcca7ac</a></td><td><code>Merge branch 'public/21496' in 7.5.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5">b8defb6</a></td><td><code>trac 21496 cosmetics of OUTPUT blocks</code></td></tr></table>




---

archive/issue_comments_315412.json:
```json
{
    "body": "Changed commit from **[919e788](https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086)** to **[b8defb6](https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5)**",
    "created_at": "2016-12-13T17:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315412",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[919e788](https://github.com/sagemath/sagetrac-mirror/commit/919e788607acb6d11ba184e360ab917b80f0a086)** to **[b8defb6](https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5)**



---

archive/issue_comments_315413.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI have made a cosmetic commit, mainly about formatting the OUTPUT blocks.\n\nIf you do not object to these tiny changes, you can set a positive review on my behalf.",
    "created_at": "2016-12-13T17:16:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315413",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

I have made a cosmetic commit, mainly about formatting the OUTPUT blocks.

If you do not object to these tiny changes, you can set a positive review on my behalf.



---

archive/issue_comments_315414.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\noops, it seems that I broke the doc, let me fix that",
    "created_at": "2016-12-14T08:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315414",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:12" align="right">comment:12</div>

oops, it seems that I broke the doc, let me fix that



---

archive/issue_comments_315415.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201\">3f92ea1</a></td><td><code>trac 21496 fixing doc, plus little code cleanup of ;</code></td></tr></table>\n",
    "created_at": "2016-12-14T09:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315415",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201">3f92ea1</a></td><td><code>trac 21496 fixing doc, plus little code cleanup of ;</code></td></tr></table>




---

archive/issue_comments_315416.json:
```json
{
    "body": "Changed commit from **[b8defb6](https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5)** to **[3f92ea1](https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201)**",
    "created_at": "2016-12-14T09:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315416",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b8defb6](https://github.com/sagemath/sagetrac-mirror/commit/b8defb6e30ff3f6b623ef94af90fddc5835513e5)** to **[3f92ea1](https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201)**



---

archive/issue_comments_315417.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nok, doc is good again.\n\nOnce again, if you agree with my small schanges, this can be set to positive.",
    "created_at": "2016-12-14T11:11:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315417",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">comment:14</div>

ok, doc is good again.

Once again, if you agree with my small schanges, this can be set to positive.



---

archive/issue_comments_315418.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@fchapoton](#comment:14):\n> ok, doc is good again.\n> \n> Once again, if you agree with my small schanges, this can be set to positive.\n\nLooks good to me. Thanks. I'll set it on your behalf.",
    "created_at": "2016-12-16T07:01:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315418",
    "user": "https://github.com/kevinywlui"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@fchapoton](#comment:14):
> ok, doc is good again.
> 
> Once again, if you agree with my small schanges, this can be set to positive.

Looks good to me. Thanks. I'll set it on your behalf.



---

archive/issue_events_301954.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-12-16T07:01:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301954"
}
```



---

archive/issue_events_301955.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2016-12-16T07:01:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301955"
}
```



---

archive/issue_events_301956.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-05T16:15:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301956"
}
```



---

archive/issue_events_301957.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-05T16:15:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301957"
}
```



---

archive/issue_comments_315419.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2017-01-05T16:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315419",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_comments_315420.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\non 32-bit:\n\n```\nsage -t --long src/sage/modular/abvar/lseries.py\n**********************************************************************\nFile \"src/sage/modular/abvar/lseries.py\", line 102, in sage.modular.abvar.lseries.Lseries_complex.__call__\nFailed example:\n    L(1) # long time (2s)\nExpected:\n    -1.33139759782370e-19\nGot:\n    -1.04128413920120e-19\n**********************************************************************\nFile \"src/sage/modular/abvar/lseries.py\", line 201, in sage.modular.abvar.lseries.Lseries_complex.vanishes_at_1\nFailed example:\n    L(1) # long time (2s)\nExpected:\n    -1.33139759782370e-19\nGot:\n    -1.04128413920120e-19\n^CKilling test src/sage/modular/abvar/lseries.py\n----------------------------------------------------------------------\nDoctests interrupted: 0/1 files tested\n----------------------------------------------------------------------\nTotal time for all tests: 6.6 seconds\n    cpu time: 0.0 seconds\n    cumulative wall time: 0.0 seconds\n```\nNeeds some # abs tol apparently",
    "created_at": "2017-01-17T23:21:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315420",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:19" align="right">comment:19</div>

on 32-bit:

```
sage -t --long src/sage/modular/abvar/lseries.py
**********************************************************************
File "src/sage/modular/abvar/lseries.py", line 102, in sage.modular.abvar.lseries.Lseries_complex.__call__
Failed example:
    L(1) # long time (2s)
Expected:
    -1.33139759782370e-19
Got:
    -1.04128413920120e-19
**********************************************************************
File "src/sage/modular/abvar/lseries.py", line 201, in sage.modular.abvar.lseries.Lseries_complex.vanishes_at_1
Failed example:
    L(1) # long time (2s)
Expected:
    -1.33139759782370e-19
Got:
    -1.04128413920120e-19
^CKilling test src/sage/modular/abvar/lseries.py
----------------------------------------------------------------------
Doctests interrupted: 0/1 files tested
----------------------------------------------------------------------
Total time for all tests: 6.6 seconds
    cpu time: 0.0 seconds
    cumulative wall time: 0.0 seconds
```
Needs some # abs tol apparently



---

archive/issue_events_301958.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-17T23:21:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301958"
}
```



---

archive/issue_events_301959.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-17T23:21:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301959"
}
```



---

archive/issue_comments_315421.json:
```json
{
    "body": "Changed commit from **[3f92ea1](https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201)** to **[9500491](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)**",
    "created_at": "2017-01-21T06:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315421",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3f92ea1](https://github.com/sagemath/sagetrac-mirror/commit/3f92ea12fd6c6eb2eb3c1cf47f4d768cc3d3d201)** to **[9500491](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)**



---

archive/issue_comments_315422.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9\">9500491</a></td><td><code>added abs tol to fix some failing test on 32bit</code></td></tr></table>\n",
    "created_at": "2017-01-21T06:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315422",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9">9500491</a></td><td><code>added abs tol to fix some failing test on 32bit</code></td></tr></table>




---

archive/issue_comments_315423.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThanks for the catch. It should work now.",
    "created_at": "2017-01-21T06:14:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315423",
    "user": "https://github.com/kevinywlui"
}
```

<div id="comment:21" align="right">comment:21</div>

Thanks for the catch. It should work now.



---

archive/issue_events_301960.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-01-21T06:15:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301960"
}
```



---

archive/issue_events_301961.json:
```json
{
    "actor": "https://github.com/kevinywlui",
    "created_at": "2017-01-21T06:15:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301961"
}
```



---

archive/issue_events_301962.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T08:57:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301962"
}
```



---

archive/issue_events_301963.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T08:57:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301963"
}
```



---

archive/issue_events_301964.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T21:21:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301964"
}
```



---

archive/issue_events_301965.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e6c350841764dd460c23b8bed26ba2498d3a90dd",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-01-21T21:21:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21496#event-301965"
}
```



---

archive/issue_comments_315424.json:
```json
{
    "body": "Changed branch from **[public/21496](https://github.com/sagemath/sagetrac-mirror/tree/public/21496)** to **[9500491](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)**",
    "created_at": "2017-01-21T21:21:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21496#issuecomment-315424",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/21496](https://github.com/sagemath/sagetrac-mirror/tree/public/21496)** to **[9500491](https://github.com/sagemath/sagetrac-mirror/commit/950049159ea8676065b5c39152acde0a85c585e9)**
