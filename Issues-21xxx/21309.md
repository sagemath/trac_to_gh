# Issue 21309: Package Thebe

archive/issues_021072.json:
```json
{
    "body": "Thebe is a Jupyter javascript plugin for static sites that allows to render\nselected divs of an HTML page as live cells connected to a Jupyter server.\n\n- Code repository and documentation: https://github.com/oreillymedia/thebe\n- Example/demo: https://oreillymedia.github.io/thebe/\n\nTicket #20690 aims to use this technology to implement live documentation\nin the Jupyter notebook. Indeed, live documentation is one of the features\nwe had in the legacy Sage notebook and that was not yet available in Sage\nwhen using the Jupyter notebook.\n\nA first implementation of #20690 was entangling thebe.js within Sage source\ncode. Since upstream is well-defined, the aim of this ticket is to instead\npackage it the usual way, and #20690 is now based on this packaged version.\n\nThe zipball can be found at\nhttps://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip\nand should be renamed `thebe-9624e0a0.zip`\n(upstream does not propose explicit releases).\n\nIt can also temporarily be downloaded at\nhttps://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip\n\n\nCC:  fcayre @videlec @nthiery @slel\n\nKeywords: sd75, sdl\n\nBranch/Commit: 520cdd0796488eebc64c3796e7030504ab941661\n\nReviewer: Nicolas M. Thi\u00e9ry, Jeroen Demeyer\n\nAuthor: Thierry Monteil\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21309\n\n",
    "closed_at": "2016-09-08T19:46:05Z",
    "created_at": "2016-08-22T19:17:59Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "Package Thebe",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21309",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```
Thebe is a Jupyter javascript plugin for static sites that allows to render
selected divs of an HTML page as live cells connected to a Jupyter server.

- Code repository and documentation: https://github.com/oreillymedia/thebe
- Example/demo: https://oreillymedia.github.io/thebe/

Ticket #20690 aims to use this technology to implement live documentation
in the Jupyter notebook. Indeed, live documentation is one of the features
we had in the legacy Sage notebook and that was not yet available in Sage
when using the Jupyter notebook.

A first implementation of #20690 was entangling thebe.js within Sage source
code. Since upstream is well-defined, the aim of this ticket is to instead
package it the usual way, and #20690 is now based on this packaged version.

The zipball can be found at
https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip
and should be renamed `thebe-9624e0a0.zip`
(upstream does not propose explicit releases).

It can also temporarily be downloaded at
https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip


CC:  fcayre @videlec @nthiery @slel

Keywords: sd75, sdl

Branch/Commit: 520cdd0796488eebc64c3796e7030504ab941661

Reviewer: Nicolas M. Thi√©ry, Jeroen Demeyer

Author: Thierry Monteil

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21309





---

archive/issue_comments_310565.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2016-08-22T19:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310565",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_310566.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-08-22T19:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310566",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_310567.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd75\".",
    "created_at": "2016-08-24T15:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310567",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing keywords from "" to "sd75".



---

archive/issue_comments_310568.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T16:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310568",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_310569.json:
```json
{
    "body": "<a id='comment:6'></a>We discussed this face to face with Thierry, and I made minor improvements to the text in the SPKG that he double checked over my shoulder. The files look good. I tested it, and it works.\n\nPositive review. Thanks Thierry!",
    "created_at": "2016-08-25T17:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310569",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:6'></a>We discussed this face to face with Thierry, and I made minor improvements to the text in the SPKG that he double checked over my shoulder. The files look good. I tested it, and it works.

Positive review. Thanks Thierry!



---

archive/issue_comments_310570.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,8 +1,9 @@\n-With #20690, thebe.js is entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way.\n+With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.\n \n The zipball can be found at https://github.com/oreillymedia/thebe/archive/master.zip and should be renamed thebejs-20160822.zip (upstream does not propose explicit releases).\n \n It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebejs-20160822.zip\n+\n \n Author: Thierry Monteil\n \n```\n",
    "created_at": "2016-08-25T17:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310570",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,8 +1,9 @@
-With #20690, thebe.js is entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way.
+With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.
 
 The zipball can be found at https://github.com/oreillymedia/thebe/archive/master.zip and should be renamed thebejs-20160822.zip (upstream does not propose explicit releases).
 
 It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebejs-20160822.zip
+
 
 Author: Thierry Monteil
 
```




---

archive/issue_comments_310571.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-25T17:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310571",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_310572.json:
```json
{
    "body": "<a id='comment:7'></a>I personally would have preferred a `spkg-src` that pulls a given git commit. Downloading `master.zip` is quite likely not a repeatable operation (as in \"it doesn't necessarily give you the same file every time\").",
    "created_at": "2016-08-27T06:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310572",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'></a>I personally would have preferred a `spkg-src` that pulls a given git commit. Downloading `master.zip` is quite likely not a repeatable operation (as in "it doesn't necessarily give you the same file every time").



---

archive/issue_comments_310573.json:
```json
{
    "body": "<a id='comment:8'></a>Would downloading thebe-9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip instead of master.zip be satisfying ?",
    "created_at": "2016-08-27T06:50:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310573",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:8'></a>Would downloading thebe-9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip instead of master.zip be satisfying ?



---

archive/issue_comments_310574.json:
```json
{
    "body": "<a id='comment:9'></a>It would probably work :)",
    "created_at": "2016-08-27T07:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310574",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:9'></a>It would probably work :)



---

archive/issue_comments_310575.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-08-27T07:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310575",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_310576.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-27T07:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310576",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_310577.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,8 @@\n+With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.\n+\n+The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed thebejs-20160822.zip (upstream does not propose explicit releases).\n+\n+It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebejs-20160822.zip\n \n \n Author: Thierry Monteil\n```\n",
    "created_at": "2016-08-27T07:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310577",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,8 @@
+With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.
+
+The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed thebejs-20160822.zip (upstream does not propose explicit releases).
+
+It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebejs-20160822.zip
 
 
 Author: Thierry Monteil
```




---

archive/issue_comments_310578.json:
```json
{
    "body": "<a id='comment:12'></a>OK i have done that. The hash of the zipball changed, but according to dirdiff the content is the same.\n\n---\nNew commits:",
    "created_at": "2016-08-27T07:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310578",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:12'></a>OK i have done that. The hash of the zipball changed, but according to dirdiff the content is the same.

---
New commits:



---

archive/issue_events_056738.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-27T08:37:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21309#event-56738"
}
```



---

archive/issue_comments_310579.json:
```json
{
    "body": "<a id='comment:14'></a>Is it satisfactory like this ?",
    "created_at": "2016-08-29T12:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310579",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:14'></a>Is it satisfactory like this ?



---

archive/issue_comments_310580.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-08-30T08:19:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310580",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_310581.json:
```json
{
    "body": "<a id='comment:15'></a>You should have the git commit in the version number. It should be possible to exactly reconstruct the tarball. The date on which it was packaged is not sufficient for that.\n\nWhen you do this, also adjust the instructions in `SPKG.txt` (and perhaps replace `#20690` by the actual Trac URL).",
    "created_at": "2016-08-30T08:19:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310581",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>You should have the git commit in the version number. It should be possible to exactly reconstruct the tarball. The date on which it was packaged is not sufficient for that.

When you do this, also adjust the instructions in `SPKG.txt` (and perhaps replace `#20690` by the actual Trac URL).



---

archive/issue_comments_310582.json:
```json
{
    "body": "<a id='comment:16'></a>Also: upstream calls itself `thebe`, why rename to `thebejs`?",
    "created_at": "2016-08-30T08:20:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310582",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>Also: upstream calls itself `thebe`, why rename to `thebejs`?



---

archive/issue_comments_310583.json:
```json
{
    "body": "<a id='comment:17'></a>Hi Thierry!\nJust to avoid duplicated work: have you started implementing Jeroen's comments? otherwise I can have a go tomorrow morning with him.",
    "created_at": "2016-09-04T15:30:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310583",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:17'></a>Hi Thierry!
Just to avoid duplicated work: have you started implementing Jeroen's comments? otherwise I can have a go tomorrow morning with him.



---

archive/issue_comments_310584.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-09-04T21:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310584",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_310585.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,8 @@\n+With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.\n+\n+The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed thebejs-9624e0a0.zip (upstream does not propose explicit releases).\n+\n+It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip\n \n \n Author: Thierry Monteil\n```\n",
    "created_at": "2016-09-04T21:22:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310585",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,8 @@
+With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.
+
+The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed thebejs-9624e0a0.zip (upstream does not propose explicit releases).
+
+It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip
 
 
 Author: Thierry Monteil
```




---

archive/issue_comments_310586.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-09-04T21:22:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310586",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_310587.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:15 jdemeyer]:\n> You should have the git commit in the version number. It should be possible to exactly \n> reconstruct the tarball. The date on which it was packaged is not sufficient for that.\n\n\nDone.\n\n> When you do this, also adjust the instructions in `SPKG.txt` (and perhaps replace `#20690` by the actual Trac URL).\n\n\nDone.\n\nReplying to [comment:16 jdemeyer]:\n> Also: upstream calls itself `thebe`, why rename to `thebejs`?\n\n\nMost javascript libs have dual names, for example `node` vs `nodejs` or `d3` vs `d3js`. Since we used the `*js` name for in other packages, i took that one, but indeed, in the case of `thebe` there is no `*js` version. So i renamed the package `thebe`as suggested.",
    "created_at": "2016-09-04T21:22:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310587",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:19'></a>Replying to [comment:15 jdemeyer]:
> You should have the git commit in the version number. It should be possible to exactly 
> reconstruct the tarball. The date on which it was packaged is not sufficient for that.


Done.

> When you do this, also adjust the instructions in `SPKG.txt` (and perhaps replace `#20690` by the actual Trac URL).


Done.

Replying to [comment:16 jdemeyer]:
> Also: upstream calls itself `thebe`, why rename to `thebejs`?


Most javascript libs have dual names, for example `node` vs `nodejs` or `d3` vs `d3js`. Since we used the `*js` name for in other packages, i took that one, but indeed, in the case of `thebe` there is no `*js` version. So i renamed the package `thebe`as suggested.



---

archive/issue_comments_310588.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,8 @@\n+With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.\n+\n+The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed `thebe-9624e0a0.zip` (upstream does not propose explicit releases).\n+\n+It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip\n \n \n Author: Thierry Monteil\n```\n",
    "created_at": "2016-09-05T06:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310588",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,8 @@
+With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.
+
+The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed `thebe-9624e0a0.zip` (upstream does not propose explicit releases).
+
+It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip
 
 
 Author: Thierry Monteil
```




---

archive/issue_comments_310589.json:
```json
{
    "body": "<a id='comment:21'></a>Looks good.",
    "created_at": "2016-09-05T06:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310589",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>Looks good.



---

archive/issue_comments_310590.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-09-05T06:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310590",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_310591.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,25 @@\n+Thebe is a Jupyter javascript plugin for static sites that allows to render\n+selected divs of an HTML page as live cells connected to a Jupyter server.\n+\n+- Website: https://oreillymedia.github.io/thebe/\n+- Source: https://github.com/oreillymedia/thebe\n+\n+Ticket #20690 aims to use this technology to implement live documentation\n+in the Jupyter notebook. Indeed, live documentation is one of the features\n+we had in the legacy Sage notebook and that was not yet available in Sage\n+when using the Jupyter notebook.\n+\n+A first implementation of #20690 was entangling thebe.js within Sage source\n+code. Since upstream is well-defined, the aim of this ticket is to instead\n+package it the usual way, and #20690 is now based on this packaged version.\n+\n+The zipball can be found at\n+https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip\n+and should be renamed `thebe-9624e0a0.zip`\n+(upstream does not propose explicit releases).\n+\n+It can also temporarily be downloaded at\n+https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip\n \n \n Author: Thierry Monteil\n```\n",
    "created_at": "2016-09-05T12:52:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310591",
    "user": "https://github.com/slel"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,25 @@
+Thebe is a Jupyter javascript plugin for static sites that allows to render
+selected divs of an HTML page as live cells connected to a Jupyter server.
+
+- Website: https://oreillymedia.github.io/thebe/
+- Source: https://github.com/oreillymedia/thebe
+
+Ticket #20690 aims to use this technology to implement live documentation
+in the Jupyter notebook. Indeed, live documentation is one of the features
+we had in the legacy Sage notebook and that was not yet available in Sage
+when using the Jupyter notebook.
+
+A first implementation of #20690 was entangling thebe.js within Sage source
+code. Since upstream is well-defined, the aim of this ticket is to instead
+package it the usual way, and #20690 is now based on this packaged version.
+
+The zipball can be found at
+https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip
+and should be renamed `thebe-9624e0a0.zip`
+(upstream does not propose explicit releases).
+
+It can also temporarily be downloaded at
+https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip
 
 
 Author: Thierry Monteil
```




---

archive/issue_comments_310592.json:
```json
{
    "body": "<a id='comment:22'></a>Just expanding the ticket description to make it more explanatory.",
    "created_at": "2016-09-05T12:52:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310592",
    "user": "https://github.com/slel"
}
```

<a id='comment:22'></a>Just expanding the ticket description to make it more explanatory.



---

archive/issue_comments_310593.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,25 @@\n+Thebe is a Jupyter javascript plugin for static sites that allows to render\n+selected divs of an HTML page as live cells connected to a Jupyter server.\n+\n+- Code repository and documentation: https://github.com/oreillymedia/thebe\n+- Example/demo: https://oreillymedia.github.io/thebe/\n+\n+Ticket #20690 aims to use this technology to implement live documentation\n+in the Jupyter notebook. Indeed, live documentation is one of the features\n+we had in the legacy Sage notebook and that was not yet available in Sage\n+when using the Jupyter notebook.\n+\n+A first implementation of #20690 was entangling thebe.js within Sage source\n+code. Since upstream is well-defined, the aim of this ticket is to instead\n+package it the usual way, and #20690 is now based on this packaged version.\n+\n+The zipball can be found at\n+https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip\n+and should be renamed `thebe-9624e0a0.zip`\n+(upstream does not propose explicit releases).\n+\n+It can also temporarily be downloaded at\n+https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip\n \n \n Author: Thierry Monteil\n```\n",
    "created_at": "2016-09-05T12:54:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310593",
    "user": "https://github.com/slel"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,25 @@
+Thebe is a Jupyter javascript plugin for static sites that allows to render
+selected divs of an HTML page as live cells connected to a Jupyter server.
+
+- Code repository and documentation: https://github.com/oreillymedia/thebe
+- Example/demo: https://oreillymedia.github.io/thebe/
+
+Ticket #20690 aims to use this technology to implement live documentation
+in the Jupyter notebook. Indeed, live documentation is one of the features
+we had in the legacy Sage notebook and that was not yet available in Sage
+when using the Jupyter notebook.
+
+A first implementation of #20690 was entangling thebe.js within Sage source
+code. Since upstream is well-defined, the aim of this ticket is to instead
+package it the usual way, and #20690 is now based on this packaged version.
+
+The zipball can be found at
+https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip
+and should be renamed `thebe-9624e0a0.zip`
+(upstream does not propose explicit releases).
+
+It can also temporarily be downloaded at
+https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip
 
 
 Author: Thierry Monteil
```




---

archive/issue_comments_310594.json:
```json
{
    "body": "<a id='comment:24'></a>I am going through this for inclusion in sage-on-gentoo. Are we taking a tarball of the whole repo to install only a 1010KB text file out of it? Why not ship it directly in `src/doc/common/themes/`? With documentation on origin and how to update it.",
    "created_at": "2016-09-07T01:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310594",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:24'></a>I am going through this for inclusion in sage-on-gentoo. Are we taking a tarball of the whole repo to install only a 1010KB text file out of it? Why not ship it directly in `src/doc/common/themes/`? With documentation on origin and how to update it.



---

archive/issue_comments_310595.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:24 fbissey]:\n> I am going through this for inclusion in sage-on-gentoo.\n> Are we taking a tarball of the whole repo to install only a 1010KB text file out of it?\n\n\nReminds me of talks and blog posts such as\nhttp://idlewords.com/talks/website_obesity.htm\nand\nhttps://medium.com/friendship-dot-js/i-peeked-into-my-node-modules-directory-and-you-wont-believe-what-happened-next-b89f63d21558\n\n> Why not ship it directly in `src/doc/common/themes/`?\n> With documentation on origin and how to update it.\n\n\nSounds like a good idea.",
    "created_at": "2016-09-07T01:43:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310595",
    "user": "https://github.com/slel"
}
```

<a id='comment:25'></a>Replying to [comment:24 fbissey]:
> I am going through this for inclusion in sage-on-gentoo.
> Are we taking a tarball of the whole repo to install only a 1010KB text file out of it?


Reminds me of talks and blog posts such as
http://idlewords.com/talks/website_obesity.htm
and
https://medium.com/friendship-dot-js/i-peeked-into-my-node-modules-directory-and-you-wont-believe-what-happened-next-b89f63d21558

> Why not ship it directly in `src/doc/common/themes/`?
> With documentation on origin and how to update it.


Sounds like a good idea.



---

archive/issue_comments_310596.json:
```json
{
    "body": "<a id='comment:26'></a>Well I guess it ties in with my earlier comment on #20690 #20690#comment:47 so it is also not totally disinterested. \n\nBut it has to be overkill, I must not be the only thinking it is, once the realisation sets in.",
    "created_at": "2016-09-07T01:52:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310596",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:26'></a>Well I guess it ties in with my earlier comment on #20690 #20690#comment:47 so it is also not totally disinterested. 

But it has to be overkill, I must not be the only thinking it is, once the realisation sets in.



---

archive/issue_comments_310597.json:
```json
{
    "body": "<a id='comment:27'></a>#20690 originally was just including thebe.js in the Sage sources as you suggest, and it was requested that we made a proper package ... See the comments there:\n\n    #20690#comment:24\n\nI don't mind either solution, but let's decide quickly to get this in!",
    "created_at": "2016-09-07T06:05:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310597",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:27'></a>#20690 originally was just including thebe.js in the Sage sources as you suggest, and it was requested that we made a proper package ... See the comments there:

    #20690#comment:24

I don't mind either solution, but let's decide quickly to get this in!



---

archive/issue_comments_310598.json:
```json
{
    "body": "<a id='comment:28'></a>I can understand the point of tracking upstream, but shipping a whole tarball and only installing only one file out of it because the rest is not of interest is overkill, we don't even use the rest to build something. And it creates the problem of pointing out to the file later. Another point is that the whole repo is actually not in an installable form, it is to be used as is, the fact that upstream doesn't do release means that is not that much easier to keep track of new version.\n\nNot pretending that there is a good solution to the problem. An additional consideration is licensing, this is MIT, can we ship it with the rest of the code of the sage documentation?",
    "created_at": "2016-09-07T07:37:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310598",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:28'></a>I can understand the point of tracking upstream, but shipping a whole tarball and only installing only one file out of it because the rest is not of interest is overkill, we don't even use the rest to build something. And it creates the problem of pointing out to the file later. Another point is that the whole repo is actually not in an installable form, it is to be used as is, the fact that upstream doesn't do release means that is not that much easier to keep track of new version.

Not pretending that there is a good solution to the problem. An additional consideration is licensing, this is MIT, can we ship it with the rest of the code of the sage documentation?



---

archive/issue_comments_310599.json:
```json
{
    "body": "<a id='comment:29'></a>It is not overkill, because the tarball of \"the whole repo\" is 1.2M while \"the only one file\" is 1M. Indeed this only one file is the compiled version of the rest (from coffee+less+js to js), which is the source (+ a few examples). Most js library ship things that way with the compiled result included. Compressed, it would make a 300K archive. Of course, we could make a `sage-src` script to recreate such a tarball. The proper way would be to ship only the source part and recompile the js \"binary\" ourselves, but it will require packaging coffescript and dotless (and perhaps other things). With the current situation, we have a well-defined origin for the zip-ball, easy to fetch from upstream, easy to update, easy to maintain, which follows the standard Sage packaging process.\n\nHardcoding things within `src/` is much worse, since:\n- almost nobody will notice when the package bitrots\n- we create a separate process than standard packaging, so only experts will be able to update it\n- each time the package is updated, we get one additional magabyte in the Sage git repository (note that thebe.js is a compiled version, so the file is basically a single 1M line of js that will change at each update). I prefer by far having the git tree only explode by a few bytes (version number + hashes) at each update than 1M at each update.\n- actually, i have hesitated to rewrite the git history of #20690 and remove the fact that this 1M of js is already once in Sage source repository.\n\nThe idea behind the current solution is in minimizing maintenance work, while staying transparent. If you insist, i can write a `sage-src` script to shrink the zipball to save 900K and let us become upstream, but i doubt there is a benefit.",
    "created_at": "2016-09-07T09:28:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310599",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:29'></a>It is not overkill, because the tarball of "the whole repo" is 1.2M while "the only one file" is 1M. Indeed this only one file is the compiled version of the rest (from coffee+less+js to js), which is the source (+ a few examples). Most js library ship things that way with the compiled result included. Compressed, it would make a 300K archive. Of course, we could make a `sage-src` script to recreate such a tarball. The proper way would be to ship only the source part and recompile the js "binary" ourselves, but it will require packaging coffescript and dotless (and perhaps other things). With the current situation, we have a well-defined origin for the zip-ball, easy to fetch from upstream, easy to update, easy to maintain, which follows the standard Sage packaging process.

Hardcoding things within `src/` is much worse, since:
- almost nobody will notice when the package bitrots
- we create a separate process than standard packaging, so only experts will be able to update it
- each time the package is updated, we get one additional magabyte in the Sage git repository (note that thebe.js is a compiled version, so the file is basically a single 1M line of js that will change at each update). I prefer by far having the git tree only explode by a few bytes (version number + hashes) at each update than 1M at each update.
- actually, i have hesitated to rewrite the git history of #20690 and remove the fact that this 1M of js is already once in Sage source repository.

The idea behind the current solution is in minimizing maintenance work, while staying transparent. If you insist, i can write a `sage-src` script to shrink the zipball to save 900K and let us become upstream, but i doubt there is a benefit.



---

archive/issue_comments_310600.json:
```json
{
    "body": "<a id='comment:30'></a>Fine. You do the maintenance here, not me.",
    "created_at": "2016-09-07T09:38:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310600",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:30'></a>Fine. You do the maintenance here, not me.



---

archive/issue_comments_310601.json:
```json
{
    "body": "<a id='comment:31'></a>Replying to [comment:29 tmonteil]:\n> It is not overkill, because the tarball of \"the whole repo\" is 1.2M while \"the only one file\" is 1M.\n\n\nThanks for your thorough explanation. It's very different from the examples I quoted.",
    "created_at": "2016-09-07T09:46:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310601",
    "user": "https://github.com/slel"
}
```

<a id='comment:31'></a>Replying to [comment:29 tmonteil]:
> It is not overkill, because the tarball of "the whole repo" is 1.2M while "the only one file" is 1M.


Thanks for your thorough explanation. It's very different from the examples I quoted.



---

archive/issue_comments_310602.json:
```json
{
    "body": "<a id='comment:32'></a>I agree with Thierry. Distributions will be happy when we don't bundle external stuff in the Sage library.",
    "created_at": "2016-09-07T12:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310602",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>I agree with Thierry. Distributions will be happy when we don't bundle external stuff in the Sage library.



---

archive/issue_comments_310603.json:
```json
{
    "body": "<a id='comment:33'></a>Replying to [comment:32 jdemeyer]:\n> I agree with Thierry. Distributions will be happy when we don't bundle external stuff in the Sage library.\n\n\n<putting distro hat on> I generally agree with you on that point. I started getting agitated on this ticket after looking into packaging this for Gentoo and going `WTF` - what am I even supposed to do. Possibly I don't have experience in packaging `.js` stuff but it really left me wondering. If someone with experience packaging for debian would comment on that kind of case I'd be delighted.",
    "created_at": "2016-09-07T22:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310603",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:33'></a>Replying to [comment:32 jdemeyer]:
> I agree with Thierry. Distributions will be happy when we don't bundle external stuff in the Sage library.


<putting distro hat on> I generally agree with you on that point. I started getting agitated on this ticket after looking into packaging this for Gentoo and going `WTF` - what am I even supposed to do. Possibly I don't have experience in packaging `.js` stuff but it really left me wondering. If someone with experience packaging for debian would comment on that kind of case I'd be delighted.



---

archive/issue_events_056739.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-09-08T19:46:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21309#event-56739"
}
```



---

archive/issue_comments_310604.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-09-08T19:46:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310604",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_310605.json:
```json
{
    "body": "Changing keywords from \"sd75\" to \"sd75, sdl\".",
    "created_at": "2019-08-27T19:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21309#issuecomment-310605",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing keywords from "sd75" to "sd75, sdl".
