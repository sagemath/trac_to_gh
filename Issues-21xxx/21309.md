# Issue 21309: Package Thebe

archive/issues_021072.json:
```json
{
    "assignees": [],
    "body": "Thebe is a Jupyter javascript plugin for static sites that allows to render\nselected divs of an HTML page as live cells connected to a Jupyter server.\n\n- Code repository and documentation: https://github.com/oreillymedia/thebe\n- Example/demo: https://oreillymedia.github.io/thebe/\n\nTicket #20690 aims to use this technology to implement live documentation\nin the Jupyter notebook. Indeed, live documentation is one of the features\nwe had in the legacy Sage notebook and that was not yet available in Sage\nwhen using the Jupyter notebook.\n\nA first implementation of #20690 was entangling thebe.js within Sage source\ncode. Since upstream is well-defined, the aim of this ticket is to instead\npackage it the usual way, and #20690 is now based on this packaged version.\n\nThe zipball can be found at\nhttps://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip\nand should be renamed `thebe-9624e0a0.zip`\n(upstream does not propose explicit releases).\n\nIt can also temporarily be downloaded at\nhttps://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip\n\n\nCC:  @sagetrac-fcayre @videlec @nthiery @slel\n\nKeywords: **sd75, sdl**\n\nBranch/Commit: **[520cdd0](https://github.com/sagemath/sagetrac-mirror/commit/520cdd0796488eebc64c3796e7030504ab941661)**\n\nReviewer: **Nicolas M. Thi\u00e9ry, Jeroen Demeyer**\n\nAuthor: **Thierry Monteil**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21309_\n\n",
    "closed_at": "2016-09-08T19:46:05Z",
    "created_at": "2016-08-22T19:17:59Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Package Thebe",
    "type": "issue",
    "updated_at": "2019-08-27T19:45:19Z",
    "url": "https://github.com/sagemath/sage/issues/21309",
    "user": "https://github.com/sagetrac-tmonteil"
}
```
Thebe is a Jupyter javascript plugin for static sites that allows to render
selected divs of an HTML page as live cells connected to a Jupyter server.

- Code repository and documentation: https://github.com/oreillymedia/thebe
- Example/demo: https://oreillymedia.github.io/thebe/

Ticket #20690 aims to use this technology to implement live documentation
in the Jupyter notebook. Indeed, live documentation is one of the features
we had in the legacy Sage notebook and that was not yet available in Sage
when using the Jupyter notebook.

A first implementation of #20690 was entangling thebe.js within Sage source
code. Since upstream is well-defined, the aim of this ticket is to instead
package it the usual way, and #20690 is now based on this packaged version.

The zipball can be found at
https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip
and should be renamed `thebe-9624e0a0.zip`
(upstream does not propose explicit releases).

It can also temporarily be downloaded at
https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip


CC:  @sagetrac-fcayre @videlec @nthiery @slel

Keywords: **sd75, sdl**

Branch/Commit: **[520cdd0](https://github.com/sagemath/sagetrac-mirror/commit/520cdd0796488eebc64c3796e7030504ab941661)**

Reviewer: **Nicolas M. Thiéry, Jeroen Demeyer**

Author: **Thierry Monteil**

_Issue created by migration from https://trac.sagemath.org/ticket/21309_





---

archive/issue_events_281545.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-08-22T19:17:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281545"
}
```



---

archive/issue_events_281546.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-08-22T19:17:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281546"
}
```



---

archive/issue_events_281547.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-08-22T19:17:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281547"
}
```



---

archive/issue_events_281548.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-08-22T19:17:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281548"
}
```



---

archive/issue_comments_314210.json:
```json
{
    "body": "Branch: **[u/tmonteil/package_thebe_js](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/package_thebe_js)**",
    "created_at": "2016-08-22T19:22:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314210",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Branch: **[u/tmonteil/package_thebe_js](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/package_thebe_js)**



---

archive/issue_comments_314211.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d4fe864b00482ed97a0fc1f98a8150e5c83fc84\">7d4fe86</a></td><td><code>#21309 : package thebejs.</code></td></tr></table>\n",
    "created_at": "2016-08-22T19:24:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314211",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:2" align="right">Comment 2</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d4fe864b00482ed97a0fc1f98a8150e5c83fc84">7d4fe86</a></td><td><code>#21309 : package thebejs.</code></td></tr></table>




---

archive/issue_comments_314212.json:
```json
{
    "body": "Commit: **[7d4fe86](https://github.com/sagemath/sagetrac-mirror/commit/7d4fe864b00482ed97a0fc1f98a8150e5c83fc84)**",
    "created_at": "2016-08-22T19:24:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314212",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Commit: **[7d4fe86](https://github.com/sagemath/sagetrac-mirror/commit/7d4fe864b00482ed97a0fc1f98a8150e5c83fc84)**



---

archive/issue_events_281549.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-08-22T19:24:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281549"
}
```



---

archive/issue_comments_314213.json:
```json
{
    "body": "Changed keywords from **** to **sd75**",
    "created_at": "2016-08-24T15:21:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314213",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed keywords from **** to **sd75**



---

archive/issue_comments_314214.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/package_thebe_js](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/package_thebe_js)** to **[u/nthiery/package_thebe_js](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/package_thebe_js)**",
    "created_at": "2016-08-25T10:16:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314214",
    "user": "https://github.com/nthiery"
}
```

Changed branch from **[u/tmonteil/package_thebe_js](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/package_thebe_js)** to **[u/nthiery/package_thebe_js](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/package_thebe_js)**



---

archive/issue_comments_314215.json:
```json
{
    "body": "Changed commit from **[7d4fe86](https://github.com/sagemath/sagetrac-mirror/commit/7d4fe864b00482ed97a0fc1f98a8150e5c83fc84)** to **[e1b914a](https://github.com/sagemath/sagetrac-mirror/commit/e1b914a7ec935bd6fadb8eb1cd8f6ced77b26bd5)**",
    "created_at": "2016-08-25T16:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314215",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7d4fe86](https://github.com/sagemath/sagetrac-mirror/commit/7d4fe864b00482ed97a0fc1f98a8150e5c83fc84)** to **[e1b914a](https://github.com/sagemath/sagetrac-mirror/commit/e1b914a7ec935bd6fadb8eb1cd8f6ced77b26bd5)**



---

archive/issue_comments_314216.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1b914a7ec935bd6fadb8eb1cd8f6ced77b26bd5\">e1b914a</a></td><td><code>21309: made the instructions to fetch the latest thebe version into an executable shell command</code></td></tr></table>\n",
    "created_at": "2016-08-25T16:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314216",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5" align="right">Comment 5</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1b914a7ec935bd6fadb8eb1cd8f6ced77b26bd5">e1b914a</a></td><td><code>21309: made the instructions to fetch the latest thebe version into an executable shell command</code></td></tr></table>




---

archive/issue_comments_314217.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nWe discussed this face to face with Thierry, and I made minor improvements to the text in the SPKG that he double checked over my shoulder. The files look good. I tested it, and it works.\n\nPositive review. Thanks Thierry!",
    "created_at": "2016-08-25T17:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314217",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:6" align="right">Comment 6</div>

We discussed this face to face with Thierry, and I made minor improvements to the text in the SPKG that he double checked over my shoulder. The files look good. I tested it, and it works.

Positive review. Thanks Thierry!



---

archive/issue_comments_314218.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-With #20690, thebe.js is entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way.\n+With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.\n \n The zipball can be found at https://github.com/oreillymedia/thebe/archive/master.zip and should be renamed thebejs-20160822.zip (upstream does not propose explicit releases).\n \n``````\n",
    "created_at": "2016-08-25T17:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314218",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-With #20690, thebe.js is entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way.
+With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.
 
 The zipball can be found at https://github.com/oreillymedia/thebe/archive/master.zip and should be renamed thebejs-20160822.zip (upstream does not propose explicit releases).
 
``````




---

archive/issue_events_281550.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2016-08-25T17:12:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281550"
}
```



---

archive/issue_events_281551.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2016-08-25T17:12:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281551"
}
```



---

archive/issue_comments_314219.json:
```json
{
    "body": "Reviewer: **Nicolas M. Thi\u00e9ry**",
    "created_at": "2016-08-25T17:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314219",
    "user": "https://github.com/nthiery"
}
```

Reviewer: **Nicolas M. Thiéry**



---

archive/issue_comments_314220.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI personally would have preferred a `spkg-src` that pulls a given git commit. Downloading `master.zip` is quite likely not a repeatable operation (as in \"it doesn't necessarily give you the same file every time\").",
    "created_at": "2016-08-27T06:16:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314220",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:7" align="right">Comment 7</div>

I personally would have preferred a `spkg-src` that pulls a given git commit. Downloading `master.zip` is quite likely not a repeatable operation (as in "it doesn't necessarily give you the same file every time").



---

archive/issue_comments_314221.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nWould downloading thebe-9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip instead of master.zip be satisfying ?",
    "created_at": "2016-08-27T06:50:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314221",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:8" align="right">Comment 8</div>

Would downloading thebe-9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip instead of master.zip be satisfying ?



---

archive/issue_comments_314222.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nIt would probably work :)",
    "created_at": "2016-08-27T07:09:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314222",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:9" align="right">Comment 9</div>

It would probably work :)



---

archive/issue_events_281552.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-08-27T07:24:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281552"
}
```



---

archive/issue_events_281553.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-08-27T07:24:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281553"
}
```



---

archive/issue_comments_314223.json:
```json
{
    "body": "Changed branch from **[u/nthiery/package_thebe_js](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/package_thebe_js)** to **[u/tmonteil/package_thebe_js](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/package_thebe_js)**",
    "created_at": "2016-08-27T07:46:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314223",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed branch from **[u/nthiery/package_thebe_js](https://github.com/sagemath/sagetrac-mirror/tree/u/nthiery/package_thebe_js)** to **[u/tmonteil/package_thebe_js](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/package_thebe_js)**



---

archive/issue_events_281554.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-08-27T07:49:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281554"
}
```



---

archive/issue_events_281555.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-08-27T07:49:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281555"
}
```



---

archive/issue_comments_314224.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.\n \n-The zipball can be found at https://github.com/oreillymedia/thebe/archive/master.zip and should be renamed thebejs-20160822.zip (upstream does not propose explicit releases).\n+The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed thebejs-20160822.zip (upstream does not propose explicit releases).\n \n It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebejs-20160822.zip\n \n``````\n",
    "created_at": "2016-08-27T07:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314224",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.
 
-The zipball can be found at https://github.com/oreillymedia/thebe/archive/master.zip and should be renamed thebejs-20160822.zip (upstream does not propose explicit releases).
+The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed thebejs-20160822.zip (upstream does not propose explicit releases).
 
 It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebejs-20160822.zip
 
``````




---

archive/issue_comments_314225.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nOK i have done that. The hash of the zipball changed, but according to dirdiff the content is the same.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8af8f5e03450b475650b7177f243eb49e46b2808\">8af8f5e</a></td><td><code>#21309 : fetch the archive named by the commit of the master branch.</code></td></tr></table>\n",
    "created_at": "2016-08-27T07:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314225",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:12" align="right">Comment 12</div>

OK i have done that. The hash of the zipball changed, but according to dirdiff the content is the same.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8af8f5e03450b475650b7177f243eb49e46b2808">8af8f5e</a></td><td><code>#21309 : fetch the archive named by the commit of the master branch.</code></td></tr></table>




---

archive/issue_comments_314226.json:
```json
{
    "body": "Changed commit from **[e1b914a](https://github.com/sagemath/sagetrac-mirror/commit/e1b914a7ec935bd6fadb8eb1cd8f6ced77b26bd5)** to **[8af8f5e](https://github.com/sagemath/sagetrac-mirror/commit/8af8f5e03450b475650b7177f243eb49e46b2808)**",
    "created_at": "2016-08-27T07:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314226",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed commit from **[e1b914a](https://github.com/sagemath/sagetrac-mirror/commit/e1b914a7ec935bd6fadb8eb1cd8f6ced77b26bd5)** to **[8af8f5e](https://github.com/sagemath/sagetrac-mirror/commit/8af8f5e03450b475650b7177f243eb49e46b2808)**



---

archive/issue_events_281556.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-27T08:37:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281556"
}
```



---

archive/issue_events_281557.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-27T08:37:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281557"
}
```



---

archive/issue_comments_314227.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nIs it satisfactory like this ?",
    "created_at": "2016-08-29T12:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314227",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:14" align="right">Comment 14</div>

Is it satisfactory like this ?



---

archive/issue_events_281558.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-30T08:19:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281558"
}
```



---

archive/issue_events_281559.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-08-30T08:19:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281559"
}
```



---

archive/issue_comments_314228.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nYou should have the git commit in the version number. It should be possible to exactly reconstruct the tarball. The date on which it was packaged is not sufficient for that.\n\nWhen you do this, also adjust the instructions in `SPKG.txt` (and perhaps replace `#20690` by the actual Trac URL).",
    "created_at": "2016-08-30T08:19:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314228",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">Comment 15</div>

You should have the git commit in the version number. It should be possible to exactly reconstruct the tarball. The date on which it was packaged is not sufficient for that.

When you do this, also adjust the instructions in `SPKG.txt` (and perhaps replace `#20690` by the actual Trac URL).



---

archive/issue_comments_314229.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nAlso: upstream calls itself `thebe`, why rename to `thebejs`?",
    "created_at": "2016-08-30T08:20:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314229",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">Comment 16</div>

Also: upstream calls itself `thebe`, why rename to `thebejs`?



---

archive/issue_comments_314230.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nHi Thierry!\nJust to avoid duplicated work: have you started implementing Jeroen's comments? otherwise I can have a go tomorrow morning with him.",
    "created_at": "2016-09-04T15:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314230",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:17" align="right">Comment 17</div>

Hi Thierry!
Just to avoid duplicated work: have you started implementing Jeroen's comments? otherwise I can have a go tomorrow morning with him.



---

archive/issue_comments_314231.json:
```json
{
    "body": "Changed commit from **[8af8f5e](https://github.com/sagemath/sagetrac-mirror/commit/8af8f5e03450b475650b7177f243eb49e46b2808)** to **[520cdd0](https://github.com/sagemath/sagetrac-mirror/commit/520cdd0796488eebc64c3796e7030504ab941661)**",
    "created_at": "2016-09-04T21:13:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314231",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8af8f5e](https://github.com/sagemath/sagetrac-mirror/commit/8af8f5e03450b475650b7177f243eb49e46b2808)** to **[520cdd0](https://github.com/sagemath/sagetrac-mirror/commit/520cdd0796488eebc64c3796e7030504ab941661)**



---

archive/issue_comments_314232.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/520cdd0796488eebc64c3796e7030504ab941661\">520cdd0</a></td><td><code>#21309 : thebejs -> thebe ; use hash in pkg name ; link to trac URL.</code></td></tr></table>\n",
    "created_at": "2016-09-04T21:13:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314232",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18" align="right">Comment 18</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/520cdd0796488eebc64c3796e7030504ab941661">520cdd0</a></td><td><code>#21309 : thebejs -> thebe ; use hash in pkg name ; link to trac URL.</code></td></tr></table>




---

archive/issue_comments_314233.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.\n \n-The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed thebejs-20160822.zip (upstream does not propose explicit releases).\n+The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed thebejs-9624e0a0.zip (upstream does not propose explicit releases).\n \n-It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebejs-20160822.zip\n+It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip\n \n``````\n",
    "created_at": "2016-09-04T21:22:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314233",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.
 
-The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed thebejs-20160822.zip (upstream does not propose explicit releases).
+The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed thebejs-9624e0a0.zip (upstream does not propose explicit releases).
 
-It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebejs-20160822.zip
+It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip
 
``````




---

archive/issue_events_281560.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-09-04T21:22:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281560"
}
```



---

archive/issue_events_281561.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2016-09-04T21:22:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281561"
}
```



---

archive/issue_comments_314234.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nReplying to [@jdemeyer](#comment%3A15):\n> You should have the git commit in the version number. It should be possible to exactly \n> reconstruct the tarball. The date on which it was packaged is not sufficient for that.\n\nDone.\n\n> When you do this, also adjust the instructions in `SPKG.txt` (and perhaps replace `#20690` by the actual Trac URL).\n\nDone.\n\nReplying to [@jdemeyer](#comment%3A16):\n> Also: upstream calls itself `thebe`, why rename to `thebejs`?\n\nMost javascript libs have dual names, for example `node` vs `nodejs` or `d3` vs `d3js`. Since we used the `*js` name for in other packages, i took that one, but indeed, in the case of `thebe` there is no `*js` version. So i renamed the package `thebe`as suggested.",
    "created_at": "2016-09-04T21:22:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314234",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:19" align="right">Comment 19</div>

Replying to [@jdemeyer](#comment%3A15):
> You should have the git commit in the version number. It should be possible to exactly 
> reconstruct the tarball. The date on which it was packaged is not sufficient for that.

Done.

> When you do this, also adjust the instructions in `SPKG.txt` (and perhaps replace `#20690` by the actual Trac URL).

Done.

Replying to [@jdemeyer](#comment%3A16):
> Also: upstream calls itself `thebe`, why rename to `thebejs`?

Most javascript libs have dual names, for example `node` vs `nodejs` or `d3` vs `d3js`. Since we used the `*js` name for in other packages, i took that one, but indeed, in the case of `thebe` there is no `*js` version. So i renamed the package `thebe`as suggested.



---

archive/issue_comments_314235.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.\n \n-The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed thebejs-9624e0a0.zip (upstream does not propose explicit releases).\n+The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed `thebe-9624e0a0.zip` (upstream does not propose explicit releases).\n \n It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip\n \n``````\n",
    "created_at": "2016-09-05T06:51:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314235",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.
 
-The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed thebejs-9624e0a0.zip (upstream does not propose explicit releases).
+The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed `thebe-9624e0a0.zip` (upstream does not propose explicit releases).
 
 It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip
 
``````




---

archive/issue_comments_314236.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nLooks good.",
    "created_at": "2016-09-05T06:58:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314236",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">Comment 21</div>

Looks good.



---

archive/issue_comments_314237.json:
```json
{
    "body": "Changed reviewer from **Nicolas M. Thi\u00e9ry** to **Nicolas M. Thi\u00e9ry, Jeroen Demeyer**",
    "created_at": "2016-09-05T06:58:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314237",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Nicolas M. Thiéry** to **Nicolas M. Thiéry, Jeroen Demeyer**



---

archive/issue_events_281562.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-09-05T06:58:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281562"
}
```



---

archive/issue_events_281563.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-09-05T06:58:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281563"
}
```



---

archive/issue_comments_314238.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,23 @@\n-With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.\n+Thebe is a Jupyter javascript plugin for static sites that allows to render\n+selected divs of an HTML page as live cells connected to a Jupyter server.\n \n-The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed `thebe-9624e0a0.zip` (upstream does not propose explicit releases).\n+- Website: https://oreillymedia.github.io/thebe/\n+- Source: https://github.com/oreillymedia/thebe\n \n-It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip\n+Ticket #20690 aims to use this technology to implement live documentation\n+in the Jupyter notebook. Indeed, live documentation is one of the features\n+we had in the legacy Sage notebook and that was not yet available in Sage\n+when using the Jupyter notebook.\n \n+A first implementation of #20690 was entangling thebe.js within Sage source\n+code. Since upstream is well-defined, the aim of this ticket is to instead\n+package it the usual way, and #20690 is now based on this packaged version.\n+\n+The zipball can be found at\n+https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip\n+and should be renamed `thebe-9624e0a0.zip`\n+(upstream does not propose explicit releases).\n+\n+It can also temporarily be downloaded at\n+https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip\n+\n``````\n",
    "created_at": "2016-09-05T12:52:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314238",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,23 @@
-With the first implementation of #20690, thebe.js was entangled within Sage source code. Since upstream is well defined, the aim of this ticket is to package it the usual way. #20690 is now based on it.
+Thebe is a Jupyter javascript plugin for static sites that allows to render
+selected divs of an HTML page as live cells connected to a Jupyter server.
 
-The zipball can be found at https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip and should be renamed `thebe-9624e0a0.zip` (upstream does not propose explicit releases).
+- Website: https://oreillymedia.github.io/thebe/
+- Source: https://github.com/oreillymedia/thebe
 
-It can also temporarly be downloaded at https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip
+Ticket #20690 aims to use this technology to implement live documentation
+in the Jupyter notebook. Indeed, live documentation is one of the features
+we had in the legacy Sage notebook and that was not yet available in Sage
+when using the Jupyter notebook.
 
+A first implementation of #20690 was entangling thebe.js within Sage source
+code. Since upstream is well-defined, the aim of this ticket is to instead
+package it the usual way, and #20690 is now based on this packaged version.
+
+The zipball can be found at
+https://github.com/oreillymedia/thebe/archive/9624e0a07a00026103dce1a3e32bbfbf90a6d0f9.zip
+and should be renamed `thebe-9624e0a0.zip`
+(upstream does not propose explicit releases).
+
+It can also temporarily be downloaded at
+https://lipn.univ-paris13.fr/~monteil/hebergement/tmp/thebe-9624e0a0.zip
+
``````




---

archive/issue_events_281564.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2016-09-05T12:52:52Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "title_is": "Package Thebe",
    "title_was": "Package thebe.js",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281564"
}
```



---

archive/issue_comments_314239.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nJust expanding the ticket description to make it more explanatory.",
    "created_at": "2016-09-05T12:52:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314239",
    "user": "https://github.com/slel"
}
```

<div id="comment:22" align="right">Comment 22</div>

Just expanding the ticket description to make it more explanatory.



---

archive/issue_comments_314240.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n Thebe is a Jupyter javascript plugin for static sites that allows to render\n selected divs of an HTML page as live cells connected to a Jupyter server.\n \n-- Website: https://oreillymedia.github.io/thebe/\n-- Source: https://github.com/oreillymedia/thebe\n+- Code repository and documentation: https://github.com/oreillymedia/thebe\n+- Example/demo: https://oreillymedia.github.io/thebe/\n \n Ticket #20690 aims to use this technology to implement live documentation\n in the Jupyter notebook. Indeed, live documentation is one of the features\n``````\n",
    "created_at": "2016-09-05T12:54:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314240",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
 Thebe is a Jupyter javascript plugin for static sites that allows to render
 selected divs of an HTML page as live cells connected to a Jupyter server.
 
-- Website: https://oreillymedia.github.io/thebe/
-- Source: https://github.com/oreillymedia/thebe
+- Code repository and documentation: https://github.com/oreillymedia/thebe
+- Example/demo: https://oreillymedia.github.io/thebe/
 
 Ticket #20690 aims to use this technology to implement live documentation
 in the Jupyter notebook. Indeed, live documentation is one of the features
``````




---

archive/issue_comments_314241.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nI am going through this for inclusion in sage-on-gentoo. Are we taking a tarball of the whole repo to install only a 1010KB text file out of it? Why not ship it directly in `src/doc/common/themes/`? With documentation on origin and how to update it.",
    "created_at": "2016-09-07T01:10:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314241",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:24" align="right">Comment 24</div>

I am going through this for inclusion in sage-on-gentoo. Are we taking a tarball of the whole repo to install only a 1010KB text file out of it? Why not ship it directly in `src/doc/common/themes/`? With documentation on origin and how to update it.



---

archive/issue_comments_314242.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@kiwifb](#comment%3A24):\n> I am going through this for inclusion in sage-on-gentoo.\n> Are we taking a tarball of the whole repo to install only a 1010KB text file out of it?\n\nReminds me of talks and blog posts such as\nhttp://idlewords.com/talks/website_obesity.htm\nand\nhttps://medium.com/friendship-dot-js/i-peeked-into-my-node-modules-directory-and-you-wont-believe-what-happened-next-b89f63d21558\n\n> Why not ship it directly in `src/doc/common/themes/`?\n> With documentation on origin and how to update it.\n\nSounds like a good idea.",
    "created_at": "2016-09-07T01:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314242",
    "user": "https://github.com/slel"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@kiwifb](#comment%3A24):
> I am going through this for inclusion in sage-on-gentoo.
> Are we taking a tarball of the whole repo to install only a 1010KB text file out of it?

Reminds me of talks and blog posts such as
http://idlewords.com/talks/website_obesity.htm
and
https://medium.com/friendship-dot-js/i-peeked-into-my-node-modules-directory-and-you-wont-believe-what-happened-next-b89f63d21558

> Why not ship it directly in `src/doc/common/themes/`?
> With documentation on origin and how to update it.

Sounds like a good idea.



---

archive/issue_comments_314243.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nWell I guess it ties in with my earlier comment on #20690 [#20690 comment:47](https://github.com/sagemath/sage/issues/20690#comment:47) so it is also not totally disinterested. \n\nBut it has to be overkill, I must not be the only thinking it is, once the realisation sets in.",
    "created_at": "2016-09-07T01:52:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314243",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:26" align="right">Comment 26</div>

Well I guess it ties in with my earlier comment on #20690 [#20690 comment:47](https://github.com/sagemath/sage/issues/20690#comment:47) so it is also not totally disinterested. 

But it has to be overkill, I must not be the only thinking it is, once the realisation sets in.



---

archive/issue_comments_314244.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\n#20690 originally was just including thebe.js in the Sage sources as you suggest, and it was requested that we made a proper package ... See the comments there:\n\n    [#20690 comment:24](https://github.com/sagemath/sage/issues/20690#comment:24)\n\nI don't mind either solution, but let's decide quickly to get this in!",
    "created_at": "2016-09-07T06:05:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314244",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:27" align="right">Comment 27</div>

#20690 originally was just including thebe.js in the Sage sources as you suggest, and it was requested that we made a proper package ... See the comments there:

    [#20690 comment:24](https://github.com/sagemath/sage/issues/20690#comment:24)

I don't mind either solution, but let's decide quickly to get this in!



---

archive/issue_comments_314245.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nI can understand the point of tracking upstream, but shipping a whole tarball and only installing only one file out of it because the rest is not of interest is overkill, we don't even use the rest to build something. And it creates the problem of pointing out to the file later. Another point is that the whole repo is actually not in an installable form, it is to be used as is, the fact that upstream doesn't do release means that is not that much easier to keep track of new version.\n\nNot pretending that there is a good solution to the problem. An additional consideration is licensing, this is MIT, can we ship it with the rest of the code of the sage documentation?",
    "created_at": "2016-09-07T07:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314245",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:28" align="right">Comment 28</div>

I can understand the point of tracking upstream, but shipping a whole tarball and only installing only one file out of it because the rest is not of interest is overkill, we don't even use the rest to build something. And it creates the problem of pointing out to the file later. Another point is that the whole repo is actually not in an installable form, it is to be used as is, the fact that upstream doesn't do release means that is not that much easier to keep track of new version.

Not pretending that there is a good solution to the problem. An additional consideration is licensing, this is MIT, can we ship it with the rest of the code of the sage documentation?



---

archive/issue_comments_314246.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nIt is not overkill, because the tarball of \"the whole repo\" is 1.2M while \"the only one file\" is 1M. Indeed this only one file is the compiled version of the rest (from coffee+less+js to js), which is the source (+ a few examples). Most js library ship things that way with the compiled result included. Compressed, it would make a 300K archive. Of course, we could make a `sage-src` script to recreate such a tarball. The proper way would be to ship only the source part and recompile the js \"binary\" ourselves, but it will require packaging coffescript and dotless (and perhaps other things). With the current situation, we have a well-defined origin for the zip-ball, easy to fetch from upstream, easy to update, easy to maintain, which follows the standard Sage packaging process.\n\nHardcoding things within `src/` is much worse, since:\n- almost nobody will notice when the package bitrots\n- we create a separate process than standard packaging, so only experts will be able to update it\n- each time the package is updated, we get one additional magabyte in the Sage git repository (note that thebe.js is a compiled version, so the file is basically a single 1M line of js that will change at each update). I prefer by far having the git tree only explode by a few bytes (version number + hashes) at each update than 1M at each update.\n- actually, i have hesitated to rewrite the git history of #20690 and remove the fact that this 1M of js is already once in Sage source repository.\n\nThe idea behind the current solution is in minimizing maintenance work, while staying transparent. If you insist, i can write a `sage-src` script to shrink the zipball to save 900K and let us become upstream, but i doubt there is a benefit.",
    "created_at": "2016-09-07T09:28:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314246",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:29" align="right">Comment 29</div>

It is not overkill, because the tarball of "the whole repo" is 1.2M while "the only one file" is 1M. Indeed this only one file is the compiled version of the rest (from coffee+less+js to js), which is the source (+ a few examples). Most js library ship things that way with the compiled result included. Compressed, it would make a 300K archive. Of course, we could make a `sage-src` script to recreate such a tarball. The proper way would be to ship only the source part and recompile the js "binary" ourselves, but it will require packaging coffescript and dotless (and perhaps other things). With the current situation, we have a well-defined origin for the zip-ball, easy to fetch from upstream, easy to update, easy to maintain, which follows the standard Sage packaging process.

Hardcoding things within `src/` is much worse, since:
- almost nobody will notice when the package bitrots
- we create a separate process than standard packaging, so only experts will be able to update it
- each time the package is updated, we get one additional magabyte in the Sage git repository (note that thebe.js is a compiled version, so the file is basically a single 1M line of js that will change at each update). I prefer by far having the git tree only explode by a few bytes (version number + hashes) at each update than 1M at each update.
- actually, i have hesitated to rewrite the git history of #20690 and remove the fact that this 1M of js is already once in Sage source repository.

The idea behind the current solution is in minimizing maintenance work, while staying transparent. If you insist, i can write a `sage-src` script to shrink the zipball to save 900K and let us become upstream, but i doubt there is a benefit.



---

archive/issue_comments_314247.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nFine. You do the maintenance here, not me.",
    "created_at": "2016-09-07T09:38:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314247",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:30" align="right">Comment 30</div>

Fine. You do the maintenance here, not me.



---

archive/issue_comments_314248.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nReplying to [@sagetrac-tmonteil](#comment%3A29):\n> It is not overkill, because the tarball of \"the whole repo\" is 1.2M while \"the only one file\" is 1M.\n\nThanks for your thorough explanation. It's very different from the examples I quoted.",
    "created_at": "2016-09-07T09:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314248",
    "user": "https://github.com/slel"
}
```

<div id="comment:31" align="right">Comment 31</div>

Replying to [@sagetrac-tmonteil](#comment%3A29):
> It is not overkill, because the tarball of "the whole repo" is 1.2M while "the only one file" is 1M.

Thanks for your thorough explanation. It's very different from the examples I quoted.



---

archive/issue_comments_314249.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nI agree with Thierry. Distributions will be happy when we don't bundle external stuff in the Sage library.",
    "created_at": "2016-09-07T12:13:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314249",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">Comment 32</div>

I agree with Thierry. Distributions will be happy when we don't bundle external stuff in the Sage library.



---

archive/issue_comments_314250.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nReplying to [@jdemeyer](#comment%3A32):\n> I agree with Thierry. Distributions will be happy when we don't bundle external stuff in the Sage library.\n\n<putting distro hat on> I generally agree with you on that point. I started getting agitated on this ticket after looking into packaging this for Gentoo and going `WTF` - what am I even supposed to do. Possibly I don't have experience in packaging `.js` stuff but it really left me wondering. If someone with experience packaging for debian would comment on that kind of case I'd be delighted.",
    "created_at": "2016-09-07T22:25:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314250",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:33" align="right">Comment 33</div>

Replying to [@jdemeyer](#comment%3A32):
> I agree with Thierry. Distributions will be happy when we don't bundle external stuff in the Sage library.

<putting distro hat on> I generally agree with you on that point. I started getting agitated on this ticket after looking into packaging this for Gentoo and going `WTF` - what am I even supposed to do. Possibly I don't have experience in packaging `.js` stuff but it really left me wondering. If someone with experience packaging for debian would comment on that kind of case I'd be delighted.



---

archive/issue_events_281565.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-09-08T19:46:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281565"
}
```



---

archive/issue_events_281566.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e440d73b8dec7a1fd48bde45b48f1440f807a9b2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-09-08T19:46:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21309#event-281566"
}
```



---

archive/issue_comments_314251.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/package_thebe_js](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/package_thebe_js)** to **[520cdd0](https://github.com/sagemath/sagetrac-mirror/commit/520cdd0796488eebc64c3796e7030504ab941661)**",
    "created_at": "2016-09-08T19:46:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314251",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/tmonteil/package_thebe_js](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/package_thebe_js)** to **[520cdd0](https://github.com/sagemath/sagetrac-mirror/commit/520cdd0796488eebc64c3796e7030504ab941661)**



---

archive/issue_comments_314252.json:
```json
{
    "body": "Changed keywords from **sd75** to **sd75, sdl**",
    "created_at": "2019-08-27T19:45:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21309#issuecomment-314252",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed keywords from **sd75** to **sd75, sdl**
