# Issue 21799: JH(28, [15]).decomposition() raises ValueError

archive/issues_021562.json:
```json
{
    "body": "\n```\nsage: JH(28, [15]).decomposition()\nTraceback (most recent call last):\n...\nValueError: submodule must be a submodule of the ambient free module\n```\nSee also #21798.\n\n\n**CC:**  @koffie\n\n**Branch/Commit:** [ffe95544c6c6b8e3036c91f7dad364ae6da35145](https://github.com/sagemath/sagetrac-mirror/commit/ffe95544c6c6b8e3036c91f7dad364ae6da35145)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Peter Bruin\n\nIssue created by migration from https://trac.sagemath.org/ticket/21799\n\n",
    "closed_at": "2017-01-18T20:39:29Z",
    "created_at": "2016-11-02T10:40:10Z",
    "labels": [
        "component: modular forms",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "title": "JH(28, [15]).decomposition() raises ValueError",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/21799",
    "user": "https://github.com/pjbruin"
}
```

```
sage: JH(28, [15]).decomposition()
Traceback (most recent call last):
...
ValueError: submodule must be a submodule of the ambient free module
```
See also #21798.


**CC:**  @koffie

**Branch/Commit:** [ffe95544c6c6b8e3036c91f7dad364ae6da35145](https://github.com/sagemath/sagetrac-mirror/commit/ffe95544c6c6b8e3036c91f7dad364ae6da35145)

**Reviewer:** Travis Scrimshaw

**Author:** Peter Bruin

Issue created by migration from https://trac.sagemath.org/ticket/21799





---

archive/issue_comments_323139.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis was fairly easy to fix by passing the appropriate space of modular symbols instead of just its level to the `degeneracy_map()` method.  I took the opportunity to slightly improve the documentation.",
    "created_at": "2016-12-20T10:15:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21799#issuecomment-323139",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:2'></a>
This was fairly easy to fix by passing the appropriate space of modular symbols instead of just its level to the `degeneracy_map()` method.  I took the opportunity to slightly improve the documentation.



---

archive/issue_comments_323140.json:
```json
{
    "body": "**Commit:** [d2fccf11ee2df4ced1907531b2a8972bad6e022e](https://github.com/sagemath/sagetrac-mirror/commit/d2fccf11ee2df4ced1907531b2a8972bad6e022e)",
    "created_at": "2016-12-20T10:15:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21799#issuecomment-323140",
    "user": "https://github.com/pjbruin"
}
```

**Commit:** [d2fccf11ee2df4ced1907531b2a8972bad6e022e](https://github.com/sagemath/sagetrac-mirror/commit/d2fccf11ee2df4ced1907531b2a8972bad6e022e)



---

archive/issue_comments_323141.json:
```json
{
    "body": "**Author:** Peter Bruin",
    "created_at": "2016-12-20T10:15:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21799#issuecomment-323141",
    "user": "https://github.com/pjbruin"
}
```

**Author:** Peter Bruin



---

archive/issue_events_195130.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2016-12-20T10:15:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21799#event-195130"
}
```



---

archive/issue_comments_323142.json:
```json
{
    "body": "**Branch:** [u/pbruin/21799-simple_factorization_of_modsym_space](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/21799-simple_factorization_of_modsym_space)",
    "created_at": "2016-12-20T10:15:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21799#issuecomment-323142",
    "user": "https://github.com/pjbruin"
}
```

**Branch:** [u/pbruin/21799-simple_factorization_of_modsym_space](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/21799-simple_factorization_of_modsym_space)



---

archive/issue_comments_323143.json:
```json
{
    "body": "**Changing commit** from \"[d2fccf11ee2df4ced1907531b2a8972bad6e022e](https://github.com/sagemath/sagetrac-mirror/commit/d2fccf11ee2df4ced1907531b2a8972bad6e022e)\" to \"[77babd2d528c0caf6215db734e32053fbf8c5b2e](https://github.com/sagemath/sagetrac-mirror/commit/77babd2d528c0caf6215db734e32053fbf8c5b2e)\".",
    "created_at": "2016-12-20T10:25:07Z",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21799#issuecomment-323143",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d2fccf11ee2df4ced1907531b2a8972bad6e022e](https://github.com/sagemath/sagetrac-mirror/commit/d2fccf11ee2df4ced1907531b2a8972bad6e022e)" to "[77babd2d528c0caf6215db734e32053fbf8c5b2e](https://github.com/sagemath/sagetrac-mirror/commit/77babd2d528c0caf6215db734e32053fbf8c5b2e)".



---

archive/issue_comments_323144.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77babd2d528c0caf6215db734e32053fbf8c5b2e\">77babd2</a></td><td><code>Trac 21799: fix simple_factorization_of_modsym_space() for congruence subgroups Gamma_H</code></td></tr></table>\n",
    "created_at": "2016-12-20T10:25:07Z",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21799#issuecomment-323144",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77babd2d528c0caf6215db734e32053fbf8c5b2e">77babd2</a></td><td><code>Trac 21799: fix simple_factorization_of_modsym_space() for congruence subgroups Gamma_H</code></td></tr></table>




---

archive/issue_comments_323145.json:
```json
{
    "body": "<a id='comment:4'></a>\nLGTM modulo the more standard input:\n\n```diff\n-    - ``simple`` -- boolean (default: True).  If set to False,\n-      isogenous simple factors are grouped together.\n+    - ``simple`` -- boolean (default: ``True``); if set to\n+      ``False``, isogenous simple factors are grouped together\n```",
    "created_at": "2016-12-20T14:19:48Z",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21799#issuecomment-323145",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
LGTM modulo the more standard input:

```diff
-    - ``simple`` -- boolean (default: True).  If set to False,
-      isogenous simple factors are grouped together.
+    - ``simple`` -- boolean (default: ``True``); if set to
+      ``False``, isogenous simple factors are grouped together
```



---

archive/issue_comments_323146.json:
```json
{
    "body": "<a id='comment:5'></a>\nOnce that is changed, you can set a positive review on my behalf.",
    "created_at": "2016-12-20T14:20:07Z",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21799#issuecomment-323146",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
Once that is changed, you can set a positive review on my behalf.



---

archive/issue_comments_323147.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2016-12-20T14:20:07Z",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21799#issuecomment-323147",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_323148.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffe95544c6c6b8e3036c91f7dad364ae6da35145\">ffe9554</a></td><td><code>Trac 21799: change docstring formatting</code></td></tr></table>\n",
    "created_at": "2016-12-20T14:56:14Z",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21799#issuecomment-323148",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffe95544c6c6b8e3036c91f7dad364ae6da35145">ffe9554</a></td><td><code>Trac 21799: change docstring formatting</code></td></tr></table>




---

archive/issue_comments_323149.json:
```json
{
    "body": "**Changing commit** from \"[77babd2d528c0caf6215db734e32053fbf8c5b2e](https://github.com/sagemath/sagetrac-mirror/commit/77babd2d528c0caf6215db734e32053fbf8c5b2e)\" to \"[ffe95544c6c6b8e3036c91f7dad364ae6da35145](https://github.com/sagemath/sagetrac-mirror/commit/ffe95544c6c6b8e3036c91f7dad364ae6da35145)\".",
    "created_at": "2016-12-20T14:56:14Z",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21799#issuecomment-323149",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[77babd2d528c0caf6215db734e32053fbf8c5b2e](https://github.com/sagemath/sagetrac-mirror/commit/77babd2d528c0caf6215db734e32053fbf8c5b2e)" to "[ffe95544c6c6b8e3036c91f7dad364ae6da35145](https://github.com/sagemath/sagetrac-mirror/commit/ffe95544c6c6b8e3036c91f7dad364ae6da35145)".



---

archive/issue_events_195131.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2016-12-20T14:56:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21799#event-195131"
}
```



---

archive/issue_events_195132.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2016-12-20T14:56:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21799#event-195132"
}
```



---

archive/issue_comments_323150.json:
```json
{
    "body": "**Changing branch** from \"[u/pbruin/21799-simple_factorization_of_modsym_space](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/21799-simple_factorization_of_modsym_space)\" to \"[ffe95544c6c6b8e3036c91f7dad364ae6da35145](https://github.com/sagemath/sagetrac-mirror/commit/ffe95544c6c6b8e3036c91f7dad364ae6da35145)\".",
    "created_at": "2017-01-18T20:39:29Z",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21799#issuecomment-323150",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/pbruin/21799-simple_factorization_of_modsym_space](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/21799-simple_factorization_of_modsym_space)" to "[ffe95544c6c6b8e3036c91f7dad364ae6da35145](https://github.com/sagemath/sagetrac-mirror/commit/ffe95544c6c6b8e3036c91f7dad364ae6da35145)".



---

archive/issue_events_195133.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-18T20:39:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21799#event-195133"
}
```



---

archive/issue_events_195134.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "db857c62eeb22e9d3e827d4928a7dbc79711d610",
    "created_at": "2017-01-18T20:39:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21799",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21799#event-195134"
}
```
