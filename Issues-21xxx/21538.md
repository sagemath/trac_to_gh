# Issue 21538: ./configure --with-packages=...

archive/issues_021301.json:
```json
{
    "body": "`./configure` should accept an argument `--with-packages=...` so that a user can request a list of packages to be installed.\n\nOne could consider to have `sage -i` edit `config.status` (`ac_cs_config`) whenever a package is installed.\n\nAlso there should be an argument `--ignored-installed-packages` so that the contents of `$SAGE_LOCAL/var/lib/sage/installed` is ignored by `configure`. This is may be useful to ensure predictable builds.\n\nSee also: #21700 - crucial to get all dependencies of all optional packages right, because we no longer can tell the user to \"first install this, then install that\". \n\nResolution: wontfix\n\nIssue created by migration from https://trac.sagemath.org/ticket/21538\n\n",
    "closed_at": "2019-05-09T16:07:48Z",
    "created_at": "2016-09-19T03:30:52Z",
    "labels": [
        "component: build: configure"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "./configure --with-packages=...",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21538",
    "user": "https://github.com/mkoeppe"
}
```
`./configure` should accept an argument `--with-packages=...` so that a user can request a list of packages to be installed.

One could consider to have `sage -i` edit `config.status` (`ac_cs_config`) whenever a package is installed.

Also there should be an argument `--ignored-installed-packages` so that the contents of `$SAGE_LOCAL/var/lib/sage/installed` is ignored by `configure`. This is may be useful to ensure predictable builds.

See also: #21700 - crucial to get all dependencies of all optional packages right, because we no longer can tell the user to "first install this, then install that". 

Resolution: wontfix

Issue created by migration from https://trac.sagemath.org/ticket/21538





---

archive/issue_comments_397039.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,8 @@\n \n One could consider to have `sage -i` edit `config.status` (`ac_cs_config`) whenever a package is installed.\n \n-Also there should be an argument `--ignored-installed-packages` so that the contents of `$SAGE_LOCAL/var/lib/sage/installed` is ignored. This is may be useful to ensure predictable builds.\n+Also there should be an argument `--ignored-installed-packages` so that the contents of `$SAGE_LOCAL/var/lib/sage/installed` is ignored by `configure`. This is may be useful to ensure predictable builds.\n+\n \n Comment: 1\n \n``````\n",
    "created_at": "2016-09-19T03:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21538#issuecomment-397039",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,8 @@
 
 One could consider to have `sage -i` edit `config.status` (`ac_cs_config`) whenever a package is installed.
 
-Also there should be an argument `--ignored-installed-packages` so that the contents of `$SAGE_LOCAL/var/lib/sage/installed` is ignored. This is may be useful to ensure predictable builds.
+Also there should be an argument `--ignored-installed-packages` so that the contents of `$SAGE_LOCAL/var/lib/sage/installed` is ignored by `configure`. This is may be useful to ensure predictable builds.
+
 
 Comment: 1
 
``````




---

archive/issue_comments_397040.json:
```json
{
    "body": "<a id='comment:2'></a>Why not an argument `--enable-foo` (and/or perhaps `--with-foo=/path/where/installed`, depending on the answer to #21566#comment:3) for each package `foo`?",
    "created_at": "2016-09-23T13:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21538#issuecomment-397040",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:2'></a>Why not an argument `--enable-foo` (and/or perhaps `--with-foo=/path/where/installed`, depending on the answer to #21566#comment:3) for each package `foo`?



---

archive/issue_comments_397041.json:
```json
{
    "body": "<a id='comment:3'></a>Yes, this syntax could also work and is probably a better idea. \n\nI like `--with-foo=/path/where/installed` too, but as I said on #21566, it won't happen on this ticket.",
    "created_at": "2016-09-23T15:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21538#issuecomment-397041",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>Yes, this syntax could also work and is probably a better idea. 

I like `--with-foo=/path/where/installed` too, but as I said on #21566, it won't happen on this ticket.



---

archive/issue_comments_397042.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n+`./configure` should accept an argument `--with-packages=...` so that a user can request a list of packages to be installed.\n \n+One could consider to have `sage -i` edit `config.status` (`ac_cs_config`) whenever a package is installed.\n+\n+Also there should be an argument `--ignored-installed-packages` so that the contents of `$SAGE_LOCAL/var/lib/sage/installed` is ignored by `configure`. This is may be useful to ensure predictable builds.\n+\n+See also: #21700 - crucial to get all dependencies of all optional packages right, because we no longer can tell the user to \"first install this, then install that\". \n \n Comment: 1\n \n``````\n",
    "created_at": "2016-10-15T02:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21538#issuecomment-397042",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,10 @@
+`./configure` should accept an argument `--with-packages=...` so that a user can request a list of packages to be installed.
 
+One could consider to have `sage -i` edit `config.status` (`ac_cs_config`) whenever a package is installed.
+
+Also there should be an argument `--ignored-installed-packages` so that the contents of `$SAGE_LOCAL/var/lib/sage/installed` is ignored by `configure`. This is may be useful to ensure predictable builds.
+
+See also: #21700 - crucial to get all dependencies of all optional packages right, because we no longer can tell the user to "first install this, then install that". 
 
 Comment: 1
 
``````




---

archive/issue_comments_397043.json:
```json
{
    "body": "<a id='comment:6'></a>#27567 offers a slightly different approach, but I think effectively serves the same purpose as this proposal.\n\nOne thing it doesn't do yet is provide a way to enable specific optional/experimental packages at configure time.  One might also consider that useful, but I'm treating it as a separate issue for now.",
    "created_at": "2019-03-29T16:20:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21538#issuecomment-397043",
    "user": "https://github.com/embray"
}
```

<a id='comment:6'></a>#27567 offers a slightly different approach, but I think effectively serves the same purpose as this proposal.

One thing it doesn't do yet is provide a way to enable specific optional/experimental packages at configure time.  One might also consider that useful, but I'm treating it as a separate issue for now.



---

archive/issue_comments_397044.json:
```json
{
    "body": "<a id='comment:7'></a>Superseded for now by #27567, though some of the suggestions in this ticket like `--ignore-installed-packages` might be useful down the line.",
    "created_at": "2019-05-09T16:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21538#issuecomment-397044",
    "user": "https://github.com/embray"
}
```

<a id='comment:7'></a>Superseded for now by #27567, though some of the suggestions in this ticket like `--ignore-installed-packages` might be useful down the line.



---

archive/issue_events_057173.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-05-09T16:07:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21538",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21538#event-57173"
}
```



---

archive/issue_events_057174.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-05-09T16:07:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21538",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21538#event-57174"
}
```



---

archive/issue_comments_397045.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2019-05-09T16:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21538#issuecomment-397045",
    "user": "https://github.com/embray"
}
```

Resolution: wontfix



---

archive/issue_comments_397046.json:
```json
{
    "body": "<a id='comment:8'></a>Not quite - what's missing is the possibility to add optional packages in the configure call.",
    "created_at": "2019-05-09T16:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21538#issuecomment-397046",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>Not quite - what's missing is the possibility to add optional packages in the configure call.



---

archive/issue_comments_397047.json:
```json
{
    "body": "<a id='comment:9'></a>This was implemented in #28095 (Add --enable-OPTIONALSPKG options to configure).",
    "created_at": "2020-05-01T17:23:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21538#issuecomment-397047",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>This was implemented in #28095 (Add --enable-OPTIONALSPKG options to configure).
