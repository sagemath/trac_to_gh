# Issue 21866: py3 cmp to richcmp in some files about groups

archive/issues_021629.json:
```json
{
    "body": "as another step to py3\n\nCC:  @jdemeyer @tscrim @a-andre\n\nBranch/Commit: d877c03a826d0f8b4fd50543a06be15c4adc48f7\n\nReviewer: Travis Scrimshaw\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21866\n\n",
    "closed_at": "2016-11-20T22:04:24Z",
    "created_at": "2016-11-12T14:09:37Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "py3 cmp to richcmp in some files about groups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21866",
    "user": "https://github.com/fchapoton"
}
```
as another step to py3

CC:  @jdemeyer @tscrim @a-andre

Branch/Commit: d877c03a826d0f8b4fd50543a06be15c4adc48f7

Reviewer: Travis Scrimshaw

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21866





---

archive/issue_comments_403913.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/21866\"",
    "created_at": "2016-11-12T14:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403913",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/21866"



---

archive/issue_comments_403914.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-11-12T14:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403914",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_403915.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[998306d](https://git.sagemath.org/sage.git/commit?id=998306d00fdb1fff8e5ceef311903279152722b6)|`py3 converting some cmp to richcmp in pyx files (about groups)`|",
    "created_at": "2016-11-12T14:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403915",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[998306d](https://git.sagemath.org/sage.git/commit?id=998306d00fdb1fff8e5ceef311903279152722b6)|`py3 converting some cmp to richcmp in pyx files (about groups)`|



---

archive/issue_comments_403916.json:
```json
{
    "body": "Changing commit from \"\" to \"998306d00fdb1fff8e5ceef311903279152722b6\"",
    "created_at": "2016-11-12T14:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403916",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "998306d00fdb1fff8e5ceef311903279152722b6"



---

archive/issue_comments_403917.json:
```json
{
    "body": "<a id='comment:2'></a>\nthis seems to cause a problem in src/sage/groups/braid.py\n\nneeds to be investigated",
    "created_at": "2016-11-13T20:52:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403917",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
this seems to cause a problem in src/sage/groups/braid.py

needs to be investigated



---

archive/issue_comments_403918.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-11-14T19:42:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403918",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_403919.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[261ca6e](https://git.sagemath.org/sage.git/commit/?id=261ca6e222917f40563ceabcc3b3585f67b748af)|`Merge branch 'u/chapoton/21866' in 7.5.b3`|\n|[7fdff48](https://git.sagemath.org/sage.git/commit/?id=7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)|`trac 21866 work on braid groups`|",
    "created_at": "2016-11-18T19:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403919",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[261ca6e](https://git.sagemath.org/sage.git/commit/?id=261ca6e222917f40563ceabcc3b3585f67b748af)|`Merge branch 'u/chapoton/21866' in 7.5.b3`|
|[7fdff48](https://git.sagemath.org/sage.git/commit/?id=7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)|`trac 21866 work on braid groups`|



---

archive/issue_comments_403920.json:
```json
{
    "body": "Changing commit from \"998306d00fdb1fff8e5ceef311903279152722b6\" to \"7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24\"",
    "created_at": "2016-11-18T19:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403920",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "998306d00fdb1fff8e5ceef311903279152722b6" to "7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24"



---

archive/issue_comments_403921.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[2c287d1](https://git.sagemath.org/sage.git/commit/?id=2c287d1614344c743a81f0fe9e946268accf980f)|`trac 21866 fixing doctest`|",
    "created_at": "2016-11-19T12:58:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403921",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[2c287d1](https://git.sagemath.org/sage.git/commit/?id=2c287d1614344c743a81f0fe9e946268accf980f)|`trac 21866 fixing doctest`|



---

archive/issue_comments_403922.json:
```json
{
    "body": "Changing commit from \"7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24\" to \"2c287d1614344c743a81f0fe9e946268accf980f\"",
    "created_at": "2016-11-19T12:58:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403922",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24" to "2c287d1614344c743a81f0fe9e946268accf980f"



---

archive/issue_comments_403923.json:
```json
{
    "body": "<a id='comment:6'></a>\nshould be good now, please review",
    "created_at": "2016-11-19T12:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403923",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
should be good now, please review



---

archive/issue_comments_403924.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-11-19T12:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403924",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_403925.json:
```json
{
    "body": "<a id='comment:7'></a>\nIs there a reason why you removed these tests:\n\n```\nsage: cmp(x, 3) is not 0\nTrue\nsage: x == 0\nFalse\n```\nThe former could be\n\n```\nsage: x == 3\nFalse\n```\nThe latter could be kept as-is.",
    "created_at": "2016-11-19T13:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403925",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Is there a reason why you removed these tests:

```
sage: cmp(x, 3) is not 0
True
sage: x == 0
False
```
The former could be

```
sage: x == 3
False
```
The latter could be kept as-is.



---

archive/issue_comments_403926.json:
```json
{
    "body": "<a id='comment:8'></a>\nThose are comparison to something not in the same parent.\n\nPython3 is much more strict on what one can compare. For example, it is not allowed to compare strings (like 'e') and numbers (like 4).\n\n```\nPython 3.5.2+ (default, Sep 22 2016, 12:18:14) \n[GCC 6.2.0 20160927] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> sorted(['e',4])\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nTypeError: unorderable types: int() < str()\n```",
    "created_at": "2016-11-19T13:59:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403926",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Those are comparison to something not in the same parent.

Python3 is much more strict on what one can compare. For example, it is not allowed to compare strings (like 'e') and numbers (like 4).

```
Python 3.5.2+ (default, Sep 22 2016, 12:18:14) 
[GCC 6.2.0 20160927] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> sorted(['e',4])
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unorderable types: int() < str()
```



---

archive/issue_comments_403927.json:
```json
{
    "body": "<a id='comment:9'></a>\nHowever they are (essentially) equality checks, which should still work.",
    "created_at": "2016-11-19T14:32:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403927",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
However they are (essentially) equality checks, which should still work.



---

archive/issue_comments_403928.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[d877c03](https://git.sagemath.org/sage.git/commit/?id=d877c03a826d0f8b4fd50543a06be15c4adc48f7)|`trac 21866 adding back 2 doctests`|",
    "created_at": "2016-11-19T17:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403928",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[d877c03](https://git.sagemath.org/sage.git/commit/?id=d877c03a826d0f8b4fd50543a06be15c4adc48f7)|`trac 21866 adding back 2 doctests`|



---

archive/issue_comments_403929.json:
```json
{
    "body": "Changing commit from \"2c287d1614344c743a81f0fe9e946268accf980f\" to \"d877c03a826d0f8b4fd50543a06be15c4adc48f7\"",
    "created_at": "2016-11-19T17:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403929",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2c287d1614344c743a81f0fe9e946268accf980f" to "d877c03a826d0f8b4fd50543a06be15c4adc48f7"



---

archive/issue_comments_403930.json:
```json
{
    "body": "<a id='comment:11'></a>\nI added them back.",
    "created_at": "2016-11-19T17:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403930",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
I added them back.



---

archive/issue_comments_403931.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2016-11-19T18:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403931",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_403932.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-11-19T18:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403932",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_403933.json:
```json
{
    "body": "<a id='comment:12'></a>\nThanks.",
    "created_at": "2016-11-19T18:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403933",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
Thanks.



---

archive/issue_comments_403934.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-11-20T22:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403934",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_403935.json:
```json
{
    "body": "Changing branch from \"u/chapoton/21866\" to \"d877c03a826d0f8b4fd50543a06be15c4adc48f7\"",
    "created_at": "2016-11-20T22:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-403935",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/21866" to "d877c03a826d0f8b4fd50543a06be15c4adc48f7"



---

archive/issue_events_057748.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-20T22:04:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21866#event-57748"
}
```
