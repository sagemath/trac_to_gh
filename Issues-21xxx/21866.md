# Issue 21866: py3 cmp to richcmp in some files about groups

archive/issues_021629.json:
```json
{
    "assignees": [],
    "body": "as another step to py3\n\nCC:  @jdemeyer @tscrim @a-andre\n\nBranch/Commit: **[d877c03](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21866_\n\n",
    "closed_at": "2016-11-20T22:04:24Z",
    "created_at": "2016-11-12T14:09:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3 cmp to richcmp in some files about groups",
    "type": "issue",
    "updated_at": "2016-11-20T22:04:24Z",
    "url": "https://github.com/sagemath/sage/issues/21866",
    "user": "https://github.com/fchapoton"
}
```
as another step to py3

CC:  @jdemeyer @tscrim @a-andre

Branch/Commit: **[d877c03](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/21866_





---

archive/issue_events_288669.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-12T14:09:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288669"
}
```



---

archive/issue_events_288670.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-12T14:09:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "000080",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288670"
}
```



---

archive/issue_events_288671.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-12T14:09:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288671"
}
```



---

archive/issue_events_288672.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-12T14:09:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288672"
}
```



---

archive/issue_comments_324421.json:
```json
{
    "body": "Branch: **[u/chapoton/21866](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21866)**",
    "created_at": "2016-11-12T14:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324421",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/21866](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21866)**



---

archive/issue_events_288673.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-12T14:10:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288673"
}
```



---

archive/issue_comments_324422.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6\">998306d</a></td><td><code>py3 converting some cmp to richcmp in pyx files (about groups)</code></td></tr></table>\n",
    "created_at": "2016-11-12T14:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324422",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6">998306d</a></td><td><code>py3 converting some cmp to richcmp in pyx files (about groups)</code></td></tr></table>




---

archive/issue_comments_324423.json:
```json
{
    "body": "Commit: **[998306d](https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6)**",
    "created_at": "2016-11-12T14:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324423",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[998306d](https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6)**



---

archive/issue_comments_324424.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nthis seems to cause a problem in src/sage/groups/braid.py\n\nneeds to be investigated",
    "created_at": "2016-11-13T20:52:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324424",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'>Comment 2:</a>
this seems to cause a problem in src/sage/groups/braid.py

needs to be investigated



---

archive/issue_events_288674.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-14T19:42:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288674"
}
```



---

archive/issue_events_288675.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-14T19:42:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288675"
}
```



---

archive/issue_comments_324425.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/261ca6e222917f40563ceabcc3b3585f67b748af\">261ca6e</a></td><td><code>Merge branch 'u/chapoton/21866' in 7.5.b3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24\">7fdff48</a></td><td><code>trac 21866 work on braid groups</code></td></tr></table>\n",
    "created_at": "2016-11-18T19:53:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324425",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/261ca6e222917f40563ceabcc3b3585f67b748af">261ca6e</a></td><td><code>Merge branch 'u/chapoton/21866' in 7.5.b3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24">7fdff48</a></td><td><code>trac 21866 work on braid groups</code></td></tr></table>




---

archive/issue_comments_324426.json:
```json
{
    "body": "Changed commit from **[998306d](https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6)** to **[7fdff48](https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)**",
    "created_at": "2016-11-18T19:53:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324426",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[998306d](https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6)** to **[7fdff48](https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)**



---

archive/issue_comments_324427.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f\">2c287d1</a></td><td><code>trac 21866 fixing doctest</code></td></tr></table>\n",
    "created_at": "2016-11-19T12:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324427",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f">2c287d1</a></td><td><code>trac 21866 fixing doctest</code></td></tr></table>




---

archive/issue_comments_324428.json:
```json
{
    "body": "Changed commit from **[7fdff48](https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)** to **[2c287d1](https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f)**",
    "created_at": "2016-11-19T12:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324428",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7fdff48](https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)** to **[2c287d1](https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f)**



---

archive/issue_comments_324429.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nshould be good now, please review",
    "created_at": "2016-11-19T12:59:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324429",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'>Comment 6:</a>
should be good now, please review



---

archive/issue_events_288676.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-19T12:59:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288676"
}
```



---

archive/issue_events_288677.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-19T12:59:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288677"
}
```



---

archive/issue_comments_324430.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nIs there a reason why you removed these tests:\n\n```\nsage: cmp(x, 3) is not 0\nTrue\nsage: x == 0\nFalse\n```\nThe former could be\n\n```\nsage: x == 3\nFalse\n```\nThe latter could be kept as-is.",
    "created_at": "2016-11-19T13:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324430",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'>Comment 7:</a>
Is there a reason why you removed these tests:

```
sage: cmp(x, 3) is not 0
True
sage: x == 0
False
```
The former could be

```
sage: x == 3
False
```
The latter could be kept as-is.



---

archive/issue_comments_324431.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nThose are comparison to something not in the same parent.\n\nPython3 is much more strict on what one can compare. For example, it is not allowed to compare strings (like 'e') and numbers (like 4).\n\n```\nPython 3.5.2+ (default, Sep 22 2016, 12:18:14) \n[GCC 6.2.0 20160927] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> sorted(['e',4])\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nTypeError: unorderable types: int() < str()\n```",
    "created_at": "2016-11-19T13:59:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324431",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'>Comment 8:</a>
Those are comparison to something not in the same parent.

Python3 is much more strict on what one can compare. For example, it is not allowed to compare strings (like 'e') and numbers (like 4).

```
Python 3.5.2+ (default, Sep 22 2016, 12:18:14) 
[GCC 6.2.0 20160927] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> sorted(['e',4])
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unorderable types: int() < str()
```



---

archive/issue_comments_324432.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nHowever they are (essentially) equality checks, which should still work.",
    "created_at": "2016-11-19T14:32:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324432",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'>Comment 9:</a>
However they are (essentially) equality checks, which should still work.



---

archive/issue_comments_324433.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7\">d877c03</a></td><td><code>trac 21866 adding back 2 doctests</code></td></tr></table>\n",
    "created_at": "2016-11-19T17:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324433",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7">d877c03</a></td><td><code>trac 21866 adding back 2 doctests</code></td></tr></table>




---

archive/issue_comments_324434.json:
```json
{
    "body": "Changed commit from **[2c287d1](https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f)** to **[d877c03](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)**",
    "created_at": "2016-11-19T17:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324434",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2c287d1](https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f)** to **[d877c03](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)**



---

archive/issue_comments_324435.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nI added them back.",
    "created_at": "2016-11-19T17:13:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324435",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'>Comment 11:</a>
I added them back.



---

archive/issue_comments_324436.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2016-11-19T18:04:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324436",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_288678.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-19T18:04:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288678"
}
```



---

archive/issue_events_288679.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-19T18:04:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288679"
}
```



---

archive/issue_comments_324437.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nThanks.",
    "created_at": "2016-11-19T18:04:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324437",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'>Comment 12:</a>
Thanks.



---

archive/issue_comments_324438.json:
```json
{
    "body": "Changed branch from **[u/chapoton/21866](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21866)** to **[d877c03](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)**",
    "created_at": "2016-11-20T22:04:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-324438",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/21866](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21866)** to **[d877c03](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)**



---

archive/issue_events_288680.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-20T22:04:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288680"
}
```



---

archive/issue_events_288681.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4f65e3daa767d80a0076c87e3c9c1b6d85cff4d2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-11-20T22:04:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-288681"
}
```
