# Issue 21866: py3 cmp to richcmp in some files about groups

archive/issues_021629.json:
```json
{
    "body": "as another step to py3\n\n**CC:**  @jdemeyer @tscrim @a-andre\n\n**Branch/Commit:** [d877c03a826d0f8b4fd50543a06be15c4adc48f7](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/21866\n\n",
    "closed_at": "2016-11-20T22:04:24Z",
    "created_at": "2016-11-12T14:09:37Z",
    "labels": [
        "component: python3",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "py3 cmp to richcmp in some files about groups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21866",
    "user": "https://github.com/fchapoton"
}
```
as another step to py3

**CC:**  @jdemeyer @tscrim @a-andre

**Branch/Commit:** [d877c03a826d0f8b4fd50543a06be15c4adc48f7](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)

**Reviewer:** Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/21866





---

archive/issue_comments_386838.json:
```json
{
    "body": "**Branch:** [u/chapoton/21866](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21866)",
    "created_at": "2016-11-12T14:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386838",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/21866](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21866)



---

archive/issue_comments_386839.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2016-11-12T14:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386839",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_386840.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6\">998306d</a></td><td><code>py3 converting some cmp to richcmp in pyx files (about groups)</code></td></tr></table>\n",
    "created_at": "2016-11-12T14:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386840",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6">998306d</a></td><td><code>py3 converting some cmp to richcmp in pyx files (about groups)</code></td></tr></table>




---

archive/issue_comments_386841.json:
```json
{
    "body": "**Commit:** [998306d00fdb1fff8e5ceef311903279152722b6](https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6)",
    "created_at": "2016-11-12T14:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386841",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [998306d00fdb1fff8e5ceef311903279152722b6](https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6)



---

archive/issue_comments_386842.json:
```json
{
    "body": "<a id='comment:2'></a>\nthis seems to cause a problem in src/sage/groups/braid.py\n\nneeds to be investigated",
    "created_at": "2016-11-13T20:52:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386842",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
this seems to cause a problem in src/sage/groups/braid.py

needs to be investigated



---

archive/issue_comments_386843.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2016-11-14T19:42:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386843",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_386844.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/261ca6e222917f40563ceabcc3b3585f67b748af\">261ca6e</a></td><td><code>Merge branch 'u/chapoton/21866' in 7.5.b3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24\">7fdff48</a></td><td><code>trac 21866 work on braid groups</code></td></tr></table>\n",
    "created_at": "2016-11-18T19:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386844",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/261ca6e222917f40563ceabcc3b3585f67b748af">261ca6e</a></td><td><code>Merge branch 'u/chapoton/21866' in 7.5.b3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24">7fdff48</a></td><td><code>trac 21866 work on braid groups</code></td></tr></table>




---

archive/issue_comments_386845.json:
```json
{
    "body": "**Changing commit** from \"[998306d00fdb1fff8e5ceef311903279152722b6](https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6)\" to \"[7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24](https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)\".",
    "created_at": "2016-11-18T19:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386845",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[998306d00fdb1fff8e5ceef311903279152722b6](https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6)" to "[7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24](https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)".



---

archive/issue_comments_386846.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f\">2c287d1</a></td><td><code>trac 21866 fixing doctest</code></td></tr></table>\n",
    "created_at": "2016-11-19T12:58:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386846",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f">2c287d1</a></td><td><code>trac 21866 fixing doctest</code></td></tr></table>




---

archive/issue_comments_386847.json:
```json
{
    "body": "**Changing commit** from \"[7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24](https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)\" to \"[2c287d1614344c743a81f0fe9e946268accf980f](https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f)\".",
    "created_at": "2016-11-19T12:58:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386847",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24](https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)" to "[2c287d1614344c743a81f0fe9e946268accf980f](https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f)".



---

archive/issue_comments_386848.json:
```json
{
    "body": "<a id='comment:6'></a>\nshould be good now, please review",
    "created_at": "2016-11-19T12:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386848",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
should be good now, please review



---

archive/issue_comments_386849.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2016-11-19T12:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386849",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_386850.json:
```json
{
    "body": "<a id='comment:7'></a>\nIs there a reason why you removed these tests:\n\n```\nsage: cmp(x, 3) is not 0\nTrue\nsage: x == 0\nFalse\n```\nThe former could be\n\n```\nsage: x == 3\nFalse\n```\nThe latter could be kept as-is.",
    "created_at": "2016-11-19T13:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386850",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Is there a reason why you removed these tests:

```
sage: cmp(x, 3) is not 0
True
sage: x == 0
False
```
The former could be

```
sage: x == 3
False
```
The latter could be kept as-is.



---

archive/issue_comments_386851.json:
```json
{
    "body": "<a id='comment:8'></a>\nThose are comparison to something not in the same parent.\n\nPython3 is much more strict on what one can compare. For example, it is not allowed to compare strings (like 'e') and numbers (like 4).\n\n```\nPython 3.5.2+ (default, Sep 22 2016, 12:18:14) \n[GCC 6.2.0 20160927] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> sorted(['e',4])\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nTypeError: unorderable types: int() < str()\n```",
    "created_at": "2016-11-19T13:59:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386851",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Those are comparison to something not in the same parent.

Python3 is much more strict on what one can compare. For example, it is not allowed to compare strings (like 'e') and numbers (like 4).

```
Python 3.5.2+ (default, Sep 22 2016, 12:18:14) 
[GCC 6.2.0 20160927] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> sorted(['e',4])
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unorderable types: int() < str()
```



---

archive/issue_comments_386852.json:
```json
{
    "body": "<a id='comment:9'></a>\nHowever they are (essentially) equality checks, which should still work.",
    "created_at": "2016-11-19T14:32:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386852",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
However they are (essentially) equality checks, which should still work.



---

archive/issue_comments_386853.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7\">d877c03</a></td><td><code>trac 21866 adding back 2 doctests</code></td></tr></table>\n",
    "created_at": "2016-11-19T17:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386853",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7">d877c03</a></td><td><code>trac 21866 adding back 2 doctests</code></td></tr></table>




---

archive/issue_comments_386854.json:
```json
{
    "body": "**Changing commit** from \"[2c287d1614344c743a81f0fe9e946268accf980f](https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f)\" to \"[d877c03a826d0f8b4fd50543a06be15c4adc48f7](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)\".",
    "created_at": "2016-11-19T17:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386854",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2c287d1614344c743a81f0fe9e946268accf980f](https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f)" to "[d877c03a826d0f8b4fd50543a06be15c4adc48f7](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)".



---

archive/issue_comments_386855.json:
```json
{
    "body": "<a id='comment:11'></a>\nI added them back.",
    "created_at": "2016-11-19T17:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386855",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
I added them back.



---

archive/issue_comments_386856.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2016-11-19T18:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386856",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_386857.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2016-11-19T18:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386857",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_386858.json:
```json
{
    "body": "<a id='comment:12'></a>\nThanks.",
    "created_at": "2016-11-19T18:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386858",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
Thanks.



---

archive/issue_comments_386859.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/21866](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21866)\" to \"[d877c03a826d0f8b4fd50543a06be15c4adc48f7](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)\".",
    "created_at": "2016-11-20T22:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21866#issuecomment-386859",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/21866](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21866)" to "[d877c03a826d0f8b4fd50543a06be15c4adc48f7](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)".



---

archive/issue_events_065301.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-20T22:04:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21866",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21866#event-65301"
}
```
