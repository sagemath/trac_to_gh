# Issue 21866: py3 cmp to richcmp in some files about groups

archive/issues_021629.json:
```json
{
    "assignees": [],
    "body": "as another step to py3\n\nCC:  @jdemeyer @tscrim @a-andre\n\nBranch/Commit: **[d877c03](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **python3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21866_\n\n",
    "closed_at": "2016-11-20T22:04:24Z",
    "created_at": "2016-11-12T14:09:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3 cmp to richcmp in some files about groups",
    "type": "issue",
    "updated_at": "2016-11-20T22:04:24Z",
    "url": "https://github.com/sagemath/sage/issues/21866",
    "user": "https://github.com/fchapoton"
}
```
as another step to py3

CC:  @jdemeyer @tscrim @a-andre

Branch/Commit: **[d877c03](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

Component: **python3**

_Issue created by migration from https://trac.sagemath.org/ticket/21866_





---

archive/issue_events_306612.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-12T14:09:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306612"
}
```



---

archive/issue_events_306613.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-12T14:09:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "000080",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306613"
}
```



---

archive/issue_events_306614.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-12T14:09:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306614"
}
```



---

archive/issue_events_306615.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-12T14:09:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306615"
}
```



---

archive/issue_comments_321843.json:
```json
{
    "body": "Branch: **[u/chapoton/21866](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21866)**",
    "created_at": "2016-11-12T14:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321843",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/21866](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21866)**



---

archive/issue_events_306616.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-12T14:10:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306616"
}
```



---

archive/issue_comments_321844.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6\">998306d</a></td><td><code>py3 converting some cmp to richcmp in pyx files (about groups)</code></td></tr></table>\n",
    "created_at": "2016-11-12T14:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321844",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6">998306d</a></td><td><code>py3 converting some cmp to richcmp in pyx files (about groups)</code></td></tr></table>




---

archive/issue_comments_321845.json:
```json
{
    "body": "Commit: **[998306d](https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6)**",
    "created_at": "2016-11-12T14:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321845",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[998306d](https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6)**



---

archive/issue_comments_321846.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nthis seems to cause a problem in src/sage/groups/braid.py\n\nneeds to be investigated",
    "created_at": "2016-11-13T20:52:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321846",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2" align="right">comment:2</div>

this seems to cause a problem in src/sage/groups/braid.py

needs to be investigated



---

archive/issue_events_306617.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-14T19:42:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306617"
}
```



---

archive/issue_events_306618.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-14T19:42:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306618"
}
```



---

archive/issue_comments_321847.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/261ca6e222917f40563ceabcc3b3585f67b748af\">261ca6e</a></td><td><code>Merge branch 'u/chapoton/21866' in 7.5.b3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24\">7fdff48</a></td><td><code>trac 21866 work on braid groups</code></td></tr></table>\n",
    "created_at": "2016-11-18T19:53:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321847",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/261ca6e222917f40563ceabcc3b3585f67b748af">261ca6e</a></td><td><code>Merge branch 'u/chapoton/21866' in 7.5.b3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24">7fdff48</a></td><td><code>trac 21866 work on braid groups</code></td></tr></table>




---

archive/issue_comments_321848.json:
```json
{
    "body": "Changed commit from **[998306d](https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6)** to **[7fdff48](https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)**",
    "created_at": "2016-11-18T19:53:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321848",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[998306d](https://github.com/sagemath/sagetrac-mirror/commit/998306d00fdb1fff8e5ceef311903279152722b6)** to **[7fdff48](https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)**



---

archive/issue_comments_321849.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f\">2c287d1</a></td><td><code>trac 21866 fixing doctest</code></td></tr></table>\n",
    "created_at": "2016-11-19T12:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321849",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f">2c287d1</a></td><td><code>trac 21866 fixing doctest</code></td></tr></table>




---

archive/issue_comments_321850.json:
```json
{
    "body": "Changed commit from **[7fdff48](https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)** to **[2c287d1](https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f)**",
    "created_at": "2016-11-19T12:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321850",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7fdff48](https://github.com/sagemath/sagetrac-mirror/commit/7fdff48b2a2ff8c4cfcb13d4e24b00ca9da8de24)** to **[2c287d1](https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f)**



---

archive/issue_comments_321851.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nshould be good now, please review",
    "created_at": "2016-11-19T12:59:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321851",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

should be good now, please review



---

archive/issue_events_306619.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-19T12:59:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306619"
}
```



---

archive/issue_events_306620.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-11-19T12:59:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306620"
}
```



---

archive/issue_comments_321852.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIs there a reason why you removed these tests:\n\n```\nsage: cmp(x, 3) is not 0\nTrue\nsage: x == 0\nFalse\n```\nThe former could be\n\n```\nsage: x == 3\nFalse\n```\nThe latter could be kept as-is.",
    "created_at": "2016-11-19T13:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321852",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

Is there a reason why you removed these tests:

```
sage: cmp(x, 3) is not 0
True
sage: x == 0
False
```
The former could be

```
sage: x == 3
False
```
The latter could be kept as-is.



---

archive/issue_comments_321853.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThose are comparison to something not in the same parent.\n\nPython3 is much more strict on what one can compare. For example, it is not allowed to compare strings (like 'e') and numbers (like 4).\n\n```\nPython 3.5.2+ (default, Sep 22 2016, 12:18:14) \n[GCC 6.2.0 20160927] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> sorted(['e',4])\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nTypeError: unorderable types: int() < str()\n```",
    "created_at": "2016-11-19T13:59:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321853",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

Those are comparison to something not in the same parent.

Python3 is much more strict on what one can compare. For example, it is not allowed to compare strings (like 'e') and numbers (like 4).

```
Python 3.5.2+ (default, Sep 22 2016, 12:18:14) 
[GCC 6.2.0 20160927] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> sorted(['e',4])
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unorderable types: int() < str()
```



---

archive/issue_comments_321854.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHowever they are (essentially) equality checks, which should still work.",
    "created_at": "2016-11-19T14:32:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321854",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">comment:9</div>

However they are (essentially) equality checks, which should still work.



---

archive/issue_comments_321855.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7\">d877c03</a></td><td><code>trac 21866 adding back 2 doctests</code></td></tr></table>\n",
    "created_at": "2016-11-19T17:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321855",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7">d877c03</a></td><td><code>trac 21866 adding back 2 doctests</code></td></tr></table>




---

archive/issue_comments_321856.json:
```json
{
    "body": "Changed commit from **[2c287d1](https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f)** to **[d877c03](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)**",
    "created_at": "2016-11-19T17:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321856",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2c287d1](https://github.com/sagemath/sagetrac-mirror/commit/2c287d1614344c743a81f0fe9e946268accf980f)** to **[d877c03](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)**



---

archive/issue_comments_321857.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI added them back.",
    "created_at": "2016-11-19T17:13:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321857",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

I added them back.



---

archive/issue_comments_321858.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2016-11-19T18:04:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321858",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_306621.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-19T18:04:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306621"
}
```



---

archive/issue_events_306622.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-19T18:04:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306622"
}
```



---

archive/issue_comments_321859.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThanks.",
    "created_at": "2016-11-19T18:04:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321859",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

Thanks.



---

archive/issue_comments_321860.json:
```json
{
    "body": "Changed branch from **[u/chapoton/21866](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21866)** to **[d877c03](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)**",
    "created_at": "2016-11-20T22:04:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21866#issuecomment-321860",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/21866](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21866)** to **[d877c03](https://github.com/sagemath/sagetrac-mirror/commit/d877c03a826d0f8b4fd50543a06be15c4adc48f7)**



---

archive/issue_events_306623.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-20T22:04:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306623"
}
```



---

archive/issue_events_306624.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4f65e3daa767d80a0076c87e3c9c1b6d85cff4d2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-11-20T22:04:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21866",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21866#event-306624"
}
```
