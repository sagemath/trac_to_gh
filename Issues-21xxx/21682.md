# Issue 21682: Add a separate "build_cython" command to setup.py

archive/issues_021445.json:
```json
{
    "assignees": [],
    "body": "This is a follow-on to #21600.  It adds a new `cythonize` command to the `setup.py`, and moves most of the logic for running `cythonize()` (previously in the customized `build_ext`) command, into this new command.\n\nThe new `cythonize` command is run always from `build_ext` anyways, but this has a couple advantages:\n\n1) It is possible to run *just* `cythonize`, without compiling extension modules.  This maybe isn't that common, but can be useful for development, especially when testing issues with Cython itself.  It will also be useful for generating source distributions, where we might want to ship Cythonized sources in the source tarball, and hence would need to generate them as part of the process of building the tarball (without necessarily compiling).\n\nThis also allows passing options directly from the command-line to `cythonize`.  This isn't much taken advantage of currently but the possibility is there.\n\n2) Code is clearer and more modular.  Specific details for compiling cython code are kept separate from details for compiling C/C++ code.\n\nSee also upstream discussion of a \"generic\" implementation: https://github.com/cython/cython/issues/1514\n\nCC:  @mkoeppe\n\nKeywords: **cython distutils**\n\nBranch/Commit: **[`a049f2d`](https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f)**\n\nUpstream: **Reported upstream. Developers acknowledge bug.**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Erik Bray**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21682_\n\n",
    "closed_at": "2017-04-05T19:38:02Z",
    "created_at": "2016-10-11T15:31:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/c%3A%20cython"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add a separate \"build_cython\" command to setup.py",
    "type": "issue",
    "updated_at": "2017-04-05T19:38:02Z",
    "url": "https://github.com/sagemath/sage/issues/21682",
    "user": "https://github.com/embray"
}
```
This is a follow-on to #21600.  It adds a new `cythonize` command to the `setup.py`, and moves most of the logic for running `cythonize()` (previously in the customized `build_ext`) command, into this new command.

The new `cythonize` command is run always from `build_ext` anyways, but this has a couple advantages:

1) It is possible to run *just* `cythonize`, without compiling extension modules.  This maybe isn't that common, but can be useful for development, especially when testing issues with Cython itself.  It will also be useful for generating source distributions, where we might want to ship Cythonized sources in the source tarball, and hence would need to generate them as part of the process of building the tarball (without necessarily compiling).

This also allows passing options directly from the command-line to `cythonize`.  This isn't much taken advantage of currently but the possibility is there.

2) Code is clearer and more modular.  Specific details for compiling cython code are kept separate from details for compiling C/C++ code.

See also upstream discussion of a "generic" implementation: https://github.com/cython/cython/issues/1514

CC:  @mkoeppe

Keywords: **cython distutils**

Branch/Commit: **[`a049f2d`](https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f)**

Upstream: **Reported upstream. Developers acknowledge bug.**

Reviewer: **Jeroen Demeyer**

Author: **Erik Bray**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/21682_





---

archive/issue_events_305715.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-11T15:31:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305715"
}
```



---

archive/issue_events_305716.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-11T15:31:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305716"
}
```



---

archive/issue_events_305717.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-11T15:31:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305717"
}
```



---

archive/issue_events_305718.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-11T15:31:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305718"
}
```



---

archive/issue_events_305719.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-11T15:31:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20cython",
    "label_color": "000080",
    "label_name": "c: cython",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305719"
}
```



---

archive/issue_comments_318588.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI have a few other to-do issues in this code, but they're not essential.  Not sure if they should be worried about for now, or in a follow-up issue if this code is accepted.",
    "created_at": "2016-10-11T15:32:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318588",
    "user": "https://github.com/embray"
}
```

<div id="comment:1" align="right">comment:1</div>

I have a few other to-do issues in this code, but they're not essential.  Not sure if they should be worried about for now, or in a follow-up issue if this code is accepted.



---

archive/issue_comments_318589.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI suggest that you first discuss this with upstream `cython`.",
    "created_at": "2016-10-11T15:45:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318589",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

I suggest that you first discuss this with upstream `cython`.



---

archive/issue_comments_318590.json:
```json
{
    "body": "Changed commit from **[`80955e5`](https://github.com/sagemath/sagetrac-mirror/commit/80955e5be90d0c92061982e062f1cbc7e071ed28)** to **[`487d66a`](https://github.com/sagemath/sagetrac-mirror/commit/487d66adc34cb7c3997c70d4efee4d411a769d18)**",
    "created_at": "2016-11-07T12:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318590",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`80955e5`](https://github.com/sagemath/sagetrac-mirror/commit/80955e5be90d0c92061982e062f1cbc7e071ed28)** to **[`487d66a`](https://github.com/sagemath/sagetrac-mirror/commit/487d66adc34cb7c3997c70d4efee4d411a769d18)**



---

archive/issue_comments_318591.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/487d66adc34cb7c3997c70d4efee4d411a769d18\"><code>487d66a</code></a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr></table>\n",
    "created_at": "2016-11-07T12:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318591",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/487d66adc34cb7c3997c70d4efee4d411a769d18"><code>487d66a</code></a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr></table>




---

archive/issue_comments_318592.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nRebased--I agree this could also be worth bringing upstream in some form, but do you have any other comments?",
    "created_at": "2016-11-07T12:27:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318592",
    "user": "https://github.com/embray"
}
```

<div id="comment:4" align="right">comment:4</div>

Rebased--I agree this could also be worth bringing upstream in some form, but do you have any other comments?



---

archive/issue_events_305720.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-11-07T12:28:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305720"
}
```



---

archive/issue_comments_318593.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@embray](#comment:4):\n> do you have any other comments?\n\nIt would be better to separate the Sage-specific parts from the general code which could be upstreamed.",
    "created_at": "2016-11-07T12:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318593",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@embray](#comment:4):
> do you have any other comments?

It would be better to separate the Sage-specific parts from the general code which could be upstreamed.



---

archive/issue_comments_318594.json:
```json
{
    "body": "Changed dependencies from **#21600** to none",
    "created_at": "2016-11-07T12:56:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318594",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#21600** to none



---

archive/issue_comments_318595.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nBikeshed: since all `build` commands start with `build`, wouldn't this command better be called `build_cython` or something like that?",
    "created_at": "2016-11-07T12:58:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318595",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Bikeshed: since all `build` commands start with `build`, wouldn't this command better be called `build_cython` or something like that?



---

archive/issue_comments_318596.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWhy did you change\n\n```\nos.environ.get('SAGE_DEBUG', None) != 'no'\n```\nto\n\n```\nos.environ.get('SAGE_DEBUG', 'no') != 'no'\n```",
    "created_at": "2016-11-07T13:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318596",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Why did you change

```
os.environ.get('SAGE_DEBUG', None) != 'no'
```
to

```
os.environ.get('SAGE_DEBUG', 'no') != 'no'
```



---

archive/issue_comments_318597.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nRegarding this:\n\n```\n    # TODO: This works for the C sources themselves, but this logic\n    # should also apply to Cython sources--shouldn't the be rebuilt\n    # if this file changes?  Alternatively, we could add more details\n    # (e.g. cythonize() flags) to the .cython_version file\n```\nI implemented that dependency on `setup.py` for the C files only because Cythonization does not really depend on `setup.py`.\n\nYou are right that the `cythonize()` flags affect Cythonization, but that is why we have `.cython_version`. But it would indeed be better if `.cython_version` would be more auto-generated with the relevant arguments given to `cythonize()`.",
    "created_at": "2016-11-07T13:12:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318597",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Regarding this:

```
    # TODO: This works for the C sources themselves, but this logic
    # should also apply to Cython sources--shouldn't the be rebuilt
    # if this file changes?  Alternatively, we could add more details
    # (e.g. cythonize() flags) to the .cython_version file
```
I implemented that dependency on `setup.py` for the C files only because Cythonization does not really depend on `setup.py`.

You are right that the `cythonize()` flags affect Cythonization, but that is why we have `.cython_version`. But it would indeed be better if `.cython_version` would be more auto-generated with the relevant arguments given to `cythonize()`.



---

archive/issue_comments_318598.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI would suggest to simplify\n\n```\n        if self.parallel is None:\n            self.parallel = int(os.environ.get('SAGE_NUM_THREADS', 0))\n\n        if isinstance(self.parallel, str):\n            try:\n                self.parallel = int(self.parallel)\n            except ValueError:\n                raise DistutilsOptionError(\"parallel should be an integer\")\n```\nto\n\n```\n        if self.parallel is None:\n            self.parallel = os.environ.get('SAGE_NUM_THREADS', 0)\n\n        try:\n            self.parallel = int(self.parallel)\n        except ValueError:\n            raise DistutilsOptionError(\"parallel should be an integer\")\n```",
    "created_at": "2016-11-07T13:41:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318598",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

I would suggest to simplify

```
        if self.parallel is None:
            self.parallel = int(os.environ.get('SAGE_NUM_THREADS', 0))

        if isinstance(self.parallel, str):
            try:
                self.parallel = int(self.parallel)
            except ValueError:
                raise DistutilsOptionError("parallel should be an integer")
```
to

```
        if self.parallel is None:
            self.parallel = os.environ.get('SAGE_NUM_THREADS', 0)

        try:
            self.parallel = int(self.parallel)
        except ValueError:
            raise DistutilsOptionError("parallel should be an integer")
```



---

archive/issue_comments_318599.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIn `finalize_options`, you are setting `build_dir` unconditionally. Does that mean that the `--build-dir` option is ignored?",
    "created_at": "2016-11-07T13:50:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318599",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

In `finalize_options`, you are setting `build_dir` unconditionally. Does that mean that the `--build-dir` option is ignored?



---

archive/issue_comments_318600.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@jdemeyer](#comment:8):\n> Bikeshed: since all `build` commands start with `build`, wouldn't this command better be called `build_cython` or something like that?\n\nI think that was my first inclination as well.  I went with `cythonize` just to emphasize that this was mostly a wrapper around that, but I think you've convinced me (just by confirming my initial idea) over toward `build_cython`",
    "created_at": "2016-11-07T14:40:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318600",
    "user": "https://github.com/embray"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@jdemeyer](#comment:8):
> Bikeshed: since all `build` commands start with `build`, wouldn't this command better be called `build_cython` or something like that?

I think that was my first inclination as well.  I went with `cythonize` just to emphasize that this was mostly a wrapper around that, but I think you've convinced me (just by confirming my initial idea) over toward `build_cython`



---

archive/issue_comments_318601.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@jdemeyer](#comment:9):\n> Why did you change\n> \n> ```\n> os.environ.get('SAGE_DEBUG', None) != 'no'\n> ```\n> to\n> \n> ```\n> os.environ.get('SAGE_DEBUG', 'no') != 'no'\n> ```\n\nI don't think I meant to.  I think originally it *was* `os.environ.get('SAGE_DEBUG', 'no')` and the fact that it's changed now might be a symptom of rebasing.  I'll fix that.  I definitely like the current spelling better.",
    "created_at": "2016-11-07T14:42:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318601",
    "user": "https://github.com/embray"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@jdemeyer](#comment:9):
> Why did you change
> 
> ```
> os.environ.get('SAGE_DEBUG', None) != 'no'
> ```
> to
> 
> ```
> os.environ.get('SAGE_DEBUG', 'no') != 'no'
> ```

I don't think I meant to.  I think originally it *was* `os.environ.get('SAGE_DEBUG', 'no')` and the fact that it's changed now might be a symptom of rebasing.  I'll fix that.  I definitely like the current spelling better.



---

archive/issue_comments_318602.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@jdemeyer](#comment:11):\n> I would suggest to simplify\n> \n> ```\n>         if self.parallel is None:\n>             self.parallel = int(os.environ.get('SAGE_NUM_THREADS', 0))\n> \n>         if isinstance(self.parallel, str):\n>             try:\n>                 self.parallel = int(self.parallel)\n>             except ValueError:\n>                 raise DistutilsOptionError(\"parallel should be an integer\")\n> ```\n> to\n> \n> ```\n>         if self.parallel is None:\n>             self.parallel = os.environ.get('SAGE_NUM_THREADS', 0)\n> \n>         try:\n>             self.parallel = int(self.parallel)\n>         except ValueError:\n>             raise DistutilsOptionError(\"parallel should be an integer\")\n> ```\n\nAgreed",
    "created_at": "2016-11-07T14:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318602",
    "user": "https://github.com/embray"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@jdemeyer](#comment:11):
> I would suggest to simplify
> 
> ```
>         if self.parallel is None:
>             self.parallel = int(os.environ.get('SAGE_NUM_THREADS', 0))
> 
>         if isinstance(self.parallel, str):
>             try:
>                 self.parallel = int(self.parallel)
>             except ValueError:
>                 raise DistutilsOptionError("parallel should be an integer")
> ```
> to
> 
> ```
>         if self.parallel is None:
>             self.parallel = os.environ.get('SAGE_NUM_THREADS', 0)
> 
>         try:
>             self.parallel = int(self.parallel)
>         except ValueError:
>             raise DistutilsOptionError("parallel should be an integer")
> ```

Agreed



---

archive/issue_comments_318603.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@jdemeyer](#comment:12):\n> In `finalize_options`, you are setting `build_dir` unconditionally. Does that mean that the `--build-dir` option is ignored?\n\nYes, IIRC that was in anticipation of fixing #21535, but I left the actual value hard-coded for now so as to not change existing behavior (since currently setting it to anything else will break other things that hard-code `SAGE_CYTHONIZED`).  For the purposes of this ticket as a stand-alone enhancement that is confusing though.  I could leave the internal `build_dir` attribute for now and just get rid of the user option (temporarily).",
    "created_at": "2016-11-07T14:48:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318603",
    "user": "https://github.com/embray"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@jdemeyer](#comment:12):
> In `finalize_options`, you are setting `build_dir` unconditionally. Does that mean that the `--build-dir` option is ignored?

Yes, IIRC that was in anticipation of fixing #21535, but I left the actual value hard-coded for now so as to not change existing behavior (since currently setting it to anything else will break other things that hard-code `SAGE_CYTHONIZED`).  For the purposes of this ticket as a stand-alone enhancement that is confusing though.  I could leave the internal `build_dir` attribute for now and just get rid of the user option (temporarily).



---

archive/issue_comments_318604.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@embray](#comment:14):\n> I definitely like the current spelling better.\n\nIt's not just a matter of spelling. It is a functional difference.",
    "created_at": "2016-11-07T15:01:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318604",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@embray](#comment:14):
> I definitely like the current spelling better.

It's not just a matter of spelling. It is a functional difference.



---

archive/issue_comments_318605.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nFor history about this `os.environ.get('SAGE_DEBUG', None)`, see #13881.",
    "created_at": "2016-11-07T15:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318605",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

For history about this `os.environ.get('SAGE_DEBUG', None)`, see #13881.



---

archive/issue_comments_318606.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI agree, I wasn't being flippant :)",
    "created_at": "2016-11-07T15:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318606",
    "user": "https://github.com/embray"
}
```

<div id="comment:19" align="right">comment:19</div>

I agree, I wasn't being flippant :)



---

archive/issue_comments_318607.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jdemeyer](#comment:10):\n> Regarding this:\n> \n> ```\n>     # TODO: This works for the C sources themselves, but this logic\n>     # should also apply to Cython sources--shouldn't the be rebuilt\n>     # if this file changes?  Alternatively, we could add more details\n>     # (e.g. cythonize() flags) to the .cython_version file\n> ```\n> I implemented that dependency on `setup.py` for the C files only because Cythonization does not really depend on `setup.py`.\n> \n> You are right that the `cythonize()` flags affect Cythonization, but that is why we have `.cython_version`. But it would indeed be better if `.cython_version` would be more auto-generated with the relevant arguments given to `cythonize()`.\n\nWhat if we made a \"version 2\" `.cython_version` (with backwards compat for the old format of course), with a new format in JSON that can accurately reflect the options passed to `cythonize()`?",
    "created_at": "2016-11-07T15:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318607",
    "user": "https://github.com/embray"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jdemeyer](#comment:10):
> Regarding this:
> 
> ```
>     # TODO: This works for the C sources themselves, but this logic
>     # should also apply to Cython sources--shouldn't the be rebuilt
>     # if this file changes?  Alternatively, we could add more details
>     # (e.g. cythonize() flags) to the .cython_version file
> ```
> I implemented that dependency on `setup.py` for the C files only because Cythonization does not really depend on `setup.py`.
> 
> You are right that the `cythonize()` flags affect Cythonization, but that is why we have `.cython_version`. But it would indeed be better if `.cython_version` would be more auto-generated with the relevant arguments given to `cythonize()`.

What if we made a "version 2" `.cython_version` (with backwards compat for the old format of course), with a new format in JSON that can accurately reflect the options passed to `cythonize()`?



---

archive/issue_comments_318608.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@embray](#comment:20):\n> What if we made a \"version 2\" `.cython_version` (with backwards compat for the old format of course), with a new format in JSON that can accurately reflect the options passed to `cythonize()`?\n\nI think that's a good idea. But that should be an independent ticket. I don't see the need for the \"backwards compat for the old format\" though.",
    "created_at": "2016-11-07T15:43:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318608",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@embray](#comment:20):
> What if we made a "version 2" `.cython_version` (with backwards compat for the old format of course), with a new format in JSON that can accurately reflect the options passed to `cythonize()`?

I think that's a good idea. But that should be an independent ticket. I don't see the need for the "backwards compat for the old format" though.



---

archive/issue_comments_318609.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2016-11-07T15:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318609",
    "user": "https://github.com/embray"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_318610.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nOpened an upstream issue at https://github.com/cython/cython/issues/1514\n\nA generic build_cython command could take most any `cythonize()` arguments as options.  A sage-specific wrapper around that would just be setting (or possibly enforcing) certain defaults.",
    "created_at": "2016-11-07T15:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318610",
    "user": "https://github.com/embray"
}
```

<div id="comment:22" align="right">comment:22</div>

Opened an upstream issue at https://github.com/cython/cython/issues/1514

A generic build_cython command could take most any `cythonize()` arguments as options.  A sage-specific wrapper around that would just be setting (or possibly enforcing) certain defaults.



---

archive/issue_comments_318611.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,5 @@\n This also allows passing options directly from the command-line to `cythonize`.  This isn't much taken advantage of currently but the possibility is there.\n \n 2) Code is clearer and more modular.  Specific details for compiling cython code are kept separate from details for compiling C/C++ code.\n+\n+See also upstream discussion of a \"generic\" implementation: https://github.com/cython/cython/issues/1514\n``````\n",
    "created_at": "2016-11-07T15:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318611",
    "user": "https://github.com/embray"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,5 @@
 This also allows passing options directly from the command-line to `cythonize`.  This isn't much taken advantage of currently but the possibility is there.
 
 2) Code is clearer and more modular.  Specific details for compiling cython code are kept separate from details for compiling C/C++ code.
+
+See also upstream discussion of a "generic" implementation: https://github.com/cython/cython/issues/1514
``````




---

archive/issue_comments_318612.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@jdemeyer](#comment:21):\n> Replying to [@embray](#comment:20):\n> > What if we made a \"version 2\" `.cython_version` (with backwards compat for the old format of course), with a new format in JSON that can accurately reflect the options passed to `cythonize()`?\n\n> \n> I think that's a good idea. But that should be an independent ticket. I don't see the need for the \"backwards compat for the old format\" though.\n\nAgree it's a separate issue.  As for backwards-compat, it at least needs to fail gracefully if the existing file is not in the new format, and rebuild + regenerate the file but that's fine.",
    "created_at": "2016-11-07T15:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318612",
    "user": "https://github.com/embray"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@jdemeyer](#comment:21):
> Replying to [@embray](#comment:20):
> > What if we made a "version 2" `.cython_version` (with backwards compat for the old format of course), with a new format in JSON that can accurately reflect the options passed to `cythonize()`?

> 
> I think that's a good idea. But that should be an independent ticket. I don't see the need for the "backwards compat for the old format" though.

Agree it's a separate issue.  As for backwards-compat, it at least needs to fail gracefully if the existing file is not in the new format, and rebuild + regenerate the file but that's fine.



---

archive/issue_events_305721.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-11-07T16:02:19Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "title_is": "Add a separate \"build_cython\" command to setup.py",
    "title_was": "Add a separate \"cythonize\" command to setup.py",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305721"
}
```



---

archive/issue_comments_318613.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jdemeyer](#comment:9):\n> Why did you change\n> \n> ```\n> os.environ.get('SAGE_DEBUG', None) != 'no'\n> ```\n> to\n> \n> ```\n> os.environ.get('SAGE_DEBUG', 'no') != 'no'\n> ```\n\nActually, just to make sure I'm clear about this, is the point that debug should be enabled *by default* if SAGE_DEBUG is not explicitly set to \"no\"?",
    "created_at": "2016-11-08T12:11:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318613",
    "user": "https://github.com/embray"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jdemeyer](#comment:9):
> Why did you change
> 
> ```
> os.environ.get('SAGE_DEBUG', None) != 'no'
> ```
> to
> 
> ```
> os.environ.get('SAGE_DEBUG', 'no') != 'no'
> ```

Actually, just to make sure I'm clear about this, is the point that debug should be enabled *by default* if SAGE_DEBUG is not explicitly set to "no"?



---

archive/issue_comments_318614.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@embray](#comment:25):\n> Actually, just to make sure I'm clear about this, is the point that debug should be enabled *by default* if SAGE_DEBUG is not explicitly set to \"no\"?\n\nExactly.",
    "created_at": "2016-11-08T12:54:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318614",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@embray](#comment:25):
> Actually, just to make sure I'm clear about this, is the point that debug should be enabled *by default* if SAGE_DEBUG is not explicitly set to "no"?

Exactly.



---

archive/issue_comments_318615.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI'm not sure how I feel about that--it goes against the default for building extension modules which is that the `--debug` option is not on by default.  I'd be happy to change that in Sage's build_* commands, but it should be changed across the board, and a `--no-debug` option to turn it off is added.  But it would be simpler to not make it the default.\n\nInstead, if we want to enable debug by default (which I agree is the best choice for development) we can either add it in the setup.cfg (but it would have to be removed when making a release) or in your local pydistutils.cfg.  \n\nOr am I missing something here?",
    "created_at": "2016-11-08T12:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318615",
    "user": "https://github.com/embray"
}
```

<div id="comment:27" align="right">comment:27</div>

I'm not sure how I feel about that--it goes against the default for building extension modules which is that the `--debug` option is not on by default.  I'd be happy to change that in Sage's build_* commands, but it should be changed across the board, and a `--no-debug` option to turn it off is added.  But it would be simpler to not make it the default.

Instead, if we want to enable debug by default (which I agree is the best choice for development) we can either add it in the setup.cfg (but it would have to be removed when making a release) or in your local pydistutils.cfg.  

Or am I missing something here?



---

archive/issue_comments_318616.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\n(I realize that the \"gdb_debug\" option for Cythonize and the \"debug\" option for building C sources are not the same thing, but they also kind of go hand-in-hand).",
    "created_at": "2016-11-08T12:59:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318616",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">comment:28</div>

(I realize that the "gdb_debug" option for Cythonize and the "debug" option for building C sources are not the same thing, but they also kind of go hand-in-hand).



---

archive/issue_comments_318617.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nNevermind--I read the docs for `SAGE_DEBUG` and that gave me a better understanding.  I'll play around a bit more with how the command-line option works, but I agree that the behavior you requested is consistent with how the `SAGE_DEBUG` environment variable itself should be interpreted.\n\nI think for the `build_cython` command I'll remove the `--debug` option entirely, and make `gdb_debug=True` by default pending the value of `SAGE_DEBUG` (that is, identical to the previous behavior).  There's no huge advantage to having an option to explicitly disable it.",
    "created_at": "2016-11-08T13:04:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318617",
    "user": "https://github.com/embray"
}
```

<div id="comment:29" align="right">comment:29</div>

Nevermind--I read the docs for `SAGE_DEBUG` and that gave me a better understanding.  I'll play around a bit more with how the command-line option works, but I agree that the behavior you requested is consistent with how the `SAGE_DEBUG` environment variable itself should be interpreted.

I think for the `build_cython` command I'll remove the `--debug` option entirely, and make `gdb_debug=True` by default pending the value of `SAGE_DEBUG` (that is, identical to the previous behavior).  There's no huge advantage to having an option to explicitly disable it.



---

archive/issue_comments_318618.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ccd15c1ef7021d7586e0213bc605fe0a359abce\"><code>4ccd15c</code></a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15c76614f943c342f40a1a2963f8b69983909490\"><code>15c7661</code></a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56df3cd6c19c23d0961effbc4cfbe50d3f594c21\"><code>56df3cd</code></a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56695aa5e4ebac5fa4fbe32a07e8b865a460feb1\"><code>56695aa</code></a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr></table>\n",
    "created_at": "2016-11-08T13:23:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318618",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ccd15c1ef7021d7586e0213bc605fe0a359abce"><code>4ccd15c</code></a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15c76614f943c342f40a1a2963f8b69983909490"><code>15c7661</code></a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56df3cd6c19c23d0961effbc4cfbe50d3f594c21"><code>56df3cd</code></a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56695aa5e4ebac5fa4fbe32a07e8b865a460feb1"><code>56695aa</code></a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr></table>




---

archive/issue_comments_318619.json:
```json
{
    "body": "Changed commit from **[`487d66a`](https://github.com/sagemath/sagetrac-mirror/commit/487d66adc34cb7c3997c70d4efee4d411a769d18)** to **[`56695aa`](https://github.com/sagemath/sagetrac-mirror/commit/56695aa5e4ebac5fa4fbe32a07e8b865a460feb1)**",
    "created_at": "2016-11-08T13:23:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318619",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`487d66a`](https://github.com/sagemath/sagetrac-mirror/commit/487d66adc34cb7c3997c70d4efee4d411a769d18)** to **[`56695aa`](https://github.com/sagemath/sagetrac-mirror/commit/56695aa5e4ebac5fa4fbe32a07e8b865a460feb1)**



---

archive/issue_comments_318620.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@embray](#comment:27):\n> I'm not sure how I feel about that--it goes against the default for building extension modules which is that the `--debug` option is not on by default.\n\nIn practice, `--debug` is the default because Python compiles by default with `-g` (even twice!). The *default* gcc command line starts with\n\n```\ngcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC\n```\n(Sage adds the `-Wno-unused` flag to this and removes `-Wstrict-prototypes`)\n\nAdding the `--debug` option to distutils adds an *additional* `-g` but that doesn't change anything really.",
    "created_at": "2016-11-08T13:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318620",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@embray](#comment:27):
> I'm not sure how I feel about that--it goes against the default for building extension modules which is that the `--debug` option is not on by default.

In practice, `--debug` is the default because Python compiles by default with `-g` (even twice!). The *default* gcc command line starts with

```
gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC
```
(Sage adds the `-Wno-unused` flag to this and removes `-Wstrict-prototypes`)

Adding the `--debug` option to distutils adds an *additional* `-g` but that doesn't change anything really.



---

archive/issue_comments_318621.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@embray](#comment:29):\n> There's no huge advantage to having an option to explicitly disable it.\n\nThe only potential advantage would be disk space (and maybe build time).",
    "created_at": "2016-11-08T13:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318621",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@embray](#comment:29):
> There's no huge advantage to having an option to explicitly disable it.

The only potential advantage would be disk space (and maybe build time).



---

archive/issue_comments_318622.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nI recently did some work on the `setup.py` for `cysignals` and I realized that it makes the most sense to run Cython as *first* build command, before `build_py`. This is because `build_py` handles `package_data` and we may want to handle Cython-generated files as `package_data` some day (see #20108).\n\nFor this reason, in `cysignals` I decided to run Cython in the base `build` command.",
    "created_at": "2016-11-22T16:44:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318622",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

I recently did some work on the `setup.py` for `cysignals` and I realized that it makes the most sense to run Cython as *first* build command, before `build_py`. This is because `build_py` handles `package_data` and we may want to handle Cython-generated files as `package_data` some day (see #20108).

For this reason, in `cysignals` I decided to run Cython in the base `build` command.



---

archive/issue_comments_318623.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nI see--that does make sense.  It simplifies things too--we can just insert `build_cython` into the front of the `build` sub-commands list.",
    "created_at": "2016-11-23T11:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318623",
    "user": "https://github.com/embray"
}
```

<div id="comment:35" align="right">comment:35</div>

I see--that does make sense.  It simplifies things too--we can just insert `build_cython` into the front of the `build` sub-commands list.



---

archive/issue_comments_318624.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0d57dcf36355100b4dfbb6bdef4aad42359eca3\"><code>a0d57dc</code></a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>\n",
    "created_at": "2016-11-23T11:08:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318624",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0d57dcf36355100b4dfbb6bdef4aad42359eca3"><code>a0d57dc</code></a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>




---

archive/issue_comments_318625.json:
```json
{
    "body": "Changed commit from **[`56695aa`](https://github.com/sagemath/sagetrac-mirror/commit/56695aa5e4ebac5fa4fbe32a07e8b865a460feb1)** to **[`a0d57dc`](https://github.com/sagemath/sagetrac-mirror/commit/a0d57dcf36355100b4dfbb6bdef4aad42359eca3)**",
    "created_at": "2016-11-23T11:08:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318625",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`56695aa`](https://github.com/sagemath/sagetrac-mirror/commit/56695aa5e4ebac5fa4fbe32a07e8b865a460feb1)** to **[`a0d57dc`](https://github.com/sagemath/sagetrac-mirror/commit/a0d57dcf36355100b4dfbb6bdef4aad42359eca3)**



---

archive/issue_events_305722.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-12-08T19:40:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305722"
}
```



---

archive/issue_events_305723.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-12-08T19:40:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305723"
}
```



---

archive/issue_comments_318626.json:
```json
{
    "body": "Work Issues: **rebasing**",
    "created_at": "2016-12-08T19:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318626",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **rebasing**



---

archive/issue_comments_318627.json:
```json
{
    "body": "Changed commit from **[`a0d57dc`](https://github.com/sagemath/sagetrac-mirror/commit/a0d57dcf36355100b4dfbb6bdef4aad42359eca3)** to **[`aaa6d38`](https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463)**",
    "created_at": "2016-12-09T12:45:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318627",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a0d57dc`](https://github.com/sagemath/sagetrac-mirror/commit/a0d57dcf36355100b4dfbb6bdef4aad42359eca3)** to **[`aaa6d38`](https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463)**



---

archive/issue_comments_318628.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fc2dd6566f92e3c2f1ca59648aeb18a7a5d4c91\"><code>4fc2dd6</code></a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c647256e43e00f03d8a5d92b8e16f45fc853f4ca\"><code>c647256</code></a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbb28d4333100677ff9e0c70591338894a9dd67c\"><code>dbb28d4</code></a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14b70cf8da4407ec8aa568d62f00cc4a83fb1460\"><code>14b70cf</code></a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb28c9de93319cfa1b18a9e2426ddd9d25e29b46\"><code>eb28c9d</code></a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463\"><code>aaa6d38</code></a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>\n",
    "created_at": "2016-12-09T12:45:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318628",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fc2dd6566f92e3c2f1ca59648aeb18a7a5d4c91"><code>4fc2dd6</code></a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c647256e43e00f03d8a5d92b8e16f45fc853f4ca"><code>c647256</code></a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbb28d4333100677ff9e0c70591338894a9dd67c"><code>dbb28d4</code></a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14b70cf8da4407ec8aa568d62f00cc4a83fb1460"><code>14b70cf</code></a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb28c9de93319cfa1b18a9e2426ddd9d25e29b46"><code>eb28c9d</code></a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463"><code>aaa6d38</code></a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>




---

archive/issue_comments_318629.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nRebased\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fc2dd6566f92e3c2f1ca59648aeb18a7a5d4c91\"><code>4fc2dd6</code></a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c647256e43e00f03d8a5d92b8e16f45fc853f4ca\"><code>c647256</code></a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbb28d4333100677ff9e0c70591338894a9dd67c\"><code>dbb28d4</code></a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14b70cf8da4407ec8aa568d62f00cc4a83fb1460\"><code>14b70cf</code></a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb28c9de93319cfa1b18a9e2426ddd9d25e29b46\"><code>eb28c9d</code></a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463\"><code>aaa6d38</code></a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>\n",
    "created_at": "2016-12-09T12:46:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318629",
    "user": "https://github.com/embray"
}
```

<div id="comment:39" align="right">comment:39</div>

Rebased

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fc2dd6566f92e3c2f1ca59648aeb18a7a5d4c91"><code>4fc2dd6</code></a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c647256e43e00f03d8a5d92b8e16f45fc853f4ca"><code>c647256</code></a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbb28d4333100677ff9e0c70591338894a9dd67c"><code>dbb28d4</code></a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14b70cf8da4407ec8aa568d62f00cc4a83fb1460"><code>14b70cf</code></a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb28c9de93319cfa1b18a9e2426ddd9d25e29b46"><code>eb28c9d</code></a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463"><code>aaa6d38</code></a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>




---

archive/issue_events_305724.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-12-09T12:46:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305724"
}
```



---

archive/issue_events_305725.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-12-09T12:46:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305725"
}
```



---

archive/issue_comments_318630.json:
```json
{
    "body": "Changed work issues from **rebasing** to none",
    "created_at": "2016-12-09T12:46:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318630",
    "user": "https://github.com/embray"
}
```

Changed work issues from **rebasing** to none



---

archive/issue_events_305726.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-12-29T12:29:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305726"
}
```



---

archive/issue_events_305727.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-12-29T12:29:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305727"
}
```



---

archive/issue_comments_318631.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nNeeds rebasing, and should work with #21682",
    "created_at": "2016-12-29T12:29:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318631",
    "user": "https://github.com/embray"
}
```

<div id="comment:40" align="right">comment:40</div>

Needs rebasing, and should work with #21682



---

archive/issue_comments_318632.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nYou mean #22106?",
    "created_at": "2016-12-29T17:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318632",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:41" align="right">comment:41</div>

You mean #22106?



---

archive/issue_comments_318633.json:
```json
{
    "body": "Dependencies: **#22106**",
    "created_at": "2016-12-30T11:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318633",
    "user": "https://github.com/embray"
}
```

Dependencies: **#22106**



---

archive/issue_comments_318634.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nYes, I meant #22106.  Thanks for the catch.",
    "created_at": "2016-12-30T11:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318634",
    "user": "https://github.com/embray"
}
```

<div id="comment:42" align="right">comment:42</div>

Yes, I meant #22106.  Thanks for the catch.



---

archive/issue_comments_318635.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nAh, since #22106 is at least in \"positive review\" status I should rebase this on it.",
    "created_at": "2017-03-29T15:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318635",
    "user": "https://github.com/embray"
}
```

<div id="comment:43" align="right">comment:43</div>

Ah, since #22106 is at least in "positive review" status I should rebase this on it.



---

archive/issue_comments_318636.json:
```json
{
    "body": "Changed commit from **[`aaa6d38`](https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463)** to **[`a7e548b`](https://github.com/sagemath/sagetrac-mirror/commit/a7e548b5f4e2c1dded48326d50363764f652aa1b)**",
    "created_at": "2017-03-29T15:45:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318636",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`aaa6d38`](https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463)** to **[`a7e548b`](https://github.com/sagemath/sagetrac-mirror/commit/a7e548b5f4e2c1dded48326d50363764f652aa1b)**



---

archive/issue_comments_318637.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bb5e73032c4da6f6d9851ee908efbc2eb239c2b\"><code>3bb5e73</code></a></td><td><code>Generate auto-generated sources as the earliest step in the 'build' command.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1286549a6568d268e6f97232221ab44cbd6ea2ea\"><code>1286549</code></a></td><td><code>Cosmetic changes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57757886e033fd4883354e7655dfa96bcaf71230\"><code>5775788</code></a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9f6d94c58c2a85498d484deaa15c8a7ab27ded6\"><code>f9f6d94</code></a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dd6fe7d1ac3b04ab78817490cc639fe76306d6e\"><code>2dd6fe7</code></a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac28d2d41c80cb07aa40c863d6a4f86c5b619c31\"><code>ac28d2d</code></a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97fadcb0f6d9675789cc3e768822b3fbba9d33a5\"><code>97fadcb</code></a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7e548b5f4e2c1dded48326d50363764f652aa1b\"><code>a7e548b</code></a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>\n",
    "created_at": "2017-03-29T15:45:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318637",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bb5e73032c4da6f6d9851ee908efbc2eb239c2b"><code>3bb5e73</code></a></td><td><code>Generate auto-generated sources as the earliest step in the 'build' command.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1286549a6568d268e6f97232221ab44cbd6ea2ea"><code>1286549</code></a></td><td><code>Cosmetic changes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57757886e033fd4883354e7655dfa96bcaf71230"><code>5775788</code></a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9f6d94c58c2a85498d484deaa15c8a7ab27ded6"><code>f9f6d94</code></a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dd6fe7d1ac3b04ab78817490cc639fe76306d6e"><code>2dd6fe7</code></a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac28d2d41c80cb07aa40c863d6a4f86c5b619c31"><code>ac28d2d</code></a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97fadcb0f6d9675789cc3e768822b3fbba9d33a5"><code>97fadcb</code></a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7e548b5f4e2c1dded48326d50363764f652aa1b"><code>a7e548b</code></a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>




---

archive/issue_comments_318638.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nRebased this on top of the current branch for #22106, which should be good to merge it looks like.\n\nOther than the rebasing I don't think this needed any additional work.",
    "created_at": "2017-03-29T15:46:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318638",
    "user": "https://github.com/embray"
}
```

<div id="comment:45" align="right">comment:45</div>

Rebased this on top of the current branch for #22106, which should be good to merge it looks like.

Other than the rebasing I don't think this needed any additional work.



---

archive/issue_events_305728.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-29T15:46:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305728"
}
```



---

archive/issue_events_305729.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-29T15:46:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305729"
}
```



---

archive/issue_comments_318639.json:
```json
{
    "body": "Changed branch from **[u/embray/cythonize-command](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cythonize-command)** to **[u/jdemeyer/cythonize-command](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cythonize-command)**",
    "created_at": "2017-04-01T15:29:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318639",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/embray/cythonize-command](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cythonize-command)** to **[u/jdemeyer/cythonize-command](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cythonize-command)**



---

archive/issue_comments_318640.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nMerged with `8.0.beta0`\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdb2f8934240777310aeb2116919a3b74848a9fc\"><code>cdb2f89</code></a></td><td><code>Merge tag '8.0.beta0' into t/21682/cythonize-command</code></td></tr></table>\n",
    "created_at": "2017-04-01T15:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318640",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:47" align="right">comment:47</div>

Merged with `8.0.beta0`

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdb2f8934240777310aeb2116919a3b74848a9fc"><code>cdb2f89</code></a></td><td><code>Merge tag '8.0.beta0' into t/21682/cythonize-command</code></td></tr></table>




---

archive/issue_comments_318641.json:
```json
{
    "body": "Changed dependencies from **#22106** to none",
    "created_at": "2017-04-01T15:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318641",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#22106** to none



---

archive/issue_comments_318642.json:
```json
{
    "body": "Changed commit from **[`a7e548b`](https://github.com/sagemath/sagetrac-mirror/commit/a7e548b5f4e2c1dded48326d50363764f652aa1b)** to **[`cdb2f89`](https://github.com/sagemath/sagetrac-mirror/commit/cdb2f8934240777310aeb2116919a3b74848a9fc)**",
    "created_at": "2017-04-01T15:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318642",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`a7e548b`](https://github.com/sagemath/sagetrac-mirror/commit/a7e548b5f4e2c1dded48326d50363764f652aa1b)** to **[`cdb2f89`](https://github.com/sagemath/sagetrac-mirror/commit/cdb2f8934240777310aeb2116919a3b74848a9fc)**



---

archive/issue_comments_318643.json:
```json
{
    "body": "<div id=\"comment:48\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/327108a7f6ecde89f7bc6a16a580d642f5f76018\"><code>327108a</code></a></td><td><code>Add missing \"mkpath\"</code></td></tr></table>\n",
    "created_at": "2017-04-01T16:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318643",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/327108a7f6ecde89f7bc6a16a580d642f5f76018"><code>327108a</code></a></td><td><code>Add missing "mkpath"</code></td></tr></table>




---

archive/issue_comments_318644.json:
```json
{
    "body": "Changed commit from **[`cdb2f89`](https://github.com/sagemath/sagetrac-mirror/commit/cdb2f8934240777310aeb2116919a3b74848a9fc)** to **[`327108a`](https://github.com/sagemath/sagetrac-mirror/commit/327108a7f6ecde89f7bc6a16a580d642f5f76018)**",
    "created_at": "2017-04-01T16:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318644",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cdb2f89`](https://github.com/sagemath/sagetrac-mirror/commit/cdb2f8934240777310aeb2116919a3b74848a9fc)** to **[`327108a`](https://github.com/sagemath/sagetrac-mirror/commit/327108a7f6ecde89f7bc6a16a580d642f5f76018)**



---

archive/issue_comments_318645.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers acknowledge bug.**",
    "created_at": "2017-04-01T16:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318645",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers acknowledge bug.**



---

archive/issue_comments_318646.json:
```json
{
    "body": "Changed commit from **[`327108a`](https://github.com/sagemath/sagetrac-mirror/commit/327108a7f6ecde89f7bc6a16a580d642f5f76018)** to **[`e3465ea`](https://github.com/sagemath/sagetrac-mirror/commit/e3465ea9e22a0863ccd69bdc3bd28151166926cb)**",
    "created_at": "2017-04-01T16:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318646",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`327108a`](https://github.com/sagemath/sagetrac-mirror/commit/327108a7f6ecde89f7bc6a16a580d642f5f76018)** to **[`e3465ea`](https://github.com/sagemath/sagetrac-mirror/commit/e3465ea9e22a0863ccd69bdc3bd28151166926cb)**



---

archive/issue_comments_318647.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3465ea9e22a0863ccd69bdc3bd28151166926cb\"><code>e3465ea</code></a></td><td><code>No need to use build_ext to get the list of extensions</code></td></tr></table>\n",
    "created_at": "2017-04-01T16:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318647",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3465ea9e22a0863ccd69bdc3bd28151166926cb"><code>e3465ea</code></a></td><td><code>No need to use build_ext to get the list of extensions</code></td></tr></table>




---

archive/issue_comments_318648.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2017-04-02T07:40:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318648",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_318649.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nErik, I'm happy with this. If you like my changes, you can set this to positive_review.",
    "created_at": "2017-04-02T07:40:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318649",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:51" align="right">comment:51</div>

Erik, I'm happy with this. If you like my changes, you can set this to positive_review.



---

archive/issue_events_305730.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-04-03T06:58:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305730"
}
```



---

archive/issue_events_305731.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-04-03T06:58:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305731"
}
```



---

archive/issue_comments_318650.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nI'm happy with the last change except in the `sage_build_cython.initialize_options` it should also set `self.extensions = None`.  I know, it's a bit silly, but I like to stick to the convention on this. (The reason for this convention has to do with how distutils commands can set their options from options on other commands, i.e. `self.set_undefined_options`. No, it's not likely to be used this way here, but I do also like that documents what attributes *should* be set on the finalized command.)",
    "created_at": "2017-04-03T06:58:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318650",
    "user": "https://github.com/embray"
}
```

<div id="comment:52" align="right">comment:52</div>

I'm happy with the last change except in the `sage_build_cython.initialize_options` it should also set `self.extensions = None`.  I know, it's a bit silly, but I like to stick to the convention on this. (The reason for this convention has to do with how distutils commands can set their options from options on other commands, i.e. `self.set_undefined_options`. No, it's not likely to be used this way here, but I do also like that documents what attributes *should* be set on the finalized command.)



---

archive/issue_comments_318651.json:
```json
{
    "body": "Changed commit from **[`e3465ea`](https://github.com/sagemath/sagetrac-mirror/commit/e3465ea9e22a0863ccd69bdc3bd28151166926cb)** to **[`a049f2d`](https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f)**",
    "created_at": "2017-04-03T08:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318651",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e3465ea`](https://github.com/sagemath/sagetrac-mirror/commit/e3465ea9e22a0863ccd69bdc3bd28151166926cb)** to **[`a049f2d`](https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f)**



---

archive/issue_comments_318652.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f\"><code>a049f2d</code></a></td><td><code>Set self.extensions in initialize_options()</code></td></tr></table>\n",
    "created_at": "2017-04-03T08:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318652",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f"><code>a049f2d</code></a></td><td><code>Set self.extensions in initialize_options()</code></td></tr></table>




---

archive/issue_events_305732.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-04-03T09:17:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305732"
}
```



---

archive/issue_events_305733.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-04-03T09:17:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305733"
}
```



---

archive/issue_comments_318653.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nThanks!",
    "created_at": "2017-04-03T09:40:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318653",
    "user": "https://github.com/embray"
}
```

<div id="comment:55" align="right">comment:55</div>

Thanks!



---

archive/issue_events_305734.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-05T19:38:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305734"
}
```



---

archive/issue_events_305735.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f8cfd68ddfa0319786e7da7372ed7ed8ddb587e5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-04-05T19:38:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-305735"
}
```



---

archive/issue_comments_318654.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/cythonize-command](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cythonize-command)** to **[`a049f2d`](https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f)**",
    "created_at": "2017-04-05T19:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-318654",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/cythonize-command](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cythonize-command)** to **[`a049f2d`](https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f)**
