# Issue 21682: Add a separate "build_cython" command to setup.py

archive/issues_021445.json:
```json
{
    "assignees": [],
    "body": "This is a follow-on to #21600.  It adds a new `cythonize` command to the `setup.py`, and moves most of the logic for running `cythonize()` (previously in the customized `build_ext`) command, into this new command.\n\nThe new `cythonize` command is run always from `build_ext` anyways, but this has a couple advantages:\n\n1) It is possible to run *just* `cythonize`, without compiling extension modules.  This maybe isn't that common, but can be useful for development, especially when testing issues with Cython itself.  It will also be useful for generating source distributions, where we might want to ship Cythonized sources in the source tarball, and hence would need to generate them as part of the process of building the tarball (without necessarily compiling).\n\nThis also allows passing options directly from the command-line to `cythonize`.  This isn't much taken advantage of currently but the possibility is there.\n\n2) Code is clearer and more modular.  Specific details for compiling cython code are kept separate from details for compiling C/C++ code.\n\nSee also upstream discussion of a \"generic\" implementation: https://github.com/cython/cython/issues/1514\n\n**CC:**  @mkoeppe\n\n**Keywords:** cython distutils\n\n**Branch/Commit:** [a049f2d968d9ad5d901e68b44d46f1c06b5e747f](https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f)\n\n**Upstream:** Reported upstream. Developers acknowledge bug.\n\n**Reviewer:** Jeroen Demeyer\n\n**Author:** Erik Bray\n\nIssue created by migration from https://trac.sagemath.org/ticket/21682\n\n",
    "closed_at": "2017-04-05T19:38:02Z",
    "created_at": "2016-10-11T15:31:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add a separate \"build_cython\" command to setup.py",
    "type": "issue",
    "updated_at": "2017-04-05T19:38:02Z",
    "url": "https://github.com/sagemath/sage/issues/21682",
    "user": "https://github.com/embray"
}
```
This is a follow-on to #21600.  It adds a new `cythonize` command to the `setup.py`, and moves most of the logic for running `cythonize()` (previously in the customized `build_ext`) command, into this new command.

The new `cythonize` command is run always from `build_ext` anyways, but this has a couple advantages:

1) It is possible to run *just* `cythonize`, without compiling extension modules.  This maybe isn't that common, but can be useful for development, especially when testing issues with Cython itself.  It will also be useful for generating source distributions, where we might want to ship Cythonized sources in the source tarball, and hence would need to generate them as part of the process of building the tarball (without necessarily compiling).

This also allows passing options directly from the command-line to `cythonize`.  This isn't much taken advantage of currently but the possibility is there.

2) Code is clearer and more modular.  Specific details for compiling cython code are kept separate from details for compiling C/C++ code.

See also upstream discussion of a "generic" implementation: https://github.com/cython/cython/issues/1514

**CC:**  @mkoeppe

**Keywords:** cython distutils

**Branch/Commit:** [a049f2d968d9ad5d901e68b44d46f1c06b5e747f](https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f)

**Upstream:** Reported upstream. Developers acknowledge bug.

**Reviewer:** Jeroen Demeyer

**Author:** Erik Bray

Issue created by migration from https://trac.sagemath.org/ticket/21682





---

archive/issue_events_263624.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-11T15:31:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263624"
}
```



---

archive/issue_events_263625.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-11T15:31:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "08517b",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263625"
}
```



---

archive/issue_events_263626.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-10-11T15:31:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263626"
}
```



---

archive/issue_comments_321151.json:
```json
{
    "body": "<a id='comment:1'></a>\nI have a few other to-do issues in this code, but they're not essential.  Not sure if they should be worried about for now, or in a follow-up issue if this code is accepted.",
    "created_at": "2016-10-11T15:32:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321151",
    "user": "https://github.com/embray"
}
```

<a id='comment:1'></a>
I have a few other to-do issues in this code, but they're not essential.  Not sure if they should be worried about for now, or in a follow-up issue if this code is accepted.



---

archive/issue_comments_321152.json:
```json
{
    "body": "<a id='comment:2'></a>\nI suggest that you first discuss this with upstream `cython`.",
    "created_at": "2016-10-11T15:45:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321152",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
I suggest that you first discuss this with upstream `cython`.



---

archive/issue_comments_321153.json:
```json
{
    "body": "**Changing commit** from \"[80955e5be90d0c92061982e062f1cbc7e071ed28](https://github.com/sagemath/sagetrac-mirror/commit/80955e5be90d0c92061982e062f1cbc7e071ed28)\" to \"[487d66adc34cb7c3997c70d4efee4d411a769d18](https://github.com/sagemath/sagetrac-mirror/commit/487d66adc34cb7c3997c70d4efee4d411a769d18)\".",
    "created_at": "2016-11-07T12:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321153",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[80955e5be90d0c92061982e062f1cbc7e071ed28](https://github.com/sagemath/sagetrac-mirror/commit/80955e5be90d0c92061982e062f1cbc7e071ed28)" to "[487d66adc34cb7c3997c70d4efee4d411a769d18](https://github.com/sagemath/sagetrac-mirror/commit/487d66adc34cb7c3997c70d4efee4d411a769d18)".



---

archive/issue_comments_321154.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/487d66adc34cb7c3997c70d4efee4d411a769d18\">487d66a</a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr></table>\n",
    "created_at": "2016-11-07T12:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321154",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/487d66adc34cb7c3997c70d4efee4d411a769d18">487d66a</a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr></table>




---

archive/issue_comments_321155.json:
```json
{
    "body": "<a id='comment:4'></a>\nRebased--I agree this could also be worth bringing upstream in some form, but do you have any other comments?",
    "created_at": "2016-11-07T12:27:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321155",
    "user": "https://github.com/embray"
}
```

<a id='comment:4'></a>
Rebased--I agree this could also be worth bringing upstream in some form, but do you have any other comments?



---

archive/issue_events_263627.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-11-07T12:28:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263627"
}
```



---

archive/issue_comments_321156.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [@embray](#comment%3A4):\n> do you have any other comments?\n\nIt would be better to separate the Sage-specific parts from the general code which could be upstreamed.",
    "created_at": "2016-11-07T12:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321156",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
Replying to [@embray](#comment%3A4):
> do you have any other comments?

It would be better to separate the Sage-specific parts from the general code which could be upstreamed.



---

archive/issue_comments_321157.json:
```json
{
    "body": "**Changing dependencies** from \"#21600\" to \"\".",
    "created_at": "2016-11-07T12:56:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321157",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#21600" to "".



---

archive/issue_comments_321158.json:
```json
{
    "body": "<a id='comment:8'></a>\nBikeshed: since all `build` commands start with `build`, wouldn't this command better be called `build_cython` or something like that?",
    "created_at": "2016-11-07T12:58:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321158",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
Bikeshed: since all `build` commands start with `build`, wouldn't this command better be called `build_cython` or something like that?



---

archive/issue_comments_321159.json:
```json
{
    "body": "<a id='comment:9'></a>\nWhy did you change\n\n```\nos.environ.get('SAGE_DEBUG', None) != 'no'\n```\nto\n\n```\nos.environ.get('SAGE_DEBUG', 'no') != 'no'\n```",
    "created_at": "2016-11-07T13:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321159",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
Why did you change

```
os.environ.get('SAGE_DEBUG', None) != 'no'
```
to

```
os.environ.get('SAGE_DEBUG', 'no') != 'no'
```



---

archive/issue_comments_321160.json:
```json
{
    "body": "<a id='comment:10'></a>\nRegarding this:\n\n```\n    # TODO: This works for the C sources themselves, but this logic\n    # should also apply to Cython sources--shouldn't the be rebuilt\n    # if this file changes?  Alternatively, we could add more details\n    # (e.g. cythonize() flags) to the .cython_version file\n```\nI implemented that dependency on `setup.py` for the C files only because Cythonization does not really depend on `setup.py`.\n\nYou are right that the `cythonize()` flags affect Cythonization, but that is why we have `.cython_version`. But it would indeed be better if `.cython_version` would be more auto-generated with the relevant arguments given to `cythonize()`.",
    "created_at": "2016-11-07T13:12:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321160",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
Regarding this:

```
    # TODO: This works for the C sources themselves, but this logic
    # should also apply to Cython sources--shouldn't the be rebuilt
    # if this file changes?  Alternatively, we could add more details
    # (e.g. cythonize() flags) to the .cython_version file
```
I implemented that dependency on `setup.py` for the C files only because Cythonization does not really depend on `setup.py`.

You are right that the `cythonize()` flags affect Cythonization, but that is why we have `.cython_version`. But it would indeed be better if `.cython_version` would be more auto-generated with the relevant arguments given to `cythonize()`.



---

archive/issue_comments_321161.json:
```json
{
    "body": "<a id='comment:11'></a>\nI would suggest to simplify\n\n```\n        if self.parallel is None:\n            self.parallel = int(os.environ.get('SAGE_NUM_THREADS', 0))\n\n        if isinstance(self.parallel, str):\n            try:\n                self.parallel = int(self.parallel)\n            except ValueError:\n                raise DistutilsOptionError(\"parallel should be an integer\")\n```\nto\n\n```\n        if self.parallel is None:\n            self.parallel = os.environ.get('SAGE_NUM_THREADS', 0)\n\n        try:\n            self.parallel = int(self.parallel)\n        except ValueError:\n            raise DistutilsOptionError(\"parallel should be an integer\")\n```",
    "created_at": "2016-11-07T13:41:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321161",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
I would suggest to simplify

```
        if self.parallel is None:
            self.parallel = int(os.environ.get('SAGE_NUM_THREADS', 0))

        if isinstance(self.parallel, str):
            try:
                self.parallel = int(self.parallel)
            except ValueError:
                raise DistutilsOptionError("parallel should be an integer")
```
to

```
        if self.parallel is None:
            self.parallel = os.environ.get('SAGE_NUM_THREADS', 0)

        try:
            self.parallel = int(self.parallel)
        except ValueError:
            raise DistutilsOptionError("parallel should be an integer")
```



---

archive/issue_comments_321162.json:
```json
{
    "body": "<a id='comment:12'></a>\nIn `finalize_options`, you are setting `build_dir` unconditionally. Does that mean that the `--build-dir` option is ignored?",
    "created_at": "2016-11-07T13:50:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321162",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
In `finalize_options`, you are setting `build_dir` unconditionally. Does that mean that the `--build-dir` option is ignored?



---

archive/issue_comments_321163.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [@jdemeyer](#comment%3A8):\n> Bikeshed: since all `build` commands start with `build`, wouldn't this command better be called `build_cython` or something like that?\n\nI think that was my first inclination as well.  I went with `cythonize` just to emphasize that this was mostly a wrapper around that, but I think you've convinced me (just by confirming my initial idea) over toward `build_cython`",
    "created_at": "2016-11-07T14:40:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321163",
    "user": "https://github.com/embray"
}
```

<a id='comment:13'></a>
Replying to [@jdemeyer](#comment%3A8):
> Bikeshed: since all `build` commands start with `build`, wouldn't this command better be called `build_cython` or something like that?

I think that was my first inclination as well.  I went with `cythonize` just to emphasize that this was mostly a wrapper around that, but I think you've convinced me (just by confirming my initial idea) over toward `build_cython`



---

archive/issue_comments_321164.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [@jdemeyer](#comment%3A9):\n> Why did you change\n> \n> ```\n> os.environ.get('SAGE_DEBUG', None) != 'no'\n> ```\n> to\n> \n> ```\n> os.environ.get('SAGE_DEBUG', 'no') != 'no'\n> ```\n\nI don't think I meant to.  I think originally it *was* `os.environ.get('SAGE_DEBUG', 'no')` and the fact that it's changed now might be a symptom of rebasing.  I'll fix that.  I definitely like the current spelling better.",
    "created_at": "2016-11-07T14:42:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321164",
    "user": "https://github.com/embray"
}
```

<a id='comment:14'></a>
Replying to [@jdemeyer](#comment%3A9):
> Why did you change
> 
> ```
> os.environ.get('SAGE_DEBUG', None) != 'no'
> ```
> to
> 
> ```
> os.environ.get('SAGE_DEBUG', 'no') != 'no'
> ```

I don't think I meant to.  I think originally it *was* `os.environ.get('SAGE_DEBUG', 'no')` and the fact that it's changed now might be a symptom of rebasing.  I'll fix that.  I definitely like the current spelling better.



---

archive/issue_comments_321165.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [@jdemeyer](#comment%3A11):\n> I would suggest to simplify\n> \n> ```\n>         if self.parallel is None:\n>             self.parallel = int(os.environ.get('SAGE_NUM_THREADS', 0))\n> \n>         if isinstance(self.parallel, str):\n>             try:\n>                 self.parallel = int(self.parallel)\n>             except ValueError:\n>                 raise DistutilsOptionError(\"parallel should be an integer\")\n> ```\n> to\n> \n> ```\n>         if self.parallel is None:\n>             self.parallel = os.environ.get('SAGE_NUM_THREADS', 0)\n> \n>         try:\n>             self.parallel = int(self.parallel)\n>         except ValueError:\n>             raise DistutilsOptionError(\"parallel should be an integer\")\n> ```\n\nAgreed",
    "created_at": "2016-11-07T14:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321165",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'></a>
Replying to [@jdemeyer](#comment%3A11):
> I would suggest to simplify
> 
> ```
>         if self.parallel is None:
>             self.parallel = int(os.environ.get('SAGE_NUM_THREADS', 0))
> 
>         if isinstance(self.parallel, str):
>             try:
>                 self.parallel = int(self.parallel)
>             except ValueError:
>                 raise DistutilsOptionError("parallel should be an integer")
> ```
> to
> 
> ```
>         if self.parallel is None:
>             self.parallel = os.environ.get('SAGE_NUM_THREADS', 0)
> 
>         try:
>             self.parallel = int(self.parallel)
>         except ValueError:
>             raise DistutilsOptionError("parallel should be an integer")
> ```

Agreed



---

archive/issue_comments_321166.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [@jdemeyer](#comment%3A12):\n> In `finalize_options`, you are setting `build_dir` unconditionally. Does that mean that the `--build-dir` option is ignored?\n\nYes, IIRC that was in anticipation of fixing #21535, but I left the actual value hard-coded for now so as to not change existing behavior (since currently setting it to anything else will break other things that hard-code `SAGE_CYTHONIZED`).  For the purposes of this ticket as a stand-alone enhancement that is confusing though.  I could leave the internal `build_dir` attribute for now and just get rid of the user option (temporarily).",
    "created_at": "2016-11-07T14:48:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321166",
    "user": "https://github.com/embray"
}
```

<a id='comment:16'></a>
Replying to [@jdemeyer](#comment%3A12):
> In `finalize_options`, you are setting `build_dir` unconditionally. Does that mean that the `--build-dir` option is ignored?

Yes, IIRC that was in anticipation of fixing #21535, but I left the actual value hard-coded for now so as to not change existing behavior (since currently setting it to anything else will break other things that hard-code `SAGE_CYTHONIZED`).  For the purposes of this ticket as a stand-alone enhancement that is confusing though.  I could leave the internal `build_dir` attribute for now and just get rid of the user option (temporarily).



---

archive/issue_comments_321167.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [@embray](#comment%3A14):\n> I definitely like the current spelling better.\n\nIt's not just a matter of spelling. It is a functional difference.",
    "created_at": "2016-11-07T15:01:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321167",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
Replying to [@embray](#comment%3A14):
> I definitely like the current spelling better.

It's not just a matter of spelling. It is a functional difference.



---

archive/issue_comments_321168.json:
```json
{
    "body": "<a id='comment:18'></a>\nFor history about this `os.environ.get('SAGE_DEBUG', None)`, see #13881.",
    "created_at": "2016-11-07T15:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321168",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>
For history about this `os.environ.get('SAGE_DEBUG', None)`, see #13881.



---

archive/issue_comments_321169.json:
```json
{
    "body": "<a id='comment:19'></a>\nI agree, I wasn't being flippant :)",
    "created_at": "2016-11-07T15:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321169",
    "user": "https://github.com/embray"
}
```

<a id='comment:19'></a>
I agree, I wasn't being flippant :)



---

archive/issue_comments_321170.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [@jdemeyer](#comment%3A10):\n> Regarding this:\n> \n> ```\n>     # TODO: This works for the C sources themselves, but this logic\n>     # should also apply to Cython sources--shouldn't the be rebuilt\n>     # if this file changes?  Alternatively, we could add more details\n>     # (e.g. cythonize() flags) to the .cython_version file\n> ```\n> I implemented that dependency on `setup.py` for the C files only because Cythonization does not really depend on `setup.py`.\n> \n> You are right that the `cythonize()` flags affect Cythonization, but that is why we have `.cython_version`. But it would indeed be better if `.cython_version` would be more auto-generated with the relevant arguments given to `cythonize()`.\n\nWhat if we made a \"version 2\" `.cython_version` (with backwards compat for the old format of course), with a new format in JSON that can accurately reflect the options passed to `cythonize()`?",
    "created_at": "2016-11-07T15:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321170",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'></a>
Replying to [@jdemeyer](#comment%3A10):
> Regarding this:
> 
> ```
>     # TODO: This works for the C sources themselves, but this logic
>     # should also apply to Cython sources--shouldn't the be rebuilt
>     # if this file changes?  Alternatively, we could add more details
>     # (e.g. cythonize() flags) to the .cython_version file
> ```
> I implemented that dependency on `setup.py` for the C files only because Cythonization does not really depend on `setup.py`.
> 
> You are right that the `cythonize()` flags affect Cythonization, but that is why we have `.cython_version`. But it would indeed be better if `.cython_version` would be more auto-generated with the relevant arguments given to `cythonize()`.

What if we made a "version 2" `.cython_version` (with backwards compat for the old format of course), with a new format in JSON that can accurately reflect the options passed to `cythonize()`?



---

archive/issue_comments_321171.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [@embray](#comment%3A20):\n> What if we made a \"version 2\" `.cython_version` (with backwards compat for the old format of course), with a new format in JSON that can accurately reflect the options passed to `cythonize()`?\n\nI think that's a good idea. But that should be an independent ticket. I don't see the need for the \"backwards compat for the old format\" though.",
    "created_at": "2016-11-07T15:43:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321171",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>
Replying to [@embray](#comment%3A20):
> What if we made a "version 2" `.cython_version` (with backwards compat for the old format of course), with a new format in JSON that can accurately reflect the options passed to `cythonize()`?

I think that's a good idea. But that should be an independent ticket. I don't see the need for the "backwards compat for the old format" though.



---

archive/issue_comments_321172.json:
```json
{
    "body": "**Upstream:** Reported upstream. No feedback yet.",
    "created_at": "2016-11-07T15:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321172",
    "user": "https://github.com/embray"
}
```

**Upstream:** Reported upstream. No feedback yet.



---

archive/issue_comments_321173.json:
```json
{
    "body": "<a id='comment:22'></a>\nOpened an upstream issue at https://github.com/cython/cython/issues/1514\n\nA generic build_cython command could take most any `cythonize()` arguments as options.  A sage-specific wrapper around that would just be setting (or possibly enforcing) certain defaults.",
    "created_at": "2016-11-07T15:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321173",
    "user": "https://github.com/embray"
}
```

<a id='comment:22'></a>
Opened an upstream issue at https://github.com/cython/cython/issues/1514

A generic build_cython command could take most any `cythonize()` arguments as options.  A sage-specific wrapper around that would just be setting (or possibly enforcing) certain defaults.



---

archive/issue_comments_321174.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,3 +7,5 @@\n This also allows passing options directly from the command-line to `cythonize`.  This isn't much taken advantage of currently but the possibility is there.\n \n 2) Code is clearer and more modular.  Specific details for compiling cython code are kept separate from details for compiling C/C++ code.\n+\n+See also upstream discussion of a \"generic\" implementation: https://github.com/cython/cython/issues/1514\n``````\n",
    "created_at": "2016-11-07T15:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321174",
    "user": "https://github.com/embray"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,3 +7,5 @@
 This also allows passing options directly from the command-line to `cythonize`.  This isn't much taken advantage of currently but the possibility is there.
 
 2) Code is clearer and more modular.  Specific details for compiling cython code are kept separate from details for compiling C/C++ code.
+
+See also upstream discussion of a "generic" implementation: https://github.com/cython/cython/issues/1514
``````




---

archive/issue_comments_321175.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [@jdemeyer](#comment%3A21):\n> Replying to [@embray](#comment%3A20):\n> > What if we made a \"version 2\" `.cython_version` (with backwards compat for the old format of course), with a new format in JSON that can accurately reflect the options passed to `cythonize()`?\n\n> \n> I think that's a good idea. But that should be an independent ticket. I don't see the need for the \"backwards compat for the old format\" though.\n\nAgree it's a separate issue.  As for backwards-compat, it at least needs to fail gracefully if the existing file is not in the new format, and rebuild + regenerate the file but that's fine.",
    "created_at": "2016-11-07T15:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321175",
    "user": "https://github.com/embray"
}
```

<a id='comment:23'></a>
Replying to [@jdemeyer](#comment%3A21):
> Replying to [@embray](#comment%3A20):
> > What if we made a "version 2" `.cython_version` (with backwards compat for the old format of course), with a new format in JSON that can accurately reflect the options passed to `cythonize()`?

> 
> I think that's a good idea. But that should be an independent ticket. I don't see the need for the "backwards compat for the old format" though.

Agree it's a separate issue.  As for backwards-compat, it at least needs to fail gracefully if the existing file is not in the new format, and rebuild + regenerate the file but that's fine.



---

archive/issue_events_263628.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-11-07T16:02:19Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "rename": {
        "from": "Add a separate \"cythonize\" command to setup.py",
        "to": "Add a separate \"build_cython\" command to setup.py"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263628"
}
```



---

archive/issue_comments_321176.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [@jdemeyer](#comment%3A9):\n> Why did you change\n> \n> ```\n> os.environ.get('SAGE_DEBUG', None) != 'no'\n> ```\n> to\n> \n> ```\n> os.environ.get('SAGE_DEBUG', 'no') != 'no'\n> ```\n\nActually, just to make sure I'm clear about this, is the point that debug should be enabled *by default* if SAGE_DEBUG is not explicitly set to \"no\"?",
    "created_at": "2016-11-08T12:11:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321176",
    "user": "https://github.com/embray"
}
```

<a id='comment:25'></a>
Replying to [@jdemeyer](#comment%3A9):
> Why did you change
> 
> ```
> os.environ.get('SAGE_DEBUG', None) != 'no'
> ```
> to
> 
> ```
> os.environ.get('SAGE_DEBUG', 'no') != 'no'
> ```

Actually, just to make sure I'm clear about this, is the point that debug should be enabled *by default* if SAGE_DEBUG is not explicitly set to "no"?



---

archive/issue_comments_321177.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [@embray](#comment%3A25):\n> Actually, just to make sure I'm clear about this, is the point that debug should be enabled *by default* if SAGE_DEBUG is not explicitly set to \"no\"?\n\nExactly.",
    "created_at": "2016-11-08T12:54:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321177",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>
Replying to [@embray](#comment%3A25):
> Actually, just to make sure I'm clear about this, is the point that debug should be enabled *by default* if SAGE_DEBUG is not explicitly set to "no"?

Exactly.



---

archive/issue_comments_321178.json:
```json
{
    "body": "<a id='comment:27'></a>\nI'm not sure how I feel about that--it goes against the default for building extension modules which is that the `--debug` option is not on by default.  I'd be happy to change that in Sage's build_* commands, but it should be changed across the board, and a `--no-debug` option to turn it off is added.  But it would be simpler to not make it the default.\n\nInstead, if we want to enable debug by default (which I agree is the best choice for development) we can either add it in the setup.cfg (but it would have to be removed when making a release) or in your local pydistutils.cfg.  \n\nOr am I missing something here?",
    "created_at": "2016-11-08T12:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321178",
    "user": "https://github.com/embray"
}
```

<a id='comment:27'></a>
I'm not sure how I feel about that--it goes against the default for building extension modules which is that the `--debug` option is not on by default.  I'd be happy to change that in Sage's build_* commands, but it should be changed across the board, and a `--no-debug` option to turn it off is added.  But it would be simpler to not make it the default.

Instead, if we want to enable debug by default (which I agree is the best choice for development) we can either add it in the setup.cfg (but it would have to be removed when making a release) or in your local pydistutils.cfg.  

Or am I missing something here?



---

archive/issue_comments_321179.json:
```json
{
    "body": "<a id='comment:28'></a>\n(I realize that the \"gdb_debug\" option for Cythonize and the \"debug\" option for building C sources are not the same thing, but they also kind of go hand-in-hand).",
    "created_at": "2016-11-08T12:59:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321179",
    "user": "https://github.com/embray"
}
```

<a id='comment:28'></a>
(I realize that the "gdb_debug" option for Cythonize and the "debug" option for building C sources are not the same thing, but they also kind of go hand-in-hand).



---

archive/issue_comments_321180.json:
```json
{
    "body": "<a id='comment:29'></a>\nNevermind--I read the docs for `SAGE_DEBUG` and that gave me a better understanding.  I'll play around a bit more with how the command-line option works, but I agree that the behavior you requested is consistent with how the `SAGE_DEBUG` environment variable itself should be interpreted.\n\nI think for the `build_cython` command I'll remove the `--debug` option entirely, and make `gdb_debug=True` by default pending the value of `SAGE_DEBUG` (that is, identical to the previous behavior).  There's no huge advantage to having an option to explicitly disable it.",
    "created_at": "2016-11-08T13:04:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321180",
    "user": "https://github.com/embray"
}
```

<a id='comment:29'></a>
Nevermind--I read the docs for `SAGE_DEBUG` and that gave me a better understanding.  I'll play around a bit more with how the command-line option works, but I agree that the behavior you requested is consistent with how the `SAGE_DEBUG` environment variable itself should be interpreted.

I think for the `build_cython` command I'll remove the `--debug` option entirely, and make `gdb_debug=True` by default pending the value of `SAGE_DEBUG` (that is, identical to the previous behavior).  There's no huge advantage to having an option to explicitly disable it.



---

archive/issue_comments_321181.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ccd15c1ef7021d7586e0213bc605fe0a359abce\">4ccd15c</a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15c76614f943c342f40a1a2963f8b69983909490\">15c7661</a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56df3cd6c19c23d0961effbc4cfbe50d3f594c21\">56df3cd</a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56695aa5e4ebac5fa4fbe32a07e8b865a460feb1\">56695aa</a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr></table>\n",
    "created_at": "2016-11-08T13:23:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321181",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ccd15c1ef7021d7586e0213bc605fe0a359abce">4ccd15c</a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15c76614f943c342f40a1a2963f8b69983909490">15c7661</a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56df3cd6c19c23d0961effbc4cfbe50d3f594c21">56df3cd</a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56695aa5e4ebac5fa4fbe32a07e8b865a460feb1">56695aa</a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr></table>




---

archive/issue_comments_321182.json:
```json
{
    "body": "**Changing commit** from \"[487d66adc34cb7c3997c70d4efee4d411a769d18](https://github.com/sagemath/sagetrac-mirror/commit/487d66adc34cb7c3997c70d4efee4d411a769d18)\" to \"[56695aa5e4ebac5fa4fbe32a07e8b865a460feb1](https://github.com/sagemath/sagetrac-mirror/commit/56695aa5e4ebac5fa4fbe32a07e8b865a460feb1)\".",
    "created_at": "2016-11-08T13:23:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321182",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[487d66adc34cb7c3997c70d4efee4d411a769d18](https://github.com/sagemath/sagetrac-mirror/commit/487d66adc34cb7c3997c70d4efee4d411a769d18)" to "[56695aa5e4ebac5fa4fbe32a07e8b865a460feb1](https://github.com/sagemath/sagetrac-mirror/commit/56695aa5e4ebac5fa4fbe32a07e8b865a460feb1)".



---

archive/issue_comments_321183.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [@embray](#comment%3A27):\n> I'm not sure how I feel about that--it goes against the default for building extension modules which is that the `--debug` option is not on by default.\n\nIn practice, `--debug` is the default because Python compiles by default with `-g` (even twice!). The *default* gcc command line starts with\n\n```\ngcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC\n```\n(Sage adds the `-Wno-unused` flag to this and removes `-Wstrict-prototypes`)\n\nAdding the `--debug` option to distutils adds an *additional* `-g` but that doesn't change anything really.",
    "created_at": "2016-11-08T13:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321183",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'></a>
Replying to [@embray](#comment%3A27):
> I'm not sure how I feel about that--it goes against the default for building extension modules which is that the `--debug` option is not on by default.

In practice, `--debug` is the default because Python compiles by default with `-g` (even twice!). The *default* gcc command line starts with

```
gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC
```
(Sage adds the `-Wno-unused` flag to this and removes `-Wstrict-prototypes`)

Adding the `--debug` option to distutils adds an *additional* `-g` but that doesn't change anything really.



---

archive/issue_comments_321184.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [@embray](#comment%3A29):\n> There's no huge advantage to having an option to explicitly disable it.\n\nThe only potential advantage would be disk space (and maybe build time).",
    "created_at": "2016-11-08T13:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321184",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>
Replying to [@embray](#comment%3A29):
> There's no huge advantage to having an option to explicitly disable it.

The only potential advantage would be disk space (and maybe build time).



---

archive/issue_comments_321185.json:
```json
{
    "body": "<a id='comment:34'></a>\nI recently did some work on the `setup.py` for `cysignals` and I realized that it makes the most sense to run Cython as *first* build command, before `build_py`. This is because `build_py` handles `package_data` and we may want to handle Cython-generated files as `package_data` some day (see #20108).\n\nFor this reason, in `cysignals` I decided to run Cython in the base `build` command.",
    "created_at": "2016-11-22T16:44:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321185",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'></a>
I recently did some work on the `setup.py` for `cysignals` and I realized that it makes the most sense to run Cython as *first* build command, before `build_py`. This is because `build_py` handles `package_data` and we may want to handle Cython-generated files as `package_data` some day (see #20108).

For this reason, in `cysignals` I decided to run Cython in the base `build` command.



---

archive/issue_comments_321186.json:
```json
{
    "body": "<a id='comment:35'></a>\nI see--that does make sense.  It simplifies things too--we can just insert `build_cython` into the front of the `build` sub-commands list.",
    "created_at": "2016-11-23T11:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321186",
    "user": "https://github.com/embray"
}
```

<a id='comment:35'></a>
I see--that does make sense.  It simplifies things too--we can just insert `build_cython` into the front of the `build` sub-commands list.



---

archive/issue_comments_321187.json:
```json
{
    "body": "<a id='comment:36'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0d57dcf36355100b4dfbb6bdef4aad42359eca3\">a0d57dc</a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>\n",
    "created_at": "2016-11-23T11:08:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321187",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:36'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0d57dcf36355100b4dfbb6bdef4aad42359eca3">a0d57dc</a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>




---

archive/issue_comments_321188.json:
```json
{
    "body": "**Changing commit** from \"[56695aa5e4ebac5fa4fbe32a07e8b865a460feb1](https://github.com/sagemath/sagetrac-mirror/commit/56695aa5e4ebac5fa4fbe32a07e8b865a460feb1)\" to \"[a0d57dcf36355100b4dfbb6bdef4aad42359eca3](https://github.com/sagemath/sagetrac-mirror/commit/a0d57dcf36355100b4dfbb6bdef4aad42359eca3)\".",
    "created_at": "2016-11-23T11:08:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321188",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[56695aa5e4ebac5fa4fbe32a07e8b865a460feb1](https://github.com/sagemath/sagetrac-mirror/commit/56695aa5e4ebac5fa4fbe32a07e8b865a460feb1)" to "[a0d57dcf36355100b4dfbb6bdef4aad42359eca3](https://github.com/sagemath/sagetrac-mirror/commit/a0d57dcf36355100b4dfbb6bdef4aad42359eca3)".



---

archive/issue_events_263629.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-12-08T19:40:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263629"
}
```



---

archive/issue_events_263630.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-12-08T19:40:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263630"
}
```



---

archive/issue_comments_321189.json:
```json
{
    "body": "**Work Issues:** rebasing",
    "created_at": "2016-12-08T19:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321189",
    "user": "https://github.com/mkoeppe"
}
```

**Work Issues:** rebasing



---

archive/issue_comments_321190.json:
```json
{
    "body": "**Changing commit** from \"[a0d57dcf36355100b4dfbb6bdef4aad42359eca3](https://github.com/sagemath/sagetrac-mirror/commit/a0d57dcf36355100b4dfbb6bdef4aad42359eca3)\" to \"[aaa6d38cbf84549edc720727fd3a81df22329463](https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463)\".",
    "created_at": "2016-12-09T12:45:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321190",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[a0d57dcf36355100b4dfbb6bdef4aad42359eca3](https://github.com/sagemath/sagetrac-mirror/commit/a0d57dcf36355100b4dfbb6bdef4aad42359eca3)" to "[aaa6d38cbf84549edc720727fd3a81df22329463](https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463)".



---

archive/issue_comments_321191.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fc2dd6566f92e3c2f1ca59648aeb18a7a5d4c91\">4fc2dd6</a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c647256e43e00f03d8a5d92b8e16f45fc853f4ca\">c647256</a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbb28d4333100677ff9e0c70591338894a9dd67c\">dbb28d4</a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14b70cf8da4407ec8aa568d62f00cc4a83fb1460\">14b70cf</a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb28c9de93319cfa1b18a9e2426ddd9d25e29b46\">eb28c9d</a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463\">aaa6d38</a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>\n",
    "created_at": "2016-12-09T12:45:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321191",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fc2dd6566f92e3c2f1ca59648aeb18a7a5d4c91">4fc2dd6</a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c647256e43e00f03d8a5d92b8e16f45fc853f4ca">c647256</a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbb28d4333100677ff9e0c70591338894a9dd67c">dbb28d4</a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14b70cf8da4407ec8aa568d62f00cc4a83fb1460">14b70cf</a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb28c9de93319cfa1b18a9e2426ddd9d25e29b46">eb28c9d</a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463">aaa6d38</a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>




---

archive/issue_comments_321192.json:
```json
{
    "body": "<a id='comment:39'></a>\nRebased\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fc2dd6566f92e3c2f1ca59648aeb18a7a5d4c91\">4fc2dd6</a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c647256e43e00f03d8a5d92b8e16f45fc853f4ca\">c647256</a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbb28d4333100677ff9e0c70591338894a9dd67c\">dbb28d4</a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14b70cf8da4407ec8aa568d62f00cc4a83fb1460\">14b70cf</a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb28c9de93319cfa1b18a9e2426ddd9d25e29b46\">eb28c9d</a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463\">aaa6d38</a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>\n",
    "created_at": "2016-12-09T12:46:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321192",
    "user": "https://github.com/embray"
}
```

<a id='comment:39'></a>
Rebased

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fc2dd6566f92e3c2f1ca59648aeb18a7a5d4c91">4fc2dd6</a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c647256e43e00f03d8a5d92b8e16f45fc853f4ca">c647256</a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbb28d4333100677ff9e0c70591338894a9dd67c">dbb28d4</a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14b70cf8da4407ec8aa568d62f00cc4a83fb1460">14b70cf</a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb28c9de93319cfa1b18a9e2426ddd9d25e29b46">eb28c9d</a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463">aaa6d38</a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>




---

archive/issue_events_263631.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-12-09T12:46:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263631"
}
```



---

archive/issue_events_263632.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-12-09T12:46:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263632"
}
```



---

archive/issue_comments_321193.json:
```json
{
    "body": "**Changing work issues** from \"rebasing\" to \"\".",
    "created_at": "2016-12-09T12:46:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321193",
    "user": "https://github.com/embray"
}
```

**Changing work issues** from "rebasing" to "".



---

archive/issue_events_263633.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-12-29T12:29:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263633"
}
```



---

archive/issue_events_263634.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-12-29T12:29:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263634"
}
```



---

archive/issue_comments_321194.json:
```json
{
    "body": "<a id='comment:40'></a>\nNeeds rebasing, and should work with #21682",
    "created_at": "2016-12-29T12:29:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321194",
    "user": "https://github.com/embray"
}
```

<a id='comment:40'></a>
Needs rebasing, and should work with #21682



---

archive/issue_comments_321195.json:
```json
{
    "body": "<a id='comment:41'></a>\nYou mean #22106?",
    "created_at": "2016-12-29T17:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321195",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>
You mean #22106?



---

archive/issue_comments_321196.json:
```json
{
    "body": "**Dependencies:** #22106",
    "created_at": "2016-12-30T11:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321196",
    "user": "https://github.com/embray"
}
```

**Dependencies:** #22106



---

archive/issue_comments_321197.json:
```json
{
    "body": "<a id='comment:42'></a>\nYes, I meant #22106.  Thanks for the catch.",
    "created_at": "2016-12-30T11:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321197",
    "user": "https://github.com/embray"
}
```

<a id='comment:42'></a>
Yes, I meant #22106.  Thanks for the catch.



---

archive/issue_comments_321198.json:
```json
{
    "body": "<a id='comment:43'></a>\nAh, since #22106 is at least in \"positive review\" status I should rebase this on it.",
    "created_at": "2017-03-29T15:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321198",
    "user": "https://github.com/embray"
}
```

<a id='comment:43'></a>
Ah, since #22106 is at least in "positive review" status I should rebase this on it.



---

archive/issue_comments_321199.json:
```json
{
    "body": "**Changing commit** from \"[aaa6d38cbf84549edc720727fd3a81df22329463](https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463)\" to \"[a7e548b5f4e2c1dded48326d50363764f652aa1b](https://github.com/sagemath/sagetrac-mirror/commit/a7e548b5f4e2c1dded48326d50363764f652aa1b)\".",
    "created_at": "2017-03-29T15:45:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321199",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[aaa6d38cbf84549edc720727fd3a81df22329463](https://github.com/sagemath/sagetrac-mirror/commit/aaa6d38cbf84549edc720727fd3a81df22329463)" to "[a7e548b5f4e2c1dded48326d50363764f652aa1b](https://github.com/sagemath/sagetrac-mirror/commit/a7e548b5f4e2c1dded48326d50363764f652aa1b)".



---

archive/issue_comments_321200.json:
```json
{
    "body": "<a id='comment:44'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bb5e73032c4da6f6d9851ee908efbc2eb239c2b\">3bb5e73</a></td><td><code>Generate auto-generated sources as the earliest step in the 'build' command.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1286549a6568d268e6f97232221ab44cbd6ea2ea\">1286549</a></td><td><code>Cosmetic changes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57757886e033fd4883354e7655dfa96bcaf71230\">5775788</a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9f6d94c58c2a85498d484deaa15c8a7ab27ded6\">f9f6d94</a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dd6fe7d1ac3b04ab78817490cc639fe76306d6e\">2dd6fe7</a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac28d2d41c80cb07aa40c863d6a4f86c5b619c31\">ac28d2d</a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97fadcb0f6d9675789cc3e768822b3fbba9d33a5\">97fadcb</a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7e548b5f4e2c1dded48326d50363764f652aa1b\">a7e548b</a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>\n",
    "created_at": "2017-03-29T15:45:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321200",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:44'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bb5e73032c4da6f6d9851ee908efbc2eb239c2b">3bb5e73</a></td><td><code>Generate auto-generated sources as the earliest step in the 'build' command.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1286549a6568d268e6f97232221ab44cbd6ea2ea">1286549</a></td><td><code>Cosmetic changes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57757886e033fd4883354e7655dfa96bcaf71230">5775788</a></td><td><code>Add a new 'cythonize' command to setup.py to logically separate out the cythonization step.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9f6d94c58c2a85498d484deaa15c8a7ab27ded6">f9f6d94</a></td><td><code>Rename 'cythonize' command to 'build_cython' per [#21682 comment:13](https://github.com/sagemath/sage/issues/21682#comment:13)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dd6fe7d1ac3b04ab78817490cc639fe76306d6e">2dd6fe7</a></td><td><code>Slightly simpler logic for handling the parallel option</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac28d2d41c80cb07aa40c863d6a4f86c5b619c31">ac28d2d</a></td><td><code>Temporarily disable this user option since its value is hard-coded</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97fadcb0f6d9675789cc3e768822b3fbba9d33a5">97fadcb</a></td><td><code>Remove --debug option since there's no reason not to produce debugging output unless SAGE_DEBUG=no</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7e548b5f4e2c1dded48326d50363764f652aa1b">a7e548b</a></td><td><code>Simply insert build_cython in the front of the build sub_commands list.</code></td></tr></table>




---

archive/issue_comments_321201.json:
```json
{
    "body": "<a id='comment:45'></a>\nRebased this on top of the current branch for #22106, which should be good to merge it looks like.\n\nOther than the rebasing I don't think this needed any additional work.",
    "created_at": "2017-03-29T15:46:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321201",
    "user": "https://github.com/embray"
}
```

<a id='comment:45'></a>
Rebased this on top of the current branch for #22106, which should be good to merge it looks like.

Other than the rebasing I don't think this needed any additional work.



---

archive/issue_events_263635.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-29T15:46:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263635"
}
```



---

archive/issue_events_263636.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-29T15:46:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263636"
}
```



---

archive/issue_comments_321202.json:
```json
{
    "body": "**Changing branch** from \"[u/embray/cythonize-command](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cythonize-command)\" to \"[u/jdemeyer/cythonize-command](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cythonize-command)\".",
    "created_at": "2017-04-01T15:29:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321202",
    "user": "https://github.com/jdemeyer"
}
```

**Changing branch** from "[u/embray/cythonize-command](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cythonize-command)" to "[u/jdemeyer/cythonize-command](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cythonize-command)".



---

archive/issue_comments_321203.json:
```json
{
    "body": "<a id='comment:47'></a>\nMerged with `8.0.beta0`\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdb2f8934240777310aeb2116919a3b74848a9fc\">cdb2f89</a></td><td><code>Merge tag '8.0.beta0' into t/21682/cythonize-command</code></td></tr></table>\n",
    "created_at": "2017-04-01T15:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321203",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:47'></a>
Merged with `8.0.beta0`

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdb2f8934240777310aeb2116919a3b74848a9fc">cdb2f89</a></td><td><code>Merge tag '8.0.beta0' into t/21682/cythonize-command</code></td></tr></table>




---

archive/issue_comments_321204.json:
```json
{
    "body": "**Changing dependencies** from \"#22106\" to \"\".",
    "created_at": "2017-04-01T15:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321204",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#22106" to "".



---

archive/issue_comments_321205.json:
```json
{
    "body": "**Changing commit** from \"[a7e548b5f4e2c1dded48326d50363764f652aa1b](https://github.com/sagemath/sagetrac-mirror/commit/a7e548b5f4e2c1dded48326d50363764f652aa1b)\" to \"[cdb2f8934240777310aeb2116919a3b74848a9fc](https://github.com/sagemath/sagetrac-mirror/commit/cdb2f8934240777310aeb2116919a3b74848a9fc)\".",
    "created_at": "2017-04-01T15:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321205",
    "user": "https://github.com/jdemeyer"
}
```

**Changing commit** from "[a7e548b5f4e2c1dded48326d50363764f652aa1b](https://github.com/sagemath/sagetrac-mirror/commit/a7e548b5f4e2c1dded48326d50363764f652aa1b)" to "[cdb2f8934240777310aeb2116919a3b74848a9fc](https://github.com/sagemath/sagetrac-mirror/commit/cdb2f8934240777310aeb2116919a3b74848a9fc)".



---

archive/issue_comments_321206.json:
```json
{
    "body": "<a id='comment:48'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/327108a7f6ecde89f7bc6a16a580d642f5f76018\">327108a</a></td><td><code>Add missing \"mkpath\"</code></td></tr></table>\n",
    "created_at": "2017-04-01T16:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321206",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:48'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/327108a7f6ecde89f7bc6a16a580d642f5f76018">327108a</a></td><td><code>Add missing "mkpath"</code></td></tr></table>




---

archive/issue_comments_321207.json:
```json
{
    "body": "**Changing commit** from \"[cdb2f8934240777310aeb2116919a3b74848a9fc](https://github.com/sagemath/sagetrac-mirror/commit/cdb2f8934240777310aeb2116919a3b74848a9fc)\" to \"[327108a7f6ecde89f7bc6a16a580d642f5f76018](https://github.com/sagemath/sagetrac-mirror/commit/327108a7f6ecde89f7bc6a16a580d642f5f76018)\".",
    "created_at": "2017-04-01T16:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321207",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[cdb2f8934240777310aeb2116919a3b74848a9fc](https://github.com/sagemath/sagetrac-mirror/commit/cdb2f8934240777310aeb2116919a3b74848a9fc)" to "[327108a7f6ecde89f7bc6a16a580d642f5f76018](https://github.com/sagemath/sagetrac-mirror/commit/327108a7f6ecde89f7bc6a16a580d642f5f76018)".



---

archive/issue_comments_321208.json:
```json
{
    "body": "**Changing upstream** from \"Reported upstream. No feedback yet.\" to \"Reported upstream. Developers acknowledge bug.\".",
    "created_at": "2017-04-01T16:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321208",
    "user": "https://github.com/jdemeyer"
}
```

**Changing upstream** from "Reported upstream. No feedback yet." to "Reported upstream. Developers acknowledge bug.".



---

archive/issue_comments_321209.json:
```json
{
    "body": "**Changing commit** from \"[327108a7f6ecde89f7bc6a16a580d642f5f76018](https://github.com/sagemath/sagetrac-mirror/commit/327108a7f6ecde89f7bc6a16a580d642f5f76018)\" to \"[e3465ea9e22a0863ccd69bdc3bd28151166926cb](https://github.com/sagemath/sagetrac-mirror/commit/e3465ea9e22a0863ccd69bdc3bd28151166926cb)\".",
    "created_at": "2017-04-01T16:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321209",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[327108a7f6ecde89f7bc6a16a580d642f5f76018](https://github.com/sagemath/sagetrac-mirror/commit/327108a7f6ecde89f7bc6a16a580d642f5f76018)" to "[e3465ea9e22a0863ccd69bdc3bd28151166926cb](https://github.com/sagemath/sagetrac-mirror/commit/e3465ea9e22a0863ccd69bdc3bd28151166926cb)".



---

archive/issue_comments_321210.json:
```json
{
    "body": "<a id='comment:50'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3465ea9e22a0863ccd69bdc3bd28151166926cb\">e3465ea</a></td><td><code>No need to use build_ext to get the list of extensions</code></td></tr></table>\n",
    "created_at": "2017-04-01T16:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321210",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:50'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3465ea9e22a0863ccd69bdc3bd28151166926cb">e3465ea</a></td><td><code>No need to use build_ext to get the list of extensions</code></td></tr></table>




---

archive/issue_comments_321211.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer",
    "created_at": "2017-04-02T07:40:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321211",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Jeroen Demeyer



---

archive/issue_comments_321212.json:
```json
{
    "body": "<a id='comment:51'></a>\nErik, I'm happy with this. If you like my changes, you can set this to positive_review.",
    "created_at": "2017-04-02T07:40:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321212",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:51'></a>
Erik, I'm happy with this. If you like my changes, you can set this to positive_review.



---

archive/issue_events_263637.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-04-03T06:58:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263637"
}
```



---

archive/issue_events_263638.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-04-03T06:58:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263638"
}
```



---

archive/issue_comments_321213.json:
```json
{
    "body": "<a id='comment:52'></a>\nI'm happy with the last change except in the `sage_build_cython.initialize_options` it should also set `self.extensions = None`.  I know, it's a bit silly, but I like to stick to the convention on this. (The reason for this convention has to do with how distutils commands can set their options from options on other commands, i.e. `self.set_undefined_options`. No, it's not likely to be used this way here, but I do also like that documents what attributes *should* be set on the finalized command.)",
    "created_at": "2017-04-03T06:58:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321213",
    "user": "https://github.com/embray"
}
```

<a id='comment:52'></a>
I'm happy with the last change except in the `sage_build_cython.initialize_options` it should also set `self.extensions = None`.  I know, it's a bit silly, but I like to stick to the convention on this. (The reason for this convention has to do with how distutils commands can set their options from options on other commands, i.e. `self.set_undefined_options`. No, it's not likely to be used this way here, but I do also like that documents what attributes *should* be set on the finalized command.)



---

archive/issue_comments_321214.json:
```json
{
    "body": "**Changing commit** from \"[e3465ea9e22a0863ccd69bdc3bd28151166926cb](https://github.com/sagemath/sagetrac-mirror/commit/e3465ea9e22a0863ccd69bdc3bd28151166926cb)\" to \"[a049f2d968d9ad5d901e68b44d46f1c06b5e747f](https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f)\".",
    "created_at": "2017-04-03T08:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321214",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[e3465ea9e22a0863ccd69bdc3bd28151166926cb](https://github.com/sagemath/sagetrac-mirror/commit/e3465ea9e22a0863ccd69bdc3bd28151166926cb)" to "[a049f2d968d9ad5d901e68b44d46f1c06b5e747f](https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f)".



---

archive/issue_comments_321215.json:
```json
{
    "body": "<a id='comment:53'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f\">a049f2d</a></td><td><code>Set self.extensions in initialize_options()</code></td></tr></table>\n",
    "created_at": "2017-04-03T08:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321215",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:53'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f">a049f2d</a></td><td><code>Set self.extensions in initialize_options()</code></td></tr></table>




---

archive/issue_events_263639.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-04-03T09:17:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263639"
}
```



---

archive/issue_events_263640.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-04-03T09:17:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263640"
}
```



---

archive/issue_comments_321216.json:
```json
{
    "body": "<a id='comment:55'></a>\nThanks!",
    "created_at": "2017-04-03T09:40:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321216",
    "user": "https://github.com/embray"
}
```

<a id='comment:55'></a>
Thanks!



---

archive/issue_events_263641.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-05T19:38:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263641"
}
```



---

archive/issue_events_263642.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f8cfd68ddfa0319786e7da7372ed7ed8ddb587e5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-04-05T19:38:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21682#event-263642"
}
```



---

archive/issue_comments_321217.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/cythonize-command](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cythonize-command)\" to \"[a049f2d968d9ad5d901e68b44d46f1c06b5e747f](https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f)\".",
    "created_at": "2017-04-05T19:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21682",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21682#issuecomment-321217",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/cythonize-command](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cythonize-command)" to "[a049f2d968d9ad5d901e68b44d46f1c06b5e747f](https://github.com/sagemath/sagetrac-mirror/commit/a049f2d968d9ad5d901e68b44d46f1c06b5e747f)".
