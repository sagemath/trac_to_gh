# Issue 21076: make pyx a new style package

archive/issues_020839.json:
```json
{
    "body": "The installation of the old style package pyx breaks pip for encoding reason.\n\n```\n$ sage - i pyx\nSNIP installation log\n$ sage -pip uninstall pyx\nTraceback (most recent call last):\n  File \"/opt/sage/local/bin/pip\", line 5, in <module>\n    from pkg_resources import load_entry_point\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2927, in <module>\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2913, in _call_aside\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2940, in _initialize_master_working_set\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 626, in _build_master\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 619, in __init__\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 675, in add_entry\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 1982, in find_on_path\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2370, in from_location\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2687, in _reload_version\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2335, in _version_from_file\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2503, in _get_metadata\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 1873, in get_metadata_lines\n  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 1863, in get_metadata\n  File \"/opt/sage/local/lib/python/codecs.py\", line 302, in decode\n    (result, consumed) = self._buffer_decode(data, self.errors, final)\nUnicodeDecodeError: 'utf8' codec can't decode byte 0xf6 in position 165: invalid start byte in /opt/sage/local/lib/python2.7/site-packages/PyX-0.10-py2.7.egg-info\n```\n\nWe propose to make pyx a new style package. Upstream tarball at\n\n    https://pypi.python.org/packages/27/04/3e13fab75ea4d7e390af41b732a00709557c9b46a1d598b40a68bc312503/pyx-0.12.1.tar.gz\n\n\nSee the discussion at\n\n    https://groups.google.com/forum/#!topic/sage-devel/TVMnUmj8U0k\n\nand also #20472\n\nCC:  @vbraun @jdemeyer\n\nBranch/Commit: e7bb30b5387e1f122e3227960e6d70abb3ed635e\n\nReviewer: Jeroen Demeyer\n\nAuthor: Vincent Delecroix\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21076\n\n",
    "closed_at": "2016-07-27T20:25:02Z",
    "created_at": "2016-07-23T21:15:17Z",
    "labels": [
        "component: packages: optional",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "make pyx a new style package",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21076",
    "user": "https://github.com/videlec"
}
```
The installation of the old style package pyx breaks pip for encoding reason.

```
$ sage - i pyx
SNIP installation log
$ sage -pip uninstall pyx
Traceback (most recent call last):
  File "/opt/sage/local/bin/pip", line 5, in <module>
    from pkg_resources import load_entry_point
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2927, in <module>
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2913, in _call_aside
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2940, in _initialize_master_working_set
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 626, in _build_master
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 619, in __init__
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 675, in add_entry
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 1982, in find_on_path
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2370, in from_location
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2687, in _reload_version
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2335, in _version_from_file
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2503, in _get_metadata
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 1873, in get_metadata_lines
  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 1863, in get_metadata
  File "/opt/sage/local/lib/python/codecs.py", line 302, in decode
    (result, consumed) = self._buffer_decode(data, self.errors, final)
UnicodeDecodeError: 'utf8' codec can't decode byte 0xf6 in position 165: invalid start byte in /opt/sage/local/lib/python2.7/site-packages/PyX-0.10-py2.7.egg-info
```

We propose to make pyx a new style package. Upstream tarball at

    https://pypi.python.org/packages/27/04/3e13fab75ea4d7e390af41b732a00709557c9b46a1d598b40a68bc312503/pyx-0.12.1.tar.gz


See the discussion at

    https://groups.google.com/forum/#!topic/sage-devel/TVMnUmj8U0k

and also #20472

CC:  @vbraun @jdemeyer

Branch/Commit: e7bb30b5387e1f122e3227960e6d70abb3ed635e

Reviewer: Jeroen Demeyer

Author: Vincent Delecroix

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21076





---

archive/issue_comments_385748.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -27,6 +27,10 @@\n \n We propose to make pyx a \"pip style\" package and remove the old style spkg from the mirrors.\n \n+See the discussion at\n+\n+    https://groups.google.com/forum/#!topic/sage-devel/TVMnUmj8U0k\n+\n Author: Vincent Delecroix\n \n Comment: 1\n``````\n",
    "created_at": "2016-07-23T21:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385748",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -27,6 +27,10 @@
 
 We propose to make pyx a "pip style" package and remove the old style spkg from the mirrors.
 
+See the discussion at
+
+    https://groups.google.com/forum/#!topic/sage-devel/TVMnUmj8U0k
+
 Author: Vincent Delecroix
 
 Comment: 1
``````




---

archive/issue_comments_385749.json:
```json
{
    "body": "<a id='comment:2'></a>Sadly pyx is now Python 3 only and we need to do a version specific installation\n\n```\n$ sage -pip install pyx==0.12.1\n```",
    "created_at": "2016-07-23T21:24:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385749",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'></a>Sadly pyx is now Python 3 only and we need to do a version specific installation

```
$ sage -pip install pyx==0.12.1
```



---

archive/issue_comments_385750.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,39 @@\n+The installation of the old style package pyx breaks pip for encoding reason.\n \n+```\n+$ sage - i pyx\n+SNIP installation log\n+$ sage -pip uninstall pyx\n+Traceback (most recent call last):\n+  File \"/opt/sage/local/bin/pip\", line 5, in <module>\n+    from pkg_resources import load_entry_point\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2927, in <module>\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2913, in _call_aside\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2940, in _initialize_master_working_set\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 626, in _build_master\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 619, in __init__\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 675, in add_entry\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 1982, in find_on_path\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2370, in from_location\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2687, in _reload_version\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2335, in _version_from_file\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2503, in _get_metadata\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 1873, in get_metadata_lines\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 1863, in get_metadata\n+  File \"/opt/sage/local/lib/python/codecs.py\", line 302, in decode\n+    (result, consumed) = self._buffer_decode(data, self.errors, final)\n+UnicodeDecodeError: 'utf8' codec can't decode byte 0xf6 in position 165: invalid start byte in /opt/sage/local/lib/python2.7/site-packages/PyX-0.10-py2.7.egg-info\n+```\n+\n+We propose to make pyx a new style package. Upstream tarball at\n+\n+    https://pypi.python.org/packages/27/04/3e13fab75ea4d7e390af41b732a00709557c9b46a1d598b40a68bc312503/pyx-0.12.1.tar.gz\n+\n+\n+\n+See the discussion at\n+\n+    https://groups.google.com/forum/#!topic/sage-devel/TVMnUmj8U0k\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2016-07-23T21:38:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385750",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,39 @@
+The installation of the old style package pyx breaks pip for encoding reason.
 
+```
+$ sage - i pyx
+SNIP installation log
+$ sage -pip uninstall pyx
+Traceback (most recent call last):
+  File "/opt/sage/local/bin/pip", line 5, in <module>
+    from pkg_resources import load_entry_point
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2927, in <module>
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2913, in _call_aside
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2940, in _initialize_master_working_set
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 626, in _build_master
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 619, in __init__
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 675, in add_entry
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 1982, in find_on_path
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2370, in from_location
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2687, in _reload_version
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2335, in _version_from_file
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2503, in _get_metadata
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 1873, in get_metadata_lines
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 1863, in get_metadata
+  File "/opt/sage/local/lib/python/codecs.py", line 302, in decode
+    (result, consumed) = self._buffer_decode(data, self.errors, final)
+UnicodeDecodeError: 'utf8' codec can't decode byte 0xf6 in position 165: invalid start byte in /opt/sage/local/lib/python2.7/site-packages/PyX-0.10-py2.7.egg-info
+```
+
+We propose to make pyx a new style package. Upstream tarball at
+
+    https://pypi.python.org/packages/27/04/3e13fab75ea4d7e390af41b732a00709557c9b46a1d598b40a68bc312503/pyx-0.12.1.tar.gz
+
+
+
+See the discussion at
+
+    https://groups.google.com/forum/#!topic/sage-devel/TVMnUmj8U0k
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_385751.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vdelecroix/21076\"",
    "created_at": "2016-07-23T21:55:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385751",
    "user": "https://github.com/videlec"
}
```

Changing branch from "" to "u/vdelecroix/21076"



---

archive/issue_comments_385752.json:
```json
{
    "body": "Changing commit from \"\" to \"e7bb30b5387e1f122e3227960e6d70abb3ed635e\"",
    "created_at": "2016-07-23T21:55:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385752",
    "user": "https://github.com/videlec"
}
```

Changing commit from "" to "e7bb30b5387e1f122e3227960e6d70abb3ed635e"



---

archive/issue_comments_385753.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-07-23T21:55:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385753",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_385754.json:
```json
{
    "body": "<a id='comment:4'></a>New commits:",
    "created_at": "2016-07-23T21:55:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385754",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>New commits:



---

archive/issue_comments_385755.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,40 @@\n+The installation of the old style package pyx breaks pip for encoding reason.\n \n+```\n+$ sage - i pyx\n+SNIP installation log\n+$ sage -pip uninstall pyx\n+Traceback (most recent call last):\n+  File \"/opt/sage/local/bin/pip\", line 5, in <module>\n+    from pkg_resources import load_entry_point\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2927, in <module>\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2913, in _call_aside\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2940, in _initialize_master_working_set\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 626, in _build_master\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 619, in __init__\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 675, in add_entry\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 1982, in find_on_path\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2370, in from_location\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2687, in _reload_version\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2335, in _version_from_file\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 2503, in _get_metadata\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 1873, in get_metadata_lines\n+  File \"build/bdist.linux-x86_64/egg/pkg_resources/__init__.py\", line 1863, in get_metadata\n+  File \"/opt/sage/local/lib/python/codecs.py\", line 302, in decode\n+    (result, consumed) = self._buffer_decode(data, self.errors, final)\n+UnicodeDecodeError: 'utf8' codec can't decode byte 0xf6 in position 165: invalid start byte in /opt/sage/local/lib/python2.7/site-packages/PyX-0.10-py2.7.egg-info\n+```\n+\n+We propose to make pyx a new style package. Upstream tarball at\n+\n+    https://pypi.python.org/packages/27/04/3e13fab75ea4d7e390af41b732a00709557c9b46a1d598b40a68bc312503/pyx-0.12.1.tar.gz\n+\n+\n+See the discussion at\n+\n+    https://groups.google.com/forum/#!topic/sage-devel/TVMnUmj8U0k\n+\n+and also #20472\n \n Author: Vincent Delecroix\n \n``````\n",
    "created_at": "2016-07-23T23:12:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385755",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,40 @@
+The installation of the old style package pyx breaks pip for encoding reason.
 
+```
+$ sage - i pyx
+SNIP installation log
+$ sage -pip uninstall pyx
+Traceback (most recent call last):
+  File "/opt/sage/local/bin/pip", line 5, in <module>
+    from pkg_resources import load_entry_point
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2927, in <module>
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2913, in _call_aside
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2940, in _initialize_master_working_set
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 626, in _build_master
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 619, in __init__
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 675, in add_entry
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 1982, in find_on_path
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2370, in from_location
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2687, in _reload_version
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2335, in _version_from_file
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 2503, in _get_metadata
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 1873, in get_metadata_lines
+  File "build/bdist.linux-x86_64/egg/pkg_resources/__init__.py", line 1863, in get_metadata
+  File "/opt/sage/local/lib/python/codecs.py", line 302, in decode
+    (result, consumed) = self._buffer_decode(data, self.errors, final)
+UnicodeDecodeError: 'utf8' codec can't decode byte 0xf6 in position 165: invalid start byte in /opt/sage/local/lib/python2.7/site-packages/PyX-0.10-py2.7.egg-info
+```
+
+We propose to make pyx a new style package. Upstream tarball at
+
+    https://pypi.python.org/packages/27/04/3e13fab75ea4d7e390af41b732a00709557c9b46a1d598b40a68bc312503/pyx-0.12.1.tar.gz
+
+
+See the discussion at
+
+    https://groups.google.com/forum/#!topic/sage-devel/TVMnUmj8U0k
+
+and also #20472
 
 Author: Vincent Delecroix
 
``````




---

archive/issue_comments_385756.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2016-07-25T08:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385756",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_385757.json:
```json
{
    "body": "Changing type from defect to enhancement.",
    "created_at": "2016-07-25T08:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385757",
    "user": "https://github.com/jdemeyer"
}
```

Changing type from defect to enhancement.



---

archive/issue_comments_385758.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-07-25T08:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385758",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_385759.json:
```json
{
    "body": "Changing branch from \"u/vdelecroix/21076\" to \"e7bb30b5387e1f122e3227960e6d70abb3ed635e\"",
    "created_at": "2016-07-27T20:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385759",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/vdelecroix/21076" to "e7bb30b5387e1f122e3227960e6d70abb3ed635e"



---

archive/issue_events_056294.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-07-27T20:25:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21076#event-56294"
}
```



---

archive/issue_comments_385760.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-07-27T20:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21076#issuecomment-385760",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
