# Issue 21205: Compute bounds for the joint spectral radius

archive/issues_020968.json:
```json
{
    "body": "Implement an algorithm (according to a work of Gripenberg) to obtain some bounds for the joint spectral radius.\n\n\nCC:  @slel\n\nAuthor: Daniel Krenn\n\nBranch: u/dkrenn/joint-spectral-radius\n\nStatus: needs_work\n\nCommit: 6bb4877ff5c12ba4e77dd5382dcd1f607cab958a\n\nIssue created by migration from https://trac.sagemath.org/ticket/21205\n\n",
    "created_at": "2016-08-10T13:35:58Z",
    "labels": [
        "component: linear algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Compute bounds for the joint spectral radius",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21205",
    "user": "https://github.com/dkrenn"
}
```
Implement an algorithm (according to a work of Gripenberg) to obtain some bounds for the joint spectral radius.


CC:  @slel

Author: Daniel Krenn

Branch: u/dkrenn/joint-spectral-radius

Status: needs_work

Commit: 6bb4877ff5c12ba4e77dd5382dcd1f607cab958a

Issue created by migration from https://trac.sagemath.org/ticket/21205





---

archive/issue_comments_383651.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dkrenn/joint-spectral-radius\"",
    "created_at": "2016-08-10T13:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383651",
    "user": "https://github.com/dkrenn"
}
```

Changing branch from "" to "u/dkrenn/joint-spectral-radius"



---

archive/issue_comments_383652.json:
```json
{
    "body": "Changing commit from \"\" to \"f507636b8ce5f6a5a5e25bd77ff7f69ec2df27fe\"",
    "created_at": "2016-08-10T13:37:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383652",
    "user": "https://github.com/dkrenn"
}
```

Changing commit from "" to "f507636b8ce5f6a5a5e25bd77ff7f69ec2df27fe"



---

archive/issue_comments_383653.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe file still needs some polishing...\n\n---\nNew commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[18912b3](https://github.com/sagemath/sagetrac-mirror/commit/18912b3e613a86982a2aa620155c5b9946555e48)|`joint spectral radius algo`|\n|[f507636](https://github.com/sagemath/sagetrac-mirror/commit/f507636b8ce5f6a5a5e25bd77ff7f69ec2df27fe)|`begin with docstrings`|",
    "created_at": "2016-08-10T13:37:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383653",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:2'></a>
The file still needs some polishing...

---
New commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[18912b3](https://github.com/sagemath/sagetrac-mirror/commit/18912b3e613a86982a2aa620155c5b9946555e48)|`joint spectral radius algo`|
|[f507636](https://github.com/sagemath/sagetrac-mirror/commit/f507636b8ce5f6a5a5e25bd77ff7f69ec2df27fe)|`begin with docstrings`|



---

archive/issue_comments_383654.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[a7661a3](https://github.com/sagemath/sagetrac-mirror/commit/a7661a320e718b60c48e2a92675a459b3d4d65bd)|`joint spectral radius algo`|\n|[cd3634d](https://github.com/sagemath/sagetrac-mirror/commit/cd3634d028223d24d7e74a7f541868790a11f34b)|`begin with docstrings`|",
    "created_at": "2016-09-02T15:36:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383654",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[a7661a3](https://github.com/sagemath/sagetrac-mirror/commit/a7661a320e718b60c48e2a92675a459b3d4d65bd)|`joint spectral radius algo`|
|[cd3634d](https://github.com/sagemath/sagetrac-mirror/commit/cd3634d028223d24d7e74a7f541868790a11f34b)|`begin with docstrings`|



---

archive/issue_comments_383655.json:
```json
{
    "body": "Changing commit from \"f507636b8ce5f6a5a5e25bd77ff7f69ec2df27fe\" to \"cd3634d028223d24d7e74a7f541868790a11f34b\"",
    "created_at": "2016-09-02T15:36:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383655",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f507636b8ce5f6a5a5e25bd77ff7f69ec2df27fe" to "cd3634d028223d24d7e74a7f541868790a11f34b"



---

archive/issue_comments_383656.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[3605ca4](https://github.com/sagemath/sagetrac-mirror/commit/3605ca42528bf8563cfe87815569df45a253802f)|`joint spectral radius algo`|\n|[1ccd6aa](https://github.com/sagemath/sagetrac-mirror/commit/1ccd6aa141692d1201084dfa1f8308c2db0c2178)|`begin with docstrings`|",
    "created_at": "2016-09-02T15:41:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383656",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[3605ca4](https://github.com/sagemath/sagetrac-mirror/commit/3605ca42528bf8563cfe87815569df45a253802f)|`joint spectral radius algo`|
|[1ccd6aa](https://github.com/sagemath/sagetrac-mirror/commit/1ccd6aa141692d1201084dfa1f8308c2db0c2178)|`begin with docstrings`|



---

archive/issue_comments_383657.json:
```json
{
    "body": "Changing commit from \"cd3634d028223d24d7e74a7f541868790a11f34b\" to \"1ccd6aa141692d1201084dfa1f8308c2db0c2178\"",
    "created_at": "2016-09-02T15:41:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383657",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cd3634d028223d24d7e74a7f541868790a11f34b" to "1ccd6aa141692d1201084dfa1f8308c2db0c2178"



---

archive/issue_comments_383658.json:
```json
{
    "body": "Changing commit from \"1ccd6aa141692d1201084dfa1f8308c2db0c2178\" to \"2d25f64ee3604712905d11bbeabf12180e8974a6\"",
    "created_at": "2016-09-06T18:21:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383658",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1ccd6aa141692d1201084dfa1f8308c2db0c2178" to "2d25f64ee3604712905d11bbeabf12180e8974a6"



---

archive/issue_comments_383659.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|\n|[0d78b7b](https://github.com/sagemath/sagetrac-mirror/commit/0d78b7b9b2e53cdb94cd3a8815fbd721fdf529ad)|`minor docu change`|\n|[bf33ae9](https://github.com/sagemath/sagetrac-mirror/commit/bf33ae9d132e818569d096ea00ca2244f616a739)|`use Python logging`|\n|[b3f76f7](https://github.com/sagemath/sagetrac-mirror/commit/b3f76f70bce04c1d72554ed96b26a3ab14a97a57)|`changes to make code running inside [SageMath](SageMath) tree`|\n|[c2e0bac](https://github.com/sagemath/sagetrac-mirror/commit/c2e0bac1d0ca5407a75f3db2a287db51820e7c44)|`fix output and doctests`|\n|[6eb374c](https://github.com/sagemath/sagetrac-mirror/commit/6eb374c5ff37ed9b35073328ef8abe344f1a57cb)|`cleanup & co`|\n|[197e20a](https://github.com/sagemath/sagetrac-mirror/commit/197e20ae533c4487e841906bdce7b7935e2a81cd)|`docstring`|\n|[9146d74](https://github.com/sagemath/sagetrac-mirror/commit/9146d74a8bcee58bb1707ca0709fc071f2f67e25)|`change default value`|\n|[2d25f64](https://github.com/sagemath/sagetrac-mirror/commit/2d25f64ee3604712905d11bbeabf12180e8974a6)|`test max iterations warning`|",
    "created_at": "2016-09-06T18:21:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383659",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
|[0d78b7b](https://github.com/sagemath/sagetrac-mirror/commit/0d78b7b9b2e53cdb94cd3a8815fbd721fdf529ad)|`minor docu change`|
|[bf33ae9](https://github.com/sagemath/sagetrac-mirror/commit/bf33ae9d132e818569d096ea00ca2244f616a739)|`use Python logging`|
|[b3f76f7](https://github.com/sagemath/sagetrac-mirror/commit/b3f76f70bce04c1d72554ed96b26a3ab14a97a57)|`changes to make code running inside [SageMath](SageMath) tree`|
|[c2e0bac](https://github.com/sagemath/sagetrac-mirror/commit/c2e0bac1d0ca5407a75f3db2a287db51820e7c44)|`fix output and doctests`|
|[6eb374c](https://github.com/sagemath/sagetrac-mirror/commit/6eb374c5ff37ed9b35073328ef8abe344f1a57cb)|`cleanup & co`|
|[197e20a](https://github.com/sagemath/sagetrac-mirror/commit/197e20ae533c4487e841906bdce7b7935e2a81cd)|`docstring`|
|[9146d74](https://github.com/sagemath/sagetrac-mirror/commit/9146d74a8bcee58bb1707ca0709fc071f2f67e25)|`change default value`|
|[2d25f64](https://github.com/sagemath/sagetrac-mirror/commit/2d25f64ee3604712905d11bbeabf12180e8974a6)|`test max iterations warning`|



---

archive/issue_comments_383660.json:
```json
{
    "body": "Changing commit from \"2d25f64ee3604712905d11bbeabf12180e8974a6\" to \"7bd21011dae86edd03ee047c83d864edc5c63a35\"",
    "created_at": "2016-09-07T08:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383660",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2d25f64ee3604712905d11bbeabf12180e8974a6" to "7bd21011dae86edd03ee047c83d864edc5c63a35"



---

archive/issue_comments_383661.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[0a84d93](https://github.com/sagemath/sagetrac-mirror/commit/0a84d9391e75e3895ab4b82fd2ea54e6f959affd)|`add joint_spectral_radius to docs`|\n|[7bd2101](https://github.com/sagemath/sagetrac-mirror/commit/7bd21011dae86edd03ee047c83d864edc5c63a35)|`add references`|",
    "created_at": "2016-09-07T08:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383661",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[0a84d93](https://github.com/sagemath/sagetrac-mirror/commit/0a84d9391e75e3895ab4b82fd2ea54e6f959affd)|`add joint_spectral_radius to docs`|
|[7bd2101](https://github.com/sagemath/sagetrac-mirror/commit/7bd21011dae86edd03ee047c83d864edc5c63a35)|`add references`|



---

archive/issue_comments_383662.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------|\n|[3876f51](https://github.com/sagemath/sagetrac-mirror/commit/3876f5182fa329881f830581a3d9ab3f9f857892)|`cleanup`|",
    "created_at": "2016-09-07T08:19:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383662",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------|
|[3876f51](https://github.com/sagemath/sagetrac-mirror/commit/3876f5182fa329881f830581a3d9ab3f9f857892)|`cleanup`|



---

archive/issue_comments_383663.json:
```json
{
    "body": "Changing commit from \"7bd21011dae86edd03ee047c83d864edc5c63a35\" to \"3876f5182fa329881f830581a3d9ab3f9f857892\"",
    "created_at": "2016-09-07T08:19:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383663",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7bd21011dae86edd03ee047c83d864edc5c63a35" to "3876f5182fa329881f830581a3d9ab3f9f857892"



---

archive/issue_comments_383664.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-09-07T08:20:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383664",
    "user": "https://github.com/dkrenn"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_383665.json:
```json
{
    "body": "<a id='comment:9'></a>\nAs shown from `%prun` this is a bad idea\n\n```\ndef rho(M):\n    return max(R(abs(v)) for v in M.eigenvalues())\n```\n\nMoreover, the Python max is **not** reliable for intervals\n\n```\nsage: max(RIF(1,3),RIF(0,4)).endpoints()\n(1.00000000000000, 3.00000000000000)\n```",
    "created_at": "2016-09-08T09:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383665",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
As shown from `%prun` this is a bad idea

```
def rho(M):
    return max(R(abs(v)) for v in M.eigenvalues())
```

Moreover, the Python max is **not** reliable for intervals

```
sage: max(RIF(1,3),RIF(0,4)).endpoints()
(1.00000000000000, 3.00000000000000)
```



---

archive/issue_comments_383666.json:
```json
{
    "body": "<a id='comment:10'></a>\nIf you want much faster lower bound you can use http://perso.uclouvain.be/chia-tche.chang/resources/CB11b_paper.pdf",
    "created_at": "2016-09-08T09:27:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383666",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>
If you want much faster lower bound you can use http://perso.uclouvain.be/chia-tche.chang/resources/CB11b_paper.pdf



---

archive/issue_comments_383667.json:
```json
{
    "body": "<a id='comment:11'></a>\nDid you have a look at https://perso.uclouvain.be/julien.hendrickx/availablepublications/hscc33_VHJ.pdf ?",
    "created_at": "2016-09-08T09:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383667",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
Did you have a look at https://perso.uclouvain.be/julien.hendrickx/availablepublications/hscc33_VHJ.pdf ?



---

archive/issue_comments_383668.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [vdelecroix](#comment%3A9):\n> As shown from `%prun` this is a bad idea\n> \n> ```\n> def rho(M):\n>     return max(R(abs(v)) for v in M.eigenvalues())\n> ```\n> \n> Moreover, the Python max is **not** reliable for intervals\n> \n> ```\n> sage: max(RIF(1,3),RIF(0,4)).endpoints()\n> (1.00000000000000, 3.00000000000000)\n> ```\n\n\nUh oh, I wasn't aware of this. Thanks for pointing it out. I'll change my code soon.",
    "created_at": "2016-09-08T14:44:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383668",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:12'></a>
Replying to [vdelecroix](#comment%3A9):
> As shown from `%prun` this is a bad idea
> 
> ```
> def rho(M):
>     return max(R(abs(v)) for v in M.eigenvalues())
> ```
> 
> Moreover, the Python max is **not** reliable for intervals
> 
> ```
> sage: max(RIF(1,3),RIF(0,4)).endpoints()
> (1.00000000000000, 3.00000000000000)
> ```


Uh oh, I wasn't aware of this. Thanks for pointing it out. I'll change my code soon.



---

archive/issue_comments_383669.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [vdelecroix](#comment%3A10):\n> If you want much faster lower bound you can use http://perso.uclouvain.be/chia-tche.chang/resources/CB11b_paper.pdf\n\n\nWhat's on this ticket suffices for me, that was why I implemented only a basic algorithm.\n\nI suggest to implement extensions/improvements on a follow up ticket. The function `joint_spectral_radius` could/should then be equipped with a parameter `algorithm=...`.",
    "created_at": "2016-09-08T14:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383669",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:13'></a>
Replying to [vdelecroix](#comment%3A10):
> If you want much faster lower bound you can use http://perso.uclouvain.be/chia-tche.chang/resources/CB11b_paper.pdf


What's on this ticket suffices for me, that was why I implemented only a basic algorithm.

I suggest to implement extensions/improvements on a follow up ticket. The function `joint_spectral_radius` could/should then be equipped with a parameter `algorithm=...`.



---

archive/issue_comments_383670.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [vdelecroix](#comment%3A11):\n> Did you have a look at https://perso.uclouvain.be/julien.hendrickx/availablepublications/hscc33_VHJ.pdf ?\n\n\nYes.",
    "created_at": "2016-09-08T14:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383670",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:14'></a>
Replying to [vdelecroix](#comment%3A11):
> Did you have a look at https://perso.uclouvain.be/julien.hendrickx/availablepublications/hscc33_VHJ.pdf ?


Yes.



---

archive/issue_comments_383671.json:
```json
{
    "body": "Changing commit from \"3876f5182fa329881f830581a3d9ab3f9f857892\" to \"72fbff4166d926456b259a1876ce8df8cb59085e\"",
    "created_at": "2016-09-08T15:19:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383671",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3876f5182fa329881f830581a3d9ab3f9f857892" to "72fbff4166d926456b259a1876ce8df8cb59085e"



---

archive/issue_comments_383672.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[4925cc0](https://github.com/sagemath/sagetrac-mirror/commit/4925cc09b3e8bd459d22a4540aab15ee68d6adbf)|`Trac #21205, comment 12: fix max(...)`|\n|[72fbff4](https://github.com/sagemath/sagetrac-mirror/commit/72fbff4166d926456b259a1876ce8df8cb59085e)|`Trac #21205: replace .str(...) --> .endpoints()`|",
    "created_at": "2016-09-08T15:19:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383672",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[4925cc0](https://github.com/sagemath/sagetrac-mirror/commit/4925cc09b3e8bd459d22a4540aab15ee68d6adbf)|`Trac #21205, comment 12: fix max(...)`|
|[72fbff4](https://github.com/sagemath/sagetrac-mirror/commit/72fbff4166d926456b259a1876ce8df8cb59085e)|`Trac #21205: replace .str(...) --> .endpoints()`|



---

archive/issue_comments_383673.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [dkrenn](#comment%3A12):\n> Replying to [vdelecroix](#comment%3A9):\n> > As shown from `%prun` this is a bad idea\n> > \n> > ```\n> > def rho(M):\n> >     return max(R(abs(v)) for v in M.eigenvalues())\n> > ```\n> > \n> > Moreover, the Python max is **not** reliable for intervals\n> > \n> > ```\n> > sage: max(RIF(1,3),RIF(0,4)).endpoints()\n> > (1.00000000000000, 3.00000000000000)\n> > ```\n\n> \n> Uh oh, I wasn't aware of this. Thanks for pointing it out. I'll change my code soon.\n\n\nChanged now.",
    "created_at": "2016-09-08T15:20:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383673",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:16'></a>
Replying to [dkrenn](#comment%3A12):
> Replying to [vdelecroix](#comment%3A9):
> > As shown from `%prun` this is a bad idea
> > 
> > ```
> > def rho(M):
> >     return max(R(abs(v)) for v in M.eigenvalues())
> > ```
> > 
> > Moreover, the Python max is **not** reliable for intervals
> > 
> > ```
> > sage: max(RIF(1,3),RIF(0,4)).endpoints()
> > (1.00000000000000, 3.00000000000000)
> > ```

> 
> Uh oh, I wasn't aware of this. Thanks for pointing it out. I'll change my code soon.


Changed now.



---

archive/issue_comments_383674.json:
```json
{
    "body": "<a id='comment:17'></a>\nmerge conflict",
    "created_at": "2019-03-04T20:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383674",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'></a>
merge conflict



---

archive/issue_comments_383675.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-03-04T20:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383675",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_383676.json:
```json
{
    "body": "Changing commit from \"72fbff4166d926456b259a1876ce8df8cb59085e\" to \"4025684ad38b89f1b338b95defcfce5542cf610f\"",
    "created_at": "2019-03-27T17:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383676",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "72fbff4166d926456b259a1876ce8df8cb59085e" to "4025684ad38b89f1b338b95defcfce5542cf610f"



---

archive/issue_comments_383677.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[121c8ba](https://github.com/sagemath/sagetrac-mirror/commit/121c8bafc5e6d4f4032f31692fbf2ac2ae407799)|`Merge tag '8.6' into u/dkrenn/joint-spectral-radius`|\n|[4025684](https://github.com/sagemath/sagetrac-mirror/commit/4025684ad38b89f1b338b95defcfce5542cf610f)|`Merge tag '8.7' into u/dkrenn/joint-spectral-radius`|",
    "created_at": "2019-03-27T17:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383677",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[121c8ba](https://github.com/sagemath/sagetrac-mirror/commit/121c8bafc5e6d4f4032f31692fbf2ac2ae407799)|`Merge tag '8.6' into u/dkrenn/joint-spectral-radius`|
|[4025684](https://github.com/sagemath/sagetrac-mirror/commit/4025684ad38b89f1b338b95defcfce5542cf610f)|`Merge tag '8.7' into u/dkrenn/joint-spectral-radius`|



---

archive/issue_comments_383678.json:
```json
{
    "body": "<a id='comment:19'></a>\nMerged in 8.7.",
    "created_at": "2019-03-27T17:14:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383678",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:19'></a>
Merged in 8.7.



---

archive/issue_comments_383679.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-03-27T17:14:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383679",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_383680.json:
```json
{
    "body": "<a id='comment:20'></a>\nOn 8.7.beta1 and 8.7.beta2 some patchbots failed on the following, but some not. Strange. Let's wait for the 8.7 patchbots and then see.\n\n```\nFile \"src/sage/matrix/joint_spectral_radius.py\", line 98, in sage.matrix.joint_spectral_radius.?\nFailed example:\n    joint_spectral_radius(  # long time\n        (Matrix([[3, 0],  [1, 3]]) / 5,\n         Matrix([[3, -3], [0, -1]]) / 5),\n        delta=RIF(0.01))\nExpected:\n    DEBUG:...:m=2, alpha=0.6000000000000000?, beta=0.70827625302982189?, len(T)=4\n[...]\nGot:\n    DEBUG:sage.matrix.joint_spectral_radius:m=2, alpha=0.6000000000000000?, beta=0.70827625302982201?, len(T)=4\n[...]\n```",
    "created_at": "2019-03-27T17:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383680",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:20'></a>
On 8.7.beta1 and 8.7.beta2 some patchbots failed on the following, but some not. Strange. Let's wait for the 8.7 patchbots and then see.

```
File "src/sage/matrix/joint_spectral_radius.py", line 98, in sage.matrix.joint_spectral_radius.?
Failed example:
    joint_spectral_radius(  # long time
        (Matrix([[3, 0],  [1, 3]]) / 5,
         Matrix([[3, -3], [0, -1]]) / 5),
        delta=RIF(0.01))
Expected:
    DEBUG:...:m=2, alpha=0.6000000000000000?, beta=0.70827625302982189?, len(T)=4
[...]
Got:
    DEBUG:sage.matrix.joint_spectral_radius:m=2, alpha=0.6000000000000000?, beta=0.70827625302982201?, len(T)=4
[...]
```



---

archive/issue_comments_383681.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[646dcdb](https://github.com/sagemath/sagetrac-mirror/commit/646dcdb576b01ec33b68edb36655333f70344047)|`Trac #21205: avoid floats in norm (by not using .norm)`|",
    "created_at": "2019-03-28T15:25:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383681",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[646dcdb](https://github.com/sagemath/sagetrac-mirror/commit/646dcdb576b01ec33b68edb36655333f70344047)|`Trac #21205: avoid floats in norm (by not using .norm)`|



---

archive/issue_comments_383682.json:
```json
{
    "body": "Changing commit from \"4025684ad38b89f1b338b95defcfce5542cf610f\" to \"646dcdb576b01ec33b68edb36655333f70344047\"",
    "created_at": "2019-03-28T15:25:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383682",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4025684ad38b89f1b338b95defcfce5542cf610f" to "646dcdb576b01ec33b68edb36655333f70344047"



---

archive/issue_comments_383683.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [dkrenn](#comment%3A20):\n> On 8.7.beta1 and 8.7.beta2 some patchbots failed on the following, but some not. Strange. Let's wait for the 8.7 patchbots and then see.\n> \n> ```\n> File \"src/sage/matrix/joint_spectral_radius.py\", line 98, in sage.matrix.joint_spectral_radius.?\n> Failed example:\n>     joint_spectral_radius(  # long time\n>         (Matrix([[3, 0],  [1, 3]]) / 5,\n>          Matrix([[3, -3], [0, -1]]) / 5),\n>         delta=RIF(0.01))\n> Expected:\n>     DEBUG:...:m=2, alpha=0.6000000000000000?, beta=0.70827625302982189?, len(T)=4\n> [...]\n> Got:\n>     DEBUG:sage.matrix.joint_spectral_radius:m=2, alpha=0.6000000000000000?, beta=0.70827625302982201?, len(T)=4\n> [...]\n> ```\n\n\nShould be fixed now.",
    "created_at": "2019-03-28T15:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383683",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:22'></a>
Replying to [dkrenn](#comment%3A20):
> On 8.7.beta1 and 8.7.beta2 some patchbots failed on the following, but some not. Strange. Let's wait for the 8.7 patchbots and then see.
> 
> ```
> File "src/sage/matrix/joint_spectral_radius.py", line 98, in sage.matrix.joint_spectral_radius.?
> Failed example:
>     joint_spectral_radius(  # long time
>         (Matrix([[3, 0],  [1, 3]]) / 5,
>          Matrix([[3, -3], [0, -1]]) / 5),
>         delta=RIF(0.01))
> Expected:
>     DEBUG:...:m=2, alpha=0.6000000000000000?, beta=0.70827625302982189?, len(T)=4
> [...]
> Got:
>     DEBUG:sage.matrix.joint_spectral_radius:m=2, alpha=0.6000000000000000?, beta=0.70827625302982201?, len(T)=4
> [...]
> ```


Should be fixed now.



---

archive/issue_comments_383684.json:
```json
{
    "body": "Changing commit from \"646dcdb576b01ec33b68edb36655333f70344047\" to \"6bb4877ff5c12ba4e77dd5382dcd1f607cab958a\"",
    "created_at": "2019-03-29T09:47:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383684",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "646dcdb576b01ec33b68edb36655333f70344047" to "6bb4877ff5c12ba4e77dd5382dcd1f607cab958a"



---

archive/issue_comments_383685.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[6bb4877](https://github.com/sagemath/sagetrac-mirror/commit/6bb4877ff5c12ba4e77dd5382dcd1f607cab958a)|`Trac #21205: fix doctest output`|",
    "created_at": "2019-03-29T09:47:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383685",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[6bb4877](https://github.com/sagemath/sagetrac-mirror/commit/6bb4877ff5c12ba4e77dd5382dcd1f607cab958a)|`Trac #21205: fix doctest output`|



---

archive/issue_events_072092.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-03-31T17:14:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72092"
}
```



---

archive/issue_comments_383686.json:
```json
{
    "body": "<a id='comment:25'></a>\nYou would better use arb matrices whose multiplications are infinitely faster than the generic Sage matrices (which is what is used for mpir). With this change, you can write direct C code for the routines `max`, `min`, `rho`, `pp` and `p`. Even if your input are rational matrices, I bet that it is better to first convert them to real ball matrices. Carrying large numerators/denominators is most of the time a terrible idea.",
    "created_at": "2019-03-31T17:20:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383686",
    "user": "https://github.com/videlec"
}
```

<a id='comment:25'></a>
You would better use arb matrices whose multiplications are infinitely faster than the generic Sage matrices (which is what is used for mpir). With this change, you can write direct C code for the routines `max`, `min`, `rho`, `pp` and `p`. Even if your input are rational matrices, I bet that it is better to first convert them to real ball matrices. Carrying large numerators/denominators is most of the time a terrible idea.



---

archive/issue_comments_383687.json:
```json
{
    "body": "<a id='comment:26'></a>\nWhy using the 2-norm (involving the square root) as a default? Wouldn't the 1-norm or oo-norm be ok?",
    "created_at": "2019-03-31T17:22:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383687",
    "user": "https://github.com/videlec"
}
```

<a id='comment:26'></a>
Why using the 2-norm (involving the square root) as a default? Wouldn't the 1-norm or oo-norm be ok?



---

archive/issue_comments_383688.json:
```json
{
    "body": "<a id='comment:27'></a>\nWhen the input is inexact (e.g. mpir) this is absolutely wrong\n\n```\nmax(R(abs(v)) for v in M.eigenvalues())\n```",
    "created_at": "2019-03-31T17:22:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383688",
    "user": "https://github.com/videlec"
}
```

<a id='comment:27'></a>
When the input is inexact (e.g. mpir) this is absolutely wrong

```
max(R(abs(v)) for v in M.eigenvalues())
```



---

archive/issue_comments_383689.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-03-31T17:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383689",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_383690.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [vdelecroix](#comment%3A25):\n> You would better use arb matrices whose multiplications are infinitely faster than the generic Sage matrices (which is what is used for mpir). \n\n\nThe problem with arb matrices (and even with matrices over interval fields) is that they do not support computation of eigenvalues. Therefore, when writing the code, the decision of sticking to the given exact matrices was made.",
    "created_at": "2019-04-01T08:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383690",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:29'></a>
Replying to [vdelecroix](#comment%3A25):
> You would better use arb matrices whose multiplications are infinitely faster than the generic Sage matrices (which is what is used for mpir). 


The problem with arb matrices (and even with matrices over interval fields) is that they do not support computation of eigenvalues. Therefore, when writing the code, the decision of sticking to the given exact matrices was made.



---

archive/issue_comments_383691.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [dkrenn](#comment%3A29):\n> Replying to [vdelecroix](#comment%3A25):\n> > You would better use arb matrices whose multiplications are infinitely faster than the generic Sage matrices (which is what is used for mpir). \n\n> \n> The problem with arb matrices (and even with matrices over interval fields) is that they do not support computation of eigenvalues. Therefore, when writing the code, the decision of sticking to the given exact matrices was made.\n\n\nhttp://arblib.org/arb_mat.html#eigenvalues-and-eigenvectors",
    "created_at": "2019-04-01T09:01:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383691",
    "user": "https://github.com/videlec"
}
```

<a id='comment:30'></a>
Replying to [dkrenn](#comment%3A29):
> Replying to [vdelecroix](#comment%3A25):
> > You would better use arb matrices whose multiplications are infinitely faster than the generic Sage matrices (which is what is used for mpir). 

> 
> The problem with arb matrices (and even with matrices over interval fields) is that they do not support computation of eigenvalues. Therefore, when writing the code, the decision of sticking to the given exact matrices was made.


http://arblib.org/arb_mat.html#eigenvalues-and-eigenvectors



---

archive/issue_comments_383692.json:
```json
{
    "body": "<a id='comment:31'></a>\n(though, there is a warning: \"The functions in this section are experimental\")",
    "created_at": "2019-04-01T09:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383692",
    "user": "https://github.com/videlec"
}
```

<a id='comment:31'></a>
(though, there is a warning: "The functions in this section are experimental")



---

archive/issue_comments_383693.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [vdelecroix](#comment%3A26):\n> Why using the 2-norm (involving the square root) as a default? Wouldn't the 1-norm or oo-norm be ok?\n\n\nBecause this is the default for `.norm` of a matrix (which unfortunately only results a `RDF` element).",
    "created_at": "2019-04-02T13:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383693",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:32'></a>
Replying to [vdelecroix](#comment%3A26):
> Why using the 2-norm (involving the square root) as a default? Wouldn't the 1-norm or oo-norm be ok?


Because this is the default for `.norm` of a matrix (which unfortunately only results a `RDF` element).



---

archive/issue_comments_383694.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [vdelecroix](#comment%3A30):\n> Replying to [dkrenn](#comment%3A29):\n> http://arblib.org/arb_mat.html#eigenvalues-and-eigenvectors\n\nReplying to [vdelecroix](#comment%3A31):\n> (though, there is a warning: \"The functions in this section are experimental\")\n\n\nSo no change here.",
    "created_at": "2019-04-02T13:44:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383694",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:33'></a>
Replying to [vdelecroix](#comment%3A30):
> Replying to [dkrenn](#comment%3A29):
> http://arblib.org/arb_mat.html#eigenvalues-and-eigenvectors

Replying to [vdelecroix](#comment%3A31):
> (though, there is a warning: "The functions in this section are experimental")


So no change here.



---

archive/issue_comments_383695.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [vdelecroix](#comment%3A27):\n> When the input is inexact (e.g. mpir) this is absolutely wrong\n> \n> ```\n> max(R(abs(v)) for v in M.eigenvalues())\n> ```\n\n\nNote that there is\n\n```\n    def max(m):\n        m = list(m)\n        return m[0].max(*m[1:])\n```\ndefined a couple of lines above, so this is IMO indeed what is wanted.\n\nAnd, eigenvalues are not there for inexact rings:\n\n```\nsage: Matrix(RIF, [[1,2],[4,5]]).eigenvalues()\n/opt/sage/8.6/src/bin/sage-ipython:1: UserWarning: Using generic algorithm for an inexact ring, which will probably give incorrect results due to numerical precision issues.\n... \nNotImplementedError: \n```",
    "created_at": "2019-04-02T14:00:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383695",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:34'></a>
Replying to [vdelecroix](#comment%3A27):
> When the input is inexact (e.g. mpir) this is absolutely wrong
> 
> ```
> max(R(abs(v)) for v in M.eigenvalues())
> ```


Note that there is

```
    def max(m):
        m = list(m)
        return m[0].max(*m[1:])
```
defined a couple of lines above, so this is IMO indeed what is wanted.

And, eigenvalues are not there for inexact rings:

```
sage: Matrix(RIF, [[1,2],[4,5]]).eigenvalues()
/opt/sage/8.6/src/bin/sage-ipython:1: UserWarning: Using generic algorithm for an inexact ring, which will probably give incorrect results due to numerical precision issues.
... 
NotImplementedError: 
```



---

archive/issue_comments_383696.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [vdelecroix](#comment%3A25):\n> You would better use arb matrices whose multiplications are infinitely faster than the generic Sage matrices (which is what is used for mpir). With this change, you can write direct C code for the routines `max`, `min`, `rho`, `pp` and `p`. Even if your input are rational matrices, I bet that it is better to first convert them to real ball matrices. Carrying large numerators/denominators is most of the time a terrible idea.\n\n\nI agree that using matrices over `QQ` is not ideal, but with the eigenvalue discussion I do not see much other choices here.\n\nAnd, after all, this should be a first implementation to compute something at all. Improvments later on are very welcome.",
    "created_at": "2019-04-02T14:02:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383696",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:35'></a>
Replying to [vdelecroix](#comment%3A25):
> You would better use arb matrices whose multiplications are infinitely faster than the generic Sage matrices (which is what is used for mpir). With this change, you can write direct C code for the routines `max`, `min`, `rho`, `pp` and `p`. Even if your input are rational matrices, I bet that it is better to first convert them to real ball matrices. Carrying large numerators/denominators is most of the time a terrible idea.


I agree that using matrices over `QQ` is not ideal, but with the eigenvalue discussion I do not see much other choices here.

And, after all, this should be a first implementation to compute something at all. Improvments later on are very welcome.



---

archive/issue_comments_383697.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-04-02T14:02:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383697",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_383698.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [dkrenn](#comment%3A35):\n> Replying to [vdelecroix](#comment%3A25):\n> And, after all, this should be a first implementation to compute something at all. Improvments later on are very welcome.\n\n\ntrue :-)",
    "created_at": "2019-04-02T14:25:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383698",
    "user": "https://github.com/videlec"
}
```

<a id='comment:37'></a>
Replying to [dkrenn](#comment%3A35):
> Replying to [vdelecroix](#comment%3A25):
> And, after all, this should be a first implementation to compute something at all. Improvments later on are very welcome.


true :-)



---

archive/issue_comments_383699.json:
```json
{
    "body": "<a id='comment:38'></a>\nIf you do computations over rational numbers I don't see the point in returning an element in `RIF`. What you compute is an interval bounded by rational numbers isn't it?",
    "created_at": "2019-04-04T16:11:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383699",
    "user": "https://github.com/videlec"
}
```

<a id='comment:38'></a>
If you do computations over rational numbers I don't see the point in returning an element in `RIF`. What you compute is an interval bounded by rational numbers isn't it?



---

archive/issue_comments_383700.json:
```json
{
    "body": "<a id='comment:39'></a>\nReplying to [dkrenn](#comment%3A34):\n> Replying to [vdelecroix](#comment%3A27):\n> > When the input is inexact (e.g. mpir) this is absolutely wrong\n> > \n> > ```\n> > max(R(abs(v)) for v in M.eigenvalues())\n> > ```\n\n> \n> Note that there is\n> \n> ```\n>     def max(m):\n>         m = list(m)\n>         return m[0].max(*m[1:])\n> ```\n> defined a couple of lines above, so this is IMO indeed what is wanted.\n\n\nAnd there is also\n\n```\ndef rho(M):\n   return max(R(abs(v)) for v in M.eigenvalues())\n```\nwhich is incorrect (since here `R=RIF` (at least in the default situation)).",
    "created_at": "2019-04-04T16:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383700",
    "user": "https://github.com/videlec"
}
```

<a id='comment:39'></a>
Replying to [dkrenn](#comment%3A34):
> Replying to [vdelecroix](#comment%3A27):
> > When the input is inexact (e.g. mpir) this is absolutely wrong
> > 
> > ```
> > max(R(abs(v)) for v in M.eigenvalues())
> > ```

> 
> Note that there is
> 
> ```
>     def max(m):
>         m = list(m)
>         return m[0].max(*m[1:])
> ```
> defined a couple of lines above, so this is IMO indeed what is wanted.


And there is also

```
def rho(M):
   return max(R(abs(v)) for v in M.eigenvalues())
```
which is incorrect (since here `R=RIF` (at least in the default situation)).



---

archive/issue_comments_383701.json:
```json
{
    "body": "<a id='comment:40'></a>\nMoving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383701",
    "user": "https://github.com/embray"
}
```

<a id='comment:40'></a>
Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_events_072093.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72093"
}
```



---

archive/issue_events_072094.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72094"
}
```



---

archive/issue_events_072095.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72095"
}
```



---

archive/issue_events_072096.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72096"
}
```



---

archive/issue_comments_383702.json:
```json
{
    "body": "<a id='comment:41'></a>\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383702",
    "user": "https://github.com/embray"
}
```

<a id='comment:41'></a>
Ticket retargeted after milestone closed



---

archive/issue_comments_383703.json:
```json
{
    "body": "<a id='comment:42'></a>\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383703",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>
Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_072097.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72097"
}
```



---

archive/issue_events_072098.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72098"
}
```



---

archive/issue_comments_383704.json:
```json
{
    "body": "<a id='comment:43'></a>\nReplying to [vdelecroix](#comment%3A30):\n> http://arblib.org/arb_mat.html#eigenvalues-and-eigenvectors\n\n\nSage wrappers at #30393.",
    "created_at": "2020-08-19T15:10:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383704",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:43'></a>
Replying to [vdelecroix](#comment%3A30):
> http://arblib.org/arb_mat.html#eigenvalues-and-eigenvectors


Sage wrappers at #30393.



---

archive/issue_comments_383705.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-09-08T01:03:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383705",
    "user": "https://github.com/slel"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_072099.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "rename": {
        "from": "algorithm to compute bounds for the joint spectral radius",
        "to": "Compute bounds for the joint spectral radius"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72099"
}
```



---

archive/issue_comments_383706.json:
```json
{
    "body": "<a id='comment:44'></a>\nNeeds rebasing on latest develop.",
    "created_at": "2020-09-08T01:03:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383706",
    "user": "https://github.com/slel"
}
```

<a id='comment:44'></a>
Needs rebasing on latest develop.



---

archive/issue_events_072100.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-08T01:03:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72100"
}
```



---

archive/issue_events_072101.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-08T01:03:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72101"
}
```



---

archive/issue_events_072102.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72102"
}
```



---

archive/issue_events_072103.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72103"
}
```



---

archive/issue_comments_383707.json:
```json
{
    "body": "<a id='comment:45'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383707",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:45'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_072104.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72104"
}
```



---

archive/issue_events_072105.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72105"
}
```



---

archive/issue_comments_383708.json:
```json
{
    "body": "<a id='comment:46'></a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21205#issuecomment-383708",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_072106.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72106"
}
```



---

archive/issue_events_072107.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72107"
}
```



---

archive/issue_events_072108.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72108"
}
```



---

archive/issue_events_072109.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72109"
}
```



---

archive/issue_events_072110.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72110"
}
```



---

archive/issue_events_072111.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21205",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21205#event-72111"
}
```
