# Issue 21354: LatticePoset: certificates to non-modularity

archive/issues_021117.json:
```json
{
    "body": "Add `certificate`-option to `is_modular()`.\n\n**CC:**  @tscrim @fchapoton @kevindilks\n\n**Branch/Commit:** [68d40bda628cbe687772e524dbc40300d1e3a6b6](https://github.com/sagemath/sagetrac-mirror/commit/68d40bda628cbe687772e524dbc40300d1e3a6b6)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Jori M\u00e4ntysalo\n\nIssue created by migration from https://trac.sagemath.org/ticket/21354\n\n",
    "closed_at": "2017-01-18T20:39:43Z",
    "created_at": "2016-08-27T05:09:52Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "title": "LatticePoset: certificates to non-modularity",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/21354",
    "user": "https://github.com/jm58660"
}
```
Add `certificate`-option to `is_modular()`.

**CC:**  @tscrim @fchapoton @kevindilks

**Branch/Commit:** [68d40bda628cbe687772e524dbc40300d1e3a6b6](https://github.com/sagemath/sagetrac-mirror/commit/68d40bda628cbe687772e524dbc40300d1e3a6b6)

**Reviewer:** Travis Scrimshaw

**Author:** Jori Mäntysalo

Issue created by migration from https://trac.sagemath.org/ticket/21354





---

archive/issue_comments_315024.json:
```json
{
    "body": "**Branch:** [u/jmantysalo/cert-non-dist](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/cert-non-dist)",
    "created_at": "2016-08-27T14:20:14Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315024",
    "user": "https://github.com/jm58660"
}
```

**Branch:** [u/jmantysalo/cert-non-dist](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/cert-non-dist)



---

archive/issue_comments_315025.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0f1456b22df5eddc7d6de4a1ea007685823baea\">e0f1456</a></td><td><code>Added certificate-options.</code></td></tr></table>\n",
    "created_at": "2016-08-27T14:20:57Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315025",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0f1456b22df5eddc7d6de4a1ea007685823baea">e0f1456</a></td><td><code>Added certificate-options.</code></td></tr></table>




---

archive/issue_comments_315026.json:
```json
{
    "body": "**Commit:** [e0f1456b22df5eddc7d6de4a1ea007685823baea](https://github.com/sagemath/sagetrac-mirror/commit/e0f1456b22df5eddc7d6de4a1ea007685823baea)",
    "created_at": "2016-08-27T14:20:57Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315026",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [e0f1456b22df5eddc7d6de4a1ea007685823baea](https://github.com/sagemath/sagetrac-mirror/commit/e0f1456b22df5eddc7d6de4a1ea007685823baea)



---

archive/issue_comments_315027.json:
```json
{
    "body": "<a id='comment:3'></a>\npatchbot says\n\n```\nsage -t --long src/sage/combinat/posets/lattices.py\n**********************************************************************\nFile \"src/sage/combinat/posets/lattices.py\", line 736, in sage.combinat.posets.lattices.FiniteLatticePoset.is_distributive\nFailed example:\n    Posets.PentagonPoset().is_distributive(certificate=True)\nExpected:\n    (False, (3, 2, 1))\nGot:\n    (False, (3, 1, 2))\n```",
    "created_at": "2016-08-30T07:24:14Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315027",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
patchbot says

```
sage -t --long src/sage/combinat/posets/lattices.py
**********************************************************************
File "src/sage/combinat/posets/lattices.py", line 736, in sage.combinat.posets.lattices.FiniteLatticePoset.is_distributive
Failed example:
    Posets.PentagonPoset().is_distributive(certificate=True)
Expected:
    (False, (3, 2, 1))
Got:
    (False, (3, 1, 2))
```



---

archive/issue_comments_315028.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8a5796cdeb254924eea529110af9ec8cf6eac56\">c8a5796</a></td><td><code>Modifications to semimodularity tests.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/107f763f1f501b9f25d685b7366afedb4e2535c3\">107f763</a></td><td><code>Change internal function name.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/baac373759dc03297b649185f1a823799e086150\">baac373</a></td><td><code>Forgot *lower* semimodular.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f0d530113f3e861fb02a07f6c7f96ab5674f735\">7f0d530</a></td><td><code>Added certificate-options.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92b5e2a922923cbedbcf637bd19b9e39be0c8bd2\">92b5e2a</a></td><td><code>Merge branch 'u/jmantysalo/cert-non-dist' of git://trac.sagemath.org/sage into t/21354/cert-non-dist</code></td></tr></table>\n",
    "created_at": "2016-08-30T10:19:34Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315028",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8a5796cdeb254924eea529110af9ec8cf6eac56">c8a5796</a></td><td><code>Modifications to semimodularity tests.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/107f763f1f501b9f25d685b7366afedb4e2535c3">107f763</a></td><td><code>Change internal function name.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/baac373759dc03297b649185f1a823799e086150">baac373</a></td><td><code>Forgot *lower* semimodular.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f0d530113f3e861fb02a07f6c7f96ab5674f735">7f0d530</a></td><td><code>Added certificate-options.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92b5e2a922923cbedbcf637bd19b9e39be0c8bd2">92b5e2a</a></td><td><code>Merge branch 'u/jmantysalo/cert-non-dist' of git://trac.sagemath.org/sage into t/21354/cert-non-dist</code></td></tr></table>




---

archive/issue_comments_315029.json:
```json
{
    "body": "**Changing commit** from \"[e0f1456b22df5eddc7d6de4a1ea007685823baea](https://github.com/sagemath/sagetrac-mirror/commit/e0f1456b22df5eddc7d6de4a1ea007685823baea)\" to \"[92b5e2a922923cbedbcf637bd19b9e39be0c8bd2](https://github.com/sagemath/sagetrac-mirror/commit/92b5e2a922923cbedbcf637bd19b9e39be0c8bd2)\".",
    "created_at": "2016-08-30T10:19:34Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315029",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e0f1456b22df5eddc7d6de4a1ea007685823baea](https://github.com/sagemath/sagetrac-mirror/commit/e0f1456b22df5eddc7d6de4a1ea007685823baea)" to "[92b5e2a922923cbedbcf637bd19b9e39be0c8bd2](https://github.com/sagemath/sagetrac-mirror/commit/92b5e2a922923cbedbcf637bd19b9e39be0c8bd2)".



---

archive/issue_comments_315030.json:
```json
{
    "body": "<a id='comment:5'></a>\nTodo: To see if a lattice is join-distributive (i.e. every interval from an element to the join of upper covers of the element is distributive) we propably should check if the lattice is upper semimodular and has no M3 as a convex sublattice. Hence the M3-search shall go to `hasse_diagram.py`, where it can be used for several functions.",
    "created_at": "2016-09-18T19:21:27Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315030",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:5'></a>
Todo: To see if a lattice is join-distributive (i.e. every interval from an element to the join of upper covers of the element is distributive) we propably should check if the lattice is upper semimodular and has no M3 as a convex sublattice. Hence the M3-search shall go to `hasse_diagram.py`, where it can be used for several functions.



---

archive/issue_events_191337.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-15T10:08:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191337"
}
```



---

archive/issue_comments_315031.json:
```json
{
    "body": "<a id='comment:6'></a>\nTravis or Fr\u00e9d\u00e9ric, I want an opinion.\n\nCurrenlty finite lattices have `is_modular` with two different uses: it can check if a lattice is modular, or if all elements in a given subset are modular. Then there is `is_modular_element` that checks only one element.\n\nThis feels somewhat unnatural. Compare to `is_compelemted` vs. `complements`; but then `complements` can give dictionary for complements of every element, whereas `pseudocomplement` does not. And there is no function to check if given subset has a complement or pseudocomplement.\n\nAn element of a lattice can be tuple, and tuple can also be an argument to `is_modular`.\n\nSo what should we do for this? I can of course just add `certificate` to `is_modular` such that it raises an exception when used in combination with current `L`-parameter. But what you think?",
    "created_at": "2016-11-15T10:08:09Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315031",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>
Travis or Frédéric, I want an opinion.

Currenlty finite lattices have `is_modular` with two different uses: it can check if a lattice is modular, or if all elements in a given subset are modular. Then there is `is_modular_element` that checks only one element.

This feels somewhat unnatural. Compare to `is_compelemted` vs. `complements`; but then `complements` can give dictionary for complements of every element, whereas `pseudocomplement` does not. And there is no function to check if given subset has a complement or pseudocomplement.

An element of a lattice can be tuple, and tuple can also be an argument to `is_modular`.

So what should we do for this? I can of course just add `certificate` to `is_modular` such that it raises an exception when used in combination with current `L`-parameter. But what you think?



---

archive/issue_comments_315032.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [@jm58660](#comment%3A6):\n> Travis or Fr\u00e9d\u00e9ric, I want an opinion.\n> \n> Currenlty finite lattices have `is_modular` with two different uses: it can check if a lattice is modular, or if all elements in a given subset are modular. Then there is `is_modular_element` that checks only one element.\n> \n> This feels somewhat unnatural. Compare to `is_compelemted` vs. `complements`; but then `complements` can give dictionary for complements of every element, whereas `pseudocomplement` does not. And there is no function to check if given subset has a complement or pseudocomplement.\n\nIt would be easy to extend `complements` to have this functionality. However, `P.is_modular(elts)` is really just (slightly faster) shorthand for `all(P.is_modular_element(x) for x in elts)`, and since that is not doing anything complicated code-wise, I would not remove this feature.\n\n> An element of a lattice can be tuple, and tuple can also be an argument to `is_modular`.\n> \n> So what should we do for this? I can of course just add `certificate` to `is_modular` such that it raises an exception when used in combination with current `L`-parameter. But what you think?\n\nI don't see any problem. You should pass in a list/tuple with the element to `is_modular` in that case. In particular, `is_modular` is assuming the input is a list of elements, not a single element.",
    "created_at": "2016-11-15T15:06:54Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315032",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Replying to [@jm58660](#comment%3A6):
> Travis or Frédéric, I want an opinion.
> 
> Currenlty finite lattices have `is_modular` with two different uses: it can check if a lattice is modular, or if all elements in a given subset are modular. Then there is `is_modular_element` that checks only one element.
> 
> This feels somewhat unnatural. Compare to `is_compelemted` vs. `complements`; but then `complements` can give dictionary for complements of every element, whereas `pseudocomplement` does not. And there is no function to check if given subset has a complement or pseudocomplement.

It would be easy to extend `complements` to have this functionality. However, `P.is_modular(elts)` is really just (slightly faster) shorthand for `all(P.is_modular_element(x) for x in elts)`, and since that is not doing anything complicated code-wise, I would not remove this feature.

> An element of a lattice can be tuple, and tuple can also be an argument to `is_modular`.
> 
> So what should we do for this? I can of course just add `certificate` to `is_modular` such that it raises an exception when used in combination with current `L`-parameter. But what you think?

I don't see any problem. You should pass in a list/tuple with the element to `is_modular` in that case. In particular, `is_modular` is assuming the input is a list of elements, not a single element.



---

archive/issue_comments_315033.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1 @@\n-Now when #21002 has got positive review we can continue to `is_distributive` and `is_modular`.\n-\n-Lattice Theory: Foundation by George Gr\u00e4tzer, p. 111: \"If the lattice is finite, modular and and nondistributive, then it contains a cover-preserving diamond.\"\n-\n-Hence it is easy to search a certificate for non-distributive lattice: check for non-lower semimodular, check for non-upper semimodular, check for diamond subgraph.\n+Add `certificate`-option to `is_modular()`.\n``````\n",
    "created_at": "2016-11-15T18:26:13Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315033",
    "user": "https://github.com/jm58660"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1 @@
-Now when #21002 has got positive review we can continue to `is_distributive` and `is_modular`.
-
-Lattice Theory: Foundation by George Grätzer, p. 111: "If the lattice is finite, modular and and nondistributive, then it contains a cover-preserving diamond."
-
-Hence it is easy to search a certificate for non-distributive lattice: check for non-lower semimodular, check for non-upper semimodular, check for diamond subgraph.
+Add `certificate`-option to `is_modular()`.
``````




---

archive/issue_events_191338.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-15T18:26:13Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "rename": {
        "from": "LatticePoset: certificates to non-modularity and non-distributivity",
        "to": "LatticePoset: certificates to non-modularity"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191338"
}
```



---

archive/issue_comments_315034.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [@tscrim](#comment%3A7):\n\n> - - I don't see any problem. - -\n\nOK then. I will make a certificate for non-modularity in this ticket.",
    "created_at": "2016-11-15T18:26:13Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315034",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:8'></a>
Replying to [@tscrim](#comment%3A7):

> - - I don't see any problem. - -

OK then. I will make a certificate for non-modularity in this ticket.



---

archive/issue_events_191339.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-15T18:26:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191339"
}
```



---

archive/issue_events_191340.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-15T18:26:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191340"
}
```



---

archive/issue_comments_315035.json:
```json
{
    "body": "**Changing commit** from \"[92b5e2a922923cbedbcf637bd19b9e39be0c8bd2](https://github.com/sagemath/sagetrac-mirror/commit/92b5e2a922923cbedbcf637bd19b9e39be0c8bd2)\" to \"\".",
    "created_at": "2016-11-15T18:26:30Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315035",
    "user": "https://github.com/jm58660"
}
```

**Changing commit** from "[92b5e2a922923cbedbcf637bd19b9e39be0c8bd2](https://github.com/sagemath/sagetrac-mirror/commit/92b5e2a922923cbedbcf637bd19b9e39be0c8bd2)" to "".



---

archive/issue_comments_315036.json:
```json
{
    "body": "**Changing branch** from \"[u/jmantysalo/cert-non-dist](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/cert-non-dist)\" to \"\".",
    "created_at": "2016-11-15T18:26:30Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315036",
    "user": "https://github.com/jm58660"
}
```

**Changing branch** from "[u/jmantysalo/cert-non-dist](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/cert-non-dist)" to "".



---

archive/issue_comments_315037.json:
```json
{
    "body": "**Branch:** [u/jmantysalo/dist-modular](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/dist-modular)",
    "created_at": "2016-11-16T09:19:43Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315037",
    "user": "https://github.com/jm58660"
}
```

**Branch:** [u/jmantysalo/dist-modular](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/dist-modular)



---

archive/issue_events_191341.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-16T09:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191341"
}
```



---

archive/issue_events_191342.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-16T09:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191342"
}
```



---

archive/issue_comments_315038.json:
```json
{
    "body": "<a id='comment:11'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b7cb048c625a6cffc5609ecbdf6d7d50131a63a\">9b7cb04</a></td><td><code>Add certificate-option to is_modular().</code></td></tr></table>\n",
    "created_at": "2016-11-16T09:20:52Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315038",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:11'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b7cb048c625a6cffc5609ecbdf6d7d50131a63a">9b7cb04</a></td><td><code>Add certificate-option to is_modular().</code></td></tr></table>




---

archive/issue_events_191343.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-16T09:20:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191343"
}
```



---

archive/issue_events_191344.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-16T09:20:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191344"
}
```



---

archive/issue_comments_315039.json:
```json
{
    "body": "**Commit:** [9b7cb048c625a6cffc5609ecbdf6d7d50131a63a](https://github.com/sagemath/sagetrac-mirror/commit/9b7cb048c625a6cffc5609ecbdf6d7d50131a63a)",
    "created_at": "2016-11-16T09:20:52Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315039",
    "user": "https://github.com/jm58660"
}
```

**Commit:** [9b7cb048c625a6cffc5609ecbdf6d7d50131a63a](https://github.com/sagemath/sagetrac-mirror/commit/9b7cb048c625a6cffc5609ecbdf6d7d50131a63a)



---

archive/issue_comments_315040.json:
```json
{
    "body": "<a id='comment:12'></a>\nBtw, the time needed to check that `BooleanLattice(10)` is modular drops from 4,31 to 0.16 seconds with this patch. And the time to select modular lattices from all 10-element lattices drops from 0.72 to 0.18 seconds.",
    "created_at": "2016-11-16T09:27:21Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315040",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:12'></a>
Btw, the time needed to check that `BooleanLattice(10)` is modular drops from 4,31 to 0.16 seconds with this patch. And the time to select modular lattices from all 10-element lattices drops from 0.72 to 0.18 seconds.



---

archive/issue_comments_315041.json:
```json
{
    "body": "<a id='comment:13'></a>\nThis is not a sentence:\n\n```\n        some subset of elements are all modular. An element `x` in a\n        lattice `L` is *modular* if `x \\leq b` implies\n        for every `a, b \\in L`.\n```\nReplace `\\not=` with `\\neq`. I also disagree with raising an error here:\n\n```\n        if certificate and L is not None:\n            raise ValueError(\"parameters L and certificate can not be combined\")\n```\nThere still is a meaningful certificate, it is now just a pair of entries that do not satisfy:\n\n```\nH._rank[a] + H._rank[b] == H._rank[H._meet[a, b]] + H._rank[H._join[a, b]]\n```\nThere is a small problem because the definition given did not match what the code is actually checking. Yet, it still should be possible to make everything consistent.\nI also disagree with putting the condition inline instead of in an equation environment.",
    "created_at": "2016-11-16T15:49:54Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315041",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
This is not a sentence:

```
        some subset of elements are all modular. An element `x` in a
        lattice `L` is *modular* if `x \leq b` implies
        for every `a, b \in L`.
```
Replace `\not=` with `\neq`. I also disagree with raising an error here:

```
        if certificate and L is not None:
            raise ValueError("parameters L and certificate can not be combined")
```
There still is a meaningful certificate, it is now just a pair of entries that do not satisfy:

```
H._rank[a] + H._rank[b] == H._rank[H._meet[a, b]] + H._rank[H._join[a, b]]
```
There is a small problem because the definition given did not match what the code is actually checking. Yet, it still should be possible to make everything consistent.
I also disagree with putting the condition inline instead of in an equation environment.



---

archive/issue_comments_315042.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [@tscrim](#comment%3A13):\n\n> There is a small problem because the definition given did not match what the code is actually checking. Yet, it still should be possible to make everything consistent.\n\nTrue. Then this is a defect.\n\n> I also disagree with raising an error here:\n> \n> ```\n>         if certificate and L is not None:\n>             raise ValueError(\"parameters L and certificate can not be combined\")\n> ```\n> There still is a meaningful certificate, it is now just a pair of entries that do not satisfy:\n> \n> ```\n> H._rank[a] + H._rank[b] == H._rank[H._meet[a, b]] + H._rank[H._join[a, b]]\n> ```\n\nOnly if the poset is ranked. But yes, I think I can make a certificate.\n\n> I also disagree with putting the condition inline instead of in an equation environment.\n\nAs you wish. But for example `is_join_semidistributive()` then looks a little different.\n\nI'll look at this a day or few days later.",
    "created_at": "2016-11-19T20:55:09Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315042",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:14'></a>
Replying to [@tscrim](#comment%3A13):

> There is a small problem because the definition given did not match what the code is actually checking. Yet, it still should be possible to make everything consistent.

True. Then this is a defect.

> I also disagree with raising an error here:
> 
> ```
>         if certificate and L is not None:
>             raise ValueError("parameters L and certificate can not be combined")
> ```
> There still is a meaningful certificate, it is now just a pair of entries that do not satisfy:
> 
> ```
> H._rank[a] + H._rank[b] == H._rank[H._meet[a, b]] + H._rank[H._join[a, b]]
> ```

Only if the poset is ranked. But yes, I think I can make a certificate.

> I also disagree with putting the condition inline instead of in an equation environment.

As you wish. But for example `is_join_semidistributive()` then looks a little different.

I'll look at this a day or few days later.



---

archive/issue_events_191345.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-19T20:55:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191345"
}
```



---

archive/issue_events_191346.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-11-19T20:55:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191346"
}
```



---

archive/issue_comments_315043.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [@jm58660](#comment%3A14):\n> Replying to [@tscrim](#comment%3A13):\n> \n> > There is a small problem because the definition given did not match what the code is actually checking. Yet, it still should be possible to make everything consistent.\n\n> \n> True. Then this is a defect.\n\nIt's only a problem for the certificate, not the code itself because it is using an equivalent definition. (Admittedly this is walking us right past the bikeshed...) \n\n> > I also disagree with raising an error here:\n> > \n> > ```\n> >         if certificate and L is not None:\n> >             raise ValueError(\"parameters L and certificate can not be combined\")\n> > ```\n> > There still is a meaningful certificate, it is now just a pair of entries that do not satisfy:\n> > \n> > ```\n> > H._rank[a] + H._rank[b] == H._rank[H._meet[a, b]] + H._rank[H._join[a, b]]\n> > ```\n\n> \n> Only if the poset is ranked. But yes, I think I can make a certificate.\n\nGood point about the rankedness, but we should be try to be consistent with our certificate.\n\n> > I also disagree with putting the condition inline instead of in an equation environment.\n\n> \n> As you wish. But for example `is_join_semidistributive()` then looks a little different.\n\nIMO, it's easier to read with it being on its own line in the html docs. Thanks.\n\n> I'll look at this a day or few days later.\n\nI will be at a SageDays this upcoming week so I should get to review it quickly.",
    "created_at": "2016-11-19T21:55:04Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315043",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>
Replying to [@jm58660](#comment%3A14):
> Replying to [@tscrim](#comment%3A13):
> 
> > There is a small problem because the definition given did not match what the code is actually checking. Yet, it still should be possible to make everything consistent.

> 
> True. Then this is a defect.

It's only a problem for the certificate, not the code itself because it is using an equivalent definition. (Admittedly this is walking us right past the bikeshed...) 

> > I also disagree with raising an error here:
> > 
> > ```
> >         if certificate and L is not None:
> >             raise ValueError("parameters L and certificate can not be combined")
> > ```
> > There still is a meaningful certificate, it is now just a pair of entries that do not satisfy:
> > 
> > ```
> > H._rank[a] + H._rank[b] == H._rank[H._meet[a, b]] + H._rank[H._join[a, b]]
> > ```

> 
> Only if the poset is ranked. But yes, I think I can make a certificate.

Good point about the rankedness, but we should be try to be consistent with our certificate.

> > I also disagree with putting the condition inline instead of in an equation environment.

> 
> As you wish. But for example `is_join_semidistributive()` then looks a little different.

IMO, it's easier to read with it being on its own line in the html docs. Thanks.

> I'll look at this a day or few days later.

I will be at a SageDays this upcoming week so I should get to review it quickly.



---

archive/issue_events_191347.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-19T21:55:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191347"
}
```



---

archive/issue_events_191348.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-11-19T21:55:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191348"
}
```



---

archive/issue_comments_315044.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"kdilks\".",
    "created_at": "2016-11-28T01:13:39Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315044",
    "user": "https://github.com/kevindilks"
}
```

**Changing keywords** from "" to "kdilks".



---

archive/issue_comments_315045.json:
```json
{
    "body": "<a id='comment:17'></a>\nKevin, I suppose you didn't want you to be a keyword. `:=)`",
    "created_at": "2016-11-28T04:32:40Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315045",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:17'></a>
Kevin, I suppose you didn't want you to be a keyword. `:=)`



---

archive/issue_comments_315046.json:
```json
{
    "body": "**Changing keywords** from \"kdilks\" to \"\".",
    "created_at": "2016-11-28T04:32:40Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315046",
    "user": "https://github.com/jm58660"
}
```

**Changing keywords** from "kdilks" to "".



---

archive/issue_comments_315047.json:
```json
{
    "body": "<a id='comment:18'></a>\nAny thoughts on the certificate given an `L`?",
    "created_at": "2016-12-01T22:18:29Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315047",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>
Any thoughts on the certificate given an `L`?



---

archive/issue_comments_315048.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [@tscrim](#comment%3A18):\n> Any thoughts on the certificate given an `L`?\n\nI think I'll just implement the `L` parameter for non-ranked lattices as you suggested, also with `certificate`. That may take some time. (Please notify if you plan to do it yourself, so we won't do the same job twise.)\n\nThis may relate to #21903: what is the fastest way to compute neutral elements? It is easy to find a non-distributivity certificate, and can the lattice be \"shrinked\" so that only neutral elements remain? Gonna think that for a while too...",
    "created_at": "2016-12-02T07:36:33Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315048",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:19'></a>
Replying to [@tscrim](#comment%3A18):
> Any thoughts on the certificate given an `L`?

I think I'll just implement the `L` parameter for non-ranked lattices as you suggested, also with `certificate`. That may take some time. (Please notify if you plan to do it yourself, so we won't do the same job twise.)

This may relate to #21903: what is the fastest way to compute neutral elements? It is easy to find a non-distributivity certificate, and can the lattice be "shrinked" so that only neutral elements remain? Gonna think that for a while too...



---

archive/issue_comments_315049.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [@jm58660](#comment%3A19):\n> Replying to [@tscrim](#comment%3A18):\n> > Any thoughts on the certificate given an `L`?\n\n> \n> I think I'll just implement the `L` parameter for non-ranked lattices as you suggested, also with `certificate`. That may take some time. (Please notify if you plan to do it yourself, so we won't do the same job twise.)\n\nI will not be doing any work on posets/lattice code in the near future, so don't worry about conflicting with me.\n\n> This may relate to #21903: what is the fastest way to compute neutral elements? It is easy to find a non-distributivity certificate, and can the lattice be \"shrinked\" so that only neutral elements remain? Gonna think that for a while too...\n\nI have no idea as this is a little too far outside my knowledge area for me to be helpful.",
    "created_at": "2016-12-02T15:10:24Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315049",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>
Replying to [@jm58660](#comment%3A19):
> Replying to [@tscrim](#comment%3A18):
> > Any thoughts on the certificate given an `L`?

> 
> I think I'll just implement the `L` parameter for non-ranked lattices as you suggested, also with `certificate`. That may take some time. (Please notify if you plan to do it yourself, so we won't do the same job twise.)

I will not be doing any work on posets/lattice code in the near future, so don't worry about conflicting with me.

> This may relate to #21903: what is the fastest way to compute neutral elements? It is easy to find a non-distributivity certificate, and can the lattice be "shrinked" so that only neutral elements remain? Gonna think that for a while too...

I have no idea as this is a little too far outside my knowledge area for me to be helpful.



---

archive/issue_comments_315050.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12828474ed167f26a6e93b90ea1c3fbe280f3cd9\">1282847</a></td><td><code>Add certificate-option to is_modular().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d341fc6f107ec4f2afba517a79fab6270284f4a\">0d341fc</a></td><td><code>Merge branch 'u/jmantysalo/dist-modular' of trac.sagemath.org:sage into t/21354/dist-modular</code></td></tr></table>\n",
    "created_at": "2016-12-05T20:23:00Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315050",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12828474ed167f26a6e93b90ea1c3fbe280f3cd9">1282847</a></td><td><code>Add certificate-option to is_modular().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d341fc6f107ec4f2afba517a79fab6270284f4a">0d341fc</a></td><td><code>Merge branch 'u/jmantysalo/dist-modular' of trac.sagemath.org:sage into t/21354/dist-modular</code></td></tr></table>




---

archive/issue_comments_315051.json:
```json
{
    "body": "**Changing commit** from \"[9b7cb048c625a6cffc5609ecbdf6d7d50131a63a](https://github.com/sagemath/sagetrac-mirror/commit/9b7cb048c625a6cffc5609ecbdf6d7d50131a63a)\" to \"[0d341fc6f107ec4f2afba517a79fab6270284f4a](https://github.com/sagemath/sagetrac-mirror/commit/0d341fc6f107ec4f2afba517a79fab6270284f4a)\".",
    "created_at": "2016-12-05T20:23:00Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9b7cb048c625a6cffc5609ecbdf6d7d50131a63a](https://github.com/sagemath/sagetrac-mirror/commit/9b7cb048c625a6cffc5609ecbdf6d7d50131a63a)" to "[0d341fc6f107ec4f2afba517a79fab6270284f4a](https://github.com/sagemath/sagetrac-mirror/commit/0d341fc6f107ec4f2afba517a79fab6270284f4a)".



---

archive/issue_events_191349.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-12-05T20:23:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191349"
}
```



---

archive/issue_events_191350.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-12-05T20:23:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191350"
}
```



---

archive/issue_comments_315052.json:
```json
{
    "body": "**Changing commit** from \"[0d341fc6f107ec4f2afba517a79fab6270284f4a](https://github.com/sagemath/sagetrac-mirror/commit/0d341fc6f107ec4f2afba517a79fab6270284f4a)\" to \"[096b0b28303c23af9aa179787e05c10947f6b4b8](https://github.com/sagemath/sagetrac-mirror/commit/096b0b28303c23af9aa179787e05c10947f6b4b8)\".",
    "created_at": "2016-12-07T07:06:47Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0d341fc6f107ec4f2afba517a79fab6270284f4a](https://github.com/sagemath/sagetrac-mirror/commit/0d341fc6f107ec4f2afba517a79fab6270284f4a)" to "[096b0b28303c23af9aa179787e05c10947f6b4b8](https://github.com/sagemath/sagetrac-mirror/commit/096b0b28303c23af9aa179787e05c10947f6b4b8)".



---

archive/issue_comments_315053.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/096b0b28303c23af9aa179787e05c10947f6b4b8\">096b0b2</a></td><td><code>.. MATH:: to docstring.</code></td></tr></table>\n",
    "created_at": "2016-12-07T07:06:47Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315053",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/096b0b28303c23af9aa179787e05c10947f6b4b8">096b0b2</a></td><td><code>.. MATH:: to docstring.</code></td></tr></table>




---

archive/issue_comments_315054.json:
```json
{
    "body": "<a id='comment:24'></a>\nContinuing this a little. But after #21903 it seems inconsistent to have this kind of `L`-parameter.",
    "created_at": "2016-12-07T07:08:04Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315054",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:24'></a>
Continuing this a little. But after #21903 it seems inconsistent to have this kind of `L`-parameter.



---

archive/issue_comments_315055.json:
```json
{
    "body": "<a id='comment:25'></a>\nI'm not so sure about that. However, if you really don't want to deal with a certificate with `L`, then it should raise a `NotImplementedError` because there should be a certificate in principle.",
    "created_at": "2016-12-07T15:07:29Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315055",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>
I'm not so sure about that. However, if you really don't want to deal with a certificate with `L`, then it should raise a `NotImplementedError` because there should be a certificate in principle.



---

archive/issue_comments_315056.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b411a7ff289f0e1ad7410ad6fcc7786bd778f95\">8b411a7</a></td><td><code>Add certificate-option to is_modular().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87cbd9add6caeede6287de32b1f839fea34b3c9d\">87cbd9a</a></td><td><code>.. MATH:: to docstring.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1069ab728bf6c2dff739591acfad0c586cb54a54\">1069ab7</a></td><td><code>Merge branch 'u/jmantysalo/dist-modular' of trac.sagemath.org:sage into t/21354/dist-modular</code></td></tr></table>\n",
    "created_at": "2016-12-11T07:14:39Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315056",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b411a7ff289f0e1ad7410ad6fcc7786bd778f95">8b411a7</a></td><td><code>Add certificate-option to is_modular().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87cbd9add6caeede6287de32b1f839fea34b3c9d">87cbd9a</a></td><td><code>.. MATH:: to docstring.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1069ab728bf6c2dff739591acfad0c586cb54a54">1069ab7</a></td><td><code>Merge branch 'u/jmantysalo/dist-modular' of trac.sagemath.org:sage into t/21354/dist-modular</code></td></tr></table>




---

archive/issue_comments_315057.json:
```json
{
    "body": "**Changing commit** from \"[096b0b28303c23af9aa179787e05c10947f6b4b8](https://github.com/sagemath/sagetrac-mirror/commit/096b0b28303c23af9aa179787e05c10947f6b4b8)\" to \"[1069ab728bf6c2dff739591acfad0c586cb54a54](https://github.com/sagemath/sagetrac-mirror/commit/1069ab728bf6c2dff739591acfad0c586cb54a54)\".",
    "created_at": "2016-12-11T07:14:39Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315057",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[096b0b28303c23af9aa179787e05c10947f6b4b8](https://github.com/sagemath/sagetrac-mirror/commit/096b0b28303c23af9aa179787e05c10947f6b4b8)" to "[1069ab728bf6c2dff739591acfad0c586cb54a54](https://github.com/sagemath/sagetrac-mirror/commit/1069ab728bf6c2dff739591acfad0c586cb54a54)".



---

archive/issue_comments_315058.json:
```json
{
    "body": "**Changing commit** from \"[1069ab728bf6c2dff739591acfad0c586cb54a54](https://github.com/sagemath/sagetrac-mirror/commit/1069ab728bf6c2dff739591acfad0c586cb54a54)\" to \"[5e46e5423e05c69a006b893842c39434fbab912f](https://github.com/sagemath/sagetrac-mirror/commit/5e46e5423e05c69a006b893842c39434fbab912f)\".",
    "created_at": "2016-12-14T09:31:16Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315058",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1069ab728bf6c2dff739591acfad0c586cb54a54](https://github.com/sagemath/sagetrac-mirror/commit/1069ab728bf6c2dff739591acfad0c586cb54a54)" to "[5e46e5423e05c69a006b893842c39434fbab912f](https://github.com/sagemath/sagetrac-mirror/commit/5e46e5423e05c69a006b893842c39434fbab912f)".



---

archive/issue_comments_315059.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e46e5423e05c69a006b893842c39434fbab912f\">5e46e54</a></td><td><code>Allow L and certificate together.</code></td></tr></table>\n",
    "created_at": "2016-12-14T09:31:16Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e46e5423e05c69a006b893842c39434fbab912f">5e46e54</a></td><td><code>Allow L and certificate together.</code></td></tr></table>




---

archive/issue_events_191351.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-12-14T09:35:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191351"
}
```



---

archive/issue_events_191352.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-12-14T09:35:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191352"
}
```



---

archive/issue_comments_315060.json:
```json
{
    "body": "<a id='comment:28'></a>\nOK, here it is.\n\nI also mark this as a bug correction. Current version will return `False` from `Posets.PentagonPoset().is_modular(L=[0])` which is an error. Also the docstring seems to be incorrect: It says \"An element **x** in a lattice L is modular\", but it should be \"An element **b** in a lattice L is modular\"; compare to the Wikipedia article it refers.",
    "created_at": "2016-12-14T09:35:27Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315060",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:28'></a>
OK, here it is.

I also mark this as a bug correction. Current version will return `False` from `Posets.PentagonPoset().is_modular(L=[0])` which is an error. Also the docstring seems to be incorrect: It says "An element **x** in a lattice L is modular", but it should be "An element **b** in a lattice L is modular"; compare to the Wikipedia article it refers.



---

archive/issue_events_191353.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-12-14T09:35:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191353"
}
```



---

archive/issue_events_191354.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-12-14T09:35:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191354"
}
```



---

archive/issue_comments_315061.json:
```json
{
    "body": "<a id='comment:29'></a>\nThank you.\n\nHowever, looking at the previous documentation, I like the flow better (1 element modular and then the definition for the entire poset). You can also use `\\neq` instead of `\\not=`.\n\nAnother possible optimization, which would mean more work, would be to push the actual comparison tests to `HasseDiagram` and just convert back the elements in the certificate. However, we don't have to do this on this ticket.",
    "created_at": "2016-12-14T15:43:55Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315061",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'></a>
Thank you.

However, looking at the previous documentation, I like the flow better (1 element modular and then the definition for the entire poset). You can also use `\neq` instead of `\not=`.

Another possible optimization, which would mean more work, would be to push the actual comparison tests to `HasseDiagram` and just convert back the elements in the certificate. However, we don't have to do this on this ticket.



---

archive/issue_comments_315062.json:
```json
{
    "body": "**Changing commit** from \"[5e46e5423e05c69a006b893842c39434fbab912f](https://github.com/sagemath/sagetrac-mirror/commit/5e46e5423e05c69a006b893842c39434fbab912f)\" to \"[9404a525957ccd7efee3c929c0d72afcdd329a69](https://github.com/sagemath/sagetrac-mirror/commit/9404a525957ccd7efee3c929c0d72afcdd329a69)\".",
    "created_at": "2016-12-16T12:47:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315062",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5e46e5423e05c69a006b893842c39434fbab912f](https://github.com/sagemath/sagetrac-mirror/commit/5e46e5423e05c69a006b893842c39434fbab912f)" to "[9404a525957ccd7efee3c929c0d72afcdd329a69](https://github.com/sagemath/sagetrac-mirror/commit/9404a525957ccd7efee3c929c0d72afcdd329a69)".



---

archive/issue_comments_315063.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9404a525957ccd7efee3c929c0d72afcdd329a69\">9404a52</a></td><td><code>Docstring modification.</code></td></tr></table>\n",
    "created_at": "2016-12-16T12:47:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9404a525957ccd7efee3c929c0d72afcdd329a69">9404a52</a></td><td><code>Docstring modification.</code></td></tr></table>




---

archive/issue_comments_315064.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [@tscrim](#comment%3A29):\n\n> However, looking at the previous documentation, I like the flow better (1 element modular and then the definition for the entire poset).\n\nWell, yes and no. This is more logical if we think the function as a whole. OTOH if we see `is_modular()` without `L`-parameter a \"main function\" for this, then it should be said first. Anyways, I changed that.\n\n> Another possible optimization, which would mean more work, would be to push the actual comparison tests to `HasseDiagram` and just convert back the elements in the certificate. However, we don't have to do this on this ticket.\n\nTrue, but even more than that I should think about the algorithm itself. No time for that for now.",
    "created_at": "2016-12-16T12:51:47Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315064",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:31'></a>
Replying to [@tscrim](#comment%3A29):

> However, looking at the previous documentation, I like the flow better (1 element modular and then the definition for the entire poset).

Well, yes and no. This is more logical if we think the function as a whole. OTOH if we see `is_modular()` without `L`-parameter a "main function" for this, then it should be said first. Anyways, I changed that.

> Another possible optimization, which would mean more work, would be to push the actual comparison tests to `HasseDiagram` and just convert back the elements in the certificate. However, we don't have to do this on this ticket.

True, but even more than that I should think about the algorithm itself. No time for that for now.



---

archive/issue_comments_315065.json:
```json
{
    "body": "<a id='comment:32'></a>\nMore modifications needed for the docstring?",
    "created_at": "2016-12-27T16:39:32Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315065",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:32'></a>
More modifications needed for the docstring?



---

archive/issue_comments_315066.json:
```json
{
    "body": "<a id='comment:33'></a>\nI would change it to:\n\n```\n        .. MATH::\n\n            x \\vee (a \\wedge b) = (x \\vee a) \\wedge b\n\n        for every element `x \\leq b` and `a`.\n```\nOtherwise LGTM and you can set a positive review on my behalf.",
    "created_at": "2017-01-02T00:50:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315066",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:33'></a>
I would change it to:

```
        .. MATH::

            x \vee (a \wedge b) = (x \vee a) \wedge b

        for every element `x \leq b` and `a`.
```
Otherwise LGTM and you can set a positive review on my behalf.



---

archive/issue_comments_315067.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2017-01-02T00:50:59Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315067",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_315068.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68d40bda628cbe687772e524dbc40300d1e3a6b6\">68d40bd</a></td><td><code>Docstring minor modification.</code></td></tr></table>\n",
    "created_at": "2017-01-02T07:12:56Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315068",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68d40bda628cbe687772e524dbc40300d1e3a6b6">68d40bd</a></td><td><code>Docstring minor modification.</code></td></tr></table>




---

archive/issue_comments_315069.json:
```json
{
    "body": "**Changing commit** from \"[9404a525957ccd7efee3c929c0d72afcdd329a69](https://github.com/sagemath/sagetrac-mirror/commit/9404a525957ccd7efee3c929c0d72afcdd329a69)\" to \"[68d40bda628cbe687772e524dbc40300d1e3a6b6](https://github.com/sagemath/sagetrac-mirror/commit/68d40bda628cbe687772e524dbc40300d1e3a6b6)\".",
    "created_at": "2017-01-02T07:12:56Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315069",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9404a525957ccd7efee3c929c0d72afcdd329a69](https://github.com/sagemath/sagetrac-mirror/commit/9404a525957ccd7efee3c929c0d72afcdd329a69)" to "[68d40bda628cbe687772e524dbc40300d1e3a6b6](https://github.com/sagemath/sagetrac-mirror/commit/68d40bda628cbe687772e524dbc40300d1e3a6b6)".



---

archive/issue_events_191355.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-01-02T07:14:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "milestone": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191355"
}
```



---

archive/issue_events_191356.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-01-02T07:14:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191356"
}
```



---

archive/issue_comments_315070.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [@tscrim](#comment%3A33):\n> I would change it to - -\n\nTrue, better now. Thanks!\n\nrc1 is out, also changed milestone.",
    "created_at": "2017-01-02T07:14:20Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315070",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:35'></a>
Replying to [@tscrim](#comment%3A33):
> I would change it to - -

True, better now. Thanks!

rc1 is out, also changed milestone.



---

archive/issue_events_191357.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-01-02T07:14:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191357"
}
```



---

archive/issue_events_191358.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-01-02T07:14:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191358"
}
```



---

archive/issue_events_191359.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-18T20:39:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191359"
}
```



---

archive/issue_events_191360.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6e450be96ea836fcad8a3cb9e0cd1ff6879689f6",
    "created_at": "2017-01-18T20:39:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21354#event-191360"
}
```



---

archive/issue_comments_315071.json:
```json
{
    "body": "**Changing branch** from \"[u/jmantysalo/dist-modular](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/dist-modular)\" to \"[68d40bda628cbe687772e524dbc40300d1e3a6b6](https://github.com/sagemath/sagetrac-mirror/commit/68d40bda628cbe687772e524dbc40300d1e3a6b6)\".",
    "created_at": "2017-01-18T20:39:43Z",
    "issue": "https://github.com/sagemath/sage/issues/21354",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21354#issuecomment-315071",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jmantysalo/dist-modular](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/dist-modular)" to "[68d40bda628cbe687772e524dbc40300d1e3a6b6](https://github.com/sagemath/sagetrac-mirror/commit/68d40bda628cbe687772e524dbc40300d1e3a6b6)".
