# Issue 21696: fix the use of inline in multiple .pxd files

archive/issues_021459.json:
```json
{
    "body": "clang rejects code of the form\n\n```\n[sagelib-7.4.rc0] [  1/373] clang -fno-strict-aliasing -I/Users/fbissey/build/sage/local/var/tmp/sage/build/python2-2.7.10.p2/include -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -I/Users/fbissey/build/sage/local/lib/python2.7/site-packages/cysignals -I/Users/fbissey/build/sage/local/include -I/Users/fbissey/build/sage/local/include/python2.7 -I/Users/fbissey/build/sage/local/lib/python2.7/site-packages/numpy/core/include -I/Users/fbissey/build/sage/src -I/Users/fbissey/build/sage/src/sage/ext -I/Users/fbissey/build/sage/src/build/cythonized -I/Users/fbissey/build/sage/src/build/cythonized/sage/ext -I/Users/fbissey/build/sage/local/include/python2.7 -c /Users/fbissey/build/sage/src/build/cythonized/sage/graphs/graph_decompositions/vertex_separation.c -o build/temp.macosx-10.9-x86_64-2.7/Users/fbissey/build/sage/src/build/cythonized/sage/graphs/graph_decompositions/vertex_separation.o -fno-strict-aliasing\n[sagelib-7.4.rc0] /Users/fbissey/build/sage/src/build/cythonized/sage/graphs/graph_decompositions/vertex_separation.c:1334:8: error: 'inline' can only appear on functions\n[sagelib-7.4.rc0] static CYTHON_INLINE int (*__pyx_f_4sage_6graphs_20graph_decompositions_12fast_digraph_compute_out_neighborhood_cardinality)(struct __pyx_obj_4sage_6graphs_20graph_decompositions_12fast_digraph_FastDigraph *, int); /*proto*/\n[sagelib-7.4.rc0]        ^\n[sagelib-7.4.rc0] /Users/fbissey/build/sage/src/build/cythonized/sage/graphs/graph_decompositions/vertex_separation.c:257:27: note: expanded from macro 'CYTHON_INLINE'\n[sagelib-7.4.rc0]     #define CYTHON_INLINE __inline__\n[sagelib-7.4.rc0]                           ^\n[sagelib-7.4.rc0] /Users/fbissey/build/sage/src/build/cythonized/sage/graphs/graph_decompositions/vertex_separation.c:1335:8: error: 'inline' can only appear on functions\n[sagelib-7.4.rc0] static CYTHON_INLINE int (*__pyx_f_4sage_6graphs_20graph_decompositions_12fast_digraph_popcount32)(int); /*proto*/\n[sagelib-7.4.rc0]        ^\n[sagelib-7.4.rc0] /Users/fbissey/build/sage/src/build/cythonized/sage/graphs/graph_decompositions/vertex_separation.c:257:27: note: expanded from macro 'CYTHON_INLINE'\n[sagelib-7.4.rc0]     #define CYTHON_INLINE __inline__\n[sagelib-7.4.rc0]                           ^\n[sagelib-7.4.rc0] 2 errors generated.\n```\nin various locations. This is due to the abuse of the keyword `inline` in declarations in `pxd` files.\n\nBranch/Commit: cf2171d762ca618ea76bde40fe251731ed13f8f0\n\nReviewer: Jeroen Demeyer\n\nAuthor: Fran\u00e7ois Bissey\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21696\n\n",
    "closed_at": "2016-10-29T14:27:40Z",
    "created_at": "2016-10-13T09:42:56Z",
    "labels": [
        "component: cython",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "fix the use of inline in multiple .pxd files",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21696",
    "user": "https://github.com/kiwifb"
}
```
clang rejects code of the form

```
[sagelib-7.4.rc0] [  1/373] clang -fno-strict-aliasing -I/Users/fbissey/build/sage/local/var/tmp/sage/build/python2-2.7.10.p2/include -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -I/Users/fbissey/build/sage/local/lib/python2.7/site-packages/cysignals -I/Users/fbissey/build/sage/local/include -I/Users/fbissey/build/sage/local/include/python2.7 -I/Users/fbissey/build/sage/local/lib/python2.7/site-packages/numpy/core/include -I/Users/fbissey/build/sage/src -I/Users/fbissey/build/sage/src/sage/ext -I/Users/fbissey/build/sage/src/build/cythonized -I/Users/fbissey/build/sage/src/build/cythonized/sage/ext -I/Users/fbissey/build/sage/local/include/python2.7 -c /Users/fbissey/build/sage/src/build/cythonized/sage/graphs/graph_decompositions/vertex_separation.c -o build/temp.macosx-10.9-x86_64-2.7/Users/fbissey/build/sage/src/build/cythonized/sage/graphs/graph_decompositions/vertex_separation.o -fno-strict-aliasing
[sagelib-7.4.rc0] /Users/fbissey/build/sage/src/build/cythonized/sage/graphs/graph_decompositions/vertex_separation.c:1334:8: error: 'inline' can only appear on functions
[sagelib-7.4.rc0] static CYTHON_INLINE int (*__pyx_f_4sage_6graphs_20graph_decompositions_12fast_digraph_compute_out_neighborhood_cardinality)(struct __pyx_obj_4sage_6graphs_20graph_decompositions_12fast_digraph_FastDigraph *, int); /*proto*/
[sagelib-7.4.rc0]        ^
[sagelib-7.4.rc0] /Users/fbissey/build/sage/src/build/cythonized/sage/graphs/graph_decompositions/vertex_separation.c:257:27: note: expanded from macro 'CYTHON_INLINE'
[sagelib-7.4.rc0]     #define CYTHON_INLINE __inline__
[sagelib-7.4.rc0]                           ^
[sagelib-7.4.rc0] /Users/fbissey/build/sage/src/build/cythonized/sage/graphs/graph_decompositions/vertex_separation.c:1335:8: error: 'inline' can only appear on functions
[sagelib-7.4.rc0] static CYTHON_INLINE int (*__pyx_f_4sage_6graphs_20graph_decompositions_12fast_digraph_popcount32)(int); /*proto*/
[sagelib-7.4.rc0]        ^
[sagelib-7.4.rc0] /Users/fbissey/build/sage/src/build/cythonized/sage/graphs/graph_decompositions/vertex_separation.c:257:27: note: expanded from macro 'CYTHON_INLINE'
[sagelib-7.4.rc0]     #define CYTHON_INLINE __inline__
[sagelib-7.4.rc0]                           ^
[sagelib-7.4.rc0] 2 errors generated.
```
in various locations. This is due to the abuse of the keyword `inline` in declarations in `pxd` files.

Branch/Commit: cf2171d762ca618ea76bde40fe251731ed13f8f0

Reviewer: Jeroen Demeyer

Author: François Bissey

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21696





---

archive/issue_comments_400368.json:
```json
{
    "body": "<a id='comment:1'></a>\nFirst batch. There are probably many more. But those are the ones causing trouble at this stage.\n\n---\nNew commits:\n|                                                                                                                                          |                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[a2c0d99](https://git.sagemath.org/sage.git/commit?id=a2c0d99c043af6167964cd7faf760b1d948a60f7)|`fixing all the declarations revealed by clang so far.`|",
    "created_at": "2016-10-13T10:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400368",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:1'></a>
First batch. There are probably many more. But those are the ones causing trouble at this stage.

---
New commits:
|                                                                                                                                          |                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[a2c0d99](https://git.sagemath.org/sage.git/commit?id=a2c0d99c043af6167964cd7faf760b1d948a60f7)|`fixing all the declarations revealed by clang so far.`|



---

archive/issue_comments_400369.json:
```json
{
    "body": "Changing author from \"\" to \"Fran\u00e7ois Bissey\"",
    "created_at": "2016-10-13T10:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400369",
    "user": "https://github.com/kiwifb"
}
```

Changing author from "" to "François Bissey"



---

archive/issue_comments_400370.json:
```json
{
    "body": "Changing commit from \"\" to \"a2c0d99c043af6167964cd7faf760b1d948a60f7\"",
    "created_at": "2016-10-13T10:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400370",
    "user": "https://github.com/kiwifb"
}
```

Changing commit from "" to "a2c0d99c043af6167964cd7faf760b1d948a60f7"



---

archive/issue_comments_400371.json:
```json
{
    "body": "Changing branch from \"\" to \"u/fbissey/cython_inline\"",
    "created_at": "2016-10-13T10:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400371",
    "user": "https://github.com/kiwifb"
}
```

Changing branch from "" to "u/fbissey/cython_inline"



---

archive/issue_comments_400372.json:
```json
{
    "body": "Changing component from porting to cython.",
    "created_at": "2016-10-13T12:27:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400372",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from porting to cython.



---

archive/issue_comments_400373.json:
```json
{
    "body": "<a id='comment:2'></a>\nLet me know when this is ready for review.",
    "created_at": "2016-10-13T12:27:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400373",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
Let me know when this is ready for review.



---

archive/issue_comments_400374.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2016-10-13T12:27:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400374",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_400375.json:
```json
{
    "body": "Changing commit from \"a2c0d99c043af6167964cd7faf760b1d948a60f7\" to \"6cd6241491b5970f894b6cc201f7b8add0dc4b03\"",
    "created_at": "2016-10-14T00:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400375",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a2c0d99c043af6167964cd7faf760b1d948a60f7" to "6cd6241491b5970f894b6cc201f7b8add0dc4b03"



---

archive/issue_comments_400376.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[6cd6241](https://git.sagemath.org/sage.git/commit/?id=6cd6241491b5970f894b6cc201f7b8add0dc4b03)|`inline - batch 2`|",
    "created_at": "2016-10-14T00:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400376",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[6cd6241](https://git.sagemath.org/sage.git/commit/?id=6cd6241491b5970f894b6cc201f7b8add0dc4b03)|`inline - batch 2`|



---

archive/issue_comments_400377.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[cf2171d](https://git.sagemath.org/sage.git/commit/?id=cf2171d762ca618ea76bde40fe251731ed13f8f0)|`cython inline batch 3`|",
    "created_at": "2016-10-14T01:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400377",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[cf2171d](https://git.sagemath.org/sage.git/commit/?id=cf2171d762ca618ea76bde40fe251731ed13f8f0)|`cython inline batch 3`|



---

archive/issue_comments_400378.json:
```json
{
    "body": "Changing commit from \"6cd6241491b5970f894b6cc201f7b8add0dc4b03\" to \"cf2171d762ca618ea76bde40fe251731ed13f8f0\"",
    "created_at": "2016-10-14T01:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400378",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6cd6241491b5970f894b6cc201f7b8add0dc4b03" to "cf2171d762ca618ea76bde40fe251731ed13f8f0"



---

archive/issue_comments_400379.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-10-15T09:09:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400379",
    "user": "https://github.com/kiwifb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_400380.json:
```json
{
    "body": "<a id='comment:5'></a>\nWhile I am stuck in #21701 with 9 cythonized files to go, we may as well merge those. If we find more in the last 9 we can open a new ticket.",
    "created_at": "2016-10-15T09:09:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400380",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>
While I am stuck in #21701 with 9 cythonized files to go, we may as well merge those. If we find more in the last 9 we can open a new ticket.



---

archive/issue_comments_400381.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-10-15T11:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400381",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_400382.json:
```json
{
    "body": "Changing branch from \"u/fbissey/cython_inline\" to \"cf2171d762ca618ea76bde40fe251731ed13f8f0\"",
    "created_at": "2016-10-29T14:27:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400382",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/fbissey/cython_inline" to "cf2171d762ca618ea76bde40fe251731ed13f8f0"



---

archive/issue_events_057452.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-29T14:27:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21696#event-57452"
}
```



---

archive/issue_comments_400383.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-10-29T14:27:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21696#issuecomment-400383",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
