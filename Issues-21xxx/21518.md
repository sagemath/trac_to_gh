# Issue 21518: Integer log is puzzled by Python int argument

archive/issues_021281.json:
```json
{
    "body": "\n```\nsage: ZZ(8).log(int(2))\nlog(8)/log(2)\n```\n\nBranch/Commit: [ab830ba125650250d003cc52e540993f244d1be2](https://github.com/sagemath/sagetrac-mirror/commit/ab830ba125650250d003cc52e540993f244d1be2)\n\nReviewer: Travis Scrimshaw\n\nAuthor: Ralf Stephan\n\nDependencies: #21517\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21518\n\n",
    "closed_at": "2016-10-05T06:52:56Z",
    "created_at": "2016-09-17T07:15:31Z",
    "labels": [
        "component: numerical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "Integer log is puzzled by Python int argument",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21518",
    "user": "https://github.com/rwst"
}
```

```
sage: ZZ(8).log(int(2))
log(8)/log(2)
```

Branch/Commit: [ab830ba125650250d003cc52e540993f244d1be2](https://github.com/sagemath/sagetrac-mirror/commit/ab830ba125650250d003cc52e540993f244d1be2)

Reviewer: Travis Scrimshaw

Author: Ralf Stephan

Dependencies: #21517

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21518





---

archive/issue_comments_399454.json:
```json
{
    "body": "Changing branch from \"\" to \"u/rws/integer_log_is_puzzled_by_python_int_argument\"",
    "created_at": "2016-09-22T13:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399454",
    "user": "https://github.com/rwst"
}
```

Changing branch from "" to "u/rws/integer_log_is_puzzled_by_python_int_argument"



---

archive/issue_comments_399455.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#21517\"",
    "created_at": "2016-09-22T13:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399455",
    "user": "https://github.com/rwst"
}
```

Changing dependencies from "" to "#21517"



---

archive/issue_comments_399456.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[de1acfa](https://github.com/sagemath/sagetrac-mirror/commit/de1acfad2c24ba8c587eeb84cdba0d88579c614a)|`21517: handle ZZ.log(1/n)`|\n|[3ce2cd2](https://github.com/sagemath/sagetrac-mirror/commit/3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0)|`21518: accept Python ints as log base to ZZ.log`|",
    "created_at": "2016-09-22T13:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399456",
    "user": "https://github.com/rwst"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[de1acfa](https://github.com/sagemath/sagetrac-mirror/commit/de1acfad2c24ba8c587eeb84cdba0d88579c614a)|`21517: handle ZZ.log(1/n)`|
|[3ce2cd2](https://github.com/sagemath/sagetrac-mirror/commit/3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0)|`21518: accept Python ints as log base to ZZ.log`|



---

archive/issue_comments_399457.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-09-22T13:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399457",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_399458.json:
```json
{
    "body": "Changing commit from \"\" to \"3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0\"",
    "created_at": "2016-09-22T13:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399458",
    "user": "https://github.com/rwst"
}
```

Changing commit from "" to "3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0"



---

archive/issue_comments_399459.json:
```json
{
    "body": "Changing author from \"\" to \"Ralf Stephan\"",
    "created_at": "2016-09-22T13:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399459",
    "user": "https://github.com/rwst"
}
```

Changing author from "" to "Ralf Stephan"



---

archive/issue_comments_399460.json:
```json
{
    "body": "<a id='comment:3'></a>\nWhy not `if type(m) == int:`? Or perhaps, a more robust `if m in ZZ:` (or `try: m = Integer(m)`)?",
    "created_at": "2016-09-22T14:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399460",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
Why not `if type(m) == int:`? Or perhaps, a more robust `if m in ZZ:` (or `try: m = Integer(m)`)?



---

archive/issue_comments_399461.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2016-09-22T14:07:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399461",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_399462.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------|\n|[79a5a4a](https://github.com/sagemath/sagetrac-mirror/commit/79a5a4a3a653880fac7a437c6cbd9e11c8930bb0)|`21518: improve code`|",
    "created_at": "2016-09-22T14:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399462",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
|[79a5a4a](https://github.com/sagemath/sagetrac-mirror/commit/79a5a4a3a653880fac7a437c6cbd9e11c8930bb0)|`21518: improve code`|



---

archive/issue_comments_399463.json:
```json
{
    "body": "Changing commit from \"3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0\" to \"79a5a4a3a653880fac7a437c6cbd9e11c8930bb0\"",
    "created_at": "2016-09-22T14:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399463",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0" to "79a5a4a3a653880fac7a437c6cbd9e11c8930bb0"



---

archive/issue_comments_399464.json:
```json
{
    "body": "Changing commit from \"79a5a4a3a653880fac7a437c6cbd9e11c8930bb0\" to \"33a0de346639a01269259433e34033950122bb47\"",
    "created_at": "2016-09-22T15:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399464",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "79a5a4a3a653880fac7a437c6cbd9e11c8930bb0" to "33a0de346639a01269259433e34033950122bb47"



---

archive/issue_comments_399465.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[4aba8a9](https://github.com/sagemath/sagetrac-mirror/commit/4aba8a99c827b6ca3088c5703a98bb0b0c1271e9)|`21517: avoid duplicate computations`|\n|[33a0de3](https://github.com/sagemath/sagetrac-mirror/commit/33a0de346639a01269259433e34033950122bb47)|`Merge branch 'u/rws/log_of_integer_to_base_1_n_can_have_exact_numeric_results' of trac.sagemath.org:sage into t/21518/integer_log_is_puzzled_by_python_int_argument`|",
    "created_at": "2016-09-22T15:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399465",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[4aba8a9](https://github.com/sagemath/sagetrac-mirror/commit/4aba8a99c827b6ca3088c5703a98bb0b0c1271e9)|`21517: avoid duplicate computations`|
|[33a0de3](https://github.com/sagemath/sagetrac-mirror/commit/33a0de346639a01269259433e34033950122bb47)|`Merge branch 'u/rws/log_of_integer_to_base_1_n_can_have_exact_numeric_results' of trac.sagemath.org:sage into t/21518/integer_log_is_puzzled_by_python_int_argument`|



---

archive/issue_comments_399466.json:
```json
{
    "body": "<a id='comment:7'></a>\nWhy is the `if m is None:` case in the try block? Could we just test that first?",
    "created_at": "2016-09-22T16:18:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399466",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Why is the `if m is None:` case in the try block? Could we just test that first?



---

archive/issue_comments_399467.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[6e250f0](https://github.com/sagemath/sagetrac-mirror/commit/6e250f0c48f717763c358708c8154eb2770176a9)|`21518: reorder some lines`|",
    "created_at": "2016-09-23T06:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399467",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[6e250f0](https://github.com/sagemath/sagetrac-mirror/commit/6e250f0c48f717763c358708c8154eb2770176a9)|`21518: reorder some lines`|



---

archive/issue_comments_399468.json:
```json
{
    "body": "Changing commit from \"33a0de346639a01269259433e34033950122bb47\" to \"6e250f0c48f717763c358708c8154eb2770176a9\"",
    "created_at": "2016-09-23T06:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399468",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "33a0de346639a01269259433e34033950122bb47" to "6e250f0c48f717763c358708c8154eb2770176a9"



---

archive/issue_comments_399469.json:
```json
{
    "body": "<a id='comment:9'></a>\nOne last thing, the `if m in None:` block is 1 over indented. Once you make this change, you can set a positive review on my behalf.",
    "created_at": "2016-09-28T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399469",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
One last thing, the `if m in None:` block is 1 over indented. Once you make this change, you can set a positive review on my behalf.



---

archive/issue_comments_399470.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[ab830ba](https://github.com/sagemath/sagetrac-mirror/commit/ab830ba125650250d003cc52e540993f244d1be2)|`21518: cosmetics`|",
    "created_at": "2016-09-29T06:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399470",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[ab830ba](https://github.com/sagemath/sagetrac-mirror/commit/ab830ba125650250d003cc52e540993f244d1be2)|`21518: cosmetics`|



---

archive/issue_comments_399471.json:
```json
{
    "body": "Changing commit from \"6e250f0c48f717763c358708c8154eb2770176a9\" to \"ab830ba125650250d003cc52e540993f244d1be2\"",
    "created_at": "2016-09-29T06:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399471",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6e250f0c48f717763c358708c8154eb2770176a9" to "ab830ba125650250d003cc52e540993f244d1be2"



---

archive/issue_comments_399472.json:
```json
{
    "body": "<a id='comment:11'></a>\nThanks for the review.",
    "created_at": "2016-09-29T06:31:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399472",
    "user": "https://github.com/rwst"
}
```

<a id='comment:11'></a>
Thanks for the review.



---

archive/issue_comments_399473.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-09-29T06:31:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399473",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_399474.json:
```json
{
    "body": "Changing branch from \"u/rws/integer_log_is_puzzled_by_python_int_argument\" to \"ab830ba125650250d003cc52e540993f244d1be2\"",
    "created_at": "2016-10-05T06:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399474",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/rws/integer_log_is_puzzled_by_python_int_argument" to "ab830ba125650250d003cc52e540993f244d1be2"



---

archive/issue_comments_399475.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-10-05T06:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-399475",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_064943.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-05T06:52:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21518#event-64943"
}
```
