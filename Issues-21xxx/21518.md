# Issue 21518: Integer log is puzzled by Python int argument

archive/issues_021281.json:
```json
{
    "body": "\n```\nsage: ZZ(8).log(int(2))\nlog(8)/log(2)\n```\n\n**Branch/Commit:** [ab830ba125650250d003cc52e540993f244d1be2](https://github.com/sagemath/sagetrac-mirror/commit/ab830ba125650250d003cc52e540993f244d1be2)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Ralf Stephan\n\n**Dependencies:** #21517\n\nIssue created by migration from https://trac.sagemath.org/ticket/21518\n\n",
    "closed_at": "2016-10-05T06:52:56Z",
    "created_at": "2016-09-17T07:15:31Z",
    "labels": [
        "component: numerical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "Integer log is puzzled by Python int argument",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21518",
    "user": "https://github.com/rwst"
}
```

```
sage: ZZ(8).log(int(2))
log(8)/log(2)
```

**Branch/Commit:** [ab830ba125650250d003cc52e540993f244d1be2](https://github.com/sagemath/sagetrac-mirror/commit/ab830ba125650250d003cc52e540993f244d1be2)

**Reviewer:** Travis Scrimshaw

**Author:** Ralf Stephan

**Dependencies:** #21517

Issue created by migration from https://trac.sagemath.org/ticket/21518





---

archive/issue_comments_319922.json:
```json
{
    "body": "**Branch:** [u/rws/integer_log_is_puzzled_by_python_int_argument](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/integer_log_is_puzzled_by_python_int_argument)",
    "created_at": "2016-09-22T13:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319922",
    "user": "https://github.com/rwst"
}
```

**Branch:** [u/rws/integer_log_is_puzzled_by_python_int_argument](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/integer_log_is_puzzled_by_python_int_argument)



---

archive/issue_comments_319923.json:
```json
{
    "body": "**Dependencies:** #21517",
    "created_at": "2016-09-22T13:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319923",
    "user": "https://github.com/rwst"
}
```

**Dependencies:** #21517



---

archive/issue_comments_319924.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de1acfad2c24ba8c587eeb84cdba0d88579c614a\">de1acfa</a></td><td><code>21517: handle ZZ.log(1/n)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0\">3ce2cd2</a></td><td><code>21518: accept Python ints as log base to ZZ.log</code></td></tr></table>\n",
    "created_at": "2016-09-22T13:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319924",
    "user": "https://github.com/rwst"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de1acfad2c24ba8c587eeb84cdba0d88579c614a">de1acfa</a></td><td><code>21517: handle ZZ.log(1/n)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0">3ce2cd2</a></td><td><code>21518: accept Python ints as log base to ZZ.log</code></td></tr></table>




---

archive/issue_events_196506.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-09-22T13:22:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21518#event-196506"
}
```



---

archive/issue_comments_319925.json:
```json
{
    "body": "**Commit:** [3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0](https://github.com/sagemath/sagetrac-mirror/commit/3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0)",
    "created_at": "2016-09-22T13:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319925",
    "user": "https://github.com/rwst"
}
```

**Commit:** [3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0](https://github.com/sagemath/sagetrac-mirror/commit/3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0)



---

archive/issue_comments_319926.json:
```json
{
    "body": "**Author:** Ralf Stephan",
    "created_at": "2016-09-22T13:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319926",
    "user": "https://github.com/rwst"
}
```

**Author:** Ralf Stephan



---

archive/issue_comments_319927.json:
```json
{
    "body": "<a id='comment:3'></a>\nWhy not `if type(m) == int:`? Or perhaps, a more robust `if m in ZZ:` (or `try: m = Integer(m)`)?",
    "created_at": "2016-09-22T14:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319927",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
Why not `if type(m) == int:`? Or perhaps, a more robust `if m in ZZ:` (or `try: m = Integer(m)`)?



---

archive/issue_comments_319928.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2016-09-22T14:07:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319928",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_319929.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79a5a4a3a653880fac7a437c6cbd9e11c8930bb0\">79a5a4a</a></td><td><code>21518: improve code</code></td></tr></table>\n",
    "created_at": "2016-09-22T14:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319929",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79a5a4a3a653880fac7a437c6cbd9e11c8930bb0">79a5a4a</a></td><td><code>21518: improve code</code></td></tr></table>




---

archive/issue_comments_319930.json:
```json
{
    "body": "**Changing commit** from \"[3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0](https://github.com/sagemath/sagetrac-mirror/commit/3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0)\" to \"[79a5a4a3a653880fac7a437c6cbd9e11c8930bb0](https://github.com/sagemath/sagetrac-mirror/commit/79a5a4a3a653880fac7a437c6cbd9e11c8930bb0)\".",
    "created_at": "2016-09-22T14:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319930",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0](https://github.com/sagemath/sagetrac-mirror/commit/3ce2cd2f4569ab9f19cb26fe1d1b1304044ae3f0)" to "[79a5a4a3a653880fac7a437c6cbd9e11c8930bb0](https://github.com/sagemath/sagetrac-mirror/commit/79a5a4a3a653880fac7a437c6cbd9e11c8930bb0)".



---

archive/issue_comments_319931.json:
```json
{
    "body": "**Changing commit** from \"[79a5a4a3a653880fac7a437c6cbd9e11c8930bb0](https://github.com/sagemath/sagetrac-mirror/commit/79a5a4a3a653880fac7a437c6cbd9e11c8930bb0)\" to \"[33a0de346639a01269259433e34033950122bb47](https://github.com/sagemath/sagetrac-mirror/commit/33a0de346639a01269259433e34033950122bb47)\".",
    "created_at": "2016-09-22T15:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319931",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[79a5a4a3a653880fac7a437c6cbd9e11c8930bb0](https://github.com/sagemath/sagetrac-mirror/commit/79a5a4a3a653880fac7a437c6cbd9e11c8930bb0)" to "[33a0de346639a01269259433e34033950122bb47](https://github.com/sagemath/sagetrac-mirror/commit/33a0de346639a01269259433e34033950122bb47)".



---

archive/issue_comments_319932.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4aba8a99c827b6ca3088c5703a98bb0b0c1271e9\">4aba8a9</a></td><td><code>21517: avoid duplicate computations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33a0de346639a01269259433e34033950122bb47\">33a0de3</a></td><td><code>Merge branch 'u/rws/log_of_integer_to_base_1_n_can_have_exact_numeric_results' of trac.sagemath.org:sage into t/21518/integer_log_is_puzzled_by_python_int_argument</code></td></tr></table>\n",
    "created_at": "2016-09-22T15:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319932",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4aba8a99c827b6ca3088c5703a98bb0b0c1271e9">4aba8a9</a></td><td><code>21517: avoid duplicate computations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33a0de346639a01269259433e34033950122bb47">33a0de3</a></td><td><code>Merge branch 'u/rws/log_of_integer_to_base_1_n_can_have_exact_numeric_results' of trac.sagemath.org:sage into t/21518/integer_log_is_puzzled_by_python_int_argument</code></td></tr></table>




---

archive/issue_comments_319933.json:
```json
{
    "body": "<a id='comment:7'></a>\nWhy is the `if m is None:` case in the try block? Could we just test that first?",
    "created_at": "2016-09-22T16:18:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319933",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Why is the `if m is None:` case in the try block? Could we just test that first?



---

archive/issue_comments_319934.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e250f0c48f717763c358708c8154eb2770176a9\">6e250f0</a></td><td><code>21518: reorder some lines</code></td></tr></table>\n",
    "created_at": "2016-09-23T06:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319934",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e250f0c48f717763c358708c8154eb2770176a9">6e250f0</a></td><td><code>21518: reorder some lines</code></td></tr></table>




---

archive/issue_comments_319935.json:
```json
{
    "body": "**Changing commit** from \"[33a0de346639a01269259433e34033950122bb47](https://github.com/sagemath/sagetrac-mirror/commit/33a0de346639a01269259433e34033950122bb47)\" to \"[6e250f0c48f717763c358708c8154eb2770176a9](https://github.com/sagemath/sagetrac-mirror/commit/6e250f0c48f717763c358708c8154eb2770176a9)\".",
    "created_at": "2016-09-23T06:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319935",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[33a0de346639a01269259433e34033950122bb47](https://github.com/sagemath/sagetrac-mirror/commit/33a0de346639a01269259433e34033950122bb47)" to "[6e250f0c48f717763c358708c8154eb2770176a9](https://github.com/sagemath/sagetrac-mirror/commit/6e250f0c48f717763c358708c8154eb2770176a9)".



---

archive/issue_comments_319936.json:
```json
{
    "body": "<a id='comment:9'></a>\nOne last thing, the `if m in None:` block is 1 over indented. Once you make this change, you can set a positive review on my behalf.",
    "created_at": "2016-09-28T15:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319936",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
One last thing, the `if m in None:` block is 1 over indented. Once you make this change, you can set a positive review on my behalf.



---

archive/issue_comments_319937.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab830ba125650250d003cc52e540993f244d1be2\">ab830ba</a></td><td><code>21518: cosmetics</code></td></tr></table>\n",
    "created_at": "2016-09-29T06:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319937",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab830ba125650250d003cc52e540993f244d1be2">ab830ba</a></td><td><code>21518: cosmetics</code></td></tr></table>




---

archive/issue_comments_319938.json:
```json
{
    "body": "**Changing commit** from \"[6e250f0c48f717763c358708c8154eb2770176a9](https://github.com/sagemath/sagetrac-mirror/commit/6e250f0c48f717763c358708c8154eb2770176a9)\" to \"[ab830ba125650250d003cc52e540993f244d1be2](https://github.com/sagemath/sagetrac-mirror/commit/ab830ba125650250d003cc52e540993f244d1be2)\".",
    "created_at": "2016-09-29T06:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319938",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6e250f0c48f717763c358708c8154eb2770176a9](https://github.com/sagemath/sagetrac-mirror/commit/6e250f0c48f717763c358708c8154eb2770176a9)" to "[ab830ba125650250d003cc52e540993f244d1be2](https://github.com/sagemath/sagetrac-mirror/commit/ab830ba125650250d003cc52e540993f244d1be2)".



---

archive/issue_comments_319939.json:
```json
{
    "body": "<a id='comment:11'></a>\nThanks for the review.",
    "created_at": "2016-09-29T06:31:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319939",
    "user": "https://github.com/rwst"
}
```

<a id='comment:11'></a>
Thanks for the review.



---

archive/issue_events_196507.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-09-29T06:31:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21518#event-196507"
}
```



---

archive/issue_events_196508.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2016-09-29T06:31:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21518#event-196508"
}
```



---

archive/issue_comments_319940.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/integer_log_is_puzzled_by_python_int_argument](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/integer_log_is_puzzled_by_python_int_argument)\" to \"[ab830ba125650250d003cc52e540993f244d1be2](https://github.com/sagemath/sagetrac-mirror/commit/ab830ba125650250d003cc52e540993f244d1be2)\".",
    "created_at": "2016-10-05T06:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21518#issuecomment-319940",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/rws/integer_log_is_puzzled_by_python_int_argument](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/integer_log_is_puzzled_by_python_int_argument)" to "[ab830ba125650250d003cc52e540993f244d1be2](https://github.com/sagemath/sagetrac-mirror/commit/ab830ba125650250d003cc52e540993f244d1be2)".



---

archive/issue_events_196509.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-05T06:52:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21518#event-196509"
}
```



---

archive/issue_events_196510.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-05T06:52:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21518",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21518#event-196510"
}
```
