# Issue 21551: implement shard order for W finite Coxeter group

archive/issues_021314.json:
```json
{
    "assignees": [],
    "body": "it already exists for symmetric groups, let us provide a general implementation\n\n\n\nCC:  @tscrim\n\nBranch/Commit: **[1775973](https://github.com/sagemath/sagetrac-mirror/commit/17759737a94a3577424932a9bc3e40118c46782a)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21551_\n\n",
    "closed_at": "2016-10-03T17:41:49Z",
    "created_at": "2016-09-21T09:09:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "implement shard order for W finite Coxeter group",
    "type": "issue",
    "updated_at": "2016-10-03T17:41:49Z",
    "url": "https://github.com/sagemath/sage/issues/21551",
    "user": "https://github.com/fchapoton"
}
```
it already exists for symmetric groups, let us provide a general implementation



CC:  @tscrim

Branch/Commit: **[1775973](https://github.com/sagemath/sagetrac-mirror/commit/17759737a94a3577424932a9bc3e40118c46782a)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/21551_





---

archive/issue_events_274518.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-21T09:09:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274518"
}
```



---

archive/issue_events_274519.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-21T09:09:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274519"
}
```



---

archive/issue_events_274520.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-21T09:09:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274520"
}
```



---

archive/issue_events_274521.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-21T09:09:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274521"
}
```



---

archive/issue_events_274522.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-21T09:09:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274522"
}
```



---

archive/issue_comments_318970.json:
```json
{
    "body": "Commit: **[f68927a](https://github.com/sagemath/sagetrac-mirror/commit/f68927a05d9f5bf5f7921deaf9447ed2695df901)**",
    "created_at": "2016-09-21T09:09:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318970",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[f68927a](https://github.com/sagemath/sagetrac-mirror/commit/f68927a05d9f5bf5f7921deaf9447ed2695df901)**



---

archive/issue_comments_318971.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f68927a05d9f5bf5f7921deaf9447ed2695df901\">f68927a</a></td><td><code>implementation of shard order for finite Coxeter groups</code></td></tr></table>\n",
    "created_at": "2016-09-21T09:09:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318971",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f68927a05d9f5bf5f7921deaf9447ed2695df901">f68927a</a></td><td><code>implementation of shard order for finite Coxeter groups</code></td></tr></table>




---

archive/issue_comments_318972.json:
```json
{
    "body": "Branch: **[u/chapoton/21551](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21551)**",
    "created_at": "2016-09-21T09:09:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318972",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/21551](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21551)**



---

archive/issue_comments_318973.json:
```json
{
    "body": "Changed commit from **[f68927a](https://github.com/sagemath/sagetrac-mirror/commit/f68927a05d9f5bf5f7921deaf9447ed2695df901)** to **[1949c8e](https://github.com/sagemath/sagetrac-mirror/commit/1949c8e8f0ab44ede687d9b7faa865b83705b69b)**",
    "created_at": "2016-09-21T11:47:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318973",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f68927a](https://github.com/sagemath/sagetrac-mirror/commit/f68927a05d9f5bf5f7921deaf9447ed2695df901)** to **[1949c8e](https://github.com/sagemath/sagetrac-mirror/commit/1949c8e8f0ab44ede687d9b7faa865b83705b69b)**



---

archive/issue_comments_318974.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1949c8e8f0ab44ede687d9b7faa865b83705b69b\">1949c8e</a></td><td><code>trac 21551 adding a cross-reference, some details</code></td></tr></table>\n",
    "created_at": "2016-09-21T11:47:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318974",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1949c8e8f0ab44ede687d9b7faa865b83705b69b">1949c8e</a></td><td><code>trac 21551 adding a cross-reference, some details</code></td></tr></table>




---

archive/issue_comments_318975.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nIs `cov_down_subgroup` short for something?",
    "created_at": "2016-09-21T14:19:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318975",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'>Comment 4:</a>
Is `cov_down_subgroup` short for something?



---

archive/issue_comments_318976.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nHello Travis.\n\nIndeed, one should choose a better name. This is just a notation with Cov and downarrow, in the \"What the Fuss\" reference. One could call that \"subgroup_generated_by_conjugates_of_right_descents\" or something in the same spirit..",
    "created_at": "2016-09-21T14:21:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318976",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'>Comment 5:</a>
Hello Travis.

Indeed, one should choose a better name. This is just a notation with Cov and downarrow, in the "What the Fuss" reference. One could call that "subgroup_generated_by_conjugates_of_right_descents" or something in the same spirit..



---

archive/issue_comments_318977.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nMaybe also make that an hidden method ?",
    "created_at": "2016-09-21T14:22:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318977",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'>Comment 6:</a>
Maybe also make that an hidden method ?



---

archive/issue_comments_318978.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nIn \"Why the Fuss,\" it is called \"covered reflections,\" so how about `covered_reflections_subgroup`?\nAlso, it is a natural construction, so it should not be hidden. Yet, I think it should return the submonoid and then the `shard_poset` should convert it to a `frozenset`.\n\nAlso the arXiv number is missing a 0: `1503.00710`.",
    "created_at": "2016-09-21T14:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318978",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'>Comment 7:</a>
In "Why the Fuss," it is called "covered reflections," so how about `covered_reflections_subgroup`?
Also, it is a natural construction, so it should not be hidden. Yet, I think it should return the submonoid and then the `shard_poset` should convert it to a `frozenset`.

Also the arXiv number is missing a 0: `1503.00710`.



---

archive/issue_comments_318979.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/116f7eb498c3311ff22764a7f86ebe6040579efb\">116f7eb</a></td><td><code>trac 21551 reviewer's suggestions</code></td></tr></table>\n",
    "created_at": "2016-09-21T14:50:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318979",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/116f7eb498c3311ff22764a7f86ebe6040579efb">116f7eb</a></td><td><code>trac 21551 reviewer's suggestions</code></td></tr></table>




---

archive/issue_comments_318980.json:
```json
{
    "body": "Changed commit from **[1949c8e](https://github.com/sagemath/sagetrac-mirror/commit/1949c8e8f0ab44ede687d9b7faa865b83705b69b)** to **[116f7eb](https://github.com/sagemath/sagetrac-mirror/commit/116f7eb498c3311ff22764a7f86ebe6040579efb)**",
    "created_at": "2016-09-21T14:50:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318980",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1949c8e](https://github.com/sagemath/sagetrac-mirror/commit/1949c8e8f0ab44ede687d9b7faa865b83705b69b)** to **[116f7eb](https://github.com/sagemath/sagetrac-mirror/commit/116f7eb498c3311ff22764a7f86ebe6040579efb)**



---

archive/issue_comments_318981.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\ndone. I have chosen to do the lift in \"covered_reflections_subgroup\".",
    "created_at": "2016-09-21T14:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318981",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'>Comment 9:</a>
done. I have chosen to do the lift in "covered_reflections_subgroup".



---

archive/issue_comments_318982.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI am less convinced of returning a list for `covered_reflections_subgroup`; the submonoid (which knows it is a subgroup) seems like the correct object to return given the method name.",
    "created_at": "2016-09-21T15:09:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318982",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'>Comment 10:</a>
I am less convinced of returning a list for `covered_reflections_subgroup`; the submonoid (which knows it is a subgroup) seems like the correct object to return given the method name.



---

archive/issue_comments_318983.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17759737a94a3577424932a9bc3e40118c46782a\">1775973</a></td><td><code>trac 21551 now as a subgroup</code></td></tr></table>\n",
    "created_at": "2016-09-21T15:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318983",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17759737a94a3577424932a9bc3e40118c46782a">1775973</a></td><td><code>trac 21551 now as a subgroup</code></td></tr></table>




---

archive/issue_comments_318984.json:
```json
{
    "body": "Changed commit from **[116f7eb](https://github.com/sagemath/sagetrac-mirror/commit/116f7eb498c3311ff22764a7f86ebe6040579efb)** to **[1775973](https://github.com/sagemath/sagetrac-mirror/commit/17759737a94a3577424932a9bc3e40118c46782a)**",
    "created_at": "2016-09-21T15:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318984",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[116f7eb](https://github.com/sagemath/sagetrac-mirror/commit/116f7eb498c3311ff22764a7f86ebe6040579efb)** to **[1775973](https://github.com/sagemath/sagetrac-mirror/commit/17759737a94a3577424932a9bc3e40118c46782a)**



---

archive/issue_comments_318985.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nok, done",
    "created_at": "2016-09-21T15:22:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318985",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'>Comment 12:</a>
ok, done



---

archive/issue_events_274523.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-09-21T15:25:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274523"
}
```



---

archive/issue_events_274524.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-09-21T15:25:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274524"
}
```



---

archive/issue_comments_318986.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nThanks.",
    "created_at": "2016-09-21T15:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318986",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'>Comment 13:</a>
Thanks.



---

archive/issue_comments_318987.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReviewer name...",
    "created_at": "2016-09-21T20:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318987",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'>Comment 14:</a>
Reviewer name...



---

archive/issue_events_274525.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-09-21T20:17:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274525"
}
```



---

archive/issue_events_274526.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-09-21T20:17:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274526"
}
```



---

archive/issue_comments_318988.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2016-09-21T20:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318988",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_274527.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-09-21T20:27:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274527"
}
```



---

archive/issue_events_274528.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-09-21T20:27:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274528"
}
```



---

archive/issue_comments_318989.json:
```json
{
    "body": "Changed branch from **[u/chapoton/21551](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21551)** to **[1775973](https://github.com/sagemath/sagetrac-mirror/commit/17759737a94a3577424932a9bc3e40118c46782a)**",
    "created_at": "2016-10-03T17:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21551#issuecomment-318989",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/21551](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21551)** to **[1775973](https://github.com/sagemath/sagetrac-mirror/commit/17759737a94a3577424932a9bc3e40118c46782a)**



---

archive/issue_events_274529.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-03T17:41:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274529"
}
```



---

archive/issue_events_274530.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2f62bf8b76a5d8246fe2e3600bdf44c29c8bda50",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-10-03T17:41:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21551",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21551#event-274530"
}
```
