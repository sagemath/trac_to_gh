# Issue 21002: LatticePoset: certificates for non-semimodularity

archive/issues_020765.json:
```json
{
    "body": "Add a `certificate`-option to the functions checking if a lattice is semimodular.\n\n\nCC:  @kevindilks @tscrim\n\nBranch/Commit: c059d46ef3a9f7150f988fc7889dc39ef7defd95\n\nReviewer: Kevin Dilks\n\nAuthor: Jori M\u00e4ntysalo\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21002\n\n",
    "closed_at": "2016-08-29T16:56:41Z",
    "created_at": "2016-07-11T19:08:02Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "LatticePoset: certificates for non-semimodularity",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21002",
    "user": "https://github.com/jm58660"
}
```
Add a `certificate`-option to the functions checking if a lattice is semimodular.


CC:  @kevindilks @tscrim

Branch/Commit: c059d46ef3a9f7150f988fc7889dc39ef7defd95

Reviewer: Kevin Dilks

Author: Jori Mäntysalo

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21002





---

archive/issue_comments_305178.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2016-07-11T19:11:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305178",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_305179.json:
```json
{
    "body": "<a id='comment:1'></a>Kevin: First part is #20980, but a question about interface part:\n\nWhat should be the certificate? I.e. a sublattice, a list of five elements of the sublattice, or list of three elements violating the defining property? Or a choise between those?",
    "created_at": "2016-07-11T19:11:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305179",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:1'></a>Kevin: First part is #20980, but a question about interface part:

What should be the certificate? I.e. a sublattice, a list of five elements of the sublattice, or list of three elements violating the defining property? Or a choise between those?



---

archive/issue_comments_305180.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n-Add a `certificate`-option to the functions checking if a lattice is semimodular, modular or distributive.\n+Add a `certificate`-option to the functions checking if a lattice is semimodular.\n+\n \n Author: Jori M\u00e4ntysalo\n \n```\n",
    "created_at": "2016-07-15T11:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305180",
    "user": "https://github.com/jm58660"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,5 @@
-Add a `certificate`-option to the functions checking if a lattice is semimodular, modular or distributive.
+Add a `certificate`-option to the functions checking if a lattice is semimodular.
+
 
 Author: Jori Mäntysalo
 
```




---

archive/issue_comments_305181.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2016-07-15T11:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305181",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_305182.json:
```json
{
    "body": "<a id='comment:3'></a>I thinked about this, and here is first part.\n\nFirst, this is faster for almost all cases. But for small lattices with already computed meet, join and rank function this is slower. However, the speedup for, say, `BooleanLattice(10)` is big. With current code the time to check semimodularity is 4,9 seconds for first time and 0,6 seconds for second time. With this patch it drops to 0,1 seconds.\n\nSecond, this adds a `certificate`-option.\n\nI thinked this, and I guess we should use this by-definition -certificate, and later implement `isomoprhic_sublattices()`.\n\nI will put this to needs_review and later try to do something similar to `is_modular()` and `is_distributive()`.\n\n---\nNew commits:",
    "created_at": "2016-07-15T11:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305182",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:3'></a>I thinked about this, and here is first part.

First, this is faster for almost all cases. But for small lattices with already computed meet, join and rank function this is slower. However, the speedup for, say, `BooleanLattice(10)` is big. With current code the time to check semimodularity is 4,9 seconds for first time and 0,6 seconds for second time. With this patch it drops to 0,1 seconds.

Second, this adds a `certificate`-option.

I thinked this, and I guess we should use this by-definition -certificate, and later implement `isomoprhic_sublattices()`.

I will put this to needs_review and later try to do something similar to `is_modular()` and `is_distributive()`.

---
New commits:



---

archive/issue_events_056158.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-07-15T11:32:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21002#event-56158"
}
```



---

archive/issue_comments_305183.json:
```json
{
    "body": "<a id='comment:4'></a>rc0 is out.",
    "created_at": "2016-08-04T06:18:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305183",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:4'></a>rc0 is out.



---

archive/issue_events_056159.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-08-04T06:18:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21002#event-56159"
}
```



---

archive/issue_events_056160.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-08-04T06:18:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21002#event-56160"
}
```



---

archive/issue_comments_305184.json:
```json
{
    "body": "<a id='comment:5'></a>Just pinging... Nothing very complicated here.",
    "created_at": "2016-08-25T04:51:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305184",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:5'></a>Just pinging... Nothing very complicated here.



---

archive/issue_comments_305185.json:
```json
{
    "body": "<a id='comment:6'></a>Even though it's a \"hidden\" function, I don't think the method in `hasse_diagram.py` should be called `is_semimodular()` if it's not in some way return a boolean (either directly, or as part of a tuple along with certificate).",
    "created_at": "2016-08-25T18:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305185",
    "user": "https://github.com/kevindilks"
}
```

<a id='comment:6'></a>Even though it's a "hidden" function, I don't think the method in `hasse_diagram.py` should be called `is_semimodular()` if it's not in some way return a boolean (either directly, or as part of a tuple along with certificate).



---

archive/issue_comments_305186.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T19:21:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305186",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_305187.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-25T20:48:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305187",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_305188.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:6 kdilks]:\n> Even though it's a \"hidden\" function, I don't think the method in `hasse_diagram.py` should be called `is_semimodular()` if it's not in some way return a boolean (either directly, or as part of a tuple along with certificate).\n\n\nTrue. Changed that.",
    "created_at": "2016-08-25T20:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305188",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:9'></a>Replying to [comment:6 kdilks]:
> Even though it's a "hidden" function, I don't think the method in `hasse_diagram.py` should be called `is_semimodular()` if it's not in some way return a boolean (either directly, or as part of a tuple along with certificate).


True. Changed that.



---

archive/issue_comments_305189.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-08-26T19:30:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305189",
    "user": "https://github.com/kevindilks"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_056161.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-08-29T16:56:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21002#event-56161"
}
```



---

archive/issue_comments_305190.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-08-29T16:56:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21002#issuecomment-305190",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
