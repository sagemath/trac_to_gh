# Issue 21703: Interface PARI precision in bits

archive/issues_021466.json:
```json
{
    "assignees": [],
    "body": "PARI now stores its precision internally in bits (as opposed to decimal). This ticket adds an interface for the PARI precision in bits. It also removes the `PariInstance._real_precision` attribute and rewrites the documentation about PARI precision.\n\nCC:  @defeo\n\nBranch/Commit: **[a7099ae](https://github.com/sagemath/sagetrac-mirror/commit/a7099ae741973f0db3a767c8af1f57989ddacf15)**\n\nReviewer: **Luca De Feo**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **interfaces**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21703_\n\n",
    "closed_at": "2016-11-08T23:42:15Z",
    "created_at": "2016-10-14T11:30:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Interface PARI precision in bits",
    "type": "issue",
    "updated_at": "2016-11-08T23:42:15Z",
    "url": "https://github.com/sagemath/sage/issues/21703",
    "user": "https://github.com/jdemeyer"
}
```
PARI now stores its precision internally in bits (as opposed to decimal). This ticket adds an interface for the PARI precision in bits. It also removes the `PariInstance._real_precision` attribute and rewrites the documentation about PARI precision.

CC:  @defeo

Branch/Commit: **[a7099ae](https://github.com/sagemath/sagetrac-mirror/commit/a7099ae741973f0db3a767c8af1f57989ddacf15)**

Reviewer: **Luca De Feo**

Author: **Jeroen Demeyer**

Component: **interfaces**

_Issue created by migration from https://trac.sagemath.org/ticket/21703_





---

archive/issue_events_304578.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-14T11:30:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304578"
}
```



---

archive/issue_events_304579.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-14T11:30:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304579"
}
```



---

archive/issue_events_304580.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-14T11:30:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304580"
}
```



---

archive/issue_events_304581.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-14T11:30:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304581"
}
```



---

archive/issue_comments_319112.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-PARI now stores its precision internally in bits (as opposed to decimal). This ticket adds an interface for the PARI precision in bits. It also removes the `PariInstance._real_precision` attribute.\n+PARI now stores its precision internally in bits (as opposed to decimal). This ticket adds an interface for the PARI precision in bits. It also removes the `PariInstance._real_precision` attribute and rewrites the documentation about PARI precision.\n``````\n",
    "created_at": "2016-10-14T13:50:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319112",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-PARI now stores its precision internally in bits (as opposed to decimal). This ticket adds an interface for the PARI precision in bits. It also removes the `PariInstance._real_precision` attribute.
+PARI now stores its precision internally in bits (as opposed to decimal). This ticket adds an interface for the PARI precision in bits. It also removes the `PariInstance._real_precision` attribute and rewrites the documentation about PARI precision.
``````




---

archive/issue_comments_319113.json:
```json
{
    "body": "Branch: **[u/jdemeyer/ticket/21703](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/21703)**",
    "created_at": "2016-10-14T14:22:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319113",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/ticket/21703](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/21703)**



---

archive/issue_events_304582.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-10-14T14:22:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304582"
}
```



---

archive/issue_comments_319114.json:
```json
{
    "body": "Commit: **[313b785](https://github.com/sagemath/sagetrac-mirror/commit/313b785064eb21e16d55855c4c2216fa26ca8df0)**",
    "created_at": "2016-10-14T14:22:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319114",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[313b785](https://github.com/sagemath/sagetrac-mirror/commit/313b785064eb21e16d55855c4c2216fa26ca8df0)**



---

archive/issue_comments_319115.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83cca0fe367c5757f9c590fd157a0ad8a2825315\">83cca0f</a></td><td><code>Merge commit '343131a9951dc842c462809b9366b13416382dfc'; commit '91c436752ba82d512efdf67e2890d5ecbe0b7234'; commit '74041f30d8de4c15055345f14340a4f443236ffa' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f35e562311b954e66516d3e111311b4d573480a5\">f35e562</a></td><td><code>Separate Sage-specific components from generic C-interface in PariInstance</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e363e4c6b7a4b9d5c71cbc37e4bf4e848f881899\">e363e4c</a></td><td><code>Simplify module_list</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/968519c0b552d8e94262b58580fe2003619bd515\">968519c</a></td><td><code>Cleanup imports; add `__future__` statements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e88d56cdc1500da91142c11191b486fd1666a787\">e88d56c</a></td><td><code>Fixed broken doctest in auto-generationy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57e1cbaf2c5a4d43d3796037577696a709a1138d\">57e1cba</a></td><td><code>Merge tag '7.4.rc0' into t/20241/ticket/20241</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/313b785064eb21e16d55855c4c2216fa26ca8df0\">313b785</a></td><td><code>Interface PARI precision in bits</code></td></tr></table>\n",
    "created_at": "2016-10-14T14:22:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319115",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83cca0fe367c5757f9c590fd157a0ad8a2825315">83cca0f</a></td><td><code>Merge commit '343131a9951dc842c462809b9366b13416382dfc'; commit '91c436752ba82d512efdf67e2890d5ecbe0b7234'; commit '74041f30d8de4c15055345f14340a4f443236ffa' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f35e562311b954e66516d3e111311b4d573480a5">f35e562</a></td><td><code>Separate Sage-specific components from generic C-interface in PariInstance</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e363e4c6b7a4b9d5c71cbc37e4bf4e848f881899">e363e4c</a></td><td><code>Simplify module_list</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/968519c0b552d8e94262b58580fe2003619bd515">968519c</a></td><td><code>Cleanup imports; add `__future__` statements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e88d56cdc1500da91142c11191b486fd1666a787">e88d56c</a></td><td><code>Fixed broken doctest in auto-generationy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57e1cbaf2c5a4d43d3796037577696a709a1138d">57e1cba</a></td><td><code>Merge tag '7.4.rc0' into t/20241/ticket/20241</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/313b785064eb21e16d55855c4c2216fa26ca8df0">313b785</a></td><td><code>Interface PARI precision in bits</code></td></tr></table>




---

archive/issue_comments_319116.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2016-10-14T14:22:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319116",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_319117.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nVery interesting, I learned a lot on real precision in PARI.\n\nI'm good with it, but wouldn't the \"guide\" be best put in `__init__`, so that it would be read by anyone who types `pari?`?",
    "created_at": "2016-10-19T09:59:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319117",
    "user": "https://github.com/defeo"
}
```

<div id="comment:4" align="right">comment:4</div>

Very interesting, I learned a lot on real precision in PARI.

I'm good with it, but wouldn't the "guide" be best put in `__init__`, so that it would be read by anyone who types `pari?`?



---

archive/issue_comments_319118.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nOr maybe in `__init__.py`, so that `sage.libs.pari?` shows it.",
    "created_at": "2016-10-19T11:19:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319118",
    "user": "https://github.com/defeo"
}
```

<div id="comment:5" align="right">comment:5</div>

Or maybe in `__init__.py`, so that `sage.libs.pari?` shows it.



---

archive/issue_comments_319119.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n`set_real_precision()` returns the old precision. `set_real_precision_bits()` doesn't return anything. Couldn't we be more consistent here?",
    "created_at": "2016-10-19T11:48:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319119",
    "user": "https://github.com/defeo"
}
```

<div id="comment:6" align="right">comment:6</div>

`set_real_precision()` returns the old precision. `set_real_precision_bits()` doesn't return anything. Couldn't we be more consistent here?



---

archive/issue_comments_319120.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@defeo](#comment:6):\n> `set_real_precision()` returns the old precision. `set_real_precision_bits()` doesn't return anything. Couldn't we be more consistent here?\n\nI decided to not return the old value in `set_real_precision_bits()` because the PARI call does not return it either. If users really want the old value, they can still call `get_real_precision_bits()`.\n\nI did not change `set_real_precision()` because we cannot do that without a deprecation.",
    "created_at": "2016-10-19T11:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319120",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@defeo](#comment:6):
> `set_real_precision()` returns the old precision. `set_real_precision_bits()` doesn't return anything. Couldn't we be more consistent here?

I decided to not return the old value in `set_real_precision_bits()` because the PARI call does not return it either. If users really want the old value, they can still call `get_real_precision_bits()`.

I did not change `set_real_precision()` because we cannot do that without a deprecation.



---

archive/issue_comments_319121.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@jdemeyer](#comment:7):\n> Replying to [@defeo](#comment:6):\n> > `set_real_precision()` returns the old precision. `set_real_precision_bits()` doesn't return anything. Couldn't we be more consistent here?\n\n> \n> I decided to not return the old value in `set_real_precision_bits()` because the PARI call does not return it either. If users really want the old value, they can still call `get_real_precision_bits()`.\n> \n> I did not change `set_real_precision()` because we cannot do that without a deprecation.\n\nThat was my guess. Let's put the deprecation, then?",
    "created_at": "2016-10-19T12:02:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319121",
    "user": "https://github.com/defeo"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@jdemeyer](#comment:7):
> Replying to [@defeo](#comment:6):
> > `set_real_precision()` returns the old precision. `set_real_precision_bits()` doesn't return anything. Couldn't we be more consistent here?

> 
> I decided to not return the old value in `set_real_precision_bits()` because the PARI call does not return it either. If users really want the old value, they can still call `get_real_precision_bits()`.
> 
> I did not change `set_real_precision()` because we cannot do that without a deprecation.

That was my guess. Let's put the deprecation, then?



---

archive/issue_comments_319122.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@defeo](#comment:8):\n> That was my guess. Let's put the deprecation, then?\n\nPersonally, I wouldn't bother. I don't see the harm in keeping both functions (with a slightly different interface).",
    "created_at": "2016-10-19T12:08:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319122",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@defeo](#comment:8):
> That was my guess. Let's put the deprecation, then?

Personally, I wouldn't bother. I don't see the harm in keeping both functions (with a slightly different interface).



---

archive/issue_comments_319123.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nSure, that's no big deal.\n\nWhat about the docstrings?",
    "created_at": "2016-10-19T12:11:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319123",
    "user": "https://github.com/defeo"
}
```

<div id="comment:10" align="right">comment:10</div>

Sure, that's no big deal.

What about the docstrings?



---

archive/issue_comments_319124.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@defeo](#comment:10):\n> What about the docstrings?\n\nI have to try to see what works. Ideally, I want the documentation easily findable both from the command line as well as when browsing the reference manual.",
    "created_at": "2016-10-19T12:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319124",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@defeo](#comment:10):
> What about the docstrings?

I have to try to see what works. Ideally, I want the documentation easily findable both from the command line as well as when browsing the reference manual.



---

archive/issue_comments_319125.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f80485ffbc7af58f7da432afb0c642a65cca1f8d\">f80485f</a></td><td><code>Remove obsolete comment about stack increasing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b70ec86f4f5aed9152123bb79fc5981e743cd19c\">b70ec86</a></td><td><code>Add reference to precision guide in PariInstance.__init__</code></td></tr></table>\n",
    "created_at": "2016-10-19T14:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319125",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f80485ffbc7af58f7da432afb0c642a65cca1f8d">f80485f</a></td><td><code>Remove obsolete comment about stack increasing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b70ec86f4f5aed9152123bb79fc5981e743cd19c">b70ec86</a></td><td><code>Add reference to precision guide in PariInstance.__init__</code></td></tr></table>




---

archive/issue_comments_319126.json:
```json
{
    "body": "Changed commit from **[313b785](https://github.com/sagemath/sagetrac-mirror/commit/313b785064eb21e16d55855c4c2216fa26ca8df0)** to **[b70ec86](https://github.com/sagemath/sagetrac-mirror/commit/b70ec86f4f5aed9152123bb79fc5981e743cd19c)**",
    "created_at": "2016-10-19T14:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319126",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[313b785](https://github.com/sagemath/sagetrac-mirror/commit/313b785064eb21e16d55855c4c2216fa26ca8df0)** to **[b70ec86](https://github.com/sagemath/sagetrac-mirror/commit/b70ec86f4f5aed9152123bb79fc5981e743cd19c)**



---

archive/issue_comments_319127.json:
```json
{
    "body": "Reviewer: **Luca De Feo**",
    "created_at": "2016-10-21T09:36:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319127",
    "user": "https://github.com/defeo"
}
```

Reviewer: **Luca De Feo**



---

archive/issue_events_304583.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2016-10-21T09:36:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304583"
}
```



---

archive/issue_events_304584.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2016-10-21T09:36:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304584"
}
```



---

archive/issue_comments_319128.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOk, these fixes to the docs work *a minima*. If needed, we'll have time to rethink the organization of the docs when we externalize.",
    "created_at": "2016-10-21T09:36:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319128",
    "user": "https://github.com/defeo"
}
```

<div id="comment:13" align="right">comment:13</div>

Ok, these fixes to the docs work *a minima*. If needed, we'll have time to rethink the organization of the docs when we externalize.



---

archive/issue_comments_319129.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nWeird, the startup modules plugin is failing. Presumably not related to this?",
    "created_at": "2016-10-21T09:38:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319129",
    "user": "https://github.com/defeo"
}
```

<div id="comment:14" align="right">comment:14</div>

Weird, the startup modules plugin is failing. Presumably not related to this?



---

archive/issue_comments_319130.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThe startup modules \"failure\" is from #20241.",
    "created_at": "2016-10-21T09:39:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319130",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

The startup modules "failure" is from #20241.



---

archive/issue_comments_319131.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nOn 32 bit \n\n```\n4014sage -t --long src/sage/libs/pari/pari_instance.pyx\n4015**********************************************************************\n4016File \"src/sage/libs/pari/pari_instance.pyx\", line 185, in sage.libs.pari.pari_instance\n4017Failed example:\n4018    pari(1).sin(precision=150).sage()\n4019Expected:\n4020    0.841470984807896506652502321630298999622563060798371065673\n4021Got:\n4022    0.84147098480789650665250232163029899962256306080\n4023**********************************************************************\n4024File \"src/sage/libs/pari/pari_instance.pyx\", line 187, in sage.libs.pari.pari_instance\n4025Failed example:\n4026    pari(1).sin(precision=20).sage()\n4027Expected:\n4028    0.841470984807896507\n4029Got:\n4030    0.841470985\n4031**********************************************************************\n40321 item had failures:\n4033   2 of  55 in sage.libs.pari.pari_instance\n4034    [164 tests, 2 failures, 0.33 s]\n```",
    "created_at": "2016-10-31T02:36:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319131",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">comment:16</div>

On 32 bit 

```
4014sage -t --long src/sage/libs/pari/pari_instance.pyx
4015**********************************************************************
4016File "src/sage/libs/pari/pari_instance.pyx", line 185, in sage.libs.pari.pari_instance
4017Failed example:
4018    pari(1).sin(precision=150).sage()
4019Expected:
4020    0.841470984807896506652502321630298999622563060798371065673
4021Got:
4022    0.84147098480789650665250232163029899962256306080
4023**********************************************************************
4024File "src/sage/libs/pari/pari_instance.pyx", line 187, in sage.libs.pari.pari_instance
4025Failed example:
4026    pari(1).sin(precision=20).sage()
4027Expected:
4028    0.841470984807896507
4029Got:
4030    0.841470985
4031**********************************************************************
40321 item had failures:
4033   2 of  55 in sage.libs.pari.pari_instance
4034    [164 tests, 2 failures, 0.33 s]
```



---

archive/issue_events_304585.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-31T02:36:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304585"
}
```



---

archive/issue_events_304586.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-31T02:36:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304586"
}
```



---

archive/issue_comments_319132.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nRight, we should only pick precisions which are between 33 and 64 mod 64.",
    "created_at": "2016-10-31T08:04:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319132",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

Right, we should only pick precisions which are between 33 and 64 mod 64.



---

archive/issue_comments_319133.json:
```json
{
    "body": "Changed commit from **[b70ec86](https://github.com/sagemath/sagetrac-mirror/commit/b70ec86f4f5aed9152123bb79fc5981e743cd19c)** to **[3db3275](https://github.com/sagemath/sagetrac-mirror/commit/3db32759c7a468f35ea578c16eca353b18663b54)**",
    "created_at": "2016-11-02T11:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319133",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b70ec86](https://github.com/sagemath/sagetrac-mirror/commit/b70ec86f4f5aed9152123bb79fc5981e743cd19c)** to **[3db3275](https://github.com/sagemath/sagetrac-mirror/commit/3db32759c7a468f35ea578c16eca353b18663b54)**



---

archive/issue_comments_319134.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4bc24f4d8b3394ca02a08e0b09e0ccdd89a9fd0\">b4bc24f</a></td><td><code>Merge tag '7.5.beta1' into t/21703/ticket/21703</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3db32759c7a468f35ea578c16eca353b18663b54\">3db3275</a></td><td><code>Only use precisions which are in [33,64] mod 64</code></td></tr></table>\n",
    "created_at": "2016-11-02T11:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319134",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4bc24f4d8b3394ca02a08e0b09e0ccdd89a9fd0">b4bc24f</a></td><td><code>Merge tag '7.5.beta1' into t/21703/ticket/21703</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3db32759c7a468f35ea578c16eca353b18663b54">3db3275</a></td><td><code>Only use precisions which are in [33,64] mod 64</code></td></tr></table>




---

archive/issue_events_304587.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-11-02T11:21:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304587"
}
```



---

archive/issue_events_304588.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-11-02T11:21:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304588"
}
```



---

archive/issue_comments_319135.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWouldn't it be simpler and clearer to replace 180\u2192192 and 40\u219264?",
    "created_at": "2016-11-02T13:41:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319135",
    "user": "https://github.com/defeo"
}
```

<div id="comment:20" align="right">comment:20</div>

Wouldn't it be simpler and clearer to replace 180→192 and 40→64?



---

archive/issue_comments_319136.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@defeo](#comment:20):\n> Wouldn't it be simpler and clearer to replace 180\u2192192 and 40\u219264?\n\nThat would defeat the whole point of that explanation. I want to explain that precision in PARI is not the same as precision in Sage.",
    "created_at": "2016-11-02T14:22:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319136",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@defeo](#comment:20):
> Wouldn't it be simpler and clearer to replace 180→192 and 40→64?

That would defeat the whole point of that explanation. I want to explain that precision in PARI is not the same as precision in Sage.



---

archive/issue_comments_319137.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n> That would defeat the whole point of that explanation. I want to explain that precision in PARI is not the same as precision in Sage.\n\nThat was my guess, but I think in this case the docstring misses the point: unless he counts the digits by hand, the user won't realize that the output is printed with 192 bits of precision instead of 180. Maybe adding a `parent(_)` to the docstring would help clarify? Something like this:\n\n```\nsage: pari(1).sin(precision=180).sage()\n0.841470984807896506652502321630298999622563060798371065673\nsage: x = pari(1).sin(precision=180)\nsage: x\n0.841470984807897\nsage: x.bitprecision()\n192\nsage: x.sage()\n0.841470984807896506652502321630298999622563060798371065673\nsage: parent(_)\nReal Field with 192 bits of precision\n```\n\nAnd maybe line 169 should print with 180 bits, to highlight the difference.\n\nAlso, in lines 182-183, when you write \"real precision\", there is confusion btw real as in reality and real as in real number (frankly, after re-reading for the 10th time that sentence, I'm not sure I understand it).",
    "created_at": "2016-11-02T14:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319137",
    "user": "https://github.com/defeo"
}
```

<div id="comment:22" align="right">comment:22</div>

> That would defeat the whole point of that explanation. I want to explain that precision in PARI is not the same as precision in Sage.

That was my guess, but I think in this case the docstring misses the point: unless he counts the digits by hand, the user won't realize that the output is printed with 192 bits of precision instead of 180. Maybe adding a `parent(_)` to the docstring would help clarify? Something like this:

```
sage: pari(1).sin(precision=180).sage()
0.841470984807896506652502321630298999622563060798371065673
sage: x = pari(1).sin(precision=180)
sage: x
0.841470984807897
sage: x.bitprecision()
192
sage: x.sage()
0.841470984807896506652502321630298999622563060798371065673
sage: parent(_)
Real Field with 192 bits of precision
```

And maybe line 169 should print with 180 bits, to highlight the difference.

Also, in lines 182-183, when you write "real precision", there is confusion btw real as in reality and real as in real number (frankly, after re-reading for the 10th time that sentence, I'm not sure I understand it).



---

archive/issue_comments_319138.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nContinuing the previous example, I'm confused by this:\n\n```\nsage: x = pari(1).sin(precision=180)\nsage: x.precision()\n5\n```\n\nwhat's the unit used by PARI?",
    "created_at": "2016-11-02T14:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319138",
    "user": "https://github.com/defeo"
}
```

<div id="comment:23" align="right">comment:23</div>

Continuing the previous example, I'm confused by this:

```
sage: x = pari(1).sin(precision=180)
sage: x.precision()
5
```

what's the unit used by PARI?



---

archive/issue_comments_319139.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@defeo](#comment:22):\n> Also, in lines 182-183, when you write \"real precision\", there is confusion btw real as in reality and real as in real number (frankly, after re-reading for the 10th time that sentence, I'm not sure I understand it).\n\nPARI uses the term \"real precision\" to mean precision of real numbers. I use it the same way.",
    "created_at": "2016-11-02T18:17:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319139",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@defeo](#comment:22):
> Also, in lines 182-183, when you write "real precision", there is confusion btw real as in reality and real as in real number (frankly, after re-reading for the 10th time that sentence, I'm not sure I understand it).

PARI uses the term "real precision" to mean precision of real numbers. I use it the same way.



---

archive/issue_comments_319140.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@defeo](#comment:23):\n> Continuing the previous example, I'm confused by this:\n> \n> ```\n> sage: x = pari(1).sin(precision=180)\n> sage: x.precision()\n> 5\n> ```\n> \n> what's the unit used by PARI?\n\nIn this case, words (i.e. units of 32 or 64 bits)",
    "created_at": "2016-11-02T18:23:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319140",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@defeo](#comment:23):
> Continuing the previous example, I'm confused by this:
> 
> ```
> sage: x = pari(1).sin(precision=180)
> sage: x.precision()
> 5
> ```
> 
> what's the unit used by PARI?

In this case, words (i.e. units of 32 or 64 bits)



---

archive/issue_comments_319141.json:
```json
{
    "body": "Changed dependencies from **#20241** to none",
    "created_at": "2016-11-02T19:58:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319141",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#20241** to none



---

archive/issue_comments_319142.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7099ae741973f0db3a767c8af1f57989ddacf15\">a7099ae</a></td><td><code>Improve documentation</code></td></tr></table>\n",
    "created_at": "2016-11-02T20:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319142",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7099ae741973f0db3a767c8af1f57989ddacf15">a7099ae</a></td><td><code>Improve documentation</code></td></tr></table>




---

archive/issue_comments_319143.json:
```json
{
    "body": "Changed commit from **[3db3275](https://github.com/sagemath/sagetrac-mirror/commit/3db32759c7a468f35ea578c16eca353b18663b54)** to **[a7099ae](https://github.com/sagemath/sagetrac-mirror/commit/a7099ae741973f0db3a767c8af1f57989ddacf15)**",
    "created_at": "2016-11-02T20:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319143",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3db3275](https://github.com/sagemath/sagetrac-mirror/commit/3db32759c7a468f35ea578c16eca353b18663b54)** to **[a7099ae](https://github.com/sagemath/sagetrac-mirror/commit/a7099ae741973f0db3a767c8af1f57989ddacf15)**



---

archive/issue_comments_319144.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@jdemeyer](#comment:25):\n> Replying to [@defeo](#comment:23):\n> > Continuing the previous example, I'm confused by this:\n> > \n> > ```\n> > sage: x = pari(1).sin(precision=180)\n> > sage: x.precision()\n> > 5\n> > ```\n> > \n> > what's the unit used by PARI?\n\n> \n> In this case, words (i.e. units of 32 or 64 bits)\n\n?? 5*32=160. How does that fit with 192 bits of precision?",
    "created_at": "2016-11-03T00:40:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319144",
    "user": "https://github.com/defeo"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@jdemeyer](#comment:25):
> Replying to [@defeo](#comment:23):
> > Continuing the previous example, I'm confused by this:
> > 
> > ```
> > sage: x = pari(1).sin(precision=180)
> > sage: x.precision()
> > 5
> > ```
> > 
> > what's the unit used by PARI?

> 
> In this case, words (i.e. units of 32 or 64 bits)

?? 5*32=160. How does that fit with 192 bits of precision?



---

archive/issue_events_304589.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2016-11-03T00:48:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304589"
}
```



---

archive/issue_events_304590.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2016-11-03T00:48:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304590"
}
```



---

archive/issue_comments_319145.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@defeo](#comment:28):\n> ?? 5*32=160. How does that fit with 192 bits of precision?\n\nIt's actually `(5 - 2) * 64 = 192`:\n\n```\nsage: from sage.libs.pari.pari_instance import prec_words_to_bits\n....: prec_words_to_bits(5)\n192\n```",
    "created_at": "2016-11-03T07:53:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319145",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@defeo](#comment:28):
> ?? 5*32=160. How does that fit with 192 bits of precision?

It's actually `(5 - 2) * 64 = 192`:

```
sage: from sage.libs.pari.pari_instance import prec_words_to_bits
....: prec_words_to_bits(5)
192
```



---

archive/issue_comments_319146.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/21703](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/21703)** to **[a7099ae](https://github.com/sagemath/sagetrac-mirror/commit/a7099ae741973f0db3a767c8af1f57989ddacf15)**",
    "created_at": "2016-11-08T23:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21703#issuecomment-319146",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/ticket/21703](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/21703)** to **[a7099ae](https://github.com/sagemath/sagetrac-mirror/commit/a7099ae741973f0db3a767c8af1f57989ddacf15)**



---

archive/issue_events_304591.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-11-08T23:42:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304591"
}
```



---

archive/issue_events_304592.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "52948eb363f5db2d068e09cbe468fdf4805d8ad5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-11-08T23:42:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21703",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21703#event-304592"
}
```
