# Issue 21745: Standardize modulo operator % on real numbers (step 1)

archive/issues_021508.json:
```json
{
    "body": "For any subset of the real numbers we change the modulo operator to be\n\n  x%y is the unique x' between [0,y) of the form x + ny with n integer\n\nThe main reason for the shift are the following incoherences\n\n```\nsage: 5 % 3\n2\nsage: 5. % 3.\n-1.00000000000000\n```\nand\n\n```\nsage: 2/5 % 3\n1\nsage: 2./5. % 3.\n0.400000000000000\n```\n\nThe change mainly affects QQ and RR. This ticket concentrates on QQ. For other numbers see #21747.\n\nThe specifications for the transition period are as follows:\n- both `//` and `%` with rational arguments will return rationals\n- there will be a deprecation warning with `(p/q) % (r/s)` when `p/q` or `r/s` is not an exact integer\n- there will be a deprecation warning with `(p/q) // (r/s)` when the result is not an exact integer\n\nSee [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0) and also #15260\n\nCC:  tmonteil\n\nAuthor: Vincent Delecroix\n\nBranch: u/vdelecroix/21745\n\nStatus: needs_work\n\nCommit: 39f4053cc260b5816cde2faa816e7be72617d4ba\n\nIssue created by migration from https://trac.sagemath.org/ticket/21745\n\n",
    "created_at": "2016-10-23T08:41:26Z",
    "labels": [
        "component: basic arithmetic"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "Standardize modulo operator % on real numbers (step 1)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21745",
    "user": "https://github.com/videlec"
}
```
For any subset of the real numbers we change the modulo operator to be

  x%y is the unique x' between [0,y) of the form x + ny with n integer

The main reason for the shift are the following incoherences

```
sage: 5 % 3
2
sage: 5. % 3.
-1.00000000000000
```
and

```
sage: 2/5 % 3
1
sage: 2./5. % 3.
0.400000000000000
```

The change mainly affects QQ and RR. This ticket concentrates on QQ. For other numbers see #21747.

The specifications for the transition period are as follows:
- both `//` and `%` with rational arguments will return rationals
- there will be a deprecation warning with `(p/q) % (r/s)` when `p/q` or `r/s` is not an exact integer
- there will be a deprecation warning with `(p/q) // (r/s)` when the result is not an exact integer

See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0) and also #15260

CC:  tmonteil

Author: Vincent Delecroix

Branch: u/vdelecroix/21745

Status: needs_work

Commit: 39f4053cc260b5816cde2faa816e7be72617d4ba

Issue created by migration from https://trac.sagemath.org/ticket/21745





---

archive/issue_comments_401310.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#21746\"",
    "created_at": "2016-10-23T13:18:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401310",
    "user": "https://github.com/videlec"
}
```

Changing dependencies from "" to "#21746"



---

archive/issue_comments_401311.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,4 @@\n \n This affects in particular QQ and RR that previously implement other operations.\n \n-See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0)\n+See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0) and also #15260\n``````\n",
    "created_at": "2016-10-23T13:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401311",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,4 @@
 
 This affects in particular QQ and RR that previously implement other operations.
 
-See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0)
+See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0) and also #15260
``````




---

archive/issue_comments_401312.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,6 @@\n \n   x%y is the unique x' between [0,y) of the form x + ny with n integer\n \n-This affects in particular QQ and RR that previously implement other operations.\n+This affects in particular QQ and RR that previously implement other operations. This ticket only affects QQ. For other numbers see #21747.\n \n See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0) and also #15260\n``````\n",
    "created_at": "2016-10-23T13:43:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401312",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,6 @@
 
   x%y is the unique x' between [0,y) of the form x + ny with n integer
 
-This affects in particular QQ and RR that previously implement other operations.
+This affects in particular QQ and RR that previously implement other operations. This ticket only affects QQ. For other numbers see #21747.
 
 See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0) and also #15260
``````




---

archive/issue_comments_401313.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vdelecroix/21745\"",
    "created_at": "2016-10-23T13:43:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401313",
    "user": "https://github.com/videlec"
}
```

Changing branch from "" to "u/vdelecroix/21745"



---

archive/issue_comments_401314.json:
```json
{
    "body": "Changing author from \"\" to \"Vincent Delecroix\"",
    "created_at": "2016-10-23T13:43:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401314",
    "user": "https://github.com/videlec"
}
```

Changing author from "" to "Vincent Delecroix"



---

archive/issue_comments_401315.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-10-23T13:43:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401315",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_401316.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                           |                                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|\n|[624c322](https://git.sagemath.org/sage.git/commit/?id=624c32223d93bd0097ed2cc93c1cdc4a5e0663d7)|`21745: fix integer mod ring initialization with rationals`|\n|[cc204ef](https://git.sagemath.org/sage.git/commit/?id=cc204efb989cdbf9ff8656ca68868f2203743c29)|`21745: fix doctests in integer.pyx`|\n|[0e57304](https://git.sagemath.org/sage.git/commit/?id=0e57304bb144a09c4634c0d63c130d5ef306ddc3)|`21745: use / instead of // in one place`|\n|[5735ee1](https://git.sagemath.org/sage.git/commit/?id=5735ee104114782ec4ab427418c0e4373bd0cc2a)|`21745: include real_mod_floordiv in the documentation`|\n|[7e1a281](https://git.sagemath.org/sage.git/commit/?id=7e1a2817adb6b3133f5e78132b6f426ab301f2bb)|`21745: fix bernoulli mod p tests`|\n|[6435af1](https://git.sagemath.org/sage.git/commit/?id=6435af1e58d77f4d5654cae02a4c58a6869ad6ac)|`21745: fix pari ffelt initialization`|\n|[f62f8bf](https://git.sagemath.org/sage.git/commit/?id=f62f8bffe6d5777490c9fb37db0a1baf852285f9)|`21745: fix doctests in ideal.py and integer_ring.pyx`|\n|[f70825b](https://git.sagemath.org/sage.git/commit/?id=f70825b375cdc58613995422aa95908baa6b63e3)|`21745: doctest finite field initialization`|\n|[05657ad](https://git.sagemath.org/sage.git/commit/?id=05657adcf5a264f7d150c975a9b54e7080a1c755)|`21745: fix quadratic form of ideals`|\n|[710eee2](https://git.sagemath.org/sage.git/commit/?id=710eee221d82bf66b7a2b1f4234dd4877d140a9a)|`21745: fix some french book examples`|",
    "created_at": "2016-10-23T13:43:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                           |                                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
|[624c322](https://git.sagemath.org/sage.git/commit/?id=624c32223d93bd0097ed2cc93c1cdc4a5e0663d7)|`21745: fix integer mod ring initialization with rationals`|
|[cc204ef](https://git.sagemath.org/sage.git/commit/?id=cc204efb989cdbf9ff8656ca68868f2203743c29)|`21745: fix doctests in integer.pyx`|
|[0e57304](https://git.sagemath.org/sage.git/commit/?id=0e57304bb144a09c4634c0d63c130d5ef306ddc3)|`21745: use / instead of // in one place`|
|[5735ee1](https://git.sagemath.org/sage.git/commit/?id=5735ee104114782ec4ab427418c0e4373bd0cc2a)|`21745: include real_mod_floordiv in the documentation`|
|[7e1a281](https://git.sagemath.org/sage.git/commit/?id=7e1a2817adb6b3133f5e78132b6f426ab301f2bb)|`21745: fix bernoulli mod p tests`|
|[6435af1](https://git.sagemath.org/sage.git/commit/?id=6435af1e58d77f4d5654cae02a4c58a6869ad6ac)|`21745: fix pari ffelt initialization`|
|[f62f8bf](https://git.sagemath.org/sage.git/commit/?id=f62f8bffe6d5777490c9fb37db0a1baf852285f9)|`21745: fix doctests in ideal.py and integer_ring.pyx`|
|[f70825b](https://git.sagemath.org/sage.git/commit/?id=f70825b375cdc58613995422aa95908baa6b63e3)|`21745: doctest finite field initialization`|
|[05657ad](https://git.sagemath.org/sage.git/commit/?id=05657adcf5a264f7d150c975a9b54e7080a1c755)|`21745: fix quadratic form of ideals`|
|[710eee2](https://git.sagemath.org/sage.git/commit/?id=710eee221d82bf66b7a2b1f4234dd4877d140a9a)|`21745: fix some french book examples`|



---

archive/issue_comments_401317.json:
```json
{
    "body": "Changing commit from \"\" to \"710eee221d82bf66b7a2b1f4234dd4877d140a9a\"",
    "created_at": "2016-10-23T13:43:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401317",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "710eee221d82bf66b7a2b1f4234dd4877d140a9a"



---

archive/issue_comments_401318.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[71f5d59](https://git.sagemath.org/sage.git/commit/?id=71f5d5900cfb54fca4d472401999baae24b9792c)|`21745: fix a UTF8 character`|",
    "created_at": "2016-10-23T14:41:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401318",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[71f5d59](https://git.sagemath.org/sage.git/commit/?id=71f5d5900cfb54fca4d472401999baae24b9792c)|`21745: fix a UTF8 character`|



---

archive/issue_comments_401319.json:
```json
{
    "body": "Changing commit from \"710eee221d82bf66b7a2b1f4234dd4877d140a9a\" to \"71f5d5900cfb54fca4d472401999baae24b9792c\"",
    "created_at": "2016-10-23T14:41:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "710eee221d82bf66b7a2b1f4234dd4877d140a9a" to "71f5d5900cfb54fca4d472401999baae24b9792c"



---

archive/issue_comments_401320.json:
```json
{
    "body": "Changing commit from \"71f5d5900cfb54fca4d472401999baae24b9792c\" to \"1bbc03ca2e75800cbe6b90eefd5dd44665a97c19\"",
    "created_at": "2016-10-23T15:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401320",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "71f5d5900cfb54fca4d472401999baae24b9792c" to "1bbc03ca2e75800cbe6b90eefd5dd44665a97c19"



---

archive/issue_comments_401321.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[1bbc03c](https://git.sagemath.org/sage.git/commit/?id=1bbc03ca2e75800cbe6b90eefd5dd44665a97c19)|`21745: better documentation in real_mod_floordiv.py`|",
    "created_at": "2016-10-23T15:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401321",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[1bbc03c](https://git.sagemath.org/sage.git/commit/?id=1bbc03ca2e75800cbe6b90eefd5dd44665a97c19)|`21745: better documentation in real_mod_floordiv.py`|



---

archive/issue_comments_401322.json:
```json
{
    "body": "Changing commit from \"1bbc03ca2e75800cbe6b90eefd5dd44665a97c19\" to \"851792263137eba893897312c7778cf57c9050c9\"",
    "created_at": "2016-10-23T15:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401322",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1bbc03ca2e75800cbe6b90eefd5dd44665a97c19" to "851792263137eba893897312c7778cf57c9050c9"



---

archive/issue_comments_401323.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[8517922](https://git.sagemath.org/sage.git/commit/?id=851792263137eba893897312c7778cf57c9050c9)|`21745: better documentation in real_mod_floordiv.py`|",
    "created_at": "2016-10-23T15:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401323",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[8517922](https://git.sagemath.org/sage.git/commit/?id=851792263137eba893897312c7778cf57c9050c9)|`21745: better documentation in real_mod_floordiv.py`|



---

archive/issue_comments_401324.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,23 @@\n \n   x%y is the unique x' between [0,y) of the form x + ny with n integer\n \n-This affects in particular QQ and RR that previously implement other operations. This ticket only affects QQ. For other numbers see #21747.\n+The main reason for the shift are the following incoherences\n+\n+```\n+sage: 5 % 3\n+2\n+sage: 5. % 3.\n+-1.00000000000000\n+```\n+and\n+\n+```\n+sage: 2/5 % 3\n+1\n+sage: 2./5. % 3.\n+0.400000000000000\n+```\n+\n+The change mainly affects QQ and RR. The ticket concentrates on QQ. For other numbers see #21747.\n \n See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0) and also #15260\n``````\n",
    "created_at": "2016-10-24T20:30:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401324",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,23 @@
 
   x%y is the unique x' between [0,y) of the form x + ny with n integer
 
-This affects in particular QQ and RR that previously implement other operations. This ticket only affects QQ. For other numbers see #21747.
+The main reason for the shift are the following incoherences
+
+```
+sage: 5 % 3
+2
+sage: 5. % 3.
+-1.00000000000000
+```
+and
+
+```
+sage: 2/5 % 3
+1
+sage: 2./5. % 3.
+0.400000000000000
+```
+
+The change mainly affects QQ and RR. The ticket concentrates on QQ. For other numbers see #21747.
 
 See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0) and also #15260
``````




---

archive/issue_comments_401325.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[c977095](https://git.sagemath.org/sage.git/commit/?id=c9770956218ddc5fed6a501d145fbe0e51c10117)|`21745: fix quadratic_forms`|\n|[84a8937](https://git.sagemath.org/sage.git/commit/?id=84a89376ee7b6ce7ec245e1c2c6dd11abd149e80)|`21745: fix in root system`|\n|[6912371](https://git.sagemath.org/sage.git/commit/?id=69123710378e0041d641ab336439d4ba9dcb3099)|`21745: two fixes in graphs/`|",
    "created_at": "2016-10-24T21:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401325",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[c977095](https://git.sagemath.org/sage.git/commit/?id=c9770956218ddc5fed6a501d145fbe0e51c10117)|`21745: fix quadratic_forms`|
|[84a8937](https://git.sagemath.org/sage.git/commit/?id=84a89376ee7b6ce7ec245e1c2c6dd11abd149e80)|`21745: fix in root system`|
|[6912371](https://git.sagemath.org/sage.git/commit/?id=69123710378e0041d641ab336439d4ba9dcb3099)|`21745: two fixes in graphs/`|



---

archive/issue_comments_401326.json:
```json
{
    "body": "Changing commit from \"851792263137eba893897312c7778cf57c9050c9\" to \"69123710378e0041d641ab336439d4ba9dcb3099\"",
    "created_at": "2016-10-24T21:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401326",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "851792263137eba893897312c7778cf57c9050c9" to "69123710378e0041d641ab336439d4ba9dcb3099"



---

archive/issue_comments_401327.json:
```json
{
    "body": "Changing commit from \"69123710378e0041d641ab336439d4ba9dcb3099\" to \"2bd9c73ebd4352eae2bd9fdf2adbec55349b69aa\"",
    "created_at": "2016-10-25T07:13:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401327",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "69123710378e0041d641ab336439d4ba9dcb3099" to "2bd9c73ebd4352eae2bd9fdf2adbec55349b69aa"



---

archive/issue_comments_401328.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[2bd9c73](https://git.sagemath.org/sage.git/commit/?id=2bd9c73ebd4352eae2bd9fdf2adbec55349b69aa)|`21745: make floordiv returns a rational`|",
    "created_at": "2016-10-25T07:13:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401328",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[2bd9c73](https://git.sagemath.org/sage.git/commit/?id=2bd9c73ebd4352eae2bd9fdf2adbec55349b69aa)|`21745: make floordiv returns a rational`|



---

archive/issue_comments_401329.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,6 +19,11 @@\n 0.400000000000000\n ```\n \n-The change mainly affects QQ and RR. The ticket concentrates on QQ. For other numbers see #21747.\n+The change mainly affects QQ and RR. This ticket concentrates on QQ. For other numbers see #21747.\n+\n+The specifications for the transition period are as follows:\n+- both `//` and `%` with rational arguments will return rationals\n+- there will be a deprecation warning with `(p/q) % (r/s)` when `(r/s)` is not an exact integer\n+- there will be a deprecation warning with `(p/q) // (r/s)` when the result is not an exact integer\n \n See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0) and also #15260\n``````\n",
    "created_at": "2016-10-25T07:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401329",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,6 +19,11 @@
 0.400000000000000
 ```
 
-The change mainly affects QQ and RR. The ticket concentrates on QQ. For other numbers see #21747.
+The change mainly affects QQ and RR. This ticket concentrates on QQ. For other numbers see #21747.
+
+The specifications for the transition period are as follows:
+- both `//` and `%` with rational arguments will return rationals
+- there will be a deprecation warning with `(p/q) % (r/s)` when `(r/s)` is not an exact integer
+- there will be a deprecation warning with `(p/q) // (r/s)` when the result is not an exact integer
 
 See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0) and also #15260
``````




---

archive/issue_comments_401330.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -23,7 +23,7 @@\n \n The specifications for the transition period are as follows:\n - both `//` and `%` with rational arguments will return rationals\n-- there will be a deprecation warning with `(p/q) % (r/s)` when `(r/s)` is not an exact integer\n+- there will be a deprecation warning with `(p/q) % (r/s)` when `p/q` or `r/s` is not an exact integer\n - there will be a deprecation warning with `(p/q) // (r/s)` when the result is not an exact integer\n \n See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0) and also #15260\n``````\n",
    "created_at": "2016-10-25T08:05:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401330",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -23,7 +23,7 @@
 
 The specifications for the transition period are as follows:
 - both `//` and `%` with rational arguments will return rationals
-- there will be a deprecation warning with `(p/q) % (r/s)` when `(r/s)` is not an exact integer
+- there will be a deprecation warning with `(p/q) % (r/s)` when `p/q` or `r/s` is not an exact integer
 - there will be a deprecation warning with `(p/q) // (r/s)` when the result is not an exact integer
 
 See [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/PfMop0nyiL0) and also #15260
``````




---

archive/issue_comments_401331.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[9decbae](https://git.sagemath.org/sage.git/commit/?id=9decbaee63e4ec80ec7749841c42b46ecb6aafae)|`21745: doctest finite field initialization`|\n|[25a335e](https://git.sagemath.org/sage.git/commit/?id=25a335e74d668b06105757b23d69d2c310f65432)|`21745: fix quadratic form of ideals`|\n|[ad9f818](https://git.sagemath.org/sage.git/commit/?id=ad9f8182c95058937665dad08a558c38a50141f0)|`21745: fix some french book examples`|\n|[f2ceaf1](https://git.sagemath.org/sage.git/commit/?id=f2ceaf1e5820f82944031767c6723e614283d497)|`21745: fix a UTF8 character`|\n|[2d78c1d](https://git.sagemath.org/sage.git/commit/?id=2d78c1d351d8d8d65c4e1e2c8e916f5df1230d7a)|`21745: better documentation in real_mod_floordiv.py`|\n|[5b720f4](https://git.sagemath.org/sage.git/commit/?id=5b720f49b2c39164b8a2470be1f3c1dd59ca58f6)|`21745: fix quadratic_forms`|\n|[c45b553](https://git.sagemath.org/sage.git/commit/?id=c45b5534bf1350101954f2d926effbed206c3801)|`21745: fix in root system`|\n|[6e16f4d](https://git.sagemath.org/sage.git/commit/?id=6e16f4d89391f669f93f1b083eeef8306003803f)|`21745: two fixes in graphs/`|\n|[7aa12c5](https://git.sagemath.org/sage.git/commit/?id=7aa12c54b1fdc2a0a564ce635ee54fbaf76b39e1)|`21745: make floordiv returns a rational`|\n|[39f4053](https://git.sagemath.org/sage.git/commit/?id=39f4053cc260b5816cde2faa816e7be72617d4ba)|`21745: fix projective_morphism.py`|",
    "created_at": "2016-12-17T16:00:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401331",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[9decbae](https://git.sagemath.org/sage.git/commit/?id=9decbaee63e4ec80ec7749841c42b46ecb6aafae)|`21745: doctest finite field initialization`|
|[25a335e](https://git.sagemath.org/sage.git/commit/?id=25a335e74d668b06105757b23d69d2c310f65432)|`21745: fix quadratic form of ideals`|
|[ad9f818](https://git.sagemath.org/sage.git/commit/?id=ad9f8182c95058937665dad08a558c38a50141f0)|`21745: fix some french book examples`|
|[f2ceaf1](https://git.sagemath.org/sage.git/commit/?id=f2ceaf1e5820f82944031767c6723e614283d497)|`21745: fix a UTF8 character`|
|[2d78c1d](https://git.sagemath.org/sage.git/commit/?id=2d78c1d351d8d8d65c4e1e2c8e916f5df1230d7a)|`21745: better documentation in real_mod_floordiv.py`|
|[5b720f4](https://git.sagemath.org/sage.git/commit/?id=5b720f49b2c39164b8a2470be1f3c1dd59ca58f6)|`21745: fix quadratic_forms`|
|[c45b553](https://git.sagemath.org/sage.git/commit/?id=c45b5534bf1350101954f2d926effbed206c3801)|`21745: fix in root system`|
|[6e16f4d](https://git.sagemath.org/sage.git/commit/?id=6e16f4d89391f669f93f1b083eeef8306003803f)|`21745: two fixes in graphs/`|
|[7aa12c5](https://git.sagemath.org/sage.git/commit/?id=7aa12c54b1fdc2a0a564ce635ee54fbaf76b39e1)|`21745: make floordiv returns a rational`|
|[39f4053](https://git.sagemath.org/sage.git/commit/?id=39f4053cc260b5816cde2faa816e7be72617d4ba)|`21745: fix projective_morphism.py`|



---

archive/issue_comments_401332.json:
```json
{
    "body": "Changing commit from \"2bd9c73ebd4352eae2bd9fdf2adbec55349b69aa\" to \"39f4053cc260b5816cde2faa816e7be72617d4ba\"",
    "created_at": "2016-12-17T16:00:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401332",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2bd9c73ebd4352eae2bd9fdf2adbec55349b69aa" to "39f4053cc260b5816cde2faa816e7be72617d4ba"



---

archive/issue_comments_401333.json:
```json
{
    "body": "<a id='comment:15'></a>\nrebased on 7.5.beta6",
    "created_at": "2016-12-17T16:01:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401333",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>
rebased on 7.5.beta6



---

archive/issue_comments_401334.json:
```json
{
    "body": "Changing dependencies from \"#21746\" to \"\"",
    "created_at": "2016-12-17T16:01:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401334",
    "user": "https://github.com/videlec"
}
```

Changing dependencies from "#21746" to ""



---

archive/issue_comments_401335.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-01-07T07:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401335",
    "user": "https://github.com/cheuberg"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_401336.json:
```json
{
    "body": "<a id='comment:16'></a>\nfailing doctests (see patchbot)",
    "created_at": "2017-01-07T07:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21745#issuecomment-401336",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:16'></a>
failing doctests (see patchbot)
