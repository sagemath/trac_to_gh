# Issue 21069: comparison of permutation and standard permutation

archive/issues_020832.json:
```json
{
    "assignees": [],
    "body": "Because `ClonableArray` also takes the parent into consideration of equality checking, we currently have the following:\n\n```\nsage: Permutations([1])[0] == Permutation([1])\nFalse\n```\nI propose to have `Permutations(range(n))` be *identical* to `Permutations(n)`.\n\nCC:  @sagetrac-sage-combinat @darijgr @nthiery @simon-king-jena\n\nBranch/Commit: **[dc5c35a](https://github.com/sagemath/sagetrac-mirror/commit/dc5c35a14ab8a06d82980b901057f7b2a7257649)**\n\nReviewer: **Darij Grinberg**\n\nAuthor: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21069_\n\n",
    "closed_at": "2016-10-21T07:04:25Z",
    "created_at": "2016-07-21T07:22:27Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20coercion",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "comparison of permutation and standard permutation",
    "type": "issue",
    "updated_at": "2016-10-21T07:04:25Z",
    "url": "https://github.com/sagemath/sage/issues/21069",
    "user": "https://github.com/dkrenn"
}
```
Because `ClonableArray` also takes the parent into consideration of equality checking, we currently have the following:

```
sage: Permutations([1])[0] == Permutation([1])
False
```
I propose to have `Permutations(range(n))` be *identical* to `Permutations(n)`.

CC:  @sagetrac-sage-combinat @darijgr @nthiery @simon-king-jena

Branch/Commit: **[dc5c35a](https://github.com/sagemath/sagetrac-mirror/commit/dc5c35a14ab8a06d82980b901057f7b2a7257649)**

Reviewer: **Darij Grinberg**

Author: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/21069_





---

archive/issue_events_278384.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-07-21T07:22:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278384"
}
```



---

archive/issue_events_278385.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-07-21T07:22:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20coercion",
    "label_color": "0000ff",
    "label_name": "component: coercion",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278385"
}
```



---

archive/issue_events_278386.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-07-21T07:22:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278386"
}
```



---

archive/issue_events_278387.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-07-21T07:22:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278387"
}
```



---

archive/issue_comments_308977.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nI think this is more an issue with the default `_cmp_` in `ClonableArray` wanting to have a common parent, but there are not coercions between most combinatorial objects (nor should there be typically). IMO, this is even worse:\n\n```\nsage: Permutations([1])[0] == Permutation([1])\nFalse\n```\nHowever, I don't agree with the argument that \"same representation => equality\". Should the partition `[2, 1]` equal the permutation `[2, 1]`? (Currently they do, but I think that is a small issue and you should not rely on this behavior.) We run into a major notation problem as there is not enough valid syntax and math notation to separate the two clearly; context (or their parents) separate them.",
    "created_at": "2016-07-21T14:51:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308977",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:1" align="right">Comment 1</div>

I think this is more an issue with the default `_cmp_` in `ClonableArray` wanting to have a common parent, but there are not coercions between most combinatorial objects (nor should there be typically). IMO, this is even worse:

```
sage: Permutations([1])[0] == Permutation([1])
False
```
However, I don't agree with the argument that "same representation => equality". Should the partition `[2, 1]` equal the permutation `[2, 1]`? (Currently they do, but I think that is a small issue and you should not rely on this behavior.) We run into a major notation problem as there is not enough valid syntax and math notation to separate the two clearly; context (or their parents) separate them.



---

archive/issue_comments_308978.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nReplying to [@tscrim](#comment%3A1):\n> However, I don't agree with the argument that \"same representation => equality\". Should the partition `[2, 1]` equal the permutation `[2, 1]`? (Currently they do, but I think that is a small issue and you should not rely on this behavior.) We run into a major notation problem as there is not enough valid syntax and math notation to separate the two clearly; context (or their parents) separate them.\n\nOk, I agree.",
    "created_at": "2016-08-11T12:43:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308978",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:2" align="right">Comment 2</div>

Replying to [@tscrim](#comment%3A1):
> However, I don't agree with the argument that "same representation => equality". Should the partition `[2, 1]` equal the permutation `[2, 1]`? (Currently they do, but I think that is a small issue and you should not rely on this behavior.) We run into a major notation problem as there is not enough valid syntax and math notation to separate the two clearly; context (or their parents) separate them.

Ok, I agree.



---

archive/issue_events_278388.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-08-11T12:43:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "milestone_number": null,
    "milestone_title": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278388"
}
```



---

archive/issue_events_278389.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-08-11T12:43:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278389"
}
```



---

archive/issue_events_278390.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-08-11T12:43:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278390"
}
```



---

archive/issue_events_278391.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-08-11T12:43:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278391"
}
```



---

archive/issue_events_278392.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-08-11T12:44:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278392"
}
```



---

archive/issue_events_278393.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-08-11T12:44:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278393"
}
```



---

archive/issue_comments_308979.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nSet to invalid.",
    "created_at": "2016-08-11T12:44:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308979",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:3" align="right">Comment 3</div>

Set to invalid.



---

archive/issue_comments_308980.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI am going to recycle this ticket to address the issue above.",
    "created_at": "2016-08-11T12:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308980",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">Comment 4</div>

I am going to recycle this ticket to address the issue above.



---

archive/issue_events_278394.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-08-11T12:52:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278394"
}
```



---

archive/issue_comments_308981.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,18 +1,7 @@\n+Because `ClonableArray` also takes the parent into consideration of equality checking, we currently have the following:\n \n ```\n-sage: Permutations([0])[0] == [0]\n+sage: Permutations([1])[0] == Permutation([1])\n False\n ```\n-This is unexpected as\n-\n-```\n-sage: Permutations([0])[0], [0]\n-([0], [0])\n-```\n-Both have the same string representation and\n-\n-```\n-sage: Permutations([0])[0].parent()\n-Permutations of the set [0]\n-```\n-so it is a SageObject and some coercion or whatever should go on on comparison.\n+I propose to have `Permutations(range(n))` be *identical* to `Permutations(n)`.\n``````\n",
    "created_at": "2016-08-11T12:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308981",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,18 +1,7 @@
+Because `ClonableArray` also takes the parent into consideration of equality checking, we currently have the following:
 
 ```
-sage: Permutations([0])[0] == [0]
+sage: Permutations([1])[0] == Permutation([1])
 False
 ```
-This is unexpected as
-
-```
-sage: Permutations([0])[0], [0]
-([0], [0])
-```
-Both have the same string representation and
-
-```
-sage: Permutations([0])[0].parent()
-Permutations of the set [0]
-```
-so it is a SageObject and some coercion or whatever should go on on comparison.
+I propose to have `Permutations(range(n))` be *identical* to `Permutations(n)`.
``````




---

archive/issue_events_278395.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-08-11T12:52:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278395"
}
```



---

archive/issue_events_278396.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-08-11T12:52:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278396"
}
```



---

archive/issue_events_278397.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-08-11T12:52:05Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "title_is": "comparison of permutation and standard permutation",
    "title_was": "comparison of permutation and list: unexpected result",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278397"
}
```



---

archive/issue_comments_308982.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nReplying to [@tscrim](#comment%3A4):\n> I am going to recycle this ticket to address the issue above.\n\nOk.",
    "created_at": "2016-08-11T12:56:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308982",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:5" align="right">Comment 5</div>

Replying to [@tscrim](#comment%3A4):
> I am going to recycle this ticket to address the issue above.

Ok.



---

archive/issue_comments_308983.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nWhile I was at it, I fixed the `Permutations_nk.random_element`, which was returning elements of `[0, ..., n-1]`.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01963652a467b29bf94cf4eb74c92779775d7441\">0196365</a></td><td><code>Making permutations [1,...,n] be standard.</code></td></tr></table>\n",
    "created_at": "2016-08-21T02:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308983",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">Comment 6</div>

While I was at it, I fixed the `Permutations_nk.random_element`, which was returning elements of `[0, ..., n-1]`.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01963652a467b29bf94cf4eb74c92779775d7441">0196365</a></td><td><code>Making permutations [1,...,n] be standard.</code></td></tr></table>




---

archive/issue_comments_308984.json:
```json
{
    "body": "Author: **Travis Scrimshaw**",
    "created_at": "2016-08-21T02:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308984",
    "user": "https://github.com/tscrim"
}
```

Author: **Travis Scrimshaw**



---

archive/issue_events_278398.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-08-21T02:21:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278398"
}
```



---

archive/issue_events_278399.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-08-21T02:21:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278399"
}
```



---

archive/issue_comments_308985.json:
```json
{
    "body": "Branch: **[public/combinat/partitions_std_set-21069](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/partitions_std_set-21069)**",
    "created_at": "2016-08-21T02:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308985",
    "user": "https://github.com/tscrim"
}
```

Branch: **[public/combinat/partitions_std_set-21069](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/partitions_std_set-21069)**



---

archive/issue_comments_308986.json:
```json
{
    "body": "Commit: **[0196365](https://github.com/sagemath/sagetrac-mirror/commit/01963652a467b29bf94cf4eb74c92779775d7441)**",
    "created_at": "2016-08-21T02:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308986",
    "user": "https://github.com/tscrim"
}
```

Commit: **[0196365](https://github.com/sagemath/sagetrac-mirror/commit/01963652a467b29bf94cf4eb74c92779775d7441)**



---

archive/issue_comments_308987.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI just realized the branch is named wrong...",
    "created_at": "2016-08-21T02:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308987",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">Comment 7</div>

I just realized the branch is named wrong...



---

archive/issue_comments_308988.json:
```json
{
    "body": "Changed branch from **[public/combinat/partitions_std_set-21069](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/partitions_std_set-21069)** to **[public/combinat/permutations_std_set-21069](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/permutations_std_set-21069)**",
    "created_at": "2016-08-21T02:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308988",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[public/combinat/partitions_std_set-21069](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/partitions_std_set-21069)** to **[public/combinat/permutations_std_set-21069](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/permutations_std_set-21069)**



---

archive/issue_comments_308989.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14b364e1ce1064e6699ebfa629a7d5ce7f2b191b\">14b364e</a></td><td><code>Merge branch 'public/combinat/permutations_std_set-21069' in 7.4.b1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7548e6e8cfbeb0983133edfe6ec712dae3b7415a\">7548e6e</a></td><td><code>trac 21069 fixing a doctest in Dyck words</code></td></tr></table>\n",
    "created_at": "2016-08-23T18:35:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308989",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8" align="right">Comment 8</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14b364e1ce1064e6699ebfa629a7d5ce7f2b191b">14b364e</a></td><td><code>Merge branch 'public/combinat/permutations_std_set-21069' in 7.4.b1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7548e6e8cfbeb0983133edfe6ec712dae3b7415a">7548e6e</a></td><td><code>trac 21069 fixing a doctest in Dyck words</code></td></tr></table>




---

archive/issue_comments_308990.json:
```json
{
    "body": "Changed commit from **[0196365](https://github.com/sagemath/sagetrac-mirror/commit/01963652a467b29bf94cf4eb74c92779775d7441)** to **[7548e6e](https://github.com/sagemath/sagetrac-mirror/commit/7548e6e8cfbeb0983133edfe6ec712dae3b7415a)**",
    "created_at": "2016-08-23T18:35:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308990",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0196365](https://github.com/sagemath/sagetrac-mirror/commit/01963652a467b29bf94cf4eb74c92779775d7441)** to **[7548e6e](https://github.com/sagemath/sagetrac-mirror/commit/7548e6e8cfbeb0983133edfe6ec712dae3b7415a)**



---

archive/issue_comments_308991.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\n\n```\n+                    if list(n) == range(1, len(n)+1):\n```\nMaybe you want `sorted(n)` rather than `list(n)` here?",
    "created_at": "2016-09-03T04:33:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308991",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:9" align="right">Comment 9</div>


```
+                    if list(n) == range(1, len(n)+1):
```
Maybe you want `sorted(n)` rather than `list(n)` here?



---

archive/issue_comments_308992.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nNo, I want `list(n)` because the identity permutations are different.",
    "created_at": "2016-09-03T04:35:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308992",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">Comment 10</div>

No, I want `list(n)` because the identity permutations are different.



---

archive/issue_comments_308993.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nOh, the word \"permutation\" is meant in the non-algebraic meaning! Makes sense then. Will look at the rest of the code now.",
    "created_at": "2016-09-03T04:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308993",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:11" align="right">Comment 11</div>

Oh, the word "permutation" is meant in the non-algebraic meaning! Makes sense then. Will look at the rest of the code now.



---

archive/issue_comments_308994.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nOK. Two issues:\n\n1. Instances of class `Permutations_set` have a `_set` attribute, whereas objects of class `StandardPermutations_n` don't. Could this break things?\n\n2. Is the time to call `StandardPermutations_n` higher than for `Permutations_set`? (I suspect it is, if only due to things like `cat = FiniteWeylGroups().Irreducible() & FinitePermutationGroups()`.) Is this relevant?",
    "created_at": "2016-09-03T04:50:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308994",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:12" align="right">Comment 12</div>

OK. Two issues:

1. Instances of class `Permutations_set` have a `_set` attribute, whereas objects of class `StandardPermutations_n` don't. Could this break things?

2. Is the time to call `StandardPermutations_n` higher than for `Permutations_set`? (I suspect it is, if only due to things like `cat = FiniteWeylGroups().Irreducible() & FinitePermutationGroups()`.) Is this relevant?



---

archive/issue_comments_308995.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nReplying to [@darijgr](#comment%3A12):\n> OK. Two issues:\n> \n> 1. Instances of class `Permutations_set` have a `_set` attribute, whereas objects of class `StandardPermutations_n` don't. Could this break things?\n\nNo because nobody should be using `_set` (nor do we have to respect it) because it is hidden.\n\n> 2. Is the time to call `StandardPermutations_n` higher than for `Permutations_set`? (I suspect it is, if only due to things like `cat = FiniteWeylGroups().Irreducible() & FinitePermutationGroups()`.) Is this relevant?\n\nI don't understand what you're asking. If you're saying putting `StandardPermutations_n` as a superclass of `Permutations_set`, then we should not do that. It is too much of a can of worms and far outside the scope of this ticket.",
    "created_at": "2016-09-03T16:16:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308995",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">Comment 13</div>

Replying to [@darijgr](#comment%3A12):
> OK. Two issues:
> 
> 1. Instances of class `Permutations_set` have a `_set` attribute, whereas objects of class `StandardPermutations_n` don't. Could this break things?

No because nobody should be using `_set` (nor do we have to respect it) because it is hidden.

> 2. Is the time to call `StandardPermutations_n` higher than for `Permutations_set`? (I suspect it is, if only due to things like `cat = FiniteWeylGroups().Irreducible() & FinitePermutationGroups()`.) Is this relevant?

I don't understand what you're asking. If you're saying putting `StandardPermutations_n` as a superclass of `Permutations_set`, then we should not do that. It is too much of a can of worms and far outside the scope of this ticket.



---

archive/issue_comments_308996.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\n1. OK.\n\n2. What I mean is that calling `Permutations([1,2,3])` might now suddenly be taking a lot longer. I don't know whether this is an actual issue because (a) I haven't tested, and (b) it is a parent, and maybe calling many parents is not a standard use case we should be optimizing for anyway. But I'm asking to be sure.",
    "created_at": "2016-09-03T16:32:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308996",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:14" align="right">Comment 14</div>

1. OK.

2. What I mean is that calling `Permutations([1,2,3])` might now suddenly be taking a lot longer. I don't know whether this is an actual issue because (a) I haven't tested, and (b) it is a parent, and maybe calling many parents is not a standard use case we should be optimizing for anyway. But I'm asking to be sure.



---

archive/issue_comments_308997.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@darijgr](#comment%3A14):\n> 2. What I mean is that calling `Permutations([1,2,3])` might now suddenly be taking a lot longer. I don't know whether this is an actual issue because (a) I haven't tested, and (b) it is a parent, and maybe calling many parents is not a standard use case we should be optimizing for anyway. But I'm asking to be sure.\n\nThere are already such tests, so it really should not unless you're constantly doing things like `[1,2,...,n,'a']`. I also doubt it would be the bottleneck in a loop.",
    "created_at": "2016-09-03T16:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308997",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@darijgr](#comment%3A14):
> 2. What I mean is that calling `Permutations([1,2,3])` might now suddenly be taking a lot longer. I don't know whether this is an actual issue because (a) I haven't tested, and (b) it is a parent, and maybe calling many parents is not a standard use case we should be optimizing for anyway. But I'm asking to be sure.

There are already such tests, so it really should not unless you're constantly doing things like `[1,2,...,n,'a']`. I also doubt it would be the bottleneck in a loop.



---

archive/issue_comments_308998.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nOK, the slowdown is in the single-digit percentages (just checked). The code LGTM then. To be safe, what do the guardians of the object hierarchy think about it?",
    "created_at": "2016-09-07T16:13:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308998",
    "user": "https://github.com/darijgr"
}
```

<div id="comment:16" align="right">Comment 16</div>

OK, the slowdown is in the single-digit percentages (just checked). The code LGTM then. To be safe, what do the guardians of the object hierarchy think about it?



---

archive/issue_comments_308999.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\n2 failing doctests, see bot",
    "created_at": "2016-10-16T19:11:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-308999",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:17" align="right">Comment 17</div>

2 failing doctests, see bot



---

archive/issue_events_278400.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-10-16T19:11:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278400"
}
```



---

archive/issue_events_278401.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-10-16T19:11:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278401"
}
```



---

archive/issue_comments_309000.json:
```json
{
    "body": "Changed commit from **[7548e6e](https://github.com/sagemath/sagetrac-mirror/commit/7548e6e8cfbeb0983133edfe6ec712dae3b7415a)** to **[dc5c35a](https://github.com/sagemath/sagetrac-mirror/commit/dc5c35a14ab8a06d82980b901057f7b2a7257649)**",
    "created_at": "2016-10-17T02:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-309000",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7548e6e](https://github.com/sagemath/sagetrac-mirror/commit/7548e6e8cfbeb0983133edfe6ec712dae3b7415a)** to **[dc5c35a](https://github.com/sagemath/sagetrac-mirror/commit/dc5c35a14ab8a06d82980b901057f7b2a7257649)**



---

archive/issue_comments_309001.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cc7873f39a57cb540610de712591268ab7ec337\">3cc7873</a></td><td><code>Merge branch 'public/combinat/permutations_std_set-21069' of git://trac.sagemath.org/sage into public/combinat/permutations_std_set-21069</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc5c35a14ab8a06d82980b901057f7b2a7257649\">dc5c35a</a></td><td><code>Change due to Python3 list.</code></td></tr></table>\n",
    "created_at": "2016-10-17T02:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-309001",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18" align="right">Comment 18</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cc7873f39a57cb540610de712591268ab7ec337">3cc7873</a></td><td><code>Merge branch 'public/combinat/permutations_std_set-21069' of git://trac.sagemath.org/sage into public/combinat/permutations_std_set-21069</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc5c35a14ab8a06d82980b901057f7b2a7257649">dc5c35a</a></td><td><code>Change due to Python3 list.</code></td></tr></table>




---

archive/issue_comments_309002.json:
```json
{
    "body": "Reviewer: **Darij Grinberg**",
    "created_at": "2016-10-17T02:40:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-309002",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Darij Grinberg**



---

archive/issue_comments_309003.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nFailure was due to me not using Python3-style list. Fixed and doctests now pass.\n\nSince there were no comments from Darij's request in [comment:16](#comment%3A16), I'm allowing myself to set this to a positive review.",
    "created_at": "2016-10-17T02:40:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-309003",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:19" align="right">Comment 19</div>

Failure was due to me not using Python3-style list. Fixed and doctests now pass.

Since there were no comments from Darij's request in [comment:16](#comment%3A16), I'm allowing myself to set this to a positive review.



---

archive/issue_events_278402.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-17T02:40:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278402"
}
```



---

archive/issue_events_278403.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-17T02:40:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278403"
}
```



---

archive/issue_events_278404.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-17T02:40:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278404"
}
```



---

archive/issue_events_278405.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-17T02:40:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278405"
}
```



---

archive/issue_events_278406.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-21T07:04:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278406"
}
```



---

archive/issue_events_278407.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2f6b7941a881a8782d15811ace328657bda8482d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-10-21T07:04:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21069#event-278407"
}
```



---

archive/issue_comments_309004.json:
```json
{
    "body": "Changed branch from **[public/combinat/permutations_std_set-21069](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/permutations_std_set-21069)** to **[dc5c35a](https://github.com/sagemath/sagetrac-mirror/commit/dc5c35a14ab8a06d82980b901057f7b2a7257649)**",
    "created_at": "2016-10-21T07:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21069#issuecomment-309004",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/combinat/permutations_std_set-21069](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/permutations_std_set-21069)** to **[dc5c35a](https://github.com/sagemath/sagetrac-mirror/commit/dc5c35a14ab8a06d82980b901057f7b2a7257649)**
