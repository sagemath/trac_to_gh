# Issue 21454: Create master references/bibliography file

archive/issues_021217.json:
```json
{
    "body": "The eventual goal is to move all references to a central file. This deals with many of the references, but not all of them. (So far, it hasn't dealt with the references in `combinat`, `graphs`, `rings`, or `schemes`.)\n\nCC:  @AndrewAtLarge @egourgoulhon\n\nBranch/Commit: [186922cd72d5da9fb69c8d41575cbd3acebc278c](https://github.com/sagemath/sagetrac-mirror/commit/186922cd72d5da9fb69c8d41575cbd3acebc278c)\n\nReviewer: Johan Rosenkilde, John Palmieri\n\nAuthor: John Palmieri, Johan Rosenkilde\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21454\n\n",
    "closed_at": "2016-10-21T07:04:33Z",
    "created_at": "2016-09-08T17:16:05Z",
    "labels": [
        "component: documentation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "Create master references/bibliography file",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21454",
    "user": "https://github.com/jhpalmieri"
}
```
The eventual goal is to move all references to a central file. This deals with many of the references, but not all of them. (So far, it hasn't dealt with the references in `combinat`, `graphs`, `rings`, or `schemes`.)

CC:  @AndrewAtLarge @egourgoulhon

Branch/Commit: [186922cd72d5da9fb69c8d41575cbd3acebc278c](https://github.com/sagemath/sagetrac-mirror/commit/186922cd72d5da9fb69c8d41575cbd3acebc278c)

Reviewer: Johan Rosenkilde, John Palmieri

Author: John Palmieri, Johan Rosenkilde

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21454





---

archive/issue_comments_397779.json:
```json
{
    "body": "<a id='comment:1'></a>\nA patch bomb. Wheeee!",
    "created_at": "2016-09-08T17:16:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397779",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:1'></a>
A patch bomb. Wheeee!



---

archive/issue_comments_397780.json:
```json
{
    "body": "Branch: [u/jhpalmieri/references](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/references)",
    "created_at": "2016-09-08T17:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397780",
    "user": "https://github.com/jhpalmieri"
}
```

Branch: [u/jhpalmieri/references](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/references)



---

archive/issue_comments_397781.json:
```json
{
    "body": "Commit: [b87483d2b84fcab5344b1084805268f55dc1a847](https://github.com/sagemath/sagetrac-mirror/commit/b87483d2b84fcab5344b1084805268f55dc1a847)",
    "created_at": "2016-09-08T17:16:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397781",
    "user": "https://github.com/jhpalmieri"
}
```

Commit: [b87483d2b84fcab5344b1084805268f55dc1a847](https://github.com/sagemath/sagetrac-mirror/commit/b87483d2b84fcab5344b1084805268f55dc1a847)



---

archive/issue_comments_397782.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[b87483d](https://github.com/sagemath/sagetrac-mirror/commit/b87483d2b84fcab5344b1084805268f55dc1a847)|`Create master references file.`|",
    "created_at": "2016-09-08T17:16:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397782",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[b87483d](https://github.com/sagemath/sagetrac-mirror/commit/b87483d2b84fcab5344b1084805268f55dc1a847)|`Create master references file.`|



---

archive/issue_comments_397783.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-09-08T17:16:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397783",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_397784.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[631d853](https://github.com/sagemath/sagetrac-mirror/commit/631d85373734e3468e6ae277f03e95bade512f4a)|`A few small changes to the developer's guide`|",
    "created_at": "2016-09-08T17:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397784",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[631d853](https://github.com/sagemath/sagetrac-mirror/commit/631d85373734e3468e6ae277f03e95bade512f4a)|`A few small changes to the developer's guide`|



---

archive/issue_comments_397785.json:
```json
{
    "body": "Changing commit from \"[b87483d2b84fcab5344b1084805268f55dc1a847](https://github.com/sagemath/sagetrac-mirror/commit/b87483d2b84fcab5344b1084805268f55dc1a847)\" to \"[631d85373734e3468e6ae277f03e95bade512f4a](https://github.com/sagemath/sagetrac-mirror/commit/631d85373734e3468e6ae277f03e95bade512f4a)\"",
    "created_at": "2016-09-08T17:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397785",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[b87483d2b84fcab5344b1084805268f55dc1a847](https://github.com/sagemath/sagetrac-mirror/commit/b87483d2b84fcab5344b1084805268f55dc1a847)" to "[631d85373734e3468e6ae277f03e95bade512f4a](https://github.com/sagemath/sagetrac-mirror/commit/631d85373734e3468e6ae277f03e95bade512f4a)"



---

archive/issue_comments_397786.json:
```json
{
    "body": "<a id='comment:5'></a>\nI started looking at the combinat files (looking only so far), and see many REFERENCE blocks with entries like:\n\n```\n:wikipedia:`Ordered_partition_of_a_set`\n```\nWhat should be done with these? Probably they should be left in place and only papers moved, although some papers only had arxiv or DOI links rather than full journal references.\n\nPerhaps I was unlucky in the files that I looked at, but many of the files that I lookedat are using the references incorrectly, which means that there is little hope of scripting this...",
    "created_at": "2016-09-09T02:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397786",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:5'></a>
I started looking at the combinat files (looking only so far), and see many REFERENCE blocks with entries like:

```
:wikipedia:`Ordered_partition_of_a_set`
```
What should be done with these? Probably they should be left in place and only papers moved, although some papers only had arxiv or DOI links rather than full journal references.

Perhaps I was unlucky in the files that I looked at, but many of the files that I lookedat are using the references incorrectly, which means that there is little hope of scripting this...



---

archive/issue_comments_397787.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [andrew.mathas](#comment%3A5):\n> I started looking at the combinat files (looking only so far), and see many REFERENCE blocks with entries like:\n> \n> ```\n> :wikipedia:`Ordered_partition_of_a_set`\n> ```\n> What should be done with these?\n\n\nThey could be moved to a master list or left in place. Probably better to move them if they have a valid citation key, because part of the point of the master list is to avoid duplications.\n\n> Probably they should be left in place and only papers moved, although some papers only had arxiv or DOI links rather than full journal references.\n> \n> Perhaps I was unlucky in the files that I looked at, but many of the files that I lookedat are using the references incorrectly, which means that there is little hope of scripting this...\n\n\nIn addition, some of the references are incomplete (preprints which have now been published, published papers with no year listed, etc.). There are also badly used references (e.g. things of the form `[Ref]` missing the trailing underscore).\n\nSo I don't know how to script it. I also don't know how to break it into small pieces in any good way: the master bibliography file is going to be touched by every change to the references, so even if we break this into lots of tickets, they would probably have to be merged in a specific order.",
    "created_at": "2016-09-09T04:45:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397787",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'></a>
Replying to [andrew.mathas](#comment%3A5):
> I started looking at the combinat files (looking only so far), and see many REFERENCE blocks with entries like:
> 
> ```
> :wikipedia:`Ordered_partition_of_a_set`
> ```
> What should be done with these?


They could be moved to a master list or left in place. Probably better to move them if they have a valid citation key, because part of the point of the master list is to avoid duplications.

> Probably they should be left in place and only papers moved, although some papers only had arxiv or DOI links rather than full journal references.
> 
> Perhaps I was unlucky in the files that I looked at, but many of the files that I lookedat are using the references incorrectly, which means that there is little hope of scripting this...


In addition, some of the references are incomplete (preprints which have now been published, published papers with no year listed, etc.). There are also badly used references (e.g. things of the form `[Ref]` missing the trailing underscore).

So I don't know how to script it. I also don't know how to break it into small pieces in any good way: the master bibliography file is going to be touched by every change to the references, so even if we break this into lots of tickets, they would probably have to be merged in a specific order.



---

archive/issue_comments_397788.json:
```json
{
    "body": "<a id='comment:8'></a>\nThis is very impressive John!\n\nReplying to [jhpalmieri](#comment%3A7):\n> They could be moved to a master list or left in place. Probably better to move them if they have a valid citation key, because part of the point of the master list is to avoid duplications.\n\n\nI agree.\n\n> > Perhaps I was unlucky in the files that I looked at, but many of the files that I lookedat are using the references incorrectly, which means that there is little hope of scripting this...\n\n> \n> In addition, some of the references are incomplete (preprints which have now been published, published papers with no year listed, etc.). There are also badly used references (e.g. things of the form `[Ref]` missing the trailing underscore).\n\n\nMore an argument for doing this task earlier rather than later :-)\n\nPerhaps grep for REFERENCES, parse stuff `\"<whitespace>[...]\"` in the lines following REFERENCES before next `\"\"\"`, then re-grep that file for `[...]` without the underscore. Should not be too bad in a Perl script.\n\n> So I don't know how to script it. I also don't know how to break it into small pieces in any good way: the master bibliography file is going to be touched by every change to the references, so even if we break this into lots of tickets, they would probably have to be merged in a specific order.\n\n\nPerhaps something like:\n\n1. Ticket for creating master bibliography with a line `### sage.<module>` for each module of Sage.\n\n2. A ticket for each module (or perhaps multiple small modules in one ticket), moving refs into the respective part of `### sage.<module>`. All these tickets should be mergeable in arbitrary order.\n\n3. A ticket depending on all the previous which resorts the master\n    bibliography file and removes the module lines.\n\nBut this is possibly a total nightmare on top of the diff of this ticket?\n\nBest,\nJohan",
    "created_at": "2016-09-09T09:48:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397788",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:8'></a>
This is very impressive John!

Replying to [jhpalmieri](#comment%3A7):
> They could be moved to a master list or left in place. Probably better to move them if they have a valid citation key, because part of the point of the master list is to avoid duplications.


I agree.

> > Perhaps I was unlucky in the files that I looked at, but many of the files that I lookedat are using the references incorrectly, which means that there is little hope of scripting this...

> 
> In addition, some of the references are incomplete (preprints which have now been published, published papers with no year listed, etc.). There are also badly used references (e.g. things of the form `[Ref]` missing the trailing underscore).


More an argument for doing this task earlier rather than later :-)

Perhaps grep for REFERENCES, parse stuff `"<whitespace>[...]"` in the lines following REFERENCES before next `"""`, then re-grep that file for `[...]` without the underscore. Should not be too bad in a Perl script.

> So I don't know how to script it. I also don't know how to break it into small pieces in any good way: the master bibliography file is going to be touched by every change to the references, so even if we break this into lots of tickets, they would probably have to be merged in a specific order.


Perhaps something like:

1. Ticket for creating master bibliography with a line `### sage.<module>` for each module of Sage.

2. A ticket for each module (or perhaps multiple small modules in one ticket), moving refs into the respective part of `### sage.<module>`. All these tickets should be mergeable in arbitrary order.

3. A ticket depending on all the previous which resorts the master
    bibliography file and removes the module lines.

But this is possibly a total nightmare on top of the diff of this ticket?

Best,
Johan



---

archive/issue_comments_397789.json:
```json
{
    "body": "<a id='comment:9'></a>\nPerhaps one should start by fixing all these missing '_' (which might require fixing repeated ref tags). Not on this ticket though.",
    "created_at": "2016-09-09T11:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397789",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
Perhaps one should start by fixing all these missing '_' (which might require fixing repeated ref tags). Not on this ticket though.



---

archive/issue_comments_397790.json:
```json
{
    "body": "<a id='comment:10'></a>\nIn some of the modules you already went through, e.g. `coding.linear_code.py` there's still references left, e.g. `[Du2003]` and old-style (non-ReST) references such as `- I. Duursma, ...`. Then `[Du2003]_` is even there twice -- I didn't think that was legal Sphinx!\n\nShould we aim at removing *all* `REFERENCE` blocks scattered around in source files? That way it's easy to at least grep for what is missing. In that case, I think the most maintainable way forward is to go module by module.\n\nI wrote a Perl script which does what I suggested above. It finds all ReST citations (`.. [blabla] ...`) and reports whenever one is used without an underscore. It also reports all non-ReST citations (`- blablabla ...`). But I'm not sure anymore that it's useful\n\nBest,\nJohan",
    "created_at": "2016-09-09T13:29:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397790",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:10'></a>
In some of the modules you already went through, e.g. `coding.linear_code.py` there's still references left, e.g. `[Du2003]` and old-style (non-ReST) references such as `- I. Duursma, ...`. Then `[Du2003]_` is even there twice -- I didn't think that was legal Sphinx!

Should we aim at removing *all* `REFERENCE` blocks scattered around in source files? That way it's easy to at least grep for what is missing. In that case, I think the most maintainable way forward is to go module by module.

I wrote a Perl script which does what I suggested above. It finds all ReST citations (`.. [blabla] ...`) and reports whenever one is used without an underscore. It also reports all non-ReST citations (`- blablabla ...`). But I'm not sure anymore that it's useful

Best,
Johan



---

archive/issue_comments_397791.json:
```json
{
    "body": "<a id='comment:11'></a>\nRegarding `[Du2003]`: are you concerned because it ought to be `[Duu2003]`? I hadn't gotten around to changing that one yet.\n\nRegarding `REFERENCE` blocks: some of them are still useful, for example to list basic references in the introductory documentation at the top of a file.\n\nRegarding finding references, we should not count on them being in `REFERENCE[S]` blocks; indeed some are not. So I've just been searching using the regular expression `'^[ ]*\\.\\.[ ]+\\['`.\n\nRegarding wikipedia references, after thinking about it more, they could probably be removed and just made into inline references of the form `:wikipedia:`blah`` -- creating a separate citation often doesn't add anything. But this could also be done on another ticket.\n\nFinally, we could view this ticket (or some subset of the changes here) to be a starting point, and then follow up on other tickets.",
    "created_at": "2016-09-09T16:12:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397791",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>
Regarding `[Du2003]`: are you concerned because it ought to be `[Duu2003]`? I hadn't gotten around to changing that one yet.

Regarding `REFERENCE` blocks: some of them are still useful, for example to list basic references in the introductory documentation at the top of a file.

Regarding finding references, we should not count on them being in `REFERENCE[S]` blocks; indeed some are not. So I've just been searching using the regular expression `'^[ ]*\.\.[ ]+\['`.

Regarding wikipedia references, after thinking about it more, they could probably be removed and just made into inline references of the form `:wikipedia:`blah`` -- creating a separate citation often doesn't add anything. But this could also be done on another ticket.

Finally, we could view this ticket (or some subset of the changes here) to be a starting point, and then follow up on other tickets.



---

archive/issue_comments_397792.json:
```json
{
    "body": "Changing branch from \"[u/jhpalmieri/references](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/references)\" to \"[u/jsrn/references](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/references)\"",
    "created_at": "2016-09-19T07:15:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397792",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing branch from "[u/jhpalmieri/references](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/references)" to "[u/jsrn/references](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/references)"



---

archive/issue_comments_397793.json:
```json
{
    "body": "Changing commit from \"[631d85373734e3468e6ae277f03e95bade512f4a](https://github.com/sagemath/sagetrac-mirror/commit/631d85373734e3468e6ae277f03e95bade512f4a)\" to \"[dda2f1849173ccaee531f44dfa01d47f388c50a7](https://github.com/sagemath/sagetrac-mirror/commit/dda2f1849173ccaee531f44dfa01d47f388c50a7)\"",
    "created_at": "2016-09-19T08:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397793",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing commit from "[631d85373734e3468e6ae277f03e95bade512f4a](https://github.com/sagemath/sagetrac-mirror/commit/631d85373734e3468e6ae277f03e95bade512f4a)" to "[dda2f1849173ccaee531f44dfa01d47f388c50a7](https://github.com/sagemath/sagetrac-mirror/commit/dda2f1849173ccaee531f44dfa01d47f388c50a7)"



---

archive/issue_comments_397794.json:
```json
{
    "body": "<a id='comment:13'></a>\nI merged in Sage 7.4.beta4 and fixed merge conflicts. I also fixed some things which I believe caused compilation errors on my machine.\n\nCan it become a problem that this index file lies in `en/reference`? If we need a reference in e.g. a tutorial, can it cause problems to do a local reference there? Can it use overlapping labels?\n\nIn the Developer's guide, does it make sense to recommend people to make `REFERENCES` blocks? What are they good for, when every reference will be a hyperlink to the master bib anyway? If we decide to keep it anyway, the example should be changed to follow the naming conventions. Also, perhaps we should add a warning about the trailing underscore after reference links (since omitting them doesn't cause compilation error).\n\nBest,\nJohan\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|\n|[d37b10e](https://github.com/sagemath/sagetrac-mirror/commit/d37b10ed2c6b0415f3a978e5d4183c373baa5875)|`Merge branch 'u/jhpalmieri/references' of git://trac.sagemath.org/sage into 21454_master_ref_bib`|\n|[dda2f18](https://github.com/sagemath/sagetrac-mirror/commit/dda2f1849173ccaee531f44dfa01d47f388c50a7)|`Some more fixes. Compiles now`|",
    "created_at": "2016-09-19T08:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397794",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:13'></a>
I merged in Sage 7.4.beta4 and fixed merge conflicts. I also fixed some things which I believe caused compilation errors on my machine.

Can it become a problem that this index file lies in `en/reference`? If we need a reference in e.g. a tutorial, can it cause problems to do a local reference there? Can it use overlapping labels?

In the Developer's guide, does it make sense to recommend people to make `REFERENCES` blocks? What are they good for, when every reference will be a hyperlink to the master bib anyway? If we decide to keep it anyway, the example should be changed to follow the naming conventions. Also, perhaps we should add a warning about the trailing underscore after reference links (since omitting them doesn't cause compilation error).

Best,
Johan

---
New commits:
|                                                                                                                                          |                                                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|
|[d37b10e](https://github.com/sagemath/sagetrac-mirror/commit/d37b10ed2c6b0415f3a978e5d4183c373baa5875)|`Merge branch 'u/jhpalmieri/references' of git://trac.sagemath.org/sage into 21454_master_ref_bib`|
|[dda2f18](https://github.com/sagemath/sagetrac-mirror/commit/dda2f1849173ccaee531f44dfa01d47f388c50a7)|`Some more fixes. Compiles now`|



---

archive/issue_comments_397795.json:
```json
{
    "body": "<a id='comment:14'></a>\nThank you for the fixes. I don't know what style we should use for an author like van Lint: \"Lin1999\" or \"vL1999\" or \"vLi1999\" or ???\n\nFor the developer's guide, I think that there are some uses to `REFERENCES` blocks, or at least when I did the original work, I found some such blocks which it was not clear how to eliminate. As I tried to say in the changes in the developer's guide, if you have a long discussion of some mathematical subject, for example at the top of a file, it can be useful to add a list of general references at the end of that discussion, especially if you don't cite those references explicitly in the text. We could change that to \"For more information, see [REF1]_ and [REF2]_\" and then change the developer's guide accordingly. I don't have strong feelings about it.\n\nAdding a warning about trailing underscores is a good idea.",
    "created_at": "2016-09-19T17:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397795",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:14'></a>
Thank you for the fixes. I don't know what style we should use for an author like van Lint: "Lin1999" or "vL1999" or "vLi1999" or ???

For the developer's guide, I think that there are some uses to `REFERENCES` blocks, or at least when I did the original work, I found some such blocks which it was not clear how to eliminate. As I tried to say in the changes in the developer's guide, if you have a long discussion of some mathematical subject, for example at the top of a file, it can be useful to add a list of general references at the end of that discussion, especially if you don't cite those references explicitly in the text. We could change that to "For more information, see [REF1]_ and [REF2]_" and then change the developer's guide accordingly. I don't have strong feelings about it.

Adding a warning about trailing underscores is a good idea.



---

archive/issue_comments_397796.json:
```json
{
    "body": "Changing commit from \"[dda2f1849173ccaee531f44dfa01d47f388c50a7](https://github.com/sagemath/sagetrac-mirror/commit/dda2f1849173ccaee531f44dfa01d47f388c50a7)\" to \"[609571e4860c8d03aae5757c5c4bf28348775cbd](https://github.com/sagemath/sagetrac-mirror/commit/609571e4860c8d03aae5757c5c4bf28348775cbd)\"",
    "created_at": "2016-09-20T06:49:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397796",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[dda2f1849173ccaee531f44dfa01d47f388c50a7](https://github.com/sagemath/sagetrac-mirror/commit/dda2f1849173ccaee531f44dfa01d47f388c50a7)" to "[609571e4860c8d03aae5757c5c4bf28348775cbd](https://github.com/sagemath/sagetrac-mirror/commit/609571e4860c8d03aae5757c5c4bf28348775cbd)"



---

archive/issue_comments_397797.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[609571e](https://github.com/sagemath/sagetrac-mirror/commit/609571e4860c8d03aae5757c5c4bf28348775cbd)|`Polishing the text in the Developer's manual`|",
    "created_at": "2016-09-20T06:49:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397797",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[609571e](https://github.com/sagemath/sagetrac-mirror/commit/609571e4860c8d03aae5757c5c4bf28348775cbd)|`Polishing the text in the Developer's manual`|



---

archive/issue_comments_397798.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [jhpalmieri](#comment%3A14):\n> Thank you for the fixes. I don't know what style we should use for an author like van Lint: \"Lin1999\" or \"vL1999\" or \"vLi1999\" or ???\n\n\nA Google search reveals that to be a complicated kettle of fish, see http://academia.stackexchange.com/questions/15326/how-to-deal-with-particles-in-a-last-name-in-a-reference-list.\n\nAs I intuitively did with \"van Lint\", one standard would put it under \"L\" since \"van\" is a particle. However, had van Lint come from Belgium, the spelling would likely be Van Lint and it should have been under \"V\". For italians, \"di\" and \"Di\" differ historically (something with nobility), and should be put under \"D\" or not correspondingly. More horrors abide.\n\n\n> For the developer's guide, I think that there are some uses to `REFERENCES` blocks, or at least when I did the original work, I found some such blocks which it was not clear how to eliminate. As I tried to say in the changes in the developer's guide, if you have a long discussion of some mathematical subject, for example at the top of a file, it can be useful to add a list of general references at the end of that discussion, especially if you don't cite those references explicitly in the text. We could change that to \"For more information, see [REF1]_ and [REF2]_\" and then change the developer's guide accordingly. I don't have strong feelings about it.\n> \n> Adding a warning about trailing underscores is a good idea.\n\n\nI updated the Developer's Guide accordingly.\n\n\nI did not look through every single modification you did, but I did some random sampling and it looks good. And it compiles on my machine. Did you do this manually or did you use scripts?\n\nPlease set to positive review if you accept my changes.\n\nBest,\nJohan",
    "created_at": "2016-09-20T07:03:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397798",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:16'></a>
Replying to [jhpalmieri](#comment%3A14):
> Thank you for the fixes. I don't know what style we should use for an author like van Lint: "Lin1999" or "vL1999" or "vLi1999" or ???


A Google search reveals that to be a complicated kettle of fish, see http://academia.stackexchange.com/questions/15326/how-to-deal-with-particles-in-a-last-name-in-a-reference-list.

As I intuitively did with "van Lint", one standard would put it under "L" since "van" is a particle. However, had van Lint come from Belgium, the spelling would likely be Van Lint and it should have been under "V". For italians, "di" and "Di" differ historically (something with nobility), and should be put under "D" or not correspondingly. More horrors abide.


> For the developer's guide, I think that there are some uses to `REFERENCES` blocks, or at least when I did the original work, I found some such blocks which it was not clear how to eliminate. As I tried to say in the changes in the developer's guide, if you have a long discussion of some mathematical subject, for example at the top of a file, it can be useful to add a list of general references at the end of that discussion, especially if you don't cite those references explicitly in the text. We could change that to "For more information, see [REF1]_ and [REF2]_" and then change the developer's guide accordingly. I don't have strong feelings about it.
> 
> Adding a warning about trailing underscores is a good idea.


I updated the Developer's Guide accordingly.


I did not look through every single modification you did, but I did some random sampling and it looks good. And it compiles on my machine. Did you do this manually or did you use scripts?

Please set to positive review if you accept my changes.

Best,
Johan



---

archive/issue_comments_397799.json:
```json
{
    "body": "Reviewer: Johan Rosenkilde, John Palmieri",
    "created_at": "2016-09-20T19:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397799",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: Johan Rosenkilde, John Palmieri



---

archive/issue_comments_397800.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-09-20T19:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397800",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_397801.json:
```json
{
    "body": "<a id='comment:17'></a>\nThis looks great to me!",
    "created_at": "2016-09-20T19:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397801",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:17'></a>
This looks great to me!



---

archive/issue_comments_397802.json:
```json
{
    "body": "Changing author from \"John Palmieri\" to \"John Palmieri, Johan Rosenkilde\"",
    "created_at": "2016-09-20T19:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397802",
    "user": "https://github.com/jhpalmieri"
}
```

Changing author from "John Palmieri" to "John Palmieri, Johan Rosenkilde"



---

archive/issue_comments_397803.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [jsrn](#comment%3A16):\n> Did you do this manually or did you use scripts?\n\n\nI did it manually, by the way.",
    "created_at": "2016-09-20T19:11:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397803",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:18'></a>
Replying to [jsrn](#comment%3A16):
> Did you do this manually or did you use scripts?


I did it manually, by the way.



---

archive/issue_comments_397804.json:
```json
{
    "body": "<a id='comment:19'></a>\nCool!\n\nReplying to [jhpalmieri](#comment%3A18):\n> I did it manually, by the way.\n\n\nThat's what I thought: I didn't see how that could be done automatically. Very impressive :-)",
    "created_at": "2016-09-20T19:18:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397804",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:19'></a>
Cool!

Replying to [jhpalmieri](#comment%3A18):
> I did it manually, by the way.


That's what I thought: I didn't see how that could be done automatically. Very impressive :-)



---

archive/issue_comments_397805.json:
```json
{
    "body": "<a id='comment:20'></a>\nYou should make an announcement on sage-devel about this to make sure there are no objections about this major structural change to Sage's documentation.",
    "created_at": "2016-09-20T20:44:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397805",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>
You should make an announcement on sage-devel about this to make sure there are no objections about this major structural change to Sage's documentation.



---

archive/issue_comments_397806.json:
```json
{
    "body": "<a id='comment:21'></a>\nMerge conflict",
    "created_at": "2016-09-20T21:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397806",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>
Merge conflict



---

archive/issue_comments_397807.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-09-20T21:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397807",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_397808.json:
```json
{
    "body": "<a id='comment:22'></a>\nMerge conflicts are almost inevitable with changes of this magnitude. Should we wait until the next beta, or rebase on 7.4.beta5?",
    "created_at": "2016-09-20T23:04:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397808",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:22'></a>
Merge conflicts are almost inevitable with changes of this magnitude. Should we wait until the next beta, or rebase on 7.4.beta5?



---

archive/issue_comments_397809.json:
```json
{
    "body": "<a id='comment:23'></a>\nSounds reasonable.\n\nA minor question: What about papers written by people with strange letters in name? \"M\u00f6bius\" is spelled as \"Moebius\" in function names, but can we use Unicode for references?",
    "created_at": "2016-09-21T03:50:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397809",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:23'></a>
Sounds reasonable.

A minor question: What about papers written by people with strange letters in name? "Möbius" is spelled as "Moebius" in function names, but can we use Unicode for references?



---

archive/issue_comments_397810.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [jmantysalo](#comment%3A23):\n> Sounds reasonable.\n> \n> A minor question: What about papers written by people with strange letters in name? \"M\u00f6bius\" is spelled as \"Moebius\" in function names, but can we use Unicode for references?\n\n\nComments in UTF-8 are OK (one needs to set up encoding of the file), but it seems that labels should better be ASCII (i.e. [Moeb]_ rather than [M\u00f6b]_).",
    "created_at": "2016-09-21T09:05:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397810",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
Replying to [jmantysalo](#comment%3A23):
> Sounds reasonable.
> 
> A minor question: What about papers written by people with strange letters in name? "Möbius" is spelled as "Moebius" in function names, but can we use Unicode for references?


Comments in UTF-8 are OK (one needs to set up encoding of the file), but it seems that labels should better be ASCII (i.e. [Moeb]_ rather than [Möb]_).



---

archive/issue_comments_397811.json:
```json
{
    "body": "<a id='comment:26'></a>\nI merged this with 7.4.beta5 with no issues, so the merge conflicts must be with other tickets. I guess we wait until the next beta.",
    "created_at": "2016-09-22T19:48:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397811",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:26'></a>
I merged this with 7.4.beta5 with no issues, so the merge conflicts must be with other tickets. I guess we wait until the next beta.



---

archive/issue_comments_397812.json:
```json
{
    "body": "Changing branch from \"[u/jsrn/references](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/references)\" to \"[u/jhpalmieri/references](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/references)\"",
    "created_at": "2016-09-24T20:04:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397812",
    "user": "https://github.com/jhpalmieri"
}
```

Changing branch from "[u/jsrn/references](https://github.com/sagemath/sagetrac-mirror/tree/u/jsrn/references)" to "[u/jhpalmieri/references](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/references)"



---

archive/issue_comments_397813.json:
```json
{
    "body": "<a id='comment:28'></a>\nMerged with 7.4.beta6.\n\n---\nNew commits:\n|                                                                                                                                          |                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[00f5882](https://github.com/sagemath/sagetrac-mirror/commit/00f588292ef703ba9e24aa1c6b5f8ca694065645)|`Merge branch 'develop' into t/21454/references.`|",
    "created_at": "2016-09-24T20:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397813",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:28'></a>
Merged with 7.4.beta6.

---
New commits:
|                                                                                                                                          |                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[00f5882](https://github.com/sagemath/sagetrac-mirror/commit/00f588292ef703ba9e24aa1c6b5f8ca694065645)|`Merge branch 'develop' into t/21454/references.`|



---

archive/issue_comments_397814.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2016-09-24T20:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397814",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_397815.json:
```json
{
    "body": "Changing commit from \"[609571e4860c8d03aae5757c5c4bf28348775cbd](https://github.com/sagemath/sagetrac-mirror/commit/609571e4860c8d03aae5757c5c4bf28348775cbd)\" to \"[00f588292ef703ba9e24aa1c6b5f8ca694065645](https://github.com/sagemath/sagetrac-mirror/commit/00f588292ef703ba9e24aa1c6b5f8ca694065645)\"",
    "created_at": "2016-09-24T20:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397815",
    "user": "https://github.com/jhpalmieri"
}
```

Changing commit from "[609571e4860c8d03aae5757c5c4bf28348775cbd](https://github.com/sagemath/sagetrac-mirror/commit/609571e4860c8d03aae5757c5c4bf28348775cbd)" to "[00f588292ef703ba9e24aa1c6b5f8ca694065645](https://github.com/sagemath/sagetrac-mirror/commit/00f588292ef703ba9e24aa1c6b5f8ca694065645)"



---

archive/issue_comments_397816.json:
```json
{
    "body": "<a id='comment:29'></a>\nVolker: this branch is likely to cause merge conflicts. It would be helpful if it could be merged early in the transition from one beta to the next to avoid this.",
    "created_at": "2016-09-25T03:34:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397816",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:29'></a>
Volker: this branch is likely to cause merge conflicts. It would be helpful if it could be merged early in the transition from one beta to the next to avoid this.



---

archive/issue_comments_397817.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2016-10-09T22:45:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397817",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_397818.json:
```json
{
    "body": "<a id='comment:30'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                           |                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[186922c](https://github.com/sagemath/sagetrac-mirror/commit/186922cd72d5da9fb69c8d41575cbd3acebc278c)|`rebased to 7.4.rc0`|",
    "created_at": "2016-10-09T22:45:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397818",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                           |                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[186922c](https://github.com/sagemath/sagetrac-mirror/commit/186922cd72d5da9fb69c8d41575cbd3acebc278c)|`rebased to 7.4.rc0`|



---

archive/issue_comments_397819.json:
```json
{
    "body": "Changing commit from \"[00f588292ef703ba9e24aa1c6b5f8ca694065645](https://github.com/sagemath/sagetrac-mirror/commit/00f588292ef703ba9e24aa1c6b5f8ca694065645)\" to \"[186922cd72d5da9fb69c8d41575cbd3acebc278c](https://github.com/sagemath/sagetrac-mirror/commit/186922cd72d5da9fb69c8d41575cbd3acebc278c)\"",
    "created_at": "2016-10-09T22:45:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397819",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[00f588292ef703ba9e24aa1c6b5f8ca694065645](https://github.com/sagemath/sagetrac-mirror/commit/00f588292ef703ba9e24aa1c6b5f8ca694065645)" to "[186922cd72d5da9fb69c8d41575cbd3acebc278c](https://github.com/sagemath/sagetrac-mirror/commit/186922cd72d5da9fb69c8d41575cbd3acebc278c)"



---

archive/issue_comments_397820.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-10-09T23:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397820",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_397821.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-10-21T07:04:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397821",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_397822.json:
```json
{
    "body": "Changing branch from \"[u/jhpalmieri/references](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/references)\" to \"[186922cd72d5da9fb69c8d41575cbd3acebc278c](https://github.com/sagemath/sagetrac-mirror/commit/186922cd72d5da9fb69c8d41575cbd3acebc278c)\"",
    "created_at": "2016-10-21T07:04:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21454#issuecomment-397822",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[u/jhpalmieri/references](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/references)" to "[186922cd72d5da9fb69c8d41575cbd3acebc278c](https://github.com/sagemath/sagetrac-mirror/commit/186922cd72d5da9fb69c8d41575cbd3acebc278c)"



---

archive/issue_events_064794.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-21T07:04:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21454",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21454#event-64794"
}
```
