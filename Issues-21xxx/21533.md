# Issue 21533: add a method to reach lmfdb webpage of elliptic curves over Q

archive/issues_021296.json:
```json
{
    "assignees": [],
    "body": "as suggested in #18968\n\nCC:  @JohnCremona @kedlaya @sagetrac-tmonteil\n\nBranch/Commit: **[`2020242`](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)**\n\nReviewer: **John Cremona**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **elliptic curves**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21533_\n\n",
    "closed_at": "2017-01-28T17:03:38Z",
    "created_at": "2016-09-18T18:29:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20elliptic%20curves",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "add a method to reach lmfdb webpage of elliptic curves over Q",
    "type": "issue",
    "updated_at": "2017-01-28T17:03:38Z",
    "url": "https://github.com/sagemath/sage/issues/21533",
    "user": "https://github.com/fchapoton"
}
```
as suggested in #18968

CC:  @JohnCremona @kedlaya @sagetrac-tmonteil

Branch/Commit: **[`2020242`](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)**

Reviewer: **John Cremona**

Author: **Frédéric Chapoton**

Component: **elliptic curves**

_Issue created by migration from https://trac.sagemath.org/ticket/21533_





---

archive/issue_events_302460.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-18T18:29:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-302460"
}
```



---

archive/issue_events_302461.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-18T18:29:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20elliptic%20curves",
    "label_color": "0000ff",
    "label_name": "c: elliptic curves",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-302461"
}
```



---

archive/issue_events_302462.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-18T18:29:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-302462"
}
```



---

archive/issue_events_302463.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-18T18:29:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-302463"
}
```



---

archive/issue_events_302464.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-18T18:30:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-302464"
}
```



---

archive/issue_comments_316134.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4781c3e1f9d7b519461d70fb4a1d7bf075608b5\">d4781c3</a></td><td><code>trying to add links to lmfdb (not working)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d7831e274a7b4f5d72cd918882e6fa360c320df\">8d7831e</a></td><td><code>Merge branch 'public/18968' in 7.4.b5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db\">2020242</a></td><td><code>trac 18968 link to lmfdb page with correct url</code></td></tr></table>\n",
    "created_at": "2016-09-18T18:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316134",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4781c3e1f9d7b519461d70fb4a1d7bf075608b5">d4781c3</a></td><td><code>trying to add links to lmfdb (not working)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d7831e274a7b4f5d72cd918882e6fa360c320df">8d7831e</a></td><td><code>Merge branch 'public/18968' in 7.4.b5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db">2020242</a></td><td><code>trac 18968 link to lmfdb page with correct url</code></td></tr></table>




---

archive/issue_comments_316135.json:
```json
{
    "body": "Commit: **[`2020242`](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)**",
    "created_at": "2016-09-18T18:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316135",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`2020242`](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)**



---

archive/issue_comments_316136.json:
```json
{
    "body": "Branch: **[u/chapoton/21533](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21533)**",
    "created_at": "2016-09-18T18:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316136",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/21533](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21533)**



---

archive/issue_comments_316137.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nany opinion on this proposal ?",
    "created_at": "2016-09-25T19:28:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316137",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

any opinion on this proposal ?



---

archive/issue_comments_316138.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIs there anywhere else in Sage where a function opens a web page ?  Just wondering.",
    "created_at": "2016-09-25T21:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316138",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:4" align="right">comment:4</div>

Is there anywhere else in Sage where a function opens a web page ?  Just wondering.



---

archive/issue_comments_316139.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThere are already two instances:\n\n```\ngit grep -P -c \"webbrowser.open\"\nsrc/sage/databases/findstat.py:5\nsrc/sage/databases/oeis.py:5\n```",
    "created_at": "2016-09-29T18:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316139",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

There are already two instances:

```
git grep -P -c "webbrowser.open"
src/sage/databases/findstat.py:5
src/sage/databases/oeis.py:5
```



---

archive/issue_comments_316140.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nping ?",
    "created_at": "2017-01-25T08:01:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316140",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

ping ?



---

archive/issue_events_302465.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-25T08:01:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-302465"
}
```



---

archive/issue_events_302466.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-25T08:01:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-302466"
}
```



---

archive/issue_comments_316141.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI will test this.  It should be tested with and without the optional large database -- my own installations probably all have it so I hope someone else can test without.",
    "created_at": "2017-01-25T08:41:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316141",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:8" align="right">comment:8</div>

I will test this.  It should be tested with and without the optional large database -- my own installations probably all have it so I hope someone else can test without.



---

archive/issue_comments_316142.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI tested the branch after merging into current develop (7.6.beta0).  It worked fine, starting a browser the first time and then opening new tabs in the same browser after that.  If the curve is not in the database it gives a reasonable run-time error.\n\nI'm sure that people will say that they should not have to install the optional database of curves if they can get the data from the LMFDB website; true (unless running Sage off-line) but work for the future.\n\nShould we allow people to open the LMFDB URL of a valid elliptic curve label without constructin the curve?  There could be a stand-alone function called (something like) open_lmfdb_elliptic_curve_page('label'), and then the elliptic curve method could call that.\n\nAnother follow-up would be for curves over number fields, which are currently being added to the database.  But thelabelling is rather complicated to explain in this margin...",
    "created_at": "2017-01-25T10:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316142",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:9" align="right">comment:9</div>

I tested the branch after merging into current develop (7.6.beta0).  It worked fine, starting a browser the first time and then opening new tabs in the same browser after that.  If the curve is not in the database it gives a reasonable run-time error.

I'm sure that people will say that they should not have to install the optional database of curves if they can get the data from the LMFDB website; true (unless running Sage off-line) but work for the future.

Should we allow people to open the LMFDB URL of a valid elliptic curve label without constructin the curve?  There could be a stand-alone function called (something like) open_lmfdb_elliptic_curve_page('label'), and then the elliptic curve method could call that.

Another follow-up would be for curves over number fields, which are currently being added to the database.  But thelabelling is rather complicated to explain in this margin...



---

archive/issue_comments_316143.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI am not favourable to allow this call without building the curve.",
    "created_at": "2017-01-25T10:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316143",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:10" align="right">comment:10</div>

I am not favourable to allow this call without building the curve.



---

archive/issue_comments_316144.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThat's OK.  I'll just finish testing then and expect to give a +ve review soon.",
    "created_at": "2017-01-25T12:28:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316144",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:11" align="right">comment:11</div>

That's OK.  I'll just finish testing then and expect to give a +ve review soon.



---

archive/issue_comments_316145.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nWhen I remembered to doctest run the file with --optional=webbrowser,sage it worked fine (causing a page to pop up). \n\nI did not test the part where an LMFDB label is used instead, since the curves obtained from the database do not have this field set.  There's another ticket somewhere which will add these, and when that happens we'll see if that part of this code works as it should.",
    "created_at": "2017-01-25T12:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316145",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:12" align="right">comment:12</div>

When I remembered to doctest run the file with --optional=webbrowser,sage it worked fine (causing a page to pop up). 

I did not test the part where an LMFDB label is used instead, since the curves obtained from the database do not have this field set.  There's another ticket somewhere which will add these, and when that happens we'll see if that part of this code works as it should.



---

archive/issue_events_302467.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-25T12:45:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-302467"
}
```



---

archive/issue_events_302468.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-25T12:45:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-302468"
}
```



---

archive/issue_comments_316146.json:
```json
{
    "body": "Reviewer: **John Cremona**",
    "created_at": "2017-01-25T12:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316146",
    "user": "https://github.com/JohnCremona"
}
```

Reviewer: **John Cremona**



---

archive/issue_events_302469.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-28T17:03:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-302469"
}
```



---

archive/issue_events_302470.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a8df4ce934b8c9cd06f8ac3ec6e29347c98491ae",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-01-28T17:03:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-302470"
}
```



---

archive/issue_comments_316147.json:
```json
{
    "body": "Changed branch from **[u/chapoton/21533](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21533)** to **[`2020242`](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)**",
    "created_at": "2017-01-28T17:03:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-316147",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/21533](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21533)** to **[`2020242`](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)**
