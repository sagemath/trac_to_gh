# Issue 21533: add a method to reach lmfdb webpage of elliptic curves over Q

archive/issues_021296.json:
```json
{
    "assignees": [],
    "body": "as suggested in #18968\n\nCC:  @JohnCremona @kedlaya tmonteil\n\nBranch/Commit: **[2020242](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)**\n\nReviewer: **John Cremona**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/21533_\n\n",
    "closed_at": "2017-01-28T17:03:38Z",
    "created_at": "2016-09-18T18:29:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20elliptic%20curves",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "add a method to reach lmfdb webpage of elliptic curves over Q",
    "type": "issue",
    "updated_at": "2017-01-28T17:03:38Z",
    "url": "https://github.com/sagemath/sage/issues/21533",
    "user": "https://github.com/fchapoton"
}
```
as suggested in #18968

CC:  @JohnCremona @kedlaya tmonteil

Branch/Commit: **[2020242](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)**

Reviewer: **John Cremona**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/21533_





---

archive/issue_events_284528.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-18T18:29:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-284528"
}
```



---

archive/issue_events_284529.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-18T18:29:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20elliptic%20curves",
    "label_color": "0000ff",
    "label_name": "component: elliptic curves",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-284529"
}
```



---

archive/issue_events_284530.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-18T18:29:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-284530"
}
```



---

archive/issue_events_284531.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-18T18:29:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-284531"
}
```



---

archive/issue_events_284532.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-09-18T18:30:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-284532"
}
```



---

archive/issue_comments_318701.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4781c3e1f9d7b519461d70fb4a1d7bf075608b5\">d4781c3</a></td><td><code>trying to add links to lmfdb (not working)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d7831e274a7b4f5d72cd918882e6fa360c320df\">8d7831e</a></td><td><code>Merge branch 'public/18968' in 7.4.b5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db\">2020242</a></td><td><code>trac 18968 link to lmfdb page with correct url</code></td></tr></table>\n",
    "created_at": "2016-09-18T18:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318701",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4781c3e1f9d7b519461d70fb4a1d7bf075608b5">d4781c3</a></td><td><code>trying to add links to lmfdb (not working)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d7831e274a7b4f5d72cd918882e6fa360c320df">8d7831e</a></td><td><code>Merge branch 'public/18968' in 7.4.b5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db">2020242</a></td><td><code>trac 18968 link to lmfdb page with correct url</code></td></tr></table>




---

archive/issue_comments_318702.json:
```json
{
    "body": "Commit: **[2020242](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)**",
    "created_at": "2016-09-18T18:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318702",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[2020242](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)**



---

archive/issue_comments_318703.json:
```json
{
    "body": "Branch: **[u/chapoton/21533](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21533)**",
    "created_at": "2016-09-18T18:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318703",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/21533](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21533)**



---

archive/issue_comments_318704.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nany opinion on this proposal ?",
    "created_at": "2016-09-25T19:28:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318704",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'>Comment 3:</a>
any opinion on this proposal ?



---

archive/issue_comments_318705.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nIs there anywhere else in Sage where a function opens a web page ?  Just wondering.",
    "created_at": "2016-09-25T21:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318705",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:4'>Comment 4:</a>
Is there anywhere else in Sage where a function opens a web page ?  Just wondering.



---

archive/issue_comments_318706.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nThere are already two instances:\n\n```\ngit grep -P -c \"webbrowser.open\"\nsrc/sage/databases/findstat.py:5\nsrc/sage/databases/oeis.py:5\n```",
    "created_at": "2016-09-29T18:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318706",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'>Comment 5:</a>
There are already two instances:

```
git grep -P -c "webbrowser.open"
src/sage/databases/findstat.py:5
src/sage/databases/oeis.py:5
```



---

archive/issue_comments_318707.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nping ?",
    "created_at": "2017-01-25T08:01:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318707",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'>Comment 6:</a>
ping ?



---

archive/issue_events_284533.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-25T08:01:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-284533"
}
```



---

archive/issue_events_284534.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-25T08:01:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-284534"
}
```



---

archive/issue_comments_318708.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nI will test this.  It should be tested with and without the optional large database -- my own installations probably all have it so I hope someone else can test without.",
    "created_at": "2017-01-25T08:41:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318708",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:8'>Comment 8:</a>
I will test this.  It should be tested with and without the optional large database -- my own installations probably all have it so I hope someone else can test without.



---

archive/issue_comments_318709.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nI tested the branch after merging into current develop (7.6.beta0).  It worked fine, starting a browser the first time and then opening new tabs in the same browser after that.  If the curve is not in the database it gives a reasonable run-time error.\n\nI'm sure that people will say that they should not have to install the optional database of curves if they can get the data from the LMFDB website; true (unless running Sage off-line) but work for the future.\n\nShould we allow people to open the LMFDB URL of a valid elliptic curve label without constructin the curve?  There could be a stand-alone function called (something like) open_lmfdb_elliptic_curve_page('label'), and then the elliptic curve method could call that.\n\nAnother follow-up would be for curves over number fields, which are currently being added to the database.  But thelabelling is rather complicated to explain in this margin...",
    "created_at": "2017-01-25T10:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318709",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:9'>Comment 9:</a>
I tested the branch after merging into current develop (7.6.beta0).  It worked fine, starting a browser the first time and then opening new tabs in the same browser after that.  If the curve is not in the database it gives a reasonable run-time error.

I'm sure that people will say that they should not have to install the optional database of curves if they can get the data from the LMFDB website; true (unless running Sage off-line) but work for the future.

Should we allow people to open the LMFDB URL of a valid elliptic curve label without constructin the curve?  There could be a stand-alone function called (something like) open_lmfdb_elliptic_curve_page('label'), and then the elliptic curve method could call that.

Another follow-up would be for curves over number fields, which are currently being added to the database.  But thelabelling is rather complicated to explain in this margin...



---

archive/issue_comments_318710.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI am not favourable to allow this call without building the curve.",
    "created_at": "2017-01-25T10:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318710",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'>Comment 10:</a>
I am not favourable to allow this call without building the curve.



---

archive/issue_comments_318711.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nThat's OK.  I'll just finish testing then and expect to give a +ve review soon.",
    "created_at": "2017-01-25T12:28:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318711",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:11'>Comment 11:</a>
That's OK.  I'll just finish testing then and expect to give a +ve review soon.



---

archive/issue_comments_318712.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nWhen I remembered to doctest run the file with --optional=webbrowser,sage it worked fine (causing a page to pop up). \n\nI did not test the part where an LMFDB label is used instead, since the curves obtained from the database do not have this field set.  There's another ticket somewhere which will add these, and when that happens we'll see if that part of this code works as it should.",
    "created_at": "2017-01-25T12:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318712",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:12'>Comment 12:</a>
When I remembered to doctest run the file with --optional=webbrowser,sage it worked fine (causing a page to pop up). 

I did not test the part where an LMFDB label is used instead, since the curves obtained from the database do not have this field set.  There's another ticket somewhere which will add these, and when that happens we'll see if that part of this code works as it should.



---

archive/issue_events_284535.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-25T12:45:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-284535"
}
```



---

archive/issue_events_284536.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-25T12:45:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-284536"
}
```



---

archive/issue_comments_318713.json:
```json
{
    "body": "Reviewer: **John Cremona**",
    "created_at": "2017-01-25T12:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318713",
    "user": "https://github.com/JohnCremona"
}
```

Reviewer: **John Cremona**



---

archive/issue_events_284537.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-28T17:03:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-284537"
}
```



---

archive/issue_events_284538.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a8df4ce934b8c9cd06f8ac3ec6e29347c98491ae",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-01-28T17:03:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/21533#event-284538"
}
```



---

archive/issue_comments_318714.json:
```json
{
    "body": "Changed branch from **[u/chapoton/21533](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21533)** to **[2020242](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)**",
    "created_at": "2017-01-28T17:03:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/21533#issuecomment-318714",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/21533](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/21533)** to **[2020242](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)**
