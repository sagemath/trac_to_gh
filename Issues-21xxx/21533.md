# Issue 21533: add a method to reach lmfdb webpage of elliptic curves over Q

archive/issues_021296.json:
```json
{
    "body": "as suggested in #18968\n\nCC:  @JohnCremona @kedlaya tmonteil\n\nBranch/Commit: 20202426570dd3b613d0ab3c56bf5017337729db\n\nReviewer: John Cremona\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/21533\n\n",
    "closed_at": "2017-01-28T17:03:38Z",
    "created_at": "2016-09-18T18:29:11Z",
    "labels": [
        "component: elliptic curves",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "add a method to reach lmfdb webpage of elliptic curves over Q",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21533",
    "user": "https://github.com/fchapoton"
}
```
as suggested in #18968

CC:  @JohnCremona @kedlaya tmonteil

Branch/Commit: 20202426570dd3b613d0ab3c56bf5017337729db

Reviewer: John Cremona

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/21533





---

archive/issue_comments_399777.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-09-18T18:30:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399777",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_399778.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[d4781c3](https://github.com/sagemath/sagetrac-mirror/commit/d4781c3e1f9d7b519461d70fb4a1d7bf075608b5)|`trying to add links to lmfdb (not working)`|\n|[8d7831e](https://github.com/sagemath/sagetrac-mirror/commit/8d7831e274a7b4f5d72cd918882e6fa360c320df)|`Merge branch 'public/18968' in 7.4.b5`|\n|[2020242](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)|`trac 18968 link to lmfdb page with correct url`|",
    "created_at": "2016-09-18T18:30:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399778",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[d4781c3](https://github.com/sagemath/sagetrac-mirror/commit/d4781c3e1f9d7b519461d70fb4a1d7bf075608b5)|`trying to add links to lmfdb (not working)`|
|[8d7831e](https://github.com/sagemath/sagetrac-mirror/commit/8d7831e274a7b4f5d72cd918882e6fa360c320df)|`Merge branch 'public/18968' in 7.4.b5`|
|[2020242](https://github.com/sagemath/sagetrac-mirror/commit/20202426570dd3b613d0ab3c56bf5017337729db)|`trac 18968 link to lmfdb page with correct url`|



---

archive/issue_comments_399779.json:
```json
{
    "body": "Changing commit from \"\" to \"20202426570dd3b613d0ab3c56bf5017337729db\"",
    "created_at": "2016-09-18T18:30:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399779",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "20202426570dd3b613d0ab3c56bf5017337729db"



---

archive/issue_comments_399780.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/21533\"",
    "created_at": "2016-09-18T18:30:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399780",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/21533"



---

archive/issue_comments_399781.json:
```json
{
    "body": "<a id='comment:3'></a>\nany opinion on this proposal ?",
    "created_at": "2016-09-25T19:28:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399781",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
any opinion on this proposal ?



---

archive/issue_comments_399782.json:
```json
{
    "body": "<a id='comment:4'></a>\nIs there anywhere else in Sage where a function opens a web page ?  Just wondering.",
    "created_at": "2016-09-25T21:10:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399782",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:4'></a>
Is there anywhere else in Sage where a function opens a web page ?  Just wondering.



---

archive/issue_comments_399783.json:
```json
{
    "body": "<a id='comment:5'></a>\nThere are already two instances:\n\n```\ngit grep -P -c \"webbrowser.open\"\nsrc/sage/databases/findstat.py:5\nsrc/sage/databases/oeis.py:5\n```",
    "created_at": "2016-09-29T18:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399783",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
There are already two instances:

```
git grep -P -c "webbrowser.open"
src/sage/databases/findstat.py:5
src/sage/databases/oeis.py:5
```



---

archive/issue_comments_399784.json:
```json
{
    "body": "<a id='comment:6'></a>\nping ?",
    "created_at": "2017-01-25T08:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399784",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
ping ?



---

archive/issue_events_064989.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-01-25T08:01:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21533#event-64989"
}
```



---

archive/issue_comments_399785.json:
```json
{
    "body": "<a id='comment:8'></a>\nI will test this.  It should be tested with and without the optional large database -- my own installations probably all have it so I hope someone else can test without.",
    "created_at": "2017-01-25T08:41:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399785",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:8'></a>
I will test this.  It should be tested with and without the optional large database -- my own installations probably all have it so I hope someone else can test without.



---

archive/issue_comments_399786.json:
```json
{
    "body": "<a id='comment:9'></a>\nI tested the branch after merging into current develop (7.6.beta0).  It worked fine, starting a browser the first time and then opening new tabs in the same browser after that.  If the curve is not in the database it gives a reasonable run-time error.\n\nI'm sure that people will say that they should not have to install the optional database of curves if they can get the data from the LMFDB website; true (unless running Sage off-line) but work for the future.\n\nShould we allow people to open the LMFDB URL of a valid elliptic curve label without constructin the curve?  There could be a stand-alone function called (something like) open_lmfdb_elliptic_curve_page('label'), and then the elliptic curve method could call that.\n\nAnother follow-up would be for curves over number fields, which are currently being added to the database.  But thelabelling is rather complicated to explain in this margin...",
    "created_at": "2017-01-25T10:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399786",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:9'></a>
I tested the branch after merging into current develop (7.6.beta0).  It worked fine, starting a browser the first time and then opening new tabs in the same browser after that.  If the curve is not in the database it gives a reasonable run-time error.

I'm sure that people will say that they should not have to install the optional database of curves if they can get the data from the LMFDB website; true (unless running Sage off-line) but work for the future.

Should we allow people to open the LMFDB URL of a valid elliptic curve label without constructin the curve?  There could be a stand-alone function called (something like) open_lmfdb_elliptic_curve_page('label'), and then the elliptic curve method could call that.

Another follow-up would be for curves over number fields, which are currently being added to the database.  But thelabelling is rather complicated to explain in this margin...



---

archive/issue_comments_399787.json:
```json
{
    "body": "<a id='comment:10'></a>\nI am not favourable to allow this call without building the curve.",
    "created_at": "2017-01-25T10:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399787",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
I am not favourable to allow this call without building the curve.



---

archive/issue_comments_399788.json:
```json
{
    "body": "<a id='comment:11'></a>\nThat's OK.  I'll just finish testing then and expect to give a +ve review soon.",
    "created_at": "2017-01-25T12:28:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399788",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:11'></a>
That's OK.  I'll just finish testing then and expect to give a +ve review soon.



---

archive/issue_comments_399789.json:
```json
{
    "body": "<a id='comment:12'></a>\nWhen I remembered to doctest run the file with --optional=webbrowser,sage it worked fine (causing a page to pop up). \n\nI did not test the part where an LMFDB label is used instead, since the curves obtained from the database do not have this field set.  There's another ticket somewhere which will add these, and when that happens we'll see if that part of this code works as it should.",
    "created_at": "2017-01-25T12:45:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399789",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:12'></a>
When I remembered to doctest run the file with --optional=webbrowser,sage it worked fine (causing a page to pop up). 

I did not test the part where an LMFDB label is used instead, since the curves obtained from the database do not have this field set.  There's another ticket somewhere which will add these, and when that happens we'll see if that part of this code works as it should.



---

archive/issue_comments_399790.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-01-25T12:45:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399790",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_399791.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Cremona\"",
    "created_at": "2017-01-25T12:45:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399791",
    "user": "https://github.com/JohnCremona"
}
```

Changing reviewer from "" to "John Cremona"



---

archive/issue_comments_399792.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-01-28T17:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399792",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_064990.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-28T17:03:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21533#event-64990"
}
```



---

archive/issue_comments_399793.json:
```json
{
    "body": "Changing branch from \"u/chapoton/21533\" to \"20202426570dd3b613d0ab3c56bf5017337729db\"",
    "created_at": "2017-01-28T17:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21533#issuecomment-399793",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/21533" to "20202426570dd3b613d0ab3c56bf5017337729db"
