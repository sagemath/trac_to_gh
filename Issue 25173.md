# Issue 25173: Addition of SPQR-Tree to graph.py

Issue created by migration from https://trac.sagemath.org/ticket/25410

Original creator: saiharsh

Original creation time: 2018-05-20 15:15:17




---

Comment by saiharsh created at 2018-05-20 15:16:50

Changing component from PLEASE CHANGE to graph theory.


---

Comment by saiharsh created at 2018-05-20 15:16:50

Changing type from PLEASE CHANGE to enhancement.


---

Comment by saiharsh created at 2018-05-21 14:55:04

Changing keywords from "" to "SPQRT-Tree".


---

Comment by git created at 2018-05-21 18:33:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saiharsh created at 2018-05-21 18:45:10

The cleave function is a helper function for spqr_tree. Which takes input as biconnected multigraph and output: \\
f: cut vertices \\
C: cocycles (A a dipole graph on the two-vertex cut with virtual edges) \\
S: list of the graphs that are sides of the two-vertex separation with a virtual edge at the separation  \\
Below are the following steps it follows: \\
1. Make input graph simple and find cut vertices.
2. Remove cut vertices from input graph and get connected components from it.
3. For each connected component add cut vertices and edges with it's neighbour vertices with reference to input graph.
4. create cocycles with the information of the number of connected components.

Finally, return (S,F,C).

Reference added in index.rst file and doctest updated.

Please have a look and let me know your feedback.


---

Comment by git created at 2018-05-21 18:53:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-05-24 20:56:23

Hello,

- Meghana is currently moving connectivity methods to file `connectivity.pyx`. See #25436. So you will certainly have to move your method to that file at some point. Not yet.

- WARNING: your patch is changing the mode of files `graph.py` and `index.rst` from `-rw-r--r--` to `-rwxr-xr-x`. You should not do that. This is certainly a default setting of your system. Please change.

- I don't understand why you have not worked in #22157. It was possible to change the branch name and let credit to the work of the original contributor. A ticket can have multiple authors as well as multiple reviewers.

- ``cocycles` is a dipole graph` but before you use letter `C`.

- The method **should not** modify the input graph !!! If you need, you can make a local copy. and you can have:

```
H = Graph(G.edges(labels=False), loops=G.has_loops(), multiedge=G.has_multiple_edges())
```


- Furthermore, I don't understand why you need to remove loops or multiple edges here. I seems that all your step are also working with loops or multiple edges, no ?


---

Comment by saiharsh created at 2018-05-24 21:28:53

Replying to [comment:8 dcoudert]:
> Hello,
> 
> - Meghana is currently moving connectivity methods to file `connectivity.pyx`. See #25436. So you will certainly have to move your method to that file at some point. Not yet.
> 
Yes soon I will be updating graph.py functions in it.
> - WARNING: your patch is changing the mode of files `graph.py` and `index.rst` from `-rw-r--r--` to `-rwxr-xr-x`. You should not do that. This is certainly a default setting of your system. Please change.
> 
I will update my system setting.

> - I don't understand why you have not worked in #22157. It was possible to change the branch name and let credit to the work of the original contributor. A ticket can have multiple authors as well as multiple reviewers.
> 
Yes, the Original contributor should get his credits as he started the work first.
Sorry this didn't come to my mind.
I will do appropriate changes and update it.

> - ``cocycles` is a dipole graph` but before you use letter `C`.
The `cocyle` is represented by letter `C`.

> 
> - The method **should not** modify the input graph !!! If you need, you can make a local copy. and you can have:
> {{{
> H = Graph(G.edges(labels=False), loops=G.has_loops(), multiedge=G.has_multiple_edges())
> }}}
> 
Yes, I won't change the input graph.

> - Furthermore, I don't understand why you need to remove loops or multiple edges here. I seems that all your step are also working with loops or multiple edges, no ?
> 
The initial version was testing whether the graph is simple or not i.e `self._scream_if_not_simple()`, so I did it. \\
I assumed the input is in simple(for SPQRT-Tree). \\
It's better if multiple edges graph could be passed to cleave function. \\
I will do the necessary changes, close this ticket.

Start working on the old ticket of spqr-tree.

Thanks,
Harsh


---

Comment by saiharsh created at 2018-05-26 09:51:52

Please close this ticket. \\


---

Comment by saiharsh created at 2018-05-26 09:52:29

Changing status from new to needs_review.


---

Comment by saiharsh created at 2018-05-26 09:52:29

Changing priority from major to minor.


---

Comment by saraedum created at 2018-06-01 23:39:37

Changing status from needs_review to positive_review.


---

Comment by embray created at 2018-11-08 16:06:52

Resolution: duplicate
