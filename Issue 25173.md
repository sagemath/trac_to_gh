# Issue 25173: Addition of SPQR-Tree to graph.py

archive/issues_025173.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/25410\n\n",
    "created_at": "2018-05-20T15:15:17Z",
    "labels": [
        "component: please change"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Addition of SPQR-Tree to graph.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25173",
    "user": "https://trac.sagemath.org/admin/accounts/users/saiharsh"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/25410





---

archive/issue_comments_354136.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to graph theory.",
    "created_at": "2018-05-20T15:16:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354136",
    "user": "https://trac.sagemath.org/admin/accounts/users/saiharsh"
}
```

Changing component from PLEASE CHANGE to graph theory.



---

archive/issue_comments_354137.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2018-05-20T15:16:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354137",
    "user": "https://trac.sagemath.org/admin/accounts/users/saiharsh"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_354138.json:
```json
{
    "body": "Changing keywords from \"\" to \"SPQRT-Tree\".",
    "created_at": "2018-05-21T14:55:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354138",
    "user": "https://trac.sagemath.org/admin/accounts/users/saiharsh"
}
```

Changing keywords from "" to "SPQRT-Tree".



---

archive/issue_comments_354139.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-21T18:33:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354139",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_354140.json:
```json
{
    "body": "The cleave function is a helper function for spqr_tree. Which takes input as biconnected multigraph and output: \\\\\nf: cut vertices \\\\\nC: cocycles (A a dipole graph on the two-vertex cut with virtual edges) \\\\\nS: list of the graphs that are sides of the two-vertex separation with a virtual edge at the separation  \\\\\nBelow are the following steps it follows: \\\\\n1. Make input graph simple and find cut vertices.\n2. Remove cut vertices from input graph and get connected components from it.\n3. For each connected component add cut vertices and edges with it's neighbour vertices with reference to input graph.\n4. create cocycles with the information of the number of connected components.\n\nFinally, return (S,F,C).\n\nReference added in index.rst file and doctest updated.\n\nPlease have a look and let me know your feedback.",
    "created_at": "2018-05-21T18:45:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354140",
    "user": "https://trac.sagemath.org/admin/accounts/users/saiharsh"
}
```

The cleave function is a helper function for spqr_tree. Which takes input as biconnected multigraph and output: \\
f: cut vertices \\
C: cocycles (A a dipole graph on the two-vertex cut with virtual edges) \\
S: list of the graphs that are sides of the two-vertex separation with a virtual edge at the separation  \\
Below are the following steps it follows: \\
1. Make input graph simple and find cut vertices.
2. Remove cut vertices from input graph and get connected components from it.
3. For each connected component add cut vertices and edges with it's neighbour vertices with reference to input graph.
4. create cocycles with the information of the number of connected components.

Finally, return (S,F,C).

Reference added in index.rst file and doctest updated.

Please have a look and let me know your feedback.



---

archive/issue_comments_354141.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-05-21T18:53:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354141",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_354142.json:
```json
{
    "body": "Hello,\n\n- Meghana is currently moving connectivity methods to file `connectivity.pyx`. See #25436. So you will certainly have to move your method to that file at some point. Not yet.\n\n- WARNING: your patch is changing the mode of files `graph.py` and `index.rst` from `-rw-r--r--` to `-rwxr-xr-x`. You should not do that. This is certainly a default setting of your system. Please change.\n\n- I don't understand why you have not worked in #22157. It was possible to change the branch name and let credit to the work of the original contributor. A ticket can have multiple authors as well as multiple reviewers.\n\n- ``cocycles` is a dipole graph` but before you use letter `C`.\n\n- The method **should not** modify the input graph !!! If you need, you can make a local copy. and you can have:\n\n```\nH = Graph(G.edges(labels=False), loops=G.has_loops(), multiedge=G.has_multiple_edges())\n```\n\n\n- Furthermore, I don't understand why you need to remove loops or multiple edges here. I seems that all your step are also working with loops or multiple edges, no ?",
    "created_at": "2018-05-24T20:56:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354142",
    "user": "https://github.com/dcoudert"
}
```

Hello,

- Meghana is currently moving connectivity methods to file `connectivity.pyx`. See #25436. So you will certainly have to move your method to that file at some point. Not yet.

- WARNING: your patch is changing the mode of files `graph.py` and `index.rst` from `-rw-r--r--` to `-rwxr-xr-x`. You should not do that. This is certainly a default setting of your system. Please change.

- I don't understand why you have not worked in #22157. It was possible to change the branch name and let credit to the work of the original contributor. A ticket can have multiple authors as well as multiple reviewers.

- ``cocycles` is a dipole graph` but before you use letter `C`.

- The method **should not** modify the input graph !!! If you need, you can make a local copy. and you can have:

```
H = Graph(G.edges(labels=False), loops=G.has_loops(), multiedge=G.has_multiple_edges())
```


- Furthermore, I don't understand why you need to remove loops or multiple edges here. I seems that all your step are also working with loops or multiple edges, no ?



---

archive/issue_comments_354143.json:
```json
{
    "body": "Replying to [comment:8 dcoudert]:\n> Hello,\n> \n> - Meghana is currently moving connectivity methods to file `connectivity.pyx`. See #25436. So you will certainly have to move your method to that file at some point. Not yet.\n> \nYes soon I will be updating graph.py functions in it.\n> - WARNING: your patch is changing the mode of files `graph.py` and `index.rst` from `-rw-r--r--` to `-rwxr-xr-x`. You should not do that. This is certainly a default setting of your system. Please change.\n> \nI will update my system setting.\n\n> - I don't understand why you have not worked in #22157. It was possible to change the branch name and let credit to the work of the original contributor. A ticket can have multiple authors as well as multiple reviewers.\n> \nYes, the Original contributor should get his credits as he started the work first.\nSorry this didn't come to my mind.\nI will do appropriate changes and update it.\n\n> - ``cocycles` is a dipole graph` but before you use letter `C`.\nThe `cocyle` is represented by letter `C`.\n\n> \n> - The method **should not** modify the input graph !!! If you need, you can make a local copy. and you can have:\n> {{{\n> H = Graph(G.edges(labels=False), loops=G.has_loops(), multiedge=G.has_multiple_edges())\n> }}}\n> \nYes, I won't change the input graph.\n\n> - Furthermore, I don't understand why you need to remove loops or multiple edges here. I seems that all your step are also working with loops or multiple edges, no ?\n> \nThe initial version was testing whether the graph is simple or not i.e `self._scream_if_not_simple()`, so I did it. \\\\\nI assumed the input is in simple(for SPQRT-Tree). \\\\\nIt's better if multiple edges graph could be passed to cleave function. \\\\\nI will do the necessary changes, close this ticket.\n\nStart working on the old ticket of spqr-tree.\n\nThanks,\nHarsh",
    "created_at": "2018-05-24T21:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354143",
    "user": "https://trac.sagemath.org/admin/accounts/users/saiharsh"
}
```

Replying to [comment:8 dcoudert]:
> Hello,
> 
> - Meghana is currently moving connectivity methods to file `connectivity.pyx`. See #25436. So you will certainly have to move your method to that file at some point. Not yet.
> 
Yes soon I will be updating graph.py functions in it.
> - WARNING: your patch is changing the mode of files `graph.py` and `index.rst` from `-rw-r--r--` to `-rwxr-xr-x`. You should not do that. This is certainly a default setting of your system. Please change.
> 
I will update my system setting.

> - I don't understand why you have not worked in #22157. It was possible to change the branch name and let credit to the work of the original contributor. A ticket can have multiple authors as well as multiple reviewers.
> 
Yes, the Original contributor should get his credits as he started the work first.
Sorry this didn't come to my mind.
I will do appropriate changes and update it.

> - ``cocycles` is a dipole graph` but before you use letter `C`.
The `cocyle` is represented by letter `C`.

> 
> - The method **should not** modify the input graph !!! If you need, you can make a local copy. and you can have:
> {{{
> H = Graph(G.edges(labels=False), loops=G.has_loops(), multiedge=G.has_multiple_edges())
> }}}
> 
Yes, I won't change the input graph.

> - Furthermore, I don't understand why you need to remove loops or multiple edges here. I seems that all your step are also working with loops or multiple edges, no ?
> 
The initial version was testing whether the graph is simple or not i.e `self._scream_if_not_simple()`, so I did it. \\
I assumed the input is in simple(for SPQRT-Tree). \\
It's better if multiple edges graph could be passed to cleave function. \\
I will do the necessary changes, close this ticket.

Start working on the old ticket of spqr-tree.

Thanks,
Harsh



---

archive/issue_comments_354144.json:
```json
{
    "body": "Please close this ticket. \\\\",
    "created_at": "2018-05-26T09:51:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354144",
    "user": "https://trac.sagemath.org/admin/accounts/users/saiharsh"
}
```

Please close this ticket. \\



---

archive/issue_comments_354145.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-05-26T09:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354145",
    "user": "https://trac.sagemath.org/admin/accounts/users/saiharsh"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_354146.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2018-05-26T09:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354146",
    "user": "https://trac.sagemath.org/admin/accounts/users/saiharsh"
}
```

Changing priority from major to minor.



---

archive/issue_comments_354147.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-06-01T23:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354147",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_354148.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2018-11-08T16:06:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25173#issuecomment-354148",
    "user": "https://github.com/embray"
}
```

Resolution: duplicate



---

archive/issue_events_023460.json:
```json
{
    "actor": "@embray",
    "created_at": "2018-11-08T16:06:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25173",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25173#event-23460"
}
```
