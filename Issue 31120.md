# Issue 31120: Fixup src/VERSION.txt added in #30912

Issue created by migration from https://trac.sagemath.org/ticket/31357

Original creator: mkoeppe

Original creation time: 2021-02-08 02:42:36

CC:  jhpalmieri @tobiasdiez isuruf




---

Comment by mkoeppe created at 2021-02-08 02:47:19

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-02-08 02:47:19

Last 10 new commits:


---

Comment by jhpalmieri created at 2021-02-10 18:14:43

So we're going to have the version recorded in another non-auto-generated file?


---

Comment by mkoeppe created at 2021-02-10 18:55:10

It is auto-generated by `src/bin/sage-update-version`


---

Comment by mkoeppe created at 2021-02-10 18:57:31

This file needs to be there at the time that one would prepare an `sdist` of the Sage library - which is by the end of `bootstrap`. 
In the current implementation, all version files are updated using this script and checked in to git by the release manager when preparing a release.


---

Comment by jhpalmieri created at 2021-02-10 21:39:58

Should the symlink `build/pkgs/sagelib/src/VERSION.txt` point to `SAGE_ROOT/src/VERSION.txt`? Or maybe to `../package-version.txt`? Right now it's pointing to the nonexistent `SAGE_ROOT/src/package-version.txt`.

In the `sage-update-version` script, the file `SAGE_ROOT/src/bin/VERSION.txt` is written. Should that instead be `SAGE_ROOT/src/VERSION.txt`?

I'm basically really confused about the different version files.


---

Comment by mkoeppe created at 2021-02-10 21:45:27

Thanks for catching these mistakes... I'll fix it up


---

Comment by git created at 2021-02-10 21:50:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jhpalmieri created at 2021-02-10 22:17:37

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2021-02-10 22:17:37

Thanks for the fixes. I think this is okay.


---

Comment by mkoeppe created at 2021-02-10 22:22:51

Thank you!


---

Comment by mkoeppe created at 2021-02-10 22:31:39

Changing priority from major to critical.


---

Comment by vbraun created at 2021-03-01 00:21:18

Resolution: fixed
