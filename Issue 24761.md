# Issue 24761: py3: incorporate a tab completion function from sagenb

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2018-03-17 21:19:21

CC:  embray jdemeyer

to continue cutting the links to sagenb


---

Comment by chapoton created at 2018-03-17 21:19:52

Changing status from new to needs_review.


---

Comment by git created at 2018-03-17 21:21:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-03-21 21:19:28

and bot is morally green


---

Comment by chapoton created at 2018-03-27 20:13:37

ping ?


---

Comment by jhpalmieri created at 2018-03-27 21:49:08

How about some doctests for `completions`?


---

Comment by git created at 2018-03-28 07:32:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-03-28 07:32:32

done


---

Comment by chapoton created at 2018-03-28 09:42:35

and bot is morally green again


---

Comment by embray created at 2018-03-28 10:42:27

Why not go ahead and make this Python 3 compatible as well (currently I think it isn't)?  Otherwise +1 from me.


---

Comment by chapoton created at 2018-03-28 11:44:45

Could you precise in which way it is not py3 compatible ? I do not feel very qualified to make it so, by the way. I am quite lost in what exactly is using unicode and what else is using bytes..


---

Comment by embray created at 2018-03-28 14:37:30

Just try testing it on Python 3, I mean.  For example, this will break:


```
            v += [x for x in __builtins__.keys() if x[:n] == s] 
```


Actually the line is broken on Python 2 as well--there is no `__builtins__.keys()`.  Maybe it means `vars(__builtins__)`?  I'm not sure though.  I haven't read the code that closely.


---

Comment by git created at 2018-03-28 15:26:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-03-28 15:26:38

Here is a tentative of simplification. Now pyflakes is happy.


---

Comment by chapoton created at 2018-03-28 18:38:56

and bot is morally green again


---

Comment by jhpalmieri created at 2018-03-29 19:58:47

I'm happy with it.


---

Comment by chapoton created at 2018-03-30 06:35:49

Should I remove the unused option ?


---

Comment by jhpalmieri created at 2018-03-30 14:41:18

Would that require deprecation?


---

Comment by chapoton created at 2018-03-30 16:50:11

No, because we are not removing the original method in sagenb, just making inside sage a minimal version suited for our purposes.


---

Comment by chapoton created at 2018-04-02 12:51:06

So would you give a positive review in the present state, or should I remove the ignored argument ?


---

Comment by jhpalmieri created at 2018-04-03 18:20:55

It seems best to remove the ignored argument, but I don't feel strongly about it.


---

Comment by git created at 2018-04-04 11:29:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-04-04 11:31:07

The ignored argument has now been removed.


---

Comment by jhpalmieri created at 2018-04-04 20:26:10

Okay, looks good.


---

Comment by jhpalmieri created at 2018-04-04 20:26:10

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-05-12 11:47:34

Resolution: fixed
