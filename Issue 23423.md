# Issue 23423: Better isomorphisms between function fields and fraction fields

archive/issues_023423.json:
```json
{
    "body": "Keywords: function field, fraction field\n\nAdd a method `function_field` to fraction fields of univariate polynomial rings over fields which returns the isomorphic function field. Also, the involved morphisms should know that they are injective and surjective.\n\nIssue created by migration from https://trac.sagemath.org/ticket/23660\n\n",
    "created_at": "2017-08-21T04:21:37Z",
    "labels": [
        "commutative algebra",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Better isomorphisms between function fields and fraction fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23423",
    "user": "saraedum"
}
```
Keywords: function field, fraction field

Add a method `function_field` to fraction fields of univariate polynomial rings over fields which returns the isomorphic function field. Also, the involved morphisms should know that they are injective and surjective.

Issue created by migration from https://trac.sagemath.org/ticket/23660





---

archive/issue_comments_327789.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-08-21T04:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327789",
    "user": "saraedum"
}
```

New commits:



---

archive/issue_comments_327790.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-08-21T04:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327790",
    "user": "saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_327791.json:
```json
{
    "body": "Looks fine.\n\nMaybe you could make the paragraph in `_richcmp_` a warning or note block.",
    "created_at": "2017-08-21T21:16:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327791",
    "user": "jpflori"
}
```

Looks fine.

Maybe you could make the paragraph in `_richcmp_` a warning or note block.



---

archive/issue_comments_327792.json:
```json
{
    "body": "done.",
    "created_at": "2017-08-25T17:09:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327792",
    "user": "saraedum"
}
```

done.



---

archive/issue_comments_327793.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-25T17:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327793",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_327794.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-25T20:45:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327794",
    "user": "jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_327795.json:
```json
{
    "body": "\n```\nFile \"src/sage/categories/rings.py\", line 117, in sage.categories.rings.Rings.MorphismMethods.is_injective\nFailed example:\n    f = ZZ.hom(K); f\nExpected:\n    Composite map:\n      From: Integer Ring\n      To:   Rational function field in x over Rational Field\n      Defn:   Conversion via FractionFieldElement_1poly_field map:\n              From: Integer Ring\n              To:   Fraction Field of Univariate Polynomial Ring in x over Rational Field\n            then\n              Coercion map:\n              From: Fraction Field of Univariate Polynomial Ring in x over Rational Field\n              To:   Rational function field in x over Rational Field\nGot:\n    Composite map:\n      From: Integer Ring\n      To:   Rational function field in x over Rational Field\n      Defn:   Conversion via FractionFieldElement_1poly_field map:\n              From: Integer Ring\n              To:   Fraction Field of Univariate Polynomial Ring in x over Rational Field\n            then\n              Isomorphism morphism:\n              From: Fraction Field of Univariate Polynomial Ring in x over Rational Field\n              To:   Rational function field in x over Rational Field\n```\n",
    "created_at": "2017-09-14T22:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327795",
    "user": "vbraun"
}
```


```
File "src/sage/categories/rings.py", line 117, in sage.categories.rings.Rings.MorphismMethods.is_injective
Failed example:
    f = ZZ.hom(K); f
Expected:
    Composite map:
      From: Integer Ring
      To:   Rational function field in x over Rational Field
      Defn:   Conversion via FractionFieldElement_1poly_field map:
              From: Integer Ring
              To:   Fraction Field of Univariate Polynomial Ring in x over Rational Field
            then
              Coercion map:
              From: Fraction Field of Univariate Polynomial Ring in x over Rational Field
              To:   Rational function field in x over Rational Field
Got:
    Composite map:
      From: Integer Ring
      To:   Rational function field in x over Rational Field
      Defn:   Conversion via FractionFieldElement_1poly_field map:
              From: Integer Ring
              To:   Fraction Field of Univariate Polynomial Ring in x over Rational Field
            then
              Isomorphism morphism:
              From: Fraction Field of Univariate Polynomial Ring in x over Rational Field
              To:   Rational function field in x over Rational Field
```




---

archive/issue_comments_327796.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-09-14T22:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327796",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_327797.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-20T16:18:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327797",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_327798.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-20T16:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327798",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_327799.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-09-20T16:20:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327799",
    "user": "saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_327800.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-09-26T01:42:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327800",
    "user": "roed"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_327801.json:
```json
{
    "body": "Patchbot's happy.",
    "created_at": "2017-09-26T01:42:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327801",
    "user": "roed"
}
```

Patchbot's happy.



---

archive/issue_comments_327802.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-01T00:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327802",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_327803.json:
```json
{
    "body": "This broke #23881 :-(",
    "created_at": "2017-10-13T13:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327803",
    "user": "jdemeyer"
}
```

This broke #23881 :-(



---

archive/issue_comments_327804.json:
```json
{
    "body": "Follow-up: #24033",
    "created_at": "2017-10-13T13:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23423",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23423#issuecomment-327804",
    "user": "jdemeyer"
}
```

Follow-up: #24033
