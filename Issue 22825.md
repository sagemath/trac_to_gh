# Issue 22825: Document disp option of minimize

Issue created by migration from Trac.

Original creator: mforets

Original creation time: 2017-05-23 15:47:21

CC:  dimpase dcoudert

Keywords: documentation, optimization

The `disp` keyword of the top-level `minimize` function does not appear in the docstring. Moreover, it is currently set up to be verbose by default (don't think is a good idea), hence displays a message similar to:


```
Optimization terminated successfully.
         Current function value: 0.000000
         Iterations: 28
         Function evaluations: 35
         Gradient evaluations: 35
```




---

Comment by mforets created at 2017-05-24 07:30:55

homework:

- #14607 for the verbose issue
- #14493 to improve docs about the format of the obj function accepted
- #6592 for a similar issue with `minimize_constrained`


---

Comment by mforets created at 2017-05-24 12:44:44

i'm seeking your opinion about: verbose mode by default yes or not?

as stated above, i'm +1 for no convergence message by default.
----
New commits:


---

Comment by dimpase created at 2017-05-24 12:59:19

If you want to make `disp=False` the default, it should be done via the deprecation route, as it changes the output.


---

Comment by dcoudert created at 2017-05-24 13:07:32

I have no opinion for this change since I never use these methods.
Note that I find the keyword `verbose` more usual than `disp`.


---

Comment by dimpase created at 2017-05-24 13:11:41

Replying to [comment:4 dcoudert]:
> I have no opinion for this change since I never use these methods.
> Note that I find the keyword `verbose` more usual than `disp`.
> 
name `disp` comes  from the backend, it is not something we could change, it seems.


---

Comment by dimpase created at 2017-05-24 13:14:12

more precisely, `verbose` would be nice and easy to have, assuming the backend does not use it for something else. Otherwise it looks to complicated to do this change.


---

Comment by mforets created at 2017-05-24 14:06:17

from that side i think it can be renamed inside `minimize`; it is a true/false flag that is passed to SciPy's optimize methods. 

(`fprime` has been renamed to `gradient`, for instance.) 

inside the numerical module, the `verbose` keyword is currently used in:

- interactive simplex method (`inject_variables`)
- `knapsack` problem

OTOH, `disp` is used only here, on `minimize`.


---

Comment by dimpase created at 2017-05-24 14:15:24

OK, let's go with `verbose` instead.


---

Comment by git created at 2017-05-24 17:24:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-05-24 17:38:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mforets created at 2017-05-24 17:42:43

change are done ==> essentially for review..

although i doubted is if it's the good deprecation warning that i chose. from [the list in the Guide](http://doc.sagemath.org/html/en/developer/coding_in_python.html?highlight=deprecation#deprecation), there is no explicit mention about "changing the output".


---

Comment by mforets created at 2017-05-24 18:28:39

here is another thing with this function: suppose you choose `algorithm='ncg'`. then, [the line with](https://github.com/sagemath/sage/blob/master/src/sage/numerical/optimize.py#L345) `optimize.fmin_ncg` does not get executed if `f` is a Python function?! (not even an exception?)


---

Comment by git created at 2017-05-24 18:38:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mforets created at 2017-05-25 09:24:44

Replying to [comment:12 mforets]:
> here is another thing with this function: suppose you choose `algorithm='ncg'`. then, [the line with](https://github.com/sagemath/sage/blob/master/src/sage/numerical/optimize.py#L345) `optimize.fmin_ncg` does not get executed if `f` is a Python function?! (not even an exception?)

i had closer look into this, and created #23074


---

Comment by git created at 2017-05-25 09:30:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mforets created at 2017-05-25 09:32:00

Changing status from new to needs_review.


---

Comment by mforets created at 2017-05-25 09:32:00

no further changes expected (from my side) ==> needs review


---

Comment by dimpase created at 2017-05-25 09:37:46

Looks good to me, thanks!


---

Comment by dimpase created at 2017-05-25 09:37:46

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-05-27 23:42:37

Resolution: fixed
