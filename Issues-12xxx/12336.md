# Issue 12336: The optional doctests in sage/databases/symbolic_data.py are misformatted so they are never run

archive/issues_012164.json:
```json
{
    "body": "The format for optional tests is:\n\n```\nsage:   the_test   # optional - package_or_other_name\n```\nBut in databases/symbolic_data.py, we find\n\n```\nsage: search_src('optional', 'database_symbo')\ndatabases/symbolic_data.py:33:    sage: sd = SymbolicData(); sd # optional requires database_symbolic_data\ndatabases/symbolic_data.py:36:    sage: sd.ZeroDim__example_1 # optional requires database_symbolic_data\ndatabases/symbolic_data.py:39:    sage: sd.Katsura_3 # optional requires database_symbolic_data\n...\n```\n\nUsing \"requires\" doesn't work, though you can optional put that after the dash.\n\n**apply** [attachment:trac_12336_symbolic_data.patch]\n\n**Assignee:** mvngu\n\n**CC:**  @orlitzky\n\n**Author:** Martin Albrecht\n\n**Reviewer:** Michael Orlitzky\n\n**Merged:** sage-5.0.beta4\n\nIssue created by migration from https://trac.sagemath.org/ticket/12336\n\n",
    "closed_at": "2012-02-14T14:21:52Z",
    "created_at": "2012-01-21T21:01:24Z",
    "labels": [
        "component: doctest coverage",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "The optional doctests in sage/databases/symbolic_data.py are misformatted so they are never run",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12336",
    "user": "https://github.com/williamstein"
}
```
The format for optional tests is:

```
sage:   the_test   # optional - package_or_other_name
```
But in databases/symbolic_data.py, we find

```
sage: search_src('optional', 'database_symbo')
databases/symbolic_data.py:33:    sage: sd = SymbolicData(); sd # optional requires database_symbolic_data
databases/symbolic_data.py:36:    sage: sd.ZeroDim__example_1 # optional requires database_symbolic_data
databases/symbolic_data.py:39:    sage: sd.Katsura_3 # optional requires database_symbolic_data
...
```

Using "requires" doesn't work, though you can optional put that after the dash.

**apply** [attachment:trac_12336_symbolic_data.patch]

**Assignee:** mvngu

**CC:**  @orlitzky

**Author:** Martin Albrecht

**Reviewer:** Michael Orlitzky

**Merged:** sage-5.0.beta4

Issue created by migration from https://trac.sagemath.org/ticket/12336





---

archive/attachments_016550.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "sage-trac_12336.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12336/sage-trac_12336.patch",
    "created_at": "2012-01-24T00:22:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/orlitzky"
}
```



---

archive/issue_comments_168209.json:
```json
{
    "body": "Fix optional syntax in symbolic_data.py",
    "created_at": "2012-01-24T00:22:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168209",
    "user": "https://github.com/orlitzky"
}
```

Fix optional syntax in symbolic_data.py



---

archive/issue_comments_168210.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2012-01-24T00:25:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168210",
    "user": "https://github.com/orlitzky"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_168211.json:
```json
{
    "body": "<a id='comment:1'></a>\nAll optional doctests in symbolic_data.py:\n\n```\n$ sage -t -verbose -only-optional symbolic_data.py\n...\n31 passed and 0 failed.\n```\n\nBefore the patch:\n\n\n```\n$ sage -t -verbose -only-optional=database_symbolic_data symbolic_data.py \nsage -t -verbose -only-optional=database_symbolic_data \"devel/sage-devel/sage/databases/symbolic_data.py\"\n\t [0.1 s]\n \n----------------------------------------------------------------------\nAll tests passed!\nTotal time for all tests: 0.1 seconds\n```\n\nAnd after the patch,\n\n```\n$ sage -t -verbose -only-optional=database_symbolic_data symbolic_data.py\n...\n31 passed and 0 failed.\n```",
    "created_at": "2012-01-24T00:25:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168211",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:1'></a>
All optional doctests in symbolic_data.py:

```
$ sage -t -verbose -only-optional symbolic_data.py
...
31 passed and 0 failed.
```

Before the patch:


```
$ sage -t -verbose -only-optional=database_symbolic_data symbolic_data.py 
sage -t -verbose -only-optional=database_symbolic_data "devel/sage-devel/sage/databases/symbolic_data.py"
	 [0.1 s]
 
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 0.1 seconds
```

And after the patch,

```
$ sage -t -verbose -only-optional=database_symbolic_data symbolic_data.py
...
31 passed and 0 failed.
```



---

archive/issue_comments_168212.json:
```json
{
    "body": "**Author:** Michael Orlitzky",
    "created_at": "2012-01-24T00:25:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168212",
    "user": "https://github.com/orlitzky"
}
```

**Author:** Michael Orlitzky



---

archive/issue_comments_168213.json:
```json
{
    "body": "<a id='comment:2'></a>\nAh, crap. I completely missed that there was a patch up already, so I prepared my own. Sorry. But to sweeten the deal: I fixed the format of the docs so that they work with sphinx and added the docs to the reference manual.",
    "created_at": "2012-01-25T10:47:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168213",
    "user": "https://github.com/malb"
}
```

<a id='comment:2'></a>
Ah, crap. I completely missed that there was a patch up already, so I prepared my own. Sorry. But to sweeten the deal: I fixed the format of the docs so that they work with sphinx and added the docs to the reference manual.



---

archive/issue_comments_168214.json:
```json
{
    "body": "<a id='comment:3'></a>\nmjo: can you referee malb's patch?  (or conversely -- I'm confused.)",
    "created_at": "2012-02-03T20:42:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168214",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:3'></a>
mjo: can you referee malb's patch?  (or conversely -- I'm confused.)



---

archive/issue_comments_168215.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [was](#comment%3A3):\n> mjo: can you referee malb's patch?  (or conversely -- I'm confused.)\n\n\nHis is the better patch.\n\nIt's annoying for me to review documentation from home thanks to #12276 (I have to rebuild a chunk of my system or the HTML looks like hell), but I can do it tonight. I've got to build beta2 anyway.",
    "created_at": "2012-02-03T22:44:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168215",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:4'></a>
Replying to [was](#comment%3A3):
> mjo: can you referee malb's patch?  (or conversely -- I'm confused.)


His is the better patch.

It's annoying for me to review documentation from home thanks to #12276 (I have to rebuild a chunk of my system or the HTML looks like hell), but I can do it tonight. I've got to build beta2 anyway.



---

archive/issue_comments_168216.json:
```json
{
    "body": "<a id='comment:5'></a>\nI know this is silly, but since the patch touches them all, can you change EXAMPLE to EXAMPLES? At least for the one with multiple examples (I prefer them to be consistent, but don't care all that much).\n\nOther than that, the patch is fine and the new docs look great.",
    "created_at": "2012-02-04T02:35:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168216",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:5'></a>
I know this is silly, but since the patch touches them all, can you change EXAMPLE to EXAMPLES? At least for the one with multiple examples (I prefer them to be consistent, but don't care all that much).

Other than that, the patch is fine and the new docs look great.



---

archive/issue_comments_168217.json:
```json
{
    "body": "**Changing author** from \"Michael Orlitzky\" to \"Martin Albrecht\".",
    "created_at": "2012-02-04T02:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168217",
    "user": "https://github.com/orlitzky"
}
```

**Changing author** from "Michael Orlitzky" to "Martin Albrecht".



---

archive/issue_comments_168218.json:
```json
{
    "body": "**Reviewer:** Michael Orlitzky",
    "created_at": "2012-02-04T02:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168218",
    "user": "https://github.com/orlitzky"
}
```

**Reviewer:** Michael Orlitzky



---

archive/issue_comments_168219.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2012-02-04T02:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168219",
    "user": "https://github.com/orlitzky"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_168220.json:
```json
{
    "body": "**Work_Issues:** EXAMPLE -> EXAMPLES in headings",
    "created_at": "2012-02-04T02:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168220",
    "user": "https://github.com/orlitzky"
}
```

**Work_Issues:** EXAMPLE -> EXAMPLES in headings



---

archive/attachments_016551.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12336_symbolic_data.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12336/trac_12336_symbolic_data.patch",
    "created_at": "2012-02-05T12:22:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_168221.json:
```json
{
    "body": "",
    "created_at": "2012-02-05T12:22:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168221",
    "user": "https://github.com/malb"
}
```





---

archive/issue_comments_168222.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2012-02-05T12:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168222",
    "user": "https://github.com/malb"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_168223.json:
```json
{
    "body": "<a id='comment:7'></a>\ndone :)",
    "created_at": "2012-02-05T12:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168223",
    "user": "https://github.com/malb"
}
```

<a id='comment:7'></a>
done :)



---

archive/issue_comments_168224.json:
```json
{
    "body": "<a id='comment:8'></a>\nToday I learned that you can start a commit message with the comment delimiter. Thanks!",
    "created_at": "2012-02-06T02:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168224",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:8'></a>
Today I learned that you can start a commit message with the comment delimiter. Thanks!



---

archive/issue_comments_168225.json:
```json
{
    "body": "**Changing work_issues** from \"EXAMPLE -> EXAMPLES in headings\" to \"\".",
    "created_at": "2012-02-06T02:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168225",
    "user": "https://github.com/orlitzky"
}
```

**Changing work_issues** from "EXAMPLE -> EXAMPLES in headings" to "".



---

archive/issue_comments_168226.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2012-02-06T02:47:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168226",
    "user": "https://github.com/orlitzky"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_168227.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -13,4 +13,6 @@\n ...\n ```\n \n-Using \"requires\" doesn't work, though you can optional put that after the dash. \n+Using \"requires\" doesn't work, though you can optional put that after the dash.\n+\n+**apply** [attachment:trac_12336_symbolic_data.patch]\n``````\n",
    "created_at": "2012-02-07T13:23:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168227",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -13,4 +13,6 @@
 ...
 ```
 
-Using "requires" doesn't work, though you can optional put that after the dash. 
+Using "requires" doesn't work, though you can optional put that after the dash.
+
+**apply** [attachment:trac_12336_symbolic_data.patch]
``````




---

archive/issue_comments_168228.json:
```json
{
    "body": "<a id='comment:9'></a>\nI guess...",
    "created_at": "2012-02-07T13:23:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168228",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
I guess...



---

archive/issue_events_038383.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-14T14:21:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12336#event-38383"
}
```



---

archive/issue_comments_168229.json:
```json
{
    "body": "**Merged:** sage-5.0.beta4",
    "created_at": "2012-02-14T14:21:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12336#issuecomment-168229",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.0.beta4
