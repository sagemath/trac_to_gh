# Issue 12766: Better plotting for elliptic curves

archive/issues_012594.json:
```json
{
    "body": "Assignee: @JohnCremona\n\nCC:  wstein @JohnCremona @kedlaya\n\nThe plot for `EllipticCurve('448c6')` looks like a vertical line.  The reason is that `plot` contains\n\n```\n    d = 4*x**3 + (a1**2 + 4*a2)*x**2 + (2*a3*a1 + 4*a4)*x + (a3**2 + 4*a6)\n    r = d.roots(multiplicities=False)\n    r.sort()\n    if xmax is None:\n        xmax = r[-1] + 2\n    xmax = max(xmax, r[-1]+2)\n    if xmin is None:\n        xmin = r[0]  - 2\n    xmin = min(xmin, r[0]-2)\n```\n\nWhen `d` has only one real root, this approach doesn't work that well.  One suggestion would be to also require that the plot contains the flex points, which can be found from the 3-division polynomial.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12766\n\n",
    "closed_at": "2012-04-19T06:41:38Z",
    "created_at": "2012-03-28T09:30:04Z",
    "labels": [
        "component: elliptic curves",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Better plotting for elliptic curves",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12766",
    "user": "https://github.com/roed314"
}
```
Assignee: @JohnCremona

CC:  wstein @JohnCremona @kedlaya

The plot for `EllipticCurve('448c6')` looks like a vertical line.  The reason is that `plot` contains

```
    d = 4*x**3 + (a1**2 + 4*a2)*x**2 + (2*a3*a1 + 4*a4)*x + (a3**2 + 4*a6)
    r = d.roots(multiplicities=False)
    r.sort()
    if xmax is None:
        xmax = r[-1] + 2
    xmax = max(xmax, r[-1]+2)
    if xmin is None:
        xmin = r[0]  - 2
    xmin = min(xmin, r[0]-2)
```

When `d` has only one real root, this approach doesn't work that well.  One suggestion would be to also require that the plot contains the flex points, which can be found from the 3-division polynomial.

Issue created by migration from https://trac.sagemath.org/ticket/12766





---

archive/issue_comments_149544.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-03-28T23:41:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12766#issuecomment-149544",
    "user": "https://github.com/roed314"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_149545.json:
```json
{
    "body": "Attachment [12766.patch](tarball://root/attachments/some-uuid/ticket12766/12766.patch) by @roed314 created at 2012-03-28 23:41:13\n\nReady for review.  You can find a worksheet for testing at http://sagenb.org/home/pub/4639.  It's all using the old code, but you can see some of the problems.  Compare with the new code by downloading your own copy and running locally.  This would be nicer if we had branches on sagenb already....",
    "created_at": "2012-03-28T23:41:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12766#issuecomment-149545",
    "user": "https://github.com/roed314"
}
```

Attachment [12766.patch](tarball://root/attachments/some-uuid/ticket12766/12766.patch) by @roed314 created at 2012-03-28 23:41:13

Ready for review.  You can find a worksheet for testing at http://sagenb.org/home/pub/4639.  It's all using the old code, but you can see some of the problems.  Compare with the new code by downloading your own copy and running locally.  This would be nicer if we had branches on sagenb already....



---

archive/issue_comments_149546.json:
```json
{
    "body": "Attachment [12766_2.patch](tarball://root/attachments/some-uuid/ticket12766/12766_2.patch) by @kedlaya created at 2012-03-29 17:34:11\n\nPatchbot says all tests pass when applied against 5.0beta3, and looks good otherwise. Positive review.",
    "created_at": "2012-03-29T17:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12766#issuecomment-149546",
    "user": "https://github.com/kedlaya"
}
```

Attachment [12766_2.patch](tarball://root/attachments/some-uuid/ticket12766/12766_2.patch) by @kedlaya created at 2012-03-29 17:34:11

Patchbot says all tests pass when applied against 5.0beta3, and looks good otherwise. Positive review.



---

archive/issue_comments_149547.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-03-29T17:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12766#issuecomment-149547",
    "user": "https://github.com/kedlaya"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_149548.json:
```json
{
    "body": "I'm assuming both patches have to be applied...?",
    "created_at": "2012-04-04T08:57:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12766#issuecomment-149548",
    "user": "https://github.com/jdemeyer"
}
```

I'm assuming both patches have to be applied...?



---

archive/issue_comments_149549.json:
```json
{
    "body": "Correct.",
    "created_at": "2012-04-04T23:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12766#issuecomment-149549",
    "user": "https://github.com/roed314"
}
```

Correct.



---

archive/issue_comments_149550.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-04-19T06:41:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12766#issuecomment-149550",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_034704.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-19T06:41:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12766",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12766#event-34704"
}
```
