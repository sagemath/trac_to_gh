# Issue 12171: Update MPFI to 1.5.1

archive/issues_011999.json:
```json
{
    "assignees": [],
    "body": "This is needed for #11666.\n\nUse http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.1.spkg\n\nApply first [attachment: trac_12171a.patch](https://github.com/sagemath/sage/files/ticket12171/trac_12171a.patch.gz), then [attachment: trac_12171b.patch](https://github.com/sagemath/sage/files/ticket12171/trac_12171b.patch.gz)\n\nDepends on #12131\nDepends on #12353\n\nCC:  @sagetrac-cwitty @robertwb @jdemeyer @jpflori\n\nComponent: **packages: standard**\n\nKeywords: **sd35 sd36**\n\nAuthor: **Mike Hansen, Paul Zimmermann, Jean-Pierre Flori**\n\nReviewer: **Fran\u00e7ois Bissey**\n\nMerged: **sage-5.0.beta6**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12171_\n\n",
    "closed_at": "2012-02-27T11:21:32Z",
    "created_at": "2011-12-17T10:49:25Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update MPFI to 1.5.1",
    "type": "issue",
    "updated_at": "2012-02-27T11:21:32Z",
    "url": "https://github.com/sagemath/sage/issues/12171",
    "user": "https://github.com/mwhansen"
}
```
This is needed for #11666.

Use http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.1.spkg

Apply first [attachment: trac_12171a.patch](https://github.com/sagemath/sage/files/ticket12171/trac_12171a.patch.gz), then [attachment: trac_12171b.patch](https://github.com/sagemath/sage/files/ticket12171/trac_12171b.patch.gz)

Depends on #12131
Depends on #12353

CC:  @sagetrac-cwitty @robertwb @jdemeyer @jpflori

Component: **packages: standard**

Keywords: **sd35 sd36**

Author: **Mike Hansen, Paul Zimmermann, Jean-Pierre Flori**

Reviewer: **Fran√ßois Bissey**

Merged: **sage-5.0.beta6**

_Issue created by migration from https://trac.sagemath.org/ticket/12171_





---

archive/issue_events_163587.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-17T10:49:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163587"
}
```



---

archive/issue_events_163588.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-17T10:49:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163588"
}
```



---

archive/issue_events_163589.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-17T10:49:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163589"
}
```



---

archive/issue_events_163590.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-17T10:49:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163590"
}
```



---

archive/issue_events_163591.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-17T10:49:42Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "title_is": "Update MPFI to 1.5.0",
    "title_was": "Update MPIR to 1.5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163591"
}
```



---

archive/issue_comments_130457.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThere is spkg at http://sage.math.washington.edu/home/mhansen/mpfi-1.5.0.spkg",
    "created_at": "2011-12-17T10:53:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130457",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:2" align="right">comment:2</div>

There is spkg at http://sage.math.washington.edu/home/mhansen/mpfi-1.5.0.spkg



---

archive/issue_events_163592.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2011-12-17T10:53:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163592"
}
```



---

archive/issue_comments_130458.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHave you checked the following doctests:\n\n```\nsage -t -long \"devel/sage/sage/rings/qqbar.py\"              \n**********************************************************************\nFile \"/usr/share/sage/devel/sage/sage/rings/qqbar.py\", line 3808:\n    sage: (x-2).real_exact(RR)\nExpected:\n    0.000000000000000\nGot:\n    -0.000000000000000\n**********************************************************************\nFile \"/usr/share/sage/devel/sage/sage/rings/qqbar.py\", line 3810:\n    sage: (x-2).real_exact(RealField(53, rnd='RNDD'))\nExpected:\n    0.000000000000000\nGot:\n    -0.000000000000000\n**********************************************************************\nFile \"/usr/share/sage/devel/sage/sage/rings/qqbar.py\", line 3812:\n    sage: (x-2).real_exact(RealField(53, rnd='RNDU'))\nExpected:\n    0.000000000000000\nGot:\n    -0.000000000000000\n**********************************************************************\nFile \"/usr/share/sage/devel/sage/sage/rings/qqbar.py\", line 3814:\n    sage: (x-2).real_exact(RealField(53, rnd='RNDZ'))\nExpected:\n    0.000000000000000\nGot:\n    -0.000000000000000\n**********************************************************************\n1 items had failures:\n   4 of  20 in __main__.example_96\n***Test Failed*** 4 failures.\n```\nand\n\n```\nsage -t -long \"devel/sage/sage/rings/real_mpfi.pyx\"         \n**********************************************************************\nFile \"/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx\", line 1078:\n    sage: b = R(1)/R(0); b\nExpected:\n    [+infinity .. +infinity]\nGot:\n    [-infinity .. +infinity]\n**********************************************************************\nFile \"/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx\", line 1080:\n    sage: loads(dumps(b)) == b\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx\", line 1082:\n    sage: b = R(-1)/R(0); b\nExpected:\n    [-infinity .. -infinity]\nGot:\n    [-infinity .. +infinity]\n**********************************************************************\nFile \"/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx\", line 1084:\n    sage: loads(dumps(b)) == b\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx\", line 2360:\n    sage: R(1)/R(0)\nExpected:\n    [+infinity .. +infinity]\nGot:\n    [-infinity .. +infinity]\n**********************************************************************\nFile \"/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx\", line 3217:\n    sage: RIF(-1, 1).min(0).endpoints()\nExpected:\n    (-1.00000000000000, 0.000000000000000)\nGot:\n    (-1.00000000000000, -0.000000000000000)\n**********************************************************************\nFile \"/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx\", line 3221:\n    sage: RIF(-1, 1).min(0).endpoints()\nExpected:\n    (-1.00000000000000, 0.000000000000000)\nGot:\n    (-1.00000000000000, -0.000000000000000)\n**********************************************************************\n3 items had failures:\n   4 of  18 in __main__.example_29\n   1 of   8 in __main__.example_55\n   2 of   9 in __main__.example_80\n***Test Failed*** 7 failures.\n```\nI did those test about one year ago [https://github.com/cschwan/sage-on-gentoo/issues/30](https://github.com/cschwan/sage-on-gentoo/issues/30) so some things have probably changed a little bit but I expect you'll have to patch sage.",
    "created_at": "2011-12-17T18:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130458",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:3" align="right">comment:3</div>

Have you checked the following doctests:

```
sage -t -long "devel/sage/sage/rings/qqbar.py"              
**********************************************************************
File "/usr/share/sage/devel/sage/sage/rings/qqbar.py", line 3808:
    sage: (x-2).real_exact(RR)
Expected:
    0.000000000000000
Got:
    -0.000000000000000
**********************************************************************
File "/usr/share/sage/devel/sage/sage/rings/qqbar.py", line 3810:
    sage: (x-2).real_exact(RealField(53, rnd='RNDD'))
Expected:
    0.000000000000000
Got:
    -0.000000000000000
**********************************************************************
File "/usr/share/sage/devel/sage/sage/rings/qqbar.py", line 3812:
    sage: (x-2).real_exact(RealField(53, rnd='RNDU'))
Expected:
    0.000000000000000
Got:
    -0.000000000000000
**********************************************************************
File "/usr/share/sage/devel/sage/sage/rings/qqbar.py", line 3814:
    sage: (x-2).real_exact(RealField(53, rnd='RNDZ'))
Expected:
    0.000000000000000
Got:
    -0.000000000000000
**********************************************************************
1 items had failures:
   4 of  20 in __main__.example_96
***Test Failed*** 4 failures.
```
and

```
sage -t -long "devel/sage/sage/rings/real_mpfi.pyx"         
**********************************************************************
File "/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx", line 1078:
    sage: b = R(1)/R(0); b
Expected:
    [+infinity .. +infinity]
Got:
    [-infinity .. +infinity]
**********************************************************************
File "/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx", line 1080:
    sage: loads(dumps(b)) == b
Expected:
    True
Got:
    False
**********************************************************************
File "/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx", line 1082:
    sage: b = R(-1)/R(0); b
Expected:
    [-infinity .. -infinity]
Got:
    [-infinity .. +infinity]
**********************************************************************
File "/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx", line 1084:
    sage: loads(dumps(b)) == b
Expected:
    True
Got:
    False
**********************************************************************
File "/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx", line 2360:
    sage: R(1)/R(0)
Expected:
    [+infinity .. +infinity]
Got:
    [-infinity .. +infinity]
**********************************************************************
File "/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx", line 3217:
    sage: RIF(-1, 1).min(0).endpoints()
Expected:
    (-1.00000000000000, 0.000000000000000)
Got:
    (-1.00000000000000, -0.000000000000000)
**********************************************************************
File "/usr/share/sage/devel/sage/sage/rings/real_mpfi.pyx", line 3221:
    sage: RIF(-1, 1).min(0).endpoints()
Expected:
    (-1.00000000000000, 0.000000000000000)
Got:
    (-1.00000000000000, -0.000000000000000)
**********************************************************************
3 items had failures:
   4 of  18 in __main__.example_29
   1 of   8 in __main__.example_55
   2 of   9 in __main__.example_80
***Test Failed*** 7 failures.
```
I did those test about one year ago [https://github.com/cschwan/sage-on-gentoo/issues/30](https://github.com/cschwan/sage-on-gentoo/issues/30) so some things have probably changed a little bit but I expect you'll have to patch sage.



---

archive/issue_comments_130459.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nby the way, MPFI 1.5.0 fixes a limitation to 1000 characters in `mpfi_set_str`, which can be\ndemonstrated by the following test:\n\n```\nsage: R = RealIntervalField(53)\nsage: R(\"1\" * 1000)\n1.111111111111112?e999\n```\nwhich failed previously. Maybe add a test for that?\n\nPaul",
    "created_at": "2011-12-19T12:52:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130459",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:4" align="right">comment:4</div>

by the way, MPFI 1.5.0 fixes a limitation to 1000 characters in `mpfi_set_str`, which can be
demonstrated by the following test:

```
sage: R = RealIntervalField(53)
sage: R("1" * 1000)
1.111111111111112?e999
```
which failed previously. Maybe add a test for that?

Paul



---

archive/issue_comments_130460.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\ntwo doctests are failing:\n\n```\n        sage -t  devel/sage-11666/sage/rings/qqbar.py # 4 doctests failed\n        sage -t  devel/sage-11666/sage/rings/real_mpfi.pyx # 7 doctests failed\n```\nThe issues are `+0.0` versus `-0.0`, and also 1/0 which now gives `[-Inf, +Inf]`\ninstead of `[+Inf, +Inf]`.\n\nPaul",
    "created_at": "2011-12-19T13:35:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130460",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:5" align="right">comment:5</div>

two doctests are failing:

```
        sage -t  devel/sage-11666/sage/rings/qqbar.py # 4 doctests failed
        sage -t  devel/sage-11666/sage/rings/real_mpfi.pyx # 7 doctests failed
```
The issues are `+0.0` versus `-0.0`, and also 1/0 which now gives `[-Inf, +Inf]`
instead of `[+Inf, +Inf]`.

Paul



---

archive/issue_events_163593.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2011-12-19T13:35:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163593"
}
```



---

archive/issue_events_163594.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2011-12-19T13:35:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163594"
}
```



---

archive/issue_comments_130461.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nthere is one important change in MPFI 1.5.0 which might cause the failures: `mpfi_set_ui` on\ninput 0 gives `[+0.0,-0.0]` instead of `[+0.0,+0.0]` previously. I will ask upstream why:\n\n```\nsage: R=RealIntervalField(53)\nsage: a=R(0)\nsage: a.lower(), a.upper()\n(0.000000000000000, -0.000000000000000)\n```\n\nMore annoying is the following, which I believe is a bug in MPFI 1.5.0:\n\n```\nsage: a=R(infinity)\nsage: a.lower(), a.upper()\n(+infinity, +infinity)\nsage: b=1/a\nsage: b.lower(), b.upper()\n(0.000000000000000, -0.000000000000000)\n```\n(I would expect `b=[+0.0,+0.0]`.)\n\nPaul",
    "created_at": "2011-12-19T17:59:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130461",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:6" align="right">comment:6</div>

there is one important change in MPFI 1.5.0 which might cause the failures: `mpfi_set_ui` on
input 0 gives `[+0.0,-0.0]` instead of `[+0.0,+0.0]` previously. I will ask upstream why:

```
sage: R=RealIntervalField(53)
sage: a=R(0)
sage: a.lower(), a.upper()
(0.000000000000000, -0.000000000000000)
```

More annoying is the following, which I believe is a bug in MPFI 1.5.0:

```
sage: a=R(infinity)
sage: a.lower(), a.upper()
(+infinity, +infinity)
sage: b=1/a
sage: b.lower(), b.upper()
(0.000000000000000, -0.000000000000000)
```
(I would expect `b=[+0.0,+0.0]`.)

Paul



---

archive/issue_comments_130462.json:
```json
{
    "body": "Changed keywords from none to **sd35**",
    "created_at": "2011-12-20T12:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130462",
    "user": "https://github.com/mwhansen"
}
```

Changed keywords from none to **sd35**



---

archive/issue_comments_130463.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nthe detailed failures (on a 32-bit computer) are:\n\n```\n\nmacaron% ./sage -t devel/sage-12171/sage/rings/real_mpfi.pyx \nsage -t  \"devel/sage-12171/sage/rings/real_mpfi.pyx\"        \n**********************************************************************\nFile \"/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx\", line 4142:\n    sage: 0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx\", line 1082:\n    sage: b = R(1)/R(0); b\nExpected:\n    [+infinity .. +infinity]\nGot:\n    [-infinity .. +infinity]\n**********************************************************************\nFile \"/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx\", line 1084:\n    sage: loads(dumps(b)) == b\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx\", line 1086:\n    sage: b = R(-1)/R(0); b\nExpected:\n    [-infinity .. -infinity]\nGot:\n    [-infinity .. +infinity]\n\n**********************************************************************\nFile \"/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx\", line 1088:\n    sage: loads(dumps(b)) == b\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx\", line 2364:\n    sage: R(1)/R(0)\nExpected:\n    [+infinity .. +infinity]\nGot:\n    [-infinity .. +infinity]\n**********************************************************************\nFile \"/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx\", line 3221:\n    sage: RIF(-1, 1).min(0).endpoints()\nExpected:\n    (-1.00000000000000, 0.000000000000000)\nGot:\n    (-1.00000000000000, -0.000000000000000)\n**********************************************************************\nFile \"/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx\", line 3225:\n    sage: RIF(-1, 1).min(0).endpoints()\nExpected:\n    (-1.00000000000000, 0.000000000000000)\nGot:\n    (-1.00000000000000, -0.000000000000000)\n\n**********************************************************************\n4 items had failures:\n   1 of  19 in __main__.example_117\n   4 of  19 in __main__.example_29\n   1 of   9 in __main__.example_55\n   2 of  10 in __main__.example_80\n***Test Failed*** 8 failures.\nFor whitespace errors, see the file /users/caramel/zimmerma/.sage//tmp/real_mpfi_8949.py\n         [8.1 s]\n```\nand:\n\n```\n\nmacaron% ./sage -t devel/sage-12171/sage/rings/qqbar.py \nsage -t  \"devel/sage-12171/sage/rings/qqbar.py\"             \n**********************************************************************\nFile \"/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/qqbar.py\", line 4003:\n    sage: (x-2).real_exact(RR)\nExpected:\n    0.000000000000000\nGot:\n    -0.000000000000000\n**********************************************************************\nFile \"/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/qqbar.py\", line 4005:\n    sage: (x-2).real_exact(RealField(53, rnd='RNDD'))\nExpected:\n    0.000000000000000\nGot:\n    -0.000000000000000\n**********************************************************************\nFile \"/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/qqbar.py\", line 4007:\n    sage: (x-2).real_exact(RealField(53, rnd='RNDU'))\nExpected:\n    0.000000000000000\nGot:\n    -0.000000000000000\n**********************************************************************\nFile \"/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/qqbar.py\", line 4009:\n    sage: (x-2).real_exact(RealField(53, rnd='RNDZ'))\n\nExpected:\n    0.000000000000000\nGot:\n    -0.000000000000000\n**********************************************************************\n1 items had failures:\n   4 of  21 in __main__.example_101\n***Test Failed*** 4 failures.\n```\nPaul",
    "created_at": "2011-12-21T11:20:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130463",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:8" align="right">comment:8</div>

the detailed failures (on a 32-bit computer) are:

```

macaron% ./sage -t devel/sage-12171/sage/rings/real_mpfi.pyx 
sage -t  "devel/sage-12171/sage/rings/real_mpfi.pyx"        
**********************************************************************
File "/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx", line 4142:
    sage: 0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())
Expected:
    True
Got:
    False
**********************************************************************
File "/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx", line 1082:
    sage: b = R(1)/R(0); b
Expected:
    [+infinity .. +infinity]
Got:
    [-infinity .. +infinity]
**********************************************************************
File "/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx", line 1084:
    sage: loads(dumps(b)) == b
Expected:
    True
Got:
    False
**********************************************************************
File "/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx", line 1086:
    sage: b = R(-1)/R(0); b
Expected:
    [-infinity .. -infinity]
Got:
    [-infinity .. +infinity]

**********************************************************************
File "/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx", line 1088:
    sage: loads(dumps(b)) == b
Expected:
    True
Got:
    False
**********************************************************************
File "/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx", line 2364:
    sage: R(1)/R(0)
Expected:
    [+infinity .. +infinity]
Got:
    [-infinity .. +infinity]
**********************************************************************
File "/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx", line 3221:
    sage: RIF(-1, 1).min(0).endpoints()
Expected:
    (-1.00000000000000, 0.000000000000000)
Got:
    (-1.00000000000000, -0.000000000000000)
**********************************************************************
File "/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/real_mpfi.pyx", line 3225:
    sage: RIF(-1, 1).min(0).endpoints()
Expected:
    (-1.00000000000000, 0.000000000000000)
Got:
    (-1.00000000000000, -0.000000000000000)

**********************************************************************
4 items had failures:
   1 of  19 in __main__.example_117
   4 of  19 in __main__.example_29
   1 of   9 in __main__.example_55
   2 of  10 in __main__.example_80
***Test Failed*** 8 failures.
For whitespace errors, see the file /users/caramel/zimmerma/.sage//tmp/real_mpfi_8949.py
         [8.1 s]
```
and:

```

macaron% ./sage -t devel/sage-12171/sage/rings/qqbar.py 
sage -t  "devel/sage-12171/sage/rings/qqbar.py"             
**********************************************************************
File "/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/qqbar.py", line 4003:
    sage: (x-2).real_exact(RR)
Expected:
    0.000000000000000
Got:
    -0.000000000000000
**********************************************************************
File "/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/qqbar.py", line 4005:
    sage: (x-2).real_exact(RealField(53, rnd='RNDD'))
Expected:
    0.000000000000000
Got:
    -0.000000000000000
**********************************************************************
File "/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/qqbar.py", line 4007:
    sage: (x-2).real_exact(RealField(53, rnd='RNDU'))
Expected:
    0.000000000000000
Got:
    -0.000000000000000
**********************************************************************
File "/localdisk/tmp/sage-4.7.2/devel/sage-12171/sage/rings/qqbar.py", line 4009:
    sage: (x-2).real_exact(RealField(53, rnd='RNDZ'))

Expected:
    0.000000000000000
Got:
    -0.000000000000000
**********************************************************************
1 items had failures:
   4 of  21 in __main__.example_101
***Test Failed*** 4 failures.
```
Paul



---

archive/issue_comments_130464.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nthe first issue with gamma seems to be due to that bug in Sage:\n\n```\nsage: RealIntervalField(54)(-19/3) > 1.462\nTrue\n```\n(works for precision 53 or less).\n\nPaul",
    "created_at": "2011-12-21T11:21:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130464",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:9" align="right">comment:9</div>

the first issue with gamma seems to be due to that bug in Sage:

```
sage: RealIntervalField(54)(-19/3) > 1.462
True
```
(works for precision 53 or less).

Paul



---

archive/issue_comments_130465.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI got a message from the developers of the Sollya package who say that they had similar\nproblems when upgrading to MPFI 1.5.0. Their solution was to write a wrapper around\nMPFI to give sense to intervals like [+Inf,+Inf].\n\nPaul",
    "created_at": "2011-12-21T11:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130465",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:10" align="right">comment:10</div>

I got a message from the developers of the Sollya package who say that they had similar
problems when upgrading to MPFI 1.5.0. Their solution was to write a wrapper around
MPFI to give sense to intervals like [+Inf,+Inf].

Paul



---

archive/issue_comments_130466.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nthe problem from comment [comment:9] seems to only apply on 32-bit machines. I'll first try to\nsolve problems on 64-bit. There is one strange thing with the patch applied:\n\n```\nsage: x = AA(2).sqrt()^2\nsage: (x-2).real_exact(RR)\n0.000000000000000\nsage: x.real_exact(RR)\n2.00000000000000\nsage: (x-2).real_exact(RR)\n-0.000000000000000\n```\nThe MPFI developers claim that in MPFI 1.5 the sign of 0 is irrelevant, but this is still a\nnon-deterministic issue.\n\nPaul",
    "created_at": "2011-12-22T09:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130466",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:11" align="right">comment:11</div>

the problem from comment [comment:9] seems to only apply on 32-bit machines. I'll first try to
solve problems on 64-bit. There is one strange thing with the patch applied:

```
sage: x = AA(2).sqrt()^2
sage: (x-2).real_exact(RR)
0.000000000000000
sage: x.real_exact(RR)
2.00000000000000
sage: (x-2).real_exact(RR)
-0.000000000000000
```
The MPFI developers claim that in MPFI 1.5 the sign of 0 is irrelevant, but this is still a
non-deterministic issue.

Paul



---

archive/issue_comments_130467.json:
```json
{
    "body": "Attachment: **[trac_12171a.patch.gz](https://github.com/sagemath/sage/files/ticket12171/trac_12171a.patch.gz)**",
    "created_at": "2011-12-22T09:49:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130467",
    "user": "https://github.com/zimmermann6"
}
```

Attachment: **[trac_12171a.patch.gz](https://github.com/sagemath/sage/files/ticket12171/trac_12171a.patch.gz)**



---

archive/issue_events_163595.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2011-12-22T09:54:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163595"
}
```



---

archive/issue_events_163596.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2011-12-22T09:54:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163596"
}
```



---

archive/issue_comments_130468.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nthe attached `trac_12171a.patch` fixes all issues but two on 64-bit. The remaining issues\nare related to `loads(dumps(b)) == b`:\n\n```\nFile \"/usr/local/sage-4.7.2/sage/devel/sage-12171/sage/rings/real_mpfi.pyx\", line 1084:\n    sage: loads(dumps(b)) == b\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"/usr/local/sage-4.7.2/sage/devel/sage-12171/sage/rings/real_mpfi.pyx\", line 1088:\n    sage: loads(dumps(b)) == b\nExpected:\n    True\nGot:\n    False\n```\nI see in `real_mpfi.pyx` that other similar tests are failing and were rewritten in a\ndifferent way:\n\n```\nsage: R = RealIntervalField(4000)\nsage: s = 1/R(3)\nsage: t = loads(dumps(s))\nsage: (t.upper(), t.lower()) == (s.upper(), s.lower())\nTrue\n```\nIndeed `t==s` fails:\n\n```\nsage: t == s\nFalse\n```\nShould I also rewrite the 2 failing tests like this? What is the reason for the failures?\n\nPaul",
    "created_at": "2011-12-22T09:54:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130468",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:12" align="right">comment:12</div>

the attached `trac_12171a.patch` fixes all issues but two on 64-bit. The remaining issues
are related to `loads(dumps(b)) == b`:

```
File "/usr/local/sage-4.7.2/sage/devel/sage-12171/sage/rings/real_mpfi.pyx", line 1084:
    sage: loads(dumps(b)) == b
Expected:
    True
Got:
    False
**********************************************************************
File "/usr/local/sage-4.7.2/sage/devel/sage-12171/sage/rings/real_mpfi.pyx", line 1088:
    sage: loads(dumps(b)) == b
Expected:
    True
Got:
    False
```
I see in `real_mpfi.pyx` that other similar tests are failing and were rewritten in a
different way:

```
sage: R = RealIntervalField(4000)
sage: s = 1/R(3)
sage: t = loads(dumps(s))
sage: (t.upper(), t.lower()) == (s.upper(), s.lower())
True
```
Indeed `t==s` fails:

```
sage: t == s
False
```
Should I also rewrite the 2 failing tests like this? What is the reason for the failures?

Paul



---

archive/issue_comments_130469.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n> Should I also rewrite the 2 failing tests like this? What is the reason for the failures?\n\nRobert, Mike, are you there?\n\nPaul",
    "created_at": "2011-12-23T18:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130469",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:13" align="right">comment:13</div>

> Should I also rewrite the 2 failing tests like this? What is the reason for the failures?

Robert, Mike, are you there?

Paul



---

archive/issue_comments_130470.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nJeroen, since I got no answer to my question I ask you: do you have an idea how to proceed?\n\nPaul",
    "created_at": "2011-12-27T09:05:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130470",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:14" align="right">comment:14</div>

Jeroen, since I got no answer to my question I ask you: do you have an idea how to proceed?

Paul



---

archive/issue_comments_130471.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nHi Paul, sorry for the delay; I've been busy with traveling back to the states / the holidays.  I'll look into why these are failing today.  I started while I was in Warwick, but didn't make much progress.",
    "created_at": "2011-12-27T17:24:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130471",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:15" align="right">comment:15</div>

Hi Paul, sorry for the delay; I've been busy with traveling back to the states / the holidays.  I'll look into why these are failing today.  I started while I was in Warwick, but didn't make much progress.



---

archive/issue_comments_130472.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@zimmermann6](#comment%3A12):\n> I see in `real_mpfi.pyx` that other similar tests are failing and were rewritten in a\n> different way:\n> \n> ```\n> sage: R = RealIntervalField(4000)\n> sage: s = 1/R(3)\n> sage: t = loads(dumps(s))\n> sage: (t.upper(), t.lower()) == (s.upper(), s.lower())\n> True\n> ```\n> Indeed `t==s` fails:\n> \n> ```\n> sage: t == s\n> False\n> ```\n> Should I also rewrite the 2 failing tests like this? What is the reason for the failures?\n\nThis is quite strange I cannot think of a reason this would fail unless the \"==\" operator is doing something slightly wrong or something unexpected.",
    "created_at": "2011-12-31T03:34:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130472",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@zimmermann6](#comment%3A12):
> I see in `real_mpfi.pyx` that other similar tests are failing and were rewritten in a
> different way:
> 
> ```
> sage: R = RealIntervalField(4000)
> sage: s = 1/R(3)
> sage: t = loads(dumps(s))
> sage: (t.upper(), t.lower()) == (s.upper(), s.lower())
> True
> ```
> Indeed `t==s` fails:
> 
> ```
> sage: t == s
> False
> ```
> Should I also rewrite the 2 failing tests like this? What is the reason for the failures?

This is quite strange I cannot think of a reason this would fail unless the "==" operator is doing something slightly wrong or something unexpected.



---

archive/issue_comments_130473.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nok I understand why the following \"fails\":\n\n```\nsage: R = RealIntervalField(100)\nsage: s = 1/R(3)\nsage: t = loads(dumps(s))\nsage: t == s\nFalse\n```\nIn the `real_mpfi.pyx` file, it is said that s cmp t returns True if a cmp b is true for any\nelement a in s and any element b in t. Obviously when cmp is == and t is the same interval as s\nthis can hold only when both are the same point interval. Thus to check if s and t are the same\ninterval, we should write:\n\n```\nsage: (t.upper(), t.lower()) == (s.upper(), s.lower())\nTrue\n```\nPaul",
    "created_at": "2011-12-31T10:04:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130473",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:18" align="right">comment:18</div>

ok I understand why the following "fails":

```
sage: R = RealIntervalField(100)
sage: s = 1/R(3)
sage: t = loads(dumps(s))
sage: t == s
False
```
In the `real_mpfi.pyx` file, it is said that s cmp t returns True if a cmp b is true for any
element a in s and any element b in t. Obviously when cmp is == and t is the same interval as s
this can hold only when both are the same point interval. Thus to check if s and t are the same
interval, we should write:

```
sage: (t.upper(), t.lower()) == (s.upper(), s.lower())
True
```
Paul



---

archive/issue_comments_130474.json:
```json
{
    "body": "this patch should be applied after trac_12171a.patch",
    "created_at": "2011-12-31T10:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130474",
    "user": "https://github.com/zimmermann6"
}
```

this patch should be applied after trac_12171a.patch



---

archive/issue_comments_130475.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAttachment: **[trac_12171b.patch.gz](https://github.com/sagemath/sage/files/ticket12171/trac_12171b.patch.gz)**\n\nthe second patch attached fixes the remaining failing tests. Ready for review.\n\nPaul",
    "created_at": "2011-12-31T10:15:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130475",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:19" align="right">comment:19</div>

Attachment: **[trac_12171b.patch.gz](https://github.com/sagemath/sage/files/ticket12171/trac_12171b.patch.gz)**

the second patch attached fixes the remaining failing tests. Ready for review.

Paul



---

archive/issue_comments_130476.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-This is needed for #11666\n+This is needed for #11666.\n+\n+Apply first trac_12171a.patch, then trac_12171b.patch\n``````\n",
    "created_at": "2011-12-31T10:15:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130476",
    "user": "https://github.com/zimmermann6"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-This is needed for #11666
+This is needed for #11666.
+
+Apply first trac_12171a.patch, then trac_12171b.patch
``````




---

archive/issue_comments_130477.json:
```json
{
    "body": "Changed author from **Mike Hansen** to **Mike Hansen, Paul Zimmermann**",
    "created_at": "2011-12-31T10:15:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130477",
    "user": "https://github.com/zimmermann6"
}
```

Changed author from **Mike Hansen** to **Mike Hansen, Paul Zimmermann**



---

archive/issue_events_163597.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2011-12-31T10:15:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163597"
}
```



---

archive/issue_events_163598.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2011-12-31T10:15:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163598"
}
```



---

archive/issue_comments_130478.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThere is no doubt that this second patch will do the trick and does the right thing. I am just wondering why \"t == s\" doesn't work as expected in the first place. \n\nIn any case I will do some basic reviewing shortly. The patch themselves look good to me. I need to check the spkg in details.",
    "created_at": "2012-01-04T01:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130478",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:20" align="right">comment:20</div>

There is no doubt that this second patch will do the trick and does the right thing. I am just wondering why "t == s" doesn't work as expected in the first place. 

In any case I will do some basic reviewing shortly. The patch themselves look good to me. I need to check the spkg in details.



---

archive/issue_comments_130479.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nFrancois, I explain in comment [comment:18] that the semantics of `t == s` is special for\nintervals. If `t=[a,b]` and `s=[c,d]`, it requires that `x==y` for any `a <= x <= b` and `c <= y <= d`, which obviously requires `a=b=c=d`.\n\nThe modified tests did work before because they had `a=b=c=d`, which is no longer the case due\nto change of semantics of MPFI.\n\nPaul",
    "created_at": "2012-01-04T06:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130479",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:21" align="right">comment:21</div>

Francois, I explain in comment [comment:18] that the semantics of `t == s` is special for
intervals. If `t=[a,b]` and `s=[c,d]`, it requires that `x==y` for any `a <= x <= b` and `c <= y <= d`, which obviously requires `a=b=c=d`.

The modified tests did work before because they had `a=b=c=d`, which is no longer the case due
to change of semantics of MPFI.

Paul



---

archive/issue_comments_130480.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nJust a quick update: it doesn't appear that mpfi runs a test suite when SAGE_CHECK is set can you fix that?",
    "created_at": "2012-01-07T18:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130480",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:22" align="right">comment:22</div>

Just a quick update: it doesn't appear that mpfi runs a test suite when SAGE_CHECK is set can you fix that?



---

archive/issue_comments_130481.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI further inspected the spkg. There is one issue\n\n```\n hg status\n! patches/configure.ac\n! patches/configure.ac.patch\n```\nYou have to tell hg to remove them, just removing them with \"rm\" is not enough. \n\n```\n hg addremove\n```\nwill do the trick then you can commit and make the spkg.\nAs mentioned above I would also like you to add a section to spkg-install that runs \"make check\" if SAGE_CHECK is set to yes.\nOnce all that is done I'll have another look but it should be a positive review then.",
    "created_at": "2012-01-07T22:31:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130481",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:23" align="right">comment:23</div>

I further inspected the spkg. There is one issue

```
 hg status
! patches/configure.ac
! patches/configure.ac.patch
```
You have to tell hg to remove them, just removing them with "rm" is not enough. 

```
 hg addremove
```
will do the trick then you can commit and make the spkg.
As mentioned above I would also like you to add a section to spkg-install that runs "make check" if SAGE_CHECK is set to yes.
Once all that is done I'll have another look but it should be a positive review then.



---

archive/issue_comments_130482.json:
```json
{
    "body": "Work Issues: **clean hg repo; add SAGE_CHECK**",
    "created_at": "2012-01-07T23:08:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130482",
    "user": "https://github.com/kiwifb"
}
```

Work Issues: **clean hg repo; add SAGE_CHECK**



---

archive/issue_comments_130483.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2012-01-07T23:08:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130483",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **Fran√ßois Bissey**



---

archive/issue_events_163599.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2012-01-07T23:08:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163599"
}
```



---

archive/issue_events_163600.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2012-01-07T23:08:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163600"
}
```



---

archive/issue_comments_130484.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nMike, please can you make the changes in the spkg? I'd like to make progress on this patch during\nSD 35.5, so that we can proceed on #11666.\n\nPaul",
    "created_at": "2012-01-08T10:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130484",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:25" align="right">comment:25</div>

Mike, please can you make the changes in the spkg? I'd like to make progress on this patch during
SD 35.5, so that we can proceed on #11666.

Paul



---

archive/issue_events_163601.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-01-08T11:17:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163601"
}
```



---

archive/issue_events_163602.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-01-08T11:17:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163602"
}
```



---

archive/issue_comments_130485.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nAs I happened to be cc'ed on this ticket, I've uplaoded a package with the requested easy changes at http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.0.spkg\n\nAt least it install on a (vanilla? not sure... but nothing to exotic) sage 4.7.2 and runs the test suite (and succeed) when asked so on my machine.",
    "created_at": "2012-01-08T11:17:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130485",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:26" align="right">comment:26</div>

As I happened to be cc'ed on this ticket, I've uplaoded a package with the requested easy changes at http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.0.spkg

At least it install on a (vanilla? not sure... but nothing to exotic) sage 4.7.2 and runs the test suite (and succeed) when asked so on my machine.



---

archive/issue_comments_130486.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI've also put another version of the package at the same address + \".new\" where the last test in spkg-install is slightly simplified...",
    "created_at": "2012-01-08T11:41:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130486",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:27" align="right">comment:27</div>

I've also put another version of the package at the same address + ".new" where the last test in spkg-install is slightly simplified...



---

archive/issue_comments_130487.json:
```json
{
    "body": "Changed work issues from **clean hg repo; add SAGE_CHECK** to none",
    "created_at": "2012-01-08T11:41:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130487",
    "user": "https://github.com/jpflori"
}
```

Changed work issues from **clean hg repo; add SAGE_CHECK** to none



---

archive/issue_comments_130488.json:
```json
{
    "body": "Changed author from **Mike Hansen, Paul Zimmermann** to **Mike Hansen, Paul Zimmermann, Jean-Pierre Flori**",
    "created_at": "2012-01-08T20:52:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130488",
    "user": "https://github.com/kiwifb"
}
```

Changed author from **Mike Hansen, Paul Zimmermann** to **Mike Hansen, Paul Zimmermann, Jean-Pierre Flori**



---

archive/issue_events_163603.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2012-01-08T20:52:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163603"
}
```



---

archive/issue_events_163604.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2012-01-08T20:52:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163604"
}
```



---

archive/issue_comments_130489.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nLooking at it again it may have been a little bit more verbose about the removal of the patches in SPKG.txt but it is otherwise fine now. It actually builds and tests fine on something exotic (SLES 11SP1 on power7, although there may be a slight clue about some problems on power7 in those tests).\n\nI giving this a positive review.",
    "created_at": "2012-01-08T20:52:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130489",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:28" align="right">comment:28</div>

Looking at it again it may have been a little bit more verbose about the removal of the patches in SPKG.txt but it is otherwise fine now. It actually builds and tests fine on something exotic (SLES 11SP1 on power7, although there may be a slight clue about some problems on power7 in those tests).

I giving this a positive review.



---

archive/issue_comments_130490.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI've put the last package at the \"normal\" address (i.e. without .new at the end) and linked it in the ticket description.",
    "created_at": "2012-01-09T10:25:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130490",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:29" align="right">comment:29</div>

I've put the last package at the "normal" address (i.e. without .new at the end) and linked it in the ticket description.



---

archive/issue_comments_130491.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n This is needed for #11666.\n \n+Use http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.0.spkg\n+\n Apply first trac_12171a.patch, then trac_12171b.patch\n``````\n",
    "created_at": "2012-01-09T10:25:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130491",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 This is needed for #11666.
 
+Use http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.0.spkg
+
 Apply first trac_12171a.patch, then trac_12171b.patch
``````




---

archive/issue_events_163605.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-09T12:52:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163605"
}
```



---

archive/issue_events_163606.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-09T12:52:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163606"
}
```



---

archive/issue_comments_130492.json:
```json
{
    "body": "Dependencies: **#12131**",
    "created_at": "2012-01-09T23:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130492",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#12131**



---

archive/issue_comments_130493.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThis should be rebased to #12131.",
    "created_at": "2012-01-09T23:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130493",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:31" align="right">comment:31</div>

This should be rebased to #12131.



---

archive/issue_events_163607.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-09T23:13:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163607"
}
```



---

archive/issue_events_163608.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-09T23:13:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163608"
}
```



---

archive/issue_comments_130494.json:
```json
{
    "body": "Work Issues: **rebase**",
    "created_at": "2012-01-09T23:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130494",
    "user": "https://github.com/jdemeyer"
}
```

Work Issues: **rebase**



---

archive/issue_comments_130495.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI hadn't noticed that mpfi was one of the concerned package but I guess it make sense. This should be easy and quick to fix.",
    "created_at": "2012-01-10T01:21:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130495",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:32" align="right">comment:32</div>

I hadn't noticed that mpfi was one of the concerned package but I guess it make sense. This should be easy and quick to fix.



---

archive/issue_comments_130496.json:
```json
{
    "body": "Changed work issues from **rebase** to none",
    "created_at": "2012-01-10T12:55:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130496",
    "user": "https://github.com/jpflori"
}
```

Changed work issues from **rebase** to none



---

archive/issue_events_163609.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-01-10T12:55:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163609"
}
```



---

archive/issue_events_163610.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-01-10T12:55:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163610"
}
```



---

archive/issue_comments_130497.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nThe concerned line of spkg-install has been updated according to #12131.\n\nYou can find the updated package at the same address:\n\nhttp://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.0.spkg",
    "created_at": "2012-01-10T12:55:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130497",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:33" align="right">comment:33</div>

The concerned line of spkg-install has been updated according to #12131.

You can find the updated package at the same address:

http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.0.spkg



---

archive/issue_comments_130498.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nIt is not how rebasing a spkg works Jean-Pierre (I had to do it several time for python-2.7). You have to start from the latest spkg available in #12131. The idea is that by doing what you just did you lost all the history from the spkg in #12131 that includes hg logs and the log entries from SPKG.txt.\n\nSo I am afraid you will have to take the spkg from #12131 and then add all the changes needed for 1.5.0.",
    "created_at": "2012-01-11T00:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130498",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:34" align="right">comment:34</div>

It is not how rebasing a spkg works Jean-Pierre (I had to do it several time for python-2.7). You have to start from the latest spkg available in #12131. The idea is that by doing what you just did you lost all the history from the spkg in #12131 that includes hg logs and the log entries from SPKG.txt.

So I am afraid you will have to take the spkg from #12131 and then add all the changes needed for 1.5.0.



---

archive/issue_events_163611.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2012-01-11T00:57:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163611"
}
```



---

archive/issue_events_163612.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2012-01-11T00:57:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163612"
}
```



---

archive/issue_comments_130499.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nMy bad, I did not really thought before adding the one line fix from #12131.\n\nI'll do it the right way around later.",
    "created_at": "2012-01-11T08:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130499",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:35" align="right">comment:35</div>

My bad, I did not really thought before adding the one line fix from #12131.

I'll do it the right way around later.



---

archive/issue_comments_130500.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nnote that MPFI 1.5.1 will soon be out:\nhttp://lists.gforge.inria.fr/pipermail/mpfi-users/2012-January/000031.html\n\nPaul",
    "created_at": "2012-01-11T17:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130500",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:36" align="right">comment:36</div>

note that MPFI 1.5.1 will soon be out:
http://lists.gforge.inria.fr/pipermail/mpfi-users/2012-January/000031.html

Paul



---

archive/issue_comments_130501.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nI'm currently properly rebuilding the spkg (for 1.5.0).\n\nI see that in Mike package, he got rid of the previous patch for cygwin.\n\nI guess it has been merged upstream. Anyway, I'll document it in SPKG.txt when I find a ref, remove src/configure.ac from tracked files and delete patches directory, unless someone has an objection.\n\nIf v1.5.1 happens to get released, I'll just use it instead of 1.5.",
    "created_at": "2012-01-12T10:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130501",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:37" align="right">comment:37</div>

I'm currently properly rebuilding the spkg (for 1.5.0).

I see that in Mike package, he got rid of the previous patch for cygwin.

I guess it has been merged upstream. Anyway, I'll document it in SPKG.txt when I find a ref, remove src/configure.ac from tracked files and delete patches directory, unless someone has an objection.

If v1.5.1 happens to get released, I'll just use it instead of 1.5.



---

archive/issue_comments_130502.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nI've contacted Philippe Th\u00e9veny who is in charge of MPFI and he was not even aware of the patch we used in 1.3.4.something to compile under cygwin, so there is a priori no reason for the patch not to be needed anymore (I verified that the configure.ac file in Mike's spkg is the original one from MPFI 1.5).\n\nThe release is planned for the middle of next week, but if the patch is still needed Philippe is ready to get it merged upstream for that release. The original ticket for that issue is #3235.\n\nCould someone who has access to cygwin try the last package I posted (or Mike's one) and report on success or failure ASAP?",
    "created_at": "2012-01-13T10:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130502",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:38" align="right">comment:38</div>

I've contacted Philippe Th√©veny who is in charge of MPFI and he was not even aware of the patch we used in 1.3.4.something to compile under cygwin, so there is a priori no reason for the patch not to be needed anymore (I verified that the configure.ac file in Mike's spkg is the original one from MPFI 1.5).

The release is planned for the middle of next week, but if the patch is still needed Philippe is ready to get it merged upstream for that release. The original ticket for that issue is #3235.

Could someone who has access to cygwin try the last package I posted (or Mike's one) and report on success or failure ASAP?



---

archive/issue_comments_130503.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@jpflori](#comment%3A38):\n> I've contacted Philippe Th\u00e9veny who is in charge of MPFI and he was not even aware of the patch we used in 1.3.4.something to compile under cygwin, so there is a priori no reason for the patch not to be needed anymore (I verified that the configure.ac file in Mike's spkg is the original one from MPFI 1.5).\n> \n> The release is planned for the middle of next week, but if the patch is still needed Philippe is ready to get it merged upstream for that release. The original ticket for that issue is #3235.\n> \n> Could someone who has access to cygwin try the last package I posted (or Mike's one) and report on success or failure ASAP?\n\nThe spkg builds just fine on Sage 4.7.2 on Cygwin.\n\nDima",
    "created_at": "2012-01-13T17:58:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130503",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@jpflori](#comment%3A38):
> I've contacted Philippe Th√©veny who is in charge of MPFI and he was not even aware of the patch we used in 1.3.4.something to compile under cygwin, so there is a priori no reason for the patch not to be needed anymore (I verified that the configure.ac file in Mike's spkg is the original one from MPFI 1.5).
> 
> The release is planned for the middle of next week, but if the patch is still needed Philippe is ready to get it merged upstream for that release. The original ticket for that issue is #3235.
> 
> Could someone who has access to cygwin try the last package I posted (or Mike's one) and report on success or failure ASAP?

The spkg builds just fine on Sage 4.7.2 on Cygwin.

Dima



---

archive/issue_comments_130504.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\na release candidate for MPFI 1.5.1 is available:\n\n```\nDate: Fri, 13 Jan 2012 20:08:36 +0100\nFrom: philipe theveny <philippe.theveny@ens-lyon.fr>\nTo: mpfi-users@lists.gforge.inria.fr\nSubject: [Mpfi-users] announce: mpfi-1.5.1 release candidate\nContent-Type: text/plain; charset=\"iso-8859-1\"; Format=\"flowed\"\n\nThe release of MPFI 1.5.1 is is imminent. Please help to make this\nrelease as good as possible by downloading and testing this release\ncandidate:\n\nhttps://gforge.inria.fr/frs/download.php/30117/mpfi-1.5.1-rc1.tar.bz2\nhttps://gforge.inria.fr/frs/download.php/30116/mpfi-1.5.1-rc1.tar.gz\nhttps://gforge.inria.fr/frs/download.php/30115/mpfi-1.5.1-rc1.zip\n\nThe MD5's:\nccff519222077407c3ca188a3e643c07  mpfi-1.5.1-rc1.tar.bz2\ncd868c21d87afa05085d36d97dfde761  mpfi-1.5.1-rc1.tar.gz\n5e8a29bfcd8cd8b3eb6d90ca86822763  mpfi-1.5.1-rc1.zip\n\nThe SHA1's:\n5cacf98c882f217d8db937e12a4bc7104a5c322d  mpfi-1.5.1-rc1.tar.bz2\n4f58755fbcc346ae23b04e9617e84c776e7b119f  mpfi-1.5.1-rc1.tar.gz\n3e1d180c3640d9eae0a456efc4995cb1d6b99e03  mpfi-1.5.1-rc1.zip\n\n\nChanges between MPFI version 1.5 and 1.5.1:\n* fix bug in mpfi_sub_fr (reported by Takayuki YAMAGUCHI)\n* now require at least GMP version 4.1.0 and MPFR version 2.4.2\n* detect availability of mpfr_z_sub, mpfr_z_div, and mpfr_q_sub and use\n   a custom implementation for the ones not provided by MPFR (mpfr_z_sub\n   appeared in MPFR 3.1.0, the other ones are used in tests only)\n* code cleanup (unused variables)\n* tadd_q does no more check overflow by default (required too much\n   memory)\n* sign of zeros choice documented\n\n\nPlease send success and failure reports with \"./config.guess\" output\nto <mpfi-users@lists.gforge.inria.fr>.\n\nIf no problems are found, MPFI 1.5.1 should be released around January\n18, 2012.\n\nRegards,\nPhilippe Theveny\n\n_______________________________________________\nMpfi-users mailing list\nMpfi-users@lists.gforge.inria.fr\nhttp://lists.gforge.inria.fr/cgi-bin/mailman/listinfo/mpfi-users\n```",
    "created_at": "2012-01-13T20:13:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130504",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:40" align="right">comment:40</div>

a release candidate for MPFI 1.5.1 is available:

```
Date: Fri, 13 Jan 2012 20:08:36 +0100
From: philipe theveny <philippe.theveny@ens-lyon.fr>
To: mpfi-users@lists.gforge.inria.fr
Subject: [Mpfi-users] announce: mpfi-1.5.1 release candidate
Content-Type: text/plain; charset="iso-8859-1"; Format="flowed"

The release of MPFI 1.5.1 is is imminent. Please help to make this
release as good as possible by downloading and testing this release
candidate:

https://gforge.inria.fr/frs/download.php/30117/mpfi-1.5.1-rc1.tar.bz2
https://gforge.inria.fr/frs/download.php/30116/mpfi-1.5.1-rc1.tar.gz
https://gforge.inria.fr/frs/download.php/30115/mpfi-1.5.1-rc1.zip

The MD5's:
ccff519222077407c3ca188a3e643c07  mpfi-1.5.1-rc1.tar.bz2
cd868c21d87afa05085d36d97dfde761  mpfi-1.5.1-rc1.tar.gz
5e8a29bfcd8cd8b3eb6d90ca86822763  mpfi-1.5.1-rc1.zip

The SHA1's:
5cacf98c882f217d8db937e12a4bc7104a5c322d  mpfi-1.5.1-rc1.tar.bz2
4f58755fbcc346ae23b04e9617e84c776e7b119f  mpfi-1.5.1-rc1.tar.gz
3e1d180c3640d9eae0a456efc4995cb1d6b99e03  mpfi-1.5.1-rc1.zip


Changes between MPFI version 1.5 and 1.5.1:
* fix bug in mpfi_sub_fr (reported by Takayuki YAMAGUCHI)
* now require at least GMP version 4.1.0 and MPFR version 2.4.2
* detect availability of mpfr_z_sub, mpfr_z_div, and mpfr_q_sub and use
   a custom implementation for the ones not provided by MPFR (mpfr_z_sub
   appeared in MPFR 3.1.0, the other ones are used in tests only)
* code cleanup (unused variables)
* tadd_q does no more check overflow by default (required too much
   memory)
* sign of zeros choice documented


Please send success and failure reports with "./config.guess" output
to <mpfi-users@lists.gforge.inria.fr>.

If no problems are found, MPFI 1.5.1 should be released around January
18, 2012.

Regards,
Philippe Theveny

_______________________________________________
Mpfi-users mailing list
Mpfi-users@lists.gforge.inria.fr
http://lists.gforge.inria.fr/cgi-bin/mailman/listinfo/mpfi-users
```



---

archive/issue_comments_130505.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nSorry I have fallen of the face of the internet in the past few days (not quite literally but almost). If there is a bit of time the test suite pass on power7 in a sage setting but with the following messages:\n\n```\nPASS: tinit\nPASS: tinit_set\nWarning: reverted endpoints line 21\nWarning: reverted endpoints line 22\nWarning: reverted endpoints line 23\nWarning: reverted endpoints line 26\nWarning: reverted endpoints line 30\nWarning: reverted endpoints line 37\nWarning: reverted endpoints line 38\nPASS: tintersect\n```\nand\n\n```\nPASS: tsech\nPASS: tset\nWarning: reverted endpoints line 11\nWarning: reverted endpoints line 12\nWarning: reverted endpoints line 13\nWarning: reverted endpoints line 14\nWarning: reverted endpoints line 15\nPASS: tset_d\n```\nNot sure if it can have an impact on some sage use or not.",
    "created_at": "2012-01-16T00:27:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130505",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:41" align="right">comment:41</div>

Sorry I have fallen of the face of the internet in the past few days (not quite literally but almost). If there is a bit of time the test suite pass on power7 in a sage setting but with the following messages:

```
PASS: tinit
PASS: tinit_set
Warning: reverted endpoints line 21
Warning: reverted endpoints line 22
Warning: reverted endpoints line 23
Warning: reverted endpoints line 26
Warning: reverted endpoints line 30
Warning: reverted endpoints line 37
Warning: reverted endpoints line 38
PASS: tintersect
```
and

```
PASS: tsech
PASS: tset
Warning: reverted endpoints line 11
Warning: reverted endpoints line 12
Warning: reverted endpoints line 13
Warning: reverted endpoints line 14
Warning: reverted endpoints line 15
PASS: tset_d
```
Not sure if it can have an impact on some sage use or not.



---

archive/issue_comments_130506.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nFrancois,\n\n> Not sure if it can have an impact on some sage use or not.\n\nI reported the same warnings to the MPFI developers when 1.5.0 came out\n(http://lists.gforge.inria.fr/pipermail/mpfi-users/2011-May/000023.html)\nbut got no feedback. I will ask them again.\n\nPaul",
    "created_at": "2012-01-16T07:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130506",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:42" align="right">comment:42</div>

Francois,

> Not sure if it can have an impact on some sage use or not.

I reported the same warnings to the MPFI developers when 1.5.0 came out
(http://lists.gforge.inria.fr/pipermail/mpfi-users/2011-May/000023.html)
but got no feedback. I will ask them again.

Paul



---

archive/issue_comments_130507.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nFYI I get the same warnings, on the same kind of architecture.\n\nAnd as far as the spkg is concerned, I'd prefer to wait until thursday when there is some sage meeting in Paris to package directly MPFI 1.5.1 on top of#12131. Unless someone has a very good reason for me to do it earlier with 1.5.1.rc1.",
    "created_at": "2012-01-16T07:54:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130507",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:43" align="right">comment:43</div>

FYI I get the same warnings, on the same kind of architecture.

And as far as the spkg is concerned, I'd prefer to wait until thursday when there is some sage meeting in Paris to package directly MPFI 1.5.1 on top of#12131. Unless someone has a very good reason for me to do it earlier with 1.5.1.rc1.



---

archive/issue_events_163613.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-01-23T14:38:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163613"
}
```



---

archive/issue_events_163614.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-01-23T14:38:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163614"
}
```



---

archive/issue_events_163615.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-01-23T14:38:48Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "title_is": "Update MPFI to 1.5.1",
    "title_was": "Update MPFI to 1.5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163615"
}
```



---

archive/issue_comments_130508.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nHere comes finally a 1.5.1 spkg rebased on #12131 \n\nYou can find it at http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.1.spkg\n\nI slightly updated the description and license info as well.",
    "created_at": "2012-01-23T14:38:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130508",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:44" align="right">comment:44</div>

Here comes finally a 1.5.1 spkg rebased on #12131 

You can find it at http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.1.spkg

I slightly updated the description and license info as well.



---

archive/issue_comments_130509.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n This is needed for #11666.\n \n-Use http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.0.spkg\n+Use http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.1.spkg\n \n Apply first trac_12171a.patch, then trac_12171b.patch\n``````\n",
    "created_at": "2012-01-23T14:38:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130509",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 This is needed for #11666.
 
-Use http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.0.spkg
+Use http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.1.spkg
 
 Apply first trac_12171a.patch, then trac_12171b.patch
``````




---

archive/issue_comments_130510.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nShouldn't spkg-check actually be a proper shell script? By that I mean start with something like\n\n```\n#!/bin/sh\n```\nor possibly\n\n```\n#!/usr/bin/env bash\n```",
    "created_at": "2012-01-23T22:04:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130510",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:45" align="right">comment:45</div>

Shouldn't spkg-check actually be a proper shell script? By that I mean start with something like

```
#!/bin/sh
```
or possibly

```
#!/usr/bin/env bash
```



---

archive/issue_comments_130511.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nfbissey: yes, it should be.  It should also be executable.",
    "created_at": "2012-01-23T22:15:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130511",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:46" align="right">comment:46</div>

fbissey: yes, it should be.  It should also be executable.



---

archive/issue_comments_130512.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@jdemeyer](#comment%3A46):\n> fbissey: yes, it should be.  It should also be executable.\n\nIt is executable just not a proper shell script, putting it back to needs work. Everything else looks ok.",
    "created_at": "2012-01-23T22:18:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130512",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@jdemeyer](#comment%3A46):
> fbissey: yes, it should be.  It should also be executable.

It is executable just not a proper shell script, putting it back to needs work. Everything else looks ok.



---

archive/issue_events_163616.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2012-01-23T22:18:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163616"
}
```



---

archive/issue_events_163617.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2012-01-23T22:18:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163617"
}
```



---

archive/issue_events_163618.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-01-23T23:07:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163618"
}
```



---

archive/issue_events_163619.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-01-23T23:07:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163619"
}
```



---

archive/issue_comments_130513.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nSorry about that, I definitely tried to repackage that one and mpfr one too quickly from scratch on my personal computer and mixed everything.\n\nIt should be ok now (same address as before).",
    "created_at": "2012-01-23T23:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130513",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:48" align="right">comment:48</div>

Sorry about that, I definitely tried to repackage that one and mpfr one too quickly from scratch on my personal computer and mixed everything.

It should be ok now (same address as before).



---

archive/issue_comments_130514.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nOK, I am putting it back to positive review, looks all right, survives basic testing.",
    "created_at": "2012-01-23T23:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130514",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:49" align="right">comment:49</div>

OK, I am putting it back to positive review, looks all right, survives basic testing.



---

archive/issue_events_163620.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2012-01-23T23:31:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163620"
}
```



---

archive/issue_events_163621.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2012-01-23T23:31:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163621"
}
```



---

archive/issue_events_163622.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-24T20:44:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163622"
}
```



---

archive/issue_events_163623.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-24T20:44:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163623"
}
```



---

archive/issue_comments_130515.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nI actually get the doctest failure\n\n```\nsage -t  -force_lib devel/sage/sage/rings/real_mpfi.pyx\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta2/devel/sage-main/sage/rings/real_mpfi.pyx\", line 4143:\n    sage: 0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n```",
    "created_at": "2012-01-24T20:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130515",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:50" align="right">comment:50</div>

I actually get the doctest failure

```
sage -t  -force_lib devel/sage/sage/rings/real_mpfi.pyx
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta2/devel/sage-main/sage/rings/real_mpfi.pyx", line 4143:
    sage: 0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())
Expected:
    True
Got:
    False
**********************************************************************
```



---

archive/issue_comments_130516.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n Use http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.1.spkg\n \n-Apply first trac_12171a.patch, then trac_12171b.patch\n+Apply first [attachment: trac_12171a.patch](https://github.com/sagemath/sage/files/ticket12171/trac_12171a.patch.gz), then [attachment: trac_12171b.patch](https://github.com/sagemath/sage/files/ticket12171/trac_12171b.patch.gz)\n``````\n",
    "created_at": "2012-01-24T20:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130516",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 Use http://perso.telecom-paristech.fr/~flori/sage/mpfi-1.5.1.spkg
 
-Apply first trac_12171a.patch, then trac_12171b.patch
+Apply first [attachment: trac_12171a.patch](https://github.com/sagemath/sage/files/ticket12171/trac_12171a.patch.gz), then [attachment: trac_12171b.patch](https://github.com/sagemath/sage/files/ticket12171/trac_12171b.patch.gz)
``````




---

archive/issue_comments_130517.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@jdemeyer](#comment%3A50):\n> I actually get the doctest failure\n> \n> ```\n> sage -t  -force_lib devel/sage/sage/rings/real_mpfi.pyx\n> **********************************************************************\n> File \"/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta2/devel/sage-main/sage/rings/real_mpfi.pyx\", line 4143:\n>     sage: 0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())\n> Expected:\n>     True\n> Got:\n>     False\n> **********************************************************************\n> ```\n\nIs it a 32 bit or 64 bit system? Or it doesn't matter? Was it 5.0_beta1?",
    "created_at": "2012-01-24T21:19:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130517",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@jdemeyer](#comment%3A50):
> I actually get the doctest failure
> 
> ```
> sage -t  -force_lib devel/sage/sage/rings/real_mpfi.pyx
> **********************************************************************
> File "/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta2/devel/sage-main/sage/rings/real_mpfi.pyx", line 4143:
>     sage: 0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())
> Expected:
>     True
> Got:
>     False
> **********************************************************************
> ```

Is it a 32 bit or 64 bit system? Or it doesn't matter? Was it 5.0_beta1?



---

archive/issue_comments_130518.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nSorry, should have mentioned this.  It happened on sage.math, with sage-5.0.beta1 + various other patches + #12171.  I have not tried a plain sage-5.0.beta1 + #12171.",
    "created_at": "2012-01-24T21:25:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130518",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:52" align="right">comment:52</div>

Sorry, should have mentioned this.  It happened on sage.math, with sage-5.0.beta1 + various other patches + #12171.  I have not tried a plain sage-5.0.beta1 + #12171.



---

archive/issue_comments_130519.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nI haven't noticed any of that in the prealpha, interestingly enough the time out on power7 apparently happened on a call to .gamma(). I will try 5.0.beta1.",
    "created_at": "2012-01-24T21:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130519",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:53" align="right">comment:53</div>

I haven't noticed any of that in the prealpha, interestingly enough the time out on power7 apparently happened on a call to .gamma(). I will try 5.0.beta1.



---

archive/issue_comments_130520.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nOn my 64 bit linux box after accounting for #12349 (which came out of nowhere suddenly) and applying this ticket\n\n```\nfbissey@QCD-nzi3 /home/work/fbissey/sandbox/sage-5.0.beta1 $ ./sage -t -long -force_lib devel/sage/sage/rings/real_mpfi.pyx\nsage -t -long -force_lib \"devel/sage/sage/rings/real_mpfi.pyx\"\n         [1.3 s]\n \n----------------------------------------------------------------------\nAll tests passed!\nTotal time for all tests: 1.3 seconds\n```",
    "created_at": "2012-01-25T03:27:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130520",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:54" align="right">comment:54</div>

On my 64 bit linux box after accounting for #12349 (which came out of nowhere suddenly) and applying this ticket

```
fbissey@QCD-nzi3 /home/work/fbissey/sandbox/sage-5.0.beta1 $ ./sage -t -long -force_lib devel/sage/sage/rings/real_mpfi.pyx
sage -t -long -force_lib "devel/sage/sage/rings/real_mpfi.pyx"
         [1.3 s]
 
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 1.3 seconds
```



---

archive/issue_comments_130521.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [@jdemeyer](#comment%3A50):\n> I actually get the doctest failure [...]\n\nJeroen, what do you get for the following?\n\n```\nsage: (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())\n```\n\nMy guess is that this problem is due to the one mentioned in comment [comment:9],\nwhich is a bug already present in Sage, and thus separate from this ticket (however\nI don't know why the doctest worked before...)\n\nPaul",
    "created_at": "2012-01-25T07:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130521",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [@jdemeyer](#comment%3A50):
> I actually get the doctest failure [...]

Jeroen, what do you get for the following?

```
sage: (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())
```

My guess is that this problem is due to the one mentioned in comment [comment:9],
which is a bug already present in Sage, and thus separate from this ticket (however
I don't know why the doctest worked before...)

Paul



---

archive/issue_comments_130522.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nthe above problem can be simplified to:\n\n```\nsage: RealIntervalField(54)(-1) > RR(1)\nTrue\n```\nwhich already happens in Sage 4.7.2, and seems to be due to the coercion model.\nI'll open a separate ticket for that (for precision between 2 and 53 we get the correct\nanswer `False`).\n\nPaul",
    "created_at": "2012-01-25T08:15:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130522",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:56" align="right">comment:56</div>

the above problem can be simplified to:

```
sage: RealIntervalField(54)(-1) > RR(1)
True
```
which already happens in Sage 4.7.2, and seems to be due to the coercion model.
I'll open a separate ticket for that (for precision between 2 and 53 we get the correct
answer `False`).

Paul



---

archive/issue_comments_130523.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\n> I'll open a separate ticket for that\n\nit is #12353.\n\nPaul",
    "created_at": "2012-01-25T08:22:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130523",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:57" align="right">comment:57</div>

> I'll open a separate ticket for that

it is #12353.

Paul



---

archive/issue_comments_130524.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nI don't understand what's happening here.\n\nThe test only seems to fail when running `make ptest`, not when running only the one test\n\n```\njdemeyer@sage:/scratch/jdemeyer/merger/sage-5.0.beta2$ ./sage -t  -force_lib devel/sage/sage/rings/real_mpfi.pyx 2>&1 |cat\nsage -t -force_lib \"devel/sage/sage/rings/real_mpfi.pyx\"\n         [2.3 s]\n\n----------------------------------------------------------------------\nAll tests passed!\nTotal time for all tests: 2.3 seconds\n```",
    "created_at": "2012-01-25T13:48:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130524",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:58" align="right">comment:58</div>

I don't understand what's happening here.

The test only seems to fail when running `make ptest`, not when running only the one test

```
jdemeyer@sage:/scratch/jdemeyer/merger/sage-5.0.beta2$ ./sage -t  -force_lib devel/sage/sage/rings/real_mpfi.pyx 2>&1 |cat
sage -t -force_lib "devel/sage/sage/rings/real_mpfi.pyx"
         [2.3 s]

----------------------------------------------------------------------
All tests passed!
Total time for all tests: 2.3 seconds
```



---

archive/issue_comments_130525.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nReplying to [@jdemeyer](#comment%3A58):\n> I don't understand what's happening here [...]\n\ndid you try the test case from #12353?\n\nPaul",
    "created_at": "2012-01-25T13:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130525",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:59" align="right">comment:59</div>

Replying to [@jdemeyer](#comment%3A58):
> I don't understand what's happening here [...]

did you try the test case from #12353?

Paul



---

archive/issue_comments_130526.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nI get\n\n```\nsage: RealIntervalField(53)(-1) > RR(1)\nFalse\nsage: RealIntervalField(54)(-1) > RR(1)\nFalse\nsage: (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())\n0.?e-302\nsage: 0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())\nTrue\n```",
    "created_at": "2012-01-25T14:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130526",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:60" align="right">comment:60</div>

I get

```
sage: RealIntervalField(53)(-1) > RR(1)
False
sage: RealIntervalField(54)(-1) > RR(1)
False
sage: (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())
0.?e-302
sage: 0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())
True
```



---

archive/issue_comments_130527.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nstrange, with 4.8 just compiled on a Core2 under Ubuntu 10.10 I get:\n\n```\n\ntarte% ./sage\n----------------------------------------------------------------------\n| Sage Version 4.8, Release Date: 2012-01-20                         |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\nsage: RealIntervalField(53)(-1) > RR(1)\nFalse\nsage: RealIntervalField(54)(-1) > RR(1)\nTrue\n```\nPaul",
    "created_at": "2012-01-25T14:48:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130527",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:61" align="right">comment:61</div>

strange, with 4.8 just compiled on a Core2 under Ubuntu 10.10 I get:

```

tarte% ./sage
----------------------------------------------------------------------
| Sage Version 4.8, Release Date: 2012-01-20                         |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
sage: RealIntervalField(53)(-1) > RR(1)
False
sage: RealIntervalField(54)(-1) > RR(1)
True
```
Paul



---

archive/issue_comments_130528.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nI get (64 bit linux)\n\n```\n----------------------------------------------------------------------\n| Sage Version 5.0.beta1, Release Date: 2012-01-22                   |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\n**********************************************************************\n*                                                                    *\n* Warning: this is a prerelease version, and it may be unstable.     *\n*                                                                    *\n**********************************************************************\nsage: RealIntervalField(53)(-1) > RR(1)\nFalse\nsage: RealIntervalField(54)(-1) > RR(1)\nFalse\nsage: (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())\n0.?e-302\nsage: 0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())\nTrue\n```\nOn OS X 10.5.8 (32bit):\n\n```\nBlueFerniMac1:sage-5.0.beta1 frb15$ ./sage -t -long -force_lib devel/sage/sage/rings/real_mpfi.pyx\nsage -t -long -force_lib \"devel/sage/sage/rings/real_mpfi.pyx\"\n**********************************************************************\nFile \"/Users/frb15/Desktop/sage-5.0.beta1/devel/sage/sage/rings/real_mpfi.pyx\", line 4143:\n    sage: 0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n1 items had failures:\n   1 of  19 in __main__.example_117\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /Users/frb15/.sage//tmp/real_mpfi_78068.py\n\t [2.9 s]\n```\nand\n\n```\nBlueFerniMac1:sage-5.0.beta1 frb15$ ./sage\n----------------------------------------------------------------------\n| Sage Version 5.0.beta1, Release Date: 2012-01-22                   |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\n**********************************************************************\n*                                                                    *\n* Warning: this is a prerelease version, and it may be unstable.     *\n*                                                                    *\n**********************************************************************\nsage: RealIntervalField(53)(-1) > RR(1)\nFalse\nsage: RealIntervalField(54)(-1) > RR(1)\nTrue\nsage: (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())\n1.1?e-303\nsage:  0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())\nFalse\n```\nso there are differences of behavior between 32 and 64 bit naively.",
    "created_at": "2012-01-25T20:25:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130528",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:62" align="right">comment:62</div>

I get (64 bit linux)

```
----------------------------------------------------------------------
| Sage Version 5.0.beta1, Release Date: 2012-01-22                   |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
sage: RealIntervalField(53)(-1) > RR(1)
False
sage: RealIntervalField(54)(-1) > RR(1)
False
sage: (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())
0.?e-302
sage: 0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())
True
```
On OS X 10.5.8 (32bit):

```
BlueFerniMac1:sage-5.0.beta1 frb15$ ./sage -t -long -force_lib devel/sage/sage/rings/real_mpfi.pyx
sage -t -long -force_lib "devel/sage/sage/rings/real_mpfi.pyx"
**********************************************************************
File "/Users/frb15/Desktop/sage-5.0.beta1/devel/sage/sage/rings/real_mpfi.pyx", line 4143:
    sage: 0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())
Expected:
    True
Got:
    False
**********************************************************************
1 items had failures:
   1 of  19 in __main__.example_117
***Test Failed*** 1 failures.
For whitespace errors, see the file /Users/frb15/.sage//tmp/real_mpfi_78068.py
	 [2.9 s]
```
and

```
BlueFerniMac1:sage-5.0.beta1 frb15$ ./sage
----------------------------------------------------------------------
| Sage Version 5.0.beta1, Release Date: 2012-01-22                   |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
sage: RealIntervalField(53)(-1) > RR(1)
False
sage: RealIntervalField(54)(-1) > RR(1)
True
sage: (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())
1.1?e-303
sage:  0 in (RealField(2000)(-19/3).gamma() - RealIntervalField(1000)(-19/3).gamma())
False
```
so there are differences of behavior between 32 and 64 bit naively.



---

archive/issue_comments_130529.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nFrancois,\n\nI just built Sage 5.0.beta1 on another 64 bit linux (Core2 under Ubuntu 10.10) and got:\n\n```\ntarte% ./sage\n----------------------------------------------------------------------\n| Sage Version 5.0.beta1, Release Date: 2012-01-22                   |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\n**********************************************************************\n*                                                                    *\n* Warning: this is a prerelease version, and it may be unstable.     *\n*                                                                    *\n**********************************************************************\nsage: RealIntervalField(53)(-1) > RR(1)\nFalse\nsage: RealIntervalField(54)(-1) > RR(1)\nTrue\n```\nPaul",
    "created_at": "2012-01-26T06:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130529",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:63" align="right">comment:63</div>

Francois,

I just built Sage 5.0.beta1 on another 64 bit linux (Core2 under Ubuntu 10.10) and got:

```
tarte% ./sage
----------------------------------------------------------------------
| Sage Version 5.0.beta1, Release Date: 2012-01-22                   |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
sage: RealIntervalField(53)(-1) > RR(1)
False
sage: RealIntervalField(54)(-1) > RR(1)
True
```
Paul



---

archive/issue_comments_130530.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nThis is way more subtle than I thought then. I did my tests without #11666, did you use #11666 as well as this one?",
    "created_at": "2012-01-28T00:28:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130530",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:64" align="right">comment:64</div>

This is way more subtle than I thought then. I did my tests without #11666, did you use #11666 as well as this one?



---

archive/issue_comments_130531.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nFrancois,\n\nno, I didn't use #11666. Can anybody reproduce the problem I have (cf #12353)?\nAnyway I believe this is independent from this ticket, since it already happened before\n(e.g., in Sage 4.7.2). Thus it should not prevent a positive review, if this is the only\nremaining issue, and we should solve #12353 independently.\n\nPaul",
    "created_at": "2012-01-28T06:56:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130531",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:65" align="right">comment:65</div>

Francois,

no, I didn't use #11666. Can anybody reproduce the problem I have (cf #12353)?
Anyway I believe this is independent from this ticket, since it already happened before
(e.g., in Sage 4.7.2). Thus it should not prevent a positive review, if this is the only
remaining issue, and we should solve #12353 independently.

Paul



---

archive/issue_comments_130532.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nEverything I said was *without* #11666.",
    "created_at": "2012-01-29T11:10:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130532",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:66" align="right">comment:66</div>

Everything I said was *without* #11666.



---

archive/issue_comments_130533.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nReplying to [@zimmermann6](#comment%3A65):\n> Francois,\n> \n> no, I didn't use #11666. Can anybody reproduce the problem I have (cf #12353)?\n> Anyway I believe this is independent from this ticket, since it already happened before\n> (e.g., in Sage 4.7.2). Thus it should not prevent a positive review, if this is the only\n> remaining issue, and we should solve #12353 independently.\n> \n\nI can reproduce it on OS X 10.5.8 (32bit) and linux on ppc64, but not on linux x86_64. You are probably right that's an orthogonal problem if it can happen as well in the current version of sage.",
    "created_at": "2012-01-30T02:41:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130533",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:67" align="right">comment:67</div>

Replying to [@zimmermann6](#comment%3A65):
> Francois,
> 
> no, I didn't use #11666. Can anybody reproduce the problem I have (cf #12353)?
> Anyway I believe this is independent from this ticket, since it already happened before
> (e.g., in Sage 4.7.2). Thus it should not prevent a positive review, if this is the only
> remaining issue, and we should solve #12353 independently.
> 

I can reproduce it on OS X 10.5.8 (32bit) and linux on ppc64, but not on linux x86_64. You are probably right that's an orthogonal problem if it can happen as well in the current version of sage.



---

archive/issue_comments_130534.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nsince this ticket got a positive review at comment [comment:49], and the doctest\nfailure at comment [comment:50] is a separate issue (#12353) I put this back as \"needs review\".\n\nPaul",
    "created_at": "2012-01-30T08:06:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130534",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:68" align="right">comment:68</div>

since this ticket got a positive review at comment [comment:49], and the doctest
failure at comment [comment:50] is a separate issue (#12353) I put this back as "needs review".

Paul



---

archive/issue_events_163624.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2012-01-30T08:06:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163624"
}
```



---

archive/issue_events_163625.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2012-01-30T08:06:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163625"
}
```



---

archive/issue_events_163626.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-30T10:16:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163626"
}
```



---

archive/issue_events_163627.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-30T10:16:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163627"
}
```



---

archive/issue_comments_130535.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nIf nothing on this ticket changed, I guess we're back to positive review *with* a dependency on #12353.",
    "created_at": "2012-01-30T10:16:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130535",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:69" align="right">comment:69</div>

If nothing on this ticket changed, I guess we're back to positive review *with* a dependency on #12353.



---

archive/issue_comments_130536.json:
```json
{
    "body": "Changed dependencies from **#12131** to **#12131, #12353**",
    "created_at": "2012-01-30T10:16:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130536",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#12131** to **#12131, #12353**



---

archive/issue_comments_130537.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nReplying to [@jdemeyer](#comment%3A69):\n> If nothing on this ticket changed, I guess we're back to positive review *with* a dependency on #12353.\n\ngreat! I'm working in #12353.\n\nPaul",
    "created_at": "2012-01-30T10:26:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130537",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:70" align="right">comment:70</div>

Replying to [@jdemeyer](#comment%3A69):
> If nothing on this ticket changed, I guess we're back to positive review *with* a dependency on #12353.

great! I'm working in #12353.

Paul



---

archive/issue_comments_130538.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nJeroen, now that #12353 has been fixed, you can merge this one too.\n\nPaul",
    "created_at": "2012-02-16T11:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130538",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:71" align="right">comment:71</div>

Jeroen, now that #12353 has been fixed, you can merge this one too.

Paul



---

archive/issue_comments_130539.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nReplying to [@zimmermann6](#comment%3A71):\n> Jeroen, now that #12353 has been fixed, you can merge this one too.\n\nDon't worry, it's on my radar and should be merged in sage-5.0.beta5 if no further problems arise.",
    "created_at": "2012-02-16T21:24:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130539",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:72" align="right">comment:72</div>

Replying to [@zimmermann6](#comment%3A71):
> Jeroen, now that #12353 has been fixed, you can merge this one too.

Don't worry, it's on my radar and should be merged in sage-5.0.beta5 if no further problems arise.



---

archive/issue_events_163628.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-20T19:37:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163628"
}
```



---

archive/issue_events_163629.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-20T19:37:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163629"
}
```



---

archive/issue_comments_130540.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nIn `spkg-install`, you should `unset RM` as old Sage versions set `RM=rm` which breaks `libtool`.  For example, when upgrading from sage-4.5.3:\n\n```\n/bin/bash ../libtool --tag=CC   --mode=link gcc  -O2 -g -fPIC  -L/mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib -L/mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib  -o libmpfi.la -rpath /mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib abs.lo acos.lo acosh.lo add.lo add_d.lo add_fr.lo add_q.lo add_si.lo add_ui.lo add_z.lo alea.lo asin.lo asinh.lo atan2.lo atan.lo atanh.lo bisect.lo blow.lo cbrt.lo clear.lo cmp.lo cmp_sym_pi.lo constants.lo cos.lo cosh.lo csc.lo csch.lo cot.lo coth.lo d_div.lo d_sub.lo diam.lo div.lo div_2exp.lo div_2si.lo div_2ui.lo div_d.lo div_fr.lo div_q.lo div_si.lo div_ui.lo div_z.lo error.lo exp.lo exp2.lo expm1.lo fr_div.lo fr_sub.lo get_endpoints.lo get_fr.lo get_d.lo get_prec.lo get_version.lo has_zero.lo hypot.lo increase.lo init.lo intersect.lo interv_d.lo interv_fr.lo interv_q.lo interv_si.lo interv_ui.lo interv_z.lo inp_str.lo inv.lo is_empty.lo is_inside.lo log.lo log10.lo log1p.lo log2.lo mag.lo mid.lo mig.lo mul.lo mul_2exp.lo mul_2si.lo mul_2ui.lo mul_d.lo mul_fr.lo mul_q.lo mul_si.lo mul_ui.lo mul_z.lo neg.lo out_str.lo predicates.lo print_binary.lo put.lo put_d.lo put_fr.lo put_q.lo put_si.lo put_ui.lo put_z.lo q_div.lo q_sub.lo quadrant.lo revert_if_needed.lo round_prec.lo sec.lo sech.lo set.lo set_d.lo set_fr.lo set_prec.lo set_q.lo set_si.lo set_str.lo set_ui.lo set_z.lo si_div.lo si_sub.lo sign.lo sin.lo sinh.lo sqr.lo sqrt.lo sub.lo sub_d.lo sub_fr.lo sub_q.lo sub_si.lo sub_ui.lo sub_z.lo swap.lo tan.lo tanh.lo ui_div.lo ui_sub.lo union.lo urandom.lo z_div.lo z_sub.lo  -lmpfr -lgmp\nlibtool: link: gcc -shared  -fPIC -DPIC  .libs/abs.o .libs/acos.o .libs/acosh.o .libs/add.o .libs/add_d.o .libs/add_fr.o .libs/add_q.o .libs/add_si.o .libs/add_ui.o .libs/add_z.o .libs/alea.o .libs/asin.o .libs/asinh.o .libs/atan2.o .libs/atan.o .libs/atanh.o .libs/bisect.o .libs/blow.o .libs/cbrt.o .libs/clear.o .libs/cmp.o .libs/cmp_sym_pi.o .libs/constants.o .libs/cos.o .libs/cosh.o .libs/csc.o .libs/csch.o .libs/cot.o .libs/coth.o .libs/d_div.o .libs/d_sub.o .libs/diam.o .libs/div.o .libs/div_2exp.o .libs/div_2si.o .libs/div_2ui.o .libs/div_d.o .libs/div_fr.o .libs/div_q.o .libs/div_si.o .libs/div_ui.o .libs/div_z.o .libs/error.o .libs/exp.o .libs/exp2.o .libs/expm1.o .libs/fr_div.o .libs/fr_sub.o .libs/get_endpoints.o .libs/get_fr.o .libs/get_d.o .libs/get_prec.o .libs/get_version.o .libs/has_zero.o .libs/hypot.o .libs/increase.o .libs/init.o .libs/intersect.o .libs/interv_d.o .libs/interv_fr.o .libs/interv_q.o .libs/interv_si.o .libs/interv_ui.o .libs/interv_z.o .libs/inp_str.o .libs/inv.o .libs/is_empty.o .libs/is_inside.o .libs/log.o .libs/log10.o .libs/log1p.o .libs/log2.o .libs/mag.o .libs/mid.o .libs/mig.o .libs/mul.o .libs/mul_2exp.o .libs/mul_2si.o .libs/mul_2ui.o .libs/mul_d.o .libs/mul_fr.o .libs/mul_q.o .libs/mul_si.o .libs/mul_ui.o .libs/mul_z.o .libs/neg.o .libs/out_str.o .libs/predicates.o .libs/print_binary.o .libs/put.o .libs/put_d.o .libs/put_fr.o .libs/put_q.o .libs/put_si.o .libs/put_ui.o .libs/put_z.o .libs/q_div.o .libs/q_sub.o .libs/quadrant.o .libs/revert_if_needed.o .libs/round_prec.o .libs/sec.o .libs/sech.o .libs/set.o .libs/set_d.o .libs/set_fr.o .libs/set_prec.o .libs/set_q.o .libs/set_si.o .libs/set_str.o .libs/set_ui.o .libs/set_z.o .libs/si_div.o .libs/si_sub.o .libs/sign.o .libs/sin.o .libs/sinh.o .libs/sqr.o .libs/sqrt.o .libs/sub.o .libs/sub_d.o .libs/sub_fr.o .libs/sub_q.o .libs/sub_si.o .libs/sub_ui.o .libs/sub_z.o .libs/swap.o .libs/tan.o .libs/tanh.o .libs/ui_div.o .libs/ui_sub.o .libs/union.o .libs/urandom.o .libs/z_div.o .libs/z_sub.o   -Wl,-rpath -Wl,/mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib -Wl,-rpath -Wl,/mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib -L/mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib /mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib/libmpfr.so /mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib/libgmp.so  -O2   -Wl,-soname -Wl,libmpfi.so.0 -o .libs/libmpfi.so.0.0.0\nlibtool: link: (cd \".libs\" && rm \"libmpfi.so.0\" && ln -s \"libmpfi.so.0.0.0\" \"libmpfi.so.0\")\nrm: cannot remove `libmpfi.so.0': No such file or directory\nmake[2]: *** [libmpfi.la] Error 1\n```",
    "created_at": "2012-02-20T19:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130540",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:73" align="right">comment:73</div>

In `spkg-install`, you should `unset RM` as old Sage versions set `RM=rm` which breaks `libtool`.  For example, when upgrading from sage-4.5.3:

```
/bin/bash ../libtool --tag=CC   --mode=link gcc  -O2 -g -fPIC  -L/mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib -L/mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib  -o libmpfi.la -rpath /mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib abs.lo acos.lo acosh.lo add.lo add_d.lo add_fr.lo add_q.lo add_si.lo add_ui.lo add_z.lo alea.lo asin.lo asinh.lo atan2.lo atan.lo atanh.lo bisect.lo blow.lo cbrt.lo clear.lo cmp.lo cmp_sym_pi.lo constants.lo cos.lo cosh.lo csc.lo csch.lo cot.lo coth.lo d_div.lo d_sub.lo diam.lo div.lo div_2exp.lo div_2si.lo div_2ui.lo div_d.lo div_fr.lo div_q.lo div_si.lo div_ui.lo div_z.lo error.lo exp.lo exp2.lo expm1.lo fr_div.lo fr_sub.lo get_endpoints.lo get_fr.lo get_d.lo get_prec.lo get_version.lo has_zero.lo hypot.lo increase.lo init.lo intersect.lo interv_d.lo interv_fr.lo interv_q.lo interv_si.lo interv_ui.lo interv_z.lo inp_str.lo inv.lo is_empty.lo is_inside.lo log.lo log10.lo log1p.lo log2.lo mag.lo mid.lo mig.lo mul.lo mul_2exp.lo mul_2si.lo mul_2ui.lo mul_d.lo mul_fr.lo mul_q.lo mul_si.lo mul_ui.lo mul_z.lo neg.lo out_str.lo predicates.lo print_binary.lo put.lo put_d.lo put_fr.lo put_q.lo put_si.lo put_ui.lo put_z.lo q_div.lo q_sub.lo quadrant.lo revert_if_needed.lo round_prec.lo sec.lo sech.lo set.lo set_d.lo set_fr.lo set_prec.lo set_q.lo set_si.lo set_str.lo set_ui.lo set_z.lo si_div.lo si_sub.lo sign.lo sin.lo sinh.lo sqr.lo sqrt.lo sub.lo sub_d.lo sub_fr.lo sub_q.lo sub_si.lo sub_ui.lo sub_z.lo swap.lo tan.lo tanh.lo ui_div.lo ui_sub.lo union.lo urandom.lo z_div.lo z_sub.lo  -lmpfr -lgmp
libtool: link: gcc -shared  -fPIC -DPIC  .libs/abs.o .libs/acos.o .libs/acosh.o .libs/add.o .libs/add_d.o .libs/add_fr.o .libs/add_q.o .libs/add_si.o .libs/add_ui.o .libs/add_z.o .libs/alea.o .libs/asin.o .libs/asinh.o .libs/atan2.o .libs/atan.o .libs/atanh.o .libs/bisect.o .libs/blow.o .libs/cbrt.o .libs/clear.o .libs/cmp.o .libs/cmp_sym_pi.o .libs/constants.o .libs/cos.o .libs/cosh.o .libs/csc.o .libs/csch.o .libs/cot.o .libs/coth.o .libs/d_div.o .libs/d_sub.o .libs/diam.o .libs/div.o .libs/div_2exp.o .libs/div_2si.o .libs/div_2ui.o .libs/div_d.o .libs/div_fr.o .libs/div_q.o .libs/div_si.o .libs/div_ui.o .libs/div_z.o .libs/error.o .libs/exp.o .libs/exp2.o .libs/expm1.o .libs/fr_div.o .libs/fr_sub.o .libs/get_endpoints.o .libs/get_fr.o .libs/get_d.o .libs/get_prec.o .libs/get_version.o .libs/has_zero.o .libs/hypot.o .libs/increase.o .libs/init.o .libs/intersect.o .libs/interv_d.o .libs/interv_fr.o .libs/interv_q.o .libs/interv_si.o .libs/interv_ui.o .libs/interv_z.o .libs/inp_str.o .libs/inv.o .libs/is_empty.o .libs/is_inside.o .libs/log.o .libs/log10.o .libs/log1p.o .libs/log2.o .libs/mag.o .libs/mid.o .libs/mig.o .libs/mul.o .libs/mul_2exp.o .libs/mul_2si.o .libs/mul_2ui.o .libs/mul_d.o .libs/mul_fr.o .libs/mul_q.o .libs/mul_si.o .libs/mul_ui.o .libs/mul_z.o .libs/neg.o .libs/out_str.o .libs/predicates.o .libs/print_binary.o .libs/put.o .libs/put_d.o .libs/put_fr.o .libs/put_q.o .libs/put_si.o .libs/put_ui.o .libs/put_z.o .libs/q_div.o .libs/q_sub.o .libs/quadrant.o .libs/revert_if_needed.o .libs/round_prec.o .libs/sec.o .libs/sech.o .libs/set.o .libs/set_d.o .libs/set_fr.o .libs/set_prec.o .libs/set_q.o .libs/set_si.o .libs/set_str.o .libs/set_ui.o .libs/set_z.o .libs/si_div.o .libs/si_sub.o .libs/sign.o .libs/sin.o .libs/sinh.o .libs/sqr.o .libs/sqrt.o .libs/sub.o .libs/sub_d.o .libs/sub_fr.o .libs/sub_q.o .libs/sub_si.o .libs/sub_ui.o .libs/sub_z.o .libs/swap.o .libs/tan.o .libs/tanh.o .libs/ui_div.o .libs/ui_sub.o .libs/union.o .libs/urandom.o .libs/z_div.o .libs/z_sub.o   -Wl,-rpath -Wl,/mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib -Wl,-rpath -Wl,/mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib -L/mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib /mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib/libmpfr.so /mnt/usb1/scratch/buildbot/sage/sage-1/sage_upgrade/build/sage-4.5.3-5.0.beta5/local/lib/libgmp.so  -O2   -Wl,-soname -Wl,libmpfi.so.0 -o .libs/libmpfi.so.0.0.0
libtool: link: (cd ".libs" && rm "libmpfi.so.0" && ln -s "libmpfi.so.0.0.0" "libmpfi.so.0")
rm: cannot remove `libmpfi.so.0': No such file or directory
make[2]: *** [libmpfi.la] Error 1
```



---

archive/issue_comments_130541.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nAn updated package is available at the same address.\n\nI also added a mecurial tag for mpfi-1.5.1.",
    "created_at": "2012-02-22T10:26:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130541",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:74" align="right">comment:74</div>

An updated package is available at the same address.

I also added a mecurial tag for mpfi-1.5.1.



---

archive/issue_events_163630.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-02-22T10:26:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163630"
}
```



---

archive/issue_events_163631.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-02-22T10:26:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163631"
}
```



---

archive/issue_events_163632.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-02-22T19:53:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163632"
}
```



---

archive/issue_events_163633.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-02-22T19:53:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163633"
}
```



---

archive/issue_comments_130542.json:
```json
{
    "body": "Changed keywords from **sd35** to **sd35 sd36**",
    "created_at": "2012-02-22T19:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130542",
    "user": "https://github.com/vbraun"
}
```

Changed keywords from **sd35** to **sd35 sd36**



---

archive/issue_comments_130543.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nLooks good!",
    "created_at": "2012-02-22T19:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130543",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:75" align="right">comment:75</div>

Looks good!



---

archive/issue_events_163634.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-27T11:21:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163634"
}
```



---

archive/issue_events_163635.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-27T11:21:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12171#event-163635"
}
```



---

archive/issue_comments_130544.json:
```json
{
    "body": "Merged: **sage-5.0.beta6**",
    "created_at": "2012-02-27T11:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12171#issuecomment-130544",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.beta6**
