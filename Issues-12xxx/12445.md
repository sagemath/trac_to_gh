# Issue 12445: revise Sage banner, help message

archive/issues_012273.json:
```json
{
    "body": "This arose from some of the discussion at #12421. In summary: we don't need to mention `license()` in the Sage banner.  Instead, we should mention the `help()` command.  I also added basic information about using `less` with introspection to the help message.\n\nApply [attachment:trac_12445-banner.patch], [attachment:12445_doublequote.patch], and [attachment:trac_12445-ref2.patch] to the main Sage library.\n\n**Assignee:** @jasongrout\n\n**Keywords:** banner help\n\n**Reviewer:** Jeroen Demeyer, Karl-Dieter Crisman\n\n**Author:** John Palmieri, Jeroen Demeyer\n\n**Merged:** sage-5.1.beta1\n\nIssue created by migration from https://trac.sagemath.org/ticket/12445\n\n",
    "closed_at": "2012-05-23T21:32:06Z",
    "created_at": "2012-02-04T22:22:14Z",
    "labels": [
        "component: misc",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.1",
    "title": "revise Sage banner, help message",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12445",
    "user": "https://github.com/jhpalmieri"
}
```
This arose from some of the discussion at #12421. In summary: we don't need to mention `license()` in the Sage banner.  Instead, we should mention the `help()` command.  I also added basic information about using `less` with introspection to the help message.

Apply [attachment:trac_12445-banner.patch], [attachment:12445_doublequote.patch], and [attachment:trac_12445-ref2.patch] to the main Sage library.

**Assignee:** @jasongrout

**Keywords:** banner help

**Reviewer:** Jeroen Demeyer, Karl-Dieter Crisman

**Author:** John Palmieri, Jeroen Demeyer

**Merged:** sage-5.1.beta1

Issue created by migration from https://trac.sagemath.org/ticket/12445





---

archive/issue_events_102256.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-02-04T22:23:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102256"
}
```



---

archive/issue_comments_139371.json:
```json
{
    "body": "<a id='comment:2'></a>\nNote that the new browser won't appear when you start Sage unless you produce a Sage distribution with `sage --sdist ...` or `sage --bdist ...`. To look at the new banner, type `banner()` while running Sage. The old banner:\n\n```\n----------------------------------------------------------------------\n| Sage Version 5.0.beta2, Release Date: 2012-02-03                   |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\n```\nAfter the patch:\n\n```\n----------------------------------------------------------------------\n| Sage Version 5.0.beta2, Release Date: 2012-02-03                   |\n| Type 'notebook()' for the browser-based notebook interface.        |\n| Type 'help()' for help.                                            |\n----------------------------------------------------------------------\n```",
    "created_at": "2012-02-04T22:29:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139371",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
Note that the new browser won't appear when you start Sage unless you produce a Sage distribution with `sage --sdist ...` or `sage --bdist ...`. To look at the new banner, type `banner()` while running Sage. The old banner:

```
----------------------------------------------------------------------
| Sage Version 5.0.beta2, Release Date: 2012-02-03                   |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
```
After the patch:

```
----------------------------------------------------------------------
| Sage Version 5.0.beta2, Release Date: 2012-02-03                   |
| Type 'notebook()' for the browser-based notebook interface.        |
| Type 'help()' for help.                                            |
----------------------------------------------------------------------
```



---

archive/issue_comments_139372.json:
```json
{
    "body": "<a id='comment:3'></a>\nSee #12447: the file COPYING.txt (printed when you run `license()`) is out-of-date.",
    "created_at": "2012-02-04T22:47:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139372",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>
See #12447: the file COPYING.txt (printed when you run `license()`) is out-of-date.



---

archive/issue_comments_139373.json:
```json
{
    "body": "<a id='comment:4'></a>\nThis seems to cause a couple of doctests in sage/misc to fail -- see patchbot logs. (Looks like doctests for the introspection machinery are using the Sage banner as a test case.)",
    "created_at": "2012-03-12T12:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139373",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:4'></a>
This seems to cause a couple of doctests in sage/misc to fail -- see patchbot logs. (Looks like doctests for the introspection machinery are using the Sage banner as a test case.)



---

archive/issue_events_102257.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-12T12:31:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102257"
}
```



---

archive/issue_events_102258.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-12T12:31:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102258"
}
```



---

archive/attachments_016718.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12445-banner.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12445/trac_12445-banner.patch",
    "created_at": "2012-03-12T17:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jhpalmieri"
}
```



---

archive/issue_comments_139374.json:
```json
{
    "body": "<a id='comment:5'></a>\nHere's a patch which fixes those broken doctests.",
    "created_at": "2012-03-12T17:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139374",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'></a>
Here's a patch which fixes those broken doctests.



---

archive/issue_events_102259.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-03-12T17:54:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102259"
}
```



---

archive/issue_events_102260.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-03-12T17:54:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102260"
}
```



---

archive/issue_comments_139375.json:
```json
{
    "body": "<a id='comment:6'></a>\nI'm wondering whether the following looks better:\n\n```\n----------------------------------------------------------------------\n| Sage Version 5.0.beta14, Release Date: 2012-04-27                  |\n| Type notebook() for the browser-based notebook interface.          |\n| Type help() for help.                                              |\n----------------------------------------------------------------------\n```\nas opposed to\n\n```\n----------------------------------------------------------------------\n| Sage Version 5.0.beta14, Release Date: 2012-04-27                  |\n| Type 'notebook()' for the browser-based notebook interface.        |\n| Type 'help()' for help.                                            |\n----------------------------------------------------------------------\n```",
    "created_at": "2012-05-16T20:25:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139375",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
I'm wondering whether the following looks better:

```
----------------------------------------------------------------------
| Sage Version 5.0.beta14, Release Date: 2012-04-27                  |
| Type notebook() for the browser-based notebook interface.          |
| Type help() for help.                                              |
----------------------------------------------------------------------
```
as opposed to

```
----------------------------------------------------------------------
| Sage Version 5.0.beta14, Release Date: 2012-04-27                  |
| Type 'notebook()' for the browser-based notebook interface.        |
| Type 'help()' for help.                                            |
----------------------------------------------------------------------
```



---

archive/issue_comments_139376.json:
```json
{
    "body": "<a id='comment:7'></a>\nI don't have a strong opinion about it either way, but Python uses quotes: when I start Python, I see\n\n```\nPython 2.7.2 (default, May 14 2012, 16:40:23) \n[GCC 4.6.3] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n```\n(Of course, when you type `help`, it essentially tells you to type `help()` instead.)",
    "created_at": "2012-05-16T20:58:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139376",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'></a>
I don't have a strong opinion about it either way, but Python uses quotes: when I start Python, I see

```
Python 2.7.2 (default, May 14 2012, 16:40:23) 
[GCC 4.6.3] on darwin
Type "help", "copyright", "credits" or "license" for more information.
```
(Of course, when you type `help`, it essentially tells you to type `help()` instead.)



---

archive/issue_events_102261.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-17T14:12:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102261"
}
```



---

archive/issue_events_102262.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-17T14:12:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102262"
}
```



---

archive/issue_comments_139377.json:
```json
{
    "body": "<a id='comment:8'></a>\nI like this.  jhpalmieri *always* knows how to add actual helpful documentation that is not too verbose.\n\nThis changes the help message after `sage -br` ~~but for some reason it doesn't actually change the banner~~ and now I read [comment:2](#comment%3A2).  \n\nAs for the quotes, I don't have a strong opinion either and this seems reasonable.  I guess if we get emails asking for how to use help we'll need to change it!\n\nAll the sage/misc/ tests pass, and so although I'm going to run all of them now I'll put this as positive review.  I don't think it's a problem we don't test these, because in theory Sage should work fine without the very very long process of building documentation (why oh why is that not parallelized yet?).",
    "created_at": "2012-05-17T14:12:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139377",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>
I like this.  jhpalmieri *always* knows how to add actual helpful documentation that is not too verbose.

This changes the help message after `sage -br` ~~but for some reason it doesn't actually change the banner~~ and now I read [comment:2](#comment%3A2).  

As for the quotes, I don't have a strong opinion either and this seems reasonable.  I guess if we get emails asking for how to use help we'll need to change it!

All the sage/misc/ tests pass, and so although I'm going to run all of them now I'll put this as positive review.  I don't think it's a problem we don't test these, because in theory Sage should work fine without the very very long process of building documentation (why oh why is that not parallelized yet?).



---

archive/issue_comments_139378.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer, Karl-Dieter Crisman",
    "created_at": "2012-05-17T14:12:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139378",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Jeroen Demeyer, Karl-Dieter Crisman



---

archive/attachments_016719.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "12445_doublequote.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12445/12445_doublequote.patch",
    "created_at": "2012-05-18T15:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_139379.json:
```json
{
    "body": "",
    "created_at": "2012-05-18T15:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139379",
    "user": "https://github.com/jdemeyer"
}
```





---

archive/issue_events_102263.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-18T15:25:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102263"
}
```



---

archive/issue_events_102264.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-18T15:25:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102264"
}
```



---

archive/issue_comments_139380.json:
```json
{
    "body": "<a id='comment:9'></a>\nI have a slight preference for double quotes, hence my reviewer patch.  It fixes some docstring formatting also.",
    "created_at": "2012-05-18T15:25:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139380",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
I have a slight preference for double quotes, hence my reviewer patch.  It fixes some docstring formatting also.



---

archive/issue_events_102265.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-18T15:26:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102265"
}
```



---

archive/issue_events_102266.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-18T15:26:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102266"
}
```



---

archive/issue_comments_139381.json:
```json
{
    "body": "<a id='comment:11'></a>\nI'm ready to give this a positive review, except for two issues, fixed in my referee's patch. Please check my changes, and give the ticket a positive review if you're happy with them.\n\n- A doctest fails because of the changes to lines 93-94 of banner.py: the old doctest ended in \"...\", while the new one doesn't, so it doesn't handle banners for beta versions (which include \"Warning: this is a prerelease version...\").\n- Also, you were a little over-enthusiastic with search-and-replace: `function\"s`, line 1413, and `Python\"s`, line 1425, of sagedoc.py.",
    "created_at": "2012-05-18T17:05:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139381",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>
I'm ready to give this a positive review, except for two issues, fixed in my referee's patch. Please check my changes, and give the ticket a positive review if you're happy with them.

- A doctest fails because of the changes to lines 93-94 of banner.py: the old doctest ended in "...", while the new one doesn't, so it doesn't handle banners for beta versions (which include "Warning: this is a prerelease version...").
- Also, you were a little over-enthusiastic with search-and-replace: `function"s`, line 1413, and `Python"s`, line 1425, of sagedoc.py.



---

archive/issue_comments_139382.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n This arose from some of the discussion at #12421. In summary: we don't need to mention `license()` in the Sage banner.  Instead, we should mention the `help()` command.  I also added basic information about using `less` with introspection to the help message.\n \n+Apply [attachment:trac_12445-banner.patch], [attachment:12445_doublequote.patch], and [attachment:trac_12445-ref.patch] to the main Sage library.\n``````\n",
    "created_at": "2012-05-18T17:05:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139382",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
 This arose from some of the discussion at #12421. In summary: we don't need to mention `license()` in the Sage banner.  Instead, we should mention the `help()` command.  I also added basic information about using `less` with introspection to the help message.
 
+Apply [attachment:trac_12445-banner.patch], [attachment:12445_doublequote.patch], and [attachment:trac_12445-ref.patch] to the main Sage library.
``````




---

archive/issue_events_102267.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-18T17:08:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102267"
}
```



---

archive/issue_events_102268.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-18T17:08:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102268"
}
```



---

archive/issue_comments_139383.json:
```json
{
    "body": "<a id='comment:12'></a>\nYou did a search/replace for single quotes, didn't you?\n\n```\nfunction\"s\nTo enter Python\"s \n```\nAnd does `COPYING.txt` need to be quoted at all?  I didn't catch that last time, maybe I should have.\n\nI assume that the \"without warranty\" business is no longer needed, then, and is implicit in the GPL?",
    "created_at": "2012-05-18T17:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139383",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>
You did a search/replace for single quotes, didn't you?

```
function"s
To enter Python"s 
```
And does `COPYING.txt` need to be quoted at all?  I didn't catch that last time, maybe I should have.

I assume that the "without warranty" business is no longer needed, then, and is implicit in the GPL?



---

archive/issue_comments_139384.json:
```json
{
    "body": "<a id='comment:13'></a>\nHmm, maybe that whole \"couldn't take your changes because someone else changed it in the meantime\" was useful after all, huh?  Sorry, John.\n\nThese changes seem fine as long as they apply.  I assume that the banner change in the most recent patch is only needed for betas, but will it cause a non-beta doctest to fail, since there won't be any dot-dot-dot to dot-dot-dot?",
    "created_at": "2012-05-18T17:11:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139384",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:13'></a>
Hmm, maybe that whole "couldn't take your changes because someone else changed it in the meantime" was useful after all, huh?  Sorry, John.

These changes seem fine as long as they apply.  I assume that the banner change in the most recent patch is only needed for betas, but will it cause a non-beta doctest to fail, since there won't be any dot-dot-dot to dot-dot-dot?



---

archive/issue_comments_139385.json:
```json
{
    "body": "<a id='comment:14'></a>\nAs I suspected:\n\n```\nsage -t  \"devel/sage-main/sage/misc/banner.py\"              \n**********************************************************************\nFile \"/Users/.../sage-5.0/devel/sage-main/sage/misc/banner.py\", line 91:\n    sage: banner()\nExpected:\n    ----------------------------------------------------------------------\n    | Sage Version ..., Release Date: ...\n    | Type \"notebook()\" for the browser-based notebook interface.        |\n    | Type \"help()\" for help.                                            |\n    ----------------------------------------------------------------------\n    ...\nGot:\n    ----------------------------------------------------------------------\n    | Sage Version 5.0, Release Date: 2012-05-14                         |\n    | Type \"notebook()\" for the browser-based notebook interface.        |\n    | Type \"help()\" for help.                                            |\n    ----------------------------------------------------------------------\n**********************************************************************\n1 items had failures:\n   1 of   4 in __main__.example_3\n***Test Failed*** 1 failures.\n\tsage -t  \"devel/sage-main/sage/misc/banner.py\"\nTotal time for all tests: 2.0 seconds\n```",
    "created_at": "2012-05-18T17:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139385",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>
As I suspected:

```
sage -t  "devel/sage-main/sage/misc/banner.py"              
**********************************************************************
File "/Users/.../sage-5.0/devel/sage-main/sage/misc/banner.py", line 91:
    sage: banner()
Expected:
    ----------------------------------------------------------------------
    | Sage Version ..., Release Date: ...
    | Type "notebook()" for the browser-based notebook interface.        |
    | Type "help()" for help.                                            |
    ----------------------------------------------------------------------
    ...
Got:
    ----------------------------------------------------------------------
    | Sage Version 5.0, Release Date: 2012-05-14                         |
    | Type "notebook()" for the browser-based notebook interface.        |
    | Type "help()" for help.                                            |
    ----------------------------------------------------------------------
**********************************************************************
1 items had failures:
   1 of   4 in __main__.example_3
***Test Failed*** 1 failures.
	sage -t  "devel/sage-main/sage/misc/banner.py"
Total time for all tests: 2.0 seconds
```



---

archive/issue_comments_139386.json:
```json
{
    "body": "<a id='comment:15'></a>\nMaybe just instead of ending the last line with the \"bars\" and then doing ..., could one just have it end ... instead of the \"bars\"?  Or a few bars, like\n\n```\n-----------...\n```\nwould take care of it?  I realize that is inelegant.",
    "created_at": "2012-05-18T17:21:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139386",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'></a>
Maybe just instead of ending the last line with the "bars" and then doing ..., could one just have it end ... instead of the "bars"?  Or a few bars, like

```
-----------...
```
would take care of it?  I realize that is inelegant.



---

archive/issue_comments_139387.json:
```json
{
    "body": "<a id='comment:16'></a>\nI thought I had tested that. Here's a revised version which works on top of both 5.1.beta0 and 5.0.",
    "created_at": "2012-05-18T17:21:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139387",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:16'></a>
I thought I had tested that. Here's a revised version which works on top of both 5.1.beta0 and 5.0.



---

archive/issue_events_102269.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-05-18T17:22:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102269"
}
```



---

archive/issue_events_102270.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-05-18T17:22:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102270"
}
```



---

archive/issue_events_102271.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-18T17:45:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102271"
}
```



---

archive/issue_events_102272.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-18T17:45:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102272"
}
```



---

archive/issue_comments_139388.json:
```json
{
    "body": "**Changing author** from \"John Palmieri\" to \"John Palmieri, Jeroen Demeyer\".",
    "created_at": "2012-05-18T17:45:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139388",
    "user": "https://github.com/kcrisman"
}
```

**Changing author** from "John Palmieri" to "John Palmieri, Jeroen Demeyer".



---

archive/issue_comments_139389.json:
```json
{
    "body": "<a id='comment:18'></a>\nI think this should be okay.  I don't have any \"beta\" versions on hand right now but this seems like the right fix.\n\nI added Jeroen to the author for his contribution.\n\nAack!\n\n```\n\nsage -t  devel/sage-main/sage/misc/lazy_attribute.py\n**********************************************************************\nFile \"/Users/.../sage-5.0/devel/sage-main/sage/misc/lazy_attribute.py\", line 498:\n    sage: lines\nExpected:\n    80\nGot:\n    77\n**********************************************************************\nsage -t  devel/sage-main/sage/misc/abstract_method.py\n**********************************************************************\nFile \"/Users/.../sage-5.0/devel/sage-main/sage/misc/abstract_method.py\", line 196:\n    sage: lines\nExpected:\n    80\nGot:\n    77\n**********************************************************************\n```\nIf it isn't too terribly much trouble to update that ref patch one last time...",
    "created_at": "2012-05-18T17:45:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139389",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'></a>
I think this should be okay.  I don't have any "beta" versions on hand right now but this seems like the right fix.

I added Jeroen to the author for his contribution.

Aack!

```

sage -t  devel/sage-main/sage/misc/lazy_attribute.py
**********************************************************************
File "/Users/.../sage-5.0/devel/sage-main/sage/misc/lazy_attribute.py", line 498:
    sage: lines
Expected:
    80
Got:
    77
**********************************************************************
sage -t  devel/sage-main/sage/misc/abstract_method.py
**********************************************************************
File "/Users/.../sage-5.0/devel/sage-main/sage/misc/abstract_method.py", line 196:
    sage: lines
Expected:
    80
Got:
    77
**********************************************************************
```
If it isn't too terribly much trouble to update that ref patch one last time...



---

archive/issue_comments_139390.json:
```json
{
    "body": "<a id='comment:19'></a>\nBy the way, do you know a way to use hg queues to import the same named patch, replacing the current one?  I always have to hg qremove it, which is annoying because they have long hard-to-type names.",
    "created_at": "2012-05-18T17:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139390",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:19'></a>
By the way, do you know a way to use hg queues to import the same named patch, replacing the current one?  I always have to hg qremove it, which is annoying because they have long hard-to-type names.



---

archive/issue_comments_139391.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n This arose from some of the discussion at #12421. In summary: we don't need to mention `license()` in the Sage banner.  Instead, we should mention the `help()` command.  I also added basic information about using `less` with introspection to the help message.\n \n-Apply [attachment:trac_12445-banner.patch], [attachment:12445_doublequote.patch], and [attachment:trac_12445-ref.patch] to the main Sage library.\n+Apply [attachment:trac_12445-banner.patch], [attachment:12445_doublequote.patch], and [attachment:trac_12445-ref2.patch] to the main Sage library.\n``````\n",
    "created_at": "2012-05-18T18:33:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139391",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 This arose from some of the discussion at #12421. In summary: we don't need to mention `license()` in the Sage banner.  Instead, we should mention the `help()` command.  I also added basic information about using `less` with introspection to the help message.
 
-Apply [attachment:trac_12445-banner.patch], [attachment:12445_doublequote.patch], and [attachment:trac_12445-ref.patch] to the main Sage library.
+Apply [attachment:trac_12445-banner.patch], [attachment:12445_doublequote.patch], and [attachment:trac_12445-ref2.patch] to the main Sage library.
``````




---

archive/attachments_016720.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12445-ref2.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12445/trac_12445-ref2.patch",
    "created_at": "2012-05-18T18:33:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_139392.json:
```json
{
    "body": "<a id='comment:20'></a>\nThis should fix it - just updated John's patch with the correct number of lines for doctesting.  I'm reluctant to hit \"positive review\" though I think it is...",
    "created_at": "2012-05-18T18:33:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139392",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:20'></a>
This should fix it - just updated John's patch with the correct number of lines for doctesting.  I'm reluctant to hit "positive review" though I think it is...



---

archive/issue_events_102273.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-18T18:33:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102273"
}
```



---

archive/issue_events_102274.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-18T18:33:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102274"
}
```



---

archive/issue_comments_139393.json:
```json
{
    "body": "<a id='comment:21'></a>\nPatchbot: Apply [attachment:trac_12445-banner.patch], [attachment:12445_doublequote.patch], and [attachment:trac_12445-ref2.patch] to the main Sage library.",
    "created_at": "2012-05-18T18:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139393",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:21'></a>
Patchbot: Apply [attachment:trac_12445-banner.patch], [attachment:12445_doublequote.patch], and [attachment:trac_12445-ref2.patch] to the main Sage library.



---

archive/issue_comments_139394.json:
```json
{
    "body": "<a id='comment:22'></a>\nAll tests pass on the directory misc, with both 5.0 and 5.1.beta0.",
    "created_at": "2012-05-19T04:22:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139394",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:22'></a>
All tests pass on the directory misc, with both 5.0 and 5.1.beta0.



---

archive/issue_events_102275.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-19T07:59:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102275"
}
```



---

archive/issue_events_102276.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-19T07:59:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102276"
}
```



---

archive/issue_events_102277.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-23T21:32:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102277"
}
```



---

archive/issue_events_102278.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-23T21:32:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12445#event-102278"
}
```



---

archive/issue_comments_139395.json:
```json
{
    "body": "**Merged:** sage-5.1.beta1",
    "created_at": "2012-05-23T21:32:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12445#issuecomment-139395",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.1.beta1
