# Issue 12386: [ARM] pickling issues in the matrix_mod2_dense code

archive/issues_012214.json:
```json
{
    "body": "As discussed on the sage-devel mailing-list, that code uses \"char\" to read&write pickles on all platforms.\n\nUnfortunately on ARM, \"char\" means \"unsigned char\", while on most other platforms, it means \"signed char\".\n\nThe solution is to make that code use \"signed char\" explicitly ; that way we unbreak the ARM pickles.\n\n**Assignee:** @williamstein\n\n**Author:** Julien Puydt\n\n**Reviewer:** Martin Albrecht\n\n**Merged:** sage-5.0.beta3\n\nIssue created by migration from https://trac.sagemath.org/ticket/12386\n\n",
    "closed_at": "2012-02-06T21:27:02Z",
    "created_at": "2012-01-30T09:32:34Z",
    "labels": [
        "component: pickling",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "[ARM] pickling issues in the matrix_mod2_dense code",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12386",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```
As discussed on the sage-devel mailing-list, that code uses "char" to read&write pickles on all platforms.

Unfortunately on ARM, "char" means "unsigned char", while on most other platforms, it means "signed char".

The solution is to make that code use "signed char" explicitly ; that way we unbreak the ARM pickles.

**Assignee:** @williamstein

**Author:** Julien Puydt

**Reviewer:** Martin Albrecht

**Merged:** sage-5.0.beta3

Issue created by migration from https://trac.sagemath.org/ticket/12386





---

archive/issue_comments_169597.json:
```json
{
    "body": "Use \"signed char\" in matrix_mod2_dense for portability",
    "created_at": "2012-01-30T09:33:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12386#issuecomment-169597",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

Use "signed char" in matrix_mod2_dense for portability



---

archive/issue_comments_169598.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2012-01-30T15:08:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12386#issuecomment-169598",
    "user": "https://github.com/malb"
}
```

**Changing status** from new to needs_review.



---

archive/attachments_016632.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "pickle.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12386/pickle.patch",
    "created_at": "2012-01-30T15:08:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_169599.json:
```json
{
    "body": "<a id='comment:1'></a>\nChanges look reasonable, if this passes tests it should go in. Hence, positive review for now.",
    "created_at": "2012-01-30T15:08:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12386#issuecomment-169599",
    "user": "https://github.com/malb"
}
```

<a id='comment:1'></a>
Changes look reasonable, if this passes tests it should go in. Hence, positive review for now.



---

archive/issue_comments_169600.json:
```json
{
    "body": "**Reviewer:** Martin Albrecht",
    "created_at": "2012-01-30T15:08:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12386#issuecomment-169600",
    "user": "https://github.com/malb"
}
```

**Reviewer:** Martin Albrecht



---

archive/issue_comments_169601.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2012-01-30T15:09:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12386#issuecomment-169601",
    "user": "https://github.com/malb"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_169602.json:
```json
{
    "body": "<a id='comment:3'></a>\nPatches should be made using \"hg export tip\" or similar, not \"hg diff\".  Please re-upload a proper Mercurial changeset with a meaningful commit message.",
    "created_at": "2012-02-03T11:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12386#issuecomment-169602",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
Patches should be made using "hg export tip" or similar, not "hg diff".  Please re-upload a proper Mercurial changeset with a meaningful commit message.



---

archive/issue_comments_169603.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2012-02-03T11:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12386#issuecomment-169603",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_169604.json:
```json
{
    "body": "hg export tip version of the patch",
    "created_at": "2012-02-03T12:01:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12386#issuecomment-169604",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

hg export tip version of the patch



---

archive/attachments_016633.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "pickle.2.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12386/pickle.2.patch",
    "created_at": "2012-02-06T15:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_169605.json:
```json
{
    "body": "<a id='comment:4'></a>\n",
    "created_at": "2012-02-06T15:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12386#issuecomment-169605",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>




---

archive/issue_comments_169606.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2012-02-06T15:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12386#issuecomment-169606",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_169607.json:
```json
{
    "body": "**Author:** Julien Puydt",
    "created_at": "2012-02-06T15:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12386#issuecomment-169607",
    "user": "https://github.com/jdemeyer"
}
```

**Author:** Julien Puydt



---

archive/issue_events_038568.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-06T21:27:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12386#event-38568"
}
```



---

archive/issue_comments_169608.json:
```json
{
    "body": "**Merged:** sage-5.0.beta3",
    "created_at": "2012-02-06T21:27:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12386",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12386#issuecomment-169608",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.0.beta3
