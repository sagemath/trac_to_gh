# Issue 12559: Chinese translation of "A tour of Sage"

archive/issues_012387.json:
```json
{
    "body": "The attachment is created by \"kehengsite\", whose Chinese name is \u5ed6\u7965.  If you have some good ideas to promote this Sage Chinese document, please tell me throught e-mail (lq52655963`@`163.com). In addition, thanks Nguyen to create a trac account for me!\n\n\nAssignee: Kehengsite\n\nCC:  lq52655963@163.com @vbraun\n\nKeywords: chinese\n\nReviewer: Volker Braun, Dmitrii Pasechnik, Karl-Dieter Crisman, Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Liu Xiang (\u5ed6\u7965)\n\nBranch: u/chapoton/12559\n\nStatus: needs_work\n\nCommit: 396cce186aa2c6e044bde8e78292b7a5962d01f4\n\nIssue created by migration from https://trac.sagemath.org/ticket/12559\n\n",
    "created_at": "2012-02-22T05:58:38Z",
    "labels": [
        "component: translations"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Chinese translation of \"A tour of Sage\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12559",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```
The attachment is created by "kehengsite", whose Chinese name is 廖祥.  If you have some good ideas to promote this Sage Chinese document, please tell me throught e-mail (lq52655963`@`163.com). In addition, thanks Nguyen to create a trac account for me!


Assignee: Kehengsite

CC:  lq52655963@163.com @vbraun

Keywords: chinese

Reviewer: Volker Braun, Dmitrii Pasechnik, Karl-Dieter Crisman, Frédéric Chapoton

Author: Liu Xiang (廖祥)

Branch: u/chapoton/12559

Status: needs_work

Commit: 396cce186aa2c6e044bde8e78292b7a5962d01f4

Issue created by migration from https://trac.sagemath.org/ticket/12559





---

archive/issue_comments_154955.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [A_tour_of_sage_Zh.tar.bz2](tarball://root/attachments/some-uuid/ticket12559/A_tour_of_sage_Zh.tar.bz2) by @ppurka created at 2012-02-22 14:53:09\n\nI have asked one of my Chinese colleagues to take a look at the contents for review.",
    "created_at": "2012-02-22T14:53:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154955",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:1'></a>Attachment [A_tour_of_sage_Zh.tar.bz2](tarball://root/attachments/some-uuid/ticket12559/A_tour_of_sage_Zh.tar.bz2) by @ppurka created at 2012-02-22 14:53:09

I have asked one of my Chinese colleagues to take a look at the contents for review.



---

archive/issue_comments_154956.json:
```json
{
    "body": "<a id='comment:2'></a>Attachment [A_tour_of_sage_Zh.pdf](tarball://root/attachments/some-uuid/ticket12559/A_tour_of_sage_Zh.pdf) by @ppurka created at 2012-02-23 10:12:34\n\n[attachment:A_tour_of_sage_Zh.pdf Attached] in the pdf file are some comments by my colleague *Chengmin Wang*. Many thanks to him.",
    "created_at": "2012-02-23T10:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154956",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:2'></a>Attachment [A_tour_of_sage_Zh.pdf](tarball://root/attachments/some-uuid/ticket12559/A_tour_of_sage_Zh.pdf) by @ppurka created at 2012-02-23 10:12:34

[attachment:A_tour_of_sage_Zh.pdf Attached] in the pdf file are some comments by my colleague *Chengmin Wang*. Many thanks to him.



---

archive/issue_comments_154957.json:
```json
{
    "body": "Changing assignee from mvngu to Kehengsite.",
    "created_at": "2012-02-26T05:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154957",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kehengsite"
}
```

Changing assignee from mvngu to Kehengsite.



---

archive/issue_comments_154958.json:
```json
{
    "body": "<a id='comment:4'></a>In the next,I will add instalation guide to this document.But at first,I need a few days to make understand how this trac syetem works.",
    "created_at": "2012-02-26T05:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154958",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kehengsite"
}
```

<a id='comment:4'></a>In the next,I will add instalation guide to this document.But at first,I need a few days to make understand how this trac syetem works.



---

archive/issue_comments_154959.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n As the subject says.  The attachment is from \"kehengsite\", who didn't give their real name.  The attachment needs to be converted to Sphinx.\n \n-Assignee: mvngu\n+\n \n Component: documentation\n \n```\n",
    "created_at": "2012-02-26T05:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154959",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kehengsite"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,6 +1,6 @@
 As the subject says.  The attachment is from "kehengsite", who didn't give their real name.  The attachment needs to be converted to Sphinx.
 
-Assignee: mvngu
+
 
 Component: documentation
 
```




---

archive/issue_comments_154960.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n+The attachment is created by \"kehengsite\", whose Chinese name is \u5ed6\u7965.  The attachment needs to be converted to Sphinx.If you have some good ideas to promote this Sage Chinese document,please tell me throught e-mail(lq52655963`@`163.com).In addition,thanks Nguyen to create a trac account for me!\n+\n+\n \n \n Component: documentation\n```\n",
    "created_at": "2012-02-26T06:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154960",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kehengsite"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,6 @@
+The attachment is created by "kehengsite", whose Chinese name is 廖祥.  The attachment needs to be converted to Sphinx.If you have some good ideas to promote this Sage Chinese document,please tell me throught e-mail(lq52655963`@`163.com).In addition,thanks Nguyen to create a trac account for me!
+
+
 
 
 Component: documentation
```




---

archive/issue_comments_154961.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 Kehengsite]:\n\nlatex->rst [converter http://johnmacfarlane.net/pandoc/]",
    "created_at": "2012-02-26T06:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154961",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>Replying to [comment:6 Kehengsite]:

latex->rst [converter http://johnmacfarlane.net/pandoc/]



---

archive/issue_comments_154962.json:
```json
{
    "body": "Attachment [A_tour_of_sage_Zh.rar](tarball://root/attachments/some-uuid/ticket12559/A_tour_of_sage_Zh.rar) by Kehengsite created at 2012-03-31 14:08:35\n\nFinished intsallation guide",
    "created_at": "2012-03-31T14:08:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154962",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kehengsite"
}
```

Attachment [A_tour_of_sage_Zh.rar](tarball://root/attachments/some-uuid/ticket12559/A_tour_of_sage_Zh.rar) by Kehengsite created at 2012-03-31 14:08:35

Finished intsallation guide



---

archive/issue_comments_154963.json:
```json
{
    "body": "<a id='comment:8'></a>Waiting to be converted to rst",
    "created_at": "2012-03-31T14:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154963",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kehengsite"
}
```

<a id='comment:8'></a>Waiting to be converted to rst



---

archive/issue_comments_154964.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2012-03-31T17:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154964",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_154965.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 Kehengsite]:\n> Waiting to be converted to rst\n\nIf I try to run latex and then dvips on these files I get \n\n```\n$ dvips A_tour_of_sage_Zh\nThis is dvips(k) 5.991 Copyright 2011 Radical Eye Software (www.radicaleye.com)\n' TeX output 2012.04.01:0058' -> A_tour_of_sage_Zh.ps\n\nkpathsea: Running mktexpk --mfmode ljfour --bdpi 600 --mag 1+437/600 --dpi 1037 unihei52\nmktexpk: don't know how to create bitmap font for unihei52.\nmktexpk: perhaps unihei52 is missing from the map file.\nkpathsea: Appending font creation commands to missfont.log.\ndvips: Font unihei52 not found; using cmr10\n\n</usr/local/texlive/2011/texmf-dist/fonts/pk/ljfour/public/cm/dpi600/cmr10.pk>\ndvips: ! invalid char 159 from font unihei52\n```\nIf I try pdflatex I get\n\n```\n!pdfTeX error: pdflatex (file simsun.ttc): cannot open TrueType font file for reading\n ==> Fatal error occurred, no output PDF file produced!\n```\n\nIs it a problem with my TeX installation (TeXLive 2011 on MacOSX) ?\nOr something non-standard in this file?\nI tried googling for these errors, but most of the results are in Chinese, and I can't see what \nis the problem...",
    "created_at": "2012-03-31T17:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154965",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>Replying to [comment:8 Kehengsite]:
> Waiting to be converted to rst

If I try to run latex and then dvips on these files I get 

```
$ dvips A_tour_of_sage_Zh
This is dvips(k) 5.991 Copyright 2011 Radical Eye Software (www.radicaleye.com)
' TeX output 2012.04.01:0058' -> A_tour_of_sage_Zh.ps

kpathsea: Running mktexpk --mfmode ljfour --bdpi 600 --mag 1+437/600 --dpi 1037 unihei52
mktexpk: don't know how to create bitmap font for unihei52.
mktexpk: perhaps unihei52 is missing from the map file.
kpathsea: Appending font creation commands to missfont.log.
dvips: Font unihei52 not found; using cmr10

</usr/local/texlive/2011/texmf-dist/fonts/pk/ljfour/public/cm/dpi600/cmr10.pk>
dvips: ! invalid char 159 from font unihei52
```
If I try pdflatex I get

```
!pdfTeX error: pdflatex (file simsun.ttc): cannot open TrueType font file for reading
 ==> Fatal error occurred, no output PDF file produced!
```

Is it a problem with my TeX installation (TeXLive 2011 on MacOSX) ?
Or something non-standard in this file?
I tried googling for these errors, but most of the results are in Chinese, and I can't see what 
is the problem...



---

archive/issue_comments_154966.json:
```json
{
    "body": "<a id='comment:10'></a>I use CTeX distrbution (www.ctex.org) to finish this work,in the compiling process,\n\nseveral Chinese fonts were needed. so,if you use TeXLive to commpile the .tex file,as \n\nlack of CTeX macro,it won't success.\n  \n  In fact,I'm trying to find a perfect way to convert this .tex file to rst,but yet \n\nsuccessed. Now,I'm working on it!\n\n   Thinks very much for you help anyway!",
    "created_at": "2012-04-01T10:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154966",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kehengsite"
}
```

<a id='comment:10'></a>I use CTeX distrbution (www.ctex.org) to finish this work,in the compiling process,

several Chinese fonts were needed. so,if you use TeXLive to commpile the .tex file,as 

lack of CTeX macro,it won't success.
  
  In fact,I'm trying to find a perfect way to convert this .tex file to rst,but yet 

successed. Now,I'm working on it!

   Thinks very much for you help anyway!



---

archive/issue_comments_154967.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:9 dimpase]:\n> Replying to [comment:8 Kehengsite]:\n> > Waiting to be converted to rst\n\n> If I try to run latex and then dvips on these files I get \n> {{{\n> $ dvips A_tour_of_sage_Zh\n> This is dvips(k) 5.991 Copyright 2011 Radical Eye Software (www.radicaleye.com)\n> ' TeX output 2012.04.01:0058' -> A_tour_of_sage_Zh.ps\n> \n> kpathsea: Running mktexpk --mfmode ljfour --bdpi 600 --mag 1+437/600 --dpi 1037 unihei52\n> mktexpk: don't know how to create bitmap font for unihei52.\n> mktexpk: perhaps unihei52 is missing from the map file.\n> kpathsea: Appending font creation commands to missfont.log.\n> dvips: Font unihei52 not found; using cmr10\n> \n> </usr/local/texlive/2011/texmf-dist/fonts/pk/ljfour/public/cm/dpi600/cmr10.pk>\n> dvips: ! invalid char 159 from font unihei52\n> }}}\n> If I try pdflatex I get\n> \n> ```\n> !pdfTeX error: pdflatex (file simsun.ttc): cannot open TrueType font file for reading\n>  ==> Fatal error occurred, no output PDF file produced!\n> ```\n> \n> Is it a problem with my TeX installation (TeXLive 2011 on MacOSX) ?\n> Or something non-standard in this file?\n> I tried googling for these errors, but most of the results are in Chinese, and I can't see what \n> is the problem...\n> \n\nI use CTeX distrbution (www.ctex.org) to finish this work,in the compiling process, \n\nseveral Chinese fonts were needed. so,if you use TeXLive to commpile the .tex file,as \n\nlack of CTeX macro,it won't success. \n\nIn fact,I'm trying to find a perfect way to convert this .tex file to rst,but yet \n\nsuccessed. Now,I'm working on it! \n\nThinks very much for you help anyway!",
    "created_at": "2012-04-01T10:33:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154967",
    "user": "https://trac.sagemath.org/admin/accounts/users/Kehengsite"
}
```

<a id='comment:11'></a>Replying to [comment:9 dimpase]:
> Replying to [comment:8 Kehengsite]:
> > Waiting to be converted to rst

> If I try to run latex and then dvips on these files I get 
> {{{
> $ dvips A_tour_of_sage_Zh
> This is dvips(k) 5.991 Copyright 2011 Radical Eye Software (www.radicaleye.com)
> ' TeX output 2012.04.01:0058' -> A_tour_of_sage_Zh.ps
> 
> kpathsea: Running mktexpk --mfmode ljfour --bdpi 600 --mag 1+437/600 --dpi 1037 unihei52
> mktexpk: don't know how to create bitmap font for unihei52.
> mktexpk: perhaps unihei52 is missing from the map file.
> kpathsea: Appending font creation commands to missfont.log.
> dvips: Font unihei52 not found; using cmr10
> 
> </usr/local/texlive/2011/texmf-dist/fonts/pk/ljfour/public/cm/dpi600/cmr10.pk>
> dvips: ! invalid char 159 from font unihei52
> }}}
> If I try pdflatex I get
> 
> ```
> !pdfTeX error: pdflatex (file simsun.ttc): cannot open TrueType font file for reading
>  ==> Fatal error occurred, no output PDF file produced!
> ```
> 
> Is it a problem with my TeX installation (TeXLive 2011 on MacOSX) ?
> Or something non-standard in this file?
> I tried googling for these errors, but most of the results are in Chinese, and I can't see what 
> is the problem...
> 

I use CTeX distrbution (www.ctex.org) to finish this work,in the compiling process, 

several Chinese fonts were needed. so,if you use TeXLive to commpile the .tex file,as 

lack of CTeX macro,it won't success. 

In fact,I'm trying to find a perfect way to convert this .tex file to rst,but yet 

successed. Now,I'm working on it! 

Thinks very much for you help anyway!



---

archive/issue_comments_154968.json:
```json
{
    "body": "<a id='comment:12'></a>this is a real UTF challenge :\u2013)",
    "created_at": "2013-06-05T17:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154968",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>this is a real UTF challenge :–)



---

archive/issue_comments_154969.json:
```json
{
    "body": "<a id='comment:13'></a>First question, is this simplified or traditional chinese? ;-)",
    "created_at": "2013-06-05T17:59:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154969",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:13'></a>First question, is this simplified or traditional chinese? ;-)



---

archive/issue_comments_154970.json:
```json
{
    "body": "converted to rST using pandoc",
    "created_at": "2013-06-06T06:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154970",
    "user": "https://github.com/dimpase"
}
```

converted to rST using pandoc



---

archive/issue_comments_154971.json:
```json
{
    "body": "<a id='comment:14'></a>Attachment [A_tour_of_sage_Zh.rst](tarball://root/attachments/some-uuid/ticket12559/A_tour_of_sage_Zh.rst) by @dimpase created at 2013-06-06 07:00:24\n\nReplying to [comment:13 vbraun]:\n> First question, is this simplified or traditional chinese? ;-)\n\n\nSimplified. I just attached the result of using pandoc on the latex source. It will surely need more reformatting etc. \n\nNow one has to figure out where it should go, and how to run sphinx on it...",
    "created_at": "2013-06-06T07:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154971",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>Attachment [A_tour_of_sage_Zh.rst](tarball://root/attachments/some-uuid/ticket12559/A_tour_of_sage_Zh.rst) by @dimpase created at 2013-06-06 07:00:24

Replying to [comment:13 vbraun]:
> First question, is this simplified or traditional chinese? ;-)


Simplified. I just attached the result of using pandoc on the latex source. It will surely need more reformatting etc. 

Now one has to figure out where it should go, and how to run sphinx on it...



---

archive/issue_comments_154972.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n+The attachment is created by \"kehengsite\", whose Chinese name is \u5ed6\u7965.  The attachment needs to be converted to Sphinx.If you have some good ideas to promote this Sage Chinese document,please tell me throught e-mail(lq52655963`@`163.com).In addition,thanks Nguyen to create a trac account for me!\n+\n+Apply [attachment:trac_12559_tour_chinese.patch]\n \n \n Component: documentation\n```\n",
    "created_at": "2013-06-06T08:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154972",
    "user": "https://github.com/vbraun"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,6 @@
+The attachment is created by "kehengsite", whose Chinese name is 廖祥.  The attachment needs to be converted to Sphinx.If you have some good ideas to promote this Sage Chinese document,please tell me throught e-mail(lq52655963`@`163.com).In addition,thanks Nguyen to create a trac account for me!
+
+Apply [attachment:trac_12559_tour_chinese.patch]
 
 
 Component: documentation
```




---

archive/issue_comments_154973.json:
```json
{
    "body": "<a id='comment:15'></a>The attached patch lets you build the html version with\n\n```\nsage -docbuild zh_CN/a_tour_of_sage html\n```\nThere are some errors because I'm missing the images (we need them as png, not pdf for the html docs)",
    "created_at": "2013-06-06T08:23:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154973",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'></a>The attached patch lets you build the html version with

```
sage -docbuild zh_CN/a_tour_of_sage html
```
There are some errors because I'm missing the images (we need them as png, not pdf for the html docs)



---

archive/issue_comments_154974.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:15 vbraun]:\n> The attached patch lets you build the html version with\n> \n> ```\n> sage -docbuild zh_CN/a_tour_of_sage html\n> ```\n> There are some errors because I'm missing the images (we need them as png, not pdf for the html docs)\n\n\nI presume one can steal the images from this document in other languages...",
    "created_at": "2013-06-06T08:33:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154974",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>Replying to [comment:15 vbraun]:
> The attached patch lets you build the html version with
> 
> ```
> sage -docbuild zh_CN/a_tour_of_sage html
> ```
> There are some errors because I'm missing the images (we need them as png, not pdf for the html docs)


I presume one can steal the images from this document in other languages...



---

archive/issue_comments_154975.json:
```json
{
    "body": "<a id='comment:17'></a>And there is a lot of installation stuff before the \"A Tour OF Sage\" starts, which is not present in the English version. Shouldn't that be broken out to a separate document?",
    "created_at": "2013-06-06T08:49:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154975",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:17'></a>And there is a lot of installation stuff before the "A Tour OF Sage" starts, which is not present in the English version. Shouldn't that be broken out to a separate document?



---

archive/issue_comments_154976.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:17 vbraun]:\n> And there is a lot of installation stuff before the \"A Tour OF Sage\" starts, which is not present in the English version. Shouldn't that be broken out to a separate document?\n\n\nIndeed. I was wondering if there is a corresponding part of Sage docs that has this info.",
    "created_at": "2013-06-06T09:02:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154976",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>Replying to [comment:17 vbraun]:
> And there is a lot of installation stuff before the "A Tour OF Sage" starts, which is not present in the English version. Shouldn't that be broken out to a separate document?


Indeed. I was wondering if there is a corresponding part of Sage docs that has this info.



---

archive/issue_comments_154977.json:
```json
{
    "body": "<a id='comment:19'></a>I've fixed up the images and the pdf build. The latter pretty much requires xelatex; Apparently you can also use standard pdflatex but then you need the CJK package which is not in TeXlive. So I think its better to use xelatex, and simply disable it if xelatex is not available.",
    "created_at": "2013-06-06T11:10:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154977",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:19'></a>I've fixed up the images and the pdf build. The latter pretty much requires xelatex; Apparently you can also use standard pdflatex but then you need the CJK package which is not in TeXlive. So I think its better to use xelatex, and simply disable it if xelatex is not available.



---

archive/issue_comments_154978.json:
```json
{
    "body": "Attachment [SageTutorial_zh_CN.pdf](tarball://root/attachments/some-uuid/ticket12559/SageTutorial_zh_CN.pdf) by @vbraun created at 2013-06-06 11:12:52\n\npdf output",
    "created_at": "2013-06-06T11:12:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154978",
    "user": "https://github.com/vbraun"
}
```

Attachment [SageTutorial_zh_CN.pdf](tarball://root/attachments/some-uuid/ticket12559/SageTutorial_zh_CN.pdf) by @vbraun created at 2013-06-06 11:12:52

pdf output



---

archive/issue_comments_154979.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2013-06-06T11:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154979",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_154980.json:
```json
{
    "body": "<a id='comment:21'></a>PDF doc does not build for me:\n\n```\nsage -docbuild zh_CN/a_tour_of_sage pdf                 \n[a_tour_of] loading translations [zh_CN]... done\n[a_tour_of] Compiling the master document\n[a_tour_of] building [latex]: all documents\n[a_tour_of] Merging environment/index files...\n[a_tour_of] ... done (0 todos, 1 index, 0 citations, 0 modules)\n[a_tour_of] Saved pickle file: citations.pickle\n[a_tour_of] processing SageTutorial_zh_CN.tex... index\n[a_tour_of] resolving references...\n[a_tour_of] writing... done\n[a_tour_of] copying images... interact_screenshot.jpg sin_plot.png circles_plot.png plot_3d.jpg eigen_plot.png\n[a_tour_of] copying TeX support files... done\n[a_tour_of] build succeeded, 1 warning.\nenv </dev/null pool_size=4000000 save_size=50000 extra_mem_top=2000000 xelatex  'SageTutorial_zh_CN.tex'\nThis is XeTeX, Version 3.1415926-2.2-0.9995.2 (TeX Live 2009/Debian)\n(Fatal format file error; I'm stymied)\nmake: *** [SageTutorial_zh_CN.pdf] Error 1\nTraceback (most recent call last):\n  File \"/usr/local/src/sage/sage-5.10.rc1/devel/sage/doc/common/builder.py\", line 1454, in <module>\n    getattr(get_builder(name), type)()\n  File \"/usr/local/src/sage/sage-5.10.rc1/devel/sage/doc/common/builder.py\", line 208, in pdf\n    raise RuntimeError(\"failed to run $MAKE all-pdf in %s\"%tex_dir)\nRuntimeError: failed to run $MAKE all-pdf in /usr/local/src/sage/sage-5.10.rc1/devel/sage/doc/output/latex/zh_CN/a_tour_of_sage\n```\nJust in Sage shell in `sage/doc/output/latex/zh_CN/a_tour_of_sage` I get \n\n```\n$ make    \nenv </dev/null pool_size=4000000 save_size=50000 extra_mem_top=2000000 xelatex  'SageTutorial_zh_CN.tex'\nThis is XeTeX, Version 3.1415926-2.2-0.9995.2 (TeX Live 2009/Debian)\n(Fatal format file error; I'm stymied)\nmake: *** [SageTutorial_zh_CN.pdf] Error 1\n```\n\nThis seems to indicate that xelatex cannot find the right format file.\nIndeed, it works on \"normal\" files. Also note that\nand in the normal shell I get\n\n```\n$ make\nenv </dev/null pool_size=4000000 save_size=50000 extra_mem_top=2000000 xelatex  'SageTutorial_zh_CN.tex'\nThis is XeTeX, Version 3.1415926-2.2-0.9995.2 (TeX Live 2009/Debian)\nentering extended mode\n(./SageTutorial_zh_CN.tex\nLaTeX2e <2009/09/24>\nBabel <v3.8l> and hyphenation patterns for english, usenglishmax, dumylang, noh\nyphenation, farsi, arabic, croatian, bulgarian, ukrainian, russian, czech, slov\nak, danish, dutch, finnish, french, basque, ngerman, german, german-x-2009-06-1\n9, ngerman-x-2009-06-19, ibycus, monogreek, greek, ancientgreek, hungarian, san\nskrit, italian, latin, latvian, lithuanian, mongolian2a, mongolian, bokmal, nyn\norsk, romanian, irish, coptic, serbian, turkish, welsh, esperanto, uppersorbian\n, estonian, indonesian, interlingua, icelandic, kurmanji, slovenian, polish, po\nrtuguese, spanish, galician, catalan, swedish, ukenglish, pinyin, loaded.\n(./sphinxmanual.cls\nDocument Class: sphinxmanual 2009/06/02 Document class (Sphinx manual)\n(/usr/share/texmf-texlive/tex/latex/base/report.cls\nDocument Class: report 2007/10/19 v1.4h Standard LaTeX document class\n(/usr/share/texmf-texlive/tex/latex/base/size10.clo)))\n! Undefined control sequence.\nl.5 \\DeclareUnicodeCharacter\n                            {00A0}{\\nobreakspace}\n?\n! Emergency stop.\nl.5 \\DeclareUnicodeCharacter\n                            {00A0}{\\nobreakspace}\nNo pages of output.\nTranscript written on SageTutorial_zh_CN.log.\nmake: *** [SageTutorial_zh_CN.pdf] Error 1\n```",
    "created_at": "2013-06-06T16:27:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154980",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>PDF doc does not build for me:

```
sage -docbuild zh_CN/a_tour_of_sage pdf                 
[a_tour_of] loading translations [zh_CN]... done
[a_tour_of] Compiling the master document
[a_tour_of] building [latex]: all documents
[a_tour_of] Merging environment/index files...
[a_tour_of] ... done (0 todos, 1 index, 0 citations, 0 modules)
[a_tour_of] Saved pickle file: citations.pickle
[a_tour_of] processing SageTutorial_zh_CN.tex... index
[a_tour_of] resolving references...
[a_tour_of] writing... done
[a_tour_of] copying images... interact_screenshot.jpg sin_plot.png circles_plot.png plot_3d.jpg eigen_plot.png
[a_tour_of] copying TeX support files... done
[a_tour_of] build succeeded, 1 warning.
env </dev/null pool_size=4000000 save_size=50000 extra_mem_top=2000000 xelatex  'SageTutorial_zh_CN.tex'
This is XeTeX, Version 3.1415926-2.2-0.9995.2 (TeX Live 2009/Debian)
(Fatal format file error; I'm stymied)
make: *** [SageTutorial_zh_CN.pdf] Error 1
Traceback (most recent call last):
  File "/usr/local/src/sage/sage-5.10.rc1/devel/sage/doc/common/builder.py", line 1454, in <module>
    getattr(get_builder(name), type)()
  File "/usr/local/src/sage/sage-5.10.rc1/devel/sage/doc/common/builder.py", line 208, in pdf
    raise RuntimeError("failed to run $MAKE all-pdf in %s"%tex_dir)
RuntimeError: failed to run $MAKE all-pdf in /usr/local/src/sage/sage-5.10.rc1/devel/sage/doc/output/latex/zh_CN/a_tour_of_sage
```
Just in Sage shell in `sage/doc/output/latex/zh_CN/a_tour_of_sage` I get 

```
$ make    
env </dev/null pool_size=4000000 save_size=50000 extra_mem_top=2000000 xelatex  'SageTutorial_zh_CN.tex'
This is XeTeX, Version 3.1415926-2.2-0.9995.2 (TeX Live 2009/Debian)
(Fatal format file error; I'm stymied)
make: *** [SageTutorial_zh_CN.pdf] Error 1
```

This seems to indicate that xelatex cannot find the right format file.
Indeed, it works on "normal" files. Also note that
and in the normal shell I get

```
$ make
env </dev/null pool_size=4000000 save_size=50000 extra_mem_top=2000000 xelatex  'SageTutorial_zh_CN.tex'
This is XeTeX, Version 3.1415926-2.2-0.9995.2 (TeX Live 2009/Debian)
entering extended mode
(./SageTutorial_zh_CN.tex
LaTeX2e <2009/09/24>
Babel <v3.8l> and hyphenation patterns for english, usenglishmax, dumylang, noh
yphenation, farsi, arabic, croatian, bulgarian, ukrainian, russian, czech, slov
ak, danish, dutch, finnish, french, basque, ngerman, german, german-x-2009-06-1
9, ngerman-x-2009-06-19, ibycus, monogreek, greek, ancientgreek, hungarian, san
skrit, italian, latin, latvian, lithuanian, mongolian2a, mongolian, bokmal, nyn
orsk, romanian, irish, coptic, serbian, turkish, welsh, esperanto, uppersorbian
, estonian, indonesian, interlingua, icelandic, kurmanji, slovenian, polish, po
rtuguese, spanish, galician, catalan, swedish, ukenglish, pinyin, loaded.
(./sphinxmanual.cls
Document Class: sphinxmanual 2009/06/02 Document class (Sphinx manual)
(/usr/share/texmf-texlive/tex/latex/base/report.cls
Document Class: report 2007/10/19 v1.4h Standard LaTeX document class
(/usr/share/texmf-texlive/tex/latex/base/size10.clo)))
! Undefined control sequence.
l.5 \DeclareUnicodeCharacter
                            {00A0}{\nobreakspace}
?
! Emergency stop.
l.5 \DeclareUnicodeCharacter
                            {00A0}{\nobreakspace}
No pages of output.
Transcript written on SageTutorial_zh_CN.log.
make: *** [SageTutorial_zh_CN.pdf] Error 1
```



---

archive/issue_comments_154981.json:
```json
{
    "body": "<a id='comment:22'></a>With `TexLive 2012`, the error is less strange:\n\n```\nsage -docbuild zh_CN/a_tour_of_sage pdf\n[a_tour_of] loading translations [zh_CN]... done\n[a_tour_of] Compiling the master document\n[a_tour_of] building [latex]: all documents\n[a_tour_of] updating environment: 0 added, 1 changed, 0 removed\n[a_tour_of] reading sources... [100%] index\n[a_tour_of] Merging environment/index files...\n[a_tour_of] ... done (0 todos, 1 index, 0 citations, 0 modules)\n[a_tour_of] Saved pickle file: citations.pickle\n[a_tour_of] pickling environment... done\n[a_tour_of] checking consistency... done\n[a_tour_of] processing SageTutorial_zh_CN.tex... index\n[a_tour_of] resolving references...\n[a_tour_of] writing... done\n[a_tour_of] copying images... interact_screenshot.jpg sin_plot.png circles_plot.png plot_3d.jpg eigen_plot.png\n[a_tour_of] copying TeX support files... done\n[a_tour_of] build succeeded, 1 warning.\nenv </dev/null pool_size=4000000 save_size=50000 extra_mem_top=2000000 xelatex  'SageTutorial_zh_CN.tex'\nThis is XeTeX, Version 3.1415926-2.4-0.9998 (TeX Live 2012)\n restricted \\write18 enabled.\nentering extended mode\n(./SageTutorial_zh_CN.tex\nLaTeX2e <2011/06/27>\nBabel <v3.8m> and hyphenation patterns for english, dumylang, nohyphenation, ge\nrman-x-2012-05-30, ngerman-x-2012-05-30, afrikaans, ancientgreek, ibycus, arabi\nc, armenian, basque, bulgarian, catalan, pinyin, coptic, croatian, czech, danis\nh, dutch, ukenglish, usenglishmax, esperanto, estonian, ethiopic, farsi, finnis\nh, french, friulan, galician, german, ngerman, swissgerman, monogreek, greek, h\nungarian, icelandic, assamese, bengali, gujarati, hindi, kannada, malayalam, ma\nrathi, oriya, panjabi, tamil, telugu, indonesian, interlingua, irish, italian,\nkurmanji, latin, latvian, lithuanian, mongolian, mongolianlmc, bokmal, nynorsk,\n piedmontese, polish, portuguese, romanian, romansh, russian, sanskrit, serbian\n, serbianc, slovak, slovenian, spanish, swedish, turkish, turkmen, ukrainian, u\nppersorbian, welsh, loaded.\n(./sphinxmanual.cls\nDocument Class: sphinxmanual 2009/06/02 Document class (Sphinx manual)\n(/usr/local/texlive/2012/texmf-dist/tex/latex/base/report.cls\nDocument Class: report 2007/10/19 v1.4h Standard LaTeX document class\n(/usr/local/texlive/2012/texmf-dist/tex/latex/base/size10.clo)))\n! Undefined control sequence.\nl.5 \\DeclareUnicodeCharacter\n                            {00A0}{\\nobreakspace}\n?\n! Emergency stop.\nl.5 \\DeclareUnicodeCharacter\n                            {00A0}{\\nobreakspace}\nNo pages of output.\nTranscript written on SageTutorial_zh_CN.log.\nmake: *** [SageTutorial_zh_CN.pdf] Error 1\nTraceback (most recent call last):\n  File \"/usr/local/src/sage/sage-5.10.rc1/devel/sage/doc/common/builder.py\", line 1454, in <module>\n    getattr(get_builder(name), type)()\n  File \"/usr/local/src/sage/sage-5.10.rc1/devel/sage/doc/common/builder.py\", line 208, in pdf\n    raise RuntimeError(\"failed to run $MAKE all-pdf in %s\"%tex_dir)\nRuntimeError: failed to run $MAKE all-pdf in /usr/local/src/sage/sage-5.10.rc1/devel/sage/doc/output/latex/zh_CN/a_tour_of_sage\n```",
    "created_at": "2013-06-06T17:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154981",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:22'></a>With `TexLive 2012`, the error is less strange:

```
sage -docbuild zh_CN/a_tour_of_sage pdf
[a_tour_of] loading translations [zh_CN]... done
[a_tour_of] Compiling the master document
[a_tour_of] building [latex]: all documents
[a_tour_of] updating environment: 0 added, 1 changed, 0 removed
[a_tour_of] reading sources... [100%] index
[a_tour_of] Merging environment/index files...
[a_tour_of] ... done (0 todos, 1 index, 0 citations, 0 modules)
[a_tour_of] Saved pickle file: citations.pickle
[a_tour_of] pickling environment... done
[a_tour_of] checking consistency... done
[a_tour_of] processing SageTutorial_zh_CN.tex... index
[a_tour_of] resolving references...
[a_tour_of] writing... done
[a_tour_of] copying images... interact_screenshot.jpg sin_plot.png circles_plot.png plot_3d.jpg eigen_plot.png
[a_tour_of] copying TeX support files... done
[a_tour_of] build succeeded, 1 warning.
env </dev/null pool_size=4000000 save_size=50000 extra_mem_top=2000000 xelatex  'SageTutorial_zh_CN.tex'
This is XeTeX, Version 3.1415926-2.4-0.9998 (TeX Live 2012)
 restricted \write18 enabled.
entering extended mode
(./SageTutorial_zh_CN.tex
LaTeX2e <2011/06/27>
Babel <v3.8m> and hyphenation patterns for english, dumylang, nohyphenation, ge
rman-x-2012-05-30, ngerman-x-2012-05-30, afrikaans, ancientgreek, ibycus, arabi
c, armenian, basque, bulgarian, catalan, pinyin, coptic, croatian, czech, danis
h, dutch, ukenglish, usenglishmax, esperanto, estonian, ethiopic, farsi, finnis
h, french, friulan, galician, german, ngerman, swissgerman, monogreek, greek, h
ungarian, icelandic, assamese, bengali, gujarati, hindi, kannada, malayalam, ma
rathi, oriya, panjabi, tamil, telugu, indonesian, interlingua, irish, italian,
kurmanji, latin, latvian, lithuanian, mongolian, mongolianlmc, bokmal, nynorsk,
 piedmontese, polish, portuguese, romanian, romansh, russian, sanskrit, serbian
, serbianc, slovak, slovenian, spanish, swedish, turkish, turkmen, ukrainian, u
ppersorbian, welsh, loaded.
(./sphinxmanual.cls
Document Class: sphinxmanual 2009/06/02 Document class (Sphinx manual)
(/usr/local/texlive/2012/texmf-dist/tex/latex/base/report.cls
Document Class: report 2007/10/19 v1.4h Standard LaTeX document class
(/usr/local/texlive/2012/texmf-dist/tex/latex/base/size10.clo)))
! Undefined control sequence.
l.5 \DeclareUnicodeCharacter
                            {00A0}{\nobreakspace}
?
! Emergency stop.
l.5 \DeclareUnicodeCharacter
                            {00A0}{\nobreakspace}
No pages of output.
Transcript written on SageTutorial_zh_CN.log.
make: *** [SageTutorial_zh_CN.pdf] Error 1
Traceback (most recent call last):
  File "/usr/local/src/sage/sage-5.10.rc1/devel/sage/doc/common/builder.py", line 1454, in <module>
    getattr(get_builder(name), type)()
  File "/usr/local/src/sage/sage-5.10.rc1/devel/sage/doc/common/builder.py", line 208, in pdf
    raise RuntimeError("failed to run $MAKE all-pdf in %s"%tex_dir)
RuntimeError: failed to run $MAKE all-pdf in /usr/local/src/sage/sage-5.10.rc1/devel/sage/doc/output/latex/zh_CN/a_tour_of_sage
```



---

archive/issue_comments_154982.json:
```json
{
    "body": "<a id='comment:23'></a>Did you delete the old (cached) latex file? I.e. `rm -rf doc/output` before running the docbuild. It seems that your latex file contains precisely what I disabled...",
    "created_at": "2013-06-06T17:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154982",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'></a>Did you delete the old (cached) latex file? I.e. `rm -rf doc/output` before running the docbuild. It seems that your latex file contains precisely what I disabled...



---

archive/issue_comments_154983.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:23 vbraun]:\n> Did you delete the old (cached) latex file? I.e. `rm -rf doc/output` before running the docbuild. It seems that your latex file contains precisely what I disabled...\n\n\nI just tried this, makes no difference. By the way, `ru/tutorial pdf` builds OK.",
    "created_at": "2013-06-06T18:05:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154983",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:25'></a>Replying to [comment:23 vbraun]:
> Did you delete the old (cached) latex file? I.e. `rm -rf doc/output` before running the docbuild. It seems that your latex file contains precisely what I disabled...


I just tried this, makes no difference. By the way, `ru/tutorial pdf` builds OK.



---

archive/issue_comments_154984.json:
```json
{
    "body": "<a id='comment:26'></a>Sorry, I had the wrong latex file cached. Fixed in the updated patch.",
    "created_at": "2013-06-06T20:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154984",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:26'></a>Sorry, I had the wrong latex file cached. Fixed in the updated patch.



---

archive/issue_comments_154985.json:
```json
{
    "body": "<a id='comment:29'></a>Replying to [comment:26 vbraun]:\n> Sorry, I had the wrong latex file cached. Fixed in the updated patch.\n\n\nOK, it's all good. I was missing system zh, etc, fonts on Debian.",
    "created_at": "2013-06-07T07:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154985",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>Replying to [comment:26 vbraun]:
> Sorry, I had the wrong latex file cached. Fixed in the updated patch.


OK, it's all good. I was missing system zh, etc, fonts on Debian.



---

archive/issue_comments_154986.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n+The attachment is created by \"kehengsite\", whose Chinese name is \u5ed6\u7965.  If you have some good ideas to promote this Sage Chinese document,please tell me throught e-mail(lq52655963`@`163.com). In addition,thanks Nguyen to create a trac account for me!\n+\n+Apply [attachment:trac_12559_tour_chinese.patch]\n \n \n Component: documentation\n```\n",
    "created_at": "2013-06-07T14:30:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154986",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,6 @@
+The attachment is created by "kehengsite", whose Chinese name is 廖祥.  If you have some good ideas to promote this Sage Chinese document,please tell me throught e-mail(lq52655963`@`163.com). In addition,thanks Nguyen to create a trac account for me!
+
+Apply [attachment:trac_12559_tour_chinese.patch]
 
 
 Component: documentation
```




---

archive/issue_comments_154987.json:
```json
{
    "body": "<a id='comment:30'></a>Using `subprocess.check_output()` in the docbuilder is dangerous, it caused #14626. So either you need to be very sure that this cannot happen again or you need to apply a workaround similar to #14626.",
    "created_at": "2013-06-07T14:30:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154987",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>Using `subprocess.check_output()` in the docbuilder is dangerous, it caused #14626. So either you need to be very sure that this cannot happen again or you need to apply a workaround similar to #14626.



---

archive/issue_comments_154988.json:
```json
{
    "body": "<a id='comment:31'></a>Fixed.",
    "created_at": "2013-06-07T15:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154988",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'></a>Fixed.



---

archive/issue_comments_154989.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2013-06-08T03:58:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154989",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_154990.json:
```json
{
    "body": "<a id='comment:32'></a>There are few more or less trivial issues with the text:\n 1) references to Sage are quite outdated\n\n 2) the part corresponding to the \"Tour fo Sage\" has strange formatting (extra sub-headers)\n\n 3) it should be proofread by a native speaker just in case\n\nFixing 1) ought to be done by (with help of) a native speaker, as it's not really clear what's going on there. I'll ask someone to have a look, but he unfortunately doesn't work with Sage. Should I ask for a rough English translation of the 1st part, so that links/refs can be adjusted?\n\nI've also emailed the original author asking if (s)he can help.",
    "created_at": "2013-06-08T03:58:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154990",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:32'></a>There are few more or less trivial issues with the text:
 1) references to Sage are quite outdated

 2) the part corresponding to the "Tour fo Sage" has strange formatting (extra sub-headers)

 3) it should be proofread by a native speaker just in case

Fixing 1) ought to be done by (with help of) a native speaker, as it's not really clear what's going on there. I'll ask someone to have a look, but he unfortunately doesn't work with Sage. Should I ask for a rough English translation of the 1st part, so that links/refs can be adjusted?

I've also emailed the original author asking if (s)he can help.



---

archive/issue_comments_154991.json:
```json
{
    "body": "<a id='comment:33'></a>I don't think its a good idea to translate English->Chinese->English and then edit that as an English speaker ;-)\n\nThe installation instructions should be rewritten to not reference a particular version number (as in http://www.sagemath.org/doc/installation/). And separated into a different page, at least. Ideally we'd have a separate translation of the installation instructions, but that is a bigger task.\n\nAlso, I don't think its really necessary to spend time on typesetting nitpicks in the pdf version. The html output is the one we should be worrying about.",
    "created_at": "2013-06-08T10:50:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154991",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'></a>I don't think its a good idea to translate English->Chinese->English and then edit that as an English speaker ;-)

The installation instructions should be rewritten to not reference a particular version number (as in http://www.sagemath.org/doc/installation/). And separated into a different page, at least. Ideally we'd have a separate translation of the installation instructions, but that is a bigger task.

Also, I don't think its really necessary to spend time on typesetting nitpicks in the pdf version. The html output is the one we should be worrying about.



---

archive/issue_comments_154992.json:
```json
{
    "body": "the rST doc, for review only (it's also in the patch)",
    "created_at": "2013-06-08T17:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154992",
    "user": "https://github.com/dimpase"
}
```

the rST doc, for review only (it's also in the patch)



---

archive/issue_comments_154993.json:
```json
{
    "body": "Attachment [trac_12559_tour_chinese.patch](tarball://root/attachments/some-uuid/ticket12559/trac_12559_tour_chinese.patch) by @vbraun created at 2013-06-18 23:08:52\n\nUpdated patch",
    "created_at": "2013-06-18T23:08:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154993",
    "user": "https://github.com/vbraun"
}
```

Attachment [trac_12559_tour_chinese.patch](tarball://root/attachments/some-uuid/ticket12559/trac_12559_tour_chinese.patch) by @vbraun created at 2013-06-18 23:08:52

Updated patch



---

archive/issue_comments_154994.json:
```json
{
    "body": "<a id='comment:34'></a>Updated with better check for XeTeX",
    "created_at": "2013-06-18T23:09:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154994",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:34'></a>Updated with better check for XeTeX



---

archive/issue_comments_154995.json:
```json
{
    "body": "<a id='comment:35'></a>Replying to [comment:33 vbraun]:\n> I don't think its a good idea to translate English->Chinese->English and then edit that as an English speaker ;-)\n> \n> The installation instructions should be rewritten to not reference a particular version number (as in http://www.sagemath.org/doc/installation/). And separated into a different page, at least. Ideally we'd have a separate translation of the installation instructions, but that is a bigger task.\n\n\nHopefully my student will work on this next month.",
    "created_at": "2013-06-19T09:42:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154995",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:35'></a>Replying to [comment:33 vbraun]:
> I don't think its a good idea to translate English->Chinese->English and then edit that as an English speaker ;-)
> 
> The installation instructions should be rewritten to not reference a particular version number (as in http://www.sagemath.org/doc/installation/). And separated into a different page, at least. Ideally we'd have a separate translation of the installation instructions, but that is a bigger task.


Hopefully my student will work on this next month.



---

archive/issue_events_033923.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33923"
}
```



---

archive/issue_events_033924.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33924"
}
```



---

archive/issue_events_033925.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33925"
}
```



---

archive/issue_events_033926.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33926"
}
```



---

archive/issue_events_033927.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33927"
}
```



---

archive/issue_comments_154996.json:
```json
{
    "body": "Changing keywords from \"\" to \"chinese\".",
    "created_at": "2014-07-18T12:58:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154996",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "chinese".



---

archive/issue_events_033928.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33928"
}
```



---

archive/issue_events_033929.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33929"
}
```



---

archive/issue_comments_154997.json:
```json
{
    "body": "<a id='comment:41'></a>The files seem to be pretty outdated, with many references to Sage 4.8 (sic).\n\n---\nNew commits:",
    "created_at": "2014-08-31T18:48:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154997",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:41'></a>The files seem to be pretty outdated, with many references to Sage 4.8 (sic).

---
New commits:



---

archive/issue_comments_154998.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2014-08-31T18:48:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154998",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_154999.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-17T20:19:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-154999",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155000.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-17T20:23:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155000",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155001.json:
```json
{
    "body": "Changing component from documentation to translations.",
    "created_at": "2014-11-20T16:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155001",
    "user": "https://github.com/kcrisman"
}
```

Changing component from documentation to translations.



---

archive/issue_comments_155002.json:
```json
{
    "body": "<a id='comment:45'></a>A couple comments.  \n* First, do we even care about `zh` versus `zh_CN` and friends?   In which case we may want to change some of our other doc - but I'm not interested in breaking links for this sake.  But thought I'd ask.\n* I agree we should break this out into a (small) separate installation document with updated references.  (Google translate is a lot more powerful than it used to be.)   Hopefully not too hard to do.\n* I'm not quite as worried about it diverging from the \"original\" tour because\n  * the tour is really not THAT useful\n  * our translations always diverge from the \"up-to-date\"\n  * we can think about it as no translation is one-to-one, like the LOTR movies versus the books...\n \n  but if it's important to keep them the same, that will probably mean this stagnates and is only available on the website of the guy.  Honestly, this tour is better than the \"real\" one though I understand why that one is the way it is (mimicking some old Wolfram document, right?).\n* I agree that the subheadings are (mostly) superfluous, and will probably remove them.\n* I note that the plot thing in the \"tour\" is actually completely mysterious in the standard doc.  See #17444.\n\nI have a native speaker who has agreed (in principle) to proofread this (and #9577) as well.",
    "created_at": "2014-12-04T18:21:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155002",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:45'></a>A couple comments.  
* First, do we even care about `zh` versus `zh_CN` and friends?   In which case we may want to change some of our other doc - but I'm not interested in breaking links for this sake.  But thought I'd ask.
* I agree we should break this out into a (small) separate installation document with updated references.  (Google translate is a lot more powerful than it used to be.)   Hopefully not too hard to do.
* I'm not quite as worried about it diverging from the "original" tour because
  * the tour is really not THAT useful
  * our translations always diverge from the "up-to-date"
  * we can think about it as no translation is one-to-one, like the LOTR movies versus the books...
 
  but if it's important to keep them the same, that will probably mean this stagnates and is only available on the website of the guy.  Honestly, this tour is better than the "real" one though I understand why that one is the way it is (mimicking some old Wolfram document, right?).
* I agree that the subheadings are (mostly) superfluous, and will probably remove them.
* I note that the plot thing in the "tour" is actually completely mysterious in the standard doc.  See #17444.

I have a native speaker who has agreed (in principle) to proofread this (and #9577) as well.



---

archive/issue_comments_155003.json:
```json
{
    "body": "<a id='comment:46'></a>I'm having *exactly* the same pdf build problem Dima had in the now-vanquished comment:27.    I do have `xelatex` and\n\n```\n$ latex -v\npdfTeX 3.1415926-2.4-1.40.13 (TeX Live 2012)\nkpathsea version 6.1.0\nCopyright 2012 Peter Breitenlohner (eTeX)/Han The Thanh (pdfTeX).\nThere is NO warranty.  Redistribution of this software is\ncovered by the terms of both the pdfTeX copyright and\nthe Lesser GNU General Public License.\nFor more information about these matters, see the file\nnamed COPYING and the pdfTeX source.\nPrimary author of pdfTeX: Peter Breitenlohner (eTeX)/Han The Thanh (pdfTeX).\nCompiled with libpng 1.5.10; using libpng 1.5.10\nCompiled with zlib 1.2.7; using zlib 1.2.7\nCompiled with xpdf version 3.03\n```\nI don't know how to update these fonts, browsing tex.SX left me unenlightened.",
    "created_at": "2014-12-04T20:11:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155003",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:46'></a>I'm having *exactly* the same pdf build problem Dima had in the now-vanquished comment:27.    I do have `xelatex` and

```
$ latex -v
pdfTeX 3.1415926-2.4-1.40.13 (TeX Live 2012)
kpathsea version 6.1.0
Copyright 2012 Peter Breitenlohner (eTeX)/Han The Thanh (pdfTeX).
There is NO warranty.  Redistribution of this software is
covered by the terms of both the pdfTeX copyright and
the Lesser GNU General Public License.
For more information about these matters, see the file
named COPYING and the pdfTeX source.
Primary author of pdfTeX: Peter Breitenlohner (eTeX)/Han The Thanh (pdfTeX).
Compiled with libpng 1.5.10; using libpng 1.5.10
Compiled with zlib 1.2.7; using zlib 1.2.7
Compiled with xpdf version 3.03
```
I don't know how to update these fonts, browsing tex.SX left me unenlightened.



---

archive/issue_comments_155004.json:
```json
{
    "body": "<a id='comment:47'></a>Incidentally, in the installation bit, I think it's not so horrible if we have old version names in the thing, as long as it's clear those are *samples*.  However, the reference to Cygwin needs to go, since it's not exactly easy even though it's now more or less supported.\n\nAlso, I think the bottom bit about versions of the document and the second paragraph at the top about the author's own reasons for doing it, while both okay, are not really useful.  I'm not sure how to interpret the CC-BY-SA, since there is no actual attribution in the document of the author!",
    "created_at": "2014-12-04T20:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155004",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:47'></a>Incidentally, in the installation bit, I think it's not so horrible if we have old version names in the thing, as long as it's clear those are *samples*.  However, the reference to Cygwin needs to go, since it's not exactly easy even though it's now more or less supported.

Also, I think the bottom bit about versions of the document and the second paragraph at the top about the author's own reasons for doing it, while both okay, are not really useful.  I'm not sure how to interpret the CC-BY-SA, since there is no actual attribution in the document of the author!



---

archive/issue_comments_155005.json:
```json
{
    "body": "<a id='comment:48'></a>Note the author's gh site seems to be https://github.com/kehengsite\n\n---\nNew commits:",
    "created_at": "2014-12-04T20:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155005",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:48'></a>Note the author's gh site seems to be https://github.com/kehengsite

---
New commits:



---

archive/issue_comments_155006.json:
```json
{
    "body": "<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-04T20:21:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155006",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155007.json:
```json
{
    "body": "<a id='comment:50'></a>I think I got everything but the original things Dima pointed out.  So need yet to:\n>  1) references to Sage are quite outdated\n\nIn some fashion fix this;\n>  2) the part corresponding to the \"Tour fo Sage\" has strange formatting (extra sub-headers)\n\nFix this; and\n>  3) it should be proofread by a native speaker just in case\n\nDo this.\n\nOh, and also probably change the project name since the \"tutorial\" is #9577!",
    "created_at": "2014-12-04T20:24:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155007",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:50'></a>I think I got everything but the original things Dima pointed out.  So need yet to:
>  1) references to Sage are quite outdated

In some fashion fix this;
>  2) the part corresponding to the "Tour fo Sage" has strange formatting (extra sub-headers)

Fix this; and
>  3) it should be proofread by a native speaker just in case

Do this.

Oh, and also probably change the project name since the "tutorial" is #9577!



---

archive/issue_comments_155008.json:
```json
{
    "body": "<a id='comment:51'></a>I have pdf success!  The real problem is that TeXlive 2012 assumes some Windows default fonts.  Unfortunately, those are different from both the Linux defaults and the Mac defaults, which are *themselves* not the same!\n\n```diff\n\n--- a/src/doc/zh_CN/a_tour_of_sage/conf.py\n+++ b/src/doc/zh_CN/a_tour_of_sage/conf.py\n@@ -41,9 +41,12 @@ latex_elements['utf8extra'] = ''\n \n latex_elements['preamble'] = \"\"\"\n \\usepackage[noindent,UTF8]{ctexcap}\n-\\setCJKmainfont{AR PL UMing CN}\n-\\setCJKsansfont{WenQuanYi Zen Hei}\n-\\setCJKmonofont{WenQuanYi Zen Hei Mono}\n+\\setCJKmainfont[BoldFont=STHeiti,ItalicFont=STKaiti]{STSong}\n+\\setCJKsansfont[BoldFont=STHeiti]{STXihei}\n+\\setCJKmonofont{STFangsong}\n+%\\setCJKmainfont{AR PL UMing CN}\n+%\\setCJKsansfont{WenQuanYi Zen Hei}\n+%\\setCJKmonofont{WenQuanYi Zen Hei Mono}\n \\usepackage{amsmath}\n \\usepackage{amssymb}\n \"\"\"\n```\nI couldn't find a good font that both support without extra work.  Unfortunately, that means that Volker's workaround for auto-detecting xelatex isn't good enough, because even with this not all of them will work the same.  What do you guys think?\n\nEdit: I may have a solution using the `fallback` option that at least some cjk packages have.  Editit: or maybe not, that appears to be a fallback for characters not in the font, not for a *missing* font... I'll try it, anyway.",
    "created_at": "2014-12-05T15:08:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155008",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:51'></a>I have pdf success!  The real problem is that TeXlive 2012 assumes some Windows default fonts.  Unfortunately, those are different from both the Linux defaults and the Mac defaults, which are *themselves* not the same!

```diff

--- a/src/doc/zh_CN/a_tour_of_sage/conf.py
+++ b/src/doc/zh_CN/a_tour_of_sage/conf.py
@@ -41,9 +41,12 @@ latex_elements['utf8extra'] = ''
 
 latex_elements['preamble'] = """
 \usepackage[noindent,UTF8]{ctexcap}
-\setCJKmainfont{AR PL UMing CN}
-\setCJKsansfont{WenQuanYi Zen Hei}
-\setCJKmonofont{WenQuanYi Zen Hei Mono}
+\setCJKmainfont[BoldFont=STHeiti,ItalicFont=STKaiti]{STSong}
+\setCJKsansfont[BoldFont=STHeiti]{STXihei}
+\setCJKmonofont{STFangsong}
+%\setCJKmainfont{AR PL UMing CN}
+%\setCJKsansfont{WenQuanYi Zen Hei}
+%\setCJKmonofont{WenQuanYi Zen Hei Mono}
 \usepackage{amsmath}
 \usepackage{amssymb}
 """
```
I couldn't find a good font that both support without extra work.  Unfortunately, that means that Volker's workaround for auto-detecting xelatex isn't good enough, because even with this not all of them will work the same.  What do you guys think?

Edit: I may have a solution using the `fallback` option that at least some cjk packages have.  Editit: or maybe not, that appears to be a fallback for characters not in the font, not for a *missing* font... I'll try it, anyway.



---

archive/issue_comments_155009.json:
```json
{
    "body": "<a id='comment:52'></a>See the answer to [this tex.SX question](http://tex.stackexchange.com/questions/215564/what-chinese-fonts-can-i-rely-on-to-be-in-mac-and-linux) for what would be a solution if one had recent enough TeX Live, perhaps.",
    "created_at": "2014-12-05T16:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155009",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:52'></a>See the answer to [this tex.SX question](http://tex.stackexchange.com/questions/215564/what-chinese-fonts-can-i-rely-on-to-be-in-mac-and-linux) for what would be a solution if one had recent enough TeX Live, perhaps.



---

archive/issue_comments_155010.json:
```json
{
    "body": "<a id='comment:53'></a>Okay, update: Linux Chinese fonts are a mess and not standardized, Mac seems to share nearly zero pre-installed ones with them anyway, and the only portable solution is to require everyone to upgrade to TeX Live 2014!  (Or so it seems.)",
    "created_at": "2014-12-05T17:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155010",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:53'></a>Okay, update: Linux Chinese fonts are a mess and not standardized, Mac seems to share nearly zero pre-installed ones with them anyway, and the only portable solution is to require everyone to upgrade to TeX Live 2014!  (Or so it seems.)



---

archive/issue_comments_155011.json:
```json
{
    "body": "<a id='comment:55'></a>Volker, do you think we could modify `enable_if_necessary` in src/doc/common/CJKsupport.py in such a way to check for TeX Live 2014 and just require that for building pdf here (and/or whatever fonts are eventually hard-coded in)?",
    "created_at": "2014-12-05T18:21:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155011",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:55'></a>Volker, do you think we could modify `enable_if_necessary` in src/doc/common/CJKsupport.py in such a way to check for TeX Live 2014 and just require that for building pdf here (and/or whatever fonts are eventually hard-coded in)?



---

archive/issue_comments_155012.json:
```json
{
    "body": "<a id='comment:56'></a>This is very much a hack, but should guarantee at least a one-stop shop for certain Mac and Linux - although I note sage.math does not have this TeX Live version.  Does the build machine have it?\n\n```diff\ndiff --git a/src/doc/common/CJKsupport.py b/src/doc/common/CJKsupport.py\nindex 4635793..209f409 100644\n--- a/src/doc/common/CJKsupport.py\n+++ b/src/doc/common/CJKsupport.py\n@@ -19,11 +19,17 @@ def enable_if_necessary(lang, latex_directory):\n         print \"which you do not have installed\"\n         disable(latex_directory, lang)\n         return False\n+    if not have_texlive_2014():\n+        print \"Disabling pdf documentation for {0} because it requires TeX Live 2014+\".for\n+        print \"by default, which you do not have installed\"\n+        disable(latex_directory, lang)\n+        return False\n     fixup_makefile(os.path.join(latex_directory, 'Makefile'), lang)\n     return True\n \n \n HAVE_XELATEX = None\n+HAVE_TEXLIVE_2014 = None\n \n def have_xelatex():\n     \"\"\"\n@@ -43,6 +49,26 @@ def have_xelatex():\n             HAVE_XELATEX = False\n     return HAVE_XELATEX\n \n+def have_texlive_2014():\n+    \"\"\"\n+    Return whether TeX Live 2014+ is installed, so that you\n+    have the Fandol fonts\n+\n+    EXAMPLES::\n+\n+        sage: import os, sys; sys.path.append(os.environ['SAGE_DOC']+'/common/'); import C\n+        sage: CJKsupport.have_texlive_2014() in [True, False]\n+        True\n+    \"\"\"\n+    global HAVE_TEXLIVE_2014\n+    if HAVE_TEXLIVE_2014 is None:\n+        try:\n+            S = check_output([\"kpsewhich\", \"--var-value\", \"TEXMFDIST\"])\n+            fontdir = os.path.join(S.split()[0],'fonts/opentype/public')\n+            HAVE_TEXLIVE_2014 = 'fandol' in check_output(['ls', fontdir])\n+         except OSError:\n+            HAVE_TEXLIVE_2014 = False\n+\n \n def fixup_makefile(makefile, lang):\n     \"\"\"\n@@ -63,7 +89,7 @@ DISABLED_LATEX_FILE = r\"\"\"\n \\begin{document}\n \n Running LaTeX for documents containing CJK fonts requires XeTeX, which\n-you do not have installed. Consult your latex installation manual to\n+you may not have installed. Consult your latex installation manual to\n find out how you can add it.\n \\begin{itemize}\n \\item \n@@ -71,6 +97,12 @@ find out how you can add it.\n   \\texttt{tlmgr install common-xetex}\n \\end{itemize}\n \n+If you have XeTeX but are using TeXlive before 2014, or another package,\n+you will need to modify src/doc/common/CJKsupport.py by having the function\n+have_texlive_2014 return True, and replace the default fonts in the conf.py\n+for the file you are compiling to fonts available on your system or\n+latex installation.\n+\n \\end{document}\n \"\"\"\n```",
    "created_at": "2014-12-06T04:15:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155012",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:56'></a>This is very much a hack, but should guarantee at least a one-stop shop for certain Mac and Linux - although I note sage.math does not have this TeX Live version.  Does the build machine have it?

```diff
diff --git a/src/doc/common/CJKsupport.py b/src/doc/common/CJKsupport.py
index 4635793..209f409 100644
--- a/src/doc/common/CJKsupport.py
+++ b/src/doc/common/CJKsupport.py
@@ -19,11 +19,17 @@ def enable_if_necessary(lang, latex_directory):
         print "which you do not have installed"
         disable(latex_directory, lang)
         return False
+    if not have_texlive_2014():
+        print "Disabling pdf documentation for {0} because it requires TeX Live 2014+".for
+        print "by default, which you do not have installed"
+        disable(latex_directory, lang)
+        return False
     fixup_makefile(os.path.join(latex_directory, 'Makefile'), lang)
     return True
 
 
 HAVE_XELATEX = None
+HAVE_TEXLIVE_2014 = None
 
 def have_xelatex():
     """
@@ -43,6 +49,26 @@ def have_xelatex():
             HAVE_XELATEX = False
     return HAVE_XELATEX
 
+def have_texlive_2014():
+    """
+    Return whether TeX Live 2014+ is installed, so that you
+    have the Fandol fonts
+
+    EXAMPLES::
+
+        sage: import os, sys; sys.path.append(os.environ['SAGE_DOC']+'/common/'); import C
+        sage: CJKsupport.have_texlive_2014() in [True, False]
+        True
+    """
+    global HAVE_TEXLIVE_2014
+    if HAVE_TEXLIVE_2014 is None:
+        try:
+            S = check_output(["kpsewhich", "--var-value", "TEXMFDIST"])
+            fontdir = os.path.join(S.split()[0],'fonts/opentype/public')
+            HAVE_TEXLIVE_2014 = 'fandol' in check_output(['ls', fontdir])
+         except OSError:
+            HAVE_TEXLIVE_2014 = False
+
 
 def fixup_makefile(makefile, lang):
     """
@@ -63,7 +89,7 @@ DISABLED_LATEX_FILE = r"""
 \begin{document}
 
 Running LaTeX for documents containing CJK fonts requires XeTeX, which
-you do not have installed. Consult your latex installation manual to
+you may not have installed. Consult your latex installation manual to
 find out how you can add it.
 \begin{itemize}
 \item 
@@ -71,6 +97,12 @@ find out how you can add it.
   \texttt{tlmgr install common-xetex}
 \end{itemize}
 
+If you have XeTeX but are using TeXlive before 2014, or another package,
+you will need to modify src/doc/common/CJKsupport.py by having the function
+have_texlive_2014 return True, and replace the default fonts in the conf.py
+for the file you are compiling to fonts available on your system or
+latex installation.
+
 \end{document}
 """
```



---

archive/issue_events_033930.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-17T12:07:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33930"
}
```



---

archive/issue_events_033931.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-17T12:07:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33931"
}
```



---

archive/issue_events_033932.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-28T20:07:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33932"
}
```



---

archive/issue_events_033933.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-28T20:07:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33933"
}
```



---

archive/issue_comments_155013.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n+The attachment is created by \"kehengsite\", whose Chinese name is \u5ed6\u7965.  If you have some good ideas to promote this Sage Chinese document, please tell me throught e-mail (lq52655963`@`163.com). In addition, thanks Nguyen to create a trac account for me!\n \n \n Component: documentation\n```\n",
    "created_at": "2015-10-28T20:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155013",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,4 @@
+The attachment is created by "kehengsite", whose Chinese name is 廖祥.  If you have some good ideas to promote this Sage Chinese document, please tell me throught e-mail (lq52655963`@`163.com). In addition, thanks Nguyen to create a trac account for me!
 
 
 Component: documentation
```




---

archive/issue_comments_155014.json:
```json
{
    "body": "<a id='comment:59'></a>I tried to use the same trick as for japanese..\n\n---\nNew commits:",
    "created_at": "2015-11-09T08:48:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155014",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:59'></a>I tried to use the same trick as for japanese..

---
New commits:



---

archive/issue_comments_155015.json:
```json
{
    "body": "<a id='comment:60'></a>\n```\n+        For the special case of the ja docs, run 'all-pdf-ja(ex,to run\n+        platex)' there.\n```\nShould this also read the zh docs?\n\nIf you found a trick that works on Mac and at least some Linux with pdf, that would be very good indeed!  Make sure it works on both.",
    "created_at": "2015-11-09T17:52:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155015",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:60'></a>
```
+        For the special case of the ja docs, run 'all-pdf-ja(ex,to run
+        platex)' there.
```
Should this also read the zh docs?

If you found a trick that works on Mac and at least some Linux with pdf, that would be very good indeed!  Make sure it works on both.



---

archive/issue_events_033934.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-12-30T18:14:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33934"
}
```



---

archive/issue_events_033935.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-12-30T18:14:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33935"
}
```



---

archive/issue_comments_155016.json:
```json
{
    "body": "<a id='comment:62'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-22T14:19:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155016",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:62'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_155017.json:
```json
{
    "body": "<a id='comment:63'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-25T08:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12559#issuecomment-155017",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:63'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_033936.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-06-08T20:00:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33936"
}
```



---

archive/issue_events_033937.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-06-08T20:00:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12559",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12559#event-33937"
}
```
