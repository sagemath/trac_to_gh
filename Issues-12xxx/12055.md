# Issue 12055: Upgrade PALP

archive/issues_011883.json:
```json
{
    "assignees": [
        "https://github.com/aghitza"
    ],
    "body": "This ticket is about upgrading to PALP-2.0. \n\nThe new spkg builds PALP multiple times with different values for the maximal dimension `POLY_Dmax`. This is useful because we want high dimension limits to be general but some features only work with particular low dimension limits, for example the 4-d Hodge database requires PALP to be built with `PALP_Dmax=4`.\n\n**spkg** superseded by #7071 (which provides palp-2.0.p1.spkg)\n\n**Apply** [attachment: trac-12055-SAGELOCAL_BIN.patch](https://github.com/sagemath/sage/files/ticket12055/trac-12055-SAGELOCAL_BIN.patch.gz) to the SAGE_LOCAL/bin repository. \n\nCC:  @novoselt @kiwifb\n\nReviewer: **Andrey Novoseltsev, Jeroen Demeyer, R. Andrew Ohana**\n\nAuthor: **Volker Braun**\n\nMerged: **sage-5.0.beta7**\n\nComponent: **algebraic geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12055_\n\n",
    "closed_at": "2012-03-04T21:19:10Z",
    "created_at": "2011-11-19T15:51:59Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade PALP",
    "type": "issue",
    "updated_at": "2012-04-26T22:17:43Z",
    "url": "https://github.com/sagemath/sage/issues/12055",
    "user": "https://github.com/vbraun"
}
```
This ticket is about upgrading to PALP-2.0. 

The new spkg builds PALP multiple times with different values for the maximal dimension `POLY_Dmax`. This is useful because we want high dimension limits to be general but some features only work with particular low dimension limits, for example the 4-d Hodge database requires PALP to be built with `PALP_Dmax=4`.

**spkg** superseded by #7071 (which provides palp-2.0.p1.spkg)

**Apply** [attachment: trac-12055-SAGELOCAL_BIN.patch](https://github.com/sagemath/sage/files/ticket12055/trac-12055-SAGELOCAL_BIN.patch.gz) to the SAGE_LOCAL/bin repository. 

CC:  @novoselt @kiwifb

Reviewer: **Andrey Novoseltsev, Jeroen Demeyer, R. Andrew Ohana**

Author: **Volker Braun**

Merged: **sage-5.0.beta7**

Component: **algebraic geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/12055_





---

archive/issue_events_163233.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-11-19T15:51:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163233"
}
```



---

archive/issue_events_163234.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-11-19T15:51:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163234"
}
```



---

archive/issue_events_163235.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-11-19T15:51:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163235"
}
```



---

archive/issue_events_163236.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-11-19T15:51:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163236"
}
```



---

archive/issue_events_163237.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2011-11-19T15:51:59Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "subject": "https://github.com/vbraun",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163237"
}
```



---

archive/issue_events_163238.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-11-19T16:00:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163238"
}
```



---

archive/issue_events_163239.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-11-19T16:00:17Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "title_is": "Upgrade PALP",
    "title_was": "Upgrade Palp",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163239"
}
```



---

archive/issue_comments_128313.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,5 @@\n \n The new spkg builds PALP multiple times with different values for the maximal dimension `POLY_Dmax`. This is useful because we want high dimension limits to be general but some features only work with particular low dimension limits, for example the 4-d Hodge database requires PALP to be built with `PALP_Dmax=4`.\n \n- \n+Updated spkg is here: \n+http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg\n``````\n",
    "created_at": "2011-11-19T16:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128313",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,5 @@
 
 The new spkg builds PALP multiple times with different values for the maximal dimension `POLY_Dmax`. This is useful because we want high dimension limits to be general but some features only work with particular low dimension limits, for example the 4-d Hodge database requires PALP to be built with `PALP_Dmax=4`.
 
- 
+Updated spkg is here: 
+http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg
``````




---

archive/issue_comments_128314.json:
```json
{
    "body": "Reviewer: **Andrey Novoseltsev**",
    "created_at": "2011-11-20T01:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128314",
    "user": "https://github.com/novoselt"
}
```

Reviewer: **Andrey Novoseltsev**



---

archive/issue_comments_128315.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nLooks good to me and seems to work fine! Just a couple of comments on spkg-install:\n\nLine 3: \"the the\"\n\nLines 34 and 45: since there is now mori.x application, perhaps it should be added?",
    "created_at": "2011-11-20T01:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128315",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:3" align="right">comment:3</div>

Looks good to me and seems to work fine! Just a couple of comments on spkg-install:

Line 3: "the the"

Lines 34 and 45: since there is now mori.x application, perhaps it should be added?



---

archive/issue_comments_128316.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI don't foresee any use of mori.x in Sage, what we already have in the toric geometry package is more general (e.g. the fan need not be simplicial to compute the Kahler cone, plus no dimension/number of ray restrictions). Max's students implemented a expect interface to Singular in C to compute the Stanley-Reisner ideal, but Sage has libSingular. Though I guess we might just as well install it since it is built by default. I've updated the spkg accordingly.",
    "created_at": "2011-11-20T11:33:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128316",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:4" align="right">comment:4</div>

I don't foresee any use of mori.x in Sage, what we already have in the toric geometry package is more general (e.g. the fan need not be simplicial to compute the Kahler cone, plus no dimension/number of ray restrictions). Max's students implemented a expect interface to Singular in C to compute the Stanley-Reisner ideal, but Sage has libSingular. Though I guess we might just as well install it since it is built by default. I've updated the spkg accordingly.



---

archive/issue_events_163240.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2011-11-20T22:29:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163240"
}
```



---

archive/issue_events_163241.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2011-11-20T22:29:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163241"
}
```



---

archive/issue_events_163242.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-22T14:13:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163242"
}
```



---

archive/issue_events_163243.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-22T14:13:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163243"
}
```



---

archive/issue_comments_128317.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nCould this have caused\n\n```\nThe following tests failed:\n\n        sage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py # 94 doctests failed\n        sage -t  -force_lib devel/sage/sage/schemes/generic/fano_toric_variety.py # 18 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 1317.4 seconds\n```\n\nJust a few examples of the failures:\n\n```\nsage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-xyzzy/sage/geometry/lattice_polytope.py\", line 4347:\n    sage: print s\nExpected:\n    M:27 8 N:7 6  codim=2 #part=5\n     P:0 V:2 4 5       0sec  0cpu\n     P:2 V:3 4 5       0sec  0cpu\n     P:3 V:4 5       0sec  0cpu\n    np=3 d:1 p:1    0sec     0cpu\nGot:\n    M:27 8 N:7 6  codim=2 #part=0\n    np=0 d:0 p:0    0sec     0cpu\n    <BLANKLINE>\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-xyzzy/sage/geometry/lattice_polytope.py\", line 4353:\n    sage: lattice_polytope._read_nef_x_partitions(s)\nExpected:\n    [[2, 4, 5], [3, 4, 5], [4, 5]]\nGot:\n    []\n**********************************************************************\nsage -t  -force_lib devel/sage/sage/schemes/generic/fano_toric_variety.py\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-xyzzy/sage/schemes/generic/fano_toric_variety.py\", line 1098:\n    sage: np = p.nef_partitions()[1]\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_13[3]>\", line 1, in <module>\n        np = p.nef_partitions()[Integer(1)]###line 1098:\n    sage: np = p.nef_partitions()[1]\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/lib/python/site-packages/sage/geometry/lattice_polytope.py\", line 2128, in nef_partitions\n        self._read_nef_partitions(self.nef_x(keys))\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/lib/python/site-packages/sage/geometry/lattice_polytope.py\", line 2162, in nef_x\n        return self._palp(\"nef.x -f \" + keys)\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/lib/python/site-packages/sage/geometry/lattice_polytope.py\", line 991, in _palp\n        fn = _palp(command, [self], reduce_dimension)\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/lib/python/site-packages/sage/geometry/lattice_polytope.py\", line 4322, in _palp\n        + \"\\nOutput:\\n%s\") % (command, err)\n    RuntimeError: Error executing \"nef.x -f -N -V -D -P -p\" for a polytope sequence!\n    Output:\n    nef.x: Nefpart.c:551: Initial_Conditions: Assertion `(_Y[0].X[0][0] == 1) || (_Y[0].X[0][0] == -1)' failed.\n    Aborted\n\n**********************************************************************\n```",
    "created_at": "2011-11-22T14:13:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128317",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Could this have caused

```
The following tests failed:

        sage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py # 94 doctests failed
        sage -t  -force_lib devel/sage/sage/schemes/generic/fano_toric_variety.py # 18 doctests failed
----------------------------------------------------------------------
Total time for all tests: 1317.4 seconds
```

Just a few examples of the failures:

```
sage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-xyzzy/sage/geometry/lattice_polytope.py", line 4347:
    sage: print s
Expected:
    M:27 8 N:7 6  codim=2 #part=5
     P:0 V:2 4 5       0sec  0cpu
     P:2 V:3 4 5       0sec  0cpu
     P:3 V:4 5       0sec  0cpu
    np=3 d:1 p:1    0sec     0cpu
Got:
    M:27 8 N:7 6  codim=2 #part=0
    np=0 d:0 p:0    0sec     0cpu
    <BLANKLINE>
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-xyzzy/sage/geometry/lattice_polytope.py", line 4353:
    sage: lattice_polytope._read_nef_x_partitions(s)
Expected:
    [[2, 4, 5], [3, 4, 5], [4, 5]]
Got:
    []
**********************************************************************
sage -t  -force_lib devel/sage/sage/schemes/generic/fano_toric_variety.py
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-xyzzy/sage/schemes/generic/fano_toric_variety.py", line 1098:
    sage: np = p.nef_partitions()[1]
Exception raised:
    Traceback (most recent call last):
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_13[3]>", line 1, in <module>
        np = p.nef_partitions()[Integer(1)]###line 1098:
    sage: np = p.nef_partitions()[1]
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/lib/python/site-packages/sage/geometry/lattice_polytope.py", line 2128, in nef_partitions
        self._read_nef_partitions(self.nef_x(keys))
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/lib/python/site-packages/sage/geometry/lattice_polytope.py", line 2162, in nef_x
        return self._palp("nef.x -f " + keys)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/lib/python/site-packages/sage/geometry/lattice_polytope.py", line 991, in _palp
        fn = _palp(command, [self], reduce_dimension)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/local/lib/python/site-packages/sage/geometry/lattice_polytope.py", line 4322, in _palp
        + "\nOutput:\n%s") % (command, err)
    RuntimeError: Error executing "nef.x -f -N -V -D -P -p" for a polytope sequence!
    Output:
    nef.x: Nefpart.c:551: Initial_Conditions: Assertion `(_Y[0].X[0][0] == 1) || (_Y[0].X[0][0] == -1)' failed.
    Aborted

**********************************************************************
```



---

archive/issue_comments_128318.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI have done the following: unpack sage-4.8.alpha1.tar, remove old PALP package from standard and add Volker's new one. Then run make ptestlong and I didn't see any failures...",
    "created_at": "2011-11-22T14:57:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128318",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:7" align="right">comment:7</div>

I have done the following: unpack sage-4.8.alpha1.tar, remove old PALP package from standard and add Volker's new one. Then run make ptestlong and I didn't see any failures...



---

archive/issue_comments_128319.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nIn particular the very first error shows that PALP just does not work correctly anymore, i.e. it is not some kind of an ordering/parsing issue.\n\nI have just rerun tests on `lattice_polytope` separately - they still pass.\n\nCan it be some kind of a platform issue that prevents new version of PALP from building? The package install script is quite simple and seems to do all it is trying to do just fine.",
    "created_at": "2011-11-22T15:06:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128319",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:8" align="right">comment:8</div>

In particular the very first error shows that PALP just does not work correctly anymore, i.e. it is not some kind of an ordering/parsing issue.

I have just rerun tests on `lattice_polytope` separately - they still pass.

Can it be some kind of a platform issue that prevents new version of PALP from building? The package install script is quite simple and seems to do all it is trying to do just fine.



---

archive/issue_events_163244.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2011-11-22T15:06:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163244"
}
```



---

archive/issue_events_163245.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2011-11-22T15:06:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163245"
}
```



---

archive/issue_comments_128320.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nJeroen, this is again on sage.math, right? It does work for me on sage.math:\n\n```\nvbraun@sage:~/Sage/sage-4.8.alpha2$ ./sage -t --long devel/sage/sage/geometry/lattice_polytope.py \nsage -t --long \"devel/sage/sage/geometry/lattice_polytope.py\"\n\t [52.5 s]\nvbraun@sage:~/Sage/sage-4.8.alpha2$ ./sage -t --long devel/sage/sage/schemes/generic/fano_toric_variety.py \nsage -t --long \"devel/sage/sage/schemes/generic/fano_toric_variety.py\"\n\t [22.9 s]\n```\nGiven the mysterious (at least to me) build failure for R, did you get any other strange errors while testing? It could be a hardware problem. But if R and PALP are the only two issues then its unlikely that I would be on both tickets....",
    "created_at": "2011-11-22T15:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128320",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9" align="right">comment:9</div>

Jeroen, this is again on sage.math, right? It does work for me on sage.math:

```
vbraun@sage:~/Sage/sage-4.8.alpha2$ ./sage -t --long devel/sage/sage/geometry/lattice_polytope.py 
sage -t --long "devel/sage/sage/geometry/lattice_polytope.py"
	 [52.5 s]
vbraun@sage:~/Sage/sage-4.8.alpha2$ ./sage -t --long devel/sage/sage/schemes/generic/fano_toric_variety.py 
sage -t --long "devel/sage/sage/schemes/generic/fano_toric_variety.py"
	 [22.9 s]
```
Given the mysterious (at least to me) build failure for R, did you get any other strange errors while testing? It could be a hardware problem. But if R and PALP are the only two issues then its unlikely that I would be on both tickets....



---

archive/issue_comments_128321.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@vbraun](#comment:9):\n> Jeroen, this is again on sage.math, right?\n\nYes.\n\n> Given the mysterious (at least to me) build failure for R, did you get any other strange errors while testing?\n\nNo, only the lattice polytope stuff.  Of course it could be a build failure for PALP, that PALP somehow miscompiled.\n\n> It could be a hardware problem.\n\nThen other people on sage.math would find problems.\n\n> But if R and PALP are the only two issues then its unlikely that I would be on both tickets....\n\n??? I don't understand what you mean here.\n\nBut yes, R and PALP were the only two issues.",
    "created_at": "2011-11-22T15:51:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128321",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@vbraun](#comment:9):
> Jeroen, this is again on sage.math, right?

Yes.

> Given the mysterious (at least to me) build failure for R, did you get any other strange errors while testing?

No, only the lattice polytope stuff.  Of course it could be a build failure for PALP, that PALP somehow miscompiled.

> It could be a hardware problem.

Then other people on sage.math would find problems.

> But if R and PALP are the only two issues then its unlikely that I would be on both tickets....

??? I don't understand what you mean here.

But yes, R and PALP were the only two issues.



---

archive/issue_comments_128322.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI am now building sage-4.8.alpha2 with *only* the new R and PALP packages, no other changes.  I will report back later.",
    "created_at": "2011-11-22T16:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128322",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

I am now building sage-4.8.alpha2 with *only* the new R and PALP packages, no other changes.  I will report back later.



---

archive/issue_comments_128323.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@jdemeyer](#comment:11):\n> I am now building sage-4.8.alpha2 with *only* the new R and PALP packages, no other changes.\n\nIt works now...\n\nHowever, the new PALP adds many files in `SAGE_ROOT/local/bin` which should be added to `.hgignore`:\n\n```\n? class-11d.x\n? class-4d.x\n? class-5d.x\n? class-6d.x\n? cws-11d.x\n? cws-4d.x\n? cws-5d.x\n? cws-6d.x\n? mori-11d.x\n? mori-4d.x\n? mori-5d.x\n? mori-6d.x\n? mori.x\n? nef-11d.x\n? nef-4d.x\n? nef-5d.x\n? nef-6d.x\n? poly-11d.x\n? poly-4d.x\n? poly-5d.x\n? poly-6d.x\n```",
    "created_at": "2011-11-23T20:40:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128323",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@jdemeyer](#comment:11):
> I am now building sage-4.8.alpha2 with *only* the new R and PALP packages, no other changes.

It works now...

However, the new PALP adds many files in `SAGE_ROOT/local/bin` which should be added to `.hgignore`:

```
? class-11d.x
? class-4d.x
? class-5d.x
? class-6d.x
? cws-11d.x
? cws-4d.x
? cws-5d.x
? cws-6d.x
? mori-11d.x
? mori-4d.x
? mori-5d.x
? mori-6d.x
? mori.x
? nef-11d.x
? nef-4d.x
? nef-5d.x
? nef-6d.x
? poly-11d.x
? poly-4d.x
? poly-5d.x
? poly-6d.x
```



---

archive/issue_comments_128324.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAlso, could you change the following permissions in the spkg (they would better be 0755):\n\n```\n445673875    0 drwx------   4 jdemeyer jdemeyer      140 Nov 20 11:02 .\n445673877    0 drwx------   2 jdemeyer jdemeyer      600 Jul  1 17:25 ./src\n```",
    "created_at": "2011-11-23T21:05:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128324",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Also, could you change the following permissions in the spkg (they would better be 0755):

```
445673875    0 drwx------   4 jdemeyer jdemeyer      140 Nov 20 11:02 .
445673877    0 drwx------   2 jdemeyer jdemeyer      600 Jul  1 17:25 ./src
```



---

archive/issue_comments_128325.json:
```json
{
    "body": "Initial patch, for SAGE_LOCAL/bin",
    "created_at": "2011-11-24T12:11:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128325",
    "user": "https://github.com/vbraun"
}
```

Initial patch, for SAGE_LOCAL/bin



---

archive/issue_comments_128326.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAttachment: **[trac-12055-SAGELOCAL_BIN.patch.gz](https://github.com/sagemath/sage/files/ticket12055/trac-12055-SAGELOCAL_BIN.patch.gz)**\n\nThe permissions are fine here:\n\n```\n[vbraun@volker-desktop r-2.14.0.p0]$ ll\ntotal 164\ndrwxr-xr-x.  2 vbraun vbraun   4096 Nov 19 22:09 patches\n-rw-r--r--.  1 vbraun vbraun 135549 Dec 27  2009 rpy2-2.0.8.spkg\n-rwxr-xr-x.  1 vbraun vbraun    220 Jan 26  2008 spkg-check\n-rwxr-xr-x.  1 vbraun vbraun   7097 Sep 25  2010 spkg-install\n-rw-r--r--.  1 vbraun vbraun   4720 Nov 23 11:32 SPKG.txt\ndrwxr-xr-x. 10 vbraun vbraun   4096 Oct 31 08:08 src\n[vbraun@volker-desktop r-2.14.0.p0]$ umask\n0002\n```\nJeroen, can you check your umask / mount point options?",
    "created_at": "2011-11-24T12:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128326",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:14" align="right">comment:14</div>

Attachment: **[trac-12055-SAGELOCAL_BIN.patch.gz](https://github.com/sagemath/sage/files/ticket12055/trac-12055-SAGELOCAL_BIN.patch.gz)**

The permissions are fine here:

```
[vbraun@volker-desktop r-2.14.0.p0]$ ll
total 164
drwxr-xr-x.  2 vbraun vbraun   4096 Nov 19 22:09 patches
-rw-r--r--.  1 vbraun vbraun 135549 Dec 27  2009 rpy2-2.0.8.spkg
-rwxr-xr-x.  1 vbraun vbraun    220 Jan 26  2008 spkg-check
-rwxr-xr-x.  1 vbraun vbraun   7097 Sep 25  2010 spkg-install
-rw-r--r--.  1 vbraun vbraun   4720 Nov 23 11:32 SPKG.txt
drwxr-xr-x. 10 vbraun vbraun   4096 Oct 31 08:08 src
[vbraun@volker-desktop r-2.14.0.p0]$ umask
0002
```
Jeroen, can you check your umask / mount point options?



---

archive/issue_events_163246.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-11-24T12:14:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163246"
}
```



---

archive/issue_events_163247.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-11-24T12:14:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163247"
}
```



---

archive/issue_comments_128327.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,5 @@\n \n Updated spkg is here: \n http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg\n+\n+Apply trac-12055-SAGELOCAL_BIN.patch to the SAGE_LOCAL/bin repository.\n``````\n",
    "created_at": "2011-11-24T12:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128327",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,5 @@
 
 Updated spkg is here: 
 http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg
+
+Apply trac-12055-SAGELOCAL_BIN.patch to the SAGE_LOCAL/bin repository.
``````




---

archive/issue_comments_128328.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThis is about PALP, not R.",
    "created_at": "2011-11-24T12:41:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128328",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

This is about PALP, not R.



---

archive/issue_comments_128329.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nUh-oh too early in the morning %-)\n\nFixed in the new spkg (same location)",
    "created_at": "2011-11-24T12:45:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128329",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">comment:16</div>

Uh-oh too early in the morning %-)

Fixed in the new spkg (same location)



---

archive/issue_comments_128330.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\npositive review",
    "created_at": "2011-11-29T10:03:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128330",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

positive review



---

archive/issue_comments_128331.json:
```json
{
    "body": "Merged: **sage-4.8.alpha3**",
    "created_at": "2011-11-29T10:03:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128331",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.8.alpha3**



---

archive/issue_events_163248.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-29T10:03:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163248"
}
```



---

archive/issue_events_163249.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-29T10:03:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163249"
}
```



---

archive/issue_comments_128332.json:
```json
{
    "body": "Changed reviewer from **Andrey Novoseltsev** to **Andrey Novoseltsev, Jeroen Demeyer**",
    "created_at": "2011-11-29T10:03:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128332",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Andrey Novoseltsev** to **Andrey Novoseltsev, Jeroen Demeyer**



---

archive/issue_comments_128333.json:
```json
{
    "body": "Changed merged from **sage-4.8.alpha3** to none",
    "created_at": "2011-11-29T18:05:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128333",
    "user": "https://github.com/jdemeyer"
}
```

Changed merged from **sage-4.8.alpha3** to none



---

archive/issue_comments_128334.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI think there is something wrong with the PALP spkg.  I tried merging sage-4.8.alpha3 again with this ticket.  Even though it might have succeeded a few times, I now got essentially the same error as before:\n\n```\nsage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/geometry/lattice_polytope.py\", line 4347:\n    sage: print s\nExpected:\n    M:27 8 N:7 6  codim=2 #part=5\n     P:0 V:2 4 5       0sec  0cpu\n     P:2 V:3 4 5       0sec  0cpu\n     P:3 V:4 5       0sec  0cpu\n    np=3 d:1 p:1    0sec     0cpu\nGot:\n    M:27 8 N:7 6  codim=2 #part=0\n    np=0 d:0 p:0    0sec     0cpu\n    <BLANKLINE>\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/geometry/lattice_polytope.py\", line 4353:\n    sage: lattice_polytope._read_nef_x_partitions(s)\nExpected:\n    [[2, 4, 5], [3, 4, 5], [4, 5]]\nGot:\n    []\n**********************************************************************\n...\nThe following tests failed:\n\n        sage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py # 94 doctests failed\n        sage -t  -force_lib devel/sage/sage/schemes/generic/fano_toric_variety.py # 18 doctests failed\n----------------------------------------------------------------------\n```\n\nI'm attaching my palp log file, even though I don't see anything suspicious.",
    "created_at": "2011-11-29T18:05:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128334",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

I think there is something wrong with the PALP spkg.  I tried merging sage-4.8.alpha3 again with this ticket.  Even though it might have succeeded a few times, I now got essentially the same error as before:

```
sage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/geometry/lattice_polytope.py", line 4347:
    sage: print s
Expected:
    M:27 8 N:7 6  codim=2 #part=5
     P:0 V:2 4 5       0sec  0cpu
     P:2 V:3 4 5       0sec  0cpu
     P:3 V:4 5       0sec  0cpu
    np=3 d:1 p:1    0sec     0cpu
Got:
    M:27 8 N:7 6  codim=2 #part=0
    np=0 d:0 p:0    0sec     0cpu
    <BLANKLINE>
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/geometry/lattice_polytope.py", line 4353:
    sage: lattice_polytope._read_nef_x_partitions(s)
Expected:
    [[2, 4, 5], [3, 4, 5], [4, 5]]
Got:
    []
**********************************************************************
...
The following tests failed:

        sage -t  -force_lib devel/sage/sage/geometry/lattice_polytope.py # 94 doctests failed
        sage -t  -force_lib devel/sage/sage/schemes/generic/fano_toric_variety.py # 18 doctests failed
----------------------------------------------------------------------
```

I'm attaching my palp log file, even though I don't see anything suspicious.



---

archive/issue_comments_128335.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nJeroen, are you using a different compiler than /usr/bin/gcc? Or perhaps some funky CFLAGS? Our binaries are not the same on sage.math, so something is fishy here:\n\n```\nvbraun@sage:~/Sage$ ll /mnt/usb1/scratch/jdemeyer/sage*/local/bin/nef-6d.x\n-rwxr-xr-x 1 jdemeyer jdemeyer 1112924 2011-11-29 10:23 /mnt/usb1/scratch/jdemeyer/sage-4.8.alpha3_PALP_failure/local/bin/nef-6d.x\nvbraun@sage:~/Sage$ ll /home/vbraun/Sage/sage-4.8.alpha2/local/bin/nef-6d.x\n-rwxr-xr-x 1 vbraun vbraun 1016813 2011-11-29 11:22 /home/vbraun/Sage/sage-4.8.alpha2/local/bin/nef-6d.x\n```\nWhen I run my version in valgrind I get no errors, but when I run your version in valgrind I get lots of uninitialized variable errors:\n\n```\n\nvbraun@sage:~/Sage$ ~/Sage/valgrind/valgrind-3.7.0/vg-in-place /mnt/usb1/scratch/jdemeyer/sage-4.8.alpha3_PALP_failure/local/bin/nef-6d.x -N -f -p < /tmp/palp_in \n==9884== Memcheck, a memory error detector\n==9884== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.\n==9884== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info\n==9884== Command: /mnt/usb1/scratch/jdemeyer/sage-4.8.alpha3_PALP_failure/local/bin/nef-6d.x -N -f -p\n==9884== \n==9884== Conditional jump or move depends on uninitialised value(s)\n==9884==    at 0x43A0A6: part_nef (Nefpart.c:569)\n==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)\n==9884==    by 0x402AEF: main (nef.c:294)\n==9884== \n==9884== Conditional jump or move depends on uninitialised value(s)\n==9884==    at 0x40EE3A: GLZ_Make_Trian_NF (Polynf.c:142)\n==9884==    by 0x439CF1: part_nef (Nefpart.c:818)\n==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)\n==9884==    by 0x402AEF: main (nef.c:294)\n==9884== \n==9884== Conditional jump or move depends on uninitialised value(s)\n==9884==    at 0x40EE87: GLZ_Make_Trian_NF (Polynf.c:145)\n==9884==    by 0x439CF1: part_nef (Nefpart.c:818)\n==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)\n==9884==    by 0x402AEF: main (nef.c:294)\n==9884== \n==9884== Conditional jump or move depends on uninitialised value(s)\n==9884==    at 0x40F0A7: GLZ_Make_Trian_NF (Polynf.c:159)\n==9884==    by 0x439CF1: part_nef (Nefpart.c:818)\n==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)\n==9884==    by 0x402AEF: main (nef.c:294)\n==9884== \n==9884== Conditional jump or move depends on uninitialised value(s)\n==9884==    at 0x40F300: GLZ_Make_Trian_NF (Polynf.c:166)\n==9884==    by 0x439CF1: part_nef (Nefpart.c:818)\n==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)\n==9884==    by 0x402AEF: main (nef.c:294)\n==9884== \n==9884== Conditional jump or move depends on uninitialised value(s)\n==9884==    at 0x4389A1: Initial_Conditions (Nefpart.c:551)\n==9884==    by 0x439D88: part_nef (Nefpart.c:820)\n==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)\n==9884==    by 0x402AEF: main (nef.c:294)\n==9884== \n==9884== Conditional jump or move depends on uninitialised value(s)\n==9884==    at 0x4389FC: Initial_Conditions (Nefpart.c:551)\n==9884==    by 0x439D88: part_nef (Nefpart.c:820)\n==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)\n==9884==    by 0x402AEF: main (nef.c:294)\n==9884== \n==9884== Conditional jump or move depends on uninitialised value(s)\n==9884==    at 0x439143: Select_Sv (Nefpart.c:733)\n==9884==    by 0x439DD9: part_nef (Nefpart.c:821)\n==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)\n==9884==    by 0x402AEF: main (nef.c:294)\n==9884== \n==9884== Conditional jump or move depends on uninitialised value(s)\n==9884==    at 0x4391C9: Select_Sv (Nefpart.c:469)\n==9884==    by 0x439DD9: part_nef (Nefpart.c:821)\n==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)\n==9884==    by 0x402AEF: main (nef.c:294)\n==9884== \nM:27 8 N:7 6  codim=2 #part=0\nnp=0 d:0 p:0    0sec     0cpu\n==9884== \n==9884== HEAP SUMMARY:\n==9884==     in use at exit: 0 bytes in 0 blocks\n==9884==   total heap usage: 42 allocs, 42 frees, 543,330,152 bytes allocated\n==9884== \n==9884== All heap blocks were freed -- no leaks are possible\n==9884== \n==9884== For counts of detected and suppressed errors, rerun with: -v\n==9884== Use --track-origins=yes to see where uninitialised values come from\n==9884== ERROR SUMMARY: 1367 errors from 9 contexts (suppressed: 2 from 2)\n```",
    "created_at": "2011-11-29T19:30:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128335",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:19" align="right">comment:19</div>

Jeroen, are you using a different compiler than /usr/bin/gcc? Or perhaps some funky CFLAGS? Our binaries are not the same on sage.math, so something is fishy here:

```
vbraun@sage:~/Sage$ ll /mnt/usb1/scratch/jdemeyer/sage*/local/bin/nef-6d.x
-rwxr-xr-x 1 jdemeyer jdemeyer 1112924 2011-11-29 10:23 /mnt/usb1/scratch/jdemeyer/sage-4.8.alpha3_PALP_failure/local/bin/nef-6d.x
vbraun@sage:~/Sage$ ll /home/vbraun/Sage/sage-4.8.alpha2/local/bin/nef-6d.x
-rwxr-xr-x 1 vbraun vbraun 1016813 2011-11-29 11:22 /home/vbraun/Sage/sage-4.8.alpha2/local/bin/nef-6d.x
```
When I run my version in valgrind I get no errors, but when I run your version in valgrind I get lots of uninitialized variable errors:

```

vbraun@sage:~/Sage$ ~/Sage/valgrind/valgrind-3.7.0/vg-in-place /mnt/usb1/scratch/jdemeyer/sage-4.8.alpha3_PALP_failure/local/bin/nef-6d.x -N -f -p < /tmp/palp_in 
==9884== Memcheck, a memory error detector
==9884== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==9884== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==9884== Command: /mnt/usb1/scratch/jdemeyer/sage-4.8.alpha3_PALP_failure/local/bin/nef-6d.x -N -f -p
==9884== 
==9884== Conditional jump or move depends on uninitialised value(s)
==9884==    at 0x43A0A6: part_nef (Nefpart.c:569)
==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)
==9884==    by 0x402AEF: main (nef.c:294)
==9884== 
==9884== Conditional jump or move depends on uninitialised value(s)
==9884==    at 0x40EE3A: GLZ_Make_Trian_NF (Polynf.c:142)
==9884==    by 0x439CF1: part_nef (Nefpart.c:818)
==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)
==9884==    by 0x402AEF: main (nef.c:294)
==9884== 
==9884== Conditional jump or move depends on uninitialised value(s)
==9884==    at 0x40EE87: GLZ_Make_Trian_NF (Polynf.c:145)
==9884==    by 0x439CF1: part_nef (Nefpart.c:818)
==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)
==9884==    by 0x402AEF: main (nef.c:294)
==9884== 
==9884== Conditional jump or move depends on uninitialised value(s)
==9884==    at 0x40F0A7: GLZ_Make_Trian_NF (Polynf.c:159)
==9884==    by 0x439CF1: part_nef (Nefpart.c:818)
==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)
==9884==    by 0x402AEF: main (nef.c:294)
==9884== 
==9884== Conditional jump or move depends on uninitialised value(s)
==9884==    at 0x40F300: GLZ_Make_Trian_NF (Polynf.c:166)
==9884==    by 0x439CF1: part_nef (Nefpart.c:818)
==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)
==9884==    by 0x402AEF: main (nef.c:294)
==9884== 
==9884== Conditional jump or move depends on uninitialised value(s)
==9884==    at 0x4389A1: Initial_Conditions (Nefpart.c:551)
==9884==    by 0x439D88: part_nef (Nefpart.c:820)
==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)
==9884==    by 0x402AEF: main (nef.c:294)
==9884== 
==9884== Conditional jump or move depends on uninitialised value(s)
==9884==    at 0x4389FC: Initial_Conditions (Nefpart.c:551)
==9884==    by 0x439D88: part_nef (Nefpart.c:820)
==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)
==9884==    by 0x402AEF: main (nef.c:294)
==9884== 
==9884== Conditional jump or move depends on uninitialised value(s)
==9884==    at 0x439143: Select_Sv (Nefpart.c:733)
==9884==    by 0x439DD9: part_nef (Nefpart.c:821)
==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)
==9884==    by 0x402AEF: main (nef.c:294)
==9884== 
==9884== Conditional jump or move depends on uninitialised value(s)
==9884==    at 0x4391C9: Select_Sv (Nefpart.c:469)
==9884==    by 0x439DD9: part_nef (Nefpart.c:821)
==9884==    by 0x43557A: Make_E_Poly (E_Poly.c:1266)
==9884==    by 0x402AEF: main (nef.c:294)
==9884== 
M:27 8 N:7 6  codim=2 #part=0
np=0 d:0 p:0    0sec     0cpu
==9884== 
==9884== HEAP SUMMARY:
==9884==     in use at exit: 0 bytes in 0 blocks
==9884==   total heap usage: 42 allocs, 42 frees, 543,330,152 bytes allocated
==9884== 
==9884== All heap blocks were freed -- no leaks are possible
==9884== 
==9884== For counts of detected and suppressed errors, rerun with: -v
==9884== Use --track-origins=yes to see where uninitialised values come from
==9884== ERROR SUMMARY: 1367 errors from 9 contexts (suppressed: 2 from 2)
```



---

archive/issue_comments_128336.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@vbraun](#comment:19):\n> Jeroen, are you using a different compiler than /usr/bin/gcc?\n\nYes, I am using gcc 4.5.1 (compiled myself, `/home/jdemeyer/local/bin/gcc`).  Default `CFLAGS`.\n\nBut I also realized that I **have** compiled and tested PALP successfully before, so the problem is not always reproducible.  Could there be a race condition in the `spkg-install` or `Makefile`?",
    "created_at": "2011-11-29T19:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128336",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@vbraun](#comment:19):
> Jeroen, are you using a different compiler than /usr/bin/gcc?

Yes, I am using gcc 4.5.1 (compiled myself, `/home/jdemeyer/local/bin/gcc`).  Default `CFLAGS`.

But I also realized that I **have** compiled and tested PALP successfully before, so the problem is not always reproducible.  Could there be a race condition in the `spkg-install` or `Makefile`?



---

archive/issue_comments_128337.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nActually, never mind the gcc version, I did use gcc 4.2.4, see also the log I posted.  My merger script uses a default `PATH`.",
    "created_at": "2011-11-29T19:42:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128337",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Actually, never mind the gcc version, I did use gcc 4.2.4, see also the log I posted.  My merger script uses a default `PATH`.



---

archive/issue_comments_128338.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThis is interesting: when built in parallel, I do **not** get the error anymore.  So it is some kind of reverse race condition.\n\nCould you try simply installing palp serially from a working Sage:\n\n```\n./sage -f spkg/standard/palp-2.0.p0.spkg\n```\nAnd then doing\n\n```\n./sage -t devel/sage/sage/geometry/lattice_polytope.py\n```",
    "created_at": "2011-11-29T19:57:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128338",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

This is interesting: when built in parallel, I do **not** get the error anymore.  So it is some kind of reverse race condition.

Could you try simply installing palp serially from a working Sage:

```
./sage -f spkg/standard/palp-2.0.p0.spkg
```
And then doing

```
./sage -t devel/sage/sage/geometry/lattice_polytope.py
```



---

archive/issue_comments_128339.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nSomething else: your `make` in `spkg-install` should probably be `$MAKE`.",
    "created_at": "2011-11-29T19:57:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128339",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Something else: your `make` in `spkg-install` should probably be `$MAKE`.



---

archive/issue_comments_128340.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI think I got it: Sage.math runs ext3 which has a 1-second timestamp granularity. My new does compile - monkeypatch - recompile in a loop. If you have a reasonably fast disk like /mnt/usb1/scratch then you can do the patch step in less than a second, so make fails to see that anything changed. Whereas I compiled sage on /home which is might be a higher-latency disk since its shared with lots of people. Or use ext4 with nanosecond timestamps on my own computers.",
    "created_at": "2011-11-29T20:24:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128340",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

I think I got it: Sage.math runs ext3 which has a 1-second timestamp granularity. My new does compile - monkeypatch - recompile in a loop. If you have a reasonably fast disk like /mnt/usb1/scratch then you can do the patch step in less than a second, so make fails to see that anything changed. Whereas I compiled sage on /home which is might be a higher-latency disk since its shared with lots of people. Or use ext4 with nanosecond timestamps on my own computers.



---

archive/issue_comments_128341.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI've replaced the palp spkg with a new version that does a make clean in-between each recompile loop. I'm pretty confident that it fixes the problem. Can you try it? \n\nI also just tripped over the fact that sage -f will happily use the old cached spkg, so make sure to delete the cached old version.",
    "created_at": "2011-11-29T20:35:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128341",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">comment:25</div>

I've replaced the palp spkg with a new version that does a make clean in-between each recompile loop. I'm pretty confident that it fixes the problem. Can you try it? 

I also just tripped over the fact that sage -f will happily use the old cached spkg, so make sure to delete the cached old version.



---

archive/issue_events_163250.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-11-29T20:35:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163250"
}
```



---

archive/issue_comments_128342.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI'm wondering about the portability of \"install\", the previous version used \"cp\".  I think it would be safer to install using \"cp -p\".",
    "created_at": "2011-11-30T08:44:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128342",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

I'm wondering about the portability of "install", the previous version used "cp".  I think it would be safer to install using "cp -p".



---

archive/issue_comments_128343.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nWell \"install\" works on Sparc solaris with is generally the yardstick for how weird systems we support ;-) I think that install is a better choice because\n* its designed for the job\n* cp -p might preserve ACLs or other extended attributes which you don't want (not the GNU coreutils, mind you)\n* autotools use it, probably for a reason",
    "created_at": "2011-11-30T09:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128343",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:27" align="right">comment:27</div>

Well "install" works on Sparc solaris with is generally the yardstick for how weird systems we support ;-) I think that install is a better choice because
* its designed for the job
* cp -p might preserve ACLs or other extended attributes which you don't want (not the GNU coreutils, mind you)
* autotools use it, probably for a reason



---

archive/issue_comments_128344.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@vbraun](#comment:27):\n> Well \"install\" works on Sparc solaris with is generally the yardstick for how weird systems we support ;-)\n\nIt actually doesn't on `hawk`.  True, the command `install` exists, but it certainly does no do what you want:\n\n```\nuname -a:\nSunOS hawk 5.11 snv_134 i86pc i386 i86pc\n****************************************************\n****************************************************\nCC Version\ngcc -v\nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/usr/local/gcc-4.5.0/libexec/gcc/i386-pc-solaris2.10/4.5.0/lto-wrapper\nTarget: i386-pc-solaris2.10\nConfigured with: ../gcc-4.5.0/configure --prefix=/usr/local/gcc-4.5.0 --build=i386-pc-solaris2.10 --enable-languages=c,c++,fortran --with-\ngmp=/usr/local/gcc-4.5.0 --with-mpfr=/usr/local/gcc-4.5.0 --disable-nls --enable-checking=release --enable-werror=no --enable-multilib -wi\nth-system-zlib --enable-bootstrap --with-gnu-as --with-as=/usr/local/binutils-2.20/bin/as --without-gnu-ld --with-ld=/usr/ccs/bin/ld\nThread model: posix\ngcc version 4.5.0 (GCC)\n****************************************************\nBuilding PALP optimized for 4 dimensions\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o poly.o poly.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Coord.o Coord.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Rat.o Rat.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Vertex.o Vertex.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Polynf.o Polynf.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o LG.o LG.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o class.o class.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Subpoly.o Subpoly.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Subadd.o Subadd.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Subdb.o Subdb.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o cws.o cws.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o nef.o nef.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o E_Poly.o E_Poly.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Nefpart.o Nefpart.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o mori.o mori.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o MoriCone.o MoriCone.c\nMoriCone.c: In function 'Compatible_Tri':\nMoriCone.c:938:76: warning: unused parameter 'p'\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o SingularInput.o SingularInput.c\nSubadd.c: In function 'Add_Polya_2_Polyi':\nSubadd.c:1111:31: warning: 'vA' may be used uninitialized in this function\nSubadd.c:1111:35: warning: 'nuA' may be used uninitialized in this function\nMoriCone.c: In function 'Triang3dSFan':\nMoriCone.c:666:25: warning: 'k' may be used uninitialized in this function\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -o poly.x poly.o Coord.o Rat.o Vertex.o Polynf.o LG.o\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -o class.x class.o Coord.o Rat.o Vertex.o Polynf.o Subpoly.o Subadd.o Subdb\n.o\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -o cws.x cws.o Coord.o Rat.o Vertex.o Polynf.o LG.o\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -o nef.x nef.o Coord.o Rat.o Vertex.o Polynf.o E_Poly.o Nefpart.o LG.o\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -o mori.x mori.o Coord.o Rat.o Vertex.o Polynf.o MoriCone.o SingularInput.o\n LG.o\nfind: stat() error /export/home/buildbot/sage-4.8.alpha2/local/bin/poly-4d.x: No such file or directory\nfind: cannot read dir /etc/flash/preexit: Permission denied\nfind: cannot read dir /etc/flash/precreation: Permission denied\nfind: cannot read dir /etc/flash/postcreation: Permission denied\nfind: cannot read dir /etc/sfw/openssl/private: Permission denied\nfind: cannot read dir /etc/openssl/private: Permission denied\nfind: cannot read dir /etc/inet/secret: Permission denied\nfind: cycle detected for /lib/secure/32/\nfind: cycle detected for /lib/32/\nfind: cycle detected for /lib/crypto/32/\nfind: cycle detected for /usr/lib/lwp/32/\nfind: cycle detected for /usr/lib/32/\nfind: cycle detected for /usr/lib/link_audit/32/\nfind: cycle detected for /usr/lib/elfedit/32/\nfind: cycle detected for /usr/lib/locale/en_US.UTF-8/32/\nfind: cycle detected for /usr/lib/locale/en_US.UTF-8/LC_CTYPE/32/\nfind: cycle detected for /usr/lib/locale/en_US.UTF-8/LO_LTYPE/32/\nfind: cycle detected for /usr/lib/secure/32/\ninstall: poly.x was not found anywhere!\nError installing PALP.\n```",
    "created_at": "2011-11-30T10:03:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128344",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@vbraun](#comment:27):
> Well "install" works on Sparc solaris with is generally the yardstick for how weird systems we support ;-)

It actually doesn't on `hawk`.  True, the command `install` exists, but it certainly does no do what you want:

```
uname -a:
SunOS hawk 5.11 snv_134 i86pc i386 i86pc
****************************************************
****************************************************
CC Version
gcc -v
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/local/gcc-4.5.0/libexec/gcc/i386-pc-solaris2.10/4.5.0/lto-wrapper
Target: i386-pc-solaris2.10
Configured with: ../gcc-4.5.0/configure --prefix=/usr/local/gcc-4.5.0 --build=i386-pc-solaris2.10 --enable-languages=c,c++,fortran --with-
gmp=/usr/local/gcc-4.5.0 --with-mpfr=/usr/local/gcc-4.5.0 --disable-nls --enable-checking=release --enable-werror=no --enable-multilib -wi
th-system-zlib --enable-bootstrap --with-gnu-as --with-as=/usr/local/binutils-2.20/bin/as --without-gnu-ld --with-ld=/usr/ccs/bin/ld
Thread model: posix
gcc version 4.5.0 (GCC)
****************************************************
Building PALP optimized for 4 dimensions
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o poly.o poly.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Coord.o Coord.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Rat.o Rat.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Vertex.o Vertex.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Polynf.o Polynf.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o LG.o LG.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o class.o class.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Subpoly.o Subpoly.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Subadd.o Subadd.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Subdb.o Subdb.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o cws.o cws.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o nef.o nef.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o E_Poly.o E_Poly.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Nefpart.o Nefpart.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o mori.o mori.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o MoriCone.o MoriCone.c
MoriCone.c: In function 'Compatible_Tri':
MoriCone.c:938:76: warning: unused parameter 'p'
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o SingularInput.o SingularInput.c
Subadd.c: In function 'Add_Polya_2_Polyi':
Subadd.c:1111:31: warning: 'vA' may be used uninitialized in this function
Subadd.c:1111:35: warning: 'nuA' may be used uninitialized in this function
MoriCone.c: In function 'Triang3dSFan':
MoriCone.c:666:25: warning: 'k' may be used uninitialized in this function
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -o poly.x poly.o Coord.o Rat.o Vertex.o Polynf.o LG.o
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -o class.x class.o Coord.o Rat.o Vertex.o Polynf.o Subpoly.o Subadd.o Subdb
.o
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -o cws.x cws.o Coord.o Rat.o Vertex.o Polynf.o LG.o
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -o nef.x nef.o Coord.o Rat.o Vertex.o Polynf.o E_Poly.o Nefpart.o LG.o
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -o mori.x mori.o Coord.o Rat.o Vertex.o Polynf.o MoriCone.o SingularInput.o
 LG.o
find: stat() error /export/home/buildbot/sage-4.8.alpha2/local/bin/poly-4d.x: No such file or directory
find: cannot read dir /etc/flash/preexit: Permission denied
find: cannot read dir /etc/flash/precreation: Permission denied
find: cannot read dir /etc/flash/postcreation: Permission denied
find: cannot read dir /etc/sfw/openssl/private: Permission denied
find: cannot read dir /etc/openssl/private: Permission denied
find: cannot read dir /etc/inet/secret: Permission denied
find: cycle detected for /lib/secure/32/
find: cycle detected for /lib/32/
find: cycle detected for /lib/crypto/32/
find: cycle detected for /usr/lib/lwp/32/
find: cycle detected for /usr/lib/32/
find: cycle detected for /usr/lib/link_audit/32/
find: cycle detected for /usr/lib/elfedit/32/
find: cycle detected for /usr/lib/locale/en_US.UTF-8/32/
find: cycle detected for /usr/lib/locale/en_US.UTF-8/LC_CTYPE/32/
find: cycle detected for /usr/lib/locale/en_US.UTF-8/LO_LTYPE/32/
find: cycle detected for /usr/lib/secure/32/
install: poly.x was not found anywhere!
Error installing PALP.
```



---

archive/issue_comments_128345.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nAwesome! Solaris strikes again...\n\nI switched the spkg back to cp -p.",
    "created_at": "2011-11-30T10:17:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128345",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:29" align="right">comment:29</div>

Awesome! Solaris strikes again...

I switched the spkg back to cp -p.



---

archive/issue_comments_128346.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nNot sure why the need for `$MV`, `$CP` and the likes (who's idea was that?), but positive_review.",
    "created_at": "2011-12-01T08:13:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128346",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Not sure why the need for `$MV`, `$CP` and the likes (who's idea was that?), but positive_review.



---

archive/issue_events_163251.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-01T08:13:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163251"
}
```



---

archive/issue_events_163252.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-01T08:13:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163252"
}
```



---

archive/issue_comments_128347.json:
```json
{
    "body": "Merged: **sage-4.8.alpha3**",
    "created_at": "2011-12-01T08:13:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128347",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.8.alpha3**



---

archive/issue_comments_128348.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nOn OS X 10.6:\n\n```\nHost system\nuname -a:\nDarwin bsd.math.washington.edu 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:32:41 PDT 2011; root:xnu-1504.15.3~1/RELEASE_X86_64 x86_64\n****************************************************\n****************************************************\nCC Version\ngcc -v\nUsing built-in specs.\nTarget: i686-apple-darwin10\nConfigured with: /var/tmp/gcc/gcc-5666.3~6/src/configure --disable-checking --enable-werror --prefix=/usr --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin10 --program-prefix=i686-apple-darwin10- --host=x86_64-apple-darwin10 --target=i686-apple-darwin10 --with-gxx-include-dir=/include/c++/4.2.1\nThread model: posix\ngcc version 4.2.1 (Apple Inc. build 5666) (dot 3)\n****************************************************\nBuilding PALP optimized for 4 dimensions\nmake[2]: warning: -jN forced in submake: disabling jobserver mode.\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o poly.o poly.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Coord.o Coord.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Rat.o Rat.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Vertex.o Vertex.c\ngcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Polynf.o Polynf.c\nPolynf.c: In function 'Fano5d':\nPolynf.c:2444: error: nested functions are disabled, use -fnested-functions to re-enable\nmake[2]: *** [Polynf.o] Error 1\nmake[2]: *** Waiting for unfinished jobs....\nError building PALP.\n```",
    "created_at": "2011-12-01T09:09:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128348",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:31" align="right">comment:31</div>

On OS X 10.6:

```
Host system
uname -a:
Darwin bsd.math.washington.edu 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:32:41 PDT 2011; root:xnu-1504.15.3~1/RELEASE_X86_64 x86_64
****************************************************
****************************************************
CC Version
gcc -v
Using built-in specs.
Target: i686-apple-darwin10
Configured with: /var/tmp/gcc/gcc-5666.3~6/src/configure --disable-checking --enable-werror --prefix=/usr --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin10 --program-prefix=i686-apple-darwin10- --host=x86_64-apple-darwin10 --target=i686-apple-darwin10 --with-gxx-include-dir=/include/c++/4.2.1
Thread model: posix
gcc version 4.2.1 (Apple Inc. build 5666) (dot 3)
****************************************************
Building PALP optimized for 4 dimensions
make[2]: warning: -jN forced in submake: disabling jobserver mode.
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o poly.o poly.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Coord.o Coord.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Rat.o Rat.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Vertex.o Vertex.c
gcc -O3 -g -W -Wall -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE   -c -o Polynf.o Polynf.c
Polynf.c: In function 'Fano5d':
Polynf.c:2444: error: nested functions are disabled, use -fnested-functions to re-enable
make[2]: *** [Polynf.o] Error 1
make[2]: *** Waiting for unfinished jobs....
Error building PALP.
```



---

archive/issue_comments_128349.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nSee also [http://lists.apple.com/archives/Xcode-users/2005/Nov/msg00274.html](http://lists.apple.com/archives/Xcode-users/2005/Nov/msg00274.html)",
    "created_at": "2011-12-01T09:13:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128349",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

See also [http://lists.apple.com/archives/Xcode-users/2005/Nov/msg00274.html](http://lists.apple.com/archives/Xcode-users/2005/Nov/msg00274.html)



---

archive/issue_comments_128350.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI've asked upstream whether they can get rid of the use of nested functions, I think it is used only once. Really no need to make it non-portable just for that. In the meantime, I've updated the palp spkg with a special case for `UNAME=Darwin` to enable `-fnested-functions` on OSX. I tested the new spkg on bsd.math and it compiles fine.",
    "created_at": "2011-12-01T09:54:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128350",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>

I've asked upstream whether they can get rid of the use of nested functions, I think it is used only once. Really no need to make it non-portable just for that. In the meantime, I've updated the palp spkg with a special case for `UNAME=Darwin` to enable `-fnested-functions` on OSX. I tested the new spkg on bsd.math and it compiles fine.



---

archive/issue_events_163253.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-12-01T09:54:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163253"
}
```



---

archive/issue_comments_128351.json:
```json
{
    "body": "Changed merged from **sage-4.8.alpha3** to none",
    "created_at": "2011-12-01T18:35:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128351",
    "user": "https://github.com/jdemeyer"
}
```

Changed merged from **sage-4.8.alpha3** to none



---

archive/issue_comments_128352.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nI see in the spkg you patched \"Polynf.c\".  But please use `patch` for patching instead of `cp`.",
    "created_at": "2011-12-01T18:45:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128352",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">comment:35</div>

I see in the spkg you patched "Polynf.c".  But please use `patch` for patching instead of `cp`.



---

archive/issue_events_163254.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-12-01T18:48:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163254"
}
```



---

archive/issue_events_163255.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-12-01T18:48:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163255"
}
```



---

archive/issue_comments_128353.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nHarald Skarke told me that the problematic function is actually unused, so we can just remove it. I've updated the spkg with this alternate fix, so now it should not rely on any GNU C extension any more. \n\nI thought this would fix it but unfortunately nested functions are used elsewhere, too. I'm waiting for Harald to get back to me...",
    "created_at": "2011-12-01T18:48:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128353",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:36" align="right">comment:36</div>

Harald Skarke told me that the problematic function is actually unused, so we can just remove it. I've updated the spkg with this alternate fix, so now it should not rely on any GNU C extension any more. 

I thought this would fix it but unfortunately nested functions are used elsewhere, too. I'm waiting for Harald to get back to me...



---

archive/issue_events_163256.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-12-17T21:07:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163256"
}
```



---

archive/issue_events_163257.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-12-17T21:07:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163257"
}
```



---

archive/issue_comments_128354.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nI got the fix from upstream and it does compile on OSX now without problems.",
    "created_at": "2011-12-17T21:07:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128354",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:37" align="right">comment:37</div>

I got the fix from upstream and it does compile on OSX now without problems.



---

archive/issue_comments_128355.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nVolker, if you're adding new patches, please add only the .patch file and use `patch` in `spkg-install` (unless you have a good reason not to do so).\n\nAlso, it would be nice to put the ticket number (#12055) in the `SPKG.txt` changelog.",
    "created_at": "2011-12-18T13:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128355",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:38" align="right">comment:38</div>

Volker, if you're adding new patches, please add only the .patch file and use `patch` in `spkg-install` (unless you have a good reason not to do so).

Also, it would be nice to put the ticket number (#12055) in the `SPKG.txt` changelog.



---

archive/issue_events_163258.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-18T13:40:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163258"
}
```



---

archive/issue_events_163259.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-18T13:40:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163259"
}
```



---

archive/issue_comments_128356.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nUpstream gave me the files as they are, so I would argue that its preferable to just copy them in this case than to create a patch between different upstream versions. Presumably they will be in the next release in this form.\n\nI've added the ticket reference to the SPKG.txt, the updated package is at the same location.",
    "created_at": "2011-12-18T14:09:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128356",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:39" align="right">comment:39</div>

Upstream gave me the files as they are, so I would argue that its preferable to just copy them in this case than to create a patch between different upstream versions. Presumably they will be in the next release in this form.

I've added the ticket reference to the SPKG.txt, the updated package is at the same location.



---

archive/issue_events_163260.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-12-18T14:09:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163260"
}
```



---

archive/issue_events_163261.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-12-18T14:09:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163261"
}
```



---

archive/issue_comments_128357.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nThe upstream patched files have one blank line between **every** source code line.  Are you sure this is intentional and not a consequence of some bad CR/LF-related conversion?",
    "created_at": "2011-12-18T14:23:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128357",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

The upstream patched files have one blank line between **every** source code line.  Are you sure this is intentional and not a consequence of some bad CR/LF-related conversion?



---

archive/issue_comments_128358.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI'm pretty sure this is not intentional :-) But since it is C source code extra whitespace is irrelevant.",
    "created_at": "2011-12-18T15:49:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128358",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:41" align="right">comment:41</div>

I'm pretty sure this is not intentional :-) But since it is C source code extra whitespace is irrelevant.



---

archive/issue_comments_128359.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nI got the files sent again, this time without the CR/LF problem. Updated spkg at the same location.",
    "created_at": "2011-12-19T17:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128359",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:42" align="right">comment:42</div>

I got the files sent again, this time without the CR/LF problem. Updated spkg at the same location.



---

archive/issue_comments_128360.json:
```json
{
    "body": "Changed reviewer from **Andrey Novoseltsev, Jeroen Demeyer** to **Andrey Novoseltsev, Jeroen Demeyer, R. Andrew Ohana**",
    "created_at": "2012-02-27T00:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128360",
    "user": "https://github.com/ohanar"
}
```

Changed reviewer from **Andrey Novoseltsev, Jeroen Demeyer** to **Andrey Novoseltsev, Jeroen Demeyer, R. Andrew Ohana**



---

archive/issue_events_163262.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-02-27T00:37:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163262"
}
```



---

archive/issue_events_163263.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-02-27T00:37:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163263"
}
```



---

archive/issue_comments_128361.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nThis works well for me",
    "created_at": "2012-02-27T00:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128361",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:43" align="right">comment:43</div>

This works well for me



---

archive/issue_events_163264.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-02-27T01:05:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163264"
}
```



---

archive/issue_events_163265.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-02-27T01:05:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163265"
}
```



---

archive/issue_events_163266.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-02-27T01:05:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163266"
}
```



---

archive/issue_comments_128362.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nSuperseded by #7071 (which provides palp-2.0.p1.spkg)",
    "created_at": "2012-02-27T01:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128362",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:44" align="right">comment:44</div>

Superseded by #7071 (which provides palp-2.0.p1.spkg)



---

archive/issue_comments_128363.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nIs the spkg on #7071 based on this one?  If yes, this ticket should be closed normally and marked as merged, not as duplicate/invalid/wontfix.",
    "created_at": "2012-03-02T13:58:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128363",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:45" align="right">comment:45</div>

Is the spkg on #7071 based on this one?  If yes, this ticket should be closed normally and marked as merged, not as duplicate/invalid/wontfix.



---

archive/issue_events_163267.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-03-02T21:58:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163267"
}
```



---

archive/issue_comments_128364.json:
```json
{
    "body": "Dependencies: **#7071**",
    "created_at": "2012-03-02T21:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128364",
    "user": "https://github.com/vbraun"
}
```

Dependencies: **#7071**



---

archive/issue_comments_128365.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nOk good then please merge it..",
    "created_at": "2012-03-02T21:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128365",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:46" align="right">comment:46</div>

Ok good then please merge it..



---

archive/issue_comments_128366.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,6 @@\n \n The new spkg builds PALP multiple times with different values for the maximal dimension `POLY_Dmax`. This is useful because we want high dimension limits to be general but some features only work with particular low dimension limits, for example the 4-d Hodge database requires PALP to be built with `PALP_Dmax=4`.\n \n-Updated spkg is here: \n-http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg\n \n-Apply trac-12055-SAGELOCAL_BIN.patch to the SAGE_LOCAL/bin repository.\n+Superseded by #7071 (which provides palp-2.0.p1.spkg)\n+\n``````\n",
    "created_at": "2012-03-02T21:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128366",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,6 @@
 
 The new spkg builds PALP multiple times with different values for the maximal dimension `POLY_Dmax`. This is useful because we want high dimension limits to be general but some features only work with particular low dimension limits, for example the 4-d Hodge database requires PALP to be built with `PALP_Dmax=4`.
 
-Updated spkg is here: 
-http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg
 
-Apply trac-12055-SAGELOCAL_BIN.patch to the SAGE_LOCAL/bin repository.
+Superseded by #7071 (which provides palp-2.0.p1.spkg)
+
``````




---

archive/issue_comments_128367.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,8 @@\n \n The new spkg builds PALP multiple times with different values for the maximal dimension `POLY_Dmax`. This is useful because we want high dimension limits to be general but some features only work with particular low dimension limits, for example the 4-d Hodge database requires PALP to be built with `PALP_Dmax=4`.\n \n+Updated spkg is here: [http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg)\n \n-Superseded by #7071 (which provides palp-2.0.p1.spkg)\n+Apply [attachment: trac-12055-SAGELOCAL_BIN.patch](https://github.com/sagemath/sage/files/ticket12055/trac-12055-SAGELOCAL_BIN.patch.gz) to the SAGE_LOCAL/bin repository. \n \n+Follow-up: #7071 (which provides palp-2.0.p1.spkg)\n``````\n",
    "created_at": "2012-03-03T13:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128367",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,8 @@
 
 The new spkg builds PALP multiple times with different values for the maximal dimension `POLY_Dmax`. This is useful because we want high dimension limits to be general but some features only work with particular low dimension limits, for example the 4-d Hodge database requires PALP to be built with `PALP_Dmax=4`.
 
+Updated spkg is here: [http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg)
 
-Superseded by #7071 (which provides palp-2.0.p1.spkg)
+Apply [attachment: trac-12055-SAGELOCAL_BIN.patch](https://github.com/sagemath/sage/files/ticket12055/trac-12055-SAGELOCAL_BIN.patch.gz) to the SAGE_LOCAL/bin repository. 
 
+Follow-up: #7071 (which provides palp-2.0.p1.spkg)
``````




---

archive/issue_comments_128368.json:
```json
{
    "body": "Changed dependencies from **#7071** to none",
    "created_at": "2012-03-03T13:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128368",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#7071** to none



---

archive/issue_events_163268.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-04T21:19:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163268"
}
```



---

archive/issue_events_163269.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-04T21:19:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12055#event-163269"
}
```



---

archive/issue_comments_128369.json:
```json
{
    "body": "Merged: **sage-5.0.beta7**",
    "created_at": "2012-03-04T21:19:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128369",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.beta7**



---

archive/issue_comments_128370.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,8 +2,6 @@\n \n The new spkg builds PALP multiple times with different values for the maximal dimension `POLY_Dmax`. This is useful because we want high dimension limits to be general but some features only work with particular low dimension limits, for example the 4-d Hodge database requires PALP to be built with `PALP_Dmax=4`.\n \n-Updated spkg is here: [http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg)\n+**spkg** superseded by #7071 (which provides palp-2.0.p1.spkg)\n \n-Apply [attachment: trac-12055-SAGELOCAL_BIN.patch](https://github.com/sagemath/sage/files/ticket12055/trac-12055-SAGELOCAL_BIN.patch.gz) to the SAGE_LOCAL/bin repository. \n-\n-Follow-up: #7071 (which provides palp-2.0.p1.spkg)\n+**Apply** [attachment: trac-12055-SAGELOCAL_BIN.patch](https://github.com/sagemath/sage/files/ticket12055/trac-12055-SAGELOCAL_BIN.patch.gz) to the SAGE_LOCAL/bin repository. \n``````\n",
    "created_at": "2012-04-26T22:17:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12055",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12055#issuecomment-128370",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,8 +2,6 @@
 
 The new spkg builds PALP multiple times with different values for the maximal dimension `POLY_Dmax`. This is useful because we want high dimension limits to be general but some features only work with particular low dimension limits, for example the 4-d Hodge database requires PALP to be built with `PALP_Dmax=4`.
 
-Updated spkg is here: [http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/palp-2.0.p0.spkg)
+**spkg** superseded by #7071 (which provides palp-2.0.p1.spkg)
 
-Apply [attachment: trac-12055-SAGELOCAL_BIN.patch](https://github.com/sagemath/sage/files/ticket12055/trac-12055-SAGELOCAL_BIN.patch.gz) to the SAGE_LOCAL/bin repository. 
-
-Follow-up: #7071 (which provides palp-2.0.p1.spkg)
+**Apply** [attachment: trac-12055-SAGELOCAL_BIN.patch](https://github.com/sagemath/sage/files/ticket12055/trac-12055-SAGELOCAL_BIN.patch.gz) to the SAGE_LOCAL/bin repository. 
``````

