# Issue 12473: Remove nested functions in ratpoints

archive/issues_012301.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-GeorgSWeber"
    ],
    "body": "these won't work for most other compilers besides GCC.\n\nCC:  @kiwifb\n\nBranch: **[`dae689c`](https://github.com/sagemath/sagetrac-mirror/commit/dae689cd2b3f68a703fc8c00ae8bb942d653e464)**\n\nUpstream: **Reported upstream. No feedback yet.**\n\nReviewer: **Fran\u00e7ois Bissey**\n\nAuthor: **Dima Pasechnik**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12473_\n\n",
    "closed_at": "2016-10-03T22:41:58Z",
    "created_at": "2012-02-08T16:00:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Remove nested functions in ratpoints",
    "type": "issue",
    "updated_at": "2018-01-14T14:54:30Z",
    "url": "https://github.com/sagemath/sage/issues/12473",
    "user": "https://github.com/ohanar"
}
```
these won't work for most other compilers besides GCC.

CC:  @kiwifb

Branch: **[`dae689c`](https://github.com/sagemath/sagetrac-mirror/commit/dae689cd2b3f68a703fc8c00ae8bb942d653e464)**

Upstream: **Reported upstream. No feedback yet.**

Reviewer: **François Bissey**

Author: **Dima Pasechnik**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/12473_





---

archive/issue_events_170704.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-02-08T16:00:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170704"
}
```



---

archive/issue_events_170705.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-02-08T16:00:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170705"
}
```



---

archive/issue_events_170706.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-02-08T16:00:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170706"
}
```



---

archive/issue_events_170707.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-02-08T16:00:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170707"
}
```



---

archive/issue_events_170708.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2012-02-08T16:00:54Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "subject": "https://github.com/ohanar",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170708"
}
```



---

archive/issue_events_170709.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170709"
}
```



---

archive/issue_events_170710.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170710"
}
```



---

archive/issue_events_170711.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170711"
}
```



---

archive/issue_events_170712.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170712"
}
```



---

archive/issue_events_170713.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170713"
}
```



---

archive/issue_events_170714.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170714"
}
```



---

archive/issue_events_170715.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170715"
}
```



---

archive/issue_events_170716.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170716"
}
```



---

archive/issue_events_170717.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-09-24T00:15:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170717"
}
```



---

archive/issue_events_170718.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-09-24T00:15:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170718"
}
```



---

archive/issue_comments_137758.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nhere is a fix : http://users.ox.ac.uk/~coml0531/sage/ratpoints-2.1.3.tar.bz2\n(I moved the only nested function outside; it works with gcc, and passes the tests (in sage)). Wonder how it goes with clang...\n\nStill needs a bit of cleaning.",
    "created_at": "2016-09-24T00:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137758",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

here is a fix : http://users.ox.ac.uk/~coml0531/sage/ratpoints-2.1.3.tar.bz2
(I moved the only nested function outside; it works with gcc, and passes the tests (in sage)). Wonder how it goes with clang...

Still needs a bit of cleaning.



---

archive/issue_comments_137759.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSeems to works. I'll work on turning into a patch later.",
    "created_at": "2016-09-24T02:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137759",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:6" align="right">comment:6</div>

Seems to works. I'll work on turning into a patch later.



---

archive/issue_events_170719.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-09-25T17:32:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170719"
}
```



---

archive/issue_comments_137760.json:
```json
{
    "body": "Branch: **[u/dimpase/ratpts_nonestedfun](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/ratpts_nonestedfun)**",
    "created_at": "2016-09-25T17:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137760",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/ratpts_nonestedfun](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/ratpts_nonestedfun)**



---

archive/issue_comments_137761.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nhere is a cleaned up patch, with more const qualifiers added.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4889e9c61580b1e894e67505ca2bfb4da9024712\"><code>4889e9c</code></a></td><td><code>un-nested and added const qualifiers to as many params as possible</code></td></tr></table>\n",
    "created_at": "2016-09-25T17:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137761",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

here is a cleaned up patch, with more const qualifiers added.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4889e9c61580b1e894e67505ca2bfb4da9024712"><code>4889e9c</code></a></td><td><code>un-nested and added const qualifiers to as many params as possible</code></td></tr></table>




---

archive/issue_comments_137762.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2016-09-25T17:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137762",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_comments_137763.json:
```json
{
    "body": "Commit: **[`4889e9c`](https://github.com/sagemath/sagetrac-mirror/commit/4889e9c61580b1e894e67505ca2bfb4da9024712)**",
    "created_at": "2016-09-25T17:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137763",
    "user": "https://github.com/dimpase"
}
```

Commit: **[`4889e9c`](https://github.com/sagemath/sagetrac-mirror/commit/4889e9c61580b1e894e67505ca2bfb4da9024712)**



---

archive/issue_comments_137764.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nJust touching `spkg-install` since `-fnested-functions` is not needed anywhere anymore.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32c21d9595c7d180fbea0f86b05045967a750939\"><code>32c21d9</code></a></td><td><code>Removing fnested-functions from cflags no that the nested functions are removed.</code></td></tr></table>\n",
    "created_at": "2016-09-29T21:40:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137764",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:8" align="right">comment:8</div>

Just touching `spkg-install` since `-fnested-functions` is not needed anywhere anymore.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32c21d9595c7d180fbea0f86b05045967a750939"><code>32c21d9</code></a></td><td><code>Removing fnested-functions from cflags no that the nested functions are removed.</code></td></tr></table>




---

archive/issue_comments_137765.json:
```json
{
    "body": "Changed commit from **[`4889e9c`](https://github.com/sagemath/sagetrac-mirror/commit/4889e9c61580b1e894e67505ca2bfb4da9024712)** to **[`32c21d9`](https://github.com/sagemath/sagetrac-mirror/commit/32c21d9595c7d180fbea0f86b05045967a750939)**",
    "created_at": "2016-09-29T21:40:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137765",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[`4889e9c`](https://github.com/sagemath/sagetrac-mirror/commit/4889e9c61580b1e894e67505ca2bfb4da9024712)** to **[`32c21d9`](https://github.com/sagemath/sagetrac-mirror/commit/32c21d9595c7d180fbea0f86b05045967a750939)**



---

archive/issue_comments_137766.json:
```json
{
    "body": "Changed branch from **[u/dimpase/ratpts_nonestedfun](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/ratpts_nonestedfun)** to **[u/fbissey/ratpts_nonestedfun](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/ratpts_nonestedfun)**",
    "created_at": "2016-09-29T21:40:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137766",
    "user": "https://github.com/kiwifb"
}
```

Changed branch from **[u/dimpase/ratpts_nonestedfun](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/ratpts_nonestedfun)** to **[u/fbissey/ratpts_nonestedfun](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/ratpts_nonestedfun)**



---

archive/issue_events_170720.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-09-29T21:40:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170720"
}
```



---

archive/issue_events_170721.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-09-29T21:40:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170721"
}
```



---

archive/issue_comments_137767.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2016-09-29T21:51:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137767",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **François Bissey**



---

archive/issue_comments_137768.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThanks!",
    "created_at": "2016-09-29T21:51:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137768",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

Thanks!



---

archive/issue_comments_137769.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI meant to do that ;)",
    "created_at": "2016-09-29T21:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137769",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:12" align="right">comment:12</div>

I meant to do that ;)



---

archive/issue_events_170722.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-09-30T11:35:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170722"
}
```



---

archive/issue_events_170723.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-09-30T11:35:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170723"
}
```



---

archive/issue_comments_137770.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nYou should bump the package version number if you make non-trivial changes.",
    "created_at": "2016-09-30T11:35:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137770",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

You should bump the package version number if you make non-trivial changes.



---

archive/issue_events_170724.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-09-30T11:35:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170724"
}
```



---

archive/issue_events_170725.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-09-30T11:35:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170725"
}
```



---

archive/issue_comments_137771.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-these won't work for most other compilers\n+these won't work for most other compilers besides GCC.\n``````\n",
    "created_at": "2016-09-30T11:37:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137771",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-these won't work for most other compilers
+these won't work for most other compilers besides GCC.
``````




---

archive/issue_events_170726.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-09-30T11:37:25Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "title_is": "Remove nested functions in ratpoints",
    "title_was": "remove gcc builtin functions in ratpoints",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170726"
}
```



---

archive/issue_comments_137772.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nActually, I have the feeling something is missing on this branch, since it *only* changes `CCFLAGS` but nothing else.",
    "created_at": "2016-09-30T11:37:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137772",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Actually, I have the feeling something is missing on this branch, since it *only* changes `CCFLAGS` but nothing else.



---

archive/issue_comments_137773.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@jdemeyer](#comment:15):\n> Actually, I have the feeling something is missing on this branch, since it *only* changes `CCFLAGS` but nothing else.\n\nFrancois, the ball is in your court now... (you didn't ask for a review too :))",
    "created_at": "2016-09-30T16:15:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137773",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@jdemeyer](#comment:15):
> Actually, I have the feeling something is missing on this branch, since it *only* changes `CCFLAGS` but nothing else.

Francois, the ball is in your court now... (you didn't ask for a review too :))



---

archive/issue_comments_137774.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nYes indeed, it looks like I messed up when importing Dima's branch.\n\nAs for the version bump. Yes I know we could do that. But really we didn't change any functionality, we just made it possible to compile with other compilers. But OK the patch is not trivial.",
    "created_at": "2016-09-30T19:00:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137774",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

Yes indeed, it looks like I messed up when importing Dima's branch.

As for the version bump. Yes I know we could do that. But really we didn't change any functionality, we just made it possible to compile with other compilers. But OK the patch is not trivial.



---

archive/issue_comments_137775.json:
```json
{
    "body": "Changed commit from **[`32c21d9`](https://github.com/sagemath/sagetrac-mirror/commit/32c21d9595c7d180fbea0f86b05045967a750939)** to **[`dae689c`](https://github.com/sagemath/sagetrac-mirror/commit/dae689cd2b3f68a703fc8c00ae8bb942d653e464)**",
    "created_at": "2016-10-01T02:43:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137775",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`32c21d9`](https://github.com/sagemath/sagetrac-mirror/commit/32c21d9595c7d180fbea0f86b05045967a750939)** to **[`dae689c`](https://github.com/sagemath/sagetrac-mirror/commit/dae689cd2b3f68a703fc8c00ae8bb942d653e464)**



---

archive/issue_comments_137776.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4889e9c61580b1e894e67505ca2bfb4da9024712\"><code>4889e9c</code></a></td><td><code>un-nested and added const qualifiers to as many params as possible</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15e20ff7952c364a4a1e85520be5e3a1e5cbee9a\"><code>15e20ff</code></a></td><td><code>Merge branch 'u/dimpase/ratpts_nonestedfun' of trac.sagemath.org:sage into ratpts_nonestedfun</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dae689cd2b3f68a703fc8c00ae8bb942d653e464\"><code>dae689c</code></a></td><td><code>Version bump to force rebuild</code></td></tr></table>\n",
    "created_at": "2016-10-01T02:43:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137776",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4889e9c61580b1e894e67505ca2bfb4da9024712"><code>4889e9c</code></a></td><td><code>un-nested and added const qualifiers to as many params as possible</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15e20ff7952c364a4a1e85520be5e3a1e5cbee9a"><code>15e20ff</code></a></td><td><code>Merge branch 'u/dimpase/ratpts_nonestedfun' of trac.sagemath.org:sage into ratpts_nonestedfun</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dae689cd2b3f68a703fc8c00ae8bb942d653e464"><code>dae689c</code></a></td><td><code>Version bump to force rebuild</code></td></tr></table>




---

archive/issue_comments_137777.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nShould all be better now.",
    "created_at": "2016-10-01T02:45:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137777",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:19" align="right">comment:19</div>

Should all be better now.



---

archive/issue_events_170727.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-10-01T02:45:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170727"
}
```



---

archive/issue_events_170728.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-10-01T02:45:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170728"
}
```



---

archive/issue_comments_137778.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nOK, looks good.",
    "created_at": "2016-10-01T15:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137778",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

OK, looks good.



---

archive/issue_events_170729.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-10-01T15:08:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170729"
}
```



---

archive/issue_events_170730.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-10-01T15:08:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170730"
}
```



---

archive/issue_comments_137779.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@kiwifb](#comment:17):\n> As for the version bump. Yes I know we could do that. But really we didn't change any functionality, we just made it possible to compile with other compilers. But OK the patch is not trivial.\n\nThe reason I asked for this is mainly to increase testing coverage. If you bump the version, then everybody who upgrades Sage will rebuild the package with the new patch.",
    "created_at": "2016-10-01T17:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137779",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@kiwifb](#comment:17):
> As for the version bump. Yes I know we could do that. But really we didn't change any functionality, we just made it possible to compile with other compilers. But OK the patch is not trivial.

The reason I asked for this is mainly to increase testing coverage. If you bump the version, then everybody who upgrades Sage will rebuild the package with the new patch.



---

archive/issue_events_170731.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-03T22:41:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170731"
}
```



---

archive/issue_events_170732.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4b0dc619abe8c45dbe3239cb872b68f14edfea52",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-10-03T22:41:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12473#event-170732"
}
```



---

archive/issue_comments_137780.json:
```json
{
    "body": "Changed branch from **[u/fbissey/ratpts_nonestedfun](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/ratpts_nonestedfun)** to **[`dae689c`](https://github.com/sagemath/sagetrac-mirror/commit/dae689cd2b3f68a703fc8c00ae8bb942d653e464)**",
    "created_at": "2016-10-03T22:41:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137780",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/fbissey/ratpts_nonestedfun](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/ratpts_nonestedfun)** to **[`dae689c`](https://github.com/sagemath/sagetrac-mirror/commit/dae689cd2b3f68a703fc8c00ae8bb942d653e464)**



---

archive/issue_comments_137781.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2016-10-13T09:36:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137781",
    "user": "https://github.com/dimpase"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_137782.json:
```json
{
    "body": "Changed commit from **[`dae689c`](https://github.com/sagemath/sagetrac-mirror/commit/dae689cd2b3f68a703fc8c00ae8bb942d653e464)** to none",
    "created_at": "2016-10-13T09:36:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137782",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`dae689c`](https://github.com/sagemath/sagetrac-mirror/commit/dae689cd2b3f68a703fc8c00ae8bb942d653e464)** to none



---

archive/issue_comments_137783.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nJust commenting that the functionality that `ratpoints` provides should be replaced with PARI. It seems that PARI is slowly replacing all number-theoretical packages inside Sage. This already happened with `genus2red` and it should be possible for `lcalc` and `ratpoints` too.",
    "created_at": "2018-01-12T14:48:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137783",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

Just commenting that the functionality that `ratpoints` provides should be replaced with PARI. It seems that PARI is slowly replacing all number-theoretical packages inside Sage. This already happened with `genus2red` and it should be possible for `lcalc` and `ratpoints` too.



---

archive/issue_comments_137784.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nreplacing sounds a bit drastic; adding another backend?",
    "created_at": "2018-01-12T22:20:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137784",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">comment:25</div>

replacing sounds a bit drastic; adding another backend?



---

archive/issue_comments_137785.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@dimpase](#comment:25):\n> replacing sounds a bit drastic; adding another backend?\n\nHonestly, it doesn't. Reducing your number of dependencies because another one, better maintained, can provide the same functionality is not controversial in my opinion. Who doesn't like less maintenance.",
    "created_at": "2018-01-13T02:40:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137785",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@dimpase](#comment:25):
> replacing sounds a bit drastic; adding another backend?

Honestly, it doesn't. Reducing your number of dependencies because another one, better maintained, can provide the same functionality is not controversial in my opinion. Who doesn't like less maintenance.



---

archive/issue_comments_137786.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nratpoints implements a very tricky mathematics, not something anybody can write. Having more than one implementation is a blessing.",
    "created_at": "2018-01-13T10:47:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137786",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

ratpoints implements a very tricky mathematics, not something anybody can write. Having more than one implementation is a blessing.



---

archive/issue_comments_137787.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI opened #24531 for that, by the way.",
    "created_at": "2018-01-14T09:32:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137787",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

I opened #24531 for that, by the way.



---

archive/issue_comments_137788.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@dimpase](#comment:27):\n> ratpoints implements a very tricky mathematics, not something anybody can write.\n\nThe PARI developers are not just \"anybody\" :-) I trust that they know number theory. Besides, the way that I understand things, the code in PARI is actually based on this `ratpoints` package. They didn't write it from scratch.",
    "created_at": "2018-01-14T14:53:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137788",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@dimpase](#comment:27):
> ratpoints implements a very tricky mathematics, not something anybody can write.

The PARI developers are not just "anybody" :-) I trust that they know number theory. Besides, the way that I understand things, the code in PARI is actually based on this `ratpoints` package. They didn't write it from scratch.



---

archive/issue_comments_137789.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@kiwifb](#comment:26):\n> Replying to [@dimpase](#comment:25):\n> > replacing sounds a bit drastic; adding another backend?\n\n> \n> Honestly, it doesn't. Reducing your number of dependencies because another one, better maintained\n\n\"better\" maintained? I don't think that `ratpoints` is maintained *at all* given that the latest release is from 2011.",
    "created_at": "2018-01-14T14:54:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12473#issuecomment-137789",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@kiwifb](#comment:26):
> Replying to [@dimpase](#comment:25):
> > replacing sounds a bit drastic; adding another backend?

> 
> Honestly, it doesn't. Reducing your number of dependencies because another one, better maintained

"better" maintained? I don't think that `ratpoints` is maintained *at all* given that the latest release is from 2011.
