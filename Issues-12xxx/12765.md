# Issue 12765: MPIR doesn't compile with GCC-4.7.0 on ia64

archive/issues_012593.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nOn Skynet iras (SUSE ES10 ia64):\n\n```\nHost system:\nLinux iras 2.6.16.46-0.12-default #1 SMP Thu May 17 14:00:09 UTC 2007 ia64 ia64 ia64 GNU/Linux\n****************************************************\nC compiler: gcc\nC compiler version:\nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/usr/local/gcc-4.7.0/ia64-Linux-suse/libexec/gcc/ia64-unknown-linux-gnu/4.7.0/lto-wrapper\nTarget: ia64-unknown-linux-gnu\nConfigured with: /usr/local/gcc-4.7.0/src/gcc-4.7.0/configure --enable-languages=c,c++,fortran --with-gnu-as --with-as=/usr/local/binutils\n-2.22/ia64-Linux-suse-gcc-4.6.2/bin/as --with-gnu-ld --with-ld=/usr/local/binutils-2.22/ia64-Linux-suse-gcc-4.6.2/bin/ld --with-gmp=/usr/l\nocal/mpir-2.5.1/ia64-Linux-suse-gcc-4.6.2 --with-mpfr=/usr/local/mpfr-3.1.0/ia64-Linux-suse-mpir-2.5.1-gcc-4.6.2 --with-mpc=/usr/local/mpc\n-0.9/ia64-Linux-suse-mpir-2.5.1-mpfr-3.1.0-gcc-4.6.2 --prefix=/usr/local/gcc-4.7.0/ia64-Linux-suse\nThread model: posix\ngcc version 4.7.0 (GCC)\n****************************************************\nYour compiler does not support '-m32' nor '-m64'.  Leaving ABI unset.\nChecking what CFLAGS MPIR would use if they were empty...\nSettings chosen by MPIR when configuring with CFLAGS unset:\n  CC:      gcc\n  CFLAGS:  -O2\nSettings required to properly build MPIR, taking into account SAGE_DEBUG etc.:\n  CFLAGS:\n  LDFLAGS:  -Wl,-z,noexecstack\n  ABI:\nSettings from the \"global\" environment:\n  CC:      gcc\n  CFLAGS:\n  (CPPFLAGS, CXX and CXXFLAGS are listed below; these don't get modified.)\nUsing MPIR's settings (plus mandatory ones).\nFinally using the following settings:\n  CC=gcc\n  CFLAGS=-O2\n  CPPFLAGS=\n  CXX=g++\n  CXXFLAGS=\n  LDFLAGS= -Wl,-z,noexecstack\n  ABI=\n(These settings may still get overridden by 'configure' or Makefiles.)\nConfiguring MPIR with the following options:\n    --prefix=\"/home/jdemeyer/iras/sage-5.0.beta8-gcc/local\" --enable-shared --enable-static --enable-gmpcompat --enable-cxx=yes --libdir=/\nhome/jdemeyer/iras/sage-5.0.beta8-gcc/local/lib\n[...]\n/bin/sh ../libtool --tag=CC   --mode=compile gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I.. -D__GMP_WITHIN_GMP -I.. -DOPERATION_`echo divrem_eucl\nidean_r_1 | sed 's/_$//'`    -O2   -c -o divrem_euclidean_r_1.lo divrem_euclidean_r_1.c\n gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I.. -D__GMP_WITHIN_GMP -I.. -DOPERATION_divrem_euclidean_r_1 -O2 -c divrem_euclidean_r_1.c  -fPIC -DP\nIC -o .libs/divrem_euclidean_r_1.o\ndivrem_euclidean_r_1.c: In function '__gmpn_mod_1_k':\ndivrem_euclidean_r_1.c:157:5: error: 'asm' operand requires impossible reload\nmake[2]: *** [divrem_euclidean_r_1.lo] Error 1\nmake[2]: Leaving directory `/home/jdemeyer/iras/sage-5.0.beta8-gcc/spkg/build/mpir-2.1.3.p9/src/mpn'\nmake[1]: *** [all-recursive] Error 1\nmake[1]: Leaving directory `/home/jdemeyer/iras/sage-5.0.beta8-gcc/spkg/build/mpir-2.1.3.p9/src'\nmake: *** [all] Error 2\nError building MPIR.\n```\n\nThis is likely a GCC bug, see [http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48496](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48496)\n\nThere is a work-around (by essentially disabling all optimization) spkg at #11616.\n\nSee #12751 for the GCC-4.7.0 metaticket.\n\nUpstream: **Reported upstream. Developers acknowledge bug.**\n\nComponent: **packages: standard**\n\nReviewer: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12765_\n\n",
    "closed_at": "2012-04-30T10:00:29Z",
    "created_at": "2012-03-28T06:58:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "MPIR doesn't compile with GCC-4.7.0 on ia64",
    "type": "issue",
    "updated_at": "2012-04-30T10:00:29Z",
    "url": "https://github.com/sagemath/sage/issues/12765",
    "user": "https://github.com/jdemeyer"
}
```
<div id="comment:0"></div>

On Skynet iras (SUSE ES10 ia64):

```
Host system:
Linux iras 2.6.16.46-0.12-default #1 SMP Thu May 17 14:00:09 UTC 2007 ia64 ia64 ia64 GNU/Linux
****************************************************
C compiler: gcc
C compiler version:
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/local/gcc-4.7.0/ia64-Linux-suse/libexec/gcc/ia64-unknown-linux-gnu/4.7.0/lto-wrapper
Target: ia64-unknown-linux-gnu
Configured with: /usr/local/gcc-4.7.0/src/gcc-4.7.0/configure --enable-languages=c,c++,fortran --with-gnu-as --with-as=/usr/local/binutils
-2.22/ia64-Linux-suse-gcc-4.6.2/bin/as --with-gnu-ld --with-ld=/usr/local/binutils-2.22/ia64-Linux-suse-gcc-4.6.2/bin/ld --with-gmp=/usr/l
ocal/mpir-2.5.1/ia64-Linux-suse-gcc-4.6.2 --with-mpfr=/usr/local/mpfr-3.1.0/ia64-Linux-suse-mpir-2.5.1-gcc-4.6.2 --with-mpc=/usr/local/mpc
-0.9/ia64-Linux-suse-mpir-2.5.1-mpfr-3.1.0-gcc-4.6.2 --prefix=/usr/local/gcc-4.7.0/ia64-Linux-suse
Thread model: posix
gcc version 4.7.0 (GCC)
****************************************************
Your compiler does not support '-m32' nor '-m64'.  Leaving ABI unset.
Checking what CFLAGS MPIR would use if they were empty...
Settings chosen by MPIR when configuring with CFLAGS unset:
  CC:      gcc
  CFLAGS:  -O2
Settings required to properly build MPIR, taking into account SAGE_DEBUG etc.:
  CFLAGS:
  LDFLAGS:  -Wl,-z,noexecstack
  ABI:
Settings from the "global" environment:
  CC:      gcc
  CFLAGS:
  (CPPFLAGS, CXX and CXXFLAGS are listed below; these don't get modified.)
Using MPIR's settings (plus mandatory ones).
Finally using the following settings:
  CC=gcc
  CFLAGS=-O2
  CPPFLAGS=
  CXX=g++
  CXXFLAGS=
  LDFLAGS= -Wl,-z,noexecstack
  ABI=
(These settings may still get overridden by 'configure' or Makefiles.)
Configuring MPIR with the following options:
    --prefix="/home/jdemeyer/iras/sage-5.0.beta8-gcc/local" --enable-shared --enable-static --enable-gmpcompat --enable-cxx=yes --libdir=/
home/jdemeyer/iras/sage-5.0.beta8-gcc/local/lib
[...]
/bin/sh ../libtool --tag=CC   --mode=compile gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I.. -D__GMP_WITHIN_GMP -I.. -DOPERATION_`echo divrem_eucl
idean_r_1 | sed 's/_$//'`    -O2   -c -o divrem_euclidean_r_1.lo divrem_euclidean_r_1.c
 gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I.. -D__GMP_WITHIN_GMP -I.. -DOPERATION_divrem_euclidean_r_1 -O2 -c divrem_euclidean_r_1.c  -fPIC -DP
IC -o .libs/divrem_euclidean_r_1.o
divrem_euclidean_r_1.c: In function '__gmpn_mod_1_k':
divrem_euclidean_r_1.c:157:5: error: 'asm' operand requires impossible reload
make[2]: *** [divrem_euclidean_r_1.lo] Error 1
make[2]: Leaving directory `/home/jdemeyer/iras/sage-5.0.beta8-gcc/spkg/build/mpir-2.1.3.p9/src/mpn'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/jdemeyer/iras/sage-5.0.beta8-gcc/spkg/build/mpir-2.1.3.p9/src'
make: *** [all] Error 2
Error building MPIR.
```

This is likely a GCC bug, see [http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48496](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48496)

There is a work-around (by essentially disabling all optimization) spkg at #11616.

See #12751 for the GCC-4.7.0 metaticket.

Upstream: **Reported upstream. Developers acknowledge bug.**

Component: **packages: standard**

Reviewer: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/12765_





---

archive/issue_events_174123.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-28T06:58:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12765#event-174123"
}
```



---

archive/issue_events_174124.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-28T06:58:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12765#event-174124"
}
```



---

archive/issue_events_174125.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-28T06:58:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12765#event-174125"
}
```



---

archive/issue_events_174126.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-28T06:58:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12765#event-174126"
}
```



---

archive/issue_comments_143080.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,61 @@\n+On Skynet iras (SUSE ES10 ia64):\n+\n+```\n+Host system:\n+Linux iras 2.6.16.46-0.12-default #1 SMP Thu May 17 14:00:09 UTC 2007 ia64 ia64 ia64 GNU/Linux\n+****************************************************\n+C compiler: gcc\n+C compiler version:\n+Using built-in specs.\n+COLLECT_GCC=gcc\n+COLLECT_LTO_WRAPPER=/usr/local/gcc-4.7.0/ia64-Linux-suse/libexec/gcc/ia64-unknown-linux-gnu/4.7.0/lto-wrapper\n+Target: ia64-unknown-linux-gnu\n+Configured with: /usr/local/gcc-4.7.0/src/gcc-4.7.0/configure --enable-languages=c,c++,fortran --with-gnu-as --with-as=/usr/local/binutils\n+-2.22/ia64-Linux-suse-gcc-4.6.2/bin/as --with-gnu-ld --with-ld=/usr/local/binutils-2.22/ia64-Linux-suse-gcc-4.6.2/bin/ld --with-gmp=/usr/l\n+ocal/mpir-2.5.1/ia64-Linux-suse-gcc-4.6.2 --with-mpfr=/usr/local/mpfr-3.1.0/ia64-Linux-suse-mpir-2.5.1-gcc-4.6.2 --with-mpc=/usr/local/mpc\n+-0.9/ia64-Linux-suse-mpir-2.5.1-mpfr-3.1.0-gcc-4.6.2 --prefix=/usr/local/gcc-4.7.0/ia64-Linux-suse\n+Thread model: posix\n+gcc version 4.7.0 (GCC)\n+****************************************************\n+Your compiler does not support '-m32' nor '-m64'.  Leaving ABI unset.\n+Checking what CFLAGS MPIR would use if they were empty...\n+Settings chosen by MPIR when configuring with CFLAGS unset:\n+  CC:      gcc\n+  CFLAGS:  -O2\n+Settings required to properly build MPIR, taking into account SAGE_DEBUG etc.:\n+  CFLAGS:\n+  LDFLAGS:  -Wl,-z,noexecstack\n+  ABI:\n+Settings from the \"global\" environment:\n+  CC:      gcc\n+  CFLAGS:\n+  (CPPFLAGS, CXX and CXXFLAGS are listed below; these don't get modified.)\n+Using MPIR's settings (plus mandatory ones).\n+Finally using the following settings:\n+  CC=gcc\n+  CFLAGS=-O2\n+  CPPFLAGS=\n+  CXX=g++\n+  CXXFLAGS=\n+  LDFLAGS= -Wl,-z,noexecstack\n+  ABI=\n+(These settings may still get overridden by 'configure' or Makefiles.)\n+Configuring MPIR with the following options:\n+    --prefix=\"/home/jdemeyer/iras/sage-5.0.beta8-gcc/local\" --enable-shared --enable-static --enable-gmpcompat --enable-cxx=yes --libdir=/\n+home/jdemeyer/iras/sage-5.0.beta8-gcc/local/lib\n+[...]\n+/bin/sh ../libtool --tag=CC   --mode=compile gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I.. -D__GMP_WITHIN_GMP -I.. -DOPERATION_`echo divrem_eucl\n+idean_r_1 | sed 's/_$//'`    -O2   -c -o divrem_euclidean_r_1.lo divrem_euclidean_r_1.c\n+ gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I.. -D__GMP_WITHIN_GMP -I.. -DOPERATION_divrem_euclidean_r_1 -O2 -c divrem_euclidean_r_1.c  -fPIC -DP\n+IC -o .libs/divrem_euclidean_r_1.o\n+divrem_euclidean_r_1.c: In function '__gmpn_mod_1_k':\n+divrem_euclidean_r_1.c:157:5: error: 'asm' operand requires impossible reload\n+make[2]: *** [divrem_euclidean_r_1.lo] Error 1\n+make[2]: Leaving directory `/home/jdemeyer/iras/sage-5.0.beta8-gcc/spkg/build/mpir-2.1.3.p9/src/mpn'\n+make[1]: *** [all-recursive] Error 1\n+make[1]: Leaving directory `/home/jdemeyer/iras/sage-5.0.beta8-gcc/spkg/build/mpir-2.1.3.p9/src'\n+make: *** [all] Error 2\n+Error building MPIR.\n+```\n+\n See #12751 for the GCC-4.7.0 metaticket.\n``````\n",
    "created_at": "2012-03-28T07:00:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143080",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,61 @@
+On Skynet iras (SUSE ES10 ia64):
+
+```
+Host system:
+Linux iras 2.6.16.46-0.12-default #1 SMP Thu May 17 14:00:09 UTC 2007 ia64 ia64 ia64 GNU/Linux
+****************************************************
+C compiler: gcc
+C compiler version:
+Using built-in specs.
+COLLECT_GCC=gcc
+COLLECT_LTO_WRAPPER=/usr/local/gcc-4.7.0/ia64-Linux-suse/libexec/gcc/ia64-unknown-linux-gnu/4.7.0/lto-wrapper
+Target: ia64-unknown-linux-gnu
+Configured with: /usr/local/gcc-4.7.0/src/gcc-4.7.0/configure --enable-languages=c,c++,fortran --with-gnu-as --with-as=/usr/local/binutils
+-2.22/ia64-Linux-suse-gcc-4.6.2/bin/as --with-gnu-ld --with-ld=/usr/local/binutils-2.22/ia64-Linux-suse-gcc-4.6.2/bin/ld --with-gmp=/usr/l
+ocal/mpir-2.5.1/ia64-Linux-suse-gcc-4.6.2 --with-mpfr=/usr/local/mpfr-3.1.0/ia64-Linux-suse-mpir-2.5.1-gcc-4.6.2 --with-mpc=/usr/local/mpc
+-0.9/ia64-Linux-suse-mpir-2.5.1-mpfr-3.1.0-gcc-4.6.2 --prefix=/usr/local/gcc-4.7.0/ia64-Linux-suse
+Thread model: posix
+gcc version 4.7.0 (GCC)
+****************************************************
+Your compiler does not support '-m32' nor '-m64'.  Leaving ABI unset.
+Checking what CFLAGS MPIR would use if they were empty...
+Settings chosen by MPIR when configuring with CFLAGS unset:
+  CC:      gcc
+  CFLAGS:  -O2
+Settings required to properly build MPIR, taking into account SAGE_DEBUG etc.:
+  CFLAGS:
+  LDFLAGS:  -Wl,-z,noexecstack
+  ABI:
+Settings from the "global" environment:
+  CC:      gcc
+  CFLAGS:
+  (CPPFLAGS, CXX and CXXFLAGS are listed below; these don't get modified.)
+Using MPIR's settings (plus mandatory ones).
+Finally using the following settings:
+  CC=gcc
+  CFLAGS=-O2
+  CPPFLAGS=
+  CXX=g++
+  CXXFLAGS=
+  LDFLAGS= -Wl,-z,noexecstack
+  ABI=
+(These settings may still get overridden by 'configure' or Makefiles.)
+Configuring MPIR with the following options:
+    --prefix="/home/jdemeyer/iras/sage-5.0.beta8-gcc/local" --enable-shared --enable-static --enable-gmpcompat --enable-cxx=yes --libdir=/
+home/jdemeyer/iras/sage-5.0.beta8-gcc/local/lib
+[...]
+/bin/sh ../libtool --tag=CC   --mode=compile gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I.. -D__GMP_WITHIN_GMP -I.. -DOPERATION_`echo divrem_eucl
+idean_r_1 | sed 's/_$//'`    -O2   -c -o divrem_euclidean_r_1.lo divrem_euclidean_r_1.c
+ gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I.. -D__GMP_WITHIN_GMP -I.. -DOPERATION_divrem_euclidean_r_1 -O2 -c divrem_euclidean_r_1.c  -fPIC -DP
+IC -o .libs/divrem_euclidean_r_1.o
+divrem_euclidean_r_1.c: In function '__gmpn_mod_1_k':
+divrem_euclidean_r_1.c:157:5: error: 'asm' operand requires impossible reload
+make[2]: *** [divrem_euclidean_r_1.lo] Error 1
+make[2]: Leaving directory `/home/jdemeyer/iras/sage-5.0.beta8-gcc/spkg/build/mpir-2.1.3.p9/src/mpn'
+make[1]: *** [all-recursive] Error 1
+make[1]: Leaving directory `/home/jdemeyer/iras/sage-5.0.beta8-gcc/spkg/build/mpir-2.1.3.p9/src'
+make: *** [all] Error 2
+Error building MPIR.
+```
+
 See #12751 for the GCC-4.7.0 metaticket.
``````




---

archive/issue_comments_143081.json:
```json
{
    "body": "Upstream: **Reported upstream. Little or no feedback.**",
    "created_at": "2012-03-28T07:18:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143081",
    "user": "https://github.com/jdemeyer"
}
```

Upstream: **Reported upstream. Little or no feedback.**



---

archive/issue_comments_143082.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -58,4 +58,6 @@\n Error building MPIR.\n ```\n \n+This also happens with the most recent upstream version, MPIR-2.5.1.  This issue has been reported to the mpir-devel mailing list.\n+\n See #12751 for the GCC-4.7.0 metaticket.\n``````\n",
    "created_at": "2012-03-28T07:18:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143082",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -58,4 +58,6 @@
 Error building MPIR.
 ```
 
+This also happens with the most recent upstream version, MPIR-2.5.1.  This issue has been reported to the mpir-devel mailing list.
+
 See #12751 for the GCC-4.7.0 metaticket.
``````




---

archive/issue_comments_143083.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -58,6 +58,6 @@\n Error building MPIR.\n ```\n \n-This also happens with the most recent upstream version, MPIR-2.5.1.  This issue has been reported to the mpir-devel mailing list.\n+This is likely a GCC bug, see [http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48496](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48496)\n \n See #12751 for the GCC-4.7.0 metaticket.\n``````\n",
    "created_at": "2012-03-28T09:45:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143083",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -58,6 +58,6 @@
 Error building MPIR.
 ```
 
-This also happens with the most recent upstream version, MPIR-2.5.1.  This issue has been reported to the mpir-devel mailing list.
+This is likely a GCC bug, see [http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48496](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48496)
 
 See #12751 for the GCC-4.7.0 metaticket.
``````




---

archive/issue_comments_143084.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Little or no feedback.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2012-03-28T09:45:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143084",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Reported upstream. Little or no feedback.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_143085.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nDoesn't look like they've already fixed this upstream, they only work around the problem in libffi.\n\nOr did you test some svn version?",
    "created_at": "2012-04-04T20:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143085",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:4" align="right">comment:4</div>

Doesn't look like they've already fixed this upstream, they only work around the problem in libffi.

Or did you test some svn version?



---

archive/issue_comments_143086.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@nexttime](#comment%3A4):\n> Doesn't look like they've already fixed this upstream, they only work around the problem in libffi.\n> \n> Or did you test some svn version?\n\nI haven't tested anything, I just believed the GCC Bugzilla.",
    "created_at": "2012-04-04T20:48:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143086",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@nexttime](#comment%3A4):
> Doesn't look like they've already fixed this upstream, they only work around the problem in libffi.
> 
> Or did you test some svn version?

I haven't tested anything, I just believed the GCC Bugzilla.



---

archive/issue_comments_143087.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThe MPIR 2.4.0.**p2** spkg at #11616 now includes a work-around for this bug (*almost* completely disabling optimization on Linux ia64 with GCC 4.7.**x**).",
    "created_at": "2012-04-05T15:46:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143087",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:6" align="right">comment:6</div>

The MPIR 2.4.0.**p2** spkg at #11616 now includes a work-around for this bug (*almost* completely disabling optimization on Linux ia64 with GCC 4.7.**x**).



---

archive/issue_comments_143088.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nLooks like we'd have the same problem with NTL:\n\n```\n...\ng++ -I../include -I.  -O2 -g -O3 -g -DHONORS_CXXFLAGS  -fPIC -c  FFT.c\nIn file included from ../include/NTL/ZZ.h:1804:0,\n                 from ../include/NTL/FFT.h:7,\n                 from FFT.c:3:\n../include/NTL/SPMM_ASM.h: In function \u2018void NTL::FFT(long int*, const long int*, long int, long int, const long int*)\u2019:\n../include/NTL/SPMM_ASM.h:103:69: error: \u2018asm\u2019 operand requires impossible reload\n../include/NTL/SPMM_ASM.h:103:69: error: \u2018asm\u2019 operand requires impossible reload\n../include/NTL/SPMM_ASM.h:103:69: error: \u2018asm\u2019 operand requires impossible reload\n../include/NTL/SPMM_ASM.h:103:69: error: \u2018asm\u2019 operand requires impossible reload\n../include/NTL/SPMM_ASM.h:103:69: error: \u2018asm\u2019 operand requires impossible reload\n../include/NTL/SPMM_ASM.h:103:69: error: \u2018asm\u2019 operand requires impossible reload\nmake[3]: *** [FFT.o] Error 1\nmake[3]: Leaving directory `/home/leif/Sage/release/build/iras/sage-5.0.beta12-gcc-4.7.0/spkg/build/ntl-5.5.2/src/src'\nmake[2]: *** [libntl.so] Error 2\nmake[2]: Leaving directory `/home/leif/Sage/release/build/iras/sage-5.0.beta12-gcc-4.7.0/spkg/build/ntl-5.5.2/src/src'\nError creating ntl shared library.\n...\n```",
    "created_at": "2012-04-05T17:50:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143088",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:7" align="right">comment:7</div>

Looks like we'd have the same problem with NTL:

```
...
g++ -I../include -I.  -O2 -g -O3 -g -DHONORS_CXXFLAGS  -fPIC -c  FFT.c
In file included from ../include/NTL/ZZ.h:1804:0,
                 from ../include/NTL/FFT.h:7,
                 from FFT.c:3:
../include/NTL/SPMM_ASM.h: In function ‘void NTL::FFT(long int*, const long int*, long int, long int, const long int*)’:
../include/NTL/SPMM_ASM.h:103:69: error: ‘asm’ operand requires impossible reload
../include/NTL/SPMM_ASM.h:103:69: error: ‘asm’ operand requires impossible reload
../include/NTL/SPMM_ASM.h:103:69: error: ‘asm’ operand requires impossible reload
../include/NTL/SPMM_ASM.h:103:69: error: ‘asm’ operand requires impossible reload
../include/NTL/SPMM_ASM.h:103:69: error: ‘asm’ operand requires impossible reload
../include/NTL/SPMM_ASM.h:103:69: error: ‘asm’ operand requires impossible reload
make[3]: *** [FFT.o] Error 1
make[3]: Leaving directory `/home/leif/Sage/release/build/iras/sage-5.0.beta12-gcc-4.7.0/spkg/build/ntl-5.5.2/src/src'
make[2]: *** [libntl.so] Error 2
make[2]: Leaving directory `/home/leif/Sage/release/build/iras/sage-5.0.beta12-gcc-4.7.0/spkg/build/ntl-5.5.2/src/src'
Error creating ntl shared library.
...
```



---

archive/issue_comments_143089.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n... also zn_poly.",
    "created_at": "2012-04-05T18:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143089",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:8" align="right">comment:8</div>

... also zn_poly.



---

archive/issue_comments_143090.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@nexttime](#comment%3A8):\n> ... also zn_poly.\n\nAnd overrides `-O0 ...` in `CFLAGS` with `-O3`... >8(",
    "created_at": "2012-04-05T18:21:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143090",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@nexttime](#comment%3A8):
> ... also zn_poly.

And overrides `-O0 ...` in `CFLAGS` with `-O3`... >8(



---

archive/issue_comments_143091.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@nexttime](#comment%3A7):\n> Looks like we'd have the same problem with NTL:\n> \n> ```\n> ...\n> g++ -I../include -I.  -O2 -g -O3 -g -DHONORS_CXXFLAGS  -fPIC -c  FFT.c\n> In file included from ../include/NTL/ZZ.h:1804:0,\n>                  from ../include/NTL/FFT.h:7,\n>                  from FFT.c:3:\n> ../include/NTL/SPMM_ASM.h: In function \u2018void NTL::FFT(long int*, const long int*, long int, long int, const long int*)\u2019:\n> ../include/NTL/SPMM_ASM.h:103:69: error: \u2018asm\u2019 operand requires impossible reload\n> ../include/NTL/SPMM_ASM.h:103:69: error: \u2018asm\u2019 operand requires impossible reload\n> ../include/NTL/SPMM_ASM.h:103:69: error: \u2018asm\u2019 operand requires impossible reload\n> ../include/NTL/SPMM_ASM.h:103:69: error: \u2018asm\u2019 operand requires impossible reload\n> ../include/NTL/SPMM_ASM.h:103:69: error: \u2018asm\u2019 operand requires impossible reload\n> ../include/NTL/SPMM_ASM.h:103:69: error: \u2018asm\u2019 operand requires impossible reload\n> make[3]: *** [FFT.o] Error 1\n> make[3]: Leaving directory `/home/leif/Sage/release/build/iras/sage-5.0.beta12-gcc-4.7.0/spkg/build/ntl-5.5.2/src/src'\n> make[2]: *** [libntl.so] Error 2\n> make[2]: Leaving directory `/home/leif/Sage/release/build/iras/sage-5.0.beta12-gcc-4.7.0/spkg/build/ntl-5.5.2/src/src'\n> Error creating ntl shared library.\n> ...\n> ```\n\nDespite that, after a second try with `-fno-strict-aliasing -O3` (and again at least parts of these errors), the spkg is reported to have successfully been installed... ?",
    "created_at": "2012-04-05T18:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143091",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@nexttime](#comment%3A7):
> Looks like we'd have the same problem with NTL:
> 
> ```
> ...
> g++ -I../include -I.  -O2 -g -O3 -g -DHONORS_CXXFLAGS  -fPIC -c  FFT.c
> In file included from ../include/NTL/ZZ.h:1804:0,
>                  from ../include/NTL/FFT.h:7,
>                  from FFT.c:3:
> ../include/NTL/SPMM_ASM.h: In function ‘void NTL::FFT(long int*, const long int*, long int, long int, const long int*)’:
> ../include/NTL/SPMM_ASM.h:103:69: error: ‘asm’ operand requires impossible reload
> ../include/NTL/SPMM_ASM.h:103:69: error: ‘asm’ operand requires impossible reload
> ../include/NTL/SPMM_ASM.h:103:69: error: ‘asm’ operand requires impossible reload
> ../include/NTL/SPMM_ASM.h:103:69: error: ‘asm’ operand requires impossible reload
> ../include/NTL/SPMM_ASM.h:103:69: error: ‘asm’ operand requires impossible reload
> ../include/NTL/SPMM_ASM.h:103:69: error: ‘asm’ operand requires impossible reload
> make[3]: *** [FFT.o] Error 1
> make[3]: Leaving directory `/home/leif/Sage/release/build/iras/sage-5.0.beta12-gcc-4.7.0/spkg/build/ntl-5.5.2/src/src'
> make[2]: *** [libntl.so] Error 2
> make[2]: Leaving directory `/home/leif/Sage/release/build/iras/sage-5.0.beta12-gcc-4.7.0/spkg/build/ntl-5.5.2/src/src'
> Error creating ntl shared library.
> ...
> ```

Despite that, after a second try with `-fno-strict-aliasing -O3` (and again at least parts of these errors), the spkg is reported to have successfully been installed... ?



---

archive/issue_comments_143092.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@nexttime](#comment%3A9):\n> Replying to [@nexttime](#comment%3A8):\n> > ... also zn_poly.\n> \n> \n> And overrides `-O0 ...` in `CFLAGS` with `-O3`... >8(\n\nAnd that's *not* upstream.  From `spkg-install` (which is a mess):\n\n```sh\n...\nCFLAGS=\"$CFLAGS -g -fPIC -O3 -L.\"; export CFLAGS\nLDFLAGS=\"$LDFLAGS\"; export LDFLAGS\n...\n```\n\nOMG.",
    "created_at": "2012-04-05T18:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143092",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@nexttime](#comment%3A9):
> Replying to [@nexttime](#comment%3A8):
> > ... also zn_poly.
> 
> 
> And overrides `-O0 ...` in `CFLAGS` with `-O3`... >8(

And that's *not* upstream.  From `spkg-install` (which is a mess):

```sh
...
CFLAGS="$CFLAGS -g -fPIC -O3 -L."; export CFLAGS
LDFLAGS="$LDFLAGS"; export LDFLAGS
...
```

OMG.



---

archive/issue_comments_143093.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nFurthermore: GMP-ECM, FLINT, MPFR and PARI.",
    "created_at": "2012-04-05T19:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143093",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:12" align="right">comment:12</div>

Furthermore: GMP-ECM, FLINT, MPFR and PARI.



---

archive/issue_comments_143094.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nJeroen, should I open separate (GCC 4.7 on ia64) tickets for these, or perhaps just one meta-ticket?\n\nFLINT and zn_poly are currently \"under construction\" anyway; Andrew Ohana slightly fixed these just to respect `CC` and `CXX` for the `clang` port, so we could also do (little) changes on those open tickets.\n\n(For FLINT there's also the ARM port ticket, which upgrades to 1.5.2 and thereby makes a couple of changes unnecessary, or at least different, with less effort.  I also have an old, broadly cleaned-up FLINT 1.5.2 spkg, which I believe would need some work, at least some rebasing.)\n\n[GMP-ECM, MPFR and PARI seem to build with `-O0 [-finline-functions -fschedule-insns]` in `C/CPP/CXXFLAGS`, without further changes to their `spkg-install` or Makefiles etc.; haven't yet tried with `SAGE_CHECK=yes` though.]",
    "created_at": "2012-04-05T20:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143094",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:13" align="right">comment:13</div>

Jeroen, should I open separate (GCC 4.7 on ia64) tickets for these, or perhaps just one meta-ticket?

FLINT and zn_poly are currently "under construction" anyway; Andrew Ohana slightly fixed these just to respect `CC` and `CXX` for the `clang` port, so we could also do (little) changes on those open tickets.

(For FLINT there's also the ARM port ticket, which upgrades to 1.5.2 and thereby makes a couple of changes unnecessary, or at least different, with less effort.  I also have an old, broadly cleaned-up FLINT 1.5.2 spkg, which I believe would need some work, at least some rebasing.)

[GMP-ECM, MPFR and PARI seem to build with `-O0 [-finline-functions -fschedule-insns]` in `C/CPP/CXXFLAGS`, without further changes to their `spkg-install` or Makefiles etc.; haven't yet tried with `SAGE_CHECK=yes` though.]



---

archive/issue_comments_143095.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@nexttime](#comment%3A13):\n> Jeroen, should I open separate (GCC 4.7 on ia64) tickets for these, or perhaps just one meta-ticket?\n\nTo be honest, I don't care too much about these issues...  It makes more sense to open a ticket to blacklist GCC-4.7.0 on ia64, i.e. build Sage's GCC-4.6.3 in this case.\n\nI'm currently building an svn version of GCC-4.7.x to see whether the problem is fixed.",
    "created_at": "2012-04-05T20:26:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143095",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@nexttime](#comment%3A13):
> Jeroen, should I open separate (GCC 4.7 on ia64) tickets for these, or perhaps just one meta-ticket?

To be honest, I don't care too much about these issues...  It makes more sense to open a ticket to blacklist GCC-4.7.0 on ia64, i.e. build Sage's GCC-4.6.3 in this case.

I'm currently building an svn version of GCC-4.7.x to see whether the problem is fixed.



---

archive/issue_comments_143096.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nMPFR though is a dependency for GCC, so that's more important.",
    "created_at": "2012-04-05T20:28:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143096",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

MPFR though is a dependency for GCC, so that's more important.



---

archive/issue_comments_143097.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@jdemeyer](#comment%3A15):\n> MPFR though is a dependency for GCC, so that's more important.\n\nYep.",
    "created_at": "2012-04-05T20:49:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143097",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@jdemeyer](#comment%3A15):
> MPFR though is a dependency for GCC, so that's more important.

Yep.



---

archive/issue_comments_143098.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThis one is more funny:\n\n```\n...\ng++: error: unrecognized command line option \u2018-m64\u2019\nmake[2]: *** [gfan] Error 1\nmake[2]: Leaving directory `/home/leif/Sage/release/build/iras/sage-5.0.beta12-gcc-4.7.0/spkg/build/gfan-0.4plus.p2/src'\nError building gfan.\n...\n```",
    "created_at": "2012-04-05T21:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143098",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:17" align="right">comment:17</div>

This one is more funny:

```
...
g++: error: unrecognized command line option ‘-m64’
make[2]: *** [gfan] Error 1
make[2]: Leaving directory `/home/leif/Sage/release/build/iras/sage-5.0.beta12-gcc-4.7.0/spkg/build/gfan-0.4plus.p2/src'
Error building gfan.
...
```



---

archive/issue_comments_143099.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThat's weird because GCC on ia64 never supported `-m64` AFAIK.  So it should fail with any GCC version.",
    "created_at": "2012-04-05T21:16:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143099",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

That's weird because GCC on ia64 never supported `-m64` AFAIK.  So it should fail with any GCC version.



---

archive/issue_comments_143100.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@nexttime](#comment%3A17):\n> This one is more funny:\n> \n> ```\n> ...\n> g++: error: unrecognized command line option \u2018-m64\u2019\n> make[2]: *** [gfan] Error 1\n> make[2]: Leaving directory `/home/leif/Sage/release/build/iras/sage-5.0.beta12-gcc-4.7.0/spkg/build/gfan-0.4plus.p2/src'\n> Error building gfan.\n> ...\n> ```\n\nThe funniest thing being that **that is my fault**... B)\n\n(since I made the p2, apparently without looking at the patched Makefile, and without testing on non-x86_64 systems)",
    "created_at": "2012-04-05T21:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143100",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@nexttime](#comment%3A17):
> This one is more funny:
> 
> ```
> ...
> g++: error: unrecognized command line option ‘-m64’
> make[2]: *** [gfan] Error 1
> make[2]: Leaving directory `/home/leif/Sage/release/build/iras/sage-5.0.beta12-gcc-4.7.0/spkg/build/gfan-0.4plus.p2/src'
> Error building gfan.
> ...
> ```

The funniest thing being that **that is my fault**... B)

(since I made the p2, apparently without looking at the patched Makefile, and without testing on non-x86_64 systems)



---

archive/issue_comments_143101.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@nexttime](#comment%3A4):\n> Doesn't look like they've already fixed this upstream, they only work around the problem in libffi.\n\nYou are right, it is not fixed upsteam (I tried the latest svn version of the 4.7 branch on cleo).",
    "created_at": "2012-04-06T14:56:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143101",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@nexttime](#comment%3A4):
> Doesn't look like they've already fixed this upstream, they only work around the problem in libffi.

You are right, it is not fixed upsteam (I tried the latest svn version of the 4.7 branch on cleo).



---

archive/issue_comments_143102.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, but not in a stable release.** to **Reported upstream. Developers acknowledge bug.**",
    "created_at": "2012-04-06T14:56:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143102",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Fixed upstream, but not in a stable release.** to **Reported upstream. Developers acknowledge bug.**



---

archive/issue_comments_143103.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@nexttime](#comment%3A11):\n> Replying to [@nexttime](#comment%3A9):\n> > Replying to [@nexttime](#comment%3A8):\n> > > ... also zn_poly.\n> > \n> > \n> > And overrides `-O0 ...` in `CFLAGS` with `-O3`... >8(\n> \n> \n> And that's *not* upstream.  From `spkg-install` (which is a mess):\n> \n> ```sh\n> ...\n> CFLAGS=\"$CFLAGS -g -fPIC -O3 -L.\"; export CFLAGS\n> LDFLAGS=\"$LDFLAGS\"; export LDFLAGS\n> ...\n> ```\n> \n> OMG.\n\nForgot: A fixed zn_poly spkg (not yet taking care of GCC 4.7.0 on ia64 IIRC) is available at #12433, still needing review.  (The main purpose of that ticket was to make zn_poly respect `CC` etc.; it now also does a major clean-up.)",
    "created_at": "2012-04-14T21:53:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143103",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@nexttime](#comment%3A11):
> Replying to [@nexttime](#comment%3A9):
> > Replying to [@nexttime](#comment%3A8):
> > > ... also zn_poly.
> > 
> > 
> > And overrides `-O0 ...` in `CFLAGS` with `-O3`... >8(
> 
> 
> And that's *not* upstream.  From `spkg-install` (which is a mess):
> 
> ```sh
> ...
> CFLAGS="$CFLAGS -g -fPIC -O3 -L."; export CFLAGS
> LDFLAGS="$LDFLAGS"; export LDFLAGS
> ...
> ```
> 
> OMG.

Forgot: A fixed zn_poly spkg (not yet taking care of GCC 4.7.0 on ia64 IIRC) is available at #12433, still needing review.  (The main purpose of that ticket was to make zn_poly respect `CC` etc.; it now also does a major clean-up.)



---

archive/issue_events_174127.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-30T10:00:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12765#event-174127"
}
```



---

archive/issue_events_174128.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-30T10:00:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12765#event-174128"
}
```



---

archive/issue_events_174129.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-30T10:00:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12765#event-174129"
}
```



---

archive/issue_events_174130.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-30T10:00:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "c6c6c6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12765#event-174130"
}
```



---

archive/issue_comments_143104.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -60,4 +60,6 @@\n \n This is likely a GCC bug, see [http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48496](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48496)\n \n+There is a work-around (by essentially disabling all optimization) spkg at #11616.\n+\n See #12751 for the GCC-4.7.0 metaticket.\n``````\n",
    "created_at": "2012-04-30T10:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143104",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -60,4 +60,6 @@
 
 This is likely a GCC bug, see [http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48496](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48496)
 
+There is a work-around (by essentially disabling all optimization) spkg at #11616.
+
 See #12751 for the GCC-4.7.0 metaticket.
``````




---

archive/issue_comments_143105.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2012-04-30T10:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12765#issuecomment-143105",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**
