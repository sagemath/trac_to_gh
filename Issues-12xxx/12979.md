# Issue 12979: Introspection with wildcards should be careful with the evaluation of attributes

archive/issues_012807.json:
```json
{
    "assignees": [],
    "body": "\n```\n    sage: I.*conj*?\n    Traceback (most recent call last):\n    KABOOOM\n    TypeError: expressions containing only a numeric coefficient, constant or symbol have no operands\n```\n\nBehind the scene, ``I.*conj*?`` currently evaluates all attributes of\n``I``. However some lazy attribute, or more generally properties, may\ntrigger an error in the process; here it is:\n\n```\nsage: I.op\n------------------------------------------------------------\nTraceback (most recent call last):\n  File \"<ipython console>\", line 1, in <module>\n  File \"expression.pyx\", line 4048, in sage.symbolic.expression.Expression.op.__get__ (sage/symbolic/expression.cpp:18034)\nTypeError: expressions containing only a numeric coefficient, constant or symbol have no operands\n```\n\nThis issue prevents introspection for quite simple objects. There\ncertainly are use cases where evaluating all attributes would not\nraise errors, but could be prohibitively long (more than 1s is almost\nunacceptable for interactive introspection).\n\nAt the minimum, introspection should trap those errors, and ignore\nthem gracefully. Maybe it should even not evaluate at all the\nattributes, and just use dir.\n\n\nAssignee: **@williamstein**\n\nCC:  sage-combinat\n\nKeywords: **introspection, wildcards**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12979_\n\n",
    "created_at": "2012-05-19T17:18:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Introspection with wildcards should be careful with the evaluation of attributes",
    "type": "issue",
    "updated_at": "2022-12-29T01:28:25Z",
    "url": "https://github.com/sagemath/sage/issues/12979",
    "user": "https://github.com/nthiery"
}
```

```
    sage: I.*conj*?
    Traceback (most recent call last):
    KABOOOM
    TypeError: expressions containing only a numeric coefficient, constant or symbol have no operands
```

Behind the scene, ``I.*conj*?`` currently evaluates all attributes of
``I``. However some lazy attribute, or more generally properties, may
trigger an error in the process; here it is:

```
sage: I.op
------------------------------------------------------------
Traceback (most recent call last):
  File "<ipython console>", line 1, in <module>
  File "expression.pyx", line 4048, in sage.symbolic.expression.Expression.op.__get__ (sage/symbolic/expression.cpp:18034)
TypeError: expressions containing only a numeric coefficient, constant or symbol have no operands
```

This issue prevents introspection for quite simple objects. There
certainly are use cases where evaluating all attributes would not
raise errors, but could be prohibitively long (more than 1s is almost
unacceptable for interactive introspection).

At the minimum, introspection should trap those errors, and ignore
them gracefully. Maybe it should even not evaluate at all the
attributes, and just use dir.


Assignee: **@williamstein**

CC:  sage-combinat

Keywords: **introspection, wildcards**

_Issue created by migration from https://trac.sagemath.org/ticket/12979_





---

archive/issue_events_158820.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-05-19T17:18:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12979",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "component: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12979#event-158820"
}
```



---

archive/issue_events_158821.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-05-19T17:18:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12979",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12979#event-158821"
}
```



---

archive/issue_events_158822.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-05-19T17:18:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12979",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12979#event-158822"
}
```



---

archive/issue_events_158823.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12979",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12979#event-158823"
}
```



---

archive/issue_events_158824.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12979",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12979#event-158824"
}
```



---

archive/issue_events_158825.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12979",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12979#event-158825"
}
```



---

archive/issue_events_158826.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12979",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12979#event-158826"
}
```



---

archive/issue_events_158827.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12979",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12979#event-158827"
}
```



---

archive/issue_events_158828.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12979",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12979#event-158828"
}
```



---

archive/issue_events_158829.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12979",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12979#event-158829"
}
```



---

archive/issue_events_158830.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12979",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12979#event-158830"
}
```



---

archive/issue_events_158831.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12979",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12979#event-158831"
}
```
