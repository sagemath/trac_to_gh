# Issue 12843: Make zeromq and pyzmq optional packages

archive/issues_012671.json:
```json
{
    "body": "The single cell server already requires zeromq+pyzmq, and the ordinary notebook server probably will soon. Since they are also useful to work with any kind of distributed memory machines, we should just make them default spkgs. They are also pretty small, about 2MB altogether.\n\nThese spkgs are based on version that William created in January 2011, but updated to the newest upstream version and include a SPKG.txt:\n\n* [http://www.stp.dias.ie/~vbraun/Sage/spkg/zeromq-2.2.0.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/zeromq-2.2.0.p0.spkg)\n* [http://www.stp.dias.ie/~vbraun/Sage/spkg/pyzmq-2.1.11.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/pyzmq-2.1.11.p0.spkg)\n\n\n\n**CC:**  @jasongrout afleckenstein @nilesjohnson @benjaminfjones\n\n**Keywords:** zeromq zmq 0mq pyzmq sd40.5\n\n**Reviewer:** Benjamin Jones\n\n**Author:** Volker Braun, William Stein\n\nIssue created by migration from https://trac.sagemath.org/ticket/12843\n\n",
    "closed_at": "2012-05-26T16:31:47Z",
    "created_at": "2012-04-14T20:58:04Z",
    "labels": [
        "component: packages: optional",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.1",
    "title": "Make zeromq and pyzmq optional packages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12843",
    "user": "https://github.com/vbraun"
}
```
The single cell server already requires zeromq+pyzmq, and the ordinary notebook server probably will soon. Since they are also useful to work with any kind of distributed memory machines, we should just make them default spkgs. They are also pretty small, about 2MB altogether.

These spkgs are based on version that William created in January 2011, but updated to the newest upstream version and include a SPKG.txt:

* [http://www.stp.dias.ie/~vbraun/Sage/spkg/zeromq-2.2.0.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/zeromq-2.2.0.p0.spkg)
* [http://www.stp.dias.ie/~vbraun/Sage/spkg/pyzmq-2.1.11.p0.spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/pyzmq-2.1.11.p0.spkg)



**CC:**  @jasongrout afleckenstein @nilesjohnson @benjaminfjones

**Keywords:** zeromq zmq 0mq pyzmq sd40.5

**Reviewer:** Benjamin Jones

**Author:** Volker Braun, William Stein

Issue created by migration from https://trac.sagemath.org/ticket/12843





---

archive/issue_comments_180043.json:
```json
{
    "body": "**Changing keywords** from \"zeromq zmq 0mq pyzmq\" to \"zeromq zmq 0mq pyzmq sd40.5\".",
    "created_at": "2012-05-25T22:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12843#issuecomment-180043",
    "user": "https://github.com/benjaminfjones"
}
```

**Changing keywords** from "zeromq zmq 0mq pyzmq" to "zeromq zmq 0mq pyzmq sd40.5".



---

archive/issue_comments_180044.json:
```json
{
    "body": "**Reviewer:** Benjamin Jones",
    "created_at": "2012-05-25T22:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12843#issuecomment-180044",
    "user": "https://github.com/benjaminfjones"
}
```

**Reviewer:** Benjamin Jones



---

archive/issue_comments_180045.json:
```json
{
    "body": "<a id='comment:1'></a>\nI started to review the two spkg's. `zeromq-2.2.0.p0.spkg` installs successfully. I unpacked and re-packaged using `sage-pkg` without problems. I did see some tmp files lying around:\n\n* SPKG.txt~\n* spkg-install~\n\nand `pyzmq-2.1.11.p0.spkg` has:\n\n* SPKG.txt~\n\nAfter install `import zmq` works and I experimented with some simple examples from the ZMQ guide. \n\n---\n\nIf anyone wants to do some simple testing, you can grab the client and server scripts in: http://sage.math.washington.edu/home/bjones/sage-devel/zmq/, open two terminals and run:\n\n1st terminal:\n\n```\nsage -python hwserver.py\n```\n\n2nd terminal:\n\n```\nsage -python hwclient.py\n```",
    "created_at": "2012-05-25T22:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12843#issuecomment-180045",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:1'></a>
I started to review the two spkg's. `zeromq-2.2.0.p0.spkg` installs successfully. I unpacked and re-packaged using `sage-pkg` without problems. I did see some tmp files lying around:

* SPKG.txt~
* spkg-install~

and `pyzmq-2.1.11.p0.spkg` has:

* SPKG.txt~

After install `import zmq` works and I experimented with some simple examples from the ZMQ guide. 

---

If anyone wants to do some simple testing, you can grab the client and server scripts in: http://sage.math.washington.edu/home/bjones/sage-devel/zmq/, open two terminals and run:

1st terminal:

```
sage -python hwserver.py
```

2nd terminal:

```
sage -python hwclient.py
```



---

archive/issue_comments_180046.json:
```json
{
    "body": "<a id='comment:2'></a>\nI updated the spkg files to remove the backup files and committed changes.",
    "created_at": "2012-05-26T05:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12843#issuecomment-180046",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'></a>
I updated the spkg files to remove the backup files and committed changes.



---

archive/issue_comments_180047.json:
```json
{
    "body": "<a id='comment:3'></a>\nSorry, looks like we missed in zeromq:\n\n* .hgignore~\n\nThe pyzmq spkg looks good.\n\n---\n\nWhat's the procedure, after a positive review? A sage-devel vote on inclusion of the packages as standard?",
    "created_at": "2012-05-26T05:51:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12843#issuecomment-180047",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:3'></a>
Sorry, looks like we missed in zeromq:

* .hgignore~

The pyzmq spkg looks good.

---

What's the procedure, after a positive review? A sage-devel vote on inclusion of the packages as standard?



---

archive/issue_comments_180048.json:
```json
{
    "body": "<a id='comment:4'></a>\nFirst it should optional for some time, usually.  So a vote to make it optional would usually be next.",
    "created_at": "2012-05-26T06:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12843#issuecomment-180048",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:4'></a>
First it should optional for some time, usually.  So a vote to make it optional would usually be next.



---

archive/issue_events_041111.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "rename": {
        "from": "Make zeromq and pyzmq standard packages",
        "to": "Make zeromq and pyzmq optional packages"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12843#event-41111"
}
```



---

archive/issue_comments_180049.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2012-05-26T06:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12843#issuecomment-180049",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_180050.json:
```json
{
    "body": "<a id='comment:5'></a>\nI updated the zeromq spkg to remove the .hgignore~\n\nI'll change this ticket to say \"make optional package\" and we can take it to sage-devel from there. We don't need to vote on that, only to make it standard.",
    "created_at": "2012-05-26T06:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12843#issuecomment-180050",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'></a>
I updated the zeromq spkg to remove the .hgignore~

I'll change this ticket to say "make optional package" and we can take it to sage-devel from there. We don't need to vote on that, only to make it standard.



---

archive/issue_comments_180051.json:
```json
{
    "body": "<a id='comment:6'></a>\nAs long as nothing else in Sage depends on zeromq, obviously zeromq should not be a standard package.",
    "created_at": "2012-05-26T06:16:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12843#issuecomment-180051",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
As long as nothing else in Sage depends on zeromq, obviously zeromq should not be a standard package.



---

archive/issue_comments_180052.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2012-05-26T06:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12843#issuecomment-180052",
    "user": "https://github.com/benjaminfjones"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_180053.json:
```json
{
    "body": "<a id='comment:7'></a>\nLooks good. Positive review.",
    "created_at": "2012-05-26T06:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12843#issuecomment-180053",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:7'></a>
Looks good. Positive review.



---

archive/issue_events_041112.json:
```json
{
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "label": "component: optional packages",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12843#event-41112"
}
```



---

archive/issue_comments_180054.json:
```json
{
    "body": "<a id='comment:9'></a>\nboth spkges are in the server's list of optional ones and on their way around the world :)",
    "created_at": "2012-05-26T13:59:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12843#issuecomment-180054",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:9'></a>
both spkges are in the server's list of optional ones and on their way around the world :)



---

archive/issue_events_041113.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-26T16:31:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12843",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12843#event-41113"
}
```
