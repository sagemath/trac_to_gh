# Issue 12947: Bug in integrating x*cos(x^3)

archive/issues_012775.json:
```json
{
    "assignees": [
        "https://github.com/burcin"
    ],
    "body": "From this [sage-support thread](https://groups.google.com/forum/?fromgroups#!topic/sage-support/-Dzaion3VrA):\n\n```\nsage: numerical_integral(x*cos(x^3),0,.5)\n(0.1247560409610376, 1.3850702913602309e-15)\nsage: integrate(x*cos(x^3),(x,0,1/2)).n()\n-0.0677842754623305\n```\nGiven\n\n```\nsage: integrate(x*cos(x^3),x)\n1/12*((-I*sqrt(3) - 1)*gamma(2/3, -I*x^3) + (I*sqrt(3) - 1)*gamma(2/3, I*x^3))*(x^3)^(1/3)/x\nsage: integrate(x*cos(x^3),(x,0,1/2))\n-1/3*gamma(2/3) + 1/6*gamma(2/3, -1/8*I) + 1/6*gamma(2/3, 1/8*I)\n```\nthis is probably something where Maxima is returning too many imaginary things and something isn't cancelling right either there or in Sage proper?  We've had trouble with either side of this with incomplete gamma functions before.\n\nCC:  @orlitzky\n\nComponent: **calculus**\n\nAuthor: **Peter Bruin**\n\nBranch/Commit: **[`72706eb`](https://github.com/sagemath/sagetrac-mirror/commit/72706eb6697fba361e138ddaca0765f8415eb8f3)**\n\nReviewer: **Ralf Stephan**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12947_\n\n",
    "closed_at": "2014-07-19T04:57:53Z",
    "created_at": "2012-05-14T12:33:57Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20calculus",
        "https://github.com/sagemath/sage/labels/p%3A%20trivial%20/%205",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Bug in integrating x*cos(x^3)",
    "type": "issue",
    "updated_at": "2014-07-19T04:57:53Z",
    "url": "https://github.com/sagemath/sage/issues/12947",
    "user": "https://github.com/kcrisman"
}
```
From this [sage-support thread](https://groups.google.com/forum/?fromgroups#!topic/sage-support/-Dzaion3VrA):

```
sage: numerical_integral(x*cos(x^3),0,.5)
(0.1247560409610376, 1.3850702913602309e-15)
sage: integrate(x*cos(x^3),(x,0,1/2)).n()
-0.0677842754623305
```
Given

```
sage: integrate(x*cos(x^3),x)
1/12*((-I*sqrt(3) - 1)*gamma(2/3, -I*x^3) + (I*sqrt(3) - 1)*gamma(2/3, I*x^3))*(x^3)^(1/3)/x
sage: integrate(x*cos(x^3),(x,0,1/2))
-1/3*gamma(2/3) + 1/6*gamma(2/3, -1/8*I) + 1/6*gamma(2/3, 1/8*I)
```
this is probably something where Maxima is returning too many imaginary things and something isn't cancelling right either there or in Sage proper?  We've had trouble with either side of this with incomplete gamma functions before.

CC:  @orlitzky

Component: **calculus**

Author: **Peter Bruin**

Branch/Commit: **[`72706eb`](https://github.com/sagemath/sagetrac-mirror/commit/72706eb6697fba361e138ddaca0765f8415eb8f3)**

Reviewer: **Ralf Stephan**

_Issue created by migration from https://trac.sagemath.org/ticket/12947_





---

archive/issue_events_177346.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-14T12:33:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177346"
}
```



---

archive/issue_events_177347.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-14T12:33:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20calculus",
    "label_color": "0000ff",
    "label_name": "c: calculus",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177347"
}
```



---

archive/issue_events_177348.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-14T12:33:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177348"
}
```



---

archive/issue_events_177349.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-14T12:33:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177349"
}
```



---

archive/issue_events_177350.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2012-05-14T12:33:57Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "subject": "https://github.com/kcrisman",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177350"
}
```



---

archive/issue_comments_146663.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\n\n```\nsage: assume(u>0)\nsage: integrate(x*cos(x^3),x,0,u)\n-1/3*gamma(2/3) + 1/6*gamma(2/3, -I*u^3) + 1/6*gamma(2/3, I*u^3)\n```\nTo compare the \"right\" answer, do \n\n```\nsage: f(u) = integrate(x*cos(x^3),x,0,u)\nsage: plot(f,(u,0,2*pi))\nsage: plot(lambda u: numerical_integral(x*cos(x^3),0,u)[0],(u,0,2*pi))\n```\nNote how they don't really look quite similar, not really a branch cut thing? Also, in Maxima\n\n```\n(%i2) display2d:false;\n(%o2) false\n(%i3) f:integrate(x*cos(x^3),x);\n(%o3) (gamma_incomplete(2/3,%i*x^3)+gamma_incomplete(2/3,-%i*x^3))/6\n(%i5) diff(f,x);\n(%o5) (-3*%i*x*%e^(%i*x^3)/(-1)^(1/6)-3*%i*x*%e^-(%i*x^3)/(-1)^(1/6))/6\n```",
    "created_at": "2012-05-15T02:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146663",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:1" align="right">comment:1</div>


```
sage: assume(u>0)
sage: integrate(x*cos(x^3),x,0,u)
-1/3*gamma(2/3) + 1/6*gamma(2/3, -I*u^3) + 1/6*gamma(2/3, I*u^3)
```
To compare the "right" answer, do 

```
sage: f(u) = integrate(x*cos(x^3),x,0,u)
sage: plot(f,(u,0,2*pi))
sage: plot(lambda u: numerical_integral(x*cos(x^3),0,u)[0],(u,0,2*pi))
```
Note how they don't really look quite similar, not really a branch cut thing? Also, in Maxima

```
(%i2) display2d:false;
(%o2) false
(%i3) f:integrate(x*cos(x^3),x);
(%o3) (gamma_incomplete(2/3,%i*x^3)+gamma_incomplete(2/3,-%i*x^3))/6
(%i5) diff(f,x);
(%o5) (-3*%i*x*%e^(%i*x^3)/(-1)^(1/6)-3*%i*x*%e^-(%i*x^3)/(-1)^(1/6))/6
```



---

archive/issue_comments_146664.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nRobert Dodier of Maxima suggests the following later in the thread.\n\n```\n\n(%i5) display2d:false;\n\n(%o5) false\n(%i6) integrate(x*cos(x^3),x);\n\n(%o6) (gamma_incomplete(2/3,%i*x^3)+gamma_incomplete(2/3,-%i*x^3))/6\n(%i7) domain:complex;\n\n(%o7) complex\n(%i8) integrate(x*cos(x^3),x);\n\n(%o8) ((sqrt(3)*%i-1)*gamma_incomplete(2/3,%i*x^3)\n       +(-sqrt(3)*%i-1)*gamma_incomplete(2/3,-%i*x^3))\n       *(x^3)^(1/3)\n       /(12*x)\n```\nBut this doesn't resolve the original issue.\n\n```\n\n(%i1) display2d:false;\n\n(%o1) false\n(%i2) integrate(x*cos(x^3),x,0,1/2);\n\n(%o2) gamma_incomplete(2/3,%i/8)/6+gamma_incomplete(2/3,-%i/8)/6-gamma(2/3)/3\n(%i3) domain:complex;\n\n(%o3) complex\n(%i4) integrate(x*cos(x^3),x,0,1/2);\n\n(%o4) gamma_incomplete(2/3,%i/8)/6+gamma_incomplete(2/3,-%i/8)/6-gamma(2/3)/3\n```",
    "created_at": "2012-05-15T14:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146664",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

Robert Dodier of Maxima suggests the following later in the thread.

```

(%i5) display2d:false;

(%o5) false
(%i6) integrate(x*cos(x^3),x);

(%o6) (gamma_incomplete(2/3,%i*x^3)+gamma_incomplete(2/3,-%i*x^3))/6
(%i7) domain:complex;

(%o7) complex
(%i8) integrate(x*cos(x^3),x);

(%o8) ((sqrt(3)*%i-1)*gamma_incomplete(2/3,%i*x^3)
       +(-sqrt(3)*%i-1)*gamma_incomplete(2/3,-%i*x^3))
       *(x^3)^(1/3)
       /(12*x)
```
But this doesn't resolve the original issue.

```

(%i1) display2d:false;

(%o1) false
(%i2) integrate(x*cos(x^3),x,0,1/2);

(%o2) gamma_incomplete(2/3,%i/8)/6+gamma_incomplete(2/3,-%i/8)/6-gamma(2/3)/3
(%i3) domain:complex;

(%o3) complex
(%i4) integrate(x*cos(x^3),x,0,1/2);

(%o4) gamma_incomplete(2/3,%i/8)/6+gamma_incomplete(2/3,-%i/8)/6-gamma(2/3)/3
```



---

archive/issue_comments_146665.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nRobert points out that in 5.27.0 this is at least a little better, though we still need to change domain.\n\n```\n\nMaxima 5.27.0 http://maxima.sourceforge.net\nusing Lisp SBCL 1.0.24\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) display2d:false;\n\n(%o1) false\n(%i2) domain:complex;\n\n(%o2) complex\n(%i3) integrate (x*cos(x^3), x, 0, 1/2); \n\n(%o3) %i*gamma_incomplete(2/3,%i/8)/(4*sqrt(3))\n -gamma_incomplete(2/3,%i/8)/12-%i*gamma_incomplete(2/3,-%i/8)/(4*sqrt(3))\n -gamma_incomplete(2/3,-%i/8)/12+gamma(2/3)/6\n(%i4) expand(float(%));\n\n(%o4) .1247560409610377\n```",
    "created_at": "2012-05-15T15:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146665",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:3" align="right">comment:3</div>

Robert points out that in 5.27.0 this is at least a little better, though we still need to change domain.

```

Maxima 5.27.0 http://maxima.sourceforge.net
using Lisp SBCL 1.0.24
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) display2d:false;

(%o1) false
(%i2) domain:complex;

(%o2) complex
(%i3) integrate (x*cos(x^3), x, 0, 1/2); 

(%o3) %i*gamma_incomplete(2/3,%i/8)/(4*sqrt(3))
 -gamma_incomplete(2/3,%i/8)/12-%i*gamma_incomplete(2/3,-%i/8)/(4*sqrt(3))
 -gamma_incomplete(2/3,-%i/8)/12+gamma(2/3)/6
(%i4) expand(float(%));

(%o4) .1247560409610377
```



---

archive/issue_comments_146666.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nBut since we already use `domain:complex` in the initialization code for Maxima for integrals and such, presumably an upgrade would fix this?",
    "created_at": "2012-05-15T15:50:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146666",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">comment:4</div>

But since we already use `domain:complex` in the initialization code for Maxima for integrals and such, presumably an upgrade would fix this?



---

archive/issue_comments_146667.json:
```json
{
    "body": "Upstream: **Fixed upstream, in a later stable release.**",
    "created_at": "2012-05-15T15:50:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146667",
    "user": "https://github.com/kcrisman"
}
```

Upstream: **Fixed upstream, in a later stable release.**



---

archive/issue_comments_146668.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nSee my last comment on #11238 for why we can't have nice things.\n\nThat's the only real issue with maxima-5.27. Some messages are getting mangled e.g. when maxima asks us for more information, but they aren't substantial regressions.",
    "created_at": "2012-05-23T17:40:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146668",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:5" align="right">comment:5</div>

See my last comment on #11238 for why we can't have nice things.

That's the only real issue with maxima-5.27. Some messages are getting mangled e.g. when maxima asks us for more information, but they aren't substantial regressions.



---

archive/issue_events_177351.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177351"
}
```



---

archive/issue_events_177352.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177352"
}
```



---

archive/issue_events_177353.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177353"
}
```



---

archive/issue_events_177354.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177354"
}
```



---

archive/issue_events_177355.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177355"
}
```



---

archive/issue_events_177356.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177356"
}
```



---

archive/issue_events_177357.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-30T22:49:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177357"
}
```



---

archive/issue_events_177358.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-30T22:49:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20trivial%20/%205",
    "label_color": "fff9e5",
    "label_name": "p: trivial / 5",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177358"
}
```



---

archive/issue_comments_146669.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThis seems to have been fixed some time ago; it works correctly in both Sage 5.13 and 6.2.\n\n```\nsage: integrate(x*cos(x^3),(x,0,1/2)).n()\n0.124756040961038\n```",
    "created_at": "2014-05-30T22:49:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146669",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:9" align="right">comment:9</div>

This seems to have been fixed some time ago; it works correctly in both Sage 5.13 and 6.2.

```
sage: integrate(x*cos(x^3),(x,0,1/2)).n()
0.124756040961038
```



---

archive/issue_comments_146670.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, in a later stable release.** to none",
    "created_at": "2014-05-30T22:49:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146670",
    "user": "https://github.com/pjbruin"
}
```

Changed upstream from **Fixed upstream, in a later stable release.** to none



---

archive/issue_comments_146671.json:
```json
{
    "body": "Work Issues: **add doctest**",
    "created_at": "2014-05-30T22:49:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146671",
    "user": "https://github.com/pjbruin"
}
```

Work Issues: **add doctest**



---

archive/issue_events_177359.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-30T23:09:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177359"
}
```



---

archive/issue_comments_146672.json:
```json
{
    "body": "Changed work issues from **add doctest** to none",
    "created_at": "2014-05-30T23:09:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146672",
    "user": "https://github.com/pjbruin"
}
```

Changed work issues from **add doctest** to none



---

archive/issue_comments_146673.json:
```json
{
    "body": "Branch: **[u/pbruin/12947-maxima_integral](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/12947-maxima_integral)**",
    "created_at": "2014-05-30T23:09:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146673",
    "user": "https://github.com/pjbruin"
}
```

Branch: **[u/pbruin/12947-maxima_integral](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/12947-maxima_integral)**



---

archive/issue_comments_146674.json:
```json
{
    "body": "Author: **Peter Bruin**",
    "created_at": "2014-05-30T23:09:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146674",
    "user": "https://github.com/pjbruin"
}
```

Author: **Peter Bruin**



---

archive/issue_comments_146675.json:
```json
{
    "body": "Commit: **[`35f6081`](https://github.com/sagemath/sagetrac-mirror/commit/35f60813c540f3eaabc45200f3e61f3a227ad1d2)**",
    "created_at": "2014-05-30T23:09:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146675",
    "user": "https://github.com/pjbruin"
}
```

Commit: **[`35f6081`](https://github.com/sagemath/sagetrac-mirror/commit/35f60813c540f3eaabc45200f3e61f3a227ad1d2)**



---

archive/issue_comments_146676.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nFunny I get:\n\n```\nFile \"src/sage/interfaces/maxima_lib.py\", line 736, in sage.interfaces.maxima_lib.MaximaLib.sr_integral\nFailed example:\n    integrate(x*cos(x^3),(x,0,1/2)).n()\nExpected:\n    0.124756040961038\nGot:\n    0.124756040961038 + 2.77555756156289e-17*I\n```\nPlease set positive when you think this is resolved.",
    "created_at": "2014-05-31T08:13:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146676",
    "user": "https://github.com/rwst"
}
```

<div id="comment:11" align="right">comment:11</div>

Funny I get:

```
File "src/sage/interfaces/maxima_lib.py", line 736, in sage.interfaces.maxima_lib.MaximaLib.sr_integral
Failed example:
    integrate(x*cos(x^3),(x,0,1/2)).n()
Expected:
    0.124756040961038
Got:
    0.124756040961038 + 2.77555756156289e-17*I
```
Please set positive when you think this is resolved.



---

archive/issue_comments_146677.json:
```json
{
    "body": "Reviewer: **Ralf Stephan**",
    "created_at": "2014-05-31T08:13:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146677",
    "user": "https://github.com/rwst"
}
```

Reviewer: **Ralf Stephan**



---

archive/issue_comments_146678.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d9a07cd45fd002020a1f67cb2394af5a38d76a0\"><code>3d9a07c</code></a></td><td><code>Trac 12947: add tolerance to doctest</code></td></tr></table>\n",
    "created_at": "2014-05-31T10:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146678",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d9a07cd45fd002020a1f67cb2394af5a38d76a0"><code>3d9a07c</code></a></td><td><code>Trac 12947: add tolerance to doctest</code></td></tr></table>




---

archive/issue_comments_146679.json:
```json
{
    "body": "Changed commit from **[`35f6081`](https://github.com/sagemath/sagetrac-mirror/commit/35f60813c540f3eaabc45200f3e61f3a227ad1d2)** to **[`3d9a07c`](https://github.com/sagemath/sagetrac-mirror/commit/3d9a07cd45fd002020a1f67cb2394af5a38d76a0)**",
    "created_at": "2014-05-31T10:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146679",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`35f6081`](https://github.com/sagemath/sagetrac-mirror/commit/35f60813c540f3eaabc45200f3e61f3a227ad1d2)** to **[`3d9a07c`](https://github.com/sagemath/sagetrac-mirror/commit/3d9a07cd45fd002020a1f67cb2394af5a38d76a0)**



---

archive/issue_comments_146680.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOn the system I tested this on (GNU/Linux x86_64) this gives the expected answer, both with and without the Maxima upgrade of #13973.  I just checked on ARM; the first time I got the same answer as you, but then I merged this branch (did not even rebuild) and only got the expected answer from then on.  I added `# abs tol 1e-16`; can you check if this solves the problem for you?",
    "created_at": "2014-05-31T10:06:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146680",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:13" align="right">comment:13</div>

On the system I tested this on (GNU/Linux x86_64) this gives the expected answer, both with and without the Maxima upgrade of #13973.  I just checked on ARM; the first time I got the same answer as you, but then I merged this branch (did not even rebuild) and only got the expected answer from then on.  I added `# abs tol 1e-16`; can you check if this solves the problem for you?



---

archive/issue_comments_146681.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI would argue that the complex bit means that we are not quite ready to merge this if it happens on some platforms.  The question is whether this is a Maxima bug or a Sage/Pynac simplification bug.",
    "created_at": "2014-05-31T13:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146681",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:14" align="right">comment:14</div>

I would argue that the complex bit means that we are not quite ready to merge this if it happens on some platforms.  The question is whether this is a Maxima bug or a Sage/Pynac simplification bug.



---

archive/issue_comments_146682.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nWould you equally mind if there is a real digit wrong in the 17-th place? Regardless, it's fine on AMD now.",
    "created_at": "2014-05-31T13:08:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146682",
    "user": "https://github.com/rwst"
}
```

<div id="comment:15" align="right">comment:15</div>

Would you equally mind if there is a real digit wrong in the 17-th place? Regardless, it's fine on AMD now.



---

archive/issue_comments_146683.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThere are 60(!) lines in the sage code with `# abs tol` and nearly all have lower tolerance (in the sense of 'larger error')",
    "created_at": "2014-05-31T13:11:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146683",
    "user": "https://github.com/rwst"
}
```

<div id="comment:16" align="right">comment:16</div>

There are 60(!) lines in the sage code with `# abs tol` and nearly all have lower tolerance (in the sense of 'larger error')



---

archive/issue_comments_146684.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThe complex bit apparently comes from applying Pynac's `evalf()` to the following expression:\n\n```\nsage: e = integrate(x*cos(x^3),(x,0,1/2)); e\n1/12*I*sqrt(3)*gamma(2/3, 1/8*I) - 1/12*I*sqrt(3)*gamma(2/3, -1/8*I) - 1/12*gamma(2/3, 1/8*I) - 1/12*gamma(2/3, -1/8*I) + 1/6*gamma(2/3)\nsage: e.n(53)\n0.124756040961038 + 2.77555756156289e-17*I\nsage: e._convert({'parent': CC})  # called by .n()\n0.124756040961038 + 2.77555756156289e-17*I\n```\n(This is on ARM; the imaginary part does not appear on x86_64.)\n\nThere are known precision problems in the incomplete Gamma function, so this may be related to #7099, although we only want the default 53 bits of precision here.",
    "created_at": "2014-05-31T13:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146684",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:17" align="right">comment:17</div>

The complex bit apparently comes from applying Pynac's `evalf()` to the following expression:

```
sage: e = integrate(x*cos(x^3),(x,0,1/2)); e
1/12*I*sqrt(3)*gamma(2/3, 1/8*I) - 1/12*I*sqrt(3)*gamma(2/3, -1/8*I) - 1/12*gamma(2/3, 1/8*I) - 1/12*gamma(2/3, -1/8*I) + 1/6*gamma(2/3)
sage: e.n(53)
0.124756040961038 + 2.77555756156289e-17*I
sage: e._convert({'parent': CC})  # called by .n()
0.124756040961038 + 2.77555756156289e-17*I
```
(This is on ARM; the imaginary part does not appear on x86_64.)

There are known precision problems in the incomplete Gamma function, so this may be related to #7099, although we only want the default 53 bits of precision here.



---

archive/issue_comments_146685.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThe presence of the imaginary part does not depend on #7099.  At least on ARM it is essentially random (maybe it depends on FPU rounding flags or something similar):\n\n```\n$ ./sage -c 'print integrate(x*cos(x^3),(x,0,1/2)).n()'\n0.124756040961038\n$ ./sage -c 'print integrate(x*cos(x^3),(x,0,1/2)).n()'\n0.124756040961038 - 2.77555756156289e-17*I\n$ ./sage -c 'print integrate(x*cos(x^3),(x,0,1/2)).n()'\n0.124756040961038 - 1.38777878078145e-17*I\n$ ./sage -c 'print integrate(x*cos(x^3),(x,0,1/2)).n()'\n0.124756040961038 + 1.38777878078145e-17*I\n```",
    "created_at": "2014-05-31T15:48:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146685",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:18" align="right">comment:18</div>

The presence of the imaginary part does not depend on #7099.  At least on ARM it is essentially random (maybe it depends on FPU rounding flags or something similar):

```
$ ./sage -c 'print integrate(x*cos(x^3),(x,0,1/2)).n()'
0.124756040961038
$ ./sage -c 'print integrate(x*cos(x^3),(x,0,1/2)).n()'
0.124756040961038 - 2.77555756156289e-17*I
$ ./sage -c 'print integrate(x*cos(x^3),(x,0,1/2)).n()'
0.124756040961038 - 1.38777878078145e-17*I
$ ./sage -c 'print integrate(x*cos(x^3),(x,0,1/2)).n()'
0.124756040961038 + 1.38777878078145e-17*I
```



---

archive/issue_comments_146686.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n> Would you equally mind if there is a real digit wrong in the 17-th place? Regardless, it's fine on AMD now.\n\nHaha!  No, but as I said sometimes the complex bit indicates a different kind of problem, or has in the past.  Given Peter's experiment in [comment:18](#comment%3A18), though, I guess we can make that a different ticket.",
    "created_at": "2014-06-01T01:48:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146686",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:19" align="right">comment:19</div>

> Would you equally mind if there is a real digit wrong in the 17-th place? Regardless, it's fine on AMD now.

Haha!  No, but as I said sometimes the complex bit indicates a different kind of problem, or has in the past.  Given Peter's experiment in [comment:18](#comment%3A18), though, I guess we can make that a different ticket.



---

archive/issue_comments_146687.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThe imaginary part turns out to be \"simply\" the fact that floating-point addition is not associative, and for some reason the terms in the expression `e` from [comment:17](#comment%3A17) are added in random order by `.n()`.\n\n```\nsage: e = integrate(x*cos(x^3),(x,0,1/2)); e\n1/12*I*sqrt(3)*gamma(2/3, 1/8*I) - 1/12*I*sqrt(3)*gamma(2/3, -1/8*I) - 1/12*gamma(2/3, 1/8*I) - 1/12*gamma(2/3, -1/8*I) + 1/6*gamma(2/3)\nsage: v = [term.n() for term in e.operands()]; v\n[0.0454319516149362 + 0.166098636946833*I,\n 0.0454319516149362 - 0.166098636946833*I,\n -0.0958970927532841 + 0.0262301494946934*I,\n -0.0958970927532841 - 0.0262301494946934*I,\n 0.225686323237733]\nsage: uniq([sum(p.action(v)) for p in permutations(5)])\n[0.124756040961038 - 2.77555756156289e-17*I,\n 0.124756040961038,\n 0.124756040961038 + 2.77555756156289e-17*I,\n 0.124756040961038 - 1.38777878078145e-17*I,\n 0.124756040961038,\n 0.124756040961038 + 1.38777878078145e-17*I,\n 0.124756040961038 - 2.77555756156289e-17*I,\n 0.124756040961038,\n 0.124756040961038 + 2.77555756156289e-17*I,\n 0.124756040961038 - 1.38777878078145e-17*I,\n 0.124756040961038 + 1.38777878078145e-17*I,\n 0.124756040961038 - 2.77555756156289e-17*I,\n 0.124756040961038 + 2.77555756156289e-17*I,\n 0.124756040961038]\n```\nThis gives 14 different outcomes depending on the summation order (some of the differences are hidden due to the number of digits printed).  I don't think this can be solved easily, so I propose we stick to the `# abs tol` fix.",
    "created_at": "2014-06-02T00:12:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146687",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:20" align="right">comment:20</div>

The imaginary part turns out to be "simply" the fact that floating-point addition is not associative, and for some reason the terms in the expression `e` from [comment:17](#comment%3A17) are added in random order by `.n()`.

```
sage: e = integrate(x*cos(x^3),(x,0,1/2)); e
1/12*I*sqrt(3)*gamma(2/3, 1/8*I) - 1/12*I*sqrt(3)*gamma(2/3, -1/8*I) - 1/12*gamma(2/3, 1/8*I) - 1/12*gamma(2/3, -1/8*I) + 1/6*gamma(2/3)
sage: v = [term.n() for term in e.operands()]; v
[0.0454319516149362 + 0.166098636946833*I,
 0.0454319516149362 - 0.166098636946833*I,
 -0.0958970927532841 + 0.0262301494946934*I,
 -0.0958970927532841 - 0.0262301494946934*I,
 0.225686323237733]
sage: uniq([sum(p.action(v)) for p in permutations(5)])
[0.124756040961038 - 2.77555756156289e-17*I,
 0.124756040961038,
 0.124756040961038 + 2.77555756156289e-17*I,
 0.124756040961038 - 1.38777878078145e-17*I,
 0.124756040961038,
 0.124756040961038 + 1.38777878078145e-17*I,
 0.124756040961038 - 2.77555756156289e-17*I,
 0.124756040961038,
 0.124756040961038 + 2.77555756156289e-17*I,
 0.124756040961038 - 1.38777878078145e-17*I,
 0.124756040961038 + 1.38777878078145e-17*I,
 0.124756040961038 - 2.77555756156289e-17*I,
 0.124756040961038 + 2.77555756156289e-17*I,
 0.124756040961038]
```
This gives 14 different outcomes depending on the summation order (some of the differences are hidden due to the number of digits printed).  I don't think this can be solved easily, so I propose we stick to the `# abs tol` fix.



---

archive/issue_comments_146688.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8274e4764945e773078535aabe9f262462416e57\"><code>8274e47</code></a></td><td><code>Merge branch 'develop' into ticket/12947-numerical_integral</code></td></tr></table>\n",
    "created_at": "2014-06-11T22:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146688",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8274e4764945e773078535aabe9f262462416e57"><code>8274e47</code></a></td><td><code>Merge branch 'develop' into ticket/12947-numerical_integral</code></td></tr></table>




---

archive/issue_comments_146689.json:
```json
{
    "body": "Changed commit from **[`3d9a07c`](https://github.com/sagemath/sagetrac-mirror/commit/3d9a07cd45fd002020a1f67cb2394af5a38d76a0)** to **[`8274e47`](https://github.com/sagemath/sagetrac-mirror/commit/8274e4764945e773078535aabe9f262462416e57)**",
    "created_at": "2014-06-11T22:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146689",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3d9a07c`](https://github.com/sagemath/sagetrac-mirror/commit/3d9a07cd45fd002020a1f67cb2394af5a38d76a0)** to **[`8274e47`](https://github.com/sagemath/sagetrac-mirror/commit/8274e4764945e773078535aabe9f262462416e57)**



---

archive/issue_comments_146690.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nAs already said ...",
    "created_at": "2014-06-29T08:59:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146690",
    "user": "https://github.com/rwst"
}
```

<div id="comment:22" align="right">comment:22</div>

As already said ...



---

archive/issue_events_177360.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-06-29T08:59:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177360"
}
```



---

archive/issue_events_177361.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-06-29T08:59:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177361"
}
```



---

archive/issue_comments_146691.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThe `# abs tol` just changes how the floating point numbers are compared, it doesn't know about complex numbers. \n\n```\nsage -t --long src/sage/interfaces/maxima_lib.py\n**********************************************************************\nFile \"src/sage/interfaces/maxima_lib.py\", line 763, in sage.interfaces.maxima_lib.MaximaLib.sr_integral\nFailed example:\n    integrate(x*cos(x^3),(x,0,1/2)).n()  # abs tol 1e-16\nExpected:\n    0.124756040961038\nGot:\n    0.124756040961038 - 1.38777878078145e-17*I\n**********************************************************************\n```\nand on a different machine\n\n```\nsage -t --long src/sage/interfaces/maxima_lib.py\n**********************************************************************\nFile \"src/sage/interfaces/maxima_lib.py\", line 763, in sage.interfaces.maxima_lib.MaximaLib.sr_integral\nFailed example:\n    integrate(x*cos(x^3),(x,0,1/2)).n()  # abs tol 1e-16\nExpected:\n    0.124756040961038\nGot:\n    0.124756040961038 - 2.77555756156289e-17*I\n**********************************************************************\n```",
    "created_at": "2014-06-30T13:12:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146691",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:23" align="right">comment:23</div>

The `# abs tol` just changes how the floating point numbers are compared, it doesn't know about complex numbers. 

```
sage -t --long src/sage/interfaces/maxima_lib.py
**********************************************************************
File "src/sage/interfaces/maxima_lib.py", line 763, in sage.interfaces.maxima_lib.MaximaLib.sr_integral
Failed example:
    integrate(x*cos(x^3),(x,0,1/2)).n()  # abs tol 1e-16
Expected:
    0.124756040961038
Got:
    0.124756040961038 - 1.38777878078145e-17*I
**********************************************************************
```
and on a different machine

```
sage -t --long src/sage/interfaces/maxima_lib.py
**********************************************************************
File "src/sage/interfaces/maxima_lib.py", line 763, in sage.interfaces.maxima_lib.MaximaLib.sr_integral
Failed example:
    integrate(x*cos(x^3),(x,0,1/2)).n()  # abs tol 1e-16
Expected:
    0.124756040961038
Got:
    0.124756040961038 - 2.77555756156289e-17*I
**********************************************************************
```



---

archive/issue_events_177362.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-30T13:12:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177362"
}
```



---

archive/issue_events_177363.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-30T13:12:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177363"
}
```



---

archive/issue_comments_146692.json:
```json
{
    "body": "Changed commit from **[`8274e47`](https://github.com/sagemath/sagetrac-mirror/commit/8274e4764945e773078535aabe9f262462416e57)** to **[`72706eb`](https://github.com/sagemath/sagetrac-mirror/commit/72706eb6697fba361e138ddaca0765f8415eb8f3)**",
    "created_at": "2014-07-18T15:25:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146692",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8274e47`](https://github.com/sagemath/sagetrac-mirror/commit/8274e4764945e773078535aabe9f262462416e57)** to **[`72706eb`](https://github.com/sagemath/sagetrac-mirror/commit/72706eb6697fba361e138ddaca0765f8415eb8f3)**



---

archive/issue_comments_146693.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72706eb6697fba361e138ddaca0765f8415eb8f3\"><code>72706eb</code></a></td><td><code>Trac 12947: handle numerical noise correctly</code></td></tr></table>\n",
    "created_at": "2014-07-18T15:25:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146693",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72706eb6697fba361e138ddaca0765f8415eb8f3"><code>72706eb</code></a></td><td><code>Trac 12947: handle numerical noise correctly</code></td></tr></table>




---

archive/issue_events_177364.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-07-18T15:29:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177364"
}
```



---

archive/issue_events_177365.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-07-18T15:29:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177365"
}
```



---

archive/issue_comments_146694.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThis should solve it; probably no reason to ask for another review.",
    "created_at": "2014-07-18T15:29:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146694",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:26" align="right">comment:26</div>

This should solve it; probably no reason to ask for another review.



---

archive/issue_comments_146695.json:
```json
{
    "body": "Changed branch from **[u/pbruin/12947-maxima_integral](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/12947-maxima_integral)** to **[`72706eb`](https://github.com/sagemath/sagetrac-mirror/commit/72706eb6697fba361e138ddaca0765f8415eb8f3)**",
    "created_at": "2014-07-19T04:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12947#issuecomment-146695",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/pbruin/12947-maxima_integral](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/12947-maxima_integral)** to **[`72706eb`](https://github.com/sagemath/sagetrac-mirror/commit/72706eb6697fba361e138ddaca0765f8415eb8f3)**



---

archive/issue_events_177366.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-19T04:57:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177366"
}
```



---

archive/issue_events_177367.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "dc8130ad612aa9f4f9e4e60839930d52132b8ebd",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-07-19T04:57:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12947",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12947#event-177367"
}
```
