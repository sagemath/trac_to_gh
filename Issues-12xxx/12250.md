# Issue 12250: Implementation of weak k-tableaux

archive/issues_012078.json:
```json
{
    "body": "This patch implements a new class of weak k-tableaux. It also removes white spaces from core.py.\n\nThe methods on k-charge were contributed by Nate Gallup and Avi Dalal during Sage Days 49 in Orsay.\n\nAssignee: sage-combinat\n\nCC:  sage-combinat npgallup\n\nKeywords: tableaux, days49\n\nReviewer: Mike Zabrocki, Travis Scrimshaw\n\nAuthor: Anne Schilling\n\nMerged: sage-5.12.beta5\n\nDependencies: #14519, #14101, #7983, #14772, #13589, #14907, #10630, #14143, #14015, #14516\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/12250\n\n",
    "closed_at": "2013-09-02T10:19:26Z",
    "created_at": "2012-01-02T23:36:48Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Implementation of weak k-tableaux",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12250",
    "user": "https://github.com/anneschilling"
}
```
This patch implements a new class of weak k-tableaux. It also removes white spaces from core.py.

The methods on k-charge were contributed by Nate Gallup and Avi Dalal during Sage Days 49 in Orsay.

Assignee: sage-combinat

CC:  sage-combinat npgallup

Keywords: tableaux, days49

Reviewer: Mike Zabrocki, Travis Scrimshaw

Author: Anne Schilling

Merged: sage-5.12.beta5

Dependencies: #14519, #14101, #7983, #14772, #13589, #14907, #10630, #14143, #14015, #14516

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/12250





---

archive/issue_comments_148235.json:
```json
{
    "body": "Changing assignee from tbd to sage-combinat.",
    "created_at": "2012-01-02T23:50:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148235",
    "user": "https://github.com/anneschilling"
}
```

Changing assignee from tbd to sage-combinat.



---

archive/issue_comments_148236.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2012-01-02T23:50:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148236",
    "user": "https://github.com/anneschilling"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_148237.json:
```json
{
    "body": "Changing keywords from \"tableaux\" to \"tableaux, days49\".",
    "created_at": "2013-06-19T12:23:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148237",
    "user": "https://github.com/anneschilling"
}
```

Changing keywords from "tableaux" to "tableaux, days49".



---

archive/issue_comments_148238.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,4 @@\n-A new class of weak and strong k-tableaux\n-\n-Assignee: tbd\n-\n-Keywords: tableaux\n+A new class of weak k-tableaux\n \n Author: Anne Schilling, Mike Zabrocki\n \n``````\n",
    "created_at": "2013-06-19T12:23:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148238",
    "user": "https://github.com/anneschilling"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,4 @@
-A new class of weak and strong k-tableaux
-
-Assignee: tbd
-
-Keywords: tableaux
+A new class of weak k-tableaux
 
 Author: Anne Schilling, Mike Zabrocki
 
``````




---

archive/issue_comments_148239.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+This patch implements a new class of weak k-tableaux. It also removes white spaces from core.py.\n \n Author: Anne Schilling, Mike Zabrocki\n \n``````\n",
    "created_at": "2013-06-19T12:33:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148239",
    "user": "https://github.com/anneschilling"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+This patch implements a new class of weak k-tableaux. It also removes white spaces from core.py.
 
 Author: Anne Schilling, Mike Zabrocki
 
``````




---

archive/issue_comments_148240.json:
```json
{
    "body": "<a id='comment:4'></a>Strong tableaux was moved into ticket #14776",
    "created_at": "2013-06-19T12:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148240",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:4'></a>Strong tableaux was moved into ticket #14776



---

archive/issue_comments_148241.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-07-13T06:52:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148241",
    "user": "https://github.com/anneschilling"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_148242.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+This patch implements a new class of weak k-tableaux. It also removes white spaces from core.py.\n \n+The methods on k-charge were contributed by Nate Gallup and Avi Dalal during Sage Days 49 in Orsay.\n \n Author: Anne Schilling, Mike Zabrocki\n \n``````\n",
    "created_at": "2013-07-13T06:54:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148242",
    "user": "https://github.com/anneschilling"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+This patch implements a new class of weak k-tableaux. It also removes white spaces from core.py.
 
+The methods on k-charge were contributed by Nate Gallup and Avi Dalal during Sage Days 49 in Orsay.
 
 Author: Anne Schilling, Mike Zabrocki
 
``````




---

archive/issue_comments_148243.json:
```json
{
    "body": "<a id='comment:9'></a>Hey Anne and Mike,\n\nThank you both for your work on this. However there are a few things I've noticed while glancing over the patch:\n\n- The inner bullet list on the `INPUT:` block for `WeakTableau` has one too many spaces, so it is overly indented. It needs to line up as follows:\n\n```\n- item 1\n\n  - inner item a\n  - inner item b\n\n- item 2\n```\n- `k_charge_I()` and `k_charge_J()` have the same docstring. In fact, it might be worthwhile to actually describe the algorithm.\n- I think it is worthwhile to have one abstract base class for all `WeakTableau` elements which has it's abstract methods defined. For example, you can also consolidate all of the more detailed explanations of the methods in there and link to them in their concrete classes. In particular, it because an easier/more straightforward to check to see if it's a `WeakTableau` and allow you an easy way to compare `__eq__` between different representations of a weak tableau.\n- In the same vein, could we make it so that we can convert between different representations with parents? I.e. I'd like to do the following:\n\n```\nsage: T = WeakTableaux(3, [5,2,1], [1,1,1,1,1,1])\nsage: T2 = WeakTableaux(3, [3,2,1], [1,1,1,1,1,1], representation='bounded')\nsage: T2(T[0])\n```\n- Could we have a method like `T.representation('bounded')` which returns the corresponding parent using a different representation. Same on the elements (which of course would call the respective `to_*` method, but it would make it consistent IMO)?\n- I don't see an easy way to go to a factorized permutation from the other 2 representations. Right now it seems like I have to call\n\n```\nWeakTableau_factorized_permutation.from_core_tableau().\n```\n- I think the `from_*` (and quite possibly the `to_*`) methods maybe should be available in the parents rather than as classmethods for the element classes.\n- The `.. SEEALSO::` block in `k_charge()` is not formatting correctly, so it doesn't link the methods.\n- Could you use the `:arxiv:`1234.5678`` autolink?\n- Remove ``self`` as an input (ex. in `list_of_standard_cells()`)\n\nAck, that ended up being a longer list than I expected...\n\nBest,\n\nTravis",
    "created_at": "2013-07-13T16:14:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148243",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>Hey Anne and Mike,

Thank you both for your work on this. However there are a few things I've noticed while glancing over the patch:

- The inner bullet list on the `INPUT:` block for `WeakTableau` has one too many spaces, so it is overly indented. It needs to line up as follows:

```
- item 1

  - inner item a
  - inner item b

- item 2
```
- `k_charge_I()` and `k_charge_J()` have the same docstring. In fact, it might be worthwhile to actually describe the algorithm.
- I think it is worthwhile to have one abstract base class for all `WeakTableau` elements which has it's abstract methods defined. For example, you can also consolidate all of the more detailed explanations of the methods in there and link to them in their concrete classes. In particular, it because an easier/more straightforward to check to see if it's a `WeakTableau` and allow you an easy way to compare `__eq__` between different representations of a weak tableau.
- In the same vein, could we make it so that we can convert between different representations with parents? I.e. I'd like to do the following:

```
sage: T = WeakTableaux(3, [5,2,1], [1,1,1,1,1,1])
sage: T2 = WeakTableaux(3, [3,2,1], [1,1,1,1,1,1], representation='bounded')
sage: T2(T[0])
```
- Could we have a method like `T.representation('bounded')` which returns the corresponding parent using a different representation. Same on the elements (which of course would call the respective `to_*` method, but it would make it consistent IMO)?
- I don't see an easy way to go to a factorized permutation from the other 2 representations. Right now it seems like I have to call

```
WeakTableau_factorized_permutation.from_core_tableau().
```
- I think the `from_*` (and quite possibly the `to_*`) methods maybe should be available in the parents rather than as classmethods for the element classes.
- The `.. SEEALSO::` block in `k_charge()` is not formatting correctly, so it doesn't link the methods.
- Could you use the `:arxiv:`1234.5678`` autolink?
- Remove ``self`` as an input (ex. in `list_of_standard_cells()`)

Ack, that ended up being a longer list than I expected...

Best,

Travis



---

archive/issue_comments_148244.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-07-13T17:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148244",
    "user": "https://github.com/zabrocki"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_148245.json:
```json
{
    "body": "<a id='comment:11'></a>Hi Travis and Mike,\n\nThank you for your review comments. I incorporated them all, except for the input of the inner shape yet and the comments below:\n\n> - In the same vein, could we make it so that we can convert between different representations with parents? I.e. I'd like to do the following:\n> \n> ```\n> sage: T = WeakTableaux(3, [5,2,1], [1,1,1,1,1,1])\n> sage: T2 = WeakTableaux(3, [3,2,1], [1,1,1,1,1,1], representation='bounded')\n> sage: T2(T[0])\n> ```\n\n\nWe discussed coercing during design discussions at Sage Days 49 and currently decided against it. For now, it is easy to go between the various representations with the representation method. If we really need this feature, we can always add coercion later.\n\n> - I think the `from_*` (and quite possibly the `to_*`) methods maybe should be available in the parents rather than as classmethods for the element classes.\n\n\nThis is what Nicolas suggested to me, so I will leave it as is.\n\nBest,\n\nAnne",
    "created_at": "2013-07-14T17:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148245",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:11'></a>Hi Travis and Mike,

Thank you for your review comments. I incorporated them all, except for the input of the inner shape yet and the comments below:

> - In the same vein, could we make it so that we can convert between different representations with parents? I.e. I'd like to do the following:
> 
> ```
> sage: T = WeakTableaux(3, [5,2,1], [1,1,1,1,1,1])
> sage: T2 = WeakTableaux(3, [3,2,1], [1,1,1,1,1,1], representation='bounded')
> sage: T2(T[0])
> ```


We discussed coercing during design discussions at Sage Days 49 and currently decided against it. For now, it is easy to go between the various representations with the representation method. If we really need this feature, we can always add coercion later.

> - I think the `from_*` (and quite possibly the `to_*`) methods maybe should be available in the parents rather than as classmethods for the element classes.


This is what Nicolas suggested to me, so I will leave it as is.

Best,

Anne



---

archive/issue_comments_148246.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-07-15T16:41:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148246",
    "user": "https://github.com/anneschilling"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_148247.json:
```json
{
    "body": "<a id='comment:13'></a>Hi Mike,\n\nThanks for your review patch! I incorporated the changes. The new version now take as input\n\n```\nWeakTableaux(k, shape, weight, representation = 'core')\n```\nwhere shape is either a shape or a tuple of shapes in the skew case.\n\nI hope everything looks ok now!\n\nAnne",
    "created_at": "2013-07-15T16:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148247",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:13'></a>Hi Mike,

Thanks for your review patch! I incorporated the changes. The new version now take as input

```
WeakTableaux(k, shape, weight, representation = 'core')
```
where shape is either a shape or a tuple of shapes in the skew case.

I hope everything looks ok now!

Anne



---

archive/issue_comments_148248.json:
```json
{
    "body": "<a id='comment:15'></a>Hi Mike,\n\nThe updated patch incorporated all changes we discussed (by e-mail). It\n\n- checks that the weight, shape, etc of the element agrees with its parent\n- checks for semistandardness\n- implements latex and pretty printing methods\n- makes some changes Nicolas suggested\n\nThe semistandard checks and pretty printing rely on #14101, so I put this as a dependency.\n\nBest,\n\nAnne",
    "created_at": "2013-07-16T21:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148248",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:15'></a>Hi Mike,

The updated patch incorporated all changes we discussed (by e-mail). It

- checks that the weight, shape, etc of the element agrees with its parent
- checks for semistandardness
- implements latex and pretty printing methods
- makes some changes Nicolas suggested

The semistandard checks and pretty printing rely on #14101, so I put this as a dependency.

Best,

Anne



---

archive/issue_comments_148249.json:
```json
{
    "body": "<a id='comment:16'></a>Hi Mike,\n\nI just posted a new version which incorporates your two doc review patches and fixes the bug in weights.\n\nAnne",
    "created_at": "2013-07-19T03:27:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148249",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:16'></a>Hi Mike,

I just posted a new version which incorporates your two doc review patches and fixes the bug in weights.

Anne



---

archive/issue_comments_148250.json:
```json
{
    "body": "<a id='comment:17'></a>Fixed two more little issues that Mike found (spurious import of Tableau and innter_shape -> inner_shape).\n\nAnne",
    "created_at": "2013-07-20T17:28:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148250",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:17'></a>Fixed two more little issues that Mike found (spurious import of Tableau and innter_shape -> inner_shape).

Anne



---

archive/issue_comments_148251.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-07-21T02:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148251",
    "user": "https://github.com/zabrocki"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_148252.json:
```json
{
    "body": "<a id='comment:19'></a>I'm happy and all tests pass.",
    "created_at": "2013-07-21T02:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148252",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:19'></a>I'm happy and all tests pass.



---

archive/issue_comments_148253.json:
```json
{
    "body": "<a id='comment:20'></a>Replying to [comment:19 zabrocki]:\n> I'm happy and all tests pass.\n\n\nGreat, thank you for the review! I just made height_of_restriced_subword a private method. Nothing else changed.\n\nAnne",
    "created_at": "2013-07-21T06:04:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148253",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:20'></a>Replying to [comment:19 zabrocki]:
> I'm happy and all tests pass.


Great, thank you for the review! I just made height_of_restriced_subword a private method. Nothing else changed.

Anne



---

archive/issue_comments_148254.json:
```json
{
    "body": "<a id='comment:21'></a>I reaffirm positive review.\n\n-Mike",
    "created_at": "2013-07-21T10:50:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148254",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:21'></a>I reaffirm positive review.

-Mike



---

archive/issue_events_032681.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:10:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12250#event-32681"
}
```



---

archive/issue_comments_148255.json:
```json
{
    "body": "Attachment [trac_12250-ktableaux-as.patch](tarball://root/attachments/some-uuid/ticket12250/trac_12250-ktableaux-as.patch) by @anneschilling created at 2013-07-30 21:16:00",
    "created_at": "2013-07-30T21:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148255",
    "user": "https://github.com/anneschilling"
}
```

Attachment [trac_12250-ktableaux-as.patch](tarball://root/attachments/some-uuid/ticket12250/trac_12250-ktableaux-as.patch) by @anneschilling created at 2013-07-30 21:16:00



---

archive/issue_events_032682.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-02T14:47:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12250#event-32682"
}
```



---

archive/issue_events_032683.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-02T14:47:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12250#event-32683"
}
```



---

archive/issue_events_032684.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-08-03T17:06:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12250#event-32684"
}
```



---

archive/issue_events_032685.json:
```json
{
    "actor": "https://github.com/anneschilling",
    "created_at": "2013-08-03T17:06:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12250#event-32685"
}
```



---

archive/issue_events_032686.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-09-02T10:19:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12250#event-32686"
}
```



---

archive/issue_comments_148256.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-09-02T10:19:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148256",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_148257.json:
```json
{
    "body": "<a id='comment:27'></a>See http://trac.sagemath.org/ticket/15444 for a follow-up on the k-charge implementation.",
    "created_at": "2013-11-24T07:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12250",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12250#issuecomment-148257",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:27'></a>See http://trac.sagemath.org/ticket/15444 for a follow-up on the k-charge implementation.
