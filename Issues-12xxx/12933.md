# Issue 12933: Speedup in DiGraph.stronly_connected_components_digraph

archive/issues_012761.json:
```json
{
    "body": "Let it be said that I hate vertex labels.\n\nBefore:\n\n```\nsage: g = digraphs.RandomDirectedGNP(2000,.2)  \nsage: g.strongly_connected_components_digraph()\nException: The user died of old age\n```\n\nAfter :\n\n```\nsage: time g.strongly_connected_components_digraph()\nDigraph on 1 vertex\nTime: CPU 2.78 s, Wall: 2.79 s\n```\n\nWhich is already far, far too much. And if it is still slow it is -- of course -- only because of labels.\n\nNathann\n\nAssignee: jason, ncohen, rlm\n\nCC:  @nthiery\n\nReviewer: David Coudert\n\nAuthor: Nathann Cohen\n\nMerged: sage-5.1.beta5\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/12933\n\n",
    "closed_at": "2012-06-18T10:24:53Z",
    "created_at": "2012-05-10T09:48:48Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.1",
    "title": "Speedup in DiGraph.stronly_connected_components_digraph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12933",
    "user": "https://github.com/nathanncohen"
}
```
Let it be said that I hate vertex labels.

Before:

```
sage: g = digraphs.RandomDirectedGNP(2000,.2)  
sage: g.strongly_connected_components_digraph()
Exception: The user died of old age
```

After :

```
sage: time g.strongly_connected_components_digraph()
Digraph on 1 vertex
Time: CPU 2.78 s, Wall: 2.79 s
```

Which is already far, far too much. And if it is still slow it is -- of course -- only because of labels.

Nathann

Assignee: jason, ncohen, rlm

CC:  @nthiery

Reviewer: David Coudert

Author: Nathann Cohen

Merged: sage-5.1.beta5

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/12933





---

archive/issue_comments_194873.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-05-10T09:49:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194873",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_194874.json:
```json
{
    "body": "<a id='comment:2'></a>\n(Ninja patch -- nobody will notice that I'm exposing a parameter for graph coloring functions in this ticket `:-p`)",
    "created_at": "2012-05-10T12:22:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194874",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:2'></a>
(Ninja patch -- nobody will notice that I'm exposing a parameter for graph coloring functions in this ticket `:-p`)



---

archive/issue_comments_194875.json:
```json
{
    "body": "Attachment [trac_12933.patch](tarball://root/attachments/some-uuid/ticket12933/trac_12933.patch) by @nathanncohen created at 2012-05-10 12:23:04",
    "created_at": "2012-05-10T12:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194875",
    "user": "https://github.com/nathanncohen"
}
```

Attachment [trac_12933.patch](tarball://root/attachments/some-uuid/ticket12933/trac_12933.patch) by @nathanncohen created at 2012-05-10 12:23:04



---

archive/issue_comments_194876.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe running time improvement is impressive, although I had no \"user died of old age\" exception. Considering a linear time algorithm, the running time is still high, but I don't know how to be faster in python.\n\nThe patch is working perfectly and passes all tests (graph.py and digraph.py).\nI give positive review.",
    "created_at": "2012-06-02T17:10:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194876",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'></a>
The running time improvement is impressive, although I had no "user died of old age" exception. Considering a linear time algorithm, the running time is still high, but I don't know how to be faster in python.

The patch is working perfectly and passes all tests (graph.py and digraph.py).
I give positive review.



---

archive/issue_comments_194877.json:
```json
{
    "body": "Changing reviewer from \"\" to \"David Coudert\"",
    "created_at": "2012-06-02T17:10:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194877",
    "user": "https://github.com/dcoudert"
}
```

Changing reviewer from "" to "David Coudert"



---

archive/issue_comments_194878.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-06-02T17:10:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194878",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_194879.json:
```json
{
    "body": "<a id='comment:4'></a>\nThaaaaaaaaaanks ! `:-)`\n\nNathann",
    "created_at": "2012-06-02T17:12:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194879",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>
Thaaaaaaaaaanks ! `:-)`

Nathann



---

archive/issue_comments_194880.json:
```json
{
    "body": "<a id='comment:5'></a>\nPlease fill in your real name in the Author / Reviewer fields.",
    "created_at": "2012-06-09T19:21:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194880",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Please fill in your real name in the Author / Reviewer fields.



---

archive/issue_comments_194881.json:
```json
{
    "body": "Changing author from \"\" to \"Nathann Cohen\"",
    "created_at": "2012-06-09T19:22:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194881",
    "user": "https://github.com/dcoudert"
}
```

Changing author from "" to "Nathann Cohen"



---

archive/issue_events_041291.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-18T10:24:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12933#event-41291"
}
```



---

archive/issue_comments_194882.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.1.beta5\"",
    "created_at": "2012-06-18T10:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194882",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.1.beta5"



---

archive/issue_comments_194883.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-06-18T10:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194883",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_194884.json:
```json
{
    "body": "<a id='comment:8'></a>\nNathann, you are my hero of the day!\n\nI was running a calculation while Anne was presenting a talk about monoids. My calculation was taking forever (minutes? more? I killed it). I applied your patch, and it went down to 5s. And now I have a little counter example that she can announce at the end of her talk :-)",
    "created_at": "2012-07-05T15:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194884",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:8'></a>
Nathann, you are my hero of the day!

I was running a calculation while Anne was presenting a talk about monoids. My calculation was taking forever (minutes? more? I killed it). I applied your patch, and it went down to 5s. And now I have a little counter example that she can announce at the end of her talk :-)



---

archive/issue_comments_194885.json:
```json
{
    "body": "<a id='comment:9'></a>\nWOooooooooooohooooooooooooooooo !!!! I am a HeroooOOOOOOooooooooooooooo !!!! `O_O`\n\nGod ! At long, long last... `:-D`\n\nNathann",
    "created_at": "2012-07-05T15:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12933#issuecomment-194885",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>
WOooooooooooohooooooooooooooooo !!!! I am a HeroooOOOOOOooooooooooooooo !!!! `O_O`

God ! At long, long last... `:-D`

Nathann
