# Issue 12470: Remove scripts related to the Debian distribution

archive/issues_012298.json:
```json
{
    "assignees": [
        "https://github.com/nexttime"
    ],
    "body": "As the title says.\n\n**Apply**:\n1. [attachment: 12470_remove_debian.patch](https://github.com/sagemath/sage/files/ticket12470/12470_remove_debian.patch.gz) to the SCRIPTS repository.\n2. [attachment: 12470_extcode_debian.patch](https://github.com/sagemath/sage/files/ticket12470/12470_extcode_debian.patch.gz) to the EXTCODE repository.\n\n\nComponent: **scripts**\n\nAuthor: **Jeroen Demeyer**\n\nReviewer: **Punarbasu Purkayastha**\n\nMerged: **sage-5.0.beta8**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12470_\n\n",
    "closed_at": "2012-03-13T08:23:14Z",
    "created_at": "2012-02-07T22:55:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20scripts",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Remove scripts related to the Debian distribution",
    "type": "issue",
    "updated_at": "2012-03-13T08:23:14Z",
    "url": "https://github.com/sagemath/sage/issues/12470",
    "user": "https://github.com/jdemeyer"
}
```
As the title says.

**Apply**:
1. [attachment: 12470_remove_debian.patch](https://github.com/sagemath/sage/files/ticket12470/12470_remove_debian.patch.gz) to the SCRIPTS repository.
2. [attachment: 12470_extcode_debian.patch](https://github.com/sagemath/sage/files/ticket12470/12470_extcode_debian.patch.gz) to the EXTCODE repository.


Component: **scripts**

Author: **Jeroen Demeyer**

Reviewer: **Punarbasu Purkayastha**

Merged: **sage-5.0.beta8**

_Issue created by migration from https://trac.sagemath.org/ticket/12470_





---

archive/issue_events_168972.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-07T22:55:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12470#event-168972"
}
```



---

archive/issue_events_168973.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-07T22:55:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20scripts",
    "label_color": "0000b0",
    "label_name": "c: scripts",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12470#event-168973"
}
```



---

archive/issue_events_168974.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-07T22:55:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12470#event-168974"
}
```



---

archive/issue_events_168975.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-07T22:55:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12470#event-168975"
}
```



---

archive/issue_events_168976.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2012-02-07T22:55:17Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "subject": "https://github.com/jdemeyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12470#event-168976"
}
```



---

archive/issue_comments_137670.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+As the title says.\n \n+**Apply** [attachment: 12470_remove_debian.patch](https://github.com/sagemath/sage/files/ticket12470/12470_remove_debian.patch.gz) to the SCRIPTS repository.\n``````\n",
    "created_at": "2012-02-07T22:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12470#issuecomment-137670",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+As the title says.
 
+**Apply** [attachment: 12470_remove_debian.patch](https://github.com/sagemath/sage/files/ticket12470/12470_remove_debian.patch.gz) to the SCRIPTS repository.
``````




---

archive/issue_events_168977.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-07T22:58:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12470#event-168977"
}
```



---

archive/issue_comments_137671.json:
```json
{
    "body": "Attachment: **[12470_extcode_debian.patch.gz](https://github.com/sagemath/sage/files/ticket12470/12470_extcode_debian.patch.gz)**",
    "created_at": "2012-03-06T09:17:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12470#issuecomment-137671",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[12470_extcode_debian.patch.gz](https://github.com/sagemath/sage/files/ticket12470/12470_extcode_debian.patch.gz)**



---

archive/issue_comments_137672.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n As the title says.\n \n-**Apply** [attachment: 12470_remove_debian.patch](https://github.com/sagemath/sage/files/ticket12470/12470_remove_debian.patch.gz) to the SCRIPTS repository.\n+**Apply**:\n+1. [attachment: 12470_remove_debian.patch](https://github.com/sagemath/sage/files/ticket12470/12470_remove_debian.patch.gz) to the SCRIPTS repository.\n+2. [attachment: 12470_extcode_debian.patch](https://github.com/sagemath/sage/files/ticket12470/12470_extcode_debian.patch.gz) to the EXTCODE repository.\n+\n``````\n",
    "created_at": "2012-03-06T09:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12470#issuecomment-137672",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 As the title says.
 
-**Apply** [attachment: 12470_remove_debian.patch](https://github.com/sagemath/sage/files/ticket12470/12470_remove_debian.patch.gz) to the SCRIPTS repository.
+**Apply**:
+1. [attachment: 12470_remove_debian.patch](https://github.com/sagemath/sage/files/ticket12470/12470_remove_debian.patch.gz) to the SCRIPTS repository.
+2. [attachment: 12470_extcode_debian.patch](https://github.com/sagemath/sage/files/ticket12470/12470_extcode_debian.patch.gz) to the EXTCODE repository.
+
``````




---

archive/issue_comments_137673.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI don't have a debian distro at present, so I can't really test. Looking at the patch it seems that the error strings are being printed to stdout. Some of the `echo` statements should probably echo to stderr.",
    "created_at": "2012-03-06T09:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12470#issuecomment-137673",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:4" align="right">comment:4</div>

I don't have a debian distro at present, so I can't really test. Looking at the patch it seems that the error strings are being printed to stdout. Some of the `echo` statements should probably echo to stderr.



---

archive/issue_comments_137674.json:
```json
{
    "body": "Attachment: **[12470_remove_debian.patch.gz](https://github.com/sagemath/sage/files/ticket12470/12470_remove_debian.patch.gz)**",
    "created_at": "2012-03-06T10:04:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12470#issuecomment-137674",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[12470_remove_debian.patch.gz](https://github.com/sagemath/sage/files/ticket12470/12470_remove_debian.patch.gz)**



---

archive/issue_comments_137675.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nEven though it's unrelated to the ticket, I changed the error messages.",
    "created_at": "2012-03-06T10:04:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12470#issuecomment-137675",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

Even though it's unrelated to the ticket, I changed the error messages.



---

archive/issue_comments_137676.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThere still seems to be some stuff from debian left in the scripts, even after applying these patches. Should they be still present? Showing only the relevant parts here.\n\n```\n...tallations/sage-5.0.beta2> LC_ALL=\"C\" grep -irnI debian data local/bin spkg ipython tmp | grep -v '\\.hg'\ndata/extcode/sagebuild/sageenv.py:52:                if not os.path.exists(self.options['SITE_PACKAGES']) and os.environ.has_key('SAGE_DEBIAN'):\ndata/extcode/sagebuild/sageenv.py:56:        if not self.options.has_key('SAGE_DEBIAN'):\ndata/extcode/sagebuild/sageenv.py:57:            self.options['SAGE_DEBIAN'] = False\ndata/extcode/sagebuild/sageenv.py:69:        if self.options['SAGE_DEBIAN']:\ndata/extcode/sagebuild/sageenv.py:70:            self.debian_include_dirs=[\"/usr/include\",\"/usr/include/numpy\",\"/usr/include/FLINT\",\"/usr/include/givaro\", \"/usr/include/gsl\",\"/usr/include/fplll\",\"/usr/include/eclib\",\"/usr/include/gmp++\",\"/usr/include/linbox\",\"/usr/include/NTL\",\"/usr/include/pari\",\"/usr/include/qd\",\"/usr/include/singular\",\"/usr/include/singular/singular\",\"/usr/include/symmetrica\",\"/usr/include/polybori\"]\ndata/extcode/sagebuild/sageenv.py:71:            self.defaults['include_dirs'].expand(self.debian_include_dirs)\ndata/extcode/sagebuild/sageenv.py:73:            self.debian_include_dirs=[]\ndata/extcode/sagebuild/sageenv.py:76:        if self.options['SAGE_DEBIAN']:\ndata/extcode/sagebuild/sageenv.py:81:class debian_env(sage_env):\ndata/extcode/sagebuild/sageenv.py:84:        self.options['SAGE_DEBIAN'] = True\ndata/extcode/sagebuild/sageenv.py:88:    if 'SAGE_DEBIAN' in os.environ:\ndata/extcode/sagebuild/sageenv.py:89:        env = debian_env()\n...\nspkg/bin/sage-spkg:403:if [ -n \"$DEBIAN_RELEASE\" ]; then\nspkg/bin/sage-spkg:405:    if [ -e ./spkg-debian ]; then\nspkg/bin/sage-spkg:406:        time ./spkg-debian\nspkg/bin/sage-spkg:408:        time sage-build-debian $BASEDIR\n...\n```",
    "created_at": "2012-03-07T05:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12470#issuecomment-137676",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:6" align="right">comment:6</div>

There still seems to be some stuff from debian left in the scripts, even after applying these patches. Should they be still present? Showing only the relevant parts here.

```
...tallations/sage-5.0.beta2> LC_ALL="C" grep -irnI debian data local/bin spkg ipython tmp | grep -v '\.hg'
data/extcode/sagebuild/sageenv.py:52:                if not os.path.exists(self.options['SITE_PACKAGES']) and os.environ.has_key('SAGE_DEBIAN'):
data/extcode/sagebuild/sageenv.py:56:        if not self.options.has_key('SAGE_DEBIAN'):
data/extcode/sagebuild/sageenv.py:57:            self.options['SAGE_DEBIAN'] = False
data/extcode/sagebuild/sageenv.py:69:        if self.options['SAGE_DEBIAN']:
data/extcode/sagebuild/sageenv.py:70:            self.debian_include_dirs=["/usr/include","/usr/include/numpy","/usr/include/FLINT","/usr/include/givaro", "/usr/include/gsl","/usr/include/fplll","/usr/include/eclib","/usr/include/gmp++","/usr/include/linbox","/usr/include/NTL","/usr/include/pari","/usr/include/qd","/usr/include/singular","/usr/include/singular/singular","/usr/include/symmetrica","/usr/include/polybori"]
data/extcode/sagebuild/sageenv.py:71:            self.defaults['include_dirs'].expand(self.debian_include_dirs)
data/extcode/sagebuild/sageenv.py:73:            self.debian_include_dirs=[]
data/extcode/sagebuild/sageenv.py:76:        if self.options['SAGE_DEBIAN']:
data/extcode/sagebuild/sageenv.py:81:class debian_env(sage_env):
data/extcode/sagebuild/sageenv.py:84:        self.options['SAGE_DEBIAN'] = True
data/extcode/sagebuild/sageenv.py:88:    if 'SAGE_DEBIAN' in os.environ:
data/extcode/sagebuild/sageenv.py:89:        env = debian_env()
...
spkg/bin/sage-spkg:403:if [ -n "$DEBIAN_RELEASE" ]; then
spkg/bin/sage-spkg:405:    if [ -e ./spkg-debian ]; then
spkg/bin/sage-spkg:406:        time ./spkg-debian
spkg/bin/sage-spkg:408:        time sage-build-debian $BASEDIR
...
```



---

archive/issue_comments_137677.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@ppurka](#comment%3A6):\n> There still seems to be some stuff from debian left in the scripts, even after applying these patches.\n\nSee #12635 and #12479.",
    "created_at": "2012-03-07T08:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12470#issuecomment-137677",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@ppurka](#comment%3A6):
> There still seems to be some stuff from debian left in the scripts, even after applying these patches.

See #12635 and #12479.



---

archive/issue_events_168978.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-03-07T10:02:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12470#event-168978"
}
```



---

archive/issue_events_168979.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-03-07T10:02:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12470#event-168979"
}
```



---

archive/issue_comments_137678.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThanks. I tried force installing some spkgs and they worked fine. This was with also #12635 applied.",
    "created_at": "2012-03-07T10:02:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12470#issuecomment-137678",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:8" align="right">comment:8</div>

Thanks. I tried force installing some spkgs and they worked fine. This was with also #12635 applied.



---

archive/issue_comments_137679.json:
```json
{
    "body": "Reviewer: **Punarbasu Purkayastha**",
    "created_at": "2012-03-07T10:07:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12470#issuecomment-137679",
    "user": "https://github.com/ppurka"
}
```

Reviewer: **Punarbasu Purkayastha**



---

archive/issue_events_168980.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-13T08:23:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12470#event-168980"
}
```



---

archive/issue_events_168981.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-13T08:23:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12470#event-168981"
}
```



---

archive/issue_comments_137680.json:
```json
{
    "body": "Merged: **sage-5.0.beta8**",
    "created_at": "2012-03-13T08:23:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12470",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12470#issuecomment-137680",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.beta8**
