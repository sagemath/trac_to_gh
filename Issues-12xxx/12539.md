# Issue 12539: graphs and digraphs distances distribution

archive/issues_012367.json:
```json
{
    "assignees": [
        "https://github.com/jasongrout",
        "https://github.com/nathanncohen",
        "https://github.com/rlmill"
    ],
    "body": "This patch implements a simple function that returns the distances distribution of the (di)graph in a dictionary.\n\nAPPLY:\n* [attachment: trac_12539_distances_distribution_v2.patch](https://github.com/sagemath/sage/files/ticket12539/trac_12539_distances_distribution_v2.patch.gz)\n\n\nCC:  @nathanncohen\n\nComponent: **graph theory**\n\nAuthor: **David Coudert**\n\nReviewer: **Nathann Cohen**\n\nMerged: **sage-5.0.beta6**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12539_\n\n",
    "closed_at": "2012-02-27T11:23:17Z",
    "created_at": "2012-02-19T14:43:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "graphs and digraphs distances distribution",
    "type": "issue",
    "updated_at": "2012-02-27T11:23:17Z",
    "url": "https://github.com/sagemath/sage/issues/12539",
    "user": "https://github.com/dcoudert"
}
```
This patch implements a simple function that returns the distances distribution of the (di)graph in a dictionary.

APPLY:
* [attachment: trac_12539_distances_distribution_v2.patch](https://github.com/sagemath/sage/files/ticket12539/trac_12539_distances_distribution_v2.patch.gz)


CC:  @nathanncohen

Component: **graph theory**

Author: **David Coudert**

Reviewer: **Nathann Cohen**

Merged: **sage-5.0.beta6**

_Issue created by migration from https://trac.sagemath.org/ticket/12539_





---

archive/issue_events_172527.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2012-02-19T14:43:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172527"
}
```



---

archive/issue_events_172528.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2012-02-19T14:43:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "eeeeee",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172528"
}
```



---

archive/issue_events_172529.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2012-02-19T14:43:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172529"
}
```



---

archive/issue_events_172530.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2012-02-19T14:43:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172530"
}
```



---

archive/issue_events_172531.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2012-02-19T14:43:18Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "subject": "https://github.com/dcoudert",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172531"
}
```



---

archive/issue_events_172532.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-02-19T14:43:18Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "subject": "https://github.com/dcoudert",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172532"
}
```



---

archive/issue_events_172533.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2012-02-19T14:43:18Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "subject": "https://github.com/dcoudert",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172533"
}
```



---

archive/issue_events_172534.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2012-02-19T14:48:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172534"
}
```



---

archive/issue_comments_138768.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHelloooooo !!\n\nNice patch ! This can be useful indeed `:-)`\n\nTwo things, though.. Could you mention in the ``distances_distribution`` method of generic_graph.py that the method *ignores all edge labels* ? Our distance methods are usually built so that they can take it into account, depending on the input. It is not necessary to do the same for the function defined in distances_all_pairs as the whole module is built this way.\n\nAlso, what would you think of casting the answers to Sage integers before returning the values ? Right now you divide two C integer variables and so the answer is a float, but by doing something like Integer(4)/Integer(6) what the user would get is a pretty 2/3 instead of 0.66666666... At this level, it's not a very costly operation `:-)`\n\nNathann",
    "created_at": "2012-02-20T10:00:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138768",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:2" align="right">comment:2</div>

Helloooooo !!

Nice patch ! This can be useful indeed `:-)`

Two things, though.. Could you mention in the ``distances_distribution`` method of generic_graph.py that the method *ignores all edge labels* ? Our distance methods are usually built so that they can take it into account, depending on the input. It is not necessary to do the same for the function defined in distances_all_pairs as the whole module is built this way.

Also, what would you think of casting the answers to Sage integers before returning the values ? Right now you divide two C integer variables and so the answer is a float, but by doing something like Integer(4)/Integer(6) what the user would get is a pretty 2/3 instead of 0.66666666... At this level, it's not a very costly operation `:-)`

Nathann



---

archive/issue_comments_138769.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI have done all proposed improvements (and changed the outputs of the tests accordingly).\nThe Sage integer cast is quite nice and much more precise.\n\nD.",
    "created_at": "2012-02-20T12:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138769",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:3" align="right">comment:3</div>

I have done all proposed improvements (and changed the outputs of the tests accordingly).
The Sage integer cast is quite nice and much more precise.

D.



---

archive/issue_comments_138770.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHellooooo !!!\n\nHere are some modifications to the documentation, some sphinx typo (when there is no space between \"..\" and \"note\" Sphinx just ignores it), and details from the code. \n\nI give your patch a positive review, and you can do the same with mine (and so with the ticket) you like the changes `:-)`\n\nNathann",
    "created_at": "2012-02-20T19:53:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138770",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:4" align="right">comment:4</div>

Hellooooo !!!

Here are some modifications to the documentation, some sphinx typo (when there is no space between ".." and "note" Sphinx just ignores it), and details from the code. 

I give your patch a positive review, and you can do the same with mine (and so with the ticket) you like the changes `:-)`

Nathann



---

archive/issue_comments_138771.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n This patch implements a simple function that returns the distances distribution of the (di)graph in a dictionary.\n \n+APPLY:\n+* [attachment: trac_12539_distances_distribution.patch](https://github.com/sagemath/sage/files/ticket12539/trac_12539_distances_distribution.patch.gz)\n+* [attachment: trac_12539-review.patch](https://github.com/sagemath/sage/files/ticket12539/trac_12539-review.patch.gz)\n \n``````\n",
    "created_at": "2012-02-20T19:53:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138771",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 This patch implements a simple function that returns the distances distribution of the (di)graph in a dictionary.
 
+APPLY:
+* [attachment: trac_12539_distances_distribution.patch](https://github.com/sagemath/sage/files/ticket12539/trac_12539_distances_distribution.patch.gz)
+* [attachment: trac_12539-review.patch](https://github.com/sagemath/sage/files/ticket12539/trac_12539-review.patch.gz)
 
``````




---

archive/issue_comments_138772.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2012-02-20T19:53:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138772",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_events_172535.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2012-02-20T22:06:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172535"
}
```



---

archive/issue_events_172536.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2012-02-20T22:06:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172536"
}
```



---

archive/issue_comments_138773.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThanks for the corrections. \nInstallation and tests OK.\n\nI give a positive review to your additional patch ;-)\n\nD.",
    "created_at": "2012-02-20T22:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138773",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:5" align="right">comment:5</div>

Thanks for the corrections. 
Installation and tests OK.

I give a positive review to your additional patch ;-)

D.



---

archive/issue_events_172537.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-21T11:04:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172537"
}
```



---

archive/issue_events_172538.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-21T11:04:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172538"
}
```



---

archive/issue_comments_138774.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThis needs to be rebased to sage-5.0.beta5 (not yet released but essentially ready): [http://boxen.math.washington.edu/home/release/sage-5.0.beta5/](http://boxen.math.washington.edu/home/release/sage-5.0.beta5/)",
    "created_at": "2012-02-21T11:04:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138774",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

This needs to be rebased to sage-5.0.beta5 (not yet released but essentially ready): [http://boxen.math.washington.edu/home/release/sage-5.0.beta5/](http://boxen.math.washington.edu/home/release/sage-5.0.beta5/)



---

archive/issue_comments_138775.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n> This needs to be rebased to sage-5.0.beta5 (not yet released but essentially ready): [http://boxen.math.washington.edu/home/release/sage-5.0.beta5/](http://boxen.math.washington.edu/home/release/sage-5.0.beta5/)\n\nMy GOD there is going to be so much new stuff in 5.0 `:-P`\n\nNathann",
    "created_at": "2012-02-21T11:06:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138775",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

> This needs to be rebased to sage-5.0.beta5 (not yet released but essentially ready): [http://boxen.math.washington.edu/home/release/sage-5.0.beta5/](http://boxen.math.washington.edu/home/release/sage-5.0.beta5/)

My GOD there is going to be so much new stuff in 5.0 `:-P`

Nathann



---

archive/issue_comments_138776.json:
```json
{
    "body": "Attachment: **[trac_12539_distances_distribution_v2.patch.gz](https://github.com/sagemath/sage/files/ticket12539/trac_12539_distances_distribution_v2.patch.gz)**",
    "created_at": "2012-02-21T17:53:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138776",
    "user": "https://github.com/dcoudert"
}
```

Attachment: **[trac_12539_distances_distribution_v2.patch.gz](https://github.com/sagemath/sage/files/ticket12539/trac_12539_distances_distribution_v2.patch.gz)**



---

archive/issue_comments_138777.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,5 @@\n This patch implements a simple function that returns the distances distribution of the (di)graph in a dictionary.\n \n APPLY:\n-* [attachment: trac_12539_distances_distribution.patch](https://github.com/sagemath/sage/files/ticket12539/trac_12539_distances_distribution.patch.gz)\n-* [attachment: trac_12539-review.patch](https://github.com/sagemath/sage/files/ticket12539/trac_12539-review.patch.gz)\n+* [attachment: trac_12539_distances_distribution_v2.patch](https://github.com/sagemath/sage/files/ticket12539/trac_12539_distances_distribution_v2.patch.gz)\n \n``````\n",
    "created_at": "2012-02-21T18:00:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138777",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,5 @@
 This patch implements a simple function that returns the distances distribution of the (di)graph in a dictionary.
 
 APPLY:
-* [attachment: trac_12539_distances_distribution.patch](https://github.com/sagemath/sage/files/ticket12539/trac_12539_distances_distribution.patch.gz)
-* [attachment: trac_12539-review.patch](https://github.com/sagemath/sage/files/ticket12539/trac_12539-review.patch.gz)
+* [attachment: trac_12539_distances_distribution_v2.patch](https://github.com/sagemath/sage/files/ticket12539/trac_12539_distances_distribution_v2.patch.gz)
 
``````




---

archive/issue_events_172539.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2012-02-21T18:00:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172539"
}
```



---

archive/issue_events_172540.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2012-02-21T18:00:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172540"
}
```



---

archive/issue_comments_138778.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHello,\n\nI have \n* Installed sage-5.0.beta5\n* Merge into trac_12539_distances_distribution_v2.patch the original patch AND the review patch of Nathann.\n* Tested this new version on sage-5.0.beta5 (install, tests, docbuild, functionality)\n* Change the description of this ticket\n\nI hope it will now be acceptable, and accepted before next beta release ;-)\n\nNathann: If the new version is OK, could you please remove the now useless files ?\n\nD.",
    "created_at": "2012-02-21T18:00:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138778",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:8" align="right">comment:8</div>

Hello,

I have 
* Installed sage-5.0.beta5
* Merge into trac_12539_distances_distribution_v2.patch the original patch AND the review patch of Nathann.
* Tested this new version on sage-5.0.beta5 (install, tests, docbuild, functionality)
* Change the description of this ticket

I hope it will now be acceptable, and accepted before next beta release ;-)

Nathann: If the new version is OK, could you please remove the now useless files ?

D.



---

archive/issue_comments_138779.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nGoooooooooood to go ! `:-)`\n\nNathann",
    "created_at": "2012-02-22T20:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138779",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

Goooooooooood to go ! `:-)`

Nathann



---

archive/issue_events_172541.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-02-22T20:02:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172541"
}
```



---

archive/issue_events_172542.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-02-22T20:02:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172542"
}
```



---

archive/issue_comments_138780.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThanks !",
    "created_at": "2012-02-22T20:37:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138780",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:10" align="right">comment:10</div>

Thanks !



---

archive/issue_comments_138781.json:
```json
{
    "body": "Merged: **sage-5.0.beta6**",
    "created_at": "2012-02-27T11:23:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12539#issuecomment-138781",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.beta6**



---

archive/issue_events_172543.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-27T11:23:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172543"
}
```



---

archive/issue_events_172544.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-27T11:23:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12539",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12539#event-172544"
}
```
