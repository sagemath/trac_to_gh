# Issue 12543: improve import_statements

archive/issues_012371.json:
```json
{
    "body": "Currently, import_statements yields a name error if the class is not\nimported in the Sage interpreter namespace. For example.\n\n```\n   sage: import_statements(ClonableIntArray)\n   NameError: name 'ClonableIntArray' is not defined\n```\n\nWith this patch, one can specify the object as a string, and the object\nis looked up in all (imported) Sage modules.\n\n```\n    sage: import_statements(\"ClonableIntArray\")\n```\n\nSee the documentation for more examples.\n\nThis patch implements several heuristics to better handle ambiguous\nnames.\n\n\nAssignee: sage-combinat\n\nCC:  sage-combinat\n\nKeywords: import_statements, development\n\nReviewer: Nicolas M. Thi\u00e9ry\n\nAuthor: Vincent Delecroix\n\nMerged: sage-5.8.beta3\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/12543\n\n",
    "closed_at": "2013-03-04T07:36:54Z",
    "created_at": "2012-02-20T02:32:56Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.8",
    "title": "improve import_statements",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12543",
    "user": "https://github.com/anneschilling"
}
```
Currently, import_statements yields a name error if the class is not
imported in the Sage interpreter namespace. For example.

```
   sage: import_statements(ClonableIntArray)
   NameError: name 'ClonableIntArray' is not defined
```

With this patch, one can specify the object as a string, and the object
is looked up in all (imported) Sage modules.

```
    sage: import_statements("ClonableIntArray")
```

See the documentation for more examples.

This patch implements several heuristics to better handle ambiguous
names.


Assignee: sage-combinat

CC:  sage-combinat

Keywords: import_statements, development

Reviewer: Nicolas M. Thi√©ry

Author: Vincent Delecroix

Merged: sage-5.8.beta3

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/12543





---

archive/issue_comments_154648.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-01-27T16:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12543#issuecomment-154648",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_154649.json:
```json
{
    "body": "Changing component from combinatorics to misc.",
    "created_at": "2013-01-27T16:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12543#issuecomment-154649",
    "user": "https://github.com/videlec"
}
```

Changing component from combinatorics to misc.



---

archive/issue_comments_154650.json:
```json
{
    "body": "Changing keywords from \"\" to \"import_statements, development\".",
    "created_at": "2013-01-27T16:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12543#issuecomment-154650",
    "user": "https://github.com/videlec"
}
```

Changing keywords from "" to "import_statements, development".



---

archive/issue_comments_154651.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -11,8 +11,7 @@\n     sage: import_statements(\"ClonableIntArray\")\n ```\n \n-It also would probably require extending search_def to also look up\n-classes and not only functions.\n+The patch improve import_statements by looking through SAGE modules in order to find an appropriate import. See the documentation for examples.\n \n Author: Nicolas Thiery\n \n```\n",
    "created_at": "2013-01-27T16:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12543#issuecomment-154651",
    "user": "https://github.com/videlec"
}
```

Description changed:
```diff
--- 
+++ 
@@ -11,8 +11,7 @@
     sage: import_statements("ClonableIntArray")
 ```
 
-It also would probably require extending search_def to also look up
-classes and not only functions.
+The patch improve import_statements by looking through SAGE modules in order to find an appropriate import. See the documentation for examples.
 
 Author: Nicolas Thiery
 
```




---

archive/issue_comments_154652.json:
```json
{
    "body": "<a id='comment:2'></a>Now, all function in the module are documented...",
    "created_at": "2013-01-28T23:08:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12543#issuecomment-154652",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'></a>Now, all function in the module are documented...



---

archive/issue_comments_154653.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,22 @@\n+Currently, import_statements yields a name error if the class is not\n+imported in the Sage interpreter namespace. For example.\n+\n+```\n+   sage: import_statements(ClonableIntArray)\n+   NameError: name 'ClonableIntArray' is not defined\n+```\n+\n+With this patch, one can specify the object as a string, and the object\n+is looked up in all (imported) Sage modules.\n+\n+```\n+    sage: import_statements(\"ClonableIntArray\")\n+```\n+\n+See the documentation for more examples.\n+\n+This patch implements several heuristics to better handle ambiguous\n+names.\n \n \n Author: Nicolas Thiery\n```\n",
    "created_at": "2013-02-28T07:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12543#issuecomment-154653",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,22 @@
+Currently, import_statements yields a name error if the class is not
+imported in the Sage interpreter namespace. For example.
+
+```
+   sage: import_statements(ClonableIntArray)
+   NameError: name 'ClonableIntArray' is not defined
+```
+
+With this patch, one can specify the object as a string, and the object
+is looked up in all (imported) Sage modules.
+
+```
+    sage: import_statements("ClonableIntArray")
+```
+
+See the documentation for more examples.
+
+This patch implements several heuristics to better handle ambiguous
+names.
 
 
 Author: Nicolas Thiery
```




---

archive/issue_comments_154654.json:
```json
{
    "body": "<a id='comment:3'></a>Attachment [trac_12543-import_statements-vd.patch](tarball://root/attachments/some-uuid/ticket12543/trac_12543-import_statements-vd.patch) by @nthiery created at 2013-02-28 07:01:01\n\nI did some improvements with Vincent watching over my shoulder.\n\nPositive review! Thanks Vincent :-)",
    "created_at": "2013-02-28T07:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12543#issuecomment-154654",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:3'></a>Attachment [trac_12543-import_statements-vd.patch](tarball://root/attachments/some-uuid/ticket12543/trac_12543-import_statements-vd.patch) by @nthiery created at 2013-02-28 07:01:01

I did some improvements with Vincent watching over my shoulder.

Positive review! Thanks Vincent :-)



---

archive/issue_comments_154655.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-02-28T07:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12543#issuecomment-154655",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_033849.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-04T07:36:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12543",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12543#event-33849"
}
```



---

archive/issue_comments_154656.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-03-04T07:36:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12543",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12543#issuecomment-154656",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
