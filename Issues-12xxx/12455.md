# Issue 12455: Make Airy functions symbolic

archive/issues_012283.json:
```json
{
    "body": "As discussed in [sage-support](http://groups.google.com/group/sage-support/browse_thread/thread/f458d0f9cfd89c9a).\n\nCurrently sage can evaluate airy functions numerically:\n\n```\nsage: airy_ai(1.4)\n0.0820380498076\n```\n\nbut it doesn't work symbolically\n\n```\nsage: airy_ai(x)\n...\nTypeError: Cannot evaluate symbolic expression to a numeric value.\n```\n\nWe should make it symbolical for both airy_ai and airy_bi, as well as their derivatives.\n\n**Assignee:** @rwst\n\n**CC:**  @kcrisman @burcin @benjaminfjones @fredrik-johansson @eviatarbach\n\n**Keywords:** Airy functions sd40.5 sd48\n\n**Branch:** [2f6945af73219458fb0a2745e2df9e2eea79b055](https://github.com/sagemath/sagetrac-mirror/commit/2f6945af73219458fb0a2745e2df9e2eea79b055)\n\n**Reviewer:** Eviatar Bach, Karl-Dieter Crisman, Burcin Erocal, Ralf Stephan, Jeroen Demeyer, Marc Mezzarobba\n\n**Author:** Oscar Gerardo Lazo Arjona, Benjamin Jones, Douglas McNeil, Eviatar Bach, Ralf Stephan\n\n**Dependencies:** #12289, #17130\n\nIssue created by migration from https://trac.sagemath.org/ticket/12455\n\n",
    "closed_at": "2015-03-12T23:06:43Z",
    "created_at": "2012-02-07T04:47:04Z",
    "labels": [
        "component: symbolics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.6",
    "title": "Make Airy functions symbolic",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/12455",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```
As discussed in [sage-support](http://groups.google.com/group/sage-support/browse_thread/thread/f458d0f9cfd89c9a).

Currently sage can evaluate airy functions numerically:

```
sage: airy_ai(1.4)
0.0820380498076
```

but it doesn't work symbolically

```
sage: airy_ai(x)
...
TypeError: Cannot evaluate symbolic expression to a numeric value.
```

We should make it symbolical for both airy_ai and airy_bi, as well as their derivatives.

**Assignee:** @rwst

**CC:**  @kcrisman @burcin @benjaminfjones @fredrik-johansson @eviatarbach

**Keywords:** Airy functions sd40.5 sd48

**Branch:** [2f6945af73219458fb0a2745e2df9e2eea79b055](https://github.com/sagemath/sagetrac-mirror/commit/2f6945af73219458fb0a2745e2df9e2eea79b055)

**Reviewer:** Eviatar Bach, Karl-Dieter Crisman, Burcin Erocal, Ralf Stephan, Jeroen Demeyer, Marc Mezzarobba

**Author:** Oscar Gerardo Lazo Arjona, Benjamin Jones, Douglas McNeil, Eviatar Bach, Ralf Stephan

**Dependencies:** #12289, #17130

Issue created by migration from https://trac.sagemath.org/ticket/12455





---

archive/issue_comments_139688.json:
```json
{
    "body": "**Assignee:** @burcin",
    "created_at": "2012-02-07T04:47:41Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139688",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```

**Assignee:** @burcin



---

archive/issue_events_102476.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/olazo",
    "created_at": "2012-02-07T04:47:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "component: symbolics",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102476"
}
```



---

archive/issue_comments_139689.json:
```json
{
    "body": "**Changing assignee** from @burcin to olazo.",
    "created_at": "2012-02-07T04:48:52Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139689",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```

**Changing assignee** from @burcin to olazo.



---

archive/issue_comments_139690.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+As discussed in [sage-support](http://groups.google.com/group/sage-support/browse_thread/thread/f458d0f9cfd89c9a).\n+\n Currently sage can evaluate airy functions numerically:\n \n ```\n``````\n",
    "created_at": "2012-02-07T04:52:19Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139690",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+As discussed in [sage-support](http://groups.google.com/group/sage-support/browse_thread/thread/f458d0f9cfd89c9a).
+
 Currently sage can evaluate airy functions numerically:
 
 ```
``````




---

archive/attachments_016736.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12455-symbolic_airy.patch",
    "asset_url": "tarball://root/attachments/ticket12455/trac_12455-symbolic_airy.patch",
    "created_at": "2012-02-07T08:05:17Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12455/trac_12455-symbolic_airy.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```



---

archive/issue_comments_139691.json:
```json
{
    "body": "<a id='comment:4'></a>\nAttachment [trac_12455-symbolic_airy.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455-symbolic_airy.patch) by olazo created at 2012-02-07 08:05:17\n\nI've added a patch, which should do the job, but it has a few shortcomings:\n\n1.-The resulting symbolic functions seem to remain on hold:\n\n```\nsage: airy_ai(1.0)\nairy_ai(1.00000000000000)\n```\nYou need to force it to evaluate:\n\n```\nsage: airy_ai(1.0).n()\n0.135292416313\n```\n\n2.- This doesn't work:\n\n```\nsage: airy_ai(2.0).n(digits=100)\n0.0349241304233\n```\n3.- There is no evaluation for airy_ai_prime or airy_bi_prime\n\n4.- I'm not sure about how should the functions be called, some possible schemes are\n\n{ai,bi,aip,bip}\n{ai,bai,aip,baip}\n{airy_ai,airy_bi,airy_ai_prime,airy_bi_prime}\n\nAnd also whether the latex representation should be capitalized or not. I chose the third scheme, and capitalized typesetting.",
    "created_at": "2012-02-07T08:05:17Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139691",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```

<a id='comment:4'></a>
Attachment [trac_12455-symbolic_airy.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455-symbolic_airy.patch) by olazo created at 2012-02-07 08:05:17

I've added a patch, which should do the job, but it has a few shortcomings:

1.-The resulting symbolic functions seem to remain on hold:

```
sage: airy_ai(1.0)
airy_ai(1.00000000000000)
```
You need to force it to evaluate:

```
sage: airy_ai(1.0).n()
0.135292416313
```

2.- This doesn't work:

```
sage: airy_ai(2.0).n(digits=100)
0.0349241304233
```
3.- There is no evaluation for airy_ai_prime or airy_bi_prime

4.- I'm not sure about how should the functions be called, some possible schemes are

{ai,bi,aip,bip}
{ai,bai,aip,baip}
{airy_ai,airy_bi,airy_ai_prime,airy_bi_prime}

And also whether the latex representation should be capitalized or not. I chose the third scheme, and capitalized typesetting.



---

archive/issue_events_102477.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/olazo",
    "created_at": "2012-02-07T08:06:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102477"
}
```



---

archive/issue_comments_139692.json:
```json
{
    "body": "<a id='comment:6'></a>\nGood start.  A few responses.\n* You'll need to have more methods.  We should probably use [mpmath](http://mpmath.googlecode.com/svn/trunk/doc/build/functions/bessel.html#airy-and-scorer-functions) to evaluate these functions in general, though using [the SciPy version](http://docs.scipy.org/doc/scipy/reference/generated/scipy.special.airy.html) could be useful over RDF.  See #11888 for a very recent example of this kind of thing and how to implement it.\n* That should also fix precision issues, if properly done, I think.\n* SciPy has evaluation for the airy primes.  I think that Maxima has these too.  (Cc:ing FJ in case he has plans to add these to mpmath.)\n* We should have translations of these to Maxima and friends.  That will probably help us name them.   What do Mathematica and Maple call them?\n* All methods, including initialization methods, need doctests.  Many of the new symbolic functions added at [symbolics](symbolics)/functions will have nice models to follow.\n\nThanks for getting us a start on this!   That's great.",
    "created_at": "2012-02-07T13:59:30Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139692",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>
Good start.  A few responses.
* You'll need to have more methods.  We should probably use [mpmath](http://mpmath.googlecode.com/svn/trunk/doc/build/functions/bessel.html#airy-and-scorer-functions) to evaluate these functions in general, though using [the SciPy version](http://docs.scipy.org/doc/scipy/reference/generated/scipy.special.airy.html) could be useful over RDF.  See #11888 for a very recent example of this kind of thing and how to implement it.
* That should also fix precision issues, if properly done, I think.
* SciPy has evaluation for the airy primes.  I think that Maxima has these too.  (Cc:ing FJ in case he has plans to add these to mpmath.)
* We should have translations of these to Maxima and friends.  That will probably help us name them.   What do Mathematica and Maple call them?
* All methods, including initialization methods, need doctests.  Many of the new symbolic functions added at [symbolics](symbolics)/functions will have nice models to follow.

Thanks for getting us a start on this!   That's great.



---

archive/issue_events_102478.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-02-07T13:59:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102478"
}
```



---

archive/issue_events_102479.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-02-07T13:59:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102479"
}
```



---

archive/issue_events_102480.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-02-07T13:59:30Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "rename": {
        "from": "Make Airy functions symbolical",
        "to": "Make Airy functions symbolic"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102480"
}
```



---

archive/issue_comments_139693.json:
```json
{
    "body": "<a id='comment:7'></a>\nmpmath has the derivatives (as well as integrals) -- just use the optional 'derivative' parameter.",
    "created_at": "2012-02-07T14:03:06Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139693",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:7'></a>
mpmath has the derivatives (as well as integrals) -- just use the optional 'derivative' parameter.



---

archive/issue_comments_139694.json:
```json
{
    "body": "<a id='comment:8'></a>\n> mpmath has the derivatives (as well as integrals) -- just use the optional 'derivative' parameter.\n\nOk, I didn't realize that was what that parameter was about.  Though in retrospect it seems obvious!",
    "created_at": "2012-02-07T14:05:49Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139694",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>
> mpmath has the derivatives (as well as integrals) -- just use the optional 'derivative' parameter.

Ok, I didn't realize that was what that parameter was about.  Though in retrospect it seems obvious!



---

archive/issue_comments_139695.json:
```json
{
    "body": "<a id='comment:9'></a>\nOn second thought, I think it would be better to use the airy equation to calculate derivatives or order higher than 1. Like\n\n```\nsage: airy_ai(2,x)\nx*airy_ai(x)\nsage: airy_ai(3,x)\nairy_ai(x)+x*airy_ai_prime(x)\nsage: diff(airy_ai(x),x,2)\nx*airy_ai(x)\nsage: diff(airy_ai(x),x,3)\nairy_ai(x)+x*airy_ai_prime(x)\n```\n\nwhich is very likey to be the way mpmath calculates higher order derivatives. Integrals however, would be returned as:\n\n```\nsage: airy_ai(-1,x)\nairy_ai(-1,x)\nsage: integral(airy_ai(x),x)\nairy_ai(-1,x)\n```\n\nwhat do you think?",
    "created_at": "2012-02-07T22:14:07Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139695",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```

<a id='comment:9'></a>
On second thought, I think it would be better to use the airy equation to calculate derivatives or order higher than 1. Like

```
sage: airy_ai(2,x)
x*airy_ai(x)
sage: airy_ai(3,x)
airy_ai(x)+x*airy_ai_prime(x)
sage: diff(airy_ai(x),x,2)
x*airy_ai(x)
sage: diff(airy_ai(x),x,3)
airy_ai(x)+x*airy_ai_prime(x)
```

which is very likey to be the way mpmath calculates higher order derivatives. Integrals however, would be returned as:

```
sage: airy_ai(-1,x)
airy_ai(-1,x)
sage: integral(airy_ai(x),x)
airy_ai(-1,x)
```

what do you think?



---

archive/attachments_016737.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12455-symbolic_airy2.patch",
    "asset_url": "tarball://root/attachments/ticket12455/trac_12455-symbolic_airy2.patch",
    "created_at": "2012-02-19T01:01:55Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12455/trac_12455-symbolic_airy2.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```



---

archive/issue_comments_139696.json:
```json
{
    "body": "<a id='comment:10'></a>\nAttachment [trac_12455-symbolic_airy2.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455-symbolic_airy2.patch) by olazo created at 2012-02-19 01:01:55\n\nI just added a new patch. The new version includes generalized derivatives, evaluation with mpmath, and special values of the functions and their derivatives. Just a one doubt, the coverage is:\n\n```\noscar@oscar-netbook:~$ sage -coverage airy.py\nSCORE /home/oscar/sage/my_patches/airy.py: 76% (20 of 26)\n\nMissing documentation:\n\t * __init__(self):\n\t * __init__(self):\n\t * __init__(self):\n\t * __init__(self):\n\t * __init__(self):\n\t * __init__(self):\n\n\nPossibly wrong (function name doesn't occur in doctests):\n\t * _derivative_(self, x, diff_param=None):\n\t * _eval_(self, x):\n\t * _evalf_(self, x, parent=None):\n\t * _derivative_(self, x, diff_param=None):\n\t * _eval_(self, x):\n\t * _evalf_(self, x, parent=None):\n\t * _derivative_(self, alpha, *args, **kwds):\n\t * _eval_(self, alpha, *args):\n\t * _evalf_(self, alpha, x, parent=None):\n\t * _derivative_(self, x, diff_param=None):\n\t * _eval_(self, x):\n\t * _evalf_(self, x, parent=None):\n\t * _derivative_(self, x, diff_param=None):\n\t * _eval_(self, x):\n\t * _evalf_(self, x, parent=None):\n\t * _derivative_(self, alpha, *args, **kwds):\n\t * _eval_(self, alpha, *args):\n\t * _evalf_(self, alpha, x, parent=None):\n```\n\nIs that important?",
    "created_at": "2012-02-19T01:01:55Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139696",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```

<a id='comment:10'></a>
Attachment [trac_12455-symbolic_airy2.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455-symbolic_airy2.patch) by olazo created at 2012-02-19 01:01:55

I just added a new patch. The new version includes generalized derivatives, evaluation with mpmath, and special values of the functions and their derivatives. Just a one doubt, the coverage is:

```
oscar@oscar-netbook:~$ sage -coverage airy.py
SCORE /home/oscar/sage/my_patches/airy.py: 76% (20 of 26)

Missing documentation:
	 * __init__(self):
	 * __init__(self):
	 * __init__(self):
	 * __init__(self):
	 * __init__(self):
	 * __init__(self):


Possibly wrong (function name doesn't occur in doctests):
	 * _derivative_(self, x, diff_param=None):
	 * _eval_(self, x):
	 * _evalf_(self, x, parent=None):
	 * _derivative_(self, x, diff_param=None):
	 * _eval_(self, x):
	 * _evalf_(self, x, parent=None):
	 * _derivative_(self, alpha, *args, **kwds):
	 * _eval_(self, alpha, *args):
	 * _evalf_(self, alpha, x, parent=None):
	 * _derivative_(self, x, diff_param=None):
	 * _eval_(self, x):
	 * _evalf_(self, x, parent=None):
	 * _derivative_(self, x, diff_param=None):
	 * _eval_(self, x):
	 * _evalf_(self, x, parent=None):
	 * _derivative_(self, alpha, *args, **kwds):
	 * _eval_(self, alpha, *args):
	 * _evalf_(self, alpha, x, parent=None):
```

Is that important?



---

archive/issue_events_102481.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/olazo",
    "created_at": "2012-02-19T01:01:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102481"
}
```



---

archive/issue_events_102482.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/olazo",
    "created_at": "2012-02-19T01:01:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102482"
}
```



---

archive/issue_comments_139697.json:
```json
{
    "body": "<a id='comment:11'></a>\n> Is that important?\n\nThe second part isn't, as you are implicitly testing these 'hidden' functions.  By the way,\n\n```\nExamples::\n```\nshould be \n\n```\nEXAMPLES::\n```\nHowever, the first part (the initialization methods) is important for our coverage.   You can just do a couple from the big examples that you have.\n\nDo these pass doctests?  I'm surprised that \n\n```\nsage: airy_ai_simple= FunctionAiryAiSimple()\n```\nwould work when you run tests, assuming you didn't import `FunctionAiryAiSimple` into the global namespace.\n\nAnyway, overall on a quick glance this looks great; unfortunately, I won't have time to review it properly soon - hopefully someone else will, because you put a lot of great work into it and we should totally have these symbolic.  Thanks!",
    "created_at": "2012-02-19T01:12:14Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139697",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:11'></a>
> Is that important?

The second part isn't, as you are implicitly testing these 'hidden' functions.  By the way,

```
Examples::
```
should be 

```
EXAMPLES::
```
However, the first part (the initialization methods) is important for our coverage.   You can just do a couple from the big examples that you have.

Do these pass doctests?  I'm surprised that 

```
sage: airy_ai_simple= FunctionAiryAiSimple()
```
would work when you run tests, assuming you didn't import `FunctionAiryAiSimple` into the global namespace.

Anyway, overall on a quick glance this looks great; unfortunately, I won't have time to review it properly soon - hopefully someone else will, because you put a lot of great work into it and we should totally have these symbolic.  Thanks!



---

archive/issue_comments_139698.json:
```json
{
    "body": "<a id='comment:12'></a>\n> Do these pass doctests?  I'm surprised that \n> \n> ```\n> sage: airy_ai_simple= FunctionAiryAiSimple()\n> ```\n> would work when you run tests, assuming you didn't import `FunctionAiryAiSimple` into the global namespace.\n\n\nIt looks like they do:\n\n```\noscar@oscar-netbook:~$ sage -coverage airy.py\nsage -t  \"/home/oscar/sage/my_patches/airy.py\"              \n\t [51.5 s]\n \n----------------------------------------------------------------------\nAll tests passed!\nTotal time for all tests: 51.7 seconds\n```\nWhy shouldn't they? I'll take care of the `__init__` functions.",
    "created_at": "2012-02-19T02:46:41Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139698",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```

<a id='comment:12'></a>
> Do these pass doctests?  I'm surprised that 
> 
> ```
> sage: airy_ai_simple= FunctionAiryAiSimple()
> ```
> would work when you run tests, assuming you didn't import `FunctionAiryAiSimple` into the global namespace.


It looks like they do:

```
oscar@oscar-netbook:~$ sage -coverage airy.py
sage -t  "/home/oscar/sage/my_patches/airy.py"              
	 [51.5 s]
 
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 51.7 seconds
```
Why shouldn't they? I'll take care of the `__init__` functions.



---

archive/issue_comments_139699.json:
```json
{
    "body": "<a id='comment:13'></a>\nI'm sorry, that should be:\n\n```\noscar@oscar-netbook:~$ sage -t airy.py\nsage -t  \"/home/oscar/sage/my_patches/airy.py\"              \n\t [51.5 s]\n \n----------------------------------------------------------------------\nAll tests passed!\nTotal time for all tests: 51.7 seconds\n```\n(the command was sage -t)",
    "created_at": "2012-02-19T02:49:00Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139699",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```

<a id='comment:13'></a>
I'm sorry, that should be:

```
oscar@oscar-netbook:~$ sage -t airy.py
sage -t  "/home/oscar/sage/my_patches/airy.py"              
	 [51.5 s]
 
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 51.7 seconds
```
(the command was sage -t)



---

archive/issue_events_102483.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-02-19T03:19:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102483"
}
```



---

archive/issue_events_102484.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-02-19T03:19:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102484"
}
```



---

archive/issue_comments_139700.json:
```json
{
    "body": "<a id='comment:14'></a>\n\n```\nsage: airy_ai_simple= FunctionAiryAiSimple()\n```\n> would work when you run tests, assuming you didn't import `FunctionAiryAiSimple` into the global namespace.\n\n\nI'm just surprised this doesn't cause trouble.  \n\nOn another note, this apparently does something weird when applied to 5.0.beta4.   Namely, Sage won't start:\n\n```\n---> 65 from sage.functions.all import sin, cos\n\nImportError: cannot import name sin\nError importing ipy_profile_sage - perhaps you should run %upgrade?\nWARNING: Loading of ipy_profile_sage failed.\n```\nI'll spare you the rest of the traceback.  I think there is some kind of circular import thing going on here, but I don't understand imports that well.  Perhaps moving the import of airy to further down (after trig functions) would help - that's a totally uninformed guess, of course.",
    "created_at": "2012-02-19T03:19:16Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139700",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>

```
sage: airy_ai_simple= FunctionAiryAiSimple()
```
> would work when you run tests, assuming you didn't import `FunctionAiryAiSimple` into the global namespace.


I'm just surprised this doesn't cause trouble.  

On another note, this apparently does something weird when applied to 5.0.beta4.   Namely, Sage won't start:

```
---> 65 from sage.functions.all import sin, cos

ImportError: cannot import name sin
Error importing ipy_profile_sage - perhaps you should run %upgrade?
WARNING: Loading of ipy_profile_sage failed.
```
I'll spare you the rest of the traceback.  I think there is some kind of circular import thing going on here, but I don't understand imports that well.  Perhaps moving the import of airy to further down (after trig functions) would help - that's a totally uninformed guess, of course.



---

archive/attachments_016738.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12455-symbolic_airy3.patch",
    "asset_url": "tarball://root/attachments/ticket12455/trac_12455-symbolic_airy3.patch",
    "created_at": "2012-02-21T18:44:12Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12455/trac_12455-symbolic_airy3.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```



---

archive/issue_comments_139701.json:
```json
{
    "body": "<a id='comment:15'></a>\nAttachment [trac_12455-symbolic_airy3.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455-symbolic_airy3.patch) by olazo created at 2012-02-21 18:44:12\n\nI just added a new patch, now with 100 % test coverage, but I still get this message:\n\n```\noscar@oscar-netbook:~$ sage -coverage /home/oscar/sage/my_patches/airy.py ----------------------------------------------------------------------\n/home/oscar/sage/my_patches/airy.py\nERROR: Please add a `TestSuite(s).run()` doctest.\nSCORE /home/oscar/sage/my_patches/airy.py: 100% (26 of 26)\n----------------------------------------------------------------------\n```\n\nWhat is this TestSuite thing? I also changed the order in which functions are initialized, so that airy_ai_general is initialized first. Doing it last made some symbolic operations, such as simplify not work (It said something about airy_ai requiring 2 arguments).",
    "created_at": "2012-02-21T18:44:12Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139701",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```

<a id='comment:15'></a>
Attachment [trac_12455-symbolic_airy3.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455-symbolic_airy3.patch) by olazo created at 2012-02-21 18:44:12

I just added a new patch, now with 100 % test coverage, but I still get this message:

```
oscar@oscar-netbook:~$ sage -coverage /home/oscar/sage/my_patches/airy.py ----------------------------------------------------------------------
/home/oscar/sage/my_patches/airy.py
ERROR: Please add a `TestSuite(s).run()` doctest.
SCORE /home/oscar/sage/my_patches/airy.py: 100% (26 of 26)
----------------------------------------------------------------------
```

What is this TestSuite thing? I also changed the order in which functions are initialized, so that airy_ai_general is initialized first. Doing it last made some symbolic operations, such as simplify not work (It said something about airy_ai requiring 2 arguments).



---

archive/issue_comments_139702.json:
```json
{
    "body": "**Author:** Oscar Gerardo Lazo Arjona",
    "created_at": "2012-02-21T18:44:12Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139702",
    "user": "https://trac.sagemath.org/admin/accounts/users/olazo"
}
```

**Author:** Oscar Gerardo Lazo Arjona



---

archive/issue_events_102485.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/olazo",
    "created_at": "2012-02-21T18:44:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102485"
}
```



---

archive/issue_events_102486.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/olazo",
    "created_at": "2012-02-21T18:44:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102486"
}
```



---

archive/issue_comments_139703.json:
```json
{
    "body": "**Reviewer:** Benjamin Jones",
    "created_at": "2012-02-21T19:03:43Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139703",
    "user": "https://github.com/benjaminfjones"
}
```

**Reviewer:** Benjamin Jones



---

archive/issue_comments_139704.json:
```json
{
    "body": "<a id='comment:16'></a>\nHi Oscar,\nI haven't looked over your patch very closely yet, but I plan to. One comment on first glance: in several places you call\n\n```\nreturn mpmath_utils.call(airy_bi_mpmath, x, derivative=1, parent=RR) \n```\n\nbut I think we want to preserve the parent of `x` instead of forcing it to be `RR`. Importing the `parent` function from `sage.structure.coerce` using a different name like `sage_parent` (because as burcin pointed out in one of my tickets, parent is the name of the parameter in `_evalf_`) and doing something like\n\n```\nfrom sage.structure.coerce import parent as sage_parent\nR = parent or sage_parent(x)\nreturn mpmath_utils.call(airy_bi_mpmath, x, derivative=1, parent=R)\n```\n\nwould do the trick I think. \n\nOther comment: can we add conversions to Maxima along with the Mma conversion you included? Here is a link to the appropriate chapter in the manual: http://maxima.sourceforge.net/docs/manual/en/maxima_15.html#SEC80",
    "created_at": "2012-02-21T19:03:43Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139704",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:16'></a>
Hi Oscar,
I haven't looked over your patch very closely yet, but I plan to. One comment on first glance: in several places you call

```
return mpmath_utils.call(airy_bi_mpmath, x, derivative=1, parent=RR) 
```

but I think we want to preserve the parent of `x` instead of forcing it to be `RR`. Importing the `parent` function from `sage.structure.coerce` using a different name like `sage_parent` (because as burcin pointed out in one of my tickets, parent is the name of the parameter in `_evalf_`) and doing something like

```
from sage.structure.coerce import parent as sage_parent
R = parent or sage_parent(x)
return mpmath_utils.call(airy_bi_mpmath, x, derivative=1, parent=R)
```

would do the trick I think. 

Other comment: can we add conversions to Maxima along with the Mma conversion you included? Here is a link to the appropriate chapter in the manual: http://maxima.sourceforge.net/docs/manual/en/maxima_15.html#SEC80



---

archive/issue_comments_139705.json:
```json
{
    "body": "<a id='comment:17'></a>\nThe patch applies to 5.0.beta6 cleanly, but upon `sage -br` I get an import error ending with:\n\n```\n/home/jonesbe/sage/sage-5.0.beta6/local/lib/python2.7/site-packages/sage/gsl/dft.py in <module>()\n     63 from sage.rings.real_mpfr import RR\n     64 from sage.rings.all import I\n---> 65 from sage.functions.all import sin, cos\n     66 from sage.gsl.fft import FastFourierTransform\n     67 from sage.gsl.dwt import WaveletTransform\n\nImportError: cannot import name sin\nError importing ipy_profile_sage - perhaps you should run %upgrade?\nWARNING: Loading of ipy_profile_sage failed.\n```\n\nSeems like the same thing kcrisman ran into with the previous patch applied to 5.0.beta4.",
    "created_at": "2012-02-29T02:33:39Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139705",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:17'></a>
The patch applies to 5.0.beta6 cleanly, but upon `sage -br` I get an import error ending with:

```
/home/jonesbe/sage/sage-5.0.beta6/local/lib/python2.7/site-packages/sage/gsl/dft.py in <module>()
     63 from sage.rings.real_mpfr import RR
     64 from sage.rings.all import I
---> 65 from sage.functions.all import sin, cos
     66 from sage.gsl.fft import FastFourierTransform
     67 from sage.gsl.dwt import WaveletTransform

ImportError: cannot import name sin
Error importing ipy_profile_sage - perhaps you should run %upgrade?
WARNING: Loading of ipy_profile_sage failed.
```

Seems like the same thing kcrisman ran into with the previous patch applied to 5.0.beta4.



---

archive/issue_events_102487.json:
```json
{
    "actor": "https://github.com/benjaminfjones",
    "created_at": "2012-02-29T02:33:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102487"
}
```



---

archive/issue_events_102488.json:
```json
{
    "actor": "https://github.com/benjaminfjones",
    "created_at": "2012-02-29T02:33:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102488"
}
```



---

archive/issue_comments_139706.json:
```json
{
    "body": "<a id='comment:18'></a>\nI found the cause of the problem in comment [comment:17]. There is a circular import going on because\n\n```\nfrom airy import airy_ai, airy_bi\n```\noccurs at the top of `sage/functions/all.py`. If you move it to the bottom of the file, sage starts just fine.\n\nThere a several doctests that fail, however. Oscar, I think that running `sage -coverage` only checks to see if there are doctest for every function, it doesn't actually run the tests. Use\n\n```\nsage -t devel/sage/sage/functions/airy.py\n```\n\nto run the tests and get feedback.",
    "created_at": "2012-03-24T16:38:51Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139706",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:18'></a>
I found the cause of the problem in comment [comment:17]. There is a circular import going on because

```
from airy import airy_ai, airy_bi
```
occurs at the top of `sage/functions/all.py`. If you move it to the bottom of the file, sage starts just fine.

There a several doctests that fail, however. Oscar, I think that running `sage -coverage` only checks to see if there are doctest for every function, it doesn't actually run the tests. Use

```
sage -t devel/sage/sage/functions/airy.py
```

to run the tests and get feedback.



---

archive/issue_comments_139707.json:
```json
{
    "body": "**Work_Issues:** circular import, doctest failures",
    "created_at": "2012-03-24T16:38:51Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139707",
    "user": "https://github.com/benjaminfjones"
}
```

**Work_Issues:** circular import, doctest failures



---

archive/issue_comments_139708.json:
```json
{
    "body": "<a id='comment:19'></a>\nHere at SD 40.5, we're going to pick this ticket up, do the work, and get it into sage.",
    "created_at": "2012-05-26T17:45:08Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139708",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:19'></a>
Here at SD 40.5, we're going to pick this ticket up, do the work, and get it into sage.



---

archive/issue_comments_139709.json:
```json
{
    "body": "**Changing reviewer** from \"Benjamin Jones\" to \"\".",
    "created_at": "2012-05-26T17:45:08Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139709",
    "user": "https://github.com/benjaminfjones"
}
```

**Changing reviewer** from "Benjamin Jones" to "".



---

archive/issue_comments_139710.json:
```json
{
    "body": "**Changing author** from \"Oscar Gerardo Lazo Arjona\" to \"Oscar Gerardo Lazo Arjona, Benjamin Jones\".",
    "created_at": "2012-05-26T17:45:08Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139710",
    "user": "https://github.com/benjaminfjones"
}
```

**Changing author** from "Oscar Gerardo Lazo Arjona" to "Oscar Gerardo Lazo Arjona, Benjamin Jones".



---

archive/issue_comments_139711.json:
```json
{
    "body": "**Changing keywords** from \"Airy functions\" to \"Airy functions sd40.5\".",
    "created_at": "2012-05-26T17:57:42Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139711",
    "user": "https://github.com/benjaminfjones"
}
```

**Changing keywords** from "Airy functions" to "Airy functions sd40.5".



---

archive/issue_comments_139712.json:
```json
{
    "body": "<a id='comment:21'></a>\nOkay, I'm posting this for future reference.  I've attempted to preserve as much as possible of the original code while switching to the \"new-style\" dictionary-argument .n() approach we're working on in #12289, but I'm setting it to \"needs work\" myself while we think through some of the consequences of the switch.  Some of the `_evalf_` stuff violates DRY and I'm not yet sure of the best way to deal with it.\n\nAs well, the patch currently segfaults in testing when it computes beta(0.5, 0.5) due to some problem with the current #12289 package, which I suspect is unrelated.  But I think the new approach is beginning to take shape.",
    "created_at": "2012-05-29T05:11:18Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139712",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

<a id='comment:21'></a>
Okay, I'm posting this for future reference.  I've attempted to preserve as much as possible of the original code while switching to the "new-style" dictionary-argument .n() approach we're working on in #12289, but I'm setting it to "needs work" myself while we think through some of the consequences of the switch.  Some of the `_evalf_` stuff violates DRY and I'm not yet sure of the best way to deal with it.

As well, the patch currently segfaults in testing when it computes beta(0.5, 0.5) due to some problem with the current #12289 package, which I suspect is unrelated.  But I think the new approach is beginning to take shape.



---

archive/attachments_016739.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12455_newstyle_airy.patch",
    "asset_url": "tarball://root/attachments/ticket12455/trac_12455_newstyle_airy.patch",
    "created_at": "2012-05-29T05:12:12Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12455/trac_12455_newstyle_airy.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```



---

archive/issue_comments_139713.json:
```json
{
    "body": "Attachment [trac_12455_newstyle_airy.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455_newstyle_airy.patch) by dsm created at 2012-05-29 05:12:12\n\nnewstyle rewrite, version 1",
    "created_at": "2012-05-29T05:12:12Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139713",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

Attachment [trac_12455_newstyle_airy.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455_newstyle_airy.patch) by dsm created at 2012-05-29 05:12:12

newstyle rewrite, version 1



---

archive/issue_comments_139714.json:
```json
{
    "body": "**Dependencies:** #12289",
    "created_at": "2012-05-29T05:13:44Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139714",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

**Dependencies:** #12289



---

archive/issue_comments_139715.json:
```json
{
    "body": "<a id='comment:23'></a>\nOh, yeah: and #13028 was a significant nuisance while working on this.",
    "created_at": "2012-05-29T05:15:04Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139715",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

<a id='comment:23'></a>
Oh, yeah: and #13028 was a significant nuisance while working on this.



---

archive/attachments_016740.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12455_newstyle_airy2.patch",
    "asset_url": "tarball://root/attachments/ticket12455/trac_12455_newstyle_airy2.patch",
    "created_at": "2013-06-19T00:03:27Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12455/trac_12455_newstyle_airy2.patch",
    "user": "https://github.com/eviatarbach"
}
```



---

archive/issue_comments_139716.json:
```json
{
    "body": "Attachment [trac_12455_newstyle_airy2.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455_newstyle_airy2.patch) by @eviatarbach created at 2013-06-19 00:03:27",
    "created_at": "2013-06-19T00:03:27Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139716",
    "user": "https://github.com/eviatarbach"
}
```

Attachment [trac_12455_newstyle_airy2.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455_newstyle_airy2.patch) by @eviatarbach created at 2013-06-19 00:03:27



---

archive/issue_comments_139717.json:
```json
{
    "body": "<a id='comment:25'></a>\nNew patch, which should pass all doctests once #12289 is merged.\n\nIt makes the following changes:\n* Changing an incorrect `airy_bi` identity\n* Adding `airy.py` to the documentation\n* Checking whether `n` is an integer (for some reason mpmath is able to evaluate numerically with non-integral `n`)\n* Formatting changes\n* Removing the parent's precision check because it wasn't used\n* Removing the check for the `parent` keyword because Burcin told me to\n\nPatchbot apply trac_12455_newstyle_airy.patch trac_12455_newstyle_airy2.patch",
    "created_at": "2013-06-19T00:09:19Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139717",
    "user": "https://github.com/eviatarbach"
}
```

<a id='comment:25'></a>
New patch, which should pass all doctests once #12289 is merged.

It makes the following changes:
* Changing an incorrect `airy_bi` identity
* Adding `airy.py` to the documentation
* Checking whether `n` is an integer (for some reason mpmath is able to evaluate numerically with non-integral `n`)
* Formatting changes
* Removing the parent's precision check because it wasn't used
* Removing the check for the `parent` keyword because Burcin told me to

Patchbot apply trac_12455_newstyle_airy.patch trac_12455_newstyle_airy2.patch



---

archive/issue_comments_139718.json:
```json
{
    "body": "**Changing keywords** from \"Airy functions sd40.5\" to \"Airy functions sd40.5 sd48\".",
    "created_at": "2013-06-19T00:19:04Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139718",
    "user": "https://github.com/eviatarbach"
}
```

**Changing keywords** from "Airy functions sd40.5" to "Airy functions sd40.5 sd48".



---

archive/issue_comments_139719.json:
```json
{
    "body": "<a id='comment:27'></a>\nNeeds review, then?  Note that I had to rebase #12289.",
    "created_at": "2013-06-19T01:48:58Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139719",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:27'></a>
Needs review, then?  Note that I had to rebase #12289.



---

archive/issue_events_102489.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-19T01:48:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102489"
}
```



---

archive/issue_events_102490.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-19T01:48:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102490"
}
```



---

archive/issue_comments_139720.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -35,3 +35,7 @@\n ```\n \n We should make it symbolical for both airy_ai and airy_bi, as well as their derivatives.\n+\n+---\n+\n+Apply [attachment:trac_12455_newstyle_airy.patch] and [attachment:trac_12455_newstyle_airy2.patch].\n``````\n",
    "created_at": "2013-06-19T01:48:58Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139720",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -35,3 +35,7 @@
 ```
 
 We should make it symbolical for both airy_ai and airy_bi, as well as their derivatives.
+
+---
+
+Apply [attachment:trac_12455_newstyle_airy.patch] and [attachment:trac_12455_newstyle_airy2.patch].
``````




---

archive/issue_comments_139721.json:
```json
{
    "body": "**Changing author** from \"Oscar Gerardo Lazo Arjona, Benjamin Jones\" to \"Oscar Gerardo Lazo Arjona, Benjamin Jones, Eviatar Bach\".",
    "created_at": "2013-06-19T01:48:58Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139721",
    "user": "https://github.com/kcrisman"
}
```

**Changing author** from "Oscar Gerardo Lazo Arjona, Benjamin Jones" to "Oscar Gerardo Lazo Arjona, Benjamin Jones, Eviatar Bach".



---

archive/issue_comments_139722.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -38,4 +38,4 @@\n \n ---\n \n-Apply [attachment:trac_12455_newstyle_airy.patch] and [attachment:trac_12455_newstyle_airy2.patch].\n+Apply [attachment:trac_12455-newstyle-airy-rebase.patch] and [attachment:trac_12455_newstyle_airy2.patch].\n``````\n",
    "created_at": "2013-06-19T20:12:57Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139722",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -38,4 +38,4 @@
 
 ---
 
-Apply [attachment:trac_12455_newstyle_airy.patch] and [attachment:trac_12455_newstyle_airy2.patch].
+Apply [attachment:trac_12455-newstyle-airy-rebase.patch] and [attachment:trac_12455_newstyle_airy2.patch].
``````




---

archive/issue_comments_139723.json:
```json
{
    "body": "<a id='comment:28'></a>\nPatchbot apply trac_12455-newstyle-airy-rebase.patch and trac_12455_newstyle_airy2.patch\n\nI don't know that either of the needs work issues are still there...",
    "created_at": "2013-06-19T20:12:57Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139723",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:28'></a>
Patchbot apply trac_12455-newstyle-airy-rebase.patch and trac_12455_newstyle_airy2.patch

I don't know that either of the needs work issues are still there...



---

archive/issue_comments_139724.json:
```json
{
    "body": "**Reviewer:** Eviatar Bach, Karl-Dieter Crisman",
    "created_at": "2013-06-19T20:12:57Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139724",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Eviatar Bach, Karl-Dieter Crisman



---

archive/issue_comments_139725.json:
```json
{
    "body": "<a id='comment:29'></a>\nThis needs a trivial extra patch to fix\n\n```\n\nsage -t sage/functions/special.py\n**********************************************************************\nFile \"sage/functions/special.py\", line 389, in sage.functions.special._init\nFailed example:\n    spherical_harmonic(3,2,1,2)\nExpected:\n    15/4*sqrt(7/30)*e^(4*I)*sin(1)^2*cos(1)/sqrt(pi)\nGot:\n    15/4*sqrt(7/30)*cos(1)*e^(4*I)*sin(1)^2/sqrt(pi)\n**********************************************************************\n```\nwhich is really a rebase issue off of #9880, no worries.",
    "created_at": "2013-06-19T20:19:36Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139725",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:29'></a>
This needs a trivial extra patch to fix

```

sage -t sage/functions/special.py
**********************************************************************
File "sage/functions/special.py", line 389, in sage.functions.special._init
Failed example:
    spherical_harmonic(3,2,1,2)
Expected:
    15/4*sqrt(7/30)*e^(4*I)*sin(1)^2*cos(1)/sqrt(pi)
Got:
    15/4*sqrt(7/30)*cos(1)*e^(4*I)*sin(1)^2/sqrt(pi)
**********************************************************************
```
which is really a rebase issue off of #9880, no worries.



---

archive/issue_comments_139726.json:
```json
{
    "body": "<a id='comment:30'></a>\nOkay, a little more rebasing for #12289.  Patches coming up.",
    "created_at": "2013-06-19T21:18:58Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139726",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:30'></a>
Okay, a little more rebasing for #12289.  Patches coming up.



---

archive/issue_comments_139727.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -38,4 +38,4 @@\n \n ---\n \n-Apply [attachment:trac_12455-newstyle-airy-rebase.patch] and [attachment:trac_12455_newstyle_airy2.patch].\n+Apply [attachment:trac_12455-newstyle-airy-rebase.patch] and [attachment:trac_12455-newstyle-airy2-rebase.patch].\n``````\n",
    "created_at": "2013-06-19T21:27:04Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139727",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -38,4 +38,4 @@
 
 ---
 
-Apply [attachment:trac_12455-newstyle-airy-rebase.patch] and [attachment:trac_12455_newstyle_airy2.patch].
+Apply [attachment:trac_12455-newstyle-airy-rebase.patch] and [attachment:trac_12455-newstyle-airy2-rebase.patch].
``````




---

archive/issue_comments_139728.json:
```json
{
    "body": "<a id='comment:31'></a>\nApply trac_12455-newstyle-airy-rebase.patch and trac_12455-newstyle-airy2-rebase.patch",
    "created_at": "2013-06-19T21:27:04Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139728",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:31'></a>
Apply trac_12455-newstyle-airy-rebase.patch and trac_12455-newstyle-airy2-rebase.patch



---

archive/issue_comments_139729.json:
```json
{
    "body": "<a id='comment:32'></a>\nEviatar, how much would you say still needs to be reviewed?  (In the sense that you have not yet given it positive review.)  Just your patch?\n\n(I'm running doctests now.)",
    "created_at": "2013-06-19T21:28:12Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139729",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:32'></a>
Eviatar, how much would you say still needs to be reviewed?  (In the sense that you have not yet given it positive review.)  Just your patch?

(I'm running doctests now.)



---

archive/issue_comments_139730.json:
```json
{
    "body": "<a id='comment:33'></a>\nI made some mistake while rebasing - one moment.",
    "created_at": "2013-06-19T21:32:55Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139730",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:33'></a>
I made some mistake while rebasing - one moment.



---

archive/issue_comments_139731.json:
```json
{
    "body": "<a id='comment:34'></a>\nI think I was fairly thorough, but I haven't positive-reviewed since my patch hasn't been looked at by someone else.",
    "created_at": "2013-06-19T21:35:03Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139731",
    "user": "https://github.com/eviatarbach"
}
```

<a id='comment:34'></a>
I think I was fairly thorough, but I haven't positive-reviewed since my patch hasn't been looked at by someone else.



---

archive/attachments_016741.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12455-newstyle-airy-rebase.patch",
    "asset_url": "tarball://root/attachments/ticket12455/trac_12455-newstyle-airy-rebase.patch",
    "created_at": "2013-06-19T21:55:13Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12455/trac_12455-newstyle-airy-rebase.patch",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_139732.json:
```json
{
    "body": "<a id='comment:35'></a>\nAttachment [trac_12455-newstyle-airy-rebase.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455-newstyle-airy-rebase.patch) by @kcrisman created at 2013-06-19 21:55:13\n\nOkay, now I have to fix something in the other one... sigh.  Final version coming soon, it *does* pass tests!",
    "created_at": "2013-06-19T21:55:13Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139732",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:35'></a>
Attachment [trac_12455-newstyle-airy-rebase.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455-newstyle-airy-rebase.patch) by @kcrisman created at 2013-06-19 21:55:13

Okay, now I have to fix something in the other one... sigh.  Final version coming soon, it *does* pass tests!



---

archive/attachments_016742.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12455-newstyle-airy2-rebase.patch",
    "asset_url": "tarball://root/attachments/ticket12455/trac_12455-newstyle-airy2-rebase.patch",
    "created_at": "2013-06-19T21:55:58Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12455/trac_12455-newstyle-airy2-rebase.patch",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_139733.json:
```json
{
    "body": "Attachment [trac_12455-newstyle-airy2-rebase.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455-newstyle-airy2-rebase.patch) by @kcrisman created at 2013-06-19 21:55:58",
    "created_at": "2013-06-19T21:55:58Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139733",
    "user": "https://github.com/kcrisman"
}
```

Attachment [trac_12455-newstyle-airy2-rebase.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455-newstyle-airy2-rebase.patch) by @kcrisman created at 2013-06-19 21:55:58



---

archive/issue_comments_139734.json:
```json
{
    "body": "<a id='comment:36'></a>\nPatchbot, apply trac_12455-newstyle-airy-rebase.patch and trac_12455-newstyle-airy2-rebase.patch",
    "created_at": "2013-06-19T21:56:19Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139734",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:36'></a>
Patchbot, apply trac_12455-newstyle-airy-rebase.patch and trac_12455-newstyle-airy2-rebase.patch



---

archive/issue_comments_139735.json:
```json
{
    "body": "<a id='comment:37'></a>\n> (for some reason mpmath is able to evaluate numerically with non-integral n)\n\nBut this is even in the documentation you wrote!\n\n```\nReturn the `\\alpha`-th order fractional derivative with respect to `z`.\n```\n\"Fractional\", right?  So ... ?  Plus, you do *not* make this change in airy_bi, only airy_ai, for some reason.\n\nAnother question:\n\n```\nsage: (plot(airy_bi(x), (x, -10, 5)) +\\ \n```\nAre we allowing this kind of continuation in doctests still?  I can't remember but seem to recall something about this being a problem.\n\nOtherwise this all seems fine.",
    "created_at": "2013-06-19T22:54:38Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139735",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:37'></a>
> (for some reason mpmath is able to evaluate numerically with non-integral n)

But this is even in the documentation you wrote!

```
Return the `\alpha`-th order fractional derivative with respect to `z`.
```
"Fractional", right?  So ... ?  Plus, you do *not* make this change in airy_bi, only airy_ai, for some reason.

Another question:

```
sage: (plot(airy_bi(x), (x, -10, 5)) +\ 
```
Are we allowing this kind of continuation in doctests still?  I can't remember but seem to recall something about this being a problem.

Otherwise this all seems fine.



---

archive/issue_comments_139736.json:
```json
{
    "body": "<a id='comment:38'></a>\nI didn't write it. But looking at the mpmath documentation, it should work. It didn't work for most values before my patch anyway, but I'll see what I can do.",
    "created_at": "2013-06-19T23:07:53Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139736",
    "user": "https://github.com/eviatarbach"
}
```

<a id='comment:38'></a>
I didn't write it. But looking at the mpmath documentation, it should work. It didn't work for most values before my patch anyway, but I'll see what I can do.



---

archive/issue_events_102491.json:
```json
{
    "actor": "https://github.com/eviatarbach",
    "created_at": "2013-06-19T23:07:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102491"
}
```



---

archive/issue_events_102492.json:
```json
{
    "actor": "https://github.com/eviatarbach",
    "created_at": "2013-06-19T23:07:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102492"
}
```



---

archive/issue_comments_139737.json:
```json
{
    "body": "<a id='comment:39'></a>\n> I didn't write it. \n\nGood point, sorry!  In fact, it's just copied from [the mpmath doc](http://mpmath.googlecode.com/svn/tags/0.17/doc/build/functions/bessel.html#airyai).  But now you have taken charge :-)  Unfortunately, I can't find a lot of independent implementations of this...",
    "created_at": "2013-06-19T23:29:47Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139737",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:39'></a>
> I didn't write it. 

Good point, sorry!  In fact, it's just copied from [the mpmath doc](http://mpmath.googlecode.com/svn/tags/0.17/doc/build/functions/bessel.html#airyai).  But now you have taken charge :-)  Unfortunately, I can't find a lot of independent implementations of this...



---

archive/attachments_016743.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12455-airy_review.patch",
    "asset_url": "tarball://root/attachments/ticket12455/trac_12455-airy_review.patch",
    "created_at": "2013-06-20T01:33:04Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12455/trac_12455-airy_review.patch",
    "user": "https://github.com/burcin"
}
```



---

archive/issue_comments_139738.json:
```json
{
    "body": "Attachment [trac_12455-airy_review.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455-airy_review.patch) by @burcin created at 2013-06-20 01:33:04",
    "created_at": "2013-06-20T01:33:04Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139738",
    "user": "https://github.com/burcin"
}
```

Attachment [trac_12455-airy_review.patch](https://github.com/sagemath/sage/files/ticket12455/trac_12455-airy_review.patch) by @burcin created at 2013-06-20 01:33:04



---

archive/issue_comments_139739.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -38,4 +38,8 @@\n \n ---\n \n-Apply [attachment:trac_12455-newstyle-airy-rebase.patch] and [attachment:trac_12455-newstyle-airy2-rebase.patch].\n+Apply \n+\n+* [attachment:trac_12455-newstyle-airy-rebase.patch]\n+* [attachment:trac_12455-newstyle-airy2-rebase.patch]\n+* [attachment: trac_12455-airy_review.patch]\n``````\n",
    "created_at": "2013-06-20T01:43:31Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139739",
    "user": "https://github.com/burcin"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -38,4 +38,8 @@
 
 ---
 
-Apply [attachment:trac_12455-newstyle-airy-rebase.patch] and [attachment:trac_12455-newstyle-airy2-rebase.patch].
+Apply 
+
+* [attachment:trac_12455-newstyle-airy-rebase.patch]
+* [attachment:trac_12455-newstyle-airy2-rebase.patch]
+* [attachment: trac_12455-airy_review.patch]
``````




---

archive/issue_comments_139740.json:
```json
{
    "body": "**Changing reviewer** from \"Eviatar Bach, Karl-Dieter Crisman\" to \"Eviatar Bach, Karl-Dieter Crisman, Burcin Erocal\".",
    "created_at": "2013-06-20T01:43:31Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139740",
    "user": "https://github.com/burcin"
}
```

**Changing reviewer** from "Eviatar Bach, Karl-Dieter Crisman" to "Eviatar Bach, Karl-Dieter Crisman, Burcin Erocal".



---

archive/issue_comments_139741.json:
```json
{
    "body": "<a id='comment:40'></a>\n[attachment:trac_12455-airy_review.patch] fixes a couple of problems:\n\n* `airy_{a,b}i_general` should evaluate to `airy_{a,b}i_simple`, `airy_{a,b}i_prime`, etc. depending on the first parameter\n\n* differentiating `airy_{a,b}i_general` in the first parameter is not allowed\n\n* `_evalf_` should not raise errors for unrecognized algorithm argument\n\n\nThis is still needs work because we use indirect doctests everywhere. There is no reason to go through the `airy_{a,b}i` wrapper functions. We should call the symbolic functions directly in the doctests. There are also a lot of code paths that are not tested. I changed the fractional order behavior, but didn't need to change any doctests.\n\nIt would be great if someone else can fix/add doctests. I will move on to something else now.",
    "created_at": "2013-06-20T01:43:31Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139741",
    "user": "https://github.com/burcin"
}
```

<a id='comment:40'></a>
[attachment:trac_12455-airy_review.patch] fixes a couple of problems:

* `airy_{a,b}i_general` should evaluate to `airy_{a,b}i_simple`, `airy_{a,b}i_prime`, etc. depending on the first parameter

* differentiating `airy_{a,b}i_general` in the first parameter is not allowed

* `_evalf_` should not raise errors for unrecognized algorithm argument


This is still needs work because we use indirect doctests everywhere. There is no reason to go through the `airy_{a,b}i` wrapper functions. We should call the symbolic functions directly in the doctests. There are also a lot of code paths that are not tested. I changed the fractional order behavior, but didn't need to change any doctests.

It would be great if someone else can fix/add doctests. I will move on to something else now.



---

archive/issue_comments_139742.json:
```json
{
    "body": "**Changing author** from \"Oscar Gerardo Lazo Arjona, Benjamin Jones, Eviatar Bach\" to \"Oscar Gerardo Lazo Arjona, Benjamin Jones, D. S. McNeil, Eviatar Bach\".",
    "created_at": "2013-06-20T01:43:31Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139742",
    "user": "https://github.com/burcin"
}
```

**Changing author** from "Oscar Gerardo Lazo Arjona, Benjamin Jones, Eviatar Bach" to "Oscar Gerardo Lazo Arjona, Benjamin Jones, D. S. McNeil, Eviatar Bach".



---

archive/issue_events_102493.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102493"
}
```



---

archive/issue_events_102494.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102494"
}
```



---

archive/issue_comments_139743.json:
```json
{
    "body": "<a id='comment:42'></a>\nThis patch depends on a new release of Pynac and other fixes to make the `algorithm` keyword work sensibly. Also, I don't see much point in having the Maxima implementation as an option, considering the fact that it doesn't accept complex input, doesn't have arbitrary precision, and is slower than mpmath (doesn't appear to scale better either).\n\nI'd hate to delay this patch longer, especially considering that the Airy functions are probably among the most-used special functions. Could we remove the Maxima option for now and perhaps add it in the future, maybe along with a patch that adds a SciPy option as suggested in one of the comments?",
    "created_at": "2013-09-10T03:48:35Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139743",
    "user": "https://github.com/eviatarbach"
}
```

<a id='comment:42'></a>
This patch depends on a new release of Pynac and other fixes to make the `algorithm` keyword work sensibly. Also, I don't see much point in having the Maxima implementation as an option, considering the fact that it doesn't accept complex input, doesn't have arbitrary precision, and is slower than mpmath (doesn't appear to scale better either).

I'd hate to delay this patch longer, especially considering that the Airy functions are probably among the most-used special functions. Could we remove the Maxima option for now and perhaps add it in the future, maybe along with a patch that adds a SciPy option as suggested in one of the comments?



---

archive/issue_comments_139744.json:
```json
{
    "body": "<a id='comment:43'></a>\nI'm fine with removing Maxima from the options for numerical evaluation (numerical is not generally where Maxima shines). I agree with @burcin, though, that indirect doctests should be fixed wherever possible and become direct tests and that the branch coverage should be higher.\n\nWhat exactly is the issue with having the Maxima option? Is it the limited precision and domain? We could always check that inputs are okay whenever Maxima is selected and raise an exception otherwise.",
    "created_at": "2013-09-10T06:03:25Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139744",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:43'></a>
I'm fine with removing Maxima from the options for numerical evaluation (numerical is not generally where Maxima shines). I agree with @burcin, though, that indirect doctests should be fixed wherever possible and become direct tests and that the branch coverage should be higher.

What exactly is the issue with having the Maxima option? Is it the limited precision and domain? We could always check that inputs are okay whenever Maxima is selected and raise an exception otherwise.



---

archive/issue_events_102495.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102495"
}
```



---

archive/issue_events_102496.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102496"
}
```



---

archive/issue_events_102497.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102497"
}
```



---

archive/issue_events_102498.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102498"
}
```



---

archive/issue_comments_139745.json:
```json
{
    "body": "**Branch:** [u/rws/make_airy_functions_symbolic](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/make_airy_functions_symbolic)",
    "created_at": "2014-07-19T10:19:32Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139745",
    "user": "https://github.com/rwst"
}
```

**Branch:** [u/rws/make_airy_functions_symbolic](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/make_airy_functions_symbolic)



---

archive/issue_comments_139746.json:
```json
{
    "body": "**Commit:** [22731c9d5b976301d282e3b48e259f5f13d4b8bd](https://github.com/sagemath/sagetrac-mirror/commit/22731c9d5b976301d282e3b48e259f5f13d4b8bd)",
    "created_at": "2014-07-24T08:16:06Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139746",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [22731c9d5b976301d282e3b48e259f5f13d4b8bd](https://github.com/sagemath/sagetrac-mirror/commit/22731c9d5b976301d282e3b48e259f5f13d4b8bd)



---

archive/issue_comments_139747.json:
```json
{
    "body": "<a id='comment:47'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aeb08003cec50604bb727bd9a5b36993708a6ca7\">aeb0800</a></td><td><code>12455: remove algorithm=maxima</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22731c9d5b976301d282e3b48e259f5f13d4b8bd\">22731c9</a></td><td><code>12455: implement algorithm='scipy'</code></td></tr></table>\n",
    "created_at": "2014-07-24T08:16:06Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139747",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aeb08003cec50604bb727bd9a5b36993708a6ca7">aeb0800</a></td><td><code>12455: remove algorithm=maxima</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22731c9d5b976301d282e3b48e259f5f13d4b8bd">22731c9</a></td><td><code>12455: implement algorithm='scipy'</code></td></tr></table>




---

archive/issue_comments_139748.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [benjaminfjones](#comment%3A43):\n> What exactly is the issue with having the Maxima option? Is it the limited precision and domain? We could always check that inputs are okay whenever Maxima is selected and raise an exception otherwise.\n\nIt's useless, especially when scipy is implemented as algorithm. OTOH, it introduces more code paths to test and deepens a dependency that is unwanted.\n\nOh, and scipy is a bit faster:\n\n```\nsage: timeit(\"airy_bi(2).n(algorithm='maxima')\")\n625 loops, best of 3: 685 \u00b5s per loop\nsage: timeit(\"airy_bi(2).n(algorithm='scipy')\")\n625 loops, best of 3: 124 \u00b5s per loop\n```",
    "created_at": "2014-07-24T08:16:32Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139748",
    "user": "https://github.com/rwst"
}
```

<a id='comment:48'></a>
Replying to [benjaminfjones](#comment%3A43):
> What exactly is the issue with having the Maxima option? Is it the limited precision and domain? We could always check that inputs are okay whenever Maxima is selected and raise an exception otherwise.

It's useless, especially when scipy is implemented as algorithm. OTOH, it introduces more code paths to test and deepens a dependency that is unwanted.

Oh, and scipy is a bit faster:

```
sage: timeit("airy_bi(2).n(algorithm='maxima')")
625 loops, best of 3: 685 µs per loop
sage: timeit("airy_bi(2).n(algorithm='scipy')")
625 loops, best of 3: 124 µs per loop
```



---

archive/issue_comments_139749.json:
```json
{
    "body": "**Changing commit** from \"[22731c9d5b976301d282e3b48e259f5f13d4b8bd](https://github.com/sagemath/sagetrac-mirror/commit/22731c9d5b976301d282e3b48e259f5f13d4b8bd)\" to \"[515e343290448d2bbe5e75f88accea814be9215f](https://github.com/sagemath/sagetrac-mirror/commit/515e343290448d2bbe5e75f88accea814be9215f)\".",
    "created_at": "2014-07-24T15:05:48Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[22731c9d5b976301d282e3b48e259f5f13d4b8bd](https://github.com/sagemath/sagetrac-mirror/commit/22731c9d5b976301d282e3b48e259f5f13d4b8bd)" to "[515e343290448d2bbe5e75f88accea814be9215f](https://github.com/sagemath/sagetrac-mirror/commit/515e343290448d2bbe5e75f88accea814be9215f)".



---

archive/issue_comments_139750.json:
```json
{
    "body": "<a id='comment:49'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a88d0353f7519a75023e784b189c693b43e4b86b\">a88d035</a></td><td><code>12455: fix indirect and plot doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f91a3c2ee9e75aa291278536ac8093f8aecc682b\">f91a3c2</a></td><td><code>12455: hold_derivate only implemented in wrapper functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/515e343290448d2bbe5e75f88accea814be9215f\">515e343</a></td><td><code>12455: add small index to documentation head</code></td></tr></table>\n",
    "created_at": "2014-07-24T15:05:48Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139750",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a88d0353f7519a75023e784b189c693b43e4b86b">a88d035</a></td><td><code>12455: fix indirect and plot doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f91a3c2ee9e75aa291278536ac8093f8aecc682b">f91a3c2</a></td><td><code>12455: hold_derivate only implemented in wrapper functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/515e343290448d2bbe5e75f88accea814be9215f">515e343</a></td><td><code>12455: add small index to documentation head</code></td></tr></table>




---

archive/issue_events_102499.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-24T15:15:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102499"
}
```



---

archive/issue_events_102500.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-24T15:15:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102500"
}
```



---

archive/issue_comments_139751.json:
```json
{
    "body": "**Changing author** from \"Oscar Gerardo Lazo Arjona, Benjamin Jones, D. S. McNeil, Eviatar Bach\" to \"Oscar Gerardo Lazo Arjona, Benjamin Jones, D. S. McNeil, Eviatar Bach, Ralf Stephan\".",
    "created_at": "2014-07-24T15:15:05Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139751",
    "user": "https://github.com/rwst"
}
```

**Changing author** from "Oscar Gerardo Lazo Arjona, Benjamin Jones, D. S. McNeil, Eviatar Bach" to "Oscar Gerardo Lazo Arjona, Benjamin Jones, D. S. McNeil, Eviatar Bach, Ralf Stephan".



---

archive/issue_comments_139752.json:
```json
{
    "body": "<a id='comment:50'></a>\nEverything was reviewed up to my recent changes:\n\n* merged develop\n* removal of maxima and inclusion of scipy for numerics\n* replacement of indirect with direct doctests (still 100% coverage)\n* removal of hold_derivate keyword from `airy_ai/bi_general()` where it wasn't implemented (it is still in `airy_ai/bi()` wrapper functions\n* small index at the top of documentation for orientation, because of confusing presentation order of functions, which cannot be controlled, sadly\n\nSo please review.",
    "created_at": "2014-07-24T15:15:05Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139752",
    "user": "https://github.com/rwst"
}
```

<a id='comment:50'></a>
Everything was reviewed up to my recent changes:

* merged develop
* removal of maxima and inclusion of scipy for numerics
* replacement of indirect with direct doctests (still 100% coverage)
* removal of hold_derivate keyword from `airy_ai/bi_general()` where it wasn't implemented (it is still in `airy_ai/bi()` wrapper functions
* small index at the top of documentation for orientation, because of confusing presentation order of functions, which cannot be controlled, sadly

So please review.



---

archive/issue_comments_139753.json:
```json
{
    "body": "**Changing work_issues** from \"circular import, doctest failures\" to \"\".",
    "created_at": "2014-07-24T15:15:05Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139753",
    "user": "https://github.com/rwst"
}
```

**Changing work_issues** from "circular import, doctest failures" to "".



---

archive/issue_events_102501.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102501"
}
```



---

archive/issue_events_102502.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102502"
}
```



---

archive/issue_comments_139754.json:
```json
{
    "body": "<a id='comment:52'></a>\none failing doctest, see patchbot report",
    "created_at": "2014-08-23T12:20:55Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139754",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:52'></a>
one failing doctest, see patchbot report



---

archive/issue_events_102503.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-08-23T12:20:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102503"
}
```



---

archive/issue_events_102504.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-08-23T12:20:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102504"
}
```



---

archive/issue_comments_139755.json:
```json
{
    "body": "**Changing commit** from \"[515e343290448d2bbe5e75f88accea814be9215f](https://github.com/sagemath/sagetrac-mirror/commit/515e343290448d2bbe5e75f88accea814be9215f)\" to \"[8e76828f9f5c988b0429230cd1050c6086fb730b](https://github.com/sagemath/sagetrac-mirror/commit/8e76828f9f5c988b0429230cd1050c6086fb730b)\".",
    "created_at": "2014-08-26T11:19:53Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139755",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[515e343290448d2bbe5e75f88accea814be9215f](https://github.com/sagemath/sagetrac-mirror/commit/515e343290448d2bbe5e75f88accea814be9215f)" to "[8e76828f9f5c988b0429230cd1050c6086fb730b](https://github.com/sagemath/sagetrac-mirror/commit/8e76828f9f5c988b0429230cd1050c6086fb730b)".



---

archive/issue_comments_139756.json:
```json
{
    "body": "<a id='comment:53'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17158927b386e755f897acacabcd1c5b816df557\">1715892</a></td><td><code>Merge branch 'develop' into t/12455/make_airy_functions_symbolic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e76828f9f5c988b0429230cd1050c6086fb730b\">8e76828</a></td><td><code>12455: trigger doctest with MaximaFunction as intended</code></td></tr></table>\n",
    "created_at": "2014-08-26T11:19:53Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139756",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:53'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17158927b386e755f897acacabcd1c5b816df557">1715892</a></td><td><code>Merge branch 'develop' into t/12455/make_airy_functions_symbolic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e76828f9f5c988b0429230cd1050c6086fb730b">8e76828</a></td><td><code>12455: trigger doctest with MaximaFunction as intended</code></td></tr></table>




---

archive/issue_comments_139757.json:
```json
{
    "body": "**Changing assignee** from olazo to @rwst.",
    "created_at": "2014-08-26T11:20:54Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139757",
    "user": "https://github.com/rwst"
}
```

**Changing assignee** from olazo to @rwst.



---

archive/issue_comments_139758.json:
```json
{
    "body": "**Changing assignee** from @rwst to olazo.",
    "created_at": "2014-08-26T11:22:05Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139758",
    "user": "https://github.com/rwst"
}
```

**Changing assignee** from @rwst to olazo.



---

archive/issue_events_102505.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-08-26T11:22:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102505"
}
```



---

archive/issue_events_102506.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-08-26T11:22:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102506"
}
```



---

archive/issue_comments_139759.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/make_airy_functions_symbolic](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/make_airy_functions_symbolic)\" to \"[public/ticket/12455](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/12455)\".",
    "created_at": "2014-09-25T19:59:03Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139759",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/rws/make_airy_functions_symbolic](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/make_airy_functions_symbolic)" to "[public/ticket/12455](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/12455)".



---

archive/issue_comments_139760.json:
```json
{
    "body": "<a id='comment:57'></a>\nRebased on 6.4.beta3, and add a few `# rel tol` to the scipy results.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3449e86ac942de214c90b3aa61665f6b5b13575\">c3449e8</a></td><td><code>Merge branch 'u/rws/make_airy_functions_symbolic' and 6.4.beta3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95526065b2703e42378838747055bb6bbc409402\">9552606</a></td><td><code>trac #12455 fixing doctests by adding rel tol and changing imports</code></td></tr></table>\n",
    "created_at": "2014-09-25T19:59:03Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139760",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:57'></a>
Rebased on 6.4.beta3, and add a few `# rel tol` to the scipy results.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3449e86ac942de214c90b3aa61665f6b5b13575">c3449e8</a></td><td><code>Merge branch 'u/rws/make_airy_functions_symbolic' and 6.4.beta3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95526065b2703e42378838747055bb6bbc409402">9552606</a></td><td><code>trac #12455 fixing doctests by adding rel tol and changing imports</code></td></tr></table>




---

archive/issue_comments_139761.json:
```json
{
    "body": "**Changing commit** from \"[8e76828f9f5c988b0429230cd1050c6086fb730b](https://github.com/sagemath/sagetrac-mirror/commit/8e76828f9f5c988b0429230cd1050c6086fb730b)\" to \"[95526065b2703e42378838747055bb6bbc409402](https://github.com/sagemath/sagetrac-mirror/commit/95526065b2703e42378838747055bb6bbc409402)\".",
    "created_at": "2014-09-25T19:59:03Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139761",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[8e76828f9f5c988b0429230cd1050c6086fb730b](https://github.com/sagemath/sagetrac-mirror/commit/8e76828f9f5c988b0429230cd1050c6086fb730b)" to "[95526065b2703e42378838747055bb6bbc409402](https://github.com/sagemath/sagetrac-mirror/commit/95526065b2703e42378838747055bb6bbc409402)".



---

archive/issue_comments_139762.json:
```json
{
    "body": "**Changing commit** from \"[95526065b2703e42378838747055bb6bbc409402](https://github.com/sagemath/sagetrac-mirror/commit/95526065b2703e42378838747055bb6bbc409402)\" to \"[7102227617bf289b2620636e397b92c081f9715a](https://github.com/sagemath/sagetrac-mirror/commit/7102227617bf289b2620636e397b92c081f9715a)\".",
    "created_at": "2014-09-28T07:29:07Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139762",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[95526065b2703e42378838747055bb6bbc409402](https://github.com/sagemath/sagetrac-mirror/commit/95526065b2703e42378838747055bb6bbc409402)" to "[7102227617bf289b2620636e397b92c081f9715a](https://github.com/sagemath/sagetrac-mirror/commit/7102227617bf289b2620636e397b92c081f9715a)".



---

archive/issue_comments_139763.json:
```json
{
    "body": "<a id='comment:58'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7102227617bf289b2620636e397b92c081f9715a\">7102227</a></td><td><code>Merge with 6.4.beta4</code></td></tr></table>\n",
    "created_at": "2014-09-28T07:29:07Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139763",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7102227617bf289b2620636e397b92c081f9715a">7102227</a></td><td><code>Merge with 6.4.beta4</code></td></tr></table>




---

archive/issue_comments_139764.json:
```json
{
    "body": "<a id='comment:59'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b731d32d7aec6bdb88acf777253c777ccb6f509\">5b731d3</a></td><td><code>trac #12455 change use of Airy as example of maxima function</code></td></tr></table>\n",
    "created_at": "2014-09-30T14:07:14Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139764",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b731d32d7aec6bdb88acf777253c777ccb6f509">5b731d3</a></td><td><code>trac #12455 change use of Airy as example of maxima function</code></td></tr></table>




---

archive/issue_comments_139765.json:
```json
{
    "body": "**Changing commit** from \"[7102227617bf289b2620636e397b92c081f9715a](https://github.com/sagemath/sagetrac-mirror/commit/7102227617bf289b2620636e397b92c081f9715a)\" to \"[5b731d32d7aec6bdb88acf777253c777ccb6f509](https://github.com/sagemath/sagetrac-mirror/commit/5b731d32d7aec6bdb88acf777253c777ccb6f509)\".",
    "created_at": "2014-09-30T14:07:14Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139765",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7102227617bf289b2620636e397b92c081f9715a](https://github.com/sagemath/sagetrac-mirror/commit/7102227617bf289b2620636e397b92c081f9715a)" to "[5b731d32d7aec6bdb88acf777253c777ccb6f509](https://github.com/sagemath/sagetrac-mirror/commit/5b731d32d7aec6bdb88acf777253c777ccb6f509)".



---

archive/issue_comments_139766.json:
```json
{
    "body": "<a id='comment:60'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39deab4d13c17120737a875a4b2744a67ce61227\">39deab4</a></td><td><code>trac #12455 formatting doc and code</code></td></tr></table>\n",
    "created_at": "2014-09-30T14:13:21Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139766",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:60'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39deab4d13c17120737a875a4b2744a67ce61227">39deab4</a></td><td><code>trac #12455 formatting doc and code</code></td></tr></table>




---

archive/issue_comments_139767.json:
```json
{
    "body": "**Changing commit** from \"[5b731d32d7aec6bdb88acf777253c777ccb6f509](https://github.com/sagemath/sagetrac-mirror/commit/5b731d32d7aec6bdb88acf777253c777ccb6f509)\" to \"[39deab4d13c17120737a875a4b2744a67ce61227](https://github.com/sagemath/sagetrac-mirror/commit/39deab4d13c17120737a875a4b2744a67ce61227)\".",
    "created_at": "2014-09-30T14:13:21Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139767",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5b731d32d7aec6bdb88acf777253c777ccb6f509](https://github.com/sagemath/sagetrac-mirror/commit/5b731d32d7aec6bdb88acf777253c777ccb6f509)" to "[39deab4d13c17120737a875a4b2744a67ce61227](https://github.com/sagemath/sagetrac-mirror/commit/39deab4d13c17120737a875a4b2744a67ce61227)".



---

archive/issue_comments_139768.json:
```json
{
    "body": "**Changing reviewer** from \"Eviatar Bach, Karl-Dieter Crisman, Burcin Erocal\" to \"Eviatar Bach, Karl-Dieter Crisman, Burcin Erocal, Ralf Stephan\".",
    "created_at": "2014-10-02T09:21:14Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139768",
    "user": "https://github.com/rwst"
}
```

**Changing reviewer** from "Eviatar Bach, Karl-Dieter Crisman, Burcin Erocal" to "Eviatar Bach, Karl-Dieter Crisman, Burcin Erocal, Ralf Stephan".



---

archive/issue_events_102507.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-10-02T09:21:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102507"
}
```



---

archive/issue_events_102508.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-10-02T09:21:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102508"
}
```



---

archive/issue_comments_139769.json:
```json
{
    "body": "<a id='comment:61'></a>\n\n```\nsage -t --long src/sage/functions/airy.py\n**********************************************************************\nFile \"src/sage/functions/airy.py\", line 404, in sage.functions.airy.airy_ai\nFailed example:\n    plot(airy_ai(x), (x, -10, 5)) + plot(airy_ai_prime(x),\n     (x, -10, 5), color='red')\nExpected nothing\nGot:\n    Graphics object consisting of 2 graphics primitives\n**********************************************************************\nFile \"src/sage/functions/airy.py\", line 799, in sage.functions.airy.airy_bi\nFailed example:\n    plot(airy_bi(x), (x, -10, 5)) + plot(airy_bi_prime(x),\n     (x, -10, 5), color='red')\nExpected nothing\nGot:\n    Graphics object consisting of 2 graphics primitives\n```",
    "created_at": "2014-10-02T09:21:14Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139769",
    "user": "https://github.com/rwst"
}
```

<a id='comment:61'></a>

```
sage -t --long src/sage/functions/airy.py
**********************************************************************
File "src/sage/functions/airy.py", line 404, in sage.functions.airy.airy_ai
Failed example:
    plot(airy_ai(x), (x, -10, 5)) + plot(airy_ai_prime(x),
     (x, -10, 5), color='red')
Expected nothing
Got:
    Graphics object consisting of 2 graphics primitives
**********************************************************************
File "src/sage/functions/airy.py", line 799, in sage.functions.airy.airy_bi
Failed example:
    plot(airy_bi(x), (x, -10, 5)) + plot(airy_bi_prime(x),
     (x, -10, 5), color='red')
Expected nothing
Got:
    Graphics object consisting of 2 graphics primitives
```



---

archive/issue_comments_139770.json:
```json
{
    "body": "<a id='comment:62'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbd6c357dfdba94d7630d6f2becb411f6169f004\">fbd6c35</a></td><td><code>trac #12455 plot output</code></td></tr></table>\n",
    "created_at": "2014-10-03T14:48:51Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139770",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:62'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbd6c357dfdba94d7630d6f2becb411f6169f004">fbd6c35</a></td><td><code>trac #12455 plot output</code></td></tr></table>




---

archive/issue_comments_139771.json:
```json
{
    "body": "**Changing commit** from \"[39deab4d13c17120737a875a4b2744a67ce61227](https://github.com/sagemath/sagetrac-mirror/commit/39deab4d13c17120737a875a4b2744a67ce61227)\" to \"[fbd6c357dfdba94d7630d6f2becb411f6169f004](https://github.com/sagemath/sagetrac-mirror/commit/fbd6c357dfdba94d7630d6f2becb411f6169f004)\".",
    "created_at": "2014-10-03T14:48:51Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139771",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[39deab4d13c17120737a875a4b2744a67ce61227](https://github.com/sagemath/sagetrac-mirror/commit/39deab4d13c17120737a875a4b2744a67ce61227)" to "[fbd6c357dfdba94d7630d6f2becb411f6169f004](https://github.com/sagemath/sagetrac-mirror/commit/fbd6c357dfdba94d7630d6f2becb411f6169f004)".



---

archive/issue_events_102509.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-10-03T14:49:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102509"
}
```



---

archive/issue_events_102510.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-10-03T14:49:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102510"
}
```



---

archive/issue_comments_139772.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -35,11 +35,3 @@\n ```\n \n We should make it symbolical for both airy_ai and airy_bi, as well as their derivatives.\n-\n----\n-\n-Apply \n-\n-* [attachment:trac_12455-newstyle-airy-rebase.patch]\n-* [attachment:trac_12455-newstyle-airy2-rebase.patch]\n-* [attachment: trac_12455-airy_review.patch]\n``````\n",
    "created_at": "2014-10-11T18:55:47Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139772",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -35,11 +35,3 @@
 ```
 
 We should make it symbolical for both airy_ai and airy_bi, as well as their derivatives.
-
----
-
-Apply 
-
-* [attachment:trac_12455-newstyle-airy-rebase.patch]
-* [attachment:trac_12455-newstyle-airy2-rebase.patch]
-* [attachment: trac_12455-airy_review.patch]
``````




---

archive/issue_comments_139773.json:
```json
{
    "body": "<a id='comment:65'></a>\nJust to make you aware: this conflicts with #17130. When either of these tickets gets positive_review, the other should be rebased.",
    "created_at": "2014-10-11T18:57:04Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139773",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:65'></a>
Just to make you aware: this conflicts with #17130. When either of these tickets gets positive_review, the other should be rebased.



---

archive/issue_events_102511.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-11T18:59:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102511"
}
```



---

archive/issue_events_102512.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-11T18:59:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102512"
}
```



---

archive/issue_comments_139774.json:
```json
{
    "body": "<a id='comment:66'></a>\nAnd why the change to `def hypergeometric_U`? The new code seems quite hackish, why is it needed and how does it relate to this ticket?",
    "created_at": "2014-10-11T18:59:45Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139774",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:66'></a>
And why the change to `def hypergeometric_U`? The new code seems quite hackish, why is it needed and how does it relate to this ticket?



---

archive/issue_comments_139775.json:
```json
{
    "body": "<a id='comment:67'></a>\nThese should be an error:\n\n```\nsage: airy_ai(3).n(algorithm='scipy', prec=200)\n0.006591139357460719\nsage: airy_ai(3).n(algorithm='whatever')\n0.00659113935746072\n```\n\nAnd I don't like this either (parent should be `RR`):\n\n```\nsage: parent(airy_ai(3).n(algorithm='scipy'))\nReal Double Field\n```",
    "created_at": "2014-10-11T19:12:53Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139775",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:67'></a>
These should be an error:

```
sage: airy_ai(3).n(algorithm='scipy', prec=200)
0.006591139357460719
sage: airy_ai(3).n(algorithm='whatever')
0.00659113935746072
```

And I don't like this either (parent should be `RR`):

```
sage: parent(airy_ai(3).n(algorithm='scipy'))
Real Double Field
```



---

archive/issue_events_102513.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-11T19:12:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102513"
}
```



---

archive/issue_events_102514.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-10-11T19:12:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102514"
}
```



---

archive/issue_comments_139776.json:
```json
{
    "body": "<a id='comment:68'></a>\nWhat's the point of\n\n```\nif len(args) > 0:\n   raise TypeError((\"symbolic function airy_ai takes at most 3 arguments \"\n      \"({} given)\").format(len(args) + 3))\n```\nwhy not simply remove `*args` completely then?",
    "created_at": "2014-10-11T19:22:28Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139776",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:68'></a>
What's the point of

```
if len(args) > 0:
   raise TypeError(("symbolic function airy_ai takes at most 3 arguments "
      "({} given)").format(len(args) + 3))
```
why not simply remove `*args` completely then?



---

archive/issue_comments_139777.json:
```json
{
    "body": "<a id='comment:69'></a>\nReplying to [jdemeyer](#comment%3A66):\n> And why the change to `def hypergeometric_U`? The new code seems quite hackish, why is it needed and how does it relate to this ticket?\n\nI think that unrelated patch can be safely removed because scipy evaluation is replaced by mpmath in #14896 (of course hoping that that gets reviewed at some time).",
    "created_at": "2014-10-12T16:47:13Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139777",
    "user": "https://github.com/rwst"
}
```

<a id='comment:69'></a>
Replying to [jdemeyer](#comment%3A66):
> And why the change to `def hypergeometric_U`? The new code seems quite hackish, why is it needed and how does it relate to this ticket?

I think that unrelated patch can be safely removed because scipy evaluation is replaced by mpmath in #14896 (of course hoping that that gets reviewed at some time).



---

archive/issue_comments_139778.json:
```json
{
    "body": "<a id='comment:70'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15e7e34d6ec0854e2bb642f9b2df6fe5d870aadd\">15e7e34</a></td><td><code>Merge branch 'develop' into t/12455/public/ticket/12455</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c0931c0c9d0f259968d65aab9e1eb4c2d332ac2\">2c0931c</a></td><td><code>12455: remove fishy code in hypergeometric_U()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4213d373b99194e3ad8eecefee0dbb7b382ddd8\">b4213d3</a></td><td><code>12455: with algorithm=scipy return reals for real argument</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0841c906bae1f282bedea5fb53b200b0cebe6b4\">b0841c9</a></td><td><code>12455: catch attempts to exceed precision with algorithm=scipy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/484a61559726129a63d53beb9da8a700a69db418\">484a615</a></td><td><code>12455: catch unknown evalf algorithms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58e006c7bbc717fcb70911e8786fc5d94bf2ff1a\">58e006c</a></td><td><code>12455: remove superfluous args and check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/870e003d7f190ac4edd3fce77a584e657e447c57\">870e003</a></td><td><code>12455: fix plot doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61847c43253572e53c6ed25fe208f4eb19fd1b87\">61847c4</a></td><td><code>Merge branch 'public/ticket/12455' of trac.sagemath.org:sage into t/12455/public/ticket/12455</code></td></tr></table>\n",
    "created_at": "2014-10-13T14:39:17Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139778",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:70'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15e7e34d6ec0854e2bb642f9b2df6fe5d870aadd">15e7e34</a></td><td><code>Merge branch 'develop' into t/12455/public/ticket/12455</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c0931c0c9d0f259968d65aab9e1eb4c2d332ac2">2c0931c</a></td><td><code>12455: remove fishy code in hypergeometric_U()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4213d373b99194e3ad8eecefee0dbb7b382ddd8">b4213d3</a></td><td><code>12455: with algorithm=scipy return reals for real argument</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0841c906bae1f282bedea5fb53b200b0cebe6b4">b0841c9</a></td><td><code>12455: catch attempts to exceed precision with algorithm=scipy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/484a61559726129a63d53beb9da8a700a69db418">484a615</a></td><td><code>12455: catch unknown evalf algorithms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58e006c7bbc717fcb70911e8786fc5d94bf2ff1a">58e006c</a></td><td><code>12455: remove superfluous args and check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/870e003d7f190ac4edd3fce77a584e657e447c57">870e003</a></td><td><code>12455: fix plot doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61847c43253572e53c6ed25fe208f4eb19fd1b87">61847c4</a></td><td><code>Merge branch 'public/ticket/12455' of trac.sagemath.org:sage into t/12455/public/ticket/12455</code></td></tr></table>




---

archive/issue_comments_139779.json:
```json
{
    "body": "**Changing commit** from \"[fbd6c357dfdba94d7630d6f2becb411f6169f004](https://github.com/sagemath/sagetrac-mirror/commit/fbd6c357dfdba94d7630d6f2becb411f6169f004)\" to \"[61847c43253572e53c6ed25fe208f4eb19fd1b87](https://github.com/sagemath/sagetrac-mirror/commit/61847c43253572e53c6ed25fe208f4eb19fd1b87)\".",
    "created_at": "2014-10-13T14:39:17Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139779",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fbd6c357dfdba94d7630d6f2becb411f6169f004](https://github.com/sagemath/sagetrac-mirror/commit/fbd6c357dfdba94d7630d6f2becb411f6169f004)" to "[61847c43253572e53c6ed25fe208f4eb19fd1b87](https://github.com/sagemath/sagetrac-mirror/commit/61847c43253572e53c6ed25fe208f4eb19fd1b87)".



---

archive/issue_events_102515.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-10-13T14:40:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102515"
}
```



---

archive/issue_events_102516.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-10-13T14:40:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102516"
}
```



---

archive/issue_comments_139780.json:
```json
{
    "body": "<a id='comment:72'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d107297a5d8867f1a1e9996678ffa441adc8a2d\">6d10729</a></td><td><code>Simplify numerical evaluation of BuiltinFunctions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6e1ed44a663f7410fddb2e3e4c134aa3a0ce8cf\">b6e1ed4</a></td><td><code>Merge remote-tracking branches 'origin/u/jdemeyer/ticket/17131' and 'origin/u/jdemeyer/ticket/17133' into ticket/17130</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/382f97a71989fb04131c0720918e9b66b19c125b\">382f97a</a></td><td><code>Merge branch 'u/jdemeyer/ticket/17130' of trac.sagemath.org:sage into 6.5beta1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72659895c652ce20ed1373f95bfea378d9cbe546\">7265989</a></td><td><code>17130: reviewer's patch: fix typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c47dbd49b0e5ebb89b3d7afa694478c3d572866f\">c47dbd4</a></td><td><code>Fix Trac #17328 again in a better way</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a486db2b801f528a1a00b0dadb4c4c522f21654a\">a486db2</a></td><td><code>Call the factorial() method of an Integer</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d3cbbdbafb12d1da899abafe0137b4a5639de30\">9d3cbbd</a></td><td><code>Fix numerical noise</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abab222e67040518acee766f747c161a7445bc0a\">abab222</a></td><td><code>Fix more numerical noise</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01614f7524f952bece01ef02f68eb28c4a293e24\">01614f7</a></td><td><code>Merge branch 'u/jdemeyer/ticket/17130' of trac.sagemath.org:sage into t/12455/public/ticket/12455</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aac86a20bbb84df905e4000dfb79f125247cf85b\">aac86a2</a></td><td><code>12455: simplifications due to trac 17130</code></td></tr></table>\n",
    "created_at": "2014-11-29T15:34:10Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139780",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:72'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d107297a5d8867f1a1e9996678ffa441adc8a2d">6d10729</a></td><td><code>Simplify numerical evaluation of BuiltinFunctions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6e1ed44a663f7410fddb2e3e4c134aa3a0ce8cf">b6e1ed4</a></td><td><code>Merge remote-tracking branches 'origin/u/jdemeyer/ticket/17131' and 'origin/u/jdemeyer/ticket/17133' into ticket/17130</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/382f97a71989fb04131c0720918e9b66b19c125b">382f97a</a></td><td><code>Merge branch 'u/jdemeyer/ticket/17130' of trac.sagemath.org:sage into 6.5beta1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72659895c652ce20ed1373f95bfea378d9cbe546">7265989</a></td><td><code>17130: reviewer's patch: fix typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c47dbd49b0e5ebb89b3d7afa694478c3d572866f">c47dbd4</a></td><td><code>Fix Trac #17328 again in a better way</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a486db2b801f528a1a00b0dadb4c4c522f21654a">a486db2</a></td><td><code>Call the factorial() method of an Integer</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d3cbbdbafb12d1da899abafe0137b4a5639de30">9d3cbbd</a></td><td><code>Fix numerical noise</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abab222e67040518acee766f747c161a7445bc0a">abab222</a></td><td><code>Fix more numerical noise</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01614f7524f952bece01ef02f68eb28c4a293e24">01614f7</a></td><td><code>Merge branch 'u/jdemeyer/ticket/17130' of trac.sagemath.org:sage into t/12455/public/ticket/12455</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aac86a20bbb84df905e4000dfb79f125247cf85b">aac86a2</a></td><td><code>12455: simplifications due to trac 17130</code></td></tr></table>




---

archive/issue_comments_139781.json:
```json
{
    "body": "**Changing commit** from \"[61847c43253572e53c6ed25fe208f4eb19fd1b87](https://github.com/sagemath/sagetrac-mirror/commit/61847c43253572e53c6ed25fe208f4eb19fd1b87)\" to \"[aac86a20bbb84df905e4000dfb79f125247cf85b](https://github.com/sagemath/sagetrac-mirror/commit/aac86a20bbb84df905e4000dfb79f125247cf85b)\".",
    "created_at": "2014-11-29T15:34:10Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139781",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[61847c43253572e53c6ed25fe208f4eb19fd1b87](https://github.com/sagemath/sagetrac-mirror/commit/61847c43253572e53c6ed25fe208f4eb19fd1b87)" to "[aac86a20bbb84df905e4000dfb79f125247cf85b](https://github.com/sagemath/sagetrac-mirror/commit/aac86a20bbb84df905e4000dfb79f125247cf85b)".



---

archive/issue_comments_139782.json:
```json
{
    "body": "**Changing dependencies** from \"#12289\" to \"#12289, #17130\".",
    "created_at": "2014-11-29T15:35:02Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139782",
    "user": "https://github.com/rwst"
}
```

**Changing dependencies** from "#12289" to "#12289, #17130".



---

archive/issue_comments_139783.json:
```json
{
    "body": "<a id='comment:74'></a>\nFr\u00e9d\u00e9ric, how much of this did you positively review up to now?  In principle you and rws can review each other's contributions here.  It would take me a while to get up to speed here.",
    "created_at": "2015-02-03T02:47:54Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139783",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:74'></a>
Frédéric, how much of this did you positively review up to now?  In principle you and rws can review each other's contributions here.  It would take me a while to get up to speed here.



---

archive/issue_comments_139784.json:
```json
{
    "body": "<a id='comment:75'></a>\na typo in line 5 of the doc:\n\n```\nAiry functions are solutions to the differential equation `f''(z) +f(z)x=0`.\n```\nThe differential equation is wrong, should be `f'' - x f = 0`",
    "created_at": "2015-03-10T20:13:52Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139784",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:75'></a>
a typo in line 5 of the doc:

```
Airy functions are solutions to the differential equation `f''(z) +f(z)x=0`.
```
The differential equation is wrong, should be `f'' - x f = 0`



---

archive/issue_comments_139785.json:
```json
{
    "body": "**Changing commit** from \"[aac86a20bbb84df905e4000dfb79f125247cf85b](https://github.com/sagemath/sagetrac-mirror/commit/aac86a20bbb84df905e4000dfb79f125247cf85b)\" to \"[070e72855b15c138e9d22ae8325633d84ef49f69](https://github.com/sagemath/sagetrac-mirror/commit/070e72855b15c138e9d22ae8325633d84ef49f69)\".",
    "created_at": "2015-03-11T13:58:14Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139785",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[aac86a20bbb84df905e4000dfb79f125247cf85b](https://github.com/sagemath/sagetrac-mirror/commit/aac86a20bbb84df905e4000dfb79f125247cf85b)" to "[070e72855b15c138e9d22ae8325633d84ef49f69](https://github.com/sagemath/sagetrac-mirror/commit/070e72855b15c138e9d22ae8325633d84ef49f69)".



---

archive/issue_comments_139786.json:
```json
{
    "body": "<a id='comment:76'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cac77521299220649d5c4b530bf72463761033f\">3cac775</a></td><td><code>Merge branch 'develop' into t/12455/public/ticket/12455</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/070e72855b15c138e9d22ae8325633d84ef49f69\">070e728</a></td><td><code>12455: doc typos</code></td></tr></table>\n",
    "created_at": "2015-03-11T13:58:14Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139786",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:76'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cac77521299220649d5c4b530bf72463761033f">3cac775</a></td><td><code>Merge branch 'develop' into t/12455/public/ticket/12455</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/070e72855b15c138e9d22ae8325633d84ef49f69">070e728</a></td><td><code>12455: doc typos</code></td></tr></table>




---

archive/issue_comments_139787.json:
```json
{
    "body": "**Changing assignee** from olazo to @rwst.",
    "created_at": "2015-03-11T13:59:20Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139787",
    "user": "https://github.com/rwst"
}
```

**Changing assignee** from olazo to @rwst.



---

archive/issue_events_102517.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-11T13:59:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102517"
}
```



---

archive/issue_events_102518.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-11T13:59:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102518"
}
```



---

archive/issue_comments_139788.json:
```json
{
    "body": "<a id='comment:78'></a>\nx should be z in the differential equation",
    "created_at": "2015-03-12T10:11:19Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139788",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:78'></a>
x should be z in the differential equation



---

archive/issue_comments_139789.json:
```json
{
    "body": "<a id='comment:79'></a>\nWhat exactly still needs review here?\n\nThe code looks pretty good to me overall, but there are lots of things I don't understand in detail. (For a simple example, what is the motivation for splitting the implementation in so many unrelated classes?) And yet I'm tempted to give this ticket positive review (leaving possible remaining issues for later), since many other people have looked at it and it is clearly an improvement over what sage currently has.",
    "created_at": "2015-03-12T10:45:22Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139789",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:79'></a>
What exactly still needs review here?

The code looks pretty good to me overall, but there are lots of things I don't understand in detail. (For a simple example, what is the motivation for splitting the implementation in so many unrelated classes?) And yet I'm tempted to give this ticket positive review (leaving possible remaining issues for later), since many other people have looked at it and it is clearly an improvement over what sage currently has.



---

archive/issue_comments_139790.json:
```json
{
    "body": "<a id='comment:80'></a>\nMore nitpicking, not necessarily for this ticket:\n* Raising a `ValueError` in `FunctionAiryAiGeneral._derivative_` when `diff_param == 0` may not be the most appropriate, since (if I'm not mistaken) the partial derivative would make sense mathematically.\n* Is it necessary to special-case `alpha == 0` etc. in `FunctionAiryAiGeneral._evalf_`?",
    "created_at": "2015-03-12T11:12:57Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139790",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:80'></a>
More nitpicking, not necessarily for this ticket:
* Raising a `ValueError` in `FunctionAiryAiGeneral._derivative_` when `diff_param == 0` may not be the most appropriate, since (if I'm not mistaken) the partial derivative would make sense mathematically.
* Is it necessary to special-case `alpha == 0` etc. in `FunctionAiryAiGeneral._evalf_`?



---

archive/issue_comments_139791.json:
```json
{
    "body": "<a id='comment:81'></a>\nReplying to [mmezzarobba](#comment%3A80):\n> * Is it necessary to special-case `alpha == 0` etc. in `FunctionAiryAiGeneral._evalf_`?\n\n\nScratch that, I misread the code.",
    "created_at": "2015-03-12T12:26:37Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139791",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:81'></a>
Replying to [mmezzarobba](#comment%3A80):
> * Is it necessary to special-case `alpha == 0` etc. in `FunctionAiryAiGeneral._evalf_`?


Scratch that, I misread the code.



---

archive/issue_comments_139792.json:
```json
{
    "body": "**Changing commit** from \"[070e72855b15c138e9d22ae8325633d84ef49f69](https://github.com/sagemath/sagetrac-mirror/commit/070e72855b15c138e9d22ae8325633d84ef49f69)\" to \"[91530d08a7a37bc03876962c1a1ae0bca10bfd70](https://github.com/sagemath/sagetrac-mirror/commit/91530d08a7a37bc03876962c1a1ae0bca10bfd70)\".",
    "created_at": "2015-03-12T12:42:52Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139792",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[070e72855b15c138e9d22ae8325633d84ef49f69](https://github.com/sagemath/sagetrac-mirror/commit/070e72855b15c138e9d22ae8325633d84ef49f69)" to "[91530d08a7a37bc03876962c1a1ae0bca10bfd70](https://github.com/sagemath/sagetrac-mirror/commit/91530d08a7a37bc03876962c1a1ae0bca10bfd70)".



---

archive/issue_comments_139793.json:
```json
{
    "body": "<a id='comment:82'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91530d08a7a37bc03876962c1a1ae0bca10bfd70\">91530d0</a></td><td><code>Ai/Bi: doc fixes and clarifications</code></td></tr></table>\n",
    "created_at": "2015-03-12T12:42:52Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139793",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:82'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91530d08a7a37bc03876962c1a1ae0bca10bfd70">91530d0</a></td><td><code>Ai/Bi: doc fixes and clarifications</code></td></tr></table>




---

archive/issue_comments_139794.json:
```json
{
    "body": "<a id='comment:83'></a>\nOne last thing: IMO `hold_derivative` should be `True` by default in `airy_ai` and `airy_bi`, except perhaps when the differentiation order is one. But I don't know if that's consistent with the way things are done in other parts of sage symbolics. Thoughts?",
    "created_at": "2015-03-12T13:22:26Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139794",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:83'></a>
One last thing: IMO `hold_derivative` should be `True` by default in `airy_ai` and `airy_bi`, except perhaps when the differentiation order is one. But I don't know if that's consistent with the way things are done in other parts of sage symbolics. Thoughts?



---

archive/issue_comments_139795.json:
```json
{
    "body": "<a id='comment:84'></a>\nReplying to [mmezzarobba](#comment%3A80):\n> x should be z in the differential equation\n\nStrange typo.\n> * Raising a `ValueError` in `FunctionAiryAiGeneral._derivative_` when `diff_param == 0` may not be the most appropriate, since (if I'm not mistaken) the partial derivative would make sense mathematically.\n \nA quick look at old and new code shows 1. `ValueError`, 2. `NotImplementedError`, 3. `assert`. So, this needs to be unified to `NotImplementedError`.\n> One last thing: IMO `hold_derivative` should be `True` by default in `airy_ai` and `airy_bi`, except perhaps when the differentiation order is one. But I don't know if that's consistent with the way things are done in other parts of sage symbolics. Thoughts?\n\nI believe the code of this ticket is the only one that has such a parameter, so please feel free to improve it.\n\nI have looked at your patch and it's fine, so if you think the rest is OK please set positive.",
    "created_at": "2015-03-12T14:20:47Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139795",
    "user": "https://github.com/rwst"
}
```

<a id='comment:84'></a>
Replying to [mmezzarobba](#comment%3A80):
> x should be z in the differential equation

Strange typo.
> * Raising a `ValueError` in `FunctionAiryAiGeneral._derivative_` when `diff_param == 0` may not be the most appropriate, since (if I'm not mistaken) the partial derivative would make sense mathematically.
 
A quick look at old and new code shows 1. `ValueError`, 2. `NotImplementedError`, 3. `assert`. So, this needs to be unified to `NotImplementedError`.
> One last thing: IMO `hold_derivative` should be `True` by default in `airy_ai` and `airy_bi`, except perhaps when the differentiation order is one. But I don't know if that's consistent with the way things are done in other parts of sage symbolics. Thoughts?

I believe the code of this ticket is the only one that has such a parameter, so please feel free to improve it.

I have looked at your patch and it's fine, so if you think the rest is OK please set positive.



---

archive/issue_comments_139796.json:
```json
{
    "body": "**Changing commit** from \"[91530d08a7a37bc03876962c1a1ae0bca10bfd70](https://github.com/sagemath/sagetrac-mirror/commit/91530d08a7a37bc03876962c1a1ae0bca10bfd70)\" to \"[2f6945af73219458fb0a2745e2df9e2eea79b055](https://github.com/sagemath/sagetrac-mirror/commit/2f6945af73219458fb0a2745e2df9e2eea79b055)\".",
    "created_at": "2015-03-12T14:57:28Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139796",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[91530d08a7a37bc03876962c1a1ae0bca10bfd70](https://github.com/sagemath/sagetrac-mirror/commit/91530d08a7a37bc03876962c1a1ae0bca10bfd70)" to "[2f6945af73219458fb0a2745e2df9e2eea79b055](https://github.com/sagemath/sagetrac-mirror/commit/2f6945af73219458fb0a2745e2df9e2eea79b055)".



---

archive/issue_comments_139797.json:
```json
{
    "body": "<a id='comment:85'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/347cd082fd914f8171ec0fa3eae005e1647cea8d\">347cd08</a></td><td><code>#12455 Airy functions: doc fixes and clarifications</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6aaf2da50ac32e193178e6670ab4ed73dbeba46a\">6aaf2da</a></td><td><code>#12455 Airy funs: raise NotImplementedError on diff(airy_?i(\u03b1,x),\u03b1)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c80be63e16da620c6ab51d2153adb89d2b7a4973\">c80be63</a></td><td><code>#12455 Airy funs: hold_derivative by default</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f6945af73219458fb0a2745e2df9e2eea79b055\">2f6945a</a></td><td><code>#12455 Airy functions: avoid calling deprecated function</code></td></tr></table>\n",
    "created_at": "2015-03-12T14:57:28Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139797",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:85'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/347cd082fd914f8171ec0fa3eae005e1647cea8d">347cd08</a></td><td><code>#12455 Airy functions: doc fixes and clarifications</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6aaf2da50ac32e193178e6670ab4ed73dbeba46a">6aaf2da</a></td><td><code>#12455 Airy funs: raise NotImplementedError on diff(airy_?i(α,x),α)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c80be63e16da620c6ab51d2153adb89d2b7a4973">c80be63</a></td><td><code>#12455 Airy funs: hold_derivative by default</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f6945af73219458fb0a2745e2df9e2eea79b055">2f6945a</a></td><td><code>#12455 Airy functions: avoid calling deprecated function</code></td></tr></table>




---

archive/issue_comments_139798.json:
```json
{
    "body": "<a id='comment:86'></a>\nReplying to [rws](#comment%3A84):\n> > * Raising a `ValueError` in `FunctionAiryAiGeneral._derivative_` when `diff_param == 0` may not be the most appropriate, since (if I'm not mistaken) the partial derivative would make sense mathematically.\n \n> A quick look at old and new code shows 1. `ValueError`, 2. `NotImplementedError`, 3. `assert`. So, this needs to be unified to `NotImplementedError`.\n> > One last thing: IMO `hold_derivative` should be `True` by default in `airy_ai` and `airy_bi`, except perhaps when the differentiation order is one. But I don't know if that's consistent with the way things are done in other parts of sage symbolics. Thoughts?\n\n> I believe the code of this ticket is the only one that has such a parameter, so please feel free to improve it.\n\nBoth done (now rather than later to avoid breaking the interface).\n\n> I have looked at your patch and it's fine, so if you think the rest is OK please set positive.\n\n\nI'm okay with everything prior to my commits. Could you (or someone else) have a quick look at my last changes and set the ticket to positive review? Thanks!",
    "created_at": "2015-03-12T15:01:23Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139798",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:86'></a>
Replying to [rws](#comment%3A84):
> > * Raising a `ValueError` in `FunctionAiryAiGeneral._derivative_` when `diff_param == 0` may not be the most appropriate, since (if I'm not mistaken) the partial derivative would make sense mathematically.
 
> A quick look at old and new code shows 1. `ValueError`, 2. `NotImplementedError`, 3. `assert`. So, this needs to be unified to `NotImplementedError`.
> > One last thing: IMO `hold_derivative` should be `True` by default in `airy_ai` and `airy_bi`, except perhaps when the differentiation order is one. But I don't know if that's consistent with the way things are done in other parts of sage symbolics. Thoughts?

> I believe the code of this ticket is the only one that has such a parameter, so please feel free to improve it.

Both done (now rather than later to avoid breaking the interface).

> I have looked at your patch and it's fine, so if you think the rest is OK please set positive.


I'm okay with everything prior to my commits. Could you (or someone else) have a quick look at my last changes and set the ticket to positive review? Thanks!



---

archive/issue_comments_139799.json:
```json
{
    "body": "**Changing reviewer** from \"Eviatar Bach, Karl-Dieter Crisman, Burcin Erocal, Ralf Stephan\" to \"Eviatar Bach, Karl-Dieter Crisman, Burcin Erocal, Ralf Stephan, Jeroen Demeyer, Marc Mezzarobba\".",
    "created_at": "2015-03-12T15:01:23Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139799",
    "user": "https://github.com/mezzarobba"
}
```

**Changing reviewer** from "Eviatar Bach, Karl-Dieter Crisman, Burcin Erocal, Ralf Stephan" to "Eviatar Bach, Karl-Dieter Crisman, Burcin Erocal, Ralf Stephan, Jeroen Demeyer, Marc Mezzarobba".



---

archive/issue_comments_139800.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,26 +11,7 @@\n \n ```\n sage: airy_ai(x)\n----------------------------------------------------------------------------\n-TypeError                                 Traceback (most recent call last)\n-\n-/home/oscar/Escritorio/tesis/calculos/<ipython console> in <module>()\n-\n-/home/oscar/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/functions/special.pyc in airy_ai(x)\n-    621    \"\"\"\n-    622    _init()\n---> 623    return RDF(meval(\"airy_ai(%s)\"%RDF(x)))\n-    624 \n-    625 def airy_bi(x):\n-\n-/home/oscar/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:7102)()\n-\n-/home/oscar/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.NamedConvertMap._call_ (sage/structure/coerce_maps.c:4221)()\n-\n-/home/oscar/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression._real_double_ (sage/symbolic/expression.cpp:5391)()\n-\n-/home/oscar/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression._eval_self (sage/symbolic/expression.cpp:4898)()\n-\n+...\n TypeError: Cannot evaluate symbolic expression to a numeric value.\n ```\n \n``````\n",
    "created_at": "2015-03-12T15:01:23Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139800",
    "user": "https://github.com/mezzarobba"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,26 +11,7 @@
 
 ```
 sage: airy_ai(x)
----------------------------------------------------------------------------
-TypeError                                 Traceback (most recent call last)
-
-/home/oscar/Escritorio/tesis/calculos/<ipython console> in <module>()
-
-/home/oscar/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/functions/special.pyc in airy_ai(x)
-    621    """
-    622    _init()
---> 623    return RDF(meval("airy_ai(%s)"%RDF(x)))
-    624 
-    625 def airy_bi(x):
-
-/home/oscar/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:7102)()
-
-/home/oscar/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.NamedConvertMap._call_ (sage/structure/coerce_maps.c:4221)()
-
-/home/oscar/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression._real_double_ (sage/symbolic/expression.cpp:5391)()
-
-/home/oscar/sage/sage-4.7.1/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression._eval_self (sage/symbolic/expression.cpp:4898)()
-
+...
 TypeError: Cannot evaluate symbolic expression to a numeric value.
 ```
 
``````




---

archive/issue_events_102519.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-12T15:14:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102519"
}
```



---

archive/issue_events_102520.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-03-12T15:14:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102520"
}
```



---

archive/issue_comments_139801.json:
```json
{
    "body": "<a id='comment:87'></a>\nIs fine and passes tests in `functions/`. Thank you too.",
    "created_at": "2015-03-12T15:14:32Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139801",
    "user": "https://github.com/rwst"
}
```

<a id='comment:87'></a>
Is fine and passes tests in `functions/`. Thank you too.



---

archive/issue_events_102521.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-12T23:06:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102521"
}
```



---

archive/issue_events_102522.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-12T23:06:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12455#event-102522"
}
```



---

archive/issue_comments_139802.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket/12455](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/12455)\" to \"[2f6945af73219458fb0a2745e2df9e2eea79b055](https://github.com/sagemath/sagetrac-mirror/commit/2f6945af73219458fb0a2745e2df9e2eea79b055)\".",
    "created_at": "2015-03-12T23:06:43Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139802",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/ticket/12455](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/12455)" to "[2f6945af73219458fb0a2745e2df9e2eea79b055](https://github.com/sagemath/sagetrac-mirror/commit/2f6945af73219458fb0a2745e2df9e2eea79b055)".



---

archive/issue_comments_139803.json:
```json
{
    "body": "**Changing author** from \"Oscar Gerardo Lazo Arjona, Benjamin Jones, D. S. McNeil, Eviatar Bach, Ralf Stephan\" to \"Oscar Gerardo Lazo Arjona, Benjamin Jones, Douglas McNeil, Eviatar Bach, Ralf Stephan\".",
    "created_at": "2015-05-27T12:06:06Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139803",
    "user": "https://github.com/kcrisman"
}
```

**Changing author** from "Oscar Gerardo Lazo Arjona, Benjamin Jones, D. S. McNeil, Eviatar Bach, Ralf Stephan" to "Oscar Gerardo Lazo Arjona, Benjamin Jones, Douglas McNeil, Eviatar Bach, Ralf Stephan".



---

archive/issue_comments_139804.json:
```json
{
    "body": "**Changing commit** from \"[2f6945af73219458fb0a2745e2df9e2eea79b055](https://github.com/sagemath/sagetrac-mirror/commit/2f6945af73219458fb0a2745e2df9e2eea79b055)\" to \"\".",
    "created_at": "2015-05-27T12:06:06Z",
    "issue": "https://github.com/sagemath/sage/issues/12455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12455#issuecomment-139804",
    "user": "https://github.com/kcrisman"
}
```

**Changing commit** from "[2f6945af73219458fb0a2745e2df9e2eea79b055](https://github.com/sagemath/sagetrac-mirror/commit/2f6945af73219458fb0a2745e2df9e2eea79b055)" to "".
