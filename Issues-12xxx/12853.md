# Issue 12853: Metaticket: clean up SPKGs

archive/issues_012853.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  @ohanar @nexttime\n\nKeywords: spkg cleanup\n\nIn the process of working on #13015, we noticed that we have almost 8 MB worth of files in the standard SPKGs, which are *not* in src/ directories. That is way too much, so this is a metaticket to clean up currently existing SPKGs to make them conform to the standards for SPKGs, which many of them are doubtless breaking.\n\nSPKGs listed by the size of the stuff in them that's not in `src` nor in `.hg` in **sage-5.1.beta0**:\n\n```\n$ du -bsh * | sort -h\n4.4K    blas\n4.6K    conway_polynomials\n4.8K    graphs\n5.3K    polytopes_db\n5.3K    zodb3\n5.5K    docutils\n5.6K    freetype\n5.8K    jinja2\n5.9K    sqlalchemy\n6.0K    bzip2\n6.0K    cython\n6.0K    genus2reduction\n6.0K    mpmath\n6.7K    gnutls\n6.9K    pycrypto\n7.0K    zlib\n7.3K    gcc\n7.7K    libpng\n7.7K    sympy\n7.8K    libm4rie\n8.0K    patch\n8.3K    elliptic_curves\n8.3K    sagenb\n9.3K    scons\n11K     glpk\n11K     iconv\n11K     libm4ri\n11K     mpfi\n11K     pygments\n11K     sagetex\n12K     boost-cropped\n12K     gd\n12K     gsl\n12K     lapack\n13K     ppl\n13K     termcap\n14K     gdmodule\n14K     ratpoints\n15K     eclib\n15K     flintqs\n15K     ipython\n15K     mpc\n15K     scipy\n15K     sqlite\n16K     boehm_gc\n16K     mercurial\n16K     setuptools\n17K     numpy\n20K     cliquer\n20K     linbox\n20K     maxima\n23K     pil\n23K     sphinx\n24K     matplotlib\n25K     libgpg_error\n25K     symmetrica\n26K     networkx\n27K     cvxopt\n27K     ecl\n29K     libfplll\n29K     python\n30K     readline\n31K     opencdk\n32K     sympow\n35K     lcalc\n36K     ecm\n38K     flint\n42K     rubiks\n46K     polybori\n49K     givaro\n50K     libgcrypt\n55K     pari\n55K     zn_poly\n57K     twisted\n61K     cephes\n66K     gfan\n73K     mpir\n76K     ntl\n87K     mpfr\n99K     tachyon\n106K    pexpect\n154K    r\n191K    palp\n231K    python_gnutls\n261K    atlas\n460K    gap\n724K    iml\n1.6M    cddlib\n3.0M    singular\n5.0M    pynac\n```\n\nSPKGs listed by the size of the stuff in the **.hg repository** (modulo post-merge cleanup operations in git consolidation - see #13015):\n\n```\nfs-boone@zhenghe ~/tmp/csr/out/devel/sage/spkg $ du -bsh * | sort -h\n4.4K blas\n4.6K conway_polynomials\n4.8K graphs\n5.3K polytopes_db\n5.3K scons\n5.3K zodb3\n5.4K docutils\n5.5K freetype\n5.8K jinja2\n5.9K bzip2\n5.9K cython\n5.9K sqlalchemy\n6.0K genus2reduction\n6.0K mpmath\n6.6K gnutls\n6.9K pycrypto\n6.9K zlib\n7.3K gcc\n7.6K libm4rie\n7.6K libpng\n7.6K sympy\n7.9K patch\n8.1K elliptic_curves\n10K sagetex\n11K glpk\n11K iconv\n11K libm4ri\n11K mpfi\n11K pygments\n11K sqlite\n12K boost-cropped\n12K gd\n12K gsl\n12K lapack\n13K pexpect\n13K ppl\n13K termcap\n14K gdmodule\n14K mpc\n14K pynac\n14K ratpoints\n14K scipy\n15K eclib\n15K flintqs\n15K ipython\n15K setuptools\n16K boehm_gc\n16K mercurial\n17K numpy\n19K linbox\n20K cliquer\n20K maxima\n21K r\n23K matplotlib\n23K pil\n23K sphinx\n24K libgpg_error\n25K symmetrica\n26K ecl\n26K networkx\n27K cvxopt\n29K libfplll\n29K python\n30K readline\n31K opencdk\n32K mpfr\n32K sympow\n35K lcalc\n36K ecm\n37K flint\n42K rubiks\n46K polybori\n49K givaro\n49K libgcrypt\n55K pari\n55K zn_poly\n57K twisted\n61K cephes\n66K gfan\n73K mpir\n76K ntl\n99K tachyon\n191K palp\n223K singular\n231K python_gnutls\n261K atlas\n460K gap\n724K iml\n1.6M cddlib\n```\n\nTickets:\n\n* #13026 cddlib\n* #748 iml\n\nIssue created by migration from https://trac.sagemath.org/ticket/13025\n\n",
    "closed_at": "2018-03-03T08:39:24Z",
    "created_at": "2012-05-26T23:18:50Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Metaticket: clean up SPKGs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12853",
    "user": "https://github.com/kini"
}
```
Assignee: tbd

CC:  @ohanar @nexttime

Keywords: spkg cleanup

In the process of working on #13015, we noticed that we have almost 8 MB worth of files in the standard SPKGs, which are *not* in src/ directories. That is way too much, so this is a metaticket to clean up currently existing SPKGs to make them conform to the standards for SPKGs, which many of them are doubtless breaking.

SPKGs listed by the size of the stuff in them that's not in `src` nor in `.hg` in **sage-5.1.beta0**:

```
$ du -bsh * | sort -h
4.4K    blas
4.6K    conway_polynomials
4.8K    graphs
5.3K    polytopes_db
5.3K    zodb3
5.5K    docutils
5.6K    freetype
5.8K    jinja2
5.9K    sqlalchemy
6.0K    bzip2
6.0K    cython
6.0K    genus2reduction
6.0K    mpmath
6.7K    gnutls
6.9K    pycrypto
7.0K    zlib
7.3K    gcc
7.7K    libpng
7.7K    sympy
7.8K    libm4rie
8.0K    patch
8.3K    elliptic_curves
8.3K    sagenb
9.3K    scons
11K     glpk
11K     iconv
11K     libm4ri
11K     mpfi
11K     pygments
11K     sagetex
12K     boost-cropped
12K     gd
12K     gsl
12K     lapack
13K     ppl
13K     termcap
14K     gdmodule
14K     ratpoints
15K     eclib
15K     flintqs
15K     ipython
15K     mpc
15K     scipy
15K     sqlite
16K     boehm_gc
16K     mercurial
16K     setuptools
17K     numpy
20K     cliquer
20K     linbox
20K     maxima
23K     pil
23K     sphinx
24K     matplotlib
25K     libgpg_error
25K     symmetrica
26K     networkx
27K     cvxopt
27K     ecl
29K     libfplll
29K     python
30K     readline
31K     opencdk
32K     sympow
35K     lcalc
36K     ecm
38K     flint
42K     rubiks
46K     polybori
49K     givaro
50K     libgcrypt
55K     pari
55K     zn_poly
57K     twisted
61K     cephes
66K     gfan
73K     mpir
76K     ntl
87K     mpfr
99K     tachyon
106K    pexpect
154K    r
191K    palp
231K    python_gnutls
261K    atlas
460K    gap
724K    iml
1.6M    cddlib
3.0M    singular
5.0M    pynac
```

SPKGs listed by the size of the stuff in the **.hg repository** (modulo post-merge cleanup operations in git consolidation - see #13015):

```
fs-boone@zhenghe ~/tmp/csr/out/devel/sage/spkg $ du -bsh * | sort -h
4.4K blas
4.6K conway_polynomials
4.8K graphs
5.3K polytopes_db
5.3K scons
5.3K zodb3
5.4K docutils
5.5K freetype
5.8K jinja2
5.9K bzip2
5.9K cython
5.9K sqlalchemy
6.0K genus2reduction
6.0K mpmath
6.6K gnutls
6.9K pycrypto
6.9K zlib
7.3K gcc
7.6K libm4rie
7.6K libpng
7.6K sympy
7.9K patch
8.1K elliptic_curves
10K sagetex
11K glpk
11K iconv
11K libm4ri
11K mpfi
11K pygments
11K sqlite
12K boost-cropped
12K gd
12K gsl
12K lapack
13K pexpect
13K ppl
13K termcap
14K gdmodule
14K mpc
14K pynac
14K ratpoints
14K scipy
15K eclib
15K flintqs
15K ipython
15K setuptools
16K boehm_gc
16K mercurial
17K numpy
19K linbox
20K cliquer
20K maxima
21K r
23K matplotlib
23K pil
23K sphinx
24K libgpg_error
25K symmetrica
26K ecl
26K networkx
27K cvxopt
29K libfplll
29K python
30K readline
31K opencdk
32K mpfr
32K sympow
35K lcalc
36K ecm
37K flint
42K rubiks
46K polybori
49K givaro
49K libgcrypt
55K pari
55K zn_poly
57K twisted
61K cephes
66K gfan
73K mpir
76K ntl
99K tachyon
191K palp
223K singular
231K python_gnutls
261K atlas
460K gap
724K iml
1.6M cddlib
```

Tickets:

* #13026 cddlib
* #748 iml

Issue created by migration from https://trac.sagemath.org/ticket/13025





---

archive/issue_comments_154254.json:
```json
{
    "body": "Does anybody update this ticket?",
    "created_at": "2013-06-13T15:24:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12853#issuecomment-154254",
    "user": "https://github.com/nexttime"
}
```

Does anybody update this ticket?



---

archive/issue_events_035674.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12853#event-35674"
}
```



---

archive/issue_events_035675.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12853#event-35675"
}
```



---

archive/issue_events_035676.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12853#event-35676"
}
```



---

archive/issue_events_035677.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12853#event-35677"
}
```



---

archive/issue_events_035678.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12853#event-35678"
}
```



---

archive/issue_comments_154255.json:
```json
{
    "body": "Let me notice that the current organisation makes it easy to how much upstream sources get modified, by going into build/pkgs, then running `du -bsh * | sort -h`.",
    "created_at": "2014-06-11T11:58:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12853#issuecomment-154255",
    "user": "https://trac.sagemath.org/admin/accounts/users/Snark"
}
```

Let me notice that the current organisation makes it easy to how much upstream sources get modified, by going into build/pkgs, then running `du -bsh * | sort -h`.



---

archive/issue_events_035679.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12853#event-35679"
}
```



---

archive/issue_events_035680.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12853#event-35680"
}
```



---

archive/issue_events_035681.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-03T08:39:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12853#event-35681"
}
```



---

archive/issue_events_035682.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-03T08:39:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12853#event-35682"
}
```



---

archive/issue_comments_154256.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2018-03-03T08:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12853#issuecomment-154256",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: invalid



---

archive/issue_comments_154257.json:
```json
{
    "body": "Obsolete",
    "created_at": "2018-03-03T08:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12853#issuecomment-154257",
    "user": "https://github.com/jdemeyer"
}
```

Obsolete



---

archive/issue_events_035683.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-03T08:39:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12853",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12853#event-35683"
}
```
