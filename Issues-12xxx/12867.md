# Issue 12867: random_element for Words is broken

archive/issues_012695.json:
```json
{
    "body": "\n```\nsage: W = Words(5)\nsage: W.random_element()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n/home/ghitza/<ipython console> in <module>()\n\n/scratch/ghitza/sage-5.0.beta10/local/lib/python2.7/site-packages/sage/combinat/combinat.pyc in __random_element_from_unrank(self)\n   1402         \"\"\"\n   1403         c = self.cardinality()\n-> 1404         r = randint(0, c-1)\n   1405         return self.unrank(r)\n   1406 \n\n/scratch/ghitza/sage-5.0.beta10/local/lib/python2.7/site-packages/sage/misc/prandom.pyc in randint(a, b)\n    114         -46\n    115     \"\"\"\n--> 116     return _pyrand().randint(a, b)\n    117 \n    118 def choice(seq):\n\n/scratch/ghitza/sage-5.0.beta10/local/lib/python/random.pyc in randint(self, a, b)\n    239         \"\"\"\n    240 \n--> 241         return self.randrange(a, b+1)\n    242 \n    243     def _randbelow(self, n, _log=_log, int=int, _maxwidth=1L<<BPF,\n\n/scratch/ghitza/sage-5.0.beta10/local/lib/python/random.pyc in randrange(self, start, stop, step, int, default, maxwidth)\n    193 \n    194         # stop argument supplied.\n--> 195         istop = int(stop)\n    196         if istop != stop:\n    197             raise ValueError, \"non-integer stop for randrange()\"\n\nTypeError: int() argument must be a string or a number, not 'PlusInfinity'\n```\n\nAssignee: sage-combinat\n\nCC:  sage-combinat @videlec @saliola @seblabbe\n\nBranch/Commit: 3f13460e1441bfaf2d5539262add1ad056f9fb7d\n\nReviewer: Vincent Delecroix\n\nAuthor: Nathann Cohen\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/12867\n\n",
    "closed_at": "2014-05-06T23:03:18Z",
    "created_at": "2012-04-22T01:28:54Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "random_element for Words is broken",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12867",
    "user": "https://github.com/aghitza"
}
```

```
sage: W = Words(5)
sage: W.random_element()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/home/ghitza/<ipython console> in <module>()

/scratch/ghitza/sage-5.0.beta10/local/lib/python2.7/site-packages/sage/combinat/combinat.pyc in __random_element_from_unrank(self)
   1402         """
   1403         c = self.cardinality()
-> 1404         r = randint(0, c-1)
   1405         return self.unrank(r)
   1406 

/scratch/ghitza/sage-5.0.beta10/local/lib/python2.7/site-packages/sage/misc/prandom.pyc in randint(a, b)
    114         -46
    115     """
--> 116     return _pyrand().randint(a, b)
    117 
    118 def choice(seq):

/scratch/ghitza/sage-5.0.beta10/local/lib/python/random.pyc in randint(self, a, b)
    239         """
    240 
--> 241         return self.randrange(a, b+1)
    242 
    243     def _randbelow(self, n, _log=_log, int=int, _maxwidth=1L<<BPF,

/scratch/ghitza/sage-5.0.beta10/local/lib/python/random.pyc in randrange(self, start, stop, step, int, default, maxwidth)
    193 
    194         # stop argument supplied.
--> 195         istop = int(stop)
    196         if istop != stop:
    197             raise ValueError, "non-integer stop for randrange()"

TypeError: int() argument must be a string or a number, not 'PlusInfinity'
```

Assignee: sage-combinat

CC:  sage-combinat @videlec @saliola @seblabbe

Branch/Commit: 3f13460e1441bfaf2d5539262add1ad056f9fb7d

Reviewer: Vincent Delecroix

Author: Nathann Cohen

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/12867





---

archive/issue_events_035083.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12867#event-35083"
}
```



---

archive/issue_comments_187804.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-09-25T19:14:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187804",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_187805.json:
```json
{
    "body": "<a id='comment:2'></a>Here is a proposal, needs review.",
    "created_at": "2013-09-25T19:14:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187805",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>Here is a proposal, needs review.



---

archive/issue_comments_187806.json:
```json
{
    "body": "<a id='comment:3'></a>Attachment [trac_12867.patch](tarball://root/attachments/some-uuid/ticket12867/trac_12867.patch) by @nathanncohen created at 2013-11-29 13:51:15\n\nWell, what about raising an exception saying that there is no uniform distribution on this set ?...\n\nHonestly, computing random words through `__random_element_from_unrank` really is a joke....\n\n```\nsage: W=Words(2, 30)    \nsage: W.random_element()\n<still waiting>\n```\n\nNathann",
    "created_at": "2013-11-29T13:51:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187806",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>Attachment [trac_12867.patch](tarball://root/attachments/some-uuid/ticket12867/trac_12867.patch) by @nathanncohen created at 2013-11-29 13:51:15

Well, what about raising an exception saying that there is no uniform distribution on this set ?...

Honestly, computing random words through `__random_element_from_unrank` really is a joke....

```
sage: W=Words(2, 30)    
sage: W.random_element()
<still waiting>
```

Nathann



---

archive/issue_comments_187807.json:
```json
{
    "body": "<a id='comment:4'></a>The new branch u/ncohen/12867 implements three `random_element` for the different kinds of words that Sage supports. It also moves the `._iter_` methods where it belongs, for the set of \"all words on 3 letters\" is not countable and should not have an `._iter_` method (unless somebody wants to implement one for RR).\n\nIt also removes a deprecated function. \n\nNathann",
    "created_at": "2013-11-30T00:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187807",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:4'></a>The new branch u/ncohen/12867 implements three `random_element` for the different kinds of words that Sage supports. It also moves the `._iter_` methods where it belongs, for the set of "all words on 3 letters" is not countable and should not have an `._iter_` method (unless somebody wants to implement one for RR).

It also removes a deprecated function. 

Nathann



---

archive/issue_comments_187808.json:
```json
{
    "body": "Changing branch from \"\" to \"u/ncohen/12867\"",
    "created_at": "2013-11-30T00:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187808",
    "user": "https://github.com/nathanncohen"
}
```

Changing branch from "" to "u/ncohen/12867"



---

archive/issue_comments_187809.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-30T00:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187809",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_187810.json:
```json
{
    "body": "Changing commit from \"\" to \"df4cab0a9e03d2fadd3b714100ede7c52c3fb0ef\"",
    "created_at": "2013-11-30T00:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187810",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "df4cab0a9e03d2fadd3b714100ede7c52c3fb0ef"



---

archive/issue_comments_187811.json:
```json
{
    "body": "<a id='comment:7'></a>It would be better to use the new doc continuation `...:` instead of `...`",
    "created_at": "2014-01-05T13:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187811",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>It would be better to use the new doc continuation `...:` instead of `...`



---

archive/issue_comments_187812.json:
```json
{
    "body": "<a id='comment:8'></a>I fixed this, as well as the broken doctests reported by the patchbot in `sage/categories/modules_with_basis.py` and `sage/algebras/shuffle_algebra.py`.\n\nThe first one has been fixed with Darij's help : turns out that Sage's example of a free algebra was not a free algebra (see [1]).\n\nThe second one has been fixed by building manually an element of a Shuffle Algebra instead of relying on `an_element()`, which always returns 0.\n\nPatch updated (and rebased)\n\nNathann\n\n[1] https://groups.google.com/d/topic/sage-combinat-devel/zdN44XJZu5s/discussion",
    "created_at": "2014-01-05T15:32:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187812",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>I fixed this, as well as the broken doctests reported by the patchbot in `sage/categories/modules_with_basis.py` and `sage/algebras/shuffle_algebra.py`.

The first one has been fixed with Darij's help : turns out that Sage's example of a free algebra was not a free algebra (see [1]).

The second one has been fixed by building manually an element of a Shuffle Algebra instead of relying on `an_element()`, which always returns 0.

Patch updated (and rebased)

Nathann

[1] https://groups.google.com/d/topic/sage-combinat-devel/zdN44XJZu5s/discussion



---

archive/issue_comments_187813.json:
```json
{
    "body": "<a id='comment:9'></a>(even though there is no automatic git message)\n\n---\nNew commits:",
    "created_at": "2014-01-05T15:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187813",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:9'></a>(even though there is no automatic git message)

---
New commits:



---

archive/issue_comments_187814.json:
```json
{
    "body": "Changing commit from \"df4cab0a9e03d2fadd3b714100ede7c52c3fb0ef\" to \"e9d71cc29cada6747f82d0a71c0653afe52c0d50\"",
    "created_at": "2014-01-05T15:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187814",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "df4cab0a9e03d2fadd3b714100ede7c52c3fb0ef" to "e9d71cc29cada6747f82d0a71c0653afe52c0d50"



---

archive/issue_comments_187815.json:
```json
{
    "body": "Changing commit from \"e9d71cc29cada6747f82d0a71c0653afe52c0d50\" to \"241a151def174f9cfa93340fd3dd2a9be1d4aa81\"",
    "created_at": "2014-01-05T19:13:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187815",
    "user": "https://github.com/nathanncohen"
}
```

Changing commit from "e9d71cc29cada6747f82d0a71c0653afe52c0d50" to "241a151def174f9cfa93340fd3dd2a9be1d4aa81"



---

archive/issue_comments_187816.json:
```json
{
    "body": "<a id='comment:10'></a>Banch updated !\n\nNathann\n\n---\nNew commits:",
    "created_at": "2014-01-05T19:13:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187816",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>Banch updated !

Nathann

---
New commits:



---

archive/issue_events_035084.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12867#event-35084"
}
```



---

archive/issue_events_035085.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12867#event-35085"
}
```



---

archive/issue_comments_187817.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-02-03T12:05:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187817",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_187818.json:
```json
{
    "body": "Changing commit from \"241a151def174f9cfa93340fd3dd2a9be1d4aa81\" to \"eb7c2ab4e9cca0cb584f2236334db9dae4f41a75\"",
    "created_at": "2014-02-03T12:05:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187818",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "241a151def174f9cfa93340fd3dd2a9be1d4aa81" to "eb7c2ab4e9cca0cb584f2236334db9dae4f41a75"



---

archive/issue_comments_187819.json:
```json
{
    "body": "<a id='comment:13'></a>Rebased on 6.2.beta0 !\n\nNathann",
    "created_at": "2014-02-03T12:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187819",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>Rebased on 6.2.beta0 !

Nathann



---

archive/issue_comments_187820.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-26T13:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187820",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_187821.json:
```json
{
    "body": "Changing commit from \"eb7c2ab4e9cca0cb584f2236334db9dae4f41a75\" to \"035603dd0c523ff054ffdc2d993b1898d827cf3a\"",
    "created_at": "2014-03-26T13:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187821",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "eb7c2ab4e9cca0cb584f2236334db9dae4f41a75" to "035603dd0c523ff054ffdc2d993b1898d827cf3a"



---

archive/issue_comments_187822.json:
```json
{
    "body": "<a id='comment:15'></a>rebased again ....",
    "created_at": "2014-03-26T13:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187822",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:15'></a>rebased again ....



---

archive/issue_comments_187823.json:
```json
{
    "body": "<a id='comment:16'></a>Hi there,\n\nSuggestions, tasks and questions:\n\n0) Might be rebased for 6.2.rc0\n\n1) Add doctest for your errors\n\n2) The following code\n\n```\nself((self.alphabet()[randint(0,n-1)] for x in range(self._length)))\n```\ndoes not handle all cases. For example\n\n```\nsage: W = Words(GF(5), length=4)\nsage: W.random_element()\nKABOOM\n```\nThe problem is that you really do not know what is the `__getitem__` there. A possibility is\n\n```\nself((self.alphabet().random_element() for _ in range(self._length)))\n```\n\n3) What is the purpose of the commit 241a151def174f9cfa93340fd3dd2a9be1d4aa81 that modifies stuff in shuffle_algebra.py, algebras_with_basis.py, lyndon_word.py, etc?\n\nVincent",
    "created_at": "2014-04-23T22:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187823",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>Hi there,

Suggestions, tasks and questions:

0) Might be rebased for 6.2.rc0

1) Add doctest for your errors

2) The following code

```
self((self.alphabet()[randint(0,n-1)] for x in range(self._length)))
```
does not handle all cases. For example

```
sage: W = Words(GF(5), length=4)
sage: W.random_element()
KABOOM
```
The problem is that you really do not know what is the `__getitem__` there. A possibility is

```
self((self.alphabet().random_element() for _ in range(self._length)))
```

3) What is the purpose of the commit 241a151def174f9cfa93340fd3dd2a9be1d4aa81 that modifies stuff in shuffle_algebra.py, algebras_with_basis.py, lyndon_word.py, etc?

Vincent



---

archive/issue_comments_187824.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-04-23T22:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187824",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_187825.json:
```json
{
    "body": "<a id='comment:17'></a>YO !\n\n> 0) Might be rebased for 6.2.rc0\n\n\nDone, but there was no conflict with 6.2.rc0....\n\n> 1) Add doctest for your errors\n\n\nWell, this is in the branch\n\n```\n+            sage: W = Words(5)\n+            sage: W.random_element() # random\n```\n\nWhat else do you expect to find ?\n\n> 2) The following code\n> \n> ```\n> self((self.alphabet()[randint(0,n-1)] for x in range(self._length)))\n> ```\n> does not handle all cases. For example\n> \n> ```\n> sage: W = Words(GF(5), length=4)\n> sage: W.random_element()\n> KABOOM\n> ```\n> The problem is that you really do not know what is the `__getitem__` there. A possibility is\n> \n> ```\n> self((self.alphabet().random_element() for _ in range(self._length)))\n> ```\n\n\nWell, a list has no `.random_element()` method. Would that work ?\n\nOtherwise we could call `list(self.alphabet())`. Or make sure self.alphabet() is a list. What do you think ?\n\n> 3) What is the purpose of the commit 241a151def174f9cfa93340fd3dd2a9be1d4aa81 that modifies stuff in shuffle_algebra.py, algebras_with_basis.py, lyndon_word.py, etc?\n\n\nHMmmmmm... Officially, it is to fix a bug because the current status is incorrect. I asked around and it turns out that these things are only defined on finite words. I don't even know what they are, but doctests were broken otherwise. So well. Everybody's happy this way `:-P`\n\nNathann",
    "created_at": "2014-04-23T22:28:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187825",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'></a>YO !

> 0) Might be rebased for 6.2.rc0


Done, but there was no conflict with 6.2.rc0....

> 1) Add doctest for your errors


Well, this is in the branch

```
+            sage: W = Words(5)
+            sage: W.random_element() # random
```

What else do you expect to find ?

> 2) The following code
> 
> ```
> self((self.alphabet()[randint(0,n-1)] for x in range(self._length)))
> ```
> does not handle all cases. For example
> 
> ```
> sage: W = Words(GF(5), length=4)
> sage: W.random_element()
> KABOOM
> ```
> The problem is that you really do not know what is the `__getitem__` there. A possibility is
> 
> ```
> self((self.alphabet().random_element() for _ in range(self._length)))
> ```


Well, a list has no `.random_element()` method. Would that work ?

Otherwise we could call `list(self.alphabet())`. Or make sure self.alphabet() is a list. What do you think ?

> 3) What is the purpose of the commit 241a151def174f9cfa93340fd3dd2a9be1d4aa81 that modifies stuff in shuffle_algebra.py, algebras_with_basis.py, lyndon_word.py, etc?


HMmmmmm... Officially, it is to fix a bug because the current status is incorrect. I asked around and it turns out that these things are only defined on finite words. I don't even know what they are, but doctests were broken otherwise. So well. Everybody's happy this way `:-P`

Nathann



---

archive/issue_comments_187826.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-23T22:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187826",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_187827.json:
```json
{
    "body": "Changing commit from \"035603dd0c523ff054ffdc2d993b1898d827cf3a\" to \"61f563aceb93a5c39febe59c0bff679ef8a29a52\"",
    "created_at": "2014-04-23T22:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187827",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "035603dd0c523ff054ffdc2d993b1898d827cf3a" to "61f563aceb93a5c39febe59c0bff679ef8a29a52"



---

archive/issue_comments_187828.json:
```json
{
    "body": "Changing commit from \"61f563aceb93a5c39febe59c0bff679ef8a29a52\" to \"a4095e1f8b27a9429db19bf6698022eb971d1a36\"",
    "created_at": "2014-04-23T22:44:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187828",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "61f563aceb93a5c39febe59c0bff679ef8a29a52" to "a4095e1f8b27a9429db19bf6698022eb971d1a36"



---

archive/issue_comments_187829.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-23T22:44:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187829",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_187830.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-04-23T22:45:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187830",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_187831.json:
```json
{
    "body": "<a id='comment:20'></a>Well... Turns out that the lists were already wrapped with something that provides a `random_element` method...\n\nNathann",
    "created_at": "2014-04-23T22:45:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187831",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'></a>Well... Turns out that the lists were already wrapped with something that provides a `random_element` method...

Nathann



---

archive/issue_comments_187832.json:
```json
{
    "body": "Changing branch from \"u/ncohen/12867\" to \"public/12867\"",
    "created_at": "2014-04-24T09:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187832",
    "user": "https://github.com/videlec"
}
```

Changing branch from "u/ncohen/12867" to "public/12867"



---

archive/issue_comments_187833.json:
```json
{
    "body": "Changing commit from \"a4095e1f8b27a9429db19bf6698022eb971d1a36\" to \"3adf50879e44d290936f74acab9e62c12cf1b434\"",
    "created_at": "2014-04-24T09:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187833",
    "user": "https://github.com/videlec"
}
```

Changing commit from "a4095e1f8b27a9429db19bf6698022eb971d1a36" to "3adf50879e44d290936f74acab9e62c12cf1b434"



---

archive/issue_comments_187834.json:
```json
{
    "body": "<a id='comment:21'></a>You forgot to remove the \"import randint\" and did not test all errors... If you are happy with the public branch then set positive review.\n\n---\nNew commits:",
    "created_at": "2014-04-24T09:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187834",
    "user": "https://github.com/videlec"
}
```

<a id='comment:21'></a>You forgot to remove the "import randint" and did not test all errors... If you are happy with the public branch then set positive review.

---
New commits:



---

archive/issue_comments_187835.json:
```json
{
    "body": "Changing author from \"\" to \"Nathann Cohen\"",
    "created_at": "2014-04-24T09:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187835",
    "user": "https://github.com/nathanncohen"
}
```

Changing author from "" to "Nathann Cohen"



---

archive/issue_comments_187836.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-04-24T09:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187836",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_187837.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2014-04-24T09:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187837",
    "user": "https://github.com/nathanncohen"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_187838.json:
```json
{
    "body": "<a id='comment:22'></a>Tests pass, and I am happy to see this fixed at last.\n\nNathann",
    "created_at": "2014-04-24T09:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187838",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'></a>Tests pass, and I am happy to see this fixed at last.

Nathann



---

archive/issue_events_035086.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12867#event-35086"
}
```



---

archive/issue_events_035087.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12867#event-35087"
}
```



---

archive/issue_comments_187839.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-05-06T18:28:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187839",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_187840.json:
```json
{
    "body": "<a id='comment:24'></a>Tests don't pass",
    "created_at": "2014-05-06T18:28:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187840",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:24'></a>Tests don't pass



---

archive/issue_comments_187841.json:
```json
{
    "body": "<a id='comment:25'></a>Because of trac #8389... The fix is apparently trivial, checking that all tests pass right now ...\n\nNathann",
    "created_at": "2014-05-06T18:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187841",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:25'></a>Because of trac #8389... The fix is apparently trivial, checking that all tests pass right now ...

Nathann



---

archive/issue_comments_187842.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-06T18:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187842",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_187843.json:
```json
{
    "body": "Changing commit from \"3adf50879e44d290936f74acab9e62c12cf1b434\" to \"3f13460e1441bfaf2d5539262add1ad056f9fb7d\"",
    "created_at": "2014-05-06T18:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187843",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3adf50879e44d290936f74acab9e62c12cf1b434" to "3f13460e1441bfaf2d5539262add1ad056f9fb7d"



---

archive/issue_comments_187844.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-05-06T21:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187844",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_187845.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-06T23:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187845",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_187846.json:
```json
{
    "body": "Changing branch from \"public/12867\" to \"3f13460e1441bfaf2d5539262add1ad056f9fb7d\"",
    "created_at": "2014-05-06T23:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12867#issuecomment-187846",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/12867" to "3f13460e1441bfaf2d5539262add1ad056f9fb7d"



---

archive/issue_events_035088.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-06T23:03:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12867",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12867#event-35088"
}
```
