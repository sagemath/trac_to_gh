# Issue 12974: make Graphics class inheritable and some clean ups

archive/issues_012802.json:
```json
{
    "body": "The first patch makes all the `.__attribute` into `._attribute` so that the `Graphics` class can be inherited in the future. This is desirable since all the important functions are present in this class. One will not lose anything in terms of existing functionality.\n\nThe second patch does refactoring of one big bunch of code which is present twice in `Graphics().matplotlib()`.\n\nThe third and fourth patches are more of a 'cleanup' nature.\n\n---\nSince then the patches have been cleaned up themselves in various ways, see discussion.\n\n**Apply** [attachment:12974_flat.patch] and [attachment:trac_12974-colorfix.patch].\n\n**Assignee:** @jasongrout, @williamstein\n\n**CC:**  @jasongrout\n\n**Keywords:** sd40.5\n\n**Reviewer:** Karl-Dieter Crisman, Jeroen Demeyer\n\n**Author:** Punarbasu Purkayastha\n\n**Merged:** sage-5.2.beta0\n\n**Dependencies:** #12810, #12605\n\nIssue created by migration from https://trac.sagemath.org/ticket/12974\n\n",
    "closed_at": "2012-07-02T15:23:24Z",
    "created_at": "2012-05-19T12:43:15Z",
    "labels": [
        "component: graphics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.2",
    "title": "make Graphics class inheritable and some clean ups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12974",
    "user": "https://github.com/ppurka"
}
```
The first patch makes all the `.__attribute` into `._attribute` so that the `Graphics` class can be inherited in the future. This is desirable since all the important functions are present in this class. One will not lose anything in terms of existing functionality.

The second patch does refactoring of one big bunch of code which is present twice in `Graphics().matplotlib()`.

The third and fourth patches are more of a 'cleanup' nature.

---
Since then the patches have been cleaned up themselves in various ways, see discussion.

**Apply** [attachment:12974_flat.patch] and [attachment:trac_12974-colorfix.patch].

**Assignee:** @jasongrout, @williamstein

**CC:**  @jasongrout

**Keywords:** sd40.5

**Reviewer:** Karl-Dieter Crisman, Jeroen Demeyer

**Author:** Punarbasu Purkayastha

**Merged:** sage-5.2.beta0

**Dependencies:** #12810, #12605

Issue created by migration from https://trac.sagemath.org/ticket/12974





---

archive/attachments_017507.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12974-fix_graphics_attributes_and_reorder_args.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12974/trac_12974-fix_graphics_attributes_and_reorder_args.patch",
    "created_at": "2012-05-19T12:49:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/ppurka"
}
```



---

archive/issue_comments_151209.json:
```json
{
    "body": "apply this first to devel/sage",
    "created_at": "2012-05-19T12:49:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151209",
    "user": "https://github.com/ppurka"
}
```

apply this first to devel/sage



---

archive/issue_events_111191.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-05-19T12:52:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111191"
}
```



---

archive/issue_comments_151210.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,4 +5,6 @@\n Passes all doctests in `devel/sage/sage/plot`. (The patches are created using 5.0-rc0)\n \n ---\n-\n+Apply patches in this order to `devel/sage`:\n+1. [attachment:trac_12974-fix_graphics_attributes_and_reorder_args.patch]\n+2. [attachment:trac_12974-refactor_and_whitespace_cleanups.patch]\n``````\n",
    "created_at": "2012-05-19T12:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151210",
    "user": "https://github.com/ppurka"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,4 +5,6 @@
 Passes all doctests in `devel/sage/sage/plot`. (The patches are created using 5.0-rc0)
 
 ---
-
+Apply patches in this order to `devel/sage`:
+1. [attachment:trac_12974-fix_graphics_attributes_and_reorder_args.patch]
+2. [attachment:trac_12974-refactor_and_whitespace_cleanups.patch]
``````




---

archive/issue_comments_151211.json:
```json
{
    "body": "<a id='comment:2'></a>\nIn general this looks pretty good, good work on underscores and the refactor looks ok.  The Sage Days 40.5 crowd says \"yes!\" to making double underscores single underscores.\n\n* Minor but should be done: get rid of backslashes ending lines.  Suggestion is to just enclose things in parentheses for splitting lines.\n* You need to doctest your new matplotlib tick formatter.\n* I'm not sure why you alphabetized some of the keywords in various places.  It might make more sense to keep ones together that are related - e.g., `vgridlinesstyle` and `hgridlinesstyle` should be next to each other.  I don't think this was an optimal change.",
    "created_at": "2012-05-25T00:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151211",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>
In general this looks pretty good, good work on underscores and the refactor looks ok.  The Sage Days 40.5 crowd says "yes!" to making double underscores single underscores.

* Minor but should be done: get rid of backslashes ending lines.  Suggestion is to just enclose things in parentheses for splitting lines.
* You need to doctest your new matplotlib tick formatter.
* I'm not sure why you alphabetized some of the keywords in various places.  It might make more sense to keep ones together that are related - e.g., `vgridlinesstyle` and `hgridlinesstyle` should be next to each other.  I don't think this was an optimal change.



---

archive/issue_comments_151212.json:
```json
{
    "body": "**Author:** Punarbasu Purkayastha",
    "created_at": "2012-05-25T00:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151212",
    "user": "https://github.com/kcrisman"
}
```

**Author:** Punarbasu Purkayastha



---

archive/issue_comments_151213.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman",
    "created_at": "2012-05-25T00:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151213",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Karl-Dieter Crisman



---

archive/issue_events_111192.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-25T00:31:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111192"
}
```



---

archive/issue_events_111193.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-25T00:31:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111193"
}
```



---

archive/issue_comments_151214.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sd40.5\".",
    "created_at": "2012-05-25T00:31:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151214",
    "user": "https://github.com/kcrisman"
}
```

**Changing keywords** from "" to "sd40.5".



---

archive/issue_comments_151215.json:
```json
{
    "body": "Apply this first to devel/sage",
    "created_at": "2012-05-25T09:53:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151215",
    "user": "https://github.com/ppurka"
}
```

Apply this first to devel/sage



---

archive/attachments_017508.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12974-fix_graphics_attributes.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12974/trac_12974-fix_graphics_attributes.patch",
    "created_at": "2012-05-25T09:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/ppurka"
}
```



---

archive/issue_comments_151216.json:
```json
{
    "body": "next, apply this to devel/sage",
    "created_at": "2012-05-25T09:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151216",
    "user": "https://github.com/ppurka"
}
```

next, apply this to devel/sage



---

archive/attachments_017509.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12974-refactor_and_whitespace_cleanups.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12974/trac_12974-refactor_and_whitespace_cleanups.patch",
    "created_at": "2012-05-25T10:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/ppurka"
}
```



---

archive/issue_comments_151217.json:
```json
{
    "body": "<a id='comment:4'></a>\n1. I added the new file, where I don't reorder the arguments. Also, I ran the following sed expression (in zsh) to cleanup trailing whitespaces from `sage/plot`\n\n```\n....rc0/devel/sage/sage/plot\u00bb for i in **/*.py; do\n sed -i -e 's/[[:space:]]\\+$//' \"$i\";\ndone\n```\n\n2. I removed the backslash and replaced it with simple brackets\n3. I had also doctested the new matplotlib function, but it seems that went into the log plot code. Sorry for the mixup. The updated patch (the second patch) contains the doctest now.\n4. From the doctests in #4529, I found that there were other functions outside of `sage/plot` that were using attributes of `Graphics` as `_Graphics__object`, etc. All these are fixed now (in the first patch).",
    "created_at": "2012-05-25T10:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151217",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:4'></a>
1. I added the new file, where I don't reorder the arguments. Also, I ran the following sed expression (in zsh) to cleanup trailing whitespaces from `sage/plot`

```
....rc0/devel/sage/sage/plot» for i in **/*.py; do
 sed -i -e 's/[[:space:]]\+$//' "$i";
done
```

2. I removed the backslash and replaced it with simple brackets
3. I had also doctested the new matplotlib function, but it seems that went into the log plot code. Sorry for the mixup. The updated patch (the second patch) contains the doctest now.
4. From the doctests in #4529, I found that there were other functions outside of `sage/plot` that were using attributes of `Graphics` as `_Graphics__object`, etc. All these are fixed now (in the first patch).



---

archive/issue_comments_151218.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n \n ---\n Apply patches in this order to `devel/sage`:\n-1. [attachment:trac_12974-fix_graphics_attributes_and_reorder_args.patch]\n+1. [attachment:trac_12974-fix_graphics_attributes.patch]\n 2. [attachment:trac_12974-refactor_and_whitespace_cleanups.patch]\n``````\n",
    "created_at": "2012-05-25T10:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151218",
    "user": "https://github.com/ppurka"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 
 ---
 Apply patches in this order to `devel/sage`:
-1. [attachment:trac_12974-fix_graphics_attributes_and_reorder_args.patch]
+1. [attachment:trac_12974-fix_graphics_attributes.patch]
 2. [attachment:trac_12974-refactor_and_whitespace_cleanups.patch]
``````




---

archive/issue_comments_151219.json:
```json
{
    "body": "<a id='comment:5'></a>\nAdded a third patch which reorders the arguments, but keeps them grouped.",
    "created_at": "2012-05-25T10:11:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151219",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:5'></a>
Added a third patch which reorders the arguments, but keeps them grouped.



---

archive/issue_events_111194.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-05-25T10:11:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111194"
}
```



---

archive/issue_events_111195.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-05-25T10:11:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111195"
}
```



---

archive/issue_comments_151220.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,3 +8,5 @@\n Apply patches in this order to `devel/sage`:\n 1. [attachment:trac_12974-fix_graphics_attributes.patch]\n 2. [attachment:trac_12974-refactor_and_whitespace_cleanups.patch]\n+Apply this third patch if the reordering now is satisfactory\n+3. [attachment:trac_12974-reorder_some_arguments.patch]\n``````\n",
    "created_at": "2012-05-25T10:11:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151220",
    "user": "https://github.com/ppurka"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,3 +8,5 @@
 Apply patches in this order to `devel/sage`:
 1. [attachment:trac_12974-fix_graphics_attributes.patch]
 2. [attachment:trac_12974-refactor_and_whitespace_cleanups.patch]
+Apply this third patch if the reordering now is satisfactory
+3. [attachment:trac_12974-reorder_some_arguments.patch]
``````




---

archive/issue_comments_151221.json:
```json
{
    "body": "<a id='comment:6'></a>\nI like all of this (obviously only did a spot-check of the whitespace file but it seems fine.  I do think that we can't reorder the arguments to the *function/method* `matplotlib`, as that would be a change in the API.  The other order changes don't matter because they are dicts or just initialization, but this one I don't think we can change, even with the relatively slight possibility that someone actually relies on the keyword order.\n\nBut I think you can still do the same idea of putting the comments for clarity - I like very much what you did with this overall.  Fix the `matplotlib` thing, and in the meantime I'll run doctests and look at some of the plots.",
    "created_at": "2012-05-25T14:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151221",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>
I like all of this (obviously only did a spot-check of the whitespace file but it seems fine.  I do think that we can't reorder the arguments to the *function/method* `matplotlib`, as that would be a change in the API.  The other order changes don't matter because they are dicts or just initialization, but this one I don't think we can change, even with the relatively slight possibility that someone actually relies on the keyword order.

But I think you can still do the same idea of putting the comments for clarity - I like very much what you did with this overall.  Fix the `matplotlib` thing, and in the meantime I'll run doctests and look at some of the plots.



---

archive/issue_comments_151222.json:
```json
{
    "body": "<a id='comment:7'></a>\nI think positive review to the changes in the first and second patch.   It would have been really helpful not to put the matplotlib refactoring in the same patch as the whitespace, because Trac won't preview it, and that means a lot of tedious searching.  But I think that's ok now.",
    "created_at": "2012-05-25T14:34:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151222",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'></a>
I think positive review to the changes in the first and second patch.   It would have been really helpful not to put the matplotlib refactoring in the same patch as the whitespace, because Trac won't preview it, and that means a lot of tedious searching.  But I think that's ok now.



---

archive/issue_events_111196.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-25T14:41:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111196"
}
```



---

archive/issue_events_111197.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-25T14:41:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111197"
}
```



---

archive/issue_comments_151223.json:
```json
{
    "body": "**Work_Issues:** keep same ordering of arguments",
    "created_at": "2012-05-25T14:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151223",
    "user": "https://github.com/kcrisman"
}
```

**Work_Issues:** keep same ordering of arguments



---

archive/attachments_017510.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12974-refactor.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12974/trac_12974-refactor.patch",
    "created_at": "2012-05-25T18:26:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/ppurka"
}
```



---

archive/issue_comments_151224.json:
```json
{
    "body": "",
    "created_at": "2012-05-25T18:26:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151224",
    "user": "https://github.com/ppurka"
}
```





---

archive/attachments_017511.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12974-reorder_some_arguments.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12974/trac_12974-reorder_some_arguments.patch",
    "created_at": "2012-05-25T18:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/ppurka"
}
```



---

archive/issue_comments_151225.json:
```json
{
    "body": "third patch which reorders some arguments",
    "created_at": "2012-05-25T18:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151225",
    "user": "https://github.com/ppurka"
}
```

third patch which reorders some arguments



---

archive/issue_events_111198.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-05-25T18:36:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111198"
}
```



---

archive/issue_events_111199.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-05-25T18:36:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111199"
}
```



---

archive/attachments_017512.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12974-whitespace_cleanup.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12974/trac_12974-whitespace_cleanup.patch",
    "created_at": "2012-05-25T18:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/ppurka"
}
```



---

archive/issue_comments_151226.json:
```json
{
    "body": "<a id='comment:9'></a>\nSorry for the mixup of the whitespace and refactoring patches - I wasn't thinking clearly. I have uploaded the new patches. The whitespace one is completely on its own now. The patches are\n1. [attachment:trac_12974-fix_graphics_attributes.patch] - makes the change .__ to ._\n2. [attachment:trac_12974-refactor.patch] - refactoring the tick formatter in Graphics.matplotlib\n3. [attachment:trac_12974-reorder_some_arguments.patch] - does the reordering of the arguments in the dicts. matplotlib is untouched now.\n4. [attachment:trac_12974-whitespace_cleanup.patch] - does the whitespace cleanup via the sed function mentioned in [comment:4](#comment%3A4)",
    "created_at": "2012-05-25T18:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151226",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:9'></a>
Sorry for the mixup of the whitespace and refactoring patches - I wasn't thinking clearly. I have uploaded the new patches. The whitespace one is completely on its own now. The patches are
1. [attachment:trac_12974-fix_graphics_attributes.patch] - makes the change .__ to ._
2. [attachment:trac_12974-refactor.patch] - refactoring the tick formatter in Graphics.matplotlib
3. [attachment:trac_12974-reorder_some_arguments.patch] - does the reordering of the arguments in the dicts. matplotlib is untouched now.
4. [attachment:trac_12974-whitespace_cleanup.patch] - does the whitespace cleanup via the sed function mentioned in [comment:4](#comment%3A4)



---

archive/issue_comments_151227.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,12 +1,14 @@\n The first patch makes all the `.__attribute` into `._attribute` so that the `Graphics` class can be inherited in the future. This is desirable since all the important functions are present in this class. One will not lose anything in terms of existing functionality.\n \n-The second patch does more cleanups, whitespace removal, and refactoring of one big bunch of code which is present twice in `Graphics().matplotlib()`.\n+The second patch does refactoring of one big bunch of code which is present twice in `Graphics().matplotlib()`.\n+\n+The third and fourth patches are more of a 'cleanup' nature.\n \n Passes all doctests in `devel/sage/sage/plot`. (The patches are created using 5.0-rc0)\n \n ---\n Apply patches in this order to `devel/sage`:\n-1. [attachment:trac_12974-fix_graphics_attributes.patch]\n-2. [attachment:trac_12974-refactor_and_whitespace_cleanups.patch]\n-Apply this third patch if the reordering now is satisfactory\n-3. [attachment:trac_12974-reorder_some_arguments.patch]\n+1. [attachment:trac_12974-fix_graphics_attributes.patch] - makes the change .__ to ._\n+2. [attachment:trac_12974-refactor.patch] - refactoring the tick formatter in Graphics.matplotlib\n+3. [attachment:trac_12974-reorder_some_arguments.patch] - does the reordering of some arguments\n+4. [attachment:trac_12974-whitespace_cleanup.patch] - cleans up trailing whitespace via the sed function mentioned in [comment:4](#comment%3A4)\n``````\n",
    "created_at": "2012-05-25T18:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151227",
    "user": "https://github.com/ppurka"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,12 +1,14 @@
 The first patch makes all the `.__attribute` into `._attribute` so that the `Graphics` class can be inherited in the future. This is desirable since all the important functions are present in this class. One will not lose anything in terms of existing functionality.
 
-The second patch does more cleanups, whitespace removal, and refactoring of one big bunch of code which is present twice in `Graphics().matplotlib()`.
+The second patch does refactoring of one big bunch of code which is present twice in `Graphics().matplotlib()`.
+
+The third and fourth patches are more of a 'cleanup' nature.
 
 Passes all doctests in `devel/sage/sage/plot`. (The patches are created using 5.0-rc0)
 
 ---
 Apply patches in this order to `devel/sage`:
-1. [attachment:trac_12974-fix_graphics_attributes.patch]
-2. [attachment:trac_12974-refactor_and_whitespace_cleanups.patch]
-Apply this third patch if the reordering now is satisfactory
-3. [attachment:trac_12974-reorder_some_arguments.patch]
+1. [attachment:trac_12974-fix_graphics_attributes.patch] - makes the change .__ to ._
+2. [attachment:trac_12974-refactor.patch] - refactoring the tick formatter in Graphics.matplotlib
+3. [attachment:trac_12974-reorder_some_arguments.patch] - does the reordering of some arguments
+4. [attachment:trac_12974-whitespace_cleanup.patch] - cleans up trailing whitespace via the sed function mentioned in [comment:4](#comment%3A4)
``````




---

archive/issue_comments_151228.json:
```json
{
    "body": "**Changing work_issues** from \"keep same ordering of arguments\" to \"\".",
    "created_at": "2012-05-25T18:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151228",
    "user": "https://github.com/ppurka"
}
```

**Changing work_issues** from "keep same ordering of arguments" to "".



---

archive/issue_comments_151229.json:
```json
{
    "body": "<a id='comment:10'></a>\npatchbot: apply [attachment:trac_12974-fix_graphics_attributes.patch] [attachment:trac_12974-refactor.patch] [attachment:trac_12974-reorder_some_arguments.patch] [attachment:trac_12974-whitespace_cleanup.patch]",
    "created_at": "2012-05-26T03:26:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151229",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:10'></a>
patchbot: apply [attachment:trac_12974-fix_graphics_attributes.patch] [attachment:trac_12974-refactor.patch] [attachment:trac_12974-reorder_some_arguments.patch] [attachment:trac_12974-whitespace_cleanup.patch]



---

archive/issue_events_111200.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-26T04:29:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111200"
}
```



---

archive/issue_events_111201.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-05-26T04:29:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111201"
}
```



---

archive/issue_comments_151230.json:
```json
{
    "body": "<a id='comment:11'></a>\nThis seems to still be fine.  Positive review.\n\nNote to release manager - the whitespace cleanup patch might cause some other stuff touched during SD 40.5 to not apply (? I haven't tried) so just don't apply that if it causes problems.  I'm sure ppurka won't mind apply his sed script to things after the workshop :)",
    "created_at": "2012-05-26T04:29:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151230",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:11'></a>
This seems to still be fine.  Positive review.

Note to release manager - the whitespace cleanup patch might cause some other stuff touched during SD 40.5 to not apply (? I haven't tried) so just don't apply that if it causes problems.  I'm sure ppurka won't mind apply his sed script to things after the workshop :)



---

archive/issue_comments_151231.json:
```json
{
    "body": "<a id='comment:12'></a>\nPatchbot, listen up! Apply trac_12974-fix_graphics_attributes.patch trac_12974-refactor.patch trac_12974-reorder_some_arguments.patch trac_12974-whitespace_cleanup.patch !!!",
    "created_at": "2012-05-30T02:53:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151231",
    "user": "https://github.com/kini"
}
```

<a id='comment:12'></a>
Patchbot, listen up! Apply trac_12974-fix_graphics_attributes.patch trac_12974-refactor.patch trac_12974-reorder_some_arguments.patch trac_12974-whitespace_cleanup.patch !!!



---

archive/issue_comments_151232.json:
```json
{
    "body": "<a id='comment:13'></a>\nWhat is this problem with fft in the patch   bot output? These patches don't even have the string fft!!",
    "created_at": "2012-05-30T03:43:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151232",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:13'></a>
What is this problem with fft in the patch   bot output? These patches don't even have the string fft!!



---

archive/issue_comments_151233.json:
```json
{
    "body": "<a id='comment:14'></a>\nThat patchbot is on the fritz, I guess... wait for arando to get to it, it's running 5.1.beta1 already and so should supersede all other patchbot verdicts 8)",
    "created_at": "2012-05-30T03:54:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151233",
    "user": "https://github.com/kini"
}
```

<a id='comment:14'></a>
That patchbot is on the fritz, I guess... wait for arando to get to it, it's running 5.1.beta1 already and so should supersede all other patchbot verdicts 8)



---

archive/issue_comments_151234.json:
```json
{
    "body": "<a id='comment:15'></a>\nNot really worried about patchbot, to be honest.  \n\nGuess you must have made it home... my flight is delayed by a half hour, so I might as well start rebasing all the stuff I reviewed to 5.1.beta1...",
    "created_at": "2012-05-30T03:55:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151234",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'></a>
Not really worried about patchbot, to be honest.  

Guess you must have made it home... my flight is delayed by a half hour, so I might as well start rebasing all the stuff I reviewed to 5.1.beta1...



---

archive/issue_comments_151235.json:
```json
{
    "body": "<a id='comment:16'></a>\nWell, it would be nice to at least have people pay *some* attention to the patchbot. If everyone says \"ehh, I don't care what the patchbot says\", then what's the point of having it?\n\nYes, I made it back, and David and Doug too, but Jeroen missed his flight, unfortunately - we had a flat tire on the way to the airport and spent almost an hour fixing it for various reasons.",
    "created_at": "2012-05-30T04:00:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151235",
    "user": "https://github.com/kini"
}
```

<a id='comment:16'></a>
Well, it would be nice to at least have people pay *some* attention to the patchbot. If everyone says "ehh, I don't care what the patchbot says", then what's the point of having it?

Yes, I made it back, and David and Doug too, but Jeroen missed his flight, unfortunately - we had a flat tire on the way to the airport and spent almost an hour fixing it for various reasons.



---

archive/attachments_017513.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12974-whitespace-rebased.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12974/trac_12974-whitespace-rebased.patch",
    "created_at": "2012-05-30T04:24:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_151236.json:
```json
{
    "body": "",
    "created_at": "2012-05-30T04:24:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151236",
    "user": "https://github.com/kcrisman"
}
```





---

archive/attachments_017514.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12974-fix_graphics_attributes-rebase.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12974/trac_12974-fix_graphics_attributes-rebase.patch",
    "created_at": "2012-05-30T04:25:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_151237.json:
```json
{
    "body": "",
    "created_at": "2012-05-30T04:25:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151237",
    "user": "https://github.com/kcrisman"
}
```





---

archive/issue_comments_151238.json:
```json
{
    "body": "**Dependencies:** #12810, #12605",
    "created_at": "2012-05-30T04:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151238",
    "user": "https://github.com/kcrisman"
}
```

**Dependencies:** #12810, #12605



---

archive/issue_comments_151239.json:
```json
{
    "body": "<a id='comment:17'></a>\nOkay, this is now \"rebased\" to depend on #12810 and #12605 (in that order) so that we don't get more messages from the release manager.  At least I hope I did this right.  Then I'll try to rebase #4529 to that.  Not much else to do until the plane gets here...\n\n\nApply patches in this order to `devel/sage` trac_12974-fix_graphics_attributes-rebase.patch trac_12974-refactor.patch trac_12974-reorder_some_arguments.patch trac_12974-whitespace-rebased.patch",
    "created_at": "2012-05-30T04:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151239",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:17'></a>
Okay, this is now "rebased" to depend on #12810 and #12605 (in that order) so that we don't get more messages from the release manager.  At least I hope I did this right.  Then I'll try to rebase #4529 to that.  Not much else to do until the plane gets here...


Apply patches in this order to `devel/sage` trac_12974-fix_graphics_attributes-rebase.patch trac_12974-refactor.patch trac_12974-reorder_some_arguments.patch trac_12974-whitespace-rebased.patch



---

archive/issue_comments_151240.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n \n ---\n Apply patches in this order to `devel/sage`:\n-1. [attachment:trac_12974-fix_graphics_attributes.patch] - makes the change .__ to ._\n+1. [attachment:trac_12974-fix_graphics_attributes-rebase.patch] - makes the change .__ to ._\n 2. [attachment:trac_12974-refactor.patch] - refactoring the tick formatter in Graphics.matplotlib\n 3. [attachment:trac_12974-reorder_some_arguments.patch] - does the reordering of some arguments\n-4. [attachment:trac_12974-whitespace_cleanup.patch] - cleans up trailing whitespace via the sed function mentioned in [comment:4](#comment%3A4)\n+4. [attachment:trac_12974-whitespace-rebased.patch] - cleans up trailing whitespace via the sed function mentioned in [comment:4](#comment%3A4)\n``````\n",
    "created_at": "2012-05-30T04:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151240",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 
 ---
 Apply patches in this order to `devel/sage`:
-1. [attachment:trac_12974-fix_graphics_attributes.patch] - makes the change .__ to ._
+1. [attachment:trac_12974-fix_graphics_attributes-rebase.patch] - makes the change .__ to ._
 2. [attachment:trac_12974-refactor.patch] - refactoring the tick formatter in Graphics.matplotlib
 3. [attachment:trac_12974-reorder_some_arguments.patch] - does the reordering of some arguments
-4. [attachment:trac_12974-whitespace_cleanup.patch] - cleans up trailing whitespace via the sed function mentioned in [comment:4](#comment%3A4)
+4. [attachment:trac_12974-whitespace-rebased.patch] - cleans up trailing whitespace via the sed function mentioned in [comment:4](#comment%3A4)
``````




---

archive/attachments_017515.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12974-fix_graphics_attributes-rebase.2.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12974/trac_12974-fix_graphics_attributes-rebase.2.patch",
    "created_at": "2012-05-30T10:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/ppurka"
}
```



---

archive/issue_comments_151241.json:
```json
{
    "body": "",
    "created_at": "2012-05-30T10:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151241",
    "user": "https://github.com/ppurka"
}
```





---

archive/issue_comments_151242.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n \n ---\n Apply patches in this order to `devel/sage`:\n-1. [attachment:trac_12974-fix_graphics_attributes-rebase.patch] - makes the change .__ to ._\n+1. [attachment:trac_12974-fix_graphics_attributes-rebase.2.patch] - makes the change .__ to ._\n 2. [attachment:trac_12974-refactor.patch] - refactoring the tick formatter in Graphics.matplotlib\n 3. [attachment:trac_12974-reorder_some_arguments.patch] - does the reordering of some arguments\n 4. [attachment:trac_12974-whitespace-rebased.patch] - cleans up trailing whitespace via the sed function mentioned in [comment:4](#comment%3A4)\n``````\n",
    "created_at": "2012-05-30T10:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151242",
    "user": "https://github.com/ppurka"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 
 ---
 Apply patches in this order to `devel/sage`:
-1. [attachment:trac_12974-fix_graphics_attributes-rebase.patch] - makes the change .__ to ._
+1. [attachment:trac_12974-fix_graphics_attributes-rebase.2.patch] - makes the change .__ to ._
 2. [attachment:trac_12974-refactor.patch] - refactoring the tick formatter in Graphics.matplotlib
 3. [attachment:trac_12974-reorder_some_arguments.patch] - does the reordering of some arguments
 4. [attachment:trac_12974-whitespace-rebased.patch] - cleans up trailing whitespace via the sed function mentioned in [comment:4](#comment%3A4)
``````




---

archive/issue_comments_151243.json:
```json
{
    "body": "<a id='comment:18'></a>\nupdated fix attributes patch to address new code in sage-5.1beta1. Changes to the previous patch [can be viewed here](https://github.com/ppurka/sage-patches/commit/ddc446af0985cc8d64f0484182432debb5da1427).\n\npatchbot apply: trac_12974-fix_graphics_attributes-rebase.2.patch trac_12974-refactor.patch trac_12974-reorder_some_arguments.patch trac_12974-whitespace-rebased.patch\n\n(Also ran a `make ptestlong` with #4529, #12974, #12810, #12605 and all tests pass).",
    "created_at": "2012-05-30T10:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151243",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:18'></a>
updated fix attributes patch to address new code in sage-5.1beta1. Changes to the previous patch [can be viewed here](https://github.com/ppurka/sage-patches/commit/ddc446af0985cc8d64f0484182432debb5da1427).

patchbot apply: trac_12974-fix_graphics_attributes-rebase.2.patch trac_12974-refactor.patch trac_12974-reorder_some_arguments.patch trac_12974-whitespace-rebased.patch

(Also ran a `make ptestlong` with #4529, #12974, #12810, #12605 and all tests pass).



---

archive/issue_events_111202.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-18T13:35:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "milestone": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111202"
}
```



---

archive/issue_events_111203.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-18T13:35:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "milestone": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111203"
}
```



---

archive/issue_events_111204.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-28T08:42:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111204"
}
```



---

archive/issue_events_111205.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-28T08:42:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111205"
}
```



---

archive/issue_comments_151244.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [ppurka](#comment%3A4):\n> Also, I ran the following sed expression (in zsh) to cleanup trailing whitespaces from `sage/plot`\n\nPlease don't do this, it can only lead to merge conflicts.  Removing whitespace from parts of the code which you edit is fine (even encouraged), but don't just remove all whitespace shotgun-style.\n\nThis needs to be rebased anyway, I'm going to add a new patch.",
    "created_at": "2012-06-28T08:42:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151244",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>
Replying to [ppurka](#comment%3A4):
> Also, I ran the following sed expression (in zsh) to cleanup trailing whitespaces from `sage/plot`

Please don't do this, it can only lead to merge conflicts.  Removing whitespace from parts of the code which you edit is fine (even encouraged), but don't just remove all whitespace shotgun-style.

This needs to be rebased anyway, I'm going to add a new patch.



---

archive/issue_comments_151245.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,11 +4,6 @@\n \n The third and fourth patches are more of a 'cleanup' nature.\n \n-Passes all doctests in `devel/sage/sage/plot`. (The patches are created using 5.0-rc0)\n+---\n \n----\n-Apply patches in this order to `devel/sage`:\n-1. [attachment:trac_12974-fix_graphics_attributes-rebase.2.patch] - makes the change .__ to ._\n-2. [attachment:trac_12974-refactor.patch] - refactoring the tick formatter in Graphics.matplotlib\n-3. [attachment:trac_12974-reorder_some_arguments.patch] - does the reordering of some arguments\n-4. [attachment:trac_12974-whitespace-rebased.patch] - cleans up trailing whitespace via the sed function mentioned in [comment:4](#comment%3A4)\n+**Apply** [attachment:12974_flat.patch]\n``````\n",
    "created_at": "2012-06-28T08:53:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151245",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,11 +4,6 @@
 
 The third and fourth patches are more of a 'cleanup' nature.
 
-Passes all doctests in `devel/sage/sage/plot`. (The patches are created using 5.0-rc0)
+---
 
----
-Apply patches in this order to `devel/sage`:
-1. [attachment:trac_12974-fix_graphics_attributes-rebase.2.patch] - makes the change .__ to ._
-2. [attachment:trac_12974-refactor.patch] - refactoring the tick formatter in Graphics.matplotlib
-3. [attachment:trac_12974-reorder_some_arguments.patch] - does the reordering of some arguments
-4. [attachment:trac_12974-whitespace-rebased.patch] - cleans up trailing whitespace via the sed function mentioned in [comment:4](#comment%3A4)
+**Apply** [attachment:12974_flat.patch]
``````




---

archive/issue_events_111206.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-28T08:53:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111206"
}
```



---

archive/issue_events_111207.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-28T08:53:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111207"
}
```



---

archive/issue_comments_151246.json:
```json
{
    "body": "**Changing reviewer** from \"Karl-Dieter Crisman\" to \"Karl-Dieter Crisman, Jeroen Demeyer\".",
    "created_at": "2012-06-28T08:53:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151246",
    "user": "https://github.com/jdemeyer"
}
```

**Changing reviewer** from "Karl-Dieter Crisman" to "Karl-Dieter Crisman, Jeroen Demeyer".



---

archive/issue_comments_151247.json:
```json
{
    "body": "<a id='comment:21'></a>\nFirst three patches put in one big patch, the whitespace patch removed.",
    "created_at": "2012-06-28T08:53:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151247",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>
First three patches put in one big patch, the whitespace patch removed.



---

archive/attachments_017516.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "12974_flat.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12974/12974_flat.patch",
    "created_at": "2012-06-28T08:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_151248.json:
```json
{
    "body": "",
    "created_at": "2012-06-28T08:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151248",
    "user": "https://github.com/jdemeyer"
}
```





---

archive/issue_comments_151249.json:
```json
{
    "body": "<a id='comment:22'></a>\nI tried it on beta5 but it failed a couple of doctests. I will try again in a few days. I am traveling in a couple of hours so I can't install and test on beta6.\n\n```\nThe following tests failed:\n\n        sage -t  devel/sage-main/sage/plot/plot3d/base.pyx # 4 doctests failed\n        sage -t  devel/sage-main/sage/plot/plot3d/texture.py # 2 doctests faile\n        sage -t  devel/sage-main/sage/plot/colors.py # 12 doctests failed\n----------------------------------------------------------------------\nTimings have been updated.\nTotal time for all tests: 232.5 seconds\n```",
    "created_at": "2012-06-28T10:10:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151249",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:22'></a>
I tried it on beta5 but it failed a couple of doctests. I will try again in a few days. I am traveling in a couple of hours so I can't install and test on beta6.

```
The following tests failed:

        sage -t  devel/sage-main/sage/plot/plot3d/base.pyx # 4 doctests failed
        sage -t  devel/sage-main/sage/plot/plot3d/texture.py # 2 doctests faile
        sage -t  devel/sage-main/sage/plot/colors.py # 12 doctests failed
----------------------------------------------------------------------
Timings have been updated.
Total time for all tests: 232.5 seconds
```



---

archive/issue_comments_151250.json:
```json
{
    "body": "<a id='comment:23'></a>\n+1 to not having the whitespace patch.  There are already huge conflicts with this and the loglog plotting patch, and I think the whitespace patch greatly exaggerates the conflicts.",
    "created_at": "2012-06-28T12:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151250",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:23'></a>
+1 to not having the whitespace patch.  There are already huge conflicts with this and the loglog plotting patch, and I think the whitespace patch greatly exaggerates the conflicts.



---

archive/issue_events_111208.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-06-28T14:26:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111208"
}
```



---

archive/issue_events_111209.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-06-28T14:26:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111209"
}
```



---

archive/issue_comments_151251.json:
```json
{
    "body": "<a id='comment:24'></a>\nOk, these are *all* manifestations of the same thing, exactly.\n\n```\n      File \"/Users/.../sage-5.1.beta6/local/lib/python/site-packages/sage/plot/colors.py\", line 509, in __eq__\n        return self.__rgb == right.__rgb\n    AttributeError: 'Color' object has no attribute '_Color__rgb'\n```\nSo there was one other \"name-mangling\" thing that didn't get picked up, I guess.  I'll see if I can track this down fairly easily.",
    "created_at": "2012-06-28T14:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151251",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:24'></a>
Ok, these are *all* manifestations of the same thing, exactly.

```
      File "/Users/.../sage-5.1.beta6/local/lib/python/site-packages/sage/plot/colors.py", line 509, in __eq__
        return self.__rgb == right.__rgb
    AttributeError: 'Color' object has no attribute '_Color__rgb'
```
So there was one other "name-mangling" thing that didn't get picked up, I guess.  I'll see if I can track this down fairly easily.



---

archive/issue_comments_151252.json:
```json
{
    "body": "<a id='comment:25'></a>\nOk, positive review on the flattened patch and its few additions.  Now I'll look at the colors thing.\n\nYup, this is all fallout from #11383 and #12999, which didn't know about this patch.  The patch is a three-character change, coming up.",
    "created_at": "2012-06-28T14:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151252",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:25'></a>
Ok, positive review on the flattened patch and its few additions.  Now I'll look at the colors thing.

Yup, this is all fallout from #11383 and #12999, which didn't know about this patch.  The patch is a three-character change, coming up.



---

archive/attachments_017517.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12974-colorfix.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12974/trac_12974-colorfix.patch",
    "created_at": "2012-06-28T14:55:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_151253.json:
```json
{
    "body": "",
    "created_at": "2012-06-28T14:55:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151253",
    "user": "https://github.com/kcrisman"
}
```





---

archive/issue_comments_151254.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,5 +5,6 @@\n The third and fourth patches are more of a 'cleanup' nature.\n \n ---\n+Since then the patches have been cleaned up themselves in various ways, see discussion.\n \n-**Apply** [attachment:12974_flat.patch]\n+**Apply** [attachment:12974_flat.patch] and [attachment:trac_12974-colorfix.patch].\n``````\n",
    "created_at": "2012-06-28T14:56:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151254",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,5 +5,6 @@
 The third and fourth patches are more of a 'cleanup' nature.
 
 ---
+Since then the patches have been cleaned up themselves in various ways, see discussion.
 
-**Apply** [attachment:12974_flat.patch]
+**Apply** [attachment:12974_flat.patch] and [attachment:trac_12974-colorfix.patch].
``````




---

archive/issue_comments_151255.json:
```json
{
    "body": "<a id='comment:26'></a>\nPatchbot:\n\n**Apply** [attachment:12974_flat.patch] and [attachment:trac_12974-colorfix.patch].",
    "created_at": "2012-06-28T14:56:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151255",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:26'></a>
Patchbot:

**Apply** [attachment:12974_flat.patch] and [attachment:trac_12974-colorfix.patch].



---

archive/issue_events_111210.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-06-28T14:56:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111210"
}
```



---

archive/issue_events_111211.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-06-28T14:56:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111211"
}
```



---

archive/issue_comments_151256.json:
```json
{
    "body": "<a id='comment:27'></a>\nThis passes all tests in plot.  I'm still going to run full doctests in case we get another thing like the padic one Jeroen caught, but hopefully this is now ready.",
    "created_at": "2012-06-28T14:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151256",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:27'></a>
This passes all tests in plot.  I'm still going to run full doctests in case we get another thing like the padic one Jeroen caught, but hopefully this is now ready.



---

archive/issue_comments_151257.json:
```json
{
    "body": "<a id='comment:28'></a>\nOkay, all is well!  Reinstating positive review.",
    "created_at": "2012-06-28T16:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151257",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:28'></a>
Okay, all is well!  Reinstating positive review.



---

archive/issue_events_111212.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-06-28T16:17:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111212"
}
```



---

archive/issue_events_111213.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-06-28T16:17:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111213"
}
```



---

archive/issue_comments_151258.json:
```json
{
    "body": "<a id='comment:29'></a>\nBy the way, only downside here is that now Jeroen looks like the author of the patch in the history :)",
    "created_at": "2012-06-28T18:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151258",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:29'></a>
By the way, only downside here is that now Jeroen looks like the author of the patch in the history :)



---

archive/issue_comments_151259.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [kcrisman](#comment%3A29):\n> By the way, only downside here is that now Jeroen looks like the author of the patch in the history :)\n\n\nWhich wouldn't be a problem if we used git and pull requests (unless Jeroen rebased the branch...) :)",
    "created_at": "2012-06-28T19:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151259",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:30'></a>
Replying to [kcrisman](#comment%3A29):
> By the way, only downside here is that now Jeroen looks like the author of the patch in the history :)


Which wouldn't be a problem if we used git and pull requests (unless Jeroen rebased the branch...) :)



---

archive/issue_comments_151260.json:
```json
{
    "body": "**Merged:** sage-5.2.beta0",
    "created_at": "2012-07-02T15:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12974#issuecomment-151260",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.2.beta0



---

archive/issue_events_111214.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-02T15:23:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111214"
}
```



---

archive/issue_events_111215.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-02T15:23:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12974",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12974#event-111215"
}
```
