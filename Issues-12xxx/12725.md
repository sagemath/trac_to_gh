# Issue 12725: termcap: symlink libtermcap.a to libncurses.a

archive/issues_012553.json:
```json
{
    "body": "The install scripts for PARI and Python automatically link with `-lncurses` if `/usr/lib/libncurses.so` **exists**, even though the mere existence of that file doesn't guarantee that it actually can be linked.  This can happen in particular when \"cross-compiling\" a 32-bit Sage on a 64-bit operating system.\n\nThe build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to symlink Sage's `libtermcap.a` to `libncurses.a` if needed, such that `-lncurses` will always succeed.\n\n**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg)\n\nReported upstream to Python: [http://bugs.python.org/issue15182](http://bugs.python.org/issue15182)\n\nFor PARI, this seems to be fixed in PARI-2.6.0 (but I haven't checked well).\n\n**CC:**  jpflori\n\n**Upstream:** Reported upstream. No feedback yet.\n\n**Reviewer:** Volker Braun\n\n**Author:** Jeroen Demeyer\n\n**Merged:** sage-5.7.beta3\n\nIssue created by migration from https://trac.sagemath.org/ticket/12725\n\n",
    "closed_at": "2013-02-05T08:18:06Z",
    "created_at": "2012-03-22T09:45:57Z",
    "labels": [
        "component: packages: standard",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.7",
    "title": "termcap: symlink libtermcap.a to libncurses.a",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12725",
    "user": "https://github.com/jdemeyer"
}
```
The install scripts for PARI and Python automatically link with `-lncurses` if `/usr/lib/libncurses.so` **exists**, even though the mere existence of that file doesn't guarantee that it actually can be linked.  This can happen in particular when "cross-compiling" a 32-bit Sage on a 64-bit operating system.

The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to symlink Sage's `libtermcap.a` to `libncurses.a` if needed, such that `-lncurses` will always succeed.

**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg)

Reported upstream to Python: [http://bugs.python.org/issue15182](http://bugs.python.org/issue15182)

For PARI, this seems to be fixed in PARI-2.6.0 (but I haven't checked well).

**CC:**  jpflori

**Upstream:** Reported upstream. No feedback yet.

**Reviewer:** Volker Braun

**Author:** Jeroen Demeyer

**Merged:** sage-5.7.beta3

Issue created by migration from https://trac.sagemath.org/ticket/12725





---

archive/issue_comments_146282.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n The install scripts for PARI and Python automatically link with `-lncurses` if `/usr/lib/libncurses.so` **exists**, even though the mere existence of that file doesn't guarantee that it actually can be linked.  This can happen in particular when \"cross-compiling\" a 32-bit Sage on a 64-bit operating system.\n \n The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to copy Sage's `libtermcap.a` to `libncurses.a`, such that `-lncurses` will always succeed.\n+\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg)\n``````\n",
    "created_at": "2012-03-22T10:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146282",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 The install scripts for PARI and Python automatically link with `-lncurses` if `/usr/lib/libncurses.so` **exists**, even though the mere existence of that file doesn't guarantee that it actually can be linked.  This can happen in particular when "cross-compiling" a 32-bit Sage on a 64-bit operating system.
 
 The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to copy Sage's `libtermcap.a` to `libncurses.a`, such that `-lncurses` will always succeed.
+
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg)
``````




---

archive/issue_comments_146283.json:
```json
{
    "body": "**Author:** Jeroen Demeyer",
    "created_at": "2012-03-22T10:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146283",
    "user": "https://github.com/jdemeyer"
}
```

**Author:** Jeroen Demeyer



---

archive/issue_comments_146284.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n The install scripts for PARI and Python automatically link with `-lncurses` if `/usr/lib/libncurses.so` **exists**, even though the mere existence of that file doesn't guarantee that it actually can be linked.  This can happen in particular when \"cross-compiling\" a 32-bit Sage on a 64-bit operating system.\n \n-The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to copy Sage's `libtermcap.a` to `libncurses.a`, such that `-lncurses` will always succeed.\n+The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to symlink Sage's `libtermcap.a` to `libncurses.a`, such that `-lncurses` will always succeed.\n \n **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg)\n``````\n",
    "created_at": "2012-03-22T10:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146284",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 The install scripts for PARI and Python automatically link with `-lncurses` if `/usr/lib/libncurses.so` **exists**, even though the mere existence of that file doesn't guarantee that it actually can be linked.  This can happen in particular when "cross-compiling" a 32-bit Sage on a 64-bit operating system.
 
-The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to copy Sage's `libtermcap.a` to `libncurses.a`, such that `-lncurses` will always succeed.
+The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to symlink Sage's `libtermcap.a` to `libncurses.a`, such that `-lncurses` will always succeed.
 
 **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg)
``````




---

archive/issue_comments_146285.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe usual way to address the problem is to install the corresponding\ndevelopment package (for ncurses).  Overwriting the shared library\nwill break various programs that are linked against the existing\nlibrary.",
    "created_at": "2012-03-23T14:30:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146285",
    "user": "https://trac.sagemath.org/admin/accounts/users/tdickey"
}
```

<a id='comment:3'></a>
The usual way to address the problem is to install the corresponding
development package (for ncurses).  Overwriting the shared library
will break various programs that are linked against the existing
library.



---

archive/issue_comments_146286.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [tdickey](#comment%3A3):\n> Overwriting the shared library\n> will break various programs that are linked against the existing\n> library.\n\nI'm only talking about the *static* library archive (`libncurses.a`).  This cannot break existing programs.",
    "created_at": "2012-03-23T14:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146286",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
Replying to [tdickey](#comment%3A3):
> Overwriting the shared library
> will break various programs that are linked against the existing
> library.

I'm only talking about the *static* library archive (`libncurses.a`).  This cannot break existing programs.



---

archive/issue_comments_146287.json:
```json
{
    "body": "<a id='comment:5'></a>\nBut that would break builds of other applications which used the static library.\nAlso, applications using the bundled termcap library would behave differently\nfrom those which use the ncurses library (unless Sage happened to update its\ntermcap source file - last I recalled it was more than ten years out of date).",
    "created_at": "2012-03-24T00:30:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146287",
    "user": "https://trac.sagemath.org/admin/accounts/users/tdickey"
}
```

<a id='comment:5'></a>
But that would break builds of other applications which used the static library.
Also, applications using the bundled termcap library would behave differently
from those which use the ncurses library (unless Sage happened to update its
termcap source file - last I recalled it was more than ten years out of date).



---

archive/issue_comments_146288.json:
```json
{
    "body": "<a id='comment:6'></a>\nOkay, a new proposal: we try to link a test program with `-lncurses` and only if that fails, we do the copying.",
    "created_at": "2012-03-24T09:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146288",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
Okay, a new proposal: we try to link a test program with `-lncurses` and only if that fails, we do the copying.



---

archive/issue_comments_146289.json:
```json
{
    "body": "<a id='comment:7'></a>\nThat's an improvement, but if the copy happened to be put in a different location\nthan the ncurses development package, it would still be a problem.",
    "created_at": "2012-03-24T11:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146289",
    "user": "https://trac.sagemath.org/admin/accounts/users/tdickey"
}
```

<a id='comment:7'></a>
That's an improvement, but if the copy happened to be put in a different location
than the ncurses development package, it would still be a problem.



---

archive/issue_comments_146290.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [tdickey](#comment%3A7):\n> That's an improvement, but if the copy happened to be put in a different location\n> than the ncurses development package, it would still be a problem.\n\n??? Please explain what you mean.  The copy would be put in `$SAGE_ROOT/local/lib`.",
    "created_at": "2012-03-24T15:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146290",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
Replying to [tdickey](#comment%3A7):
> That's an improvement, but if the copy happened to be put in a different location
> than the ncurses development package, it would still be a problem.

??? Please explain what you mean.  The copy would be put in `$SAGE_ROOT/local/lib`.



---

archive/issue_comments_146291.json:
```json
{
    "body": "<a id='comment:9'></a>\nI see - at the end of the patch.  The discussion above did not make that clear.",
    "created_at": "2012-03-24T15:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146291",
    "user": "https://trac.sagemath.org/admin/accounts/users/tdickey"
}
```

<a id='comment:9'></a>
I see - at the end of the patch.  The discussion above did not make that clear.



---

archive/issue_comments_146292.json:
```json
{
    "body": "Diff for the termcap spkg, for review only",
    "created_at": "2012-03-28T09:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146292",
    "user": "https://github.com/jdemeyer"
}
```

Diff for the termcap spkg, for review only



---

archive/attachments_017130.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "termcap-1.3.1.p3.diff",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12725/termcap-1.3.1.p3.diff",
    "created_at": "2012-03-28T09:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.diff",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_146293.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe new spkg is more clever: it only makes the symbolic link for `libncurses.a` if linking against `-lncurses` doesn't work.\n\nNeeds review.",
    "created_at": "2012-03-28T09:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146293",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
The new spkg is more clever: it only makes the symbolic link for `libncurses.a` if linking against `-lncurses` doesn't work.

Needs review.



---

archive/issue_events_108125.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-28T09:16:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "label": "minor",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12725#event-108125"
}
```



---

archive/issue_events_108126.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-28T09:16:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12725#event-108126"
}
```



---

archive/issue_comments_146294.json:
```json
{
    "body": "<a id='comment:11'></a>\n`@`tdickey: could you review this spkg please?",
    "created_at": "2012-03-31T20:47:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146294",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
`@`tdickey: could you review this spkg please?



---

archive/issue_comments_146295.json:
```json
{
    "body": "<a id='comment:12'></a>\nWe should get rid of the termcap spkg anyway, really.\n\nBesides that, the errors mentioned in the description should certainly get fixed (or at least reported) upstream.",
    "created_at": "2012-05-25T10:52:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146295",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:12'></a>
We should get rid of the termcap spkg anyway, really.

Besides that, the errors mentioned in the description should certainly get fixed (or at least reported) upstream.



---

archive/issue_comments_146296.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [leif](#comment%3A12):\n> Besides that, the errors mentioned in the description should certainly get fixed (or at least reported) upstream.\n\nI don't think upstream still exists, actually.",
    "created_at": "2012-06-25T12:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146296",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
Replying to [leif](#comment%3A12):
> Besides that, the errors mentioned in the description should certainly get fixed (or at least reported) upstream.

I don't think upstream still exists, actually.



---

archive/issue_comments_146297.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n The install scripts for PARI and Python automatically link with `-lncurses` if `/usr/lib/libncurses.so` **exists**, even though the mere existence of that file doesn't guarantee that it actually can be linked.  This can happen in particular when \"cross-compiling\" a 32-bit Sage on a 64-bit operating system.\n \n-The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to symlink Sage's `libtermcap.a` to `libncurses.a`, such that `-lncurses` will always succeed.\n+The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to symlink Sage's `libtermcap.a` to `libncurses.a` if needed, such that `-lncurses` will always succeed.\n \n **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg)\n``````\n",
    "created_at": "2012-06-25T12:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146297",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 The install scripts for PARI and Python automatically link with `-lncurses` if `/usr/lib/libncurses.so` **exists**, even though the mere existence of that file doesn't guarantee that it actually can be linked.  This can happen in particular when "cross-compiling" a 32-bit Sage on a 64-bit operating system.
 
-The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to symlink Sage's `libtermcap.a` to `libncurses.a`, such that `-lncurses` will always succeed.
+The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to symlink Sage's `libtermcap.a` to `libncurses.a` if needed, such that `-lncurses` will always succeed.
 
 **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg)
``````




---

archive/issue_events_108127.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-25T12:01:49Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "rename": {
        "from": "termcap: copy libtermcap.a to libncurses.a",
        "to": "termcap: symlink libtermcap.a to libncurses.a"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12725#event-108127"
}
```



---

archive/issue_comments_146298.json:
```json
{
    "body": "**Changing upstream** from \"N/A\" to \"Reported upstream. No feedback yet.\".",
    "created_at": "2012-06-25T13:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146298",
    "user": "https://github.com/jdemeyer"
}
```

**Changing upstream** from "N/A" to "Reported upstream. No feedback yet.".



---

archive/issue_comments_146299.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,3 +3,7 @@\n The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to symlink Sage's `libtermcap.a` to `libncurses.a` if needed, such that `-lncurses` will always succeed.\n \n **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg)\n+\n+Reported upstream to Python: [http://bugs.python.org/issue15182](http://bugs.python.org/issue15182)\n+\n+For PARI, this seems to be fixed in PARI-2.6.0 (but I haven't checked well).\n``````\n",
    "created_at": "2012-06-25T13:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146299",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,3 +3,7 @@
 The build of the readline interface of PARI and Python might therefore fail for no good reason.  A solution is to symlink Sage's `libtermcap.a` to `libncurses.a` if needed, such that `-lncurses` will always succeed.
 
 **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/termcap-1.3.1.p3.spkg)
+
+Reported upstream to Python: [http://bugs.python.org/issue15182](http://bugs.python.org/issue15182)
+
+For PARI, this seems to be fixed in PARI-2.6.0 (but I haven't checked well).
``````




---

archive/issue_comments_146300.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [jdemeyer](#comment%3A13):\n> Replying to [leif](#comment%3A12):\n> > Besides that, the errors mentioned in the description should certainly get fixed (or at least reported) upstream.\n\n> I don't think upstream still exists, actually.\nWhich upstream are you referring to?",
    "created_at": "2012-06-25T21:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146300",
    "user": "https://trac.sagemath.org/admin/accounts/users/tdickey"
}
```

<a id='comment:16'></a>
Replying to [jdemeyer](#comment%3A13):
> Replying to [leif](#comment%3A12):
> > Besides that, the errors mentioned in the description should certainly get fixed (or at least reported) upstream.

> I don't think upstream still exists, actually.
Which upstream are you referring to?



---

archive/issue_comments_146301.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [jdemeyer](#comment%3A11):\n> `@`tdickey: could you review this spkg please?\n\nGenerically ok (given the explanation that it would only be used in a build-tree, not updating the system area).\n\nHowever, 1.3.1.p3 is dated, and its termcap.src file is a nuisance due to the large number of differences versus ncurses.  I've noticed that Redhat's equivalent package for termcap uses the termcap.src file which I generate from ncurses.  See http://invisible-island.net/datafiles/current/termcap.src.gz for comparison.",
    "created_at": "2012-06-25T21:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146301",
    "user": "https://trac.sagemath.org/admin/accounts/users/tdickey"
}
```

<a id='comment:17'></a>
Replying to [jdemeyer](#comment%3A11):
> `@`tdickey: could you review this spkg please?

Generically ok (given the explanation that it would only be used in a build-tree, not updating the system area).

However, 1.3.1.p3 is dated, and its termcap.src file is a nuisance due to the large number of differences versus ncurses.  I've noticed that Redhat's equivalent package for termcap uses the termcap.src file which I generate from ncurses.  See http://invisible-island.net/datafiles/current/termcap.src.gz for comparison.



---

archive/issue_comments_146302.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [tdickey](#comment%3A17):\n> Replying to [jdemeyer](#comment%3A11):\n> > `@`tdickey: could you review this spkg please?\n\n> Generically ok (given the explanation that it would only be used in a build-tree, not updating the system area).\n> \n> However, 1.3.1.p3 is dated, and its termcap.src file is a nuisance due to the large number of differences versus ncurses.\n\nPerhaps, but that's not the subject of this ticket.",
    "created_at": "2012-06-26T06:40:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146302",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>
Replying to [tdickey](#comment%3A17):
> Replying to [jdemeyer](#comment%3A11):
> > `@`tdickey: could you review this spkg please?

> Generically ok (given the explanation that it would only be used in a build-tree, not updating the system area).
> 
> However, 1.3.1.p3 is dated, and its termcap.src file is a nuisance due to the large number of differences versus ncurses.

Perhaps, but that's not the subject of this ticket.



---

archive/issue_comments_146303.json:
```json
{
    "body": "<a id='comment:19'></a>\nWouldn't a proper solution be to fix Pyton rather than hacking around?",
    "created_at": "2013-01-29T22:28:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146303",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:19'></a>
Wouldn't a proper solution be to fix Pyton rather than hacking around?



---

archive/issue_comments_146304.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [jpflori](#comment%3A19):\n> Wouldn't a proper solution be to fix Pyton rather than hacking around?\n\nSure, but that's not a realistic solution I'm afraid.  It would require some redesign of the Python build system.",
    "created_at": "2013-01-29T22:33:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146304",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>
Replying to [jpflori](#comment%3A19):
> Wouldn't a proper solution be to fix Pyton rather than hacking around?

Sure, but that's not a realistic solution I'm afraid.  It would require some redesign of the Python build system.



---

archive/issue_events_108128.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-01-30T15:21:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12725#event-108128"
}
```



---

archive/issue_events_108129.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-01-30T15:21:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12725#event-108129"
}
```



---

archive/issue_comments_146305.json:
```json
{
    "body": "<a id='comment:21'></a>\nugly workaround, but then it should never happen on a sensible install...",
    "created_at": "2013-01-30T15:21:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146305",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>
ugly workaround, but then it should never happen on a sensible install...



---

archive/issue_comments_146306.json:
```json
{
    "body": "**Reviewer:** Volker Braun",
    "created_at": "2013-01-30T15:21:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146306",
    "user": "https://github.com/vbraun"
}
```

**Reviewer:** Volker Braun



---

archive/issue_events_108130.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-05T08:18:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12725#event-108130"
}
```



---

archive/issue_events_108131.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-05T08:18:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12725#event-108131"
}
```



---

archive/issue_comments_146307.json:
```json
{
    "body": "**Merged:** sage-5.7.beta3",
    "created_at": "2013-02-05T08:18:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146307",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.7.beta3



---

archive/issue_comments_146308.json:
```json
{
    "body": "<a id='comment:23'></a>\nThis breaks readline in Python, see #14405 for details.",
    "created_at": "2013-04-03T11:36:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12725",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12725#issuecomment-146308",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:23'></a>
This breaks readline in Python, see #14405 for details.
