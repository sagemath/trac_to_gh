# Issue 12039: Doctest sage.categories.action

archive/issues_011867.json:
```json
{
    "assignees": [],
    "body": "Currently there are no doctests in this file.\n\n\n---\n\nApply [[attachment: 12039_outside.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_outside.patch.gz), [attachment: 12039_example.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_example.patch.gz), [attachment: 12039_changes_v2.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_changes_v2.patch.gz)(https://github.com/sagemath/sage/files/ticket12039/84740d0732ea5a90836809800443171a.gz)\n\nDepends on #12048\n\nAssignee: **mvngu**\n\nKeywords: **sd40.5**\n\nReviewer: **Florent Hivert, David Loeffler, Karl-Dieter Crisman**\n\nAuthor: **David Roe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12039_\n\n",
    "created_at": "2011-11-15T08:50:06Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/pending",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Doctest sage.categories.action",
    "type": "issue",
    "updated_at": "2012-12-13T02:42:46Z",
    "url": "https://github.com/sagemath/sage/issues/12039",
    "user": "https://github.com/roed314"
}
```
Currently there are no doctests in this file.


---

Apply [[attachment: 12039_outside.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_outside.patch.gz), [attachment: 12039_example.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_example.patch.gz), [attachment: 12039_changes_v2.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_changes_v2.patch.gz)(https://github.com/sagemath/sage/files/ticket12039/84740d0732ea5a90836809800443171a.gz)

Depends on #12048

Assignee: **mvngu**

Keywords: **sd40.5**

Reviewer: **Florent Hivert, David Loeffler, Karl-Dieter Crisman**

Author: **David Roe**

_Issue created by migration from https://trac.sagemath.org/ticket/12039_





---

archive/issue_events_143898.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2011-11-15T08:50:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143898"
}
```



---

archive/issue_events_143899.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2011-11-15T08:50:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143899"
}
```



---

archive/issue_events_143900.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2011-11-15T08:50:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143900"
}
```



---

archive/issue_events_143901.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2011-11-15T08:50:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143901"
}
```



---

archive/issue_comments_130318.json:
```json
{
    "body": "Attachment: **[12039_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_doctests.patch.gz)**\n\nDoctests and changes sage.categories.action",
    "created_at": "2011-11-17T14:17:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130318",
    "user": "https://github.com/roed314"
}
```

Attachment: **[12039_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_doctests.patch.gz)**

Doctests and changes sage.categories.action



---

archive/issue_comments_130319.json:
```json
{
    "body": "Some changes outside sage.categories.action and sage.categories.action_example",
    "created_at": "2011-11-17T14:18:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130319",
    "user": "https://github.com/roed314"
}
```

Some changes outside sage.categories.action and sage.categories.action_example



---

archive/issue_comments_130320.json:
```json
{
    "body": "Dependencies: **#12048**",
    "created_at": "2011-11-17T14:18:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130320",
    "user": "https://github.com/roed314"
}
```

Dependencies: **#12048**



---

archive/issue_comments_130321.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nAttachment: **[12039_outside.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_outside.patch.gz)**",
    "created_at": "2011-11-17T14:18:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130321",
    "user": "https://github.com/roed314"
}
```

<a id='comment:1'>Comment 1:</a>
Attachment: **[12039_outside.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_outside.patch.gz)**



---

archive/issue_events_143902.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2011-11-17T14:18:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143902"
}
```



---

archive/issue_comments_130322.json:
```json
{
    "body": "Author: **David Roe**",
    "created_at": "2011-11-17T14:18:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130322",
    "user": "https://github.com/roed314"
}
```

Author: **David Roe**



---

archive/issue_comments_130323.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nI was googling for `LazyFormat` when I stumbled here.\n\nOne remark: There is no need to use `LazyFormat` if the result is a plain string. Just use the string itself. The purpose of `LazyFormat` is the following: when you have \n\n```\nlz=LazyFormat(\"... %s ...\")%(obj)\n``` \nit defers the computation of `__repr__(obj)` until one call `__repr__(lz)`. So that, \n\n```\nLazyFormat(\"Message\")%(())\n``` \nis really some kind of overkill.",
    "created_at": "2011-11-22T23:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130323",
    "user": "https://github.com/hivert"
}
```

<a id='comment:2'>Comment 2:</a>
I was googling for `LazyFormat` when I stumbled here.

One remark: There is no need to use `LazyFormat` if the result is a plain string. Just use the string itself. The purpose of `LazyFormat` is the following: when you have 

```
lz=LazyFormat("... %s ...")%(obj)
``` 
it defers the computation of `__repr__(obj)` until one call `__repr__(lz)`. So that, 

```
LazyFormat("Message")%(())
``` 
is really some kind of overkill.



---

archive/issue_comments_130324.json:
```json
{
    "body": "Reviewer: **Florent Hivert**",
    "created_at": "2011-11-22T23:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130324",
    "user": "https://github.com/hivert"
}
```

Reviewer: **Florent Hivert**



---

archive/issue_comments_130325.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nA followup for my last remark. The idea of `LazyFormat` is to be able to\nprint counter examples in the error message for `TestSuite` when a property is\nwrong, without drastically slowing down the tests. I would therefore suggest\nto replace\n\n```python\ntester.assertTrue(self(a, self(b, v)) == self(a*b, v), \n                  LazyFormat(\"Multiplication is not associative\")%(())) \n```  \nby\n\n```python\ntester.assertTrue(self(a, self(b, v)) == self(a*b, v), \n    LazyFormat(\"Multiplication is not associative: %s*(%s*%s) != (%s*%s)*%s\")%(a,b,v,a,b,v))\n```\nAnd similarly for the other one.\n\nAlso in the category directory, the usage is to place the example in the\nsubdirectory examples. An action isn't really a category, but I think it would\nbe good to have all the examples there. Moreover, don't forget to add your\nvery nice example in the reference manual (file: `doc/en/reference/categories.rst`).\n\nBy the way: thanks a lot for writing all this nice documentation.\n\nFlorent",
    "created_at": "2011-11-22T23:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130325",
    "user": "https://github.com/hivert"
}
```

<a id='comment:3'>Comment 3:</a>
A followup for my last remark. The idea of `LazyFormat` is to be able to
print counter examples in the error message for `TestSuite` when a property is
wrong, without drastically slowing down the tests. I would therefore suggest
to replace

```python
tester.assertTrue(self(a, self(b, v)) == self(a*b, v), 
                  LazyFormat("Multiplication is not associative")%(())) 
```  
by

```python
tester.assertTrue(self(a, self(b, v)) == self(a*b, v), 
    LazyFormat("Multiplication is not associative: %s*(%s*%s) != (%s*%s)*%s")%(a,b,v,a,b,v))
```
And similarly for the other one.

Also in the category directory, the usage is to place the example in the
subdirectory examples. An action isn't really a category, but I think it would
be good to have all the examples there. Moreover, don't forget to add your
very nice example in the reference manual (file: `doc/en/reference/categories.rst`).

By the way: thanks a lot for writing all this nice documentation.

Florent



---

archive/issue_comments_130326.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nMore remarks:\n\n- There is an empty `Example::` section for `_extend_G(self, K):`.\n\n- you should put hyperlinks ref for <code>:class:\\`sage.matrix.action.MatrixMatrixAction\\`</code>  line 14 in `sage/categories/action.pyx`, as well as in\n\n ```\n 17\tSee sage.structure.coerce_actions and sage.matrix.action for examples of Actions  \n 18\tused in the coercion system, and sage.structure.coerce and sage.structure.parent \n 19\tfor the code that uses them. \n ```\n Note: I didn't look exhaustively for missing hyperlinks.\n\nSorry for asking all these modifications. More review tomorrow morning, I'm off to bed.\n\nFlorent",
    "created_at": "2011-11-22T23:47:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130326",
    "user": "https://github.com/hivert"
}
```

<a id='comment:4'>Comment 4:</a>
More remarks:

- There is an empty `Example::` section for `_extend_G(self, K):`.

- you should put hyperlinks ref for <code>:class:\`sage.matrix.action.MatrixMatrixAction\`</code>  line 14 in `sage/categories/action.pyx`, as well as in

 ```
 17	See sage.structure.coerce_actions and sage.matrix.action for examples of Actions  
 18	used in the coercion system, and sage.structure.coerce and sage.structure.parent 
 19	for the code that uses them. 
 ```
 Note: I didn't look exhaustively for missing hyperlinks.

Sorry for asking all these modifications. More review tomorrow morning, I'm off to bed.

Florent



---

archive/issue_comments_130327.json:
```json
{
    "body": "Attachment: **[12039_example.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_example.patch.gz)**\n\nAn extended example of an Action",
    "created_at": "2011-11-23T20:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130327",
    "user": "https://github.com/roed314"
}
```

Attachment: **[12039_example.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_example.patch.gz)**

An extended example of an Action



---

archive/issue_comments_130328.json:
```json
{
    "body": "Incorporate referee's suggestions so far",
    "created_at": "2011-11-23T20:44:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130328",
    "user": "https://github.com/roed314"
}
```

Incorporate referee's suggestions so far



---

archive/issue_comments_130329.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nAttachment: **[12039_changes.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_changes.patch.gz)**\n\nI don't mind making changes: I'm glad you're refereeing it.",
    "created_at": "2011-11-23T20:45:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130329",
    "user": "https://github.com/roed314"
}
```

<a id='comment:5'>Comment 5:</a>
Attachment: **[12039_changes.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_changes.patch.gz)**

I don't mind making changes: I'm glad you're refereeing it.



---

archive/issue_events_143903.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-11T11:30:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143903"
}
```



---

archive/issue_events_143904.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-11T11:30:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143904"
}
```



---

archive/issue_comments_130330.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nDoesn't apply to latest beta -- it gets as far as patch 12039_changes.patch and then that fails to apply.",
    "created_at": "2012-03-11T11:30:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130330",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:6'>Comment 6:</a>
Doesn't apply to latest beta -- it gets as far as patch 12039_changes.patch and then that fails to apply.



---

archive/issue_comments_130331.json:
```json
{
    "body": "Changed reviewer from **Florent Hivert** to **Florent Hivert, PatchBot**",
    "created_at": "2012-03-11T11:30:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130331",
    "user": "https://github.com/loefflerd"
}
```

Changed reviewer from **Florent Hivert** to **Florent Hivert, PatchBot**



---

archive/issue_comments_130332.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nAargh, patchbot is interpreting my last comment as an instruction to only apply the last patch...\n\n\nApply 12039_doctests.patch, 12039_outside.patch, 12039_example.patch, 12039_changes.patch",
    "created_at": "2012-03-12T19:17:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130332",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:7'>Comment 7:</a>
Aargh, patchbot is interpreting my last comment as an instruction to only apply the last patch...


Apply 12039_doctests.patch, 12039_outside.patch, 12039_example.patch, 12039_changes.patch



---

archive/issue_comments_130333.json:
```json
{
    "body": "Attachment: **[12039_changes_v2.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_changes_v2.patch.gz)**\n\nApply this instead of 12039-changes.patch",
    "created_at": "2012-03-14T14:53:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130333",
    "user": "https://github.com/loefflerd"
}
```

Attachment: **[12039_changes_v2.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_changes_v2.patch.gz)**

Apply this instead of 12039-changes.patch



---

archive/issue_comments_130334.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nThe patch I've just uploaded is based on a rebase of 12039_changes.patch, but it also incorporates some reviewer changes: I've corrected the Sphinx formatting in a few places so it builds without errors, added some trivial missing doctests to get coverage up to 100%, and added a few hyperlinks and so on.\n\nApply 12039_doctests.patch, 12039_outside.patch, 12039_example.patch, 12039_changes_v2.patch",
    "created_at": "2012-03-14T14:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130334",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:8'>Comment 8:</a>
The patch I've just uploaded is based on a rebase of 12039_changes.patch, but it also incorporates some reviewer changes: I've corrected the Sphinx formatting in a few places so it builds without errors, added some trivial missing doctests to get coverage up to 100%, and added a few hyperlinks and so on.

Apply 12039_doctests.patch, 12039_outside.patch, 12039_example.patch, 12039_changes_v2.patch



---

archive/issue_events_143905.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-14T14:58:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143905"
}
```



---

archive/issue_events_143906.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-14T14:58:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143906"
}
```



---

archive/issue_comments_130335.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nThanks for fixing all the action_example -> examples.actions.  Your changes all look good to me.  Feel free to give it a positive review if you're happy with it.",
    "created_at": "2012-03-16T21:42:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130335",
    "user": "https://github.com/roed314"
}
```

<a id='comment:9'>Comment 9:</a>
Thanks for fixing all the action_example -> examples.actions.  Your changes all look good to me.  Feel free to give it a positive review if you're happy with it.



---

archive/issue_events_143907.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-17T10:39:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143907"
}
```



---

archive/issue_events_143908.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-17T10:39:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143908"
}
```



---

archive/issue_events_143909.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-17T10:39:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143909"
}
```



---

archive/issue_comments_130336.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI'll put this to positive review pending #12048. But is there any chance that you could modify this so it works without #12048? (I think without #12048 the patches apply correctly, but doctests don't pass.)",
    "created_at": "2012-03-17T10:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130336",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:10'>Comment 10:</a>
I'll put this to positive review pending #12048. But is there any chance that you could modify this so it works without #12048? (I think without #12048 the patches apply correctly, but doctests don't pass.)



---

archive/issue_comments_130337.json:
```json
{
    "body": "Changed reviewer from **Florent Hivert, PatchBot** to **Florent Hivert, David Loeffler**",
    "created_at": "2012-03-17T10:39:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130337",
    "user": "https://github.com/loefflerd"
}
```

Changed reviewer from **Florent Hivert, PatchBot** to **Florent Hivert, David Loeffler**



---

archive/issue_comments_130338.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,6 @@\n Currently there are no doctests in this file.\n+\n+\n+---\n+\n+Apply [[attachment: 12039_outside.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_outside.patch.gz), [attachment: 12039_example.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_example.patch.gz), [attachment: 12039_changes_v2.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_changes_v2.patch.gz)(https://github.com/sagemath/sage/files/ticket12039/84740d0732ea5a90836809800443171a.gz)\n``````\n",
    "created_at": "2012-05-24T21:38:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130338",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,6 @@
 Currently there are no doctests in this file.
+
+
+---
+
+Apply [[attachment: 12039_outside.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_outside.patch.gz), [attachment: 12039_example.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_example.patch.gz), [attachment: 12039_changes_v2.patch.gz](https://github.com/sagemath/sage/files/ticket12039/12039_changes_v2.patch.gz)(https://github.com/sagemath/sage/files/ticket12039/84740d0732ea5a90836809800443171a.gz)
``````




---

archive/issue_comments_130339.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nIn Sage 5.1.beta0 I get a bunch of errors applying (yes, I did apply #12048)?  Can you confirm this?  Also, it would be really nice to have this not depend on a 'needs work' patch.",
    "created_at": "2012-05-24T21:40:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130339",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'>Comment 12:</a>
In Sage 5.1.beta0 I get a bunch of errors applying (yes, I did apply #12048)?  Can you confirm this?  Also, it would be really nice to have this not depend on a 'needs work' patch.



---

archive/issue_comments_130340.json:
```json
{
    "body": "Changed reviewer from **Florent Hivert, David Loeffler** to **Florent Hivert, David Loeffler, Karl-Dieter Crisman**",
    "created_at": "2012-05-25T00:17:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130340",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Florent Hivert, David Loeffler** to **Florent Hivert, David Loeffler, Karl-Dieter Crisman**



---

archive/issue_comments_130341.json:
```json
{
    "body": "Changed keywords from **** to **sd40.5**",
    "created_at": "2012-05-25T00:17:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130341",
    "user": "https://github.com/kcrisman"
}
```

Changed keywords from **** to **sd40.5**



---

archive/issue_comments_130342.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nNeeds work, as discussed in person here - 5.0 is okay, 5.1.beta0 is not.\n\n```\napplying 12039_doctests.patch\npatching file sage/categories/action.pxd\nHunk #1 FAILED at 0\n1 out of 2 hunks FAILED -- saving rejects to file sage/categories/action.pxd.rej\npatching file sage/categories/action.pyx\nHunk #1 FAILED at 6\nHunk #2 FAILED at 25\nHunk #3 FAILED at 41\nHunk #4 succeeded at 107 with fuzz 1 (offset 35 lines).\nHunk #5 FAILED at 119\nHunk #6 FAILED at 174\nHunk #10 FAILED at 391\n6 out of 11 hunks FAILED -- saving rejects to file sage/categories/action.pyx.rej\npatch failed, unable to continue (try -v)\npatch failed, rejects left in working dir\nerrors during apply, please fix and refresh 12039_doctests.patch\n```",
    "created_at": "2012-05-25T00:17:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130342",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:13'>Comment 13:</a>
Needs work, as discussed in person here - 5.0 is okay, 5.1.beta0 is not.

```
applying 12039_doctests.patch
patching file sage/categories/action.pxd
Hunk #1 FAILED at 0
1 out of 2 hunks FAILED -- saving rejects to file sage/categories/action.pxd.rej
patching file sage/categories/action.pyx
Hunk #1 FAILED at 6
Hunk #2 FAILED at 25
Hunk #3 FAILED at 41
Hunk #4 succeeded at 107 with fuzz 1 (offset 35 lines).
Hunk #5 FAILED at 119
Hunk #6 FAILED at 174
Hunk #10 FAILED at 391
6 out of 11 hunks FAILED -- saving rejects to file sage/categories/action.pyx.rej
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh 12039_doctests.patch
```



---

archive/issue_comments_130343.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nI guess the problem is that #715 was merged in 5.1.beta0\nThis ticket also brings notable changes to the Action class and adds a bunch of doc to the file, so rebasing this ticket might be non trivial (from what I've seen of the patches, the changes are even more intrusive than what was done in #715).",
    "created_at": "2012-06-11T09:11:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12039#issuecomment-130343",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:14'>Comment 14:</a>
I guess the problem is that #715 was merged in 5.1.beta0
This ticket also brings notable changes to the Action class and adds a bunch of doc to the file, so rebasing this ticket might be non trivial (from what I've seen of the patches, the changes are even more intrusive than what was done in #715).



---

archive/issue_events_143910.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-12-13T02:42:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143910"
}
```



---

archive/issue_events_143911.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-12-13T02:42:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12039#event-143911"
}
```
