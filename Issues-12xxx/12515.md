# Issue 12515: Upgrade mpc and make it a standard package

archive/issues_012343.json:
```json
{
    "assignees": [],
    "body": "Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).\n\n---\n\nI added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` (which causes build failures on some systems due to an outdated `glibc`).  Reported and fixed upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)\n\n---\n\n**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg)\n\n**apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.\n\n**apply** [attachment: 12515_mpc_standard.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz) and [attachment: 12515_norm.patch](https://github.com/sagemath/sage/files/ticket12515/12515_norm.patch.gz) to the Sage library.\n\n\nDepends on #10492\nDepends on #12223\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\nCC:  @jpflori @nexttime\n\nComponent: **packages: standard**\n\nAuthor: **Jeroen Demeyer**\n\nReviewer: **Jean-Pierre Flori, Volker Braun**\n\nMerged: **sage-5.0.beta13**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12515_\n\n",
    "closed_at": "2012-04-04T19:28:13Z",
    "created_at": "2012-02-15T13:18:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade mpc and make it a standard package",
    "type": "issue",
    "updated_at": "2015-04-19T13:07:55Z",
    "url": "https://github.com/sagemath/sage/issues/12515",
    "user": "https://github.com/jdemeyer"
}
```
Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).

---

I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` (which causes build failures on some systems due to an outdated `glibc`).  Reported and fixed upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)

---

**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg)

**apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.

**apply** [attachment: 12515_mpc_standard.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz) and [attachment: 12515_norm.patch](https://github.com/sagemath/sage/files/ticket12515/12515_norm.patch.gz) to the Sage library.


Depends on #10492
Depends on #12223

Upstream: **Fixed upstream, but not in a stable release.**

CC:  @jpflori @nexttime

Component: **packages: standard**

Author: **Jeroen Demeyer**

Reviewer: **Jean-Pierre Flori, Volker Braun**

Merged: **sage-5.0.beta13**

_Issue created by migration from https://trac.sagemath.org/ticket/12515_





---

archive/issue_events_169656.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-15T13:18:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169656"
}
```



---

archive/issue_events_169657.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-15T13:18:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169657"
}
```



---

archive/issue_events_169658.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-15T13:18:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169658"
}
```



---

archive/issue_events_169659.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-15T13:18:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169659"
}
```



---

archive/issue_comments_138372.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2012-02-15T14:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138372",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_events_169660.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-15T14:54:49Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "title_is": "Upgrade mpc and make it a standard package",
    "title_was": "Make mpc a standard package",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169660"
}
```



---

archive/issue_comments_138373.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.\n+\n+I also upgraded `mpc` to version 0.9: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg)\n``````\n",
    "created_at": "2012-02-15T14:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138373",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.
+
+I also upgraded `mpc` to version 0.9: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg)
``````




---

archive/issue_comments_138374.json:
```json
{
    "body": "Dependencies: **#10492**",
    "created_at": "2012-02-15T16:00:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138374",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#10492**



---

archive/issue_comments_138375.json:
```json
{
    "body": "Changed dependencies from **#10492** to **#10492, #12223**",
    "created_at": "2012-02-15T16:00:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138375",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#10492** to **#10492, #12223**



---

archive/issue_comments_138376.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n-Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.\n+Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to version 0.9.\n \n-I also upgraded `mpc` to version 0.9: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg)\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg)\n+\n+**apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.\n+\n+**apply** [attachment: 12515_mpc_standard.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz) to the Sage library.\n``````\n",
    "created_at": "2012-02-15T16:28:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138376",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
-Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.
+Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to version 0.9.
 
-I also upgraded `mpc` to version 0.9: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg)
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg)
+
+**apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.
+
+**apply** [attachment: 12515_mpc_standard.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz) to the Sage library.
``````




---

archive/issue_comments_138377.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI've tested just the patch from #12223, the\u00a0[12515_mpc_standard](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz)\u00a0patch and the install of\u00a0[mpc-0.9.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg)\u00a0on top of sage-5.0.beta4. I have one failure:\n\n```\nsage -t -long  -force_lib devel/sage-main/sage/rings/complex_mpc.pyx\n**********************************************************************\nFile \"/storage/sage/sage-5.0.beta4/devel/sage-main/sage/rings/complex_mpc.pyx\", line 559:\n    sage: MPComplexField(10).random_element()\nExpected:\n    0.12 + 0.23*I\nGot:\n    0.75 + 0.12*I\n**********************************************************************\n```\nThe relevant portions of the test from complex_mpc.pyx are:\n\n```\nsage: from sage.rings.complex_mpc import MPComplexField\nsage: MPComplexField(100).random_element(-5, 10)\nsage: MPComplexField(10).random_element()\n```\nwhich, from the sage prompt give results that are all over the place, although there is only the indicated failure when the test is repeatedly run individually. I'm not sure how one really knows what the \"expected\" result really is? Now this was on x86.",
    "created_at": "2012-02-16T01:54:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138377",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:5" align="right">comment:5</div>

I've tested just the patch from #12223, the [12515_mpc_standard](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz) patch and the install of [mpc-0.9.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg) on top of sage-5.0.beta4. I have one failure:

```
sage -t -long  -force_lib devel/sage-main/sage/rings/complex_mpc.pyx
**********************************************************************
File "/storage/sage/sage-5.0.beta4/devel/sage-main/sage/rings/complex_mpc.pyx", line 559:
    sage: MPComplexField(10).random_element()
Expected:
    0.12 + 0.23*I
Got:
    0.75 + 0.12*I
**********************************************************************
```
The relevant portions of the test from complex_mpc.pyx are:

```
sage: from sage.rings.complex_mpc import MPComplexField
sage: MPComplexField(100).random_element(-5, 10)
sage: MPComplexField(10).random_element()
```
which, from the sage prompt give results that are all over the place, although there is only the indicated failure when the test is repeatedly run individually. I'm not sure how one really knows what the "expected" result really is? Now this was on x86.



---

archive/issue_comments_138378.json:
```json
{
    "body": "Attachment: **[12515_mpc_sage_root.patch.gz](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz)**",
    "created_at": "2012-02-16T09:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138378",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[12515_mpc_sage_root.patch.gz](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz)**



---

archive/issue_comments_138379.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAttachment: **[12515_mpc_standard.patch.gz](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz)**\n\nI marked those tests \"# random\" since they obviously are...",
    "created_at": "2012-02-16T09:37:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138379",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Attachment: **[12515_mpc_standard.patch.gz](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz)**

I marked those tests "# random" since they obviously are...



---

archive/issue_comments_138380.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n-Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to version 0.9.\n+Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).\n \n-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg)\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1123.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1123.spkg)\n \n **apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.\n \n``````\n",
    "created_at": "2012-02-17T22:57:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138380",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
-Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to version 0.9.
+Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).
 
-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-0.9.spkg)
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1123.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1123.spkg)
 
 **apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.
 
``````




---

archive/issue_comments_138381.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI just completed a build from scratch of 5.0.beta4 with mpc-0.9 just prior to the spkg upgrade. Argh ... So I patched the sage and sage_scripts spkgs before the build. SAGE_ROOT was then patched before the make. Everything from #10492 and #12223 and this ticket was included. Everything built (including mpc) and the tests passed. The new spkg (mpc-1.0.0dev1123) was installed with sage -f and all the tests under sage/rings passed - I only did these again. A positive review here, although I don't see that that's the next action?",
    "created_at": "2012-02-17T23:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138381",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:8" align="right">comment:8</div>

I just completed a build from scratch of 5.0.beta4 with mpc-0.9 just prior to the spkg upgrade. Argh ... So I patched the sage and sage_scripts spkgs before the build. SAGE_ROOT was then patched before the make. Everything from #10492 and #12223 and this ticket was included. Everything built (including mpc) and the tests passed. The new spkg (mpc-1.0.0dev1123) was installed with sage -f and all the tests under sage/rings passed - I only did these again. A positive review here, although I don't see that that's the next action?



---

archive/issue_comments_138382.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThere are still some portability problems that I'm discussing with upstream.  It doesn't build on Solaris with GCC (it does build with Sun's compiler).",
    "created_at": "2012-02-18T09:19:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138382",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

There are still some portability problems that I'm discussing with upstream.  It doesn't build on Solaris with GCC (it does build with Sun's compiler).



---

archive/issue_comments_138383.json:
```json
{
    "body": "Attachment: **[12515_norm.patch.gz](https://github.com/sagemath/sage/files/ticket12515/12515_norm.patch.gz)**",
    "created_at": "2012-02-20T12:37:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138383",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[12515_norm.patch.gz](https://github.com/sagemath/sage/files/ticket12515/12515_norm.patch.gz)**



---

archive/issue_comments_138384.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,4 @@\n \n **apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.\n \n-**apply** [attachment: 12515_mpc_standard.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz) to the Sage library.\n+**apply** [attachment: 12515_mpc_standard.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz) and [attachment: 12515_norm.patch](https://github.com/sagemath/sage/files/ticket12515/12515_norm.patch.gz) to the Sage library.\n``````\n",
    "created_at": "2012-02-20T12:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138384",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,4 @@
 
 **apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.
 
-**apply** [attachment: 12515_mpc_standard.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz) to the Sage library.
+**apply** [attachment: 12515_mpc_standard.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz) and [attachment: 12515_norm.patch](https://github.com/sagemath/sage/files/ticket12515/12515_norm.patch.gz) to the Sage library.
``````




---

archive/issue_comments_138385.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).\n \n-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1123.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1123.spkg)\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.spkg)\n \n **apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.\n \n``````\n",
    "created_at": "2012-02-22T13:11:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138385",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).
 
-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1123.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1123.spkg)
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.spkg)
 
 **apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.
 
``````




---

archive/issue_events_169661.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-22T13:18:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169661"
}
```



---

archive/issue_comments_138386.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIssues seem to be fixed in the latest svn version, needs review.",
    "created_at": "2012-02-22T13:18:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138386",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Issues seem to be fixed in the latest svn version, needs review.



---

archive/issue_comments_138387.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nA fresh build of 5.0.beta5 with the patches from this ticket and #10492. I have the failure\n\n```\n\nsage -t -long  -force_lib devel/sage-main/sage/geometry/fan.py\n**********************************************************************\nFile \"/storage/sage/sage-5.0.beta5/devel/sage-main/sage/geometry/fan.py\", line 2779:\n    sage: fan.complex().homology()\nExpected:\n    {0: 0, 1: 0, 2: Z x Z, 3: 0}\nGot:\n    {2: Z x Z, 3: 0}\n**********************************************************************\nFile \"/storage/sage/sage-5.0.beta5/devel/sage-main/sage/geometry/fan.py\", line 2783:\n    sage: fan.complex().homology()\nExpected:\n    {0: 0, 1: 0, 2: Z, 3: 0}\nGot:\n    {2: Z, 3: 0}\n**********************************************************************\n```\npresumably because of #11384. The results for\u00a0#11384\u00a0were positive, so I'm wondering if this ticket is interacting with it?",
    "created_at": "2012-02-23T23:19:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138387",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:13" align="right">comment:13</div>

A fresh build of 5.0.beta5 with the patches from this ticket and #10492. I have the failure

```

sage -t -long  -force_lib devel/sage-main/sage/geometry/fan.py
**********************************************************************
File "/storage/sage/sage-5.0.beta5/devel/sage-main/sage/geometry/fan.py", line 2779:
    sage: fan.complex().homology()
Expected:
    {0: 0, 1: 0, 2: Z x Z, 3: 0}
Got:
    {2: Z x Z, 3: 0}
**********************************************************************
File "/storage/sage/sage-5.0.beta5/devel/sage-main/sage/geometry/fan.py", line 2783:
    sage: fan.complex().homology()
Expected:
    {0: 0, 1: 0, 2: Z, 3: 0}
Got:
    {2: Z, 3: 0}
**********************************************************************
```
presumably because of #11384. The results for #11384 were positive, so I'm wondering if this ticket is interacting with it?



---

archive/issue_comments_138388.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@strogdon](#comment%3A13):\n> The results for\u00a0#11384\u00a0were positive, so I'm wondering if this ticket is interacting with it?\n\nThat would be quite unlikely.  Try removing just the patch from this ticket and test `sage/geometry/fan.py` again.",
    "created_at": "2012-02-24T08:00:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138388",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@strogdon](#comment%3A13):
> The results for #11384 were positive, so I'm wondering if this ticket is interacting with it?

That would be quite unlikely.  Try removing just the patch from this ticket and test `sage/geometry/fan.py` again.



---

archive/issue_comments_138389.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n#11805 can be closed as won't fix/duplicate once this gets merged.\n\nAlso we might think of using mpc for our default complex numbers representation, although that's a different question.",
    "created_at": "2012-02-24T10:58:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138389",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:15" align="right">comment:15</div>

#11805 can be closed as won't fix/duplicate once this gets merged.

Also we might think of using mpc for our default complex numbers representation, although that's a different question.



---

archive/issue_comments_138390.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAbout the CFLAGS, CC stuff you could add some logic as in the mpir package.\n\nThis would let the user break its system if he really wants to.\n\nYou could also add the \"SAGE... undefined on top of spkg-check.\n\nIf at some point we allow to run the testsuite without rebuilding the package, it would avoid another trivial new spkg update.\n\nNot sure why you removed the error message in spg-check.\n\nOk, MPC will already complain about failing, but it will also do so while building, configuring and so on, won't it?",
    "created_at": "2012-02-24T11:09:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138390",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:16" align="right">comment:16</div>

About the CFLAGS, CC stuff you could add some logic as in the mpir package.

This would let the user break its system if he really wants to.

You could also add the "SAGE... undefined on top of spkg-check.

If at some point we allow to run the testsuite without rebuilding the package, it would avoid another trivial new spkg update.

Not sure why you removed the error message in spg-check.

Ok, MPC will already complain about failing, but it will also do so while building, configuring and so on, won't it?



---

archive/issue_comments_138391.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@jpflori](#comment%3A16):\n> About the CFLAGS, CC stuff you could add some logic as in the mpir package.\n\nI see little need for this.  Since mpc will use the same flags as mpir by default, why copy all that logic to mpc?",
    "created_at": "2012-02-24T14:54:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138391",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@jpflori](#comment%3A16):
> About the CFLAGS, CC stuff you could add some logic as in the mpir package.

I see little need for this.  Since mpc will use the same flags as mpir by default, why copy all that logic to mpc?



---

archive/issue_comments_138392.json:
```json
{
    "body": "Diff for the mpc spkg (w.r.t. the latest optional mpc spkg), for review only",
    "created_at": "2012-02-24T14:57:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138392",
    "user": "https://github.com/jdemeyer"
}
```

Diff for the mpc spkg (w.r.t. the latest optional mpc spkg), for review only



---

archive/issue_comments_138393.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nAttachment: **[mpc-1.0.0dev1126.diff.gz](https://github.com/sagemath/sage/files/ticket12515/mpc-1.0.0dev1126.diff.gz)**\n\nReplying to [@jpflori](#comment%3A16):\n> You could also add the \"SAGE... undefined on top of spkg-check.\n\nDone.\n\n> Not sure why you removed the error message in spg-check.\n\nI thought it was superfluous, but it doesn't hurt.  So I put it back.",
    "created_at": "2012-02-24T14:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138393",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Attachment: **[mpc-1.0.0dev1126.diff.gz](https://github.com/sagemath/sage/files/ticket12515/mpc-1.0.0dev1126.diff.gz)**

Replying to [@jpflori](#comment%3A16):
> You could also add the "SAGE... undefined on top of spkg-check.

Done.

> Not sure why you removed the error message in spg-check.

I thought it was superfluous, but it doesn't hurt.  So I put it back.



---

archive/issue_comments_138394.json:
```json
{
    "body": "Reviewer: **Jean-Pierre Flori**",
    "created_at": "2012-02-24T15:06:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138394",
    "user": "https://github.com/jpflori"
}
```

Reviewer: **Jean-Pierre Flori**



---

archive/issue_comments_138395.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nFor the CC, CFLAGS stuff we could imagine that someone wants to test  MPC with different flags from mpir. You could argue that if that's the  case, it should be done outside Sage, or that the user is smart enough  to modify the spkg. Anyhow, I agree that this should not prevent  positive review.\n\nI cannot test the spkg on exotic architectures, i.e. mainly Solaris, so that I don't put it as positive review.\n\nOtherwise the package looks fine for me now, so  Jeroen, if you tested it on such architectures, you can go ahead and do it.",
    "created_at": "2012-02-24T15:06:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138395",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:19" align="right">comment:19</div>

For the CC, CFLAGS stuff we could imagine that someone wants to test  MPC with different flags from mpir. You could argue that if that's the  case, it should be done outside Sage, or that the user is smart enough  to modify the spkg. Anyhow, I agree that this should not prevent  positive review.

I cannot test the spkg on exotic architectures, i.e. mainly Solaris, so that I don't put it as positive review.

Otherwise the package looks fine for me now, so  Jeroen, if you tested it on such architectures, you can go ahead and do it.



---

archive/issue_events_169662.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-24T15:12:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169662"
}
```



---

archive/issue_events_169663.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-24T15:12:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169663"
}
```



---

archive/issue_comments_138396.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jpflori](#comment%3A19):\n> I cannot test the spkg on exotic architectures, i.e. mainly Solaris, so that I don't put it as positive review.\n\nJean-Pierre, it is never a requirement to test spkgs on \"exotic architectures\" in order to give positive review to a ticket (unless the ticket is specifically about fixing something on such an architecture).  If there are problems with building a spkg, those will be discovered when the build is tested on the buildbots.  I think reviewing should be mostly about human eyes looking at the patch, as that part can't be automated.",
    "created_at": "2012-02-24T15:12:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138396",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jpflori](#comment%3A19):
> I cannot test the spkg on exotic architectures, i.e. mainly Solaris, so that I don't put it as positive review.

Jean-Pierre, it is never a requirement to test spkgs on "exotic architectures" in order to give positive review to a ticket (unless the ticket is specifically about fixing something on such an architecture).  If there are problems with building a spkg, those will be discovered when the build is tested on the buildbots.  I think reviewing should be mostly about human eyes looking at the patch, as that part can't be automated.



---

archive/issue_events_169664.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-24T17:56:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169664"
}
```



---

archive/issue_events_169665.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-24T17:56:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169665"
}
```



---

archive/issue_comments_138397.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@jdemeyer](#comment%3A14):\n\n> Replying to [@strogdon](#comment%3A13):\n> > The results for #11384 were positive, so I'm wondering if this ticket is interacting with it?\n\n> That would be quite unlikely.  Try removing just the patch from this ticket and test `sage/geometry/fan.py` again.\n\nSorry for the delay. I had other stuff applied on top of mpc (twisted, jmol, flask) and it wasn't convenient to remove things. I didn't think it was the patches, but perhaps the mpc spkg. A build of just 5.0.beta5 with nothing else still produces the failure. So that belongs somewhere, but not this ticket.",
    "created_at": "2012-02-24T20:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138397",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@jdemeyer](#comment%3A14):

> Replying to [@strogdon](#comment%3A13):
> > The results for #11384 were positive, so I'm wondering if this ticket is interacting with it?

> That would be quite unlikely.  Try removing just the patch from this ticket and test `sage/geometry/fan.py` again.

Sorry for the delay. I had other stuff applied on top of mpc (twisted, jmol, flask) and it wasn't convenient to remove things. I didn't think it was the patches, but perhaps the mpc spkg. A build of just 5.0.beta5 with nothing else still produces the failure. So that belongs somewhere, but not this ticket.



---

archive/issue_comments_138398.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI tried to apply 12515_mpc_sage_root.patch to the root directory, but it failed.\n\nI started with sage-5.0.beta7 and have\n\n```\nsimon@linux-sqwp:~/SAGE/sage-5.0.beta7> hg qpush\nWende 12515_mpc_sage_root.patch an\nWende Patch auf Datei spkg/install an\nFEHLSCHLAG von Teilst\u00fcck #1 in Zeile 179\n1 von 1 Teilst\u00fccken sind FEHLGESCHLAGEN -- speichere Ausschuss in Datei spkg/install.rej\nPatch schlug fehl und Fortsetzung unm\u00f6glich (versuche -v)\nPatch schlug fehl, Fehlerabschnitte noch im Arbeitsverzeichnis\nFehler beim Anwenden. Bitte beheben und 12515_mpc_sage_root.patch aktualisieren\nsimon@linux-sqwp:~/SAGE/sage-5.0.beta7> hg qapplied \n12602_spkg_download.patch\n10492_deps_to_Makefile.patch\n12515_mpc_sage_root.patch\n```\nIndeed, the spkg/install file looks totally different to what is expected in the patch:\n\n```\n...\nMAXIMA=`$newest maxima`\nexport MAXIMA\n\nMERCURIAL=`$newest mercurial`\nexport MERCURIAL\n\nMPFI=`$newest mpfi`\nexport MPFI\n\nMOIN=`$newest moin`\nexport MOIN\n\nMPFR=`$newest mpfr`\nexport MPFR\n\nMPMATH=`$newest mpmath`\nexport MPMATH\n\nNETWORKX=`$newest networkx`\nexport NETWORKX\n\nNUMPY=`$newest numpy`\nexport NUMPY\n...\n```\n\nIs there a dependency that is not stated here?",
    "created_at": "2012-03-13T15:10:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138398",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:23" align="right">comment:23</div>

I tried to apply 12515_mpc_sage_root.patch to the root directory, but it failed.

I started with sage-5.0.beta7 and have

```
simon@linux-sqwp:~/SAGE/sage-5.0.beta7> hg qpush
Wende 12515_mpc_sage_root.patch an
Wende Patch auf Datei spkg/install an
FEHLSCHLAG von Teilstück #1 in Zeile 179
1 von 1 Teilstücken sind FEHLGESCHLAGEN -- speichere Ausschuss in Datei spkg/install.rej
Patch schlug fehl und Fortsetzung unmöglich (versuche -v)
Patch schlug fehl, Fehlerabschnitte noch im Arbeitsverzeichnis
Fehler beim Anwenden. Bitte beheben und 12515_mpc_sage_root.patch aktualisieren
simon@linux-sqwp:~/SAGE/sage-5.0.beta7> hg qapplied 
12602_spkg_download.patch
10492_deps_to_Makefile.patch
12515_mpc_sage_root.patch
```
Indeed, the spkg/install file looks totally different to what is expected in the patch:

```
...
MAXIMA=`$newest maxima`
export MAXIMA

MERCURIAL=`$newest mercurial`
export MERCURIAL

MPFI=`$newest mpfi`
export MPFI

MOIN=`$newest moin`
export MOIN

MPFR=`$newest mpfr`
export MPFR

MPMATH=`$newest mpmath`
export MPMATH

NETWORKX=`$newest networkx`
export NETWORKX

NUMPY=`$newest numpy`
export NUMPY
...
```

Is there a dependency that is not stated here?



---

archive/issue_comments_138399.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nOops!! Me stupid!! I had a totally wrong version of the patch from #10429 (namely the attachment, not the raw attachment.\n\nCheers,\nSimon",
    "created_at": "2012-03-13T15:13:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138399",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:24" align="right">comment:24</div>

Oops!! Me stupid!! I had a totally wrong version of the patch from #10429 (namely the attachment, not the raw attachment.

Cheers,
Simon



---

archive/issue_comments_138400.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThis doesn't compile on rosemary (RHEL 5.6 x86_64).  I'm investigating further.",
    "created_at": "2012-03-22T16:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138400",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

This doesn't compile on rosemary (RHEL 5.6 x86_64).  I'm investigating further.



---

archive/issue_events_169666.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-22T16:36:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169666"
}
```



---

archive/issue_events_169667.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-22T16:36:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169667"
}
```



---

archive/issue_comments_138401.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI'm having problems on the skynet machines cleo and iras (ia64), also.  Using the full tarball from #12369, I'm getting failures with `SAGE_INSTALL_GCC=yes` and with it unset.",
    "created_at": "2012-03-22T22:40:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138401",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:26" align="right">comment:26</div>

I'm having problems on the skynet machines cleo and iras (ia64), also.  Using the full tarball from #12369, I'm getting failures with `SAGE_INSTALL_GCC=yes` and with it unset.



---

archive/issue_comments_138402.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI discovered that *removing* the flags `-std=c99 -pedantic` makes the problem disappear.  I cannot explain why though.",
    "created_at": "2012-03-23T07:57:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138402",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

I discovered that *removing* the flags `-std=c99 -pedantic` makes the problem disappear.  I cannot explain why though.



---

archive/issue_comments_138403.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).\n \n-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.spkg)\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p0.spkg)\n \n **apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.\n \n``````\n",
    "created_at": "2012-03-23T08:36:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138403",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).
 
-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.spkg)
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p0.spkg)
 
 **apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.
 
``````




---

archive/issue_events_169668.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-23T08:36:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169668"
}
```



---

archive/issue_events_169669.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-23T08:36:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169669"
}
```



---

archive/issue_comments_138404.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nNew spkg removes the -std=c99 -pedantic compiler flags.  I really cannot explain why it solves the problem though, especially since it seems to be a link issue:\n\n```\n/bin/sh ../libtool --tag=CC   --mode=link gcc  -O2 -D_FORTIFY_SOURCE=2 -g -std=c99 -pedantic -Wno-long-long -Wall -Wextra -Wdeclaration-af\nter-statement -Wundef -Wshadow -Wstrict-prototypes -Wmissing-prototypes -Wno-unused-value  -version-info 2:0:0 -L/home/buildbot/build/sage\n/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib -L/home/buildbot/build/sage/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib  -o l\nibmpc.la -rpath /home/buildbot/build/sage/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib abs.lo acos.lo acosh.lo add.lo add_fr.lo add\n_si.lo add_ui.lo arg.lo asin.lo asinh.lo atan.lo atanh.lo clear.lo cmp.lo cmp_si_si.lo conj.lo cos.lo cosh.lo div_2exp.lo div.lo div_fr.lo\n div_ui.lo exp.lo fma.lo fr_div.lo fr_sub.lo get_prec2.lo get_prec.lo get_version.lo get_x.lo imag.lo init2.lo init3.lo inp_str.lo log.lo\nmem.lo mul_2exp.lo mul.lo mul_fr.lo mul_i.lo mul_si.lo mul_ui.lo neg.lo norm.lo out_str.lo pow.lo pow_fr.lo pow_ld.lo pow_d.lo pow_si.lo p\now_ui.lo pow_z.lo proj.lo real.lo urandom.lo set.lo set_prec.lo set_str.lo set_x.lo set_x_x.lo sin.lo sin_cos.lo sinh.lo sqr.lo sqrt.lo st\nrtoc.lo sub.lo sub_fr.lo sub_ui.lo swap.lo tan.lo tanh.lo uceil_log2.lo ui_div.lo ui_ui_sub.lo  -lmpfr -lgmp -lm\nlibtool: link: gcc -shared  -fPIC -DPIC  .libs/abs.o .libs/acos.o .libs/acosh.o .libs/add.o .libs/add_fr.o .libs/add_si.o .libs/add_ui.o .\nlibs/arg.o .libs/asin.o .libs/asinh.o .libs/atan.o .libs/atanh.o .libs/clear.o .libs/cmp.o .libs/cmp_si_si.o .libs/conj.o .libs/cos.o .lib\ns/cosh.o .libs/div_2exp.o .libs/div.o .libs/div_fr.o .libs/div_ui.o .libs/exp.o .libs/fma.o .libs/fr_div.o .libs/fr_sub.o .libs/get_prec2.\no .libs/get_prec.o .libs/get_version.o .libs/get_x.o .libs/imag.o .libs/init2.o .libs/init3.o .libs/inp_str.o .libs/log.o .libs/mem.o .lib\ns/mul_2exp.o .libs/mul.o .libs/mul_fr.o .libs/mul_i.o .libs/mul_si.o .libs/mul_ui.o .libs/neg.o .libs/norm.o .libs/out_str.o .libs/pow.o .\nlibs/pow_fr.o .libs/pow_ld.o .libs/pow_d.o .libs/pow_si.o .libs/pow_ui.o .libs/pow_z.o .libs/proj.o .libs/real.o .libs/urandom.o .libs/set\n.o .libs/set_prec.o .libs/set_str.o .libs/set_x.o .libs/set_x_x.o .libs/sin.o .libs/sin_cos.o .libs/sinh.o .libs/sqr.o .libs/sqrt.o .libs/\nstrtoc.o .libs/sub.o .libs/sub_fr.o .libs/sub_ui.o .libs/swap.o .libs/tan.o .libs/tanh.o .libs/uceil_log2.o .libs/ui_div.o .libs/ui_ui_sub\n.o   -Wl,-rpath -Wl,/home/buildbot/build/sage/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib -Wl,-rpath -Wl,/home/buildbot/build/sage\n/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib -L/home/buildbot/build/sage/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib /home\n/buildbot/build/sage/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib/libmpfr.so /home/buildbot/build/sage/cleo-1/cleo_full/build/sage-\n5.0.beta8-gcc/local/lib/libgmp.so -lm  -O2   -Wl,-soname -Wl,libmpc.so.2 -o .libs/libmpc.so.2.0.0\n.libs/acos.o: In function `realpath':\n/usr/include/bits/stdlib.h:33: multiple definition of `realpath'\n.libs/abs.o:/usr/include/bits/stdlib.h:33: first defined here\n.libs/acos.o: In function `ptsname_r':\n/usr/include/bits/stdlib.h:49: multiple definition of `ptsname_r'\n.libs/abs.o:/usr/include/bits/stdlib.h:49: first defined here\n.libs/acos.o: In function `wctomb':\n/usr/include/bits/stdlib.h:64: multiple definition of `wctomb'\n.libs/abs.o:/usr/include/bits/stdlib.h:64: first defined here\n.libs/acos.o: In function `mbstowcs':\n/usr/include/bits/stdlib.h:89: multiple definition of `mbstowcs'\n.libs/abs.o:/usr/include/bits/stdlib.h:89: first defined here\n.libs/acos.o: In function `wcstombs':\n/usr/include/bits/stdlib.h:110: multiple definition of `wcstombs'\n.libs/abs.o:/usr/include/bits/stdlib.h:110: first defined here\n[...]\n```\nWhy does C99 code get linked differently from C89 code?",
    "created_at": "2012-03-23T08:36:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138404",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

New spkg removes the -std=c99 -pedantic compiler flags.  I really cannot explain why it solves the problem though, especially since it seems to be a link issue:

```
/bin/sh ../libtool --tag=CC   --mode=link gcc  -O2 -D_FORTIFY_SOURCE=2 -g -std=c99 -pedantic -Wno-long-long -Wall -Wextra -Wdeclaration-af
ter-statement -Wundef -Wshadow -Wstrict-prototypes -Wmissing-prototypes -Wno-unused-value  -version-info 2:0:0 -L/home/buildbot/build/sage
/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib -L/home/buildbot/build/sage/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib  -o l
ibmpc.la -rpath /home/buildbot/build/sage/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib abs.lo acos.lo acosh.lo add.lo add_fr.lo add
_si.lo add_ui.lo arg.lo asin.lo asinh.lo atan.lo atanh.lo clear.lo cmp.lo cmp_si_si.lo conj.lo cos.lo cosh.lo div_2exp.lo div.lo div_fr.lo
 div_ui.lo exp.lo fma.lo fr_div.lo fr_sub.lo get_prec2.lo get_prec.lo get_version.lo get_x.lo imag.lo init2.lo init3.lo inp_str.lo log.lo
mem.lo mul_2exp.lo mul.lo mul_fr.lo mul_i.lo mul_si.lo mul_ui.lo neg.lo norm.lo out_str.lo pow.lo pow_fr.lo pow_ld.lo pow_d.lo pow_si.lo p
ow_ui.lo pow_z.lo proj.lo real.lo urandom.lo set.lo set_prec.lo set_str.lo set_x.lo set_x_x.lo sin.lo sin_cos.lo sinh.lo sqr.lo sqrt.lo st
rtoc.lo sub.lo sub_fr.lo sub_ui.lo swap.lo tan.lo tanh.lo uceil_log2.lo ui_div.lo ui_ui_sub.lo  -lmpfr -lgmp -lm
libtool: link: gcc -shared  -fPIC -DPIC  .libs/abs.o .libs/acos.o .libs/acosh.o .libs/add.o .libs/add_fr.o .libs/add_si.o .libs/add_ui.o .
libs/arg.o .libs/asin.o .libs/asinh.o .libs/atan.o .libs/atanh.o .libs/clear.o .libs/cmp.o .libs/cmp_si_si.o .libs/conj.o .libs/cos.o .lib
s/cosh.o .libs/div_2exp.o .libs/div.o .libs/div_fr.o .libs/div_ui.o .libs/exp.o .libs/fma.o .libs/fr_div.o .libs/fr_sub.o .libs/get_prec2.
o .libs/get_prec.o .libs/get_version.o .libs/get_x.o .libs/imag.o .libs/init2.o .libs/init3.o .libs/inp_str.o .libs/log.o .libs/mem.o .lib
s/mul_2exp.o .libs/mul.o .libs/mul_fr.o .libs/mul_i.o .libs/mul_si.o .libs/mul_ui.o .libs/neg.o .libs/norm.o .libs/out_str.o .libs/pow.o .
libs/pow_fr.o .libs/pow_ld.o .libs/pow_d.o .libs/pow_si.o .libs/pow_ui.o .libs/pow_z.o .libs/proj.o .libs/real.o .libs/urandom.o .libs/set
.o .libs/set_prec.o .libs/set_str.o .libs/set_x.o .libs/set_x_x.o .libs/sin.o .libs/sin_cos.o .libs/sinh.o .libs/sqr.o .libs/sqrt.o .libs/
strtoc.o .libs/sub.o .libs/sub_fr.o .libs/sub_ui.o .libs/swap.o .libs/tan.o .libs/tanh.o .libs/uceil_log2.o .libs/ui_div.o .libs/ui_ui_sub
.o   -Wl,-rpath -Wl,/home/buildbot/build/sage/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib -Wl,-rpath -Wl,/home/buildbot/build/sage
/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib -L/home/buildbot/build/sage/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib /home
/buildbot/build/sage/cleo-1/cleo_full/build/sage-5.0.beta8-gcc/local/lib/libmpfr.so /home/buildbot/build/sage/cleo-1/cleo_full/build/sage-
5.0.beta8-gcc/local/lib/libgmp.so -lm  -O2   -Wl,-soname -Wl,libmpc.so.2 -o .libs/libmpc.so.2.0.0
.libs/acos.o: In function `realpath':
/usr/include/bits/stdlib.h:33: multiple definition of `realpath'
.libs/abs.o:/usr/include/bits/stdlib.h:33: first defined here
.libs/acos.o: In function `ptsname_r':
/usr/include/bits/stdlib.h:49: multiple definition of `ptsname_r'
.libs/abs.o:/usr/include/bits/stdlib.h:49: first defined here
.libs/acos.o: In function `wctomb':
/usr/include/bits/stdlib.h:64: multiple definition of `wctomb'
.libs/abs.o:/usr/include/bits/stdlib.h:64: first defined here
.libs/acos.o: In function `mbstowcs':
/usr/include/bits/stdlib.h:89: multiple definition of `mbstowcs'
.libs/abs.o:/usr/include/bits/stdlib.h:89: first defined here
.libs/acos.o: In function `wcstombs':
/usr/include/bits/stdlib.h:110: multiple definition of `wcstombs'
.libs/abs.o:/usr/include/bits/stdlib.h:110: first defined here
[...]
```
Why does C99 code get linked differently from C89 code?



---

archive/issue_comments_138405.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nNew spkg compiles successfully on iras and rosemary.",
    "created_at": "2012-03-23T08:38:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138405",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

New spkg compiles successfully on iras and rosemary.



---

archive/issue_comments_138406.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nNew spkg compiles successfully on bsd.math (OS X 10.6) with\n\n```\ni686-apple-darwin10-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5666) (dot 3)\nCopyright (C) 2007 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n```\nand also with\n\n```\nApple clang version 1.7 (tags/Apple/clang-77) (based on LLVM 2.9svn)\nTarget: x86_64-apple-darwin10\nThread model: posix\n```",
    "created_at": "2012-03-23T10:31:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138406",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

New spkg compiles successfully on bsd.math (OS X 10.6) with

```
i686-apple-darwin10-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5666) (dot 3)
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
```
and also with

```
Apple clang version 1.7 (tags/Apple/clang-77) (based on LLVM 2.9svn)
Target: x86_64-apple-darwin10
Thread model: posix
```



---

archive/issue_comments_138407.json:
```json
{
    "body": "Upstream: **Reported upstream. Little or no feedback.**",
    "created_at": "2012-03-23T10:50:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138407",
    "user": "https://github.com/jdemeyer"
}
```

Upstream: **Reported upstream. Little or no feedback.**



---

archive/issue_comments_138408.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).\n+\n+I added one patch to remove the compiler flags `-std=c99 -pedantic` which cause build failures on some systems.  Reported upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)\n \n **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p0.spkg)\n \n``````\n",
    "created_at": "2012-03-23T10:50:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138408",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).
+
+I added one patch to remove the compiler flags `-std=c99 -pedantic` which cause build failures on some systems.  Reported upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)
 
 **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p0.spkg)
 
``````




---

archive/issue_comments_138409.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).\n \n-I added one patch to remove the compiler flags `-std=c99 -pedantic` which cause build failures on some systems.  Reported upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)\n+I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` which causes build failures on some systems.  Reported upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)\n \n-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p0.spkg)\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg)\n \n **apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.\n \n``````\n",
    "created_at": "2012-03-23T12:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138409",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
 Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).
 
-I added one patch to remove the compiler flags `-std=c99 -pedantic` which cause build failures on some systems.  Reported upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)
+I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` which causes build failures on some systems.  Reported upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)
 
-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p0.spkg)
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg)
 
 **apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.
 
``````




---

archive/issue_comments_138410.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nThe problem is really due to -D_FORTIFY_SOURCE=2.  Removed that flag instead.",
    "created_at": "2012-03-23T12:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138410",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

The problem is really due to -D_FORTIFY_SOURCE=2.  Removed that flag instead.



---

archive/issue_comments_138411.json:
```json
{
    "body": "Diff for mpc-1.0.0dev1126.p1.spkg, for review only",
    "created_at": "2012-03-23T12:16:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138411",
    "user": "https://github.com/jdemeyer"
}
```

Diff for mpc-1.0.0dev1126.p1.spkg, for review only



---

archive/issue_comments_138412.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nAttachment: **[mpc-1.0.0dev1126.p1.diff.gz](https://github.com/sagemath/sage/files/ticket12515/mpc-1.0.0dev1126.p1.diff.gz)**",
    "created_at": "2012-03-23T13:27:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138412",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

Attachment: **[mpc-1.0.0dev1126.p1.diff.gz](https://github.com/sagemath/sage/files/ticket12515/mpc-1.0.0dev1126.p1.diff.gz)**



---

archive/issue_comments_138413.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Little or no feedback.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2012-03-23T13:27:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138413",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Reported upstream. Little or no feedback.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_138414.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).\n \n-I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` which causes build failures on some systems.  Reported upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)\n+I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` which causes build failures on some systems due to an outdated `glibc`.  Reported and fixed upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)\n \n **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg)\n \n``````\n",
    "created_at": "2012-03-23T13:38:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138414",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).
 
-I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` which causes build failures on some systems.  Reported upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)
+I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` which causes build failures on some systems due to an outdated `glibc`.  Reported and fixed upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)
 
 **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg)
 
``````




---

archive/issue_comments_138415.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,16 @@\n Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).\n \n+---\n+\n I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` which causes build failures on some systems due to an outdated `glibc`.  Reported and fixed upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)\n+\n+**This is the only part which still needs review**: the spkg patch at [attachment: mpc-1.0.0dev1126.p1.diff](https://github.com/sagemath/sage/files/ticket12515/mpc-1.0.0dev1126.p1.diff.gz)\n+\n+---\n \n **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg)\n \n **apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.\n \n **apply** [attachment: 12515_mpc_standard.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz) and [attachment: 12515_norm.patch](https://github.com/sagemath/sage/files/ticket12515/12515_norm.patch.gz) to the Sage library.\n+\n``````\n",
    "created_at": "2012-03-27T08:15:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138415",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,16 @@
 Since `gcc-4.6.2` has `mpc` as dependency and since `mpc` could be useful for the rest of Sage, it would be good to include mpc as standard package.  There already is an optional `mpc` package.  I also upgraded `mpc` to the latest svn version (the latest stable version has various bugs in `./configure` causing for example failures on Solaris).
 
+---
+
 I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` which causes build failures on some systems due to an outdated `glibc`.  Reported and fixed upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)
+
+**This is the only part which still needs review**: the spkg patch at [attachment: mpc-1.0.0dev1126.p1.diff](https://github.com/sagemath/sage/files/ticket12515/mpc-1.0.0dev1126.p1.diff.gz)
+
+---
 
 **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/mpc-1.0.0dev1126.p1.spkg)
 
 **apply** [attachment: 12515_mpc_sage_root.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_sage_root.patch.gz) to the `SAGE_ROOT` repository.
 
 **apply** [attachment: 12515_mpc_standard.patch](https://github.com/sagemath/sage/files/ticket12515/12515_mpc_standard.patch.gz) and [attachment: 12515_norm.patch](https://github.com/sagemath/sage/files/ticket12515/12515_norm.patch.gz) to the Sage library.
+
``````




---

archive/issue_comments_138416.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n ---\n \n-I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` which causes build failures on some systems due to an outdated `glibc`.  Reported and fixed upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)\n+I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` (which causes build failures on some systems due to an outdated `glibc`).  Reported and fixed upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)\n \n **This is the only part which still needs review**: the spkg patch at [attachment: mpc-1.0.0dev1126.p1.diff](https://github.com/sagemath/sage/files/ticket12515/mpc-1.0.0dev1126.p1.diff.gz)\n \n``````\n",
    "created_at": "2012-03-27T08:20:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138416",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 ---
 
-I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` which causes build failures on some systems due to an outdated `glibc`.  Reported and fixed upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)
+I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` (which causes build failures on some systems due to an outdated `glibc`).  Reported and fixed upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)
 
 **This is the only part which still needs review**: the spkg patch at [attachment: mpc-1.0.0dev1126.p1.diff](https://github.com/sagemath/sage/files/ticket12515/mpc-1.0.0dev1126.p1.diff.gz)
 
``````




---

archive/issue_comments_138417.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nLooks good!",
    "created_at": "2012-03-27T11:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138417",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:37" align="right">comment:37</div>

Looks good!



---

archive/issue_comments_138418.json:
```json
{
    "body": "Changed reviewer from **Jean-Pierre Flori** to **Jean-Pierre Flori, Volker Braun**",
    "created_at": "2012-03-27T11:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138418",
    "user": "https://github.com/vbraun"
}
```

Changed reviewer from **Jean-Pierre Flori** to **Jean-Pierre Flori, Volker Braun**



---

archive/issue_events_169670.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-03-27T11:33:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169670"
}
```



---

archive/issue_events_169671.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-03-27T11:33:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169671"
}
```



---

archive/issue_comments_138419.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,8 +3,6 @@\n ---\n \n I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` (which causes build failures on some systems due to an outdated `glibc`).  Reported and fixed upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)\n-\n-**This is the only part which still needs review**: the spkg patch at [attachment: mpc-1.0.0dev1126.p1.diff](https://github.com/sagemath/sage/files/ticket12515/mpc-1.0.0dev1126.p1.diff.gz)\n \n ---\n \n``````\n",
    "created_at": "2012-03-27T16:00:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138419",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,8 +3,6 @@
 ---
 
 I added one patch to remove the compiler flag `-D_FORTIFY_SOURCE=2` (which causes build failures on some systems due to an outdated `glibc`).  Reported and fixed upstream: [https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070](https://gforge.inria.fr/tracker/index.php?func=detail&aid=14070)
-
-**This is the only part which still needs review**: the spkg patch at [attachment: mpc-1.0.0dev1126.p1.diff](https://github.com/sagemath/sage/files/ticket12515/mpc-1.0.0dev1126.p1.diff.gz)
 
 ---
 
``````




---

archive/issue_events_169672.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-04T19:28:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169672"
}
```



---

archive/issue_events_169673.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-04T19:28:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169673"
}
```



---

archive/issue_comments_138420.json:
```json
{
    "body": "Merged: **sage-5.0.beta13**",
    "created_at": "2012-04-04T19:28:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12515#issuecomment-138420",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.beta13**



---

archive/issue_events_169674.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-19T06:48:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169674"
}
```



---

archive/issue_events_169675.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-04-19T13:07:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12515",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12515#event-169675"
}
```
