# Issue 12579: Mechanism to skip self-tests (spkg-check) for certain packages

archive/issues_012407.json:
```json
{
    "body": "With the attached patch, if you set `SAGE_CHECK=yes` and `SAGE_CHECK_PACKAGES='!python,!cvxopt'` and then build Sage, it will run self-tests for all packages except python and cvxopt.  By default, `SAGE_CHECK_PACKAGES=!python`.\n\nThis sort of behavior can be useful with the current situation, in which python always fails self-tests (as far as I know), and a package like cvxopt fails them on OS X Lion.  So when I'm testing Sage with Lion, I could use `'!python,!cvxopt'` and easily run self-tests on all of the other packages. This should be viewed as merely a convenience \u2014 I hope that people straighten out Python's test suite in general and cvxopt on Lion \u2014 but it might be a useful option.\n\nApply\n\n- [attachment:trac_12579-sage-check.v3.patch] to the root repo.\n- [attachment:trac_12579-doc.v3.patch] to the Sage library\n\nAssignee: GeorgSWeber\n\nReviewer: Jeroen Demeyer\n\nAuthor: John Palmieri\n\nMerged: sage-5.0.beta7\n\nDependencies: #4949, #12479\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/12579\n\n",
    "closed_at": "2012-03-04T21:17:01Z",
    "created_at": "2012-02-24T06:34:18Z",
    "labels": [
        "component: build",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Mechanism to skip self-tests (spkg-check) for certain packages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12579",
    "user": "https://github.com/jhpalmieri"
}
```
With the attached patch, if you set `SAGE_CHECK=yes` and `SAGE_CHECK_PACKAGES='!python,!cvxopt'` and then build Sage, it will run self-tests for all packages except python and cvxopt.  By default, `SAGE_CHECK_PACKAGES=!python`.

This sort of behavior can be useful with the current situation, in which python always fails self-tests (as far as I know), and a package like cvxopt fails them on OS X Lion.  So when I'm testing Sage with Lion, I could use `'!python,!cvxopt'` and easily run self-tests on all of the other packages. This should be viewed as merely a convenience — I hope that people straighten out Python's test suite in general and cvxopt on Lion — but it might be a useful option.

Apply

- [attachment:trac_12579-sage-check.v3.patch] to the root repo.
- [attachment:trac_12579-doc.v3.patch] to the Sage library

Assignee: GeorgSWeber

Reviewer: Jeroen Demeyer

Author: John Palmieri

Merged: sage-5.0.beta7

Dependencies: #4949, #12479

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/12579





---

archive/issue_comments_155400.json:
```json
{
    "body": "root repo",
    "created_at": "2012-02-24T06:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155400",
    "user": "https://github.com/jhpalmieri"
}
```

root repo



---

archive/issue_comments_155401.json:
```json
{
    "body": "Attachment [trac_12579-sage-check.patch](tarball://root/attachments/some-uuid/ticket12579/trac_12579-sage-check.patch) by @jhpalmieri created at 2012-02-24 06:37:03\n\nSage library",
    "created_at": "2012-02-24T06:37:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155401",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_12579-sage-check.patch](tarball://root/attachments/some-uuid/ticket12579/trac_12579-sage-check.patch) by @jhpalmieri created at 2012-02-24 06:37:03

Sage library



---

archive/issue_comments_155402.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [trac_12579-doc.patch](tarball://root/attachments/some-uuid/ticket12579/trac_12579-doc.patch) by @jhpalmieri created at 2012-02-24 06:37:47",
    "created_at": "2012-02-24T06:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155402",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:1'></a>Attachment [trac_12579-doc.patch](tarball://root/attachments/some-uuid/ticket12579/trac_12579-doc.patch) by @jhpalmieri created at 2012-02-24 06:37:47



---

archive/issue_comments_155403.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-02-24T06:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155403",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_155404.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n With the attached patch, if you set \\`SAGE_CHECK='!python!cvxopt'\\` and then build Sage, it will run self-tests for all packages except python and cvxopt. This sort of behavior can be useful with the current situation, in which python always fails self-tests (as far as I know), and a package like cvxopt fails them on OS X Lion.  So when I'm testing Sage with Lion, I could use \\`'!python!cvxopt'\\` and easily run self-tests on all of the other packages. This should be viewed as merely a convenience \u2014 I hope that people straighten out Python's test suite in general and cvxopt on Lion \u2014 but it might be a useful option.\n+\n+Apply\n+\n+- [attachment:trac_12579-sage-check.patch] to the root repo.\n+- [attachment:trac_12579-doc.patch] to the Sage library\n \n Author: John Palmieri\n \n```\n",
    "created_at": "2012-02-24T06:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155404",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,9 @@
 With the attached patch, if you set \`SAGE_CHECK='!python!cvxopt'\` and then build Sage, it will run self-tests for all packages except python and cvxopt. This sort of behavior can be useful with the current situation, in which python always fails self-tests (as far as I know), and a package like cvxopt fails them on OS X Lion.  So when I'm testing Sage with Lion, I could use \`'!python!cvxopt'\` and easily run self-tests on all of the other packages. This should be viewed as merely a convenience — I hope that people straighten out Python's test suite in general and cvxopt on Lion — but it might be a useful option.
+
+Apply
+
+- [attachment:trac_12579-sage-check.patch] to the root repo.
+- [attachment:trac_12579-doc.patch] to the Sage library
 
 Author: John Palmieri
 
```




---

archive/issue_comments_155405.json:
```json
{
    "body": "<a id='comment:2'></a>I'm not sure that I like the interface.  Personally, I would prefer two variables: one simply to determine whether or not to run tests (`SAGE_CHECK`) and another to actually determine which tests to run (which *by default* should be set to `!python`).",
    "created_at": "2012-02-26T09:29:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155405",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>I'm not sure that I like the interface.  Personally, I would prefer two variables: one simply to determine whether or not to run tests (`SAGE_CHECK`) and another to actually determine which tests to run (which *by default* should be set to `!python`).



---

archive/issue_comments_155406.json:
```json
{
    "body": "<a id='comment:3'></a>As for implementation: the second variable (call it `SAGE_CHECK_PACKAGES` or something) should change the environment variable `SAGE_CHECK` accordingly, before running `spkg-install`.  The new GCC spkg uses `SAGE_CHECK` in its `spkg-install` and it makes sense to allow that.\n\nExample:\n\n```\nSAGE_CHECK_PACKAGES=\"!python,mpir,mpfr\"\n```\nwould **always** check mpir and mpfr, regardless of `SAGE_CHECK` but would **never** check python, regardless of `SAGE_CHECK`.\n\nThe default should be\n\n```\nSAGE_CHECK_PACKAGES=\"!python\"\n```",
    "created_at": "2012-02-26T09:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155406",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>As for implementation: the second variable (call it `SAGE_CHECK_PACKAGES` or something) should change the environment variable `SAGE_CHECK` accordingly, before running `spkg-install`.  The new GCC spkg uses `SAGE_CHECK` in its `spkg-install` and it makes sense to allow that.

Example:

```
SAGE_CHECK_PACKAGES="!python,mpir,mpfr"
```
would **always** check mpir and mpfr, regardless of `SAGE_CHECK` but would **never** check python, regardless of `SAGE_CHECK`.

The default should be

```
SAGE_CHECK_PACKAGES="!python"
```



---

archive/issue_comments_155407.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-02-26T09:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155407",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_155408.json:
```json
{
    "body": "<a id='comment:4'></a>My feeling was, why introduce a new environment variable when we can just use `SAGE_CHECK`? The whole approach might be better if we used autoconf:\n\n```\n./configure --self-tests=yes --skip-tests=python,cvxopt ...\n```\nor something like that. But I'll think about adding a second variable.",
    "created_at": "2012-02-26T19:20:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155408",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'></a>My feeling was, why introduce a new environment variable when we can just use `SAGE_CHECK`? The whole approach might be better if we used autoconf:

```
./configure --self-tests=yes --skip-tests=python,cvxopt ...
```
or something like that. But I'll think about adding a second variable.



---

archive/issue_comments_155409.json:
```json
{
    "body": "<a id='comment:5'></a>My main motivation was simply to exclude Python **by default**.",
    "created_at": "2012-02-26T22:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155409",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>My main motivation was simply to exclude Python **by default**.



---

archive/issue_comments_155410.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-02-27T05:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155410",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_155411.json:
```json
{
    "body": "<a id='comment:6'></a>Okay, here's a new version.",
    "created_at": "2012-02-27T05:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155411",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>Okay, here's a new version.



---

archive/issue_comments_155412.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n+With the attached patch, if you set \\`SAGE_CHECK='!python!cvxopt'\\` and then build Sage, it will run self-tests for all packages except python and cvxopt. This sort of behavior can be useful with the current situation, in which python always fails self-tests (as far as I know), and a package like cvxopt fails them on OS X Lion.  So when I'm testing Sage with Lion, I could use \\`'!python!cvxopt'\\` and easily run self-tests on all of the other packages. This should be viewed as merely a convenience \u2014 I hope that people straighten out Python's test suite in general and cvxopt on Lion \u2014 but it might be a useful option.\n \n+Apply\n+\n+- [attachment:trac_12579-sage-check.v2.patch] to the root repo.\n+- [attachment:trac_12579-doc.v2.patch] to the Sage library\n \n Author: John Palmieri\n \n```\n",
    "created_at": "2012-02-27T05:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155412",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,9 @@
+With the attached patch, if you set \`SAGE_CHECK='!python!cvxopt'\` and then build Sage, it will run self-tests for all packages except python and cvxopt. This sort of behavior can be useful with the current situation, in which python always fails self-tests (as far as I know), and a package like cvxopt fails them on OS X Lion.  So when I'm testing Sage with Lion, I could use \`'!python!cvxopt'\` and easily run self-tests on all of the other packages. This should be viewed as merely a convenience — I hope that people straighten out Python's test suite in general and cvxopt on Lion — but it might be a useful option.
 
+Apply
+
+- [attachment:trac_12579-sage-check.v2.patch] to the root repo.
+- [attachment:trac_12579-doc.v2.patch] to the Sage library
 
 Author: John Palmieri
 
```




---

archive/issue_comments_155413.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-02-27T10:52:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155413",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_155414.json:
```json
{
    "body": "<a id='comment:7'></a>Yes, this is more or less what I had in mind.  Two small comments:\n\nThe lines\n\n```\nSAGE_CHECK=no\nexport SAGE_CHECK\n```\ncan be simplified to\n\n```\nexport SAGE_CHECK=no\n```\n\nI don't know about the portability of expr, I would use `grep` instead.  Also you don't want to match \"gdmodule\" when \"gd\" is in `$SAGE_CHECK_PACKAGES`.  Proposal:\n\n```\n# Allow spaces, commas or colons as separator (the documentation suggests commas)\nif echo \",$SAGE_CHECK_PACKAGES,\" | grep \"[ ,:]\\!$PKG_BASE[ ,:]\" >/dev/null; then\n    export SAGE_CHECK=no\nelif echo \",$SAGE_CHECK_PACKAGES,\" | grep \"[ ,:]$PKG_BASE[ ,:]\" >/dev/null; then\n    export SAGE_CHECK=yes\nfi\n```",
    "created_at": "2012-02-27T10:52:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155414",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>Yes, this is more or less what I had in mind.  Two small comments:

The lines

```
SAGE_CHECK=no
export SAGE_CHECK
```
can be simplified to

```
export SAGE_CHECK=no
```

I don't know about the portability of expr, I would use `grep` instead.  Also you don't want to match "gdmodule" when "gd" is in `$SAGE_CHECK_PACKAGES`.  Proposal:

```
# Allow spaces, commas or colons as separator (the documentation suggests commas)
if echo ",$SAGE_CHECK_PACKAGES," | grep "[ ,:]\!$PKG_BASE[ ,:]" >/dev/null; then
    export SAGE_CHECK=no
elif echo ",$SAGE_CHECK_PACKAGES," | grep "[ ,:]$PKG_BASE[ ,:]" >/dev/null; then
    export SAGE_CHECK=yes
fi
```



---

archive/issue_comments_155415.json:
```json
{
    "body": "<a id='comment:8'></a>The documentation should mention that `SAGE_CHECK_PACKAGES='!python'` by default.",
    "created_at": "2012-02-27T10:53:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155415",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>The documentation should mention that `SAGE_CHECK_PACKAGES='!python'` by default.



---

archive/issue_comments_155416.json:
```json
{
    "body": "<a id='comment:9'></a>Instead of using `tr` to handle lower/upper case, simply do a case-insensitive check with `grep -i`.",
    "created_at": "2012-02-27T11:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155416",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>Instead of using `tr` to handle lower/upper case, simply do a case-insensitive check with `grep -i`.



---

archive/issue_comments_155417.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-02-27T20:39:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155417",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_155418.json:
```json
{
    "body": "<a id='comment:10'></a>Okay, new versions. (I tried `expr` on linux, OS X, and OpenSolaris, and it seemed to work on all of them, and it seems to be POSIX-standard, but I changed to grep anyway.)",
    "created_at": "2012-02-27T20:39:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155418",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:10'></a>Okay, new versions. (I tried `expr` on linux, OS X, and OpenSolaris, and it seemed to work on all of them, and it seems to be POSIX-standard, but I changed to grep anyway.)



---

archive/issue_comments_155419.json:
```json
{
    "body": "Attachment [trac_12579-sage-check.v2.patch](tarball://root/attachments/some-uuid/ticket12579/trac_12579-sage-check.v2.patch) by @jhpalmieri created at 2012-02-27 20:39:46\n\nroot repo",
    "created_at": "2012-02-27T20:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155419",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_12579-sage-check.v2.patch](tarball://root/attachments/some-uuid/ticket12579/trac_12579-sage-check.v2.patch) by @jhpalmieri created at 2012-02-27 20:39:46

root repo



---

archive/issue_comments_155420.json:
```json
{
    "body": "Attachment [trac_12579-doc.v2.patch](tarball://root/attachments/some-uuid/ticket12579/trac_12579-doc.v2.patch) by @jhpalmieri created at 2012-02-27 20:39:56\n\nSage library",
    "created_at": "2012-02-27T20:39:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155420",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_12579-doc.v2.patch](tarball://root/attachments/some-uuid/ticket12579/trac_12579-doc.v2.patch) by @jhpalmieri created at 2012-02-27 20:39:56

Sage library



---

archive/issue_comments_155421.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n+With the attached patch, if you set \\`SAGE_CHECK='!python!cvxopt'\\` and then build Sage, it will run self-tests for all packages except python and cvxopt. This sort of behavior can be useful with the current situation, in which python always fails self-tests (as far as I know), and a package like cvxopt fails them on OS X Lion.  So when I'm testing Sage with Lion, I could use \\`'!python!cvxopt'\\` and easily run self-tests on all of the other packages. This should be viewed as merely a convenience \u2014 I hope that people straighten out Python's test suite in general and cvxopt on Lion \u2014 but it might be a useful option.\n \n+Apply\n+\n+- [attachment:trac_12579-sage-check.v3.patch] to the root repo.\n+- [attachment:trac_12579-doc.v2.patch] to the Sage library\n \n Author: John Palmieri\n \n```\n",
    "created_at": "2012-02-28T07:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155421",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,9 @@
+With the attached patch, if you set \`SAGE_CHECK='!python!cvxopt'\` and then build Sage, it will run self-tests for all packages except python and cvxopt. This sort of behavior can be useful with the current situation, in which python always fails self-tests (as far as I know), and a package like cvxopt fails them on OS X Lion.  So when I'm testing Sage with Lion, I could use \`'!python!cvxopt'\` and easily run self-tests on all of the other packages. This should be viewed as merely a convenience — I hope that people straighten out Python's test suite in general and cvxopt on Lion — but it might be a useful option.
 
+Apply
+
+- [attachment:trac_12579-sage-check.v3.patch] to the root repo.
+- [attachment:trac_12579-doc.v2.patch] to the Sage library
 
 Author: John Palmieri
 
```




---

archive/issue_comments_155422.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-02-28T12:23:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155422",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_155423.json:
```json
{
    "body": "Attachment [trac_12579-doc.v3.patch](tarball://root/attachments/some-uuid/ticket12579/trac_12579-doc.v3.patch) by @jdemeyer created at 2012-02-28 12:25:20\n\nRebased to #4949",
    "created_at": "2012-02-28T12:25:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155423",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [trac_12579-doc.v3.patch](tarball://root/attachments/some-uuid/ticket12579/trac_12579-doc.v3.patch) by @jdemeyer created at 2012-02-28 12:25:20

Rebased to #4949



---

archive/issue_comments_155424.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-02-28T12:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155424",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_155425.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n+With the attached patch, if you set \\`SAGE_CHECK='!python!cvxopt'\\` and then build Sage, it will run self-tests for all packages except python and cvxopt. This sort of behavior can be useful with the current situation, in which python always fails self-tests (as far as I know), and a package like cvxopt fails them on OS X Lion.  So when I'm testing Sage with Lion, I could use \\`'!python!cvxopt'\\` and easily run self-tests on all of the other packages. This should be viewed as merely a convenience \u2014 I hope that people straighten out Python's test suite in general and cvxopt on Lion \u2014 but it might be a useful option.\n \n+Apply\n+\n+- [attachment:trac_12579-sage-check.v3.patch] to the root repo.\n+- [attachment:trac_12579-doc.v3.patch] to the Sage library\n \n Author: John Palmieri\n \n```\n",
    "created_at": "2012-02-28T12:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155425",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,9 @@
+With the attached patch, if you set \`SAGE_CHECK='!python!cvxopt'\` and then build Sage, it will run self-tests for all packages except python and cvxopt. This sort of behavior can be useful with the current situation, in which python always fails self-tests (as far as I know), and a package like cvxopt fails them on OS X Lion.  So when I'm testing Sage with Lion, I could use \`'!python!cvxopt'\` and easily run self-tests on all of the other packages. This should be viewed as merely a convenience — I hope that people straighten out Python's test suite in general and cvxopt on Lion — but it might be a useful option.
 
+Apply
+
+- [attachment:trac_12579-sage-check.v3.patch] to the root repo.
+- [attachment:trac_12579-doc.v3.patch] to the Sage library
 
 Author: John Palmieri
 
```




---

archive/issue_comments_155426.json:
```json
{
    "body": "<a id='comment:14'></a>The rebasing here is fine with me; the new patch applies cleanly ater #12479.",
    "created_at": "2012-02-28T21:41:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155426",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:14'></a>The rebasing here is fine with me; the new patch applies cleanly ater #12479.



---

archive/issue_comments_155427.json:
```json
{
    "body": "Attachment [trac_12579-sage-check.v3.patch](tarball://root/attachments/some-uuid/ticket12579/trac_12579-sage-check.v3.patch) by @jdemeyer created at 2012-02-28 22:28:49\n\nRebased to #12479",
    "created_at": "2012-02-28T22:28:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155427",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [trac_12579-sage-check.v3.patch](tarball://root/attachments/some-uuid/ticket12579/trac_12579-sage-check.v3.patch) by @jdemeyer created at 2012-02-28 22:28:49

Rebased to #12479



---

archive/issue_comments_155428.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-02-29T11:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155428",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_155429.json:
```json
{
    "body": "<a id='comment:15'></a>Seems to work well.  And Sage now builds with a simple\n\n```\nSAGE_CHECK=yes make\n```",
    "created_at": "2012-02-29T11:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155429",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>Seems to work well.  And Sage now builds with a simple

```
SAGE_CHECK=yes make
```



---

archive/issue_comments_155430.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,11 @@\n+With the attached patch, if you set \\`SAGE_CHECK=yes\\` and \\`SAGE_CHECK_PACKAGES='!python,!cvxopt'\\` and then build Sage, it will run self-tests for all packages except python and cvxopt.  By default, \\`SAGE_CHECK_PACKAGES=!python\\`.\n \n+This sort of behavior can be useful with the current situation, in which python always fails self-tests (as far as I know), and a package like cvxopt fails them on OS X Lion.  So when I'm testing Sage with Lion, I could use \\`'!python,!cvxopt'\\` and easily run self-tests on all of the other packages. This should be viewed as merely a convenience \u2014 I hope that people straighten out Python's test suite in general and cvxopt on Lion \u2014 but it might be a useful option.\n+\n+Apply\n+\n+- [attachment:trac_12579-sage-check.v3.patch] to the root repo.\n+- [attachment:trac_12579-doc.v3.patch] to the Sage library\n \n Author: John Palmieri\n \n```\n",
    "created_at": "2012-03-03T14:04:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155430",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,11 @@
+With the attached patch, if you set \`SAGE_CHECK=yes\` and \`SAGE_CHECK_PACKAGES='!python,!cvxopt'\` and then build Sage, it will run self-tests for all packages except python and cvxopt.  By default, \`SAGE_CHECK_PACKAGES=!python\`.
 
+This sort of behavior can be useful with the current situation, in which python always fails self-tests (as far as I know), and a package like cvxopt fails them on OS X Lion.  So when I'm testing Sage with Lion, I could use \`'!python,!cvxopt'\` and easily run self-tests on all of the other packages. This should be viewed as merely a convenience — I hope that people straighten out Python's test suite in general and cvxopt on Lion — but it might be a useful option.
+
+Apply
+
+- [attachment:trac_12579-sage-check.v3.patch] to the root repo.
+- [attachment:trac_12579-doc.v3.patch] to the Sage library
 
 Author: John Palmieri
 
```




---

archive/issue_events_034017.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-04T21:17:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12579#event-34017"
}
```



---

archive/issue_comments_155431.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-03-04T21:17:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12579",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12579#issuecomment-155431",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
