# Issue 12150: upgrade defect() of a finite word

archive/issues_011978.json:
```json
{
    "assignees": [],
    "body": "Update defect() method of a finite word to calculate the defect for generalized palindromes. Apply the four patches.\n\nDetails: the defect is the difference between the maximum number of palindromic factors in a word and their actual count. If we count generalized palindromes (or f-palindromes, theta-palindromes, pseudopalindromes...), the upper bound needs to be corrected according to (\u0160. Starosta, On Theta-palindromic Richness, Theoret. Comp. Sci. 412 (2011) 1111-1121, DOI: 10.1016/j.tcs.2010.12.011).\n\nOriginal behavior:\n\n```\nsage: f = WordMorphism('a->b,b->a')\nsage: Word('abbabaabbaababba').defect(f)\n4\n```\n\nExpected:\n\n```\nsage: f = WordMorphism('a->b,b->a')\nsage: Word('abbabaabbaababba').defect(f)\n3\n```\n\n\nThe method is_full() also needs to be updated to be compliant with the generalized definition of defect:\n\nnow\n\n```\nsage: f = WordMorphism('a->b,b->a')\nsage: w = Word('ab')\nsage: w.is_full(f)\nFalse\n```\n\nexpected\n\n```\nsage: f = WordMorphism('a->b,b->a')\nsage: w = Word('ab')\nsage: w.is_full(f)\nTrue\n```\n\nApply :\n* [attachment: trac_12150.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150.patch.gz)\n* [attachment: trac_12150-review.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review.patch.gz)\n* [attachment: trac_12150-reviewed.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-reviewed.patch.gz)\n* [attachment: trac_12150-review2.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review2.patch.gz)\n\nAssignee: **@staroste**\n\nCC:  @videlec @seblabbe\n\nKeywords: **finite word, defect, palindrome, pseudopalindrome**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **\u0160t\u011bp\u00e1n Starosta**\n\nMerged: **sage-5.0.beta2**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12150_\n\n",
    "closed_at": "2012-02-02T12:53:47Z",
    "created_at": "2011-12-13T15:36:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p5%20%E2%80%93%20trivial",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "upgrade defect() of a finite word",
    "type": "issue",
    "updated_at": "2016-10-31T17:06:12Z",
    "url": "https://github.com/sagemath/sage/issues/12150",
    "user": "https://github.com/staroste"
}
```
Update defect() method of a finite word to calculate the defect for generalized palindromes. Apply the four patches.

Details: the defect is the difference between the maximum number of palindromic factors in a word and their actual count. If we count generalized palindromes (or f-palindromes, theta-palindromes, pseudopalindromes...), the upper bound needs to be corrected according to (Š. Starosta, On Theta-palindromic Richness, Theoret. Comp. Sci. 412 (2011) 1111-1121, DOI: 10.1016/j.tcs.2010.12.011).

Original behavior:

```
sage: f = WordMorphism('a->b,b->a')
sage: Word('abbabaabbaababba').defect(f)
4
```

Expected:

```
sage: f = WordMorphism('a->b,b->a')
sage: Word('abbabaabbaababba').defect(f)
3
```


The method is_full() also needs to be updated to be compliant with the generalized definition of defect:

now

```
sage: f = WordMorphism('a->b,b->a')
sage: w = Word('ab')
sage: w.is_full(f)
False
```

expected

```
sage: f = WordMorphism('a->b,b->a')
sage: w = Word('ab')
sage: w.is_full(f)
True
```

Apply :
* [attachment: trac_12150.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150.patch.gz)
* [attachment: trac_12150-review.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review.patch.gz)
* [attachment: trac_12150-reviewed.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-reviewed.patch.gz)
* [attachment: trac_12150-review2.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review2.patch.gz)

Assignee: **@staroste**

CC:  @videlec @seblabbe

Keywords: **finite word, defect, palindrome, pseudopalindrome**

Reviewer: **Vincent Delecroix**

Author: **Štěpán Starosta**

Merged: **sage-5.0.beta2**

_Issue created by migration from https://trac.sagemath.org/ticket/12150_





---

archive/issue_events_145640.json:
```json
{
    "actor": "https://github.com/staroste",
    "created_at": "2011-12-13T15:36:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145640"
}
```



---

archive/issue_events_145641.json:
```json
{
    "actor": "https://github.com/staroste",
    "created_at": "2011-12-13T15:36:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145641"
}
```



---

archive/issue_events_145642.json:
```json
{
    "actor": "https://github.com/staroste",
    "created_at": "2011-12-13T15:36:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/p5%20%E2%80%93%20trivial",
    "label_color": "fff9e5",
    "label_name": "p5 \u2013 trivial",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145642"
}
```



---

archive/issue_events_145643.json:
```json
{
    "actor": "https://github.com/staroste",
    "created_at": "2011-12-13T15:36:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145643"
}
```



---

archive/issue_comments_132453.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,3 @@\n Update defect() method of a finite word to calculate the defect for generalized palindromes.\n \n-Details: the defect is the difference between the maximum number of palindromic factors in a word and their actual count. If we count generalized palindromes (or f-palindromes, theta-palindromes, pseudopalindromes...), the upper bound needs to be corrected according to [1].\n-\n-\n-[1] \u0160. Starosta, On Theta-palindromic Richness, Theoret. Comp. Sci. 412 (2011) 1111-1121, DOI: 10.1016/j.tcs.2010.12.011\n+Details: the defect is the difference between the maximum number of palindromic factors in a word and their actual count. If we count generalized palindromes (or f-palindromes, theta-palindromes, pseudopalindromes...), the upper bound needs to be corrected according to (\u0160. Starosta, On Theta-palindromic Richness, Theoret. Comp. Sci. 412 (2011) 1111-1121, DOI: 10.1016/j.tcs.2010.12.011).\n``````\n",
    "created_at": "2011-12-13T15:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132453",
    "user": "https://github.com/staroste"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,3 @@
 Update defect() method of a finite word to calculate the defect for generalized palindromes.
 
-Details: the defect is the difference between the maximum number of palindromic factors in a word and their actual count. If we count generalized palindromes (or f-palindromes, theta-palindromes, pseudopalindromes...), the upper bound needs to be corrected according to [1].
-
-
-[1] Š. Starosta, On Theta-palindromic Richness, Theoret. Comp. Sci. 412 (2011) 1111-1121, DOI: 10.1016/j.tcs.2010.12.011
+Details: the defect is the difference between the maximum number of palindromic factors in a word and their actual count. If we count generalized palindromes (or f-palindromes, theta-palindromes, pseudopalindromes...), the upper bound needs to be corrected according to (Š. Starosta, On Theta-palindromic Richness, Theoret. Comp. Sci. 412 (2011) 1111-1121, DOI: 10.1016/j.tcs.2010.12.011).
``````




---

archive/issue_events_145644.json:
```json
{
    "actor": "https://github.com/staroste",
    "created_at": "2011-12-13T16:06:34Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "title_is": "upgrade defect() of a finite word",
    "title_was": "upgrade defect() of a finite word to work correctly with any involutive antimorphism as generalized reversal mapping",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145644"
}
```



---

archive/issue_comments_132454.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Update defect() method of a finite word to calculate the defect for generalized palindromes.\n \n Details: the defect is the difference between the maximum number of palindromic factors in a word and their actual count. If we count generalized palindromes (or f-palindromes, theta-palindromes, pseudopalindromes...), the upper bound needs to be corrected according to (\u0160. Starosta, On Theta-palindromic Richness, Theoret. Comp. Sci. 412 (2011) 1111-1121, DOI: 10.1016/j.tcs.2010.12.011).\n+\n+\n``````\n",
    "created_at": "2011-12-13T16:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132454",
    "user": "https://github.com/staroste"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Update defect() method of a finite word to calculate the defect for generalized palindromes.
 
 Details: the defect is the difference between the maximum number of palindromic factors in a word and their actual count. If we count generalized palindromes (or f-palindromes, theta-palindromes, pseudopalindromes...), the upper bound needs to be corrected according to (Š. Starosta, On Theta-palindromic Richness, Theoret. Comp. Sci. 412 (2011) 1111-1121, DOI: 10.1016/j.tcs.2010.12.011).
+
+
``````




---

archive/issue_comments_132455.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,18 @@\n \n Details: the defect is the difference between the maximum number of palindromic factors in a word and their actual count. If we count generalized palindromes (or f-palindromes, theta-palindromes, pseudopalindromes...), the upper bound needs to be corrected according to (\u0160. Starosta, On Theta-palindromic Richness, Theoret. Comp. Sci. 412 (2011) 1111-1121, DOI: 10.1016/j.tcs.2010.12.011).\n \n+Original behavior:\n \n+```\n+sage: f = WordMorphism('a->b,b->a')\n+sage: Word('abbabaabbaababba').defect(f)\n+4\n+```\n+\n+Expected:\n+\n+```\n+sage: f = WordMorphism('a->b,b->a')\n+sage: Word('abbabaabbaababba').defect(f)\n+3\n+```\n``````\n",
    "created_at": "2011-12-13T16:18:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132455",
    "user": "https://github.com/staroste"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,18 @@
 
 Details: the defect is the difference between the maximum number of palindromic factors in a word and their actual count. If we count generalized palindromes (or f-palindromes, theta-palindromes, pseudopalindromes...), the upper bound needs to be corrected according to (Š. Starosta, On Theta-palindromic Richness, Theoret. Comp. Sci. 412 (2011) 1111-1121, DOI: 10.1016/j.tcs.2010.12.011).
 
+Original behavior:
 
+```
+sage: f = WordMorphism('a->b,b->a')
+sage: Word('abbabaabbaababba').defect(f)
+4
+```
+
+Expected:
+
+```
+sage: f = WordMorphism('a->b,b->a')
+sage: Word('abbabaabbaababba').defect(f)
+3
+```
``````




---

archive/issue_comments_132456.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,3 +17,24 @@\n sage: Word('abbabaabbaababba').defect(f)\n 3\n ```\n+\n+\n+The method is_full() also needs to be updated to be compliant with the generalized definition of defect:\n+\n+now\n+\n+```\n+sage: f = WordMorphism('a->b,b->a')\n+sage: w = Word('ab')\n+sage: w.is_full(f)\n+False\n+```\n+\n+expected\n+\n+```\n+sage: f = WordMorphism('a->b,b->a')\n+sage: w = Word('ab')\n+sage: w.is_full(f)\n+True\n+```\n``````\n",
    "created_at": "2011-12-14T10:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132456",
    "user": "https://github.com/staroste"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,3 +17,24 @@
 sage: Word('abbabaabbaababba').defect(f)
 3
 ```
+
+
+The method is_full() also needs to be updated to be compliant with the generalized definition of defect:
+
+now
+
+```
+sage: f = WordMorphism('a->b,b->a')
+sage: w = Word('ab')
+sage: w.is_full(f)
+False
+```
+
+expected
+
+```
+sage: f = WordMorphism('a->b,b->a')
+sage: w = Word('ab')
+sage: w.is_full(f)
+True
+```
``````




---

archive/issue_events_145645.json:
```json
{
    "actor": "https://github.com/staroste",
    "created_at": "2011-12-14T14:10:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145645"
}
```



---

archive/issue_comments_132457.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nHello,\n\n**1) About documentation**\n\nI think you should consider two parts in the documentation. The first paragraph should describe the function with the argument set to None (which is the general behavior that a user would like). And another one for the generalized version. (I made a proposition in the patch)\n\nI also rewrite the examples in order to include a theorem and a conjecture.\n\nYou should add references to (see the \"NEED REFERENCE\")\n* the fact that the maximal number of palindromic factors in a word is the length of the word +1\n* the fact that Sturmian words are full of palindrome\n* the conjecture about defect 0 or infinity for Sturmian words\n\n**2) About the algorithm**\n\nI change the construction of the \"real\" alphabet of the word. You used w.factor_set(1) which need the computation of the suffix_trie. I suggest set(w). I rewrite the function, I find it better that way. I hope you agree. (see in the patch)\n\n**3) TODO**\n\nIt could be very nice to have a function which returns the \"defects of prefixes\". In other word, in one call I would like to be able to get the following:\n\n```\nsage: w=words.ThueMorseWord()[:20]\nsage: [w[:i].defect() for i in xrange(20)]\n[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]\n```",
    "created_at": "2011-12-14T16:15:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132457",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'>Comment 6:</a>
Hello,

**1) About documentation**

I think you should consider two parts in the documentation. The first paragraph should describe the function with the argument set to None (which is the general behavior that a user would like). And another one for the generalized version. (I made a proposition in the patch)

I also rewrite the examples in order to include a theorem and a conjecture.

You should add references to (see the "NEED REFERENCE")
* the fact that the maximal number of palindromic factors in a word is the length of the word +1
* the fact that Sturmian words are full of palindrome
* the conjecture about defect 0 or infinity for Sturmian words

**2) About the algorithm**

I change the construction of the "real" alphabet of the word. You used w.factor_set(1) which need the computation of the suffix_trie. I suggest set(w). I rewrite the function, I find it better that way. I hope you agree. (see in the patch)

**3) TODO**

It could be very nice to have a function which returns the "defects of prefixes". In other word, in one call I would like to be able to get the following:

```
sage: w=words.ThueMorseWord()[:20]
sage: [w[:i].defect() for i in xrange(20)]
[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]
```



---

archive/issue_comments_132458.json:
```json
{
    "body": "Author: **Stepan Starosta**",
    "created_at": "2011-12-14T16:15:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132458",
    "user": "https://github.com/videlec"
}
```

Author: **Stepan Starosta**



---

archive/issue_comments_132459.json:
```json
{
    "body": "Reviewer: **vdelecroix**",
    "created_at": "2011-12-14T16:15:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132459",
    "user": "https://github.com/videlec"
}
```

Reviewer: **vdelecroix**



---

archive/issue_events_145646.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2011-12-14T16:15:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145646"
}
```



---

archive/issue_events_145647.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2011-12-14T16:15:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145647"
}
```



---

archive/issue_comments_132460.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nHi,\n\nthanks a lot for the review.\n\n**1.** Ok, thanks. I gladly accept. I made a few modifications to you proposition, added the references and some more examples.\n\n**2.** Nice python/sage magic, I wasn't able to get it working that way. Thank you.\n\n**3.** Nice suggestion. In fact, this would be the output of a different (and mainly faster) algorithm to calculate the defect. I am planning on doing in for the defected generalized to more symmetries at a time. I will open a ticket for that.",
    "created_at": "2011-12-14T23:06:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132460",
    "user": "https://github.com/staroste"
}
```

<a id='comment:7'>Comment 7:</a>
Hi,

thanks a lot for the review.

**1.** Ok, thanks. I gladly accept. I made a few modifications to you proposition, added the references and some more examples.

**2.** Nice python/sage magic, I wasn't able to get it working that way. Thank you.

**3.** Nice suggestion. In fact, this would be the output of a different (and mainly faster) algorithm to calculate the defect. I am planning on doing in for the defected generalized to more symmetries at a time. I will open a ticket for that.



---

archive/issue_events_145648.json:
```json
{
    "actor": "https://github.com/staroste",
    "created_at": "2011-12-14T23:06:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145648"
}
```



---

archive/issue_events_145649.json:
```json
{
    "actor": "https://github.com/staroste",
    "created_at": "2011-12-14T23:06:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145649"
}
```



---

archive/issue_comments_132461.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nHi,\n\nExtending the definition of full for f-palindromes is a good question. That is the reason why I left it coded that way. Now that Stepan studied the question in a paper, I agree to adapt the definition in Sage as what Stepan suggests. On two letters a and b, am I right to say that abababab... and babababab... are the only two words that are E-full where E is the exchange of a and b?\n\n> **3) TODO**\n> \n> It could be very nice to have a function which returns the \"defects of prefixes\". In other word, in one call I would like to be able to get the following:\n> \n> ```\n> sage: w=words.ThueMorseWord()[:20]\n> sage: [w[:i].defect() for i in xrange(20)]\n> [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]\n> ```\n\nThis is already done by the method lacunas (from which you can regenerate the above list of repeated numbers). A lacuna is a position where there are no new palindrome finishing there or equivalently, the defect goes up by one. Here are some examples from the doctests :\n\n```\nsage: w = Word([0,1,1,2,3,4,5,1,13,3])                              \nsage: w.lacunas()                                                   \n[7, 9]                                                              \nsage: words.ThueMorseWord()[:100].lacunas()                         \n[8, 9, 24, 25, 32, 33, 34, 35, 36, 37, 38, 39, 96, 97, 98, 99]      \nsage: f = WordMorphism({0:[1],1:[0]})                               \nsage: words.ThueMorseWord()[:50].lacunas(f)\n[0, 2, 4, 12, 16, 17, 18, 19, 48, 49]\n```\n\nBy merging both patches, Stepan becomes author of what Vincent did. Usually, we keep both patches separated. Anyway, which patche(s) should be reviewed? the last one only? Right now, the patchbot tries to apply all of them which fails...\n\nS\u00e9bastien",
    "created_at": "2011-12-14T23:47:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132461",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:8'>Comment 8:</a>
Hi,

Extending the definition of full for f-palindromes is a good question. That is the reason why I left it coded that way. Now that Stepan studied the question in a paper, I agree to adapt the definition in Sage as what Stepan suggests. On two letters a and b, am I right to say that abababab... and babababab... are the only two words that are E-full where E is the exchange of a and b?

> **3) TODO**
> 
> It could be very nice to have a function which returns the "defects of prefixes". In other word, in one call I would like to be able to get the following:
> 
> ```
> sage: w=words.ThueMorseWord()[:20]
> sage: [w[:i].defect() for i in xrange(20)]
> [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]
> ```

This is already done by the method lacunas (from which you can regenerate the above list of repeated numbers). A lacuna is a position where there are no new palindrome finishing there or equivalently, the defect goes up by one. Here are some examples from the doctests :

```
sage: w = Word([0,1,1,2,3,4,5,1,13,3])                              
sage: w.lacunas()                                                   
[7, 9]                                                              
sage: words.ThueMorseWord()[:100].lacunas()                         
[8, 9, 24, 25, 32, 33, 34, 35, 36, 37, 38, 39, 96, 97, 98, 99]      
sage: f = WordMorphism({0:[1],1:[0]})                               
sage: words.ThueMorseWord()[:50].lacunas(f)
[0, 2, 4, 12, 16, 17, 18, 19, 48, 49]
```

By merging both patches, Stepan becomes author of what Vincent did. Usually, we keep both patches separated. Anyway, which patche(s) should be reviewed? the last one only? Right now, the patchbot tries to apply all of them which fails...

Sébastien



---

archive/issue_comments_132462.json:
```json
{
    "body": "Changed reviewer from **vdelecroix** to **Vincent Delecroix**",
    "created_at": "2011-12-14T23:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132462",
    "user": "https://github.com/seblabbe"
}
```

Changed reviewer from **vdelecroix** to **Vincent Delecroix**



---

archive/issue_comments_132463.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\n> By merging both patches, Stepan becomes author of what Vincent did. Usually, we keep both patches separated. Anyway, which patche(s) should be reviewed? the last one only? Right now, the patchbot tries to apply all of them which fails...\n> \n> S\u00e9bastien\n\nAlso, it is bad to merge patches that have already been reviewed because one needs to start over to do the next review. Also, it is impossible to see what Stepan did after Vincent suggestions and patch. Stepan, could you please post a another patch which would replace the third and that would apply on the first two and that would contain only modification made without merge?\n\nThanks,\n\nS\u00e9bastien",
    "created_at": "2011-12-14T23:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132463",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:9'>Comment 9:</a>
> By merging both patches, Stepan becomes author of what Vincent did. Usually, we keep both patches separated. Anyway, which patche(s) should be reviewed? the last one only? Right now, the patchbot tries to apply all of them which fails...
> 
> Sébastien

Also, it is bad to merge patches that have already been reviewed because one needs to start over to do the next review. Also, it is impossible to see what Stepan did after Vincent suggestions and patch. Stepan, could you please post a another patch which would replace the third and that would apply on the first two and that would contain only modification made without merge?

Thanks,

Sébastien



---

archive/issue_comments_132464.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nHi S\u00e9bastien,\n\nthanks for the comment.\n\n>  On two letters a and b, am I right to say that abababab... and babababab... are the only two words that are E-full where E is the exchange of a and b?\n\nYes. To have finite defect implies some other properties, for instance, there have to be overlaps at some point (in the infinite word).\n\n\n> This is already done by the method lacunas (from which you can regenerate the above list of repeated numbers). A lacuna is a position where there are no new palindrome finishing there or equivalently, the defect goes up by one. Here are some examples from the doctests :\n> \n> ```\n> sage: w = Word([0,1,1,2,3,4,5,1,13,3])                              \n> sage: w.lacunas()                                                   \n> [7, 9]                                                              \n> sage: words.ThueMorseWord()[:100].lacunas()                         \n> [8, 9, 24, 25, 32, 33, 34, 35, 36, 37, 38, 39, 96, 97, 98, 99]      \n> sage: f = WordMorphism({0:[1],1:[0]})                               \n> sage: words.ThueMorseWord()[:50].lacunas(f)\n> [0, 2, 4, 12, 16, 17, 18, 19, 48, 49]\n> ```\n\nOk, thanks! I forgot about that. I should maybe update the comment in that method also and check if it works fine with the modifications done.\n \n> Stepan, could you please post a another patch which would replace the third and that would apply on the first two and that would contain only modification made without merge?\n\nMy bad, I will do it as you suggest, I can replace the file so it should be fine.\n\nThanks,\nStepan",
    "created_at": "2011-12-15T07:17:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132464",
    "user": "https://github.com/staroste"
}
```

<a id='comment:10'>Comment 10:</a>
Hi Sébastien,

thanks for the comment.

>  On two letters a and b, am I right to say that abababab... and babababab... are the only two words that are E-full where E is the exchange of a and b?

Yes. To have finite defect implies some other properties, for instance, there have to be overlaps at some point (in the infinite word).


> This is already done by the method lacunas (from which you can regenerate the above list of repeated numbers). A lacuna is a position where there are no new palindrome finishing there or equivalently, the defect goes up by one. Here are some examples from the doctests :
> 
> ```
> sage: w = Word([0,1,1,2,3,4,5,1,13,3])                              
> sage: w.lacunas()                                                   
> [7, 9]                                                              
> sage: words.ThueMorseWord()[:100].lacunas()                         
> [8, 9, 24, 25, 32, 33, 34, 35, 36, 37, 38, 39, 96, 97, 98, 99]      
> sage: f = WordMorphism({0:[1],1:[0]})                               
> sage: words.ThueMorseWord()[:50].lacunas(f)
> [0, 2, 4, 12, 16, 17, 18, 19, 48, 49]
> ```

Ok, thanks! I forgot about that. I should maybe update the comment in that method also and check if it works fine with the modifications done.
 
> Stepan, could you please post a another patch which would replace the third and that would apply on the first two and that would contain only modification made without merge?

My bad, I will do it as you suggest, I can replace the file so it should be fine.

Thanks,
Stepan



---

archive/issue_comments_132465.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nGreat!\n\nS\u00e9bastien",
    "created_at": "2011-12-15T18:42:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132465",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:11'>Comment 11:</a>
Great!

Sébastien



---

archive/issue_comments_132466.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nHi,\n\nI replaced the last patch by the correct one, they all should work now.\n\nI also updated the comments in the methods palindromic_lacunas_study(), lacunas(), is_palindrome().\n\nStepan",
    "created_at": "2011-12-16T10:28:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132466",
    "user": "https://github.com/staroste"
}
```

<a id='comment:12'>Comment 12:</a>
Hi,

I replaced the last patch by the correct one, they all should work now.

I also updated the comments in the methods palindromic_lacunas_study(), lacunas(), is_palindrome().

Stepan



---

archive/issue_events_145650.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2011-12-16T14:15:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145650"
}
```



---

archive/issue_events_145651.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2011-12-16T14:15:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145651"
}
```



---

archive/issue_comments_132467.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nI change the way the references are displayed in the method defect. All test passed, documentation builds and many precisions added !\n\nPositive review.",
    "created_at": "2011-12-16T14:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132467",
    "user": "https://github.com/videlec"
}
```

<a id='comment:13'>Comment 13:</a>
I change the way the references are displayed in the method defect. All test passed, documentation builds and many precisions added !

Positive review.



---

archive/issue_events_145652.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-16T20:31:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145652"
}
```



---

archive/issue_events_145653.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-16T20:31:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145653"
}
```



---

archive/issue_comments_132468.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nPlease state clearly which patches have to be applied.",
    "created_at": "2011-12-16T20:31:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132468",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'>Comment 14:</a>
Please state clearly which patches have to be applied.



---

archive/issue_comments_132469.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nSorry for that... the four patches need to be applied in the order they appear.",
    "created_at": "2011-12-16T20:47:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132469",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'>Comment 15:</a>
Sorry for that... the four patches need to be applied in the order they appear.



---

archive/issue_comments_132470.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Update defect() method of a finite word to calculate the defect for generalized palindromes.\n+Update defect() method of a finite word to calculate the defect for generalized palindromes. Apply the four patches.\n \n Details: the defect is the difference between the maximum number of palindromic factors in a word and their actual count. If we count generalized palindromes (or f-palindromes, theta-palindromes, pseudopalindromes...), the upper bound needs to be corrected according to (\u0160. Starosta, On Theta-palindromic Richness, Theoret. Comp. Sci. 412 (2011) 1111-1121, DOI: 10.1016/j.tcs.2010.12.011).\n \n``````\n",
    "created_at": "2011-12-16T20:47:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132470",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Update defect() method of a finite word to calculate the defect for generalized palindromes.
+Update defect() method of a finite word to calculate the defect for generalized palindromes. Apply the four patches.
 
 Details: the defect is the difference between the maximum number of palindromic factors in a word and their actual count. If we count generalized palindromes (or f-palindromes, theta-palindromes, pseudopalindromes...), the upper bound needs to be corrected according to (Š. Starosta, On Theta-palindromic Richness, Theoret. Comp. Sci. 412 (2011) 1111-1121, DOI: 10.1016/j.tcs.2010.12.011).
 
``````




---

archive/issue_comments_132471.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\n[attachment: trac_12150-review.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review.patch.gz) is missing a username (this shouldn't happen if you make the patch with `hg export`) and a commit message.\n\n[attachment: trac_12150-reviewed.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-reviewed.patch.gz) needs a proper commit message.",
    "created_at": "2011-12-16T22:06:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132471",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'>Comment 16:</a>
[attachment: trac_12150-review.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review.patch.gz) is missing a username (this shouldn't happen if you make the patch with `hg export`) and a commit message.

[attachment: trac_12150-reviewed.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-reviewed.patch.gz) needs a proper commit message.



---

archive/issue_comments_132472.json:
```json
{
    "body": "apply in 4th",
    "created_at": "2011-12-17T17:13:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132472",
    "user": "https://github.com/videlec"
}
```

apply in 4th



---

archive/issue_comments_132473.json:
```json
{
    "body": "Attachment: **[trac_12150-review2.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review2.patch.gz)**\n\nAttachment: **[trac_12150-review.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review.patch.gz)**\n\napply in 2nd",
    "created_at": "2011-12-17T17:13:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132473",
    "user": "https://github.com/videlec"
}
```

Attachment: **[trac_12150-review2.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review2.patch.gz)**

Attachment: **[trac_12150-review.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review.patch.gz)**

apply in 2nd



---

archive/issue_comments_132474.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nThe first patch doesn't apply any more (to sage-4.8.alpha4):\n\n```\napplying /mnt/usb1/scratch/jdemeyer/merger/patches/trac_12150.patch\npatching file sage/combinat/words/finite_word.py\nHunk #1 FAILED at 1952\nHunk #2 FAILED at 1984\nHunk #3 FAILED at 1996\nHunk #4 succeeded at 2042 with fuzz 2 (offset 0 lines).\n3 out of 5 hunks FAILED -- saving rejects to file sage/combinat/words/finite_word.py.rej\nabort: patch failed to apply\n```",
    "created_at": "2011-12-18T14:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132474",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'>Comment 17:</a>
The first patch doesn't apply any more (to sage-4.8.alpha4):

```
applying /mnt/usb1/scratch/jdemeyer/merger/patches/trac_12150.patch
patching file sage/combinat/words/finite_word.py
Hunk #1 FAILED at 1952
Hunk #2 FAILED at 1984
Hunk #3 FAILED at 1996
Hunk #4 succeeded at 2042 with fuzz 2 (offset 0 lines).
3 out of 5 hunks FAILED -- saving rejects to file sage/combinat/words/finite_word.py.rej
abort: patch failed to apply
```



---

archive/issue_comments_132475.json:
```json
{
    "body": "apply 1st",
    "created_at": "2011-12-19T20:50:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132475",
    "user": "https://github.com/staroste"
}
```

apply 1st



---

archive/issue_comments_132476.json:
```json
{
    "body": "Attachment: **[trac_12150.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150.patch.gz)**\n\nAttachment: **[trac_12150-reviewed.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-reviewed.patch.gz)**\n\napply 3rd",
    "created_at": "2011-12-19T20:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132476",
    "user": "https://github.com/staroste"
}
```

Attachment: **[trac_12150.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150.patch.gz)**

Attachment: **[trac_12150-reviewed.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-reviewed.patch.gz)**

apply 3rd



---

archive/issue_comments_132477.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nReplying to [@jdemeyer](#comment%3A17):\n> The first patch doesn't apply any more (to sage-4.8.alpha4):\n\nSorry for the problems, it should be ok now.",
    "created_at": "2011-12-19T20:51:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132477",
    "user": "https://github.com/staroste"
}
```

<a id='comment:18'>Comment 18:</a>
Replying to [@jdemeyer](#comment%3A17):
> The first patch doesn't apply any more (to sage-4.8.alpha4):

Sorry for the problems, it should be ok now.



---

archive/issue_events_145654.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2011-12-20T14:39:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145654"
}
```



---

archive/issue_events_145655.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2011-12-20T14:39:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145655"
}
```



---

archive/issue_comments_132478.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nFor the patchbot:\n\nApply trac_12150.patch trac_12150-review.patch trac_12150-reviewed.patch trac_12150-review2.patch",
    "created_at": "2011-12-20T14:39:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132478",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:19'>Comment 19:</a>
For the patchbot:

Apply trac_12150.patch trac_12150-review.patch trac_12150-reviewed.patch trac_12150-review2.patch



---

archive/issue_events_145656.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-01-29T16:42:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145656"
}
```



---

archive/issue_events_145657.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-01-29T16:42:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145657"
}
```



---

archive/issue_comments_132479.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nConsidering it was already reviewed, I just checked it applied on beta1 and passes tests. And that went good `:-)`\n\nNathann",
    "created_at": "2012-01-29T16:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132479",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:20'>Comment 20:</a>
Considering it was already reviewed, I just checked it applied on beta1 and passes tests. And that went good `:-)`

Nathann



---

archive/issue_comments_132480.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -38,3 +38,9 @@\n sage: w.is_full(f)\n True\n ```\n+\n+Apply :\n+* [attachment: trac_12150.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150.patch.gz)\n+* [attachment: trac_12150-review.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review.patch.gz)\n+* [attachment: trac_12150-reviewed.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-reviewed.patch.gz)\n+* [attachment: trac_12150-review2.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review2.patch.gz)\n``````\n",
    "created_at": "2012-01-29T16:42:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132480",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -38,3 +38,9 @@
 sage: w.is_full(f)
 True
 ```
+
+Apply :
+* [attachment: trac_12150.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150.patch.gz)
+* [attachment: trac_12150-review.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review.patch.gz)
+* [attachment: trac_12150-reviewed.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-reviewed.patch.gz)
+* [attachment: trac_12150-review2.patch.gz](https://github.com/sagemath/sage/files/ticket12150/trac_12150-review2.patch.gz)
``````




---

archive/issue_comments_132481.json:
```json
{
    "body": "Merged: **sage-5.0.beta2**",
    "created_at": "2012-02-02T12:53:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132481",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.beta2**



---

archive/issue_events_145658.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-02T12:53:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145658"
}
```



---

archive/issue_events_145659.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-02T12:53:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12150#event-145659"
}
```



---

archive/issue_comments_132482.json:
```json
{
    "body": "Changed author from **Stepan Starosta** to **\u0160t\u011bp\u00e1n Starosta**",
    "created_at": "2016-10-31T17:06:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12150",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12150#issuecomment-132482",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **Stepan Starosta** to **Štěpán Starosta**
