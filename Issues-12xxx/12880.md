# Issue 12880: Inconsistent domain, codomain and parent in EllipticCurveIsogeny

archive/issues_012708.json:
```json
{
    "assignees": [],
    "body": "In the following example, the domain and codomain of phi do not match those of its parent::\n\n```\nsage: E = EllipticCurve(j=GF(7)(0))\nsage: phi = EllipticCurveIsogeny(E, [E(0), E((0,1)), E((0,-1))])\nsage: phi.parent()\nSet of Morphisms from Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 to Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 in Category of hom sets in Category of Schemes\nsage: phi.parent().domain()\nAbelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7\nsage: phi.domain()\nElliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7\nsage: phi.parent().codomain()\nAbelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7\nsage: phi.codomain()\nElliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7\n```\n\n\nDepends on #11474\n\n**Assignee:** @JohnCremona\n\n**CC:**  sage-combinat @pjbruin @defeo sbesnier\n\n**Keywords:** isogeny\n\n**Branch/Commit:** [02bc4122b7a49400e327f3a0259890eb0cce6705](https://github.com/sagemath/sagetrac-mirror/commit/02bc4122b7a49400e327f3a0259890eb0cce6705)\n\n**Reviewer:** Peter Bruin\n\n**Author:** S\u00e9bastien Besnier\n\nIssue created by migration from https://trac.sagemath.org/ticket/12880\n\n",
    "closed_at": "2014-07-17T13:57:30Z",
    "created_at": "2012-04-25T14:10:45Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20elliptic%20curves",
        "https://github.com/sagemath/sage/labels/minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Inconsistent domain, codomain and parent in EllipticCurveIsogeny",
    "type": "issue",
    "updated_at": "2014-07-17T13:57:30Z",
    "url": "https://github.com/sagemath/sage/issues/12880",
    "user": "https://github.com/nthiery"
}
```
In the following example, the domain and codomain of phi do not match those of its parent::

```
sage: E = EllipticCurve(j=GF(7)(0))
sage: phi = EllipticCurveIsogeny(E, [E(0), E((0,1)), E((0,-1))])
sage: phi.parent()
Set of Morphisms from Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 to Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 in Category of hom sets in Category of Schemes
sage: phi.parent().domain()
Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7
sage: phi.domain()
Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7
sage: phi.parent().codomain()
Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7
sage: phi.codomain()
Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7
```


Depends on #11474

**Assignee:** @JohnCremona

**CC:**  sage-combinat @pjbruin @defeo sbesnier

**Keywords:** isogeny

**Branch/Commit:** [02bc4122b7a49400e327f3a0259890eb0cce6705](https://github.com/sagemath/sagetrac-mirror/commit/02bc4122b7a49400e327f3a0259890eb0cce6705)

**Reviewer:** Peter Bruin

**Author:** SÃ©bastien Besnier

Issue created by migration from https://trac.sagemath.org/ticket/12880





---

archive/issue_events_150457.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-04-25T14:10:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150457"
}
```



---

archive/issue_events_150458.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-04-25T14:10:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
    "label_color": "08517b",
    "label_name": "component: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150458"
}
```



---

archive/issue_events_150459.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-04-25T14:10:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "008080",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150459"
}
```



---

archive/issue_events_150460.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2013-07-25T17:32:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
    "label_color": "08517b",
    "label_name": "component: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150460"
}
```



---

archive/issue_events_150461.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2013-07-25T17:32:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20elliptic%20curves",
    "label_color": "08517b",
    "label_name": "component: elliptic curves",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150461"
}
```



---

archive/issue_comments_147842.json:
```json
{
    "body": "**Changing assignee** from @williamstein to @JohnCremona.",
    "created_at": "2013-07-25T17:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147842",
    "user": "https://github.com/loefflerd"
}
```

**Changing assignee** from @williamstein to @JohnCremona.



---

archive/issue_events_150462.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150462"
}
```



---

archive/issue_events_150463.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150463"
}
```



---

archive/issue_events_150464.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150464"
}
```



---

archive/issue_events_150465.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150465"
}
```



---

archive/issue_comments_147843.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nI have used elliptic curve isogenies a huge amount and this has never bothered me, presumably because it never occurred to me to ask for the parent of an isogeny.  If anyone wants to change this without breaking anything they are welcome, but I don't care very much.",
    "created_at": "2014-04-07T20:08:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147843",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:5'>**Comment 5:**</a>
I have used elliptic curve isogenies a huge amount and this has never bothered me, presumably because it never occurred to me to ask for the parent of an isogeny.  If anyone wants to change this without breaking anything they are welcome, but I don't care very much.



---

archive/issue_events_150466.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-04-08T00:22:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/minor",
    "label_color": "ff0000",
    "label_name": "minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150466"
}
```



---

archive/issue_comments_147844.json:
```json
{
    "body": "**Dependencies:** #11474",
    "created_at": "2014-04-08T00:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147844",
    "user": "https://github.com/pjbruin"
}
```

**Dependencies:** #11474



---

archive/issue_comments_147845.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,16 +1,17 @@\n-In the following example, the domain and codomain of phi does not match with that of its parent::\n+In the following example, the domain and codomain of phi do not match those of its parent::\n \n ```\n-    sage: sage: E = EllipticCurve(j=GF(7)(0))\n-    sage: phi = EllipticCurveIsogeny(E, [E(0), E((0,1)), E((0,-1))])\n-    sage: phi.parent()\n-    Set of Morphisms from Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 to Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 in Category of hom sets in Category of Schemes\n-    sage: phi.parent().domain()\n-    Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7\n-    sage: phi.domain()\n-    Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7\n-    sage: phi.parent().codomain()\n-    Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7\n-    sage: phi.codomain()\n-    Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7\n+sage: E = EllipticCurve(j=GF(7)(0))\n+sage: phi = EllipticCurveIsogeny(E, [E(0), E((0,1)), E((0,-1))])\n+sage: phi.parent()\n+Set of Morphisms from Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 to Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 in Category of hom sets in Category of Schemes\n+sage: phi.parent().domain()\n+Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7\n+sage: phi.domain()\n+Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7\n+sage: phi.parent().codomain()\n+Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7\n+sage: phi.codomain()\n+Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7\n ```\n+\n``````\n",
    "created_at": "2014-04-08T00:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147845",
    "user": "https://github.com/pjbruin"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,16 +1,17 @@
-In the following example, the domain and codomain of phi does not match with that of its parent::
+In the following example, the domain and codomain of phi do not match those of its parent::
 
 ```
-    sage: sage: E = EllipticCurve(j=GF(7)(0))
-    sage: phi = EllipticCurveIsogeny(E, [E(0), E((0,1)), E((0,-1))])
-    sage: phi.parent()
-    Set of Morphisms from Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 to Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 in Category of hom sets in Category of Schemes
-    sage: phi.parent().domain()
-    Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7
-    sage: phi.domain()
-    Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7
-    sage: phi.parent().codomain()
-    Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7
-    sage: phi.codomain()
-    Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7
+sage: E = EllipticCurve(j=GF(7)(0))
+sage: phi = EllipticCurveIsogeny(E, [E(0), E((0,1)), E((0,-1))])
+sage: phi.parent()
+Set of Morphisms from Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 to Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 in Category of hom sets in Category of Schemes
+sage: phi.parent().domain()
+Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7
+sage: phi.domain()
+Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7
+sage: phi.parent().codomain()
+Abelian group of points on Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7
+sage: phi.codomain()
+Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7
 ```
+
``````




---

archive/issue_comments_147846.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\nIt should be very easy to fix in principle:\n\n```diff\ndiff --git a/src/sage/schemes/elliptic_curves/ell_curve_isogeny.py b/src/sage/schemes/e\nindex 5cdbbdf..a729d3a 100644\n--- a/src/sage/schemes/elliptic_curves/ell_curve_isogeny.py\n+++ b/src/sage/schemes/elliptic_curves/ell_curve_isogeny.py\n@@ -1322,12 +1322,9 @@ class EllipticCurveIsogeny(Morphism):\n         self._codomain = self.__E2\n \n         # sets up the parent\n-        parent = homset.Hom(self.__E1(0).parent(), self.__E2(0).parent())\n+        parent = homset.Hom(self.__E1, self.__E2)\n         Morphism.__init__(self, parent)\n \n-        return\n-\n-\n     # initializes the base field\n     def __init_algebraic_structs(self, E):\n         r\"\"\"\n```\nThe only problem is that this breaks testing for equality of isogenies, due to #11474.  Suppose `E -> E1` is an isogeny and `E2` is an elliptic curve that is equal but not *identical* to `E1`.  Then `Hom(E, E1)` and `Hom(E, E2)` will also be equal but not identical; since the coercion model assumes uniqueness of parents, it will never regard corresponding elements of `Hom(E, E1)` and `Hom(E, E2)` as equal.\n\nFor some reason the Hom sets between the groups of points, on the other hand, *are* identical, which explains why equality testing currently is not broken.",
    "created_at": "2014-04-08T00:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147846",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:6'>**Comment 6:**</a>
It should be very easy to fix in principle:

```diff
diff --git a/src/sage/schemes/elliptic_curves/ell_curve_isogeny.py b/src/sage/schemes/e
index 5cdbbdf..a729d3a 100644
--- a/src/sage/schemes/elliptic_curves/ell_curve_isogeny.py
+++ b/src/sage/schemes/elliptic_curves/ell_curve_isogeny.py
@@ -1322,12 +1322,9 @@ class EllipticCurveIsogeny(Morphism):
         self._codomain = self.__E2
 
         # sets up the parent
-        parent = homset.Hom(self.__E1(0).parent(), self.__E2(0).parent())
+        parent = homset.Hom(self.__E1, self.__E2)
         Morphism.__init__(self, parent)
 
-        return
-
-
     # initializes the base field
     def __init_algebraic_structs(self, E):
         r"""
```
The only problem is that this breaks testing for equality of isogenies, due to #11474.  Suppose `E -> E1` is an isogeny and `E2` is an elliptic curve that is equal but not *identical* to `E1`.  Then `Hom(E, E1)` and `Hom(E, E2)` will also be equal but not identical; since the coercion model assumes uniqueness of parents, it will never regard corresponding elements of `Hom(E, E1)` and `Hom(E, E2)` as equal.

For some reason the Hom sets between the groups of points, on the other hand, *are* identical, which explains why equality testing currently is not broken.



---

archive/issue_comments_147847.json:
```json
{
    "body": "**Branch:** [u/sbesnier/ticket/12880](https://github.com/sagemath/sagetrac-mirror/tree/u/sbesnier/ticket/12880)",
    "created_at": "2014-04-25T09:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147847",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

**Branch:** [u/sbesnier/ticket/12880](https://github.com/sagemath/sagetrac-mirror/tree/u/sbesnier/ticket/12880)



---

archive/issue_comments_147848.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de687fc9fd67d7015c908bd6f99e1a2207da1bbc\">de687fc</a></td><td><code>Correcting the ticket 12880. I've also make some modifications in order</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e623041b239f32098efb927f68a240529644b625\">e623041</a></td><td><code>Merge remote-tracking branch 'origin/develop'</code></td></tr></table>\n",
    "created_at": "2014-04-25T09:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147848",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

<a id='comment:8'>**Comment 8:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de687fc9fd67d7015c908bd6f99e1a2207da1bbc">de687fc</a></td><td><code>Correcting the ticket 12880. I've also make some modifications in order</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e623041b239f32098efb927f68a240529644b625">e623041</a></td><td><code>Merge remote-tracking branch 'origin/develop'</code></td></tr></table>




---

archive/issue_comments_147849.json:
```json
{
    "body": "**Commit:** [e623041b239f32098efb927f68a240529644b625](https://github.com/sagemath/sagetrac-mirror/commit/e623041b239f32098efb927f68a240529644b625)",
    "created_at": "2014-04-25T09:09:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147849",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

**Commit:** [e623041b239f32098efb927f68a240529644b625](https://github.com/sagemath/sagetrac-mirror/commit/e623041b239f32098efb927f68a240529644b625)



---

archive/issue_comments_147850.json:
```json
{
    "body": "**Author:** S\u00e9bastien Besnier",
    "created_at": "2014-04-25T09:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147850",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

**Author:** SÃ©bastien Besnier



---

archive/issue_comments_147851.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\nI've also make some modifications in order to make the composition working (essentially, remove the overload of `_composition_').",
    "created_at": "2014-04-25T09:12:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147851",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

<a id='comment:10'>**Comment 10:**</a>
I've also make some modifications in order to make the composition working (essentially, remove the overload of `_composition_').



---

archive/issue_events_150467.json:
```json
{
    "actor": "https://github.com/sagetrac-sbesnier",
    "created_at": "2014-04-25T10:00:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150467"
}
```



---

archive/issue_events_150468.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2014-04-25T14:55:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150468"
}
```



---

archive/issue_events_150469.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2014-04-25T14:55:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150469"
}
```



---

archive/issue_comments_147852.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\nWow. It's so cool to be finally able to compose isogenies!\n\nThere's various doctests failing in `ell_curve_isogeny.py`. Most of them are because of #11474, so they should be ok once that one's fixed. However there's one weird failure, not sure if it depends on #11474 too:\n\n```\nFile \"src/sage/schemes/elliptic_curves/ell_curve_isogeny.py\", line 945, in sage.schemes.elliptic_curves.ell_curve_isogeny.EllipticCurveIsogeny._call_\nFailed example:\n    phi(E(15,20), output_base_ring=GF(23^2,'alpha'))\nException raised:\n    Traceback (most recent call last):\n      File \"/home/dfl/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home/dfl/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.schemes.elliptic_curves.ell_curve_isogeny.EllipticCurveIsogeny._call_[6]>\", line 1, in <module>\n        phi(E(Integer(15),Integer(20)), output_base_ring=GF(Integer(23)**Integer(2),'alpha'))\n      File \"map.pyx\", line 764, in sage.categories.map.Map.__call__ (sage/categories/map.c:5434)\n      File \"map.pyx\", line 797, in sage.categories.map.Map._call_with_args (sage/categories/map.c:5698)\n    NotImplementedError: _call_with_args not overridden to accept arguments for <class 'sage.schemes.elliptic_curves.ell_curve_isogeny.EllipticCurveIsogeny'>\n```",
    "created_at": "2014-04-25T14:55:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147852",
    "user": "https://github.com/defeo"
}
```

<a id='comment:12'>**Comment 12:**</a>
Wow. It's so cool to be finally able to compose isogenies!

There's various doctests failing in `ell_curve_isogeny.py`. Most of them are because of #11474, so they should be ok once that one's fixed. However there's one weird failure, not sure if it depends on #11474 too:

```
File "src/sage/schemes/elliptic_curves/ell_curve_isogeny.py", line 945, in sage.schemes.elliptic_curves.ell_curve_isogeny.EllipticCurveIsogeny._call_
Failed example:
    phi(E(15,20), output_base_ring=GF(23^2,'alpha'))
Exception raised:
    Traceback (most recent call last):
      File "/home/dfl/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/home/dfl/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.schemes.elliptic_curves.ell_curve_isogeny.EllipticCurveIsogeny._call_[6]>", line 1, in <module>
        phi(E(Integer(15),Integer(20)), output_base_ring=GF(Integer(23)**Integer(2),'alpha'))
      File "map.pyx", line 764, in sage.categories.map.Map.__call__ (sage/categories/map.c:5434)
      File "map.pyx", line 797, in sage.categories.map.Map._call_with_args (sage/categories/map.c:5698)
    NotImplementedError: _call_with_args not overridden to accept arguments for <class 'sage.schemes.elliptic_curves.ell_curve_isogeny.EllipticCurveIsogeny'>
```



---

archive/issue_comments_147853.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\nOh I think I'm responsible for that. I've brutally renamed \"!__call!__\" to \"_call_\". I try to look at this.",
    "created_at": "2014-04-25T15:04:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147853",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

<a id='comment:13'>**Comment 13:**</a>
Oh I think I'm responsible for that. I've brutally renamed "!__call!__" to "_call_". I try to look at this.



---

archive/issue_comments_147854.json:
```json
{
    "body": "**Changing commit** from \"[e623041b239f32098efb927f68a240529644b625](https://github.com/sagemath/sagetrac-mirror/commit/e623041b239f32098efb927f68a240529644b625)\" to \"[b486f244b98a16b144cd45399eee3112ed5f824b](https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b)\".",
    "created_at": "2014-04-25T17:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147854",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[e623041b239f32098efb927f68a240529644b625](https://github.com/sagemath/sagetrac-mirror/commit/e623041b239f32098efb927f68a240529644b625)" to "[b486f244b98a16b144cd45399eee3112ed5f824b](https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b)".



---

archive/issue_comments_147855.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b\">b486f24</a></td><td><code>Fix parents, domain, codomain and `_composition_` isogenies.</code></td></tr></table>\n",
    "created_at": "2014-04-25T17:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147855",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>**Comment 14:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b">b486f24</a></td><td><code>Fix parents, domain, codomain and `_composition_` isogenies.</code></td></tr></table>




---

archive/issue_events_150470.json:
```json
{
    "actor": "https://github.com/sagetrac-sbesnier",
    "created_at": "2014-04-25T17:39:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150470"
}
```



---

archive/issue_events_150471.json:
```json
{
    "actor": "https://github.com/sagetrac-sbesnier",
    "created_at": "2014-04-25T17:39:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150471"
}
```



---

archive/issue_comments_147856.json:
```json
{
    "body": "<a id='comment:16'>**Comment 16:**</a>\nI've moved the \"weird failure\" reported at the comment 12 in #16238. Currently, the only failures on doctests depend on #11474.\n\nIt's one of the first time I use git and I had to change the history of the branch because of bad manipulations. I hope it won't bother anybody... Promise I won't do that again!",
    "created_at": "2014-04-25T17:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147856",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

<a id='comment:16'>**Comment 16:**</a>
I've moved the "weird failure" reported at the comment 12 in #16238. Currently, the only failures on doctests depend on #11474.

It's one of the first time I use git and I had to change the history of the branch because of bad manipulations. I hope it won't bother anybody... Promise I won't do that again!



---

archive/issue_comments_147857.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\nReplying to [sbesnier](#comment%3A10):\n> I've also make some modifications in order to make the composition working (essentially, remove the overload of `_composition_').\n\nThis looks good to me overall.  The main thing I am wondering about is if it wouldn't make sense to keep the current version of `_composition_` (raise a `NotImplementedError`) until we have real composition of isogenies.  What I mean is that with your change, we just get a \"formal\" composition of two isogenies.  Although this may be good enough for some applications, what we really want is to compute the actual polynomials defining the composed isogeny.  From that perspective I wouldn't say that removing the method \"makes composition work\".\n\nThe question is whether it is worth having a \"formal\" composition in the (hopefully short!) time interval until we have \"flesh-and-blood\" composition of isogenies.  In other words, wouldn't it be reasonable to just make the following doctest change instead of removing the `_composition_()` method?\n\n```diff\ndiff --git a/src/sage/schemes/elliptic_curves/ell_curve_isogeny.py b/src/sage/schemes/elliptic_\ncurves/ell_curve_isogeny.py\nindex 101b81e..8b18590 100644\n--- a/src/sage/schemes/elliptic_curves/ell_curve_isogeny.py\n+++ b/src/sage/schemes/elliptic_curves/ell_curve_isogeny.py\n@@ -3342,21 +3301,12 @@ class EllipticCurveIsogeny(Morphism):\n             ...\n             NotImplementedError\n\n-        The following should test that :meth:`_composition_` is called\n-        upon a product. However phi is currently improperly\n-        constructed (see :trac:`12880`), which triggers an assertion\n-        failure before the actual call ::\n+        The following tests that :meth:`_composition_` is called upon\n+        a product (see :trac:`12880`)::\n\n             sage: phi*phi\n             Traceback (most recent call last):\n             ...\n-            TypeError: Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 is not in Category of hom sets in Category of Schemes\n-\n-        Here would be the desired output::\n-\n-            sage: phi*phi            # not tested\n-            Traceback (most recent call last):\n-            ...\n             NotImplementedError\n         \"\"\"\n         raise NotImplementedError\n```\n\nAnother small request: would it be possible to keep the doctests of `domain()` and `codomain()` and move them to another place, instead of deleting them together with the methods?",
    "created_at": "2014-04-25T23:00:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147857",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:17'>**Comment 17:**</a>
Replying to [sbesnier](#comment%3A10):
> I've also make some modifications in order to make the composition working (essentially, remove the overload of `_composition_').

This looks good to me overall.  The main thing I am wondering about is if it wouldn't make sense to keep the current version of `_composition_` (raise a `NotImplementedError`) until we have real composition of isogenies.  What I mean is that with your change, we just get a "formal" composition of two isogenies.  Although this may be good enough for some applications, what we really want is to compute the actual polynomials defining the composed isogeny.  From that perspective I wouldn't say that removing the method "makes composition work".

The question is whether it is worth having a "formal" composition in the (hopefully short!) time interval until we have "flesh-and-blood" composition of isogenies.  In other words, wouldn't it be reasonable to just make the following doctest change instead of removing the `_composition_()` method?

```diff
diff --git a/src/sage/schemes/elliptic_curves/ell_curve_isogeny.py b/src/sage/schemes/elliptic_
curves/ell_curve_isogeny.py
index 101b81e..8b18590 100644
--- a/src/sage/schemes/elliptic_curves/ell_curve_isogeny.py
+++ b/src/sage/schemes/elliptic_curves/ell_curve_isogeny.py
@@ -3342,21 +3301,12 @@ class EllipticCurveIsogeny(Morphism):
             ...
             NotImplementedError

-        The following should test that :meth:`_composition_` is called
-        upon a product. However phi is currently improperly
-        constructed (see :trac:`12880`), which triggers an assertion
-        failure before the actual call ::
+        The following tests that :meth:`_composition_` is called upon
+        a product (see :trac:`12880`)::

             sage: phi*phi
             Traceback (most recent call last):
             ...
-            TypeError: Elliptic Curve defined by y^2 = x^3 + 1 over Finite Field of size 7 is not in Category of hom sets in Category of Schemes
-
-        Here would be the desired output::
-
-            sage: phi*phi            # not tested
-            Traceback (most recent call last):
-            ...
             NotImplementedError
         """
         raise NotImplementedError
```

Another small request: would it be possible to keep the doctests of `domain()` and `codomain()` and move them to another place, instead of deleting them together with the methods?



---

archive/issue_comments_147858.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\nAlternatively, instead of the `NotImplementedError`, we could temporarily \"implement\" `_composition_()` as\n\n```\nreturn super(EllipticCurveIsogeny, self)._composition_(self, right, homset)`\n```\nThis just calls the method of the superclass and hence is practically the same as deleting the method, but it makes it clearer where the \"real\" `_composition_()` will have to be implemented.",
    "created_at": "2014-04-25T23:24:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147858",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:18'>**Comment 18:**</a>
Alternatively, instead of the `NotImplementedError`, we could temporarily "implement" `_composition_()` as

```
return super(EllipticCurveIsogeny, self)._composition_(self, right, homset)`
```
This just calls the method of the superclass and hence is practically the same as deleting the method, but it makes it clearer where the "real" `_composition_()` will have to be implemented.



---

archive/issue_events_150472.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-04-25T23:26:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150472"
}
```



---

archive/issue_events_150473.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-04-25T23:26:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150473"
}
```



---

archive/issue_comments_147859.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\nOne last thing: whatever the fate of `_composition_()`, can we at least keep the doctests for that method too?",
    "created_at": "2014-04-25T23:26:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147859",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:19'>**Comment 19:**</a>
One last thing: whatever the fate of `_composition_()`, can we at least keep the doctests for that method too?



---

archive/issue_comments_147860.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\nBy the way, there is a \"wishlist\" ticket at #7368 that also includes composition of isogenies.  I think we should open a separate ticket for composition, since we are obviously not going to do all of #7368 at the same time.",
    "created_at": "2014-04-25T23:30:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147860",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:20'>**Comment 20:**</a>
By the way, there is a "wishlist" ticket at #7368 that also includes composition of isogenies.  I think we should open a separate ticket for composition, since we are obviously not going to do all of #7368 at the same time.



---

archive/issue_comments_147861.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\n> This looks good to me overall.  The main thing I am wondering about is if it wouldn't make sense to keep the current version of `_composition_` (raise a `NotImplementedError`) until we have real composition of isogenies.  What I mean is that with your change, we just get a \"formal\" composition of two isogenies.  Although this may be good enough for some applications, what we really want is to compute the actual polynomials defining the composed isogeny.  From that perspective I wouldn't say that removing the method \"makes composition work\".\n\nI'd rather say the opposite. There are applications where formal composition is the desired result.\n\nFormal composition is essentially free, while \"flesh-and-blood\" composition may be expensive (exponential in the length of the chain). There are cryptosystems that exploit this fact, Sage should make it easy to implement them in a few lines of code.\n\nI'm more in favour of using formal composition by default, and having a method (`.normalize()`, maybe?) to compute the \"flesh-and-blood\" version. Subsidiary question\u202f: what should equality do in this case?\n\n> I think we should open a separate ticket for composition, since we are obviously not going to do all of #7368 at the same time. \n\nAgreed. It would be a better place to continue this discussion.",
    "created_at": "2014-04-26T00:08:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147861",
    "user": "https://github.com/defeo"
}
```

<a id='comment:21'>**Comment 21:**</a>
> This looks good to me overall.  The main thing I am wondering about is if it wouldn't make sense to keep the current version of `_composition_` (raise a `NotImplementedError`) until we have real composition of isogenies.  What I mean is that with your change, we just get a "formal" composition of two isogenies.  Although this may be good enough for some applications, what we really want is to compute the actual polynomials defining the composed isogeny.  From that perspective I wouldn't say that removing the method "makes composition work".

I'd rather say the opposite. There are applications where formal composition is the desired result.

Formal composition is essentially free, while "flesh-and-blood" composition may be expensive (exponential in the length of the chain). There are cryptosystems that exploit this fact, Sage should make it easy to implement them in a few lines of code.

I'm more in favour of using formal composition by default, and having a method (`.normalize()`, maybe?) to compute the "flesh-and-blood" version. Subsidiary questionâ¯: what should equality do in this case?

> I think we should open a separate ticket for composition, since we are obviously not going to do all of #7368 at the same time. 

Agreed. It would be a better place to continue this discussion.



---

archive/issue_comments_147862.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\nI've corrected the things pointed by Peter (essentially, doctests).I've made a \"push\" but it doesnt seem to appear here...\n\nEdit: hum... I think I have to update the \"commit\" attribute of the ticket, but it always fails. The new commit is : 73d99af403e760801ae2576dfbb6f7629d629f30, it's visible from sage.git : https://github.com/sagemath/sagetrac-mirror/commit/73d99af403e760801ae2576dfbb6f7629d629f30\n\nWhat am I doing wrong?",
    "created_at": "2014-04-26T20:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147862",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

<a id='comment:22'>**Comment 22:**</a>
I've corrected the things pointed by Peter (essentially, doctests).I've made a "push" but it doesnt seem to appear here...

Edit: hum... I think I have to update the "commit" attribute of the ticket, but it always fails. The new commit is : 73d99af403e760801ae2576dfbb6f7629d629f30, it's visible from sage.git : https://github.com/sagemath/sagetrac-mirror/commit/73d99af403e760801ae2576dfbb6f7629d629f30

What am I doing wrong?



---

archive/issue_events_150474.json:
```json
{
    "actor": "https://github.com/sagetrac-sbesnier",
    "created_at": "2014-04-26T20:44:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150474"
}
```



---

archive/issue_events_150475.json:
```json
{
    "actor": "https://github.com/sagetrac-sbesnier",
    "created_at": "2014-04-26T20:44:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150475"
}
```



---

archive/issue_comments_147863.json:
```json
{
    "body": "**Changing commit** from \"[b486f244b98a16b144cd45399eee3112ed5f824b](https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b)\" to \"\".",
    "created_at": "2014-04-26T21:52:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147863",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

**Changing commit** from "[b486f244b98a16b144cd45399eee3112ed5f824b](https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b)" to "".



---

archive/issue_comments_147864.json:
```json
{
    "body": "**Changing branch** from \"[u/sbesnier/ticket/12880](https://github.com/sagemath/sagetrac-mirror/tree/u/sbesnier/ticket/12880)\" to \"\".",
    "created_at": "2014-04-26T21:52:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147864",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

**Changing branch** from "[u/sbesnier/ticket/12880](https://github.com/sagemath/sagetrac-mirror/tree/u/sbesnier/ticket/12880)" to "".



---

archive/issue_comments_147865.json:
```json
{
    "body": "**Branch:** [u/sbesnier/ticket/12880](https://github.com/sagemath/sagetrac-mirror/tree/u/sbesnier/ticket/12880)",
    "created_at": "2014-04-26T21:52:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147865",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

**Branch:** [u/sbesnier/ticket/12880](https://github.com/sagemath/sagetrac-mirror/tree/u/sbesnier/ticket/12880)



---

archive/issue_comments_147866.json:
```json
{
    "body": "<a id='comment:24'>**Comment 24:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b\">b486f24</a></td><td><code>Fix parents, domain, codomain and `_composition_` isogenies.</code></td></tr></table>\n",
    "created_at": "2014-04-26T21:52:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147866",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

<a id='comment:24'>**Comment 24:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b">b486f24</a></td><td><code>Fix parents, domain, codomain and `_composition_` isogenies.</code></td></tr></table>




---

archive/issue_comments_147867.json:
```json
{
    "body": "**Commit:** [b486f244b98a16b144cd45399eee3112ed5f824b](https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b)",
    "created_at": "2014-04-26T21:52:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147867",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

**Commit:** [b486f244b98a16b144cd45399eee3112ed5f824b](https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b)



---

archive/issue_comments_147868.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b\">b486f24</a></td><td><code>Fix parents, domain, codomain and `_composition_` isogenies.</code></td></tr></table>\n",
    "created_at": "2014-04-26T22:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147868",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

<a id='comment:25'>**Comment 25:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b">b486f24</a></td><td><code>Fix parents, domain, codomain and `_composition_` isogenies.</code></td></tr></table>




---

archive/issue_comments_147869.json:
```json
{
    "body": "<a id='comment:26'>**Comment 26:**</a>\n> Edit: hum... I think I have to update the \"commit\" attribute of the ticket, but it always fails. The new commit is : 73d99af403e760801ae2576dfbb6f7629d629f30, it's visible from sage.git : https://github.com/sagemath/sagetrac-mirror/commit/73d99af403e760801ae2576dfbb6f7629d629f30\n\nThe 'commit' field is not meant to be edited manually. Changing it has no effect.\n\nThere are two similarly named branches on trac: `u/sbesnier/ticket/12880` and `u/sbesnier/ticket12880`. Maybe you wanted the second one (change the 'branch' field in this case).",
    "created_at": "2014-04-26T22:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147869",
    "user": "https://github.com/defeo"
}
```

<a id='comment:26'>**Comment 26:**</a>
> Edit: hum... I think I have to update the "commit" attribute of the ticket, but it always fails. The new commit is : 73d99af403e760801ae2576dfbb6f7629d629f30, it's visible from sage.git : https://github.com/sagemath/sagetrac-mirror/commit/73d99af403e760801ae2576dfbb6f7629d629f30

The 'commit' field is not meant to be edited manually. Changing it has no effect.

There are two similarly named branches on trac: `u/sbesnier/ticket/12880` and `u/sbesnier/ticket12880`. Maybe you wanted the second one (change the 'branch' field in this case).



---

archive/issue_comments_147870.json:
```json
{
    "body": "**Changing commit** from \"[b486f244b98a16b144cd45399eee3112ed5f824b](https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b)\" to \"[73d99af403e760801ae2576dfbb6f7629d629f30](https://github.com/sagemath/sagetrac-mirror/commit/73d99af403e760801ae2576dfbb6f7629d629f30)\".",
    "created_at": "2014-04-26T22:46:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147870",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

**Changing commit** from "[b486f244b98a16b144cd45399eee3112ed5f824b](https://github.com/sagemath/sagetrac-mirror/commit/b486f244b98a16b144cd45399eee3112ed5f824b)" to "[73d99af403e760801ae2576dfbb6f7629d629f30](https://github.com/sagemath/sagetrac-mirror/commit/73d99af403e760801ae2576dfbb6f7629d629f30)".



---

archive/issue_comments_147871.json:
```json
{
    "body": "<a id='comment:27'>**Comment 27:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73d99af403e760801ae2576dfbb6f7629d629f30\">73d99af</a></td><td><code>Corrects the precedent commit.</code></td></tr></table>\n",
    "created_at": "2014-04-26T22:46:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147871",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

<a id='comment:27'>**Comment 27:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73d99af403e760801ae2576dfbb6f7629d629f30">73d99af</a></td><td><code>Corrects the precedent commit.</code></td></tr></table>




---

archive/issue_comments_147872.json:
```json
{
    "body": "**Changing branch** from \"[u/sbesnier/ticket/12880](https://github.com/sagemath/sagetrac-mirror/tree/u/sbesnier/ticket/12880)\" to \"[u/sbesnier/ticket12880](https://github.com/sagemath/sagetrac-mirror/tree/u/sbesnier/ticket12880)\".",
    "created_at": "2014-04-26T22:46:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147872",
    "user": "https://github.com/sagetrac-sbesnier"
}
```

**Changing branch** from "[u/sbesnier/ticket/12880](https://github.com/sagemath/sagetrac-mirror/tree/u/sbesnier/ticket/12880)" to "[u/sbesnier/ticket12880](https://github.com/sagemath/sagetrac-mirror/tree/u/sbesnier/ticket12880)".



---

archive/issue_comments_147873.json:
```json
{
    "body": "<a id='comment:28'>**Comment 28:**</a>\nA few small stylistic comments about docstrings:\n- To refer to Trac tickets, use the syntax <code>:trac:\\`12880\\`</code> (in the HTML documentation, this is expanded to \"Trac ticket 12880\" and becomes a link).\n- Usually `TESTS:` or `TESTS::` is kept on a line by itself and, if relevant, there is a separate line of explanation referring to the specific issue, i.e. one of the following:\n\n```\nTESTS::\n\n    sage: 2 + 2\n    4\n\n----\n\nTESTS:\n\nCheck that `2 + 2 = 4` (see :trac:`12880`)::\n\n    sage: 2 + 2\n    4\n```\n- In English, unlike in French, there is no space before the punctuation marks : ; ? !",
    "created_at": "2014-04-28T11:23:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147873",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:28'>**Comment 28:**</a>
A few small stylistic comments about docstrings:
- To refer to Trac tickets, use the syntax <code>:trac:\`12880\`</code> (in the HTML documentation, this is expanded to "Trac ticket 12880" and becomes a link).
- Usually `TESTS:` or `TESTS::` is kept on a line by itself and, if relevant, there is a separate line of explanation referring to the specific issue, i.e. one of the following:

```
TESTS::

    sage: 2 + 2
    4

----

TESTS:

Check that `2 + 2 = 4` (see :trac:`12880`)::

    sage: 2 + 2
    4
```
- In English, unlike in French, there is no space before the punctuation marks : ; ? !



---

archive/issue_comments_147874.json:
```json
{
    "body": "**Changing commit** from \"[73d99af403e760801ae2576dfbb6f7629d629f30](https://github.com/sagemath/sagetrac-mirror/commit/73d99af403e760801ae2576dfbb6f7629d629f30)\" to \"[09fdbedfa23931be1035e8860c61eb4a233b61ea](https://github.com/sagemath/sagetrac-mirror/commit/09fdbedfa23931be1035e8860c61eb4a233b61ea)\".",
    "created_at": "2014-04-28T11:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147874",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[73d99af403e760801ae2576dfbb6f7629d629f30](https://github.com/sagemath/sagetrac-mirror/commit/73d99af403e760801ae2576dfbb6f7629d629f30)" to "[09fdbedfa23931be1035e8860c61eb4a233b61ea](https://github.com/sagemath/sagetrac-mirror/commit/09fdbedfa23931be1035e8860c61eb4a233b61ea)".



---

archive/issue_comments_147875.json:
```json
{
    "body": "<a id='comment:29'>**Comment 29:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09fdbedfa23931be1035e8860c61eb4a233b61ea\">09fdbed</a></td><td><code>Corrects stylistic staff in doctests.</code></td></tr></table>\n",
    "created_at": "2014-04-28T11:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147875",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'>**Comment 29:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09fdbedfa23931be1035e8860c61eb4a233b61ea">09fdbed</a></td><td><code>Corrects stylistic staff in doctests.</code></td></tr></table>




---

archive/issue_events_150476.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150476"
}
```



---

archive/issue_events_150477.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150477"
}
```



---

archive/issue_comments_147876.json:
```json
{
    "body": "**Changing branch** from \"[u/sbesnier/ticket12880](https://github.com/sagemath/sagetrac-mirror/tree/u/sbesnier/ticket12880)\" to \"[u/pbruin/12880-isogeny_parent](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/12880-isogeny_parent)\".",
    "created_at": "2014-07-16T21:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147876",
    "user": "https://github.com/pjbruin"
}
```

**Changing branch** from "[u/sbesnier/ticket12880](https://github.com/sagemath/sagetrac-mirror/tree/u/sbesnier/ticket12880)" to "[u/pbruin/12880-isogeny_parent](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/12880-isogeny_parent)".



---

archive/issue_comments_147877.json:
```json
{
    "body": "**Changing commit** from \"[09fdbedfa23931be1035e8860c61eb4a233b61ea](https://github.com/sagemath/sagetrac-mirror/commit/09fdbedfa23931be1035e8860c61eb4a233b61ea)\" to \"[02bc4122b7a49400e327f3a0259890eb0cce6705](https://github.com/sagemath/sagetrac-mirror/commit/02bc4122b7a49400e327f3a0259890eb0cce6705)\".",
    "created_at": "2014-07-16T21:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147877",
    "user": "https://github.com/pjbruin"
}
```

**Changing commit** from "[09fdbedfa23931be1035e8860c61eb4a233b61ea](https://github.com/sagemath/sagetrac-mirror/commit/09fdbedfa23931be1035e8860c61eb4a233b61ea)" to "[02bc4122b7a49400e327f3a0259890eb0cce6705](https://github.com/sagemath/sagetrac-mirror/commit/02bc4122b7a49400e327f3a0259890eb0cce6705)".



---

archive/issue_events_150478.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-07-16T21:41:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150478"
}
```



---

archive/issue_events_150479.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-07-16T21:41:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150479"
}
```



---

archive/issue_comments_147878.json:
```json
{
    "body": "<a id='comment:31'>**Comment 31:**</a>\nI'm happy with this and it passes all tests (when the dependencies are merged, of course).  The reviewer patch just fixes a trivial merge conflict and whitespace.",
    "created_at": "2014-07-16T21:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147878",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:31'>**Comment 31:**</a>
I'm happy with this and it passes all tests (when the dependencies are merged, of course).  The reviewer patch just fixes a trivial merge conflict and whitespace.



---

archive/issue_comments_147879.json:
```json
{
    "body": "**Reviewer:** Peter Bruin",
    "created_at": "2014-07-16T21:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147879",
    "user": "https://github.com/pjbruin"
}
```

**Reviewer:** Peter Bruin



---

archive/issue_comments_147880.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"isogeny\".",
    "created_at": "2014-07-16T21:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147880",
    "user": "https://github.com/pjbruin"
}
```

**Changing keywords** from "" to "isogeny".



---

archive/issue_events_150480.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-17T13:57:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150480"
}
```



---

archive/issue_events_150481.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f367c683781eaee800fba634ebfac74cc208d89f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-07-17T13:57:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12880#event-150481"
}
```



---

archive/issue_comments_147881.json:
```json
{
    "body": "**Changing branch** from \"[u/pbruin/12880-isogeny_parent](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/12880-isogeny_parent)\" to \"[02bc4122b7a49400e327f3a0259890eb0cce6705](https://github.com/sagemath/sagetrac-mirror/commit/02bc4122b7a49400e327f3a0259890eb0cce6705)\".",
    "created_at": "2014-07-17T13:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12880#issuecomment-147881",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/pbruin/12880-isogeny_parent](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/12880-isogeny_parent)" to "[02bc4122b7a49400e327f3a0259890eb0cce6705](https://github.com/sagemath/sagetrac-mirror/commit/02bc4122b7a49400e327f3a0259890eb0cce6705)".
