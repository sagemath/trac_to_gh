# Issue 12407: Add the set of PrimitiveGroups

archive/issues_012235.json:
```json
{
    "assignees": [
        "https://github.com/wdjoyner"
    ],
    "body": "This patch implements the finite enumerated set of primitive permutation groups of a given degree, and the infinite enumerated set of all primitive permutation groups. It is based on the work done in #8500 for transitive permutation groups.\n\nThis allows a user to do:\n\n```\nsage: PrimitiveGroups(4).cardinality()\n\nsage: for G in PrimitiveGroups(i):\n...       any_test(G)  # any test over all primitive groups of a given degree\n\nsage: for G in PrimitiveGroups():\n...       other_test(G) # test over all primitive groups\n```\nThis requires the optional database_gap which contains all the primitive permutation groups of degree <= 2499. Therefore, in practice, the enumeration stops with a NonImplementedError? \n\n**Apply** [attachment: trac_12407_primitive_permutation_groups.patch](https://github.com/sagemath/sage/files/ticket12407/trac_12407_primitive_permutation_groups.patch.gz), [attachment: trac_12407_review.patch](https://github.com/sagemath/sage/files/ticket12407/trac_12407_review.patch.gz), [attachment: trac_12407_fix_testcases.patch](https://github.com/sagemath/sage/files/ticket12407/trac_12407_fix_testcases.patch.gz)\n\nComponent: **group theory**\n\nKeywords: **primitive groups**\n\nAuthor: **Thomas Rehn**\n\nReviewer: **Vincent Delecroix, Volker Braun**\n\nMerged: **sage-5.6.beta1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12407_\n\n",
    "closed_at": "2012-12-21T09:31:13Z",
    "created_at": "2012-02-01T10:28:25Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/c%3A%20group%20theory"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add the set of PrimitiveGroups",
    "type": "issue",
    "updated_at": "2012-12-21T09:31:13Z",
    "url": "https://github.com/sagemath/sage/issues/12407",
    "user": "https://github.com/sagetrac-trehn"
}
```
This patch implements the finite enumerated set of primitive permutation groups of a given degree, and the infinite enumerated set of all primitive permutation groups. It is based on the work done in #8500 for transitive permutation groups.

This allows a user to do:

```
sage: PrimitiveGroups(4).cardinality()

sage: for G in PrimitiveGroups(i):
...       any_test(G)  # any test over all primitive groups of a given degree

sage: for G in PrimitiveGroups():
...       other_test(G) # test over all primitive groups
```
This requires the optional database_gap which contains all the primitive permutation groups of degree <= 2499. Therefore, in practice, the enumeration stops with a NonImplementedError? 

**Apply** [attachment: trac_12407_primitive_permutation_groups.patch](https://github.com/sagemath/sage/files/ticket12407/trac_12407_primitive_permutation_groups.patch.gz), [attachment: trac_12407_review.patch](https://github.com/sagemath/sage/files/ticket12407/trac_12407_review.patch.gz), [attachment: trac_12407_fix_testcases.patch](https://github.com/sagemath/sage/files/ticket12407/trac_12407_fix_testcases.patch.gz)

Component: **group theory**

Keywords: **primitive groups**

Author: **Thomas Rehn**

Reviewer: **Vincent Delecroix, Volker Braun**

Merged: **sage-5.6.beta1**

_Issue created by migration from https://trac.sagemath.org/ticket/12407_





---

archive/issue_events_167668.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-02-01T10:28:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "milestone_number": null,
    "milestone_title": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167668"
}
```



---

archive/issue_events_167669.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-02-01T10:28:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "c: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167669"
}
```



---

archive/issue_events_167670.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-02-01T10:28:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167670"
}
```



---

archive/issue_events_167671.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-02-01T10:28:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167671"
}
```



---

archive/issue_events_167672.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-02-01T10:28:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "c: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167672"
}
```



---

archive/issue_events_167673.json:
```json
{
    "actor": "https://github.com/wdjoyner",
    "created_at": "2012-02-01T10:28:25Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "subject": "https://github.com/sagetrac-trehn",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167673"
}
```



---

archive/issue_events_167674.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-02-01T10:32:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167674"
}
```



---

archive/issue_comments_135692.json:
```json
{
    "body": "Reviewer: **vdelecroix**",
    "created_at": "2012-03-24T00:50:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135692",
    "user": "https://github.com/videlec"
}
```

Reviewer: **vdelecroix**



---

archive/issue_events_167675.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2012-03-24T00:50:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167675"
}
```



---

archive/issue_events_167676.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2012-03-24T00:50:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167676"
}
```



---

archive/issue_comments_135693.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHi,\n\nNice patch (I will need it ;-)).\n\n0) The primitive groups are up to isomorphism which is not mentioned in the documentation!\n\n1) Why do you use a specific class PrimitiveGroup? The simpler\n\n```\nsage: PermutationGroup(gap_group = gap.PrimitiveGroup(7,3))\nPermutation Group with generators [(2,4,6)(3,5,7), (1,2,4,3,6,7,5)]\n```\nseems more natural to me. The only modifications I see in your new class are the inheritance from UniqueRepresentation and the method `_repr_` (see also remark 3 below) and the inheritance from UniqueRepresentation.\n\n2) To be complient with GAP you decide to start numerotation from 1 which, from my point of view, is better. However, there can be some confusion with Python convention of starting list from 0. In particular the following behavior may appear strange:\n\n```\nsage: P=PrimitiveGroups(4)\nsage: p=P[2]\nsage: p\nPrimitive group number 2 of degree 4\nsage: P.rank(p)\n1\nsage: P.unrank(1)     \nPrimitive group number 2 of degree 4\n```\nCould you make it explicit in the documentation?\n\n3) The names provided by GAP are by far more useful than \"Primitive group number x of degree y\":\n\n```\nsage: gap.PrimitiveGroup(3,2)\nS(3)\nsage: gap.PrimitiveGroup(5,2)\nD(2*5)\nsage: gap.PrimitiveGroup(10,3)\nPSL(2, 9)\n```\nWhat do you think?\n\n4) Moreover, GAP provides a very nice function to identify groups in the database\n\n```\nsage: P=PermutationGroup(('(4,5)(6,7)(8,9)(11,12)', '(1,2,3,4,6,8,10,5,7,11,9)'))\nsage: P\nPermutation Group with generators [(4,5)(6,7)(8,9)(11,12), (1,2,3,4,6,8,10,5,7,11,9)]\nsage: gap.PrimitiveIdentification(P)\n2\nsage: gap.PrimitiveGroup(12, 2)\nM(12)\n```\nCould you implement it as a method of PermutationGroup? For sure, if you decide to keep the class PrimitiveGroup the method should be overwritten. Notice that the method .group_id() and aliased as .id() of PermutationGroup returns the index of G in the database of all permutation groups. The method for primitive groups could hence be named group_id_primtive() aliased as .id_primitive().",
    "created_at": "2012-03-24T00:50:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135693",
    "user": "https://github.com/videlec"
}
```

<div id="comment:2" align="right">comment:2</div>

Hi,

Nice patch (I will need it ;-)).

0) The primitive groups are up to isomorphism which is not mentioned in the documentation!

1) Why do you use a specific class PrimitiveGroup? The simpler

```
sage: PermutationGroup(gap_group = gap.PrimitiveGroup(7,3))
Permutation Group with generators [(2,4,6)(3,5,7), (1,2,4,3,6,7,5)]
```
seems more natural to me. The only modifications I see in your new class are the inheritance from UniqueRepresentation and the method `_repr_` (see also remark 3 below) and the inheritance from UniqueRepresentation.

2) To be complient with GAP you decide to start numerotation from 1 which, from my point of view, is better. However, there can be some confusion with Python convention of starting list from 0. In particular the following behavior may appear strange:

```
sage: P=PrimitiveGroups(4)
sage: p=P[2]
sage: p
Primitive group number 2 of degree 4
sage: P.rank(p)
1
sage: P.unrank(1)     
Primitive group number 2 of degree 4
```
Could you make it explicit in the documentation?

3) The names provided by GAP are by far more useful than "Primitive group number x of degree y":

```
sage: gap.PrimitiveGroup(3,2)
S(3)
sage: gap.PrimitiveGroup(5,2)
D(2*5)
sage: gap.PrimitiveGroup(10,3)
PSL(2, 9)
```
What do you think?

4) Moreover, GAP provides a very nice function to identify groups in the database

```
sage: P=PermutationGroup(('(4,5)(6,7)(8,9)(11,12)', '(1,2,3,4,6,8,10,5,7,11,9)'))
sage: P
Permutation Group with generators [(4,5)(6,7)(8,9)(11,12), (1,2,3,4,6,8,10,5,7,11,9)]
sage: gap.PrimitiveIdentification(P)
2
sage: gap.PrimitiveGroup(12, 2)
M(12)
```
Could you implement it as a method of PermutationGroup? For sure, if you decide to keep the class PrimitiveGroup the method should be overwritten. Notice that the method .group_id() and aliased as .id() of PermutationGroup returns the index of G in the database of all permutation groups. The method for primitive groups could hence be named group_id_primtive() aliased as .id_primitive().



---

archive/issue_comments_135694.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThank you very much for your feedback. I think I can improve these issues.\n\nFor consistency I probably would also have to change the TransitiveGroups code, which I took as a basis for copy-and-paste.",
    "created_at": "2012-04-02T17:11:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135694",
    "user": "https://github.com/sagetrac-trehn"
}
```

<div id="comment:3" align="right">comment:3</div>

Thank you very much for your feedback. I think I can improve these issues.

For consistency I probably would also have to change the TransitiveGroups code, which I took as a basis for copy-and-paste.



---

archive/issue_events_167677.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-04-05T09:28:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167677"
}
```



---

archive/issue_events_167678.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-04-05T09:28:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167678"
}
```



---

archive/issue_comments_135695.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI decided to keep the PrimitiveGroup class because it is a convenient way to get a specific primitive group. Moreover, I updated the documentation and included the \"GAP name\" into _repr_. Now there also is a 'primitive_id()' method of PermutationGroup.",
    "created_at": "2012-04-05T09:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135695",
    "user": "https://github.com/sagetrac-trehn"
}
```

<div id="comment:4" align="right">comment:4</div>

I decided to keep the PrimitiveGroup class because it is a convenient way to get a specific primitive group. Moreover, I updated the documentation and included the "GAP name" into _repr_. Now there also is a 'primitive_id()' method of PermutationGroup.



---

archive/issue_comments_135696.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nHello,\n\n0) There are trailing whitespaces in your file (spaces at the end of the lines) that should be removed. All EXAMPLES statements should end with '::' and a whiteline. Otherwise the examples are not well compiled in the documentation. You put only one ':' at two places (line 1288, 1296). At many places in the file permgroup_named this is the case... I asked a question about this on sage-devel (http://groups.google.com/group/sage-devel/browse_thread/thread/110e8595c86a62b)\n\n1) At the very begining of the file permgroup_named.py there is a list of all available groups. You should add yours.\n\n2) In my previous remark 4), I claim that you should remove the very long \"number x of degree y\" as its mathematical content is irrelevant. As you can see the following list is ugly\n\n```\nsage: PrimitiveGroups(5).list()\n[C(5), primitive group number 1 of degree 5, D(2*5), primitive group number 2 of degree 5, AGL(1, 5), primitive group number 3 of degree 5, A(5), primitive group number 4 of degree 5, S(5), primitive group number 5 of degree 5]\n```\nwhereas calling gap directly we get the nicer\n\n```\nsage: [gap.PrimitiveGroup(5,i) for i in xrange(1,6)]\n[C(5), D(2*5), AGL(1, 5), A(5), S(5)]\n```\n\n3) My previous remark 2) about naming convention is more dedicated for the documentation of PrimitiveGroups, PrimitiveGroupsAll and PrimitiveGroupsOfDegree than for PrimitiveGroup. As if a Sage user needs it, it would be *before* the group is created!\n\n4) In the examples of PrimitiveGroupsOfDegree, the actual example should be simplified in the following way\n\n```\nsage: S = PrimitiveGroups(5); S       # requires optional database_gap\nPrimitive Groups of degree 5\nsage: S.list()                          # requires optional database_gap\n[Primitive group number 1 of degree 5, Primitive group number 2 of degree 5,\nPrimitive group number 3 of degree 5, Primitive group number 4 of degree 5,\nPrimitive group number 5 of degree 5]\nsage: S.an_element() # requires optional database_gap\nPrimitive group number 1 of degree 5\n```\n\n5) In the method cardinality of PrimitiveGroups you used once ZZ and once Integer. I think that Integer is more dedicated. Could you remove ZZ from the import statement at the begining of the file and replace ZZ by Integer wherever it occurs (3 occurences counting yours).\n\n6) The line 1508 (_an_element_ = EnumeratedSets.ParentMethods._an_element_) makes no sense. The category framework makes automatic import of ParentMethods. You may simply erase it.\n\n7) Your example line 1259 is a bit irrelevant: the string that goes with the assertion error says \"AssertionError: n should be in {1,..,1}\".\n\n8) In relation with my previous remark 4). You write a method group_primitive_id, but in the EXAMPLES I get 2 instead of 4. Moreover, you should complete it as\n\n```\nEXAMPLES::\n\n    sage: G = PermutationGroup([[(1,2,3,4,5)], [(1,5),(2,4)]])\n    sage: G.group_primitive_id()    # optional - database_gap\n    2\n    sage: G.degree()\n    5\n\nFrom the information of the degree and the identification number, \nyou can recover the isomorphism class of your group in the GAP \ndatabase::\n\n    sage: H = PermutationGroup(5,2)  # optional - database_gap\n    sage: G == H                                  # optional - database_gap\n    False\n    sage: G.is_isomorphic(H)                 # optional - database_gap\n    True\n```\n\n9) Could you add a TODO in the documentation of PrimitiveGroups saying that there exists a command PrimitiveGroupsIterator in GAP which accept many arguments (nb. of moved points, size, transitivity, simple group, solvable, ...).\n\noo) Typo:\n- the INPUT documentation of the init method of PrimitiveGroup does not follow the good syntax (PrimitiveGroups.__init__ is OK). You can have a look at section 2.1.5 of the Developer Guide.\n- how did you choose to break or not break lines in the documentation ? It seems to be pretty random.\n- there are some non needed empty lines: at the end of PrimitiveGroups documentation and at the end of PrimitiveGroupsOfDegree documentation.\n- line 1310, you wrote d up to isomorphism twice.\n- Could you smartly write in all your classes that you wrap the GAP database (it is important for the user to see that Sage uses another software).",
    "created_at": "2012-04-29T15:01:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135696",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">comment:5</div>

Hello,

0) There are trailing whitespaces in your file (spaces at the end of the lines) that should be removed. All EXAMPLES statements should end with '::' and a whiteline. Otherwise the examples are not well compiled in the documentation. You put only one ':' at two places (line 1288, 1296). At many places in the file permgroup_named this is the case... I asked a question about this on sage-devel (http://groups.google.com/group/sage-devel/browse_thread/thread/110e8595c86a62b)

1) At the very begining of the file permgroup_named.py there is a list of all available groups. You should add yours.

2) In my previous remark 4), I claim that you should remove the very long "number x of degree y" as its mathematical content is irrelevant. As you can see the following list is ugly

```
sage: PrimitiveGroups(5).list()
[C(5), primitive group number 1 of degree 5, D(2*5), primitive group number 2 of degree 5, AGL(1, 5), primitive group number 3 of degree 5, A(5), primitive group number 4 of degree 5, S(5), primitive group number 5 of degree 5]
```
whereas calling gap directly we get the nicer

```
sage: [gap.PrimitiveGroup(5,i) for i in xrange(1,6)]
[C(5), D(2*5), AGL(1, 5), A(5), S(5)]
```

3) My previous remark 2) about naming convention is more dedicated for the documentation of PrimitiveGroups, PrimitiveGroupsAll and PrimitiveGroupsOfDegree than for PrimitiveGroup. As if a Sage user needs it, it would be *before* the group is created!

4) In the examples of PrimitiveGroupsOfDegree, the actual example should be simplified in the following way

```
sage: S = PrimitiveGroups(5); S       # requires optional database_gap
Primitive Groups of degree 5
sage: S.list()                          # requires optional database_gap
[Primitive group number 1 of degree 5, Primitive group number 2 of degree 5,
Primitive group number 3 of degree 5, Primitive group number 4 of degree 5,
Primitive group number 5 of degree 5]
sage: S.an_element() # requires optional database_gap
Primitive group number 1 of degree 5
```

5) In the method cardinality of PrimitiveGroups you used once ZZ and once Integer. I think that Integer is more dedicated. Could you remove ZZ from the import statement at the begining of the file and replace ZZ by Integer wherever it occurs (3 occurences counting yours).

6) The line 1508 (_an_element_ = EnumeratedSets.ParentMethods._an_element_) makes no sense. The category framework makes automatic import of ParentMethods. You may simply erase it.

7) Your example line 1259 is a bit irrelevant: the string that goes with the assertion error says "AssertionError: n should be in {1,..,1}".

8) In relation with my previous remark 4). You write a method group_primitive_id, but in the EXAMPLES I get 2 instead of 4. Moreover, you should complete it as

```
EXAMPLES::

    sage: G = PermutationGroup([[(1,2,3,4,5)], [(1,5),(2,4)]])
    sage: G.group_primitive_id()    # optional - database_gap
    2
    sage: G.degree()
    5

From the information of the degree and the identification number, 
you can recover the isomorphism class of your group in the GAP 
database::

    sage: H = PermutationGroup(5,2)  # optional - database_gap
    sage: G == H                                  # optional - database_gap
    False
    sage: G.is_isomorphic(H)                 # optional - database_gap
    True
```

9) Could you add a TODO in the documentation of PrimitiveGroups saying that there exists a command PrimitiveGroupsIterator in GAP which accept many arguments (nb. of moved points, size, transitivity, simple group, solvable, ...).

oo) Typo:
- the INPUT documentation of the init method of PrimitiveGroup does not follow the good syntax (PrimitiveGroups.__init__ is OK). You can have a look at section 2.1.5 of the Developer Guide.
- how did you choose to break or not break lines in the documentation ? It seems to be pretty random.
- there are some non needed empty lines: at the end of PrimitiveGroups documentation and at the end of PrimitiveGroupsOfDegree documentation.
- line 1310, you wrote d up to isomorphism twice.
- Could you smartly write in all your classes that you wrap the GAP database (it is important for the user to see that Sage uses another software).



---

archive/issue_events_167679.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2012-04-29T15:01:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167679"
}
```



---

archive/issue_events_167680.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2012-04-29T15:01:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167680"
}
```



---

archive/issue_comments_135697.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFinally I have found time again to work on your suggestions. I think I could adapt almost everything. \n\nOnly your remark 3) is a bit unclear to me. I think the only place where 1-based ids are confusing is in the constructor of PrimitiveGroup, but there this is explicitly stated in the documentation.\n\n*sage -t -optional permgroup.py* does not work, but the problems are not related to primitive groups.",
    "created_at": "2012-07-06T09:14:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135697",
    "user": "https://github.com/sagetrac-trehn"
}
```

<div id="comment:6" align="right">comment:6</div>

Finally I have found time again to work on your suggestions. I think I could adapt almost everything. 

Only your remark 3) is a bit unclear to me. I think the only place where 1-based ids are confusing is in the constructor of PrimitiveGroup, but there this is explicitly stated in the documentation.

*sage -t -optional permgroup.py* does not work, but the problems are not related to primitive groups.



---

archive/issue_events_167681.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-08-09T08:41:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167681"
}
```



---

archive/issue_events_167682.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-08-09T08:41:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167682"
}
```



---

archive/issue_comments_135698.json:
```json
{
    "body": "patch, updated for v5.3",
    "created_at": "2012-09-13T15:43:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135698",
    "user": "https://github.com/sagetrac-trehn"
}
```

patch, updated for v5.3



---

archive/issue_comments_135699.json:
```json
{
    "body": "Attachment: **[trac_12407_primitive_permutation_groups.patch.gz](https://github.com/sagemath/sage/files/ticket12407/trac_12407_primitive_permutation_groups.patch.gz)**\n\nAttachment: **[trac_12407_review.patch.gz](https://github.com/sagemath/sage/files/ticket12407/trac_12407_review.patch.gz)**\n\nInitial patch",
    "created_at": "2012-11-14T03:49:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135699",
    "user": "https://github.com/vbraun"
}
```

Attachment: **[trac_12407_primitive_permutation_groups.patch.gz](https://github.com/sagemath/sage/files/ticket12407/trac_12407_primitive_permutation_groups.patch.gz)**

Attachment: **[trac_12407_review.patch.gz](https://github.com/sagemath/sage/files/ticket12407/trac_12407_review.patch.gz)**

Initial patch



---

archive/issue_comments_135700.json:
```json
{
    "body": "Changed reviewer from **vdelecroix** to **vdelecroix, Volker Braun**",
    "created_at": "2012-11-14T03:54:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135700",
    "user": "https://github.com/vbraun"
}
```

Changed reviewer from **vdelecroix** to **vdelecroix, Volker Braun**



---

archive/issue_comments_135701.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,4 +11,6 @@\n sage: for G in PrimitiveGroups():\n ...       other_test(G) # test over all primitive groups\n ```\n-This requires the optional database_gap which contains all the primitive permutation groups of degree <= 2499. Therefore, in practice, the enumeration stops with a NonImplementedError?\n+This requires the optional database_gap which contains all the primitive permutation groups of degree <= 2499. Therefore, in practice, the enumeration stops with a NonImplementedError? \n+\n+Apply trac_12407_primitive_permutation_groups.patch, trac_12407_review.patch\n``````\n",
    "created_at": "2012-11-14T03:54:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135701",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,4 +11,6 @@
 sage: for G in PrimitiveGroups():
 ...       other_test(G) # test over all primitive groups
 ```
-This requires the optional database_gap which contains all the primitive permutation groups of degree <= 2499. Therefore, in practice, the enumeration stops with a NonImplementedError?
+This requires the optional database_gap which contains all the primitive permutation groups of degree <= 2499. Therefore, in practice, the enumeration stops with a NonImplementedError? 
+
+Apply trac_12407_primitive_permutation_groups.patch, trac_12407_review.patch
``````




---

archive/issue_comments_135702.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI've added some docstring fixes to follow Sage conventions more closely. E.g. imperative (\"Return\") instead of \"Returns\", indentation, keep line length finite, .... Also I don't think that we really need an alias `primitive_id`, just `group_primitive_id` is IMHO enough.\n\nPlease have a look at the reviewer patch. Positive review from me for everything else.",
    "created_at": "2012-11-14T03:54:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135702",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:8" align="right">comment:8</div>

I've added some docstring fixes to follow Sage conventions more closely. E.g. imperative ("Return") instead of "Returns", indentation, keep line length finite, .... Also I don't think that we really need an alias `primitive_id`, just `group_primitive_id` is IMHO enough.

Please have a look at the reviewer patch. Positive review from me for everything else.



---

archive/issue_comments_135703.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThank you for the improvements, I am happy with them.",
    "created_at": "2012-11-14T08:31:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135703",
    "user": "https://github.com/sagetrac-trehn"
}
```

<div id="comment:9" align="right">comment:9</div>

Thank you for the improvements, I am happy with them.



---

archive/issue_events_167683.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-11-14T10:27:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167683"
}
```



---

archive/issue_events_167684.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-11-14T10:27:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167684"
}
```



---

archive/issue_comments_135704.json:
```json
{
    "body": "Changed reviewer from **vdelecroix, Volker Braun** to **Vincent Delecroix, Volker Braun**",
    "created_at": "2012-11-14T16:35:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135704",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **vdelecroix, Volker Braun** to **Vincent Delecroix, Volker Braun**



---

archive/issue_events_167685.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-14T16:35:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "milestone_number": null,
    "milestone_title": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167685"
}
```



---

archive/issue_events_167686.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-14T16:35:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "milestone_number": null,
    "milestone_title": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167686"
}
```



---

archive/issue_events_167687.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-15T08:17:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167687"
}
```



---

archive/issue_events_167688.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-15T08:17:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167688"
}
```



---

archive/issue_comments_135705.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThere are various doctest errors:\n\n```\nsage -t  -force_lib devel/sage/sage/groups/perm_gps/permgroup_named.py\n**********************************************************************\nFile \"/release/merger/sage-5.5.beta2/devel/sage-main/sage/groups/perm_gps/permgroup_named.py\", line 1515:\n    sage: PrimitiveGroup(6,5)\nExpected:\n    Traceback (most recent call last):\n    ...\n    AssertionError: n should be in {1,..,4}\nGot:\n    verbose 0 (1813: permgroup_named.py, cardinality) Warning: PrimitiveGroups requires the GAP database package. Please install it with `\n`sage -i database_gap``.\n    [...]\n**********************************************************************\nFile \"/release/merger/sage-5.5.beta2/devel/sage-main/sage/groups/perm_gps/permgroup_named.py\", line 1552:\n    sage: G = PrimitiveGroup(5,1); G\nException raised:\n    [...]\n    AssertionError: n should be in {1,..,None}\n**********************************************************************\nFile \"/release/merger/sage-5.5.beta2/devel/sage-main/sage/groups/perm_gps/permgroup_named.py\", line 1569:\n    sage: G = PrimitiveGroup(5,2); G.group_primitive_id()\nException raised:\n    [...]\n    AssertionError: n should be in {1,..,None}\n**********************************************************************\n```\n\nBesides that, you should not use `assert` for this.  Only use \"assert\" to check for actual bugs, not for bad user input. If there is any way at all to reproduce an `AssertionError` using documented public functions, that is by definition a bug.",
    "created_at": "2012-11-15T08:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135705",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

There are various doctest errors:

```
sage -t  -force_lib devel/sage/sage/groups/perm_gps/permgroup_named.py
**********************************************************************
File "/release/merger/sage-5.5.beta2/devel/sage-main/sage/groups/perm_gps/permgroup_named.py", line 1515:
    sage: PrimitiveGroup(6,5)
Expected:
    Traceback (most recent call last):
    ...
    AssertionError: n should be in {1,..,4}
Got:
    verbose 0 (1813: permgroup_named.py, cardinality) Warning: PrimitiveGroups requires the GAP database package. Please install it with `
`sage -i database_gap``.
    [...]
**********************************************************************
File "/release/merger/sage-5.5.beta2/devel/sage-main/sage/groups/perm_gps/permgroup_named.py", line 1552:
    sage: G = PrimitiveGroup(5,1); G
Exception raised:
    [...]
    AssertionError: n should be in {1,..,None}
**********************************************************************
File "/release/merger/sage-5.5.beta2/devel/sage-main/sage/groups/perm_gps/permgroup_named.py", line 1569:
    sage: G = PrimitiveGroup(5,2); G.group_primitive_id()
Exception raised:
    [...]
    AssertionError: n should be in {1,..,None}
**********************************************************************
```

Besides that, you should not use `assert` for this.  Only use "assert" to check for actual bugs, not for bad user input. If there is any way at all to reproduce an `AssertionError` using documented public functions, that is by definition a bug.



---

archive/issue_comments_135706.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI think this happens only if database_gap is not installed. I will look at this.",
    "created_at": "2012-11-15T15:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135706",
    "user": "https://github.com/sagetrac-trehn"
}
```

<div id="comment:13" align="right">comment:13</div>

I think this happens only if database_gap is not installed. I will look at this.



---

archive/issue_comments_135707.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAttachment: **[trac_12407_fix_testcases.patch.gz](https://github.com/sagemath/sage/files/ticket12407/trac_12407_fix_testcases.patch.gz)**\n\nWith the third patch on top the tests should work with and without 'database_gap'. I have also replaced all assertions in permgroup_named.py by ValueErrors.",
    "created_at": "2012-11-16T11:18:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135707",
    "user": "https://github.com/sagetrac-trehn"
}
```

<div id="comment:14" align="right">comment:14</div>

Attachment: **[trac_12407_fix_testcases.patch.gz](https://github.com/sagemath/sage/files/ticket12407/trac_12407_fix_testcases.patch.gz)**

With the third patch on top the tests should work with and without 'database_gap'. I have also replaced all assertions in permgroup_named.py by ValueErrors.



---

archive/issue_events_167689.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-11-16T11:18:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167689"
}
```



---

archive/issue_events_167690.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-11-16T11:18:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167690"
}
```



---

archive/issue_comments_135708.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,4 +13,4 @@\n ```\n This requires the optional database_gap which contains all the primitive permutation groups of degree <= 2499. Therefore, in practice, the enumeration stops with a NonImplementedError? \n \n-Apply trac_12407_primitive_permutation_groups.patch, trac_12407_review.patch\n+Apply trac_12407_primitive_permutation_groups.patch, trac_12407_review.patch, trac_12407_fix_testcases.patch\n``````\n",
    "created_at": "2012-11-16T11:18:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135708",
    "user": "https://github.com/sagetrac-trehn"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,4 +13,4 @@
 ```
 This requires the optional database_gap which contains all the primitive permutation groups of degree <= 2499. Therefore, in practice, the enumeration stops with a NonImplementedError? 
 
-Apply trac_12407_primitive_permutation_groups.patch, trac_12407_review.patch
+Apply trac_12407_primitive_permutation_groups.patch, trac_12407_review.patch, trac_12407_fix_testcases.patch
``````




---

archive/issue_comments_135709.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI've double-checked that the doctests now work with and without the database_gap. Positive review.",
    "created_at": "2012-11-20T21:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135709",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:15" align="right">comment:15</div>

I've double-checked that the doctests now work with and without the database_gap. Positive review.



---

archive/issue_events_167691.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-11-20T21:31:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167691"
}
```



---

archive/issue_events_167692.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-11-20T21:31:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167692"
}
```



---

archive/issue_events_167693.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-27T03:11:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "milestone_number": null,
    "milestone_title": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167693"
}
```



---

archive/issue_events_167694.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-27T03:11:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "milestone_number": null,
    "milestone_title": "sage-5.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167694"
}
```



---

archive/issue_comments_135710.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,4 +13,4 @@\n ```\n This requires the optional database_gap which contains all the primitive permutation groups of degree <= 2499. Therefore, in practice, the enumeration stops with a NonImplementedError? \n \n-Apply trac_12407_primitive_permutation_groups.patch, trac_12407_review.patch, trac_12407_fix_testcases.patch\n+**Apply** [attachment: trac_12407_primitive_permutation_groups.patch](https://github.com/sagemath/sage/files/ticket12407/trac_12407_primitive_permutation_groups.patch.gz), [attachment: trac_12407_review.patch](https://github.com/sagemath/sage/files/ticket12407/trac_12407_review.patch.gz), [attachment: trac_12407_fix_testcases.patch](https://github.com/sagemath/sage/files/ticket12407/trac_12407_fix_testcases.patch.gz)\n``````\n",
    "created_at": "2012-12-18T11:23:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135710",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,4 +13,4 @@
 ```
 This requires the optional database_gap which contains all the primitive permutation groups of degree <= 2499. Therefore, in practice, the enumeration stops with a NonImplementedError? 
 
-Apply trac_12407_primitive_permutation_groups.patch, trac_12407_review.patch, trac_12407_fix_testcases.patch
+**Apply** [attachment: trac_12407_primitive_permutation_groups.patch](https://github.com/sagemath/sage/files/ticket12407/trac_12407_primitive_permutation_groups.patch.gz), [attachment: trac_12407_review.patch](https://github.com/sagemath/sage/files/ticket12407/trac_12407_review.patch.gz), [attachment: trac_12407_fix_testcases.patch](https://github.com/sagemath/sage/files/ticket12407/trac_12407_fix_testcases.patch.gz)
``````




---

archive/issue_comments_135711.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis patch uses assertions in a bad way. As discussed some time ago on sage-devel, public functions should never use assertions to signal bad user input.  Any appearance of an `AssertionError` is by definition a bug.",
    "created_at": "2012-12-18T12:30:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135711",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

This patch uses assertions in a bad way. As discussed some time ago on sage-devel, public functions should never use assertions to signal bad user input.  Any appearance of an `AssertionError` is by definition a bug.



---

archive/issue_events_167695.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-18T12:30:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167695"
}
```



---

archive/issue_events_167696.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-18T12:30:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167696"
}
```



---

archive/issue_events_167697.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-12-18T12:37:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167697"
}
```



---

archive/issue_events_167698.json:
```json
{
    "actor": "https://github.com/sagetrac-trehn",
    "created_at": "2012-12-18T12:37:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167698"
}
```



---

archive/issue_comments_135712.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThe last of the three patches should already remove all possible AssertionErrors in permgroup.py and permgroup_named.py that I introduced with my first patch or that had been there before.\n\nI didn't merge the three patches into one since I am not the author of all three.",
    "created_at": "2012-12-18T12:37:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135712",
    "user": "https://github.com/sagetrac-trehn"
}
```

<div id="comment:19" align="right">comment:19</div>

The last of the three patches should already remove all possible AssertionErrors in permgroup.py and permgroup_named.py that I introduced with my first patch or that had been there before.

I didn't merge the three patches into one since I am not the author of all three.



---

archive/issue_events_167699.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-12-18T12:39:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167699"
}
```



---

archive/issue_events_167700.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-12-18T12:39:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167700"
}
```



---

archive/issue_comments_135713.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nOK fine, I didn't realize that.",
    "created_at": "2012-12-18T12:47:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135713",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

OK fine, I didn't realize that.



---

archive/issue_comments_135714.json:
```json
{
    "body": "Merged: **sage-5.6.beta1**",
    "created_at": "2012-12-21T09:31:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12407#issuecomment-135714",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.6.beta1**



---

archive/issue_events_167701.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-21T09:31:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167701"
}
```



---

archive/issue_events_167702.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-21T09:31:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12407",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12407#event-167702"
}
```
