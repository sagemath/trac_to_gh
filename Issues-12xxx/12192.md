# Issue 12192: Improve doctest coverage of misc/fpickle.pyx

archive/issues_012020.json:
```json
{
    "body": "I introduced some functions without doctests in #11716. This ticket tries to add the missing doctests to the these and other functions in that file.\n\nThis is part of doctest meta-ticket #12024.\n\nAssignee: mvngu\n\nKeywords: sd35\n\nWork Issues: author needs to check the rebase\n\nReviewer: Travis Scrimshaw\n\nAuthor: Julian R\u00fcth\n\nBranch: u/saraedum/ticket/12192\n\nStatus: needs_work\n\nDependencies: #11819\n\nCommit: c6ae8c9553636a8f6bce784070bd83e02d2b7d38\n\nIssue created by migration from https://trac.sagemath.org/ticket/12192\n\n",
    "created_at": "2011-12-19T16:15:08Z",
    "labels": [
        "component: doctest coverage",
        "trivial"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Improve doctest coverage of misc/fpickle.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12192",
    "user": "https://github.com/saraedum"
}
```
I introduced some functions without doctests in #11716. This ticket tries to add the missing doctests to the these and other functions in that file.

This is part of doctest meta-ticket #12024.

Assignee: mvngu

Keywords: sd35

Work Issues: author needs to check the rebase

Reviewer: Travis Scrimshaw

Author: Julian Rüth

Branch: u/saraedum/ticket/12192

Status: needs_work

Dependencies: #11819

Commit: c6ae8c9553636a8f6bce784070bd83e02d2b7d38

Issue created by migration from https://trac.sagemath.org/ticket/12192





---

archive/issue_comments_176320.json:
```json
{
    "body": "<a id='comment:1'></a>\nWith the patch, -coverage gives:\nSCORE devel/sage/sage/misc/fpickle.pyx: 100% (9 of 9)",
    "created_at": "2011-12-20T13:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176320",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:1'></a>
With the patch, -coverage gives:
SCORE devel/sage/sage/misc/fpickle.pyx: 100% (9 of 9)



---

archive/issue_comments_176321.json:
```json
{
    "body": "Changing author from \"\" to \"Julian Rueth\"",
    "created_at": "2011-12-20T13:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176321",
    "user": "https://github.com/saraedum"
}
```

Changing author from "" to "Julian Rueth"



---

archive/issue_comments_176322.json:
```json
{
    "body": "Attachment [trac_12192.patch](tarball://root/attachments/some-uuid/ticket12192/trac_12192.patch) by @saraedum created at 2011-12-20 17:46:02\n\nadded docstrings",
    "created_at": "2011-12-20T17:46:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176322",
    "user": "https://github.com/saraedum"
}
```

Attachment [trac_12192.patch](tarball://root/attachments/some-uuid/ticket12192/trac_12192.patch) by @saraedum created at 2011-12-20 17:46:02

added docstrings



---

archive/issue_comments_176323.json:
```json
{
    "body": "<a id='comment:2'></a>\nI also moved `call_pickled_function` to where it belongs imho.",
    "created_at": "2011-12-20T17:47:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176323",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:2'></a>
I also moved `call_pickled_function` to where it belongs imho.



---

archive/issue_comments_176324.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-12-20T18:12:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176324",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_176325.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd35\".",
    "created_at": "2011-12-21T15:24:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176325",
    "user": "https://github.com/saraedum"
}
```

Changing keywords from "" to "sd35".



---

archive/issue_comments_176326.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2012-10-21T22:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176326",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_176327.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-10-21T22:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176327",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_176328.json:
```json
{
    "body": "<a id='comment:5'></a>\nA few things:\n\n- Add `fpickle` documentation by modifying `misc.rst`.\n\n- Remove the second colon `:` from `pickle_code()`.\n\n- Use automatic trac linking `:trac:`11716``.\n\n- Use ```None``` in code format in the documentation (only place I see this not used it in `unpickleMethod()` inputs)\n\nThanks.",
    "created_at": "2012-10-21T22:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176328",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
A few things:

- Add `fpickle` documentation by modifying `misc.rst`.

- Remove the second colon `:` from `pickle_code()`.

- Use automatic trac linking `:trac:`11716``.

- Use ```None``` in code format in the documentation (only place I see this not used it in `unpickleMethod()` inputs)

Thanks.



---

archive/issue_events_038186.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12192#event-38186"
}
```



---

archive/issue_events_038187.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12192#event-38187"
}
```



---

archive/issue_events_038188.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12192#event-38188"
}
```



---

archive/issue_comments_176329.json:
```json
{
    "body": "Changing branch from \"\" to \"u/saraedum/ticket/12192\"",
    "created_at": "2014-02-26T01:46:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176329",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "" to "u/saraedum/ticket/12192"



---

archive/issue_comments_176330.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-02-26T01:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176330",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_176331.json:
```json
{
    "body": "Changing commit from \"\" to \"62aaf9a72d28cd787220698c6364efe7aee7df67\"",
    "created_at": "2014-02-26T01:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176331",
    "user": "https://github.com/nbruin"
}
```

Changing commit from "" to "62aaf9a72d28cd787220698c6364efe7aee7df67"



---

archive/issue_comments_176332.json:
```json
{
    "body": "<a id='comment:10'></a>\nSee #11845. Pickling involving python code objects are problematic, because python code objects do not give the same portability guarantees that proper pickling requires. It can still be very useful, though, and the code on that ticket is a bit more robust in the face of closures etc. Perhaps evaluate how much of #11845 we want and merge these two tickets?\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|\n|[1208e1d](https://github.com/sagemath/sagetrac-mirror/commit/1208e1da392fa062e3a2868a41c06f1c01c569b0)|`Trac 12192: add docstrings to functions in misc/fpickle.pyx. cleaned up some implementations.`|\n|[62aaf9a](https://github.com/sagemath/sagetrac-mirror/commit/62aaf9a72d28cd787220698c6364efe7aee7df67)|`Fixed docstring in misc/fpickle.py (adressed reviewer comments).`|",
    "created_at": "2014-02-26T01:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176332",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:10'></a>
See #11845. Pickling involving python code objects are problematic, because python code objects do not give the same portability guarantees that proper pickling requires. It can still be very useful, though, and the code on that ticket is a bit more robust in the face of closures etc. Perhaps evaluate how much of #11845 we want and merge these two tickets?

---
New commits:
|                                                                                                                                          |                                                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
|[1208e1d](https://github.com/sagemath/sagetrac-mirror/commit/1208e1da392fa062e3a2868a41c06f1c01c569b0)|`Trac 12192: add docstrings to functions in misc/fpickle.pyx. cleaned up some implementations.`|
|[62aaf9a](https://github.com/sagemath/sagetrac-mirror/commit/62aaf9a72d28cd787220698c6364efe7aee7df67)|`Fixed docstring in misc/fpickle.py (adressed reviewer comments).`|



---

archive/issue_comments_176333.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [nbruin](#comment%3A10):\n> See #11845. Pickling involving python code objects are problematic, because python code objects do not give the same portability guarantees that proper pickling requires. It can still be very useful, though, and the code on that ticket is a bit more robust in the face of closures etc. Perhaps evaluate how much of #11845 we want and merge these two tickets?\n\n\nSorry, to be honest I don't understand. This just adds doctests to existing code. How are these related?",
    "created_at": "2014-02-26T02:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176333",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:11'></a>
Replying to [nbruin](#comment%3A10):
> See #11845. Pickling involving python code objects are problematic, because python code objects do not give the same portability guarantees that proper pickling requires. It can still be very useful, though, and the code on that ticket is a bit more robust in the face of closures etc. Perhaps evaluate how much of #11845 we want and merge these two tickets?


Sorry, to be honest I don't understand. This just adds doctests to existing code. How are these related?



---

archive/issue_events_038189.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12192#event-38189"
}
```



---

archive/issue_events_038190.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12192#event-38190"
}
```



---

archive/issue_comments_176334.json:
```json
{
    "body": "Changing work_issues from \"\" to \"rebase\"",
    "created_at": "2014-05-09T08:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176334",
    "user": "https://github.com/rwst"
}
```

Changing work_issues from "" to "rebase"



---

archive/issue_comments_176335.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-09T08:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176335",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_038191.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12192#event-38191"
}
```



---

archive/issue_events_038192.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12192#event-38192"
}
```



---

archive/issue_comments_176336.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[c6ae8c9](https://github.com/sagemath/sagetrac-mirror/commit/c6ae8c9553636a8f6bce784070bd83e02d2b7d38)|`Merge branch 'develop' into t/12192/ticket/12192`|",
    "created_at": "2016-11-29T08:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176336",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[c6ae8c9](https://github.com/sagemath/sagetrac-mirror/commit/c6ae8c9553636a8f6bce784070bd83e02d2b7d38)|`Merge branch 'develop' into t/12192/ticket/12192`|



---

archive/issue_comments_176337.json:
```json
{
    "body": "Changing commit from \"62aaf9a72d28cd787220698c6364efe7aee7df67\" to \"c6ae8c9553636a8f6bce784070bd83e02d2b7d38\"",
    "created_at": "2016-11-29T08:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176337",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "62aaf9a72d28cd787220698c6364efe7aee7df67" to "c6ae8c9553636a8f6bce784070bd83e02d2b7d38"



---

archive/issue_comments_176338.json:
```json
{
    "body": "Changing work_issues from \"rebase\" to \"author needs to check the rebase\"",
    "created_at": "2016-11-29T08:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176338",
    "user": "https://github.com/saraedum"
}
```

Changing work_issues from "rebase" to "author needs to check the rebase"



---

archive/issue_comments_176339.json:
```json
{
    "body": "Changing author from \"Julian Rueth\" to \"Julian R\u00fcth\"",
    "created_at": "2016-11-29T08:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12192",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12192#issuecomment-176339",
    "user": "https://github.com/saraedum"
}
```

Changing author from "Julian Rueth" to "Julian Rüth"
