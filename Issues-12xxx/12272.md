# Issue 12272: givaro does not specify the class for many method calls

archive/issues_012272.json:
```json
{
    "body": "Assignee: GeorgSWeber\n\nThese method calls occur within other methods of the class, and so gcc just lets it side by. clang on the other hand does not, so this is either fixable by prefixing all these method calls with the class name, or with \"this->\" (I chose the latter since then I didn't have to pay attention to the class names).\n\nI've posted an spkg fixes this at [http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/givaro-3.2.13.rc1.p4.spkg](http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/givaro-3.2.13.rc1.p4.spkg). (This is a review spkg in case there are more issues with clang down the road.) \n\nIssue created by migration from https://trac.sagemath.org/ticket/12444\n\n",
    "closed_at": "2013-06-03T14:41:23Z",
    "created_at": "2012-02-04T21:07:45Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "givaro does not specify the class for many method calls",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12272",
    "user": "https://github.com/ohanar"
}
```
Assignee: GeorgSWeber

These method calls occur within other methods of the class, and so gcc just lets it side by. clang on the other hand does not, so this is either fixable by prefixing all these method calls with the class name, or with "this->" (I chose the latter since then I didn't have to pay attention to the class names).

I've posted an spkg fixes this at [http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/givaro-3.2.13.rc1.p4.spkg](http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/givaro-3.2.13.rc1.p4.spkg). (This is a review spkg in case there are more issues with clang down the road.) 

Issue created by migration from https://trac.sagemath.org/ticket/12444





---

archive/issue_comments_143958.json:
```json
{
    "body": "for review purposes",
    "created_at": "2012-02-04T21:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143958",
    "user": "https://github.com/ohanar"
}
```

for review purposes



---

archive/issue_comments_143959.json:
```json
{
    "body": "Attachment [givaro-3.2.13.rc1.p4.patch](tarball://root/attachments/some-uuid/ticket12444/givaro-3.2.13.rc1.p4.patch) by @ohanar created at 2012-02-04 21:08:31",
    "created_at": "2012-02-04T21:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143959",
    "user": "https://github.com/ohanar"
}
```

Attachment [givaro-3.2.13.rc1.p4.patch](tarball://root/attachments/some-uuid/ticket12444/givaro-3.2.13.rc1.p4.patch) by @ohanar created at 2012-02-04 21:08:31



---

archive/issue_comments_143960.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-02-04T21:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143960",
    "user": "https://github.com/ohanar"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_143961.json:
```json
{
    "body": "At least some of these instances break the build with GCC 4.7.0 (without `-fpermissive`) as well, hence I also made an spkg fixing these (hundreds?) at #12761, along with a major clean-up of the spkg.\n\nI can't tell whether I've changed all instances you catched, but I fixed all such that Givaro's test suite as well as the Sage library would build with GCC 4.7.0.",
    "created_at": "2012-04-08T02:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143961",
    "user": "https://github.com/nexttime"
}
```

At least some of these instances break the build with GCC 4.7.0 (without `-fpermissive`) as well, hence I also made an spkg fixing these (hundreds?) at #12761, along with a major clean-up of the spkg.

I can't tell whether I've changed all instances you catched, but I fixed all such that Givaro's test suite as well as the Sage library would build with GCC 4.7.0.



---

archive/issue_comments_143962.json:
```json
{
    "body": "P.S.: Unfortunately I prepended the class name in most cases, not just `this->`, so merging the patches is probably less easy.  I also didn't (have to) add default parameter values IIRC.",
    "created_at": "2012-04-08T02:51:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143962",
    "user": "https://github.com/nexttime"
}
```

P.S.: Unfortunately I prepended the class name in most cases, not just `this->`, so merging the patches is probably less easy.  I also didn't (have to) add default parameter values IIRC.



---

archive/issue_comments_143963.json:
```json
{
    "body": "so it looks like your patch fixes most of the issues that clang has with givaro, but it seems like i snuck a few things in there that are technically not within the confines of this ticket. specifically, clang doesn't like default values for a function being added anywhere other than the declaration of the function.",
    "created_at": "2012-04-08T13:00:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143963",
    "user": "https://github.com/ohanar"
}
```

so it looks like your patch fixes most of the issues that clang has with givaro, but it seems like i snuck a few things in there that are technically not within the confines of this ticket. specifically, clang doesn't like default values for a function being added anywhere other than the declaration of the function.



---

archive/issue_comments_143964.json:
```json
{
    "body": "Please fill in your real name as Author.",
    "created_at": "2012-07-27T20:41:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143964",
    "user": "https://github.com/jdemeyer"
}
```

Please fill in your real name as Author.



---

archive/issue_comments_143965.json:
```json
{
    "body": "Most probably needs to be rebased now anyway.",
    "created_at": "2012-07-27T21:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143965",
    "user": "https://github.com/nexttime"
}
```

Most probably needs to be rebased now anyway.



---

archive/issue_comments_143966.json:
```json
{
    "body": "Changing component from build to packages.",
    "created_at": "2012-10-05T09:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143966",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from build to packages.



---

archive/issue_comments_143967.json:
```json
{
    "body": "Needs to be rebased indeed, or is it by chance fixed by the new Givaro?",
    "created_at": "2012-10-05T09:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143967",
    "user": "https://github.com/jdemeyer"
}
```

Needs to be rebased indeed, or is it by chance fixed by the new Givaro?



---

archive/issue_comments_143968.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-10-05T09:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143968",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_143969.json:
```json
{
    "body": "Resolution: worksforme",
    "created_at": "2013-06-03T14:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143969",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: worksforme



---

archive/issue_events_033492.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-03T14:41:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12272#event-33492"
}
```



---

archive/issue_events_033493.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-03T14:41:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12272#event-33493"
}
```



---

archive/issue_comments_143970.json:
```json
{
    "body": "Works with givaro-3.7.1",
    "created_at": "2013-06-03T14:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12272",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12272#issuecomment-143970",
    "user": "https://github.com/jdemeyer"
}
```

Works with givaro-3.7.1
