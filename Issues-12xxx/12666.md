# Issue 12666: Optional CLooG-PPL spkg

archive/issues_012494.json:
```json
{
    "body": "As much as I understand, for building GCC with \"graphite\" one needs `CLooG-PPL` (the Chunky Loop Generator) being installed. Note that `CLooG` plus PPL seems not to be enough\n\nHence, I suggest to have an optional spkg. At least on openSuse, the straight forward way to make an spkg (no patches, and an spkg-install and spkg-check that just to `./configure --prefix...`, `make`, `make install` and  `make check`) seems to work.\n\nThis is related with #12369, and depends on #12672.\n\n**spkg:** [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)\n\n\n**CC:**  @nexttime\n\n**Keywords:** CLooG PPL ISL GCC LTO\n\n**Reviewer:** Fran\u00e7ois Bissey\n\n**Dependencies:** #12672\n\nIssue created by migration from https://trac.sagemath.org/ticket/12666\n\n",
    "closed_at": "2016-08-30T13:32:25Z",
    "created_at": "2012-03-13T20:25:58Z",
    "labels": [
        "component: packages: optional",
        "enhancement",
        "wontfix"
    ],
    "title": "Optional CLooG-PPL spkg",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/12666",
    "user": "https://github.com/simon-king-jena"
}
```
As much as I understand, for building GCC with "graphite" one needs `CLooG-PPL` (the Chunky Loop Generator) being installed. Note that `CLooG` plus PPL seems not to be enough

Hence, I suggest to have an optional spkg. At least on openSuse, the straight forward way to make an spkg (no patches, and an spkg-install and spkg-check that just to `./configure --prefix...`, `make`, `make install` and  `make check`) seems to work.

This is related with #12369, and depends on #12672.

**spkg:** [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)


**CC:**  @nexttime

**Keywords:** CLooG PPL ISL GCC LTO

**Reviewer:** Fran√ßois Bissey

**Dependencies:** #12672

Issue created by migration from https://trac.sagemath.org/ticket/12666





---

archive/issue_events_105013.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-13T20:29:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105013"
}
```



---

archive/issue_comments_143483.json:
```json
{
    "body": "<a id='comment:2'></a>\nI forgot to mention that `CLooG` needs `GMP`. Therefore it might be needed to install the spkg from #12661 as well.",
    "created_at": "2012-03-13T21:00:20Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143483",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:2'></a>
I forgot to mention that `CLooG` needs `GMP`. Therefore it might be needed to install the spkg from #12661 as well.



---

archive/issue_comments_143484.json:
```json
{
    "body": "<a id='comment:3'></a>\nIt turns out that the gcc package from #12369 can not use this cloog package.\n\nI am not sure whether this is because of wrong sources (there seems to be a difference between cloog and cloog-ppl) or a missing configuration option.\n\nAnyway. With a cloog-ppl package using the options `--with-gmp --with-ppl`, the gcc package seems to pick up `CLooG PPL`. I'm afraid I can not post the updated packages, as sage.math seems to be down.",
    "created_at": "2012-03-14T07:27:01Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143484",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:3'></a>
It turns out that the gcc package from #12369 can not use this cloog package.

I am not sure whether this is because of wrong sources (there seems to be a difference between cloog and cloog-ppl) or a missing configuration option.

Anyway. With a cloog-ppl package using the options `--with-gmp --with-ppl`, the gcc package seems to pick up `CLooG PPL`. I'm afraid I can not post the updated packages, as sage.math seems to be down.



---

archive/issue_comments_143485.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,5 +4,4 @@\n \n This is related with #12369 and #12661.\n \n-Install http://sage.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg\n-\n+**spkg**: [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg)\n``````\n",
    "created_at": "2012-03-14T08:56:56Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143485",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,5 +4,4 @@
 
 This is related with #12369 and #12661.
 
-Install http://sage.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg
-
+**spkg**: [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg)
``````




---

archive/issue_comments_143486.json:
```json
{
    "body": "<a id='comment:5'></a>\nI think you are missing the configure option\n\n```\n--with-gmp-prefix=\"$SAGE_LOCAL\"\n```",
    "created_at": "2012-03-14T09:05:21Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143486",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
I think you are missing the configure option

```
--with-gmp-prefix="$SAGE_LOCAL"
```



---

archive/issue_events_105014.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-14T09:05:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105014"
}
```



---

archive/issue_events_105015.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-14T09:05:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105015"
}
```



---

archive/issue_comments_143487.json:
```json
{
    "body": "<a id='comment:6'></a>\n(even though CLooG seems to build without that option, which I cannot really explain...)",
    "created_at": "2012-03-14T09:07:40Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143487",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
(even though CLooG seems to build without that option, which I cannot really explain...)



---

archive/issue_comments_143488.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [jdemeyer](#comment%3A6):\n> (even though CLooG seems to build without that option, which I cannot really explain...)\n\n\nI guess it is since `CLooG` looks for GMP in the standard location, \"standard\" being determined by the `--prefix=\"$SAGE_LOCAL\"` option that I do provide.\n\nAnyway. What is really missing is at least the option `--with-ppl`, or even a cloog-ppl package with that option.\n\nSince sage.math seems to be down, I can't post either of the two spkgs...",
    "created_at": "2012-03-14T09:12:58Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143488",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:7'></a>
Replying to [jdemeyer](#comment%3A6):
> (even though CLooG seems to build without that option, which I cannot really explain...)


I guess it is since `CLooG` looks for GMP in the standard location, "standard" being determined by the `--prefix="$SAGE_LOCAL"` option that I do provide.

Anyway. What is really missing is at least the option `--with-ppl`, or even a cloog-ppl package with that option.

Since sage.math seems to be down, I can't post either of the two spkgs...



---

archive/issue_events_105016.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-15T08:48:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105016"
}
```



---

archive/issue_events_105017.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-15T08:48:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105017"
}
```



---

archive/issue_comments_143489.json:
```json
{
    "body": "<a id='comment:8'></a>\n[Leif](http://groups.google.com/group/sage-devel/browse_thread/thread/4e90520289b7b5ba/a84a9363d4ff6495) cited from the GCC prerequisites page:\n\n```\nCLooG-PPL version( 0.15 or CLooG 0.16\n    Necessary to build GCC with the Graphite loop optimizations. There\nare two versions available. CLooG-PPL 0.15 as well as CLooG 0.16. The\nformer is the default right now. It can be downloaded from\nftp://gcc.gnu.org/pub/gcc/infrastructure/ as cloog-ppl-0.15.tar.gz.\n\n    CLooG 0.16 support is still in testing stage, but will be the\ndefault in future GCC releases. It is also available at\nftp://gcc.gnu.org/pub/gcc/infrastructure/ as cloog-0.16.1.tar.gz. To\nuse it add the additional configure option --enable-cloog-backend=isl.\nEven if CLooG 0.16 does not use PPL, PPL is still required for\nGraphite.\n```\n\nActually, I found that `cloog-0.16.1` does not work, i.e., gcc does not build. Hence, I made a cloog_ppl-0.15.11 spkg, that I suggest to make an optional spkg.",
    "created_at": "2012-03-15T08:48:13Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143489",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:8'></a>
[Leif](http://groups.google.com/group/sage-devel/browse_thread/thread/4e90520289b7b5ba/a84a9363d4ff6495) cited from the GCC prerequisites page:

```
CLooG-PPL version( 0.15 or CLooG 0.16
    Necessary to build GCC with the Graphite loop optimizations. There
are two versions available. CLooG-PPL 0.15 as well as CLooG 0.16. The
former is the default right now. It can be downloaded from
ftp://gcc.gnu.org/pub/gcc/infrastructure/ as cloog-ppl-0.15.tar.gz.

    CLooG 0.16 support is still in testing stage, but will be the
default in future GCC releases. It is also available at
ftp://gcc.gnu.org/pub/gcc/infrastructure/ as cloog-0.16.1.tar.gz. To
use it add the additional configure option --enable-cloog-backend=isl.
Even if CLooG 0.16 does not use PPL, PPL is still required for
Graphite.
```

Actually, I found that `cloog-0.16.1` does not work, i.e., gcc does not build. Hence, I made a cloog_ppl-0.15.11 spkg, that I suggest to make an optional spkg.



---

archive/issue_comments_143490.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,7 +1,8 @@\n-As much as I understand, some compiler optimizations rely on `CLooG` (the Chunky Loop Generator) being installed.\n+As much as I understand, for building GCC with \"graphite\" one needs `CLooG-PPL` (the Chunky Loop Generator) being installed. Note that `CLooG` plus PPL seems not to be enough\n \n Hence, I suggest to have an optional spkg. At least on openSuse, the straight forward way to make an spkg (no patches, and an spkg-install and spkg-check that just to `./configure --prefix...`, `make`, `make install` and  `make check`) seems to work.\n \n-This is related with #12369 and #12661.\n+This is related with #12369, and depends on #12672 and #12661.\n \n-**spkg**: [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg)\n+**spkg:** [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)\n+\n``````\n",
    "created_at": "2012-03-15T08:48:13Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143490",
    "user": "https://github.com/simon-king-jena"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,7 +1,8 @@
-As much as I understand, some compiler optimizations rely on `CLooG` (the Chunky Loop Generator) being installed.
+As much as I understand, for building GCC with "graphite" one needs `CLooG-PPL` (the Chunky Loop Generator) being installed. Note that `CLooG` plus PPL seems not to be enough
 
 Hence, I suggest to have an optional spkg. At least on openSuse, the straight forward way to make an spkg (no patches, and an spkg-install and spkg-check that just to `./configure --prefix...`, `make`, `make install` and  `make check`) seems to work.
 
-This is related with #12369 and #12661.
+This is related with #12369, and depends on #12672 and #12661.
 
-**spkg**: [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg)
+**spkg:** [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)
+
``````




---

archive/issue_comments_143491.json:
```json
{
    "body": "**Dependencies:** #12672 #12661",
    "created_at": "2012-03-15T08:48:13Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143491",
    "user": "https://github.com/simon-king-jena"
}
```

**Dependencies:** #12672 #12661



---

archive/issue_events_105018.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-15T08:48:13Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "rename": {
        "from": "Optional CLooG spkg",
        "to": "Optional CLooG-PPL spkg"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105018"
}
```



---

archive/issue_comments_143492.json:
```json
{
    "body": "**Changing keywords** from \"CLooG\" to \"CLooG PPL\".",
    "created_at": "2012-03-15T08:48:13Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143492",
    "user": "https://github.com/simon-king-jena"
}
```

**Changing keywords** from "CLooG" to "CLooG PPL".



---

archive/issue_comments_143493.json:
```json
{
    "body": "**Changing dependencies** from \"#12672 #12661\" to \"#12672\".",
    "created_at": "2012-03-15T13:48:06Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143493",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#12672 #12661" to "#12672".



---

archive/issue_events_105019.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-15T13:48:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105019"
}
```



---

archive/issue_events_105020.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-15T13:48:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105020"
}
```



---

archive/issue_comments_143494.json:
```json
{
    "body": "<a id='comment:9'></a>\nYou are missing the configure options\n\n```\n--with-gmp=\"$SAGE_LOCAL\" --with-ppl=\"$SAGE_LOCAL\"\n```\n\nIf I apply the following patch, CLooG-PPL builds fine (even without the GMP spkg):\n\n```diff\ndiff -r 93c792cfd365 spkg-install\n--- a/spkg-install      Wed Mar 14 08:12:41 2012 +0100\n+++ b/spkg-install      Thu Mar 15 14:46:53 2012 +0100\n@@ -10,7 +10,7 @@\n SAGE_CONF_OPTS=\"--enable-shared --disable-static\"\n\n cd src\n-./configure --libdir=\"$SAGE_LOCAL/lib\" --prefix=\"$SAGE_LOCAL\"  --with-gmp --with-ppl $SAGE_CONF_OPTS\n+./configure --libdir=\"$SAGE_LOCAL/lib\" --prefix=\"$SAGE_LOCAL\"  --with-gmp=\"$SAGE_LOCAL\" --with-ppl=\"$SAGE_LOCAL\" $SAGE_CONF_OPTS\n $MAKE\n if [ $? -ne 0 ]; then\n     echo \"Error building CLooG PPL.\"\n```",
    "created_at": "2012-03-15T13:48:06Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143494",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
You are missing the configure options

```
--with-gmp="$SAGE_LOCAL" --with-ppl="$SAGE_LOCAL"
```

If I apply the following patch, CLooG-PPL builds fine (even without the GMP spkg):

```diff
diff -r 93c792cfd365 spkg-install
--- a/spkg-install      Wed Mar 14 08:12:41 2012 +0100
+++ b/spkg-install      Thu Mar 15 14:46:53 2012 +0100
@@ -10,7 +10,7 @@
 SAGE_CONF_OPTS="--enable-shared --disable-static"

 cd src
-./configure --libdir="$SAGE_LOCAL/lib" --prefix="$SAGE_LOCAL"  --with-gmp --with-ppl $SAGE_CONF_OPTS
+./configure --libdir="$SAGE_LOCAL/lib" --prefix="$SAGE_LOCAL"  --with-gmp="$SAGE_LOCAL" --with-ppl="$SAGE_LOCAL" $SAGE_CONF_OPTS
 $MAKE
 if [ $? -ne 0 ]; then
     echo "Error building CLooG PPL."
```



---

archive/issue_events_105021.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-15T13:57:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105021"
}
```



---

archive/issue_events_105022.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-15T13:57:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105022"
}
```



---

archive/issue_comments_143495.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [jdemeyer](#comment%3A9):\n> You are missing the configure options\n> \n> ```\n> --with-gmp=\"$SAGE_LOCAL\" --with-ppl=\"$SAGE_LOCAL\"\n> ```\n> \n> If I apply the following patch, CLooG-PPL builds fine (even without the GMP spkg):\n\n\nCool! I just updated my [spkg on boxen.math](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)",
    "created_at": "2012-03-15T13:57:49Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143495",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:10'></a>
Replying to [jdemeyer](#comment%3A9):
> You are missing the configure options
> 
> ```
> --with-gmp="$SAGE_LOCAL" --with-ppl="$SAGE_LOCAL"
> ```
> 
> If I apply the following patch, CLooG-PPL builds fine (even without the GMP spkg):


Cool! I just updated my [spkg on boxen.math](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)



---

archive/issue_comments_143496.json:
```json
{
    "body": "<a id='comment:11'></a>\nThanks, that seems to work.\n\nUnfortunately, I'm afraid your earlier performance tests with GCC are now invalidated and should be done again with this spkg and without GMP.",
    "created_at": "2012-03-15T14:08:39Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143496",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Thanks, that seems to work.

Unfortunately, I'm afraid your earlier performance tests with GCC are now invalidated and should be done again with this spkg and without GMP.



---

archive/issue_comments_143497.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n Hence, I suggest to have an optional spkg. At least on openSuse, the straight forward way to make an spkg (no patches, and an spkg-install and spkg-check that just to `./configure --prefix...`, `make`, `make install` and  `make check`) seems to work.\n \n-This is related with #12369, and depends on #12672 and #12661.\n+This is related with #12369, and depends on #12672.\n \n **spkg:** [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)\n \n``````\n",
    "created_at": "2012-03-15T19:06:49Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143497",
    "user": "https://github.com/simon-king-jena"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 Hence, I suggest to have an optional spkg. At least on openSuse, the straight forward way to make an spkg (no patches, and an spkg-install and spkg-check that just to `./configure --prefix...`, `make`, `make install` and  `make check`) seems to work.
 
-This is related with #12369, and depends on #12672 and #12661.
+This is related with #12369, and depends on #12672.
 
 **spkg:** [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)
 
``````




---

archive/issue_events_105023.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105023"
}
```



---

archive/issue_events_105024.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105024"
}
```



---

archive/issue_comments_143498.json:
```json
{
    "body": "<a id='comment:14'></a>\nShould we obsolete this? Recent gcc still use cloog but with isl instead of ppl. Plus we upgraded ppl to 1.1 I don't think anyone patch cloog anymore to interface with ppl after 0.12.x. gcc was the main consumer of that.",
    "created_at": "2013-12-26T19:40:38Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143498",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:14'></a>
Should we obsolete this? Recent gcc still use cloog but with isl instead of ppl. Plus we upgraded ppl to 1.1 I don't think anyone patch cloog anymore to interface with ppl after 0.12.x. gcc was the main consumer of that.



---

archive/issue_events_105025.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2013-12-26T19:40:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105025"
}
```



---

archive/issue_events_105026.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2013-12-26T19:40:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105026"
}
```



---

archive/issue_events_105027.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105027"
}
```



---

archive/issue_events_105028.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105028"
}
```



---

archive/issue_events_105029.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105029"
}
```



---

archive/issue_events_105030.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105030"
}
```



---

archive/issue_events_105031.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105031"
}
```



---

archive/issue_events_105032.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105032"
}
```



---

archive/issue_comments_143499.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [fbissey](#comment%3A14):\n> Should we obsolete this? Recent gcc still use cloog but with isl instead of ppl. Plus we upgraded ppl to 1.1 I don't think anyone patch cloog anymore to interface with ppl after 0.12.x. gcc was the main consumer of that.\n\n\nMore than two and a half years later...\n\nI think we can close this, as while GCC 4.9 still uses CLooG and ISL, GCC 5.x and 6.x have dropped CLooG and now only use ISL (if at all, i.e., with `--enable-lto`).\n\n\\\\\n\nFeel free to open a new ticket making ISL an optional package.",
    "created_at": "2016-07-28T22:00:17Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143499",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:18'></a>
Replying to [fbissey](#comment%3A14):
> Should we obsolete this? Recent gcc still use cloog but with isl instead of ppl. Plus we upgraded ppl to 1.1 I don't think anyone patch cloog anymore to interface with ppl after 0.12.x. gcc was the main consumer of that.


More than two and a half years later...

I think we can close this, as while GCC 4.9 still uses CLooG and ISL, GCC 5.x and 6.x have dropped CLooG and now only use ISL (if at all, i.e., with `--enable-lto`).

\\

Feel free to open a new ticket making ISL an optional package.



---

archive/issue_events_105033.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2016-07-28T22:00:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105033"
}
```



---

archive/issue_events_105034.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2016-07-28T22:00:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105034"
}
```



---

archive/issue_comments_143500.json:
```json
{
    "body": "**Changing keywords** from \"CLooG PPL\" to \"CLooG PPL ISL GCC LTO\".",
    "created_at": "2016-07-28T22:00:17Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143500",
    "user": "https://github.com/nexttime"
}
```

**Changing keywords** from "CLooG PPL" to "CLooG PPL ISL GCC LTO".



---

archive/issue_events_105035.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2016-07-28T22:00:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105035"
}
```



---

archive/issue_comments_143501.json:
```json
{
    "body": "<a id='comment:19'></a>\nP.S.:  `--enable-lto` is meanwhile even the default.  GCC will automatically pick up ISL when present (installed library and headers, or source in the build tree) and otherwise simply disable LTO support.",
    "created_at": "2016-07-28T22:17:35Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143501",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:19'></a>
P.S.:  `--enable-lto` is meanwhile even the default.  GCC will automatically pick up ISL when present (installed library and headers, or source in the build tree) and otherwise simply disable LTO support.



---

archive/issue_events_105036.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-07-28T22:51:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105036"
}
```



---

archive/issue_events_105037.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-07-28T22:51:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105037"
}
```



---

archive/issue_comments_143502.json:
```json
{
    "body": "<a id='comment:20'></a>\ncloog/isl and previously ppl were for the graphite plugin which does loop optimization, not \"link time optimization\" unless you know something I don't. In any case I am for closing it too.",
    "created_at": "2016-07-28T22:51:55Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143502",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:20'></a>
cloog/isl and previously ppl were for the graphite plugin which does loop optimization, not "link time optimization" unless you know something I don't. In any case I am for closing it too.



---

archive/issue_comments_143503.json:
```json
{
    "body": "**Changing author** from \"Simon King\" to \"\".",
    "created_at": "2016-07-28T23:14:18Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143503",
    "user": "https://github.com/nexttime"
}
```

**Changing author** from "Simon King" to "".



---

archive/issue_comments_143504.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [fbissey](#comment%3A20):\n> cloog/isl and previously ppl were for the graphite plugin which does loop optimization, not \"link time optimization\" unless you know something I don't.\n\n\nYes, but that was (at least years ago) also, if not only, done *at link time*.  But LTO has massively changed (and improved) over the last years, they say.\n\nNot sure whether CLooG was initially used during *compilation* as well.\n\n\\\\\n\n\n> In any case I am for closing it too.\n\n\nOk, I guess Simon won't complain either.",
    "created_at": "2016-07-28T23:14:18Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143504",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:21'></a>
Replying to [fbissey](#comment%3A20):
> cloog/isl and previously ppl were for the graphite plugin which does loop optimization, not "link time optimization" unless you know something I don't.


Yes, but that was (at least years ago) also, if not only, done *at link time*.  But LTO has massively changed (and improved) over the last years, they say.

Not sure whether CLooG was initially used during *compilation* as well.

\\


> In any case I am for closing it too.


Ok, I guess Simon won't complain either.



---

archive/issue_comments_143505.json:
```json
{
    "body": "**Reviewer:** Fran\u00e7ois Bissey",
    "created_at": "2016-07-28T23:14:18Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143505",
    "user": "https://github.com/nexttime"
}
```

**Reviewer:** Fran√ßois Bissey



---

archive/issue_comments_143506.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [leif](#comment%3A21):\n> Replying to [fbissey](#comment%3A20):\n> > cloog/isl and previously ppl were for the graphite plugin which does loop optimization, not \"link time optimization\" unless you know something I don't.\n\n> \n> Yes, but that was (at least years ago) also, if not only, done *at link time*.  But LTO has massively changed (and improved) over the last years, they say.\n> \n> Not sure whether CLooG was initially used during *compilation* as well.\n\n\nHmmm, strike that.  I couldn't find any reference, and both seem indeed independent, while combining them may of course be advantageous.  (Hence you're right, `--enable-lto` is orthogonal to `--with-isl`.)",
    "created_at": "2016-07-29T00:51:09Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143506",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:22'></a>
Replying to [leif](#comment%3A21):
> Replying to [fbissey](#comment%3A20):
> > cloog/isl and previously ppl were for the graphite plugin which does loop optimization, not "link time optimization" unless you know something I don't.

> 
> Yes, but that was (at least years ago) also, if not only, done *at link time*.  But LTO has massively changed (and improved) over the last years, they say.
> 
> Not sure whether CLooG was initially used during *compilation* as well.


Hmmm, strike that.  I couldn't find any reference, and both seem indeed independent, while combining them may of course be advantageous.  (Hence you're right, `--enable-lto` is orthogonal to `--with-isl`.)



---

archive/issue_events_105038.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105038"
}
```



---

archive/issue_events_105039.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105039"
}
```



---

archive/issue_events_105040.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-105040"
}
```



---

archive/issue_comments_143507.json:
```json
{
    "body": "<a id='comment:23'></a>\nDetermined to be invalid/duplicate/wontfix (closing as \"wontfix\" as a catch-all resolution).",
    "created_at": "2016-08-30T13:32:25Z",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-143507",
    "user": "https://github.com/embray"
}
```

<a id='comment:23'></a>
Determined to be invalid/duplicate/wontfix (closing as "wontfix" as a catch-all resolution).
