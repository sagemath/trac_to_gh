# Issue 12666: Optional CLooG-PPL spkg

archive/issues_012494.json:
```json
{
    "assignees": [],
    "body": "As much as I understand, for building GCC with \"graphite\" one needs `CLooG-PPL` (the Chunky Loop Generator) being installed. Note that `CLooG` plus PPL seems not to be enough\n\nHence, I suggest to have an optional spkg. At least on openSuse, the straight forward way to make an spkg (no patches, and an spkg-install and spkg-check that just to `./configure --prefix...`, `make`, `make install` and  `make check`) seems to work.\n\nThis is related with #12369, and depends on #12672.\n\n**spkg:** [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)\n\n\nDepends on #12672\n\nCC:  @nexttime\n\nKeywords: **CLooG PPL ISL GCC LTO**\n\nReviewer: **Fran\u00e7ois Bissey**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12666_\n\n",
    "closed_at": "2016-08-30T13:32:25Z",
    "created_at": "2012-03-13T20:25:58Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Optional CLooG-PPL spkg",
    "type": "issue",
    "updated_at": "2016-08-30T13:32:25Z",
    "url": "https://github.com/sagemath/sage/issues/12666",
    "user": "https://github.com/simon-king-jena"
}
```
As much as I understand, for building GCC with "graphite" one needs `CLooG-PPL` (the Chunky Loop Generator) being installed. Note that `CLooG` plus PPL seems not to be enough

Hence, I suggest to have an optional spkg. At least on openSuse, the straight forward way to make an spkg (no patches, and an spkg-install and spkg-check that just to `./configure --prefix...`, `make`, `make install` and  `make check`) seems to work.

This is related with #12369, and depends on #12672.

**spkg:** [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)


Depends on #12672

CC:  @nexttime

Keywords: **CLooG PPL ISL GCC LTO**

Reviewer: **Fran√ßois Bissey**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/12666_





---

archive/issue_events_172396.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-13T20:25:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172396"
}
```



---

archive/issue_events_172397.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-13T20:25:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172397"
}
```



---

archive/issue_events_172398.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-13T20:25:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172398"
}
```



---

archive/issue_events_172399.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-13T20:25:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172399"
}
```



---

archive/issue_events_172400.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-13T20:29:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172400"
}
```



---

archive/issue_comments_141220.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI forgot to mention that `CLooG` needs `GMP`. Therefore it might be needed to install the spkg from #12661 as well.",
    "created_at": "2012-03-13T21:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141220",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:2" align="right">comment:2</div>

I forgot to mention that `CLooG` needs `GMP`. Therefore it might be needed to install the spkg from #12661 as well.



---

archive/issue_comments_141221.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nIt turns out that the gcc package from #12369 can not use this cloog package.\n\nI am not sure whether this is because of wrong sources (there seems to be a difference between cloog and cloog-ppl) or a missing configuration option.\n\nAnyway. With a cloog-ppl package using the options `--with-gmp --with-ppl`, the gcc package seems to pick up `CLooG PPL`. I'm afraid I can not post the updated packages, as sage.math seems to be down.",
    "created_at": "2012-03-14T07:27:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141221",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:3" align="right">comment:3</div>

It turns out that the gcc package from #12369 can not use this cloog package.

I am not sure whether this is because of wrong sources (there seems to be a difference between cloog and cloog-ppl) or a missing configuration option.

Anyway. With a cloog-ppl package using the options `--with-gmp --with-ppl`, the gcc package seems to pick up `CLooG PPL`. I'm afraid I can not post the updated packages, as sage.math seems to be down.



---

archive/issue_comments_141222.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,5 +4,4 @@\n \n This is related with #12369 and #12661.\n \n-Install http://sage.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg\n-\n+**spkg**: [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg)\n``````\n",
    "created_at": "2012-03-14T08:56:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141222",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,5 +4,4 @@
 
 This is related with #12369 and #12661.
 
-Install http://sage.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg
-
+**spkg**: [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg)
``````




---

archive/issue_comments_141223.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI think you are missing the configure option\n\n```\n--with-gmp-prefix=\"$SAGE_LOCAL\"\n```",
    "created_at": "2012-03-14T09:05:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141223",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

I think you are missing the configure option

```
--with-gmp-prefix="$SAGE_LOCAL"
```



---

archive/issue_events_172401.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-14T09:05:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172401"
}
```



---

archive/issue_events_172402.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-14T09:05:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172402"
}
```



---

archive/issue_comments_141224.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n(even though CLooG seems to build without that option, which I cannot really explain...)",
    "created_at": "2012-03-14T09:07:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141224",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

(even though CLooG seems to build without that option, which I cannot really explain...)



---

archive/issue_comments_141225.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@jdemeyer](#comment:6):\n> (even though CLooG seems to build without that option, which I cannot really explain...)\n\nI guess it is since `CLooG` looks for GMP in the standard location, \"standard\" being determined by the `--prefix=\"$SAGE_LOCAL\"` option that I do provide.\n\nAnyway. What is really missing is at least the option `--with-ppl`, or even a cloog-ppl package with that option.\n\nSince sage.math seems to be down, I can't post either of the two spkgs...",
    "created_at": "2012-03-14T09:12:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141225",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@jdemeyer](#comment:6):
> (even though CLooG seems to build without that option, which I cannot really explain...)

I guess it is since `CLooG` looks for GMP in the standard location, "standard" being determined by the `--prefix="$SAGE_LOCAL"` option that I do provide.

Anyway. What is really missing is at least the option `--with-ppl`, or even a cloog-ppl package with that option.

Since sage.math seems to be down, I can't post either of the two spkgs...



---

archive/issue_events_172403.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-15T08:48:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172403"
}
```



---

archive/issue_events_172404.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-15T08:48:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172404"
}
```



---

archive/issue_comments_141226.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n[Leif](http://groups.google.com/group/sage-devel/browse_thread/thread/4e90520289b7b5ba/a84a9363d4ff6495) cited from the GCC prerequisites page:\n\n```\nCLooG-PPL version( 0.15 or CLooG 0.16\n    Necessary to build GCC with the Graphite loop optimizations. There\nare two versions available. CLooG-PPL 0.15 as well as CLooG 0.16. The\nformer is the default right now. It can be downloaded from\nftp://gcc.gnu.org/pub/gcc/infrastructure/ as cloog-ppl-0.15.tar.gz.\n\n    CLooG 0.16 support is still in testing stage, but will be the\ndefault in future GCC releases. It is also available at\nftp://gcc.gnu.org/pub/gcc/infrastructure/ as cloog-0.16.1.tar.gz. To\nuse it add the additional configure option --enable-cloog-backend=isl.\nEven if CLooG 0.16 does not use PPL, PPL is still required for\nGraphite.\n```\n\nActually, I found that `cloog-0.16.1` does not work, i.e., gcc does not build. Hence, I made a cloog_ppl-0.15.11 spkg, that I suggest to make an optional spkg.",
    "created_at": "2012-03-15T08:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141226",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:8" align="right">comment:8</div>

[Leif](http://groups.google.com/group/sage-devel/browse_thread/thread/4e90520289b7b5ba/a84a9363d4ff6495) cited from the GCC prerequisites page:

```
CLooG-PPL version( 0.15 or CLooG 0.16
    Necessary to build GCC with the Graphite loop optimizations. There
are two versions available. CLooG-PPL 0.15 as well as CLooG 0.16. The
former is the default right now. It can be downloaded from
ftp://gcc.gnu.org/pub/gcc/infrastructure/ as cloog-ppl-0.15.tar.gz.

    CLooG 0.16 support is still in testing stage, but will be the
default in future GCC releases. It is also available at
ftp://gcc.gnu.org/pub/gcc/infrastructure/ as cloog-0.16.1.tar.gz. To
use it add the additional configure option --enable-cloog-backend=isl.
Even if CLooG 0.16 does not use PPL, PPL is still required for
Graphite.
```

Actually, I found that `cloog-0.16.1` does not work, i.e., gcc does not build. Hence, I made a cloog_ppl-0.15.11 spkg, that I suggest to make an optional spkg.



---

archive/issue_comments_141227.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,8 @@\n-As much as I understand, some compiler optimizations rely on `CLooG` (the Chunky Loop Generator) being installed.\n+As much as I understand, for building GCC with \"graphite\" one needs `CLooG-PPL` (the Chunky Loop Generator) being installed. Note that `CLooG` plus PPL seems not to be enough\n \n Hence, I suggest to have an optional spkg. At least on openSuse, the straight forward way to make an spkg (no patches, and an spkg-install and spkg-check that just to `./configure --prefix...`, `make`, `make install` and  `make check`) seems to work.\n \n-This is related with #12369 and #12661.\n+This is related with #12369, and depends on #12672 and #12661.\n \n-**spkg**: [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg)\n+**spkg:** [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)\n+\n``````\n",
    "created_at": "2012-03-15T08:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141227",
    "user": "https://github.com/simon-king-jena"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,8 @@
-As much as I understand, some compiler optimizations rely on `CLooG` (the Chunky Loop Generator) being installed.
+As much as I understand, for building GCC with "graphite" one needs `CLooG-PPL` (the Chunky Loop Generator) being installed. Note that `CLooG` plus PPL seems not to be enough
 
 Hence, I suggest to have an optional spkg. At least on openSuse, the straight forward way to make an spkg (no patches, and an spkg-install and spkg-check that just to `./configure --prefix...`, `make`, `make install` and  `make check`) seems to work.
 
-This is related with #12369 and #12661.
+This is related with #12369, and depends on #12672 and #12661.
 
-**spkg**: [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog-0.17.0.spkg)
+**spkg:** [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)
+
``````




---

archive/issue_comments_141228.json:
```json
{
    "body": "Dependencies: **#12672 #12661**",
    "created_at": "2012-03-15T08:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141228",
    "user": "https://github.com/simon-king-jena"
}
```

Dependencies: **#12672 #12661**



---

archive/issue_events_172405.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-15T08:48:13Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "title_is": "Optional CLooG-PPL spkg",
    "title_was": "Optional CLooG spkg",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172405"
}
```



---

archive/issue_comments_141229.json:
```json
{
    "body": "Changed keywords from **CLooG** to **CLooG PPL**",
    "created_at": "2012-03-15T08:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141229",
    "user": "https://github.com/simon-king-jena"
}
```

Changed keywords from **CLooG** to **CLooG PPL**



---

archive/issue_comments_141230.json:
```json
{
    "body": "Changed dependencies from **#12672 #12661** to **#12672**",
    "created_at": "2012-03-15T13:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141230",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#12672 #12661** to **#12672**



---

archive/issue_events_172406.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-15T13:48:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172406"
}
```



---

archive/issue_events_172407.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-15T13:48:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172407"
}
```



---

archive/issue_comments_141231.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nYou are missing the configure options\n\n```\n--with-gmp=\"$SAGE_LOCAL\" --with-ppl=\"$SAGE_LOCAL\"\n```\n\nIf I apply the following patch, CLooG-PPL builds fine (even without the GMP spkg):\n\n```diff\ndiff -r 93c792cfd365 spkg-install\n--- a/spkg-install      Wed Mar 14 08:12:41 2012 +0100\n+++ b/spkg-install      Thu Mar 15 14:46:53 2012 +0100\n@@ -10,7 +10,7 @@\n SAGE_CONF_OPTS=\"--enable-shared --disable-static\"\n\n cd src\n-./configure --libdir=\"$SAGE_LOCAL/lib\" --prefix=\"$SAGE_LOCAL\"  --with-gmp --with-ppl $SAGE_CONF_OPTS\n+./configure --libdir=\"$SAGE_LOCAL/lib\" --prefix=\"$SAGE_LOCAL\"  --with-gmp=\"$SAGE_LOCAL\" --with-ppl=\"$SAGE_LOCAL\" $SAGE_CONF_OPTS\n $MAKE\n if [ $? -ne 0 ]; then\n     echo \"Error building CLooG PPL.\"\n```",
    "created_at": "2012-03-15T13:48:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141231",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

You are missing the configure options

```
--with-gmp="$SAGE_LOCAL" --with-ppl="$SAGE_LOCAL"
```

If I apply the following patch, CLooG-PPL builds fine (even without the GMP spkg):

```diff
diff -r 93c792cfd365 spkg-install
--- a/spkg-install      Wed Mar 14 08:12:41 2012 +0100
+++ b/spkg-install      Thu Mar 15 14:46:53 2012 +0100
@@ -10,7 +10,7 @@
 SAGE_CONF_OPTS="--enable-shared --disable-static"

 cd src
-./configure --libdir="$SAGE_LOCAL/lib" --prefix="$SAGE_LOCAL"  --with-gmp --with-ppl $SAGE_CONF_OPTS
+./configure --libdir="$SAGE_LOCAL/lib" --prefix="$SAGE_LOCAL"  --with-gmp="$SAGE_LOCAL" --with-ppl="$SAGE_LOCAL" $SAGE_CONF_OPTS
 $MAKE
 if [ $? -ne 0 ]; then
     echo "Error building CLooG PPL."
```



---

archive/issue_events_172408.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-15T13:57:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172408"
}
```



---

archive/issue_events_172409.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-15T13:57:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172409"
}
```



---

archive/issue_comments_141232.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@jdemeyer](#comment:9):\n> You are missing the configure options\n> \n> ```\n> --with-gmp=\"$SAGE_LOCAL\" --with-ppl=\"$SAGE_LOCAL\"\n> ```\n> \n> If I apply the following patch, CLooG-PPL builds fine (even without the GMP spkg):\n\nCool! I just updated my [spkg on boxen.math](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)",
    "created_at": "2012-03-15T13:57:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141232",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@jdemeyer](#comment:9):
> You are missing the configure options
> 
> ```
> --with-gmp="$SAGE_LOCAL" --with-ppl="$SAGE_LOCAL"
> ```
> 
> If I apply the following patch, CLooG-PPL builds fine (even without the GMP spkg):

Cool! I just updated my [spkg on boxen.math](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)



---

archive/issue_comments_141233.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThanks, that seems to work.\n\nUnfortunately, I'm afraid your earlier performance tests with GCC are now invalidated and should be done again with this spkg and without GMP.",
    "created_at": "2012-03-15T14:08:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141233",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

Thanks, that seems to work.

Unfortunately, I'm afraid your earlier performance tests with GCC are now invalidated and should be done again with this spkg and without GMP.



---

archive/issue_comments_141234.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n Hence, I suggest to have an optional spkg. At least on openSuse, the straight forward way to make an spkg (no patches, and an spkg-install and spkg-check that just to `./configure --prefix...`, `make`, `make install` and  `make check`) seems to work.\n \n-This is related with #12369, and depends on #12672 and #12661.\n+This is related with #12369, and depends on #12672.\n \n **spkg:** [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)\n \n``````\n",
    "created_at": "2012-03-15T19:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141234",
    "user": "https://github.com/simon-king-jena"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 Hence, I suggest to have an optional spkg. At least on openSuse, the straight forward way to make an spkg (no patches, and an spkg-install and spkg-check that just to `./configure --prefix...`, `make`, `make install` and  `make check`) seems to work.
 
-This is related with #12369, and depends on #12672 and #12661.
+This is related with #12369, and depends on #12672.
 
 **spkg:** [http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg](http://boxen.math.washington.edu/home/SimonKing/SAGE/spkgs/cloog_ppl-0.15.11.spkg)
 
``````




---

archive/issue_events_172410.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172410"
}
```



---

archive/issue_events_172411.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172411"
}
```



---

archive/issue_comments_141235.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nShould we obsolete this? Recent gcc still use cloog but with isl instead of ppl. Plus we upgraded ppl to 1.1 I don't think anyone patch cloog anymore to interface with ppl after 0.12.x. gcc was the main consumer of that.",
    "created_at": "2013-12-26T19:40:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141235",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:14" align="right">comment:14</div>

Should we obsolete this? Recent gcc still use cloog but with isl instead of ppl. Plus we upgraded ppl to 1.1 I don't think anyone patch cloog anymore to interface with ppl after 0.12.x. gcc was the main consumer of that.



---

archive/issue_events_172412.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2013-12-26T19:40:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172412"
}
```



---

archive/issue_events_172413.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2013-12-26T19:40:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172413"
}
```



---

archive/issue_events_172414.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172414"
}
```



---

archive/issue_events_172415.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172415"
}
```



---

archive/issue_events_172416.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172416"
}
```



---

archive/issue_events_172417.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172417"
}
```



---

archive/issue_events_172418.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172418"
}
```



---

archive/issue_events_172419.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172419"
}
```



---

archive/issue_comments_141236.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@kiwifb](#comment:14):\n> Should we obsolete this? Recent gcc still use cloog but with isl instead of ppl. Plus we upgraded ppl to 1.1 I don't think anyone patch cloog anymore to interface with ppl after 0.12.x. gcc was the main consumer of that.\n\nMore than two and a half years later...\n\nI think we can close this, as while GCC 4.9 still uses CLooG and ISL, GCC 5.x and 6.x have dropped CLooG and now only use ISL (if at all, i.e., with `--enable-lto`).\n\n\\\\\n\nFeel free to open a new ticket making ISL an optional package.",
    "created_at": "2016-07-28T22:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141236",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@kiwifb](#comment:14):
> Should we obsolete this? Recent gcc still use cloog but with isl instead of ppl. Plus we upgraded ppl to 1.1 I don't think anyone patch cloog anymore to interface with ppl after 0.12.x. gcc was the main consumer of that.

More than two and a half years later...

I think we can close this, as while GCC 4.9 still uses CLooG and ISL, GCC 5.x and 6.x have dropped CLooG and now only use ISL (if at all, i.e., with `--enable-lto`).

\\

Feel free to open a new ticket making ISL an optional package.



---

archive/issue_events_172420.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2016-07-28T22:00:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172420"
}
```



---

archive/issue_events_172421.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2016-07-28T22:00:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172421"
}
```



---

archive/issue_comments_141237.json:
```json
{
    "body": "Changed keywords from **CLooG PPL** to **CLooG PPL ISL GCC LTO**",
    "created_at": "2016-07-28T22:00:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141237",
    "user": "https://github.com/nexttime"
}
```

Changed keywords from **CLooG PPL** to **CLooG PPL ISL GCC LTO**



---

archive/issue_events_172422.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2016-07-28T22:00:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172422"
}
```



---

archive/issue_comments_141238.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nP.S.:  `--enable-lto` is meanwhile even the default.  GCC will automatically pick up ISL when present (installed library and headers, or source in the build tree) and otherwise simply disable LTO support.",
    "created_at": "2016-07-28T22:17:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141238",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:19" align="right">comment:19</div>

P.S.:  `--enable-lto` is meanwhile even the default.  GCC will automatically pick up ISL when present (installed library and headers, or source in the build tree) and otherwise simply disable LTO support.



---

archive/issue_events_172423.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-07-28T22:51:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172423"
}
```



---

archive/issue_events_172424.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-07-28T22:51:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172424"
}
```



---

archive/issue_comments_141239.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\ncloog/isl and previously ppl were for the graphite plugin which does loop optimization, not \"link time optimization\" unless you know something I don't. In any case I am for closing it too.",
    "created_at": "2016-07-28T22:51:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141239",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:20" align="right">comment:20</div>

cloog/isl and previously ppl were for the graphite plugin which does loop optimization, not "link time optimization" unless you know something I don't. In any case I am for closing it too.



---

archive/issue_comments_141240.json:
```json
{
    "body": "Changed author from **Simon King** to none",
    "created_at": "2016-07-28T23:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141240",
    "user": "https://github.com/nexttime"
}
```

Changed author from **Simon King** to none



---

archive/issue_comments_141241.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@kiwifb](#comment:20):\n> cloog/isl and previously ppl were for the graphite plugin which does loop optimization, not \"link time optimization\" unless you know something I don't.\n\nYes, but that was (at least years ago) also, if not only, done *at link time*.  But LTO has massively changed (and improved) over the last years, they say.\n\nNot sure whether CLooG was initially used during *compilation* as well.\n\n\\\\\n\n\n> In any case I am for closing it too.\n\nOk, I guess Simon won't complain either.",
    "created_at": "2016-07-28T23:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141241",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@kiwifb](#comment:20):
> cloog/isl and previously ppl were for the graphite plugin which does loop optimization, not "link time optimization" unless you know something I don't.

Yes, but that was (at least years ago) also, if not only, done *at link time*.  But LTO has massively changed (and improved) over the last years, they say.

Not sure whether CLooG was initially used during *compilation* as well.

\\


> In any case I am for closing it too.

Ok, I guess Simon won't complain either.



---

archive/issue_comments_141242.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2016-07-28T23:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141242",
    "user": "https://github.com/nexttime"
}
```

Reviewer: **Fran√ßois Bissey**



---

archive/issue_comments_141243.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@nexttime](#comment:21):\n> Replying to [@kiwifb](#comment:20):\n> > cloog/isl and previously ppl were for the graphite plugin which does loop optimization, not \"link time optimization\" unless you know something I don't.\n\n> \n> Yes, but that was (at least years ago) also, if not only, done *at link time*.  But LTO has massively changed (and improved) over the last years, they say.\n> \n> Not sure whether CLooG was initially used during *compilation* as well.\n\nHmmm, strike that.  I couldn't find any reference, and both seem indeed independent, while combining them may of course be advantageous.  (Hence you're right, `--enable-lto` is orthogonal to `--with-isl`.)",
    "created_at": "2016-07-29T00:51:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141243",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@nexttime](#comment:21):
> Replying to [@kiwifb](#comment:20):
> > cloog/isl and previously ppl were for the graphite plugin which does loop optimization, not "link time optimization" unless you know something I don't.

> 
> Yes, but that was (at least years ago) also, if not only, done *at link time*.  But LTO has massively changed (and improved) over the last years, they say.
> 
> Not sure whether CLooG was initially used during *compilation* as well.

Hmmm, strike that.  I couldn't find any reference, and both seem indeed independent, while combining them may of course be advantageous.  (Hence you're right, `--enable-lto` is orthogonal to `--with-isl`.)



---

archive/issue_events_172425.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172425"
}
```



---

archive/issue_events_172426.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172426"
}
```



---

archive/issue_events_172427.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172427"
}
```



---

archive/issue_events_172428.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "c6c6c6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12666#event-172428"
}
```



---

archive/issue_comments_141244.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nDetermined to be invalid/duplicate/wontfix (closing as \"wontfix\" as a catch-all resolution).",
    "created_at": "2016-08-30T13:32:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12666#issuecomment-141244",
    "user": "https://github.com/embray"
}
```

<div id="comment:23" align="right">comment:23</div>

Determined to be invalid/duplicate/wontfix (closing as "wontfix" as a catch-all resolution).
