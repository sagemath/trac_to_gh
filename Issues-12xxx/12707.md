# Issue 12707: Update the git spkg

archive/issues_012535.json:
```json
{
    "body": "Assignee: @jdemeyer\n\nCC:  @nexttime @haraldschilly @jdemeyer\n\nKeywords: SCM VCS RCS distributed revision control\n\n**Updated spkg:** [http://boxen.math.washington.edu/home/jdemeyer/spkg/git-1.7.12.2.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/git-1.7.12.2.p0.spkg)\n\n### git-1.7.12.2.p0 (Jeroen Demeyer, 2012-10-02)\n\n* #12707: Upgrade to git-1.7.12.2\n* Disable Tcl/Tk GUI (otherwise Tcl/Tk is a dependency)\n* Various fixes to spkg-install\n* Keep SANE_TOOL_PATH empty to ensure the PATH isn't changed\n* Figure out *correct* path to \"install\"\n* Add patch no-autoconf.patch to prevent running autoconf\n\n### git-1.7.10 (Keshav Kini, 2012-04-20)\n\n* #12707: Upgrade to latest stable\n* Fix building on OS X by making the installer ignore Fink and Darwin\n  Ports\n* Make sure not to use the system Python for anything\n\n### git-1.7.9.4 (Keshav Kini, 2012-03-19)\n\n* Upgrade to latest stable\n* Track dependencies\n\n### git-1.7.2.4 (William Stein, 2012-03-19)\n\n* Initial version\n\n---\n\nApply:\n\n1. [attachment:trac_12707-git-scripts.patch]\n2. The SPKG linked above\n\nIssue created by migration from https://trac.sagemath.org/ticket/12707\n\n",
    "closed_at": "2012-10-14T18:55:01Z",
    "created_at": "2012-03-20T12:40:45Z",
    "labels": [
        "component: packages: optional",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.4",
    "title": "Update the git spkg",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12707",
    "user": "https://github.com/nexttime"
}
```
Assignee: @jdemeyer

CC:  @nexttime @haraldschilly @jdemeyer

Keywords: SCM VCS RCS distributed revision control

**Updated spkg:** [http://boxen.math.washington.edu/home/jdemeyer/spkg/git-1.7.12.2.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/git-1.7.12.2.p0.spkg)

### git-1.7.12.2.p0 (Jeroen Demeyer, 2012-10-02)

* #12707: Upgrade to git-1.7.12.2
* Disable Tcl/Tk GUI (otherwise Tcl/Tk is a dependency)
* Various fixes to spkg-install
* Keep SANE_TOOL_PATH empty to ensure the PATH isn't changed
* Figure out *correct* path to "install"
* Add patch no-autoconf.patch to prevent running autoconf

### git-1.7.10 (Keshav Kini, 2012-04-20)

* #12707: Upgrade to latest stable
* Fix building on OS X by making the installer ignore Fink and Darwin
  Ports
* Make sure not to use the system Python for anything

### git-1.7.9.4 (Keshav Kini, 2012-03-19)

* Upgrade to latest stable
* Track dependencies

### git-1.7.2.4 (William Stein, 2012-03-19)

* Initial version

---

Apply:

1. [attachment:trac_12707-git-scripts.patch]
2. The SPKG linked above

Issue created by migration from https://trac.sagemath.org/ticket/12707





---

archive/issue_comments_148329.json:
```json
{
    "body": "This is already an experimental spkg thanks to #12705. You might use this ticket to \"upgrade\" it to optional, if you so desire.",
    "created_at": "2012-03-20T12:42:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148329",
    "user": "https://github.com/kini"
}
```

This is already an experimental spkg thanks to #12705. You might use this ticket to "upgrade" it to optional, if you so desire.



---

archive/issue_comments_148330.json:
```json
{
    "body": "ah ok, it's optional now. i didn't knew where i was supposed to put it :-)",
    "created_at": "2012-03-20T12:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148330",
    "user": "https://github.com/haraldschilly"
}
```

ah ok, it's optional now. i didn't knew where i was supposed to put it :-)



---

archive/issue_comments_148331.json:
```json
{
    "body": "`spkg-install` could be beautified.\n\nIt lacks `#!/usr/bin/env bash` and the usual sanity check (`if [This is the Trac macro *-z \"$SAGE_LOCAL\" * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#-z \"$SAGE_LOCAL\" -macro); then ...`), and error messages should be redirected to `stderr`.\n\nI'd also split the build (`make`) from `make install`.",
    "created_at": "2012-03-20T12:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148331",
    "user": "https://github.com/nexttime"
}
```

`spkg-install` could be beautified.

It lacks `#!/usr/bin/env bash` and the usual sanity check (`if [This is the Trac macro *-z "$SAGE_LOCAL" * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#-z "$SAGE_LOCAL" -macro); then ...`), and error messages should be redirected to `stderr`.

I'd also split the build (`make`) from `make install`.



---

archive/issue_comments_148332.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-03-20T12:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148332",
    "user": "https://github.com/nexttime"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_148333.json:
```json
{
    "body": "Replying to [comment:1 kini]:\n> This is already an experimental spkg thanks to #12705. You might use this ticket to \"upgrade\" it to optional, if you so desire.\n\n\nOoops, I searched for \"git\" on trac but have apparently been too slow with creating the ticket (or trac lied, as it sometimes does).\n\nSorry for the noise, or is anybody going to further work on this ticket?",
    "created_at": "2012-03-20T12:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148333",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:1 kini]:
> This is already an experimental spkg thanks to #12705. You might use this ticket to "upgrade" it to optional, if you so desire.


Ooops, I searched for "git" on trac but have apparently been too slow with creating the ticket (or trac lied, as it sometimes does).

Sorry for the noise, or is anybody going to further work on this ticket?



---

archive/issue_comments_148334.json:
```json
{
    "body": "I will make the changes you suggest. As the spkg has been published already (no matter how briefly) I guess that means this should be a .p1. So I'll change the name of this ticket to upgrade the SPKG to p1.",
    "created_at": "2012-03-20T12:56:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148334",
    "user": "https://github.com/kini"
}
```

I will make the changes you suggest. As the spkg has been published already (no matter how briefly) I guess that means this should be a .p1. So I'll change the name of this ticket to upgrade the SPKG to p1.



---

archive/issue_comments_148335.json:
```json
{
    "body": "I've uploaded the package here: http://boxen.math.washington.edu/home/keshav/files/git-1.7.9.4.p1.spkg",
    "created_at": "2012-03-20T14:27:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148335",
    "user": "https://github.com/kini"
}
```

I've uploaded the package here: http://boxen.math.washington.edu/home/keshav/files/git-1.7.9.4.p1.spkg



---

archive/issue_comments_148336.json:
```json
{
    "body": "Leif told me on IRC that I should handle SAGE64 and CPPFLAGS/LDFLAGS. I guess I will also add an spkg-check script.",
    "created_at": "2012-03-21T02:20:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148336",
    "user": "https://github.com/kini"
}
```

Leif told me on IRC that I should handle SAGE64 and CPPFLAGS/LDFLAGS. I guess I will also add an spkg-check script.



---

archive/issue_comments_148337.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-03-21T02:20:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148337",
    "user": "https://github.com/kini"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_148338.json:
```json
{
    "body": "Sorry, forgot to mark this as needs review again. I think I've addressed the issues Leif pointed out to me.",
    "created_at": "2012-03-23T03:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148338",
    "user": "https://github.com/kini"
}
```

Sorry, forgot to mark this as needs review again. I think I've addressed the issues Leif pointed out to me.



---

archive/issue_comments_148339.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-04-20T04:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148339",
    "user": "https://github.com/kini"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_148340.json:
```json
{
    "body": "... wtf? Apparently it didn't get set as needs review after all... trying again",
    "created_at": "2012-04-20T04:37:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148340",
    "user": "https://github.com/kini"
}
```

... wtf? Apparently it didn't get set as needs review after all... trying again



---

archive/issue_comments_148341.json:
```json
{
    "body": "On sage.math, the Python path is hardcoded, as you noted in sage-devel. So this uses the system Python, and so fails to build for me.\n\nOn OS X Lion with sage-5.0.beta13, I see this:\n\n```\n    AR libgit.a\n/usr/bin/ranlib: file: libgit.a(gettext.o) has no symbols\n    LINK git-daemon\n    LINK git-fast-import\nld: warning: ignoring file /opt/local/lib/libz.dylib, file was built for unsupported file format ld: warning: whichignoring is not the architecture file /opt/local/lib/libz.dylib, file was built for unsupported file format which is not the architecture being linked (x86_64)\nld: warning: ignoring file /sw/lib/libiconv.dylib, file was built for unsupported file format which is not the architecture  being linked (x86_64)\nld: warning: ignoring file /sw/lib/libiconv.dylib, file was built for unsupported file format which is not the architecture being linked (x86_64)\nld: warning: ignoring file /opt/local/lib/libcrypto.dylib, file was built for unsupported file format which is not the architecture being linked (x86_64)\nUndefined symbols for architecture x86_64:\n  \"_crc32\", referenced from:\n      _check_pack_crc in libgit.a(pack-check.o)\n      _sha1write in libgit.a(csum-file.o)\n      _crc32_begin in libgit.a(csum-file.o)\n     (maybe you meant: _crc32_end, _crc32_begin )\n  \"_SHA1_Init\", referenced from:\n      _write_sha1_file_prepare in libgit.a(sha1_file.obeing linked (x86_64)\nld: warning: ignoring file /opt/local/lib/libcrypto.dylib, file was built for unsupported file format which is not the architecture)\n      _write_loose_object in libgit.a(sha1_file.o)\n      _verify_pack_index in libgit.a(pack-check.o)\n      _verify_pack in libgit.a(pack-check.o)\n      _deflate_to_pack.constprop.1 in libgit.a(bulk-checkin.o)\n      being linked ( _sha1fd_throughput in libgit.a(csum-file.o)\n      _write_idx_file in libgit.a(pack-write.o)\n     x86_64)\nUndefined symbols for architecture  ...\n  \"_SHA1_Update\", referenced from:\n      _write_sha1_file_prepare inx86_64:\n  \"_SHA1_Init\", referenced from:\n    libgit.a(sha1_file.o)\n      _write_loose_object in libgit.a(sha1_file.o)\n   _store_object in fast-import.o\n      _stream_blob in       _verify_pack_index in libgit.a(pack-check.o)\n    fast-import.o\n      _sha1fd_throughput in libgit.a(csum-file.o)\n      _write_sha1_file_prepare in libgit.a(sha1_file.o)\n      _write_loose_object in libgit.a(sha1_file.o)\n      _read_index_from in libgit.a(read-cache.o)\n      _write_index in libgit.a(read-cache.o  _verify_pack in libgit.a(pack-check.o)\n      _deflate_to_pack.constprop.1 in libgit.a(bulk-checkin.o)\n      _sha1flush in libgit.a()\n      ...\n  \"_SHA1_Update\", referenced from:\n      _store_object in fast-import.o\n      _stream_blob in fast-import.o\n      _sha1flush in libgit.a(csum-file.o)\n      _sha1write in libgit.a(csum-file.o)\n csum-file.o) \n         _write_sha1_file_prepare  _sha1write in libgit.a(csum-file.o)\n      ...\n  \"_SHA1_Final\", referenced from:in libgit.a(sha1_file.o)\n      _write_loose_object in libgit.a(sha1_file.o)\n      _ce_write in libgit.a(read-cache.o)\n      ...\n  \"_SHA1_Final\", referenced from:\n      _store_object in fast-import.o\n      _stream_blob in fast-import.o\n      _sha1close in libgit.a(csum\n      _write_sha1_file_prepare in libgit.a(sha1_file.o)\n      _write_loose_object in libgit.a(sha1_file.o)\n      _verify_pack_index in libgit.a(-file.o)\n      _write_sha1_file_prepare in libgit.a(sha1_file.o)\n      _write_loose_object in libgit.a(sha1_file.o)\n      _read_index_from in libgit.apack-check.o)\n      _verify_pack in libgit.a(pack-check.o)(read-cache.o)\n      _write_index in libgit.a(read-cache.o)\n \n         ...\n  \"_crc32\", referenced from:\n      _sha1write in libgit.a(csum-file.o)\n      _crc32_begin in libgit.a(csum-file.o)\n      _check_pack_crc in libgit.a( pack -check.o_deflate_to_pack.constprop.1 in libgit.a(bulk-checkin.o)\n      _sha1close in libgit.a(csum-file.o)\n      _write_idx_file in libgit.a(pack-)\n     (maybe you meant: _crc32_end, _crc32_begin )\n  \"_libiconv_open\", referenced from:\n      _reencode_string in libgit.awrite.o(utf8.o)\n  \"_libiconv\", referenced from:\n      _reencode_string in libgit.a(utf8.o)\n  \"_libiconv_close\", referenced from:\n      _reencode_string in libgit.a(utf8.o)\n  \"_inflateInit_\", referenced from:\n     )\n      . _git_inflate_init in libgit.a(zlib.o)\n  \"_inflateInit2_\", referenced from:\n      ..\n  \"_libiconv_open\", referenced from:\n      _reencode_string in libgit.a(utf8.o)\n  \"_libiconv\", referenced from:\n      _reencode_string in libgit.a(utf8.o)\n  \"_libiconv_close\", referenced from:\n      _reencode_string in libgit.a(utf8.o)\n  \"_inflateInit_\", referenced from:\n      _git_inflate_init in libgit.a(zlib.o_git_inflate_init_gzip_only in libgit.a(zlib.o)\n  \"_inflateEnd\", referenced from:\n      _git_inflate_end in libgit.a(zlib.o)\n  \"_inflate\", referenced from:\n      _git_inflate in libgit.a(zlib.o)\n  \"_inflateInit2_\", referenced from:\n      _git_inflate_init_gzip_only in libgit.a(zlib.o)\n  \"_inflateEnd\", referenced from:\n  )\n     (maybe you meant: _git_inflate, _git_inflate_init_gzip_only , _git_inflate_init , _git_inflate_end )\n  \"_deflateBound\", referenced from:\n      _git_deflate_bound in libgit.a(zlib.o)\n  \"_deflateInit_\", referenced from:\n      _git_deflate_init in libgit.a(zlib.o)\n  \"_deflateInit2_\", referenced from:\n      _git_inflate_end in    _git_deflate_init_gzip in libgit.a(zlib.o)\n  \"_deflateEnd\", referenced from:\n      _git_deflate_abort in libgit.a(zlib.o)\n      _git_deflate_end_gently in libgit.a(zlib.o)\n  \"_deflate\", referenced from:\n      _git_deflate libgit.a(zlib.o)\n  \"_inflate\", referenced from:\n   in libgit.a(zlib.o)\n     (maybe you meant: _git_deflate_end_gently    _git_inflate in libgit.a(zlib.o)\n     (maybe , you_git_deflate , _git_deflate_bound , _git_deflate_end , _git_deflate_abort , _git_deflate_init_gzip , _git_deflate_init )\nld: symbol(s) not found for architecture x86_64\n meant: _git_inflate, _git_inflate_init_gzip_only , _git_inflate_init , _git_inflate_end )\n  \"_deflateBound\", referenced from:\n      _git_deflate_bound in libgit.a(zlib.o)\n  \"collect2: ld returned 1 exit status\n_deflateInit_\", referenced from:\n      _git_deflate_init in libgit.a(zlib.o)\n  \"_deflateInit2_\", referenced from:\n      _git_deflate_init_gzip in libgit.a(zlib.o)\n  \"_deflateEnd\", referenced from:\n      _git_deflate_abort in libgit.a(zlib.o)\n      _git_deflate_end_gently in libgit.a(zlib.o)\n  \"_deflate\", referenced from:\n      _git_deflate in libgit.a(zlib.o)\n     (maybe you meant: _git_deflate_end_gently, _git_deflate , _git_deflate_bound , _git_deflate_end , _git_deflate_abort , _git_deflate_init_gzip , _git_deflate_init )\nld: symbol(s) not found for architecture x86_64\ncollect2: ld returned 1 exit status\nmake: *** [git-fast-import] Error 1\nmake: *** Waiting for unfinished jobs....\nmake: *** [git-daemon] Error 1\nError building git.\n```\nI don't know why it's picking up files in /opt and /sw; I don't reference those directories in any environment variables. Oh, according to the Makefile, it looks like we should set `NO_FINK` and `NO_DARWIN_PORTS`, at least on Darwin. Putting `export NO_FINK=yes` (and similar for `NO_DARWIN_PORTS`) in spkg-install fixes the installation on this machine.",
    "created_at": "2012-04-20T05:20:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148341",
    "user": "https://github.com/jhpalmieri"
}
```

On sage.math, the Python path is hardcoded, as you noted in sage-devel. So this uses the system Python, and so fails to build for me.

On OS X Lion with sage-5.0.beta13, I see this:

```
    AR libgit.a
/usr/bin/ranlib: file: libgit.a(gettext.o) has no symbols
    LINK git-daemon
    LINK git-fast-import
ld: warning: ignoring file /opt/local/lib/libz.dylib, file was built for unsupported file format ld: warning: whichignoring is not the architecture file /opt/local/lib/libz.dylib, file was built for unsupported file format which is not the architecture being linked (x86_64)
ld: warning: ignoring file /sw/lib/libiconv.dylib, file was built for unsupported file format which is not the architecture  being linked (x86_64)
ld: warning: ignoring file /sw/lib/libiconv.dylib, file was built for unsupported file format which is not the architecture being linked (x86_64)
ld: warning: ignoring file /opt/local/lib/libcrypto.dylib, file was built for unsupported file format which is not the architecture being linked (x86_64)
Undefined symbols for architecture x86_64:
  "_crc32", referenced from:
      _check_pack_crc in libgit.a(pack-check.o)
      _sha1write in libgit.a(csum-file.o)
      _crc32_begin in libgit.a(csum-file.o)
     (maybe you meant: _crc32_end, _crc32_begin )
  "_SHA1_Init", referenced from:
      _write_sha1_file_prepare in libgit.a(sha1_file.obeing linked (x86_64)
ld: warning: ignoring file /opt/local/lib/libcrypto.dylib, file was built for unsupported file format which is not the architecture)
      _write_loose_object in libgit.a(sha1_file.o)
      _verify_pack_index in libgit.a(pack-check.o)
      _verify_pack in libgit.a(pack-check.o)
      _deflate_to_pack.constprop.1 in libgit.a(bulk-checkin.o)
      being linked ( _sha1fd_throughput in libgit.a(csum-file.o)
      _write_idx_file in libgit.a(pack-write.o)
     x86_64)
Undefined symbols for architecture  ...
  "_SHA1_Update", referenced from:
      _write_sha1_file_prepare inx86_64:
  "_SHA1_Init", referenced from:
    libgit.a(sha1_file.o)
      _write_loose_object in libgit.a(sha1_file.o)
   _store_object in fast-import.o
      _stream_blob in       _verify_pack_index in libgit.a(pack-check.o)
    fast-import.o
      _sha1fd_throughput in libgit.a(csum-file.o)
      _write_sha1_file_prepare in libgit.a(sha1_file.o)
      _write_loose_object in libgit.a(sha1_file.o)
      _read_index_from in libgit.a(read-cache.o)
      _write_index in libgit.a(read-cache.o  _verify_pack in libgit.a(pack-check.o)
      _deflate_to_pack.constprop.1 in libgit.a(bulk-checkin.o)
      _sha1flush in libgit.a()
      ...
  "_SHA1_Update", referenced from:
      _store_object in fast-import.o
      _stream_blob in fast-import.o
      _sha1flush in libgit.a(csum-file.o)
      _sha1write in libgit.a(csum-file.o)
 csum-file.o) 
         _write_sha1_file_prepare  _sha1write in libgit.a(csum-file.o)
      ...
  "_SHA1_Final", referenced from:in libgit.a(sha1_file.o)
      _write_loose_object in libgit.a(sha1_file.o)
      _ce_write in libgit.a(read-cache.o)
      ...
  "_SHA1_Final", referenced from:
      _store_object in fast-import.o
      _stream_blob in fast-import.o
      _sha1close in libgit.a(csum
      _write_sha1_file_prepare in libgit.a(sha1_file.o)
      _write_loose_object in libgit.a(sha1_file.o)
      _verify_pack_index in libgit.a(-file.o)
      _write_sha1_file_prepare in libgit.a(sha1_file.o)
      _write_loose_object in libgit.a(sha1_file.o)
      _read_index_from in libgit.apack-check.o)
      _verify_pack in libgit.a(pack-check.o)(read-cache.o)
      _write_index in libgit.a(read-cache.o)
 
         ...
  "_crc32", referenced from:
      _sha1write in libgit.a(csum-file.o)
      _crc32_begin in libgit.a(csum-file.o)
      _check_pack_crc in libgit.a( pack -check.o_deflate_to_pack.constprop.1 in libgit.a(bulk-checkin.o)
      _sha1close in libgit.a(csum-file.o)
      _write_idx_file in libgit.a(pack-)
     (maybe you meant: _crc32_end, _crc32_begin )
  "_libiconv_open", referenced from:
      _reencode_string in libgit.awrite.o(utf8.o)
  "_libiconv", referenced from:
      _reencode_string in libgit.a(utf8.o)
  "_libiconv_close", referenced from:
      _reencode_string in libgit.a(utf8.o)
  "_inflateInit_", referenced from:
     )
      . _git_inflate_init in libgit.a(zlib.o)
  "_inflateInit2_", referenced from:
      ..
  "_libiconv_open", referenced from:
      _reencode_string in libgit.a(utf8.o)
  "_libiconv", referenced from:
      _reencode_string in libgit.a(utf8.o)
  "_libiconv_close", referenced from:
      _reencode_string in libgit.a(utf8.o)
  "_inflateInit_", referenced from:
      _git_inflate_init in libgit.a(zlib.o_git_inflate_init_gzip_only in libgit.a(zlib.o)
  "_inflateEnd", referenced from:
      _git_inflate_end in libgit.a(zlib.o)
  "_inflate", referenced from:
      _git_inflate in libgit.a(zlib.o)
  "_inflateInit2_", referenced from:
      _git_inflate_init_gzip_only in libgit.a(zlib.o)
  "_inflateEnd", referenced from:
  )
     (maybe you meant: _git_inflate, _git_inflate_init_gzip_only , _git_inflate_init , _git_inflate_end )
  "_deflateBound", referenced from:
      _git_deflate_bound in libgit.a(zlib.o)
  "_deflateInit_", referenced from:
      _git_deflate_init in libgit.a(zlib.o)
  "_deflateInit2_", referenced from:
      _git_inflate_end in    _git_deflate_init_gzip in libgit.a(zlib.o)
  "_deflateEnd", referenced from:
      _git_deflate_abort in libgit.a(zlib.o)
      _git_deflate_end_gently in libgit.a(zlib.o)
  "_deflate", referenced from:
      _git_deflate libgit.a(zlib.o)
  "_inflate", referenced from:
   in libgit.a(zlib.o)
     (maybe you meant: _git_deflate_end_gently    _git_inflate in libgit.a(zlib.o)
     (maybe , you_git_deflate , _git_deflate_bound , _git_deflate_end , _git_deflate_abort , _git_deflate_init_gzip , _git_deflate_init )
ld: symbol(s) not found for architecture x86_64
 meant: _git_inflate, _git_inflate_init_gzip_only , _git_inflate_init , _git_inflate_end )
  "_deflateBound", referenced from:
      _git_deflate_bound in libgit.a(zlib.o)
  "collect2: ld returned 1 exit status
_deflateInit_", referenced from:
      _git_deflate_init in libgit.a(zlib.o)
  "_deflateInit2_", referenced from:
      _git_deflate_init_gzip in libgit.a(zlib.o)
  "_deflateEnd", referenced from:
      _git_deflate_abort in libgit.a(zlib.o)
      _git_deflate_end_gently in libgit.a(zlib.o)
  "_deflate", referenced from:
      _git_deflate in libgit.a(zlib.o)
     (maybe you meant: _git_deflate_end_gently, _git_deflate , _git_deflate_bound , _git_deflate_end , _git_deflate_abort , _git_deflate_init_gzip , _git_deflate_init )
ld: symbol(s) not found for architecture x86_64
collect2: ld returned 1 exit status
make: *** [git-fast-import] Error 1
make: *** Waiting for unfinished jobs....
make: *** [git-daemon] Error 1
Error building git.
```
I don't know why it's picking up files in /opt and /sw; I don't reference those directories in any environment variables. Oh, according to the Makefile, it looks like we should set `NO_FINK` and `NO_DARWIN_PORTS`, at least on Darwin. Putting `export NO_FINK=yes` (and similar for `NO_DARWIN_PORTS`) in spkg-install fixes the installation on this machine.



---

archive/issue_comments_148342.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-04-20T05:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148342",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_148343.json:
```json
{
    "body": "Thanks for your detective work on OS X, John! The problem on sage.math I know how to fix - just pass some params to the configure script. New SPKG will be up in a little bit.",
    "created_at": "2012-04-20T06:08:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148343",
    "user": "https://github.com/kini"
}
```

Thanks for your detective work on OS X, John! The problem on sage.math I know how to fix - just pass some params to the configure script. New SPKG will be up in a little bit.



---

archive/issue_comments_148344.json:
```json
{
    "body": "I took the opportunity to upgrade to the latest stable git version, 1.7.10, as well.\n\nhttp://boxen.math.washington.edu/home/keshav/files/git-1.7.10.spkg",
    "created_at": "2012-04-20T06:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148344",
    "user": "https://github.com/kini"
}
```

I took the opportunity to upgrade to the latest stable git version, 1.7.10, as well.

http://boxen.math.washington.edu/home/keshav/files/git-1.7.10.spkg



---

archive/issue_comments_148345.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-04-20T06:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148345",
    "user": "https://github.com/kini"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_148346.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-04-20T07:54:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148346",
    "user": "https://github.com/kini"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_148347.json:
```json
{
    "body": "Um. Strange, I posted in a comment earlier that I had implemented Leif's suggestions about SAGE64 and CPPFLAGS/LDFLAGS, but I see no evidence of them in the current SPKG. I'm setting this back to needs_work until I find out where that version of the scripts went...",
    "created_at": "2012-04-20T07:54:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148347",
    "user": "https://github.com/kini"
}
```

Um. Strange, I posted in a comment earlier that I had implemented Leif's suggestions about SAGE64 and CPPFLAGS/LDFLAGS, but I see no evidence of them in the current SPKG. I'm setting this back to needs_work until I find out where that version of the scripts went...



---

archive/issue_comments_148348.json:
```json
{
    "body": "OK, seems I did make those changes and commit them but never uploaded the resulting SPKG... so now we have a rare occurrence, which is a merge commit inside an SPKG repo :)\n\nNew SPKG is up and ready for review IMO.",
    "created_at": "2012-04-20T20:54:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148348",
    "user": "https://github.com/kini"
}
```

OK, seems I did make those changes and commit them but never uploaded the resulting SPKG... so now we have a rare occurrence, which is a merge commit inside an SPKG repo :)

New SPKG is up and ready for review IMO.



---

archive/issue_comments_148349.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-04-20T20:54:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148349",
    "user": "https://github.com/kini"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_148350.json:
```json
{
    "body": "Jeroen, you mentioned you want to look at the git SPKG, so here it is (there is already an older one up under optional SPKGs, but this is newer and improved).",
    "created_at": "2012-05-26T02:12:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148350",
    "user": "https://github.com/kini"
}
```

Jeroen, you mentioned you want to look at the git SPKG, so here it is (there is already an older one up under optional SPKGs, but this is newer and improved).



---

archive/issue_comments_148351.json:
```json
{
    "body": "How did I forget this...",
    "created_at": "2012-06-12T22:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148351",
    "user": "https://github.com/kini"
}
```

How did I forget this...



---

archive/issue_comments_148352.json:
```json
{
    "body": "Attachment [trac_12707-git-scripts.patch](tarball://root/attachments/some-uuid/ticket12707/trac_12707-git-scripts.patch) by @jhpalmieri created at 2012-06-12 23:25:52\n\nscripts repo",
    "created_at": "2012-06-12T23:25:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148352",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_12707-git-scripts.patch](tarball://root/attachments/some-uuid/ticket12707/trac_12707-git-scripts.patch) by @jhpalmieri created at 2012-06-12 23:25:52

scripts repo



---

archive/issue_comments_148353.json:
```json
{
    "body": "You need a patch for the scripts repo: see [attachment:trac_12707-git-scripts.patch attached].",
    "created_at": "2012-06-12T23:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148353",
    "user": "https://github.com/jhpalmieri"
}
```

You need a patch for the scripts repo: see [attachment:trac_12707-git-scripts.patch attached].



---

archive/issue_comments_148354.json:
```json
{
    "body": "Thanks!",
    "created_at": "2012-06-12T23:40:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148354",
    "user": "https://github.com/kini"
}
```

Thanks!



---

archive/issue_comments_148355.json:
```json
{
    "body": "It builds on a few machines (sage.math, OS X Lion), but it fails on an OpenSolaris box:\n\n```\nld:ldld:ld::   fatalfatalldfatal::  file:  filedaemon.ofile :shell.o:  show wrongwrong- index.oELF : ldwrong ELFclass: :ELFCLASS32\nld : fatal fatal::  class fatal::  filefile ELFCLASS32processing\n lderrors.  Noupload:- pack.ofatal::   wrong fileELF  classoutput:  ELFCLASS32processingwritten  \nerrors.to  Nogit ldoutput- :writtenfile   toshell fast\n-gitfatalimport.o::  -show-index\nfile processing errors. collect2: wrongNo  ELFoutput written collect2: to ld returned git-upload-pack\n1 exit statusld returned  class: \nELFCLASS321 exit status\ncollect2: ld returned 1 exit statusld\n\n: ld:fatal: file http-backend.o: wrong ELF class: ELFCLASS32\nld: fatal: file processing errors. No  output writtenfatal :to  filegit -processinghttp -errors. Nobackend\ncollect2:  output written to git-fast-import\nld returned 1 exit status\ncollect2: ld returned 1 exit status\n: fatal: file imap-send.o: wrong ELF class: ELFCLASS32\nld: fatal: file processing errors. No output written to git-imap-send\ncollect2: ld returned 1 exit status\n ELF class: ELFCLASS32\nld: fatal: file processing errors. No output written to git-daemon\ncollect2: ld returned 1 exit status\nmake: *** [git-http-backend] Error 1\nmake: *** Waiting for unfinished jobs....\nmake: *** [git-imap-send] Error 1\nmake: *** [git-fast-import] Error 1\nmake: *** [git-show-index] Error 1\nmake: *** [git-shell] Error 1\nmake: *** [git-upload-pack] Error 1\nmake: *** [git-daemon] Error 1\nld: fatal: file sh-i18n--envsubst.o: wrong ELF class: ELFCLASS32\nld: fatal: file processing errors. No output written to git-sh-i18n--envsubst\ncollect2: ld returned 1 exit status\n    LINK git-http-fetch\nmake: *** [git-sh-i18n--envsubst] Error 1\nld: fatal: file credential-store.o: wrong ELF class: ELFCLASS32\nld: fatal: file processing errors. No output written to git-credential-store\ncollect2: ld returned 1 exit status\nmake: *** [git-credential-store] Error 1\nld: fatal: file revision.o: wrong ELF class: ELFCLASS32\nld: fatal: file processing errors. No output written to git-http-fetch\ncollect2: ld returned 1 exit status\nmake: *** [git-http-fetch] Error 1\nError building git.\n```",
    "created_at": "2012-06-12T23:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148355",
    "user": "https://github.com/jhpalmieri"
}
```

It builds on a few machines (sage.math, OS X Lion), but it fails on an OpenSolaris box:

```
ld:ldld:ld::   fatalfatalldfatal::  file:  filedaemon.ofile :shell.o:  show wrongwrong- index.oELF : ldwrong ELFclass: :ELFCLASS32
ld : fatal fatal::  class fatal::  filefile ELFCLASS32processing
 lderrors.  Noupload:- pack.ofatal::   wrong fileELF  classoutput:  ELFCLASS32processingwritten  
errors.to  Nogit ldoutput- :writtenfile   toshell fast
-gitfatalimport.o::  -show-index
file processing errors. collect2: wrongNo  ELFoutput written collect2: to ld returned git-upload-pack
1 exit statusld returned  class: 
ELFCLASS321 exit status
collect2: ld returned 1 exit statusld

: ld:fatal: file http-backend.o: wrong ELF class: ELFCLASS32
ld: fatal: file processing errors. No  output writtenfatal :to  filegit -processinghttp -errors. Nobackend
collect2:  output written to git-fast-import
ld returned 1 exit status
collect2: ld returned 1 exit status
: fatal: file imap-send.o: wrong ELF class: ELFCLASS32
ld: fatal: file processing errors. No output written to git-imap-send
collect2: ld returned 1 exit status
 ELF class: ELFCLASS32
ld: fatal: file processing errors. No output written to git-daemon
collect2: ld returned 1 exit status
make: *** [git-http-backend] Error 1
make: *** Waiting for unfinished jobs....
make: *** [git-imap-send] Error 1
make: *** [git-fast-import] Error 1
make: *** [git-show-index] Error 1
make: *** [git-shell] Error 1
make: *** [git-upload-pack] Error 1
make: *** [git-daemon] Error 1
ld: fatal: file sh-i18n--envsubst.o: wrong ELF class: ELFCLASS32
ld: fatal: file processing errors. No output written to git-sh-i18n--envsubst
collect2: ld returned 1 exit status
    LINK git-http-fetch
make: *** [git-sh-i18n--envsubst] Error 1
ld: fatal: file credential-store.o: wrong ELF class: ELFCLASS32
ld: fatal: file processing errors. No output written to git-credential-store
collect2: ld returned 1 exit status
make: *** [git-credential-store] Error 1
ld: fatal: file revision.o: wrong ELF class: ELFCLASS32
ld: fatal: file processing errors. No output written to git-http-fetch
collect2: ld returned 1 exit status
make: *** [git-http-fetch] Error 1
Error building git.
```



---

archive/issue_comments_148356.json:
```json
{
    "body": "What's going on in those first few lines? Is something being parallelized that you could serialize and retest, perhaps?",
    "created_at": "2012-06-13T00:02:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148356",
    "user": "https://github.com/kini"
}
```

What's going on in those first few lines? Is something being parallelized that you could serialize and retest, perhaps?



---

archive/issue_comments_148357.json:
```json
{
    "body": "I unset `MAKE` and tried again:\n\n```\n    CC xdiff/xpatience.o\n    CC xdiff/xhistogram.o\n    AR xdiff/lib.a\n    LINK git-daemon\nld: fatal: file daemon.o: wrong ELF class: ELFCLASS32\nld: fatal: file processing errors. No output written to git-daemon\ncollect2: ld returned 1 exit status\nmake: *** [git-daemon] Error 1\nError building git.\n```",
    "created_at": "2012-06-13T17:16:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148357",
    "user": "https://github.com/jhpalmieri"
}
```

I unset `MAKE` and tried again:

```
    CC xdiff/xpatience.o
    CC xdiff/xhistogram.o
    AR xdiff/lib.a
    LINK git-daemon
ld: fatal: file daemon.o: wrong ELF class: ELFCLASS32
ld: fatal: file processing errors. No output written to git-daemon
collect2: ld returned 1 exit status
make: *** [git-daemon] Error 1
Error building git.
```



---

archive/issue_comments_148358.json:
```json
{
    "body": "This should not be needed:\n\n```\nCPPFLAGS=\"-I$SAGE_LOCAL/include $CPPFLAGS\"\nLDFLAGS=\"-L$SAGE_LOCAL/lib $LDFLAGS\"\n```\n\nAlso, why use `#!/usr/bin/env sh`?  Forcing `bash` (like everywhere else in Sage) might be slightly more portable.\n\n(None of this is serious enough to warrant `needs_work`, just pointing out these things)",
    "created_at": "2012-10-01T15:04:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148358",
    "user": "https://github.com/jdemeyer"
}
```

This should not be needed:

```
CPPFLAGS="-I$SAGE_LOCAL/include $CPPFLAGS"
LDFLAGS="-L$SAGE_LOCAL/lib $LDFLAGS"
```

Also, why use `#!/usr/bin/env sh`?  Forcing `bash` (like everywhere else in Sage) might be slightly more portable.

(None of this is serious enough to warrant `needs_work`, just pointing out these things)



---

archive/issue_comments_148359.json:
```json
{
    "body": "It indeed fails to build on various systems.  I'l try updating to the latest upstream, but git's website is very unhelpful, do they even host the git source code?",
    "created_at": "2012-10-01T15:06:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148359",
    "user": "https://github.com/jdemeyer"
}
```

It indeed fails to build on various systems.  I'l try updating to the latest upstream, but git's website is very unhelpful, do they even host the git source code?



---

archive/issue_comments_148360.json:
```json
{
    "body": "Found the git sources (http://code.google.com/p/git-core/downloads/list) after some non-trivial amount of searching.",
    "created_at": "2012-10-01T15:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148360",
    "user": "https://github.com/jdemeyer"
}
```

Found the git sources (http://code.google.com/p/git-core/downloads/list) after some non-trivial amount of searching.



---

archive/issue_comments_148361.json:
```json
{
    "body": "Changing assignee from @kini to @jdemeyer.",
    "created_at": "2012-10-01T15:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148361",
    "user": "https://github.com/jdemeyer"
}
```

Changing assignee from @kini to @jdemeyer.



---

archive/issue_comments_148362.json:
```json
{
    "body": "There is some broken Shell code in `spkg-install`, fixing...  hang on for a new version.",
    "created_at": "2012-10-01T15:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148362",
    "user": "https://github.com/jdemeyer"
}
```

There is some broken Shell code in `spkg-install`, fixing...  hang on for a new version.



---

archive/issue_comments_148363.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-10-01T15:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148363",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_148364.json:
```json
{
    "body": "Thanks for looking at this, Jeroen. By the way, the repository linked to from the git website, http://git-scm.com/ , is here: https://github.com/git/git\n\nI believe the actual main repository is this one, though: http://git.kernel.org/?p=git/git.git;a=summary (not sure what the actual pullable/clonable URI is for this one).",
    "created_at": "2012-10-01T16:15:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148364",
    "user": "https://github.com/kini"
}
```

Thanks for looking at this, Jeroen. By the way, the repository linked to from the git website, http://git-scm.com/ , is here: https://github.com/git/git

I believe the actual main repository is this one, though: http://git.kernel.org/?p=git/git.git;a=summary (not sure what the actual pullable/clonable URI is for this one).



---

archive/issue_comments_148365.json:
```json
{
    "body": "Replying to [comment:27 kini]:\n> I believe the actual main repository is this one, though: http://git.kernel.org/?p=git/git.git;a=summary (not sure what the actual pullable/clonable URI is for this one).\n\n\nThe page says `git://git.kernel.org/pub/scm/git/git.git` which looks good to me.",
    "created_at": "2012-10-01T16:24:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148365",
    "user": "https://github.com/haraldschilly"
}
```

Replying to [comment:27 kini]:
> I believe the actual main repository is this one, though: http://git.kernel.org/?p=git/git.git;a=summary (not sure what the actual pullable/clonable URI is for this one).


The page says `git://git.kernel.org/pub/scm/git/git.git` which looks good to me.



---

archive/issue_comments_148366.json:
```json
{
    "body": "Oh wow, not sure how I didn't see that. It's right there in the middle of the page...",
    "created_at": "2012-10-01T16:29:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148366",
    "user": "https://github.com/kini"
}
```

Oh wow, not sure how I didn't see that. It's right there in the middle of the page...



---

archive/issue_comments_148367.json:
```json
{
    "body": "I updated the spkg a bit.  Still doesn't build on a lot of platforms though...",
    "created_at": "2012-10-01T18:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148367",
    "user": "https://github.com/jdemeyer"
}
```

I updated the spkg a bit.  Still doesn't build on a lot of platforms though...



---

archive/issue_events_034461.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-01T18:07:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "milestone": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12707#event-34461"
}
```



---

archive/issue_comments_148368.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-10-02T19:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148368",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_148369.json:
```json
{
    "body": "Attachment [git-1.7.12.2.p0.diff](tarball://root/attachments/some-uuid/ticket12707/git-1.7.12.2.p0.diff) by @jdemeyer created at 2012-10-02 19:35:05",
    "created_at": "2012-10-02T19:35:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148369",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [git-1.7.12.2.p0.diff](tarball://root/attachments/some-uuid/ticket12707/git-1.7.12.2.p0.diff) by @jdemeyer created at 2012-10-02 19:35:05



---

archive/issue_comments_148370.json:
```json
{
    "body": "Fixed the various issues, now builds on all systems that I tried.  needs_review.",
    "created_at": "2012-10-02T19:36:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148370",
    "user": "https://github.com/jdemeyer"
}
```

Fixed the various issues, now builds on all systems that I tried.  needs_review.



---

archive/issue_comments_148371.json:
```json
{
    "body": "Instead of trying to find install and dying if not, we should just include `install-sh` from our favourite autotools version and `export INSTALL=install-sh`. Really its upstream's fault for disabling `AC_PROG_INSTALL` in `configure.ac`. Apparently Junio doesn't like auto-files in the project root directory. On a related note, I'm surprised that upstream doesn't have a `src/` subfolder...\n\nAnyways, we don't really have to do this now though I suspect it'll bite us eventually. Apart from that it look good!",
    "created_at": "2012-10-03T15:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148371",
    "user": "https://github.com/vbraun"
}
```

Instead of trying to find install and dying if not, we should just include `install-sh` from our favourite autotools version and `export INSTALL=install-sh`. Really its upstream's fault for disabling `AC_PROG_INSTALL` in `configure.ac`. Apparently Junio doesn't like auto-files in the project root directory. On a related note, I'm surprised that upstream doesn't have a `src/` subfolder...

Anyways, we don't really have to do this now though I suspect it'll bite us eventually. Apart from that it look good!



---

archive/issue_comments_148372.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-10-03T15:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148372",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_148373.json:
```json
{
    "body": "Replying to [comment:34 vbraun]:\n> Instead of trying to find install and dying if not, we should just include `install-sh` from our favourite autotools version and `export INSTALL=install-sh`. Really its upstream's fault for disabling `AC_PROG_INSTALL` in `configure.ac`.\nIndeed.  But it seems all systems I tried do have a good enough `install` program, so it's not that much of an issue.",
    "created_at": "2012-10-03T19:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148373",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:34 vbraun]:
> Instead of trying to find install and dying if not, we should just include `install-sh` from our favourite autotools version and `export INSTALL=install-sh`. Really its upstream's fault for disabling `AC_PROG_INSTALL` in `configure.ac`.
Indeed.  But it seems all systems I tried do have a good enough `install` program, so it's not that much of an issue.



---

archive/issue_comments_148374.json:
```json
{
    "body": "The postgresql guys thought that, too. But it did become an issue:\n\nhttp://archives.postgresql.org/pgsql-bugs/2001-03/msg00049.php\n\nThats why `AC_PROG_INSTALL` not only searches for a system `install`, but also checks that it is bsd compatible. Not every `install` binary in the path is going to be good enough.",
    "created_at": "2012-10-03T19:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148374",
    "user": "https://github.com/vbraun"
}
```

The postgresql guys thought that, too. But it did become an issue:

http://archives.postgresql.org/pgsql-bugs/2001-03/msg00049.php

Thats why `AC_PROG_INSTALL` not only searches for a system `install`, but also checks that it is bsd compatible. Not every `install` binary in the path is going to be good enough.



---

archive/issue_comments_148375.json:
```json
{
    "body": "Replying to [comment:36 vbraun]:\n> Thats why `AC_PROG_INSTALL` not only searches for a system `install`, but also checks that it is bsd compatible. Not every `install` binary in the path is going to be good enough.\n\nYou're right of course, but at least the git spkg checks for `/usr/ucb/install`, which is what Solaris uses.",
    "created_at": "2012-10-03T20:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148375",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:36 vbraun]:
> Thats why `AC_PROG_INSTALL` not only searches for a system `install`, but also checks that it is bsd compatible. Not every `install` binary in the path is going to be good enough.

You're right of course, but at least the git spkg checks for `/usr/ucb/install`, which is what Solaris uses.



---

archive/issue_events_034462.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-03T20:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "milestone": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12707#event-34462"
}
```



---

archive/issue_events_034463.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-03T20:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "milestone": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12707#event-34463"
}
```



---

archive/issue_comments_148376.json:
```json
{
    "body": "For what it's worth, self-tests pass on sage.math, but fail for me on OS X and OpenSolaris. Since this is an optional spkg, I'm willing to ignore this.",
    "created_at": "2012-10-03T22:26:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148376",
    "user": "https://github.com/jhpalmieri"
}
```

For what it's worth, self-tests pass on sage.math, but fail for me on OS X and OpenSolaris. Since this is an optional spkg, I'm willing to ignore this.



---

archive/issue_events_034464.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-05T10:06:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "milestone": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12707#event-34464"
}
```



---

archive/issue_events_034465.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-05T10:06:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "milestone": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12707#event-34465"
}
```



---

archive/issue_comments_148377.json:
```json
{
    "body": "file is on the server + mirrors",
    "created_at": "2012-10-07T09:37:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148377",
    "user": "https://github.com/haraldschilly"
}
```

file is on the server + mirrors



---

archive/issue_comments_148378.json:
```json
{
    "body": "Is it time to change the first line of SPKG.txt yet?\n\n```\n# git - the stupid content tracker\n```",
    "created_at": "2012-10-08T18:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148378",
    "user": "https://github.com/jhpalmieri"
}
```

Is it time to change the first line of SPKG.txt yet?

```
# git - the stupid content tracker
```



---

archive/issue_comments_148379.json:
```json
{
    "body": "Change it? Why? That's verbatim from `man git` :)",
    "created_at": "2012-10-08T18:46:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148379",
    "user": "https://github.com/kini"
}
```

Change it? Why? That's verbatim from `man git` :)



---

archive/issue_comments_148380.json:
```json
{
    "body": "Okay, never mind. (I guess it's a reference to the name.)",
    "created_at": "2012-10-08T18:59:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148380",
    "user": "https://github.com/jhpalmieri"
}
```

Okay, never mind. (I guess it's a reference to the name.)



---

archive/issue_comments_148381.json:
```json
{
    "body": "Yup.\n\n>Linus Torvalds has quipped about the name \"git\", which is English slang for a stupid or unpleasant person. Torvalds said: \"I'm an egotistical bastard, and I name all my projects after myself. First 'Linux', now 'git'.\" The man page describes git as \"the stupid content tracker\".\n\n\n-- [Wikipedia](http://en.wikipedia.org/wiki/Git_(software)#Name)",
    "created_at": "2012-10-08T19:03:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148381",
    "user": "https://github.com/kini"
}
```

Yup.

>Linus Torvalds has quipped about the name "git", which is English slang for a stupid or unpleasant person. Torvalds said: "I'm an egotistical bastard, and I name all my projects after myself. First 'Linux', now 'git'." The man page describes git as "the stupid content tracker".


-- [Wikipedia](http://en.wikipedia.org/wiki/Git_(software)#Name)



---

archive/issue_events_034466.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-14T18:55:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12707#event-34466"
}
```



---

archive/issue_comments_148382.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-10-14T18:55:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12707#issuecomment-148382",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_034467.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-14T18:55:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "milestone": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12707#event-34467"
}
```



---

archive/issue_events_034468.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-14T18:55:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12707",
    "milestone": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12707#event-34468"
}
```
