# Issue 12922: Implicit derivative

archive/issues_012750.json:
```json
{
    "assignees": [],
    "body": "Added implicit_derivative function. It allows to compute the n'th derivative of the implicit function defined by a symbolic expression.\n\nAssignee: **@burcin**\n\nCC:  @kcrisman sjg10 @burcin\n\nKeywords: **implicit derivative**\n\nBranch/Commit: **[0a76da7](https://github.com/sagemath/sagetrac-mirror/commit/0a76da78806d27c25e8a5864c26b3106611ab940)**\n\nReviewer: **Kannappan Sampath, Ralf Stephan**\n\nAuthor: **Miguel Marco**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12922_\n\n",
    "closed_at": "2015-02-17T19:28:19Z",
    "created_at": "2012-05-08T11:35:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20calculus",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implicit derivative",
    "type": "issue",
    "updated_at": "2015-02-17T19:28:19Z",
    "url": "https://github.com/sagemath/sage/issues/12922",
    "user": "https://github.com/miguelmarco"
}
```
Added implicit_derivative function. It allows to compute the n'th derivative of the implicit function defined by a symbolic expression.

Assignee: **@burcin**

CC:  @kcrisman sjg10 @burcin

Keywords: **implicit derivative**

Branch/Commit: **[0a76da7](https://github.com/sagemath/sagetrac-mirror/commit/0a76da78806d27c25e8a5864c26b3106611ab940)**

Reviewer: **Kannappan Sampath, Ralf Stephan**

Author: **Miguel Marco**

_Issue created by migration from https://trac.sagemath.org/ticket/12922_





---

archive/issue_events_163616.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2012-05-08T11:35:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163616"
}
```



---

archive/issue_events_163617.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2012-05-08T11:35:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20calculus",
    "label_color": "0000ff",
    "label_name": "component: calculus",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163617"
}
```



---

archive/issue_events_163618.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2012-05-08T11:35:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163618"
}
```



---

archive/issue_events_163619.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2012-05-08T11:35:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163619"
}
```



---

archive/issue_comments_148620.json:
```json
{
    "body": "Attachment: **[16191.patch.gz](https://github.com/sagemath/sage/files/ticket12922/16191.patch.gz)**",
    "created_at": "2012-05-08T11:40:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148620",
    "user": "https://github.com/miguelmarco"
}
```

Attachment: **[16191.patch.gz](https://github.com/sagemath/sage/files/ticket12922/16191.patch.gz)**



---

archive/issue_events_163620.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2012-05-08T11:41:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163620"
}
```



---

archive/issue_comments_148621.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nReviewed, seems good. Added a check for having no y term in the expression. Was previously an uncaught `DivideByZero`, while code now gives a more informative error.\nWas my first review, would appreciate to know whether I'm actually being any help!",
    "created_at": "2012-07-11T11:40:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148621",
    "user": "https://github.com/sagetrac-sjg10"
}
```

<a id='comment:3'>Comment 3:</a>
Reviewed, seems good. Added a check for having no y term in the expression. Was previously an uncaught `DivideByZero`, while code now gives a more informative error.
Was my first review, would appreciate to know whether I'm actually being any help!



---

archive/issue_comments_148622.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nYes, both helpful!  A few comments.\n* The reviewer patch should be a separate patch on top of the original patch, so that the original author is kept.\n* In any case, the patch should have a meaningful commit message.\n* I'm a little apprehensive about the many specific variables and functions defined here.  Won't that cause some kind of conflict with (say) an already-defined `yy`?  We shouldn't depend on people not needing those variables.  Or is everything only in local scope because of the use of `SR.symbol`?\n\nI'm also wondering - is it possible to have an implicit derivative method for symbolic expressions?  Just curious.",
    "created_at": "2012-07-11T13:25:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148622",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'>Comment 4:</a>
Yes, both helpful!  A few comments.
* The reviewer patch should be a separate patch on top of the original patch, so that the original author is kept.
* In any case, the patch should have a meaningful commit message.
* I'm a little apprehensive about the many specific variables and functions defined here.  Won't that cause some kind of conflict with (say) an already-defined `yy`?  We shouldn't depend on people not needing those variables.  Or is everything only in local scope because of the use of `SR.symbol`?

I'm also wondering - is it possible to have an implicit derivative method for symbolic expressions?  Just curious.



---

archive/issue_comments_148623.json:
```json
{
    "body": "adds error handler",
    "created_at": "2012-07-11T16:02:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148623",
    "user": "https://github.com/sagetrac-sjg10"
}
```

adds error handler



---

archive/issue_comments_148624.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nAttachment: **[16191_review.patch.gz](https://github.com/sagemath/sage/files/ticket12922/16191_review.patch.gz)**\n\nAll the variables defined in the function are local. They do not get mixed with the global variables with the same name. You can even call the function with xx and yy as parameters, and they will  not be mixed with the local xx and yy.\n\n```\nsage: var('x,y')\n(x, y)\nsage: implicit_derivative(y,x,y*x/cos(x+y))\n-(x*y*sin(x + y)/cos(x + y)^2 + y/cos(x + y))/(x*y*sin(x + y)/cos(x + y)^2 + x/cos(x + y))\nsage: var('xx,yy')\n(xx, yy)\nsage: implicit_derivative(yy,xx,yy*xx/cos(xx+yy))\n-(xx*yy*sin(xx + yy)/cos(xx + yy)^2 + yy/cos(xx + yy))/(xx*yy*sin(xx + yy)/cos(xx + yy)^2 + xx/cos(xx + yy))\n```\n\nAbout writing this as a method for symbolic expressions... that was my first idea; but i prefeared this aproach, due to the fact that you are actually not  diferentiating the symbolic expression, but a function defined implicitely by the symbolic expression. So it seemed more natural to me this kind of syntax.",
    "created_at": "2012-07-12T09:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148624",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:5'>Comment 5:</a>
Attachment: **[16191_review.patch.gz](https://github.com/sagemath/sage/files/ticket12922/16191_review.patch.gz)**

All the variables defined in the function are local. They do not get mixed with the global variables with the same name. You can even call the function with xx and yy as parameters, and they will  not be mixed with the local xx and yy.

```
sage: var('x,y')
(x, y)
sage: implicit_derivative(y,x,y*x/cos(x+y))
-(x*y*sin(x + y)/cos(x + y)^2 + y/cos(x + y))/(x*y*sin(x + y)/cos(x + y)^2 + x/cos(x + y))
sage: var('xx,yy')
(xx, yy)
sage: implicit_derivative(yy,xx,yy*xx/cos(xx+yy))
-(xx*yy*sin(xx + yy)/cos(xx + yy)^2 + yy/cos(xx + yy))/(xx*yy*sin(xx + yy)/cos(xx + yy)^2 + xx/cos(xx + yy))
```

About writing this as a method for symbolic expressions... that was my first idea; but i prefeared this aproach, due to the fact that you are actually not  diferentiating the symbolic expression, but a function defined implicitely by the symbolic expression. So it seemed more natural to me this kind of syntax.



---

archive/issue_comments_148625.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nCalling `var` or `SR.symbol('somename')` even locally does add to the `pynac_symbol_registry`, yet calling `SR.symbol()` with no argument will create a temporary variable that will not be added to this registry. Possibly adding to the registry may cause problems if it is being referenced directly for some reason. Maybe worth just using `x = SR.symbol()` etc?\n\n\n```\nsage: from sage.symbolic.ring import pynac_symbol_registry\nsage: pynac_symbol_registry                               \n{'some_variable': some_variable, 'A': A, 'C': C, 'B': B, 'E': E, 'D': D, 'G': G, 'F': F, 'H': H, 'K': K, 'J': J, 'M': M, 'L': L, 'N': N, 'Q': Q, 'P': P, 'S': S, 'R': R, 'U': U, 'T': T, 'W': W, 'V': V, 'Y': Y, 'X': X, 'Z': Z, 'a': a, 'c': c, 'b': b, 'd': d, 'g': g, 'f': f, 'h': h, 'k': k, 'j': j, 'm': m, 'l': l, 'o': o, 'n': n, 'q': q, 'p': p, 's': s, 'r': r, 'u': u, 't': t, 'w': w, 'v': v, 'y': y, 'x': x, 'z': z}\nsage: def f(): temp = SR.symbol()                         \n....: \nsage: f()\nsage: pynac_symbol_registry\n{'some_variable': some_variable, 'A': A, 'C': C, 'B': B, 'E': E, 'D': D, 'G': G, 'F': F, 'H': H, 'K': K, 'J': J, 'M': M, 'L': L, 'N': N, 'Q': Q, 'P': P, 'S': S, 'R': R, 'U': U, 'T': T, 'W': W, 'V': V, 'Y': Y, 'X': X, 'Z': Z, 'a': a, 'c': c, 'b': b, 'd': d, 'g': g, 'f': f, 'h': h, 'k': k, 'j': j, 'm': m, 'l': l, 'o': o, 'n': n, 'q': q, 'p': p, 's': s, 'r': r, 'u': u, 't': t, 'w': w, 'v': v, 'y': y, 'x': x, 'z': z}\nsage: def f(): temp = SR.symbol('temp')\n....: \nsage: f()\nsage: pynac_symbol_registry\n{'temp': temp, 'some_variable': some_variable, 'A': A, 'C': C, 'B': B, 'E': E, 'D': D, 'G': G, 'F': F, 'H': H, 'K': K, 'J': J, 'M': M, 'L': L, 'N': N, 'Q': Q, 'P': P, 'S': S, 'R': R, 'U': U, 'T': T, 'W': W, 'V': V, 'Y': Y, 'X': X, 'Z': Z, 'a': a, 'c': c, 'b': b, 'd': d, 'g': g, 'f': f, 'h': h, 'k': k, 'j': j, 'm': m, 'l': l, 'o': o, 'n': n, 'q': q, 'p': p, 's': s, 'r': r, 'u': u, 't': t, 'w': w, 'v': v, 'y': y, 'x': x, 'z': z}\n```",
    "created_at": "2012-07-13T10:35:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148625",
    "user": "https://github.com/sagetrac-sjg10"
}
```

<a id='comment:6'>Comment 6:</a>
Calling `var` or `SR.symbol('somename')` even locally does add to the `pynac_symbol_registry`, yet calling `SR.symbol()` with no argument will create a temporary variable that will not be added to this registry. Possibly adding to the registry may cause problems if it is being referenced directly for some reason. Maybe worth just using `x = SR.symbol()` etc?


```
sage: from sage.symbolic.ring import pynac_symbol_registry
sage: pynac_symbol_registry                               
{'some_variable': some_variable, 'A': A, 'C': C, 'B': B, 'E': E, 'D': D, 'G': G, 'F': F, 'H': H, 'K': K, 'J': J, 'M': M, 'L': L, 'N': N, 'Q': Q, 'P': P, 'S': S, 'R': R, 'U': U, 'T': T, 'W': W, 'V': V, 'Y': Y, 'X': X, 'Z': Z, 'a': a, 'c': c, 'b': b, 'd': d, 'g': g, 'f': f, 'h': h, 'k': k, 'j': j, 'm': m, 'l': l, 'o': o, 'n': n, 'q': q, 'p': p, 's': s, 'r': r, 'u': u, 't': t, 'w': w, 'v': v, 'y': y, 'x': x, 'z': z}
sage: def f(): temp = SR.symbol()                         
....: 
sage: f()
sage: pynac_symbol_registry
{'some_variable': some_variable, 'A': A, 'C': C, 'B': B, 'E': E, 'D': D, 'G': G, 'F': F, 'H': H, 'K': K, 'J': J, 'M': M, 'L': L, 'N': N, 'Q': Q, 'P': P, 'S': S, 'R': R, 'U': U, 'T': T, 'W': W, 'V': V, 'Y': Y, 'X': X, 'Z': Z, 'a': a, 'c': c, 'b': b, 'd': d, 'g': g, 'f': f, 'h': h, 'k': k, 'j': j, 'm': m, 'l': l, 'o': o, 'n': n, 'q': q, 'p': p, 's': s, 'r': r, 'u': u, 't': t, 'w': w, 'v': v, 'y': y, 'x': x, 'z': z}
sage: def f(): temp = SR.symbol('temp')
....: 
sage: f()
sage: pynac_symbol_registry
{'temp': temp, 'some_variable': some_variable, 'A': A, 'C': C, 'B': B, 'E': E, 'D': D, 'G': G, 'F': F, 'H': H, 'K': K, 'J': J, 'M': M, 'L': L, 'N': N, 'Q': Q, 'P': P, 'S': S, 'R': R, 'U': U, 'T': T, 'W': W, 'V': V, 'Y': Y, 'X': X, 'Z': Z, 'a': a, 'c': c, 'b': b, 'd': d, 'g': g, 'f': f, 'h': h, 'k': k, 'j': j, 'm': m, 'l': l, 'o': o, 'n': n, 'q': q, 'p': p, 's': s, 'r': r, 'u': u, 't': t, 'w': w, 'v': v, 'y': y, 'x': x, 'z': z}
```



---

archive/issue_comments_148626.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI have tried to use SR.symbol() instead of SR.symbol('x'), but then the result is a mess.\n\nI can't think of a way to make this work without the said side effect.",
    "created_at": "2012-07-13T10:52:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148626",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:7'>Comment 7:</a>
I have tried to use SR.symbol() instead of SR.symbol('x'), but then the result is a mess.

I can't think of a way to make this work without the said side effect.



---

archive/issue_comments_148627.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nI solved the pynac symbol registry pollution by saving a copy of it at the beginning of the function, and restoring it at the end. I am not sure if this is the best choice, but it is the only solution i found, and seems to work fine.",
    "created_at": "2013-06-07T17:46:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148627",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:8'>Comment 8:</a>
I solved the pynac symbol registry pollution by saving a copy of it at the beginning of the function, and restoring it at the end. I am not sure if this is the best choice, but it is the only solution i found, and seems to work fine.



---

archive/issue_events_163621.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2013-06-07T20:53:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163621"
}
```



---

archive/issue_events_163622.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2013-06-07T20:53:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163622"
}
```



---

archive/issue_comments_148628.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nMessing with the symbol registry this way is really not a good idea. That is just supposed to be internal data.\n\nWhat if there is an exception in that code and the registry is not restored?\n\nWhat exactly is the problem with using temporary variables? Looking briefly at the patch, it looks like we also need temporary functions.",
    "created_at": "2013-06-07T20:53:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148628",
    "user": "https://github.com/burcin"
}
```

<a id='comment:9'>Comment 9:</a>
Messing with the symbol registry this way is really not a good idea. That is just supposed to be internal data.

What if there is an exception in that code and the registry is not restored?

What exactly is the problem with using temporary variables? Looking briefly at the patch, it looks like we also need temporary functions.



---

archive/issue_comments_148629.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nThe problem with using temporary variables without giving them a name string is this:\n\n```\n\nsage: from sage.symbolic.function_factory import SymbolicFunction\nsage: var('x,y')                                                                                                                                    \n(x, y)\nsage: def implicit_derivative(Y,X,F,n=1):                                                                                                           \n....:         x=SR.symbol()                                                                                                                         \n....:         yy=SR.symbol()                                                                                                                        \n....:         y=SymbolicFunction('y',1)(x)                                                                                                          \n....:         f=SymbolicFunction('f',2)(x,yy)                                                                                                       \n....:         Fx=f.diff(x)                                                                                                                          \n....:         Fy=f.diff(yy)                                                                                                                         \n....:         G=-(Fx/Fy)                                                                                                                            \n....:         G=G.subs_expr({yy:y})                                                                                                                 \n....:         di={y.diff(x):-F.diff(X)/F.diff(Y)}                                                                                                   \n....:         R=G                                                                                                                                   \n....:         S=G.diff(x,n-1)                                                                                                                       \n....:         for i in range(n+1):                                                                                                                  \n....:                 di[y.diff(x,i+1)(x=x)]=R                                                                                                      \n....:                 S=S.subs_expr(di)                                                                                                             \n....:                 R=G.diff(x,i)                                                                                                                 \n....:                 for j in range(n+1-i):                                                                                                        \n....:                         di[f.diff(x,i,yy,j)(x=x,yy=y)]=F.diff(X,i,Y,j)                                                                        \n....:                         S=S.subs_expr(di)                                                                                                     \n....:                 return S                                                                                                                      \n....:                                                                                                                                               \nsage: implicit_derivative(y,x,x^2+y^2-1)                                                                                                            \n-D[0](f)(symbol160, y(symbol160))/D[1](f)(symbol160, y(symbol160))\n```\n\nI don't know why, this problem is not present if we put the strings in the definitions of the variables.",
    "created_at": "2013-06-07T21:05:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148629",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:10'>Comment 10:</a>
The problem with using temporary variables without giving them a name string is this:

```

sage: from sage.symbolic.function_factory import SymbolicFunction
sage: var('x,y')                                                                                                                                    
(x, y)
sage: def implicit_derivative(Y,X,F,n=1):                                                                                                           
....:         x=SR.symbol()                                                                                                                         
....:         yy=SR.symbol()                                                                                                                        
....:         y=SymbolicFunction('y',1)(x)                                                                                                          
....:         f=SymbolicFunction('f',2)(x,yy)                                                                                                       
....:         Fx=f.diff(x)                                                                                                                          
....:         Fy=f.diff(yy)                                                                                                                         
....:         G=-(Fx/Fy)                                                                                                                            
....:         G=G.subs_expr({yy:y})                                                                                                                 
....:         di={y.diff(x):-F.diff(X)/F.diff(Y)}                                                                                                   
....:         R=G                                                                                                                                   
....:         S=G.diff(x,n-1)                                                                                                                       
....:         for i in range(n+1):                                                                                                                  
....:                 di[y.diff(x,i+1)(x=x)]=R                                                                                                      
....:                 S=S.subs_expr(di)                                                                                                             
....:                 R=G.diff(x,i)                                                                                                                 
....:                 for j in range(n+1-i):                                                                                                        
....:                         di[f.diff(x,i,yy,j)(x=x,yy=y)]=F.diff(X,i,Y,j)                                                                        
....:                         S=S.subs_expr(di)                                                                                                     
....:                 return S                                                                                                                      
....:                                                                                                                                               
sage: implicit_derivative(y,x,x^2+y^2-1)                                                                                                            
-D[0](f)(symbol160, y(symbol160))/D[1](f)(symbol160, y(symbol160))
```

I don't know why, this problem is not present if we put the strings in the definitions of the variables.



---

archive/issue_comments_148630.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@miguelmarco](#comment%3A10):\n> \n> ```             \n> sage: implicit_derivative(y,x,x^2+y^2-1)                                                                                  \n> -D[0](f)(symbol160, y(symbol160))/D[1](f)(symbol160, y(symbol160))\n> ```\n\nIt looks like the substitution doesn't work at some point.\n\nLooking at the code...\n\nThe calls `y.diff(x,i+1)(x=x)` and `f.diff(x,i,yy,j)(x=x,yy=y)` rely on the name of the variable. You should use a dictionary argument to `.subs()`.\n\nBTW, the `subs_expr()` method will go away at some point. Why not just use `.subs()` everywhere?",
    "created_at": "2013-06-08T09:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148630",
    "user": "https://github.com/burcin"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@miguelmarco](#comment%3A10):
> 
> ```             
> sage: implicit_derivative(y,x,x^2+y^2-1)                                                                                  
> -D[0](f)(symbol160, y(symbol160))/D[1](f)(symbol160, y(symbol160))
> ```

It looks like the substitution doesn't work at some point.

Looking at the code...

The calls `y.diff(x,i+1)(x=x)` and `f.diff(x,i,yy,j)(x=x,yy=y)` rely on the name of the variable. You should use a dictionary argument to `.subs()`.

BTW, the `subs_expr()` method will go away at some point. Why not just use `.subs()` everywhere?



---

archive/issue_comments_148631.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBefore this gets switched to positive review, we should check how it behaves if there already is a symbolic function defined with a custom method for evaluation named `y` or `f`.\n\nWhy is this not a method of symbolic expressions? Isn't it inconsistent to have the functional notation supported but not a class method?",
    "created_at": "2013-06-08T09:33:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148631",
    "user": "https://github.com/burcin"
}
```

<a id='comment:12'>Comment 12:</a>
Before this gets switched to positive review, we should check how it behaves if there already is a symbolic function defined with a custom method for evaluation named `y` or `f`.

Why is this not a method of symbolic expressions? Isn't it inconsistent to have the functional notation supported but not a class method?



---

archive/issue_comments_148632.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nThanks for the comments. I will try to work on it.\n\nAs i said, the reason why it is not a method is that it is not clear to me what class should it be in. \n\nIs this a method of the expression F? Well, not exactly, since F is not the function that we are trying to differentiate, but the symbollic expression that deffines it implicitly.\n\nOf X? This is just the variable with which we differentiate on.\n\nOf Y? Riguorilously that should be the function that we are differentiating. But doesn't sound natural at all to add a method like this for symbollic variables.\n\nOr maybe we could define a new class ImplicitelyDefinedSymbolicFunction for this case, bat that sounds way overkill.",
    "created_at": "2013-06-08T10:00:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148632",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:13'>Comment 13:</a>
Thanks for the comments. I will try to work on it.

As i said, the reason why it is not a method is that it is not clear to me what class should it be in. 

Is this a method of the expression F? Well, not exactly, since F is not the function that we are trying to differentiate, but the symbollic expression that deffines it implicitly.

Of X? This is just the variable with which we differentiate on.

Of Y? Riguorilously that should be the function that we are differentiating. But doesn't sound natural at all to add a method like this for symbollic variables.

Or maybe we could define a new class ImplicitelyDefinedSymbolicFunction for this case, bat that sounds way overkill.



---

archive/issue_comments_148633.json:
```json
{
    "body": "Attachment: **[12922.patch.gz](https://github.com/sagemath/sage/files/ticket12922/12922.patch.gz)**\n\nNewer version, solves the pynac registry pollution without manipulating it",
    "created_at": "2013-06-08T16:03:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148633",
    "user": "https://github.com/miguelmarco"
}
```

Attachment: **[12922.patch.gz](https://github.com/sagemath/sage/files/ticket12922/12922.patch.gz)**

Newer version, solves the pynac registry pollution without manipulating it



---

archive/issue_comments_148634.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nOk, your suggestions seemed to work fine. I have uploaded a newer version. Please check it.",
    "created_at": "2013-06-08T16:04:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148634",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:14'>Comment 14:</a>
Ok, your suggestions seemed to work fine. I have uploaded a newer version. Please check it.



---

archive/issue_events_163623.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2013-06-10T11:23:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163623"
}
```



---

archive/issue_events_163624.json:
```json
{
    "actor": "https://github.com/miguelmarco",
    "created_at": "2013-06-10T11:23:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163624"
}
```



---

archive/issue_events_163625.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163625"
}
```



---

archive/issue_events_163626.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163626"
}
```



---

archive/issue_events_163627.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163627"
}
```



---

archive/issue_events_163628.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163628"
}
```



---

archive/issue_events_163629.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163629"
}
```



---

archive/issue_events_163630.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163630"
}
```



---

archive/issue_events_163631.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163631"
}
```



---

archive/issue_events_163632.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163632"
}
```



---

archive/issue_comments_148635.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nbump",
    "created_at": "2014-08-22T14:48:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148635",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:20'>Comment 20:</a>
bump



---

archive/issue_comments_148636.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nHi mmarco: \n\nThanks for writing up a patch regarding something very fundamental to calculus. Sage has since v6.0 moved to Git for its revision control. As a consequence, we work with \"branches\" instead of \"patches\" and so on. Could you kindly make the patch here into a branch? \n\nI think this might be a bit painful depending on several factors. So, please feel free to ask for any help!",
    "created_at": "2014-08-23T12:10:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148636",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:21'>Comment 21:</a>
Hi mmarco: 

Thanks for writing up a patch regarding something very fundamental to calculus. Sage has since v6.0 moved to Git for its revision control. As a consequence, we work with "branches" instead of "patches" and so on. Could you kindly make the patch here into a branch? 

I think this might be a bit painful depending on several factors. So, please feel free to ask for any help!



---

archive/issue_events_163633.json:
```json
{
    "actor": "https://github.com/KPanComputes",
    "created_at": "2014-08-23T12:10:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163633"
}
```



---

archive/issue_events_163634.json:
```json
{
    "actor": "https://github.com/KPanComputes",
    "created_at": "2014-08-23T12:10:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163634"
}
```



---

archive/issue_comments_148637.json:
```json
{
    "body": "Branch: **[u/mmarco/ticket/12922](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/12922)**",
    "created_at": "2014-08-23T14:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148637",
    "user": "https://github.com/miguelmarco"
}
```

Branch: **[u/mmarco/ticket/12922](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/12922)**



---

archive/issue_comments_148638.json:
```json
{
    "body": "Commit: **[39aaf0c](https://github.com/sagemath/sagetrac-mirror/commit/39aaf0c4b33a7a5ec0066e64e25cf5e54d197247)**",
    "created_at": "2014-08-24T15:54:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148638",
    "user": "https://github.com/KPanComputes"
}
```

Commit: **[39aaf0c](https://github.com/sagemath/sagetrac-mirror/commit/39aaf0c4b33a7a5ec0066e64e25cf5e54d197247)**



---

archive/issue_comments_148639.json:
```json
{
    "body": "Reviewer: **Kannappan Sampath**",
    "created_at": "2014-08-24T15:54:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148639",
    "user": "https://github.com/KPanComputes"
}
```

Reviewer: **Kannappan Sampath**



---

archive/issue_events_163635.json:
```json
{
    "actor": "https://github.com/KPanComputes",
    "created_at": "2014-08-24T15:54:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163635"
}
```



---

archive/issue_events_163636.json:
```json
{
    "actor": "https://github.com/KPanComputes",
    "created_at": "2014-08-24T15:54:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163636"
}
```



---

archive/issue_comments_148640.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39aaf0c4b33a7a5ec0066e64e25cf5e54d197247\">39aaf0c</a></td><td><code>Added implicit_derivative</code></td></tr></table>\n",
    "created_at": "2014-08-24T15:54:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148640",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:24'>Comment 24:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39aaf0c4b33a7a5ec0066e64e25cf5e54d197247">39aaf0c</a></td><td><code>Added implicit_derivative</code></td></tr></table>




---

archive/issue_comments_148641.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nFor starters, I have the following comments: \n\n1. The one-line docstring for the function is \"incorrect\": it computes something, yes, but it also returns it. So, please change that to \"Return <whatever>\". \n2. The value error could return the expression `F` explicitly instead of saying the generic F. While you are it, please use the `.format` to format the string for the output instead.\n\nHonestly, I have not looked at the math. I will get back about the math and the programming part in a bit.",
    "created_at": "2014-08-24T16:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148641",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:25'>Comment 25:</a>
For starters, I have the following comments: 

1. The one-line docstring for the function is "incorrect": it computes something, yes, but it also returns it. So, please change that to "Return <whatever>". 
2. The value error could return the expression `F` explicitly instead of saying the generic F. While you are it, please use the `.format` to format the string for the output instead.

Honestly, I have not looked at the math. I will get back about the math and the programming part in a bit.



---

archive/issue_comments_148642.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f3f949cff46cc4e2f5b93bcf41de4c3f81f13cd\">3f3f949</a></td><td><code>Reviewer's suggestions changed, plus some changes for PEP8 compliance.</code></td></tr></table>\n",
    "created_at": "2014-08-24T16:59:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148642",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:26'>Comment 26:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f3f949cff46cc4e2f5b93bcf41de4c3f81f13cd">3f3f949</a></td><td><code>Reviewer's suggestions changed, plus some changes for PEP8 compliance.</code></td></tr></table>




---

archive/issue_comments_148643.json:
```json
{
    "body": "Changed commit from **[39aaf0c](https://github.com/sagemath/sagetrac-mirror/commit/39aaf0c4b33a7a5ec0066e64e25cf5e54d197247)** to **[3f3f949](https://github.com/sagemath/sagetrac-mirror/commit/3f3f949cff46cc4e2f5b93bcf41de4c3f81f13cd)**",
    "created_at": "2014-08-24T16:59:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148643",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[39aaf0c](https://github.com/sagemath/sagetrac-mirror/commit/39aaf0c4b33a7a5ec0066e64e25cf5e54d197247)** to **[3f3f949](https://github.com/sagemath/sagetrac-mirror/commit/3f3f949cff46cc4e2f5b93bcf41de4c3f81f13cd)**



---

archive/issue_comments_148644.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nReplying to [@miguelmarco](#comment%3A13):\n> As i said, the reason why it is not a method is that it is not clear to me what class should it be in. \n> \n> Is this a method of the expression F? Well, not exactly, since F is not the function that we are trying to differentiate, but the symbollic expression that deffines it implicitly.\n\nI think Burcin wants this method part of the symbolic expression or function class. If it's not tied to a specific expression then make it a `@classmethod` (equivalent to a static method in C), and then create the globally accessible name for it.",
    "created_at": "2014-09-01T09:17:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148644",
    "user": "https://github.com/rwst"
}
```

<a id='comment:27'>Comment 27:</a>
Replying to [@miguelmarco](#comment%3A13):
> As i said, the reason why it is not a method is that it is not clear to me what class should it be in. 
> 
> Is this a method of the expression F? Well, not exactly, since F is not the function that we are trying to differentiate, but the symbollic expression that deffines it implicitly.

I think Burcin wants this method part of the symbolic expression or function class. If it's not tied to a specific expression then make it a `@classmethod` (equivalent to a static method in C), and then create the globally accessible name for it.



---

archive/issue_comments_148645.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fe0ffeca2be3ec698b7eccfeb51ce80fa94a62c\">5fe0ffe</a></td><td><code>Moved to a method in the expression class</code></td></tr></table>\n",
    "created_at": "2014-09-02T17:29:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148645",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:28'>Comment 28:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fe0ffeca2be3ec698b7eccfeb51ce80fa94a62c">5fe0ffe</a></td><td><code>Moved to a method in the expression class</code></td></tr></table>




---

archive/issue_comments_148646.json:
```json
{
    "body": "Changed commit from **[3f3f949](https://github.com/sagemath/sagetrac-mirror/commit/3f3f949cff46cc4e2f5b93bcf41de4c3f81f13cd)** to **[5fe0ffe](https://github.com/sagemath/sagetrac-mirror/commit/5fe0ffeca2be3ec698b7eccfeb51ce80fa94a62c)**",
    "created_at": "2014-09-02T17:29:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148646",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3f3f949](https://github.com/sagemath/sagetrac-mirror/commit/3f3f949cff46cc4e2f5b93bcf41de4c3f81f13cd)** to **[5fe0ffe](https://github.com/sagemath/sagetrac-mirror/commit/5fe0ffeca2be3ec698b7eccfeb51ce80fa94a62c)**



---

archive/issue_comments_148647.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nMoved it to a method in the expression class.",
    "created_at": "2014-09-02T17:32:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148647",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:29'>Comment 29:</a>
Moved it to a method in the expression class.



---

archive/issue_comments_148648.json:
```json
{
    "body": "Changed branch from **[u/mmarco/ticket/12922](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/12922)** to **[u/rws/ticket/12922](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/ticket/12922)**",
    "created_at": "2015-02-02T14:20:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148648",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/mmarco/ticket/12922](https://github.com/sagemath/sagetrac-mirror/tree/u/mmarco/ticket/12922)** to **[u/rws/ticket/12922](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/ticket/12922)**



---

archive/issue_events_163637.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-02T14:23:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163637"
}
```



---

archive/issue_events_163638.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-02T14:23:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "milestone_number": null,
    "milestone_title": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163638"
}
```



---

archive/issue_comments_148649.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nJust some minor fixes. It looks good. I did no `make ptestlong` as it's just a new method.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e0061057ae3516d292cb24f91338a5ab53d8f02\">7e00610</a></td><td><code>Merge branch 'develop' into t/12922/ticket/12922</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/954997662dc64a089c3ce6c90d423a78f3117834\">9549976</a></td><td><code>12922 reviewer's patch: optimize imports and doc cosmetics</code></td></tr></table>\n",
    "created_at": "2015-02-02T14:23:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148649",
    "user": "https://github.com/rwst"
}
```

<a id='comment:31'>Comment 31:</a>
Just some minor fixes. It looks good. I did no `make ptestlong` as it's just a new method.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e0061057ae3516d292cb24f91338a5ab53d8f02">7e00610</a></td><td><code>Merge branch 'develop' into t/12922/ticket/12922</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/954997662dc64a089c3ce6c90d423a78f3117834">9549976</a></td><td><code>12922 reviewer's patch: optimize imports and doc cosmetics</code></td></tr></table>




---

archive/issue_events_163639.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-02T14:23:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163639"
}
```



---

archive/issue_events_163640.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-02T14:23:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163640"
}
```



---

archive/issue_comments_148650.json:
```json
{
    "body": "Changed reviewer from **Kannappan Sampath** to **Kannappan Sampath, Ralf Stephan**",
    "created_at": "2015-02-02T14:23:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148650",
    "user": "https://github.com/rwst"
}
```

Changed reviewer from **Kannappan Sampath** to **Kannappan Sampath, Ralf Stephan**



---

archive/issue_comments_148651.json:
```json
{
    "body": "Changed commit from **[5fe0ffe](https://github.com/sagemath/sagetrac-mirror/commit/5fe0ffeca2be3ec698b7eccfeb51ce80fa94a62c)** to **[9549976](https://github.com/sagemath/sagetrac-mirror/commit/954997662dc64a089c3ce6c90d423a78f3117834)**",
    "created_at": "2015-02-02T14:23:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148651",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[5fe0ffe](https://github.com/sagemath/sagetrac-mirror/commit/5fe0ffeca2be3ec698b7eccfeb51ce80fa94a62c)** to **[9549976](https://github.com/sagemath/sagetrac-mirror/commit/954997662dc64a089c3ce6c90d423a78f3117834)**



---

archive/issue_comments_148652.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nThanks for the review.",
    "created_at": "2015-02-02T14:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148652",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:32'>Comment 32:</a>
Thanks for the review.



---

archive/issue_comments_148653.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\n\n```\n**********************************************************************\nFile \"src/sage/misc/sageinspect.py\", line 1815, in sage.misc.sageinspect.sage_getsourcelines\nFailed example:\n    sage_getsourcelines(x)[0][-1]    # last line\nExpected:\n    '        return self / x\\n'\nGot:\n    '        return S\\n'\n**********************************************************************\n```",
    "created_at": "2015-02-07T15:17:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148653",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:33'>Comment 33:</a>

```
**********************************************************************
File "src/sage/misc/sageinspect.py", line 1815, in sage.misc.sageinspect.sage_getsourcelines
Failed example:
    sage_getsourcelines(x)[0][-1]    # last line
Expected:
    '        return self / x\n'
Got:
    '        return S\n'
**********************************************************************
```



---

archive/issue_events_163641.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-02-07T15:17:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163641"
}
```



---

archive/issue_events_163642.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-02-07T15:17:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163642"
}
```



---

archive/issue_comments_148654.json:
```json
{
    "body": "Changed commit from **[9549976](https://github.com/sagemath/sagetrac-mirror/commit/954997662dc64a089c3ce6c90d423a78f3117834)** to **[0a76da7](https://github.com/sagemath/sagetrac-mirror/commit/0a76da78806d27c25e8a5864c26b3106611ab940)**",
    "created_at": "2015-02-08T07:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148654",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9549976](https://github.com/sagemath/sagetrac-mirror/commit/954997662dc64a089c3ce6c90d423a78f3117834)** to **[0a76da7](https://github.com/sagemath/sagetrac-mirror/commit/0a76da78806d27c25e8a5864c26b3106611ab940)**



---

archive/issue_comments_148655.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a76da78806d27c25e8a5864c26b3106611ab940\">0a76da7</a></td><td><code>12922: fix doctest</code></td></tr></table>\n",
    "created_at": "2015-02-08T07:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148655",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:34'>Comment 34:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a76da78806d27c25e8a5864c26b3106611ab940">0a76da7</a></td><td><code>12922: fix doctest</code></td></tr></table>




---

archive/issue_comments_148656.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nInteresting. That doctest depends on the last line in `class Expression` to remain unchanged.",
    "created_at": "2015-02-08T07:17:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148656",
    "user": "https://github.com/rwst"
}
```

<a id='comment:35'>Comment 35:</a>
Interesting. That doctest depends on the last line in `class Expression` to remain unchanged.



---

archive/issue_events_163643.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-08T07:17:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163643"
}
```



---

archive/issue_events_163644.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-08T07:17:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163644"
}
```



---

archive/issue_events_163645.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-17T19:28:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163645"
}
```



---

archive/issue_events_163646.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ac06b0d98919d03c146e305fe2781078ee97d33d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-02-17T19:28:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12922#event-163646"
}
```



---

archive/issue_comments_148657.json:
```json
{
    "body": "Changed branch from **[u/rws/ticket/12922](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/ticket/12922)** to **[0a76da7](https://github.com/sagemath/sagetrac-mirror/commit/0a76da78806d27c25e8a5864c26b3106611ab940)**",
    "created_at": "2015-02-17T19:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12922",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12922#issuecomment-148657",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/rws/ticket/12922](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/ticket/12922)** to **[0a76da7](https://github.com/sagemath/sagetrac-mirror/commit/0a76da78806d27c25e8a5864c26b3106611ab940)**
