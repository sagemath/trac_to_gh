# Issue 12519: cvxopt should not add -lcblas and -latlas on Darwin

archive/issues_012347.json:
```json
{
    "assignees": [],
    "body": "The following is Sage-specific code in cvxopt's `setup.py`:\n\n```\nif os.popen('sage_fortran --version').read()[:3]=='G95':\n    libraries = ['m','lapack','gsl','gslcblas','blas','f95']\n    GCC_LIB_DIR=SAGE_LIB\n    if os.path.exists(GCC_LIB_DIR + \"/gcc-lib\"):\n       GCC_LIB_DIR += \"/gcc-lib/\"\n       GCC_LIB_DIR += os.listdir(GCC_LIB_DIR)[0] + \"/\"\n       GCC_LIB_DIR += os.listdir(GCC_LIB_DIR)[0] + \"/\"\n    libdirs = [ATLAS_LIB_DIR,GCC_LIB_DIR]\nelif os.environ['UNAME'] == 'CYGWIN':\n    libraries = ['lapack','gsl','gslcblas','blas', 'gfortran']\nelse:\n    libraries = ['m','lapack','gsl','blas','gslcblas','cblas','gfortran','atlas']\n```\n\nAt the end, `cblas` and `atlas` are added, even though they aren't installed on Darwin.  This causes a build failure for cvxopt on OS X 10.4 with #12369 (without #12369, the first \"if\" evaluates to True).\n\nIn this ticket, I also fixed the \"spkg-check\" script, which will now actually fail if there is a failure.\n\n**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/cvxopt-1.1.3.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/cvxopt-1.1.3.p1.spkg)\n\nComponent: **packages: standard**\n\nAuthor: **Jeroen Demeyer**\n\nReviewer: **Dmitrii Pasechnik**\n\nMerged: **sage-5.0.beta8**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12519_\n\n",
    "closed_at": "2012-03-13T08:24:12Z",
    "created_at": "2012-02-16T10:15:22Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "cvxopt should not add -lcblas and -latlas on Darwin",
    "type": "issue",
    "updated_at": "2012-03-13T08:24:12Z",
    "url": "https://github.com/sagemath/sage/issues/12519",
    "user": "https://github.com/jdemeyer"
}
```
The following is Sage-specific code in cvxopt's `setup.py`:

```
if os.popen('sage_fortran --version').read()[:3]=='G95':
    libraries = ['m','lapack','gsl','gslcblas','blas','f95']
    GCC_LIB_DIR=SAGE_LIB
    if os.path.exists(GCC_LIB_DIR + "/gcc-lib"):
       GCC_LIB_DIR += "/gcc-lib/"
       GCC_LIB_DIR += os.listdir(GCC_LIB_DIR)[0] + "/"
       GCC_LIB_DIR += os.listdir(GCC_LIB_DIR)[0] + "/"
    libdirs = [ATLAS_LIB_DIR,GCC_LIB_DIR]
elif os.environ['UNAME'] == 'CYGWIN':
    libraries = ['lapack','gsl','gslcblas','blas', 'gfortran']
else:
    libraries = ['m','lapack','gsl','blas','gslcblas','cblas','gfortran','atlas']
```

At the end, `cblas` and `atlas` are added, even though they aren't installed on Darwin.  This causes a build failure for cvxopt on OS X 10.4 with #12369 (without #12369, the first "if" evaluates to True).

In this ticket, I also fixed the "spkg-check" script, which will now actually fail if there is a failure.

**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/cvxopt-1.1.3.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/cvxopt-1.1.3.p1.spkg)

Component: **packages: standard**

Author: **Jeroen Demeyer**

Reviewer: **Dmitrii Pasechnik**

Merged: **sage-5.0.beta8**

_Issue created by migration from https://trac.sagemath.org/ticket/12519_





---

archive/issue_events_169724.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-16T10:15:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169724"
}
```



---

archive/issue_events_169725.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-16T10:15:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169725"
}
```



---

archive/issue_events_169726.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-16T10:15:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169726"
}
```



---

archive/issue_events_169727.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-16T10:15:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169727"
}
```



---

archive/issue_events_169728.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-16T10:43:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "title_is": "cvxopt should not add -lcblas on Darwin",
    "title_was": "cvxopt should only add -lcblas when that library exists",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169728"
}
```



---

archive/issue_comments_138473.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,3 +16,7 @@\n ```\n \n At the end, `cblas` is added, even though this isn't installed on Darwin.  This gives problem on OS X 10.4 with #12369 (without #12369, the first \"if\" evaluates to True).\n+\n+In this ticket, I also fixed the \"spkg-check\" script, which will now actually fail if there is a failure.\n+\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/cvxopt-1.1.3.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/cvxopt-1.1.3.p1.spkg)\n``````\n",
    "created_at": "2012-02-16T10:43:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138473",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,3 +16,7 @@
 ```
 
 At the end, `cblas` is added, even though this isn't installed on Darwin.  This gives problem on OS X 10.4 with #12369 (without #12369, the first "if" evaluates to True).
+
+In this ticket, I also fixed the "spkg-check" script, which will now actually fail if there is a failure.
+
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/cvxopt-1.1.3.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/cvxopt-1.1.3.p1.spkg)
``````




---

archive/issue_comments_138474.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,7 +15,7 @@\n     libraries = ['m','lapack','gsl','blas','gslcblas','cblas','gfortran','atlas']\n ```\n \n-At the end, `cblas` is added, even though this isn't installed on Darwin.  This gives problem on OS X 10.4 with #12369 (without #12369, the first \"if\" evaluates to True).\n+At the end, `cblas` and `atlas` are added, even though they aren't installed on Darwin.  This gives problem on OS X 10.4 with #12369 (without #12369, the first \"if\" evaluates to True).\n \n In this ticket, I also fixed the \"spkg-check\" script, which will now actually fail if there is a failure.\n \n``````\n",
    "created_at": "2012-02-16T11:02:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138474",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,7 +15,7 @@
     libraries = ['m','lapack','gsl','blas','gslcblas','cblas','gfortran','atlas']
 ```
 
-At the end, `cblas` is added, even though this isn't installed on Darwin.  This gives problem on OS X 10.4 with #12369 (without #12369, the first "if" evaluates to True).
+At the end, `cblas` and `atlas` are added, even though they aren't installed on Darwin.  This gives problem on OS X 10.4 with #12369 (without #12369, the first "if" evaluates to True).
 
 In this ticket, I also fixed the "spkg-check" script, which will now actually fail if there is a failure.
 
``````




---

archive/issue_events_169729.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-16T11:02:47Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "title_is": "cvxopt should not add -lcblas and -latlas on Darwin",
    "title_was": "cvxopt should not add -lcblas on Darwin",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169729"
}
```



---

archive/issue_comments_138475.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,7 +15,7 @@\n     libraries = ['m','lapack','gsl','blas','gslcblas','cblas','gfortran','atlas']\n ```\n \n-At the end, `cblas` and `atlas` are added, even though they aren't installed on Darwin.  This gives problem on OS X 10.4 with #12369 (without #12369, the first \"if\" evaluates to True).\n+At the end, `cblas` and `atlas` are added, even though they aren't installed on Darwin.  This causes a build failure for cvxopt on OS X 10.4 with #12369 (without #12369, the first \"if\" evaluates to True).\n \n In this ticket, I also fixed the \"spkg-check\" script, which will now actually fail if there is a failure.\n \n``````\n",
    "created_at": "2012-02-16T23:15:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138475",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,7 +15,7 @@
     libraries = ['m','lapack','gsl','blas','gslcblas','cblas','gfortran','atlas']
 ```
 
-At the end, `cblas` and `atlas` are added, even though they aren't installed on Darwin.  This gives problem on OS X 10.4 with #12369 (without #12369, the first "if" evaluates to True).
+At the end, `cblas` and `atlas` are added, even though they aren't installed on Darwin.  This causes a build failure for cvxopt on OS X 10.4 with #12369 (without #12369, the first "if" evaluates to True).
 
 In this ticket, I also fixed the "spkg-check" script, which will now actually fail if there is a failure.
 
``````




---

archive/issue_events_169730.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-23T22:07:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169730"
}
```



---

archive/issue_events_169731.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-02-24T20:38:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169731"
}
```



---

archive/issue_events_169732.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-02-24T20:38:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169732"
}
```



---

archive/issue_comments_138476.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIn spkg-install, these lines should be removed:\n\n```\n# Solaris-specific and other patches\ncp -p patches/cvxopt.h src/src/C/\n\n# patch to use always use GSL's random\ncp -p patches/__init__.py src/src/python/\n\n# setting Sage-specific libraries locations, etc.\ncp -p patches/setup.py src/src/\n```\nsince they are taken care of by patch.",
    "created_at": "2012-02-24T20:38:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138476",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:5" align="right">comment:5</div>

In spkg-install, these lines should be removed:

```
# Solaris-specific and other patches
cp -p patches/cvxopt.h src/src/C/

# patch to use always use GSL's random
cp -p patches/__init__.py src/src/python/

# setting Sage-specific libraries locations, etc.
cp -p patches/setup.py src/src/
```
since they are taken care of by patch.



---

archive/issue_comments_138477.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@jdemeyer](#comment%3A4):\n\nAm I correct in saying that this was caused by Darwin being determined by the presence of G95, which is no longer the right way to do this (or perhaps it never was --- mea culpa then...) ?\n\nRegarding the failures of tests on OSX 10.7 (see #12011): it would be great if the exact Sage version (gcc/clang?) /Xcode version/hardware state (32 vs 64 bits) on these are reported. As it looks at the moment, that there is a bug in Apple-supplied\nlapack/blas, and this might force us to build Atlas on OSX 10.7 and use it.",
    "created_at": "2012-02-24T23:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138477",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@jdemeyer](#comment%3A4):

Am I correct in saying that this was caused by Darwin being determined by the presence of G95, which is no longer the right way to do this (or perhaps it never was --- mea culpa then...) ?

Regarding the failures of tests on OSX 10.7 (see #12011): it would be great if the exact Sage version (gcc/clang?) /Xcode version/hardware state (32 vs 64 bits) on these are reported. As it looks at the moment, that there is a bug in Apple-supplied
lapack/blas, and this might force us to build Atlas on OSX 10.7 and use it.



---

archive/issue_comments_138478.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@dimpase](#comment%3A6):\n> Regarding the failures of tests on OSX 10.7 (see #12011): it would be great if the exact Sage version (gcc/clang?) /Xcode version/hardware state (32 vs 64 bits) on these are reported. \n\nIn my experience, the tests fail on every OS X 10.7 machine I've tried, with Xcode 4.1, 4.2, 4.3, with both gcc and clang.\n\n> As it looks at the moment, that there is a bug in Apple-supplied\n> lapack/blas, and this might force us to build Atlas on OSX 10.7 and use it.\n\nThat would be unfortunate. I also wonder why we don't see doctest failures elsewhere in Sage if there are bugs in these libraries.",
    "created_at": "2012-02-25T16:55:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138478",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@dimpase](#comment%3A6):
> Regarding the failures of tests on OSX 10.7 (see #12011): it would be great if the exact Sage version (gcc/clang?) /Xcode version/hardware state (32 vs 64 bits) on these are reported. 

In my experience, the tests fail on every OS X 10.7 machine I've tried, with Xcode 4.1, 4.2, 4.3, with both gcc and clang.

> As it looks at the moment, that there is a bug in Apple-supplied
> lapack/blas, and this might force us to build Atlas on OSX 10.7 and use it.

That would be unfortunate. I also wonder why we don't see doctest failures elsewhere in Sage if there are bugs in these libraries.



---

archive/issue_comments_138479.json:
```json
{
    "body": "Attachment: **[cvxopt-1.1.3.p1.diff.gz](https://github.com/sagemath/sage/files/ticket12519/cvxopt-1.1.3.p1.diff.gz)**\n\nDiff for the cvxopt spkg, for review only",
    "created_at": "2012-02-27T15:46:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138479",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[cvxopt-1.1.3.p1.diff.gz](https://github.com/sagemath/sage/files/ticket12519/cvxopt-1.1.3.p1.diff.gz)**

Diff for the cvxopt spkg, for review only



---

archive/issue_comments_138480.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nFixed, needs review.",
    "created_at": "2012-02-27T15:47:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138480",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Fixed, needs review.



---

archive/issue_events_169733.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-27T15:47:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169733"
}
```



---

archive/issue_events_169734.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-27T15:47:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169734"
}
```



---

archive/issue_comments_138481.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@jhpalmieri](#comment%3A7):\n> That would be unfortunate. I also wonder why we don't see doctest failures elsewhere in Sage if there are bugs in these libraries.\n\nBecause the cvxopt test suite itself is more complete than Sage?  Maybe it just fails on some corner case which isn't in the doctests.  I agree it would be a good idea to add a doctest to catch the OS X 10.7 failures.",
    "created_at": "2012-02-27T15:49:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138481",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@jhpalmieri](#comment%3A7):
> That would be unfortunate. I also wonder why we don't see doctest failures elsewhere in Sage if there are bugs in these libraries.

Because the cvxopt test suite itself is more complete than Sage?  Maybe it just fails on some corner case which isn't in the doctests.  I agree it would be a good idea to add a doctest to catch the OS X 10.7 failures.



---

archive/issue_comments_138482.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@jhpalmieri](#comment%3A7):\n> > As it looks at the moment, that there is a bug in Apple-supplied\n> > lapack/blas, and this might force us to build Atlas on OSX 10.7 and use it.\n\n> \n> That would be unfortunate. I also wonder why we don't see doctest failures elsewhere in Sage if there are bugs in these libraries.\n\nI asked upstream for examples demonstrating lapack/blas bug(s) on OSX 10.7. They are looking into it.",
    "created_at": "2012-02-27T22:32:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138482",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@jhpalmieri](#comment%3A7):
> > As it looks at the moment, that there is a bug in Apple-supplied
> > lapack/blas, and this might force us to build Atlas on OSX 10.7 and use it.

> 
> That would be unfortunate. I also wonder why we don't see doctest failures elsewhere in Sage if there are bugs in these libraries.

I asked upstream for examples demonstrating lapack/blas bug(s) on OSX 10.7. They are looking into it.



---

archive/issue_comments_138483.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@jhpalmieri](#comment%3A7):\n\n> In my experience, the tests fail on every OS X 10.7 machine I've tried, with Xcode 4.1, 4.2, 4.3, with both gcc and clang.\n\nhere is a beautiful OSX 10.7-specific bug (got it on sqrt5 with Sage 5.0.beta6):\n(the syntax const-M, for M a matrix, is supposed to replace each M_ij with const-M_ij)\n\n```\nfrom cvxopt import matrix\nb=matrix([ 1.00e+00, 1.63e-01, 2.83e-01, 9.47e-01, 2.32e-01, 4.85e-01,\n9.57e-01, 7.44e-01])\nc=1.-b\nprint \"b :\\n\", b\nprint \"1-b:\\n\", c\n\n\nb :\n[ 1.00e+00]\n[ 1.63e-01]\n[ 2.83e-01]\n[ 9.47e-01]\n[ 2.32e-01]\n[ 4.85e-01]\n[ 9.57e-01]\n[ 7.44e-01]\n\n1-b:\n[-1.00e+00]\n[-1.63e-01]\n[-2.83e-01]\n[-9.47e-01]\n[-2.32e-01]\n[-4.85e-01]\n[-9.57e-01]\n[-7.44e-01]\n```\n\nInterestingly, a shorter vector b works OK...\n\nDo you have any idea what goes wrong here?\n(this is actually the bug responsible for failure of \"acent\" test in [here](http://sage.math.washington.edu/home/palmieri/misc/cvxopt-1.1.3.log))",
    "created_at": "2012-03-05T13:18:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138483",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@jhpalmieri](#comment%3A7):

> In my experience, the tests fail on every OS X 10.7 machine I've tried, with Xcode 4.1, 4.2, 4.3, with both gcc and clang.

here is a beautiful OSX 10.7-specific bug (got it on sqrt5 with Sage 5.0.beta6):
(the syntax const-M, for M a matrix, is supposed to replace each M_ij with const-M_ij)

```
from cvxopt import matrix
b=matrix([ 1.00e+00, 1.63e-01, 2.83e-01, 9.47e-01, 2.32e-01, 4.85e-01,
9.57e-01, 7.44e-01])
c=1.-b
print "b :\n", b
print "1-b:\n", c


b :
[ 1.00e+00]
[ 1.63e-01]
[ 2.83e-01]
[ 9.47e-01]
[ 2.32e-01]
[ 4.85e-01]
[ 9.57e-01]
[ 7.44e-01]

1-b:
[-1.00e+00]
[-1.63e-01]
[-2.83e-01]
[-9.47e-01]
[-2.32e-01]
[-4.85e-01]
[-9.57e-01]
[-7.44e-01]
```

Interestingly, a shorter vector b works OK...

Do you have any idea what goes wrong here?
(this is actually the bug responsible for failure of "acent" test in [here](http://sage.math.washington.edu/home/palmieri/misc/cvxopt-1.1.3.log))



---

archive/issue_comments_138484.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@dimpase](#comment%3A11):\n> Do you have any idea what goes wrong here?\n\nProbably Apple shipping a broken BLAS.  See #12011.",
    "created_at": "2012-03-05T13:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138484",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@dimpase](#comment%3A11):
> Do you have any idea what goes wrong here?

Probably Apple shipping a broken BLAS.  See #12011.



---

archive/issue_comments_138485.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@jdemeyer](#comment%3A12):\n> Replying to [@dimpase](#comment%3A11):\n> > Do you have any idea what goes wrong here?\n\n> Probably Apple shipping a broken BLAS.  See #12011.\n\nthat's what one of CVXOPT people says (as I reported :)), but it would be good to know for sure.\nI've reported this example upstream (to CVXOPT), too. \n\nI forgot to mention that this is a plain Python example. To run it in Sage proper, one needs to do first\n\n```\nsage: preparser(on=False)\n```",
    "created_at": "2012-03-05T13:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138485",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@jdemeyer](#comment%3A12):
> Replying to [@dimpase](#comment%3A11):
> > Do you have any idea what goes wrong here?

> Probably Apple shipping a broken BLAS.  See #12011.

that's what one of CVXOPT people says (as I reported :)), but it would be good to know for sure.
I've reported this example upstream (to CVXOPT), too. 

I forgot to mention that this is a plain Python example. To run it in Sage proper, one needs to do first

```
sage: preparser(on=False)
```



---

archive/issue_comments_138486.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@dimpase](#comment%3A13):\n> > Probably Apple shipping a broken BLAS.  See #12011.\n\nconfirmed! see the following sage-devel [thread](https://groups.google.com/d/topic/sage-devel/f1XvpcK0KxE/discussion)",
    "created_at": "2012-03-06T10:34:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138486",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@dimpase](#comment%3A13):
> > Probably Apple shipping a broken BLAS.  See #12011.

confirmed! see the following sage-devel [thread](https://groups.google.com/d/topic/sage-devel/f1XvpcK0KxE/discussion)



---

archive/issue_events_169735.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-06T13:21:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169735"
}
```



---

archive/issue_events_169736.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-06T13:21:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169736"
}
```



---

archive/issue_comments_138487.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThis needs to be coordinated with #12011.",
    "created_at": "2012-03-06T13:21:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138487",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

This needs to be coordinated with #12011.



---

archive/issue_comments_138488.json:
```json
{
    "body": "Attachment: **[test_blas.c.gz](https://github.com/sagemath/sage/files/ticket12519/test_blas.c.gz)**\n\nFor reproducing the failure on Lion",
    "created_at": "2012-03-06T14:45:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138488",
    "user": "https://github.com/kcrisman"
}
```

Attachment: **[test_blas.c.gz](https://github.com/sagemath/sage/files/ticket12519/test_blas.c.gz)**

For reproducing the failure on Lion



---

archive/issue_comments_138489.json:
```json
{
    "body": "Attachment: **[test_cblas.c.gz](https://github.com/sagemath/sage/files/ticket12519/test_cblas.c.gz)**\n\nFor reproducing the failure on Lion",
    "created_at": "2012-03-06T14:45:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138489",
    "user": "https://github.com/kcrisman"
}
```

Attachment: **[test_cblas.c.gz](https://github.com/sagemath/sage/files/ticket12519/test_cblas.c.gz)**

For reproducing the failure on Lion



---

archive/issue_comments_138490.json:
```json
{
    "body": "For reproducing the failure on Lion",
    "created_at": "2012-03-06T14:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138490",
    "user": "https://github.com/kcrisman"
}
```

For reproducing the failure on Lion



---

archive/issue_comments_138491.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAttachment: **[Makefile.gz](https://github.com/sagemath/sage/files/ticket12519/Makefile.gz)**\n\nReplying to [@dimpase](#comment%3A14):\n> Replying to [@dimpase](#comment%3A13):\n> > > Probably Apple shipping a broken BLAS.  See #12011.\n\n> \n> confirmed! see the following sage-devel [thread](https://groups.google.com/d/topic/sage-devel/f1XvpcK0KxE/discussion)\n\nIn fact, it turns out to be a CVXOPT bug. Please see this\n[message](https://groups.google.com/d/msg/sage-devel/f1XvpcK0KxE/oSFsKrA7MfkJ) and this [discussion](https://discussions.apple.com/message/17795537))\n\nSo we do not need Atlas on OSX 10.7, after all (or at least not yet).",
    "created_at": "2012-03-09T00:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138491",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

Attachment: **[Makefile.gz](https://github.com/sagemath/sage/files/ticket12519/Makefile.gz)**

Replying to [@dimpase](#comment%3A14):
> Replying to [@dimpase](#comment%3A13):
> > > Probably Apple shipping a broken BLAS.  See #12011.

> 
> confirmed! see the following sage-devel [thread](https://groups.google.com/d/topic/sage-devel/f1XvpcK0KxE/discussion)

In fact, it turns out to be a CVXOPT bug. Please see this
[message](https://groups.google.com/d/msg/sage-devel/f1XvpcK0KxE/oSFsKrA7MfkJ) and this [discussion](https://discussions.apple.com/message/17795537))

So we do not need Atlas on OSX 10.7, after all (or at least not yet).



---

archive/issue_comments_138492.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@dimpase](#comment%3A16):\n> Replying to [@dimpase](#comment%3A14):\n> > Replying to [@dimpase](#comment%3A13):\n> > > > Probably Apple shipping a broken BLAS.  See #12011.\n\n> > \n> > confirmed! see the following sage-devel [thread](https://groups.google.com/d/topic/sage-devel/f1XvpcK0KxE/discussion)\n\n> \n> In fact, it turns out to be a CVXOPT bug. Please see this\n> [message](https://groups.google.com/d/msg/sage-devel/f1XvpcK0KxE/oSFsKrA7MfkJ) and this [discussion](https://discussions.apple.com/message/17795537))\n> \n> So we do not need Atlas on OSX 10.7, after all (or at least not yet).\n\nHopefully CVXOPT people can fix this quickly: the affected BLAS calls are used quite a bit in their code, so I'd prefer to wait for them to have it fixed rather than going at it myself (it looks straightforward, but quite a bit of code...)",
    "created_at": "2012-03-09T01:19:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138492",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@dimpase](#comment%3A16):
> Replying to [@dimpase](#comment%3A14):
> > Replying to [@dimpase](#comment%3A13):
> > > > Probably Apple shipping a broken BLAS.  See #12011.

> > 
> > confirmed! see the following sage-devel [thread](https://groups.google.com/d/topic/sage-devel/f1XvpcK0KxE/discussion)

> 
> In fact, it turns out to be a CVXOPT bug. Please see this
> [message](https://groups.google.com/d/msg/sage-devel/f1XvpcK0KxE/oSFsKrA7MfkJ) and this [discussion](https://discussions.apple.com/message/17795537))
> 
> So we do not need Atlas on OSX 10.7, after all (or at least not yet).

Hopefully CVXOPT people can fix this quickly: the affected BLAS calls are used quite a bit in their code, so I'd prefer to wait for them to have it fixed rather than going at it myself (it looks straightforward, but quite a bit of code...)



---

archive/issue_events_169737.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-03-09T01:19:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169737"
}
```



---

archive/issue_events_169738.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-03-09T01:19:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169738"
}
```



---

archive/issue_events_169739.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-03-09T01:21:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169739"
}
```



---

archive/issue_events_169740.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-03-09T01:21:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169740"
}
```



---

archive/issue_events_169741.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-03-09T01:22:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169741"
}
```



---

archive/issue_events_169742.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-03-09T01:22:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169742"
}
```



---

archive/issue_comments_138493.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nPlease revert to using Apple's blas, not GSL's ones.",
    "created_at": "2012-03-09T01:22:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138493",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:19" align="right">comment:19</div>

Please revert to using Apple's blas, not GSL's ones.



---

archive/issue_comments_138494.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@dimpase](#comment%3A19):\n> Please revert to using Apple's blas, not GSL's ones.\n\nPlease clarify...",
    "created_at": "2012-03-09T07:40:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138494",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@dimpase](#comment%3A19):
> Please revert to using Apple's blas, not GSL's ones.

Please clarify...



---

archive/issue_events_169743.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-09T07:40:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169743"
}
```



---

archive/issue_events_169744.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-09T07:40:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169744"
}
```



---

archive/issue_comments_138495.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@jdemeyer](#comment%3A20):\n> Replying to [@dimpase](#comment%3A19):\n> > Please revert to using Apple's blas, not GSL's ones.\n\n> \n> Please clarify...\n\nCan we link cvxopt against Apple's cblas (aka \"-framework Accelerate\") on MacOSX?\nI suppose inclusion of gslcblas in the list of libaries means we use this very slow beast...",
    "created_at": "2012-03-09T07:59:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138495",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@jdemeyer](#comment%3A20):
> Replying to [@dimpase](#comment%3A19):
> > Please revert to using Apple's blas, not GSL's ones.

> 
> Please clarify...

Can we link cvxopt against Apple's cblas (aka "-framework Accelerate") on MacOSX?
I suppose inclusion of gslcblas in the list of libaries means we use this very slow beast...



---

archive/issue_events_169745.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-03-09T07:59:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169745"
}
```



---

archive/issue_events_169746.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-03-09T07:59:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169746"
}
```



---

archive/issue_comments_138496.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@dimpase](#comment%3A21):\n> I suppose inclusion of gslcblas in the list of libaries means we use this very slow beast...\n\nAre you sure?  If we're not using Apple's BLAS, how do you explain that cvxopt fails its self-tests only on OS X 10.7?\n\nAnyway: let me also clarify that I'm simply restoring the old behaviour, such that `cvxopt` builds with GCC 4.6.2.  So if there really is something to be done, I prefer to get this ticket reviewed as-is and continue on a different ticket.",
    "created_at": "2012-03-09T08:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138496",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@dimpase](#comment%3A21):
> I suppose inclusion of gslcblas in the list of libaries means we use this very slow beast...

Are you sure?  If we're not using Apple's BLAS, how do you explain that cvxopt fails its self-tests only on OS X 10.7?

Anyway: let me also clarify that I'm simply restoring the old behaviour, such that `cvxopt` builds with GCC 4.6.2.  So if there really is something to be done, I prefer to get this ticket reviewed as-is and continue on a different ticket.



---

archive/issue_events_169747.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-09T08:39:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169747"
}
```



---

archive/issue_events_169748.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-09T08:39:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169748"
}
```



---

archive/issue_comments_138497.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@jdemeyer](#comment%3A22):\n> Replying to [@dimpase](#comment%3A21):\n> > I suppose inclusion of gslcblas in the list of libaries means we use this very slow beast...\n\n> \n> Are you sure?  If we're not using Apple's BLAS, how do you explain that cvxopt fails its self-tests only on OS X 10.7?\n\n`-lblas` links against Apple's \"classical\" BLAS (which you call with Fortran conventions), and use names ending with '_'. And \nthat's how CVXOPT makes these fateful calls to daxpy(). \n\nActually, it occurs to me now that it's GSL extension of CVXOPT that needs its GSLCBLAS, nothing else.\nSorry for noise. Please disregard my request on this. \n \n> \n> Anyway: let me also clarify that I'm simply restoring the old behaviour, such that `cvxopt` builds with GCC 4.6.2.  So if there really is something to be done, I prefer to get this ticket reviewed as-is and continue on a different ticket.\n\nOK, I'll look into it ASAP.",
    "created_at": "2012-03-09T08:49:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138497",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@jdemeyer](#comment%3A22):
> Replying to [@dimpase](#comment%3A21):
> > I suppose inclusion of gslcblas in the list of libaries means we use this very slow beast...

> 
> Are you sure?  If we're not using Apple's BLAS, how do you explain that cvxopt fails its self-tests only on OS X 10.7?

`-lblas` links against Apple's "classical" BLAS (which you call with Fortran conventions), and use names ending with '_'. And 
that's how CVXOPT makes these fateful calls to daxpy(). 

Actually, it occurs to me now that it's GSL extension of CVXOPT that needs its GSLCBLAS, nothing else.
Sorry for noise. Please disregard my request on this. 
 
> 
> Anyway: let me also clarify that I'm simply restoring the old behaviour, such that `cvxopt` builds with GCC 4.6.2.  So if there really is something to be done, I prefer to get this ticket reviewed as-is and continue on a different ticket.

OK, I'll look into it ASAP.



---

archive/issue_comments_138498.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@jdemeyer](#comment%3A22):\n> Replying to [@dimpase](#comment%3A21):\n> > I suppose inclusion of gslcblas in the list of libaries means we use this very slow beast...\n\n> \n> Are you sure?  If we're not using Apple's BLAS, how do you explain that cvxopt fails its self-tests only on OS X 10.7?\n> \n> Anyway: let me also clarify that I'm simply restoring the old behaviour, such that `cvxopt` builds with GCC 4.6.2.  So if there really is something to be done, I prefer to get this ticket reviewed as-is and continue on a different ticket.\n\nlooks OK on OSX 10.6.8, and on 10.5.8 PPC (installs with SAGE_CHECK=yes). I presume you have tested on OSX 10.4.\nPositive review. \nI'd like to coordinate the upgrade to (now available) cvxopt 1.1.4 with them fixing the OSX 10.7-specific bug.",
    "created_at": "2012-03-10T08:11:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138498",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@jdemeyer](#comment%3A22):
> Replying to [@dimpase](#comment%3A21):
> > I suppose inclusion of gslcblas in the list of libaries means we use this very slow beast...

> 
> Are you sure?  If we're not using Apple's BLAS, how do you explain that cvxopt fails its self-tests only on OS X 10.7?
> 
> Anyway: let me also clarify that I'm simply restoring the old behaviour, such that `cvxopt` builds with GCC 4.6.2.  So if there really is something to be done, I prefer to get this ticket reviewed as-is and continue on a different ticket.

looks OK on OSX 10.6.8, and on 10.5.8 PPC (installs with SAGE_CHECK=yes). I presume you have tested on OSX 10.4.
Positive review. 
I'd like to coordinate the upgrade to (now available) cvxopt 1.1.4 with them fixing the OSX 10.7-specific bug.



---

archive/issue_events_169749.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-03-10T08:11:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169749"
}
```



---

archive/issue_events_169750.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-03-10T08:11:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169750"
}
```



---

archive/issue_comments_138499.json:
```json
{
    "body": "Reviewer: **Dmitrii Pasechnik**",
    "created_at": "2012-03-10T10:04:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138499",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Dmitrii Pasechnik**



---

archive/issue_comments_138500.json:
```json
{
    "body": "Merged: **sage-5.0.beta8**",
    "created_at": "2012-03-13T08:24:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12519#issuecomment-138500",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.beta8**



---

archive/issue_events_169751.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-13T08:24:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169751"
}
```



---

archive/issue_events_169752.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-13T08:24:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12519",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12519#event-169752"
}
```
