# Issue 12621: use bash for prereq install file

archive/issues_012449.json:
```json
{
    "body": "The script prereq-0.9-install starts with the line\n\n```/bin/sh\n```\nAs a result, when installing prereq on a Solaris machine, I see this:\n\n```\nStarting prerequisite check.\nMachine: SunOS mark2 5.10 Generic_127111-01 sun4u sparc SUNW,Sun-Blade-2500\nbase/prereq-0.9-install: !: not found\nchecking for a BSD-compatible install... ./install-sh -c\n```\nI think this is because of the line\n\n```\nif ! [ -f \"$SAGE_ROOT/spkg/base/$TARGET.tar\" ]; then\n```\nin prereq-0.9-install. Using bash to run this script instead of sh fixes the problem. So I propose using bash for this script.\n\nThis will be fixed in #12112.\n\nAssignee: GeorgSWeber\n\nReviewer: Jeroen Demeyer\n\nDependencies: #4949\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/12621\n\n",
    "closed_at": "2012-03-26T21:36:39Z",
    "created_at": "2012-03-02T22:38:13Z",
    "labels": [
        "component: build",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "use bash for prereq install file",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12621",
    "user": "https://github.com/jhpalmieri"
}
```
The script prereq-0.9-install starts with the line

```/bin/sh
```
As a result, when installing prereq on a Solaris machine, I see this:

```
Starting prerequisite check.
Machine: SunOS mark2 5.10 Generic_127111-01 sun4u sparc SUNW,Sun-Blade-2500
base/prereq-0.9-install: !: not found
checking for a BSD-compatible install... ./install-sh -c
```
I think this is because of the line

```
if ! [ -f "$SAGE_ROOT/spkg/base/$TARGET.tar" ]; then
```
in prereq-0.9-install. Using bash to run this script instead of sh fixes the problem. So I propose using bash for this script.

This will be fixed in #12112.

Assignee: GeorgSWeber

Reviewer: Jeroen Demeyer

Dependencies: #4949

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/12621





---

archive/issue_comments_181728.json:
```json
{
    "body": "Attachment [trac_12621-prereq.patch](tarball://root/attachments/some-uuid/ticket12621/trac_12621-prereq.patch) by @jhpalmieri created at 2012-03-02 22:40:12",
    "created_at": "2012-03-02T22:40:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12621",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12621#issuecomment-181728",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_12621-prereq.patch](tarball://root/attachments/some-uuid/ticket12621/trac_12621-prereq.patch) by @jhpalmieri created at 2012-03-02 22:40:12



---

archive/issue_comments_181729.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#4949\"",
    "created_at": "2012-03-02T22:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12621",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12621#issuecomment-181729",
    "user": "https://github.com/jhpalmieri"
}
```

Changing dependencies from "" to "#4949"



---

archive/issue_comments_181730.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,6 +19,11 @@\n \n Should the \"0.9\" be incremented with a change like this?\n \n+---\n+\n+Apply [attachment:trac_12621-prereq.patch] to the root repo.\n+\n+\n Summary: use bash for prereq and bzip2 install files\n \n Issue created by migration from https://trac.sagemath.org/ticket/12621\n``````\n",
    "created_at": "2012-03-02T22:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12621",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12621#issuecomment-181730",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,6 +19,11 @@
 
 Should the "0.9" be incremented with a change like this?
 
+---
+
+Apply [attachment:trac_12621-prereq.patch] to the root repo.
+
+
 Summary: use bash for prereq and bzip2 install files
 
 Issue created by migration from https://trac.sagemath.org/ticket/12621
``````




---

archive/issue_comments_181731.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-03-02T22:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12621",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12621#issuecomment-181731",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_181732.json:
```json
{
    "body": "<a id='comment:2'></a>Attachment [trac_12621-prereq.v2.patch](tarball://root/attachments/some-uuid/ticket12621/trac_12621-prereq.v2.patch) by @jhpalmieri created at 2012-03-05 20:55:02",
    "created_at": "2012-03-05T20:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12621",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12621#issuecomment-181732",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>Attachment [trac_12621-prereq.v2.patch](tarball://root/attachments/some-uuid/ticket12621/trac_12621-prereq.v2.patch) by @jhpalmieri created at 2012-03-05 20:55:02



---

archive/issue_comments_181733.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,27 @@\n+The script prereq-0.9-install starts with the line\n+\n+```/bin/sh\n+```\n+As a result, when installing prereq on a Solaris machine, I see this:\n+\n+```\n+Starting prerequisite check.\n+Machine: SunOS mark2 5.10 Generic_127111-01 sun4u sparc SUNW,Sun-Blade-2500\n+base/prereq-0.9-install: !: not found\n+checking for a BSD-compatible install... ./install-sh -c\n+```\n+I think this is because of the line\n+\n+```\n+if ! [ -f \"$SAGE_ROOT/spkg/base/$TARGET.tar\" ]; then\n+```\n+in prereq-0.9-install. Using bash to run this script instead of sh fixes the problem. So I propose using bash for this script\n+\n+Should the \"0.9\" be incremented with a change like this?\n+\n+---\n+\n+Apply [attachment:trac_12621-prereq.v2.patch] to the root repo.\n \n \n Summary: use bash for prereq and bzip2 install files\n``````\n",
    "created_at": "2012-03-05T20:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12621",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12621#issuecomment-181733",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,27 @@
+The script prereq-0.9-install starts with the line
+
+```/bin/sh
+```
+As a result, when installing prereq on a Solaris machine, I see this:
+
+```
+Starting prerequisite check.
+Machine: SunOS mark2 5.10 Generic_127111-01 sun4u sparc SUNW,Sun-Blade-2500
+base/prereq-0.9-install: !: not found
+checking for a BSD-compatible install... ./install-sh -c
+```
+I think this is because of the line
+
+```
+if ! [ -f "$SAGE_ROOT/spkg/base/$TARGET.tar" ]; then
+```
+in prereq-0.9-install. Using bash to run this script instead of sh fixes the problem. So I propose using bash for this script
+
+Should the "0.9" be incremented with a change like this?
+
+---
+
+Apply [attachment:trac_12621-prereq.v2.patch] to the root repo.
 
 
 Summary: use bash for prereq and bzip2 install files
``````




---

archive/issue_comments_181734.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,23 @@\n+The script prereq-0.9-install starts with the line\n \n+```/bin/sh\n+```\n+As a result, when installing prereq on a Solaris machine, I see this:\n+\n+```\n+Starting prerequisite check.\n+Machine: SunOS mark2 5.10 Generic_127111-01 sun4u sparc SUNW,Sun-Blade-2500\n+base/prereq-0.9-install: !: not found\n+checking for a BSD-compatible install... ./install-sh -c\n+```\n+I think this is because of the line\n+\n+```\n+if ! [ -f \"$SAGE_ROOT/spkg/base/$TARGET.tar\" ]; then\n+```\n+in prereq-0.9-install. Using bash to run this script instead of sh fixes the problem. So I propose using bash for this script.\n+\n+This will be fixed in #12112.\n \n Summary: use bash for prereq and bzip2 install files\n \n``````\n",
    "created_at": "2012-03-26T21:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12621",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12621#issuecomment-181734",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,23 @@
+The script prereq-0.9-install starts with the line
 
+```/bin/sh
+```
+As a result, when installing prereq on a Solaris machine, I see this:
+
+```
+Starting prerequisite check.
+Machine: SunOS mark2 5.10 Generic_127111-01 sun4u sparc SUNW,Sun-Blade-2500
+base/prereq-0.9-install: !: not found
+checking for a BSD-compatible install... ./install-sh -c
+```
+I think this is because of the line
+
+```
+if ! [ -f "$SAGE_ROOT/spkg/base/$TARGET.tar" ]; then
+```
+in prereq-0.9-install. Using bash to run this script instead of sh fixes the problem. So I propose using bash for this script.
+
+This will be fixed in #12112.
 
 Summary: use bash for prereq and bzip2 install files
 
``````




---

archive/issue_events_034196.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-26T21:36:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12621",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12621#event-34196"
}
```



---

archive/issue_comments_181735.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2012-03-26T21:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12621",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12621#issuecomment-181735",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_181736.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2012-03-26T21:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12621",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12621#issuecomment-181736",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: duplicate



---

archive/issue_events_034197.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-26T21:36:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12621",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12621#event-34197"
}
```
