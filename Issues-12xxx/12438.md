# Issue 12438: Definite integral should not depend on the dummy variable

archive/issues_012266.json:
```json
{
    "body": "Consider the following:\n\n```\nsage: f(x) = x; f\nx |--> x\nsage: integral(f, x)\nx |--> 1/2*x^2\nsage: integral(f, x, 0, 1)\nx |--> 1/2\n```\nThe last integral has not \"happened\" to be constant - it does not depend on x mathematically, so it should not depend on x in Sage.\n\nMultivariate case:\n\n```\nsage: f(x, y) = x + y\nsage: f\n(x, y) |--> x + y\nsage: integral(f, x, 0, 1)\n(x, y) |--> y + 1/2\nsage: _(3)\ny + 1/2 \n```\n`integral(...)` here should return a symbolic function that depends on y only, so that the last evaluation gives `7/2` (and there are no warning about unnamed evaluation - the order of variables is the same as for the original function with one variable dropped).\n\nSee discussion here: http://groups.google.com/group/sage-devel/browse_thread/thread/1309eeae0714be79\n\nAssignee: @burcin\n\nCC:  @kcrisman @jasongrout\n\nKeywords: sd40.5\n\nReviewer: Karl-Dieter Crisman, Benjamin Jones, Douglas McNeil\n\nAuthor: Andrey Novoseltsev\n\nMerged: sage-5.1.beta3\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/12438\n\n",
    "closed_at": "2012-06-05T11:51:28Z",
    "created_at": "2012-02-04T19:02:34Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.1",
    "title": "Definite integral should not depend on the dummy variable",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12438",
    "user": "https://github.com/novoselt"
}
```
Consider the following:

```
sage: f(x) = x; f
x |--> x
sage: integral(f, x)
x |--> 1/2*x^2
sage: integral(f, x, 0, 1)
x |--> 1/2
```
The last integral has not "happened" to be constant - it does not depend on x mathematically, so it should not depend on x in Sage.

Multivariate case:

```
sage: f(x, y) = x + y
sage: f
(x, y) |--> x + y
sage: integral(f, x, 0, 1)
(x, y) |--> y + 1/2
sage: _(3)
y + 1/2 
```
`integral(...)` here should return a symbolic function that depends on y only, so that the last evaluation gives `7/2` (and there are no warning about unnamed evaluation - the order of variables is the same as for the original function with one variable dropped).

See discussion here: http://groups.google.com/group/sage-devel/browse_thread/thread/1309eeae0714be79

Assignee: @burcin

CC:  @kcrisman @jasongrout

Keywords: sd40.5

Reviewer: Karl-Dieter Crisman, Benjamin Jones, Douglas McNeil

Author: Andrey Novoseltsev

Merged: sage-5.1.beta3

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/12438





---

archive/issue_comments_183043.json:
```json
{
    "body": "<a id='comment:2'></a>\nWorking on it.",
    "created_at": "2012-05-25T02:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183043",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:2'></a>
Working on it.



---

archive/issue_comments_183044.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd40.5\".",
    "created_at": "2012-05-25T02:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183044",
    "user": "https://github.com/novoselt"
}
```

Changing keywords from "" to "sd40.5".



---

archive/issue_comments_183045.json:
```json
{
    "body": "<a id='comment:3'></a>\nAfter rereading the original thread, as discussed in person, I think that extracting all the (callable) variables from the original expression and then returning a callable function with all but one of them in the same order (is this easy to do?) should be doable and ok.",
    "created_at": "2012-05-25T02:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183045",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'></a>
After rereading the original thread, as discussed in person, I think that extracting all the (callable) variables from the original expression and then returning a callable function with all but one of them in the same order (is this easy to do?) should be doable and ok.



---

archive/issue_comments_183046.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe offending lines are\n\n```\n    if is_CallableSymbolicExpressionRing(self._parent):\n        return self._parent(integral(ring.SR(self), *args, **kwds))\n```\nSo if we start with at function depending on x and y, the result will also be a function depending on x and y. \n\nThe question is now in distinguishing definite and indefinite integrals, as they have to be treated differently.",
    "created_at": "2012-05-25T02:35:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183046",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:4'></a>
The offending lines are

```
    if is_CallableSymbolicExpressionRing(self._parent):
        return self._parent(integral(ring.SR(self), *args, **kwds))
```
So if we start with at function depending on x and y, the result will also be a function depending on x and y. 

The question is now in distinguishing definite and indefinite integrals, as they have to be treated differently.



---

archive/issue_comments_183047.json:
```json
{
    "body": "Author: Andrey Novoseltsev",
    "created_at": "2012-05-25T04:44:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183047",
    "user": "https://github.com/novoselt"
}
```

Author: Andrey Novoseltsev



---

archive/issue_comments_183048.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-05-25T04:44:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183048",
    "user": "https://github.com/novoselt"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_183049.json:
```json
{
    "body": "<a id='comment:5'></a>\nDone!",
    "created_at": "2012-05-25T04:44:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183049",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:5'></a>
Done!



---

archive/issue_comments_183050.json:
```json
{
    "body": "<a id='comment:6'></a>\nFirst three hunks replace TABs with spaces - I thought they were gone from the library?..",
    "created_at": "2012-05-25T04:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183050",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:6'></a>
First three hunks replace TABs with spaces - I thought they were gone from the library?..



---

archive/issue_comments_183051.json:
```json
{
    "body": "<a id='comment:7'></a>\nThis looks pretty good.  Running tests.",
    "created_at": "2012-05-25T05:00:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183051",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'></a>
This looks pretty good.  Running tests.



---

archive/issue_comments_183052.json:
```json
{
    "body": "Reviewer: Karl-Dieter Crisman",
    "created_at": "2012-05-25T05:00:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183052",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: Karl-Dieter Crisman



---

archive/issue_comments_183053.json:
```json
{
    "body": "<a id='comment:8'></a>\nJust so it's recorded:\n\n```\nsage: f(x) = x\nsage: var(\"y\")\ny\nsage: integral(f, y, 0, 3)\nERROR: An unexpected error occurred while tokenizing input\nThe following traceback may be corrupted or invalid\nThe error message is: ('EOF in multi-line statement', (580, 0))\n\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n\n/home/mcneil/sagedev/sage-5.1.beta0/devel/sage-hack/sage/<ipython console> in <module>()\n\n/home/mcneil/sagedev/sage-5.1.beta0/local/lib/python2.7/site-packages/sage/misc/functional.pyc in integral(x, *args, **kwds)\n    726     \"\"\"\n    727     if hasattr(x, 'integral'):\n--> 728         return x.integral(*args, **kwds)\n    729     else:\n    730         from sage.symbolic.ring import SR\n\n/home/mcneil/sagedev/sage-5.1.beta0/local/lib/python2.7/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.integral (sage/symbolic/expression.cpp:33895)()\n\nValueError: list.remove(x): x not in list\n\n```",
    "created_at": "2012-05-25T05:17:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183053",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

<a id='comment:8'></a>
Just so it's recorded:

```
sage: f(x) = x
sage: var("y")
y
sage: integral(f, y, 0, 3)
ERROR: An unexpected error occurred while tokenizing input
The following traceback may be corrupted or invalid
The error message is: ('EOF in multi-line statement', (580, 0))

---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)

/home/mcneil/sagedev/sage-5.1.beta0/devel/sage-hack/sage/<ipython console> in <module>()

/home/mcneil/sagedev/sage-5.1.beta0/local/lib/python2.7/site-packages/sage/misc/functional.pyc in integral(x, *args, **kwds)
    726     """
    727     if hasattr(x, 'integral'):
--> 728         return x.integral(*args, **kwds)
    729     else:
    730         from sage.symbolic.ring import SR

/home/mcneil/sagedev/sage-5.1.beta0/local/lib/python2.7/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.integral (sage/symbolic/expression.cpp:33895)()

ValueError: list.remove(x): x not in list

```



---

archive/issue_comments_183054.json:
```json
{
    "body": "<a id='comment:9'></a>\nReviewer patch fixes one doctest - should be able to apply even after fixing this.",
    "created_at": "2012-05-25T05:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183054",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:9'></a>
Reviewer patch fixes one doctest - should be able to apply even after fixing this.



---

archive/issue_comments_183055.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [dsm](#comment%3A8):\n> Just so it's recorded:\n> \n\n{{{\n> sage: f(x) = x\n> sage: var(\"y\")\n\n}}}\n\nBut\n\n```\nsage: var('y')   \ny\nsage: integral(x,y,0,3)\n3*x\n```\nso it's only that branch which causes problems.",
    "created_at": "2012-05-25T05:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183055",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>
Replying to [dsm](#comment%3A8):
> Just so it's recorded:
> 

{{{
> sage: f(x) = x
> sage: var("y")

}}}

But

```
sage: var('y')   
y
sage: integral(x,y,0,3)
3*x
```
so it's only that branch which causes problems.



---

archive/issue_comments_183056.json:
```json
{
    "body": "<a id='comment:11'></a>\nNo more problems and extra doctests are added!\n\nApply only trac_12438_drop_variable_of_definite_integration.patch",
    "created_at": "2012-05-25T05:25:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183056",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:11'></a>
No more problems and extra doctests are added!

Apply only trac_12438_drop_variable_of_definite_integration.patch



---

archive/issue_comments_183057.json:
```json
{
    "body": "<a id='comment:12'></a>\nFixed \"OUPUT\" typo.",
    "created_at": "2012-05-25T16:26:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183057",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:12'></a>
Fixed "OUPUT" typo.



---

archive/issue_comments_183058.json:
```json
{
    "body": "<a id='comment:13'></a>\nThe most recent patch applies with fuzz to sage-5.0:\n\n```\nHunk #3 succeeded at 653 with fuzz 1 (offset -11 lines).\n```\nbut maybe it applies cleanly to 5.1.beta0. Relevant tests pass in `sage/calculus`, `sage/symbolic`, and `sage/functions`. I'm running a patchbot instance on it for the complete test suite.",
    "created_at": "2012-05-26T03:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183058",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:13'></a>
The most recent patch applies with fuzz to sage-5.0:

```
Hunk #3 succeeded at 653 with fuzz 1 (offset -11 lines).
```
but maybe it applies cleanly to 5.1.beta0. Relevant tests pass in `sage/calculus`, `sage/symbolic`, and `sage/functions`. I'm running a patchbot instance on it for the complete test suite.



---

archive/issue_comments_183059.json:
```json
{
    "body": "Changing reviewer from \"Karl-Dieter Crisman\" to \"Karl-Dieter Crisman, Benjamin Jones\"",
    "created_at": "2012-05-26T03:25:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183059",
    "user": "https://github.com/benjaminfjones"
}
```

Changing reviewer from "Karl-Dieter Crisman" to "Karl-Dieter Crisman, Benjamin Jones"



---

archive/issue_comments_183060.json:
```json
{
    "body": "<a id='comment:15'></a>\nBloody patchbot, I repeat:\n\nApply only trac_12438_drop_variable_of_definite_integration.patch \n\n(And I am working on 5.1.beta0, so hopefully there will be no fuzz during merging.)",
    "created_at": "2012-05-26T03:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183060",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:15'></a>
Bloody patchbot, I repeat:

Apply only trac_12438_drop_variable_of_definite_integration.patch 

(And I am working on 5.1.beta0, so hopefully there will be no fuzz during merging.)



---

archive/issue_comments_183061.json:
```json
{
    "body": "Changing reviewer from \"Karl-Dieter Crisman, Benjamin Jones\" to \"Karl-Dieter Crisman, Benjamin Jones, Douglas McNeil\"",
    "created_at": "2012-05-26T03:50:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183061",
    "user": "https://github.com/kcrisman"
}
```

Changing reviewer from "Karl-Dieter Crisman, Benjamin Jones" to "Karl-Dieter Crisman, Benjamin Jones, Douglas McNeil"



---

archive/issue_comments_183062.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [benjaminfjones](#comment%3A13):\n> The most recent patch applies with fuzz to sage-5.0:\n> \n> ```\n> Hunk #3 succeeded at 653 with fuzz 1 (offset -11 lines).\n> ```\n> but maybe it applies cleanly to 5.1.beta0. \n\nCorrect, it does.\n\nSo we're set to go?",
    "created_at": "2012-05-26T03:50:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183062",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>
Replying to [benjaminfjones](#comment%3A13):
> The most recent patch applies with fuzz to sage-5.0:
> 
> ```
> Hunk #3 succeeded at 653 with fuzz 1 (offset -11 lines).
> ```
> but maybe it applies cleanly to 5.1.beta0. 

Correct, it does.

So we're set to go?



---

archive/issue_comments_183063.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-05-26T04:12:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183063",
    "user": "https://github.com/benjaminfjones"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_183064.json:
```json
{
    "body": "<a id='comment:17'></a>\nThe 5.1.beta0 patchbot says tests pass, so I think we're good here. Positive review.",
    "created_at": "2012-05-26T04:12:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183064",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:17'></a>
The 5.1.beta0 patchbot says tests pass, so I think we're good here. Positive review.



---

archive/issue_comments_183065.json:
```json
{
    "body": "Attachment [trac_12438_drop_variable_of_definite_integration.patch](tarball://root/attachments/some-uuid/ticket12438/trac_12438_drop_variable_of_definite_integration.patch) by @novoselt created at 2012-05-28 21:23:16\n\nApply this patch only",
    "created_at": "2012-05-28T21:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183065",
    "user": "https://github.com/novoselt"
}
```

Attachment [trac_12438_drop_variable_of_definite_integration.patch](tarball://root/attachments/some-uuid/ticket12438/trac_12438_drop_variable_of_definite_integration.patch) by @novoselt created at 2012-05-28 21:23:16

Apply this patch only



---

archive/issue_comments_183066.json:
```json
{
    "body": "<a id='comment:18'></a>\n#2607 was fixing the same TABs as this ticket, I've rebased this one on top of that one. No code was changed, so I'll leave it at positive review.",
    "created_at": "2012-05-28T21:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183066",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:18'></a>
#2607 was fixing the same TABs as this ticket, I've rebased this one on top of that one. No code was changed, so I'll leave it at positive review.



---

archive/issue_comments_183067.json:
```json
{
    "body": "Dependencies: #2607",
    "created_at": "2012-05-28T21:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183067",
    "user": "https://github.com/novoselt"
}
```

Dependencies: #2607



---

archive/issue_comments_183068.json:
```json
{
    "body": "Changing dependencies from \"#2607\" to \"\"",
    "created_at": "2012-06-01T23:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183068",
    "user": "https://github.com/novoselt"
}
```

Changing dependencies from "#2607" to ""



---

archive/issue_comments_183069.json:
```json
{
    "body": "<a id='comment:19'></a>\nI've realized that since I've just removed conflicting hunks this patch has become independent of #2607.",
    "created_at": "2012-06-01T23:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183069",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:19'></a>
I've realized that since I've just removed conflicting hunks this patch has become independent of #2607.



---

archive/issue_events_039256.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-05T11:51:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12438#event-39256"
}
```



---

archive/issue_comments_183070.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-06-05T11:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183070",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_183071.json:
```json
{
    "body": "Merged: sage-5.1.beta3",
    "created_at": "2012-06-05T11:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183071",
    "user": "https://github.com/jdemeyer"
}
```

Merged: sage-5.1.beta3



---

archive/issue_comments_183072.json:
```json
{
    "body": "<a id='comment:21'></a>\nOn a related note, Sage has gone the *other* way on limits.\n\n```\n$ Downloads/sage-4.8/sage\n----------------------------------------------------------------------\n----------------------------------------------------------------------\nsage: f(x) = x^2\nsage: limit(f,x=1)\nx |--> 1\nsage: limit(f(x),x=1)\n1\nsage: \nExiting Sage (CPU time 0m1.15s, Wall time 0m10.57s).\n$ Desktop/sage-4.4.4-mcbc/sage\n----------------------------------------------------------------------\n----------------------------------------------------------------------\nLoading Sage library. Current Mercurial branch is: hackbranch\nsage: f(x) = x^2\nsage: limit(f,x=1)\n1\nsage: limit(f(x),x=1)\n1\n```\nThis seems bad, so I've opened #13221 for that.\n| Sage Version 4.8, Release Date: 2012-01-20                         |\n| Type notebook() for the GUI, and license() for information.        |\n| Sage Version 4.4.4, Release Date: 2010-06-23                       |\n| Type notebook() for the GUI, and license() for information.        |",
    "created_at": "2012-07-10T15:24:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12438#issuecomment-183072",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:21'></a>
On a related note, Sage has gone the *other* way on limits.

```
$ Downloads/sage-4.8/sage
----------------------------------------------------------------------
----------------------------------------------------------------------
sage: f(x) = x^2
sage: limit(f,x=1)
x |--> 1
sage: limit(f(x),x=1)
1
sage: 
Exiting Sage (CPU time 0m1.15s, Wall time 0m10.57s).
$ Desktop/sage-4.4.4-mcbc/sage
----------------------------------------------------------------------
----------------------------------------------------------------------
Loading Sage library. Current Mercurial branch is: hackbranch
sage: f(x) = x^2
sage: limit(f,x=1)
1
sage: limit(f(x),x=1)
1
```
This seems bad, so I've opened #13221 for that.
| Sage Version 4.8, Release Date: 2012-01-20                         |
| Type notebook() for the GUI, and license() for information.        |
| Sage Version 4.4.4, Release Date: 2010-06-23                       |
| Type notebook() for the GUI, and license() for information.        |
