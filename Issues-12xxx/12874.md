# Issue 12874: Recognition of Comparability graphs and Permutation graphs

archive/issues_012702.json:
```json
{
    "body": "This ticket is a bit large, but everything inside is related. Here is what it does :\n\n* Creates a module graph/comparability.pyx whose purpose is to contain everything related to comparability graphs, and to permutation graphs (which are comparability graphs).\n* Implements two recognition algorithms for comparability graphs, the first one being a greedy algorithm and the second an integer linear program, made to check the results from the first one\n* Adds a ``is_transivite`` function to DiGraph objects\n* Updated Graph.is_bipartite so that it can return negative certificates (odd cycles)\n* Add a PermutationGraph constructor, that lets one build a Permutation graph from a permutation\n* A crazy amount of documentation\n\nA few notes :\n* This patch may be long, but I tried to make it very clean. In particular, results are checked many, many times before being returned, and there are two versions of the main algorithm (is_comparability) so that we can easily track wrong results that may (in some magical way) get through the cracks.\n\n* This ticket depends on #12872, which I wrote while working on this patch.\n\n* My first intent was to write a *real implementation* for this recognition algorithm, and use the greedy one to check the results. As writing this greedy algorithm was already not that straightforward (and I also had to learn how it worked from a few papers) I did not write a \"more efficient version\", and this implementation is pretty \"lose\" with ressources. I think this can be done in a later patch, considering that the results from the greedy algorithms can already be checked by the Linear Program, and that the present patch is already large enough `:-)`\n\nHeeeeeeeeeeeeeere it is !!!!!!!!!\n\nOh, and funnily enough the OEIS does not contain the \"number of comparability graphs on n vertices\" or the \"number of permutation graphs on n vertices\". And there does not seem to be any code on internet to do that kind of work.\n\n**Reviewer:** David Coudert\n\n**Author:** Nathann Cohen\n\n**Merged:** sage-5.1.beta2\n\n**Dependencies:** #12816, #12872\n\nIssue created by migration from https://trac.sagemath.org/ticket/12874\n\n",
    "closed_at": "2012-06-02T12:15:15Z",
    "created_at": "2012-04-24T15:43:57Z",
    "labels": [
        "component: graph theory",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.1",
    "title": "Recognition of Comparability graphs and Permutation graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12874",
    "user": "https://github.com/nathanncohen"
}
```
This ticket is a bit large, but everything inside is related. Here is what it does :

* Creates a module graph/comparability.pyx whose purpose is to contain everything related to comparability graphs, and to permutation graphs (which are comparability graphs).
* Implements two recognition algorithms for comparability graphs, the first one being a greedy algorithm and the second an integer linear program, made to check the results from the first one
* Adds a ``is_transivite`` function to DiGraph objects
* Updated Graph.is_bipartite so that it can return negative certificates (odd cycles)
* Add a PermutationGraph constructor, that lets one build a Permutation graph from a permutation
* A crazy amount of documentation

A few notes :
* This patch may be long, but I tried to make it very clean. In particular, results are checked many, many times before being returned, and there are two versions of the main algorithm (is_comparability) so that we can easily track wrong results that may (in some magical way) get through the cracks.

* This ticket depends on #12872, which I wrote while working on this patch.

* My first intent was to write a *real implementation* for this recognition algorithm, and use the greedy one to check the results. As writing this greedy algorithm was already not that straightforward (and I also had to learn how it worked from a few papers) I did not write a "more efficient version", and this implementation is pretty "lose" with ressources. I think this can be done in a later patch, considering that the results from the greedy algorithms can already be checked by the Linear Program, and that the present patch is already large enough `:-)`

Heeeeeeeeeeeeeere it is !!!!!!!!!

Oh, and funnily enough the OEIS does not contain the "number of comparability graphs on n vertices" or the "number of permutation graphs on n vertices". And there does not seem to be any code on internet to do that kind of work.

**Reviewer:** David Coudert

**Author:** Nathann Cohen

**Merged:** sage-5.1.beta2

**Dependencies:** #12816, #12872

Issue created by migration from https://trac.sagemath.org/ticket/12874





---

archive/issue_comments_180643.json:
```json
{
    "body": "**Dependencies:** 12872",
    "created_at": "2012-04-25T20:32:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180643",
    "user": "https://github.com/nathanncohen"
}
```

**Dependencies:** 12872



---

archive/issue_comments_180644.json:
```json
{
    "body": "**Author:** Nathann Cohen",
    "created_at": "2012-04-25T20:32:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180644",
    "user": "https://github.com/nathanncohen"
}
```

**Author:** Nathann Cohen



---

archive/issue_comments_180645.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,19 @@\n+This ticket is a bit large, but everything inside is related. Here is what it does :\n \n+* Creates a module graph/comparability.pyx whose purpose is to contain everything related to comparability graphs, and to permutation graphs (which are comparability graphs).\n+* Implements two recognition algorithms for comparability graphs, the first one being a greedy algorithm and the second an integer linear program, made to check the results from the first one\n+* Adds a ``is_transivite`` function to DiGraph objects\n+* Updated Graph.is_bipartite so that it can return negative certificates (odd cycles)\n+* Add a PermutationGraph constructor, that lets one build a Permutation graph from a permutation\n+* A crazy amount of documentation\n+\n+A few notes :\n+* This patch may be long, but I tried to make it very clean. In particular, results are checked many, many times before being returned, and there are two versions of the main algorithm (is_comparability) so that we can easily track wrong results that may (in some magical way) get through the cracks.\n+\n+* This ticket depends on #12872, which I wrote while working on this patch.\n+\n+* My first intent was to write a *real implementation* for this recognition algorithm, and use the greedy one to check the results. As writing this greedy algorithm was already not that straightforward (and I also had to learn how it worked from a few papers) I did not write a \"more efficient version\", and this implementation is pretty \"lose\" with ressources. I think this can be done in a later patch, considering that the results from the greedy algorithms can already be checked by the Linear Program, and that the present patch is already large enough `:-)`\n+\n+Heeeeeeeeeeeeeere it is !!!!!!!!!\n+\n+Oh, and funnily enough the OEIS does not contain the \"number of comparability graphs on n vertices\" or the \"number of permutation graphs on n vertices\". And there does not seem to be any code on internet to do that kind of work.\n``````\n",
    "created_at": "2012-04-25T20:32:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180645",
    "user": "https://github.com/nathanncohen"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,19 @@
+This ticket is a bit large, but everything inside is related. Here is what it does :
 
+* Creates a module graph/comparability.pyx whose purpose is to contain everything related to comparability graphs, and to permutation graphs (which are comparability graphs).
+* Implements two recognition algorithms for comparability graphs, the first one being a greedy algorithm and the second an integer linear program, made to check the results from the first one
+* Adds a ``is_transivite`` function to DiGraph objects
+* Updated Graph.is_bipartite so that it can return negative certificates (odd cycles)
+* Add a PermutationGraph constructor, that lets one build a Permutation graph from a permutation
+* A crazy amount of documentation
+
+A few notes :
+* This patch may be long, but I tried to make it very clean. In particular, results are checked many, many times before being returned, and there are two versions of the main algorithm (is_comparability) so that we can easily track wrong results that may (in some magical way) get through the cracks.
+
+* This ticket depends on #12872, which I wrote while working on this patch.
+
+* My first intent was to write a *real implementation* for this recognition algorithm, and use the greedy one to check the results. As writing this greedy algorithm was already not that straightforward (and I also had to learn how it worked from a few papers) I did not write a "more efficient version", and this implementation is pretty "lose" with ressources. I think this can be done in a later patch, considering that the results from the greedy algorithms can already be checked by the Linear Program, and that the present patch is already large enough `:-)`
+
+Heeeeeeeeeeeeeere it is !!!!!!!!!
+
+Oh, and funnily enough the OEIS does not contain the "number of comparability graphs on n vertices" or the "number of permutation graphs on n vertices". And there does not seem to be any code on internet to do that kind of work.
``````




---

archive/issue_comments_180646.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2012-04-25T20:32:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180646",
    "user": "https://github.com/nathanncohen"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_180647.json:
```json
{
    "body": "**Changing dependencies** from \"12872\" to \"#12872\".",
    "created_at": "2012-04-28T08:22:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180647",
    "user": "https://github.com/dcoudert"
}
```

**Changing dependencies** from "12872" to "#12872".



---

archive/issue_comments_180648.json:
```json
{
    "body": "<a id='comment:2'></a>\nI have the following issues when installing the patch with 5.0.beta14\n\n```\ncompote:~/Soft/sage-5.0.beta14/devel/sage-myclone> more sage/graphs/digraph.py.rej \n--- digraph.py\n+++ digraph.py\n@@ -69,6 +69,7 @@\n     :delim: |\n \n     :meth:`~DiGraph.is_directed_acyclic` | Returns whether the digraph is acyclic or not.\n+    :meth:`~DiGraph.is_transitive` | Returns whether the digraph is transitive or not.\n     :meth:`~DiGraph.level_sets` | Returns the level set decomposition of the digraph.\n     :meth:`~DiGraph.topological_sort_generator` | Returns a list of all topological sorts of the digraph if it is acyclic\n     :meth:`~DiGraph.topological_sort` | Returns a topological sort of the digraph if it is acyclic\ncompote:~/Soft/sage-5.0.beta14/devel/sage-myclone> more sage/graphs/pq_trees.py.rej\n--- pq_trees.py\n+++ pq_trees.py\n@@ -4,8 +4,20 @@\n This module implements PQ-Trees and methods to help recognise Interval\n Graphs. It is used by :meth:`is_interval\n <sage.graphs.generic_graph.GenericGraph.is_interval>`.\n+\n+Author:\n+\n+- Nathann Cohen\n+\n \"\"\"\n \n+################################################################################\n+#      Copyright (C) 2012 Nathann Cohen <nathann.cohen@gail.com>               #\n+#                                                                              #\n+# Distributed  under  the  terms  of  the  GNU  General  Public  License (GPL) #\n+#                         http://www.gnu.org/licenses/                         #\n+################################################################################\n+\n # Constants, to make the code more readable\n \n FULL           = 2\n```\n\nAlso, the file ``distances_all_pairs.pxd`` is not part of this patch.\n\n```\ncompote:~/Soft/sage-5.0.beta14/devel/sage-myclone> ../../sage -b\n\n----------------------------------------------------------\nsage: Building and installing modified Sage library files.\n\n\nInstalling c_lib\nscons: `install' is up to date.\nUpdating Cython code....\nTraceback (most recent call last):\n  File \"setup.py\", line 830, in <module>\n    queue = compile_command_list(ext_modules, deps)\n  File \"setup.py\", line 790, in compile_command_list\n    dep_file, dep_time = deps.newest_dep(f,m)\n  File \"setup.py\", line 697, in newest_dep\n    for f in self.all_deps(filename, ext_module):\n  File \"setup.py\", line 678, in all_deps\n    for f in self.immediate_deps(filename, ext_module):\n  File \"setup.py\", line 660, in immediate_deps\n    self._deps[filename] = self.parse_deps(filename, ext_module)\n  File \"setup.py\", line 648, in parse_deps\n    raise IOError, msg\nIOError: could not find dependency sage/graphs/distances_all_pairs.pxd included in sage/graphs/comparability.pyx.\nError installing modified sage library code.\n```",
    "created_at": "2012-04-28T08:22:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180648",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:2'></a>
I have the following issues when installing the patch with 5.0.beta14

```
compote:~/Soft/sage-5.0.beta14/devel/sage-myclone> more sage/graphs/digraph.py.rej 
--- digraph.py
+++ digraph.py
@@ -69,6 +69,7 @@
     :delim: |
 
     :meth:`~DiGraph.is_directed_acyclic` | Returns whether the digraph is acyclic or not.
+    :meth:`~DiGraph.is_transitive` | Returns whether the digraph is transitive or not.
     :meth:`~DiGraph.level_sets` | Returns the level set decomposition of the digraph.
     :meth:`~DiGraph.topological_sort_generator` | Returns a list of all topological sorts of the digraph if it is acyclic
     :meth:`~DiGraph.topological_sort` | Returns a topological sort of the digraph if it is acyclic
compote:~/Soft/sage-5.0.beta14/devel/sage-myclone> more sage/graphs/pq_trees.py.rej
--- pq_trees.py
+++ pq_trees.py
@@ -4,8 +4,20 @@
 This module implements PQ-Trees and methods to help recognise Interval
 Graphs. It is used by :meth:`is_interval
 <sage.graphs.generic_graph.GenericGraph.is_interval>`.
+
+Author:
+
+- Nathann Cohen
+
 """
 
+################################################################################
+#      Copyright (C) 2012 Nathann Cohen <nathann.cohen@gail.com>               #
+#                                                                              #
+# Distributed  under  the  terms  of  the  GNU  General  Public  License (GPL) #
+#                         http://www.gnu.org/licenses/                         #
+################################################################################
+
 # Constants, to make the code more readable
 
 FULL           = 2
```

Also, the file ``distances_all_pairs.pxd`` is not part of this patch.

```
compote:~/Soft/sage-5.0.beta14/devel/sage-myclone> ../../sage -b

----------------------------------------------------------
sage: Building and installing modified Sage library files.


Installing c_lib
scons: `install' is up to date.
Updating Cython code....
Traceback (most recent call last):
  File "setup.py", line 830, in <module>
    queue = compile_command_list(ext_modules, deps)
  File "setup.py", line 790, in compile_command_list
    dep_file, dep_time = deps.newest_dep(f,m)
  File "setup.py", line 697, in newest_dep
    for f in self.all_deps(filename, ext_module):
  File "setup.py", line 678, in all_deps
    for f in self.immediate_deps(filename, ext_module):
  File "setup.py", line 660, in immediate_deps
    self._deps[filename] = self.parse_deps(filename, ext_module)
  File "setup.py", line 648, in parse_deps
    raise IOError, msg
IOError: could not find dependency sage/graphs/distances_all_pairs.pxd included in sage/graphs/comparability.pyx.
Error installing modified sage library code.
```



---

archive/issue_comments_180649.json:
```json
{
    "body": "**Reviewer:** David Coudert",
    "created_at": "2012-04-28T08:22:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180649",
    "user": "https://github.com/dcoudert"
}
```

**Reviewer:** David Coudert



---

archive/issue_comments_180650.json:
```json
{
    "body": "<a id='comment:3'></a>\nHellooooooo !!!\n\n> I have the following issues when installing the patch with 5.0.beta14\n\n\nArgggggg !! Of course, I forgot to add 12872 as a dependency !\n\n> Also, the file ``distances_all_pairs.pxd`` is not part of this patch.\n\n-_-\n\nAnd of course I removed beta13 and installed beta14 since. Well, at least this file is short. It happened once to me when I rewrote the whole GLPK backend. I sent the patch without adding the file to mercurial, and I deleted the branch. \n\nPatch updated ! `:-)`\n\nNathann",
    "created_at": "2012-04-28T08:40:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180650",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:3'></a>
Hellooooooo !!!

> I have the following issues when installing the patch with 5.0.beta14


Argggggg !! Of course, I forgot to add 12872 as a dependency !

> Also, the file ``distances_all_pairs.pxd`` is not part of this patch.

-_-

And of course I removed beta13 and installed beta14 since. Well, at least this file is short. It happened once to me when I rewrote the whole GLPK backend. I sent the patch without adding the file to mercurial, and I deleted the branch. 

Patch updated ! `:-)`

Nathann



---

archive/issue_comments_180651.json:
```json
{
    "body": "**Changing dependencies** from \"#12872\" to \"#12872, #12872\".",
    "created_at": "2012-04-28T08:40:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180651",
    "user": "https://github.com/nathanncohen"
}
```

**Changing dependencies** from "#12872" to "#12872, #12872".



---

archive/issue_comments_180652.json:
```json
{
    "body": "<a id='comment:4'></a>\nI'm now able to install the patch and all tests pass.\n\nI have a warning in docbuild:\n\n```\ndocstring of sage.graphs.comparability.is_permutation:72: WARNING: Literal block expected; none found.\n```\n\nAlso, in sage/graphs/pq_trees.py, you could put '**Authors**'.\n\nLast, I have corrected the dependencies ;-)",
    "created_at": "2012-04-28T09:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180652",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:4'></a>
I'm now able to install the patch and all tests pass.

I have a warning in docbuild:

```
docstring of sage.graphs.comparability.is_permutation:72: WARNING: Literal block expected; none found.
```

Also, in sage/graphs/pq_trees.py, you could put '**Authors**'.

Last, I have corrected the dependencies ;-)



---

archive/issue_comments_180653.json:
```json
{
    "body": "**Changing dependencies** from \"#12872, #12872\" to \"#12816, #12872\".",
    "created_at": "2012-04-28T09:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180653",
    "user": "https://github.com/dcoudert"
}
```

**Changing dependencies** from "#12872, #12872" to "#12816, #12872".



---

archive/issue_comments_180654.json:
```json
{
    "body": "<a id='comment:5'></a>\nHellooooooooo !!!\n\nOh, right. That's fixed `:-)`\n\nAnd about the bold in authors : I had a patch refused recently because of that. It was #12816, actually `:-)`\n\nNathann",
    "created_at": "2012-04-28T10:08:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180654",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
Hellooooooooo !!!

Oh, right. That's fixed `:-)`

And about the bold in authors : I had a patch refused recently because of that. It was #12816, actually `:-)`

Nathann



---

archive/issue_comments_180655.json:
```json
{
    "body": "<a id='comment:6'></a>\nI still have the same warning. Missing refresh?",
    "created_at": "2012-04-28T10:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180655",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:6'></a>
I still have the same warning. Missing refresh?



---

archive/issue_comments_180656.json:
```json
{
    "body": "<a id='comment:7'></a>\nNope O_o I increased the indentation level in the NOTE field of is_permutation, and it looks like the patch I uploaded is good. I'll give it a try on my machine again.",
    "created_at": "2012-04-28T10:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180656",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:7'></a>
Nope O_o I increased the indentation level in the NOTE field of is_permutation, and it looks like the patch I uploaded is good. I'll give it a try on my machine again.



---

archive/issue_comments_180657.json:
```json
{
    "body": "<a id='comment:8'></a>\nOk now Sphinx does not want to rebuild the doc, I have to recompile Sage. -_-\n\nNathann",
    "created_at": "2012-04-28T10:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180657",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>
Ok now Sphinx does not want to rebuild the doc, I have to recompile Sage. -_-

Nathann



---

archive/issue_comments_180658.json:
```json
{
    "body": "<a id='comment:9'></a>\nSorry about that.\n\nIn function is_comparability, you have:\n\n```\n    EXAMPLE:: \n```\nI suppose you can remove one :\n\n\nIn function is_permutation, you have:\n\n```\n        ...          break\n\n    Then with MILP::\n\n    Trying random permutations, first with the greedy algorithm::\n\n        sage: from sage.graphs.comparability import is_permutation\n```\nRemoving \"Trying random permutations, first with the greedy algorithm::\" solves the docbuild problem.\n\nApparently, indentation can also be improved in many places in the file, but I don't know how critical are the spaces before the ``sage: blah`` in examples and tests.",
    "created_at": "2012-04-28T11:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180658",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:9'></a>
Sorry about that.

In function is_comparability, you have:

```
    EXAMPLE:: 
```
I suppose you can remove one :


In function is_permutation, you have:

```
        ...          break

    Then with MILP::

    Trying random permutations, first with the greedy algorithm::

        sage: from sage.graphs.comparability import is_permutation
```
Removing "Trying random permutations, first with the greedy algorithm::" solves the docbuild problem.

Apparently, indentation can also be improved in many places in the file, but I don't know how critical are the spaces before the ``sage: blah`` in examples and tests.



---

archive/issue_comments_180659.json:
```json
{
    "body": "<a id='comment:10'></a>\nHellooooooooo !!\n\nWith this patch (without the 'trying random permutation [...]' line) I get no warning. I hope that it does not mean I should reinstall Sage again `:-D`\n\nNathann",
    "created_at": "2012-04-29T22:29:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180659",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
Hellooooooooo !!

With this patch (without the 'trying random permutation [...]' line) I get no warning. I hope that it does not mean I should reinstall Sage again `:-D`

Nathann



---

archive/issue_comments_180660.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe documentation is now build without warnings and is well displayed.\nHowever, I found some typos.\n\nIn comparability.pyx\n* \"incmparable\" -> \"incomparable\"\n* \"paralell\" -> \"parallel\"\n* \"thee two edges\" -> \"the two edges\" or \"these two edges\"\n* \"tranitive\" -> \"transitive\"\n* \"i.e\" -> \"i.e.\"\n* \"cocomparability\" -> \"co-comparability\"   (x2)\n* In the documentation, the sentence \"But the Bull graph is\" appears without \":\" at the end, but the sentence \"The 5-cycle or the Petersen Graph are not transitively orientable:\" has. This is certainly due to white space between \"But the Bull graph is\" and \"::\" in the source code.\n* \"Beware, for this implementation is unable to return negative certificates\" -> \"Beware, this implementation is unable to return negative certificates !\"\n* \"returned indeed create the expected\" -> \"returned indeed creates the expected\" ?\n\n\nSome methods have examples but no tests. Are examples handled as tests when applying tests to the module ?\n\n\nIn graph.py\n* lines 2500 - 2502 could be put in 80 cols\n* line 2514 - ... : why are your using lists that are later converted to sets? shouldn't you directly use sets ?",
    "created_at": "2012-04-30T06:54:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180660",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:11'></a>
The documentation is now build without warnings and is well displayed.
However, I found some typos.

In comparability.pyx
* "incmparable" -> "incomparable"
* "paralell" -> "parallel"
* "thee two edges" -> "the two edges" or "these two edges"
* "tranitive" -> "transitive"
* "i.e" -> "i.e."
* "cocomparability" -> "co-comparability"   (x2)
* In the documentation, the sentence "But the Bull graph is" appears without ":" at the end, but the sentence "The 5-cycle or the Petersen Graph are not transitively orientable:" has. This is certainly due to white space between "But the Bull graph is" and "::" in the source code.
* "Beware, for this implementation is unable to return negative certificates" -> "Beware, this implementation is unable to return negative certificates !"
* "returned indeed create the expected" -> "returned indeed creates the expected" ?


Some methods have examples but no tests. Are examples handled as tests when applying tests to the module ?


In graph.py
* lines 2500 - 2502 could be put in 80 cols
* line 2514 - ... : why are your using lists that are later converted to sets? shouldn't you directly use sets ?



---

archive/issue_comments_180661.json:
```json
{
    "body": "<a id='comment:12'></a>\nFixed !\n\nNathann",
    "created_at": "2012-04-30T08:34:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180661",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'></a>
Fixed !

Nathann



---

archive/issue_comments_180662.json:
```json
{
    "body": "<a id='comment:13'></a>\nIn comparability.pyx:\n* \"greedy_is_comparability\": instead of using both variables cu and cv, you could use index j in second loop and then call directly h.add_edge( (u,i), (v,j) ). OK, your choice.\n* \"greedy_is_comparability_with_certificate\": it would be nicer to use \"gg = g.copy()\" rather than \"g = g.copy()\". This is correct but... \n* is_transitive\": something is missing in the for loops since you always test the first n values of the distances array. May be a c_distances = c_distances+n?\n\nIn graph.py:\n* in the example with RandomGNP graph, I suggest to add a set_random_seed(some value you like) before. Although the probability for having a bipartite graph is extremely low, it is not null ;)\n* \"for w in self.neighbors(v)\" -> \"for w in self.neighbor_iterator(v)\" ?\n\nLast, you could remove empty lines after \"\"\".",
    "created_at": "2012-05-01T07:23:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180662",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:13'></a>
In comparability.pyx:
* "greedy_is_comparability": instead of using both variables cu and cv, you could use index j in second loop and then call directly h.add_edge( (u,i), (v,j) ). OK, your choice.
* "greedy_is_comparability_with_certificate": it would be nicer to use "gg = g.copy()" rather than "g = g.copy()". This is correct but... 
* is_transitive": something is missing in the for loops since you always test the first n values of the distances array. May be a c_distances = c_distances+n?

In graph.py:
* in the example with RandomGNP graph, I suggest to add a set_random_seed(some value you like) before. Although the probability for having a bipartite graph is extremely low, it is not null ;)
* "for w in self.neighbors(v)" -> "for w in self.neighbor_iterator(v)" ?

Last, you could remove empty lines after """.



---

archive/issue_comments_180663.json:
```json
{
    "body": "<a id='comment:14'></a>\nHellooooo !!\n\n>  * \"greedy_is_comparability\": instead of using both variables cu and cv, you could use index j in second loop and then call directly h.add_edge( (u,i), (v,j) ). OK, your choice.\n\n\nDone.\n\n>  * \"greedy_is_comparability_with_certificate\": it would be nicer to use \"gg = g.copy()\" rather than \"g = g.copy()\". This is correct but... \n\n\nI really do not think it makes any difference, but I did it anyway `:-P`\n\n>  * is_transitive\": something is missing in the for loops since you always test the first n values of the distances array. May be a c_distances = c_distances+n?\n\n\nOh my GOD `O_O;;;`\n\n> In graph.py:\n> * in the example with RandomGNP graph, I suggest to add a set_random_seed(some value you like) before. Although the probability for having a bipartite graph is extremely low, it is not null ;)\n\n\nI should always use Petersen's graph in the examples.\n\n>  * \"for w in self.neighbors(v)\" -> \"for w in self.neighbor_iterator(v)\" ?\n\n\nDone.\n\n> Last, you could remove empty lines after \"\"\". \n\n\nI only found an empty line in the last method of comparability.pyx, if that is what you had in mind I removed it.\n\nNathann",
    "created_at": "2012-05-02T09:25:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180663",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'></a>
Hellooooo !!

>  * "greedy_is_comparability": instead of using both variables cu and cv, you could use index j in second loop and then call directly h.add_edge( (u,i), (v,j) ). OK, your choice.


Done.

>  * "greedy_is_comparability_with_certificate": it would be nicer to use "gg = g.copy()" rather than "g = g.copy()". This is correct but... 


I really do not think it makes any difference, but I did it anyway `:-P`

>  * is_transitive": something is missing in the for loops since you always test the first n values of the distances array. May be a c_distances = c_distances+n?


Oh my GOD `O_O;;;`

> In graph.py:
> * in the example with RandomGNP graph, I suggest to add a set_random_seed(some value you like) before. Although the probability for having a bipartite graph is extremely low, it is not null ;)


I should always use Petersen's graph in the examples.

>  * "for w in self.neighbors(v)" -> "for w in self.neighbor_iterator(v)" ?


Done.

> Last, you could remove empty lines after """. 


I only found an empty line in the last method of comparability.pyx, if that is what you had in mind I removed it.

Nathann



---

archive/issue_comments_180664.json:
```json
{
    "body": "<a id='comment:15'></a>\nYou need a coffee ;-)\n\n> I really do not think it makes any difference, but I did it anyway `:-P`\n> \n> >  * is_transitive\": something is missing in the for loops since you always test the first n values of the distances array. May be a c_distances = c_distances+n?\n \n> \n> Oh my GOD `O_O;;;`\n\n\nWell, now there is a # in front of c_distances += n, so no difference.\n\n> > Last, you could remove empty lines after \"\"\". \n\n> \n> I only found an empty line in the last method of comparability.pyx, if that is what you had in mind I removed it.\n\n\ncheck in digraph.py, function is_transitive",
    "created_at": "2012-05-02T09:55:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180664",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:15'></a>
You need a coffee ;-)

> I really do not think it makes any difference, but I did it anyway `:-P`
> 
> >  * is_transitive": something is missing in the for loops since you always test the first n values of the distances array. May be a c_distances = c_distances+n?
 
> 
> Oh my GOD `O_O;;;`


Well, now there is a # in front of c_distances += n, so no difference.

> > Last, you could remove empty lines after """. 

> 
> I only found an empty line in the last method of comparability.pyx, if that is what you had in mind I removed it.


check in digraph.py, function is_transitive



---

archive/issue_comments_180665.json:
```json
{
    "body": "<a id='comment:16'></a>\nPatch updated again.\n\nNathann",
    "created_at": "2012-05-02T09:57:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180665",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'></a>
Patch updated again.

Nathann



---

archive/attachments_017352.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12874.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12874/trac_12874.patch",
    "created_at": "2012-05-02T13:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/dcoudert"
}
```



---

archive/issue_comments_180666.json:
```json
{
    "body": "<a id='comment:17'></a>\nAll long tests pass, the doc is built and displayed correctly, and I have no other remarks on the code.\nI give positive review.",
    "created_at": "2012-05-02T13:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180666",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:17'></a>
All long tests pass, the doc is built and displayed correctly, and I have no other remarks on the code.
I give positive review.



---

archive/issue_comments_180667.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2012-05-02T13:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180667",
    "user": "https://github.com/dcoudert"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_180668.json:
```json
{
    "body": "<a id='comment:18'></a>\nThaaaaaaaaaanks ! `:-)`\n\nNathann",
    "created_at": "2012-05-02T13:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180668",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:18'></a>
Thaaaaaaaaaanks ! `:-)`

Nathann



---

archive/issue_comments_180669.json:
```json
{
    "body": "**Merged:** sage-5.1.beta2",
    "created_at": "2012-06-02T12:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12874#issuecomment-180669",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.1.beta2



---

archive/issue_events_041260.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-02T12:15:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12874",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12874#event-41260"
}
```
