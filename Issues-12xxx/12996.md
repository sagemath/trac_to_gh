# Issue 12996: Support for one-dimensional shifts of finite type

archive/issues_012824.json:
```json
{
    "body": "Hi, as discussed with some people from the SAGE combinat group I (together with two students of mine) developed a class for subshifts of finite type which I would like to get feedback on and which could (hopefully should) be included into SAGE eventually.\n\nThe code already includes the basic features for playing around with those symbolic dynamical systems, but of course it will be extended over time. Just thought it would be nice to get some feedback on this first version right now, especially as the code is already long.\n\nApply:\n* [attachment:trac_12996_SFT_final_version-MHS.patch]\n* [attachment:trac_12996_SFT_addressed_final_comments-MHS.patch]\n* [attachment:trac_12996_SFT_ouput_shortened-MHS.patch]\n* [attachment:trac12996_SFT_output_modified_methods_renamed-MHS.patch]\n* [attachment:trac_12996_SFT_solved_warnings-MHS.patch]\n\n\n**Assignee:** sage-combinat\n\n**CC:**  tmonteil @videlec tjolivet @seblabbe\n\n**Keywords:** symbolic dynamics\n\n**Branch:** [public/12996](https://github.com/sagemath/sagetrac-mirror/tree/public/12996)\n\n**Commit:** [5b28e76952ecbda35d49eb6fd36ac50293b7cff2](https://github.com/sagemath/sagetrac-mirror/commit/5b28e76952ecbda35d49eb6fd36ac50293b7cff2)\n\n**Author:** Michael Schraudner\n\n**Status:** needs_work\n\nIssue created by migration from https://trac.sagemath.org/ticket/12996\n\n",
    "created_at": "2012-05-23T20:31:18Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "Support for one-dimensional shifts of finite type",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12996",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```
Hi, as discussed with some people from the SAGE combinat group I (together with two students of mine) developed a class for subshifts of finite type which I would like to get feedback on and which could (hopefully should) be included into SAGE eventually.

The code already includes the basic features for playing around with those symbolic dynamical systems, but of course it will be extended over time. Just thought it would be nice to get some feedback on this first version right now, especially as the code is already long.

Apply:
* [attachment:trac_12996_SFT_final_version-MHS.patch]
* [attachment:trac_12996_SFT_addressed_final_comments-MHS.patch]
* [attachment:trac_12996_SFT_ouput_shortened-MHS.patch]
* [attachment:trac12996_SFT_output_modified_methods_renamed-MHS.patch]
* [attachment:trac_12996_SFT_solved_warnings-MHS.patch]


**Assignee:** sage-combinat

**CC:**  tmonteil @videlec tjolivet @seblabbe

**Keywords:** symbolic dynamics

**Branch:** [public/12996](https://github.com/sagemath/sagetrac-mirror/tree/public/12996)

**Commit:** [5b28e76952ecbda35d49eb6fd36ac50293b7cff2](https://github.com/sagemath/sagetrac-mirror/commit/5b28e76952ecbda35d49eb6fd36ac50293b7cff2)

**Author:** Michael Schraudner

**Status:** needs_work

Issue created by migration from https://trac.sagemath.org/ticket/12996





---

archive/issue_comments_196365.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2012-05-23T20:38:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196365",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_196366.json:
```json
{
    "body": "**Changing keywords** from \"symblic dynamics\" to \"symbolic dynamics\".",
    "created_at": "2012-05-23T20:38:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196366",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

**Changing keywords** from "symblic dynamics" to "symbolic dynamics".



---

archive/issue_comments_196367.json:
```json
{
    "body": "<a id='comment:2'></a>\nHi Michael,\n\ni got the following error : \n\nIndentationError: unindent does not match any outer indentation level (finite_type_shift.py, line 2415)\n\nOne space is missing at line 2415. After fixing this, the tests do pass.\n\nAlso, don't forget to add yourself on the first page of the trac.",
    "created_at": "2012-05-23T20:55:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196367",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:2'></a>
Hi Michael,

i got the following error : 

IndentationError: unindent does not match any outer indentation level (finite_type_shift.py, line 2415)

One space is missing at line 2415. After fixing this, the tests do pass.

Also, don't forget to add yourself on the first page of the trac.



---

archive/issue_comments_196368.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2012-05-23T20:55:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196368",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_196369.json:
```json
{
    "body": "<a id='comment:4'></a>\nYou often wrote\n\n```\narbitrary text:\n::\n```\nuse\n\n```\narbitrary text::\n```\ninstead (notice the colons).\n\nYou need to add a proper commit message to the patch.",
    "created_at": "2012-05-23T21:01:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196369",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:4'></a>
You often wrote

```
arbitrary text:
::
```
use

```
arbitrary text::
```
instead (notice the colons).

You need to add a proper commit message to the patch.



---

archive/attachments_017549.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac12996_initial.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12996/trac12996_initial.patch",
    "created_at": "2012-05-23T21:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```



---

archive/issue_comments_196370.json:
```json
{
    "body": "first version of a class providing support for one-dimensional shifts of finite type",
    "created_at": "2012-05-23T21:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196370",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

first version of a class providing support for one-dimensional shifts of finite type



---

archive/issue_comments_196371.json:
```json
{
    "body": "<a id='comment:5'></a>\nFixed the indentation error on line 2415.\nChanged all the :: issues mentioned by aapitzsch",
    "created_at": "2012-05-23T21:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196371",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

<a id='comment:5'></a>
Fixed the indentation error on line 2415.
Changed all the :: issues mentioned by aapitzsch



---

archive/issue_comments_196372.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2012-05-23T21:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196372",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_196373.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2012-05-23T22:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196373",
    "user": "https://github.com/seblabbe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_196374.json:
```json
{
    "body": "<a id='comment:7'></a>\nHi,\n\nI looked very quickly at the code on a friend's computer, and suggest to chqnge the code of the method `entropy` from:\n\n```python\nif logarit == True:\n    if self._is_empty:\n        return -Infinity\n    else:\n        return log(max([x for x in self._matrix.eigenvalues()\n                          if x in RR]))\nelif logarit == False:\n    if self._is_empty:\n        return 0\n    else:\n        return max([x for x in self._matrix.eigenvalues() if x in RR])\nelse:\n    raise ValueError(\"logarit must be either True or False\")\n```\n\nto:\n\n```python\nif self._is_empty:\n    if logarit:\n        return -Infinity\n    else:\n        return 0\nelse:\n    M = max([x for x in self._matrix.eigenvalues() if x in RR])\n    if logarit:\n        return log(M)\n    else:\n        return M\n```\n\nThis is simply an example to show how to deal with conditions and booleans. Also, in this case, the value error was not necessary since python will return an error if logarith does not evaluate to a bool.",
    "created_at": "2012-05-23T22:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196374",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:7'></a>
Hi,

I looked very quickly at the code on a friend's computer, and suggest to chqnge the code of the method `entropy` from:

```python
if logarit == True:
    if self._is_empty:
        return -Infinity
    else:
        return log(max([x for x in self._matrix.eigenvalues()
                          if x in RR]))
elif logarit == False:
    if self._is_empty:
        return 0
    else:
        return max([x for x in self._matrix.eigenvalues() if x in RR])
else:
    raise ValueError("logarit must be either True or False")
```

to:

```python
if self._is_empty:
    if logarit:
        return -Infinity
    else:
        return 0
else:
    M = max([x for x in self._matrix.eigenvalues() if x in RR])
    if logarit:
        return log(M)
    else:
        return M
```

This is simply an example to show how to deal with conditions and booleans. Also, in this case, the value error was not necessary since python will return an error if logarith does not evaluate to a bool.



---

archive/issue_comments_196375.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2012-05-24T05:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196375",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_196376.json:
```json
{
    "body": "Taken care of slabbe's comment (entropy method and boolean handling)",
    "created_at": "2012-05-26T23:16:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196376",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

Taken care of slabbe's comment (entropy method and boolean handling)



---

archive/attachments_017550.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac12996_initial_v1.1.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12996/trac12996_initial_v1.1.patch",
    "created_at": "2012-07-10T08:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/videlec"
}
```



---

archive/issue_comments_196377.json:
```json
{
    "body": "<a id='comment:9'></a>\nI get a warning while building the doc\n\n```\n/opt/sage-5.1.rc1/devel/sage/doc/en/reference/dynamics.rst:4: WARNING: toctree contains reference to nonexisting document u'sage/dynamics/symbolic/finite_type_shift'\n```\ndoes it work for you?",
    "created_at": "2012-07-10T08:33:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196377",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
I get a warning while building the doc

```
/opt/sage-5.1.rc1/devel/sage/doc/en/reference/dynamics.rst:4: WARNING: toctree contains reference to nonexisting document u'sage/dynamics/symbolic/finite_type_shift'
```
does it work for you?



---

archive/issue_comments_196378.json:
```json
{
    "body": "<a id='comment:10'></a>\nHi,\n\nI also get doc building warnings, which (as usual) are due to some minor formatting errors.\n\nOtherwise all the tests pass on my sage 5.0.1.\n\nI've played quite a lot with the ``SFT`` class, I found it very usable and found no bugs. Thanks!",
    "created_at": "2012-07-10T08:53:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196378",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```

<a id='comment:10'></a>
Hi,

I also get doc building warnings, which (as usual) are due to some minor formatting errors.

Otherwise all the tests pass on my sage 5.0.1.

I've played quite a lot with the ``SFT`` class, I found it very usable and found no bugs. Thanks!



---

archive/issue_comments_196379.json:
```json
{
    "body": "<a id='comment:11'></a>\nHi, thanks for the comments.\n\nSo what do I have to do now? How can I get rid of the doc build warnings? What else is needed to get a positive review?\n\n\nReplying to [tjolivet](#comment%3A10):\n> Hi,\n> \n> I also get doc building warnings, which (as usual) are due to some minor formatting errors.\n> \n> Otherwise all the tests pass on my sage 5.0.1.\n> \n> I've played quite a lot with the ``SFT`` class, I found it very usable and found no bugs. Thanks!\n",
    "created_at": "2012-07-28T23:59:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196379",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

<a id='comment:11'></a>
Hi, thanks for the comments.

So what do I have to do now? How can I get rid of the doc build warnings? What else is needed to get a positive review?


Replying to [tjolivet](#comment%3A10):
> Hi,
> 
> I also get doc building warnings, which (as usual) are due to some minor formatting errors.
> 
> Otherwise all the tests pass on my sage 5.0.1.
> 
> I've played quite a lot with the ``SFT`` class, I found it very usable and found no bugs. Thanks!




---

archive/issue_comments_196380.json:
```json
{
    "body": "<a id='comment:12'></a>\n> So what do I have to do now? How can I get rid of the doc build warnings? \n\n\nHow many warnings do you get when building the documentation ? You need to fix all of them. That being said, the warning are not always self-expaining...\n\n```\nsage -b && sage -docbuild reference html\n```\n\nAfter taking a look at the patch, I believe many of the warning are of the same type. Indeed, an empty line is needed before any enumeration. Instead of\n\n```\n\t    - ``format`` - (default: 'edge') this flag selects one of two possible \n\t      representations for the SFT: \n\t        - 'vertex' - a representation of the SFT as a vertex shift \n \t        - 'edge' - a representation of the SFT as an edge shift \n\t      If this parameter is not provided in the constructor the 'edge' \n\t      representation is chosen by default. \n```\n\nyou need to write\n\n```\n\t    - ``format`` - (default: 'edge') this flag selects one of two possible \n\t      representations for the SFT: \n\n\t        - 'vertex' - a representation of the SFT as a vertex shift \n \t        - 'edge' - a representation of the SFT as an edge shift \n\t      If this parameter is not provided in the constructor the 'edge' \n\t      representation is chosen by default. \n```\n\nHow many warnings do you get when you add those empty lines before every enumeration?",
    "created_at": "2012-07-31T18:25:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196380",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:12'></a>
> So what do I have to do now? How can I get rid of the doc build warnings? 


How many warnings do you get when building the documentation ? You need to fix all of them. That being said, the warning are not always self-expaining...

```
sage -b && sage -docbuild reference html
```

After taking a look at the patch, I believe many of the warning are of the same type. Indeed, an empty line is needed before any enumeration. Instead of

```
	    - ``format`` - (default: 'edge') this flag selects one of two possible 
	      representations for the SFT: 
	        - 'vertex' - a representation of the SFT as a vertex shift 
 	        - 'edge' - a representation of the SFT as an edge shift 
	      If this parameter is not provided in the constructor the 'edge' 
	      representation is chosen by default. 
```

you need to write

```
	    - ``format`` - (default: 'edge') this flag selects one of two possible 
	      representations for the SFT: 

	        - 'vertex' - a representation of the SFT as a vertex shift 
 	        - 'edge' - a representation of the SFT as an edge shift 
	      If this parameter is not provided in the constructor the 'edge' 
	      representation is chosen by default. 
```

How many warnings do you get when you add those empty lines before every enumeration?



---

archive/issue_comments_196381.json:
```json
{
    "body": "<a id='comment:13'></a>\nHey slabbe, thanks for the comment. I tried it, but still get some docbuild warnings, see below. It appears there are empty lines missing also after certain blocks, but I dont know exactly where.\n\nIs there any way to see where exactly they are produced? the numbers seem not to match line numbers in the .py file. Is there any good reference for sphinx or the syntax I should use for SAGE to build the doc without warnings?\n\nVery annoying this sphinx thing!\n\nAny comment very welcome. Thanks.\nMHS\n\n\nsphinx-build -b html -d /usr/sage-4.8/devel/sage/doc/output/doctrees/en/reference    /usr/sage-4.8/devel/sage/doc/en/reference /usr/sage-4.8/devel/sage/doc/output/html/en/reference\n\nRunning Sphinx v1.1.2\n\nloading pickled environment... done\n\nbuilding [html]: targets for 1 source files that are out of date\n\nupdating environment: 0 added, 1 changed, 0 removed\n\nreading sources... [100%] sage/dynamics/symbolic/finite_type_shift\n\n/usr/sage-4.8/local/lib/python2.6/site-packages/sage/dynamics/symbolic/finite_type_shift.py:docstring of sage.dynamics.symbolic.finite_type_shift.SFT.bowen_franks_group:143: WARNING: Inline substitution_reference start-string without end-string.\n\n/usr/sage-4.8/local/lib/python2.6/site-packages/sage/dynamics/symbolic/finite_type_shift.py:docstring of sage.dynamics.symbolic.finite_type_shift.SFT.draw_graph:14: WARNING: Inline strong start-string without end-string.\n\nlooking for now-outdated files... none found\n\npickling environment... done\n\nchecking consistency... /usr/sage-4.8/devel/sage/doc/en/reference/sage/dynamics/symbolic/finite_type_subshift.rst:: WARNING: document isn't included in any toctree\n\ndone\n\npreparing documents... done\n\nwriting output... [ 33%] dynamics\n\nwriting output... [ 66%] index\n\nwriting output... [100%] sage/dynamics/symbolic/finite_type_shift",
    "created_at": "2012-08-01T04:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196381",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

<a id='comment:13'></a>
Hey slabbe, thanks for the comment. I tried it, but still get some docbuild warnings, see below. It appears there are empty lines missing also after certain blocks, but I dont know exactly where.

Is there any way to see where exactly they are produced? the numbers seem not to match line numbers in the .py file. Is there any good reference for sphinx or the syntax I should use for SAGE to build the doc without warnings?

Very annoying this sphinx thing!

Any comment very welcome. Thanks.
MHS


sphinx-build -b html -d /usr/sage-4.8/devel/sage/doc/output/doctrees/en/reference    /usr/sage-4.8/devel/sage/doc/en/reference /usr/sage-4.8/devel/sage/doc/output/html/en/reference

Running Sphinx v1.1.2

loading pickled environment... done

building [html]: targets for 1 source files that are out of date

updating environment: 0 added, 1 changed, 0 removed

reading sources... [100%] sage/dynamics/symbolic/finite_type_shift

/usr/sage-4.8/local/lib/python2.6/site-packages/sage/dynamics/symbolic/finite_type_shift.py:docstring of sage.dynamics.symbolic.finite_type_shift.SFT.bowen_franks_group:143: WARNING: Inline substitution_reference start-string without end-string.

/usr/sage-4.8/local/lib/python2.6/site-packages/sage/dynamics/symbolic/finite_type_shift.py:docstring of sage.dynamics.symbolic.finite_type_shift.SFT.draw_graph:14: WARNING: Inline strong start-string without end-string.

looking for now-outdated files... none found

pickling environment... done

checking consistency... /usr/sage-4.8/devel/sage/doc/en/reference/sage/dynamics/symbolic/finite_type_subshift.rst:: WARNING: document isn't included in any toctree

done

preparing documents... done

writing output... [ 33%] dynamics

writing output... [ 66%] index

writing output... [100%] sage/dynamics/symbolic/finite_type_shift



---

archive/issue_comments_196382.json:
```json
{
    "body": "doc errors fixing",
    "created_at": "2012-08-01T09:14:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196382",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```

doc errors fixing



---

archive/attachments_017551.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "12996-docfix-tj.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12996/12996-docfix-tj.patch",
    "created_at": "2012-08-01T09:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```



---

archive/issue_comments_196383.json:
```json
{
    "body": "<a id='comment:14'></a>\nHi, I uploaded a patch which fixes the 18 docbuild errors/warnings I had on **my** machine (I hope it works on other systems as well). These were quite nasty to find, it can drive one crazy.\n\nThe most common were : no blank line after at the end of a \"-\" list of items.\n\nThere was also the special character sequence that consists of two concatenated \"*\", which placed alone in text caused problems.\n\nI fixed a few other things as well.\n\nHaving used the patch and analysed it I'd be ready to give it a positive review.\n\nAlso, one of the most useful and not-too-long-to-implement would be state splittings/amalgamations which are very easy to program using matrix line/columns operations (already in Sage :p).",
    "created_at": "2012-08-01T09:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196383",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```

<a id='comment:14'></a>
Hi, I uploaded a patch which fixes the 18 docbuild errors/warnings I had on **my** machine (I hope it works on other systems as well). These were quite nasty to find, it can drive one crazy.

The most common were : no blank line after at the end of a "-" list of items.

There was also the special character sequence that consists of two concatenated "*", which placed alone in text caused problems.

I fixed a few other things as well.

Having used the patch and analysed it I'd be ready to give it a positive review.

Also, one of the most useful and not-too-long-to-implement would be state splittings/amalgamations which are very easy to program using matrix line/columns operations (already in Sage :p).



---

archive/issue_comments_196384.json:
```json
{
    "body": "<a id='comment:15'></a>\n> Is there any way to see where exactly they are produced? the numbers seem not to match line numbers in the .py file. Is there any good reference for sphinx or the syntax I should use for SAGE to build the doc without warnings?\n> \n> Very annoying this sphinx thing!\n\n\nYes... it is. The number refers to the line number inside each doctring, but you don't know which... By chance, we write documentation almost always the same way and there are few rules to learn. Here is what I suggest. You first read\n\nhttp://docutils.sourceforge.net/docs/user/rst/quickref.html\n\nThen, you practice yourself with the script `SAGE_ROOT/local/bin/rst2html.py`\n\nFor example, you copy a doctring between `r\"\"\"` and `\"\"\"` of your file into a file `fichier.rst` like this one:\n\n```\nINPUT: \n\n- ``init_obj`` - (default: None) can be any of the following: \n    - a directed (multi)graph \n    - a square matrix with non-negative integer entries \n    - a list of forbidden words (over some alphabet) either given as \n        - a list of strings (with or without symbol separators), e.g. \n          ['11', '123', '4'] (no separator) or ['1.1', '1.2.3', '4'] \n          ('.' used as separator) \n        - a list of lists containing elements of the alphabet, e.g. \n          [[1, 1], [1, 2, 3], [4]] or [['a', 'a'], ['a', 'b', 'b']] \n        - a list of instances of the SAGE class Words (over the alphabet), \n          e.g. [Word(\"11\"), Word([\"1\", \"2\", \"3\"]), Word(\"4\")] \n  If this parameter is not provided the full-shift over the specified \n  alphabet will be created. If neither this parameter nor an alphabet \n  is given the empty shift will be created. \n\n- ``alph`` - (default: None) a list of symbols (the alphabet) used in the \n  definition of the SFT. If this parameter is not provided a standard \n  alphabet will be created (whenever possible) from the ``init_obj``. The \n  elements of the alphabet can be general SAGE objects which do not \n  contain the substring ``symb_sep`` in their string representation. \n  Nevertheless it is preferable to use symbols which are either \n  non-negative integers or short strings (e.g. single letters). \n\n  The alphabet is not allowed to contain repetitions (literal copies as \n  well as symbols whose string representations do coincide) and whenever \n  its elements have distinct lengths the use of ``symb_sep`` is strongly \n  advised. We also highly recommend the use of unambiguous alphabets! \n```\n\nThen, you call the following command on it :\n\n```\n$ ~/Applications/sage-5.2/local/bin/rst2html.py fichier.rst fichier.html\nfichier.rst:14: (WARNING/2) Definition list ends without a blank line; unexpected unindent.\n```\n\nNow, the number 14 refers really to the line 14 in the file fichier.rst. You may also open the html file to see where is the warning :\n\n```\n$ open fichier.html\n```\n\nYou may also copy and paste docstring into this website I just found and never used before :\n\nhttp://rst.ninjs.org/",
    "created_at": "2012-08-01T13:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196384",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:15'></a>
> Is there any way to see where exactly they are produced? the numbers seem not to match line numbers in the .py file. Is there any good reference for sphinx or the syntax I should use for SAGE to build the doc without warnings?
> 
> Very annoying this sphinx thing!


Yes... it is. The number refers to the line number inside each doctring, but you don't know which... By chance, we write documentation almost always the same way and there are few rules to learn. Here is what I suggest. You first read

http://docutils.sourceforge.net/docs/user/rst/quickref.html

Then, you practice yourself with the script `SAGE_ROOT/local/bin/rst2html.py`

For example, you copy a doctring between `r"""` and `"""` of your file into a file `fichier.rst` like this one:

```
INPUT: 

- ``init_obj`` - (default: None) can be any of the following: 
    - a directed (multi)graph 
    - a square matrix with non-negative integer entries 
    - a list of forbidden words (over some alphabet) either given as 
        - a list of strings (with or without symbol separators), e.g. 
          ['11', '123', '4'] (no separator) or ['1.1', '1.2.3', '4'] 
          ('.' used as separator) 
        - a list of lists containing elements of the alphabet, e.g. 
          [[1, 1], [1, 2, 3], [4]] or [['a', 'a'], ['a', 'b', 'b']] 
        - a list of instances of the SAGE class Words (over the alphabet), 
          e.g. [Word("11"), Word(["1", "2", "3"]), Word("4")] 
  If this parameter is not provided the full-shift over the specified 
  alphabet will be created. If neither this parameter nor an alphabet 
  is given the empty shift will be created. 

- ``alph`` - (default: None) a list of symbols (the alphabet) used in the 
  definition of the SFT. If this parameter is not provided a standard 
  alphabet will be created (whenever possible) from the ``init_obj``. The 
  elements of the alphabet can be general SAGE objects which do not 
  contain the substring ``symb_sep`` in their string representation. 
  Nevertheless it is preferable to use symbols which are either 
  non-negative integers or short strings (e.g. single letters). 

  The alphabet is not allowed to contain repetitions (literal copies as 
  well as symbols whose string representations do coincide) and whenever 
  its elements have distinct lengths the use of ``symb_sep`` is strongly 
  advised. We also highly recommend the use of unambiguous alphabets! 
```

Then, you call the following command on it :

```
$ ~/Applications/sage-5.2/local/bin/rst2html.py fichier.rst fichier.html
fichier.rst:14: (WARNING/2) Definition list ends without a blank line; unexpected unindent.
```

Now, the number 14 refers really to the line 14 in the file fichier.rst. You may also open the html file to see where is the warning :

```
$ open fichier.html
```

You may also copy and paste docstring into this website I just found and never used before :

http://rst.ninjs.org/



---

archive/issue_comments_196385.json:
```json
{
    "body": "<a id='comment:16'></a>\n> After taking a look at the patch, I believe many of the warning are of the same type. Indeed, an empty line is needed before any enumeration.\n\n\nI now think the empty line is needed **after** not before any enumeration... sorry. I usually put empty lines before and after...and forgot only after was giving warnings...",
    "created_at": "2012-08-01T13:42:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196385",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:16'></a>
> After taking a look at the patch, I believe many of the warning are of the same type. Indeed, an empty line is needed before any enumeration.


I now think the empty line is needed **after** not before any enumeration... sorry. I usually put empty lines before and after...and forgot only after was giving warnings...



---

archive/issue_comments_196386.json:
```json
{
    "body": "<a id='comment:17'></a>\nI am becoming fool, from http://docutils.sourceforge.net/docs/user/rst/quickref.html, a blank line should be needed before as well as after:\n\n```\nNote that a blank line is required\nbefore the first item and after the\nlast, but is optional between items. \n```",
    "created_at": "2012-08-01T13:46:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196386",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:17'></a>
I am becoming fool, from http://docutils.sourceforge.net/docs/user/rst/quickref.html, a blank line should be needed before as well as after:

```
Note that a blank line is required
before the first item and after the
last, but is optional between items. 
```



---

archive/issue_comments_196387.json:
```json
{
    "body": "<a id='comment:18'></a>\nThanks slabbe, for your comments and thanks tjolivet for the update on the patch. I will check it tomorrow. As you said there are some methods not yet implemented which would be nice (like the splittings and amalgamations). Also we already have some additional methods which I did not include in the first patch (which is quiet long already), but which can be included in a second step.",
    "created_at": "2012-08-02T03:19:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196387",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

<a id='comment:18'></a>
Thanks slabbe, for your comments and thanks tjolivet for the update on the patch. I will check it tomorrow. As you said there are some methods not yet implemented which would be nice (like the splittings and amalgamations). Also we already have some additional methods which I did not include in the first patch (which is quiet long already), but which can be included in a second step.



---

archive/issue_comments_196388.json:
```json
{
    "body": "<a id='comment:19'></a>\ntjolivet, I attached a new version of the patch. Now the docbuild should not produce any warnings and I also included the methods for admissible words (2) and an_element.",
    "created_at": "2012-08-03T03:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196388",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

<a id='comment:19'></a>
tjolivet, I attached a new version of the patch. Now the docbuild should not produce any warnings and I also included the methods for admissible words (2) and an_element.



---

archive/issue_comments_196389.json:
```json
{
    "body": "<a id='comment:20'></a>\nHi,\n\nI still get 22 warnings when  building the doc.\n\nIt seems that your patch doesn't take into account the doc fixes I provided. (All the blank lines and the little details I fixed in my patch.) Did you forget to apply the patch?\n\nCheers,\nTimo",
    "created_at": "2012-08-28T11:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196389",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```

<a id='comment:20'></a>
Hi,

I still get 22 warnings when  building the doc.

It seems that your patch doesn't take into account the doc fixes I provided. (All the blank lines and the little details I fixed in my patch.) Did you forget to apply the patch?

Cheers,
Timo



---

archive/issue_comments_196390.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,3 +2,5 @@\n \n The code already includes the basic features for playing around with those symbolic dynamical systems, but of course it will be extended over time. Just thought it would be nice to get some feedback on this first version right now, especially as the code is already long.\n \n+Apply trac_12996_SFT_final_version-MHS.patch\n+\n``````\n",
    "created_at": "2012-09-09T12:07:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196390",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,3 +2,5 @@
 
 The code already includes the basic features for playing around with those symbolic dynamical systems, but of course it will be extended over time. Just thought it would be nice to get some feedback on this first version right now, especially as the code is already long.
 
+Apply trac_12996_SFT_final_version-MHS.patch
+
``````




---

archive/issue_comments_196391.json:
```json
{
    "body": "The (hopefully) last version, resolved docbuild warnings and included admissible words methods",
    "created_at": "2012-09-09T17:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196391",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

The (hopefully) last version, resolved docbuild warnings and included admissible words methods



---

archive/attachments_017552.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12996_SFT_final_version-MHS.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12996/trac_12996_SFT_final_version-MHS.patch",
    "created_at": "2012-09-09T19:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```



---

archive/issue_comments_196392.json:
```json
{
    "body": "<a id='comment:22'></a>\nI'm now ready to give the patch a positive review.\n\nFor the patchbot:\n\nApply trac_12996_SFT_final_version-MHS.patch",
    "created_at": "2012-09-09T19:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196392",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```

<a id='comment:22'></a>
I'm now ready to give the patch a positive review.

For the patchbot:

Apply trac_12996_SFT_final_version-MHS.patch



---

archive/issue_comments_196393.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [tjolivet](#comment%3A22):\n> I'm now ready to give the patch a positive review.\n> \n> For the patchbot:\n> \n> Apply trac_12996_SFT_final_version-MHS.patch\n\n\nSo what else is needed to close this patch with a positive outcome?",
    "created_at": "2012-09-21T14:40:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196393",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

<a id='comment:23'></a>
Replying to [tjolivet](#comment%3A22):
> I'm now ready to give the patch a positive review.
> 
> For the patchbot:
> 
> Apply trac_12996_SFT_final_version-MHS.patch


So what else is needed to close this patch with a positive outcome?



---

archive/issue_comments_196394.json:
```json
{
    "body": "<a id='comment:24'></a>\nhi,\n\nFew more remarks\n\n* the output is too verbose. When I print a number I do not want to see \"Number 3112. It is not prime and its divisors are 1, 2, 4, 8, 389, 778, 1556 and 3112.\" but only \"3112\". The same for shifts. Methods are here to get more informations.\n\n* Because you inherit from SageObject, the method repr with two underscores should be modified into a repr with one underscore (see the code and the documentation of SageObject). In particular, SageObject takes care of custom names.\n\n* the option \"alph\" is named \"alphabet\" in the words library but they should have the same name\u00b7\n\n* the alphabet in your class are lists but there is a class for alphabet in sage.combinat.words.alphabet, why not using it?\n\n* The name of the method an_element is not appropriate. an_element should return an element of the subshift.\n\nVincent",
    "created_at": "2012-09-23T08:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196394",
    "user": "https://github.com/videlec"
}
```

<a id='comment:24'></a>
hi,

Few more remarks

* the output is too verbose. When I print a number I do not want to see "Number 3112. It is not prime and its divisors are 1, 2, 4, 8, 389, 778, 1556 and 3112." but only "3112". The same for shifts. Methods are here to get more informations.

* Because you inherit from SageObject, the method repr with two underscores should be modified into a repr with one underscore (see the code and the documentation of SageObject). In particular, SageObject takes care of custom names.

* the option "alph" is named "alphabet" in the words library but they should have the same name·

* the alphabet in your class are lists but there is a class for alphabet in sage.combinat.words.alphabet, why not using it?

* The name of the method an_element is not appropriate. an_element should return an element of the subshift.

Vincent



---

archive/issue_comments_196395.json:
```json
{
    "body": "<a id='comment:25'></a>\nHi Vincent,\n\nI addressed most of your comments:\n\n- renamed method \"__repr__\" to \"_repr_\". (although I still dont see the difference - I looked at the documentation of SageObject, but did not get the point - can you explain this, maybe in a private email)\n- renamed option \"alph\" to \"alphabet\"\n- the option \"alphabet\" accepts as input both a list and an alphabet (as defined in the word class), so externally there is no difference. Internally I prefer the standard type list - it has less overhead, especially as it is accessed a lot in building admissible words etc.\n- changed documentation of \"an_element\". Your comment seems to be based on a misunderstanding as the method already DID return an element of the SFT in form of an iterator - how else would you represent an infinite sequence of symbols? Comments welcome.\n\nYour first comment is not yet addressed, as I dont know what you would like to see as output. If the SFT has a name this name is returned, but if it does not? The method could just return \"An SFT\", but what is the point of this, you could just check \"isinstance\" - it is not very informative, so I thought having at least the alphabet would be helpful. Any suggestions on this from your side would be very welcome.\n\nBest\nM.\n  \n\nReplying to [vdelecroix](#comment%3A24):\n> hi,\n> \n> Few more remarks\n> \n> * the output is too verbose. When I print a number I do not want to see \"Number 3112. It is not prime and its divisors are 1, 2, 4, 8, 389, 778, 1556 and 3112.\" but only \"3112\". The same for shifts. Methods are here to get more informations.\n> \n> * Because you inherit from SageObject, the method repr with two underscores should be modified into a repr with one underscore (see the code and the documentation of SageObject). In particular, SageObject takes care of custom names.\n> \n> * the option \"alph\" is named \"alphabet\" in the words library but they should have the same name\u00b7\n> \n> * the alphabet in your class are lists but there is a class for alphabet in sage.combinat.words.alphabet, why not using it?\n> \n> * The name of the method an_element is not appropriate. an_element should return an element of the subshift.\n> \n> Vincent\n",
    "created_at": "2012-10-01T00:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196395",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

<a id='comment:25'></a>
Hi Vincent,

I addressed most of your comments:

- renamed method "__repr__" to "_repr_". (although I still dont see the difference - I looked at the documentation of SageObject, but did not get the point - can you explain this, maybe in a private email)
- renamed option "alph" to "alphabet"
- the option "alphabet" accepts as input both a list and an alphabet (as defined in the word class), so externally there is no difference. Internally I prefer the standard type list - it has less overhead, especially as it is accessed a lot in building admissible words etc.
- changed documentation of "an_element". Your comment seems to be based on a misunderstanding as the method already DID return an element of the SFT in form of an iterator - how else would you represent an infinite sequence of symbols? Comments welcome.

Your first comment is not yet addressed, as I dont know what you would like to see as output. If the SFT has a name this name is returned, but if it does not? The method could just return "An SFT", but what is the point of this, you could just check "isinstance" - it is not very informative, so I thought having at least the alphabet would be helpful. Any suggestions on this from your side would be very welcome.

Best
M.
  

Replying to [vdelecroix](#comment%3A24):
> hi,
> 
> Few more remarks
> 
> * the output is too verbose. When I print a number I do not want to see "Number 3112. It is not prime and its divisors are 1, 2, 4, 8, 389, 778, 1556 and 3112." but only "3112". The same for shifts. Methods are here to get more informations.
> 
> * Because you inherit from SageObject, the method repr with two underscores should be modified into a repr with one underscore (see the code and the documentation of SageObject). In particular, SageObject takes care of custom names.
> 
> * the option "alph" is named "alphabet" in the words library but they should have the same name·
> 
> * the alphabet in your class are lists but there is a class for alphabet in sage.combinat.words.alphabet, why not using it?
> 
> * The name of the method an_element is not appropriate. an_element should return an element of the subshift.
> 
> Vincent




---

archive/attachments_017553.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12996_SFT_addressed_final_comments-MHS.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12996/trac_12996_SFT_addressed_final_comments-MHS.patch",
    "created_at": "2012-10-01T00:32:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```



---

archive/issue_comments_196396.json:
```json
{
    "body": "Addressed the comments by vdelecroix",
    "created_at": "2012-10-01T00:32:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196396",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

Addressed the comments by vdelecroix



---

archive/issue_comments_196397.json:
```json
{
    "body": "<a id='comment:26'></a>\nHi Michael,\n\n> - renamed method \"__repr__\" to \"_repr_\". (although I still dont see the difference - I looked at the documentation of SageObject, but did not get the point - can you explain this, maybe in a private email)\n> Your first comment is not yet addressed, as I dont know what you would like to see as output. If the SFT has a name this name is returned, but if it does not? The method could just return \"An SFT\", but what is the point of this, you could just check \"isinstance\" - it is not very informative, so I thought having at least the alphabet would be helpful. Any suggestions on this from your side would be very welcome.\n\n\nThe SageObject implements custom names and it is not needed to reimplement it\n\n```\nsage: class A(SageObject): \n....:     pass\nsage: a = A()           \nsage: a\n<class '__main__.A'>\nsage: a.rename('toto')\nsage: a\ntoto\nsage: a.reset_name()\nsage: a\n<class '__main__.A'>\n```\n\nThe method `__repr__` of SageObject precisely choose whether to use the custom name or the method `_repr_` that are implemented in derived classes.\n\n> - renamed option \"alph\" to \"alphabet\"\n> - the option \"alphabet\" accepts as input both a list and an alphabet (as defined in the word class), so externally there is no difference. Internally I prefer the standard type list - it has less overhead, especially as it is accessed a lot in building admissible words etc.\n\n\nCool! I hope that in a next future it would be simpler and faster to use alphabet.\n\n> - changed documentation of \"an_element\". Your comment seems to be based on a misunderstanding as the method already DID return an element of the SFT in form of an iterator - how else would you represent an infinite sequence of symbols? Comments welcome.\n\n\nI agree that mathematically the sequence belongs to the SFT but as a Python object it is an iterator and not an element of the subshift.  What I mean by an element is something that knows what its parent is. In other words with the following behavior\n\n```\nsage: S = MySFT()\nsage: S\nMy SFT\nsage: s = S.an_element()\nsage: s in S\nTrue\nsage: s.parent()\nMy SFT\n```\n(the notion of element/parent is explained in the Sage reference http://www.sagemath.org/doc/reference/coercion.html)\n\nIn your case you may use infinite which can be initialized from iterators. A basic example is as follows\n\n```\nsage: W = Words('ab')\nsage: from itertools import count\nsage: W('a' if (n%5+1)%3 else 'b' for n in count())\nword: aabaaaabaaaabaaaabaaaabaaaabaaaabaaaabaa...\n```\n\nAnyway, the issue about element/parent will be solved with the \"categorification\" of shifts and languages (ticket #12224).\n\n>> * the output is too verbose. When I print a number I do not want to see \"Number 3112. It is not prime and its divisors are 1, 2, 4, 8, 389, 778, 1556 and 3112.\" but only \"3112\". The same for shifts. Methods are here to get more informations.\n\n\nMy comment about the output is no more than a comment. I find it too verbose but I do not know what is better. For graphs the ouptut is simply \"Graph on 12 vertices\". You may choose \"SFT over {a, b, c}\" where {a, b, c} is replaced by whatever is the alphabet but you may prefer as well to keep the old version.\n\nHoping that the definitive version is not far away.\n\nBest,\nVincent",
    "created_at": "2012-10-01T08:49:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196397",
    "user": "https://github.com/videlec"
}
```

<a id='comment:26'></a>
Hi Michael,

> - renamed method "__repr__" to "_repr_". (although I still dont see the difference - I looked at the documentation of SageObject, but did not get the point - can you explain this, maybe in a private email)
> Your first comment is not yet addressed, as I dont know what you would like to see as output. If the SFT has a name this name is returned, but if it does not? The method could just return "An SFT", but what is the point of this, you could just check "isinstance" - it is not very informative, so I thought having at least the alphabet would be helpful. Any suggestions on this from your side would be very welcome.


The SageObject implements custom names and it is not needed to reimplement it

```
sage: class A(SageObject): 
....:     pass
sage: a = A()           
sage: a
<class '__main__.A'>
sage: a.rename('toto')
sage: a
toto
sage: a.reset_name()
sage: a
<class '__main__.A'>
```

The method `__repr__` of SageObject precisely choose whether to use the custom name or the method `_repr_` that are implemented in derived classes.

> - renamed option "alph" to "alphabet"
> - the option "alphabet" accepts as input both a list and an alphabet (as defined in the word class), so externally there is no difference. Internally I prefer the standard type list - it has less overhead, especially as it is accessed a lot in building admissible words etc.


Cool! I hope that in a next future it would be simpler and faster to use alphabet.

> - changed documentation of "an_element". Your comment seems to be based on a misunderstanding as the method already DID return an element of the SFT in form of an iterator - how else would you represent an infinite sequence of symbols? Comments welcome.


I agree that mathematically the sequence belongs to the SFT but as a Python object it is an iterator and not an element of the subshift.  What I mean by an element is something that knows what its parent is. In other words with the following behavior

```
sage: S = MySFT()
sage: S
My SFT
sage: s = S.an_element()
sage: s in S
True
sage: s.parent()
My SFT
```
(the notion of element/parent is explained in the Sage reference http://www.sagemath.org/doc/reference/coercion.html)

In your case you may use infinite which can be initialized from iterators. A basic example is as follows

```
sage: W = Words('ab')
sage: from itertools import count
sage: W('a' if (n%5+1)%3 else 'b' for n in count())
word: aabaaaabaaaabaaaabaaaabaaaabaaaabaaaabaa...
```

Anyway, the issue about element/parent will be solved with the "categorification" of shifts and languages (ticket #12224).

>> * the output is too verbose. When I print a number I do not want to see "Number 3112. It is not prime and its divisors are 1, 2, 4, 8, 389, 778, 1556 and 3112." but only "3112". The same for shifts. Methods are here to get more informations.


My comment about the output is no more than a comment. I find it too verbose but I do not know what is better. For graphs the ouptut is simply "Graph on 12 vertices". You may choose "SFT over {a, b, c}" where {a, b, c} is replaced by whatever is the alphabet but you may prefer as well to keep the old version.

Hoping that the definitive version is not far away.

Best,
Vincent



---

archive/issue_comments_196398.json:
```json
{
    "body": "<a id='comment:27'></a>\nApply trac_12996_SFT_final_version-MHS.patch trac_12996_SFT_addressed_final_comments-MHS.patch",
    "created_at": "2012-10-09T16:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196398",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```

<a id='comment:27'></a>
Apply trac_12996_SFT_final_version-MHS.patch trac_12996_SFT_addressed_final_comments-MHS.patch



---

archive/issue_comments_196399.json:
```json
{
    "body": "Shortened output and renamed an_element method",
    "created_at": "2012-11-02T22:36:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196399",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

Shortened output and renamed an_element method



---

archive/attachments_017554.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12996_SFT_ouput_shortened-MHS.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12996/trac_12996_SFT_ouput_shortened-MHS.patch",
    "created_at": "2012-11-02T22:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```



---

archive/issue_comments_196400.json:
```json
{
    "body": "<a id='comment:28'></a>\nApply trac_12996_SFT_final_version-MHS.patch trac_12996_SFT_addressed_final_comments-MHS.patch trac_12996_SFT_ouput_shortened-MHS.patch",
    "created_at": "2012-11-02T22:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196400",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

<a id='comment:28'></a>
Apply trac_12996_SFT_final_version-MHS.patch trac_12996_SFT_addressed_final_comments-MHS.patch trac_12996_SFT_ouput_shortened-MHS.patch



---

archive/issue_comments_196401.json:
```json
{
    "body": "<a id='comment:29'></a>\nThey put comma here : http://wiki.sagemath.org/buildbot, so let's try this syntax :\n\nApply trac_12996_SFT_final_version-MHS.patch, trac_12996_SFT_addressed_final_comments-MHS.patch, trac_12996_SFT_ouput_shortened-MHS.patch",
    "created_at": "2012-11-13T22:50:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196401",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:29'></a>
They put comma here : http://wiki.sagemath.org/buildbot, so let's try this syntax :

Apply trac_12996_SFT_final_version-MHS.patch, trac_12996_SFT_addressed_final_comments-MHS.patch, trac_12996_SFT_ouput_shortened-MHS.patch



---

archive/issue_comments_196402.json:
```json
{
    "body": "<a id='comment:30'></a>\nApply only trac_12996_SFT_final_version-MHS.patch, trac_12996_SFT_addressed_final_comments-MHS.patch, trac_12996_SFT_ouput_shortened-MHS.patch",
    "created_at": "2012-11-13T23:22:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196402",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:30'></a>
Apply only trac_12996_SFT_final_version-MHS.patch, trac_12996_SFT_addressed_final_comments-MHS.patch, trac_12996_SFT_ouput_shortened-MHS.patch



---

archive/issue_comments_196403.json:
```json
{
    "body": "<a id='comment:31'></a>\nHi all,\n\n*ping*\n\nWhat is the status of that ticket ? My question is partly because of ticket #12224 which modifies the structure of words. There are evident conflict with this one, but it won't be hard to merge them (I can even do it). I suggest that this one goes first, in which case I will put a dependency on #12224 and do the merge within #12224.\n\nComment on last modifications:\n* you used \"on {a,b,c}\" instead of \"over {a,b,c}\" which is currently in used in words\n\nWhat do you think ?\n\nBest,\nVincent",
    "created_at": "2013-01-18T18:57:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196403",
    "user": "https://github.com/videlec"
}
```

<a id='comment:31'></a>
Hi all,

*ping*

What is the status of that ticket ? My question is partly because of ticket #12224 which modifies the structure of words. There are evident conflict with this one, but it won't be hard to merge them (I can even do it). I suggest that this one goes first, in which case I will put a dependency on #12224 and do the merge within #12224.

Comment on last modifications:
* you used "on {a,b,c}" instead of "over {a,b,c}" which is currently in used in words

What do you think ?

Best,
Vincent



---

archive/issue_comments_196404.json:
```json
{
    "body": "<a id='comment:32'></a>\nHello,\n\nSome more comments:\n* At the begining of the file finite_type_shift.py you modify the *global* behavior of warnings! It can not be done that way as you affect the whole SAGE.\n* the two methods admissible_words_iter and forbidden_words_iter may be renamed in admissible_word_iterator and forbidden_word_iterator (which is more how other iterator methods looks like within SAGE). Moreover, both of them may use the SearchForest in sage.combinat.backtrack which is dedicated to that sort of iteration... you will end up with 3 lines algorithms! I may help if you are stuck with the use of SearchForest.\n* a_point_iter must be renamed as random_element; or an_element if it is not random (Sage standards).\n\nCheers,\nVincent",
    "created_at": "2013-01-19T10:16:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196404",
    "user": "https://github.com/videlec"
}
```

<a id='comment:32'></a>
Hello,

Some more comments:
* At the begining of the file finite_type_shift.py you modify the *global* behavior of warnings! It can not be done that way as you affect the whole SAGE.
* the two methods admissible_words_iter and forbidden_words_iter may be renamed in admissible_word_iterator and forbidden_word_iterator (which is more how other iterator methods looks like within SAGE). Moreover, both of them may use the SearchForest in sage.combinat.backtrack which is dedicated to that sort of iteration... you will end up with 3 lines algorithms! I may help if you are stuck with the use of SearchForest.
* a_point_iter must be renamed as random_element; or an_element if it is not random (Sage standards).

Cheers,
Vincent



---

archive/issue_comments_196405.json:
```json
{
    "body": "<a id='comment:33'></a>\nHi, some quick comments on the previous ones:\n\n1) Can anybody tell me how to do this? I understand (and agree) that it is not good coding practice, but I would like to have the warnings show up every time in my class SFT. Is there a way to alter the behaviour just for the methods in a single class? (I did look at the Python documentation, but did not find anything specific.)\n\n2+3) I will do this. No problem here.\n\nThanks.\nBest\nMichael",
    "created_at": "2013-01-21T00:43:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196405",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

<a id='comment:33'></a>
Hi, some quick comments on the previous ones:

1) Can anybody tell me how to do this? I understand (and agree) that it is not good coding practice, but I would like to have the warnings show up every time in my class SFT. Is there a way to alter the behaviour just for the methods in a single class? (I did look at the Python documentation, but did not find anything specific.)

2+3) I will do this. No problem here.

Thanks.
Best
Michael



---

archive/issue_comments_196406.json:
```json
{
    "body": "<a id='comment:34'></a>\nHi,\n\n1) I can solve half of the problem. For affecting only your module for the \"always\" part, you just need to replace\n\n```\nwarnings.simplefilter(\"always\")\n```\nby\n\n```\nwarnings.filterwarnings(action=\"always\",\n                        module=\"sage.dynamics.symbolic.finite_type_shift\")\n```\nFor the formatting, I don't think there is a viable solution. Moreover, the way you do corresponds to modify the library (Python is sometimes dangerous)! So I propose you to just let the format as it is by default.\n\nHope to see the last changes soon in order to put a positive review!\nVincent",
    "created_at": "2013-02-16T01:00:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196406",
    "user": "https://github.com/videlec"
}
```

<a id='comment:34'></a>
Hi,

1) I can solve half of the problem. For affecting only your module for the "always" part, you just need to replace

```
warnings.simplefilter("always")
```
by

```
warnings.filterwarnings(action="always",
                        module="sage.dynamics.symbolic.finite_type_shift")
```
For the formatting, I don't think there is a viable solution. Moreover, the way you do corresponds to modify the library (Python is sometimes dangerous)! So I propose you to just let the format as it is by default.

Hope to see the last changes soon in order to put a positive review!
Vincent



---

archive/issue_comments_196407.json:
```json
{
    "body": "\"SFT over alphabet\" modification and methods admissible_words_iterator, forbidden_words_iterator, random_element renamed",
    "created_at": "2013-02-20T00:55:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196407",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

"SFT over alphabet" modification and methods admissible_words_iterator, forbidden_words_iterator, random_element renamed



---

archive/attachments_017555.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac12996_SFT_output_modified_methods_renamed-MHS.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12996/trac12996_SFT_output_modified_methods_renamed-MHS.patch",
    "created_at": "2013-02-20T01:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```



---

archive/issue_comments_196408.json:
```json
{
    "body": "<a id='comment:35'></a>\nHi all,\n\ncoming back from my summer vacations I uploaded a new patch.\n\n1) I changed the output from \"A SFT on alphabet\" to \"A SFT over alphabet\"\n2) I changed the names of three methods (as indicated by vdelecroix)\n3) I changed the \"warnings\" line, so only my module is affected (thanks for pointing out how to do this vdelecroix)\n4) I played around with the SearchForest, but fially decided to keep the code as was before (I was not able to use SearchForest to produce the admissible words in the order I intended) and with a postprocessing step the code is clumpsy and slower\n\nOne final thing to do:\nIf I delete the \"warnings.formatwarning = sft_warning_style\" line 130 the output of two tests (producing a Warning) are modified including a file name and a non-standard line number which gets me into trouble with the doctest. Any idea how to tell SAGE to ignore the filename and line-number in the output of the doctest?\n\nBest\nM.",
    "created_at": "2013-02-20T01:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196408",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

<a id='comment:35'></a>
Hi all,

coming back from my summer vacations I uploaded a new patch.

1) I changed the output from "A SFT on alphabet" to "A SFT over alphabet"
2) I changed the names of three methods (as indicated by vdelecroix)
3) I changed the "warnings" line, so only my module is affected (thanks for pointing out how to do this vdelecroix)
4) I played around with the SearchForest, but fially decided to keep the code as was before (I was not able to use SearchForest to produce the admissible words in the order I intended) and with a postprocessing step the code is clumpsy and slower

One final thing to do:
If I delete the "warnings.formatwarning = sft_warning_style" line 130 the output of two tests (producing a Warning) are modified including a file name and a non-standard line number which gets me into trouble with the doctest. Any idea how to tell SAGE to ignore the filename and line-number in the output of the doctest?

Best
M.



---

archive/issue_comments_196409.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [mhs](#comment%3A35):\n> One final thing to do:\n> If I delete the \"warnings.formatwarning = sft_warning_style\" line 130 the output of two tests (producing a Warning) are modified including a file name and a non-standard line number which gets me into trouble with the doctest. Any idea how to tell SAGE to ignore the filename and line-number in the output of the doctest?\n\n\nIn the output of a doctest, you can put three dots ``...`` and it replaces anything. Like * does for regular expression. Of course, use it parsimoniously by replacing only the line-number by the three dots.",
    "created_at": "2013-03-03T13:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196409",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:36'></a>
Replying to [mhs](#comment%3A35):
> One final thing to do:
> If I delete the "warnings.formatwarning = sft_warning_style" line 130 the output of two tests (producing a Warning) are modified including a file name and a non-standard line number which gets me into trouble with the doctest. Any idea how to tell SAGE to ignore the filename and line-number in the output of the doctest?


In the output of a doctest, you can put three dots ``...`` and it replaces anything. Like * does for regular expression. Of course, use it parsimoniously by replacing only the line-number by the three dots.



---

archive/attachments_017556.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12996_SFT_solved_warnings-MHS.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12996/trac_12996_SFT_solved_warnings-MHS.patch",
    "created_at": "2013-03-04T00:52:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```



---

archive/issue_comments_196410.json:
```json
{
    "body": "removed personal warnings style, all doctests pass",
    "created_at": "2013-03-04T00:52:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196410",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

removed personal warnings style, all doctests pass



---

archive/issue_comments_196411.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [slabbe](#comment%3A36):\n> Replying to [mhs](#comment%3A35):\n> > One final thing to do:\n> > If I delete the \"warnings.formatwarning = sft_warning_style\" line 130 the output of two tests (producing a Warning) are modified including a file name and a non-standard line number which gets me into trouble with the doctest. Any idea how to tell SAGE to ignore the filename and line-number in the output of the doctest?\n\n> \n> In the output of a doctest, you can put three dots ``...`` and it replaces anything. Like * does for regular expression. Of course, use it parsimoniously by replacing only the line-number by the three dots. \n\n\n\n\nGreat, this is exactly what I needed to know. Thanks a lot!\n\nI modified the file accordingly, so the warning style is not changed and still the doctests pass. I hope this is all that is needed to close this ticket. Thanks for all your help and comments.",
    "created_at": "2013-03-04T00:55:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196411",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

<a id='comment:37'></a>
Replying to [slabbe](#comment%3A36):
> Replying to [mhs](#comment%3A35):
> > One final thing to do:
> > If I delete the "warnings.formatwarning = sft_warning_style" line 130 the output of two tests (producing a Warning) are modified including a file name and a non-standard line number which gets me into trouble with the doctest. Any idea how to tell SAGE to ignore the filename and line-number in the output of the doctest?

> 
> In the output of a doctest, you can put three dots ``...`` and it replaces anything. Like * does for regular expression. Of course, use it parsimoniously by replacing only the line-number by the three dots. 




Great, this is exactly what I needed to know. Thanks a lot!

I modified the file accordingly, so the warning style is not changed and still the doctests pass. I hope this is all that is needed to close this ticket. Thanks for all your help and comments.



---

archive/issue_comments_196412.json:
```json
{
    "body": "<a id='comment:38'></a>\nCould you please write in the description what tickets have to be applied ?",
    "created_at": "2013-03-17T20:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196412",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:38'></a>
Could you please write in the description what tickets have to be applied ?



---

archive/issue_comments_196413.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,5 +2,6 @@\n \n The code already includes the basic features for playing around with those symbolic dynamical systems, but of course it will be extended over time. Just thought it would be nice to get some feedback on this first version right now, especially as the code is already long.\n \n-Apply trac_12996_SFT_final_version-MHS.patch\n+Apply:\n+* [attachment:trac_12996_SFT_final_version-MHS.patch]\n \n``````\n",
    "created_at": "2013-03-17T20:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196413",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,5 +2,6 @@
 
 The code already includes the basic features for playing around with those symbolic dynamical systems, but of course it will be extended over time. Just thought it would be nice to get some feedback on this first version right now, especially as the code is already long.
 
-Apply trac_12996_SFT_final_version-MHS.patch
+Apply:
+* [attachment:trac_12996_SFT_final_version-MHS.patch]
 
``````




---

archive/issue_comments_196414.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,4 +4,8 @@\n \n Apply:\n * [attachment:trac_12996_SFT_final_version-MHS.patch]\n+* [attachment:trac_12996_SFT_addressed_final_comments-MHS.patch]\n+* [attachment:trac_12996_SFT_ouput_shortened-MHS.patch]\n+* [attachment:trac12996_SFT_output_modified_methods_renamed-MHS.patch]\n+* [attachment:trac_12996_SFT_solved_warnings-MHS.patch]\n \n``````\n",
    "created_at": "2013-03-17T22:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196414",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,4 +4,8 @@
 
 Apply:
 * [attachment:trac_12996_SFT_final_version-MHS.patch]
+* [attachment:trac_12996_SFT_addressed_final_comments-MHS.patch]
+* [attachment:trac_12996_SFT_ouput_shortened-MHS.patch]
+* [attachment:trac12996_SFT_output_modified_methods_renamed-MHS.patch]
+* [attachment:trac_12996_SFT_solved_warnings-MHS.patch]
 
``````




---

archive/issue_comments_196415.json:
```json
{
    "body": "<a id='comment:40'></a>\nIt seems about time to give this ticket a positive review, but why has the patchbot always been refusing to apply the patches?",
    "created_at": "2013-04-11T12:30:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196415",
    "user": "https://trac.sagemath.org/admin/accounts/users/tjolivet"
}
```

<a id='comment:40'></a>
It seems about time to give this ticket a positive review, but why has the patchbot always been refusing to apply the patches?



---

archive/issue_comments_196416.json:
```json
{
    "body": "<a id='comment:41'></a>\nbecause you first need to get one patch into Sage for the patchbot to trust you.",
    "created_at": "2013-04-17T13:16:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196416",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:41'></a>
because you first need to get one patch into Sage for the patchbot to trust you.



---

archive/issue_comments_196417.json:
```json
{
    "body": "<a id='comment:42'></a>\n1. The file `doc/en/reference/index.rst` changed in a recent version of Sage. Hence, there is now a small reject with the first patch which should be fixed :\n\n```\nsage-5.8/devel/sage-slabbe $ hg qpush\napplying trac_12996_SFT_final_version-MHS.patch\npatching file doc/en/reference/index.rst\nHunk #1 FAILED at 58\n1 out of 1 hunks FAILED -- saving rejects to file doc/en/reference/index.rst.rej\npatch failed, unable to continue (try -v)\npatch failed, rejects left in working dir\nerrors during apply, please fix and refresh trac_12996_SFT_final_version-MHS.patch\n10 slabbe@pol ~/Applications/sage-5.8/devel/sage-slabbe $ cat doc/en/reference/index.rst.rej\n--- index.rst\n+++ index.rst\n@@ -59,6 +59,7 @@\n    cryptography\n    logic\n    combinat/index\n+   dynamics\n    numerical\n    probability\n    stats \n```\n\n2. The coverage of the folder `sage/dynamics/symbolic` is not 100% as it should:\n\n```\nsage/dynamics/symbolic $ sage -coverage .\n------------------------------------------------------------------------\nNo functions in ./__init__.py\n------------------------------------------------------------------------\nNo functions in ./all.py\n------------------------------------------------------------------------\nSCORE ./finite_type_shift.py: 83.3% (35 of 42)\n\nMissing documentation:\n     * line 129: def sft_warning_style(msg, category, filename, lineno, file=None, line=None)\n\nMissing doctests:\n     * line 2855: def _allwords(self, n)\n     * line 2879: def `_check_`alph(self, n)\n     * line 2915: def `_create_`empty(self)\n     * line 2934: def `_create_edge_label_`DiGraph(self)\n     * line 2972: def `_create_vertex_label_`DiGraph(self)\n     * line 3002: def `_create_fwords_`DiGraph(self)\n------------------------------------------------------------------------\n```\n\nI know it is hidden functions and so on, but they should be documented and doctested as any other.\n\n3. I looked more carefully at the code for the first time. I realize that the SFT, which can be created from three distinct input types (digraph, matrix, forbidden words), compute everything at the creation of the SFT. For example:\n\n```\n   sage: X = SFT([\"0101\", \"100\"], alph=[\"0\", \"1\"])  # computation of the matrix is done here\n   sage: M = X.matrix()                             # not here\n```\n\nSince there is only one class for SFT, I understand why everything is computed in the init. Because, we want to make sure once the init is done, that every objects behave the same what ever input was given.\n\nIf I had to code such a class now, I would create four classes : `SFT`, `SFT_from_digraph`, `SFT_from_matrix` and `SFT_from_forbidden_words`. I would put methods that depends on the representation inside child classes and general methods in the top class.\n\n```python\nclass SFT(SageObject):\n    def `__classcall__`(self, data):\n        if data is a digraph:\n            return SFT_from_digraph(data)\n        elif data is a matrix:\n            return SFT_from_matrix(data)\n        if data is forbidden words:\n            return SFT_from_forbidden_words(data)\n    def matrix(self):\n        raise NotImplementedError(\"this is a specific method and must be coded in the child class\")\n    def some_general_method(self):\n        pass\nclass SFT_from_digraph(SFT):\n    def `__init__`(self, data):\n        self._graph = data\n    def matrix(self):\n        M = ... # compute the matrix from the graph\n        return M\nclass SFT_from_matrix(SFT):\n    def `__init__`(self, data):\n        self._matrix = datta\n    def matrix(self):\n        return self._matrix\nclass SFT_from_forbidden_words(SFT):\n    def `__init__`(self, data):\n        self._forbidden = data\n    def matrix(self)\n        M = ... #compute the matrix from forbidden words\n        return M\n```\n\nThe advantage is that the code is closer to the reality (more clear, easier to maintain) and also more efficient (the matrix, for above example, is computed only if the user needs it).\n\nThis ticket is open since too long time. I feel bad for asking such modifications so late... Should we just make it get into Sage and make future improvements then? I am sure the code is usefull as it is now so... So Michael, what do you think? Are you still motivated to work on it now?\n\nS\u00e9bastien",
    "created_at": "2013-04-17T14:21:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196417",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:42'></a>
1. The file `doc/en/reference/index.rst` changed in a recent version of Sage. Hence, there is now a small reject with the first patch which should be fixed :

```
sage-5.8/devel/sage-slabbe $ hg qpush
applying trac_12996_SFT_final_version-MHS.patch
patching file doc/en/reference/index.rst
Hunk #1 FAILED at 58
1 out of 1 hunks FAILED -- saving rejects to file doc/en/reference/index.rst.rej
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh trac_12996_SFT_final_version-MHS.patch
10 slabbe@pol ~/Applications/sage-5.8/devel/sage-slabbe $ cat doc/en/reference/index.rst.rej
--- index.rst
+++ index.rst
@@ -59,6 +59,7 @@
    cryptography
    logic
    combinat/index
+   dynamics
    numerical
    probability
    stats 
```

2. The coverage of the folder `sage/dynamics/symbolic` is not 100% as it should:

```
sage/dynamics/symbolic $ sage -coverage .
------------------------------------------------------------------------
No functions in ./__init__.py
------------------------------------------------------------------------
No functions in ./all.py
------------------------------------------------------------------------
SCORE ./finite_type_shift.py: 83.3% (35 of 42)

Missing documentation:
     * line 129: def sft_warning_style(msg, category, filename, lineno, file=None, line=None)

Missing doctests:
     * line 2855: def _allwords(self, n)
     * line 2879: def `_check_`alph(self, n)
     * line 2915: def `_create_`empty(self)
     * line 2934: def `_create_edge_label_`DiGraph(self)
     * line 2972: def `_create_vertex_label_`DiGraph(self)
     * line 3002: def `_create_fwords_`DiGraph(self)
------------------------------------------------------------------------
```

I know it is hidden functions and so on, but they should be documented and doctested as any other.

3. I looked more carefully at the code for the first time. I realize that the SFT, which can be created from three distinct input types (digraph, matrix, forbidden words), compute everything at the creation of the SFT. For example:

```
   sage: X = SFT(["0101", "100"], alph=["0", "1"])  # computation of the matrix is done here
   sage: M = X.matrix()                             # not here
```

Since there is only one class for SFT, I understand why everything is computed in the init. Because, we want to make sure once the init is done, that every objects behave the same what ever input was given.

If I had to code such a class now, I would create four classes : `SFT`, `SFT_from_digraph`, `SFT_from_matrix` and `SFT_from_forbidden_words`. I would put methods that depends on the representation inside child classes and general methods in the top class.

```python
class SFT(SageObject):
    def `__classcall__`(self, data):
        if data is a digraph:
            return SFT_from_digraph(data)
        elif data is a matrix:
            return SFT_from_matrix(data)
        if data is forbidden words:
            return SFT_from_forbidden_words(data)
    def matrix(self):
        raise NotImplementedError("this is a specific method and must be coded in the child class")
    def some_general_method(self):
        pass
class SFT_from_digraph(SFT):
    def `__init__`(self, data):
        self._graph = data
    def matrix(self):
        M = ... # compute the matrix from the graph
        return M
class SFT_from_matrix(SFT):
    def `__init__`(self, data):
        self._matrix = datta
    def matrix(self):
        return self._matrix
class SFT_from_forbidden_words(SFT):
    def `__init__`(self, data):
        self._forbidden = data
    def matrix(self)
        M = ... #compute the matrix from forbidden words
        return M
```

The advantage is that the code is closer to the reality (more clear, easier to maintain) and also more efficient (the matrix, for above example, is computed only if the user needs it).

This ticket is open since too long time. I feel bad for asking such modifications so late... Should we just make it get into Sage and make future improvements then? I am sure the code is usefull as it is now so... So Michael, what do you think? Are you still motivated to work on it now?

Sébastien



---

archive/issue_comments_196418.json:
```json
{
    "body": "<a id='comment:43'></a>\ninstructions for the bot:\n\nApply trac_12996_SFT_final_version-MHS.patch trac_12996_SFT_addressed_final_comments-MHS.patch \ntrac_12996_SFT_ouput_shortened-MHS.patch trac12996_SFT_output_modified_methods_renamed-MHS.patch trac_12996_SFT_solved_warnings-MHS.patch",
    "created_at": "2013-05-23T20:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196418",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:43'></a>
instructions for the bot:

Apply trac_12996_SFT_final_version-MHS.patch trac_12996_SFT_addressed_final_comments-MHS.patch 
trac_12996_SFT_ouput_shortened-MHS.patch trac12996_SFT_output_modified_methods_renamed-MHS.patch trac_12996_SFT_solved_warnings-MHS.patch



---

archive/issue_comments_196419.json:
```json
{
    "body": "<a id='comment:44'></a>\nbetter instructions:\n\nApply trac_12996_SFT_final_version-MHS.patch trac_12996_SFT_addressed_final_comments-MHS.patch trac_12996_SFT_ouput_shortened-MHS.patch trac12996_SFT_output_modified_methods_renamed-MHS.patch trac_12996_SFT_solved_warnings-MHS.patch",
    "created_at": "2013-05-23T20:01:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196419",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:44'></a>
better instructions:

Apply trac_12996_SFT_final_version-MHS.patch trac_12996_SFT_addressed_final_comments-MHS.patch trac_12996_SFT_ouput_shortened-MHS.patch trac12996_SFT_output_modified_methods_renamed-MHS.patch trac_12996_SFT_solved_warnings-MHS.patch



---

archive/issue_events_041532.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12996#event-41532"
}
```



---

archive/issue_comments_196420.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2013-09-16T18:46:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196420",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_196421.json:
```json
{
    "body": "<a id='comment:46'></a>\nthis does not apply and needs to be rebased",
    "created_at": "2013-09-16T18:46:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196421",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:46'></a>
this does not apply and needs to be rebased



---

archive/issue_events_041533.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12996#event-41533"
}
```



---

archive/issue_events_041534.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12996#event-41534"
}
```



---

archive/issue_events_041535.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12996#event-41535"
}
```



---

archive/issue_events_041536.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12996#event-41536"
}
```



---

archive/issue_events_041537.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12996#event-41537"
}
```



---

archive/issue_events_041538.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12996#event-41538"
}
```



---

archive/issue_comments_196422.json:
```json
{
    "body": "**Commit:** [48bb9df776f38e67548cc75df41a0a040634365b](https://github.com/sagemath/sagetrac-mirror/commit/48bb9df776f38e67548cc75df41a0a040634365b)",
    "created_at": "2014-09-15T13:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196422",
    "user": "https://github.com/videlec"
}
```

**Commit:** [48bb9df776f38e67548cc75df41a0a040634365b](https://github.com/sagemath/sagetrac-mirror/commit/48bb9df776f38e67548cc75df41a0a040634365b)



---

archive/issue_comments_196423.json:
```json
{
    "body": "**Branch:** [public/12996](https://github.com/sagemath/sagetrac-mirror/tree/public/12996)",
    "created_at": "2014-09-15T13:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196423",
    "user": "https://github.com/videlec"
}
```

**Branch:** [public/12996](https://github.com/sagemath/sagetrac-mirror/tree/public/12996)



---

archive/issue_comments_196424.json:
```json
{
    "body": "<a id='comment:50'></a>\nHello,\n\nI am with Pierre Guillon in Marseille and we would like to put that patch in. I created a public branch for that and we will start from there.\n\nVincent\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d62cc62208a9f4f309b43b5ca1b90f6d3582d64\">4d62cc6</a></td><td><code>#12996 Support for one-dimensional shifts of finite type</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9df17726051923d8df0dc98d7ec889b2dc3368d8\">9df1772</a></td><td><code>trac 12996: minor changes to address comments by vdelecroix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad6fb4663366ad7851488d2ebb5541c657457c69\">ad6fb46</a></td><td><code>trac 12996: shortened output, renamed an_element method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16f218a20f96d64202614a2b1ce3868e02220f07\">16f218a</a></td><td><code>c 12996: modified output, renamed three methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48bb9df776f38e67548cc75df41a0a040634365b\">48bb9df</a></td><td><code>trac 12996: solved warning style issue, solved doctests</code></td></tr></table>\n",
    "created_at": "2014-09-15T13:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196424",
    "user": "https://github.com/videlec"
}
```

<a id='comment:50'></a>
Hello,

I am with Pierre Guillon in Marseille and we would like to put that patch in. I created a public branch for that and we will start from there.

Vincent

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d62cc62208a9f4f309b43b5ca1b90f6d3582d64">4d62cc6</a></td><td><code>#12996 Support for one-dimensional shifts of finite type</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9df17726051923d8df0dc98d7ec889b2dc3368d8">9df1772</a></td><td><code>trac 12996: minor changes to address comments by vdelecroix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad6fb4663366ad7851488d2ebb5541c657457c69">ad6fb46</a></td><td><code>trac 12996: shortened output, renamed an_element method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16f218a20f96d64202614a2b1ce3868e02220f07">16f218a</a></td><td><code>c 12996: modified output, renamed three methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48bb9df776f38e67548cc75df41a0a040634365b">48bb9df</a></td><td><code>trac 12996: solved warning style issue, solved doctests</code></td></tr></table>




---

archive/issue_comments_196425.json:
```json
{
    "body": "<a id='comment:51'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/764a6e5bec68d4738d46b8eb6b40b84937330bda\">764a6e5</a></td><td><code>Merge branch 'public/12996' into 6.9.b0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dacacd2882c26fc9f48982b5f1c56c9cc64c6c5f\">dacacd2</a></td><td><code>trac #12996 making sure the doc builds</code></td></tr></table>\n",
    "created_at": "2015-07-31T14:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196425",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/764a6e5bec68d4738d46b8eb6b40b84937330bda">764a6e5</a></td><td><code>Merge branch 'public/12996' into 6.9.b0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dacacd2882c26fc9f48982b5f1c56c9cc64c6c5f">dacacd2</a></td><td><code>trac #12996 making sure the doc builds</code></td></tr></table>




---

archive/issue_comments_196426.json:
```json
{
    "body": "**Changing commit** from \"[48bb9df776f38e67548cc75df41a0a040634365b](https://github.com/sagemath/sagetrac-mirror/commit/48bb9df776f38e67548cc75df41a0a040634365b)\" to \"[dacacd2882c26fc9f48982b5f1c56c9cc64c6c5f](https://github.com/sagemath/sagetrac-mirror/commit/dacacd2882c26fc9f48982b5f1c56c9cc64c6c5f)\".",
    "created_at": "2015-07-31T14:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196426",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[48bb9df776f38e67548cc75df41a0a040634365b](https://github.com/sagemath/sagetrac-mirror/commit/48bb9df776f38e67548cc75df41a0a040634365b)" to "[dacacd2882c26fc9f48982b5f1c56c9cc64c6c5f](https://github.com/sagemath/sagetrac-mirror/commit/dacacd2882c26fc9f48982b5f1c56c9cc64c6c5f)".



---

archive/issue_events_041539.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-31T14:13:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12996#event-41539"
}
```



---

archive/issue_events_041540.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-31T14:13:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12996#event-41540"
}
```



---

archive/issue_comments_196427.json:
```json
{
    "body": "<a id='comment:53'></a>\n+Missing doctests  dynamics/symbolic/finite_type_shift.py 35 / 42 = 83%",
    "created_at": "2015-07-31T15:49:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196427",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:53'></a>
+Missing doctests  dynamics/symbolic/finite_type_shift.py 35 / 42 = 83%



---

archive/issue_comments_196428.json:
```json
{
    "body": "<a id='comment:54'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38741de4bf1dac88d58a4fe2125f6f8ac4adcafa\">38741de</a></td><td><code>Merge branch 'public/12996' into 7.3.b4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b28e76952ecbda35d49eb6fd36ac50293b7cff2\">5b28e76</a></td><td><code>refresh the branch on top of 7.3.b4</code></td></tr></table>\n",
    "created_at": "2016-06-20T19:41:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196428",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:54'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38741de4bf1dac88d58a4fe2125f6f8ac4adcafa">38741de</a></td><td><code>Merge branch 'public/12996' into 7.3.b4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b28e76952ecbda35d49eb6fd36ac50293b7cff2">5b28e76</a></td><td><code>refresh the branch on top of 7.3.b4</code></td></tr></table>




---

archive/issue_comments_196429.json:
```json
{
    "body": "**Changing commit** from \"[dacacd2882c26fc9f48982b5f1c56c9cc64c6c5f](https://github.com/sagemath/sagetrac-mirror/commit/dacacd2882c26fc9f48982b5f1c56c9cc64c6c5f)\" to \"[5b28e76952ecbda35d49eb6fd36ac50293b7cff2](https://github.com/sagemath/sagetrac-mirror/commit/5b28e76952ecbda35d49eb6fd36ac50293b7cff2)\".",
    "created_at": "2016-06-20T19:41:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12996",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12996#issuecomment-196429",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dacacd2882c26fc9f48982b5f1c56c9cc64c6c5f](https://github.com/sagemath/sagetrac-mirror/commit/dacacd2882c26fc9f48982b5f1c56c9cc64c6c5f)" to "[5b28e76952ecbda35d49eb6fd36ac50293b7cff2](https://github.com/sagemath/sagetrac-mirror/commit/5b28e76952ecbda35d49eb6fd36ac50293b7cff2)".
