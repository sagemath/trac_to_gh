# Issue 12569: Implementation of permutohedron intervals

archive/issues_012397.json:
```json
{
    "body": "We implement a new method in the class Permutation which enables to compute the permutations of intervals of the permutohedron.\n\nApply:\n* [attachment:trac_12569-permutohedron_intervals-sg-v2.patch]\n\n**Assignee:** sage-combinat\n\n**Keywords:** Permutations, Permutohedron\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton, Nathann Cohen\n\n**Author:** Samuele Giraudo, Fr\u00e9d\u00e9ric Chapoton\n\n**Merged:** sage-5.10.beta1\n\nIssue created by migration from https://trac.sagemath.org/ticket/12569\n\n",
    "closed_at": "2013-04-30T09:38:22Z",
    "created_at": "2012-02-23T09:19:19Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "Implementation of permutohedron intervals",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12569",
    "user": "https://trac.sagemath.org/admin/accounts/users/giraudo"
}
```
We implement a new method in the class Permutation which enables to compute the permutations of intervals of the permutohedron.

Apply:
* [attachment:trac_12569-permutohedron_intervals-sg-v2.patch]

**Assignee:** sage-combinat

**Keywords:** Permutations, Permutohedron

**Reviewer:** Frédéric Chapoton, Nathann Cohen

**Author:** Samuele Giraudo, Frédéric Chapoton

**Merged:** sage-5.10.beta1

Issue created by migration from https://trac.sagemath.org/ticket/12569





---

archive/attachments_016911.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12569-permutohedron_intervals-sg.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12569/trac_12569-permutohedron_intervals-sg.patch",
    "created_at": "2012-02-23T10:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/giraudo"
}
```



---

archive/issue_comments_143361.json:
```json
{
    "body": "Tested on Sage 4.8, combinat branch",
    "created_at": "2012-02-23T10:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143361",
    "user": "https://trac.sagemath.org/admin/accounts/users/giraudo"
}
```

Tested on Sage 4.8, combinat branch



---

archive/issue_events_106211.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/giraudo",
    "created_at": "2012-02-24T08:47:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12569#event-106211"
}
```



---

archive/issue_comments_143362.json:
```json
{
    "body": "<a id='comment:2'></a>\nLike in my previous post... this patch isn't in combinat branch...",
    "created_at": "2013-01-08T19:40:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143362",
    "user": "https://trac.sagemath.org/admin/accounts/users/elixyre"
}
```

<a id='comment:2'></a>
Like in my previous post... this patch isn't in combinat branch...



---

archive/issue_comments_143363.json:
```json
{
    "body": "<a id='comment:3'></a>\nHello,\n\ncould you please add documentation to the first function ? one indirect doctest would be fine, for example,\n\n```\nEXAMPLES:: \t \n    sage: Permutation([2, 1, 4, 5, 3]).right_permutohedron_interval(Permutation([2, 5, 4, 1, 3])) # indirect doctest\n    [[2, 1, 4, 5, 3], [2, 1, 5, 4, 3], [2, 4, 1, 5, 3], [2, 4, 5, 1, 3], [2, 5, 1, 4, 3], [2, 5, 4, 1, 3]] \n```\n\nthen the bot will be happy.\nCheers,\n\nF",
    "created_at": "2013-01-11T16:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143363",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
Hello,

could you please add documentation to the first function ? one indirect doctest would be fine, for example,

```
EXAMPLES:: 	 
    sage: Permutation([2, 1, 4, 5, 3]).right_permutohedron_interval(Permutation([2, 5, 4, 1, 3])) # indirect doctest
    [[2, 1, 4, 5, 3], [2, 1, 5, 4, 3], [2, 4, 1, 5, 3], [2, 4, 5, 1, 3], [2, 5, 1, 4, 3], [2, 5, 4, 1, 3]] 
```

then the bot will be happy.
Cheers,

F



---

archive/issue_comments_143364.json:
```json
{
    "body": "<a id='comment:4'></a>\n> then the bot will be happy.\n\n\nBut Sphinx, the documentation generator, will be disturbed if you don't put a\nblank line after `EXAMPLE::`. So the correct markup is:\n\n```\nEXAMPLES::\n\n    sage: Permutation([2, 1, 4, 5, 3]).right_permutohedron_interval(Permutation([2, 5, 4, 1, 3])) # indirect doctest\n    [[2, 1, 4, 5, 3], [2, 1, 5, 4, 3], [2, 4, 1, 5, 3], [2, 4, 5, 1, 3], [2, 5, 1, 4, 3], [2, 5, 4, 1, 3]] \n```\n\nFlorent",
    "created_at": "2013-01-12T00:24:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143364",
    "user": "https://github.com/hivert"
}
```

<a id='comment:4'></a>
> then the bot will be happy.


But Sphinx, the documentation generator, will be disturbed if you don't put a
blank line after `EXAMPLE::`. So the correct markup is:

```
EXAMPLES::

    sage: Permutation([2, 1, 4, 5, 3]).right_permutohedron_interval(Permutation([2, 5, 4, 1, 3])) # indirect doctest
    [[2, 1, 4, 5, 3], [2, 1, 5, 4, 3], [2, 4, 1, 5, 3], [2, 4, 5, 1, 3], [2, 5, 1, 4, 3], [2, 5, 4, 1, 3]] 
```

Florent



---

archive/issue_comments_143365.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n We implement a new method in the class Permutation which enables to compute the permutations of intervals of the permutohedron.\n+\n+apply trac_12569-permutohedron_intervals-sg-v2.patch\n``````\n",
    "created_at": "2013-01-13T11:55:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143365",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 We implement a new method in the class Permutation which enables to compute the permutations of intervals of the permutohedron.
+
+apply trac_12569-permutohedron_intervals-sg-v2.patch
``````




---

archive/issue_comments_143366.json:
```json
{
    "body": "<a id='comment:5'></a>\nI have added the doc.\n\npatchbot, apply trac_12569-permutohedron_intervals-sg-v2.patch",
    "created_at": "2013-01-13T11:55:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143366",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
I have added the doc.

patchbot, apply trac_12569-permutohedron_intervals-sg-v2.patch



---

archive/issue_comments_143367.json:
```json
{
    "body": "<a id='comment:6'></a>\nNew patch with minor changes, including one doctest for one of the raise exceptions.\n\nThere remains to add a doctest for the other raise exception.",
    "created_at": "2013-01-31T17:48:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143367",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
New patch with minor changes, including one doctest for one of the raise exceptions.

There remains to add a doctest for the other raise exception.



---

archive/issue_comments_143368.json:
```json
{
    "body": "<a id='comment:7'></a>\nI have added the doctest",
    "created_at": "2013-02-01T09:49:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143368",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
I have added the doctest



---

archive/issue_events_106212.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-03-09T22:30:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12569#event-106212"
}
```



---

archive/issue_events_106213.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-03-09T22:30:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12569#event-106213"
}
```



---

archive/issue_comments_143369.json:
```json
{
    "body": "<a id='comment:8'></a>\nHelloooooooooooooo !!\n\nSame remark as in #12571 : could you add those new methods to the index ? Besides, wouldn't it be possible to also call \"inverse\" in the second `add_edge(...)` line ?\n\nOh, yeah... Ad wouldn't it make sense to update `inversions` to index its results from 1 to n instead of 0 to n-1, assuming nobody agrees that permutations should themselves go from 0 to n-1 ?\n\nNathann",
    "created_at": "2013-03-09T22:30:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143369",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>
Helloooooooooooooo !!

Same remark as in #12571 : could you add those new methods to the index ? Besides, wouldn't it be possible to also call "inverse" in the second `add_edge(...)` line ?

Oh, yeah... Ad wouldn't it make sense to update `inversions` to index its results from 1 to n instead of 0 to n-1, assuming nobody agrees that permutations should themselves go from 0 to n-1 ?

Nathann



---

archive/issue_comments_143370.json:
```json
{
    "body": "<a id='comment:9'></a>\nHere is a new patch.\n\nI have changed the behavior of inversions, also improving very slightly its speed. Let us see if this causes problems elsewhere.\n\nI do not think one can use .inverse in the second add_edge line\n\nI have added both methods to the index\n\nI have taken the opportunity to make a very light clean up (using pyflakes to remove a few unused import and unused variables)",
    "created_at": "2013-03-12T20:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143370",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
Here is a new patch.

I have changed the behavior of inversions, also improving very slightly its speed. Let us see if this causes problems elsewhere.

I do not think one can use .inverse in the second add_edge line

I have added both methods to the index

I have taken the opportunity to make a very light clean up (using pyflakes to remove a few unused import and unused variables)



---

archive/issue_comments_143371.json:
```json
{
    "body": "<a id='comment:10'></a>\nSorry, I meant \"inversions\" not \"inverse\".\n\n```\nfor i in xrange(len(other) - 1) for j in xrange(i, len(other)) if other[i] < other[j]]\n```\n\nreally looks like a computation of inversions, doesn't it ? `O_o`\n\nNathann",
    "created_at": "2013-03-12T21:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143371",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:10'></a>
Sorry, I meant "inversions" not "inverse".

```
for i in xrange(len(other) - 1) for j in xrange(i, len(other)) if other[i] < other[j]]
```

really looks like a computation of inversions, doesn't it ? `O_o`

Nathann



---

archive/issue_comments_143372.json:
```json
{
    "body": "<a id='comment:11'></a>\nNo, it is a computation of 'not inversions' in fact.\n\nIt seems that the change of the behaviour inversions triggers a few doc tests in the rest of sage.. Some in graphs stuff, see the bot report.",
    "created_at": "2013-03-12T21:33:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143372",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
No, it is a computation of 'not inversions' in fact.

It seems that the change of the behaviour inversions triggers a few doc tests in the rest of sage.. Some in graphs stuff, see the bot report.



---

archive/attachments_016912.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12569-permutohedron_intervals-sg-v2.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket12569/trac_12569-permutohedron_intervals-sg-v2.patch",
    "created_at": "2013-04-04T21:03:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/fchapoton"
}
```



---

archive/issue_comments_143373.json:
```json
{
    "body": "",
    "created_at": "2013-04-04T21:03:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143373",
    "user": "https://github.com/fchapoton"
}
```





---

archive/issue_comments_143374.json:
```json
{
    "body": "**Work_Issues:** doc tests",
    "created_at": "2013-04-04T21:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143374",
    "user": "https://github.com/fchapoton"
}
```

**Work_Issues:** doc tests



---

archive/issue_events_106214.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-04-04T21:06:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12569#event-106214"
}
```



---

archive/issue_events_106215.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-04-04T21:06:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12569#event-106215"
}
```



---

archive/issue_comments_143375.json:
```json
{
    "body": "<a id='comment:12'></a>\nnew patch, correcting some doctests. There remains other doctests failing.\n\nfor the bot: \n\napply trac_12569-permutohedron_intervals-sg-v2.patch",
    "created_at": "2013-04-04T21:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143375",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
new patch, correcting some doctests. There remains other doctests failing.

for the bot: 

apply trac_12569-permutohedron_intervals-sg-v2.patch



---

archive/issue_comments_143376.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n We implement a new method in the class Permutation which enables to compute the permutations of intervals of the permutohedron.\n \n-apply trac_12569-permutohedron_intervals-sg-v2.patch\n+Apply:\n+* [attachment:trac_12569-permutohedron_intervals-sg-v2.patch]\n``````\n",
    "created_at": "2013-04-04T21:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143376",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
 We implement a new method in the class Permutation which enables to compute the permutations of intervals of the permutohedron.
 
-apply trac_12569-permutohedron_intervals-sg-v2.patch
+Apply:
+* [attachment:trac_12569-permutohedron_intervals-sg-v2.patch]
``````




---

archive/issue_comments_143377.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2013-04-04T21:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143377",
    "user": "https://github.com/fchapoton"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_comments_143378.json:
```json
{
    "body": "**Changing author** from \"Samuele Giraudo\" to \"Samuele Giraudo, Fr\u00e9d\u00e9ric Chapoton\".",
    "created_at": "2013-04-26T10:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143378",
    "user": "https://github.com/nathanncohen"
}
```

**Changing author** from "Samuele Giraudo" to "Samuele Giraudo, Frédéric Chapoton".



---

archive/issue_comments_143379.json:
```json
{
    "body": "<a id='comment:13'></a>\nHelloooooooooooooooo !!!\n\nI again spent a couple of minutes trying to check if there was anything wrong with the graph whose linear extensions you return, but modulo the fact that I am biologically unable to check if it is not \"left\" instead of \"right\" and which is the largest among 12 and 21, everything seems good `:-D`\n\nGood to go !\n\nNathann",
    "created_at": "2013-04-26T10:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143379",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'></a>
Helloooooooooooooooo !!!

I again spent a couple of minutes trying to check if there was anything wrong with the graph whose linear extensions you return, but modulo the fact that I am biologically unable to check if it is not "left" instead of "right" and which is the largest among 12 and 21, everything seems good `:-D`

Good to go !

Nathann



---

archive/issue_comments_143380.json:
```json
{
    "body": "**Changing reviewer** from \"Fr\u00e9d\u00e9ric Chapoton\" to \"Fr\u00e9d\u00e9ric Chapoton, Nathann Cohen\".",
    "created_at": "2013-04-26T10:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143380",
    "user": "https://github.com/nathanncohen"
}
```

**Changing reviewer** from "Frédéric Chapoton" to "Frédéric Chapoton, Nathann Cohen".



---

archive/issue_events_106216.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-04-26T10:56:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12569#event-106216"
}
```



---

archive/issue_events_106217.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-04-26T10:56:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12569#event-106217"
}
```



---

archive/issue_comments_143381.json:
```json
{
    "body": "**Changing work_issues** from \"doc tests\" to \"\".",
    "created_at": "2013-04-29T07:31:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143381",
    "user": "https://github.com/jdemeyer"
}
```

**Changing work_issues** from "doc tests" to "".



---

archive/issue_events_106218.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-30T09:38:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12569#event-106218"
}
```



---

archive/issue_events_106219.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-30T09:38:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12569#event-106219"
}
```



---

archive/issue_comments_143382.json:
```json
{
    "body": "**Merged:** sage-5.10.beta1",
    "created_at": "2013-04-30T09:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12569#issuecomment-143382",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.10.beta1
