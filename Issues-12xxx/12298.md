# Issue 12298: minor CallableSymbolicExpressionRing display bug.

archive/issues_012126.json:
```json
{
    "body": "When a CallableSymbolicExpressionRing is created with only one variable, arguments is still plural and an extra comma is printed.\n\nCorrect, #variable > 1:\n\n```\nsage: CallableSymbolicExpressionRing([var('q p')])\nCallable function ring with arguments (q, p)\n```\n\nIncorrect:\n\n```\nsage: CallableSymbolicExpressionRing([var('q')])\nCallable function ring with arguments (q,)\n```\n\nThe extra comma, I *suspect*, is because the repr returns something like \"... arguments (%s)\" % variable_tuple. This is what would be expected of a singular tuple.\n\nAssignee: gbe\n\nCC:  @kcrisman\n\nKeywords: beginner, sd35.5\n\nBranch/Commit: 6deecf1895185e4ae927ceb6d623e5bca66410b3\n\nReviewer: Kannappan Sampath, Karl-Dieter Crisman, Jeroen Demeyer\n\nAuthor: Geoffrey Ehrman, Kannappan Sampath, Sergey Bykov\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/12298\n\n",
    "closed_at": "2014-11-28T17:51:36Z",
    "created_at": "2012-01-11T21:14:25Z",
    "labels": [
        "component: symbolics",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "minor CallableSymbolicExpressionRing display bug.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12298",
    "user": "https://trac.sagemath.org/admin/accounts/users/gbe"
}
```
When a CallableSymbolicExpressionRing is created with only one variable, arguments is still plural and an extra comma is printed.

Correct, #variable > 1:

```
sage: CallableSymbolicExpressionRing([var('q p')])
Callable function ring with arguments (q, p)
```

Incorrect:

```
sage: CallableSymbolicExpressionRing([var('q')])
Callable function ring with arguments (q,)
```

The extra comma, I *suspect*, is because the repr returns something like "... arguments (%s)" % variable_tuple. This is what would be expected of a singular tuple.

Assignee: gbe

CC:  @kcrisman

Keywords: beginner, sd35.5

Branch/Commit: 6deecf1895185e4ae927ceb6d623e5bca66410b3

Reviewer: Kannappan Sampath, Karl-Dieter Crisman, Jeroen Demeyer

Author: Geoffrey Ehrman, Kannappan Sampath, Sergey Bykov

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/12298





---

archive/issue_comments_170380.json:
```json
{
    "body": "Attachment [trac_12298.patch](tarball://root/attachments/some-uuid/ticket12298/trac_12298.patch) by gbe created at 2012-01-12 15:45:52",
    "created_at": "2012-01-12T15:45:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170380",
    "user": "https://trac.sagemath.org/admin/accounts/users/gbe"
}
```

Attachment [trac_12298.patch](tarball://root/attachments/some-uuid/ticket12298/trac_12298.patch) by gbe created at 2012-01-12 15:45:52



---

archive/issue_comments_170381.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-01-12T15:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170381",
    "user": "https://trac.sagemath.org/admin/accounts/users/gbe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_170382.json:
```json
{
    "body": "Changing keywords from \"beginner\" to \"beginner, sd35.5\".",
    "created_at": "2012-01-12T15:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170382",
    "user": "https://trac.sagemath.org/admin/accounts/users/gbe"
}
```

Changing keywords from "beginner" to "beginner, sd35.5".



---

archive/issue_comments_170383.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-02-03T03:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170383",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_170384.json:
```json
{
    "body": "Changing author from \"\" to \"Geoffrey Ehrman\"",
    "created_at": "2012-02-03T03:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170384",
    "user": "https://github.com/kcrisman"
}
```

Changing author from "" to "Geoffrey Ehrman"



---

archive/issue_comments_170385.json:
```json
{
    "body": "<a id='comment:4'></a>\nThis looks fine but needs doctests.",
    "created_at": "2012-02-03T03:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170385",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>
This looks fine but needs doctests.



---

archive/issue_comments_170386.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Karl-Dieter Crisman\"",
    "created_at": "2012-02-03T03:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170386",
    "user": "https://github.com/kcrisman"
}
```

Changing reviewer from "" to "Karl-Dieter Crisman"



---

archive/issue_comments_170387.json:
```json
{
    "body": "Adds doctests and introduces minor coding style changes.",
    "created_at": "2013-02-02T22:42:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170387",
    "user": "https://github.com/KPanComputes"
}
```

Adds doctests and introduces minor coding style changes.



---

archive/issue_comments_170388.json:
```json
{
    "body": "<a id='comment:5'></a>\nAttachment [trac_12298_doctest_add.patch](tarball://root/attachments/some-uuid/ticket12298/trac_12298_doctest_add.patch) by @KPanComputes created at 2013-02-02 22:44:04",
    "created_at": "2013-02-02T22:44:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170388",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:5'></a>
Attachment [trac_12298_doctest_add.patch](tarball://root/attachments/some-uuid/ticket12298/trac_12298_doctest_add.patch) by @KPanComputes created at 2013-02-02 22:44:04



---

archive/issue_comments_170389.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-02-02T22:44:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170389",
    "user": "https://github.com/KPanComputes"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_170390.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks.  Given that you are making these changes, should we fix any other little changes like that and add this file to the reference manual?  See e.g. [here](http://hg.sagemath.org/sage-main/file/9519a7bb2f42/doc/en/reference/calculus.rst#l1).  Though perhaps that should be based off of #6495 rather than interfere with that very big patch...",
    "created_at": "2013-02-03T02:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170390",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>
Thanks.  Given that you are making these changes, should we fix any other little changes like that and add this file to the reference manual?  See e.g. [here](http://hg.sagemath.org/sage-main/file/9519a7bb2f42/doc/en/reference/calculus.rst#l1).  Though perhaps that should be based off of #6495 rather than interfere with that very big patch...



---

archive/issue_comments_170391.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [kcrisman](#comment%3A6): Hello! \n\n> Thanks.  Given that you are making these changes, should we fix any other little changes like that and add this file to the reference manual?  See e.g. [here](http://hg.sagemath.org/sage-main/file/9519a7bb2f42/doc/en/reference/calculus.rst#l1).  Though perhaps that should be based off of #6495 rather than interfere with that very big patch...\n\n\nWe could sure do that. We'll have to find an appropriate place to add this. I'd be glad to hear your suggestion, but at the moment, I am inclined to add it just after `sage/symbolic/function` (equivalently, just before `sage/symbolic/integration/integral`).",
    "created_at": "2013-02-03T10:37:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170391",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:7'></a>
Replying to [kcrisman](#comment%3A6): Hello! 

> Thanks.  Given that you are making these changes, should we fix any other little changes like that and add this file to the reference manual?  See e.g. [here](http://hg.sagemath.org/sage-main/file/9519a7bb2f42/doc/en/reference/calculus.rst#l1).  Though perhaps that should be based off of #6495 rather than interfere with that very big patch...


We could sure do that. We'll have to find an appropriate place to add this. I'd be glad to hear your suggestion, but at the moment, I am inclined to add it just after `sage/symbolic/function` (equivalently, just before `sage/symbolic/integration/integral`).



---

archive/issue_comments_170392.json:
```json
{
    "body": "Changing author from \"Geoffrey Ehrman\" to \"Geoffrey Ehrman, Kannappan Sampath\"",
    "created_at": "2013-03-13T15:29:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170392",
    "user": "https://github.com/kcrisman"
}
```

Changing author from "Geoffrey Ehrman" to "Geoffrey Ehrman, Kannappan Sampath"



---

archive/issue_comments_170393.json:
```json
{
    "body": "Changing reviewer from \"Karl-Dieter Crisman\" to \"Kannappan Sampath, Karl-Dieter Crisman\"",
    "created_at": "2013-03-13T15:29:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170393",
    "user": "https://github.com/kcrisman"
}
```

Changing reviewer from "Karl-Dieter Crisman" to "Kannappan Sampath, Karl-Dieter Crisman"



---

archive/issue_comments_170394.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-03-13T15:29:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170394",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_170395.json:
```json
{
    "body": "<a id='comment:8'></a>\nSee patchbot result.\n\n```\nsage -t  -force_lib devel/sage-12298/sage/modules/free_module_element.pyx\n**********************************************************************\nFile \"/scratch/sage-5.8.beta4/devel/sage-12298/sage/modules/free_module_element.pyx\", line 3900:\n    sage: w.base_ring()\nExpected:\n    Callable function ring with arguments (x,)\nGot:\n    Callable function ring with argument x\n**********************************************************************\n```\nShould be easy to fix.  Maybe you can add this to the reference manual at the place you suggest, too.\n\nOtherwise this is fine, though if you're already doing it you may want to switch to Python 3 string formatting - up to you.",
    "created_at": "2013-03-13T15:29:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170395",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>
See patchbot result.

```
sage -t  -force_lib devel/sage-12298/sage/modules/free_module_element.pyx
**********************************************************************
File "/scratch/sage-5.8.beta4/devel/sage-12298/sage/modules/free_module_element.pyx", line 3900:
    sage: w.base_ring()
Expected:
    Callable function ring with arguments (x,)
Got:
    Callable function ring with argument x
**********************************************************************
```
Should be easy to fix.  Maybe you can add this to the reference manual at the place you suggest, too.

Otherwise this is fine, though if you're already doing it you may want to switch to Python 3 string formatting - up to you.



---

archive/issue_events_046357.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-46357"
}
```



---

archive/issue_events_046358.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-46358"
}
```



---

archive/issue_events_046359.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-46359"
}
```



---

archive/issue_events_046360.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-46360"
}
```



---

archive/issue_events_046361.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-46361"
}
```



---

archive/issue_events_046362.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-46362"
}
```



---

archive/issue_events_046363.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-46363"
}
```



---

archive/issue_comments_170396.json:
```json
{
    "body": "Changing branch from \"\" to \"u/captaintrunky/minor_callablesymbolicexpressionring_display_bug_\"",
    "created_at": "2014-10-19T11:37:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170396",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

Changing branch from "" to "u/captaintrunky/minor_callablesymbolicexpressionring_display_bug_"



---

archive/issue_comments_170397.json:
```json
{
    "body": "<a id='comment:14'></a>\nNew commits:\n|                                                                                                                                          |                                                                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|\n|[6deecf1](https://github.com/sagemath/sagetrac-mirror/commit/6deecf1895185e4ae927ceb6d623e5bca66410b3)|`Fixes a misspelling at src/sage/categories/pushout.py and the docstring test with CallableSymbolicExpressionRing`|",
    "created_at": "2014-10-19T11:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170397",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

<a id='comment:14'></a>
New commits:
|                                                                                                                                          |                                                                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|
|[6deecf1](https://github.com/sagemath/sagetrac-mirror/commit/6deecf1895185e4ae927ceb6d623e5bca66410b3)|`Fixes a misspelling at src/sage/categories/pushout.py and the docstring test with CallableSymbolicExpressionRing`|



---

archive/issue_comments_170398.json:
```json
{
    "body": "Changing commit from \"\" to \"6deecf1895185e4ae927ceb6d623e5bca66410b3\"",
    "created_at": "2014-10-19T11:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170398",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

Changing commit from "" to "6deecf1895185e4ae927ceb6d623e5bca66410b3"



---

archive/issue_comments_170399.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-19T11:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170399",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_170400.json:
```json
{
    "body": "Changing author from \"Geoffrey Ehrman, Kannappan Sampath\" to \"Geoffrey Ehrman, Kannappan Sampath, Sergey Bykov\"",
    "created_at": "2014-10-19T11:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170400",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

Changing author from "Geoffrey Ehrman, Kannappan Sampath" to "Geoffrey Ehrman, Kannappan Sampath, Sergey Bykov"



---

archive/issue_comments_170401.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-27T21:39:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170401",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_170402.json:
```json
{
    "body": "Changing reviewer from \"Kannappan Sampath, Karl-Dieter Crisman\" to \"Kannappan Sampath, Karl-Dieter Crisman, Jeroen Demeyer\"",
    "created_at": "2014-11-27T21:39:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170402",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "Kannappan Sampath, Karl-Dieter Crisman" to "Kannappan Sampath, Karl-Dieter Crisman, Jeroen Demeyer"



---

archive/issue_events_046364.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-27T21:39:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-46364"
}
```



---

archive/issue_events_046365.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-27T21:39:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-46365"
}
```



---

archive/issue_comments_170403.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-28T17:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170403",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_046366.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-28T17:51:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-46366"
}
```



---

archive/issue_comments_170404.json:
```json
{
    "body": "Changing branch from \"u/captaintrunky/minor_callablesymbolicexpressionring_display_bug_\" to \"6deecf1895185e4ae927ceb6d623e5bca66410b3\"",
    "created_at": "2014-11-28T17:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-170404",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/captaintrunky/minor_callablesymbolicexpressionring_display_bug_" to "6deecf1895185e4ae927ceb6d623e5bca66410b3"
