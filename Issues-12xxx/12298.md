# Issue 12298: minor CallableSymbolicExpressionRing display bug.

archive/issues_012126.json:
```json
{
    "body": "When a CallableSymbolicExpressionRing is created with only one variable, arguments is still plural and an extra comma is printed.\n\nCorrect, #variable > 1:\n\n```\nsage: CallableSymbolicExpressionRing([var('q p')])\nCallable function ring with arguments (q, p)\n```\n\nIncorrect:\n\n```\nsage: CallableSymbolicExpressionRing([var('q')])\nCallable function ring with arguments (q,)\n```\n\nThe extra comma, I *suspect*, is because the repr returns something like \"... arguments (%s)\" % variable_tuple. This is what would be expected of a singular tuple.\n\nAssignee: gbe\n\nCC:  @kcrisman\n\nKeywords: beginner, sd35.5\n\nBranch/Commit: 6deecf1895185e4ae927ceb6d623e5bca66410b3\n\nReviewer: Kannappan Sampath, Karl-Dieter Crisman, Jeroen Demeyer\n\nAuthor: Geoffrey Ehrman, Kannappan Sampath, Sergey Bykov\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/12298\n\n",
    "closed_at": "2014-11-28T17:51:36Z",
    "created_at": "2012-01-11T21:14:25Z",
    "labels": [
        "component: symbolics",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "minor CallableSymbolicExpressionRing display bug.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12298",
    "user": "https://trac.sagemath.org/admin/accounts/users/gbe"
}
```
When a CallableSymbolicExpressionRing is created with only one variable, arguments is still plural and an extra comma is printed.

Correct, #variable > 1:

```
sage: CallableSymbolicExpressionRing([var('q p')])
Callable function ring with arguments (q, p)
```

Incorrect:

```
sage: CallableSymbolicExpressionRing([var('q')])
Callable function ring with arguments (q,)
```

The extra comma, I *suspect*, is because the repr returns something like "... arguments (%s)" % variable_tuple. This is what would be expected of a singular tuple.

Assignee: gbe

CC:  @kcrisman

Keywords: beginner, sd35.5

Branch/Commit: 6deecf1895185e4ae927ceb6d623e5bca66410b3

Reviewer: Kannappan Sampath, Karl-Dieter Crisman, Jeroen Demeyer

Author: Geoffrey Ehrman, Kannappan Sampath, Sergey Bykov

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/12298





---

archive/issue_comments_140369.json:
```json
{
    "body": "Attachment [trac_12298.patch](tarball://root/attachments/some-uuid/ticket12298/trac_12298.patch) by gbe created at 2012-01-12 15:45:52",
    "created_at": "2012-01-12T15:45:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140369",
    "user": "https://trac.sagemath.org/admin/accounts/users/gbe"
}
```

Attachment [trac_12298.patch](tarball://root/attachments/some-uuid/ticket12298/trac_12298.patch) by gbe created at 2012-01-12 15:45:52



---

archive/issue_comments_140370.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-01-12T15:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140370",
    "user": "https://trac.sagemath.org/admin/accounts/users/gbe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_140371.json:
```json
{
    "body": "Changing keywords from \"beginner\" to \"beginner, sd35.5\".",
    "created_at": "2012-01-12T15:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140371",
    "user": "https://trac.sagemath.org/admin/accounts/users/gbe"
}
```

Changing keywords from "beginner" to "beginner, sd35.5".



---

archive/issue_comments_140372.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-02-03T03:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140372",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_140373.json:
```json
{
    "body": "<a id='comment:4'></a>This looks fine but needs doctests.",
    "created_at": "2012-02-03T03:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140373",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>This looks fine but needs doctests.



---

archive/issue_comments_140374.json:
```json
{
    "body": "Adds doctests and introduces minor coding style changes.",
    "created_at": "2013-02-02T22:42:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140374",
    "user": "https://github.com/KPanComputes"
}
```

Adds doctests and introduces minor coding style changes.



---

archive/issue_comments_140375.json:
```json
{
    "body": "<a id='comment:5'></a>Attachment [trac_12298_doctest_add.patch](tarball://root/attachments/some-uuid/ticket12298/trac_12298_doctest_add.patch) by @KPanComputes created at 2013-02-02 22:44:04",
    "created_at": "2013-02-02T22:44:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140375",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:5'></a>Attachment [trac_12298_doctest_add.patch](tarball://root/attachments/some-uuid/ticket12298/trac_12298_doctest_add.patch) by @KPanComputes created at 2013-02-02 22:44:04



---

archive/issue_comments_140376.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-02-02T22:44:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140376",
    "user": "https://github.com/KPanComputes"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_140377.json:
```json
{
    "body": "<a id='comment:6'></a>Thanks.  Given that you are making these changes, should we fix any other little changes like that and add this file to the reference manual?  See e.g. [here](http://hg.sagemath.org/sage-main/file/9519a7bb2f42/doc/en/reference/calculus.rst#l1).  Though perhaps that should be based off of #6495 rather than interfere with that very big patch...",
    "created_at": "2013-02-03T02:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140377",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>Thanks.  Given that you are making these changes, should we fix any other little changes like that and add this file to the reference manual?  See e.g. [here](http://hg.sagemath.org/sage-main/file/9519a7bb2f42/doc/en/reference/calculus.rst#l1).  Though perhaps that should be based off of #6495 rather than interfere with that very big patch...



---

archive/issue_comments_140378.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 kcrisman]: Hello! \n\n> Thanks.  Given that you are making these changes, should we fix any other little changes like that and add this file to the reference manual?  See e.g. [here](http://hg.sagemath.org/sage-main/file/9519a7bb2f42/doc/en/reference/calculus.rst#l1).  Though perhaps that should be based off of #6495 rather than interfere with that very big patch...\n\n\nWe could sure do that. We'll have to find an appropriate place to add this. I'd be glad to hear your suggestion, but at the moment, I am inclined to add it just after `sage/symbolic/function` (equivalently, just before `sage/symbolic/integration/integral`).",
    "created_at": "2013-02-03T10:37:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140378",
    "user": "https://github.com/KPanComputes"
}
```

<a id='comment:7'></a>Replying to [comment:6 kcrisman]: Hello! 

> Thanks.  Given that you are making these changes, should we fix any other little changes like that and add this file to the reference manual?  See e.g. [here](http://hg.sagemath.org/sage-main/file/9519a7bb2f42/doc/en/reference/calculus.rst#l1).  Though perhaps that should be based off of #6495 rather than interfere with that very big patch...


We could sure do that. We'll have to find an appropriate place to add this. I'd be glad to hear your suggestion, but at the moment, I am inclined to add it just after `sage/symbolic/function` (equivalently, just before `sage/symbolic/integration/integral`).



---

archive/issue_comments_140379.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-03-13T15:29:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140379",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_140380.json:
```json
{
    "body": "<a id='comment:8'></a>See patchbot result.\n\n```\nsage -t  -force_lib devel/sage-12298/sage/modules/free_module_element.pyx\n**********************************************************************\nFile \"/scratch/sage-5.8.beta4/devel/sage-12298/sage/modules/free_module_element.pyx\", line 3900:\n    sage: w.base_ring()\nExpected:\n    Callable function ring with arguments (x,)\nGot:\n    Callable function ring with argument x\n**********************************************************************\n```\nShould be easy to fix.  Maybe you can add this to the reference manual at the place you suggest, too.\n\nOtherwise this is fine, though if you're already doing it you may want to switch to Python 3 string formatting - up to you.",
    "created_at": "2013-03-13T15:29:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140380",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>See patchbot result.

```
sage -t  -force_lib devel/sage-12298/sage/modules/free_module_element.pyx
**********************************************************************
File "/scratch/sage-5.8.beta4/devel/sage-12298/sage/modules/free_module_element.pyx", line 3900:
    sage: w.base_ring()
Expected:
    Callable function ring with arguments (x,)
Got:
    Callable function ring with argument x
**********************************************************************
```
Should be easy to fix.  Maybe you can add this to the reference manual at the place you suggest, too.

Otherwise this is fine, though if you're already doing it you may want to switch to Python 3 string formatting - up to you.



---

archive/issue_events_032882.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-32882"
}
```



---

archive/issue_events_032883.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-32883"
}
```



---

archive/issue_events_032884.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-32884"
}
```



---

archive/issue_events_032885.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-32885"
}
```



---

archive/issue_events_032886.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-32886"
}
```



---

archive/issue_events_032887.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-32887"
}
```



---

archive/issue_events_032888.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-32888"
}
```



---

archive/issue_comments_140381.json:
```json
{
    "body": "<a id='comment:14'></a>New commits:",
    "created_at": "2014-10-19T11:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140381",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

<a id='comment:14'></a>New commits:



---

archive/issue_comments_140382.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-10-19T11:40:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140382",
    "user": "https://trac.sagemath.org/admin/accounts/users/captaintrunky"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_140383.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-27T21:39:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140383",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_032889.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-27T21:39:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-32889"
}
```



---

archive/issue_events_032890.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-27T21:39:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "milestone": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-32890"
}
```



---

archive/issue_comments_140384.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-28T17:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12298#issuecomment-140384",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_032891.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-28T17:51:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12298",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12298#event-32891"
}
```
