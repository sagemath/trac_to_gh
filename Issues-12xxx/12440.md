# Issue 12440: gfan fails to build with clang

archive/issues_012268.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-GeorgSWeber"
    ],
    "body": "In gfan-5.0 there are C++ problems\n* friend declarations\n\n```\n[gfan-0.5.p1] clang++  -std=c++98 -O2 -DGMPRATIONAL -Wuninitialized -g       -I/Users/fbissey/build/sage/local/include -c printer.cpp\n[gfan-0.5.p1] In file included from printer.cpp:4:\n[gfan-0.5.p1] ./polyhedralfan.h:77:24: error: friend declaration specifying a default argument must be a definition\n[gfan-0.5.p1]   friend PolyhedralFan refinement(const PolyhedralFan &a, const PolyhedralFan &b, int cutOffDimension=-1, bool allowASingleConeOfCutOffDimension=false);\n[gfan-0.5.p1]                        ^\n[gfan-0.5.p1] 1 error generated.\n```\nand 2 more. Solved with the help of http://stackoverflow.com/questions/22533511/friend-declaration-specifying-a-default-argument-must-be-a-definition\n\n* next issue is ambiguity\n\n```\n[gfan-0.5.p1] clang++  -std=c++98 -O2 -DGMPRATIONAL -Wuninitialized -g       -I/Users/fbissey/build/sage/local/include -c app_secondaryfan.cpp\n[gfan-0.5.p1] In file included from app_secondaryfan.cpp:22:\n[gfan-0.5.p1] ./intsinpolytope.h:1:9: warning: 'INTSINPOLYTOPE_H_INCLUDED' is used as a header guard here, followed by #define of a different macro [-Wheader-guard]\n[gfan-0.5.p1] #ifndef INTSINPOLYTOPE_H_INCLUDED\n[gfan-0.5.p1]         ^~~~~~~~~~~~~~~~~~~~~~~~~\n[gfan-0.5.p1] ./intsinpolytope.h:2:9: note: 'INTSINPOLYTOPE_H_INLCUDED' is defined here; did you mean 'INTSINPOLYTOPE_H_INCLUDED'?\n[gfan-0.5.p1] #define INTSINPOLYTOPE_H_INLCUDED\n[gfan-0.5.p1]         ^~~~~~~~~~~~~~~~~~~~~~~~~\n[gfan-0.5.p1]         INTSINPOLYTOPE_H_INCLUDED\n[gfan-0.5.p1] app_secondaryfan.cpp:145:59: warning: format specifies type 'int' but the argument has type 'size_type' (aka 'unsigned long') [-Wformat]\n[gfan-0.5.p1]         fprintf(stdout,\"Triangles in current triangulation:%i\\n\",a.bases.size());\n[gfan-0.5.p1]                                                            ~~    ^~~~~~~~~~~~~~\n[gfan-0.5.p1]                                                            %lu\n[gfan-0.5.p1] app_secondaryfan.cpp:201:59: warning: format specifies type 'int' but the argument has type 'size_type' (aka 'unsigned long') [-Wformat]\n[gfan-0.5.p1]         fprintf(stdout,\"Triangles in current triangulation:%i\\n\",a.bases.size());\n[gfan-0.5.p1]                                                            ~~    ^~~~~~~~~~~~~~\n[gfan-0.5.p1]                                                            %lu\n[gfan-0.5.p1] app_secondaryfan.cpp:217:56: warning: format specifies type 'int' but the argument has type 'size_type' (aka 'unsigned long') [-Wformat]\n[gfan-0.5.p1]                 fprintf(stdout,\"Triangles in new triangulation:%i\\n\",b.bases.size());\n[gfan-0.5.p1]                                                                ~~    ^~~~~~~~~~~~~~\n[gfan-0.5.p1]                                                                %lu\n[gfan-0.5.p1] app_secondaryfan.cpp:310:5: error: reference to 'rank' is ambiguous\n[gfan-0.5.p1]         if(rank(A)!=A.getHeight())\n[gfan-0.5.p1]            ^\n[gfan-0.5.p1] ./matrix.h:150:5: note: candidate found by name lookup is 'rank'\n[gfan-0.5.p1] int rank(IntegerMatrix const &m);\n[gfan-0.5.p1]     ^\n[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: candidate found by name lookup is 'std::__1::rank'\n[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank\n[gfan-0.5.p1]                                                   ^\n[gfan-0.5.p1] app_secondaryfan.cpp:310:5: error: use of class template 'rank' requires template arguments\n[gfan-0.5.p1]         if(rank(A)!=A.getHeight())\n[gfan-0.5.p1]            ^\n[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: template is declared here\n[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank\n[gfan-0.5.p1] ~~~~~~~~~~~~~~~~~~~~                              ^\n[gfan-0.5.p1] app_secondaryfan.cpp:310:12: error: invalid '!=' at end of declaration; did you mean '='?\n[gfan-0.5.p1]         if(rank(A)!=A.getHeight())\n[gfan-0.5.p1]                   ^~\n[gfan-0.5.p1]                   =\n[gfan-0.5.p1] app_secondaryfan.cpp:345:8: error: reference to 'rank' is ambiguous\n[gfan-0.5.p1]     if(rank(A)!=A.getHeight())\n[gfan-0.5.p1]        ^\n[gfan-0.5.p1] ./matrix.h:150:5: note: candidate found by name lookup is 'rank'\n[gfan-0.5.p1] int rank(IntegerMatrix const &m);\n[gfan-0.5.p1]     ^\n[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: candidate found by name lookup is 'std::__1::rank'\n[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank\n[gfan-0.5.p1]                                                   ^\n[gfan-0.5.p1] app_secondaryfan.cpp:345:8: error: use of class template 'rank' requires template arguments\n[gfan-0.5.p1]     if(rank(A)!=A.getHeight())\n[gfan-0.5.p1]        ^\n[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: template is declared here\n[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank\n[gfan-0.5.p1] ~~~~~~~~~~~~~~~~~~~~                              ^\n[gfan-0.5.p1] app_secondaryfan.cpp:345:15: error: invalid '!=' at end of declaration; did you mean '='?\n[gfan-0.5.p1]     if(rank(A)!=A.getHeight())\n[gfan-0.5.p1]               ^~\n[gfan-0.5.p1]               =\n[gfan-0.5.p1] 4 warnings and 6 errors generated.\n[gfan-0.5.p1] make[2]: *** [app_secondaryfan.o] Error 1\n[gfan-0.5.p1] Error building gfan.\n```\n\n\nCC:  @tscrim\n\nBranch/Commit: **[fbb4069](https://github.com/sagemath/sagetrac-mirror/commit/fbb4069630ddf63c0c5a275fd339261627f3a40e)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fran\u00e7ois Bissey**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12440_\n\n",
    "closed_at": "2016-10-03T22:42:01Z",
    "created_at": "2012-02-04T19:19:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "gfan fails to build with clang",
    "type": "issue",
    "updated_at": "2016-10-03T22:42:01Z",
    "url": "https://github.com/sagemath/sage/issues/12440",
    "user": "https://github.com/ohanar"
}
```
In gfan-5.0 there are C++ problems
* friend declarations

```
[gfan-0.5.p1] clang++  -std=c++98 -O2 -DGMPRATIONAL -Wuninitialized -g       -I/Users/fbissey/build/sage/local/include -c printer.cpp
[gfan-0.5.p1] In file included from printer.cpp:4:
[gfan-0.5.p1] ./polyhedralfan.h:77:24: error: friend declaration specifying a default argument must be a definition
[gfan-0.5.p1]   friend PolyhedralFan refinement(const PolyhedralFan &a, const PolyhedralFan &b, int cutOffDimension=-1, bool allowASingleConeOfCutOffDimension=false);
[gfan-0.5.p1]                        ^
[gfan-0.5.p1] 1 error generated.
```
and 2 more. Solved with the help of http://stackoverflow.com/questions/22533511/friend-declaration-specifying-a-default-argument-must-be-a-definition

* next issue is ambiguity

```
[gfan-0.5.p1] clang++  -std=c++98 -O2 -DGMPRATIONAL -Wuninitialized -g       -I/Users/fbissey/build/sage/local/include -c app_secondaryfan.cpp
[gfan-0.5.p1] In file included from app_secondaryfan.cpp:22:
[gfan-0.5.p1] ./intsinpolytope.h:1:9: warning: 'INTSINPOLYTOPE_H_INCLUDED' is used as a header guard here, followed by #define of a different macro [-Wheader-guard]
[gfan-0.5.p1] #ifndef INTSINPOLYTOPE_H_INCLUDED
[gfan-0.5.p1]         ^~~~~~~~~~~~~~~~~~~~~~~~~
[gfan-0.5.p1] ./intsinpolytope.h:2:9: note: 'INTSINPOLYTOPE_H_INLCUDED' is defined here; did you mean 'INTSINPOLYTOPE_H_INCLUDED'?
[gfan-0.5.p1] #define INTSINPOLYTOPE_H_INLCUDED
[gfan-0.5.p1]         ^~~~~~~~~~~~~~~~~~~~~~~~~
[gfan-0.5.p1]         INTSINPOLYTOPE_H_INCLUDED
[gfan-0.5.p1] app_secondaryfan.cpp:145:59: warning: format specifies type 'int' but the argument has type 'size_type' (aka 'unsigned long') [-Wformat]
[gfan-0.5.p1]         fprintf(stdout,"Triangles in current triangulation:%i\n",a.bases.size());
[gfan-0.5.p1]                                                            ~~    ^~~~~~~~~~~~~~
[gfan-0.5.p1]                                                            %lu
[gfan-0.5.p1] app_secondaryfan.cpp:201:59: warning: format specifies type 'int' but the argument has type 'size_type' (aka 'unsigned long') [-Wformat]
[gfan-0.5.p1]         fprintf(stdout,"Triangles in current triangulation:%i\n",a.bases.size());
[gfan-0.5.p1]                                                            ~~    ^~~~~~~~~~~~~~
[gfan-0.5.p1]                                                            %lu
[gfan-0.5.p1] app_secondaryfan.cpp:217:56: warning: format specifies type 'int' but the argument has type 'size_type' (aka 'unsigned long') [-Wformat]
[gfan-0.5.p1]                 fprintf(stdout,"Triangles in new triangulation:%i\n",b.bases.size());
[gfan-0.5.p1]                                                                ~~    ^~~~~~~~~~~~~~
[gfan-0.5.p1]                                                                %lu
[gfan-0.5.p1] app_secondaryfan.cpp:310:5: error: reference to 'rank' is ambiguous
[gfan-0.5.p1]         if(rank(A)!=A.getHeight())
[gfan-0.5.p1]            ^
[gfan-0.5.p1] ./matrix.h:150:5: note: candidate found by name lookup is 'rank'
[gfan-0.5.p1] int rank(IntegerMatrix const &m);
[gfan-0.5.p1]     ^
[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: candidate found by name lookup is 'std::__1::rank'
[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank
[gfan-0.5.p1]                                                   ^
[gfan-0.5.p1] app_secondaryfan.cpp:310:5: error: use of class template 'rank' requires template arguments
[gfan-0.5.p1]         if(rank(A)!=A.getHeight())
[gfan-0.5.p1]            ^
[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: template is declared here
[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank
[gfan-0.5.p1] ~~~~~~~~~~~~~~~~~~~~                              ^
[gfan-0.5.p1] app_secondaryfan.cpp:310:12: error: invalid '!=' at end of declaration; did you mean '='?
[gfan-0.5.p1]         if(rank(A)!=A.getHeight())
[gfan-0.5.p1]                   ^~
[gfan-0.5.p1]                   =
[gfan-0.5.p1] app_secondaryfan.cpp:345:8: error: reference to 'rank' is ambiguous
[gfan-0.5.p1]     if(rank(A)!=A.getHeight())
[gfan-0.5.p1]        ^
[gfan-0.5.p1] ./matrix.h:150:5: note: candidate found by name lookup is 'rank'
[gfan-0.5.p1] int rank(IntegerMatrix const &m);
[gfan-0.5.p1]     ^
[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: candidate found by name lookup is 'std::__1::rank'
[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank
[gfan-0.5.p1]                                                   ^
[gfan-0.5.p1] app_secondaryfan.cpp:345:8: error: use of class template 'rank' requires template arguments
[gfan-0.5.p1]     if(rank(A)!=A.getHeight())
[gfan-0.5.p1]        ^
[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: template is declared here
[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank
[gfan-0.5.p1] ~~~~~~~~~~~~~~~~~~~~                              ^
[gfan-0.5.p1] app_secondaryfan.cpp:345:15: error: invalid '!=' at end of declaration; did you mean '='?
[gfan-0.5.p1]     if(rank(A)!=A.getHeight())
[gfan-0.5.p1]               ^~
[gfan-0.5.p1]               =
[gfan-0.5.p1] 4 warnings and 6 errors generated.
[gfan-0.5.p1] make[2]: *** [app_secondaryfan.o] Error 1
[gfan-0.5.p1] Error building gfan.
```


CC:  @tscrim

Branch/Commit: **[fbb4069](https://github.com/sagemath/sagetrac-mirror/commit/fbb4069630ddf63c0c5a275fd339261627f3a40e)**

Reviewer: **Travis Scrimshaw**

Author: **François Bissey**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/12440_





---

archive/issue_events_170002.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-02-04T19:19:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170002"
}
```



---

archive/issue_events_170003.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-02-04T19:19:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170003"
}
```



---

archive/issue_events_170004.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-02-04T19:19:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170004"
}
```



---

archive/issue_events_170005.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-02-04T19:19:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170005"
}
```



---

archive/issue_events_170006.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2012-02-04T19:19:28Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "subject": "https://github.com/ohanar",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170006"
}
```



---

archive/issue_comments_137076.json:
```json
{
    "body": "for review purposes",
    "created_at": "2012-02-04T19:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137076",
    "user": "https://github.com/ohanar"
}
```

for review purposes



---

archive/issue_events_170007.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2012-02-04T19:19:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170007"
}
```



---

archive/issue_comments_137077.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[gfan-0.4plus.p2.patch.gz](https://github.com/sagemath/sage/files/ticket12440/gfan-0.4plus.p2.patch.gz)**",
    "created_at": "2012-02-04T19:19:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137077",
    "user": "https://github.com/ohanar"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[gfan-0.4plus.p2.patch.gz](https://github.com/sagemath/sage/files/ticket12440/gfan-0.4plus.p2.patch.gz)**



---

archive/issue_comments_137078.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis also breaks the build with GCC 4.7.0.\n\nI've made an spkg fixing this and cleaning up `spkg-install` and `SPKG.txt` at #12760, currently needing review.  (I also added a couple of TODOs, to my excuse not just because I was too lazy, but also since Marshall Hampton is going to upgrade Gfan to version 0.5 anyway, at #11395.  I'll probably make some further changes to my spkg though, but these are not on my high-priority list.)",
    "created_at": "2012-04-08T02:14:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137078",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:2" align="right">comment:2</div>

This also breaks the build with GCC 4.7.0.

I've made an spkg fixing this and cleaning up `spkg-install` and `SPKG.txt` at #12760, currently needing review.  (I also added a couple of TODOs, to my excuse not just because I was too lazy, but also since Marshall Hampton is going to upgrade Gfan to version 0.5 anyway, at #11395.  I'll probably make some further changes to my spkg though, but these are not on my high-priority list.)



---

archive/issue_comments_137079.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nPlease fill in your real name as Author.",
    "created_at": "2012-07-27T20:41:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137079",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

Please fill in your real name as Author.



---

archive/issue_events_170008.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2012-07-27T21:39:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170008"
}
```



---

archive/issue_events_170009.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2012-07-27T21:39:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170009"
}
```



---

archive/issue_comments_137080.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nProbably superceded by #12760, otherwise needs to be rebased, presumably on #11395.",
    "created_at": "2012-07-27T21:39:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137080",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:4" align="right">comment:4</div>

Probably superceded by #12760, otherwise needs to be rebased, presumably on #11395.



---

archive/issue_comments_137081.json:
```json
{
    "body": "Author: **R. Andrew Ohana**",
    "created_at": "2012-07-27T21:39:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137081",
    "user": "https://github.com/nexttime"
}
```

Author: **R. Andrew Ohana**



---

archive/issue_events_170010.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170010"
}
```



---

archive/issue_events_170011.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170011"
}
```



---

archive/issue_events_170012.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170012"
}
```



---

archive/issue_events_170013.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170013"
}
```



---

archive/issue_events_170014.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-02-04T08:00:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170014"
}
```



---

archive/issue_events_170015.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-02-04T08:00:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170015"
}
```



---

archive/issue_events_170016.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170016"
}
```



---

archive/issue_events_170017.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170017"
}
```



---

archive/issue_events_170018.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2014-05-17T17:40:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170018"
}
```



---

archive/issue_events_170019.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2014-05-17T17:40:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170019"
}
```



---

archive/issue_comments_137082.json:
```json
{
    "body": "Work Issues: **(at least) rebase on Gfan 0.5**",
    "created_at": "2014-05-17T17:40:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137082",
    "user": "https://github.com/nexttime"
}
```

Work Issues: **(at least) rebase on Gfan 0.5**



---

archive/issue_events_170020.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170020"
}
```



---

archive/issue_events_170021.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170021"
}
```



---

archive/issue_events_170022.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-09-17T09:13:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170022"
}
```



---

archive/issue_events_170023.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-09-17T09:13:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170023"
}
```



---

archive/issue_comments_137083.json:
```json
{
    "body": "Changed author from **R. Andrew Ohana** to none",
    "created_at": "2016-09-17T09:13:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137083",
    "user": "https://github.com/kiwifb"
}
```

Changed author from **R. Andrew Ohana** to none



---

archive/issue_comments_137084.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n-The is a variable which is redefined which causes the failure.\n+In gfan-5.0 there is a C++ problem\n \n-I've posted an spkg at [http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/gfan-0.4plus.p2.spkg](http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/gfan-0.4plus.p2.spkg).\n+```\n+[gfan-0.5.p1] clang++  -std=c++98 -O2 -DGMPRATIONAL -Wuninitialized -g       -I/Users/fbissey/build/sage/local/include -c printer.cpp\n+[gfan-0.5.p1] In file included from printer.cpp:4:\n+[gfan-0.5.p1] ./polyhedralfan.h:77:24: error: friend declaration specifying a default argument must be a definition\n+[gfan-0.5.p1]   friend PolyhedralFan refinement(const PolyhedralFan &a, const PolyhedralFan &b, int cutOffDimension=-1, bool allowASingleConeOfCutOffDimension=false);\n+[gfan-0.5.p1]                        ^\n+[gfan-0.5.p1] 1 error generated.\n+```\n+\n``````\n",
    "created_at": "2016-09-17T09:13:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137084",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,11 @@
-The is a variable which is redefined which causes the failure.
+In gfan-5.0 there is a C++ problem
 
-I've posted an spkg at [http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/gfan-0.4plus.p2.spkg](http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/gfan-0.4plus.p2.spkg).
+```
+[gfan-0.5.p1] clang++  -std=c++98 -O2 -DGMPRATIONAL -Wuninitialized -g       -I/Users/fbissey/build/sage/local/include -c printer.cpp
+[gfan-0.5.p1] In file included from printer.cpp:4:
+[gfan-0.5.p1] ./polyhedralfan.h:77:24: error: friend declaration specifying a default argument must be a definition
+[gfan-0.5.p1]   friend PolyhedralFan refinement(const PolyhedralFan &a, const PolyhedralFan &b, int cutOffDimension=-1, bool allowASingleConeOfCutOffDimension=false);
+[gfan-0.5.p1]                        ^
+[gfan-0.5.p1] 1 error generated.
+```
+
``````




---

archive/issue_comments_137085.json:
```json
{
    "body": "Changed work issues from **(at least) rebase on Gfan 0.5** to **C++ error**",
    "created_at": "2016-09-17T09:13:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137085",
    "user": "https://github.com/kiwifb"
}
```

Changed work issues from **(at least) rebase on Gfan 0.5** to **C++ error**



---

archive/issue_comments_137086.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,4 +8,15 @@\n [gfan-0.5.p1]                        ^\n [gfan-0.5.p1] 1 error generated.\n ```\n+and\n \n+```\n+clang++  -O2 -DGMPRATIONAL -Wuninitialized -g        -c newtonpolytope.cpp\n+In file included from newtonpolytope.cpp:1:\n+In file included from ./newtonpolytope.h:6:\n+./halfopencone.h:21:23: error: friend declaration specifying a default argument must be a definition\n+  friend HalfOpenCone intersection(const HalfOpenCone &a, const HalfOpenCone &b, bool findFacets=false);\n+                      ^\n+1 error generated.\n+```\n+\n``````\n",
    "created_at": "2016-09-17T09:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137086",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,4 +8,15 @@
 [gfan-0.5.p1]                        ^
 [gfan-0.5.p1] 1 error generated.
 ```
+and
 
+```
+clang++  -O2 -DGMPRATIONAL -Wuninitialized -g        -c newtonpolytope.cpp
+In file included from newtonpolytope.cpp:1:
+In file included from ./newtonpolytope.h:6:
+./halfopencone.h:21:23: error: friend declaration specifying a default argument must be a definition
+  friend HalfOpenCone intersection(const HalfOpenCone &a, const HalfOpenCone &b, bool findFacets=false);
+                      ^
+1 error generated.
+```
+
``````




---

archive/issue_comments_137087.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n-In gfan-5.0 there is a C++ problem\n+In gfan-5.0 there are C++ problems\n+* friend declarations\n \n ```\n [gfan-0.5.p1] clang++  -std=c++98 -O2 -DGMPRATIONAL -Wuninitialized -g       -I/Users/fbissey/build/sage/local/include -c printer.cpp\n@@ -8,15 +9,72 @@\n [gfan-0.5.p1]                        ^\n [gfan-0.5.p1] 1 error generated.\n ```\n-and\n+and 2 more. Solved with the help of http://stackoverflow.com/questions/22533511/friend-declaration-specifying-a-default-argument-must-be-a-definition\n+\n+* next issue is ambiguity\n \n ```\n-clang++  -O2 -DGMPRATIONAL -Wuninitialized -g        -c newtonpolytope.cpp\n-In file included from newtonpolytope.cpp:1:\n-In file included from ./newtonpolytope.h:6:\n-./halfopencone.h:21:23: error: friend declaration specifying a default argument must be a definition\n-  friend HalfOpenCone intersection(const HalfOpenCone &a, const HalfOpenCone &b, bool findFacets=false);\n-                      ^\n-1 error generated.\n+[gfan-0.5.p1] clang++  -std=c++98 -O2 -DGMPRATIONAL -Wuninitialized -g       -I/Users/fbissey/build/sage/local/include -c app_secondaryfan.cpp\n+[gfan-0.5.p1] In file included from app_secondaryfan.cpp:22:\n+[gfan-0.5.p1] ./intsinpolytope.h:1:9: warning: 'INTSINPOLYTOPE_H_INCLUDED' is used as a header guard here, followed by #define of a different macro [-Wheader-guard]\n+[gfan-0.5.p1] #ifndef INTSINPOLYTOPE_H_INCLUDED\n+[gfan-0.5.p1]         ^~~~~~~~~~~~~~~~~~~~~~~~~\n+[gfan-0.5.p1] ./intsinpolytope.h:2:9: note: 'INTSINPOLYTOPE_H_INLCUDED' is defined here; did you mean 'INTSINPOLYTOPE_H_INCLUDED'?\n+[gfan-0.5.p1] #define INTSINPOLYTOPE_H_INLCUDED\n+[gfan-0.5.p1]         ^~~~~~~~~~~~~~~~~~~~~~~~~\n+[gfan-0.5.p1]         INTSINPOLYTOPE_H_INCLUDED\n+[gfan-0.5.p1] app_secondaryfan.cpp:145:59: warning: format specifies type 'int' but the argument has type 'size_type' (aka 'unsigned long') [-Wformat]\n+[gfan-0.5.p1]         fprintf(stdout,\"Triangles in current triangulation:%i\\n\",a.bases.size());\n+[gfan-0.5.p1]                                                            ~~    ^~~~~~~~~~~~~~\n+[gfan-0.5.p1]                                                            %lu\n+[gfan-0.5.p1] app_secondaryfan.cpp:201:59: warning: format specifies type 'int' but the argument has type 'size_type' (aka 'unsigned long') [-Wformat]\n+[gfan-0.5.p1]         fprintf(stdout,\"Triangles in current triangulation:%i\\n\",a.bases.size());\n+[gfan-0.5.p1]                                                            ~~    ^~~~~~~~~~~~~~\n+[gfan-0.5.p1]                                                            %lu\n+[gfan-0.5.p1] app_secondaryfan.cpp:217:56: warning: format specifies type 'int' but the argument has type 'size_type' (aka 'unsigned long') [-Wformat]\n+[gfan-0.5.p1]                 fprintf(stdout,\"Triangles in new triangulation:%i\\n\",b.bases.size());\n+[gfan-0.5.p1]                                                                ~~    ^~~~~~~~~~~~~~\n+[gfan-0.5.p1]                                                                %lu\n+[gfan-0.5.p1] app_secondaryfan.cpp:310:5: error: reference to 'rank' is ambiguous\n+[gfan-0.5.p1]         if(rank(A)!=A.getHeight())\n+[gfan-0.5.p1]            ^\n+[gfan-0.5.p1] ./matrix.h:150:5: note: candidate found by name lookup is 'rank'\n+[gfan-0.5.p1] int rank(IntegerMatrix const &m);\n+[gfan-0.5.p1]     ^\n+[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: candidate found by name lookup is 'std::__1::rank'\n+[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank\n+[gfan-0.5.p1]                                                   ^\n+[gfan-0.5.p1] app_secondaryfan.cpp:310:5: error: use of class template 'rank' requires template arguments\n+[gfan-0.5.p1]         if(rank(A)!=A.getHeight())\n+[gfan-0.5.p1]            ^\n+[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: template is declared here\n+[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank\n+[gfan-0.5.p1] ~~~~~~~~~~~~~~~~~~~~                              ^\n+[gfan-0.5.p1] app_secondaryfan.cpp:310:12: error: invalid '!=' at end of declaration; did you mean '='?\n+[gfan-0.5.p1]         if(rank(A)!=A.getHeight())\n+[gfan-0.5.p1]                   ^~\n+[gfan-0.5.p1]                   =\n+[gfan-0.5.p1] app_secondaryfan.cpp:345:8: error: reference to 'rank' is ambiguous\n+[gfan-0.5.p1]     if(rank(A)!=A.getHeight())\n+[gfan-0.5.p1]        ^\n+[gfan-0.5.p1] ./matrix.h:150:5: note: candidate found by name lookup is 'rank'\n+[gfan-0.5.p1] int rank(IntegerMatrix const &m);\n+[gfan-0.5.p1]     ^\n+[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: candidate found by name lookup is 'std::__1::rank'\n+[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank\n+[gfan-0.5.p1]                                                   ^\n+[gfan-0.5.p1] app_secondaryfan.cpp:345:8: error: use of class template 'rank' requires template arguments\n+[gfan-0.5.p1]     if(rank(A)!=A.getHeight())\n+[gfan-0.5.p1]        ^\n+[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: template is declared here\n+[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank\n+[gfan-0.5.p1] ~~~~~~~~~~~~~~~~~~~~                              ^\n+[gfan-0.5.p1] app_secondaryfan.cpp:345:15: error: invalid '!=' at end of declaration; did you mean '='?\n+[gfan-0.5.p1]     if(rank(A)!=A.getHeight())\n+[gfan-0.5.p1]               ^~\n+[gfan-0.5.p1]               =\n+[gfan-0.5.p1] 4 warnings and 6 errors generated.\n+[gfan-0.5.p1] make[2]: *** [app_secondaryfan.o] Error 1\n+[gfan-0.5.p1] Error building gfan.\n ```\n \n``````\n",
    "created_at": "2016-09-17T11:15:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137087",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
-In gfan-5.0 there is a C++ problem
+In gfan-5.0 there are C++ problems
+* friend declarations
 
 ```
 [gfan-0.5.p1] clang++  -std=c++98 -O2 -DGMPRATIONAL -Wuninitialized -g       -I/Users/fbissey/build/sage/local/include -c printer.cpp
@@ -8,15 +9,72 @@
 [gfan-0.5.p1]                        ^
 [gfan-0.5.p1] 1 error generated.
 ```
-and
+and 2 more. Solved with the help of http://stackoverflow.com/questions/22533511/friend-declaration-specifying-a-default-argument-must-be-a-definition
+
+* next issue is ambiguity
 
 ```
-clang++  -O2 -DGMPRATIONAL -Wuninitialized -g        -c newtonpolytope.cpp
-In file included from newtonpolytope.cpp:1:
-In file included from ./newtonpolytope.h:6:
-./halfopencone.h:21:23: error: friend declaration specifying a default argument must be a definition
-  friend HalfOpenCone intersection(const HalfOpenCone &a, const HalfOpenCone &b, bool findFacets=false);
-                      ^
-1 error generated.
+[gfan-0.5.p1] clang++  -std=c++98 -O2 -DGMPRATIONAL -Wuninitialized -g       -I/Users/fbissey/build/sage/local/include -c app_secondaryfan.cpp
+[gfan-0.5.p1] In file included from app_secondaryfan.cpp:22:
+[gfan-0.5.p1] ./intsinpolytope.h:1:9: warning: 'INTSINPOLYTOPE_H_INCLUDED' is used as a header guard here, followed by #define of a different macro [-Wheader-guard]
+[gfan-0.5.p1] #ifndef INTSINPOLYTOPE_H_INCLUDED
+[gfan-0.5.p1]         ^~~~~~~~~~~~~~~~~~~~~~~~~
+[gfan-0.5.p1] ./intsinpolytope.h:2:9: note: 'INTSINPOLYTOPE_H_INLCUDED' is defined here; did you mean 'INTSINPOLYTOPE_H_INCLUDED'?
+[gfan-0.5.p1] #define INTSINPOLYTOPE_H_INLCUDED
+[gfan-0.5.p1]         ^~~~~~~~~~~~~~~~~~~~~~~~~
+[gfan-0.5.p1]         INTSINPOLYTOPE_H_INCLUDED
+[gfan-0.5.p1] app_secondaryfan.cpp:145:59: warning: format specifies type 'int' but the argument has type 'size_type' (aka 'unsigned long') [-Wformat]
+[gfan-0.5.p1]         fprintf(stdout,"Triangles in current triangulation:%i\n",a.bases.size());
+[gfan-0.5.p1]                                                            ~~    ^~~~~~~~~~~~~~
+[gfan-0.5.p1]                                                            %lu
+[gfan-0.5.p1] app_secondaryfan.cpp:201:59: warning: format specifies type 'int' but the argument has type 'size_type' (aka 'unsigned long') [-Wformat]
+[gfan-0.5.p1]         fprintf(stdout,"Triangles in current triangulation:%i\n",a.bases.size());
+[gfan-0.5.p1]                                                            ~~    ^~~~~~~~~~~~~~
+[gfan-0.5.p1]                                                            %lu
+[gfan-0.5.p1] app_secondaryfan.cpp:217:56: warning: format specifies type 'int' but the argument has type 'size_type' (aka 'unsigned long') [-Wformat]
+[gfan-0.5.p1]                 fprintf(stdout,"Triangles in new triangulation:%i\n",b.bases.size());
+[gfan-0.5.p1]                                                                ~~    ^~~~~~~~~~~~~~
+[gfan-0.5.p1]                                                                %lu
+[gfan-0.5.p1] app_secondaryfan.cpp:310:5: error: reference to 'rank' is ambiguous
+[gfan-0.5.p1]         if(rank(A)!=A.getHeight())
+[gfan-0.5.p1]            ^
+[gfan-0.5.p1] ./matrix.h:150:5: note: candidate found by name lookup is 'rank'
+[gfan-0.5.p1] int rank(IntegerMatrix const &m);
+[gfan-0.5.p1]     ^
+[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: candidate found by name lookup is 'std::__1::rank'
+[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank
+[gfan-0.5.p1]                                                   ^
+[gfan-0.5.p1] app_secondaryfan.cpp:310:5: error: use of class template 'rank' requires template arguments
+[gfan-0.5.p1]         if(rank(A)!=A.getHeight())
+[gfan-0.5.p1]            ^
+[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: template is declared here
+[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank
+[gfan-0.5.p1] ~~~~~~~~~~~~~~~~~~~~                              ^
+[gfan-0.5.p1] app_secondaryfan.cpp:310:12: error: invalid '!=' at end of declaration; did you mean '='?
+[gfan-0.5.p1]         if(rank(A)!=A.getHeight())
+[gfan-0.5.p1]                   ^~
+[gfan-0.5.p1]                   =
+[gfan-0.5.p1] app_secondaryfan.cpp:345:8: error: reference to 'rank' is ambiguous
+[gfan-0.5.p1]     if(rank(A)!=A.getHeight())
+[gfan-0.5.p1]        ^
+[gfan-0.5.p1] ./matrix.h:150:5: note: candidate found by name lookup is 'rank'
+[gfan-0.5.p1] int rank(IntegerMatrix const &m);
+[gfan-0.5.p1]     ^
+[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: candidate found by name lookup is 'std::__1::rank'
+[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank
+[gfan-0.5.p1]                                                   ^
+[gfan-0.5.p1] app_secondaryfan.cpp:345:8: error: use of class template 'rank' requires template arguments
+[gfan-0.5.p1]     if(rank(A)!=A.getHeight())
+[gfan-0.5.p1]        ^
+[gfan-0.5.p1] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/type_traits:721:51: note: template is declared here
+[gfan-0.5.p1] template <class _Tp> struct _LIBCPP_TYPE_VIS_ONLY rank
+[gfan-0.5.p1] ~~~~~~~~~~~~~~~~~~~~                              ^
+[gfan-0.5.p1] app_secondaryfan.cpp:345:15: error: invalid '!=' at end of declaration; did you mean '='?
+[gfan-0.5.p1]     if(rank(A)!=A.getHeight())
+[gfan-0.5.p1]               ^~
+[gfan-0.5.p1]               =
+[gfan-0.5.p1] 4 warnings and 6 errors generated.
+[gfan-0.5.p1] make[2]: *** [app_secondaryfan.o] Error 1
+[gfan-0.5.p1] Error building gfan.
 ```
 
``````




---

archive/issue_comments_137088.json:
```json
{
    "body": "Branch: **[u/fbissey/clang_gfan](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/clang_gfan)**",
    "created_at": "2016-09-17T11:15:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137088",
    "user": "https://github.com/kiwifb"
}
```

Branch: **[u/fbissey/clang_gfan](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/clang_gfan)**



---

archive/issue_comments_137089.json:
```json
{
    "body": "Author: **Fran\u00e7ois Bissey**",
    "created_at": "2016-09-17T11:15:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137089",
    "user": "https://github.com/kiwifb"
}
```

Author: **François Bissey**



---

archive/issue_comments_137090.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70d328be490934456e146bc8464343f6036925a2\">70d328b</a></td><td><code>fix friend declarations problem</code></td></tr></table>\n",
    "created_at": "2016-09-17T11:15:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137090",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:13"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70d328be490934456e146bc8464343f6036925a2">70d328b</a></td><td><code>fix friend declarations problem</code></td></tr></table>




---

archive/issue_comments_137091.json:
```json
{
    "body": "Changed work issues from **C++ error** to **C++ errors**",
    "created_at": "2016-09-17T11:15:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137091",
    "user": "https://github.com/kiwifb"
}
```

Changed work issues from **C++ error** to **C++ errors**



---

archive/issue_comments_137092.json:
```json
{
    "body": "Commit: **[70d328b](https://github.com/sagemath/sagetrac-mirror/commit/70d328be490934456e146bc8464343f6036925a2)**",
    "created_at": "2016-09-17T11:15:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137092",
    "user": "https://github.com/kiwifb"
}
```

Commit: **[70d328b](https://github.com/sagemath/sagetrac-mirror/commit/70d328be490934456e146bc8464343f6036925a2)**



---

archive/issue_comments_137093.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nPatch in Gentoo for gcc-6.1 compatibility should help with the `rank` problem. https://gitweb.gentoo.org/repo/gentoo.git/tree/sci-mathematics/gfan/files/gfan-0.5-gcc6.1-compat.patch?id=68b401536df91ee42b4e58cd38b74f96ca0a0560",
    "created_at": "2016-09-28T01:18:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137093",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:15" align="right">comment:15</div>

Patch in Gentoo for gcc-6.1 compatibility should help with the `rank` problem. https://gitweb.gentoo.org/repo/gentoo.git/tree/sci-mathematics/gfan/files/gfan-0.5-gcc6.1-compat.patch?id=68b401536df91ee42b4e58cd38b74f96ca0a0560



---

archive/issue_comments_137094.json:
```json
{
    "body": "Changed commit from **[70d328b](https://github.com/sagemath/sagetrac-mirror/commit/70d328be490934456e146bc8464343f6036925a2)** to **[fbb4069](https://github.com/sagemath/sagetrac-mirror/commit/fbb4069630ddf63c0c5a275fd339261627f3a40e)**",
    "created_at": "2016-09-28T02:42:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137094",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[70d328b](https://github.com/sagemath/sagetrac-mirror/commit/70d328be490934456e146bc8464343f6036925a2)** to **[fbb4069](https://github.com/sagemath/sagetrac-mirror/commit/fbb4069630ddf63c0c5a275fd339261627f3a40e)**



---

archive/issue_comments_137095.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b3a44f8545fa3249ccbb31f5c7fb80a69e0562c\">1b3a44f</a></td><td><code>Merge branch 'develop' into clang_gfan</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbb4069630ddf63c0c5a275fd339261627f3a40e\">fbb4069</a></td><td><code>Adopt patch from gentoo to deal with gcc 6.1 to take care of the ambiguity of \"rank\"</code></td></tr></table>\n",
    "created_at": "2016-09-28T02:42:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137095",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b3a44f8545fa3249ccbb31f5c7fb80a69e0562c">1b3a44f</a></td><td><code>Merge branch 'develop' into clang_gfan</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbb4069630ddf63c0c5a275fd339261627f3a40e">fbb4069</a></td><td><code>Adopt patch from gentoo to deal with gcc 6.1 to take care of the ambiguity of "rank"</code></td></tr></table>




---

archive/issue_comments_137096.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nWorks here with `clang` now.",
    "created_at": "2016-09-28T02:43:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137096",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

Works here with `clang` now.



---

archive/issue_events_170024.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-09-28T02:43:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170024"
}
```



---

archive/issue_events_170025.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2016-09-28T02:43:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170025"
}
```



---

archive/issue_comments_137097.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nLGTM.",
    "created_at": "2016-10-03T14:12:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137097",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">comment:18</div>

LGTM.



---

archive/issue_comments_137098.json:
```json
{
    "body": "Changed work issues from **C++ errors** to none",
    "created_at": "2016-10-03T14:12:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137098",
    "user": "https://github.com/tscrim"
}
```

Changed work issues from **C++ errors** to none



---

archive/issue_events_170026.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-03T14:12:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170026"
}
```



---

archive/issue_events_170027.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-03T14:12:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170027"
}
```



---

archive/issue_comments_137099.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2016-10-03T14:12:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137099",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_170028.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-03T14:12:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170028"
}
```



---

archive/issue_events_170029.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-10-03T14:12:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170029"
}
```



---

archive/issue_comments_137100.json:
```json
{
    "body": "Changed branch from **[u/fbissey/clang_gfan](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/clang_gfan)** to **[fbb4069](https://github.com/sagemath/sagetrac-mirror/commit/fbb4069630ddf63c0c5a275fd339261627f3a40e)**",
    "created_at": "2016-10-03T22:42:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12440#issuecomment-137100",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/fbissey/clang_gfan](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/clang_gfan)** to **[fbb4069](https://github.com/sagemath/sagetrac-mirror/commit/fbb4069630ddf63c0c5a275fd339261627f3a40e)**



---

archive/issue_events_170030.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-03T22:42:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170030"
}
```



---

archive/issue_events_170031.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "23d4ca8dc16e4cc5e6c76f8b20a3357a7a8cd3d0",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-10-03T22:42:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12440",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12440#event-170031"
}
```
