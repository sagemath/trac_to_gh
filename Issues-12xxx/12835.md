# Issue 12835: upgrade fpLLL to version 4.0.4

archive/issues_012663.json:
```json
{
    "assignees": [],
    "body": "Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0.4 is out, which includes an implementation of BKZ.\n\nUse spkg at:\n* http://boxen.math.washington.edu/home/jpflori/spkg/libfplll-4.0.4.spkg\n\nApply to Sage library:\n* [attachment:trac_12835-fplll4.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-fplll4.patch),\n* [attachment:trac_12835-doctests.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-doctests.patch).\n\nApply to local/bin/:\n* [attachment:trac_12835-hgignore.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-hgignore.patch).\n\n**CC:**  jpflori\n\n**Keywords:** lll, fplll, spkg\n\n**Reviewer:** Martin Albrecht, Jeroen Demeyer\n\n**Author:** Paulo C\u00e9sar Pereira de Andrade, Jean-Pierre Flori\n\n**Merged:** sage-5.11.beta0\n\nIssue created by migration from https://trac.sagemath.org/ticket/12835\n\n",
    "closed_at": "2013-06-10T08:39:15Z",
    "created_at": "2012-04-12T16:09:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.11",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "upgrade fpLLL to version 4.0.4",
    "type": "issue",
    "updated_at": "2013-06-10T08:39:15Z",
    "url": "https://github.com/sagemath/sage/issues/12835",
    "user": "https://github.com/malb"
}
```
Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0.4 is out, which includes an implementation of BKZ.

Use spkg at:
* http://boxen.math.washington.edu/home/jpflori/spkg/libfplll-4.0.4.spkg

Apply to Sage library:
* [attachment:trac_12835-fplll4.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-fplll4.patch),
* [attachment:trac_12835-doctests.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-doctests.patch).

Apply to local/bin/:
* [attachment:trac_12835-hgignore.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-hgignore.patch).

**CC:**  jpflori

**Keywords:** lll, fplll, spkg

**Reviewer:** Martin Albrecht, Jeroen Demeyer

**Author:** Paulo César Pereira de Andrade, Jean-Pierre Flori

**Merged:** sage-5.11.beta0

Issue created by migration from https://trac.sagemath.org/ticket/12835





---

archive/issue_events_149749.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-04-12T16:09:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149749"
}
```



---

archive/issue_events_149750.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-04-12T16:09:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "08517b",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149750"
}
```



---

archive/issue_events_149751.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-04-12T16:09:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149751"
}
```



---

archive/issue_comments_146800.json:
```json
{
    "body": "<a id='comment:1'></a>\nI just checked it won't be painless :\nsage/libs/fplll/fplll.cpp:243:24: fatal error: fplll/fast.h: No such file or directory\n\nFrom what I see in upstream's sources:\n* wrapper.h still exists, but isn't installed ;\n* fast.h, fast_earlyred.h, heuristic.h, heuristic_early_red.h and proved.h don't exist anymore, but there's a fplllv31.h which provides a compatibility layer to version 3.1 (which is more recent than what sage has... so perhaps even that isn't enough!)",
    "created_at": "2012-06-20T07:56:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146800",
    "user": "https://github.com/sagetrac-Snark"
}
```

<a id='comment:1'></a>
I just checked it won't be painless :
sage/libs/fplll/fplll.cpp:243:24: fatal error: fplll/fast.h: No such file or directory

From what I see in upstream's sources:
* wrapper.h still exists, but isn't installed ;
* fast.h, fast_earlyred.h, heuristic.h, heuristic_early_red.h and proved.h don't exist anymore, but there's a fplllv31.h which provides a compatibility layer to version 3.1 (which is more recent than what sage has... so perhaps even that isn't enough!)



---

archive/issue_comments_146801.json:
```json
{
    "body": "<a id='comment:2'></a>\nAFAIK fpLLL 4.0 is essentially a new library from an interface point of view, i.e., they switched to a more C++-style interface. I suggest to essentially start over with the interface instead of trying to patch the old interface.",
    "created_at": "2012-06-20T08:58:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146801",
    "user": "https://github.com/malb"
}
```

<a id='comment:2'></a>
AFAIK fpLLL 4.0 is essentially a new library from an interface point of view, i.e., they switched to a more C++-style interface. I suggest to essentially start over with the interface instead of trying to patch the old interface.



---

archive/issue_comments_146802.json:
```json
{
    "body": "<a id='comment:3'></a>\nI'd agree with that. A long time ago when fplll-3.1 was released we looked at supporting it in sage-on-gentoo [https://github.com/cschwan/sage-on-gentoo/issues/71](https://github.com/cschwan/sage-on-gentoo/issues/71). Funny thing compiling against 3.0.12 and then upgrading to 3.1.1 without rebuilding sage worked fine.",
    "created_at": "2012-06-20T09:08:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146802",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:3'></a>
I'd agree with that. A long time ago when fplll-3.1 was released we looked at supporting it in sage-on-gentoo [https://github.com/cschwan/sage-on-gentoo/issues/71](https://github.com/cschwan/sage-on-gentoo/issues/71). Funny thing compiling against 3.0.12 and then upgrading to 3.1.1 without rebuilding sage worked fine.



---

archive/issue_comments_146803.json:
```json
{
    "body": "<a id='comment:4'></a>\nThere are two points to be made here :\n* I had a better look, and saw wrapper.h's previous features seem to be in fplllv31.h ; but I can't find the \"proved\" class anywhere. In fact, choosing which method will be used is now done through an enum instead of different classes as far as I see. So indeed a pure rewrite would be the saner route.\n* Apparently, changing the sage-5.1.beta5.spkg and using \"sage -f\" on it isn't enough : generally sage extracts the spkg in spkg/build/ but really builds sources it copied some previous time in devel/sage/ -- I haven't gotten the logic of it down.\n\nAll in all, that makes working on this pretty painful : I'll pass!",
    "created_at": "2012-06-20T19:17:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146803",
    "user": "https://github.com/sagetrac-Snark"
}
```

<a id='comment:4'></a>
There are two points to be made here :
* I had a better look, and saw wrapper.h's previous features seem to be in fplllv31.h ; but I can't find the "proved" class anywhere. In fact, choosing which method will be used is now done through an enum instead of different classes as far as I see. So indeed a pure rewrite would be the saner route.
* Apparently, changing the sage-5.1.beta5.spkg and using "sage -f" on it isn't enough : generally sage extracts the spkg in spkg/build/ but really builds sources it copied some previous time in devel/sage/ -- I haven't gotten the logic of it down.

All in all, that makes working on this pretty painful : I'll pass!



---

archive/issue_comments_146804.json:
```json
{
    "body": "<a id='comment:5'></a>\nI made sagemath 5.4.beta1 experimental rpm packages for fedora rawhide, patching both fplll and sagemath.\n\nThe only issue I noticed so far was:\n\n```\n$ rpm -q sagemath libfplll\nsagemath-5.4.beta1-1.fc19.x86_64\nlibfplll-4.0.1-2.fc19.x86_64\n$ sage -t /usr/share/sagemath/devel/sage/sage/libs/fplll/fplll.pyx\nsage -t  \"devel/sage/sage/libs/fplll/fplll.pyx\"             \n**********************************************************************\nFile \"/usr/share/sagemath/devel/sage/sage/libs/fplll/fplll.pyx\", line 646:\n    sage: L = A.LLL(); L\nExpected:\n    [ 192  264 -152  272   -8  272  -48 -264  104   -8]\n    [-128 -176 -240  160 -336  160   32  176  272 -336]\n    [ -24 -161  147  350  385  -34  262  161  115  257]\n    [ 520   75 -113  -74 -491   54  126  -75  239 -107]\n    [-376 -133  255   22  229  150  350  133   95 -411]\n    [-168 -103    5  402 -377 -238 -214  103 -219 -249]\n    [-352   28  108 -328 -156  184   88  -28  -20  356]\n    [ 120 -219  289  298  123  170 -286  219  449 -261]\n    [ 160 -292   44   56  164  568  -40  292  -84 -348]\n    [ 192  264 -152  272   -8  272  -48  760  104   -8]\nGot:\n    [ 192  264 -152  272   -8  272  -48 -264  104   -8]\n    [-128 -176 -240  160 -336  160   32  176  272 -336]\n    [ -24 -161  147  350  385  -34  262  161  115  257]\n    [ 520   75 -113  -74 -491   54  126  -75  239 -107]\n    [-376 -133  255   22  229  150  350  133   95 -411]\n    [-168 -103    5  402 -377 -238 -214  103 -219 -249]\n    [-352   28  108 -328 -156  184   88  -28  -20  356]\n    [ 120 -219  289  298  123  170 -286  219  449 -261]\n    [ 160 -292   44   56  164  568  -40  292  -84 -348]\n    [-192  760  152 -272    8 -272   48  264 -104    8]\n**********************************************************************\n1 items had failures:\n   1 of   8 in __main__.example_16\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /home/pcpa/.sage/tmp/fplll_17597.py\n         [17.5 s]\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n        sage -t  \"devel/sage/sage/libs/fplll/fplll.pyx\"\nTotal time for all tests: 17.6 seconds\n\n```",
    "created_at": "2012-10-21T01:03:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146804",
    "user": "https://github.com/sagetrac-pcpa"
}
```

<a id='comment:5'></a>
I made sagemath 5.4.beta1 experimental rpm packages for fedora rawhide, patching both fplll and sagemath.

The only issue I noticed so far was:

```
$ rpm -q sagemath libfplll
sagemath-5.4.beta1-1.fc19.x86_64
libfplll-4.0.1-2.fc19.x86_64
$ sage -t /usr/share/sagemath/devel/sage/sage/libs/fplll/fplll.pyx
sage -t  "devel/sage/sage/libs/fplll/fplll.pyx"             
**********************************************************************
File "/usr/share/sagemath/devel/sage/sage/libs/fplll/fplll.pyx", line 646:
    sage: L = A.LLL(); L
Expected:
    [ 192  264 -152  272   -8  272  -48 -264  104   -8]
    [-128 -176 -240  160 -336  160   32  176  272 -336]
    [ -24 -161  147  350  385  -34  262  161  115  257]
    [ 520   75 -113  -74 -491   54  126  -75  239 -107]
    [-376 -133  255   22  229  150  350  133   95 -411]
    [-168 -103    5  402 -377 -238 -214  103 -219 -249]
    [-352   28  108 -328 -156  184   88  -28  -20  356]
    [ 120 -219  289  298  123  170 -286  219  449 -261]
    [ 160 -292   44   56  164  568  -40  292  -84 -348]
    [ 192  264 -152  272   -8  272  -48  760  104   -8]
Got:
    [ 192  264 -152  272   -8  272  -48 -264  104   -8]
    [-128 -176 -240  160 -336  160   32  176  272 -336]
    [ -24 -161  147  350  385  -34  262  161  115  257]
    [ 520   75 -113  -74 -491   54  126  -75  239 -107]
    [-376 -133  255   22  229  150  350  133   95 -411]
    [-168 -103    5  402 -377 -238 -214  103 -219 -249]
    [-352   28  108 -328 -156  184   88  -28  -20  356]
    [ 120 -219  289  298  123  170 -286  219  449 -261]
    [ 160 -292   44   56  164  568  -40  292  -84 -348]
    [-192  760  152 -272    8 -272   48  264 -104    8]
**********************************************************************
1 items had failures:
   1 of   8 in __main__.example_16
***Test Failed*** 1 failures.
For whitespace errors, see the file /home/pcpa/.sage/tmp/fplll_17597.py
         [17.5 s]
 
----------------------------------------------------------------------
The following tests failed:


        sage -t  "devel/sage/sage/libs/fplll/fplll.pyx"
Total time for all tests: 17.6 seconds

```



---

archive/issue_comments_146805.json:
```json
{
    "body": "**Attachment:** [libfplll-fplllv31.patch.gz](https://github.com/sagemath/sage/files/ticket12835/libfplll-fplllv31.patch.gz)\n\nfplll patch",
    "created_at": "2012-10-21T01:03:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146805",
    "user": "https://github.com/sagetrac-pcpa"
}
```

**Attachment:** [libfplll-fplllv31.patch.gz](https://github.com/sagemath/sage/files/ticket12835/libfplll-fplllv31.patch.gz)

fplll patch



---

archive/issue_comments_146806.json:
```json
{
    "body": "**Attachment:** [sage-fplll.patch.gz](https://github.com/sagemath/sage/files/ticket12835/sage-fplll.patch.gz)\n\nsage patch",
    "created_at": "2012-10-21T01:04:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146806",
    "user": "https://github.com/sagetrac-pcpa"
}
```

**Attachment:** [sage-fplll.patch.gz](https://github.com/sagemath/sage/files/ticket12835/sage-fplll.patch.gz)

sage patch



---

archive/issue_comments_146807.json:
```json
{
    "body": "<a id='comment:6'></a>\nI must say I hate when I see that kind of sign flipping. Still we can have something based on something less ancient even if it is in compatibility mode. Now who could check that test before we also up the spkg.",
    "created_at": "2012-10-26T10:29:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146807",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:6'></a>
I must say I hate when I see that kind of sign flipping. Still we can have something based on something less ancient even if it is in compatibility mode. Now who could check that test before we also up the spkg.



---

archive/issue_comments_146808.json:
```json
{
    "body": "<a id='comment:8'></a>\nIs it possible to avoid patching fplll? It it's not possible, did you discuss with upstream for inclusion?",
    "created_at": "2013-02-20T11:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146808",
    "user": "https://github.com/sagetrac-Snark"
}
```

<a id='comment:8'></a>
Is it possible to avoid patching fplll? It it's not possible, did you discuss with upstream for inclusion?



---

archive/issue_comments_146809.json:
```json
{
    "body": "<a id='comment:9'></a>\nI think upstream is more or less actively preparing a new release including fixes for Cygwin under my impulsion, so they should be quite reactive if you ask for the inclusion of such a patch as well.",
    "created_at": "2013-02-20T11:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146809",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:9'></a>
I think upstream is more or less actively preparing a new release including fixes for Cygwin under my impulsion, so they should be quite reactive if you ask for the inclusion of such a patch as well.



---

archive/issue_events_149752.json:
```json
{
    "actor": "https://github.com/sagetrac-Snark",
    "created_at": "2013-03-22T07:28:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149752"
}
```



---

archive/issue_comments_146810.json:
```json
{
    "body": "<a id='comment:10'></a>\nI would like to see this go through : should I contact upstream myself?",
    "created_at": "2013-03-22T07:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146810",
    "user": "https://github.com/sagetrac-Snark"
}
```

<a id='comment:10'></a>
I would like to see this go through : should I contact upstream myself?



---

archive/issue_comments_146811.json:
```json
{
    "body": "<a id='comment:11'></a>\nI second that, I haven an interest in seeing this go in because I want to write libs.fplll4 which uses the new interface.",
    "created_at": "2013-03-22T09:05:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146811",
    "user": "https://github.com/malb"
}
```

<a id='comment:11'></a>
I second that, I haven an interest in seeing this go in because I want to write libs.fplll4 which uses the new interface.



---

archive/issue_comments_146812.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [Snark](#comment%3A10):\n> I would like to see this go through : should I contact upstream myself?\n\nYup you should.\nI was in contact with Damien Stelh\u00e9 around Christmas for #13354 and he included the fix I wanted in a to be released version.\nBut when testing it I discovered other problems and got no reply so far.\nI must admit I did not ping him since the 30th of January...\n\nSo if you could also ask him for the last changes which were needed for Cygwin :)",
    "created_at": "2013-03-26T21:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146812",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:12'></a>
Replying to [Snark](#comment%3A10):
> I would like to see this go through : should I contact upstream myself?

Yup you should.
I was in contact with Damien Stelhé around Christmas for #13354 and he included the fix I wanted in a to be released version.
But when testing it I discovered other problems and got no reply so far.
I must admit I did not ping him since the 30th of January...

So if you could also ask him for the last changes which were needed for Cygwin :)



---

archive/issue_comments_146813.json:
```json
{
    "body": "<a id='comment:13'></a>\n4.0.3 is out with cygwin changes ; it's already been seven weeks and I haven't written the mail I mentioned...",
    "created_at": "2013-05-13T16:04:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146813",
    "user": "https://github.com/sagetrac-Snark"
}
```

<a id='comment:13'></a>
4.0.3 is out with cygwin changes ; it's already been seven weeks and I haven't written the mail I mentioned...



---

archive/issue_comments_146814.json:
```json
{
    "body": "<a id='comment:14'></a>\nI just mailed Damien to thank him for the Cygwin changes and ask about our patch (from what I saw in the patch it seems not only legitimate, but needed to actually use the compatibility interface (except for the additional function we define of course)), so if you did not, please don't do it now.",
    "created_at": "2013-05-14T09:11:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146814",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:14'></a>
I just mailed Damien to thank him for the Cygwin changes and ask about our patch (from what I saw in the patch it seems not only legitimate, but needed to actually use the compatibility interface (except for the additional function we define of course)), so if you did not, please don't do it now.



---

archive/issue_comments_146815.json:
```json
{
    "body": "<a id='comment:15'></a>\nI had a mail discussion yesterday evening ; he is at a conference this week but will look into the matter later. :-P",
    "created_at": "2013-05-14T10:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146815",
    "user": "https://github.com/sagetrac-Snark"
}
```

<a id='comment:15'></a>
I had a mail discussion yesterday evening ; he is at a conference this week but will look into the matter later. :-P



---

archive/issue_comments_146816.json:
```json
{
    "body": "**Attachment:** [trac_12835-fplll4.patch.gz](https://github.com/sagemath/sage/files/ticket12835/trac_12835-fplll4.patch.gz)",
    "created_at": "2013-05-28T16:19:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146816",
    "user": "https://github.com/sagetrac-jpflori"
}
```

**Attachment:** [trac_12835-fplll4.patch.gz](https://github.com/sagemath/sage/files/ticket12835/trac_12835-fplll4.patch.gz)



---

archive/issue_events_149753.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2013-05-28T16:23:23Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "rename": {
        "from": "upgrade fpLLL to newest upstream release",
        "to": "upgrade fpLLL to version 4.0.4"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149753"
}
```



---

archive/issue_comments_146817.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n-Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0 is out which includes an implementation of BKZ.\n+Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0.4 is out which includes an implementation of BKZ.\n+\n+Use spkg at:\n+* http://boxen.math.washington.edu/home/jpflori/spkg/libfplll-4.0.4.spkg\n+\n+Apply:\n+* [attachment:trac_12835-fplll4.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-fplll4.patch),\n+* [attachment:trac_12835-doctests.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-doctests.patch).\n``````\n",
    "created_at": "2013-05-28T16:23:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146817",
    "user": "https://github.com/sagetrac-jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,8 @@
-Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0 is out which includes an implementation of BKZ.
+Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0.4 is out which includes an implementation of BKZ.
+
+Use spkg at:
+* http://boxen.math.washington.edu/home/jpflori/spkg/libfplll-4.0.4.spkg
+
+Apply:
+* [attachment:trac_12835-fplll4.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-fplll4.patch),
+* [attachment:trac_12835-doctests.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-doctests.patch).
``````




---

archive/issue_comments_146818.json:
```json
{
    "body": "**Author:** Paulo C\u00e9sar Pereira de Andrade, Jean-Pierre Flori",
    "created_at": "2013-05-28T16:23:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146818",
    "user": "https://github.com/sagetrac-jpflori"
}
```

**Author:** Paulo César Pereira de Andrade, Jean-Pierre Flori



---

archive/issue_comments_146819.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Attachment:** [trac_12835-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket12835/trac_12835-doctests.patch.gz)\n\nSome doctests changed but they are still LLL-reduced, so nothing is wrong.",
    "created_at": "2013-05-28T16:23:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146819",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:16'></a>
**Attachment:** [trac_12835-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket12835/trac_12835-doctests.patch.gz)

Some doctests changed but they are still LLL-reduced, so nothing is wrong.



---

archive/issue_events_149754.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2013-05-28T16:23:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149754"
}
```



---

archive/issue_events_149755.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2013-05-28T16:23:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149755"
}
```



---

archive/issue_comments_146820.json:
```json
{
    "body": "**Reviewer:** Martin Albrecht",
    "created_at": "2013-05-29T10:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146820",
    "user": "https://github.com/malb"
}
```

**Reviewer:** Martin Albrecht



---

archive/issue_events_149756.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2013-05-29T10:14:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149756"
}
```



---

archive/issue_events_149757.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2013-05-29T10:14:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149757"
}
```



---

archive/issue_comments_146821.json:
```json
{
    "body": "<a id='comment:17'></a>\n* patches look good\n  * doctests pass",
    "created_at": "2013-05-29T10:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146821",
    "user": "https://github.com/malb"
}
```

<a id='comment:17'></a>
* patches look good
  * doctests pass



---

archive/issue_events_149758.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-29T12:26:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "milestone_number": null,
    "milestone_title": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149758"
}
```



---

archive/issue_events_149759.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-29T12:26:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149759"
}
```



---

archive/issue_comments_146822.json:
```json
{
    "body": "<a id='comment:19'></a>\nVarious files have permission\n\n```\n-rwxr--r--\n```\nwhich is strange; most likely this should be\n\n```\n-rwxr-xr-x\n```",
    "created_at": "2013-05-29T12:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146822",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
Various files have permission

```
-rwxr--r--
```
which is strange; most likely this should be

```
-rwxr-xr-x
```



---

archive/issue_events_149760.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-29T12:31:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149760"
}
```



---

archive/issue_events_149761.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-29T12:31:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149761"
}
```



---

archive/issue_comments_146823.json:
```json
{
    "body": "<a id='comment:20'></a>\nIt's so in the upstream tarball (not released yet, but its also the same in the 4.0.3 released one and the 3.1.3 one, though is correct in the really old 3.0.12).\nIf you are really worried about this, I (or you) can report it upstream.",
    "created_at": "2013-05-29T12:40:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146823",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:20'></a>
It's so in the upstream tarball (not released yet, but its also the same in the 4.0.3 released one and the 3.1.3 one, though is correct in the really old 3.0.12).
If you are really worried about this, I (or you) can report it upstream.



---

archive/issue_events_149762.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-29T12:52:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149762"
}
```



---

archive/issue_events_149763.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-29T12:52:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149763"
}
```



---

archive/issue_events_149764.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-29T12:52:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "rename": {
        "from": "upgrade fpLLL to version 4.0.4",
        "to": "upgrade fpLLL to version 4.0.4 when it's released"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149764"
}
```



---

archive/issue_comments_146824.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0.4 is out which includes an implementation of BKZ.\n+Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0.4 will come out which includes an implementation of BKZ.\n \n Use spkg at:\n * http://boxen.math.washington.edu/home/jpflori/spkg/libfplll-4.0.4.spkg\n``````\n",
    "created_at": "2013-05-29T12:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146824",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0.4 is out which includes an implementation of BKZ.
+Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0.4 will come out which includes an implementation of BKZ.
 
 Use spkg at:
 * http://boxen.math.washington.edu/home/jpflori/spkg/libfplll-4.0.4.spkg
``````




---

archive/issue_comments_146825.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [jpflori](#comment%3A20):\n> If you are really worried about this, I (or you) can report it upstream.\n\nPlease do report this upstream, maybe they can still ship a corrected version 4.0.4.",
    "created_at": "2013-05-29T12:56:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146825",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
Replying to [jpflori](#comment%3A20):
> If you are really worried about this, I (or you) can report it upstream.

Please do report this upstream, maybe they can still ship a corrected version 4.0.4.



---

archive/issue_comments_146826.json:
```json
{
    "body": "<a id='comment:23'></a>\nAnother small mistake in `SPKG.txt`: the license is\n\n```\nLGPL v2.1+\n```\n(version 2.1 is not the same as version 2)",
    "created_at": "2013-05-29T12:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146826",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>
Another small mistake in `SPKG.txt`: the license is

```
LGPL v2.1+
```
(version 2.1 is not the same as version 2)



---

archive/issue_comments_146827.json:
```json
{
    "body": "<a id='comment:24'></a>\nReported the permissions thing, I'll correct the LGPL stuff when I get feedback from Damien.",
    "created_at": "2013-05-29T13:00:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146827",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:24'></a>
Reported the permissions thing, I'll correct the LGPL stuff when I get feedback from Damien.



---

archive/issue_comments_146828.json:
```json
{
    "body": "<a id='comment:25'></a>\nAh, I was about to also positively review : I finally finished compiling and doctesting without problem (except that my boxes are all slow :-( )\n\nYes, I think upstream didn't publicly release 4.0.4 yet : Jean-Pierre, myself then everyone through this ticket got to see a release-candidate.",
    "created_at": "2013-05-29T13:29:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146828",
    "user": "https://github.com/sagetrac-Snark"
}
```

<a id='comment:25'></a>
Ah, I was about to also positively review : I finally finished compiling and doctesting without problem (except that my boxes are all slow :-( )

Yes, I think upstream didn't publicly release 4.0.4 yet : Jean-Pierre, myself then everyone through this ticket got to see a release-candidate.



---

archive/issue_comments_146829.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [Snark](#comment%3A25):\n> Yes, I think upstream didn't publicly release 4.0.4 yet : Jean-Pierre, myself then everyone through this ticket got to see a release-candidate.\n\nIt is usually better to wait for a public release before making the spkg for Sage. Or at least, if it's a release candidate, make it clear that it is (`libfplll-4.0.4.rc.spkg`)",
    "created_at": "2013-05-29T13:44:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146829",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>
Replying to [Snark](#comment%3A25):
> Yes, I think upstream didn't publicly release 4.0.4 yet : Jean-Pierre, myself then everyone through this ticket got to see a release-candidate.

It is usually better to wait for a public release before making the spkg for Sage. Or at least, if it's a release candidate, make it clear that it is (`libfplll-4.0.4.rc.spkg`)



---

archive/issue_comments_146830.json:
```json
{
    "body": "<a id='comment:27'></a>\n@jdemeyer: in fact, upstream is waiting for us(this ticket) to say \"let go\" to release, so Jean-Pierre wasn't that wrong to provide a spkg already :-)",
    "created_at": "2013-05-29T13:56:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146830",
    "user": "https://github.com/sagetrac-Snark"
}
```

<a id='comment:27'></a>
@jdemeyer: in fact, upstream is waiting for us(this ticket) to say "let go" to release, so Jean-Pierre wasn't that wrong to provide a spkg already :-)



---

archive/issue_comments_146831.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [Snark](#comment%3A27):\n> @jdemeyer: in fact, upstream is waiting for us(this ticket) to say \"let go\" to release\n\nThen have upstream release a **public** and **versioned** release candidate for version 4.0.4.",
    "created_at": "2013-05-29T21:24:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146831",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
Replying to [Snark](#comment%3A27):
> @jdemeyer: in fact, upstream is waiting for us(this ticket) to say "let go" to release

Then have upstream release a **public** and **versioned** release candidate for version 4.0.4.



---

archive/issue_comments_146832.json:
```json
{
    "body": "<a id='comment:29'></a>\n`latticegen` should be added to `local/bin/.hgignore`.",
    "created_at": "2013-05-29T22:22:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146832",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:29'></a>
`latticegen` should be added to `local/bin/.hgignore`.



---

archive/issue_comments_146833.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [Snark](#comment%3A27):\n> @jdemeyer: in fact, upstream is waiting for us(this ticket) to say \"let go\" to release, so Jean-Pierre wasn't that wrong to provide a spkg already :-)\n\nIt was very right to provide a spkg. I'm just saying that it should have been made clear that this was for a non-released version of `fplll` and hence it wasn't the final spkg.",
    "created_at": "2013-05-30T07:46:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146833",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
Replying to [Snark](#comment%3A27):
> @jdemeyer: in fact, upstream is waiting for us(this ticket) to say "let go" to release, so Jean-Pierre wasn't that wrong to provide a spkg already :-)

It was very right to provide a spkg. I'm just saying that it should have been made clear that this was for a non-released version of `fplll` and hence it wasn't the final spkg.



---

archive/issue_comments_146834.json:
```json
{
    "body": "<a id='comment:31'></a>\n4.0.4 is officially released without the new permissions, I quickly mailed Damien to see if he could not fix that and replace the upped tarball with a fixed one without anyone noticing.",
    "created_at": "2013-05-30T08:22:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146834",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:31'></a>
4.0.4 is officially released without the new permissions, I quickly mailed Damien to see if he could not fix that and replace the upped tarball with a fixed one without anyone noticing.



---

archive/issue_comments_146835.json:
```json
{
    "body": "<a id='comment:32'></a>\nIn fact Damien responded and it should have fixed permissions, he will reupload a proper tarball later today.",
    "created_at": "2013-05-30T08:49:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146835",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:32'></a>
In fact Damien responded and it should have fixed permissions, he will reupload a proper tarball later today.



---

archive/issue_comments_146836.json:
```json
{
    "body": "**Work Issues:** hgignore, make final spkg",
    "created_at": "2013-05-30T09:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146836",
    "user": "https://github.com/jdemeyer"
}
```

**Work Issues:** hgignore, make final spkg



---

archive/issue_comments_146837.json:
```json
{
    "body": "**Changing work issues** from \"hgignore, make final spkg\" to \"hgignore, license, make final spkg\".",
    "created_at": "2013-05-30T09:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146837",
    "user": "https://github.com/jdemeyer"
}
```

**Changing work issues** from "hgignore, make final spkg" to "hgignore, license, make final spkg".



---

archive/issue_comments_146838.json:
```json
{
    "body": "**Attachment:** [trac_12835-hgignore.patch.gz](https://github.com/sagemath/sage/files/ticket12835/trac_12835-hgignore.patch.gz)",
    "created_at": "2013-05-30T12:49:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146838",
    "user": "https://github.com/sagetrac-jpflori"
}
```

**Attachment:** [trac_12835-hgignore.patch.gz](https://github.com/sagemath/sage/files/ticket12835/trac_12835-hgignore.patch.gz)



---

archive/issue_comments_146839.json:
```json
{
    "body": "**Changing keywords** from \"lll, fplll\" to \"lll, fplll, spkg\".",
    "created_at": "2013-05-30T12:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146839",
    "user": "https://github.com/sagetrac-jpflori"
}
```

**Changing keywords** from "lll, fplll" to "lll, fplll, spkg".



---

archive/issue_comments_146840.json:
```json
{
    "body": "<a id='comment:35'></a>\nA proper 4.0.4 is now online on upstream website and packaged here.",
    "created_at": "2013-05-30T12:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146840",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:35'></a>
A proper 4.0.4 is now online on upstream website and packaged here.



---

archive/issue_events_149765.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2013-05-30T12:51:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149765"
}
```



---

archive/issue_events_149766.json:
```json
{
    "actor": "https://github.com/sagetrac-jpflori",
    "created_at": "2013-05-30T12:51:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149766"
}
```



---

archive/issue_comments_146841.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,6 +3,9 @@\n Use spkg at:\n * http://boxen.math.washington.edu/home/jpflori/spkg/libfplll-4.0.4.spkg\n \n-Apply:\n+Apply to Sage library:\n * [attachment:trac_12835-fplll4.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-fplll4.patch),\n * [attachment:trac_12835-doctests.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-doctests.patch).\n+\n+Apply to local/bin/:\n+* [attachment:trac_12835-hgignore.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-hgignore.patch).\n``````\n",
    "created_at": "2013-05-30T12:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146841",
    "user": "https://github.com/sagetrac-jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,6 +3,9 @@
 Use spkg at:
 * http://boxen.math.washington.edu/home/jpflori/spkg/libfplll-4.0.4.spkg
 
-Apply:
+Apply to Sage library:
 * [attachment:trac_12835-fplll4.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-fplll4.patch),
 * [attachment:trac_12835-doctests.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-doctests.patch).
+
+Apply to local/bin/:
+* [attachment:trac_12835-hgignore.patch](https://github.com/sagemath/sage/files/ticket12835/trac_12835-hgignore.patch).
``````




---

archive/issue_comments_146842.json:
```json
{
    "body": "**Changing work issues** from \"hgignore, license, make final spkg\" to \"\".",
    "created_at": "2013-05-30T12:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146842",
    "user": "https://github.com/sagetrac-jpflori"
}
```

**Changing work issues** from "hgignore, license, make final spkg" to "".



---

archive/issue_comments_146843.json:
```json
{
    "body": "<a id='comment:36'></a>\nThe spkg diff isn't right....",
    "created_at": "2013-05-30T12:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146843",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:36'></a>
The spkg diff isn't right....



---

archive/issue_comments_146844.json:
```json
{
    "body": "Spkg diff, for review only.",
    "created_at": "2013-05-30T13:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146844",
    "user": "https://github.com/sagetrac-jpflori"
}
```

Spkg diff, for review only.



---

archive/issue_comments_146845.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Attachment:** [libfplll-4.0.4.diff.gz](https://github.com/sagemath/sage/files/ticket12835/libfplll-4.0.4.diff.gz)\n\nFixed hopefully.\n\nA few remarks:\n* I've update the website address.\n* According to the info there only Damien is in charge now.\n* I've added his professional mail address.\n* updated the license.\n* Fixed the date and author of the previous spkg we distributed which were wrong.",
    "created_at": "2013-05-30T13:04:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146845",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:37'></a>
**Attachment:** [libfplll-4.0.4.diff.gz](https://github.com/sagemath/sage/files/ticket12835/libfplll-4.0.4.diff.gz)

Fixed hopefully.

A few remarks:
* I've update the website address.
* According to the info there only Damien is in charge now.
* I've added his professional mail address.
* updated the license.
* Fixed the date and author of the previous spkg we distributed which were wrong.



---

archive/issue_comments_146846.json:
```json
{
    "body": "<a id='comment:38'></a>\nAnd there is an accent in Damien family's name which appears correctly when I look at SPKG.txt and the diff file with a capable reader but not in the diff when displayed on trac.",
    "created_at": "2013-05-30T13:05:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146846",
    "user": "https://github.com/sagetrac-jpflori"
}
```

<a id='comment:38'></a>
And there is an accent in Damien family's name which appears correctly when I look at SPKG.txt and the diff file with a capable reader but not in the diff when displayed on trac.



---

archive/issue_comments_146847.json:
```json
{
    "body": "<a id='comment:39'></a>\nReplying to [jpflori](#comment%3A38):\n> And there is an accent in Damien family's name which appears correctly when I look at SPKG.txt and the diff file with a capable reader but not in the diff when displayed on trac.\n\nThat's not a problem.",
    "created_at": "2013-05-30T13:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146847",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:39'></a>
Replying to [jpflori](#comment%3A38):
> And there is an accent in Damien family's name which appears correctly when I look at SPKG.txt and the diff file with a capable reader but not in the diff when displayed on trac.

That's not a problem.



---

archive/issue_comments_146848.json:
```json
{
    "body": "**Changing reviewer** from \"Martin Albrecht\" to \"Martin Albrecht, Jeroen Demeyer\".",
    "created_at": "2013-05-30T13:10:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146848",
    "user": "https://github.com/jdemeyer"
}
```

**Changing reviewer** from "Martin Albrecht" to "Martin Albrecht, Jeroen Demeyer".



---

archive/issue_comments_146849.json:
```json
{
    "body": "<a id='comment:40'></a>\nLooks good on first sight, will set to positive review if build and doctests work.",
    "created_at": "2013-05-30T13:10:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146849",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:40'></a>
Looks good on first sight, will set to positive review if build and doctests work.



---

archive/issue_events_149767.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-30T13:22:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "rename": {
        "from": "upgrade fpLLL to version 4.0.4 when it's released",
        "to": "upgrade fpLLL to version 4.0.4"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149767"
}
```



---

archive/issue_comments_146850.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0.4 will come out which includes an implementation of BKZ.\n+Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0.4 is out, which includes an implementation of BKZ.\n \n Use spkg at:\n * http://boxen.math.washington.edu/home/jpflori/spkg/libfplll-4.0.4.spkg\n``````\n",
    "created_at": "2013-05-30T13:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146850",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0.4 will come out which includes an implementation of BKZ.
+Sage still ships fpLLL 3.0.12 (we upgraded to 3.0.12 in May 2009!) but fpLLL 4.0.4 is out, which includes an implementation of BKZ.
 
 Use spkg at:
 * http://boxen.math.washington.edu/home/jpflori/spkg/libfplll-4.0.4.spkg
``````




---

archive/issue_events_149768.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-31T09:30:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149768"
}
```



---

archive/issue_events_149769.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-31T09:30:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149769"
}
```



---

archive/issue_events_149770.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-03T12:06:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149770"
}
```



---

archive/issue_events_149771.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-03T12:06:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149771"
}
```



---

archive/issue_comments_146851.json:
```json
{
    "body": "**Merged:** sage-5.11.beta0",
    "created_at": "2013-06-10T08:39:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12835#issuecomment-146851",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.11.beta0



---

archive/issue_events_149772.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-10T08:39:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149772"
}
```



---

archive/issue_events_149773.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-10T08:39:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12835",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12835#event-149773"
}
```
