# Issue 12561: Factoring padic polynomials

archive/issues_012389.json:
```json
{
    "body": "OM Tree construction and a native sage implementation of padic polynomial factoring using it.  This factorization works for polynomials over Zp as well as over unramified and totally ramified extensions of Zp.\n\nAssignee: @roed314\n\nCC:  @roed314 @pjbruin\n\nKeywords: sd86.5, sd87, padicIMA\n\nWork_Issues: add to reference manual, improve arithmetic of FrameElt, FrameEltTerm (i.e., give them a parent)\n\nReviewer: Julian R\u00fcth\n\nAuthor: Brian Sinclair, Sebastian Pauli\n\nBranch: u/roed/ticket/12561\n\nStatus: needs_info\n\nDependencies: #15190, #14825, #20310\n\nCommit: 0e7f566447b002f48e67b7821af865cf30629dce\n\nIssue created by migration from https://trac.sagemath.org/ticket/12561\n\n",
    "created_at": "2012-02-22T09:12:51Z",
    "labels": [
        "component: padics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Factoring padic polynomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12561",
    "user": "https://trac.sagemath.org/admin/accounts/users/bsinclai"
}
```
OM Tree construction and a native sage implementation of padic polynomial factoring using it.  This factorization works for polynomials over Zp as well as over unramified and totally ramified extensions of Zp.

Assignee: @roed314

CC:  @roed314 @pjbruin

Keywords: sd86.5, sd87, padicIMA

Work_Issues: add to reference manual, improve arithmetic of FrameElt, FrameEltTerm (i.e., give them a parent)

Reviewer: Julian Rüth

Author: Brian Sinclair, Sebastian Pauli

Branch: u/roed/ticket/12561

Status: needs_info

Dependencies: #15190, #14825, #20310

Commit: 0e7f566447b002f48e67b7821af865cf30629dce

Issue created by migration from https://trac.sagemath.org/ticket/12561





---

archive/issue_comments_145999.json:
```json
{
    "body": "Attachment [12561.patch](tarball://root/attachments/some-uuid/ticket12561/12561.patch) by bsinclai created at 2012-02-23 08:37:25",
    "created_at": "2012-02-23T08:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-145999",
    "user": "https://trac.sagemath.org/admin/accounts/users/bsinclai"
}
```

Attachment [12561.patch](tarball://root/attachments/some-uuid/ticket12561/12561.patch) by bsinclai created at 2012-02-23 08:37:25



---

archive/issue_comments_146000.json:
```json
{
    "body": "<a id='comment:1'></a>On the wiki page about padic factoring it says that the implementation doesn't work correctly for some examples. Is there only a problem with some specific cases? I just tried a few products of low degree polynomials and the factorizations seemed ok.\n\nI want to try to debug the code, so if you know of any simple examples for which it doesn't work, that would be helpful.",
    "created_at": "2013-01-12T17:45:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146000",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:1'></a>On the wiki page about padic factoring it says that the implementation doesn't work correctly for some examples. Is there only a problem with some specific cases? I just tried a few products of low degree polynomials and the factorizations seemed ok.

I want to try to debug the code, so if you know of any simple examples for which it doesn't work, that would be helpful.



---

archive/issue_comments_146001.json:
```json
{
    "body": "<a id='comment:2'></a>Other than the poor state of documentation and polish, I cannot find any faults.  I have run the code through all of the previously failed examples with no issue outside of occasionally having insufficient precision.  The newton polygon code does not elegantly handle the infinite slope case (the case where the current phi actually divides Phi), but it doesn't have to for factoring since it can be (and is) caught earlier in the loop.",
    "created_at": "2013-01-26T22:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146001",
    "user": "https://trac.sagemath.org/admin/accounts/users/bsinclai"
}
```

<a id='comment:2'></a>Other than the poor state of documentation and polish, I cannot find any faults.  I have run the code through all of the previously failed examples with no issue outside of occasionally having insufficient precision.  The newton polygon code does not elegantly handle the infinite slope case (the case where the current phi actually divides Phi), but it doesn't have to for factoring since it can be (and is) caught earlier in the loop.



---

archive/issue_comments_146002.json:
```json
{
    "body": "<a id='comment:3'></a>Patch applies correctly on 7.5 and all doctests written so far pass. However:\n\nIn the doctest from\u00a0`pfactortree()`:\n\n```\nsage: from sage.rings.polynomial.padics.factor.factoring import jorder4,pfactortree \nsage: f = ZpFM(2,24,'terse')['x']( (x^32+16)*(x^32+16+2^16*x^2)+2^34 ) \nsage: pfactortree(f) # long (3.8s) \n[(1 + O(2^24))*x^64 + (65536 + O(2^24))*x^34 + (32 + O(2^24))*x^32 + (1048576 + O(2^24))*x^2 + (256 + O(2^24))] \n```\nThis is just returning the polynomial unfactored, so demonstrably the factoring isn't working here. We should get:\n\n```\nsage: f = ZpFM(2,24,'terse')['x']( (x^32+16)*(x^32+16+2^16*x^2)+2^34 )\nsage: f.factor()\n((1 + O(2^24))*x^32 + (65536 + O(2^24))*x^2 + (16 + O(2^24))) * ((1 + O(2^24))*x^32 + (16 + O(2^24)))\n```\nAlso, we should rework this code so that a sage Factorization object is returned, and that pfactortree is called by the `.factor()` method attached to p-adic polynomials.",
    "created_at": "2013-02-28T18:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146002",
    "user": "https://github.com/haikona"
}
```

<a id='comment:3'></a>Patch applies correctly on 7.5 and all doctests written so far pass. However:

In the doctest from `pfactortree()`:

```
sage: from sage.rings.polynomial.padics.factor.factoring import jorder4,pfactortree 
sage: f = ZpFM(2,24,'terse')['x']( (x^32+16)*(x^32+16+2^16*x^2)+2^34 ) 
sage: pfactortree(f) # long (3.8s) 
[(1 + O(2^24))*x^64 + (65536 + O(2^24))*x^34 + (32 + O(2^24))*x^32 + (1048576 + O(2^24))*x^2 + (256 + O(2^24))] 
```
This is just returning the polynomial unfactored, so demonstrably the factoring isn't working here. We should get:

```
sage: f = ZpFM(2,24,'terse')['x']( (x^32+16)*(x^32+16+2^16*x^2)+2^34 )
sage: f.factor()
((1 + O(2^24))*x^32 + (65536 + O(2^24))*x^2 + (16 + O(2^24))) * ((1 + O(2^24))*x^32 + (16 + O(2^24)))
```
Also, we should rework this code so that a sage Factorization object is returned, and that pfactortree is called by the `.factor()` method attached to p-adic polynomials.



---

archive/issue_comments_146003.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 spice]:\n> Patch applies correctly on 7.5 and all doctests written so far pass. However:\n> \n> In the doctest from\u00a0`pfactortree()`:\n> \n> ```\n> sage: from sage.rings.polynomial.padics.factor.factoring import jorder4,pfactortree \n> sage: f = ZpFM(2,24,'terse')['x']( (x^32+16)*(x^32+16+2^16*x^2)+2^34 ) \n> sage: pfactortree(f) # long (3.8s) \n> [(1 + O(2^24))*x^64 + (65536 + O(2^24))*x^34 + (32 + O(2^24))*x^32 + (1048576 + O(2^24))*x^2 + (256 + O(2^24))] \n> ```\n> This is just returning the polynomial unfactored, so demonstrably the factoring isn't working here. We should get:\n> \n> ```\n> sage: f = ZpFM(2,24,'terse')['x']( (x^32+16)*(x^32+16+2^16*x^2)+2^34 )\n> sage: f.factor()\n> ((1 + O(2^24))*x^32 + (65536 + O(2^24))*x^2 + (16 + O(2^24))) * ((1 + O(2^24))*x^32 + (16 + O(2^24)))\n> ```\n> Also, we should rework this code so that a sage Factorization object is returned, and that pfactortree is called by the `.factor()` method attached to p-adic polynomials.\n\n\nNote that increasing the precision yields a factorization:\n\n```\nsage: f = ZpFM(2,44,'terse')['x']( (x^32+16)*(x^32+16+2^16*x^2) + 2^34)\nsage: pfactortree(f)\n[(1 + O(2^44))*x^32 + (7242791239680 + O(2^44))*x^30 + (13194407968768 + O(2^44))*x^28 + (7902202888192 + O(2^44))*x^26 + (2147483648 + O(2^44))*x^24 + (442381107200 + O(2^44))*x^22 + (21474836480 + O(2^44))*x^20 + (6193337597952 + O(2^44))*x^18 + (240518168576 + O(2^44))*x^16 + (2405122965504 + O(2^44))*x^14 + (2886218022912 + O(2^44))*x^12 + (16766847680512 + O(2^44))*x^10 + (1099511627776 + O(2^44))*x^8 + (2190164885504 + O(2^44))*x^6 + (14293651161088 + O(2^44))*x^4 + (14178492350464 + O(2^44))*x^2 + (8796093022224 + O(2^44)),\n (1 + O(2^44))*x^32 + (10349394804736 + O(2^44))*x^30 + (8796093022208 + O(2^44))*x^28 + (5291936645120 + O(2^44))*x^26 + (17149804937216 + O(2^44))*x^22 + (11398848446464 + O(2^44))*x^18 + (15187063078912 + O(2^44))*x^14 + (825338363904 + O(2^44))*x^10 + (15402021158912 + O(2^44))*x^6 + (3413693759488 + O(2^44))*x^2 + (8797166764048 + O(2^44))]\n```\n\nIn the case Simon pointed out, adding `2^34` doesn't do anything since the precision cap of the base ring is 24, so we have an actual example of a reducible polynomial being claimed to be irreducible.",
    "created_at": "2013-03-01T22:09:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146003",
    "user": "https://github.com/roed314"
}
```

<a id='comment:4'></a>Replying to [comment:3 spice]:
> Patch applies correctly on 7.5 and all doctests written so far pass. However:
> 
> In the doctest from `pfactortree()`:
> 
> ```
> sage: from sage.rings.polynomial.padics.factor.factoring import jorder4,pfactortree 
> sage: f = ZpFM(2,24,'terse')['x']( (x^32+16)*(x^32+16+2^16*x^2)+2^34 ) 
> sage: pfactortree(f) # long (3.8s) 
> [(1 + O(2^24))*x^64 + (65536 + O(2^24))*x^34 + (32 + O(2^24))*x^32 + (1048576 + O(2^24))*x^2 + (256 + O(2^24))] 
> ```
> This is just returning the polynomial unfactored, so demonstrably the factoring isn't working here. We should get:
> 
> ```
> sage: f = ZpFM(2,24,'terse')['x']( (x^32+16)*(x^32+16+2^16*x^2)+2^34 )
> sage: f.factor()
> ((1 + O(2^24))*x^32 + (65536 + O(2^24))*x^2 + (16 + O(2^24))) * ((1 + O(2^24))*x^32 + (16 + O(2^24)))
> ```
> Also, we should rework this code so that a sage Factorization object is returned, and that pfactortree is called by the `.factor()` method attached to p-adic polynomials.


Note that increasing the precision yields a factorization:

```
sage: f = ZpFM(2,44,'terse')['x']( (x^32+16)*(x^32+16+2^16*x^2) + 2^34)
sage: pfactortree(f)
[(1 + O(2^44))*x^32 + (7242791239680 + O(2^44))*x^30 + (13194407968768 + O(2^44))*x^28 + (7902202888192 + O(2^44))*x^26 + (2147483648 + O(2^44))*x^24 + (442381107200 + O(2^44))*x^22 + (21474836480 + O(2^44))*x^20 + (6193337597952 + O(2^44))*x^18 + (240518168576 + O(2^44))*x^16 + (2405122965504 + O(2^44))*x^14 + (2886218022912 + O(2^44))*x^12 + (16766847680512 + O(2^44))*x^10 + (1099511627776 + O(2^44))*x^8 + (2190164885504 + O(2^44))*x^6 + (14293651161088 + O(2^44))*x^4 + (14178492350464 + O(2^44))*x^2 + (8796093022224 + O(2^44)),
 (1 + O(2^44))*x^32 + (10349394804736 + O(2^44))*x^30 + (8796093022208 + O(2^44))*x^28 + (5291936645120 + O(2^44))*x^26 + (17149804937216 + O(2^44))*x^22 + (11398848446464 + O(2^44))*x^18 + (15187063078912 + O(2^44))*x^14 + (825338363904 + O(2^44))*x^10 + (15402021158912 + O(2^44))*x^6 + (3413693759488 + O(2^44))*x^2 + (8797166764048 + O(2^44))]
```

In the case Simon pointed out, adding `2^34` doesn't do anything since the precision cap of the base ring is 24, so we have an actual example of a reducible polynomial being claimed to be irreducible.



---

archive/issue_comments_146004.json:
```json
{
    "body": "<a id='comment:5'></a>The algorithm used in ``pfactortree`` only works for square-free polynomials, so I don't think this is a bug. Square-free decomposition doesn't work currently though, see #13439.",
    "created_at": "2013-05-26T23:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146004",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:5'></a>The algorithm used in ``pfactortree`` only works for square-free polynomials, so I don't think this is a bug. Square-free decomposition doesn't work currently though, see #13439.



---

archive/issue_comments_146005.json:
```json
{
    "body": "<a id='comment:6'></a>Oh wait. I looked at the wrong numbers sorry.",
    "created_at": "2013-05-26T23:36:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146005",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:6'></a>Oh wait. I looked at the wrong numbers sorry.



---

archive/issue_events_033954.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12561#event-33954"
}
```



---

archive/issue_comments_146006.json:
```json
{
    "body": "Attachment [12561.2.patch](tarball://root/attachments/some-uuid/ticket12561/12561.2.patch) by bsinclai created at 2013-10-14 02:14:11",
    "created_at": "2013-10-14T02:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146006",
    "user": "https://trac.sagemath.org/admin/accounts/users/bsinclai"
}
```

Attachment [12561.2.patch](tarball://root/attachments/some-uuid/ticket12561/12561.2.patch) by bsinclai created at 2013-10-14 02:14:11



---

archive/issue_comments_146007.json:
```json
{
    "body": "<a id='comment:8'></a>This new patch replaces the first and has a great deal of improvements, bug-fixes, and documentation.  The examples should be more sensible now.\n\nIt should successfully factor monic, square-free, fixed-mod padic polynomials without fail.\n\nI am running more tests to ensure its validity as well as implementing the transformations needed to handle non-monic cases, which would leave it only dependant on square-free decomposition.",
    "created_at": "2013-10-14T02:21:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146007",
    "user": "https://trac.sagemath.org/admin/accounts/users/bsinclai"
}
```

<a id='comment:8'></a>This new patch replaces the first and has a great deal of improvements, bug-fixes, and documentation.  The examples should be more sensible now.

It should successfully factor monic, square-free, fixed-mod padic polynomials without fail.

I am running more tests to ensure its validity as well as implementing the transformations needed to handle non-monic cases, which would leave it only dependant on square-free decomposition.



---

archive/issue_comments_146008.json:
```json
{
    "body": "<a id='comment:9'></a>Nice. I volunteer to review this once it is ready. On a first look, several methods still don't have docstrings (but you are probably aware of this).",
    "created_at": "2013-10-14T13:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146008",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:9'></a>Nice. I volunteer to review this once it is ready. On a first look, several methods still don't have docstrings (but you are probably aware of this).



---

archive/issue_comments_146009.json:
```json
{
    "body": "<a id='comment:10'></a>Please be aware of #15422 (which fixes some bugs in Sage's factoring of non-squarefree p-adic polynomials).",
    "created_at": "2013-11-22T14:13:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146009",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>Please be aware of #15422 (which fixes some bugs in Sage's factoring of non-squarefree p-adic polynomials).



---

archive/issue_comments_146010.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-07T04:19:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146010",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_146011.json:
```json
{
    "body": "<a id='comment:20'></a>New commits:",
    "created_at": "2014-01-08T22:29:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146011",
    "user": "https://trac.sagemath.org/admin/accounts/users/bsinclai"
}
```

<a id='comment:20'></a>New commits:



---

archive/issue_comments_146012.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-01-08T22:29:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146012",
    "user": "https://trac.sagemath.org/admin/accounts/users/bsinclai"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_146013.json:
```json
{
    "body": "<a id='comment:21'></a>Some comments (not planning to actually review this):\n1. I would hope that this code works for all kinds of p-adic polynomials (over `Zp`, over `Qp`, over field extensions, all with different kinds of precision). Still, (almost) all examples in the doctests use `ZpFM`.\n2. The `factor()` method doesn't actually use this code. What's the point then?\n3. It would be good if this code would also support the `factor_padic()` method for polynomials over `ZZ` and `QQ`.\n4. What happens if the assumption the the polynomial is squarefree doesn't hold?\n5. Units in the `Factorization` should be put in the \"unit\" part, this is wrong:\n\n```\nsage: x = polygen(ZpFM(2,10))\nsage: pfactor(3*x)[1]\n(1 + 2 + O(2^10), 1)\n```\n1. Similarly, the primes should actually be primes, this should have a factor 2 with multiplicity 2:\n\n```\nsage: x = polygen(ZpFM(2,10))\nsage: pfactor(4*x)[1]\n(2^2 + O(2^10), 1)\n```",
    "created_at": "2014-01-09T13:34:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146013",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>Some comments (not planning to actually review this):
1. I would hope that this code works for all kinds of p-adic polynomials (over `Zp`, over `Qp`, over field extensions, all with different kinds of precision). Still, (almost) all examples in the doctests use `ZpFM`.
2. The `factor()` method doesn't actually use this code. What's the point then?
3. It would be good if this code would also support the `factor_padic()` method for polynomials over `ZZ` and `QQ`.
4. What happens if the assumption the the polynomial is squarefree doesn't hold?
5. Units in the `Factorization` should be put in the "unit" part, this is wrong:

```
sage: x = polygen(ZpFM(2,10))
sage: pfactor(3*x)[1]
(1 + 2 + O(2^10), 1)
```
1. Similarly, the primes should actually be primes, this should have a factor 2 with multiplicity 2:

```
sage: x = polygen(ZpFM(2,10))
sage: pfactor(4*x)[1]
(2^2 + O(2^10), 1)
```



---

archive/issue_comments_146014.json:
```json
{
    "body": "<a id='comment:22'></a>The new code also seems slower than the `factor()` which is already in Sage (at least when #15654 is applied).\n\n```\nsage: x = polygen(ZpFM(3,50))\nsage: pol = (x-1)^100 + x\nsage: %time F1=factor(pol)\nCPU times: user 0.68 s, sys: 0.00 s, total: 0.68 s\nWall time: 0.68 s\nsage: %time F2=pfactor(pol)\nCPU times: user 2.17 s, sys: 0.01 s, total: 2.18 s\nWall time: 2.16 s\n```",
    "created_at": "2014-01-09T16:39:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146014",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>The new code also seems slower than the `factor()` which is already in Sage (at least when #15654 is applied).

```
sage: x = polygen(ZpFM(3,50))
sage: pol = (x-1)^100 + x
sage: %time F1=factor(pol)
CPU times: user 0.68 s, sys: 0.00 s, total: 0.68 s
Wall time: 0.68 s
sage: %time F2=pfactor(pol)
CPU times: user 2.17 s, sys: 0.01 s, total: 2.18 s
Wall time: 2.16 s
```



---

archive/issue_comments_146015.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-01-09T19:29:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146015",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_146016.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-09T23:45:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146016",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_146017.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:22 jdemeyer]:\n> The new code also seems slower than the `factor()` which is already in Sage (at least when #15654 is applied).\n\n\nIt hasn't been optimized, so I'm hoping that these timings will improve (currently, a lot of time is spent in initialization of various objects that can be reduced).",
    "created_at": "2014-01-10T01:07:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146017",
    "user": "https://github.com/roed314"
}
```

<a id='comment:25'></a>Replying to [comment:22 jdemeyer]:
> The new code also seems slower than the `factor()` which is already in Sage (at least when #15654 is applied).


It hasn't been optimized, so I'm hoping that these timings will improve (currently, a lot of time is spent in initialization of various objects that can be reduced).



---

archive/issue_events_033955.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12561#event-33955"
}
```



---

archive/issue_events_033956.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12561#event-33956"
}
```



---

archive/issue_events_033957.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12561#event-33957"
}
```



---

archive/issue_events_033958.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12561#event-33958"
}
```



---

archive/issue_events_033959.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12561#event-33959"
}
```



---

archive/issue_events_033960.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12561#event-33960"
}
```



---

archive/issue_comments_146018.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd86.5\".",
    "created_at": "2017-06-06T03:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146018",
    "user": "https://github.com/saraedum"
}
```

Changing keywords from "" to "sd86.5".



---

archive/issue_comments_146019.json:
```json
{
    "body": "<a id='comment:30'></a>New commits:",
    "created_at": "2017-06-06T03:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146019",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:30'></a>New commits:



---

archive/issue_comments_146020.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-10T17:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146020",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_146021.json:
```json
{
    "body": "Changing keywords from \"sd86.5\" to \"sd86.5, sd87\".",
    "created_at": "2017-07-17T17:36:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146021",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "sd86.5" to "sd86.5, sd87".



---

archive/issue_comments_146022.json:
```json
{
    "body": "<a id='comment:34'></a>Last 10 new commits:",
    "created_at": "2017-07-18T21:12:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146022",
    "user": "https://trac.sagemath.org/admin/accounts/users/bsinclai"
}
```

<a id='comment:34'></a>Last 10 new commits:



---

archive/issue_events_033961.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/bsinclai",
    "created_at": "2017-07-18T21:18:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12561#event-33961"
}
```



---

archive/issue_events_033962.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/bsinclai",
    "created_at": "2017-07-18T21:18:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12561#event-33962"
}
```



---

archive/issue_comments_146023.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-07-18T21:18:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146023",
    "user": "https://trac.sagemath.org/admin/accounts/users/bsinclai"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_146024.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-19T04:26:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146024",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_146025.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-19T19:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146025",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_146026.json:
```json
{
    "body": "<a id='comment:39'></a>Last 10 new commits:",
    "created_at": "2017-07-20T03:12:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146026",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:39'></a>Last 10 new commits:



---

archive/issue_comments_146027.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T05:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146027",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_146028.json:
```json
{
    "body": "<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T07:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146028",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_146029.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T07:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146029",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_146030.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-20T08:14:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146030",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_146031.json:
```json
{
    "body": "<a id='comment:44'></a>I think it would be very nice to come up with a parent for FrameElt and FrameEltTerm and then inherit from Element for these. This would make implementation of arithmetic much easier I think.\n\nIsn't FrameElt basically just a sparse polynomial whose coefficients are FrameEltTerm? I actually find it surprising that FrameEltTerm exists. It's just wrapping a FrameElt except in the base case where it is wrapping a constant. I think that a tower of sparse polynomial rings could give you the same much more easily.\n\nNot sure if you feel like rewriting this or if we should postpone this.",
    "created_at": "2017-07-20T08:31:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146031",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:44'></a>I think it would be very nice to come up with a parent for FrameElt and FrameEltTerm and then inherit from Element for these. This would make implementation of arithmetic much easier I think.

Isn't FrameElt basically just a sparse polynomial whose coefficients are FrameEltTerm? I actually find it surprising that FrameEltTerm exists. It's just wrapping a FrameElt except in the base case where it is wrapping a constant. I think that a tower of sparse polynomial rings could give you the same much more easily.

Not sure if you feel like rewriting this or if we should postpone this.



---

archive/issue_comments_146032.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-07-20T08:31:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146032",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_146033.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2017-07-20T08:31:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146033",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_146034.json:
```json
{
    "body": "<a id='comment:46'></a>I think that in the end, finding a parent for FrameElt and FrameEltTerm make sense.  FrameElts are sparse polynomials of FrameEltTerms and FrameEltTerms are either representations of p-adic integers as valuation-and-unit or (FrameElt in phi<sub>i-1</sub>)*phi<sub>i</sub><sup>deg</sup>.  However, there are specialized mechanics to consider and these objects are at the core of most of this code.\n\nI think that this would be worthwhile, but might make sense to do as part of a refactor that also collapses segments and residual factors into frames and cleans up the object interface.",
    "created_at": "2017-07-20T16:37:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146034",
    "user": "https://trac.sagemath.org/admin/accounts/users/bsinclai"
}
```

<a id='comment:46'></a>I think that in the end, finding a parent for FrameElt and FrameEltTerm make sense.  FrameElts are sparse polynomials of FrameEltTerms and FrameEltTerms are either representations of p-adic integers as valuation-and-unit or (FrameElt in phi<sub>i-1</sub>)*phi<sub>i</sub><sup>deg</sup>.  However, there are specialized mechanics to consider and these objects are at the core of most of this code.

I think that this would be worthwhile, but might make sense to do as part of a refactor that also collapses segments and residual factors into frames and cleans up the object interface.



---

archive/issue_comments_146035.json:
```json
{
    "body": "<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-21T17:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146035",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_146036.json:
```json
{
    "body": "<a id='comment:49'></a>New commits:",
    "created_at": "2018-07-23T00:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146036",
    "user": "https://github.com/roed314"
}
```

<a id='comment:49'></a>New commits:



---

archive/issue_comments_146037.json:
```json
{
    "body": "Changing keywords from \"sd86.5, sd87\" to \"sd86.5, sd87, padicIMA\".",
    "created_at": "2018-07-23T00:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146037",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "sd86.5, sd87" to "sd86.5, sd87, padicIMA".



---

archive/issue_comments_146038.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-23T03:39:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12561",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12561#issuecomment-146038",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:
