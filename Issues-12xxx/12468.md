# Issue 12468: # cython: cdivision=True

archive/issues_012296.json:
```json
{
    "body": "The file matrix_window_modn_dense.pyx starts with\n\n```\n# cython: cdivision=True\n```\nwhich suggests that putting a line like \n\n```\n# cython: cdivision=False\n```\nwould have an impact on the directives used when compiling Cython code.  This is not the case at all.  Such a line is completely ignored.  \n\nTo resolve this ticket, either make the directive not be ignored, or delete this line from matrix_window_modn_dense.pyx. \n\nNote that the actual directories used are currently hard coded in devel/sage/sage/setup.py in this code:\n\n```\n        # call cython, abort if it failed\n        cmd = \"python `which cython` %s --old-style-globals --disable-function-redefinition --embed-positions --directive cdivision=True,autotestdict=False,fast_getattr=True -I%s -o %s %s\"%(cplus, os.getcwd(), outfile, f)\n        r = run_command(cmd)\n```\n\nThe default with PSAGE is cdivision=False.  This is causing me headaches when porting code from psage to sage.  (E.g., #12465).    For #12465 I'll probably try to figure out how to rewrite my code to work with cdivision=True, or use explicit cython directives on a function-by-function level. \n\nAssignee: GeorgSWeber\n\nResolution: invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/12468\n\n",
    "closed_at": "2012-02-07T21:49:05Z",
    "created_at": "2012-02-07T21:33:43Z",
    "labels": [
        "component: build",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "# cython: cdivision=True",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12468",
    "user": "https://github.com/williamstein"
}
```
The file matrix_window_modn_dense.pyx starts with

```
# cython: cdivision=True
```
which suggests that putting a line like 

```
# cython: cdivision=False
```
would have an impact on the directives used when compiling Cython code.  This is not the case at all.  Such a line is completely ignored.  

To resolve this ticket, either make the directive not be ignored, or delete this line from matrix_window_modn_dense.pyx. 

Note that the actual directories used are currently hard coded in devel/sage/sage/setup.py in this code:

```
        # call cython, abort if it failed
        cmd = "python `which cython` %s --old-style-globals --disable-function-redefinition --embed-positions --directive cdivision=True,autotestdict=False,fast_getattr=True -I%s -o %s %s"%(cplus, os.getcwd(), outfile, f)
        r = run_command(cmd)
```

The default with PSAGE is cdivision=False.  This is causing me headaches when porting code from psage to sage.  (E.g., #12465).    For #12465 I'll probably try to figure out how to rewrite my code to work with cdivision=True, or use explicit cython directives on a function-by-function level. 

Assignee: GeorgSWeber

Resolution: invalid

Issue created by migration from https://trac.sagemath.org/ticket/12468





---

archive/issue_events_039424.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2012-02-07T21:49:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12468",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12468#event-39424"
}
```



---

archive/issue_comments_183897.json:
```json
{
    "body": "<a id='comment:1'></a>\nOK, now I feel stupid.  So even though the command line explicitly has `--directive cdivision=True,`, when cython sees the file it does cdivision=False, as long as `# cython: cdivision=False` is in the file.  So I'm basically just totally wrong.  I'm closing this ticket as invalid. Sorry for the noise and confusion.",
    "created_at": "2012-02-07T21:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12468#issuecomment-183897",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:1'></a>
OK, now I feel stupid.  So even though the command line explicitly has `--directive cdivision=True,`, when cython sees the file it does cdivision=False, as long as `# cython: cdivision=False` is in the file.  So I'm basically just totally wrong.  I'm closing this ticket as invalid. Sorry for the noise and confusion.



---

archive/issue_comments_183898.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2012-02-07T21:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12468",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12468#issuecomment-183898",
    "user": "https://github.com/williamstein"
}
```

Resolution: invalid



---

archive/issue_events_039425.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2012-02-12T05:33:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12468",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12468#event-39425"
}
```
