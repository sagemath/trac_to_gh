# Issue 12949: Better congruence testing for odd arithmetic subgroups

archive/issues_012777.json:
```json
{
    "body": "This patch relates to the ` is_congruence() ` method of arithmetic subgroups of SL2Z (described in terms of permutations, cf. ` sage.modular.arithgroup.arithgroup_perm`). For even subgroups (containing -1), there is a very fast algorithm due to Tim Hsu, but for odd subgroups we were using a much, much slower brute-force algorithm.\n\nMy student Thomas Hamilton checked in his MMath thesis that Hsu's algorithm also works for odd subgroups with minor modifications. This patch implements this generalized Hsu algorithm, resulting in a speedup of about three orders of magnitude in all the examples I tried.\n\nAssignee: @craigcitro\n\nCC:  @videlec\n\nBranch/Commit: 27b7508b4c99f0116fd3d63dfd3b6dd242302049\n\nReviewer: Vincent Delecroix\n\nAuthor: David Loeffler\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/12949\n\n",
    "closed_at": "2015-04-15T16:39:13Z",
    "created_at": "2012-05-15T11:55:49Z",
    "labels": [
        "component: modular forms"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "Better congruence testing for odd arithmetic subgroups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12949",
    "user": "https://github.com/loefflerd"
}
```
This patch relates to the ` is_congruence() ` method of arithmetic subgroups of SL2Z (described in terms of permutations, cf. ` sage.modular.arithgroup.arithgroup_perm`). For even subgroups (containing -1), there is a very fast algorithm due to Tim Hsu, but for odd subgroups we were using a much, much slower brute-force algorithm.

My student Thomas Hamilton checked in his MMath thesis that Hsu's algorithm also works for odd subgroups with minor modifications. This patch implements this generalized Hsu algorithm, resulting in a speedup of about three orders of magnitude in all the examples I tried.

Assignee: @craigcitro

CC:  @videlec

Branch/Commit: 27b7508b4c99f0116fd3d63dfd3b6dd242302049

Reviewer: Vincent Delecroix

Author: David Loeffler

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/12949





---

archive/issue_comments_189807.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-05-15T15:06:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189807",
    "user": "https://github.com/loefflerd"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_189808.json:
```json
{
    "body": "<a id='comment:2'></a>Vincent: I'm ccing you on this ticket, since it was you who originally suggested that Hsu's algorithm should work for odd subgroups too (http://trac.sagemath.org/sage_trac/ticket/11598#comment:3)",
    "created_at": "2012-05-15T15:48:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189808",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:2'></a>Vincent: I'm ccing you on this ticket, since it was you who originally suggested that Hsu's algorithm should work for odd subgroups too (http://trac.sagemath.org/sage_trac/ticket/11598#comment:3)



---

archive/issue_comments_189809.json:
```json
{
    "body": "<a id='comment:3'></a>Hello,\n\nSorry to answer lately. This is quite nice that it works!\n\nI am starting the review...",
    "created_at": "2013-06-04T16:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189809",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>Hello,

Sorry to answer lately. This is quite nice that it works!

I am starting the review...



---

archive/issue_comments_189810.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2013-06-04T16:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189810",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_189811.json:
```json
{
    "body": "Changing work_issues from \"\" to \"bring back old code + minor doc\"",
    "created_at": "2013-06-04T16:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189811",
    "user": "https://github.com/videlec"
}
```

Changing work_issues from "" to "bring back old code + minor doc"



---

archive/issue_events_035415.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2013-06-04T16:37:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35415"
}
```



---

archive/issue_comments_189812.json:
```json
{
    "body": "<a id='comment:4'></a>I would prefer to keep both implementations (naive one vs checking relations with default to the latter one of course ;-). Then you may add a dedicated test comparing the results in `sage.modular.arithgroup.tests`. Otherwise the new implementation is well documented and everything works.\n\nIs your result available to read ? A dissertation is a legitimate reference, but one may want to read it.\n\nWhy did you remove the reference of the article of Alexey G. Gorinov ? I do not claim that it is not a good idea but just that it was not the purpose of the ticket.",
    "created_at": "2013-06-04T16:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189812",
    "user": "https://github.com/videlec"
}
```

<a id='comment:4'></a>I would prefer to keep both implementations (naive one vs checking relations with default to the latter one of course ;-). Then you may add a dedicated test comparing the results in `sage.modular.arithgroup.tests`. Otherwise the new implementation is well documented and everything works.

Is your result available to read ? A dissertation is a legitimate reference, but one may want to read it.

Why did you remove the reference of the article of Alexey G. Gorinov ? I do not claim that it is not a good idea but just that it was not the purpose of the ticket.



---

archive/issue_comments_189813.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-06-04T16:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189813",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_189814.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2013-06-24T16:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189814",
    "user": "https://github.com/loefflerd"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_189815.json:
```json
{
    "body": "<a id='comment:5'></a>Dear Vincent,\n\nNice to hear from you; sorry it's taken me so long to look at this in turn...\n\n- I didn't remove the reference to Gorinov. I just moved it a little higher in the list so the references were listed in alphabetical order.\n\n- Hamilton's dissertation isn't available publicly anywhere, sadly; Warwick doesn't maintain an archive of MMath dissertations, although it does for MSc and PhD degrees. If you want to check the result, I have a copy I can send to you personally, if you like.\n\n- I'm not quite sure what you're suggesting re keeping both algorithms. At the moment we have one (fast) algorithm for even subgroups only, and another (much slower) algorithm for odd subgroups. It seems silly to distinguish needlessly between even/odd -- would you be happier with a setup where we have both algorithms available for both types of subgroups (with the fast one the default, of course)?",
    "created_at": "2013-06-24T16:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189815",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:5'></a>Dear Vincent,

Nice to hear from you; sorry it's taken me so long to look at this in turn...

- I didn't remove the reference to Gorinov. I just moved it a little higher in the list so the references were listed in alphabetical order.

- Hamilton's dissertation isn't available publicly anywhere, sadly; Warwick doesn't maintain an archive of MMath dissertations, although it does for MSc and PhD degrees. If you want to check the result, I have a copy I can send to you personally, if you like.

- I'm not quite sure what you're suggesting re keeping both algorithms. At the moment we have one (fast) algorithm for even subgroups only, and another (much slower) algorithm for odd subgroups. It seems silly to distinguish needlessly between even/odd -- would you be happier with a setup where we have both algorithms available for both types of subgroups (with the fast one the default, of course)?



---

archive/issue_comments_189816.json:
```json
{
    "body": "Changing work_issues from \"bring back old code + minor doc\" to \"ref issue + test\"",
    "created_at": "2013-06-24T17:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189816",
    "user": "https://github.com/videlec"
}
```

Changing work_issues from "bring back old code + minor doc" to "ref issue + test"



---

archive/issue_comments_189817.json:
```json
{
    "body": "<a id='comment:6'></a>Hi,\n\nReplying to [comment:5 davidloeffler]:\n> - I didn't remove the reference to Gorinov. I just moved it a little higher in the list so the references were listed in alphabetical order.\n\n\nMy mistake.\n \n> - Hamilton's dissertation isn't available publicly anywhere, sadly; Warwick doesn't maintain an archive of MMath dissertations, although it does for MSc and PhD degrees. If you want to check the result, I have a copy I can send to you personally, if you like.\n\n\nI would appreciate a copy but this is not the point. If you mention the Math dissertation as a reference for the algorithm it should be available for anyone. What about arXiv ?\n\n> - I'm not quite sure what you're suggesting re keeping both algorithms. At the moment we have one (fast) algorithm for even subgroups only, and another (much slower) algorithm for odd subgroups. It seems silly to distinguish needlessly between even/odd -- would you be happier with a setup where we have both algorithms available for both types of subgroups (with the fast one the default, of course)?\n\n\nYou are right. It would be better to keep the fast algorithm only and to implement the naive test within the `Test` class and check that the answers coincide.\n\nBest\nVincent",
    "created_at": "2013-06-24T17:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189817",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>Hi,

Replying to [comment:5 davidloeffler]:
> - I didn't remove the reference to Gorinov. I just moved it a little higher in the list so the references were listed in alphabetical order.


My mistake.
 
> - Hamilton's dissertation isn't available publicly anywhere, sadly; Warwick doesn't maintain an archive of MMath dissertations, although it does for MSc and PhD degrees. If you want to check the result, I have a copy I can send to you personally, if you like.


I would appreciate a copy but this is not the point. If you mention the Math dissertation as a reference for the algorithm it should be available for anyone. What about arXiv ?

> - I'm not quite sure what you're suggesting re keeping both algorithms. At the moment we have one (fast) algorithm for even subgroups only, and another (much slower) algorithm for odd subgroups. It seems silly to distinguish needlessly between even/odd -- would you be happier with a setup where we have both algorithms available for both types of subgroups (with the fast one the default, of course)?


You are right. It would be better to keep the fast algorithm only and to implement the naive test within the `Test` class and check that the answers coincide.

Best
Vincent



---

archive/issue_comments_189818.json:
```json
{
    "body": "<a id='comment:7'></a>I'd need Hamilton's permission to put the work on the arxiv, I'll see if that can be got.",
    "created_at": "2013-06-25T08:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189818",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:7'></a>I'd need Hamilton's permission to put the work on the arxiv, I'll see if that can be got.



---

archive/issue_comments_189819.json:
```json
{
    "body": "<a id='comment:8'></a>Dear Vincent,\n\nHamilton gave his permission for the work to be put on the Arxiv, so here's a new patch that references the Arxiv preprint. There is also a test in \"tests.py\" which compares `is_congruence` against `congruence_closure`, and a slight tweak to the congruence subgroup initialization code that makes the test run a little faster.\n\nBest regards, David",
    "created_at": "2013-07-05T10:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189819",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:8'></a>Dear Vincent,

Hamilton gave his permission for the work to be put on the Arxiv, so here's a new patch that references the Arxiv preprint. There is also a test in "tests.py" which compares `is_congruence` against `congruence_closure`, and a slight tweak to the congruence subgroup initialization code that makes the test run a little faster.

Best regards, David



---

archive/issue_comments_189820.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2013-07-05T10:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189820",
    "user": "https://github.com/loefflerd"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_189821.json:
```json
{
    "body": "Changing work_issues from \"ref issue + test\" to \"\"",
    "created_at": "2013-07-05T10:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189821",
    "user": "https://github.com/loefflerd"
}
```

Changing work_issues from "ref issue + test" to ""



---

archive/issue_comments_189822.json:
```json
{
    "body": "<a id='comment:9'></a>patchbot is unhappy on 5.11.beta3. Is that normal?",
    "created_at": "2013-07-05T12:01:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189822",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>patchbot is unhappy on 5.11.beta3. Is that normal?



---

archive/issue_comments_189823.json:
```json
{
    "body": "Rebased to 5.11.beta3",
    "created_at": "2013-07-05T14:12:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189823",
    "user": "https://github.com/loefflerd"
}
```

Rebased to 5.11.beta3



---

archive/issue_comments_189824.json:
```json
{
    "body": "<a id='comment:10'></a>Attachment [trac_12949.patch](tarball://root/attachments/some-uuid/ticket12949/trac_12949.patch) by @loefflerd created at 2013-07-05 14:13:04\n\nIt conflicted with #14014. I've rebased it.",
    "created_at": "2013-07-05T14:13:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189824",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:10'></a>Attachment [trac_12949.patch](tarball://root/attachments/some-uuid/ticket12949/trac_12949.patch) by @loefflerd created at 2013-07-05 14:13:04

It conflicted with #14014. I've rebased it.



---

archive/issue_comments_189825.json:
```json
{
    "body": "<a id='comment:11'></a>Great! I am really happy that it was possible to put it on arxiv. Everything looks fine except for the tests: `sage -t` on sage.modular.arithgroup.tests was around 10sec and is now 576.57sec which is not reasonable. When testing the congruence try to set index_max to a much smaller value. You should also add some `# long time` wherever appropriate.\n\nI also notice that\n* the Test class should be clean up (there is no reason to use `print` and there should be more occurences of tests inside the documentation)\n* there is a broken link in the documentation (see [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/bnHspWvX3D4))\n... but this ticket has nothing to do with it ;-)\n\nBest,\nVincent",
    "created_at": "2013-07-05T16:06:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189825",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>Great! I am really happy that it was possible to put it on arxiv. Everything looks fine except for the tests: `sage -t` on sage.modular.arithgroup.tests was around 10sec and is now 576.57sec which is not reasonable. When testing the congruence try to set index_max to a much smaller value. You should also add some `# long time` wherever appropriate.

I also notice that
* the Test class should be clean up (there is no reason to use `print` and there should be more occurences of tests inside the documentation)
* there is a broken link in the documentation (see [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/bnHspWvX3D4))
... but this ticket has nothing to do with it ;-)

Best,
Vincent



---

archive/issue_comments_189826.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-07-05T16:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189826",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_189827.json:
```json
{
    "body": "Changing work_issues from \"\" to \"test\"",
    "created_at": "2013-07-05T16:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189827",
    "user": "https://github.com/videlec"
}
```

Changing work_issues from "" to "test"



---

archive/issue_comments_189828.json:
```json
{
    "body": "Attachment [trac_12949-fixlink.patch](tarball://root/attachments/some-uuid/ticket12949/trac_12949-fixlink.patch) by @loefflerd created at 2013-07-21 20:35:20\n\nApply over previous patch",
    "created_at": "2013-07-21T20:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189828",
    "user": "https://github.com/loefflerd"
}
```

Attachment [trac_12949-fixlink.patch](tarball://root/attachments/some-uuid/ticket12949/trac_12949-fixlink.patch) by @loefflerd created at 2013-07-21 20:35:20

Apply over previous patch



---

archive/issue_comments_189829.json:
```json
{
    "body": "<a id='comment:13'></a>Here's a new patch. The link now points to a copy Kurth's homepage as mirrored on an archive website. I kept the randomized test as it was, but flagged it with \"long\"; the problem is that if you reduce the index too far, then you only ever get one of a very small set of subgroups and so it's not really a worthwhile test. \n\nI also corrected a tiny parity issue in the test routine (there are no odd subgroups of index 2 mod 4, and it was pure luck that the default parameters for the test routine don't provoke this error).",
    "created_at": "2013-07-21T20:39:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189829",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:13'></a>Here's a new patch. The link now points to a copy Kurth's homepage as mirrored on an archive website. I kept the randomized test as it was, but flagged it with "long"; the problem is that if you reduce the index too far, then you only ever get one of a very small set of subgroups and so it's not really a worthwhile test. 

I also corrected a tiny parity issue in the test routine (there are no odd subgroups of index 2 mod 4, and it was pure luck that the default parameters for the test routine don't provoke this error).



---

archive/issue_comments_189830.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-07-21T20:39:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189830",
    "user": "https://github.com/loefflerd"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_189831.json:
```json
{
    "body": "Changing work_issues from \"test\" to \"\"",
    "created_at": "2013-07-21T20:39:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189831",
    "user": "https://github.com/loefflerd"
}
```

Changing work_issues from "test" to ""



---

archive/issue_comments_189832.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,8 @@\n This patch relates to the ` is_congruence() ` method of arithmetic subgroups of SL2Z (described in terms of permutations, cf. ` sage.modular.arithgroup.arithgroup_perm`). For even subgroups (containing -1), there is a very fast algorithm due to Tim Hsu, but for odd subgroups we were using a much, much slower brute-force algorithm.\n \n My student Thomas Hamilton checked in his MMath thesis that Hsu's algorithm also works for odd subgroups with minor modifications. This patch implements this generalized Hsu algorithm, resulting in a speedup of about three orders of magnitude in all the examples I tried.\n+\n+Apply [attachment:trac_12949.patch\u200b], [attachment:trac_12949-fixlink.patch\u200b]\n \n Author: David Loeffler\n \n``````\n",
    "created_at": "2013-07-25T11:10:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189832",
    "user": "https://github.com/loefflerd"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,8 @@
 This patch relates to the ` is_congruence() ` method of arithmetic subgroups of SL2Z (described in terms of permutations, cf. ` sage.modular.arithgroup.arithgroup_perm`). For even subgroups (containing -1), there is a very fast algorithm due to Tim Hsu, but for odd subgroups we were using a much, much slower brute-force algorithm.
 
 My student Thomas Hamilton checked in his MMath thesis that Hsu's algorithm also works for odd subgroups with minor modifications. This patch implements this generalized Hsu algorithm, resulting in a speedup of about three orders of magnitude in all the examples I tried.
+
+Apply [attachment:trac_12949.patch​], [attachment:trac_12949-fixlink.patch​]
 
 Author: David Loeffler
 
``````




---

archive/issue_comments_189833.json:
```json
{
    "body": "<a id='comment:15'></a>Apply trac_12949.patch trac_12949-fixlink.patch\u200b\n\n(for patchbot)",
    "created_at": "2013-07-25T11:10:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189833",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:15'></a>Apply trac_12949.patch trac_12949-fixlink.patch​

(for patchbot)



---

archive/issue_comments_189834.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+This patch relates to the ` is_congruence() ` method of arithmetic subgroups of SL2Z (described in terms of permutations, cf. ` sage.modular.arithgroup.arithgroup_perm`). For even subgroups (containing -1), there is a very fast algorithm due to Tim Hsu, but for odd subgroups we were using a much, much slower brute-force algorithm.\n \n+My student Thomas Hamilton checked in his MMath thesis that Hsu's algorithm also works for odd subgroups with minor modifications. This patch implements this generalized Hsu algorithm, resulting in a speedup of about three orders of magnitude in all the examples I tried.\n+\n+Apply [attachment:trac_12949-rebased.patch\u200b]\n \n Author: David Loeffler\n \n``````\n",
    "created_at": "2013-07-25T18:18:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189834",
    "user": "https://github.com/loefflerd"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+This patch relates to the ` is_congruence() ` method of arithmetic subgroups of SL2Z (described in terms of permutations, cf. ` sage.modular.arithgroup.arithgroup_perm`). For even subgroups (containing -1), there is a very fast algorithm due to Tim Hsu, but for odd subgroups we were using a much, much slower brute-force algorithm.
 
+My student Thomas Hamilton checked in his MMath thesis that Hsu's algorithm also works for odd subgroups with minor modifications. This patch implements this generalized Hsu algorithm, resulting in a speedup of about three orders of magnitude in all the examples I tried.
+
+Apply [attachment:trac_12949-rebased.patch​]
 
 Author: David Loeffler
 
``````




---

archive/issue_comments_189835.json:
```json
{
    "body": "<a id='comment:16'></a>This conflicts (in a very minor way) with #12233, which now has a positive review, so I rebased it.\n\nApply trac_12949-rebased.patch\u200b",
    "created_at": "2013-07-25T18:18:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189835",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:16'></a>This conflicts (in a very minor way) with #12233, which now has a positive review, so I rebased it.

Apply trac_12949-rebased.patch​



---

archive/issue_comments_189836.json:
```json
{
    "body": "Changing dependencies from \"\" to \"12233\"",
    "created_at": "2013-07-25T18:18:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189836",
    "user": "https://github.com/loefflerd"
}
```

Changing dependencies from "" to "12233"



---

archive/issue_comments_189837.json:
```json
{
    "body": "Changing dependencies from \"12233\" to \"#12233\"",
    "created_at": "2013-07-25T19:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189837",
    "user": "https://github.com/loefflerd"
}
```

Changing dependencies from "12233" to "#12233"



---

archive/issue_comments_189838.json:
```json
{
    "body": "Rebased to apply cleanly over #12233",
    "created_at": "2013-07-25T19:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189838",
    "user": "https://github.com/loefflerd"
}
```

Rebased to apply cleanly over #12233



---

archive/issue_comments_189839.json:
```json
{
    "body": "<a id='comment:18'></a>Attachment [trac_12949-rebased.patch](tarball://root/attachments/some-uuid/ticket12949/trac_12949-rebased.patch) by @jdemeyer created at 2013-08-13 15:35:53",
    "created_at": "2013-08-13T15:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189839",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>Attachment [trac_12949-rebased.patch](tarball://root/attachments/some-uuid/ticket12949/trac_12949-rebased.patch) by @jdemeyer created at 2013-08-13 15:35:53



---

archive/issue_events_035416.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35416"
}
```



---

archive/issue_events_035417.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35417"
}
```



---

archive/issue_comments_189840.json:
```json
{
    "body": "<a id='comment:19'></a>for the **patchbots**\n\napply trac_12949-rebased-v2.patch",
    "created_at": "2013-09-21T18:06:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189840",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>for the **patchbots**

apply trac_12949-rebased-v2.patch



---

archive/issue_comments_189841.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+This patch relates to the ` is_congruence() ` method of arithmetic subgroups of SL2Z (described in terms of permutations, cf. ` sage.modular.arithgroup.arithgroup_perm`). For even subgroups (containing -1), there is a very fast algorithm due to Tim Hsu, but for odd subgroups we were using a much, much slower brute-force algorithm.\n \n+My student Thomas Hamilton checked in his MMath thesis that Hsu's algorithm also works for odd subgroups with minor modifications. This patch implements this generalized Hsu algorithm, resulting in a speedup of about three orders of magnitude in all the examples I tried.\n+\n+Apply [attachment:trac_12949-rebased-v2.patch\u200b]\n \n Author: David Loeffler\n \n``````\n",
    "created_at": "2013-09-21T18:06:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189841",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+This patch relates to the ` is_congruence() ` method of arithmetic subgroups of SL2Z (described in terms of permutations, cf. ` sage.modular.arithgroup.arithgroup_perm`). For even subgroups (containing -1), there is a very fast algorithm due to Tim Hsu, but for odd subgroups we were using a much, much slower brute-force algorithm.
 
+My student Thomas Hamilton checked in his MMath thesis that Hsu's algorithm also works for odd subgroups with minor modifications. This patch implements this generalized Hsu algorithm, resulting in a speedup of about three orders of magnitude in all the examples I tried.
+
+Apply [attachment:trac_12949-rebased-v2.patch​]
 
 Author: David Loeffler
 
``````




---

archive/issue_comments_189842.json:
```json
{
    "body": "<a id='comment:20'></a>Hi,\n\nGood for me! Thanks.\n\nVincent",
    "created_at": "2013-10-19T23:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189842",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'></a>Hi,

Good for me! Thanks.

Vincent



---

archive/issue_comments_189843.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-10-19T23:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189843",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_189844.json:
```json
{
    "body": "<a id='comment:21'></a>\n```\ndochtml.log:[arithgrou] /scratch/release/merger/sage-5.13.beta2/local/lib/python2.7/site-packages/sage/modular/arithgroup/arithgroup_perm.py:docstring of sage.modular.arithgroup.arithgroup_perm:82: WARNING: Bullet list ends without a blank line; unexpected unindent.\n```",
    "created_at": "2013-10-21T06:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189844",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>
```
dochtml.log:[arithgrou] /scratch/release/merger/sage-5.13.beta2/local/lib/python2.7/site-packages/sage/modular/arithgroup/arithgroup_perm.py:docstring of sage.modular.arithgroup.arithgroup_perm:82: WARNING: Bullet list ends without a blank line; unexpected unindent.
```



---

archive/issue_comments_189845.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-10-21T06:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189845",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_189846.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-10-21T19:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189846",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_189847.json:
```json
{
    "body": "<a id='comment:22'></a>New patch, where I have corrected the doc issue.",
    "created_at": "2013-10-21T19:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189847",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>New patch, where I have corrected the doc issue.



---

archive/issue_comments_189848.json:
```json
{
    "body": "<a id='comment:23'></a>for the **patchbots**:\n\napply trac_12949-rebased-v2.patch",
    "created_at": "2013-10-22T11:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189848",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'></a>for the **patchbots**:

apply trac_12949-rebased-v2.patch



---

archive/issue_comments_189849.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-10-24T07:34:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189849",
    "user": "https://github.com/loefflerd"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_189850.json:
```json
{
    "body": "<a id='comment:24'></a>I'm happy with the new patch, and doctests pass -- I'll reinstate the positive review. Thanks, Fr\u00e9d\u00e9ric!",
    "created_at": "2013-10-24T07:34:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189850",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:24'></a>I'm happy with the new patch, and doctests pass -- I'll reinstate the positive review. Thanks, Frédéric!



---

archive/issue_comments_189851.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-10-24T16:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189851",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_189852.json:
```json
{
    "body": "<a id='comment:25'></a>Problem with the documentation:\n\n```\ndochtml.log:[arithgrou] /scratch/release/merger/sage-5.13.beta2/local/lib/python2.7/site-packages/sage/modular/arithgroup/arithgroup_perm.py:docstring of sage.modular.arithgroup.arithgroup_perm:82: WARNING: Bullet list ends without a blank line; unexpected unindent.\n```\n\nOne more small remark: shouldn't the test methods (e.g. `test_cong_closure`) be private (i.e. `_test_cong_closure`)?",
    "created_at": "2013-10-24T16:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189852",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>Problem with the documentation:

```
dochtml.log:[arithgrou] /scratch/release/merger/sage-5.13.beta2/local/lib/python2.7/site-packages/sage/modular/arithgroup/arithgroup_perm.py:docstring of sage.modular.arithgroup.arithgroup_perm:82: WARNING: Bullet list ends without a blank line; unexpected unindent.
```

One more small remark: shouldn't the test methods (e.g. `test_cong_closure`) be private (i.e. `_test_cong_closure`)?



---

archive/issue_comments_189853.json:
```json
{
    "body": "rebased again on 5.12.beta5",
    "created_at": "2013-10-24T16:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189853",
    "user": "https://github.com/fchapoton"
}
```

rebased again on 5.12.beta5



---

archive/issue_comments_189854.json:
```json
{
    "body": "<a id='comment:26'></a>Attachment [trac_12949-rebased-v2.patch](tarball://root/attachments/some-uuid/ticket12949/trac_12949-rebased-v2.patch) by @fchapoton created at 2013-10-24 16:59:12\n\nsorry. Now the doc should really be okay. I have not taken care of the test methods. Anyway, the file tests itself is not really for everybody..",
    "created_at": "2013-10-24T16:59:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189854",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>Attachment [trac_12949-rebased-v2.patch](tarball://root/attachments/some-uuid/ticket12949/trac_12949-rebased-v2.patch) by @fchapoton created at 2013-10-24 16:59:12

sorry. Now the doc should really be okay. I have not taken care of the test methods. Anyway, the file tests itself is not really for everybody..



---

archive/issue_comments_189855.json:
```json
{
    "body": "<a id='comment:27'></a>apply trac_12949-rebased-v2.patch",
    "created_at": "2013-10-24T18:06:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189855",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:27'></a>apply trac_12949-rebased-v2.patch



---

archive/issue_events_035418.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35418"
}
```



---

archive/issue_events_035419.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35419"
}
```



---

archive/issue_comments_189856.json:
```json
{
    "body": "Changing commit from \"\" to \"6091c3a468a76ffb25086c184fdd4446c79e291b\"",
    "created_at": "2014-02-21T12:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189856",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "6091c3a468a76ffb25086c184fdd4446c79e291b"



---

archive/issue_comments_189857.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/12949\"",
    "created_at": "2014-02-21T12:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189857",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/12949"



---

archive/issue_comments_189858.json:
```json
{
    "body": "<a id='comment:29'></a>Here is a git branch.\n\nThis ticket has once been positive reviewed..\n\n---\nNew commits:",
    "created_at": "2014-02-21T12:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189858",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:29'></a>Here is a git branch.

This ticket has once been positive reviewed..

---
New commits:



---

archive/issue_comments_189859.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-02-21T12:56:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189859",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_189860.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-02-21T13:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189860",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_189861.json:
```json
{
    "body": "Changing commit from \"6091c3a468a76ffb25086c184fdd4446c79e291b\" to \"389b3423203e1b5c7e363291c6d0d63473c5eb3a\"",
    "created_at": "2014-02-21T13:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189861",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6091c3a468a76ffb25086c184fdd4446c79e291b" to "389b3423203e1b5c7e363291c6d0d63473c5eb3a"



---

archive/issue_comments_189862.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-03-20T21:33:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189862",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_189863.json:
```json
{
    "body": "Changing commit from \"389b3423203e1b5c7e363291c6d0d63473c5eb3a\" to \"4820c61b038378aaa7640a8cb4675b52dfcfad57\"",
    "created_at": "2014-03-20T21:33:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189863",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "389b3423203e1b5c7e363291c6d0d63473c5eb3a" to "4820c61b038378aaa7640a8cb4675b52dfcfad57"



---

archive/issue_comments_189864.json:
```json
{
    "body": "<a id='comment:33'></a>Hello,\n\nI merged with 6.1.rc1 (trivial conflicts). All test pass and documentation builds. I set it back to positive review.\n\nVincent\n\n---\nNew commits:",
    "created_at": "2014-05-02T10:09:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189864",
    "user": "https://github.com/videlec"
}
```

<a id='comment:33'></a>Hello,

I merged with 6.1.rc1 (trivial conflicts). All test pass and documentation builds. I set it back to positive review.

Vincent

---
New commits:



---

archive/issue_comments_189865.json:
```json
{
    "body": "Changing branch from \"u/chapoton/12949\" to \"u/vdelecroix/12949\"",
    "created_at": "2014-05-02T10:09:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189865",
    "user": "https://github.com/videlec"
}
```

Changing branch from "u/chapoton/12949" to "u/vdelecroix/12949"



---

archive/issue_comments_189866.json:
```json
{
    "body": "Changing commit from \"4820c61b038378aaa7640a8cb4675b52dfcfad57\" to \"337fc958ba03cfcbc3bd9a1b7b465f3394b65cb3\"",
    "created_at": "2014-05-02T10:09:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189866",
    "user": "https://github.com/videlec"
}
```

Changing commit from "4820c61b038378aaa7640a8cb4675b52dfcfad57" to "337fc958ba03cfcbc3bd9a1b7b465f3394b65cb3"



---

archive/issue_comments_189867.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-02T10:09:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189867",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_035420.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35420"
}
```



---

archive/issue_events_035421.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35421"
}
```



---

archive/issue_comments_189868.json:
```json
{
    "body": "Changing branch from \"u/vdelecroix/12949\" to \"337fc958ba03cfcbc3bd9a1b7b465f3394b65cb3\"",
    "created_at": "2014-05-06T23:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189868",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/vdelecroix/12949" to "337fc958ba03cfcbc3bd9a1b7b465f3394b65cb3"



---

archive/issue_events_035422.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-06T23:03:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35422"
}
```



---

archive/issue_comments_189869.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-06T23:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189869",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_189870.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2014-05-07T06:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189870",
    "user": "https://github.com/vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_189871.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2014-05-07T06:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189871",
    "user": "https://github.com/vbraun"
}
```

Changing status from closed to new.



---

archive/issue_events_035423.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-07T06:35:00Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35423"
}
```



---

archive/issue_comments_189872.json:
```json
{
    "body": "<a id='comment:36'></a>Does this ticket really need super-long doctests to test things that absolutely cannot be tested by smaller parameters? Maximum time should be a few seconds, not minutes. There is no point in running huge computations if they don't test anyting that is already tested with smaller tests. Times out on slower buildbots.",
    "created_at": "2014-05-07T06:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189872",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:36'></a>Does this ticket really need super-long doctests to test things that absolutely cannot be tested by smaller parameters? Maximum time should be a few seconds, not minutes. There is no point in running huge computations if they don't test anyting that is already tested with smaller tests. Times out on slower buildbots.



---

archive/issue_comments_189873.json:
```json
{
    "body": "Changing commit from \"337fc958ba03cfcbc3bd9a1b7b465f3394b65cb3\" to \"\"",
    "created_at": "2014-05-07T06:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189873",
    "user": "https://github.com/vbraun"
}
```

Changing commit from "337fc958ba03cfcbc3bd9a1b7b465f3394b65cb3" to ""



---

archive/issue_events_035424.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35424"
}
```



---

archive/issue_events_035425.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35425"
}
```



---

archive/issue_comments_189874.json:
```json
{
    "body": "Changing branch from \"337fc958ba03cfcbc3bd9a1b7b465f3394b65cb3\" to \"u/davidloeffler/337fc958ba03cfcbc3bd9a1b7b465f3394b65cb3\"",
    "created_at": "2015-03-16T12:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189874",
    "user": "https://github.com/loefflerd"
}
```

Changing branch from "337fc958ba03cfcbc3bd9a1b7b465f3394b65cb3" to "u/davidloeffler/337fc958ba03cfcbc3bd9a1b7b465f3394b65cb3"



---

archive/issue_comments_189875.json:
```json
{
    "body": "Changing branch from \"u/davidloeffler/337fc958ba03cfcbc3bd9a1b7b465f3394b65cb3\" to \"u/davidloeffler/12949\"",
    "created_at": "2015-03-16T12:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189875",
    "user": "https://github.com/loefflerd"
}
```

Changing branch from "u/davidloeffler/337fc958ba03cfcbc3bd9a1b7b465f3394b65cb3" to "u/davidloeffler/12949"



---

archive/issue_comments_189876.json:
```json
{
    "body": "<a id='comment:40'></a>I've uploaded a new version without the time-wasting tests.\n\n(For some reason, this ticket had been linked to a Git branch which \"git trac\" refused to read, so I just spent the entire morning re-applying the changes by hand.)\n\n---\nNew commits:",
    "created_at": "2015-03-16T12:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189876",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:40'></a>I've uploaded a new version without the time-wasting tests.

(For some reason, this ticket had been linked to a Git branch which "git trac" refused to read, so I just spent the entire morning re-applying the changes by hand.)

---
New commits:



---

archive/issue_comments_189877.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-16T12:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189877",
    "user": "https://github.com/loefflerd"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_189878.json:
```json
{
    "body": "Changing commit from \"\" to \"a2211519edd92e17203f3dcbd133dc467aecd548\"",
    "created_at": "2015-03-16T12:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189878",
    "user": "https://github.com/loefflerd"
}
```

Changing commit from "" to "a2211519edd92e17203f3dcbd133dc467aecd548"



---

archive/issue_comments_189879.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+This patch relates to the ` is_congruence() ` method of arithmetic subgroups of SL2Z (described in terms of permutations, cf. ` sage.modular.arithgroup.arithgroup_perm`). For even subgroups (containing -1), there is a very fast algorithm due to Tim Hsu, but for odd subgroups we were using a much, much slower brute-force algorithm.\n \n+My student Thomas Hamilton checked in his MMath thesis that Hsu's algorithm also works for odd subgroups with minor modifications. This patch implements this generalized Hsu algorithm, resulting in a speedup of about three orders of magnitude in all the examples I tried.\n \n Author: David Loeffler\n \n``````\n",
    "created_at": "2015-03-16T12:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189879",
    "user": "https://github.com/loefflerd"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+This patch relates to the ` is_congruence() ` method of arithmetic subgroups of SL2Z (described in terms of permutations, cf. ` sage.modular.arithgroup.arithgroup_perm`). For even subgroups (containing -1), there is a very fast algorithm due to Tim Hsu, but for odd subgroups we were using a much, much slower brute-force algorithm.
 
+My student Thomas Hamilton checked in his MMath thesis that Hsu's algorithm also works for odd subgroups with minor modifications. This patch implements this generalized Hsu algorithm, resulting in a speedup of about three orders of magnitude in all the examples I tried.
 
 Author: David Loeffler
 
``````




---

archive/issue_comments_189880.json:
```json
{
    "body": "<a id='comment:42'></a>Hello,\n\nReplace `ZZ(~Zmod(N)(2))` with `ZZ(2).inverse_mod(N)` (several occurrences).\n\nDo you know why `L.order()` returns a Python int and not an Sage Integer? It looks like a bug to me as for example\n\n```\nsage: type(Zmod(5)(3).order())\n<type 'sage.rings.integer.Integer'>\n```\n\nVincent",
    "created_at": "2015-03-20T15:19:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189880",
    "user": "https://github.com/videlec"
}
```

<a id='comment:42'></a>Hello,

Replace `ZZ(~Zmod(N)(2))` with `ZZ(2).inverse_mod(N)` (several occurrences).

Do you know why `L.order()` returns a Python int and not an Sage Integer? It looks like a bug to me as for example

```
sage: type(Zmod(5)(3).order())
<type 'sage.rings.integer.Integer'>
```

Vincent



---

archive/issue_comments_189881.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-03-20T15:19:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189881",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_189882.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-30T09:06:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189882",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_189883.json:
```json
{
    "body": "Changing commit from \"a2211519edd92e17203f3dcbd133dc467aecd548\" to \"27b7508b4c99f0116fd3d63dfd3b6dd242302049\"",
    "created_at": "2015-03-30T09:06:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189883",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a2211519edd92e17203f3dcbd133dc467aecd548" to "27b7508b4c99f0116fd3d63dfd3b6dd242302049"



---

archive/issue_comments_189884.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-03-30T09:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189884",
    "user": "https://github.com/loefflerd"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_189885.json:
```json
{
    "body": "<a id='comment:44'></a>I made the changes you suggested. I agree that the return type of \"order\" for perm group elements looks like a bug, so I changed that, although it has nothing really to do with this ticket.",
    "created_at": "2015-03-30T09:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189885",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:44'></a>I made the changes you suggested. I agree that the return type of "order" for perm group elements looks like a bug, so I changed that, although it has nothing really to do with this ticket.



---

archive/issue_comments_189886.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-03-30T11:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189886",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_189887.json:
```json
{
    "body": "<a id='comment:45'></a>Good!",
    "created_at": "2015-03-30T11:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189887",
    "user": "https://github.com/videlec"
}
```

<a id='comment:45'></a>Good!



---

archive/issue_events_035426.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-13T14:53:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35426"
}
```



---

archive/issue_events_035427.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-13T14:53:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35427"
}
```



---

archive/issue_events_035428.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-15T06:38:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35428"
}
```



---

archive/issue_events_035429.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-04-15T06:38:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35429"
}
```



---

archive/issue_comments_189888.json:
```json
{
    "body": "Changing dependencies from \"#12233\" to \"\"",
    "created_at": "2015-04-15T16:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189888",
    "user": "https://github.com/vbraun"
}
```

Changing dependencies from "#12233" to ""



---

archive/issue_events_035430.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-15T16:39:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12949#event-35430"
}
```



---

archive/issue_comments_189889.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-15T16:39:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189889",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_189890.json:
```json
{
    "body": "Changing branch from \"u/davidloeffler/12949\" to \"27b7508b4c99f0116fd3d63dfd3b6dd242302049\"",
    "created_at": "2015-04-15T16:39:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12949#issuecomment-189890",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/davidloeffler/12949" to "27b7508b4c99f0116fd3d63dfd3b6dd242302049"
