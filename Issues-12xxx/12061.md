# Issue 12061: Doctest interfaces/psage.py

archive/issues_011889.json:
```json
{
    "assignees": [
        "https://github.com/williamstein"
    ],
    "body": "Towards completing #12024.\n\n---\nApply only [attachment: trac_12061.txt](https://github.com/sagemath/sage/files/ticket12061/trac_12061.txt) to `devel/sage`.\n\n\nWork Issues: **find out why doctests change every sage version**\n\nAuthor: **Punarbasu Purkayastha**\n\nComponent: **interfaces**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12061_\n\n",
    "created_at": "2011-11-20T08:33:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Doctest interfaces/psage.py",
    "type": "issue",
    "updated_at": "2022-12-29T01:28:25Z",
    "url": "https://github.com/sagemath/sage/issues/12061",
    "user": "https://github.com/ppurka"
}
```
Towards completing #12024.

---
Apply only [attachment: trac_12061.txt](https://github.com/sagemath/sage/files/ticket12061/trac_12061.txt) to `devel/sage`.


Work Issues: **find out why doctests change every sage version**

Author: **Punarbasu Purkayastha**

Component: **interfaces**

_Issue created by migration from https://trac.sagemath.org/ticket/12061_





---

archive/issue_events_161755.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2011-11-20T08:33:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161755"
}
```



---

archive/issue_events_161756.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2011-11-20T08:33:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161756"
}
```



---

archive/issue_events_161757.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2011-11-20T08:33:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161757"
}
```



---

archive/issue_events_161758.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2011-11-20T08:33:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161758"
}
```



---

archive/issue_events_161759.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2011-11-20T08:33:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161759"
}
```



---

archive/issue_events_161760.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-11-20T08:33:00Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "subject": "https://github.com/ppurka",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161760"
}
```



---

archive/issue_comments_128401.json:
```json
{
    "body": "Apply to devel/sage",
    "created_at": "2011-11-20T09:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128401",
    "user": "https://github.com/ppurka"
}
```

Apply to devel/sage



---

archive/issue_comments_128402.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[trac_12061-doctest_interfaces_psage.patch.gz](https://github.com/sagemath/sage/files/ticket12061/trac_12061-doctest_interfaces_psage.patch.gz)**\n\nForm some reason doctesting this file goes into an infinite recursion with twisted, but all the commands work on the Sage command line. I had to run it like this to see the output `.sage/tmp/psage_26566.py` is the file Sage created while trying to doctest.\n\n```\nPYTHONVERBOSE=1 ~/Installations/sage-4.7.2/sage -python psage_26566.py 2>&1 | tee ~/test.out\n```\n\nAnd `~/test.out` contains in particular this output just before the infinite recursion starts:\n\n```\nimport sage.modules.vector_double_dense # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/modules/vector_double_dense.so\ndlopen(\"/home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/modules/vector_real_double_dense.so\", 2);\nimport sage.modules.vector_real_double_dense # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/modules/vector_real_double_dense.so\nimport sage.finance.time_series # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/finance/time_series.so\nimport sage.stats.intlist # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/stats/intlist.so\n# /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/plot3d/implicit_plot3d.pyc matches /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/plot3d/implicit_plot3d.py\nimport sage.plot.plot3d.implicit_plot3d # precompiled from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/plot3d/implicit_plot3d.pyc\ndlopen(\"/home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/plot3d/implicit_surface.so\", 2);\nimport sage.plot.plot3d.implicit_surface # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/plot3d/implicit_surface.so\ndlopen(\"/home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/complex_plot.so\", 2);\nimport sage.plot.complex_plot # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/complex_plot.so\nException IOError: IOError(2, 'No such file or directory') in <bound method SageElement.__del__ of <<currently executing code>>> ignored\ndlopen(\"/home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/libs/flint/flint.so\", 2);\nimport sage.libs.flint.flint # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/libs/flint/flint.so\n# /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/reactor.pyc matches /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/reactor.py\nimport twisted.internet.reactor # precompiled from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/reactor.pyc\n# /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/selectreactor.pyc matches /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/selectreactor.py\nimport twisted.internet.selectreactor # precompiled from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/selectreactor.pyc\n# /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/interfaces.pyc matches /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/interfaces.py\nimport twisted.internet.interfaces # precompiled from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/interfaces.pyc\nException RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored\nException RuntimeError: RuntimeError('maximum recursion depth exceeded while calling a Python object',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored\n ignored\nException RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored\nException RuntimeError: RuntimeError('maximum recursion depth exceeded while calling a Python object',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored\n ignored\nException RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored\nException RuntimeError: RuntimeError('maximum recursion depth exceeded while calling a Python object',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored\n ignored\nException RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored\nException RuntimeError: RuntimeError('maximum recursion depth exceeded while calling a Python object',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored\n ignored\nException RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored\nException RuntimeError: RuntimeError('maximum recursion depth exceeded while calling a Python object',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored\n ignored\nException RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored\nException RuntimeError: RuntimeError('maximum recursion depth exceeded while calling a Python object',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored\n ignored\n```",
    "created_at": "2011-11-20T09:07:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128402",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[trac_12061-doctest_interfaces_psage.patch.gz](https://github.com/sagemath/sage/files/ticket12061/trac_12061-doctest_interfaces_psage.patch.gz)**

Form some reason doctesting this file goes into an infinite recursion with twisted, but all the commands work on the Sage command line. I had to run it like this to see the output `.sage/tmp/psage_26566.py` is the file Sage created while trying to doctest.

```
PYTHONVERBOSE=1 ~/Installations/sage-4.7.2/sage -python psage_26566.py 2>&1 | tee ~/test.out
```

And `~/test.out` contains in particular this output just before the infinite recursion starts:

```
import sage.modules.vector_double_dense # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/modules/vector_double_dense.so
dlopen("/home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/modules/vector_real_double_dense.so", 2);
import sage.modules.vector_real_double_dense # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/modules/vector_real_double_dense.so
import sage.finance.time_series # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/finance/time_series.so
import sage.stats.intlist # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/stats/intlist.so
# /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/plot3d/implicit_plot3d.pyc matches /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/plot3d/implicit_plot3d.py
import sage.plot.plot3d.implicit_plot3d # precompiled from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/plot3d/implicit_plot3d.pyc
dlopen("/home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/plot3d/implicit_surface.so", 2);
import sage.plot.plot3d.implicit_surface # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/plot3d/implicit_surface.so
dlopen("/home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/complex_plot.so", 2);
import sage.plot.complex_plot # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/plot/complex_plot.so
Exception IOError: IOError(2, 'No such file or directory') in <bound method SageElement.__del__ of <<currently executing code>>> ignored
dlopen("/home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/libs/flint/flint.so", 2);
import sage.libs.flint.flint # dynamically loaded from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/sage/libs/flint/flint.so
# /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/reactor.pyc matches /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/reactor.py
import twisted.internet.reactor # precompiled from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/reactor.pyc
# /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/selectreactor.pyc matches /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/selectreactor.py
import twisted.internet.selectreactor # precompiled from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/selectreactor.pyc
# /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/interfaces.pyc matches /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/interfaces.py
import twisted.internet.interfaces # precompiled from /home/punarbasu/Installations/sage-4.7.2/local/lib/python2.6/site-packages/Twisted-9.0.0-py2.6-linux-x86_64.egg/twisted/internet/interfaces.pyc
Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
Exception RuntimeError: RuntimeError('maximum recursion depth exceeded while calling a Python object',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
 ignored
Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
Exception RuntimeError: RuntimeError('maximum recursion depth exceeded while calling a Python object',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
 ignored
Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
Exception RuntimeError: RuntimeError('maximum recursion depth exceeded while calling a Python object',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
 ignored
Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
Exception RuntimeError: RuntimeError('maximum recursion depth exceeded while calling a Python object',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
 ignored
Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
Exception RuntimeError: RuntimeError('maximum recursion depth exceeded while calling a Python object',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
 ignored
Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
Exception RuntimeError: RuntimeError('maximum recursion depth exceeded while calling a Python object',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
 ignored
```



---

archive/issue_comments_128403.json:
```json
{
    "body": "Attachment: **[trac_12061-doctest_interfaces_psage.2.patch.gz](https://github.com/sagemath/sage/files/ticket12061/trac_12061-doctest_interfaces_psage.2.patch.gz)**\n\nApply to devel/sage",
    "created_at": "2012-03-01T11:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128403",
    "user": "https://github.com/ppurka"
}
```

Attachment: **[trac_12061-doctest_interfaces_psage.2.patch.gz](https://github.com/sagemath/sage/files/ticket12061/trac_12061-doctest_interfaces_psage.2.patch.gz)**

Apply to devel/sage



---

archive/issue_comments_128404.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nFinally I have been able to figure out the cause of the infinite recursion. The fix is present in the patch.",
    "created_at": "2012-03-01T11:30:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128404",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:2" align="right">comment:2</div>

Finally I have been able to figure out the cause of the infinite recursion. The fix is present in the patch.



---

archive/issue_comments_128405.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n-Towards completing #12024\n+Towards completing #12024.\n \n-* Have been unable to figure out what the `.set()` and `.get()` methods do\n+---\n+Apply only [attachment: trac_12061-doctest_interfaces_psage.2.patch](https://github.com/sagemath/sage/files/ticket12061/trac_12061-doctest_interfaces_psage.2.patch.gz) to `devel/sage`.\n \n-Attaching patch.\n``````\n",
    "created_at": "2012-03-01T11:30:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128405",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
-Towards completing #12024
+Towards completing #12024.
 
-* Have been unable to figure out what the `.set()` and `.get()` methods do
+---
+Apply only [attachment: trac_12061-doctest_interfaces_psage.2.patch](https://github.com/sagemath/sage/files/ticket12061/trac_12061-doctest_interfaces_psage.2.patch.gz) to `devel/sage`.
 
-Attaching patch.
``````




---

archive/issue_events_161761.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-03-01T11:30:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161761"
}
```



---

archive/issue_events_161762.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-03-01T11:30:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161762"
}
```



---

archive/issue_events_161763.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-03-01T11:30:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161763"
}
```



---

archive/issue_comments_128406.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nTwo functions are not directly or indirectly doctested: `PSage._send_nowait()` and `PSageElement.is_locked()`. Is the latter class even used??",
    "created_at": "2012-03-01T11:40:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128406",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:3" align="right">comment:3</div>

Two functions are not directly or indirectly doctested: `PSage._send_nowait()` and `PSageElement.is_locked()`. Is the latter class even used??



---

archive/issue_events_161764.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T09:28:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161764"
}
```



---

archive/issue_events_161765.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T09:28:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161765"
}
```



---

archive/issue_comments_128407.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nWhy add `time.sleep(10)`?\n\nIf you do, you also need to add \"# long time\".",
    "created_at": "2012-04-02T09:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128407",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Why add `time.sleep(10)`?

If you do, you also need to add "# long time".



---

archive/issue_comments_128408.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@jdemeyer](#comment%3A4):\n> Why add `time.sleep(10)`?\n> \n> If you do, you also need to add \"# long time\".\n\nI did this after testing many different inputs and this was one input which doesn't take too long but which also doesn't give the result immediately. So, `time.sleep(10)` is there to wait until the computations are all over.\n\nIs there a better way to test this? Otherwise, I will add `# long time` as you suggested.",
    "created_at": "2012-04-02T12:26:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128408",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@jdemeyer](#comment%3A4):
> Why add `time.sleep(10)`?
> 
> If you do, you also need to add "# long time".

I did this after testing many different inputs and this was one input which doesn't take too long but which also doesn't give the result immediately. So, `time.sleep(10)` is there to wait until the computations are all over.

Is there a better way to test this? Otherwise, I will add `# long time` as you suggested.



---

archive/issue_comments_128409.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHmm.. I have a [patch ready](https://github.com/ppurka/sage-patches/blob/master/sage_devel/trac_12061-doctest_interfaces_psage.2.patch) but I am unable to upload it. Something is wrong with trac. The upload page is simply stuck and never finishes the upload. I will just record the terminal output here and upload the patch some other day.\n\n```\n...2.experimental/devel/sage\u00bb ../../sage -t -long sage/interfaces/psage.py \nsage -t -long \"devel/sage-main/sage/interfaces/psage.py\"    \n\t [24.8 s]\n \n----------------------------------------------------------------------\nAll tests passed!\nTotal time for all tests: 24.8 seconds\n...2.experimental/devel/sage\u00bb ../../sage -coverage sage/interfaces/psage.py \n----------------------------------------------------------------------\nsage/interfaces/psage.py\nERROR: Please add a `TestSuite(s).run()` doctest.\nSCORE sage/interfaces/psage.py: 71% (10 of 14)\n\nMissing documentation:\n\t * _start(self):\n\t * _send_nowait(self, x):\n\t * _object_class(self):\n\t * is_locked(self):\n\n----------------------------------------------------------------------\n\n```",
    "created_at": "2012-04-29T15:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128409",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:6" align="right">comment:6</div>

Hmm.. I have a [patch ready](https://github.com/ppurka/sage-patches/blob/master/sage_devel/trac_12061-doctest_interfaces_psage.2.patch) but I am unable to upload it. Something is wrong with trac. The upload page is simply stuck and never finishes the upload. I will just record the terminal output here and upload the patch some other day.

```
...2.experimental/devel/sage» ../../sage -t -long sage/interfaces/psage.py 
sage -t -long "devel/sage-main/sage/interfaces/psage.py"    
	 [24.8 s]
 
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 24.8 seconds
...2.experimental/devel/sage» ../../sage -coverage sage/interfaces/psage.py 
----------------------------------------------------------------------
sage/interfaces/psage.py
ERROR: Please add a `TestSuite(s).run()` doctest.
SCORE sage/interfaces/psage.py: 71% (10 of 14)

Missing documentation:
	 * _start(self):
	 * _send_nowait(self, x):
	 * _object_class(self):
	 * is_locked(self):

----------------------------------------------------------------------

```



---

archive/issue_comments_128410.json:
```json
{
    "body": "Attachment: **[trac_12061.txt](https://github.com/sagemath/sage/files/ticket12061/trac_12061.txt)**\n\nApply only this patch to devel/sage",
    "created_at": "2012-05-01T08:46:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128410",
    "user": "https://github.com/ppurka"
}
```

Attachment: **[trac_12061.txt](https://github.com/sagemath/sage/files/ticket12061/trac_12061.txt)**

Apply only this patch to devel/sage



---

archive/issue_events_161766.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-05-01T09:00:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161766"
}
```



---

archive/issue_events_161767.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-05-01T09:00:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161767"
}
```



---

archive/issue_comments_128411.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThere seems to be some weird problem with trac. I am unable to upload the original file since it contained\n\n```\n:trac:`1991`\n```\ninstead of\n\n```\n:trac:`#1991`\n```\n\nEven after I did that change, I am unable to upload it as a .patch file. So I renamed the file and it works.",
    "created_at": "2012-05-01T09:00:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128411",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:7" align="right">comment:7</div>

There seems to be some weird problem with trac. I am unable to upload the original file since it contained

```
:trac:`1991`
```
instead of

```
:trac:`#1991`
```

Even after I did that change, I am unable to upload it as a .patch file. So I renamed the file and it works.



---

archive/issue_comments_128412.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Towards completing #12024.\n \n ---\n-Apply only [attachment: trac_12061-doctest_interfaces_psage.2.patch](https://github.com/sagemath/sage/files/ticket12061/trac_12061-doctest_interfaces_psage.2.patch.gz) to `devel/sage`.\n+Apply only [attachment: trac_12061.txt](https://github.com/sagemath/sage/files/ticket12061/trac_12061.txt) to `devel/sage`.\n \n``````\n",
    "created_at": "2012-05-01T09:00:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128412",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Towards completing #12024.
 
 ---
-Apply only [attachment: trac_12061-doctest_interfaces_psage.2.patch](https://github.com/sagemath/sage/files/ticket12061/trac_12061-doctest_interfaces_psage.2.patch.gz) to `devel/sage`.
+Apply only [attachment: trac_12061.txt](https://github.com/sagemath/sage/files/ticket12061/trac_12061.txt) to `devel/sage`.
 
``````




---

archive/issue_comments_128413.json:
```json
{
    "body": "Changed keywords from none to **doctest sd40.5**",
    "created_at": "2012-05-26T14:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128413",
    "user": "https://github.com/ppurka"
}
```

Changed keywords from none to **doctest sd40.5**



---

archive/issue_comments_128414.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAttachment: **[test.patch.gz](https://github.com/sagemath/sage/files/ticket12061/test.patch.gz)**",
    "created_at": "2012-05-26T14:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128414",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:8" align="right">comment:8</div>

Attachment: **[test.patch.gz](https://github.com/sagemath/sage/files/ticket12061/test.patch.gz)**



---

archive/issue_comments_128415.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\npatchbot: apply trac_12061.txt",
    "created_at": "2012-05-27T10:09:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128415",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:9" align="right">comment:9</div>

patchbot: apply trac_12061.txt



---

archive/issue_comments_128416.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nremoving sd40.5. This PSage has extremely weird behavior which changes between several different versions of Sage. The doctests used to all pass earlier and now they don't.",
    "created_at": "2012-05-27T10:23:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128416",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:10" align="right">comment:10</div>

removing sd40.5. This PSage has extremely weird behavior which changes between several different versions of Sage. The doctests used to all pass earlier and now they don't.



---

archive/issue_comments_128417.json:
```json
{
    "body": "Changed keywords from **doctest sd40.5** to none",
    "created_at": "2012-05-27T10:23:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128417",
    "user": "https://github.com/ppurka"
}
```

Changed keywords from **doctest sd40.5** to none



---

archive/issue_comments_128418.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nPlease fill in your real name as Author.",
    "created_at": "2012-07-27T20:41:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128418",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">comment:11</div>

Please fill in your real name as Author.



---

archive/issue_comments_128419.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nSorry jdemeyer. It seems I tend to not fill up author fields. Will try to remember to do so from next time.",
    "created_at": "2012-07-28T12:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128419",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:12" align="right">comment:12</div>

Sorry jdemeyer. It seems I tend to not fill up author fields. Will try to remember to do so from next time.



---

archive/issue_comments_128420.json:
```json
{
    "body": "Author: **Punarbasu Purkayastha**",
    "created_at": "2012-07-28T12:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128420",
    "user": "https://github.com/ppurka"
}
```

Author: **Punarbasu Purkayastha**



---

archive/issue_comments_128421.json:
```json
{
    "body": "Work Issues: **find out why doctests change every sage version**",
    "created_at": "2012-07-28T12:52:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12061#issuecomment-128421",
    "user": "https://github.com/ppurka"
}
```

Work Issues: **find out why doctests change every sage version**



---

archive/issue_events_161768.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-07-28T12:52:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161768"
}
```



---

archive/issue_events_161769.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2012-07-28T12:52:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161769"
}
```



---

archive/issue_events_161770.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161770"
}
```



---

archive/issue_events_161771.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161771"
}
```



---

archive/issue_events_161772.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161772"
}
```



---

archive/issue_events_161773.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161773"
}
```



---

archive/issue_events_161774.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161774"
}
```



---

archive/issue_events_161775.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161775"
}
```



---

archive/issue_events_161776.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161776"
}
```



---

archive/issue_events_161777.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161777"
}
```



---

archive/issue_events_161778.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12061",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12061#event-161778"
}
```
