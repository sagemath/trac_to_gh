# Issue 12289: pass algorithm argument to custom numeric evaluation methods

archive/issues_012117.json:
```json
{
    "body": "Custom numeric evaluation functions defined in the `_evalf_()` method of symbolic functions accept only the parent of the result as an argument. We should expand this to allow passing an `algorithm` parameter as well.\n\nMerge together with dependencies (i.e. there are circular dependencies).\n\nDepends on #13933\n\nDepends on #4102\n\nDepends on #15198\n\n**Assignee:** @burcin\n\n**CC:**  @benjaminfjones dsm @kcrisman @kini @eviatarbach @vbraun\n\n**Keywords:** pynac sd35.5 sd40.5 sd48\n\n**Branch:** [ef6d2de56ff56851710ecfdc9dcdc4adfec91c08](https://github.com/sagemath/sagetrac-mirror/commit/ef6d2de56ff56851710ecfdc9dcdc4adfec91c08)\n\n**Reviewer:** Karl-Dieter Crisman, Douglas MacNeil, Benjamin Jones, Jean-Pierre Flori\n\n**Author:** Burcin Erocal, Benjamin Jones\n\nIssue created by migration from https://trac.sagemath.org/ticket/12289\n\n",
    "closed_at": "2014-03-04T16:58:44Z",
    "created_at": "2012-01-10T06:38:35Z",
    "labels": [
        "component: symbolics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "title": "pass algorithm argument to custom numeric evaluation methods",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/12289",
    "user": "https://github.com/burcin"
}
```
Custom numeric evaluation functions defined in the `_evalf_()` method of symbolic functions accept only the parent of the result as an argument. We should expand this to allow passing an `algorithm` parameter as well.

Merge together with dependencies (i.e. there are circular dependencies).

Depends on #13933

Depends on #4102

Depends on #15198

**Assignee:** @burcin

**CC:**  @benjaminfjones dsm @kcrisman @kini @eviatarbach @vbraun

**Keywords:** pynac sd35.5 sd40.5 sd48

**Branch:** [ef6d2de56ff56851710ecfdc9dcdc4adfec91c08](https://github.com/sagemath/sagetrac-mirror/commit/ef6d2de56ff56851710ecfdc9dcdc4adfec91c08)

**Reviewer:** Karl-Dieter Crisman, Douglas MacNeil, Benjamin Jones, Jean-Pierre Flori

**Author:** Burcin Erocal, Benjamin Jones

Issue created by migration from https://trac.sagemath.org/ticket/12289





---

archive/attachments_016451.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12289-evalf_dictionary.patch",
    "asset_url": "tarball://root/attachments/ticket12289/trac_12289-evalf_dictionary.patch",
    "created_at": "2012-01-10T07:41:06Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12289/trac_12289-evalf_dictionary.patch",
    "user": "https://github.com/burcin"
}
```



---

archive/issue_comments_135178.json:
```json
{
    "body": "Attachment [trac_12289-evalf_dictionary.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-evalf_dictionary.patch) by @burcin created at 2012-01-10 07:41:06",
    "created_at": "2012-01-10T07:41:06Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135178",
    "user": "https://github.com/burcin"
}
```

Attachment [trac_12289-evalf_dictionary.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-evalf_dictionary.patch) by @burcin created at 2012-01-10 07:41:06



---

archive/attachments_016452.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12289-example.patch",
    "asset_url": "tarball://root/attachments/ticket12289/trac_12289-example.patch",
    "created_at": "2012-01-10T08:00:12Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12289/trac_12289-example.patch",
    "user": "https://github.com/burcin"
}
```



---

archive/issue_comments_135179.json:
```json
{
    "body": "Attachment [trac_12289-example.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-example.patch) by @burcin created at 2012-01-10 08:00:12",
    "created_at": "2012-01-10T08:00:12Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135179",
    "user": "https://github.com/burcin"
}
```

Attachment [trac_12289-example.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-example.patch) by @burcin created at 2012-01-10 08:00:12



---

archive/issue_comments_135180.json:
```json
{
    "body": "<a id='comment:1'></a>\nThe `evalf_dict` branch of Pynac [available here](https://bitbucket.org/burcin/pynac-wip/), with the attached patches applied to the Sage library, allows this:\n\n```\nsage: cot(1/2).n(algorithm='foo')\n11.0000000000000\nsage: cot(1/2).n()\n1.83048772171245\n```\n\nThe docstrings for `_convert()` etc. methods of symbolic expressions need to be updated to reflect these changes.",
    "created_at": "2012-01-10T08:05:24Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135180",
    "user": "https://github.com/burcin"
}
```

<a id='comment:1'></a>
The `evalf_dict` branch of Pynac [available here](https://bitbucket.org/burcin/pynac-wip/), with the attached patches applied to the Sage library, allows this:

```
sage: cot(1/2).n(algorithm='foo')
11.0000000000000
sage: cot(1/2).n()
1.83048772171245
```

The docstrings for `_convert()` etc. methods of symbolic expressions need to be updated to reflect these changes.



---

archive/issue_comments_135181.json:
```json
{
    "body": "<a id='comment:2'></a>\nI'm doing some testing of these patches along with rebasing #1173. Thanks Burcin!",
    "created_at": "2012-01-10T15:46:42Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135181",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:2'></a>
I'm doing some testing of these patches along with rebasing #1173. Thanks Burcin!



---

archive/issue_comments_135182.json:
```json
{
    "body": "**Changing keywords** from \"pynac\" to \"pynac sd35.5\".",
    "created_at": "2012-01-10T15:46:42Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135182",
    "user": "https://github.com/benjaminfjones"
}
```

**Changing keywords** from "pynac" to "pynac sd35.5".



---

archive/issue_comments_135183.json:
```json
{
    "body": "**Changing keywords** from \"pynac sd35.5\" to \"pynac sd35.5 sd40.5\".",
    "created_at": "2012-05-25T02:27:32Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135183",
    "user": "https://github.com/benjaminfjones"
}
```

**Changing keywords** from "pynac sd35.5" to "pynac sd35.5 sd40.5".



---

archive/issue_comments_135184.json:
```json
{
    "body": "<a id='comment:4'></a>\nI'm trying to rebase the patch [This is the Trac macro *attachment:trac_12289-evalf_dictionary.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-evalf_dictionary.patch-macro) to sage-5.0, but I'm running into a problem with the type of `py_funcs.py_float`. In the patch py_float has type `object (*)(object, object)` but in sage-5.0, it has type `object (*)(object, PyObject *)` I guess because of a pynac change in the meantime. \n\nTo be more specific, with this type def for `py_float`:\n\n```\ncdef public object py_float(object n, object kwds) except +:\n```\n\nI rebuild sage and get:\n\n```\n\nError compiling Cython file:\n------------------------------------------------------------\n...\n    py_funcs.py_is_prime = &py_is_prime\n\n    py_funcs.py_integer_from_long = &py_integer_from_long\n    py_funcs.py_integer_from_python_obj = &py_integer_from_python_obj\n    \n    py_funcs.py_float = &py_float\n                       ^\n------------------------------------------------------------\n\nsage/symbolic/pynac.pyx:2040:24: Cannot assign type 'object (*)(object, object)' to 'object (*)(object, PyObject *)'\n```\n\nAny suggestions (burcin?)",
    "created_at": "2012-05-26T00:26:32Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135184",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:4'></a>
I'm trying to rebase the patch [This is the Trac macro *attachment:trac_12289-evalf_dictionary.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-evalf_dictionary.patch-macro) to sage-5.0, but I'm running into a problem with the type of `py_funcs.py_float`. In the patch py_float has type `object (*)(object, object)` but in sage-5.0, it has type `object (*)(object, PyObject *)` I guess because of a pynac change in the meantime. 

To be more specific, with this type def for `py_float`:

```
cdef public object py_float(object n, object kwds) except +:
```

I rebuild sage and get:

```

Error compiling Cython file:
------------------------------------------------------------
...
    py_funcs.py_is_prime = &py_is_prime

    py_funcs.py_integer_from_long = &py_integer_from_long
    py_funcs.py_integer_from_python_obj = &py_integer_from_python_obj
    
    py_funcs.py_float = &py_float
                       ^
------------------------------------------------------------

sage/symbolic/pynac.pyx:2040:24: Cannot assign type 'object (*)(object, object)' to 'object (*)(object, PyObject *)'
```

Any suggestions (burcin?)



---

archive/attachments_016453.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12289-evalf_dictionary_rebase.patch",
    "asset_url": "tarball://root/attachments/ticket12289/trac_12289-evalf_dictionary_rebase.patch",
    "created_at": "2012-05-28T02:22:16Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12289/trac_12289-evalf_dictionary_rebase.patch",
    "user": "https://github.com/benjaminfjones"
}
```



---

archive/issue_comments_135185.json:
```json
{
    "body": "Attachment [trac_12289-evalf_dictionary_rebase.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-evalf_dictionary_rebase.patch) by @benjaminfjones created at 2012-05-28 02:22:16\n\nrebase to sage-5.0 + pynac-0.2.4 spkg",
    "created_at": "2012-05-28T02:22:16Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135185",
    "user": "https://github.com/benjaminfjones"
}
```

Attachment [trac_12289-evalf_dictionary_rebase.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-evalf_dictionary_rebase.patch) by @benjaminfjones created at 2012-05-28 02:22:16

rebase to sage-5.0 + pynac-0.2.4 spkg



---

archive/attachments_016454.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12289_py_float_fix.patch",
    "asset_url": "tarball://root/attachments/ticket12289/trac_12289_py_float_fix.patch",
    "created_at": "2012-05-28T02:22:45Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12289/trac_12289_py_float_fix.patch",
    "user": "https://github.com/benjaminfjones"
}
```



---

archive/issue_comments_135186.json:
```json
{
    "body": "Attachment [trac_12289_py_float_fix.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289_py_float_fix.patch) by @benjaminfjones created at 2012-05-28 02:22:45\n\nfix py_float delcaration",
    "created_at": "2012-05-28T02:22:45Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135186",
    "user": "https://github.com/benjaminfjones"
}
```

Attachment [trac_12289_py_float_fix.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289_py_float_fix.patch) by @benjaminfjones created at 2012-05-28 02:22:45

fix py_float delcaration



---

archive/issue_comments_135187.json:
```json
{
    "body": "<a id='comment:7'></a>\nI've been working on this ticket today at sd40.5. I've got burcin's changes working in sage-5.0 with a caveat. Here's how to get the example in [comment:1](#comment%3A1) working in sage-5.0:\n\n1. install the `__patched__` pynac-0.2.4.p1 spkg at http://sage.math.washington.edu/home/bjones/pynac-0.2.4.p1.spkg. this spkg is the pynac-0.2.4 spkg from #12950 which has been patched to include the changes from burcin's `pynac-wip` branch of pynac mentioned above.\n\n2. apply all patches at #12950, here is a shell script to help that (run from `$SAGE_ROOT/devel/sage`): http://sage.math.washington.edu/home/bjones/trac_12950_apply.sh\n\n3. apply the patches to `$SAGE_ROOT/devel/sage`\n   * [This is the Trac macro *attachment:trac_12289-evalf_dictionary_rebase.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-evalf_dictionary_rebase.patch-macro)\n   * [This is the Trac macro *attachment:trac_12289-add_algorithm_arg.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-add_algorithm_arg.patch-macro)\n   * [This is the Trac macro *attachment:trac_12289-example.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-example.patch-macro)\n   * [This is the Trac macro *attachment:trac_12289_py_float_fix.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289_py_float_fix.patch-macro) (fixes the problem I had in [comment:4](#comment%3A4))\n\n4. `sage -b`",
    "created_at": "2012-05-28T02:33:32Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135187",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:7'></a>
I've been working on this ticket today at sd40.5. I've got burcin's changes working in sage-5.0 with a caveat. Here's how to get the example in [comment:1](#comment%3A1) working in sage-5.0:

1. install the `__patched__` pynac-0.2.4.p1 spkg at http://sage.math.washington.edu/home/bjones/pynac-0.2.4.p1.spkg. this spkg is the pynac-0.2.4 spkg from #12950 which has been patched to include the changes from burcin's `pynac-wip` branch of pynac mentioned above.

2. apply all patches at #12950, here is a shell script to help that (run from `$SAGE_ROOT/devel/sage`): http://sage.math.washington.edu/home/bjones/trac_12950_apply.sh

3. apply the patches to `$SAGE_ROOT/devel/sage`
   * [This is the Trac macro *attachment:trac_12289-evalf_dictionary_rebase.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-evalf_dictionary_rebase.patch-macro)
   * [This is the Trac macro *attachment:trac_12289-add_algorithm_arg.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-add_algorithm_arg.patch-macro)
   * [This is the Trac macro *attachment:trac_12289-example.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-example.patch-macro)
   * [This is the Trac macro *attachment:trac_12289_py_float_fix.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289_py_float_fix.patch-macro) (fixes the problem I had in [comment:4](#comment%3A4))

4. `sage -b`



---

archive/issue_comments_135188.json:
```json
{
    "body": "<a id='comment:8'></a>\nPatchbot, though, should only apply trac_12289-evalf_dictionary_rebase.patch, trac_12289-add_algorithm_arg.patch, and trac_12289_py_float_fix.patch",
    "created_at": "2012-05-28T04:28:06Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135188",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>
Patchbot, though, should only apply trac_12289-evalf_dictionary_rebase.patch, trac_12289-add_algorithm_arg.patch, and trac_12289_py_float_fix.patch



---

archive/issue_comments_135189.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n Custom numeric evaluation functions defined in the `_evalf_()` method of symbolic functions accept only the parent of the result as an argument. We should expand this to allow passing an `argument` parameter as well.\n+\n+---\n+\n+See [comment:7](#comment%3A7) for testing instructions. \n+\n+For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm_arg.patch], and [attachment:trac_12289_py_float_fix.patch].\n``````\n",
    "created_at": "2012-05-28T04:28:06Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135189",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,7 @@
 Custom numeric evaluation functions defined in the `_evalf_()` method of symbolic functions accept only the parent of the result as an argument. We should expand this to allow passing an `argument` parameter as well.
+
+---
+
+See [comment:7](#comment%3A7) for testing instructions. 
+
+For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm_arg.patch], and [attachment:trac_12289_py_float_fix.patch].
``````




---

archive/issue_comments_135190.json:
```json
{
    "body": "<a id='comment:9'></a>\nSo that we don't forget to fix it later:\n\n\n```\n\nsage: erf(1).n(algorithm='foo')\n0.842700792949715\nsage: erf(0)\n0\nsage: parent(erf(0))\nInteger Ring\nsage: erf(0).n(algorithm='foo')\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n/Users/mcneil/sagedev/sage-5.1.beta0b/sage-5.1.beta0/devel/sage-hack2/sage/<ipython console> in <module>()\n\n/Users/mcneil/sagedev/sage-5.1.beta0b/sage-5.1.beta0/local/lib/python2.7/site-packages/sage/structure/element.so in sage.structure.element.Element.numerical_approx (sage/structure/element.c:4988)()\n\nTypeError: numerical_approx() got an unexpected keyword argument 'algorithm'\n```",
    "created_at": "2012-05-28T18:10:51Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135190",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

<a id='comment:9'></a>
So that we don't forget to fix it later:


```

sage: erf(1).n(algorithm='foo')
0.842700792949715
sage: erf(0)
0
sage: parent(erf(0))
Integer Ring
sage: erf(0).n(algorithm='foo')
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/Users/mcneil/sagedev/sage-5.1.beta0b/sage-5.1.beta0/devel/sage-hack2/sage/<ipython console> in <module>()

/Users/mcneil/sagedev/sage-5.1.beta0b/sage-5.1.beta0/local/lib/python2.7/site-packages/sage/structure/element.so in sage.structure.element.Element.numerical_approx (sage/structure/element.c:4988)()

TypeError: numerical_approx() got an unexpected keyword argument 'algorithm'
```



---

archive/issue_comments_135191.json:
```json
{
    "body": "<a id='comment:10'></a>\n>  1. install the `__patched__` pynac-0.2.4.p1 spkg at http://sage.math.washington.edu/home/bjones/pynac-0.2.4.p1.spkg. this spkg is the pynac-0.2.4 spkg from #12950 which has been patched to include the changes from burcin's `pynac-wip` branch of pynac mentioned above.\n  \nIs this stuff in the current Pynac 0.2.6?\n>  2. apply all patches at #12950, here is a shell script to help that (run from `$SAGE_ROOT/devel/sage`): http://sage.math.washington.edu/home/bjones/trac_12950_apply.sh\n  \nCan now be skipped, presumably.\n>  3. apply the patches to `$SAGE_ROOT/devel/sage`\n>     * [This is the Trac macro *attachment:trac_12289-evalf_dictionary_rebase.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-evalf_dictionary_rebase.patch-macro)\n>     * [This is the Trac macro *attachment:trac_12289-add_algorithm_arg.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-add_algorithm_arg.patch-macro)\n>     * [This is the Trac macro *attachment:trac_12289-example.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-example.patch-macro)\n>     * [This is the Trac macro *attachment:trac_12289_py_float_fix.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289_py_float_fix.patch-macro) (fixes the problem I had in [comment:4](#comment%3A4))\n  \n> \n> 4. `sage -b`\n",
    "created_at": "2013-04-25T02:23:41Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135191",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>
>  1. install the `__patched__` pynac-0.2.4.p1 spkg at http://sage.math.washington.edu/home/bjones/pynac-0.2.4.p1.spkg. this spkg is the pynac-0.2.4 spkg from #12950 which has been patched to include the changes from burcin's `pynac-wip` branch of pynac mentioned above.
  
Is this stuff in the current Pynac 0.2.6?
>  2. apply all patches at #12950, here is a shell script to help that (run from `$SAGE_ROOT/devel/sage`): http://sage.math.washington.edu/home/bjones/trac_12950_apply.sh
  
Can now be skipped, presumably.
>  3. apply the patches to `$SAGE_ROOT/devel/sage`
>     * [This is the Trac macro *attachment:trac_12289-evalf_dictionary_rebase.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-evalf_dictionary_rebase.patch-macro)
>     * [This is the Trac macro *attachment:trac_12289-add_algorithm_arg.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-add_algorithm_arg.patch-macro)
>     * [This is the Trac macro *attachment:trac_12289-example.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289-example.patch-macro)
>     * [This is the Trac macro *attachment:trac_12289_py_float_fix.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_12289_py_float_fix.patch-macro) (fixes the problem I had in [comment:4](#comment%3A4))
  
> 
> 4. `sage -b`




---

archive/issue_comments_135192.json:
```json
{
    "body": "<a id='comment:12'></a>\nSome of these patches have bitrotted slightly.  Updates coming up.",
    "created_at": "2013-06-19T00:55:45Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135192",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>
Some of these patches have bitrotted slightly.  Updates coming up.



---

archive/issue_comments_135193.json:
```json
{
    "body": "<a id='comment:13'></a>\nRegarding Doug's comment on \n\n```\nerf(0).n(algorithm='foo')\n```\nIs this something we want to fix here?  I'm not sure whether this is behavior that is supported with this patch, though perhaps it should be.  I think that so far this is *only* putting in infrastructure, right?  I don't see any doctests here, for instance.",
    "created_at": "2013-06-19T01:03:06Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135193",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:13'></a>
Regarding Doug's comment on 

```
erf(0).n(algorithm='foo')
```
Is this something we want to fix here?  I'm not sure whether this is behavior that is supported with this patch, though perhaps it should be.  I think that so far this is *only* putting in infrastructure, right?  I don't see any doctests here, for instance.



---

archive/attachments_016455.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12289-py_float-fix-rebase.patch",
    "asset_url": "tarball://root/attachments/ticket12289/trac_12289-py_float-fix-rebase.patch",
    "created_at": "2013-06-19T01:04:59Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12289/trac_12289-py_float-fix-rebase.patch",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_135194.json:
```json
{
    "body": "Attachment [trac_12289-py_float-fix-rebase.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-py_float-fix-rebase.patch) by @kcrisman created at 2013-06-19 01:04:59",
    "created_at": "2013-06-19T01:04:59Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135194",
    "user": "https://github.com/kcrisman"
}
```

Attachment [trac_12289-py_float-fix-rebase.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-py_float-fix-rebase.patch) by @kcrisman created at 2013-06-19 01:04:59



---

archive/attachments_016456.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12289-add_algorithm-rebase.patch",
    "asset_url": "tarball://root/attachments/ticket12289/trac_12289-add_algorithm-rebase.patch",
    "created_at": "2013-06-19T01:06:58Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12289/trac_12289-add_algorithm-rebase.patch",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_135195.json:
```json
{
    "body": "<a id='comment:14'></a>\nAttachment [trac_12289-add_algorithm-rebase.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-add_algorithm-rebase.patch) by @kcrisman created at 2013-06-19 01:06:58",
    "created_at": "2013-06-19T01:06:58Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135195",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'></a>
Attachment [trac_12289-add_algorithm-rebase.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-add_algorithm-rebase.patch) by @kcrisman created at 2013-06-19 01:06:58



---

archive/issue_comments_135196.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,4 +4,4 @@\n \n See [comment:7](#comment%3A7) for testing instructions. \n \n-For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm_arg.patch], and [attachment:trac_12289_py_float_fix.patch].\n+For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], and [attachment:trac_12289-py_float-fix-rebase.patch].\n``````\n",
    "created_at": "2013-06-19T01:06:58Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135196",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,4 +4,4 @@
 
 See [comment:7](#comment%3A7) for testing instructions. 
 
-For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm_arg.patch], and [attachment:trac_12289_py_float_fix.patch].
+For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], and [attachment:trac_12289-py_float-fix-rebase.patch].
``````




---

archive/issue_comments_135197.json:
```json
{
    "body": "<a id='comment:15'></a>\nPatchbot, apply trac_12289-evalf_dictionary_rebase.patch , trac_12289-add_algorithm-rebase.patch , and trac_12289-py_float-fix-rebase.patch",
    "created_at": "2013-06-19T01:17:12Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135197",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'></a>
Patchbot, apply trac_12289-evalf_dictionary_rebase.patch , trac_12289-add_algorithm-rebase.patch , and trac_12289-py_float-fix-rebase.patch



---

archive/issue_comments_135198.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,6 +2,11 @@\n \n ---\n \n-See [comment:7](#comment%3A7) for testing instructions. \n+Testing instructions:\n+* Rebuild Pynac via `sage -f -s pynac` in Sage 5.11.betaN or higher\n+* (By hand?) Apply [this diff](https://bitbucket.org/burcin/pynac-wip/compare/evalf_dict..tip#diff) to the `spkg/build/pynac-0.3.0/src` directory\n+* Do `sage -sh` and `sage -b`\n+* Apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], and [attachment:trac_12289-py_float-fix-rebase.patch]\n+* Apply [attachment:trac_12289-example.patch] to test that this works, or make your own change, or something.\n \n-For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], and [attachment:trac_12289-py_float-fix-rebase.patch].\n+For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], and [attachment:trac_12289-py_float-fix-rebase.patch].  Pynac spkg will be needed as well.\n``````\n",
    "created_at": "2013-06-19T01:17:12Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135198",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,6 +2,11 @@
 
 ---
 
-See [comment:7](#comment%3A7) for testing instructions. 
+Testing instructions:
+* Rebuild Pynac via `sage -f -s pynac` in Sage 5.11.betaN or higher
+* (By hand?) Apply [this diff](https://bitbucket.org/burcin/pynac-wip/compare/evalf_dict..tip#diff) to the `spkg/build/pynac-0.3.0/src` directory
+* Do `sage -sh` and `sage -b`
+* Apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], and [attachment:trac_12289-py_float-fix-rebase.patch]
+* Apply [attachment:trac_12289-example.patch] to test that this works, or make your own change, or something.
 
-For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], and [attachment:trac_12289-py_float-fix-rebase.patch].
+For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], and [attachment:trac_12289-py_float-fix-rebase.patch].  Pynac spkg will be needed as well.
``````




---

archive/issue_comments_135199.json:
```json
{
    "body": "<a id='comment:16'></a>\nI think that we definitely need at least one example of how to do this if we aren't going to have any other documentation here.",
    "created_at": "2013-06-19T01:50:36Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135199",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>
I think that we definitely need at least one example of how to do this if we aren't going to have any other documentation here.



---

archive/issue_comments_135200.json:
```json
{
    "body": "**Work_Issues:** doctests, documentation",
    "created_at": "2013-06-19T02:03:40Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135200",
    "user": "https://github.com/kcrisman"
}
```

**Work_Issues:** doctests, documentation



---

archive/issue_comments_135201.json:
```json
{
    "body": "<a id='comment:17'></a>\nWe need to fix this.\n\n```\n----------------------------------------------------------------------\nsage -t sage/symbolic/expression.pyx  # 3 doctests failed\nsage -t sage/functions/other.py  # Killed due to segmentation fault\nsage -t sage/functions/exp_integral.py  # 25 doctests failed\nsage -t sage/functions/log.py  # 4 doctests failed\nsage -t sage/symbolic/pynac.pyx  # 2 doctests failed\nsage -t sage/symbolic/function.pyx  # 1 doctest failed\n----------------------------------------------------------------------\n```\nBut it does work!",
    "created_at": "2013-06-19T02:03:40Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135201",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:17'></a>
We need to fix this.

```
----------------------------------------------------------------------
sage -t sage/symbolic/expression.pyx  # 3 doctests failed
sage -t sage/functions/other.py  # Killed due to segmentation fault
sage -t sage/functions/exp_integral.py  # 25 doctests failed
sage -t sage/functions/log.py  # 4 doctests failed
sage -t sage/symbolic/pynac.pyx  # 2 doctests failed
sage -t sage/symbolic/function.pyx  # 1 doctest failed
----------------------------------------------------------------------
```
But it does work!



---

archive/issue_comments_135202.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman, Doug S. MacNeil, Benjamin Jones",
    "created_at": "2013-06-19T02:03:40Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135202",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Karl-Dieter Crisman, Doug S. MacNeil, Benjamin Jones



---

archive/issue_events_100334.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-19T02:03:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100334"
}
```



---

archive/issue_comments_135203.json:
```json
{
    "body": "**Changing author** from \"Burcin Erocal\" to \"Burcin Erocal, Benjamin Jones\".",
    "created_at": "2013-06-19T02:03:40Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135203",
    "user": "https://github.com/kcrisman"
}
```

**Changing author** from "Burcin Erocal" to "Burcin Erocal, Benjamin Jones".



---

archive/issue_events_100335.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-19T02:03:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100335"
}
```



---

archive/issue_events_100336.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-19T02:03:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100336"
}
```



---

archive/issue_comments_135204.json:
```json
{
    "body": "**Changing keywords** from \"pynac sd35.5 sd40.5\" to \"pynac sd35.5 sd40.5 sd48\".",
    "created_at": "2013-06-19T02:05:18Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135204",
    "user": "https://github.com/eviatarbach"
}
```

**Changing keywords** from "pynac sd35.5 sd40.5" to "pynac sd35.5 sd40.5 sd48".



---

archive/issue_comments_135205.json:
```json
{
    "body": "<a id='comment:20'></a>\nOkay, Burcin figured out what he forgot here :) and most of the rest should be easily fixable.",
    "created_at": "2013-06-19T02:40:40Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135205",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:20'></a>
Okay, Burcin figured out what he forgot here :) and most of the rest should be easily fixable.



---

archive/issue_comments_135206.json:
```json
{
    "body": "<a id='comment:21'></a>\nOkay, everything fixed except a segfault on beta which is exactly the same one which [this](http://trac.sagemath.org/sage_trac/attachment/ticket/9130/trac_9130-py_float_segfault.take2.patch) fixed.  Burcin says that this needs to be handled properly and so \n\n```\n\nstatic ex beta_evalf(const ex & x, const ex & y, PyObject* parent)\n{\n        if (is_exactly_a<numeric>(x) && is_exactly_a<numeric>(y)) {\n                try {\n                        return exp(lgamma(ex_to<numeric>(x))+lgamma(ex_to<numeric>(y))-lgamma(ex_to<numeric>(x+y)));\n                } catch (const dunno &e) { }\n        }\n\n        return beta(x,y).hold();\n}\n```\nin ginac/inifcns_gamma.cpp needs to be worked on in addition to other stuff.",
    "created_at": "2013-06-19T03:07:57Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135206",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:21'></a>
Okay, everything fixed except a segfault on beta which is exactly the same one which [this](http://trac.sagemath.org/sage_trac/attachment/ticket/9130/trac_9130-py_float_segfault.take2.patch) fixed.  Burcin says that this needs to be handled properly and so 

```

static ex beta_evalf(const ex & x, const ex & y, PyObject* parent)
{
        if (is_exactly_a<numeric>(x) && is_exactly_a<numeric>(y)) {
                try {
                        return exp(lgamma(ex_to<numeric>(x))+lgamma(ex_to<numeric>(y))-lgamma(ex_to<numeric>(x+y)));
                } catch (const dunno &e) { }
        }

        return beta(x,y).hold();
}
```
in ginac/inifcns_gamma.cpp needs to be worked on in addition to other stuff.



---

archive/attachments_016457.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12289-more-alg.patch",
    "asset_url": "tarball://root/attachments/ticket12289/trac_12289-more-alg.patch",
    "created_at": "2013-06-19T03:11:23Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12289/trac_12289-more-alg.patch",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_135207.json:
```json
{
    "body": "Attachment [trac_12289-more-alg.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-more-alg.patch) by @kcrisman created at 2013-06-19 03:11:23",
    "created_at": "2013-06-19T03:11:23Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135207",
    "user": "https://github.com/kcrisman"
}
```

Attachment [trac_12289-more-alg.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-more-alg.patch) by @kcrisman created at 2013-06-19 03:11:23



---

archive/issue_comments_135208.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,7 +6,7 @@\n * Rebuild Pynac via `sage -f -s pynac` in Sage 5.11.betaN or higher\n * (By hand?) Apply [this diff](https://bitbucket.org/burcin/pynac-wip/compare/evalf_dict..tip#diff) to the `spkg/build/pynac-0.3.0/src` directory\n * Do `sage -sh` and `sage -b`\n-* Apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], and [attachment:trac_12289-py_float-fix-rebase.patch]\n+* Apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], [attachment:trac_12289-py_float-fix-rebase.patch], and [attachment:trac_12289-more-alg.patch]\n * Apply [attachment:trac_12289-example.patch] to test that this works, or make your own change, or something.\n \n-For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], and [attachment:trac_12289-py_float-fix-rebase.patch].  Pynac spkg will be needed as well.\n+For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], [attachment:trac_12289-py_float-fix-rebase.patch], [attachment:trac_12289-more-alg.patch].  Pynac spkg will be needed as well.\n``````\n",
    "created_at": "2013-06-19T03:12:48Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135208",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,7 +6,7 @@
 * Rebuild Pynac via `sage -f -s pynac` in Sage 5.11.betaN or higher
 * (By hand?) Apply [this diff](https://bitbucket.org/burcin/pynac-wip/compare/evalf_dict..tip#diff) to the `spkg/build/pynac-0.3.0/src` directory
 * Do `sage -sh` and `sage -b`
-* Apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], and [attachment:trac_12289-py_float-fix-rebase.patch]
+* Apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], [attachment:trac_12289-py_float-fix-rebase.patch], and [attachment:trac_12289-more-alg.patch]
 * Apply [attachment:trac_12289-example.patch] to test that this works, or make your own change, or something.
 
-For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], and [attachment:trac_12289-py_float-fix-rebase.patch].  Pynac spkg will be needed as well.
+For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], [attachment:trac_12289-py_float-fix-rebase.patch], [attachment:trac_12289-more-alg.patch].  Pynac spkg will be needed as well.
``````




---

archive/issue_comments_135209.json:
```json
{
    "body": "<a id='comment:22'></a>\nPatchbot, apply trac_12289-evalf_dictionary_rebase.patch , trac_12289-add_algorithm-rebase.patch, trac_12289-py_float-fix-rebase.patch, and trac_12289-more-alg.patch",
    "created_at": "2013-06-19T03:12:48Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135209",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:22'></a>
Patchbot, apply trac_12289-evalf_dictionary_rebase.patch , trac_12289-add_algorithm-rebase.patch, trac_12289-py_float-fix-rebase.patch, and trac_12289-more-alg.patch



---

archive/attachments_016458.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12289-evalf_dictionary_rebase.take2.patch",
    "asset_url": "tarball://root/attachments/ticket12289/trac_12289-evalf_dictionary_rebase.take2.patch",
    "created_at": "2013-06-19T20:11:59Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12289/trac_12289-evalf_dictionary_rebase.take2.patch",
    "user": "https://github.com/burcin"
}
```



---

archive/issue_comments_135210.json:
```json
{
    "body": "Attachment [trac_12289-evalf_dictionary_rebase.take2.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-evalf_dictionary_rebase.take2.patch) by @burcin created at 2013-06-19 20:11:59",
    "created_at": "2013-06-19T20:11:59Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135210",
    "user": "https://github.com/burcin"
}
```

Attachment [trac_12289-evalf_dictionary_rebase.take2.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-evalf_dictionary_rebase.take2.patch) by @burcin created at 2013-06-19 20:11:59



---

archive/attachments_016459.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_12289-last_touches.patch",
    "asset_url": "tarball://root/attachments/ticket12289/trac_12289-last_touches.patch",
    "created_at": "2013-06-19T20:18:27Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket12289/trac_12289-last_touches.patch",
    "user": "https://github.com/burcin"
}
```



---

archive/issue_comments_135211.json:
```json
{
    "body": "<a id='comment:23'></a>\nAttachment [trac_12289-last_touches.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-last_touches.patch) by @burcin created at 2013-06-19 20:18:27\n\nNew patches up. All doctests pass in `sage/{symbolics,calculus}/`.",
    "created_at": "2013-06-19T20:18:27Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135211",
    "user": "https://github.com/burcin"
}
```

<a id='comment:23'></a>
Attachment [trac_12289-last_touches.patch](https://github.com/sagemath/sage/files/ticket12289/trac_12289-last_touches.patch) by @burcin created at 2013-06-19 20:18:27

New patches up. All doctests pass in `sage/{symbolics,calculus}/`.



---

archive/issue_comments_135212.json:
```json
{
    "body": "**Dependencies:** #13933, #4102",
    "created_at": "2013-06-19T20:18:27Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135212",
    "user": "https://github.com/burcin"
}
```

**Dependencies:** #13933, #4102



---

archive/issue_events_100337.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2013-06-19T20:18:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100337"
}
```



---

archive/issue_events_100338.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2013-06-19T20:18:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100338"
}
```



---

archive/issue_comments_135213.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,7 +6,14 @@\n * Rebuild Pynac via `sage -f -s pynac` in Sage 5.11.betaN or higher\n * (By hand?) Apply [this diff](https://bitbucket.org/burcin/pynac-wip/compare/evalf_dict..tip#diff) to the `spkg/build/pynac-0.3.0/src` directory\n * Do `sage -sh` and `sage -b`\n-* Apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], [attachment:trac_12289-py_float-fix-rebase.patch], and [attachment:trac_12289-more-alg.patch]\n+* Apply [attachment:trac_12289-evalf_dictionary_rebase.take2.patch], [attachment:trac_12289-add_algorithm-rebase.patch], [attachment:trac_12289-more-alg.patch], and [attachment:trac_12289-last_touches.patch].\n * Apply [attachment:trac_12289-example.patch] to test that this works, or make your own change, or something.\n \n-For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], [attachment:trac_12289-py_float-fix-rebase.patch], [attachment:trac_12289-more-alg.patch].  Pynac spkg will be needed as well.\n+For merging, apply \n+\n+* [attachment:trac_12289-evalf_dictionary_rebase.take2.patch],\n+* [attachment:trac_12289-add_algorithm-rebase.patch],\n+* [attachment:trac_12289-more-alg.patch]\n+* [attachment:trac_12289-last_touches.patch].\n+\n+Pynac spkg will be needed as well.\n``````\n",
    "created_at": "2013-06-19T20:18:27Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135213",
    "user": "https://github.com/burcin"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,7 +6,14 @@
 * Rebuild Pynac via `sage -f -s pynac` in Sage 5.11.betaN or higher
 * (By hand?) Apply [this diff](https://bitbucket.org/burcin/pynac-wip/compare/evalf_dict..tip#diff) to the `spkg/build/pynac-0.3.0/src` directory
 * Do `sage -sh` and `sage -b`
-* Apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], [attachment:trac_12289-py_float-fix-rebase.patch], and [attachment:trac_12289-more-alg.patch]
+* Apply [attachment:trac_12289-evalf_dictionary_rebase.take2.patch], [attachment:trac_12289-add_algorithm-rebase.patch], [attachment:trac_12289-more-alg.patch], and [attachment:trac_12289-last_touches.patch].
 * Apply [attachment:trac_12289-example.patch] to test that this works, or make your own change, or something.
 
-For merging, apply [attachment:trac_12289-evalf_dictionary_rebase.patch], [attachment:trac_12289-add_algorithm-rebase.patch], [attachment:trac_12289-py_float-fix-rebase.patch], [attachment:trac_12289-more-alg.patch].  Pynac spkg will be needed as well.
+For merging, apply 
+
+* [attachment:trac_12289-evalf_dictionary_rebase.take2.patch],
+* [attachment:trac_12289-add_algorithm-rebase.patch],
+* [attachment:trac_12289-more-alg.patch]
+* [attachment:trac_12289-last_touches.patch].
+
+Pynac spkg will be needed as well.
``````




---

archive/issue_comments_135214.json:
```json
{
    "body": "<a id='comment:24'></a>\n> So that we don't forget to fix it later:\n> \n> ```\n> sage: erf(1).n(algorithm='foo')\n> 0.842700792949715\n> sage: erf(0)\n> 0\n> sage: parent(erf(0))\n> Integer Ring\n> sage: erf(0).n(algorithm='foo')\n> ---------------------------------------------------------------------------\n> TypeError                                 Traceback (most recent call last)\n> \n> /Users/mcneil/sagedev/sage-5.1.beta0b/sage-5.1.beta0/devel/sage-hack2/sage/<ipython console> in <module>()\n> \n> /Users/mcneil/sagedev/sage-5.1.beta0b/sage-5.1.beta0/local/lib/python2.7/site-packages/sage/structure/element.so in sage.structure.element.Element.numerical_approx (sage/structure/element.c:4988)()\n> \n> TypeError: numerical_approx() got an unexpected keyword argument 'algorithm'\n> ```\n\nThis is now #14778.  Shouldn't impact this being merged.\n\nBy which to say, this passes all tests.  The most recent fixes are fine.  Burcin, what would need to be reviewed still?",
    "created_at": "2013-06-19T20:59:32Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135214",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:24'></a>
> So that we don't forget to fix it later:
> 
> ```
> sage: erf(1).n(algorithm='foo')
> 0.842700792949715
> sage: erf(0)
> 0
> sage: parent(erf(0))
> Integer Ring
> sage: erf(0).n(algorithm='foo')
> ---------------------------------------------------------------------------
> TypeError                                 Traceback (most recent call last)
> 
> /Users/mcneil/sagedev/sage-5.1.beta0b/sage-5.1.beta0/devel/sage-hack2/sage/<ipython console> in <module>()
> 
> /Users/mcneil/sagedev/sage-5.1.beta0b/sage-5.1.beta0/local/lib/python2.7/site-packages/sage/structure/element.so in sage.structure.element.Element.numerical_approx (sage/structure/element.c:4988)()
> 
> TypeError: numerical_approx() got an unexpected keyword argument 'algorithm'
> ```

This is now #14778.  Shouldn't impact this being merged.

By which to say, this passes all tests.  The most recent fixes are fine.  Burcin, what would need to be reviewed still?



---

archive/issue_comments_135215.json:
```json
{
    "body": "<a id='comment:25'></a>\nThis (or possibly a closely related patch) fails a doctest, actually.  Sorry if this isn't the precise ticket.\n\n```\nsage -t sage/misc/sagedoc.py\n**********************************************************************\nFile \"sage/misc/sagedoc.py\", line 22, in sage.misc.sagedoc\nFailed example:\n    for line in open(docfilename):\n          if \"#sage.symbolic.expression.Expression.N\" in line:\n              print line\nExpected:\n    <tt class=\"descname\">N</tt><big>(</big><em>prec=None</em>, <em>digits=None</em><big>)</big>...\nGot:\n    <tt class=\"descname\">N</tt><big>(</big><em>prec=None</em>, <em>digits=None</em>, <em>algorithm=None</em><big>)</big><a class=\"headerlink\" href=\"#sage.symbolic.expression.Expression.N\" title=\"Permalink to this definition\">\u00b6</a></dt>\n    <BLANKLINE>\n**********************************************************************\n1 item had failures:\n   1 of   3 in sage.misc.sagedoc\n    [73 tests, 1 failure, 9.81 s]\n```\n\nPatchbot, apply trac_12289-evalf_dictionary_rebase.take2.patch ,\ntrac_12289-add_algorithm-rebase.patch ,\ntrac_12289-more-alg.patch \ntrac_12289-last_touches.patch",
    "created_at": "2013-07-03T17:56:20Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135215",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:25'></a>
This (or possibly a closely related patch) fails a doctest, actually.  Sorry if this isn't the precise ticket.

```
sage -t sage/misc/sagedoc.py
**********************************************************************
File "sage/misc/sagedoc.py", line 22, in sage.misc.sagedoc
Failed example:
    for line in open(docfilename):
          if "#sage.symbolic.expression.Expression.N" in line:
              print line
Expected:
    <tt class="descname">N</tt><big>(</big><em>prec=None</em>, <em>digits=None</em><big>)</big>...
Got:
    <tt class="descname">N</tt><big>(</big><em>prec=None</em>, <em>digits=None</em>, <em>algorithm=None</em><big>)</big><a class="headerlink" href="#sage.symbolic.expression.Expression.N" title="Permalink to this definition">¶</a></dt>
    <BLANKLINE>
**********************************************************************
1 item had failures:
   1 of   3 in sage.misc.sagedoc
    [73 tests, 1 failure, 9.81 s]
```

Patchbot, apply trac_12289-evalf_dictionary_rebase.take2.patch ,
trac_12289-add_algorithm-rebase.patch ,
trac_12289-more-alg.patch 
trac_12289-last_touches.patch



---

archive/issue_events_100339.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100339"
}
```



---

archive/issue_events_100340.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100340"
}
```



---

archive/issue_comments_135216.json:
```json
{
    "body": "**Changing dependencies** from \"#13933, #4102\" to \"#13933, #4102, #15198\".",
    "created_at": "2013-09-15T18:17:07Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135216",
    "user": "https://github.com/eviatarbach"
}
```

**Changing dependencies** from "#13933, #4102" to "#13933, #4102, #15198".



---

archive/issue_events_100341.json:
```json
{
    "actor": "https://github.com/eviatarbach",
    "created_at": "2013-09-15T20:31:16Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "rename": {
        "from": "pass algorithm argument to custom numeric evalution methods",
        "to": "pass algorithm argument to custom numeric evaluation methods"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100341"
}
```



---

archive/issue_comments_135217.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [kcrisman](#comment%3A25):\n> This (or possibly a closely related patch) fails a doctest, actually.  Sorry if this isn't the precise ticket.\n> \n> ```\n> sage -t sage/misc/sagedoc.py\n> **********************************************************************\n> File \"sage/misc/sagedoc.py\", line 22, in sage.misc.sagedoc\n> Failed example:\n>     for line in open(docfilename):\n>           if \"#sage.symbolic.expression.Expression.N\" in line:\n>               print line\n> Expected:\n>     <tt class=\"descname\">N</tt><big>(</big><em>prec=None</em>, <em>digits=None</em><big>)</big>...\n> Got:\n>     <tt class=\"descname\">N</tt><big>(</big><em>prec=None</em>, <em>digits=None</em>, <em>algorithm=None</em><big>)</big><a class=\"headerlink\" href=\"#sage.symbolic.expression.Expression.N\" title=\"Permalink to this definition\">\u00b6</a></dt>\n>     <BLANKLINE>\n> ```\n\n\nYeah, I'm pretty sure this would do it, because of\n\n```\ndef _numerical_approx(self, prec=None, digits=None, algorithm=None): \n```\nin the symbolic expression file.",
    "created_at": "2013-09-23T17:48:17Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135217",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:29'></a>
Replying to [kcrisman](#comment%3A25):
> This (or possibly a closely related patch) fails a doctest, actually.  Sorry if this isn't the precise ticket.
> 
> ```
> sage -t sage/misc/sagedoc.py
> **********************************************************************
> File "sage/misc/sagedoc.py", line 22, in sage.misc.sagedoc
> Failed example:
>     for line in open(docfilename):
>           if "#sage.symbolic.expression.Expression.N" in line:
>               print line
> Expected:
>     <tt class="descname">N</tt><big>(</big><em>prec=None</em>, <em>digits=None</em><big>)</big>...
> Got:
>     <tt class="descname">N</tt><big>(</big><em>prec=None</em>, <em>digits=None</em>, <em>algorithm=None</em><big>)</big><a class="headerlink" href="#sage.symbolic.expression.Expression.N" title="Permalink to this definition">¶</a></dt>
>     <BLANKLINE>
> ```


Yeah, I'm pretty sure this would do it, because of

```
def _numerical_approx(self, prec=None, digits=None, algorithm=None): 
```
in the symbolic expression file.



---

archive/issue_comments_135218.json:
```json
{
    "body": "<a id='comment:30'></a>\nfor the **patchbots**:\n\napply trac_12289-evalf_dictionary_rebase.take2.patch trac_12289-add_algorithm-rebase.patch trac_12289-more-alg.patch trac_12289-last_touches.patch",
    "created_at": "2013-11-15T10:15:44Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135218",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'></a>
for the **patchbots**:

apply trac_12289-evalf_dictionary_rebase.take2.patch trac_12289-add_algorithm-rebase.patch trac_12289-more-alg.patch trac_12289-last_touches.patch



---

archive/issue_comments_135219.json:
```json
{
    "body": "<a id='comment:31'></a>\nThis ticket depends on an SPKG update. The patchbot cannot handle those ATM.\n\nIIRC, the pynac update is complete and waiting for review. See #15198 for details.",
    "created_at": "2013-11-15T10:29:05Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135219",
    "user": "https://github.com/burcin"
}
```

<a id='comment:31'></a>
This ticket depends on an SPKG update. The patchbot cannot handle those ATM.

IIRC, the pynac update is complete and waiting for review. See #15198 for details.



---

archive/issue_events_100342.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100342"
}
```



---

archive/issue_events_100343.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100343"
}
```



---

archive/issue_comments_135220.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,19 +1,3 @@\n Custom numeric evaluation functions defined in the `_evalf_()` method of symbolic functions accept only the parent of the result as an argument. We should expand this to allow passing an `argument` parameter as well.\n \n----\n-\n-Testing instructions:\n-* Rebuild Pynac via `sage -f -s pynac` in Sage 5.11.betaN or higher\n-* (By hand?) Apply [this diff](https://bitbucket.org/burcin/pynac-wip/compare/evalf_dict..tip#diff) to the `spkg/build/pynac-0.3.0/src` directory\n-* Do `sage -sh` and `sage -b`\n-* Apply [attachment:trac_12289-evalf_dictionary_rebase.take2.patch], [attachment:trac_12289-add_algorithm-rebase.patch], [attachment:trac_12289-more-alg.patch], and [attachment:trac_12289-last_touches.patch].\n-* Apply [attachment:trac_12289-example.patch] to test that this works, or make your own change, or something.\n-\n-For merging, apply \n-\n-* [attachment:trac_12289-evalf_dictionary_rebase.take2.patch],\n-* [attachment:trac_12289-add_algorithm-rebase.patch],\n-* [attachment:trac_12289-more-alg.patch]\n-* [attachment:trac_12289-last_touches.patch].\n-\n-Pynac spkg will be needed as well.\n+Merge together with dependencies (i.e. there are circular dependencies).\n``````\n",
    "created_at": "2014-02-20T11:30:49Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135220",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,19 +1,3 @@
 Custom numeric evaluation functions defined in the `_evalf_()` method of symbolic functions accept only the parent of the result as an argument. We should expand this to allow passing an `argument` parameter as well.
 
----
-
-Testing instructions:
-* Rebuild Pynac via `sage -f -s pynac` in Sage 5.11.betaN or higher
-* (By hand?) Apply [this diff](https://bitbucket.org/burcin/pynac-wip/compare/evalf_dict..tip#diff) to the `spkg/build/pynac-0.3.0/src` directory
-* Do `sage -sh` and `sage -b`
-* Apply [attachment:trac_12289-evalf_dictionary_rebase.take2.patch], [attachment:trac_12289-add_algorithm-rebase.patch], [attachment:trac_12289-more-alg.patch], and [attachment:trac_12289-last_touches.patch].
-* Apply [attachment:trac_12289-example.patch] to test that this works, or make your own change, or something.
-
-For merging, apply 
-
-* [attachment:trac_12289-evalf_dictionary_rebase.take2.patch],
-* [attachment:trac_12289-add_algorithm-rebase.patch],
-* [attachment:trac_12289-more-alg.patch]
-* [attachment:trac_12289-last_touches.patch].
-
-Pynac spkg will be needed as well.
+Merge together with dependencies (i.e. there are circular dependencies).
``````




---

archive/issue_comments_135221.json:
```json
{
    "body": "<a id='comment:33'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5aa39cedee6c1fe1aa62fceac77c2c6e502ddf8f\">5aa39ce</a></td><td><code>Use dictionary for custom numerical evaluation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d86cef5db5780ec0fddfd925a7f047cfced4a98d\">d86cef5</a></td><td><code>Add algorithm keyword to custom numerical evaluation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e08b282715f91bad6f40f8360a8c29aadecd61f2\">e08b282</a></td><td><code>Add missing algorithm keywords for custom numerical evaluation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/008a54f3ecfd97b908910ae506b4847575a4d62a\">008a54f</a></td><td><code>Fix random issues caused by `_evalf_` convention change.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d1fd3390700a4ad7521d14bad4d7b08f30e7edb\">5d1fd33</a></td><td><code>Fix rebasing error.</code></td></tr></table>\n",
    "created_at": "2014-02-20T11:30:49Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135221",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:33'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5aa39cedee6c1fe1aa62fceac77c2c6e502ddf8f">5aa39ce</a></td><td><code>Use dictionary for custom numerical evaluation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d86cef5db5780ec0fddfd925a7f047cfced4a98d">d86cef5</a></td><td><code>Add algorithm keyword to custom numerical evaluation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e08b282715f91bad6f40f8360a8c29aadecd61f2">e08b282</a></td><td><code>Add missing algorithm keywords for custom numerical evaluation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/008a54f3ecfd97b908910ae506b4847575a4d62a">008a54f</a></td><td><code>Fix random issues caused by `_evalf_` convention change.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d1fd3390700a4ad7521d14bad4d7b08f30e7edb">5d1fd33</a></td><td><code>Fix rebasing error.</code></td></tr></table>




---

archive/issue_comments_135222.json:
```json
{
    "body": "**Commit:** [5d1fd3390700a4ad7521d14bad4d7b08f30e7edb](https://github.com/sagemath/sagetrac-mirror/commit/5d1fd3390700a4ad7521d14bad4d7b08f30e7edb)",
    "created_at": "2014-02-20T11:30:49Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135222",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Commit:** [5d1fd3390700a4ad7521d14bad4d7b08f30e7edb](https://github.com/sagemath/sagetrac-mirror/commit/5d1fd3390700a4ad7521d14bad4d7b08f30e7edb)



---

archive/issue_comments_135223.json:
```json
{
    "body": "**Branch:** [u/jpflori/ticket/12289](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/12289)",
    "created_at": "2014-02-20T11:30:49Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135223",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Branch:** [u/jpflori/ticket/12289](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/12289)



---

archive/issue_comments_135224.json:
```json
{
    "body": "**Changing commit** from \"[5d1fd3390700a4ad7521d14bad4d7b08f30e7edb](https://github.com/sagemath/sagetrac-mirror/commit/5d1fd3390700a4ad7521d14bad4d7b08f30e7edb)\" to \"[b658858f25aef3c0fcc32fc72423aaa387305979](https://github.com/sagemath/sagetrac-mirror/commit/b658858f25aef3c0fcc32fc72423aaa387305979)\".",
    "created_at": "2014-02-20T11:43:13Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135224",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5d1fd3390700a4ad7521d14bad4d7b08f30e7edb](https://github.com/sagemath/sagetrac-mirror/commit/5d1fd3390700a4ad7521d14bad4d7b08f30e7edb)" to "[b658858f25aef3c0fcc32fc72423aaa387305979](https://github.com/sagemath/sagetrac-mirror/commit/b658858f25aef3c0fcc32fc72423aaa387305979)".



---

archive/issue_comments_135225.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b658858f25aef3c0fcc32fc72423aaa387305979\">b658858</a></td><td><code>Proper fix for the rebasing issue.</code></td></tr></table>\n",
    "created_at": "2014-02-20T11:43:13Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135225",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b658858f25aef3c0fcc32fc72423aaa387305979">b658858</a></td><td><code>Proper fix for the rebasing issue.</code></td></tr></table>




---

archive/issue_comments_135226.json:
```json
{
    "body": "**Changing commit** from \"[b658858f25aef3c0fcc32fc72423aaa387305979](https://github.com/sagemath/sagetrac-mirror/commit/b658858f25aef3c0fcc32fc72423aaa387305979)\" to \"[da159a053fb8b6de61f9e17c8c74991d9a44a59d](https://github.com/sagemath/sagetrac-mirror/commit/da159a053fb8b6de61f9e17c8c74991d9a44a59d)\".",
    "created_at": "2014-02-20T11:54:04Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135226",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b658858f25aef3c0fcc32fc72423aaa387305979](https://github.com/sagemath/sagetrac-mirror/commit/b658858f25aef3c0fcc32fc72423aaa387305979)" to "[da159a053fb8b6de61f9e17c8c74991d9a44a59d](https://github.com/sagemath/sagetrac-mirror/commit/da159a053fb8b6de61f9e17c8c74991d9a44a59d)".



---

archive/issue_comments_135227.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da159a053fb8b6de61f9e17c8c74991d9a44a59d\">da159a0</a></td><td><code>Add missing fix for algorithm keyword for custom numerical evaluation.</code></td></tr></table>\n",
    "created_at": "2014-02-20T11:54:04Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135227",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da159a053fb8b6de61f9e17c8c74991d9a44a59d">da159a0</a></td><td><code>Add missing fix for algorithm keyword for custom numerical evaluation.</code></td></tr></table>




---

archive/issue_comments_135228.json:
```json
{
    "body": "**Changing work_issues** from \"doctests, documentation\" to \"blankline\".",
    "created_at": "2014-02-20T13:18:37Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135228",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing work_issues** from "doctests, documentation" to "blankline".



---

archive/issue_comments_135229.json:
```json
{
    "body": "<a id='comment:36'></a>\nI just rebased the old patches and fixed an additional missing new keyword.\nI'm happy with the changes.\nThere is still the blankline issue of [comment:29](#comment%3A29).",
    "created_at": "2014-02-20T13:18:37Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135229",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:36'></a>
I just rebased the old patches and fixed an additional missing new keyword.
I'm happy with the changes.
There is still the blankline issue of [comment:29](#comment%3A29).



---

archive/issue_comments_135230.json:
```json
{
    "body": "**Changing reviewer** from \"Karl-Dieter Crisman, Doug S. MacNeil, Benjamin Jones\" to \"Karl-Dieter Crisman, Doug S. MacNeil, Benjamin Jones, Jean-Pierre Flori\".",
    "created_at": "2014-02-20T13:18:37Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135230",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing reviewer** from "Karl-Dieter Crisman, Doug S. MacNeil, Benjamin Jones" to "Karl-Dieter Crisman, Doug S. MacNeil, Benjamin Jones, Jean-Pierre Flori".



---

archive/issue_comments_135231.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef6d2de56ff56851710ecfdc9dcdc4adfec91c08\">ef6d2de</a></td><td><code>Fix documentation for numerical_approximation.</code></td></tr></table>\n",
    "created_at": "2014-02-20T14:12:03Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135231",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef6d2de56ff56851710ecfdc9dcdc4adfec91c08">ef6d2de</a></td><td><code>Fix documentation for numerical_approximation.</code></td></tr></table>




---

archive/issue_comments_135232.json:
```json
{
    "body": "**Changing commit** from \"[da159a053fb8b6de61f9e17c8c74991d9a44a59d](https://github.com/sagemath/sagetrac-mirror/commit/da159a053fb8b6de61f9e17c8c74991d9a44a59d)\" to \"[ef6d2de56ff56851710ecfdc9dcdc4adfec91c08](https://github.com/sagemath/sagetrac-mirror/commit/ef6d2de56ff56851710ecfdc9dcdc4adfec91c08)\".",
    "created_at": "2014-02-20T14:12:03Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135232",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[da159a053fb8b6de61f9e17c8c74991d9a44a59d](https://github.com/sagemath/sagetrac-mirror/commit/da159a053fb8b6de61f9e17c8c74991d9a44a59d)" to "[ef6d2de56ff56851710ecfdc9dcdc4adfec91c08](https://github.com/sagemath/sagetrac-mirror/commit/ef6d2de56ff56851710ecfdc9dcdc4adfec91c08)".



---

archive/issue_comments_135233.json:
```json
{
    "body": "<a id='comment:38'></a>\nIn fact the doctest was expected to change... so needs review for the two basic changes I made.\nWhat was done before was already reviewed and I'm happy in case it was not.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef6d2de56ff56851710ecfdc9dcdc4adfec91c08\">ef6d2de</a></td><td><code>Fix documentation for numerical_approximation.</code></td></tr></table>\n",
    "created_at": "2014-02-20T14:35:29Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135233",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:38'></a>
In fact the doctest was expected to change... so needs review for the two basic changes I made.
What was done before was already reviewed and I'm happy in case it was not.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef6d2de56ff56851710ecfdc9dcdc4adfec91c08">ef6d2de</a></td><td><code>Fix documentation for numerical_approximation.</code></td></tr></table>




---

archive/issue_comments_135234.json:
```json
{
    "body": "<a id='comment:40'></a>\nI can't do actual testing now (or any time soon, I've really fallen off the development radar screen) but these minor changes in the last two commits are completely fine as long as the doc change fixes the problem.  Hopefully we'll actually start implementing some of these algorithms now...",
    "created_at": "2014-02-28T15:45:37Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135234",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:40'></a>
I can't do actual testing now (or any time soon, I've really fallen off the development radar screen) but these minor changes in the last two commits are completely fine as long as the doc change fixes the problem.  Hopefully we'll actually start implementing some of these algorithms now...



---

archive/issue_events_100344.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-02-28T15:46:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100344"
}
```



---

archive/issue_events_100345.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-02-28T15:46:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100345"
}
```



---

archive/issue_comments_135235.json:
```json
{
    "body": "<a id='comment:41'></a>\nTesting will be done automatically by the patchbots, so I'll take your comment as positive review.",
    "created_at": "2014-02-28T15:46:57Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135235",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:41'></a>
Testing will be done automatically by the patchbots, so I'll take your comment as positive review.



---

archive/issue_comments_135236.json:
```json
{
    "body": "**Changing branch** from \"[u/jpflori/ticket/12289](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/12289)\" to \"[ef6d2de56ff56851710ecfdc9dcdc4adfec91c08](https://github.com/sagemath/sagetrac-mirror/commit/ef6d2de56ff56851710ecfdc9dcdc4adfec91c08)\".",
    "created_at": "2014-03-04T16:58:44Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135236",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jpflori/ticket/12289](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/12289)" to "[ef6d2de56ff56851710ecfdc9dcdc4adfec91c08](https://github.com/sagemath/sagetrac-mirror/commit/ef6d2de56ff56851710ecfdc9dcdc4adfec91c08)".



---

archive/issue_events_100346.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-04T16:58:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100346"
}
```



---

archive/issue_events_100347.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7a440b6a69e9bdfb78d2bf5d8c7f0d4c5bd33bb2",
    "created_at": "2014-03-04T16:58:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12289#event-100347"
}
```



---

archive/issue_comments_135237.json:
```json
{
    "body": "**Changing commit** from \"[ef6d2de56ff56851710ecfdc9dcdc4adfec91c08](https://github.com/sagemath/sagetrac-mirror/commit/ef6d2de56ff56851710ecfdc9dcdc4adfec91c08)\" to \"\".",
    "created_at": "2014-11-14T21:16:15Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135237",
    "user": "https://github.com/kcrisman"
}
```

**Changing commit** from "[ef6d2de56ff56851710ecfdc9dcdc4adfec91c08](https://github.com/sagemath/sagetrac-mirror/commit/ef6d2de56ff56851710ecfdc9dcdc4adfec91c08)" to "".



---

archive/issue_comments_135238.json:
```json
{
    "body": "**Changing reviewer** from \"Karl-Dieter Crisman, Doug S. MacNeil, Benjamin Jones, Jean-Pierre Flori\" to \"Karl-Dieter Crisman, Douglas MacNeil, Benjamin Jones, Jean-Pierre Flori\".",
    "created_at": "2014-11-14T21:16:15Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135238",
    "user": "https://github.com/kcrisman"
}
```

**Changing reviewer** from "Karl-Dieter Crisman, Doug S. MacNeil, Benjamin Jones, Jean-Pierre Flori" to "Karl-Dieter Crisman, Douglas MacNeil, Benjamin Jones, Jean-Pierre Flori".



---

archive/issue_comments_135239.json:
```json
{
    "body": "**Changing work_issues** from \"blankline\" to \"\".",
    "created_at": "2014-11-14T21:16:15Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135239",
    "user": "https://github.com/kcrisman"
}
```

**Changing work_issues** from "blankline" to "".



---

archive/issue_comments_135240.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-Custom numeric evaluation functions defined in the `_evalf_()` method of symbolic functions accept only the parent of the result as an argument. We should expand this to allow passing an `argument` parameter as well.\n+Custom numeric evaluation functions defined in the `_evalf_()` method of symbolic functions accept only the parent of the result as an argument. We should expand this to allow passing an `algorithm` parameter as well.\n \n Merge together with dependencies (i.e. there are circular dependencies).\n``````\n",
    "created_at": "2014-12-19T21:05:25Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135240",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-Custom numeric evaluation functions defined in the `_evalf_()` method of symbolic functions accept only the parent of the result as an argument. We should expand this to allow passing an `argument` parameter as well.
+Custom numeric evaluation functions defined in the `_evalf_()` method of symbolic functions accept only the parent of the result as an argument. We should expand this to allow passing an `algorithm` parameter as well.
 
 Merge together with dependencies (i.e. there are circular dependencies).
``````




---

archive/issue_comments_135241.json:
```json
{
    "body": "<a id='comment:44'></a>\nIs there any particular reason that this was done for `_evalf_` and not also plain `_eval_`?",
    "created_at": "2014-12-19T21:05:25Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135241",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:44'></a>
Is there any particular reason that this was done for `_evalf_` and not also plain `_eval_`?



---

archive/issue_comments_135242.json:
```json
{
    "body": "<a id='comment:45'></a>\nSimilarly: shouldn't `__call__` support an `algorithm` argument such that one could do\n\n```\nsage: f(0.12345, algorithm=\"foobar\")\n```",
    "created_at": "2014-12-19T21:13:33Z",
    "issue": "https://github.com/sagemath/sage/issues/12289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12289#issuecomment-135242",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:45'></a>
Similarly: shouldn't `__call__` support an `algorithm` argument such that one could do

```
sage: f(0.12345, algorithm="foobar")
```
