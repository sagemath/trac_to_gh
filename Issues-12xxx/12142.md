# Issue 12142: Speed up PARI finite field operations

archive/issues_011970.json:
```json
{
    "assignees": [
        "https://github.com/aghitza"
    ],
    "body": "Let us perform a simple addition of finite field elements that are represented using PARI.\n\n```\nsage: F.<a> = GF(3^11)\nsage: x = F.random_element()\nsage: y = F.random_element()\nsage: %timeit x + y\n625 loops, best of 3: 13.2 \u00b5s per loop\n```\nLet us now measure how much time the *actual* addition takes:\n\n```\nsage: vx = x._FiniteField_ext_pariElement__value\nsage: vy = y._FiniteField_ext_pariElement__value\nsage: %timeit vx + vy\n625 loops, best of 3: 4.6 \u00b5s per loop\n```\nThis means two thirds of the execution time is used to wrap a ribbon around the result and only one third for the actual addition!\n\nBut in fact Pari has a faster implementation for finite fields than this!  This was already mentioned at http://groups.google.com/group/sage-nt/browse_thread/thread/e2dbbc72caeb589a\n\n```\nsage: def pari_ffelt(x): parix=pari(x); return parix.lift().subst(parix.variable(), \"ffgen((%s).mod)\"%parix) \n\nsage: px = pari_ffelt(x)\nsage: py = pari_ffelt(y)\nsage: %timeit px + py\n625 loops, best of 3: 2.43 \u00b5s per loop\n```\nFor multiplication, we have the following timings:\n\n```\nsage: %timeit x * y\n625 loops, best of 3: 18.2 \u00b5s per loop\nsage: %timeit vx * vy\n625 loops, best of 3: 8.4 \u00b5s per loop\nsage: %timeit px * py\n625 loops, best of 3: 3.33 \u00b5s per loop\n```\n\nThis ticket implements an interface to PARI's FFELT type for non-prime finite fields.  It can be tested by constructing finite fields as follows, for *p* prime and *n* >= 2:\n\n```\nsage: F.<a> = FiniteField(p^n, impl='pari_ffelt')\n```\nThis implementation should probably become the default for non-prime finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.  This switch is the goal of ticket #14888.\n\nApply:\n* [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz)\n* [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)\n* [attachment: trac_12142-reviewer.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-reviewer.patch.gz)\n* [attachment: trac_12142-doctest.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-doctest.patch.gz)\n* [attachment: trac_12142-remove_cinit.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-remove_cinit.patch.gz)\n\n\nDepends on #14817\nDepends on #14818\nDepends on #14832\nDepends on #14833\n\nCC:  @koffie @jpflori\n\nComponent: **basic arithmetic**\n\nAuthor: **Peter Bruin**\n\nReviewer: **Jean-Pierre Flori**\n\nMerged: **sage-5.12.beta3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12142_\n\n",
    "closed_at": "2013-08-20T12:55:32Z",
    "created_at": "2011-12-10T22:57:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.12",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Speed up PARI finite field operations",
    "type": "issue",
    "updated_at": "2013-08-20T12:55:32Z",
    "url": "https://github.com/sagemath/sage/issues/12142",
    "user": "https://github.com/sagetrac-johanbosman"
}
```
Let us perform a simple addition of finite field elements that are represented using PARI.

```
sage: F.<a> = GF(3^11)
sage: x = F.random_element()
sage: y = F.random_element()
sage: %timeit x + y
625 loops, best of 3: 13.2 µs per loop
```
Let us now measure how much time the *actual* addition takes:

```
sage: vx = x._FiniteField_ext_pariElement__value
sage: vy = y._FiniteField_ext_pariElement__value
sage: %timeit vx + vy
625 loops, best of 3: 4.6 µs per loop
```
This means two thirds of the execution time is used to wrap a ribbon around the result and only one third for the actual addition!

But in fact Pari has a faster implementation for finite fields than this!  This was already mentioned at http://groups.google.com/group/sage-nt/browse_thread/thread/e2dbbc72caeb589a

```
sage: def pari_ffelt(x): parix=pari(x); return parix.lift().subst(parix.variable(), "ffgen((%s).mod)"%parix) 

sage: px = pari_ffelt(x)
sage: py = pari_ffelt(y)
sage: %timeit px + py
625 loops, best of 3: 2.43 µs per loop
```
For multiplication, we have the following timings:

```
sage: %timeit x * y
625 loops, best of 3: 18.2 µs per loop
sage: %timeit vx * vy
625 loops, best of 3: 8.4 µs per loop
sage: %timeit px * py
625 loops, best of 3: 3.33 µs per loop
```

This ticket implements an interface to PARI's FFELT type for non-prime finite fields.  It can be tested by constructing finite fields as follows, for *p* prime and *n* >= 2:

```
sage: F.<a> = FiniteField(p^n, impl='pari_ffelt')
```
This implementation should probably become the default for non-prime finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.  This switch is the goal of ticket #14888.

Apply:
* [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz)
* [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)
* [attachment: trac_12142-reviewer.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-reviewer.patch.gz)
* [attachment: trac_12142-doctest.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-doctest.patch.gz)
* [attachment: trac_12142-remove_cinit.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-remove_cinit.patch.gz)


Depends on #14817
Depends on #14818
Depends on #14832
Depends on #14833

CC:  @koffie @jpflori

Component: **basic arithmetic**

Author: **Peter Bruin**

Reviewer: **Jean-Pierre Flori**

Merged: **sage-5.12.beta3**

_Issue created by migration from https://trac.sagemath.org/ticket/12142_





---

archive/issue_events_163138.json:
```json
{
    "actor": "https://github.com/sagetrac-johanbosman",
    "created_at": "2011-12-10T22:57:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163138"
}
```



---

archive/issue_events_163139.json:
```json
{
    "actor": "https://github.com/sagetrac-johanbosman",
    "created_at": "2011-12-10T22:57:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "c: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163139"
}
```



---

archive/issue_events_163140.json:
```json
{
    "actor": "https://github.com/sagetrac-johanbosman",
    "created_at": "2011-12-10T22:57:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163140"
}
```



---

archive/issue_events_163141.json:
```json
{
    "actor": "https://github.com/sagetrac-johanbosman",
    "created_at": "2011-12-10T22:57:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163141"
}
```



---

archive/issue_events_163142.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2011-12-10T22:57:49Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "subject": "https://github.com/sagetrac-johanbosman",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163142"
}
```



---

archive/issue_comments_130075.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nJust a reminder for myself, it would also be nice to have a common cython interface to deal with finite fields elements, surely using templates as for polynomials.",
    "created_at": "2013-05-30T09:00:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130075",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:3" align="right">comment:3</div>

Just a reminder for myself, it would also be nice to have a common cython interface to deal with finite fields elements, surely using templates as for polynomials.



---

archive/issue_comments_130076.json:
```json
{
    "body": "Author: **Peter Bruin**",
    "created_at": "2013-06-24T19:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130076",
    "user": "https://github.com/pjbruin"
}
```

Author: **Peter Bruin**



---

archive/issue_comments_130077.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI have been working on an interface to PARI's implementation of finite fields (`t_FFELT`).  Like for the other interfaces (except the existing PARI polmod implementation), the field class is written in Python and the element class in Cython.  I hope to upload a patch soon after cleaning up the documentation and fixing a minor problem.\n\nThe speed improvement for addition and multiplication relative to the current implementation appears to vary roughly from a factor 3 to a factor 12, depending on the size of the field.\n\nFor small fields, this PARI interface is (of course) much slower than Givaro (a factor 4-6 for **F**_{3<sup>10</sup>}).  For fields of characteristic 2, it is slower than NTL+gf2x, but the difference is not that dramatic.",
    "created_at": "2013-06-24T19:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130077",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:4" align="right">comment:4</div>

I have been working on an interface to PARI's implementation of finite fields (`t_FFELT`).  Like for the other interfaces (except the existing PARI polmod implementation), the field class is written in Python and the element class in Cython.  I hope to upload a patch soon after cleaning up the documentation and fixing a minor problem.

The speed improvement for addition and multiplication relative to the current implementation appears to vary roughly from a factor 3 to a factor 12, depending on the size of the field.

For small fields, this PARI interface is (of course) much slower than Givaro (a factor 4-6 for **F**_{3<sup>10</sup>}).  For fields of characteristic 2, it is slower than NTL+gf2x, but the difference is not that dramatic.



---

archive/issue_comments_130078.json:
```json
{
    "body": "Dependencies: **#14817, #14818, #14832, #14833**",
    "created_at": "2013-06-27T08:09:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130078",
    "user": "https://github.com/pjbruin"
}
```

Dependencies: **#14817, #14818, #14832, #14833**



---

archive/issue_comments_130079.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis ticket led to several other patches, which I put into separate tickets; see the list of dependencies.  The dependence on #14817 is optional.\n\nA patch for this ticket is now practically ready.",
    "created_at": "2013-06-27T08:09:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130079",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:5" align="right">comment:5</div>

This ticket led to several other patches, which I put into separate tickets; see the list of dependencies.  The dependence on #14817 is optional.

A patch for this ticket is now practically ready.



---

archive/issue_comments_130080.json:
```json
{
    "body": "Work Issues: **conversion from/to Singular**",
    "created_at": "2013-06-27T11:56:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130080",
    "user": "https://github.com/pjbruin"
}
```

Work Issues: **conversion from/to Singular**



---

archive/issue_comments_130081.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThe attached patch implements a new class `FiniteField_pari_ffelt` and associated element class `FiniteFieldElement_pari_ffelt`.  There is currently one doctest failure, related to conversion from and to Singular.",
    "created_at": "2013-06-27T11:56:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130081",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:6" align="right">comment:6</div>

The attached patch implements a new class `FiniteField_pari_ffelt` and associated element class `FiniteFieldElement_pari_ffelt`.  There is currently one doctest failure, related to conversion from and to Singular.



---

archive/issue_comments_130082.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAttachment: **[trac_12142-singular_conversion.patch.gz](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)**\n\nOK, converting between `FiniteFieldElement` and Singular was an easy generalisation of existing code.  I will try to make a small table comparing the performance of the various implementations.  In the meantime this is ready to be reviewed.",
    "created_at": "2013-06-27T19:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130082",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:7" align="right">comment:7</div>

Attachment: **[trac_12142-singular_conversion.patch.gz](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)**

OK, converting between `FiniteFieldElement` and Singular was an easy generalisation of existing code.  I will try to make a small table comparing the performance of the various implementations.  In the meantime this is ready to be reviewed.



---

archive/issue_events_163143.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-06-27T19:19:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163143"
}
```



---

archive/issue_comments_130083.json:
```json
{
    "body": "Changed work issues from **conversion from/to Singular** to none",
    "created_at": "2013-06-27T19:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130083",
    "user": "https://github.com/pjbruin"
}
```

Changed work issues from **conversion from/to Singular** to none



---

archive/issue_comments_130084.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -38,3 +38,12 @@\n 625 loops, best of 3: 3.33 \u00b5s per loop\n ```\n \n+This ticket implements an interface to PARI's FFELT type for non-prime finite fields.  It is not the default yet, but it can be tested by constructing finite fields as follows, for *p* prime and *n* >= 2:\n+\n+```\n+sage: F.<a> = FiniteField(p^n, impl='pari_ffelt')\n+```\n+This implementation should probably become the default for finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.\n+\n+Apply: [attachment: trac_12142-FiniteField_pari_ffelt.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.patch.gz), [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)\n+\n``````\n",
    "created_at": "2013-06-27T19:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130084",
    "user": "https://github.com/pjbruin"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -38,3 +38,12 @@
 625 loops, best of 3: 3.33 µs per loop
 ```
 
+This ticket implements an interface to PARI's FFELT type for non-prime finite fields.  It is not the default yet, but it can be tested by constructing finite fields as follows, for *p* prime and *n* >= 2:
+
+```
+sage: F.<a> = FiniteField(p^n, impl='pari_ffelt')
+```
+This implementation should probably become the default for finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.
+
+Apply: [attachment: trac_12142-FiniteField_pari_ffelt.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.patch.gz), [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)
+
``````




---

archive/issue_comments_130085.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHere are some timings for addition and multiplication in the various implementations:\n\n```\nx, y random elements of a field of p^n elements\nall times in microseconds\n\nAddition:  %timeit -c -r 1 x + y\n\n(p, n)     ntl/gf2e  givaro  pari_ffelt  pari_mod\n\n(2, 15)    0.85      0.45    0.95        15.1\n(2, 5000)  1.06      ----    1.84        3300\n\n(3, 10)    ----      0.47    1.14        12.5\n(3, 80)    ----      ----    1.75        44\n\n(251, 2)   ----      0.51    1.30        9.0\n\nMultiplication:  %timeit -c -r 1 x * y\n\n(p, n)     ntl/gf2e  givaro  pari_ffelt  pari_mod\n\n(2, 15)    1.11      0.61    1.51        22\n(2, 1000)  5.0       ----    61          1060\n\n(3, 10)    ----      0.57    4.0         19\n(3, 80)    ----      ----    36          99\n\n(251, 2)   ----      0.56    1.69        12.1\n\n```",
    "created_at": "2013-06-27T21:46:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130085",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:8" align="right">comment:8</div>

Here are some timings for addition and multiplication in the various implementations:

```
x, y random elements of a field of p^n elements
all times in microseconds

Addition:  %timeit -c -r 1 x + y

(p, n)     ntl/gf2e  givaro  pari_ffelt  pari_mod

(2, 15)    0.85      0.45    0.95        15.1
(2, 5000)  1.06      ----    1.84        3300

(3, 10)    ----      0.47    1.14        12.5
(3, 80)    ----      ----    1.75        44

(251, 2)   ----      0.51    1.30        9.0

Multiplication:  %timeit -c -r 1 x * y

(p, n)     ntl/gf2e  givaro  pari_ffelt  pari_mod

(2, 15)    1.11      0.61    1.51        22
(2, 1000)  5.0       ----    61          1060

(3, 10)    ----      0.57    4.0         19
(3, 80)    ----      ----    36          99

(251, 2)   ----      0.56    1.69        12.1

```



---

archive/issue_comments_130086.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nInitialisation of finite field elements is too slow, and computing *a*/*b* raises a `ZeroDivisionError` if *a* = 0...  A fix will be ready soon.",
    "created_at": "2013-06-29T09:36:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130086",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:9" align="right">comment:9</div>

Initialisation of finite field elements is too slow, and computing *a*/*b* raises a `ZeroDivisionError` if *a* = 0...  A fix will be ready soon.



---

archive/issue_events_163144.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-06-29T09:36:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163144"
}
```



---

archive/issue_events_163145.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-06-29T09:36:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163145"
}
```



---

archive/issue_comments_130087.json:
```json
{
    "body": "based on 5.11.beta3",
    "created_at": "2013-06-29T21:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130087",
    "user": "https://github.com/pjbruin"
}
```

based on 5.11.beta3



---

archive/issue_comments_130088.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAttachment: **[trac_12142-FiniteField_pari_ffelt.patch.gz](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.patch.gz)**",
    "created_at": "2013-06-29T21:21:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130088",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:10" align="right">comment:10</div>

Attachment: **[trac_12142-FiniteField_pari_ffelt.patch.gz](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.patch.gz)**



---

archive/issue_events_163146.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-06-29T21:21:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163146"
}
```



---

archive/issue_events_163147.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-06-29T21:21:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163147"
}
```



---

archive/issue_comments_130089.json:
```json
{
    "body": "more speedups in element construction; initialisation from None allowed",
    "created_at": "2013-07-02T19:42:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130089",
    "user": "https://github.com/pjbruin"
}
```

more speedups in element construction; initialisation from None allowed



---

archive/issue_comments_130090.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -45,5 +45,5 @@\n ```\n This implementation should probably become the default for finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.\n \n-Apply: [attachment: trac_12142-FiniteField_pari_ffelt.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.patch.gz), [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)\n+Apply: [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz), [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)\n \n``````\n",
    "created_at": "2013-07-02T19:44:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130090",
    "user": "https://github.com/pjbruin"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -45,5 +45,5 @@
 ```
 This implementation should probably become the default for finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.
 
-Apply: [attachment: trac_12142-FiniteField_pari_ffelt.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.patch.gz), [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)
+Apply: [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz), [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)
 
``````




---

archive/issue_comments_130091.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAttachment: **[trac_12142-FiniteField_pari_ffelt.improved.patch.gz](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz)**",
    "created_at": "2013-07-02T19:44:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130091",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:11" align="right">comment:11</div>

Attachment: **[trac_12142-FiniteField_pari_ffelt.improved.patch.gz](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz)**



---

archive/issue_comments_130092.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -38,12 +38,12 @@\n 625 loops, best of 3: 3.33 \u00b5s per loop\n ```\n \n-This ticket implements an interface to PARI's FFELT type for non-prime finite fields.  It is not the default yet, but it can be tested by constructing finite fields as follows, for *p* prime and *n* >= 2:\n+This ticket implements an interface to PARI's FFELT type for non-prime finite fields.  It can be tested by constructing finite fields as follows, for *p* prime and *n* >= 2:\n \n ```\n sage: F.<a> = FiniteField(p^n, impl='pari_ffelt')\n ```\n-This implementation should probably become the default for finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.\n+This implementation should probably become the default for non-prime finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.  This switch is the goal of ticket #14888.\n \n Apply: [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz), [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)\n \n``````\n",
    "created_at": "2013-07-13T17:50:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130092",
    "user": "https://github.com/pjbruin"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -38,12 +38,12 @@
 625 loops, best of 3: 3.33 µs per loop
 ```
 
-This ticket implements an interface to PARI's FFELT type for non-prime finite fields.  It is not the default yet, but it can be tested by constructing finite fields as follows, for *p* prime and *n* >= 2:
+This ticket implements an interface to PARI's FFELT type for non-prime finite fields.  It can be tested by constructing finite fields as follows, for *p* prime and *n* >= 2:
 
 ```
 sage: F.<a> = FiniteField(p^n, impl='pari_ffelt')
 ```
-This implementation should probably become the default for finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.
+This implementation should probably become the default for non-prime finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.  This switch is the goal of ticket #14888.
 
 Apply: [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz), [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)
 
``````




---

archive/issue_comments_130093.json:
```json
{
    "body": "Attachment: **[trac_12142-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket12142/trac_12142-reviewer.patch.gz)**\n\nReviewer patch, trivial typo.",
    "created_at": "2013-07-15T12:06:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130093",
    "user": "https://github.com/jpflori"
}
```

Attachment: **[trac_12142-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket12142/trac_12142-reviewer.patch.gz)**

Reviewer patch, trivial typo.



---

archive/issue_comments_130094.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nPatches look fine, doctests pass and there is indeed a very nice speedup.",
    "created_at": "2013-07-15T12:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130094",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:13" align="right">comment:13</div>

Patches look fine, doctests pass and there is indeed a very nice speedup.



---

archive/issue_comments_130095.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -45,5 +45,7 @@\n ```\n This implementation should probably become the default for non-prime finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.  This switch is the goal of ticket #14888.\n \n-Apply: [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz), [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)\n-\n+Apply:\n+* [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz),\n+* [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz),\n+* [attachment: trac_12142-reviewer.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-reviewer.patch.gz).\n``````\n",
    "created_at": "2013-07-15T12:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130095",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -45,5 +45,7 @@
 ```
 This implementation should probably become the default for non-prime finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.  This switch is the goal of ticket #14888.
 
-Apply: [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz), [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)
-
+Apply:
+* [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz),
+* [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz),
+* [attachment: trac_12142-reviewer.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-reviewer.patch.gz).
``````




---

archive/issue_comments_130096.json:
```json
{
    "body": "Reviewer: **Jean-Pierre Flori**",
    "created_at": "2013-07-15T12:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130096",
    "user": "https://github.com/jpflori"
}
```

Reviewer: **Jean-Pierre Flori**



---

archive/issue_events_163148.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-07-15T12:10:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163148"
}
```



---

archive/issue_events_163149.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-07-15T12:10:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163149"
}
```



---

archive/issue_comments_130097.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nFor patchbot:\n\nApply trac_12142-FiniteField_pari_ffelt.improved.patch, trac_12142-singular_conversion.patch, trac_12142-reviewer.patch",
    "created_at": "2013-07-16T11:56:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130097",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:14" align="right">comment:14</div>

For patchbot:

Apply trac_12142-FiniteField_pari_ffelt.improved.patch, trac_12142-singular_conversion.patch, trac_12142-reviewer.patch



---

archive/issue_comments_130098.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n\n```\nApply trac_12142-FiniteField_pari_ffelt.improved.patch, trac_12142-singular_conversion.patch, trac_12142-reviewer.patch \n```",
    "created_at": "2013-07-17T07:39:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130098",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:15" align="right">comment:15</div>


```
Apply trac_12142-FiniteField_pari_ffelt.improved.patch, trac_12142-singular_conversion.patch, trac_12142-reviewer.patch 
```



---

archive/issue_comments_130099.json:
```json
{
    "body": "add doctest",
    "created_at": "2013-07-17T14:10:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130099",
    "user": "https://github.com/pjbruin"
}
```

add doctest



---

archive/issue_comments_130100.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -46,6 +46,9 @@\n This implementation should probably become the default for non-prime finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.  This switch is the goal of ticket #14888.\n \n Apply:\n-* [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz),\n-* [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz),\n-* [attachment: trac_12142-reviewer.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-reviewer.patch.gz).\n+* [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz)\n+* [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)\n+* [attachment: trac_12142-reviewer.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-reviewer.patch.gz)\n+* [attachment: trac_12142-doctest.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-doctest.patch.gz)\n+* [attachment: trac_12142-remove_cinit.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-remove_cinit.patch.gz)\n+\n``````\n",
    "created_at": "2013-07-17T14:42:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130100",
    "user": "https://github.com/pjbruin"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -46,6 +46,9 @@
 This implementation should probably become the default for non-prime finite fields of characteristic > 2 and cardinality > 2<sup>16</sup>, superseding the existing PARI polmod implementation.  This switch is the goal of ticket #14888.
 
 Apply:
-* [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz),
-* [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz),
-* [attachment: trac_12142-reviewer.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-reviewer.patch.gz).
+* [attachment: trac_12142-FiniteField_pari_ffelt.improved.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-FiniteField_pari_ffelt.improved.patch.gz)
+* [attachment: trac_12142-singular_conversion.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-singular_conversion.patch.gz)
+* [attachment: trac_12142-reviewer.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-reviewer.patch.gz)
+* [attachment: trac_12142-doctest.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-doctest.patch.gz)
+* [attachment: trac_12142-remove_cinit.patch](https://github.com/sagemath/sage/files/ticket12142/trac_12142-remove_cinit.patch.gz)
+
``````




---

archive/issue_comments_130101.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAttachment: **[trac_12142-doctest.patch.gz](https://github.com/sagemath/sage/files/ticket12142/trac_12142-doctest.patch.gz)**\n\nThe next patch removes the Cython constructor `__cinit__()`, which is unnecessary since it just sets an attribute to NULL which is already guaranteed to be NULL.  Actually, it just comments it out with an explanation for future reference.  This should fix the remaining doctest failure and may give another slight speed improvement.",
    "created_at": "2013-07-17T14:42:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130101",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:16" align="right">comment:16</div>

Attachment: **[trac_12142-doctest.patch.gz](https://github.com/sagemath/sage/files/ticket12142/trac_12142-doctest.patch.gz)**

The next patch removes the Cython constructor `__cinit__()`, which is unnecessary since it just sets an attribute to NULL which is already guaranteed to be NULL.  Actually, it just comments it out with an explanation for future reference.  This should fix the remaining doctest failure and may give another slight speed improvement.



---

archive/issue_comments_130102.json:
```json
{
    "body": "Attachment: **[trac_12142-remove_cinit.patch.gz](https://github.com/sagemath/sage/files/ticket12142/trac_12142-remove_cinit.patch.gz)**",
    "created_at": "2013-07-17T14:43:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130102",
    "user": "https://github.com/pjbruin"
}
```

Attachment: **[trac_12142-remove_cinit.patch.gz](https://github.com/sagemath/sage/files/ticket12142/trac_12142-remove_cinit.patch.gz)**



---

archive/issue_events_163150.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-07-17T14:46:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163150"
}
```



---

archive/issue_events_163151.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-07-17T14:46:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163151"
}
```



---

archive/issue_events_163152.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-07-17T14:46:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163152"
}
```



---

archive/issue_events_163153.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-07-17T14:46:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163153"
}
```



---

archive/issue_events_163154.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-07-17T14:49:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163154"
}
```



---

archive/issue_events_163155.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-07-17T14:49:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163155"
}
```



---

archive/issue_comments_130103.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThis change looks ok to me, and is very well documented.\n\nI did not really pay attention to the doctests missing as you were copying from a large previous Sage file.\nMaybe we could take this opportunity to fix it as well and so increase coverage.",
    "created_at": "2013-07-17T14:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130103",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:19" align="right">comment:19</div>

This change looks ok to me, and is very well documented.

I did not really pay attention to the doctests missing as you were copying from a large previous Sage file.
Maybe we could take this opportunity to fix it as well and so increase coverage.



---

archive/issue_events_163156.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:28:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163156"
}
```



---

archive/issue_events_163157.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:28:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163157"
}
```



---

archive/issue_events_163158.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-07-21T21:28:51Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "title_is": "Speed up PARI finite field operations",
    "title_was": "Speed up Pari finite field operations",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163158"
}
```



---

archive/issue_comments_130104.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Let us perform a simple addition of finite field elements that are represented using Pari.\n+Let us perform a simple addition of finite field elements that are represented using PARI.\n \n ```\n sage: F.<a> = GF(3^11)\n``````\n",
    "created_at": "2013-07-21T21:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130104",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Let us perform a simple addition of finite field elements that are represented using Pari.
+Let us perform a simple addition of finite field elements that are represented using PARI.
 
 ```
 sage: F.<a> = GF(3^11)
``````




---

archive/issue_comments_130105.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nHaven't read the code of #12142, but does pickling work properly and has it been doctested? If not, then #14888 should be set back to needs_work.",
    "created_at": "2013-07-21T21:33:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130105",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Haven't read the code of #12142, but does pickling work properly and has it been doctested? If not, then #14888 should be set back to needs_work.



---

archive/issue_comments_130106.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nYes, it works and there are doctests.  Finite field elements are not implemented as type `gen` (as in `libs/pari/gen.pyx`), so the fact that pickling does not work for a `gen` that happens to be a `t_FFELT` does not affect this ticket.",
    "created_at": "2013-07-21T21:58:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130106",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:22" align="right">comment:22</div>

Yes, it works and there are doctests.  Finite field elements are not implemented as type `gen` (as in `libs/pari/gen.pyx`), so the fact that pickling does not work for a `gen` that happens to be a `t_FFELT` does not affect this ticket.



---

archive/issue_comments_130107.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@jpflori](#comment%3A19):\n> I did not really pay attention to the doctests missing as you were copying from a large previous Sage file.\n> Maybe we could take this opportunity to fix it as well and so increase coverage.\n\nActually the doctest coverage of all files in `sage/rings/finite_rings` is 100%, except `integer_mod.pyx`, which has a coverage of only 99/150 functions.  Apart from that, I think I saw one or two colons that should be double colons.  I don't think it is really worth the trouble to spend time on that in this ticket.",
    "created_at": "2013-07-22T14:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130107",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@jpflori](#comment%3A19):
> I did not really pay attention to the doctests missing as you were copying from a large previous Sage file.
> Maybe we could take this opportunity to fix it as well and so increase coverage.

Actually the doctest coverage of all files in `sage/rings/finite_rings` is 100%, except `integer_mod.pyx`, which has a coverage of only 99/150 functions.  Apart from that, I think I saw one or two colons that should be double colons.  I don't think it is really worth the trouble to spend time on that in this ticket.



---

archive/issue_comments_130108.json:
```json
{
    "body": "Merged: **sage-5.12.beta3**",
    "created_at": "2013-08-20T12:55:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12142#issuecomment-130108",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.12.beta3**



---

archive/issue_events_163159.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-20T12:55:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163159"
}
```



---

archive/issue_events_163160.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-20T12:55:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12142",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12142#event-163160"
}
```
