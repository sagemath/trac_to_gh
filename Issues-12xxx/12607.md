# Issue 12607: ChainComplex reports zero homology groups (depending on ChomP)

archive/issues_012435.json:
```json
{
    "body": "As reported on https://groups.google.com/d/msg/sage-release/gW9IsTBrVII/eGL-ih824vAJ, whether or not ChomP is installed changes the output of `ChainComplex.homology` by trivial pieces:\n\n```\nsage -t -long -force_lib \"devel/sage-main/sage/geometry/fan.py\" \n********************************************************************** \nFile \"/64bitdev/storage/sage/sage-5.0.beta6/devel/sage-main/sage/ \ngeometry/fan.py\", line 2779: \n    sage: fan.complex().homology() \nExpected: \n    {0: 0, 1: 0, 2: Z x Z, 3: 0} \nGot: \n    {2: Z x Z, 3: 0} \n********************************************************************** \nFile \"/64bitdev/storage/sage/sage-5.0.beta6/devel/sage-main/sage/ \ngeometry/fan.py\", line 2783: \n    sage: fan.complex().homology() \nExpected: \n    {0: 0, 1: 0, 2: Z, 3: 0} \nGot: \n    {2: Z, 3: 0} \n```\nThe fact that zero-dimensional cohomology groups are reported above and below the non-trivial range is already somewhat annoying, so I propose to fix this by changing the `homology` method to chop off these irrelevant zeroes. This would then have the additional benefit of the representation no longer depending on whether or not ChomP is installed. So the output for the homology of the 2-sphere should be \n\n```\n{0: Z, 1: 0, 2: Z} \n```\n\nAssignee: @jhpalmieri\n\nCC:  @jhpalmieri @kini @NathanDunfield\n\nKeywords: chomp\n\nBranch/Commit: 9febd321d52405bee2ad201cba99edc504b737bb\n\nReviewer: John Palmieri\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/12607\n\n",
    "closed_at": "2015-07-31T17:52:29Z",
    "created_at": "2012-02-29T05:12:05Z",
    "labels": [
        "component: algebraic topology",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "ChainComplex reports zero homology groups (depending on ChomP)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12607",
    "user": "https://github.com/vbraun"
}
```
As reported on https://groups.google.com/d/msg/sage-release/gW9IsTBrVII/eGL-ih824vAJ, whether or not ChomP is installed changes the output of `ChainComplex.homology` by trivial pieces:

```
sage -t -long -force_lib "devel/sage-main/sage/geometry/fan.py" 
********************************************************************** 
File "/64bitdev/storage/sage/sage-5.0.beta6/devel/sage-main/sage/ 
geometry/fan.py", line 2779: 
    sage: fan.complex().homology() 
Expected: 
    {0: 0, 1: 0, 2: Z x Z, 3: 0} 
Got: 
    {2: Z x Z, 3: 0} 
********************************************************************** 
File "/64bitdev/storage/sage/sage-5.0.beta6/devel/sage-main/sage/ 
geometry/fan.py", line 2783: 
    sage: fan.complex().homology() 
Expected: 
    {0: 0, 1: 0, 2: Z, 3: 0} 
Got: 
    {2: Z, 3: 0} 
```
The fact that zero-dimensional cohomology groups are reported above and below the non-trivial range is already somewhat annoying, so I propose to fix this by changing the `homology` method to chop off these irrelevant zeroes. This would then have the additional benefit of the representation no longer depending on whether or not ChomP is installed. So the output for the homology of the 2-sphere should be 

```
{0: Z, 1: 0, 2: Z} 
```

Assignee: @jhpalmieri

CC:  @jhpalmieri @kini @NathanDunfield

Keywords: chomp

Branch/Commit: 9febd321d52405bee2ad201cba99edc504b737bb

Reviewer: John Palmieri

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/12607





---

archive/issue_comments_181460.json:
```json
{
    "body": "<a id='comment:1'></a>\nI'm not sure what you mean by irrelevant zeroes: if we chop off zeroes, then should the reduced homology of the 2-sphere just be `{2: Z}`? That is overly brief, I think. The answer\n\n```\n{0: 0, 1: 0, 2: Z, 3: 0}\n```\nfor the homology of the fan includes dimensions 0-3 because those are the dimensions in which the chain complex is nonzero.  I think it makes sense to include those groups, whether zero or not.\n\nI think that the CHomP interface should be fixed so that we don't have this issue: it can detect the upper and lower dimensions of the complex, and then pad with zeroes as necessary.  It might also make sense to add a flag for the homology method to only return nontrivial groups.",
    "created_at": "2012-02-29T05:50:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181460",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:1'></a>
I'm not sure what you mean by irrelevant zeroes: if we chop off zeroes, then should the reduced homology of the 2-sphere just be `{2: Z}`? That is overly brief, I think. The answer

```
{0: 0, 1: 0, 2: Z, 3: 0}
```
for the homology of the fan includes dimensions 0-3 because those are the dimensions in which the chain complex is nonzero.  I think it makes sense to include those groups, whether zero or not.

I think that the CHomP interface should be fixed so that we don't have this issue: it can detect the upper and lower dimensions of the complex, and then pad with zeroes as necessary.  It might also make sense to add a flag for the homology method to only return nontrivial groups.



---

archive/issue_events_034150.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12607#event-34150"
}
```



---

archive/issue_events_034151.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12607#event-34151"
}
```



---

archive/issue_events_034152.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12607#event-34152"
}
```



---

archive/issue_events_034153.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12607#event-34153"
}
```



---

archive/issue_events_034154.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12607#event-34154"
}
```



---

archive/issue_events_034155.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12607#event-34155"
}
```



---

archive/issue_events_034156.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12607#event-34156"
}
```



---

archive/issue_comments_181461.json:
```json
{
    "body": "Changing keywords from \"\" to \"chomp\".",
    "created_at": "2015-07-19T18:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181461",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "chomp".



---

archive/issue_comments_181462.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2015-07-19T18:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181462",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_comments_181463.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-07-19T18:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181463",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_181464.json:
```json
{
    "body": "<a id='comment:7'></a>\nsimple proposal: stuff zero in the answer of chomp, so that it fits the standard answer\n\n---\nNew commits:\n|                                                                                                                                          |                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[7e02fd3](http://git.sagemath.org/sage.git/commit/?id=7e02fd3ab1db778d4d1ffeefc26d5e65097e263c)|`trac #12607 first try by adding the missing zeroes`|",
    "created_at": "2015-07-19T18:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181464",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
simple proposal: stuff zero in the answer of chomp, so that it fits the standard answer

---
New commits:
|                                                                                                                                          |                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[7e02fd3](http://git.sagemath.org/sage.git/commit/?id=7e02fd3ab1db778d4d1ffeefc26d5e65097e263c)|`trac #12607 first try by adding the missing zeroes`|



---

archive/issue_comments_181465.json:
```json
{
    "body": "Changing commit from \"\" to \"7e02fd3ab1db778d4d1ffeefc26d5e65097e263c\"",
    "created_at": "2015-07-19T18:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181465",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "7e02fd3ab1db778d4d1ffeefc26d5e65097e263c"



---

archive/issue_comments_181466.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/12607\"",
    "created_at": "2015-07-19T18:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181466",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/12607"



---

archive/issue_events_034157.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-19T18:34:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12607#event-34157"
}
```



---

archive/issue_events_034158.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-19T18:34:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12607#event-34158"
}
```



---

archive/issue_comments_181467.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[0646662](http://git.sagemath.org/sage.git/commit/?id=0646662551fb74d4234a5fc9e136d7b1c9744aaa)|`trac #12607 correct a typo in verbose call`|",
    "created_at": "2015-07-20T11:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181467",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[0646662](http://git.sagemath.org/sage.git/commit/?id=0646662551fb74d4234a5fc9e136d7b1c9744aaa)|`trac #12607 correct a typo in verbose call`|



---

archive/issue_comments_181468.json:
```json
{
    "body": "Changing commit from \"7e02fd3ab1db778d4d1ffeefc26d5e65097e263c\" to \"0646662551fb74d4234a5fc9e136d7b1c9744aaa\"",
    "created_at": "2015-07-20T11:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181468",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7e02fd3ab1db778d4d1ffeefc26d5e65097e263c" to "0646662551fb74d4234a5fc9e136d7b1c9744aaa"



---

archive/issue_comments_181469.json:
```json
{
    "body": "Changing commit from \"0646662551fb74d4234a5fc9e136d7b1c9744aaa\" to \"f78f493d923b1950cfae0f52936637934c339482\"",
    "created_at": "2015-07-20T12:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181469",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0646662551fb74d4234a5fc9e136d7b1c9744aaa" to "f78f493d923b1950cfae0f52936637934c339482"



---

archive/issue_comments_181470.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[f78f493](http://git.sagemath.org/sage.git/commit/?id=f78f493d923b1950cfae0f52936637934c339482)|`trac #12607 two unused things in chain_complex`|",
    "created_at": "2015-07-20T12:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181470",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[f78f493](http://git.sagemath.org/sage.git/commit/?id=f78f493d923b1950cfae0f52936637934c339482)|`trac #12607 two unused things in chain_complex`|



---

archive/issue_comments_181471.json:
```json
{
    "body": "Changing commit from \"f78f493d923b1950cfae0f52936637934c339482\" to \"5b75dfe33aa8ed5c723492ac6761422332da9560\"",
    "created_at": "2015-07-20T12:33:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181471",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f78f493d923b1950cfae0f52936637934c339482" to "5b75dfe33aa8ed5c723492ac6761422332da9560"



---

archive/issue_comments_181472.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|\n|[5b75dfe](http://git.sagemath.org/sage.git/commit/?id=5b75dfe33aa8ed5c723492ac6761422332da9560)|`trac #12607 handling the ChomP errors and fixing the doctests`|",
    "created_at": "2015-07-20T12:33:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181472",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
|[5b75dfe](http://git.sagemath.org/sage.git/commit/?id=5b75dfe33aa8ed5c723492ac6761422332da9560)|`trac #12607 handling the ChomP errors and fixing the doctests`|



---

archive/issue_events_034159.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-29T09:48:50Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12607#event-34159"
}
```



---

archive/issue_events_034160.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-07-29T09:48:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12607#event-34160"
}
```



---

archive/issue_comments_181473.json:
```json
{
    "body": "<a id='comment:13'></a>\nIf I install CHomP, I get one doctest failure:\n\n```\nsage -t --long --warn-long 51.8 src/sage/homology/delta_complex.py\n**********************************************************************\nFile \"src/sage/homology/delta_complex.py\", line 605, in sage.homology.delta_complex.DeltaComplex.chain_complex\nFailed example:\n    T.homology(subcomplex=T)\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.homology.delta_complex.DeltaComplex.chain_complex[8]>\", line 1, in <module>\n        T.homology(subcomplex=T)\n      File \"/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/homology/cell_complex.py\", line 541, in homology\n        answer = C.homology(**kwds)\n      File \"/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/misc/decorators.py\", line 705, in wrapper\n        return func(*args, **kwds)\n      File \"/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/homology/chain_complex.py\", line 1213, in homology\n        return self._homology_chomp(deg, base_ring, verbose, generators)\n      File \"/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/homology/chain_complex.py\", line 1054, in _homology_chomp\n        generators=generators)\n      File \"/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/interfaces/chomp.py\", line 590, in homchain\n        return CHomP()('homchain', complex, **kwds)\n      File \"/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/interfaces/chomp.py\", line 263, in __call__\n        raise RuntimeError('error inside CHomP')\n    RuntimeError: error inside CHomP\n**********************************************************************\n1 item had failures:\n   1 of  13 in sage.homology.delta_complex.DeltaComplex.chain_complex\n    [145 tests, 1 failure, 1.31 s]\n```\nIf I then run tests with `--optional=sage,chomp`, I get a few more errors:\n\n```\nsage -t --long --warn-long 51.8 src/sage/homology/tests.py\n**********************************************************************\nFile \"src/sage/homology/tests.py\", line 10, in sage.homology.tests\nFailed example:\n    test_random_chain_complex(trials=20)  # optional - CHomP\nExpected nothing\nGot:\n    Random testing has revealed a problem in test_random_chain_complex\n    Please report this bug!  You may be the first\n    person in the world to have seen this problem.\n    Please include this random seed in your bug report:\n    Random seed: 159304674290093254409624536430227373862\n    RuntimeError('error inside CHomP',)\n**********************************************************************\nFile \"src/sage/homology/tests.py\", line 11, in sage.homology.tests\nFailed example:\n    test_random_chain_complex(level=2, trials=20)  # optional - CHomP\nExpected nothing\nGot:\n    Random testing has revealed a problem in test_random_chain_complex\n    Please report this bug!  You may be the first\n    person in the world to have seen this problem.\n    Please include this random seed in your bug report:\n    Random seed: 130448957777511520486902617862493201212\n    RuntimeError('error inside CHomP',)\n**********************************************************************\nFile \"src/sage/homology/tests.py\", line 12, in sage.homology.tests\nFailed example:\n    test_random_chain_complex(level=3, trials=20)  # long time # optional - CHomP\nExpected nothing\nGot:\n    Random testing has revealed a problem in test_random_chain_complex\n    Please report this bug!  You may be the first\n    person in the world to have seen this problem.\n    Please include this random seed in your bug report:\n    Random seed: 337572972161276702442755420588198438138\n    RuntimeError('error inside CHomP',)\n**********************************************************************\nFile \"src/sage/homology/tests.py\", line 72, in sage.homology.tests.test_random_chain_complex\nFailed example:\n    test_random_chain_complex(trials=2)  # optional - CHomP\nExpected nothing\nGot:\n    Random testing has revealed a problem in test_random_chain_complex\n    Please report this bug!  You may be the first\n    person in the world to have seen this problem.\n    Please include this random seed in your bug report:\n    Random seed: 190504759948336957776305453124739057674\n    RuntimeError('error inside CHomP',)\n**********************************************************************\n2 items had failures:\n   3 of   9 in sage.homology.tests\n   1 of   3 in sage.homology.tests.test_random_chain_complex\n    [20 tests, 4 failures, 2.40 s]\n```\nWe need to fix the failures in `delta_complex.py`. It would be nice to fix the ones in `tests.py`, but that could be done on another ticket. (This is on OS X, for what that's worth.)",
    "created_at": "2015-07-29T17:48:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181473",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:13'></a>
If I install CHomP, I get one doctest failure:

```
sage -t --long --warn-long 51.8 src/sage/homology/delta_complex.py
**********************************************************************
File "src/sage/homology/delta_complex.py", line 605, in sage.homology.delta_complex.DeltaComplex.chain_complex
Failed example:
    T.homology(subcomplex=T)
Exception raised:
    Traceback (most recent call last):
      File "/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.homology.delta_complex.DeltaComplex.chain_complex[8]>", line 1, in <module>
        T.homology(subcomplex=T)
      File "/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/homology/cell_complex.py", line 541, in homology
        answer = C.homology(**kwds)
      File "/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/misc/decorators.py", line 705, in wrapper
        return func(*args, **kwds)
      File "/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/homology/chain_complex.py", line 1213, in homology
        return self._homology_chomp(deg, base_ring, verbose, generators)
      File "/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/homology/chain_complex.py", line 1054, in _homology_chomp
        generators=generators)
      File "/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/interfaces/chomp.py", line 590, in homchain
        return CHomP()('homchain', complex, **kwds)
      File "/Users/palmieri/Desktop/Sage_stuff/sage_builds/CHOMP/sage-6.8/local/lib/python2.7/site-packages/sage/interfaces/chomp.py", line 263, in __call__
        raise RuntimeError('error inside CHomP')
    RuntimeError: error inside CHomP
**********************************************************************
1 item had failures:
   1 of  13 in sage.homology.delta_complex.DeltaComplex.chain_complex
    [145 tests, 1 failure, 1.31 s]
```
If I then run tests with `--optional=sage,chomp`, I get a few more errors:

```
sage -t --long --warn-long 51.8 src/sage/homology/tests.py
**********************************************************************
File "src/sage/homology/tests.py", line 10, in sage.homology.tests
Failed example:
    test_random_chain_complex(trials=20)  # optional - CHomP
Expected nothing
Got:
    Random testing has revealed a problem in test_random_chain_complex
    Please report this bug!  You may be the first
    person in the world to have seen this problem.
    Please include this random seed in your bug report:
    Random seed: 159304674290093254409624536430227373862
    RuntimeError('error inside CHomP',)
**********************************************************************
File "src/sage/homology/tests.py", line 11, in sage.homology.tests
Failed example:
    test_random_chain_complex(level=2, trials=20)  # optional - CHomP
Expected nothing
Got:
    Random testing has revealed a problem in test_random_chain_complex
    Please report this bug!  You may be the first
    person in the world to have seen this problem.
    Please include this random seed in your bug report:
    Random seed: 130448957777511520486902617862493201212
    RuntimeError('error inside CHomP',)
**********************************************************************
File "src/sage/homology/tests.py", line 12, in sage.homology.tests
Failed example:
    test_random_chain_complex(level=3, trials=20)  # long time # optional - CHomP
Expected nothing
Got:
    Random testing has revealed a problem in test_random_chain_complex
    Please report this bug!  You may be the first
    person in the world to have seen this problem.
    Please include this random seed in your bug report:
    Random seed: 337572972161276702442755420588198438138
    RuntimeError('error inside CHomP',)
**********************************************************************
File "src/sage/homology/tests.py", line 72, in sage.homology.tests.test_random_chain_complex
Failed example:
    test_random_chain_complex(trials=2)  # optional - CHomP
Expected nothing
Got:
    Random testing has revealed a problem in test_random_chain_complex
    Please report this bug!  You may be the first
    person in the world to have seen this problem.
    Please include this random seed in your bug report:
    Random seed: 190504759948336957776305453124739057674
    RuntimeError('error inside CHomP',)
**********************************************************************
2 items had failures:
   3 of   9 in sage.homology.tests
   1 of   3 in sage.homology.tests.test_random_chain_complex
    [20 tests, 4 failures, 2.40 s]
```
We need to fix the failures in `delta_complex.py`. It would be nice to fix the ones in `tests.py`, but that could be done on another ticket. (This is on OS X, for what that's worth.)



---

archive/issue_comments_181474.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-07-29T17:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181474",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_181475.json:
```json
{
    "body": "Changing commit from \"5b75dfe33aa8ed5c723492ac6761422332da9560\" to \"9febd321d52405bee2ad201cba99edc504b737bb\"",
    "created_at": "2015-07-30T07:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181475",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5b75dfe33aa8ed5c723492ac6761422332da9560" to "9febd321d52405bee2ad201cba99edc504b737bb"



---

archive/issue_comments_181476.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[c6524f8](http://git.sagemath.org/sage.git/commit/?id=c6524f8b9bfa3a9659db7d2b452b5bd3933f128e)|`Merge branch 'u/chapoton/12607' into 6.9.b0`|\n|[9febd32](http://git.sagemath.org/sage.git/commit/?id=9febd321d52405bee2ad201cba99edc504b737bb)|`trac #12607 one temporary fix in delta_complex`|",
    "created_at": "2015-07-30T07:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181476",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[c6524f8](http://git.sagemath.org/sage.git/commit/?id=c6524f8b9bfa3a9659db7d2b452b5bd3933f128e)|`Merge branch 'u/chapoton/12607' into 6.9.b0`|
|[9febd32](http://git.sagemath.org/sage.git/commit/?id=9febd321d52405bee2ad201cba99edc504b737bb)|`trac #12607 one temporary fix in delta_complex`|



---

archive/issue_comments_181477.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-07-30T18:42:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181477",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_181478.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri\"",
    "created_at": "2015-07-30T18:42:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181478",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "" to "John Palmieri"



---

archive/issue_comments_181479.json:
```json
{
    "body": "<a id='comment:17'></a>\nLooks good, thank you.",
    "created_at": "2015-07-30T18:43:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181479",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:17'></a>
Looks good, thank you.



---

archive/issue_events_034161.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-31T17:52:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12607#event-34161"
}
```



---

archive/issue_comments_181480.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-07-31T17:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181480",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_181481.json:
```json
{
    "body": "Changing branch from \"u/chapoton/12607\" to \"9febd321d52405bee2ad201cba99edc504b737bb\"",
    "created_at": "2015-07-31T17:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12607#issuecomment-181481",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/12607" to "9febd321d52405bee2ad201cba99edc504b737bb"
