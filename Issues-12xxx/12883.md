# Issue 12883: Update LinBox to most recent upstream release

archive/issues_012711.json:
```json
{
    "body": "The version of LinBox used in Sage is **4 years** old, we should update.\n\n1. **Observe:** Dependencies\n2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n3. **Install:** [http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg)\n4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n5. **Apply:** [attachment:sage-linbox.2.patch]\n6. **Apply:** [attachment:trac_12883_linbox_deps.patch] and [attachment:trac_12883-spkg-install.patch] to\u00a0`SAGE_ROOT`\u00a0repository\n7. **Apply:** [attachment:trac_12883_hg_ignore_fflas_config.patch] to the scripts (`SAGE_LOCAL/bin`) repository.\n\nSPKG Repositories:\n\n1. https://bitbucket.org/malb/fflas-ffpack-spkg\n2. https://bitbucket.org/malb/linbox-spkg\n\nNote for release manager: This ticket must be merged simultaneously with #13164, they depend on each other.\n\nAssignee: @ClementPernet\n\nCC:  jpflori\n\nUpstream: Fixed upstream, but not in a stable release.\n\nReviewer: Volker Braun, Jeroen Demeyer\n\nAuthor: Paulo C\u00e9sar Pereira de Andrade, Martin Albrecht\n\nMerged: sage-5.4.beta1\n\nDependencies: #13118, #12840, #12841, #13164\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/12883\n\n",
    "closed_at": "2012-09-10T15:10:13Z",
    "created_at": "2012-04-26T15:17:11Z",
    "labels": [
        "component: linbox"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.4",
    "title": "Update LinBox to most recent upstream release",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12883",
    "user": "https://trac.sagemath.org/admin/accounts/users/pcpa"
}
```
The version of LinBox used in Sage is **4 years** old, we should update.

1. **Observe:** Dependencies
2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
3. **Install:** [http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg)
4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
5. **Apply:** [attachment:sage-linbox.2.patch]
6. **Apply:** [attachment:trac_12883_linbox_deps.patch] and [attachment:trac_12883-spkg-install.patch] to `SAGE_ROOT` repository
7. **Apply:** [attachment:trac_12883_hg_ignore_fflas_config.patch] to the scripts (`SAGE_LOCAL/bin`) repository.

SPKG Repositories:

1. https://bitbucket.org/malb/fflas-ffpack-spkg
2. https://bitbucket.org/malb/linbox-spkg

Note for release manager: This ticket must be merged simultaneously with #13164, they depend on each other.

Assignee: @ClementPernet

CC:  jpflori

Upstream: Fixed upstream, but not in a stable release.

Reviewer: Volker Braun, Jeroen Demeyer

Author: Paulo César Pereira de Andrade, Martin Albrecht

Merged: sage-5.4.beta1

Dependencies: #13118, #12840, #12841, #13164

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/12883





---

archive/issue_comments_193824.json:
```json
{
    "body": "<a id='comment:1'></a>\nWhat's the title supposed to tell us (if you get build errors with that version)?\n\nFor GCC 4.7.x / C++11 issues see #12762; for (problems with) updating LinBox see #11718.  (I think I've read about complications when trying to upgrade to 1.2.2 elsewhere as well.)  See #12865 for yet another issue, which is still present in 1.2.2.",
    "created_at": "2012-04-26T16:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193824",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:1'></a>
What's the title supposed to tell us (if you get build errors with that version)?

For GCC 4.7.x / C++11 issues see #12762; for (problems with) updating LinBox see #11718.  (I think I've read about complications when trying to upgrade to 1.2.2 elsewhere as well.)  See #12865 for yet another issue, which is still present in 1.2.2.



---

archive/issue_comments_193825.json:
```json
{
    "body": "<a id='comment:2'></a>\nSorry for lack of a better description. I am trying to address and submit reports to involved upstream parties about some patches and version issues of some components, while checking how far I can go building sagemath in Fedora, and using Fedora packages.\n\nFor example, the first error:\n\n```\nerror: 'linbox_modn_dense_echelonize' was not declared in this scope\n```\nin `/usr/include/linbox/linbox-sage.h` I see only\n\n```\nEXTERN unsigned long int linbox_modn_dense_echelonize_double (double modulus, double*matrix, size_t nrows, size_t ncols);\n\nEXTERN unsigned long int linbox_modn_dense_echelonize_float (float modulus, float * matrix,size_t nrows, size_t ncols);\n```\n\nSame happens for `linbox_modn_dense_delete_array` that now have prototypes for `linbox_modn_dense_delete_array_double` and `linbox_modn_dense_delete_array_float`.\n\nAlso `linbox_integer_dense_matrix_matrix_multiply` changed prototype from\n\n```\n/* ans must be a pre-allocated and pre-initialized array of GMP ints. */\nEXTERN int linbox_integer_dense_matrix_matrix_multiply(mpz_t** ans, mpz_t **A, mpz_t **B,\n\t\t\t      size_t A_nr, size_t A_nc, size_t B_nr, size_t B_nc);\n```\n\nin the sagemath linbox-1.1.6 spkg, to\n\n```\n/* ans must be a pre-allocated and pre-initialized array of GMP ints. */\nint linbox_integer_dense_matrix_matrix_multiply (mpz_t** ans, mpz_t **A, mpz_t **B, size_t m, size_t n, size_t k);\n```\n\nin linbox-1.2.2.\n\nI am trying to have upstream aware of these issues, and if not possible to get components working, I can try to get an extra linbox 1.1.6 package in Fedora.",
    "created_at": "2012-04-26T18:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193825",
    "user": "https://trac.sagemath.org/admin/accounts/users/pcpa"
}
```

<a id='comment:2'></a>
Sorry for lack of a better description. I am trying to address and submit reports to involved upstream parties about some patches and version issues of some components, while checking how far I can go building sagemath in Fedora, and using Fedora packages.

For example, the first error:

```
error: 'linbox_modn_dense_echelonize' was not declared in this scope
```
in `/usr/include/linbox/linbox-sage.h` I see only

```
EXTERN unsigned long int linbox_modn_dense_echelonize_double (double modulus, double*matrix, size_t nrows, size_t ncols);

EXTERN unsigned long int linbox_modn_dense_echelonize_float (float modulus, float * matrix,size_t nrows, size_t ncols);
```

Same happens for `linbox_modn_dense_delete_array` that now have prototypes for `linbox_modn_dense_delete_array_double` and `linbox_modn_dense_delete_array_float`.

Also `linbox_integer_dense_matrix_matrix_multiply` changed prototype from

```
/* ans must be a pre-allocated and pre-initialized array of GMP ints. */
EXTERN int linbox_integer_dense_matrix_matrix_multiply(mpz_t** ans, mpz_t **A, mpz_t **B,
			      size_t A_nr, size_t A_nc, size_t B_nr, size_t B_nc);
```

in the sagemath linbox-1.1.6 spkg, to

```
/* ans must be a pre-allocated and pre-initialized array of GMP ints. */
int linbox_integer_dense_matrix_matrix_multiply (mpz_t** ans, mpz_t **A, mpz_t **B, size_t m, size_t n, size_t k);
```

in linbox-1.2.2.

I am trying to have upstream aware of these issues, and if not possible to get components working, I can try to get an extra linbox 1.1.6 package in Fedora.



---

archive/issue_comments_193826.json:
```json
{
    "body": "<a id='comment:3'></a>\nUpstream linbox 1.2.2 should need this patch\n\n```\n--- linbox-1.2.2/interfaces/sage/linbox-sage.h.orig     2012-04-26 16:25:37.500132509 -0300\n+++ linbox-1.2.2/interfaces/sage/linbox-sage.h  2012-04-26 16:26:00.705133519 -0300\n@@ -48,7 +48,9 @@\n EXTERN void linbox_modn_dense_delete_array_double (double *f);\n EXTERN void linbox_modn_dense_delete_array_float (float *f);\n \n-\n+template <class Element>\n+unsigned long int linbox_modn_dense_echelonize (Element modulus, Element* matrix,\n+                                               size_t nrows, size_t ncols);\n EXTERN unsigned long int linbox_modn_dense_echelonize_double (double modulus, double*matrix, size_t nrows, size_t ncols);\n EXTERN unsigned long int linbox_modn_dense_echelonize_float (float modulus, float * matrix,size_t nrows, size_t ncols);\n \n```\n\nBut it is not yet enough because the sage matrix interface was changed from \"jagged pointers\" to a single sequential vector.\n\nI believe I could make a patch for `sage/libs/linbox/linbox.{pxd,pyx}` but I do not feel confident about other places where sage interfaces to linbox matrices.",
    "created_at": "2012-04-26T20:20:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193826",
    "user": "https://trac.sagemath.org/admin/accounts/users/pcpa"
}
```

<a id='comment:3'></a>
Upstream linbox 1.2.2 should need this patch

```
--- linbox-1.2.2/interfaces/sage/linbox-sage.h.orig     2012-04-26 16:25:37.500132509 -0300
+++ linbox-1.2.2/interfaces/sage/linbox-sage.h  2012-04-26 16:26:00.705133519 -0300
@@ -48,7 +48,9 @@
 EXTERN void linbox_modn_dense_delete_array_double (double *f);
 EXTERN void linbox_modn_dense_delete_array_float (float *f);
 
-
+template <class Element>
+unsigned long int linbox_modn_dense_echelonize (Element modulus, Element* matrix,
+                                               size_t nrows, size_t ncols);
 EXTERN unsigned long int linbox_modn_dense_echelonize_double (double modulus, double*matrix, size_t nrows, size_t ncols);
 EXTERN unsigned long int linbox_modn_dense_echelonize_float (float modulus, float * matrix,size_t nrows, size_t ncols);
 
```

But it is not yet enough because the sage matrix interface was changed from "jagged pointers" to a single sequential vector.

I believe I could make a patch for `sage/libs/linbox/linbox.{pxd,pyx}` but I do not feel confident about other places where sage interfaces to linbox matrices.



---

archive/issue_comments_193827.json:
```json
{
    "body": "Experimental linbox 1.2.2 patch",
    "created_at": "2012-04-29T01:29:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193827",
    "user": "https://trac.sagemath.org/admin/accounts/users/pcpa"
}
```

Experimental linbox 1.2.2 patch



---

archive/issue_comments_193828.json:
```json
{
    "body": "<a id='comment:4'></a>\nAttachment [sage-4.8-linbox.patch](tarball://root/attachments/some-uuid/ticket12883/sage-4.8-linbox.patch) by pcpa created at 2012-04-29 01:36:30\n\nThe attached patches allow continuing experimenting with a new sagemath rpm.\nThe patches are only tested to know they make sagemath and linbox agree on api/abi, but no testing done.\nThere were missing prototypes/templates in linbox-sage.h as well as wrong ones.\nI am not fully confident that some place may do wrong dereferencing of matrix fields due to upstream change from a vector of rows where every row is an allocated pointer to a single memory chunk.\nAnother part I am not confident is that I did the correct logic in the change from\nA_nr, A_nc, B_nr, B_nc to test in sage code `if A_nr != B_nc: ...`, and convert the values of `m, n, k` as\n`A_nr, A_nc, B_nr`.\n\nThis is not a proposal of a final patch, but a extra call for more feedback. As this was also the first time I actually did look at linbox code, so, just patched the interfaces to make both sides agree.",
    "created_at": "2012-04-29T01:36:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193828",
    "user": "https://trac.sagemath.org/admin/accounts/users/pcpa"
}
```

<a id='comment:4'></a>
Attachment [sage-4.8-linbox.patch](tarball://root/attachments/some-uuid/ticket12883/sage-4.8-linbox.patch) by pcpa created at 2012-04-29 01:36:30

The attached patches allow continuing experimenting with a new sagemath rpm.
The patches are only tested to know they make sagemath and linbox agree on api/abi, but no testing done.
There were missing prototypes/templates in linbox-sage.h as well as wrong ones.
I am not fully confident that some place may do wrong dereferencing of matrix fields due to upstream change from a vector of rows where every row is an allocated pointer to a single memory chunk.
Another part I am not confident is that I did the correct logic in the change from
A_nr, A_nc, B_nr, B_nc to test in sage code `if A_nr != B_nc: ...`, and convert the values of `m, n, k` as
`A_nr, A_nc, B_nr`.

This is not a proposal of a final patch, but a extra call for more feedback. As this was also the first time I actually did look at linbox code, so, just patched the interfaces to make both sides agree.



---

archive/issue_comments_193829.json:
```json
{
    "body": "fflas-ffpack-64bit.patch",
    "created_at": "2012-05-05T03:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193829",
    "user": "https://trac.sagemath.org/admin/accounts/users/pcpa"
}
```

fflas-ffpack-64bit.patch



---

archive/issue_comments_193830.json:
```json
{
    "body": "Attachment [linbox-sagemath.patch](tarball://root/attachments/some-uuid/ticket12883/linbox-sagemath.patch) by pcpa created at 2012-05-05 03:23:30\n\nlinbox-sagemath.patch",
    "created_at": "2012-05-05T03:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193830",
    "user": "https://trac.sagemath.org/admin/accounts/users/pcpa"
}
```

Attachment [linbox-sagemath.patch](tarball://root/attachments/some-uuid/ticket12883/linbox-sagemath.patch) by pcpa created at 2012-05-05 03:23:30

linbox-sagemath.patch



---

archive/issue_comments_193831.json:
```json
{
    "body": "<a id='comment:5'></a>\nIs it reasonably to define mod_int to C long?\n\nIf not, safest approach should be to use uint32_t I believe, otherwise, should require coding 64 bit templates in linbox 1.2.2.\n\nThe new attached fflas-ffpack-64bit.patch is required to generate proper 64 bit code, and the updated linbox-sagemath.patch should be very close to the final format, but note that in 64 bit arch, linbox 1.2.2 with the attached patches needs also to have -D!__LINBOX_HAVE_INT64=1 in CFLAGS and CXXFLAGS.\n\nI should update the sage-4.8-linbox.patch at some point, as the initial patch I attached was only enough to get to another build failure in Fedora. But the next update should be for sage-5.0.",
    "created_at": "2012-05-05T03:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193831",
    "user": "https://trac.sagemath.org/admin/accounts/users/pcpa"
}
```

<a id='comment:5'></a>
Is it reasonably to define mod_int to C long?

If not, safest approach should be to use uint32_t I believe, otherwise, should require coding 64 bit templates in linbox 1.2.2.

The new attached fflas-ffpack-64bit.patch is required to generate proper 64 bit code, and the updated linbox-sagemath.patch should be very close to the final format, but note that in 64 bit arch, linbox 1.2.2 with the attached patches needs also to have -D!__LINBOX_HAVE_INT64=1 in CFLAGS and CXXFLAGS.

I should update the sage-4.8-linbox.patch at some point, as the initial patch I attached was only enough to get to another build failure in Fedora. But the next update should be for sage-5.0.



---

archive/issue_events_041082.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/pcpa",
    "created_at": "2012-05-05T03:31:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41082"
}
```



---

archive/issue_events_041083.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "rename": {
        "from": "Please consider updating to linbox 1.2.2",
        "to": "Update LinBox to most recent upstream release"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41083"
}
```



---

archive/issue_comments_193832.json:
```json
{
    "body": "<a id='comment:6'></a>\nI cut new SPKGs for LinBox and FFLAS/FFPACK:\n\n   http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg\n\n   http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n\nI am tracking SPKG repositories here:\n\n   https://bitbucket.org/malb/fflas-ffpack-spkg\n\n   https://bitbucket.org/malb/linbox-spkg\n\nI will go through your patches now.",
    "created_at": "2012-06-06T19:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193832",
    "user": "https://github.com/malb"
}
```

<a id='comment:6'></a>
I cut new SPKGs for LinBox and FFLAS/FFPACK:

   http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg

   http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg

I am tracking SPKG repositories here:

   https://bitbucket.org/malb/fflas-ffpack-spkg

   https://bitbucket.org/malb/linbox-spkg

I will go through your patches now.



---

archive/issue_comments_193833.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,38 +1,5 @@\n-  Reported build problems with linbox 1.2.2 to upstream a few minutes ago.\n+The version of LinBox used in Sage is **4 years** old, we should update.\n \n-  Reason is that I am experimenting with packaging sagemath in Fedora. As you should know, I have it packaged since late sagemath 3.x up to 4.8 in Mandriva, so I am attempting to repeat it in Fedora.\n-\n-  Fedora has linaro 1.2.2 (built with --enable-sage) packaged, and givaro-3.5.0 btw :-)\n-\n-  I reported the same build log at[http://groups.google.com/group/linbox-use/browse_thread/thread/713663b790d0dfe9](http://groups.google.com/group/linbox-use/browse_thread/thread/713663b790d0dfe9) but pasting it here also to hopefully give an idea of the build failure.\n-\n-```\n-gcc -pthread -fno-strict-aliasing -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/home/pcpa/rpmbuild/BUILDROOT/sagemath-4.8-0.1.x86_64/usr/share/sagemath/local/include -Ic_lib/include -I/home/pcpa/rpmbuild/BUILDROOT/sagemath-4.8-0.1.x86_64/usr/share/sagemath/devel/sage/sage/ext -I/usr/include/python2.7 -c sage/libs/linbox/linbox.cpp -o build/temp.linux-x86_64-2.7/sage/libs/linbox/linbox.o -w\n-sage/libs/linbox/linbox.cpp: In function 'int __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_echelonize(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*)':\n-sage/libs/linbox/linbox.cpp:2308:123: error: 'linbox_modn_dense_echelonize' was not declared in this scope\n-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_pf_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_4_poly(PyObject*, PyObject*)':\n-sage/libs/linbox/linbox.cpp:2480:335: error: no matching function for call to 'linbox_modn_dense_minpoly(size_t&, size_t**, size_t*, size_t&, size_t**&, int&)'\n-sage/libs/linbox/linbox.cpp:2480:335: note: candidate is:\n-/usr/include/linbox/linbox-sage.h:65:11: note: template<class Element> Element* linbox_modn_dense_minpoly(Element, Element**, size_t*, size_t, Element*)\n-sage/libs/linbox/linbox.cpp:2527:43: error: 'linbox_modn_dense_delete_array' was not declared in this scope\n-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_matrix_matrix_multiply(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*, size_t**, size_t**, size_t, size_t)':\n-sage/libs/linbox/linbox.cpp:2578:187: error: no matching function for call to 'linbox_modn_dense_matrix_matrix_multiply(size_t&, size_t**&, size_t**&, size_t**&, size_t&, size_t&, size_t&, size_t&)'\n-sage/libs/linbox/linbox.cpp:2578:187: note: candidate is:\n-/usr/include/linbox/linbox-sage.h:77:9: note: template<class Element> Element* linbox_modn_dense_matrix_matrix_multiply(Element, Element*, Element*, Element*, size_t, size_t, size_t)\n-sage/libs/linbox/linbox.cpp: In function 'long unsigned int __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_rank(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*)':\n-sage/libs/linbox/linbox.cpp:2634:117: error: 'linbox_modn_dense_rank' was not declared in this scope\n-sage/libs/linbox/linbox.cpp: In function 'size_t __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_det(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*, int)':\n-sage/libs/linbox/linbox.cpp:2697:116: error: no matching function for call to 'linbox_modn_dense_det(size_t&, size_t**&, size_t&, size_t&)'\n-sage/libs/linbox/linbox.cpp:2697:116: note: candidate is:\n-/usr/include/linbox/linbox-sage.h:59:9: note: template<class Element> Element linbox_modn_dense_det(Element, Element*, size_t, size_t)\n-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_pf_4sage_4libs_6linbox_6linbox_20Linbox_integer_dense_2_poly(PyObject*, PyObject*)':\n-sage/libs/linbox/linbox.cpp:5127:253: error: invalid initialization of non-const reference of type '__mpz_struct (*&)[1]' from an rvalue of type '__mpz_struct (**)[1]'\n-/usr/include/linbox/linbox-sage.h:108:6: error: in passing argument 1 of 'void linbox_integer_dense_minpoly(__mpz_struct (*&)[1], size_t&, size_t, __mpz_struct (**)[1])'\n-sage/libs/linbox/linbox.cpp:5139:254: error: invalid initialization of non-const reference of type '__mpz_struct (*&)[1]' from an rvalue of type '__mpz_struct (**)[1]'\n-/usr/include/linbox/linbox-sage.h:110:6: error: in passing argument 1 of 'void linbox_integer_dense_charpoly(__mpz_struct (*&)[1], size_t&, size_t, __mpz_struct (**)[1])'\n-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_f_4sage_4libs_6linbox_6linbox_20Linbox_integer_dense_matrix_matrix_multiply(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_integer_dense*, __mpz_struct (**)[1], __mpz_struct (**)[1], size_t, size_t)':\n-sage/libs/linbox/linbox.cpp:5283:173: error: too many arguments to function 'int linbox_integer_dense_matrix_matrix_multiply(__mpz_struct (**)[1], __mpz_struct (**)[1], __mpz_struct (**)[1], size_t, size_t, size_t)'\n-/usr/include/linbox/linbox-sage.h:115:5: note: declared here\n-error: command 'gcc' failed with exit status 1\n-```\n-\n+**Observe:** Dependencies\n+**Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n+**Apply:** [This is the Trac macro *attachment:sage-linbox* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:sage-linbox-macro)\n``````\n",
    "created_at": "2012-06-07T15:30:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193833",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,38 +1,5 @@
-  Reported build problems with linbox 1.2.2 to upstream a few minutes ago.
+The version of LinBox used in Sage is **4 years** old, we should update.
 
-  Reason is that I am experimenting with packaging sagemath in Fedora. As you should know, I have it packaged since late sagemath 3.x up to 4.8 in Mandriva, so I am attempting to repeat it in Fedora.
-
-  Fedora has linaro 1.2.2 (built with --enable-sage) packaged, and givaro-3.5.0 btw :-)
-
-  I reported the same build log at[http://groups.google.com/group/linbox-use/browse_thread/thread/713663b790d0dfe9](http://groups.google.com/group/linbox-use/browse_thread/thread/713663b790d0dfe9) but pasting it here also to hopefully give an idea of the build failure.
-
-```
-gcc -pthread -fno-strict-aliasing -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/home/pcpa/rpmbuild/BUILDROOT/sagemath-4.8-0.1.x86_64/usr/share/sagemath/local/include -Ic_lib/include -I/home/pcpa/rpmbuild/BUILDROOT/sagemath-4.8-0.1.x86_64/usr/share/sagemath/devel/sage/sage/ext -I/usr/include/python2.7 -c sage/libs/linbox/linbox.cpp -o build/temp.linux-x86_64-2.7/sage/libs/linbox/linbox.o -w
-sage/libs/linbox/linbox.cpp: In function 'int __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_echelonize(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*)':
-sage/libs/linbox/linbox.cpp:2308:123: error: 'linbox_modn_dense_echelonize' was not declared in this scope
-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_pf_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_4_poly(PyObject*, PyObject*)':
-sage/libs/linbox/linbox.cpp:2480:335: error: no matching function for call to 'linbox_modn_dense_minpoly(size_t&, size_t**, size_t*, size_t&, size_t**&, int&)'
-sage/libs/linbox/linbox.cpp:2480:335: note: candidate is:
-/usr/include/linbox/linbox-sage.h:65:11: note: template<class Element> Element* linbox_modn_dense_minpoly(Element, Element**, size_t*, size_t, Element*)
-sage/libs/linbox/linbox.cpp:2527:43: error: 'linbox_modn_dense_delete_array' was not declared in this scope
-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_matrix_matrix_multiply(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*, size_t**, size_t**, size_t, size_t)':
-sage/libs/linbox/linbox.cpp:2578:187: error: no matching function for call to 'linbox_modn_dense_matrix_matrix_multiply(size_t&, size_t**&, size_t**&, size_t**&, size_t&, size_t&, size_t&, size_t&)'
-sage/libs/linbox/linbox.cpp:2578:187: note: candidate is:
-/usr/include/linbox/linbox-sage.h:77:9: note: template<class Element> Element* linbox_modn_dense_matrix_matrix_multiply(Element, Element*, Element*, Element*, size_t, size_t, size_t)
-sage/libs/linbox/linbox.cpp: In function 'long unsigned int __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_rank(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*)':
-sage/libs/linbox/linbox.cpp:2634:117: error: 'linbox_modn_dense_rank' was not declared in this scope
-sage/libs/linbox/linbox.cpp: In function 'size_t __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_det(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*, int)':
-sage/libs/linbox/linbox.cpp:2697:116: error: no matching function for call to 'linbox_modn_dense_det(size_t&, size_t**&, size_t&, size_t&)'
-sage/libs/linbox/linbox.cpp:2697:116: note: candidate is:
-/usr/include/linbox/linbox-sage.h:59:9: note: template<class Element> Element linbox_modn_dense_det(Element, Element*, size_t, size_t)
-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_pf_4sage_4libs_6linbox_6linbox_20Linbox_integer_dense_2_poly(PyObject*, PyObject*)':
-sage/libs/linbox/linbox.cpp:5127:253: error: invalid initialization of non-const reference of type '__mpz_struct (*&)[1]' from an rvalue of type '__mpz_struct (**)[1]'
-/usr/include/linbox/linbox-sage.h:108:6: error: in passing argument 1 of 'void linbox_integer_dense_minpoly(__mpz_struct (*&)[1], size_t&, size_t, __mpz_struct (**)[1])'
-sage/libs/linbox/linbox.cpp:5139:254: error: invalid initialization of non-const reference of type '__mpz_struct (*&)[1]' from an rvalue of type '__mpz_struct (**)[1]'
-/usr/include/linbox/linbox-sage.h:110:6: error: in passing argument 1 of 'void linbox_integer_dense_charpoly(__mpz_struct (*&)[1], size_t&, size_t, __mpz_struct (**)[1])'
-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_f_4sage_4libs_6linbox_6linbox_20Linbox_integer_dense_matrix_matrix_multiply(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_integer_dense*, __mpz_struct (**)[1], __mpz_struct (**)[1], size_t, size_t)':
-sage/libs/linbox/linbox.cpp:5283:173: error: too many arguments to function 'int linbox_integer_dense_matrix_matrix_multiply(__mpz_struct (**)[1], __mpz_struct (**)[1], __mpz_struct (**)[1], size_t, size_t, size_t)'
-/usr/include/linbox/linbox-sage.h:115:5: note: declared here
-error: command 'gcc' failed with exit status 1
-```
-
+**Observe:** Dependencies
+**Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg
+**Apply:** [This is the Trac macro *attachment:sage-linbox* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:sage-linbox-macro)
``````




---

archive/issue_comments_193834.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n The version of LinBox used in Sage is **4 years** old, we should update.\n \n-**Observe:** Dependencies\n-**Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n-**Apply:** [This is the Trac macro *attachment:sage-linbox* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:sage-linbox-macro)\n+1. **Observe:** Dependencies\u00a0\n+2. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\u00a0\n+3. **Apply:** [attachment:sage-linbox]\n``````\n",
    "created_at": "2012-06-07T15:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193834",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 The version of LinBox used in Sage is **4 years** old, we should update.
 
-**Observe:** Dependencies
-**Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg
-**Apply:** [This is the Trac macro *attachment:sage-linbox* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:sage-linbox-macro)
+1. **Observe:** Dependencies 
+2. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg 
+3. **Apply:** [attachment:sage-linbox]
``````




---

archive/issue_comments_193835.json:
```json
{
    "body": "Dependencies: #12840, 12841, #9511",
    "created_at": "2012-06-07T15:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193835",
    "user": "https://github.com/malb"
}
```

Dependencies: #12840, 12841, #9511



---

archive/issue_comments_193836.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n The version of LinBox used in Sage is **4 years** old, we should update.\n \n-1. **Observe:** Dependencies\u00a0\n-2. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\u00a0\n-3. **Apply:** [attachment:sage-linbox]\n+1. **Observe:** Dependencies\n+2. **Install:\u00a0**http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg\n+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n+4. **Apply:** [attachment:sage-linbox]\n``````\n",
    "created_at": "2012-06-07T15:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193836",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 The version of LinBox used in Sage is **4 years** old, we should update.
 
-1. **Observe:** Dependencies 
-2. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg 
-3. **Apply:** [attachment:sage-linbox]
+1. **Observe:** Dependencies
+2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg
+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg
+4. **Apply:** [attachment:sage-linbox]
``````




---

archive/issue_comments_193837.json:
```json
{
    "body": "Author: Paulo C\u00e9sar Pereira de Andrade, Martin Albrecht",
    "created_at": "2012-06-07T15:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193837",
    "user": "https://github.com/malb"
}
```

Author: Paulo César Pereira de Andrade, Martin Albrecht



---

archive/issue_comments_193838.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n The version of LinBox used in Sage is **4 years** old, we should update.\n \n 1. **Observe:** Dependencies\n-2. **Install:\u00a0**http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg\n+2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg\n 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n-4. **Apply:** [attachment:sage-linbox]\n+4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n+5. **Apply:** [attachment:sage-linbox]\n``````\n",
    "created_at": "2012-06-07T15:43:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193838",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
 The version of LinBox used in Sage is **4 years** old, we should update.
 
 1. **Observe:** Dependencies
-2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg
+2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg
 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg
-4. **Apply:** [attachment:sage-linbox]
+4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
+5. **Apply:** [attachment:sage-linbox]
``````




---

archive/issue_comments_193839.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,4 @@\n 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg\n 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n-5. **Apply:** [attachment:sage-linbox]\n+5. **Apply:** [attachment:sage-linbox.patch]\n``````\n",
    "created_at": "2012-06-07T15:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193839",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,4 @@
 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg
 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg
 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
-5. **Apply:** [attachment:sage-linbox]
+5. **Apply:** [attachment:sage-linbox.patch]
``````




---

archive/issue_comments_193840.json:
```json
{
    "body": "Changing dependencies from \"#12840, 12841, #9511\" to \"#12840, #12841, #9511\"",
    "created_at": "2012-06-07T15:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193840",
    "user": "https://github.com/malb"
}
```

Changing dependencies from "#12840, 12841, #9511" to "#12840, #12841, #9511"



---

archive/issue_comments_193841.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n The version of LinBox used in Sage is **4 years** old, we should update.\n \n 1. **Observe:** Dependencies\n-2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg\n-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n+2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.1.spkg\n 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n 5. **Apply:** [attachment:sage-linbox.patch]\n``````\n",
    "created_at": "2012-06-07T18:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193841",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 The version of LinBox used in Sage is **4 years** old, we should update.
 
 1. **Observe:** Dependencies
-2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg
-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg
+2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.1.spkg
 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
 5. **Apply:** [attachment:sage-linbox.patch]
``````




---

archive/issue_comments_193842.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,8 @@\n 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.1.spkg\n 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n 5. **Apply:** [attachment:sage-linbox.patch]\n+\n+SPKG Repositories:\n+\n+1. https://bitbucket.org/malb/fflas-ffpack-spkg\n+2. https://bitbucket.org/malb/linbox-spkg\n``````\n",
    "created_at": "2012-06-07T18:16:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193842",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,8 @@
 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.1.spkg
 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
 5. **Apply:** [attachment:sage-linbox.patch]
+
+SPKG Repositories:
+
+1. https://bitbucket.org/malb/fflas-ffpack-spkg
+2. https://bitbucket.org/malb/linbox-spkg
``````




---

archive/issue_comments_193843.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n 1. **Observe:** Dependencies\n 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.1.spkg\n+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.pre.spkg\n 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n 5. **Apply:** [attachment:sage-linbox.patch]\n \n``````\n",
    "created_at": "2012-06-08T08:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193843",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 1. **Observe:** Dependencies
 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.1.spkg
+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.pre.spkg
 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
 5. **Apply:** [attachment:sage-linbox.patch]
 
``````




---

archive/issue_comments_193844.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n 1. **Observe:** Dependencies\n 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.pre.spkg\n+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg\n 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n 5. **Apply:** [attachment:sage-linbox.patch]\n \n``````\n",
    "created_at": "2012-06-08T09:24:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193844",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 1. **Observe:** Dependencies
 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.pre.spkg
+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg
 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
 5. **Apply:** [attachment:sage-linbox.patch]
 
``````




---

archive/issue_comments_193845.json:
```json
{
    "body": "<a id='comment:17'></a>\nAll doctests pass on geom.math and my machine with 5.0.1.",
    "created_at": "2012-06-16T22:13:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193845",
    "user": "https://github.com/malb"
}
```

<a id='comment:17'></a>
All doctests pass on geom.math and my machine with 5.0.1.



---

archive/issue_comments_193846.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-06-16T22:13:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193846",
    "user": "https://github.com/malb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_193847.json:
```json
{
    "body": "Work_Issues: Julien's SPKG patch, update for deps",
    "created_at": "2012-06-16T22:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193847",
    "user": "https://github.com/malb"
}
```

Work_Issues: Julien's SPKG patch, update for deps



---

archive/issue_comments_193848.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-06-16T22:13:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193848",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_193849.json:
```json
{
    "body": "Attachment [trac_12883_linbox_deps.patch](tarball://root/attachments/some-uuid/ticket12883/trac_12883_linbox_deps.patch) by @malb created at 2012-06-17 11:04:43",
    "created_at": "2012-06-17T11:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193849",
    "user": "https://github.com/malb"
}
```

Attachment [trac_12883_linbox_deps.patch](tarball://root/attachments/some-uuid/ticket12883/trac_12883_linbox_deps.patch) by @malb created at 2012-06-17 11:04:43



---

archive/issue_comments_193850.json:
```json
{
    "body": "<a id='comment:19'></a>\nNeeds review.",
    "created_at": "2012-06-17T11:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193850",
    "user": "https://github.com/malb"
}
```

<a id='comment:19'></a>
Needs review.



---

archive/issue_comments_193851.json:
```json
{
    "body": "Changing work_issues from \"Julien's SPKG patch, update for deps\" to \"\"",
    "created_at": "2012-06-17T11:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193851",
    "user": "https://github.com/malb"
}
```

Changing work_issues from "Julien's SPKG patch, update for deps" to ""



---

archive/issue_comments_193852.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,7 @@\n 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg\n 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n 5. **Apply:** [attachment:sage-linbox.patch]\n+6. **Apply:** [attachment:trac_12883_linbox_deps.patch] to\u00a0`SAGE_ROOT`\u00a0repository\n \n SPKG Repositories:\n \n``````\n",
    "created_at": "2012-06-17T11:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193852",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,7 @@
 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg
 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
 5. **Apply:** [attachment:sage-linbox.patch]
+6. **Apply:** [attachment:trac_12883_linbox_deps.patch] to `SAGE_ROOT` repository
 
 SPKG Repositories:
 
``````




---

archive/issue_comments_193853.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-06-17T11:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193853",
    "user": "https://github.com/malb"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_193854.json:
```json
{
    "body": "<a id='comment:20'></a>\nmatrix_modn_dense_no_linbox.patch is full of unnecessary whitespace changes that only serve to break any other patch on trac.",
    "created_at": "2012-06-17T11:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193854",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:20'></a>
matrix_modn_dense_no_linbox.patch is full of unnecessary whitespace changes that only serve to break any other patch on trac.



---

archive/issue_comments_193855.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [vbraun](#comment%3A20):\n\n> matrix_modn_dense_no_linbox.patch is full of unnecessary whitespace changes that only serve to break any other patch on trac.\n\n\nFixed",
    "created_at": "2012-06-17T12:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193855",
    "user": "https://github.com/malb"
}
```

<a id='comment:21'></a>
Replying to [vbraun](#comment%3A20):

> matrix_modn_dense_no_linbox.patch is full of unnecessary whitespace changes that only serve to break any other patch on trac.


Fixed



---

archive/issue_comments_193856.json:
```json
{
    "body": "Attachment [matrix_modn_dense_no_linbox.patch](tarball://root/attachments/some-uuid/ticket12883/matrix_modn_dense_no_linbox.patch) by @malb created at 2012-06-18 09:03:08\n\nfixed indentation error introduced in last update",
    "created_at": "2012-06-18T09:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193856",
    "user": "https://github.com/malb"
}
```

Attachment [matrix_modn_dense_no_linbox.patch](tarball://root/attachments/some-uuid/ticket12883/matrix_modn_dense_no_linbox.patch) by @malb created at 2012-06-18 09:03:08

fixed indentation error introduced in last update



---

archive/issue_comments_193857.json:
```json
{
    "body": "<a id='comment:22'></a>\nWhat for/where is `matrix_modn_dense` used now? I see its commented out in `matrix_space.py`.\n\nMinor nitpick: missing space in `coefficients ofminpoly as a Python list`.",
    "created_at": "2012-06-18T15:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193857",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>
What for/where is `matrix_modn_dense` used now? I see its commented out in `matrix_space.py`.

Minor nitpick: missing space in `coefficients ofminpoly as a Python list`.



---

archive/issue_comments_193858.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [vbraun](#comment%3A22):\n> What for/where is `matrix_modn_dense` used now? I see its commented out in `matrix_space.py`.\n\n\nCurrently, none. But William is resurrecting it at #4968. I assume [attachment: matrix_modn_dense_no_linbox.patch] and #4968 will conflict. But I suggest to deal with this when the problem arises and when we know in which order they'll be merged.\n\n> Minor nitpick: missing space in `coefficients ofminpoly as a Python list`.\n\n\nI'll fix that.",
    "created_at": "2012-06-18T15:50:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193858",
    "user": "https://github.com/malb"
}
```

<a id='comment:23'></a>
Replying to [vbraun](#comment%3A22):
> What for/where is `matrix_modn_dense` used now? I see its commented out in `matrix_space.py`.


Currently, none. But William is resurrecting it at #4968. I assume [attachment: matrix_modn_dense_no_linbox.patch] and #4968 will conflict. But I suggest to deal with this when the problem arises and when we know in which order they'll be merged.

> Minor nitpick: missing space in `coefficients ofminpoly as a Python list`.


I'll fix that.



---

archive/issue_comments_193859.json:
```json
{
    "body": "Attachment [sage-linbox.patch](tarball://root/attachments/some-uuid/ticket12883/sage-linbox.patch) by @malb created at 2012-06-18 15:53:52",
    "created_at": "2012-06-18T15:53:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193859",
    "user": "https://github.com/malb"
}
```

Attachment [sage-linbox.patch](tarball://root/attachments/some-uuid/ticket12883/sage-linbox.patch) by @malb created at 2012-06-18 15:53:52



---

archive/issue_comments_193860.json:
```json
{
    "body": "<a id='comment:24'></a>\nFixed.",
    "created_at": "2012-06-18T15:54:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193860",
    "user": "https://github.com/malb"
}
```

<a id='comment:24'></a>
Fixed.



---

archive/issue_comments_193861.json:
```json
{
    "body": "<a id='comment:25'></a>\nI believe it is not necessary anymore to add -DDISABLE_COMMENTATOR to CPPFLAGS. IT is added automatically in the right places when you configure with the sage interface.",
    "created_at": "2012-06-19T03:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193861",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:25'></a>
I believe it is not necessary anymore to add -DDISABLE_COMMENTATOR to CPPFLAGS. IT is added automatically in the right places when you configure with the sage interface.



---

archive/issue_comments_193862.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [fbissey](#comment%3A25):\n> I believe it is not necessary anymore to add -DDISABLE_COMMENTATOR to CPPFLAGS. IT is added automatically in the right places when you configure with the sage interface.\n\n\nI am inclined to postpone this change to another ticket, unless you are pretty certain it isn't needed. The reason I am suggesting this is, that if we get SIGSEGVs then on some exotic platform we are not sure whether it's the 1.3.2 update or that we dropped the `-DDISABLE_COMMENTATOR`. Of course, we could just try to re-add it and see what happens, but given how slow and bureaucratic Sage development is these days, this could easily take a week to accomplish, which would be annoying. What do you think?",
    "created_at": "2012-06-20T09:24:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193862",
    "user": "https://github.com/malb"
}
```

<a id='comment:26'></a>
Replying to [fbissey](#comment%3A25):
> I believe it is not necessary anymore to add -DDISABLE_COMMENTATOR to CPPFLAGS. IT is added automatically in the right places when you configure with the sage interface.


I am inclined to postpone this change to another ticket, unless you are pretty certain it isn't needed. The reason I am suggesting this is, that if we get SIGSEGVs then on some exotic platform we are not sure whether it's the 1.3.2 update or that we dropped the `-DDISABLE_COMMENTATOR`. Of course, we could just try to re-add it and see what happens, but given how slow and bureaucratic Sage development is these days, this could easily take a week to accomplish, which would be annoying. What do you think?



---

archive/issue_comments_193863.json:
```json
{
    "body": "<a id='comment:27'></a>\nKeeping it is \"mostly harmless\". I just noticed when I created the ebuild for sage-on-gentoo that even so I hadn't added it to the CPPFLAGS it was used in the compilation. Adding it to the CPPFLAGS made it appear twice in those places. \n\nI would have to test with the whole set of new packages and patches to be absolutely certain of course. That could take a few days. And of course that would be on a non-exotic platform first. Make me think I need to put a 5.1beta on power7 to cover my exotic corner.",
    "created_at": "2012-06-20T09:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193863",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:27'></a>
Keeping it is "mostly harmless". I just noticed when I created the ebuild for sage-on-gentoo that even so I hadn't added it to the CPPFLAGS it was used in the compilation. Adding it to the CPPFLAGS made it appear twice in those places. 

I would have to test with the whole set of new packages and patches to be absolutely certain of course. That could take a few days. And of course that would be on a non-exotic platform first. Make me think I need to put a 5.1beta on power7 to cover my exotic corner.



---

archive/issue_comments_193864.json:
```json
{
    "body": "Reviewer: Volker Braun",
    "created_at": "2012-06-25T21:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193864",
    "user": "https://github.com/vbraun"
}
```

Reviewer: Volker Braun



---

archive/issue_events_041084.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-25T21:04:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41084"
}
```



---

archive/issue_events_041085.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-25T21:04:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "milestone": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41085"
}
```



---

archive/issue_comments_193865.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-06-25T21:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193865",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_193866.json:
```json
{
    "body": "<a id='comment:28'></a>\nLooks good to me!",
    "created_at": "2012-06-25T21:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193866",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'></a>
Looks good to me!



---

archive/issue_comments_193867.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,3 +11,5 @@\n \n 1. https://bitbucket.org/malb/fflas-ffpack-spkg\n 2. https://bitbucket.org/malb/linbox-spkg\n+\n+Note for release manager: This ticket must be merged simultaneously with #9511, they depend on each other.\n``````\n",
    "created_at": "2012-06-25T21:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193867",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,3 +11,5 @@
 
 1. https://bitbucket.org/malb/fflas-ffpack-spkg
 2. https://bitbucket.org/malb/linbox-spkg
+
+Note for release manager: This ticket must be merged simultaneously with #9511, they depend on each other.
``````




---

archive/issue_events_041086.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-26T06:43:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "milestone": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41086"
}
```



---

archive/issue_events_041087.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-26T06:43:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "milestone": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41087"
}
```



---

archive/issue_comments_193868.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-06-28T14:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193868",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_193869.json:
```json
{
    "body": "<a id='comment:30'></a>\nIn `SPKG.txt` of `fflas_ffpack-1.6.0.spkg`, replace\n\n```\n### fflas-ffpack-1.6.0 (Martin Albrecht, 7 June 2012)\n```\nby\n\n```\n### fflas_ffpack-1.6.0 (Martin Albrecht, 7 June 2012)\n```",
    "created_at": "2012-06-28T14:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193869",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:30'></a>
In `SPKG.txt` of `fflas_ffpack-1.6.0.spkg`, replace

```
### fflas-ffpack-1.6.0 (Martin Albrecht, 7 June 2012)
```
by

```
### fflas_ffpack-1.6.0 (Martin Albrecht, 7 June 2012)
```



---

archive/issue_events_041088.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-01T18:54:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "milestone": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41088"
}
```



---

archive/issue_events_041089.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-01T18:54:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41089"
}
```



---

archive/issue_comments_193870.json:
```json
{
    "body": "<a id='comment:32'></a>\nJust curious -- does this fix #12865?  (Won't try myself.)",
    "created_at": "2012-07-03T11:31:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193870",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:32'></a>
Just curious -- does this fix #12865?  (Won't try myself.)



---

archive/issue_comments_193871.json:
```json
{
    "body": "<a id='comment:33'></a>\nYes, it does fix #12865.",
    "created_at": "2012-07-03T11:55:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193871",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'></a>
Yes, it does fix #12865.



---

archive/issue_comments_193872.json:
```json
{
    "body": "<a id='comment:34'></a>\nSPKG.txt issue is fixed.",
    "created_at": "2012-07-03T12:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193872",
    "user": "https://github.com/malb"
}
```

<a id='comment:34'></a>
SPKG.txt issue is fixed.



---

archive/issue_comments_193873.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-07-03T12:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193873",
    "user": "https://github.com/malb"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_193874.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-07-03T12:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193874",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_041090.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-01T12:33:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "milestone": "sage-pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41090"
}
```



---

archive/issue_events_041091.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-01T12:33:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "milestone": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41091"
}
```



---

archive/issue_comments_193875.json:
```json
{
    "body": "<a id='comment:37'></a>\nThere is a weird file `.swp` in the linbox spkg.",
    "created_at": "2012-08-01T13:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193875",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:37'></a>
There is a weird file `.swp` in the linbox spkg.



---

archive/issue_comments_193876.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-08-01T13:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193876",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_193877.json:
```json
{
    "body": "<a id='comment:39'></a>\nI've reuploaded the package without that mysterious file (which is not in spkg repo as I've checked) at\nhttp://perso.telecom-paristech.fr/~flori/sage/linbox-1.3.2.spkg\n\nNo other changes to the spkg.\nSo someone should put this back to positive review (after checking I did not break everything).\n\nEdit: Swapped 2 and 3...",
    "created_at": "2012-08-09T15:28:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193877",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:39'></a>
I've reuploaded the package without that mysterious file (which is not in spkg repo as I've checked) at
http://perso.telecom-paristech.fr/~flori/sage/linbox-1.3.2.spkg

No other changes to the spkg.
So someone should put this back to positive review (after checking I did not break everything).

Edit: Swapped 2 and 3...



---

archive/issue_comments_193878.json:
```json
{
    "body": "Attachment [trac_12883_hg_ignore_fflas_config.patch](tarball://root/attachments/some-uuid/ticket12883/trac_12883_hg_ignore_fflas_config.patch) by @vbraun created at 2012-08-12 14:44:57\n\nInitial patch",
    "created_at": "2012-08-12T14:44:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193878",
    "user": "https://github.com/vbraun"
}
```

Attachment [trac_12883_hg_ignore_fflas_config.patch](tarball://root/attachments/some-uuid/ticket12883/trac_12883_hg_ignore_fflas_config.patch) by @vbraun created at 2012-08-12 14:44:57

Initial patch



---

archive/issue_comments_193879.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-08-12T14:47:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193879",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_193880.json:
```json
{
    "body": "<a id='comment:40'></a>\nThe new fflas spkg installs a new script in `SAGE_LOCAL/bin`, which needs to be added to `.hgignore`. I've included a trivial patch to that extent.\n\nRest looks good.",
    "created_at": "2012-08-12T14:47:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193880",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:40'></a>
The new fflas spkg installs a new script in `SAGE_LOCAL/bin`, which needs to be added to `.hgignore`. I've included a trivial patch to that extent.

Rest looks good.



---

archive/issue_comments_193881.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,7 @@\n 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n 5. **Apply:** [attachment:sage-linbox.patch]\n 6. **Apply:** [attachment:trac_12883_linbox_deps.patch] to\u00a0`SAGE_ROOT`\u00a0repository\n+7. **Apply:** [attachment:trac_12883_hg_ignore_fflas_config.patch] to the scripts (`SAGE_LOCAL/bin`) repository.\n \n SPKG Repositories:\n \n``````\n",
    "created_at": "2012-08-12T14:47:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193881",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,7 @@
 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
 5. **Apply:** [attachment:sage-linbox.patch]
 6. **Apply:** [attachment:trac_12883_linbox_deps.patch] to `SAGE_ROOT` repository
+7. **Apply:** [attachment:trac_12883_hg_ignore_fflas_config.patch] to the scripts (`SAGE_LOCAL/bin`) repository.
 
 SPKG Repositories:
 
``````




---

archive/issue_comments_193882.json:
```json
{
    "body": "Rebased patch",
    "created_at": "2012-08-14T02:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193882",
    "user": "https://github.com/vbraun"
}
```

Rebased patch



---

archive/issue_comments_193883.json:
```json
{
    "body": "<a id='comment:41'></a>\nAttachment [sage-linbox.2.patch](tarball://root/attachments/some-uuid/ticket12883/sage-linbox.2.patch) by @vbraun created at 2012-08-14 02:35:04\n\nRebased patch for sage-5.3.beta1. Just a trivial rebase in module_list.py.",
    "created_at": "2012-08-14T02:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193883",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:41'></a>
Attachment [sage-linbox.2.patch](tarball://root/attachments/some-uuid/ticket12883/sage-linbox.2.patch) by @vbraun created at 2012-08-14 02:35:04

Rebased patch for sage-5.3.beta1. Just a trivial rebase in module_list.py.



---

archive/issue_comments_193884.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg\n 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n-5. **Apply:** [attachment:sage-linbox.patch]\n+5. **Apply:** [attachment:sage-linbox.2.patch]\n 6. **Apply:** [attachment:trac_12883_linbox_deps.patch] to\u00a0`SAGE_ROOT`\u00a0repository\n 7. **Apply:** [attachment:trac_12883_hg_ignore_fflas_config.patch] to the scripts (`SAGE_LOCAL/bin`) repository.\n \n``````\n",
    "created_at": "2012-08-14T02:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193884",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg
 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
-5. **Apply:** [attachment:sage-linbox.patch]
+5. **Apply:** [attachment:sage-linbox.2.patch]
 6. **Apply:** [attachment:trac_12883_linbox_deps.patch] to `SAGE_ROOT` repository
 7. **Apply:** [attachment:trac_12883_hg_ignore_fflas_config.patch] to the scripts (`SAGE_LOCAL/bin`) repository.
 
``````




---

archive/issue_comments_193885.json:
```json
{
    "body": "<a id='comment:42'></a>\nShould the root repo patch also touch `spkg/install`, adding a line for fflas, like this?\n\n```diff\ndiff --git a/spkg/install b/spkg/install\n--- a/spkg/install\n+++ b/spkg/install\n@@ -296,6 +296,7 @@ ECLIB=`newest_version eclib`\n ECM=`newest_version ecm`\n ELLIPTIC_CURVES=`newest_version elliptic_curves`\n EXTCODE=`newest_version extcode`\n+FFLASFFPACK=`newest_version fflas_ffpack`\n FLINT=`newest_version flint`\n FLINTQS=`newest_version flintqs`\n FPLLL=`newest_version libfplll`\n```\nOr is this not needed for some reason?",
    "created_at": "2012-08-14T03:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193885",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:42'></a>
Should the root repo patch also touch `spkg/install`, adding a line for fflas, like this?

```diff
diff --git a/spkg/install b/spkg/install
--- a/spkg/install
+++ b/spkg/install
@@ -296,6 +296,7 @@ ECLIB=`newest_version eclib`
 ECM=`newest_version ecm`
 ELLIPTIC_CURVES=`newest_version elliptic_curves`
 EXTCODE=`newest_version extcode`
+FFLASFFPACK=`newest_version fflas_ffpack`
 FLINT=`newest_version flint`
 FLINTQS=`newest_version flintqs`
 FPLLL=`newest_version libfplll`
```
Or is this not needed for some reason?



---

archive/issue_comments_193886.json:
```json
{
    "body": "<a id='comment:43'></a>\nYes, I'm pretty sure thats required. Are you going to post a patch?",
    "created_at": "2012-08-14T04:01:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193886",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:43'></a>
Yes, I'm pretty sure thats required. Are you going to post a patch?



---

archive/issue_comments_193887.json:
```json
{
    "body": "Attachment [trac_12883-spkg-install.patch](tarball://root/attachments/some-uuid/ticket12883/trac_12883-spkg-install.patch) by @jhpalmieri created at 2012-08-14 04:07:43",
    "created_at": "2012-08-14T04:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193887",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_12883-spkg-install.patch](tarball://root/attachments/some-uuid/ticket12883/trac_12883-spkg-install.patch) by @jhpalmieri created at 2012-08-14 04:07:43



---

archive/issue_comments_193888.json:
```json
{
    "body": "<a id='comment:44'></a>\nSure, here's a patch. Do I need to switch it back to \"needs review\"?",
    "created_at": "2012-08-14T04:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193888",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:44'></a>
Sure, here's a patch. Do I need to switch it back to "needs review"?



---

archive/issue_comments_193889.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,7 +5,7 @@\n 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg\n 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n 5. **Apply:** [attachment:sage-linbox.2.patch]\n-6. **Apply:** [attachment:trac_12883_linbox_deps.patch] to\u00a0`SAGE_ROOT`\u00a0repository\n+6. **Apply:** [attachment:trac_12883_linbox_deps.patch] and [attachment:trac_12883-spkg-install.patch] to\u00a0`SAGE_ROOT`\u00a0repository\n 7. **Apply:** [attachment:trac_12883_hg_ignore_fflas_config.patch] to the scripts (`SAGE_LOCAL/bin`) repository.\n \n SPKG Repositories:\n``````\n",
    "created_at": "2012-08-14T04:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193889",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,7 +5,7 @@
 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg
 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
 5. **Apply:** [attachment:sage-linbox.2.patch]
-6. **Apply:** [attachment:trac_12883_linbox_deps.patch] to `SAGE_ROOT` repository
+6. **Apply:** [attachment:trac_12883_linbox_deps.patch] and [attachment:trac_12883-spkg-install.patch] to `SAGE_ROOT` repository
 7. **Apply:** [attachment:trac_12883_hg_ignore_fflas_config.patch] to the scripts (`SAGE_LOCAL/bin`) repository.
 
 SPKG Repositories:
``````




---

archive/issue_comments_193890.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-08-14T06:07:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193890",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_193891.json:
```json
{
    "body": "Changing reviewer from \"Volker Braun\" to \"Volker Braun, Jeroen Demeyer\"",
    "created_at": "2012-08-14T06:07:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193891",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "Volker Braun" to "Volker Braun, Jeroen Demeyer"



---

archive/issue_comments_193892.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-08-14T06:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193892",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_193893.json:
```json
{
    "body": "<a id='comment:47'></a>\nWhy the change to the iml dependencies?",
    "created_at": "2012-08-14T06:35:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193893",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:47'></a>
Why the change to the iml dependencies?



---

archive/issue_comments_193894.json:
```json
{
    "body": "<a id='comment:48'></a>\nThe linbox spkg *still* contains the garbage I mentioned before:\n\n```\n? .swp\n```",
    "created_at": "2012-08-14T06:52:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193894",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:48'></a>
The linbox spkg *still* contains the garbage I mentioned before:

```
? .swp
```



---

archive/issue_comments_193895.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-08-14T06:52:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193895",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_193896.json:
```json
{
    "body": "<a id='comment:49'></a>\nFixed. I guess vim poops into cwd when segfaulting (.swp was vim swap file), never heard of /tmp?!?",
    "created_at": "2012-08-14T13:20:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193896",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:49'></a>
Fixed. I guess vim poops into cwd when segfaulting (.swp was vim swap file), never heard of /tmp?!?



---

archive/issue_comments_193897.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n 1. **Observe:** Dependencies\n 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg\n+3. **Install:** http://www.stp.dias.ie/~vbraun/Sage/spkg/linbox-1.3.2.spkg\n 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n 5. **Apply:** [attachment:sage-linbox.2.patch]\n 6. **Apply:** [attachment:trac_12883_linbox_deps.patch] and [attachment:trac_12883-spkg-install.patch] to\u00a0`SAGE_ROOT`\u00a0repository\n``````\n",
    "created_at": "2012-08-14T13:20:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193897",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 1. **Observe:** Dependencies
 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg
+3. **Install:** http://www.stp.dias.ie/~vbraun/Sage/spkg/linbox-1.3.2.spkg
 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
 5. **Apply:** [attachment:sage-linbox.2.patch]
 6. **Apply:** [attachment:trac_12883_linbox_deps.patch] and [attachment:trac_12883-spkg-install.patch] to `SAGE_ROOT` repository
``````




---

archive/issue_comments_193898.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-08-14T13:20:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193898",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_193899.json:
```json
{
    "body": "<a id='comment:50'></a>\nPS: The iml testsuite does link against ATLAS, even though libiml doesn't depend on it.",
    "created_at": "2012-08-14T13:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193899",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:50'></a>
PS: The iml testsuite does link against ATLAS, even though libiml doesn't depend on it.



---

archive/issue_comments_193900.json:
```json
{
    "body": "<a id='comment:51'></a>\nFor what it's worth, building from scratch with these patches works (all long tests passed) on sage.math and on my OS X Lion box.",
    "created_at": "2012-08-14T19:25:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193900",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:51'></a>
For what it's worth, building from scratch with these patches works (all long tests passed) on sage.math and on my OS X Lion box.



---

archive/issue_comments_193901.json:
```json
{
    "body": "<a id='comment:52'></a>\nThe LinBox spkg needs to be rebased to linbox-1.1.6.p11 (see #13118).",
    "created_at": "2012-08-15T10:02:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193901",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:52'></a>
The LinBox spkg needs to be rebased to linbox-1.1.6.p11 (see #13118).



---

archive/issue_comments_193902.json:
```json
{
    "body": "Changing dependencies from \"#12840, #12841, #9511\" to \"#13118, #12840, #12841, #9511,\"",
    "created_at": "2012-08-15T10:02:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193902",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#12840, #12841, #9511" to "#13118, #12840, #12841, #9511,"



---

archive/issue_comments_193903.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-08-15T10:02:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193903",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_193904.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [jdemeyer](#comment%3A52):\n> The LinBox spkg needs to be rebased to linbox-1.1.6.p11 (see #13118).\n\n\nand also see #12762. By the way, the file SPKG.txt also has two duplicate entries in the change log for version 1.1.6.p8.",
    "created_at": "2012-08-15T20:53:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193904",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:53'></a>
Replying to [jdemeyer](#comment%3A52):
> The LinBox spkg needs to be rebased to linbox-1.1.6.p11 (see #13118).


and also see #12762. By the way, the file SPKG.txt also has two duplicate entries in the change log for version 1.1.6.p8.



---

archive/issue_comments_193905.json:
```json
{
    "body": "<a id='comment:54'></a>\nI've added the changelog entries of linbox-1.1.6p9 - 11 to the SPKG.txt and removed the duplicate. None of those changes are needed any more since upstream has long fixed the issues that gcc 4.7 uncovered and Martin cleaned up the `spkg-install`.\n\nI've also re-added the `spkg-check` as `disabled-spkg-check` and deleted the Makefile.am.patch. Right now the testsuite will not compile without commentator. Would be nice to have the testsuite but not on this ticket.\n\nLikewise, it would be nice if the Sage developers could first search trac if there is already a new spkg before opening a ticket.\n\nSince really only the description changed I'll set this ticket back to positive review.",
    "created_at": "2012-08-15T23:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193905",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:54'></a>
I've added the changelog entries of linbox-1.1.6p9 - 11 to the SPKG.txt and removed the duplicate. None of those changes are needed any more since upstream has long fixed the issues that gcc 4.7 uncovered and Martin cleaned up the `spkg-install`.

I've also re-added the `spkg-check` as `disabled-spkg-check` and deleted the Makefile.am.patch. Right now the testsuite will not compile without commentator. Would be nice to have the testsuite but not on this ticket.

Likewise, it would be nice if the Sage developers could first search trac if there is already a new spkg before opening a ticket.

Since really only the description changed I'll set this ticket back to positive review.



---

archive/issue_comments_193906.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-08-15T23:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193906",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_193907.json:
```json
{
    "body": "Changing upstream from \"None of the above - read trac for reasoning.\" to \"Reported upstream. No feedback yet.\"",
    "created_at": "2012-08-15T23:26:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193907",
    "user": "https://github.com/vbraun"
}
```

Changing upstream from "None of the above - read trac for reasoning." to "Reported upstream. No feedback yet."



---

archive/issue_comments_193908.json:
```json
{
    "body": "<a id='comment:56'></a>\nFor the record, I've noted the testsuite issues on the linbox mailinglist at https://groups.google.com/d/topic/linbox-use/z0AlEH8Iyug/discussion",
    "created_at": "2012-08-15T23:26:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193908",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:56'></a>
For the record, I've noted the testsuite issues on the linbox mailinglist at https://groups.google.com/d/topic/linbox-use/z0AlEH8Iyug/discussion



---

archive/issue_comments_193909.json:
```json
{
    "body": "<a id='comment:57'></a>\nTestsuite issues are fixed in svn version 4370.",
    "created_at": "2012-08-16T04:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193909",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:57'></a>
Testsuite issues are fixed in svn version 4370.



---

archive/issue_comments_193910.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. No feedback yet.\" to \"Fixed upstream, but not in a stable release.\"",
    "created_at": "2012-08-16T04:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193910",
    "user": "https://github.com/vbraun"
}
```

Changing upstream from "Reported upstream. No feedback yet." to "Fixed upstream, but not in a stable release."



---

archive/issue_comments_193911.json:
```json
{
    "body": "<a id='comment:58'></a>\nIs it intentional that the `--with-gmp`, `--with-givaro` and `--with-ntl` and `--with-blas` configure options were removed?\n\nSecondly, by \"rebasing\" this way, you've lost the `.hgtags` (and probably the whole `hg` history) for some earlier versions.  Not sure whether that's important, but it's something to be pointed out.",
    "created_at": "2012-08-16T06:44:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193911",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:58'></a>
Is it intentional that the `--with-gmp`, `--with-givaro` and `--with-ntl` and `--with-blas` configure options were removed?

Secondly, by "rebasing" this way, you've lost the `.hgtags` (and probably the whole `hg` history) for some earlier versions.  Not sure whether that's important, but it's something to be pointed out.



---

archive/issue_comments_193912.json:
```json
{
    "body": "<a id='comment:59'></a>\nAlso, the .p11 spkg has error messages to stderr, please don't revert this.",
    "created_at": "2012-08-16T06:52:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193912",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:59'></a>
Also, the .p11 spkg has error messages to stderr, please don't revert this.



---

archive/issue_comments_193913.json:
```json
{
    "body": "<a id='comment:61'></a>\nI think this really needs to be rebased properly.  You've reverted some good changes from the .p9--p11 versions.  Also, try to keep the Mercurial history.",
    "created_at": "2012-08-16T13:22:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193913",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:61'></a>
I think this really needs to be rebased properly.  You've reverted some good changes from the .p9--p11 versions.  Also, try to keep the Mercurial history.



---

archive/issue_comments_193914.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-08-16T13:22:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193914",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_193915.json:
```json
{
    "body": "<a id='comment:62'></a>\nAlso, there isn't any documentation of the fact and the reason of renaming `spkg-check` to `disabled-spkg-check`.",
    "created_at": "2012-08-16T13:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193915",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:62'></a>
Also, there isn't any documentation of the fact and the reason of renaming `spkg-check` to `disabled-spkg-check`.



---

archive/issue_comments_193916.json:
```json
{
    "body": "<a id='comment:63'></a>\nI've wasted my coffee break in preserving the mercurial history of the bikeshedding that went into linbox-1.1.6p(N+1) despite the fact that it is all being ripped out. Hopefully future generations of archaeologists will appreciate the effort.\n\nI've also mentioned in the SPKG.txt that spgk-check is disabled in case anybody can't figure it out from the filename.\n\nNow that spkg-install sets `--with-default` we don't need `--with-foo` for every foo.\n\nNow errors go to stderr again.",
    "created_at": "2012-08-16T15:44:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193916",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:63'></a>
I've wasted my coffee break in preserving the mercurial history of the bikeshedding that went into linbox-1.1.6p(N+1) despite the fact that it is all being ripped out. Hopefully future generations of archaeologists will appreciate the effort.

I've also mentioned in the SPKG.txt that spgk-check is disabled in case anybody can't figure it out from the filename.

Now that spkg-install sets `--with-default` we don't need `--with-foo` for every foo.

Now errors go to stderr again.



---

archive/issue_comments_193917.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-08-16T15:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193917",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_193918.json:
```json
{
    "body": "Changing dependencies from \"#13118, #12840, #12841, #9511,\" to \"#13118, #12840, #12841, #9511\"",
    "created_at": "2012-08-17T09:32:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193918",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#13118, #12840, #12841, #9511," to "#13118, #12840, #12841, #9511"



---

archive/issue_events_041092.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-17T09:32:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "milestone": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41092"
}
```



---

archive/issue_events_041093.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-17T09:32:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "milestone": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41093"
}
```



---

archive/issue_comments_193919.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-08-17T10:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193919",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_193920.json:
```json
{
    "body": "<a id='comment:66'></a>\nThis change is still a regression:\n\n```diff\n-if [ \"$SAGE64\" = yes ]; then\n-    echo \"Building a 64-bit version of LinBox.\"\n-    if [ -z \"$CFLAG64\" ]; then\n-        CFLAG64=-m64\n-    fi\n-    CFLAGS=\"$CFLAGS $CFLAG64\"\n-    CXXFLAGS=\"$CXXFLAGS $CFLAG64\"\n-    CPPFLAGS=\"$CPPFLAGS $CFLAG64\"\n-    LDFLAGS=\"$LDFLAGS $CFLAG64\"\n+if [ \"$SAGE64\" = \"yes\" ]; then\n+   echo \"64 bit build\"\n+   CFLAGS=\"-m64 $CFLAGS \"; export CFLAGS\n+   CXXFLAGS=\"-m64 $CXXFLAGS \"; export CXXFLAGS\n+   CPPFLAGS=\"-m64 $CPPFLAGS \"; export CPPFLAGS\n+   LDFLAGS=\"-m64 $LDFLAGS\"; export LDFLAGS\n fi\n```",
    "created_at": "2012-08-17T10:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193920",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:66'></a>
This change is still a regression:

```diff
-if [ "$SAGE64" = yes ]; then
-    echo "Building a 64-bit version of LinBox."
-    if [ -z "$CFLAG64" ]; then
-        CFLAG64=-m64
-    fi
-    CFLAGS="$CFLAGS $CFLAG64"
-    CXXFLAGS="$CXXFLAGS $CFLAG64"
-    CPPFLAGS="$CPPFLAGS $CFLAG64"
-    LDFLAGS="$LDFLAGS $CFLAG64"
+if [ "$SAGE64" = "yes" ]; then
+   echo "64 bit build"
+   CFLAGS="-m64 $CFLAGS "; export CFLAGS
+   CXXFLAGS="-m64 $CXXFLAGS "; export CXXFLAGS
+   CPPFLAGS="-m64 $CPPFLAGS "; export CPPFLAGS
+   LDFLAGS="-m64 $LDFLAGS"; export LDFLAGS
 fi
```



---

archive/issue_comments_193921.json:
```json
{
    "body": "<a id='comment:67'></a>\nAlso this:\n\n```diff\n-if [ -z \"$SAGE_LOCAL\" ]; then\n-    echo >&2 \"Error: SAGE_LOCAL undefined - exiting...\"\n-    echo >&2 \"Maybe run 'sage -sh'?\"\n-    exit 1\n+if [ \"$SAGE_LOCAL\" = \"\" ]; then\n+   echo \"SAGE_LOCAL undefined ... exiting\";\n+   echo \"Maybe run 'sage -sh'?\"\n+   exit 1\n fi\n```",
    "created_at": "2012-08-17T10:11:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193921",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:67'></a>
Also this:

```diff
-if [ -z "$SAGE_LOCAL" ]; then
-    echo >&2 "Error: SAGE_LOCAL undefined - exiting..."
-    echo >&2 "Maybe run 'sage -sh'?"
-    exit 1
+if [ "$SAGE_LOCAL" = "" ]; then
+   echo "SAGE_LOCAL undefined ... exiting";
+   echo "Maybe run 'sage -sh'?"
+   exit 1
 fi
```



---

archive/issue_comments_193922.json:
```json
{
    "body": "Attachment [linbox.diff](tarball://root/attachments/some-uuid/ticket12883/linbox.diff) by @vbraun created at 2012-08-17 12:31:24\n\nFYI only",
    "created_at": "2012-08-17T12:31:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193922",
    "user": "https://github.com/vbraun"
}
```

Attachment [linbox.diff](tarball://root/attachments/some-uuid/ticket12883/linbox.diff) by @vbraun created at 2012-08-17 12:31:24

FYI only



---

archive/issue_comments_193923.json:
```json
{
    "body": "<a id='comment:68'></a>\nI did notice the removal of the undocumented and nonstandard `CFLAG64` environment variable and I consider that a definite plus of the new `spkg-install`.\n\nThe new spkg re-adds the stderr redirection in the `SAGE_LOCAL` check.",
    "created_at": "2012-08-17T12:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193923",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:68'></a>
I did notice the removal of the undocumented and nonstandard `CFLAG64` environment variable and I consider that a definite plus of the new `spkg-install`.

The new spkg re-adds the stderr redirection in the `SAGE_LOCAL` check.



---

archive/issue_comments_193924.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-08-17T12:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193924",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_193925.json:
```json
{
    "body": "<a id='comment:69'></a>\nIt would be nice to add an hg tag for the new release.",
    "created_at": "2012-08-20T20:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193925",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:69'></a>
It would be nice to add an hg tag for the new release.



---

archive/issue_comments_193926.json:
```json
{
    "body": "<a id='comment:70'></a>\nI've added the tag. Of course this'll never be done consistently as long as `sage -pkg` doesn't check that the spkg name matches the tag.",
    "created_at": "2012-08-20T20:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193926",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:70'></a>
I've added the tag. Of course this'll never be done consistently as long as `sage -pkg` doesn't check that the spkg name matches the tag.



---

archive/issue_comments_193927.json:
```json
{
    "body": "<a id='comment:71'></a>\nReplying to [jpflori](#comment%3A69):\n> It would be nice to add an hg tag for the new release.\n\nThis is also done automatically by the merger script when the spkg is merged into Sage.",
    "created_at": "2012-08-21T08:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193927",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:71'></a>
Replying to [jpflori](#comment%3A69):
> It would be nice to add an hg tag for the new release.

This is also done automatically by the merger script when the spkg is merged into Sage.



---

archive/issue_comments_193928.json:
```json
{
    "body": "<a id='comment:72'></a>\nGood to know.\nWas it mentionned anywhere in the developper guide or did I miss it or did I not read it again recently enough?\n\nAdditionnal question, what about committing changes or putting them in a queue or not committing anything and letting some script do it?\nIs there a prefered method to do it?",
    "created_at": "2012-08-21T09:12:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193928",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:72'></a>
Good to know.
Was it mentionned anywhere in the developper guide or did I miss it or did I not read it again recently enough?

Additionnal question, what about committing changes or putting them in a queue or not committing anything and letting some script do it?
Is there a prefered method to do it?



---

archive/issue_comments_193929.json:
```json
{
    "body": "<a id='comment:73'></a>\nCommitting changes is always required.\n\nNote: with the latest Mercurial, you can use\n\n```\nhg commit --amend\n```\nto add changes to the latest commit.  So you can effectively emulate a queue with 1 patch like this.",
    "created_at": "2012-08-21T09:17:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193929",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:73'></a>
Committing changes is always required.

Note: with the latest Mercurial, you can use

```
hg commit --amend
```
to add changes to the latest commit.  So you can effectively emulate a queue with 1 patch like this.



---

archive/issue_comments_193930.json:
```json
{
    "body": "<a id='comment:74'></a>\nThis is totally off-topic, but versioning systems are most useful if you commit often. Two logically independent changes should be two commits, even if they end up in the same ticket/spkg. Reviewer nitpicks should be another commit. Any other questions on how to use mercurial should go to sage-devel.",
    "created_at": "2012-08-21T15:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193930",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:74'></a>
This is totally off-topic, but versioning systems are most useful if you commit often. Two logically independent changes should be two commits, even if they end up in the same ticket/spkg. Reviewer nitpicks should be another commit. Any other questions on how to use mercurial should go to sage-devel.



---

archive/issue_comments_193931.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-08-22T10:11:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193931",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_193932.json:
```json
{
    "body": "<a id='comment:75'></a>\nReplying to [vbraun](#comment%3A68):\n> I did notice the removal of the undocumented and nonstandard `CFLAG64` environment variable and I consider that a definite plus of the new `spkg-install`.\n\n\nLooks documented to me: [http://sagemath.org/doc/installation/source.html#environment-variables](http://sagemath.org/doc/installation/source.html#environment-variables)\n\n(I do agree that we should get rid of `CFLAG64` and `SAGE64` in place of using `CC` and `CFLAGS` properly, but that's not the point of this ticket)",
    "created_at": "2012-08-22T10:11:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193932",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:75'></a>
Replying to [vbraun](#comment%3A68):
> I did notice the removal of the undocumented and nonstandard `CFLAG64` environment variable and I consider that a definite plus of the new `spkg-install`.


Looks documented to me: [http://sagemath.org/doc/installation/source.html#environment-variables](http://sagemath.org/doc/installation/source.html#environment-variables)

(I do agree that we should get rid of `CFLAG64` and `SAGE64` in place of using `CC` and `CFLAGS` properly, but that's not the point of this ticket)



---

archive/issue_comments_193933.json:
```json
{
    "body": "<a id='comment:76'></a>\nSomething else I noted: why was the exit code for a failed patch changed from `1` to `-1`?  Normally, programs should use exit codes in the range 0-127.",
    "created_at": "2012-08-22T10:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193933",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:76'></a>
Something else I noted: why was the exit code for a failed patch changed from `1` to `-1`?  Normally, programs should use exit codes in the range 0-127.



---

archive/issue_comments_193934.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-08-24T13:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193934",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_193935.json:
```json
{
    "body": "<a id='comment:77'></a>\nOh silly me, I only searched the ``developer guide`` for `CFLAG64`! I also like how the installation guide is dancing around the fact that `CFLAG64` is currently useless since it is not used in all spgks, so if you were to use a compiler that doesn't understand its default `-m64` value breakage will ensue. So I'll concede that it is documented, but it still doesn't sound like a good idea to me.\n\nI've fixed the offending exit code to be `+1`.",
    "created_at": "2012-08-24T13:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193935",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:77'></a>
Oh silly me, I only searched the ``developer guide`` for `CFLAG64`! I also like how the installation guide is dancing around the fact that `CFLAG64` is currently useless since it is not used in all spgks, so if you were to use a compiler that doesn't understand its default `-m64` value breakage will ensue. So I'll concede that it is documented, but it still doesn't sound like a good idea to me.

I've fixed the offending exit code to be `+1`.



---

archive/issue_comments_193936.json:
```json
{
    "body": "<a id='comment:78'></a>\nShould the references to #9511 be changed to #13164 (in the dependencies and the ticket description?",
    "created_at": "2012-08-24T15:25:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193936",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:78'></a>
Should the references to #9511 be changed to #13164 (in the dependencies and the ticket description?



---

archive/issue_comments_193937.json:
```json
{
    "body": "Changing dependencies from \"#13118, #12840, #12841, #9511\" to \"#13118, #12840, #12841, #13164\"",
    "created_at": "2012-08-25T17:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193937",
    "user": "https://github.com/vbraun"
}
```

Changing dependencies from "#13118, #12840, #12841, #9511" to "#13118, #12840, #12841, #13164"



---

archive/issue_comments_193938.json:
```json
{
    "body": "<a id='comment:80'></a>\nReplying to [vbraun](#comment%3A77):\n> I also like how the installation guide is dancing around the fact that `CFLAG64` is currently useless since it is not used in all spgks, so if you were to use a compiler that doesn't understand its default `-m64` value breakage will ensue. So I'll concede that it is documented, but it still doesn't sound like a good idea to me.\n\nThis is all very true, but no good excuse for sloppy rebasing...",
    "created_at": "2012-08-27T11:40:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193938",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:80'></a>
Replying to [vbraun](#comment%3A77):
> I also like how the installation guide is dancing around the fact that `CFLAG64` is currently useless since it is not used in all spgks, so if you were to use a compiler that doesn't understand its default `-m64` value breakage will ensue. So I'll concede that it is documented, but it still doesn't sound like a good idea to me.

This is all very true, but no good excuse for sloppy rebasing...



---

archive/issue_comments_193939.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-09-05T09:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193939",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_193940.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n 1. **Observe:** Dependencies\n 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n-3. **Install:** http://www.stp.dias.ie/~vbraun/Sage/spkg/linbox-1.3.2.spkg\n+3. **Install:** [http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg)\n 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]\n 5. **Apply:** [attachment:sage-linbox.2.patch]\n 6. **Apply:** [attachment:trac_12883_linbox_deps.patch] and [attachment:trac_12883-spkg-install.patch] to\u00a0`SAGE_ROOT`\u00a0repository\n``````\n",
    "created_at": "2012-09-05T09:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193940",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 1. **Observe:** Dependencies
 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
-3. **Install:** http://www.stp.dias.ie/~vbraun/Sage/spkg/linbox-1.3.2.spkg
+3. **Install:** [http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg)
 4. **Apply:** [attachment:matrix_modn_dense_no_linbox.patch]
 5. **Apply:** [attachment:sage-linbox.2.patch]
 6. **Apply:** [attachment:trac_12883_linbox_deps.patch] and [attachment:trac_12883-spkg-install.patch] to `SAGE_ROOT` repository
``````




---

archive/issue_comments_193941.json:
```json
{
    "body": "<a id='comment:82'></a>\nRebased from scratch, needs review.",
    "created_at": "2012-09-05T09:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193941",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:82'></a>
Rebased from scratch, needs review.



---

archive/issue_comments_193942.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-09-05T09:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193942",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_193943.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,4 +13,4 @@\n 1. https://bitbucket.org/malb/fflas-ffpack-spkg\n 2. https://bitbucket.org/malb/linbox-spkg\n \n-Note for release manager: This ticket must be merged simultaneously with #9511, they depend on each other.\n+Note for release manager: This ticket must be merged simultaneously with #13164, they depend on each other.\n``````\n",
    "created_at": "2012-09-05T09:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193943",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,4 +13,4 @@
 1. https://bitbucket.org/malb/fflas-ffpack-spkg
 2. https://bitbucket.org/malb/linbox-spkg
 
-Note for release manager: This ticket must be merged simultaneously with #9511, they depend on each other.
+Note for release manager: This ticket must be merged simultaneously with #13164, they depend on each other.
``````




---

archive/issue_comments_193944.json:
```json
{
    "body": "Diff for linbox 1.1.6.p11->1.3.2. For reference / review only.",
    "created_at": "2012-09-05T09:33:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193944",
    "user": "https://github.com/jdemeyer"
}
```

Diff for linbox 1.1.6.p11->1.3.2. For reference / review only.



---

archive/issue_comments_193945.json:
```json
{
    "body": "<a id='comment:84'></a>\nAttachment [linbox-1.3.2.diff](tarball://root/attachments/some-uuid/ticket12883/linbox-1.3.2.diff) by @jdemeyer created at 2012-09-10 15:10:13",
    "created_at": "2012-09-10T15:10:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193945",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:84'></a>
Attachment [linbox-1.3.2.diff](tarball://root/attachments/some-uuid/ticket12883/linbox-1.3.2.diff) by @jdemeyer created at 2012-09-10 15:10:13



---

archive/issue_comments_193946.json:
```json
{
    "body": "Merged: sage-5.4.beta1",
    "created_at": "2012-09-10T15:10:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193946",
    "user": "https://github.com/jdemeyer"
}
```

Merged: sage-5.4.beta1



---

archive/issue_comments_193947.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-09-10T15:10:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193947",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_041094.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-09-10T15:10:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12883#event-41094"
}
```



---

archive/issue_comments_193948.json:
```json
{
    "body": "<a id='comment:85'></a>\nCould this cause the following sporadic doctest error:\n\n```\nsage -t  --long -force_lib devel/sage/sage/modular/modform/ambient.py\nyou are running out of primes. 1000 coprime primes\nfound**********************************************************************\nFile\n\"/release/buildbot/sage/sage-1/sage_upgrade_5.2/build/sage-5.5.beta0/devel/sage-main/sage/modular/modform/ambient.py\",\nline 815:\n    sage: [f[0]%p for p in prime_range(100)] # long time (0s, depends on\nabove)\nExpected:\n    [0, 0, 0, 0, 1, 9, 2, 7, 0, 0, 0, 0, 1, 12, 9, 16, 37, 0, 21, 11,\n70, 22, 0, 58, 76]\nGot:\n    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n1, 1, 1]\n**********************************************************************\nFile\n\"/release/buildbot/sage/sage-1/sage_upgrade_5.2/build/sage-5.5.beta0/devel/sage-main/sage/modular/modform/ambient.py\",\nline 817:\n    sage: [f[42]%p for p in prime_range(100)] # long time (0s, depends\non above)\nExpected:\n    [0, 0, 4, 0, 10, 4, 4, 8, 12, 1, 23, 13, 10, 27, 20, 13, 16, 59, 53,\n41, 11, 13, 12, 6, 82]\nGot:\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n0, 0, 0]\n**********************************************************************\n```\n(the string \"you are running out of primes\" certainly comes from the new LinBox package).",
    "created_at": "2012-10-08T13:11:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193948",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:85'></a>
Could this cause the following sporadic doctest error:

```
sage -t  --long -force_lib devel/sage/sage/modular/modform/ambient.py
you are running out of primes. 1000 coprime primes
found**********************************************************************
File
"/release/buildbot/sage/sage-1/sage_upgrade_5.2/build/sage-5.5.beta0/devel/sage-main/sage/modular/modform/ambient.py",
line 815:
    sage: [f[0]%p for p in prime_range(100)] # long time (0s, depends on
above)
Expected:
    [0, 0, 0, 0, 1, 9, 2, 7, 0, 0, 0, 0, 1, 12, 9, 16, 37, 0, 21, 11,
70, 22, 0, 58, 76]
Got:
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1]
**********************************************************************
File
"/release/buildbot/sage/sage-1/sage_upgrade_5.2/build/sage-5.5.beta0/devel/sage-main/sage/modular/modform/ambient.py",
line 817:
    sage: [f[42]%p for p in prime_range(100)] # long time (0s, depends
on above)
Expected:
    [0, 0, 4, 0, 10, 4, 4, 8, 12, 1, 23, 13, 10, 27, 20, 13, 16, 59, 53,
41, 11, 13, 12, 6, 82]
Got:
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0]
**********************************************************************
```
(the string "you are running out of primes" certainly comes from the new LinBox package).



---

archive/issue_comments_193949.json:
```json
{
    "body": "<a id='comment:86'></a>\nI've posted this question to the linbox-use mailinglist https://groups.google.com/d/topic/linbox-use/SgsXVYM7u7s/discussion",
    "created_at": "2012-10-08T13:22:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193949",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:86'></a>
I've posted this question to the linbox-use mailinglist https://groups.google.com/d/topic/linbox-use/SgsXVYM7u7s/discussion



---

archive/issue_comments_193950.json:
```json
{
    "body": "<a id='comment:87'></a>\nFYI: I did 4000 doctest runs and this happened 9 times, so it is quite rare.\n\nBecause of the rarity, it doesn't have to be a sage-5.4 blocker, but of course I'd like to see it fixed.",
    "created_at": "2012-10-08T21:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193950",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:87'></a>
FYI: I did 4000 doctest runs and this happened 9 times, so it is quite rare.

Because of the rarity, it doesn't have to be a sage-5.4 blocker, but of course I'd like to see it fixed.



---

archive/issue_comments_193951.json:
```json
{
    "body": "<a id='comment:88'></a>\nWith previous LinBox versions, this file sometimes (equally rarely) timeouts in doctests.  So maybe it's the same issue, but with a timeout before, and an error now.",
    "created_at": "2012-10-08T21:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193951",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:88'></a>
With previous LinBox versions, this file sometimes (equally rarely) timeouts in doctests.  So maybe it's the same issue, but with a timeout before, and an error now.



---

archive/issue_comments_193952.json:
```json
{
    "body": "<a id='comment:89'></a>\nUnfortunately, no response from upstream concerning the \"running out of primes\" error.",
    "created_at": "2012-11-02T13:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193952",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:89'></a>
Unfortunately, no response from upstream concerning the "running out of primes" error.



---

archive/issue_comments_193953.json:
```json
{
    "body": "<a id='comment:90'></a>\nEither this or #13164 caused #14032.",
    "created_at": "2013-01-29T15:38:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12883#issuecomment-193953",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:90'></a>
Either this or #13164 caused #14032.
