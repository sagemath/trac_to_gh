# Issue 12883: Update LinBox to most recent upstream release

archive/issues_012711.json:
```json
{
    "assignees": [
        "https://github.com/ClementPernet"
    ],
    "body": "The version of LinBox used in Sage is **4 years** old, we should update.\n\n1. **Observe:** Dependencies\n2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n3. **Install:** [http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg)\n4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n5. **Apply:** [attachment: sage-linbox.2.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.2.patch.gz)\n6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) and [attachment: trac_12883-spkg-install.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883-spkg-install.patch.gz) to\u00a0`SAGE_ROOT`\u00a0repository\n7. **Apply:** [attachment: trac_12883_hg_ignore_fflas_config.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_hg_ignore_fflas_config.patch.gz) to the scripts (`SAGE_LOCAL/bin`) repository.\n\nSPKG Repositories:\n\n1. https://bitbucket.org/malb/fflas-ffpack-spkg\n2. https://bitbucket.org/malb/linbox-spkg\n\nNote for release manager: This ticket must be merged simultaneously with #13164, they depend on each other.\n\nDepends on #13118\nDepends on #12840\nDepends on #12841\nDepends on #13164\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\nCC:  @jpflori\n\nComponent: **linbox**\n\nAuthor: **Paulo C\u00e9sar Pereira de Andrade, Martin Albrecht**\n\nReviewer: **Volker Braun, Jeroen Demeyer**\n\nMerged: **sage-5.4.beta1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/12883_\n\n",
    "closed_at": "2012-09-10T15:10:13Z",
    "created_at": "2012-04-26T15:17:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update LinBox to most recent upstream release",
    "type": "issue",
    "updated_at": "2013-01-29T15:38:18Z",
    "url": "https://github.com/sagemath/sage/issues/12883",
    "user": "https://github.com/sagetrac-pcpa"
}
```
The version of LinBox used in Sage is **4 years** old, we should update.

1. **Observe:** Dependencies
2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
3. **Install:** [http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg)
4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
5. **Apply:** [attachment: sage-linbox.2.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.2.patch.gz)
6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) and [attachment: trac_12883-spkg-install.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883-spkg-install.patch.gz) to `SAGE_ROOT` repository
7. **Apply:** [attachment: trac_12883_hg_ignore_fflas_config.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_hg_ignore_fflas_config.patch.gz) to the scripts (`SAGE_LOCAL/bin`) repository.

SPKG Repositories:

1. https://bitbucket.org/malb/fflas-ffpack-spkg
2. https://bitbucket.org/malb/linbox-spkg

Note for release manager: This ticket must be merged simultaneously with #13164, they depend on each other.

Depends on #13118
Depends on #12840
Depends on #12841
Depends on #13164

Upstream: **Fixed upstream, but not in a stable release.**

CC:  @jpflori

Component: **linbox**

Author: **Paulo César Pereira de Andrade, Martin Albrecht**

Reviewer: **Volker Braun, Jeroen Demeyer**

Merged: **sage-5.4.beta1**

_Issue created by migration from https://trac.sagemath.org/ticket/12883_





---

archive/issue_events_176236.json:
```json
{
    "actor": "https://github.com/sagetrac-pcpa",
    "created_at": "2012-04-26T15:17:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176236"
}
```



---

archive/issue_events_176237.json:
```json
{
    "actor": "https://github.com/sagetrac-pcpa",
    "created_at": "2012-04-26T15:17:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176237"
}
```



---

archive/issue_events_176238.json:
```json
{
    "actor": "https://github.com/sagetrac-pcpa",
    "created_at": "2012-04-26T15:17:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176238"
}
```



---

archive/issue_events_176239.json:
```json
{
    "actor": "https://github.com/sagetrac-pcpa",
    "created_at": "2012-04-26T15:17:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176239"
}
```



---

archive/issue_events_176240.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2012-04-26T15:17:11Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "subject": "https://github.com/sagetrac-pcpa",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176240"
}
```



---

archive/issue_comments_145616.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nWhat's the title supposed to tell us (if you get build errors with that version)?\n\nFor GCC 4.7.x / C++11 issues see #12762; for (problems with) updating LinBox see #11718.  (I think I've read about complications when trying to upgrade to 1.2.2 elsewhere as well.)  See #12865 for yet another issue, which is still present in 1.2.2.",
    "created_at": "2012-04-26T16:31:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145616",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:1" align="right">comment:1</div>

What's the title supposed to tell us (if you get build errors with that version)?

For GCC 4.7.x / C++11 issues see #12762; for (problems with) updating LinBox see #11718.  (I think I've read about complications when trying to upgrade to 1.2.2 elsewhere as well.)  See #12865 for yet another issue, which is still present in 1.2.2.



---

archive/issue_comments_145617.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSorry for lack of a better description. I am trying to address and submit reports to involved upstream parties about some patches and version issues of some components, while checking how far I can go building sagemath in Fedora, and using Fedora packages.\n\nFor example, the first error:\n\n```\nerror: 'linbox_modn_dense_echelonize' was not declared in this scope\n```\nin `/usr/include/linbox/linbox-sage.h` I see only\n\n```\nEXTERN unsigned long int linbox_modn_dense_echelonize_double (double modulus, double*matrix, size_t nrows, size_t ncols);\n\nEXTERN unsigned long int linbox_modn_dense_echelonize_float (float modulus, float * matrix,size_t nrows, size_t ncols);\n```\n\nSame happens for `linbox_modn_dense_delete_array` that now have prototypes for `linbox_modn_dense_delete_array_double` and `linbox_modn_dense_delete_array_float`.\n\nAlso `linbox_integer_dense_matrix_matrix_multiply` changed prototype from\n\n```\n/* ans must be a pre-allocated and pre-initialized array of GMP ints. */\nEXTERN int linbox_integer_dense_matrix_matrix_multiply(mpz_t** ans, mpz_t **A, mpz_t **B,\n\t\t\t      size_t A_nr, size_t A_nc, size_t B_nr, size_t B_nc);\n```\n\nin the sagemath linbox-1.1.6 spkg, to\n\n```\n/* ans must be a pre-allocated and pre-initialized array of GMP ints. */\nint linbox_integer_dense_matrix_matrix_multiply (mpz_t** ans, mpz_t **A, mpz_t **B, size_t m, size_t n, size_t k);\n```\n\nin linbox-1.2.2.\n\nI am trying to have upstream aware of these issues, and if not possible to get components working, I can try to get an extra linbox 1.1.6 package in Fedora.",
    "created_at": "2012-04-26T18:58:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145617",
    "user": "https://github.com/sagetrac-pcpa"
}
```

<div id="comment:2" align="right">comment:2</div>

Sorry for lack of a better description. I am trying to address and submit reports to involved upstream parties about some patches and version issues of some components, while checking how far I can go building sagemath in Fedora, and using Fedora packages.

For example, the first error:

```
error: 'linbox_modn_dense_echelonize' was not declared in this scope
```
in `/usr/include/linbox/linbox-sage.h` I see only

```
EXTERN unsigned long int linbox_modn_dense_echelonize_double (double modulus, double*matrix, size_t nrows, size_t ncols);

EXTERN unsigned long int linbox_modn_dense_echelonize_float (float modulus, float * matrix,size_t nrows, size_t ncols);
```

Same happens for `linbox_modn_dense_delete_array` that now have prototypes for `linbox_modn_dense_delete_array_double` and `linbox_modn_dense_delete_array_float`.

Also `linbox_integer_dense_matrix_matrix_multiply` changed prototype from

```
/* ans must be a pre-allocated and pre-initialized array of GMP ints. */
EXTERN int linbox_integer_dense_matrix_matrix_multiply(mpz_t** ans, mpz_t **A, mpz_t **B,
			      size_t A_nr, size_t A_nc, size_t B_nr, size_t B_nc);
```

in the sagemath linbox-1.1.6 spkg, to

```
/* ans must be a pre-allocated and pre-initialized array of GMP ints. */
int linbox_integer_dense_matrix_matrix_multiply (mpz_t** ans, mpz_t **A, mpz_t **B, size_t m, size_t n, size_t k);
```

in linbox-1.2.2.

I am trying to have upstream aware of these issues, and if not possible to get components working, I can try to get an extra linbox 1.1.6 package in Fedora.



---

archive/issue_comments_145618.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nUpstream linbox 1.2.2 should need this patch\n\n```\n--- linbox-1.2.2/interfaces/sage/linbox-sage.h.orig     2012-04-26 16:25:37.500132509 -0300\n+++ linbox-1.2.2/interfaces/sage/linbox-sage.h  2012-04-26 16:26:00.705133519 -0300\n@@ -48,7 +48,9 @@\n EXTERN void linbox_modn_dense_delete_array_double (double *f);\n EXTERN void linbox_modn_dense_delete_array_float (float *f);\n \n-\n+template <class Element>\n+unsigned long int linbox_modn_dense_echelonize (Element modulus, Element* matrix,\n+                                               size_t nrows, size_t ncols);\n EXTERN unsigned long int linbox_modn_dense_echelonize_double (double modulus, double*matrix, size_t nrows, size_t ncols);\n EXTERN unsigned long int linbox_modn_dense_echelonize_float (float modulus, float * matrix,size_t nrows, size_t ncols);\n \n```\n\nBut it is not yet enough because the sage matrix interface was changed from \"jagged pointers\" to a single sequential vector.\n\nI believe I could make a patch for `sage/libs/linbox/linbox.{pxd,pyx}` but I do not feel confident about other places where sage interfaces to linbox matrices.",
    "created_at": "2012-04-26T20:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145618",
    "user": "https://github.com/sagetrac-pcpa"
}
```

<div id="comment:3" align="right">comment:3</div>

Upstream linbox 1.2.2 should need this patch

```
--- linbox-1.2.2/interfaces/sage/linbox-sage.h.orig     2012-04-26 16:25:37.500132509 -0300
+++ linbox-1.2.2/interfaces/sage/linbox-sage.h  2012-04-26 16:26:00.705133519 -0300
@@ -48,7 +48,9 @@
 EXTERN void linbox_modn_dense_delete_array_double (double *f);
 EXTERN void linbox_modn_dense_delete_array_float (float *f);
 
-
+template <class Element>
+unsigned long int linbox_modn_dense_echelonize (Element modulus, Element* matrix,
+                                               size_t nrows, size_t ncols);
 EXTERN unsigned long int linbox_modn_dense_echelonize_double (double modulus, double*matrix, size_t nrows, size_t ncols);
 EXTERN unsigned long int linbox_modn_dense_echelonize_float (float modulus, float * matrix,size_t nrows, size_t ncols);
 
```

But it is not yet enough because the sage matrix interface was changed from "jagged pointers" to a single sequential vector.

I believe I could make a patch for `sage/libs/linbox/linbox.{pxd,pyx}` but I do not feel confident about other places where sage interfaces to linbox matrices.



---

archive/issue_comments_145619.json:
```json
{
    "body": "Experimental linbox 1.2.2 patch",
    "created_at": "2012-04-29T01:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145619",
    "user": "https://github.com/sagetrac-pcpa"
}
```

Experimental linbox 1.2.2 patch



---

archive/issue_comments_145620.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAttachment: **[sage-4.8-linbox.patch.gz](https://github.com/sagemath/sage/files/ticket12883/sage-4.8-linbox.patch.gz)**\n\nThe attached patches allow continuing experimenting with a new sagemath rpm.\nThe patches are only tested to know they make sagemath and linbox agree on api/abi, but no testing done.\nThere were missing prototypes/templates in linbox-sage.h as well as wrong ones.\nI am not fully confident that some place may do wrong dereferencing of matrix fields due to upstream change from a vector of rows where every row is an allocated pointer to a single memory chunk.\nAnother part I am not confident is that I did the correct logic in the change from\nA_nr, A_nc, B_nr, B_nc to test in sage code `if A_nr != B_nc: ...`, and convert the values of `m, n, k` as\n`A_nr, A_nc, B_nr`.\n\nThis is not a proposal of a final patch, but a extra call for more feedback. As this was also the first time I actually did look at linbox code, so, just patched the interfaces to make both sides agree.",
    "created_at": "2012-04-29T01:36:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145620",
    "user": "https://github.com/sagetrac-pcpa"
}
```

<div id="comment:4" align="right">comment:4</div>

Attachment: **[sage-4.8-linbox.patch.gz](https://github.com/sagemath/sage/files/ticket12883/sage-4.8-linbox.patch.gz)**

The attached patches allow continuing experimenting with a new sagemath rpm.
The patches are only tested to know they make sagemath and linbox agree on api/abi, but no testing done.
There were missing prototypes/templates in linbox-sage.h as well as wrong ones.
I am not fully confident that some place may do wrong dereferencing of matrix fields due to upstream change from a vector of rows where every row is an allocated pointer to a single memory chunk.
Another part I am not confident is that I did the correct logic in the change from
A_nr, A_nc, B_nr, B_nc to test in sage code `if A_nr != B_nc: ...`, and convert the values of `m, n, k` as
`A_nr, A_nc, B_nr`.

This is not a proposal of a final patch, but a extra call for more feedback. As this was also the first time I actually did look at linbox code, so, just patched the interfaces to make both sides agree.



---

archive/issue_comments_145621.json:
```json
{
    "body": "fflas-ffpack-64bit.patch",
    "created_at": "2012-05-05T03:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145621",
    "user": "https://github.com/sagetrac-pcpa"
}
```

fflas-ffpack-64bit.patch



---

archive/issue_comments_145622.json:
```json
{
    "body": "Attachment: **[fflas-ffpack-64bit.patch.gz](https://github.com/sagemath/sage/files/ticket12883/fflas-ffpack-64bit.patch.gz)**\n\nAttachment: **[linbox-sagemath.patch.gz](https://github.com/sagemath/sage/files/ticket12883/linbox-sagemath.patch.gz)**\n\nlinbox-sagemath.patch",
    "created_at": "2012-05-05T03:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145622",
    "user": "https://github.com/sagetrac-pcpa"
}
```

Attachment: **[fflas-ffpack-64bit.patch.gz](https://github.com/sagemath/sage/files/ticket12883/fflas-ffpack-64bit.patch.gz)**

Attachment: **[linbox-sagemath.patch.gz](https://github.com/sagemath/sage/files/ticket12883/linbox-sagemath.patch.gz)**

linbox-sagemath.patch



---

archive/issue_comments_145623.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIs it reasonably to define mod_int to C long?\n\nIf not, safest approach should be to use uint32_t I believe, otherwise, should require coding 64 bit templates in linbox 1.2.2.\n\nThe new attached fflas-ffpack-64bit.patch is required to generate proper 64 bit code, and the updated linbox-sagemath.patch should be very close to the final format, but note that in 64 bit arch, linbox 1.2.2 with the attached patches needs also to have -D!__LINBOX_HAVE_INT64=1 in CFLAGS and CXXFLAGS.\n\nI should update the sage-4.8-linbox.patch at some point, as the initial patch I attached was only enough to get to another build failure in Fedora. But the next update should be for sage-5.0.",
    "created_at": "2012-05-05T03:31:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145623",
    "user": "https://github.com/sagetrac-pcpa"
}
```

<div id="comment:5" align="right">comment:5</div>

Is it reasonably to define mod_int to C long?

If not, safest approach should be to use uint32_t I believe, otherwise, should require coding 64 bit templates in linbox 1.2.2.

The new attached fflas-ffpack-64bit.patch is required to generate proper 64 bit code, and the updated linbox-sagemath.patch should be very close to the final format, but note that in 64 bit arch, linbox 1.2.2 with the attached patches needs also to have -D!__LINBOX_HAVE_INT64=1 in CFLAGS and CXXFLAGS.

I should update the sage-4.8-linbox.patch at some point, as the initial patch I attached was only enough to get to another build failure in Fedora. But the next update should be for sage-5.0.



---

archive/issue_events_176241.json:
```json
{
    "actor": "https://github.com/sagetrac-pcpa",
    "created_at": "2012-05-05T03:31:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176241"
}
```



---

archive/issue_events_176242.json:
```json
{
    "actor": "https://github.com/sagetrac-pcpa",
    "created_at": "2012-05-05T03:31:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176242"
}
```



---

archive/issue_events_176243.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-06-06T19:28:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "title_is": "Update LinBox to most recent upstream release",
    "title_was": "Please consider updating to linbox 1.2.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176243"
}
```



---

archive/issue_comments_145624.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI cut new SPKGs for LinBox and FFLAS/FFPACK:\n\n   http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg\n\n   http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n\nI am tracking SPKG repositories here:\n\n   https://bitbucket.org/malb/fflas-ffpack-spkg\n\n   https://bitbucket.org/malb/linbox-spkg\n\nI will go through your patches now.",
    "created_at": "2012-06-06T19:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145624",
    "user": "https://github.com/malb"
}
```

<div id="comment:6" align="right">comment:6</div>

I cut new SPKGs for LinBox and FFLAS/FFPACK:

   http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg

   http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg

I am tracking SPKG repositories here:

   https://bitbucket.org/malb/fflas-ffpack-spkg

   https://bitbucket.org/malb/linbox-spkg

I will go through your patches now.



---

archive/issue_comments_145625.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,38 +1,5 @@\n-  Reported build problems with linbox 1.2.2 to upstream a few minutes ago.\n+The version of LinBox used in Sage is **4 years** old, we should update.\n \n-  Reason is that I am experimenting with packaging sagemath in Fedora. As you should know, I have it packaged since late sagemath 3.x up to 4.8 in Mandriva, so I am attempting to repeat it in Fedora.\n-\n-  Fedora has linaro 1.2.2 (built with --enable-sage) packaged, and givaro-3.5.0 btw :-)\n-\n-  I reported the same build log at[http://groups.google.com/group/linbox-use/browse_thread/thread/713663b790d0dfe9](http://groups.google.com/group/linbox-use/browse_thread/thread/713663b790d0dfe9) but pasting it here also to hopefully give an idea of the build failure.\n-\n-```\n-gcc -pthread -fno-strict-aliasing -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/home/pcpa/rpmbuild/BUILDROOT/sagemath-4.8-0.1.x86_64/usr/share/sagemath/local/include -Ic_lib/include -I/home/pcpa/rpmbuild/BUILDROOT/sagemath-4.8-0.1.x86_64/usr/share/sagemath/devel/sage/sage/ext -I/usr/include/python2.7 -c sage/libs/linbox/linbox.cpp -o build/temp.linux-x86_64-2.7/sage/libs/linbox/linbox.o -w\n-sage/libs/linbox/linbox.cpp: In function 'int __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_echelonize(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*)':\n-sage/libs/linbox/linbox.cpp:2308:123: error: 'linbox_modn_dense_echelonize' was not declared in this scope\n-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_pf_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_4_poly(PyObject*, PyObject*)':\n-sage/libs/linbox/linbox.cpp:2480:335: error: no matching function for call to 'linbox_modn_dense_minpoly(size_t&, size_t**, size_t*, size_t&, size_t**&, int&)'\n-sage/libs/linbox/linbox.cpp:2480:335: note: candidate is:\n-/usr/include/linbox/linbox-sage.h:65:11: note: template<class Element> Element* linbox_modn_dense_minpoly(Element, Element**, size_t*, size_t, Element*)\n-sage/libs/linbox/linbox.cpp:2527:43: error: 'linbox_modn_dense_delete_array' was not declared in this scope\n-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_matrix_matrix_multiply(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*, size_t**, size_t**, size_t, size_t)':\n-sage/libs/linbox/linbox.cpp:2578:187: error: no matching function for call to 'linbox_modn_dense_matrix_matrix_multiply(size_t&, size_t**&, size_t**&, size_t**&, size_t&, size_t&, size_t&, size_t&)'\n-sage/libs/linbox/linbox.cpp:2578:187: note: candidate is:\n-/usr/include/linbox/linbox-sage.h:77:9: note: template<class Element> Element* linbox_modn_dense_matrix_matrix_multiply(Element, Element*, Element*, Element*, size_t, size_t, size_t)\n-sage/libs/linbox/linbox.cpp: In function 'long unsigned int __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_rank(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*)':\n-sage/libs/linbox/linbox.cpp:2634:117: error: 'linbox_modn_dense_rank' was not declared in this scope\n-sage/libs/linbox/linbox.cpp: In function 'size_t __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_det(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*, int)':\n-sage/libs/linbox/linbox.cpp:2697:116: error: no matching function for call to 'linbox_modn_dense_det(size_t&, size_t**&, size_t&, size_t&)'\n-sage/libs/linbox/linbox.cpp:2697:116: note: candidate is:\n-/usr/include/linbox/linbox-sage.h:59:9: note: template<class Element> Element linbox_modn_dense_det(Element, Element*, size_t, size_t)\n-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_pf_4sage_4libs_6linbox_6linbox_20Linbox_integer_dense_2_poly(PyObject*, PyObject*)':\n-sage/libs/linbox/linbox.cpp:5127:253: error: invalid initialization of non-const reference of type '__mpz_struct (*&)[1]' from an rvalue of type '__mpz_struct (**)[1]'\n-/usr/include/linbox/linbox-sage.h:108:6: error: in passing argument 1 of 'void linbox_integer_dense_minpoly(__mpz_struct (*&)[1], size_t&, size_t, __mpz_struct (**)[1])'\n-sage/libs/linbox/linbox.cpp:5139:254: error: invalid initialization of non-const reference of type '__mpz_struct (*&)[1]' from an rvalue of type '__mpz_struct (**)[1]'\n-/usr/include/linbox/linbox-sage.h:110:6: error: in passing argument 1 of 'void linbox_integer_dense_charpoly(__mpz_struct (*&)[1], size_t&, size_t, __mpz_struct (**)[1])'\n-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_f_4sage_4libs_6linbox_6linbox_20Linbox_integer_dense_matrix_matrix_multiply(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_integer_dense*, __mpz_struct (**)[1], __mpz_struct (**)[1], size_t, size_t)':\n-sage/libs/linbox/linbox.cpp:5283:173: error: too many arguments to function 'int linbox_integer_dense_matrix_matrix_multiply(__mpz_struct (**)[1], __mpz_struct (**)[1], __mpz_struct (**)[1], size_t, size_t, size_t)'\n-/usr/include/linbox/linbox-sage.h:115:5: note: declared here\n-error: command 'gcc' failed with exit status 1\n-```\n-\n+**Observe:** Dependencies\n+**Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n+**Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)\n``````\n",
    "created_at": "2012-06-07T15:30:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145625",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,38 +1,5 @@
-  Reported build problems with linbox 1.2.2 to upstream a few minutes ago.
+The version of LinBox used in Sage is **4 years** old, we should update.
 
-  Reason is that I am experimenting with packaging sagemath in Fedora. As you should know, I have it packaged since late sagemath 3.x up to 4.8 in Mandriva, so I am attempting to repeat it in Fedora.
-
-  Fedora has linaro 1.2.2 (built with --enable-sage) packaged, and givaro-3.5.0 btw :-)
-
-  I reported the same build log at[http://groups.google.com/group/linbox-use/browse_thread/thread/713663b790d0dfe9](http://groups.google.com/group/linbox-use/browse_thread/thread/713663b790d0dfe9) but pasting it here also to hopefully give an idea of the build failure.
-
-```
-gcc -pthread -fno-strict-aliasing -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/home/pcpa/rpmbuild/BUILDROOT/sagemath-4.8-0.1.x86_64/usr/share/sagemath/local/include -Ic_lib/include -I/home/pcpa/rpmbuild/BUILDROOT/sagemath-4.8-0.1.x86_64/usr/share/sagemath/devel/sage/sage/ext -I/usr/include/python2.7 -c sage/libs/linbox/linbox.cpp -o build/temp.linux-x86_64-2.7/sage/libs/linbox/linbox.o -w
-sage/libs/linbox/linbox.cpp: In function 'int __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_echelonize(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*)':
-sage/libs/linbox/linbox.cpp:2308:123: error: 'linbox_modn_dense_echelonize' was not declared in this scope
-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_pf_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_4_poly(PyObject*, PyObject*)':
-sage/libs/linbox/linbox.cpp:2480:335: error: no matching function for call to 'linbox_modn_dense_minpoly(size_t&, size_t**, size_t*, size_t&, size_t**&, int&)'
-sage/libs/linbox/linbox.cpp:2480:335: note: candidate is:
-/usr/include/linbox/linbox-sage.h:65:11: note: template<class Element> Element* linbox_modn_dense_minpoly(Element, Element**, size_t*, size_t, Element*)
-sage/libs/linbox/linbox.cpp:2527:43: error: 'linbox_modn_dense_delete_array' was not declared in this scope
-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_matrix_matrix_multiply(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*, size_t**, size_t**, size_t, size_t)':
-sage/libs/linbox/linbox.cpp:2578:187: error: no matching function for call to 'linbox_modn_dense_matrix_matrix_multiply(size_t&, size_t**&, size_t**&, size_t**&, size_t&, size_t&, size_t&, size_t&)'
-sage/libs/linbox/linbox.cpp:2578:187: note: candidate is:
-/usr/include/linbox/linbox-sage.h:77:9: note: template<class Element> Element* linbox_modn_dense_matrix_matrix_multiply(Element, Element*, Element*, Element*, size_t, size_t, size_t)
-sage/libs/linbox/linbox.cpp: In function 'long unsigned int __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_rank(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*)':
-sage/libs/linbox/linbox.cpp:2634:117: error: 'linbox_modn_dense_rank' was not declared in this scope
-sage/libs/linbox/linbox.cpp: In function 'size_t __pyx_f_4sage_4libs_6linbox_6linbox_17Linbox_modn_dense_det(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_modn_dense*, int)':
-sage/libs/linbox/linbox.cpp:2697:116: error: no matching function for call to 'linbox_modn_dense_det(size_t&, size_t**&, size_t&, size_t&)'
-sage/libs/linbox/linbox.cpp:2697:116: note: candidate is:
-/usr/include/linbox/linbox-sage.h:59:9: note: template<class Element> Element linbox_modn_dense_det(Element, Element*, size_t, size_t)
-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_pf_4sage_4libs_6linbox_6linbox_20Linbox_integer_dense_2_poly(PyObject*, PyObject*)':
-sage/libs/linbox/linbox.cpp:5127:253: error: invalid initialization of non-const reference of type '__mpz_struct (*&)[1]' from an rvalue of type '__mpz_struct (**)[1]'
-/usr/include/linbox/linbox-sage.h:108:6: error: in passing argument 1 of 'void linbox_integer_dense_minpoly(__mpz_struct (*&)[1], size_t&, size_t, __mpz_struct (**)[1])'
-sage/libs/linbox/linbox.cpp:5139:254: error: invalid initialization of non-const reference of type '__mpz_struct (*&)[1]' from an rvalue of type '__mpz_struct (**)[1]'
-/usr/include/linbox/linbox-sage.h:110:6: error: in passing argument 1 of 'void linbox_integer_dense_charpoly(__mpz_struct (*&)[1], size_t&, size_t, __mpz_struct (**)[1])'
-sage/libs/linbox/linbox.cpp: In function 'PyObject* __pyx_f_4sage_4libs_6linbox_6linbox_20Linbox_integer_dense_matrix_matrix_multiply(__pyx_obj_4sage_4libs_6linbox_6linbox_Linbox_integer_dense*, __mpz_struct (**)[1], __mpz_struct (**)[1], size_t, size_t)':
-sage/libs/linbox/linbox.cpp:5283:173: error: too many arguments to function 'int linbox_integer_dense_matrix_matrix_multiply(__mpz_struct (**)[1], __mpz_struct (**)[1], __mpz_struct (**)[1], size_t, size_t, size_t)'
-/usr/include/linbox/linbox-sage.h:115:5: note: declared here
-error: command 'gcc' failed with exit status 1
-```
-
+**Observe:** Dependencies
+**Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg
+**Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)
``````




---

archive/issue_comments_145626.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n The version of LinBox used in Sage is **4 years** old, we should update.\n \n-**Observe:** Dependencies\n-**Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n-**Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)\n+1. **Observe:** Dependencies\u00a0\n+2. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\u00a0\n+3. **Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)\n``````\n",
    "created_at": "2012-06-07T15:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145626",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 The version of LinBox used in Sage is **4 years** old, we should update.
 
-**Observe:** Dependencies
-**Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg
-**Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)
+1. **Observe:** Dependencies 
+2. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg 
+3. **Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)
``````




---

archive/issue_comments_145627.json:
```json
{
    "body": "Dependencies: **#12840, 12841, #9511**",
    "created_at": "2012-06-07T15:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145627",
    "user": "https://github.com/malb"
}
```

Dependencies: **#12840, 12841, #9511**



---

archive/issue_comments_145628.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n The version of LinBox used in Sage is **4 years** old, we should update.\n \n-1. **Observe:** Dependencies\u00a0\n-2. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\u00a0\n-3. **Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)\n+1. **Observe:** Dependencies\n+2. **Install:\u00a0**http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg\n+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n+4. **Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)\n``````\n",
    "created_at": "2012-06-07T15:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145628",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 The version of LinBox used in Sage is **4 years** old, we should update.
 
-1. **Observe:** Dependencies 
-2. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg 
-3. **Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)
+1. **Observe:** Dependencies
+2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg
+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg
+4. **Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)
``````




---

archive/issue_comments_145629.json:
```json
{
    "body": "Author: **Paulo C\u00e9sar Pereira de Andrade, Martin Albrecht**",
    "created_at": "2012-06-07T15:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145629",
    "user": "https://github.com/malb"
}
```

Author: **Paulo César Pereira de Andrade, Martin Albrecht**



---

archive/issue_comments_145630.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n The version of LinBox used in Sage is **4 years** old, we should update.\n \n 1. **Observe:** Dependencies\n-2. **Install:\u00a0**http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg\n+2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg\n 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n-4. **Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)\n+4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n+5. **Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)\n``````\n",
    "created_at": "2012-06-07T15:43:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145630",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
 The version of LinBox used in Sage is **4 years** old, we should update.
 
 1. **Observe:** Dependencies
-2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg
+2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg
 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg
-4. **Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)
+4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
+5. **Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)
``````




---

archive/issue_comments_145631.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,4 @@\n 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg\n 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n-5. **Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)\n+5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)\n``````\n",
    "created_at": "2012-06-07T15:44:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145631",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,4 @@
 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg
 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg
 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
-5. **Apply:** [attachment: sage-linbox](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.gz)
+5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)
``````




---

archive/issue_comments_145632.json:
```json
{
    "body": "Changed dependencies from **#12840, 12841, #9511** to **#12840, #12841, #9511**",
    "created_at": "2012-06-07T15:44:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145632",
    "user": "https://github.com/malb"
}
```

Changed dependencies from **#12840, 12841, #9511** to **#12840, #12841, #9511**



---

archive/issue_comments_145633.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n The version of LinBox used in Sage is **4 years** old, we should update.\n \n 1. **Observe:** Dependencies\n-2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg\n-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg\n+2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.1.spkg\n 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n 5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)\n``````\n",
    "created_at": "2012-06-07T18:16:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145633",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 The version of LinBox used in Sage is **4 years** old, we should update.
 
 1. **Observe:** Dependencies
-2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.5.0.spkg
-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.0.spkg
+2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.1.spkg
 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
 5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)
``````




---

archive/issue_comments_145634.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,8 @@\n 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.1.spkg\n 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n 5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)\n+\n+SPKG Repositories:\n+\n+1. https://bitbucket.org/malb/fflas-ffpack-spkg\n+2. https://bitbucket.org/malb/linbox-spkg\n``````\n",
    "created_at": "2012-06-07T18:16:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145634",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,8 @@
 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.1.spkg
 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
 5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)
+
+SPKG Repositories:
+
+1. https://bitbucket.org/malb/fflas-ffpack-spkg
+2. https://bitbucket.org/malb/linbox-spkg
``````




---

archive/issue_comments_145635.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n 1. **Observe:** Dependencies\n 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.1.spkg\n+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.pre.spkg\n 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n 5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)\n \n``````\n",
    "created_at": "2012-06-08T08:48:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145635",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 1. **Observe:** Dependencies
 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.1.spkg
+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.pre.spkg
 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
 5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)
 
``````




---

archive/issue_comments_145636.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n 1. **Observe:** Dependencies\n 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.pre.spkg\n+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg\n 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n 5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)\n \n``````\n",
    "created_at": "2012-06-08T09:24:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145636",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 1. **Observe:** Dependencies
 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.pre.spkg
+3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg
 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
 5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)
 
``````




---

archive/issue_comments_145637.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAll doctests pass on geom.math and my machine with 5.0.1.",
    "created_at": "2012-06-16T22:13:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145637",
    "user": "https://github.com/malb"
}
```

<div id="comment:17" align="right">comment:17</div>

All doctests pass on geom.math and my machine with 5.0.1.



---

archive/issue_events_176244.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-06-16T22:13:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176244"
}
```



---

archive/issue_comments_145638.json:
```json
{
    "body": "Work Issues: **Julien's SPKG patch, update for deps**",
    "created_at": "2012-06-16T22:13:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145638",
    "user": "https://github.com/malb"
}
```

Work Issues: **Julien's SPKG patch, update for deps**



---

archive/issue_events_176245.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-06-16T22:13:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176245"
}
```



---

archive/issue_events_176246.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-06-16T22:13:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176246"
}
```



---

archive/issue_comments_145639.json:
```json
{
    "body": "Attachment: **[trac_12883_linbox_deps.patch.gz](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz)**",
    "created_at": "2012-06-17T11:04:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145639",
    "user": "https://github.com/malb"
}
```

Attachment: **[trac_12883_linbox_deps.patch.gz](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz)**



---

archive/issue_comments_145640.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nNeeds review.",
    "created_at": "2012-06-17T11:06:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145640",
    "user": "https://github.com/malb"
}
```

<div id="comment:19" align="right">comment:19</div>

Needs review.



---

archive/issue_comments_145641.json:
```json
{
    "body": "Changed work issues from **Julien's SPKG patch, update for deps** to none",
    "created_at": "2012-06-17T11:06:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145641",
    "user": "https://github.com/malb"
}
```

Changed work issues from **Julien's SPKG patch, update for deps** to none



---

archive/issue_comments_145642.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,7 @@\n 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg\n 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n 5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)\n+6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) to\u00a0`SAGE_ROOT`\u00a0repository\n \n SPKG Repositories:\n \n``````\n",
    "created_at": "2012-06-17T11:06:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145642",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,7 @@
 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg
 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
 5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)
+6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) to `SAGE_ROOT` repository
 
 SPKG Repositories:
 
``````




---

archive/issue_events_176247.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-06-17T11:06:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176247"
}
```



---

archive/issue_events_176248.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-06-17T11:06:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176248"
}
```



---

archive/issue_comments_145643.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nmatrix_modn_dense_no_linbox.patch is full of unnecessary whitespace changes that only serve to break any other patch on trac.",
    "created_at": "2012-06-17T11:16:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145643",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

matrix_modn_dense_no_linbox.patch is full of unnecessary whitespace changes that only serve to break any other patch on trac.



---

archive/issue_comments_145644.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@vbraun](#comment%3A20):\n\n> matrix_modn_dense_no_linbox.patch is full of unnecessary whitespace changes that only serve to break any other patch on trac.\n\nFixed",
    "created_at": "2012-06-17T12:09:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145644",
    "user": "https://github.com/malb"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@vbraun](#comment%3A20):

> matrix_modn_dense_no_linbox.patch is full of unnecessary whitespace changes that only serve to break any other patch on trac.

Fixed



---

archive/issue_comments_145645.json:
```json
{
    "body": "Attachment: **[matrix_modn_dense_no_linbox.patch.gz](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)**\n\nfixed indentation error introduced in last update",
    "created_at": "2012-06-18T09:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145645",
    "user": "https://github.com/malb"
}
```

Attachment: **[matrix_modn_dense_no_linbox.patch.gz](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)**

fixed indentation error introduced in last update



---

archive/issue_comments_145646.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nWhat for/where is `matrix_modn_dense` used now? I see its commented out in `matrix_space.py`.\n\nMinor nitpick: missing space in `coefficients ofminpoly as a Python list`.",
    "created_at": "2012-06-18T15:44:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145646",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:22" align="right">comment:22</div>

What for/where is `matrix_modn_dense` used now? I see its commented out in `matrix_space.py`.

Minor nitpick: missing space in `coefficients ofminpoly as a Python list`.



---

archive/issue_comments_145647.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@vbraun](#comment%3A22):\n> What for/where is `matrix_modn_dense` used now? I see its commented out in `matrix_space.py`.\n\nCurrently, none. But William is resurrecting it at #4968. I assume [attachment: matrix_modn_dense_no_linbox.patch] and #4968 will conflict. But I suggest to deal with this when the problem arises and when we know in which order they'll be merged.\n\n> Minor nitpick: missing space in `coefficients ofminpoly as a Python list`.\n\nI'll fix that.",
    "created_at": "2012-06-18T15:50:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145647",
    "user": "https://github.com/malb"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@vbraun](#comment%3A22):
> What for/where is `matrix_modn_dense` used now? I see its commented out in `matrix_space.py`.

Currently, none. But William is resurrecting it at #4968. I assume [attachment: matrix_modn_dense_no_linbox.patch] and #4968 will conflict. But I suggest to deal with this when the problem arises and when we know in which order they'll be merged.

> Minor nitpick: missing space in `coefficients ofminpoly as a Python list`.

I'll fix that.



---

archive/issue_comments_145648.json:
```json
{
    "body": "Attachment: **[sage-linbox.patch.gz](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)**",
    "created_at": "2012-06-18T15:53:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145648",
    "user": "https://github.com/malb"
}
```

Attachment: **[sage-linbox.patch.gz](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)**



---

archive/issue_comments_145649.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nFixed.",
    "created_at": "2012-06-18T15:54:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145649",
    "user": "https://github.com/malb"
}
```

<div id="comment:24" align="right">comment:24</div>

Fixed.



---

archive/issue_comments_145650.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI believe it is not necessary anymore to add -DDISABLE_COMMENTATOR to CPPFLAGS. IT is added automatically in the right places when you configure with the sage interface.",
    "created_at": "2012-06-19T03:26:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145650",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:25" align="right">comment:25</div>

I believe it is not necessary anymore to add -DDISABLE_COMMENTATOR to CPPFLAGS. IT is added automatically in the right places when you configure with the sage interface.



---

archive/issue_comments_145651.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@kiwifb](#comment%3A25):\n> I believe it is not necessary anymore to add -DDISABLE_COMMENTATOR to CPPFLAGS. IT is added automatically in the right places when you configure with the sage interface.\n\nI am inclined to postpone this change to another ticket, unless you are pretty certain it isn't needed. The reason I am suggesting this is, that if we get SIGSEGVs then on some exotic platform we are not sure whether it's the 1.3.2 update or that we dropped the `-DDISABLE_COMMENTATOR`. Of course, we could just try to re-add it and see what happens, but given how slow and bureaucratic Sage development is these days, this could easily take a week to accomplish, which would be annoying. What do you think?",
    "created_at": "2012-06-20T09:24:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145651",
    "user": "https://github.com/malb"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@kiwifb](#comment%3A25):
> I believe it is not necessary anymore to add -DDISABLE_COMMENTATOR to CPPFLAGS. IT is added automatically in the right places when you configure with the sage interface.

I am inclined to postpone this change to another ticket, unless you are pretty certain it isn't needed. The reason I am suggesting this is, that if we get SIGSEGVs then on some exotic platform we are not sure whether it's the 1.3.2 update or that we dropped the `-DDISABLE_COMMENTATOR`. Of course, we could just try to re-add it and see what happens, but given how slow and bureaucratic Sage development is these days, this could easily take a week to accomplish, which would be annoying. What do you think?



---

archive/issue_comments_145652.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nKeeping it is \"mostly harmless\". I just noticed when I created the ebuild for sage-on-gentoo that even so I hadn't added it to the CPPFLAGS it was used in the compilation. Adding it to the CPPFLAGS made it appear twice in those places. \n\nI would have to test with the whole set of new packages and patches to be absolutely certain of course. That could take a few days. And of course that would be on a non-exotic platform first. Make me think I need to put a 5.1beta on power7 to cover my exotic corner.",
    "created_at": "2012-06-20T09:47:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145652",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:27" align="right">comment:27</div>

Keeping it is "mostly harmless". I just noticed when I created the ebuild for sage-on-gentoo that even so I hadn't added it to the CPPFLAGS it was used in the compilation. Adding it to the CPPFLAGS made it appear twice in those places. 

I would have to test with the whole set of new packages and patches to be absolutely certain of course. That could take a few days. And of course that would be on a non-exotic platform first. Make me think I need to put a 5.1beta on power7 to cover my exotic corner.



---

archive/issue_comments_145653.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2012-06-25T21:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145653",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_events_176249.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-25T21:04:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "milestone_number": null,
    "milestone_title": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176249"
}
```



---

archive/issue_events_176250.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-25T21:04:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176250"
}
```



---

archive/issue_events_176251.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-25T21:04:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176251"
}
```



---

archive/issue_events_176252.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-25T21:04:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176252"
}
```



---

archive/issue_comments_145654.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nLooks good to me!",
    "created_at": "2012-06-25T21:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145654",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:28" align="right">comment:28</div>

Looks good to me!



---

archive/issue_comments_145655.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,3 +11,5 @@\n \n 1. https://bitbucket.org/malb/fflas-ffpack-spkg\n 2. https://bitbucket.org/malb/linbox-spkg\n+\n+Note for release manager: This ticket must be merged simultaneously with #9511, they depend on each other.\n``````\n",
    "created_at": "2012-06-25T21:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145655",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,3 +11,5 @@
 
 1. https://bitbucket.org/malb/fflas-ffpack-spkg
 2. https://bitbucket.org/malb/linbox-spkg
+
+Note for release manager: This ticket must be merged simultaneously with #9511, they depend on each other.
``````




---

archive/issue_events_176253.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-26T06:43:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "milestone_number": null,
    "milestone_title": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176253"
}
```



---

archive/issue_events_176254.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-26T06:43:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "milestone_number": null,
    "milestone_title": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176254"
}
```



---

archive/issue_events_176255.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-28T14:07:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176255"
}
```



---

archive/issue_events_176256.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-28T14:07:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176256"
}
```



---

archive/issue_comments_145656.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nIn `SPKG.txt` of `fflas_ffpack-1.6.0.spkg`, replace\n\n```\n=== fflas-ffpack-1.6.0 (Martin Albrecht, 7 June 2012) ===\n```\nby\n\n```\n=== fflas_ffpack-1.6.0 (Martin Albrecht, 7 June 2012) ===\n```",
    "created_at": "2012-06-28T14:07:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145656",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

In `SPKG.txt` of `fflas_ffpack-1.6.0.spkg`, replace

```
=== fflas-ffpack-1.6.0 (Martin Albrecht, 7 June 2012) ===
```
by

```
=== fflas_ffpack-1.6.0 (Martin Albrecht, 7 June 2012) ===
```



---

archive/issue_events_176257.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-01T18:54:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "milestone_number": null,
    "milestone_title": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176257"
}
```



---

archive/issue_events_176258.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-01T18:54:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176258"
}
```



---

archive/issue_comments_145657.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nJust curious -- does this fix #12865?  (Won't try myself.)",
    "created_at": "2012-07-03T11:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145657",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:32" align="right">comment:32</div>

Just curious -- does this fix #12865?  (Won't try myself.)



---

archive/issue_comments_145658.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nYes, it does fix #12865.",
    "created_at": "2012-07-03T11:55:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145658",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>

Yes, it does fix #12865.



---

archive/issue_comments_145659.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nSPKG.txt issue is fixed.",
    "created_at": "2012-07-03T12:25:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145659",
    "user": "https://github.com/malb"
}
```

<div id="comment:34" align="right">comment:34</div>

SPKG.txt issue is fixed.



---

archive/issue_events_176259.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-07-03T12:25:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176259"
}
```



---

archive/issue_events_176260.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2012-07-03T12:25:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176260"
}
```



---

archive/issue_events_176261.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-03T12:31:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176261"
}
```



---

archive/issue_events_176262.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-03T12:31:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176262"
}
```



---

archive/issue_events_176263.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-01T12:33:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "milestone_number": null,
    "milestone_title": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176263"
}
```



---

archive/issue_events_176264.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-01T12:33:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176264"
}
```



---

archive/issue_comments_145660.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nThere is a weird file `.swp` in the linbox spkg.",
    "created_at": "2012-08-01T13:29:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145660",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:37" align="right">comment:37</div>

There is a weird file `.swp` in the linbox spkg.



---

archive/issue_events_176265.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-01T13:29:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176265"
}
```



---

archive/issue_events_176266.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-01T13:29:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176266"
}
```



---

archive/issue_comments_145661.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nI've reuploaded the package without that mysterious file (which is not in spkg repo as I've checked) at\nhttp://perso.telecom-paristech.fr/~flori/sage/linbox-1.3.2.spkg\n\nNo other changes to the spkg.\nSo someone should put this back to positive review (after checking I did not break everything).\n\nEdit: Swapped 2 and 3...",
    "created_at": "2012-08-09T15:28:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145661",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:39" align="right">comment:39</div>

I've reuploaded the package without that mysterious file (which is not in spkg repo as I've checked) at
http://perso.telecom-paristech.fr/~flori/sage/linbox-1.3.2.spkg

No other changes to the spkg.
So someone should put this back to positive review (after checking I did not break everything).

Edit: Swapped 2 and 3...



---

archive/issue_comments_145662.json:
```json
{
    "body": "Attachment: **[trac_12883_hg_ignore_fflas_config.patch.gz](https://github.com/sagemath/sage/files/ticket12883/trac_12883_hg_ignore_fflas_config.patch.gz)**\n\nInitial patch",
    "created_at": "2012-08-12T14:44:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145662",
    "user": "https://github.com/vbraun"
}
```

Attachment: **[trac_12883_hg_ignore_fflas_config.patch.gz](https://github.com/sagemath/sage/files/ticket12883/trac_12883_hg_ignore_fflas_config.patch.gz)**

Initial patch



---

archive/issue_events_176267.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-12T14:47:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176267"
}
```



---

archive/issue_events_176268.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-12T14:47:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176268"
}
```



---

archive/issue_comments_145663.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nThe new fflas spkg installs a new script in `SAGE_LOCAL/bin`, which needs to be added to `.hgignore`. I've included a trivial patch to that extent.\n\nRest looks good.",
    "created_at": "2012-08-12T14:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145663",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:40" align="right">comment:40</div>

The new fflas spkg installs a new script in `SAGE_LOCAL/bin`, which needs to be added to `.hgignore`. I've included a trivial patch to that extent.

Rest looks good.



---

archive/issue_comments_145664.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,7 @@\n 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n 5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)\n 6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) to\u00a0`SAGE_ROOT`\u00a0repository\n+7. **Apply:** [attachment: trac_12883_hg_ignore_fflas_config.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_hg_ignore_fflas_config.patch.gz) to the scripts (`SAGE_LOCAL/bin`) repository.\n \n SPKG Repositories:\n \n``````\n",
    "created_at": "2012-08-12T14:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145664",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,7 @@
 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
 5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)
 6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) to `SAGE_ROOT` repository
+7. **Apply:** [attachment: trac_12883_hg_ignore_fflas_config.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_hg_ignore_fflas_config.patch.gz) to the scripts (`SAGE_LOCAL/bin`) repository.
 
 SPKG Repositories:
 
``````




---

archive/issue_comments_145665.json:
```json
{
    "body": "Rebased patch",
    "created_at": "2012-08-14T02:34:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145665",
    "user": "https://github.com/vbraun"
}
```

Rebased patch



---

archive/issue_comments_145666.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nAttachment: **[sage-linbox.2.patch.gz](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.2.patch.gz)**\n\nRebased patch for sage-5.3.beta1. Just a trivial rebase in module_list.py.",
    "created_at": "2012-08-14T02:35:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145666",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:41" align="right">comment:41</div>

Attachment: **[sage-linbox.2.patch.gz](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.2.patch.gz)**

Rebased patch for sage-5.3.beta1. Just a trivial rebase in module_list.py.



---

archive/issue_comments_145667.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg\n 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n-5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)\n+5. **Apply:** [attachment: sage-linbox.2.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.2.patch.gz)\n 6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) to\u00a0`SAGE_ROOT`\u00a0repository\n 7. **Apply:** [attachment: trac_12883_hg_ignore_fflas_config.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_hg_ignore_fflas_config.patch.gz) to the scripts (`SAGE_LOCAL/bin`) repository.\n \n``````\n",
    "created_at": "2012-08-14T02:35:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145667",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg
 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
-5. **Apply:** [attachment: sage-linbox.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.patch.gz)
+5. **Apply:** [attachment: sage-linbox.2.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.2.patch.gz)
 6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) to `SAGE_ROOT` repository
 7. **Apply:** [attachment: trac_12883_hg_ignore_fflas_config.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_hg_ignore_fflas_config.patch.gz) to the scripts (`SAGE_LOCAL/bin`) repository.
 
``````




---

archive/issue_comments_145668.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nShould the root repo patch also touch `spkg/install`, adding a line for fflas, like this?\n\n```diff\ndiff --git a/spkg/install b/spkg/install\n--- a/spkg/install\n+++ b/spkg/install\n@@ -296,6 +296,7 @@ ECLIB=`newest_version eclib`\n ECM=`newest_version ecm`\n ELLIPTIC_CURVES=`newest_version elliptic_curves`\n EXTCODE=`newest_version extcode`\n+FFLASFFPACK=`newest_version fflas_ffpack`\n FLINT=`newest_version flint`\n FLINTQS=`newest_version flintqs`\n FPLLL=`newest_version libfplll`\n```\nOr is this not needed for some reason?",
    "created_at": "2012-08-14T03:36:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145668",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:42" align="right">comment:42</div>

Should the root repo patch also touch `spkg/install`, adding a line for fflas, like this?

```diff
diff --git a/spkg/install b/spkg/install
--- a/spkg/install
+++ b/spkg/install
@@ -296,6 +296,7 @@ ECLIB=`newest_version eclib`
 ECM=`newest_version ecm`
 ELLIPTIC_CURVES=`newest_version elliptic_curves`
 EXTCODE=`newest_version extcode`
+FFLASFFPACK=`newest_version fflas_ffpack`
 FLINT=`newest_version flint`
 FLINTQS=`newest_version flintqs`
 FPLLL=`newest_version libfplll`
```
Or is this not needed for some reason?



---

archive/issue_comments_145669.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nYes, I'm pretty sure thats required. Are you going to post a patch?",
    "created_at": "2012-08-14T04:01:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145669",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:43" align="right">comment:43</div>

Yes, I'm pretty sure thats required. Are you going to post a patch?



---

archive/issue_comments_145670.json:
```json
{
    "body": "Attachment: **[trac_12883-spkg-install.patch.gz](https://github.com/sagemath/sage/files/ticket12883/trac_12883-spkg-install.patch.gz)**",
    "created_at": "2012-08-14T04:07:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145670",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_12883-spkg-install.patch.gz](https://github.com/sagemath/sage/files/ticket12883/trac_12883-spkg-install.patch.gz)**



---

archive/issue_comments_145671.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nSure, here's a patch. Do I need to switch it back to \"needs review\"?",
    "created_at": "2012-08-14T04:08:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145671",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:44" align="right">comment:44</div>

Sure, here's a patch. Do I need to switch it back to "needs review"?



---

archive/issue_comments_145672.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,7 +5,7 @@\n 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg\n 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n 5. **Apply:** [attachment: sage-linbox.2.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.2.patch.gz)\n-6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) to\u00a0`SAGE_ROOT`\u00a0repository\n+6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) and [attachment: trac_12883-spkg-install.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883-spkg-install.patch.gz) to\u00a0`SAGE_ROOT`\u00a0repository\n 7. **Apply:** [attachment: trac_12883_hg_ignore_fflas_config.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_hg_ignore_fflas_config.patch.gz) to the scripts (`SAGE_LOCAL/bin`) repository.\n \n SPKG Repositories:\n``````\n",
    "created_at": "2012-08-14T04:08:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145672",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,7 +5,7 @@
 3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg
 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
 5. **Apply:** [attachment: sage-linbox.2.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.2.patch.gz)
-6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) to `SAGE_ROOT` repository
+6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) and [attachment: trac_12883-spkg-install.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883-spkg-install.patch.gz) to `SAGE_ROOT` repository
 7. **Apply:** [attachment: trac_12883_hg_ignore_fflas_config.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_hg_ignore_fflas_config.patch.gz) to the scripts (`SAGE_LOCAL/bin`) repository.
 
 SPKG Repositories:
``````




---

archive/issue_events_176269.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-14T06:07:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176269"
}
```



---

archive/issue_events_176270.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-14T06:07:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176270"
}
```



---

archive/issue_comments_145673.json:
```json
{
    "body": "Changed reviewer from **Volker Braun** to **Volker Braun, Jeroen Demeyer**",
    "created_at": "2012-08-14T06:07:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145673",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Volker Braun** to **Volker Braun, Jeroen Demeyer**



---

archive/issue_events_176271.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-14T06:07:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176271"
}
```



---

archive/issue_events_176272.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-14T06:07:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176272"
}
```



---

archive/issue_comments_145674.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nWhy the change to the iml dependencies?",
    "created_at": "2012-08-14T06:35:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145674",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:47" align="right">comment:47</div>

Why the change to the iml dependencies?



---

archive/issue_comments_145675.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nThe linbox spkg *still* contains the garbage I mentioned before:\n\n```\n? .swp\n```",
    "created_at": "2012-08-14T06:52:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145675",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:48" align="right">comment:48</div>

The linbox spkg *still* contains the garbage I mentioned before:

```
? .swp
```



---

archive/issue_events_176273.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-14T06:52:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176273"
}
```



---

archive/issue_events_176274.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-14T06:52:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176274"
}
```



---

archive/issue_comments_145676.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nFixed. I guess vim poops into cwd when segfaulting (.swp was vim swap file), never heard of /tmp?!?",
    "created_at": "2012-08-14T13:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145676",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:49" align="right">comment:49</div>

Fixed. I guess vim poops into cwd when segfaulting (.swp was vim swap file), never heard of /tmp?!?



---

archive/issue_comments_145677.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n 1. **Observe:** Dependencies\n 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg\n+3. **Install:** http://www.stp.dias.ie/~vbraun/Sage/spkg/linbox-1.3.2.spkg\n 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n 5. **Apply:** [attachment: sage-linbox.2.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.2.patch.gz)\n 6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) and [attachment: trac_12883-spkg-install.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883-spkg-install.patch.gz) to\u00a0`SAGE_ROOT`\u00a0repository\n``````\n",
    "created_at": "2012-08-14T13:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145677",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 1. **Observe:** Dependencies
 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
-3. **Install:** http://sage.math.washington.edu/home/malb/spkgs/linbox-1.3.2.spkg
+3. **Install:** http://www.stp.dias.ie/~vbraun/Sage/spkg/linbox-1.3.2.spkg
 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
 5. **Apply:** [attachment: sage-linbox.2.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.2.patch.gz)
 6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) and [attachment: trac_12883-spkg-install.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883-spkg-install.patch.gz) to `SAGE_ROOT` repository
``````




---

archive/issue_events_176275.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-14T13:20:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176275"
}
```



---

archive/issue_events_176276.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-14T13:20:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176276"
}
```



---

archive/issue_comments_145678.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nPS: The iml testsuite does link against ATLAS, even though libiml doesn't depend on it.",
    "created_at": "2012-08-14T13:26:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145678",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:50" align="right">comment:50</div>

PS: The iml testsuite does link against ATLAS, even though libiml doesn't depend on it.



---

archive/issue_comments_145679.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nFor what it's worth, building from scratch with these patches works (all long tests passed) on sage.math and on my OS X Lion box.",
    "created_at": "2012-08-14T19:25:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145679",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:51" align="right">comment:51</div>

For what it's worth, building from scratch with these patches works (all long tests passed) on sage.math and on my OS X Lion box.



---

archive/issue_comments_145680.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nThe LinBox spkg needs to be rebased to linbox-1.1.6.p11 (see #13118).",
    "created_at": "2012-08-15T10:02:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145680",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:52" align="right">comment:52</div>

The LinBox spkg needs to be rebased to linbox-1.1.6.p11 (see #13118).



---

archive/issue_comments_145681.json:
```json
{
    "body": "Changed dependencies from **#12840, #12841, #9511** to **#13118, #12840, #12841, #9511,**",
    "created_at": "2012-08-15T10:02:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145681",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#12840, #12841, #9511** to **#13118, #12840, #12841, #9511,**



---

archive/issue_events_176277.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-15T10:02:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176277"
}
```



---

archive/issue_events_176278.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-15T10:02:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176278"
}
```



---

archive/issue_comments_145682.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@jdemeyer](#comment%3A52):\n> The LinBox spkg needs to be rebased to linbox-1.1.6.p11 (see #13118).\n\nand also see #12762. By the way, the file SPKG.txt also has two duplicate entries in the change log for version 1.1.6.p8.",
    "created_at": "2012-08-15T20:53:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145682",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@jdemeyer](#comment%3A52):
> The LinBox spkg needs to be rebased to linbox-1.1.6.p11 (see #13118).

and also see #12762. By the way, the file SPKG.txt also has two duplicate entries in the change log for version 1.1.6.p8.



---

archive/issue_comments_145683.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nI've added the changelog entries of linbox-1.1.6p9 - 11 to the SPKG.txt and removed the duplicate. None of those changes are needed any more since upstream has long fixed the issues that gcc 4.7 uncovered and Martin cleaned up the `spkg-install`.\n\nI've also re-added the `spkg-check` as `disabled-spkg-check` and deleted the Makefile.am.patch. Right now the testsuite will not compile without commentator. Would be nice to have the testsuite but not on this ticket.\n\nLikewise, it would be nice if the Sage developers could first search trac if there is already a new spkg before opening a ticket.\n\nSince really only the description changed I'll set this ticket back to positive review.",
    "created_at": "2012-08-15T23:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145683",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:54" align="right">comment:54</div>

I've added the changelog entries of linbox-1.1.6p9 - 11 to the SPKG.txt and removed the duplicate. None of those changes are needed any more since upstream has long fixed the issues that gcc 4.7 uncovered and Martin cleaned up the `spkg-install`.

I've also re-added the `spkg-check` as `disabled-spkg-check` and deleted the Makefile.am.patch. Right now the testsuite will not compile without commentator. Would be nice to have the testsuite but not on this ticket.

Likewise, it would be nice if the Sage developers could first search trac if there is already a new spkg before opening a ticket.

Since really only the description changed I'll set this ticket back to positive review.



---

archive/issue_events_176279.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-15T23:17:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176279"
}
```



---

archive/issue_events_176280.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-15T23:17:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176280"
}
```



---

archive/issue_comments_145684.json:
```json
{
    "body": "Changed upstream from **None of the above - read trac for reasoning.** to **Reported upstream. No feedback yet.**",
    "created_at": "2012-08-15T23:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145684",
    "user": "https://github.com/vbraun"
}
```

Changed upstream from **None of the above - read trac for reasoning.** to **Reported upstream. No feedback yet.**



---

archive/issue_comments_145685.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nFor the record, I've noted the testsuite issues on the linbox mailinglist at https://groups.google.com/d/topic/linbox-use/z0AlEH8Iyug/discussion",
    "created_at": "2012-08-15T23:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145685",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:56" align="right">comment:56</div>

For the record, I've noted the testsuite issues on the linbox mailinglist at https://groups.google.com/d/topic/linbox-use/z0AlEH8Iyug/discussion



---

archive/issue_comments_145686.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nTestsuite issues are fixed in svn version 4370.",
    "created_at": "2012-08-16T04:05:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145686",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:57" align="right">comment:57</div>

Testsuite issues are fixed in svn version 4370.



---

archive/issue_comments_145687.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2012-08-16T04:05:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145687",
    "user": "https://github.com/vbraun"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_145688.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nIs it intentional that the `--with-gmp`, `--with-givaro` and `--with-ntl` and `--with-blas` configure options were removed?\n\nSecondly, by \"rebasing\" this way, you've lost the `.hgtags` (and probably the whole `hg` history) for some earlier versions.  Not sure whether that's important, but it's something to be pointed out.",
    "created_at": "2012-08-16T06:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145688",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:58" align="right">comment:58</div>

Is it intentional that the `--with-gmp`, `--with-givaro` and `--with-ntl` and `--with-blas` configure options were removed?

Secondly, by "rebasing" this way, you've lost the `.hgtags` (and probably the whole `hg` history) for some earlier versions.  Not sure whether that's important, but it's something to be pointed out.



---

archive/issue_comments_145689.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nAlso, the .p11 spkg has error messages to stderr, please don't revert this.",
    "created_at": "2012-08-16T06:52:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145689",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:59" align="right">comment:59</div>

Also, the .p11 spkg has error messages to stderr, please don't revert this.



---

archive/issue_comments_145690.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nI think this really needs to be rebased properly.  You've reverted some good changes from the .p9--p11 versions.  Also, try to keep the Mercurial history.",
    "created_at": "2012-08-16T13:22:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145690",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:61" align="right">comment:61</div>

I think this really needs to be rebased properly.  You've reverted some good changes from the .p9--p11 versions.  Also, try to keep the Mercurial history.



---

archive/issue_events_176281.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-16T13:22:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176281"
}
```



---

archive/issue_events_176282.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-16T13:22:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176282"
}
```



---

archive/issue_comments_145691.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nAlso, there isn't any documentation of the fact and the reason of renaming `spkg-check` to `disabled-spkg-check`.",
    "created_at": "2012-08-16T13:24:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145691",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:62" align="right">comment:62</div>

Also, there isn't any documentation of the fact and the reason of renaming `spkg-check` to `disabled-spkg-check`.



---

archive/issue_comments_145692.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nI've wasted my coffee break in preserving the mercurial history of the bikeshedding that went into linbox-1.1.6p(N+1) despite the fact that it is all being ripped out. Hopefully future generations of archaeologists will appreciate the effort.\n\nI've also mentioned in the SPKG.txt that spgk-check is disabled in case anybody can't figure it out from the filename.\n\nNow that spkg-install sets `--with-default` we don't need `--with-foo` for every foo.\n\nNow errors go to stderr again.",
    "created_at": "2012-08-16T15:44:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145692",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:63" align="right">comment:63</div>

I've wasted my coffee break in preserving the mercurial history of the bikeshedding that went into linbox-1.1.6p(N+1) despite the fact that it is all being ripped out. Hopefully future generations of archaeologists will appreciate the effort.

I've also mentioned in the SPKG.txt that spgk-check is disabled in case anybody can't figure it out from the filename.

Now that spkg-install sets `--with-default` we don't need `--with-foo` for every foo.

Now errors go to stderr again.



---

archive/issue_events_176283.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-16T15:58:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176283"
}
```



---

archive/issue_events_176284.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-16T15:58:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176284"
}
```



---

archive/issue_comments_145693.json:
```json
{
    "body": "Changed dependencies from **#13118, #12840, #12841, #9511,** to **#13118, #12840, #12841, #9511**",
    "created_at": "2012-08-17T09:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145693",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#13118, #12840, #12841, #9511,** to **#13118, #12840, #12841, #9511**



---

archive/issue_events_176285.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-17T09:32:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "milestone_number": null,
    "milestone_title": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176285"
}
```



---

archive/issue_events_176286.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-17T09:32:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "milestone_number": null,
    "milestone_title": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176286"
}
```



---

archive/issue_events_176287.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-17T10:10:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176287"
}
```



---

archive/issue_events_176288.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-17T10:10:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176288"
}
```



---

archive/issue_comments_145694.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nThis change is still a regression:\n\n```diff\n-if [ \"$SAGE64\" = yes ]; then\n-    echo \"Building a 64-bit version of LinBox.\"\n-    if [ -z \"$CFLAG64\" ]; then\n-        CFLAG64=-m64\n-    fi\n-    CFLAGS=\"$CFLAGS $CFLAG64\"\n-    CXXFLAGS=\"$CXXFLAGS $CFLAG64\"\n-    CPPFLAGS=\"$CPPFLAGS $CFLAG64\"\n-    LDFLAGS=\"$LDFLAGS $CFLAG64\"\n+if [ \"$SAGE64\" = \"yes\" ]; then\n+   echo \"64 bit build\"\n+   CFLAGS=\"-m64 $CFLAGS \"; export CFLAGS\n+   CXXFLAGS=\"-m64 $CXXFLAGS \"; export CXXFLAGS\n+   CPPFLAGS=\"-m64 $CPPFLAGS \"; export CPPFLAGS\n+   LDFLAGS=\"-m64 $LDFLAGS\"; export LDFLAGS\n fi\n```",
    "created_at": "2012-08-17T10:10:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145694",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:66" align="right">comment:66</div>

This change is still a regression:

```diff
-if [ "$SAGE64" = yes ]; then
-    echo "Building a 64-bit version of LinBox."
-    if [ -z "$CFLAG64" ]; then
-        CFLAG64=-m64
-    fi
-    CFLAGS="$CFLAGS $CFLAG64"
-    CXXFLAGS="$CXXFLAGS $CFLAG64"
-    CPPFLAGS="$CPPFLAGS $CFLAG64"
-    LDFLAGS="$LDFLAGS $CFLAG64"
+if [ "$SAGE64" = "yes" ]; then
+   echo "64 bit build"
+   CFLAGS="-m64 $CFLAGS "; export CFLAGS
+   CXXFLAGS="-m64 $CXXFLAGS "; export CXXFLAGS
+   CPPFLAGS="-m64 $CPPFLAGS "; export CPPFLAGS
+   LDFLAGS="-m64 $LDFLAGS"; export LDFLAGS
 fi
```



---

archive/issue_comments_145695.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nAlso this:\n\n```diff\n-if [ -z \"$SAGE_LOCAL\" ]; then\n-    echo >&2 \"Error: SAGE_LOCAL undefined - exiting...\"\n-    echo >&2 \"Maybe run 'sage -sh'?\"\n-    exit 1\n+if [ \"$SAGE_LOCAL\" = \"\" ]; then\n+   echo \"SAGE_LOCAL undefined ... exiting\";\n+   echo \"Maybe run 'sage -sh'?\"\n+   exit 1\n fi\n```",
    "created_at": "2012-08-17T10:11:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145695",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:67" align="right">comment:67</div>

Also this:

```diff
-if [ -z "$SAGE_LOCAL" ]; then
-    echo >&2 "Error: SAGE_LOCAL undefined - exiting..."
-    echo >&2 "Maybe run 'sage -sh'?"
-    exit 1
+if [ "$SAGE_LOCAL" = "" ]; then
+   echo "SAGE_LOCAL undefined ... exiting";
+   echo "Maybe run 'sage -sh'?"
+   exit 1
 fi
```



---

archive/issue_comments_145696.json:
```json
{
    "body": "Attachment: **[linbox.diff.gz](https://github.com/sagemath/sage/files/ticket12883/linbox.diff.gz)**\n\nFYI only",
    "created_at": "2012-08-17T12:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145696",
    "user": "https://github.com/vbraun"
}
```

Attachment: **[linbox.diff.gz](https://github.com/sagemath/sage/files/ticket12883/linbox.diff.gz)**

FYI only



---

archive/issue_comments_145697.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nI did notice the removal of the undocumented and nonstandard `CFLAG64` environment variable and I consider that a definite plus of the new `spkg-install`.\n\nThe new spkg re-adds the stderr redirection in the `SAGE_LOCAL` check.",
    "created_at": "2012-08-17T12:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145697",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:68" align="right">comment:68</div>

I did notice the removal of the undocumented and nonstandard `CFLAG64` environment variable and I consider that a definite plus of the new `spkg-install`.

The new spkg re-adds the stderr redirection in the `SAGE_LOCAL` check.



---

archive/issue_events_176289.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-17T12:35:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176289"
}
```



---

archive/issue_events_176290.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-17T12:35:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176290"
}
```



---

archive/issue_comments_145698.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nIt would be nice to add an hg tag for the new release.",
    "created_at": "2012-08-20T20:16:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145698",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:69" align="right">comment:69</div>

It would be nice to add an hg tag for the new release.



---

archive/issue_comments_145699.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nI've added the tag. Of course this'll never be done consistently as long as `sage -pkg` doesn't check that the spkg name matches the tag.",
    "created_at": "2012-08-20T20:27:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145699",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:70" align="right">comment:70</div>

I've added the tag. Of course this'll never be done consistently as long as `sage -pkg` doesn't check that the spkg name matches the tag.



---

archive/issue_comments_145700.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nReplying to [@jpflori](#comment%3A69):\n> It would be nice to add an hg tag for the new release.\n\nThis is also done automatically by the merger script when the spkg is merged into Sage.",
    "created_at": "2012-08-21T08:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145700",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:71" align="right">comment:71</div>

Replying to [@jpflori](#comment%3A69):
> It would be nice to add an hg tag for the new release.

This is also done automatically by the merger script when the spkg is merged into Sage.



---

archive/issue_comments_145701.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nGood to know.\nWas it mentionned anywhere in the developper guide or did I miss it or did I not read it again recently enough?\n\nAdditionnal question, what about committing changes or putting them in a queue or not committing anything and letting some script do it?\nIs there a prefered method to do it?",
    "created_at": "2012-08-21T09:12:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145701",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:72" align="right">comment:72</div>

Good to know.
Was it mentionned anywhere in the developper guide or did I miss it or did I not read it again recently enough?

Additionnal question, what about committing changes or putting them in a queue or not committing anything and letting some script do it?
Is there a prefered method to do it?



---

archive/issue_comments_145702.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nCommitting changes is always required.\n\nNote: with the latest Mercurial, you can use\n\n```\nhg commit --amend\n```\nto add changes to the latest commit.  So you can effectively emulate a queue with 1 patch like this.",
    "created_at": "2012-08-21T09:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145702",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:73" align="right">comment:73</div>

Committing changes is always required.

Note: with the latest Mercurial, you can use

```
hg commit --amend
```
to add changes to the latest commit.  So you can effectively emulate a queue with 1 patch like this.



---

archive/issue_comments_145703.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nThis is totally off-topic, but versioning systems are most useful if you commit often. Two logically independent changes should be two commits, even if they end up in the same ticket/spkg. Reviewer nitpicks should be another commit. Any other questions on how to use mercurial should go to sage-devel.",
    "created_at": "2012-08-21T15:54:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145703",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:74" align="right">comment:74</div>

This is totally off-topic, but versioning systems are most useful if you commit often. Two logically independent changes should be two commits, even if they end up in the same ticket/spkg. Reviewer nitpicks should be another commit. Any other questions on how to use mercurial should go to sage-devel.



---

archive/issue_events_176291.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-22T10:11:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176291"
}
```



---

archive/issue_events_176292.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-22T10:11:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176292"
}
```



---

archive/issue_comments_145704.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nReplying to [@vbraun](#comment%3A68):\n> I did notice the removal of the undocumented and nonstandard `CFLAG64` environment variable and I consider that a definite plus of the new `spkg-install`.\n\nLooks documented to me: [http://sagemath.org/doc/installation/source.html#environment-variables](http://sagemath.org/doc/installation/source.html#environment-variables)\n\n(I do agree that we should get rid of `CFLAG64` and `SAGE64` in place of using `CC` and `CFLAGS` properly, but that's not the point of this ticket)",
    "created_at": "2012-08-22T10:11:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145704",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:75" align="right">comment:75</div>

Replying to [@vbraun](#comment%3A68):
> I did notice the removal of the undocumented and nonstandard `CFLAG64` environment variable and I consider that a definite plus of the new `spkg-install`.

Looks documented to me: [http://sagemath.org/doc/installation/source.html#environment-variables](http://sagemath.org/doc/installation/source.html#environment-variables)

(I do agree that we should get rid of `CFLAG64` and `SAGE64` in place of using `CC` and `CFLAGS` properly, but that's not the point of this ticket)



---

archive/issue_comments_145705.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nSomething else I noted: why was the exit code for a failed patch changed from `1` to `-1`?  Normally, programs should use exit codes in the range 0-127.",
    "created_at": "2012-08-22T10:12:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145705",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:76" align="right">comment:76</div>

Something else I noted: why was the exit code for a failed patch changed from `1` to `-1`?  Normally, programs should use exit codes in the range 0-127.



---

archive/issue_events_176293.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-24T13:27:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176293"
}
```



---

archive/issue_events_176294.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-24T13:27:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176294"
}
```



---

archive/issue_comments_145706.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nOh silly me, I only searched the ``developer guide`` for `CFLAG64`! I also like how the installation guide is dancing around the fact that `CFLAG64` is currently useless since it is not used in all spgks, so if you were to use a compiler that doesn't understand its default `-m64` value breakage will ensue. So I'll concede that it is documented, but it still doesn't sound like a good idea to me.\n\nI've fixed the offending exit code to be `+1`.",
    "created_at": "2012-08-24T13:27:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145706",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:77" align="right">comment:77</div>

Oh silly me, I only searched the ``developer guide`` for `CFLAG64`! I also like how the installation guide is dancing around the fact that `CFLAG64` is currently useless since it is not used in all spgks, so if you were to use a compiler that doesn't understand its default `-m64` value breakage will ensue. So I'll concede that it is documented, but it still doesn't sound like a good idea to me.

I've fixed the offending exit code to be `+1`.



---

archive/issue_comments_145707.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nShould the references to #9511 be changed to #13164 (in the dependencies and the ticket description?",
    "created_at": "2012-08-24T15:25:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145707",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:78" align="right">comment:78</div>

Should the references to #9511 be changed to #13164 (in the dependencies and the ticket description?



---

archive/issue_comments_145708.json:
```json
{
    "body": "Changed dependencies from **#13118, #12840, #12841, #9511** to **#13118, #12840, #12841, #13164**",
    "created_at": "2012-08-25T17:51:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145708",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **#13118, #12840, #12841, #9511** to **#13118, #12840, #12841, #13164**



---

archive/issue_comments_145709.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nReplying to [@vbraun](#comment%3A77):\n> I also like how the installation guide is dancing around the fact that `CFLAG64` is currently useless since it is not used in all spgks, so if you were to use a compiler that doesn't understand its default `-m64` value breakage will ensue. So I'll concede that it is documented, but it still doesn't sound like a good idea to me.\n\nThis is all very true, but no good excuse for sloppy rebasing...",
    "created_at": "2012-08-27T11:40:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145709",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:80" align="right">comment:80</div>

Replying to [@vbraun](#comment%3A77):
> I also like how the installation guide is dancing around the fact that `CFLAG64` is currently useless since it is not used in all spgks, so if you were to use a compiler that doesn't understand its default `-m64` value breakage will ensue. So I'll concede that it is documented, but it still doesn't sound like a good idea to me.

This is all very true, but no good excuse for sloppy rebasing...



---

archive/issue_events_176295.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-09-05T09:29:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176295"
}
```



---

archive/issue_events_176296.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-09-05T09:29:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176296"
}
```



---

archive/issue_comments_145710.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n 1. **Observe:** Dependencies\n 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg\n-3. **Install:** http://www.stp.dias.ie/~vbraun/Sage/spkg/linbox-1.3.2.spkg\n+3. **Install:** [http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg)\n 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)\n 5. **Apply:** [attachment: sage-linbox.2.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.2.patch.gz)\n 6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) and [attachment: trac_12883-spkg-install.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883-spkg-install.patch.gz) to\u00a0`SAGE_ROOT`\u00a0repository\n``````\n",
    "created_at": "2012-09-05T09:29:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145710",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 1. **Observe:** Dependencies
 2. **Install: **http://sage.math.washington.edu/home/malb/spkgs/fflas_ffpack-1.6.0.spkg
-3. **Install:** http://www.stp.dias.ie/~vbraun/Sage/spkg/linbox-1.3.2.spkg
+3. **Install:** [http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/linbox-1.3.2.spkg)
 4. **Apply:** [attachment: matrix_modn_dense_no_linbox.patch](https://github.com/sagemath/sage/files/ticket12883/matrix_modn_dense_no_linbox.patch.gz)
 5. **Apply:** [attachment: sage-linbox.2.patch](https://github.com/sagemath/sage/files/ticket12883/sage-linbox.2.patch.gz)
 6. **Apply:** [attachment: trac_12883_linbox_deps.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883_linbox_deps.patch.gz) and [attachment: trac_12883-spkg-install.patch](https://github.com/sagemath/sage/files/ticket12883/trac_12883-spkg-install.patch.gz) to `SAGE_ROOT` repository
``````




---

archive/issue_comments_145711.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nRebased from scratch, needs review.",
    "created_at": "2012-09-05T09:30:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145711",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:82" align="right">comment:82</div>

Rebased from scratch, needs review.



---

archive/issue_events_176297.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-09-05T09:30:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176297"
}
```



---

archive/issue_events_176298.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-09-05T09:30:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176298"
}
```



---

archive/issue_comments_145712.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,4 +13,4 @@\n 1. https://bitbucket.org/malb/fflas-ffpack-spkg\n 2. https://bitbucket.org/malb/linbox-spkg\n \n-Note for release manager: This ticket must be merged simultaneously with #9511, they depend on each other.\n+Note for release manager: This ticket must be merged simultaneously with #13164, they depend on each other.\n``````\n",
    "created_at": "2012-09-05T09:31:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145712",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,4 +13,4 @@
 1. https://bitbucket.org/malb/fflas-ffpack-spkg
 2. https://bitbucket.org/malb/linbox-spkg
 
-Note for release manager: This ticket must be merged simultaneously with #9511, they depend on each other.
+Note for release manager: This ticket must be merged simultaneously with #13164, they depend on each other.
``````




---

archive/issue_comments_145713.json:
```json
{
    "body": "Diff for linbox 1.1.6.p11->1.3.2. For reference / review only.",
    "created_at": "2012-09-05T09:33:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145713",
    "user": "https://github.com/jdemeyer"
}
```

Diff for linbox 1.1.6.p11->1.3.2. For reference / review only.



---

archive/issue_comments_145714.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">comment:84</div>\n\nAttachment: **[linbox-1.3.2.diff.gz](https://github.com/sagemath/sage/files/ticket12883/linbox-1.3.2.diff.gz)**",
    "created_at": "2012-09-10T15:10:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145714",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:84" align="right">comment:84</div>

Attachment: **[linbox-1.3.2.diff.gz](https://github.com/sagemath/sage/files/ticket12883/linbox-1.3.2.diff.gz)**



---

archive/issue_comments_145715.json:
```json
{
    "body": "Merged: **sage-5.4.beta1**",
    "created_at": "2012-09-10T15:10:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145715",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.4.beta1**



---

archive/issue_events_176299.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-09-10T15:10:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176299"
}
```



---

archive/issue_events_176300.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-09-10T15:10:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/12883#event-176300"
}
```



---

archive/issue_comments_145716.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nCould this cause the following sporadic doctest error:\n\n```\nsage -t  --long -force_lib devel/sage/sage/modular/modform/ambient.py\nyou are running out of primes. 1000 coprime primes\nfound**********************************************************************\nFile\n\"/release/buildbot/sage/sage-1/sage_upgrade_5.2/build/sage-5.5.beta0/devel/sage-main/sage/modular/modform/ambient.py\",\nline 815:\n    sage: [f[0]%p for p in prime_range(100)] # long time (0s, depends on\nabove)\nExpected:\n    [0, 0, 0, 0, 1, 9, 2, 7, 0, 0, 0, 0, 1, 12, 9, 16, 37, 0, 21, 11,\n70, 22, 0, 58, 76]\nGot:\n    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n1, 1, 1]\n**********************************************************************\nFile\n\"/release/buildbot/sage/sage-1/sage_upgrade_5.2/build/sage-5.5.beta0/devel/sage-main/sage/modular/modform/ambient.py\",\nline 817:\n    sage: [f[42]%p for p in prime_range(100)] # long time (0s, depends\non above)\nExpected:\n    [0, 0, 4, 0, 10, 4, 4, 8, 12, 1, 23, 13, 10, 27, 20, 13, 16, 59, 53,\n41, 11, 13, 12, 6, 82]\nGot:\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n0, 0, 0]\n**********************************************************************\n```\n(the string \"you are running out of primes\" certainly comes from the new LinBox package).",
    "created_at": "2012-10-08T13:11:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145716",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:85" align="right">comment:85</div>

Could this cause the following sporadic doctest error:

```
sage -t  --long -force_lib devel/sage/sage/modular/modform/ambient.py
you are running out of primes. 1000 coprime primes
found**********************************************************************
File
"/release/buildbot/sage/sage-1/sage_upgrade_5.2/build/sage-5.5.beta0/devel/sage-main/sage/modular/modform/ambient.py",
line 815:
    sage: [f[0]%p for p in prime_range(100)] # long time (0s, depends on
above)
Expected:
    [0, 0, 0, 0, 1, 9, 2, 7, 0, 0, 0, 0, 1, 12, 9, 16, 37, 0, 21, 11,
70, 22, 0, 58, 76]
Got:
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1]
**********************************************************************
File
"/release/buildbot/sage/sage-1/sage_upgrade_5.2/build/sage-5.5.beta0/devel/sage-main/sage/modular/modform/ambient.py",
line 817:
    sage: [f[42]%p for p in prime_range(100)] # long time (0s, depends
on above)
Expected:
    [0, 0, 4, 0, 10, 4, 4, 8, 12, 1, 23, 13, 10, 27, 20, 13, 16, 59, 53,
41, 11, 13, 12, 6, 82]
Got:
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0]
**********************************************************************
```
(the string "you are running out of primes" certainly comes from the new LinBox package).



---

archive/issue_comments_145717.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nI've posted this question to the linbox-use mailinglist https://groups.google.com/d/topic/linbox-use/SgsXVYM7u7s/discussion",
    "created_at": "2012-10-08T13:22:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145717",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:86" align="right">comment:86</div>

I've posted this question to the linbox-use mailinglist https://groups.google.com/d/topic/linbox-use/SgsXVYM7u7s/discussion



---

archive/issue_comments_145718.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nFYI: I did 4000 doctest runs and this happened 9 times, so it is quite rare.\n\nBecause of the rarity, it doesn't have to be a sage-5.4 blocker, but of course I'd like to see it fixed.",
    "created_at": "2012-10-08T21:09:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145718",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:87" align="right">comment:87</div>

FYI: I did 4000 doctest runs and this happened 9 times, so it is quite rare.

Because of the rarity, it doesn't have to be a sage-5.4 blocker, but of course I'd like to see it fixed.



---

archive/issue_comments_145719.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nWith previous LinBox versions, this file sometimes (equally rarely) timeouts in doctests.  So maybe it's the same issue, but with a timeout before, and an error now.",
    "created_at": "2012-10-08T21:31:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145719",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:88" align="right">comment:88</div>

With previous LinBox versions, this file sometimes (equally rarely) timeouts in doctests.  So maybe it's the same issue, but with a timeout before, and an error now.



---

archive/issue_comments_145720.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nUnfortunately, no response from upstream concerning the \"running out of primes\" error.",
    "created_at": "2012-11-02T13:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145720",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:89" align="right">comment:89</div>

Unfortunately, no response from upstream concerning the "running out of primes" error.



---

archive/issue_comments_145721.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nEither this or #13164 caused #14032.",
    "created_at": "2013-01-29T15:38:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/12883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/12883#issuecomment-145721",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:90" align="right">comment:90</div>

Either this or #13164 caused #14032.
