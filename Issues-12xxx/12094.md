# Issue 12094: Upgrade Maxima to 5.24.0

archive/issues_011922.json:
```json
{
    "body": "I've successfully replaced the 'src' directory in the current maxima-5.23.2.p3.spkg with the tarball from 5.24.0. All tests pass with one small exception; fix included.\n\nThis will fix #11591, and prevent a regression in the fix for #11483.\n\nPackage at [http://boxen.math.washington.edu/home/jdemeyer/spkg/maxima-5.24.0.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/maxima-5.24.0.p0.spkg)\n\nApply [attachment:sage-trac-12094.patch]\n\nAssignee: @burcin\n\nCC:  @benjaminfjones @nexttime @burcin @jhpalmieri\n\nReviewer: Karl-Dieter Crisman\n\nAuthor: Michael Orlitzky\n\nMerged: sage-5.0.beta2\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/12094\n\n",
    "closed_at": "2012-02-02T12:53:32Z",
    "created_at": "2011-11-29T03:15:35Z",
    "labels": [
        "component: symbolics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Upgrade Maxima to 5.24.0",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12094",
    "user": "https://github.com/orlitzky"
}
```
I've successfully replaced the 'src' directory in the current maxima-5.23.2.p3.spkg with the tarball from 5.24.0. All tests pass with one small exception; fix included.

This will fix #11591, and prevent a regression in the fix for #11483.

Package at [http://boxen.math.washington.edu/home/jdemeyer/spkg/maxima-5.24.0.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/maxima-5.24.0.p0.spkg)

Apply [attachment:sage-trac-12094.patch]

Assignee: @burcin

CC:  @benjaminfjones @nexttime @burcin @jhpalmieri

Reviewer: Karl-Dieter Crisman

Author: Michael Orlitzky

Merged: sage-5.0.beta2

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/12094





---

archive/issue_comments_173541.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [sage-trac-12094.patch](tarball://root/attachments/some-uuid/ticket12094/sage-trac-12094.patch) by @kcrisman created at 2011-11-29 03:29:53\n\nHmm, but isn't the latest Maxima 5.25.1?  Just wondering.\n\n---\n\nThe procedure for upgrading is as follows.\n* Create new spkg for the upgrade as in the [developer's guide](http://www.sagemath.org/doc/developer/).\n* Make sure that you've upgraded SPKG.txt, checked in any changes etc.\n* Post a link to the spkg here and in the description to the ticket.  (You can use an account at sage.math, or [spkg-upload at Google Code](http://code.google.com/p/spkg-upload/).)\n* Tell us anything else we need to know!\n* After review (probably on a few platforms) the new spkg will be incorporated by the release manager.",
    "created_at": "2011-11-29T03:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173541",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>
Attachment [sage-trac-12094.patch](tarball://root/attachments/some-uuid/ticket12094/sage-trac-12094.patch) by @kcrisman created at 2011-11-29 03:29:53

Hmm, but isn't the latest Maxima 5.25.1?  Just wondering.

---

The procedure for upgrading is as follows.
* Create new spkg for the upgrade as in the [developer's guide](http://www.sagemath.org/doc/developer/).
* Make sure that you've upgraded SPKG.txt, checked in any changes etc.
* Post a link to the spkg here and in the description to the ticket.  (You can use an account at sage.math, or [spkg-upload at Google Code](http://code.google.com/p/spkg-upload/).)
* Tell us anything else we need to know!
* After review (probably on a few platforms) the new spkg will be incorporated by the release manager.



---

archive/issue_comments_173542.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [kcrisman](#comment%3A1):\n> Hmm, but isn't the latest Maxima 5.25.1?  Just wondering.\n> \n\n\nYep, sorry, I just mentioned it on sage-devel: there is an unrelated regression in 5.25.1 that I didn't want to deal with at the same time. I'll try to make a proper spkg for this.",
    "created_at": "2011-11-29T03:34:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173542",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:2'></a>
Replying to [kcrisman](#comment%3A1):
> Hmm, but isn't the latest Maxima 5.25.1?  Just wondering.
> 


Yep, sorry, I just mentioned it on sage-devel: there is an unrelated regression in 5.25.1 that I didn't want to deal with at the same time. I'll try to make a proper spkg for this.



---

archive/issue_comments_173543.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [mjo](#comment%3A2):\n> Replying to [kcrisman](#comment%3A1):\n> > Hmm, but isn't the latest Maxima 5.25.1?  Just wondering.\n\n> Yep, sorry, I just mentioned it on sage-devel: there is an unrelated regression in 5.25.1 that I didn't want to deal with at the same time. I'll try to make a proper spkg for this.\nJust be sure to link to a reference for that regression so that other readers of this ticket know why you didn't go all the way up.",
    "created_at": "2011-11-29T03:46:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173543",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'></a>
Replying to [mjo](#comment%3A2):
> Replying to [kcrisman](#comment%3A1):
> > Hmm, but isn't the latest Maxima 5.25.1?  Just wondering.

> Yep, sorry, I just mentioned it on sage-devel: there is an unrelated regression in 5.25.1 that I didn't want to deal with at the same time. I'll try to make a proper spkg for this.
Just be sure to link to a reference for that regression so that other readers of this ticket know why you didn't go all the way up.



---

archive/issue_comments_173544.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [kcrisman](#comment%3A3):\n> Just be sure to link to a reference for that regression so that other readers of this ticket know why you didn't go all the way up.\n\n\nSure. In sage/calculus/desolvers.py, we have,\n\n```\nsage: y=function('y',x); assume(x>0); assume(y>0)                       \nsage: desolve(x*diff(y,x)-x*sqrt(y^2+x^2)-y == 0, y, contrib_ode=True)\n[x - arcsinh(y(x)/x) == c]\n```\n\nInstead of that nice (confirmed correct) result, I was getting back a much larger expression. I tested in the Maxima console, and it was returning the correct answer, as expected above. However, that wasn't coming back out to sage.\n\nI didn't test with 5.25.0. There was some other general shuffling about of terms in doctest results, and I thought it best to compartmentalize the damage since this is my first time touching any of this code.",
    "created_at": "2011-11-29T03:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173544",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:4'></a>
Replying to [kcrisman](#comment%3A3):
> Just be sure to link to a reference for that regression so that other readers of this ticket know why you didn't go all the way up.


Sure. In sage/calculus/desolvers.py, we have,

```
sage: y=function('y',x); assume(x>0); assume(y>0)                       
sage: desolve(x*diff(y,x)-x*sqrt(y^2+x^2)-y == 0, y, contrib_ode=True)
[x - arcsinh(y(x)/x) == c]
```

Instead of that nice (confirmed correct) result, I was getting back a much larger expression. I tested in the Maxima console, and it was returning the correct answer, as expected above. However, that wasn't coming back out to sage.

I didn't test with 5.25.0. There was some other general shuffling about of terms in doctest results, and I thought it best to compartmentalize the damage since this is my first time touching any of this code.



---

archive/issue_comments_173545.json:
```json
{
    "body": "<a id='comment:5'></a>\nHere's the spkg. Let me know if I can do anything better:\n\n  http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg\n\nI looked around on the spkg-upload Google code page, but I can't for the life of me figure out what I'm supposed to do there.",
    "created_at": "2011-11-29T04:01:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173545",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:5'></a>
Here's the spkg. Let me know if I can do anything better:

  http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg

I looked around on the spkg-upload Google code page, but I can't for the life of me figure out what I'm supposed to do there.



---

archive/issue_comments_173546.json:
```json
{
    "body": "<a id='comment:6'></a>\n>   http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg\nThanks.  Hopefully we can at the very least look at this at Sage Days 35.5. \n> I looked around on the spkg-upload Google code page, but I can't for the life of me figure out what I'm supposed to do there.\n\nIf you have your own website, then it's really not an issue :)",
    "created_at": "2011-11-29T04:20:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173546",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>
>   http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg
Thanks.  Hopefully we can at the very least look at this at Sage Days 35.5. 
> I looked around on the spkg-upload Google code page, but I can't for the life of me figure out what I'm supposed to do there.

If you have your own website, then it's really not an issue :)



---

archive/issue_comments_173547.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [mjo](#comment%3A4):\n> Replying to [kcrisman](#comment%3A3):\n> > Just be sure to link to a reference for that regression so that other readers of this ticket know why you didn't go all the way up.\n\n> \n> Sure. In sage/calculus/desolvers.py, we have,\n> \n  \n{{{\n> sage: y=function('y',x); assume(x>0); assume(y>0)                       \n> sage: desolve(x*diff(y,x)-x*sqrt(y<sup>2+x</sup>2)-y == 0, y, contrib_ode=True)\n> [x - arcsinh(y(x)/x) == c]\n\n}}}\nLike this, eh?\n\n```\nMaxima 5.25.0 http://maxima.sourceforge.net\nusing Lisp SBCL 1.0.24\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.(%i1) load('contrib_ode);\n(%o1) /Users/karl-dietercrisman/Downloads/maxima-5.25.0/share/contrib/diffequa\\\ntions/contrib_ode.mac\n(%i8) display2d:false;\n\n(%o8) false\n(%i9) assume(y>0);\n\n(%o9) [redundant]\n(%i10) (TEMP:contrib_ode(x*('diff(y,x,1))-x*sqrt(y^2+x^2)-y,y,x), if TEMP=false then TEMP else substitute(y=y(x),TEMP)); \n\n(%o10) [x-asinh(y(x)/abs(x)) = %c]\n```\nIf you run it without the assumption, you get \n\n```\n(%i13) (TEMP:contrib_ode(x*('diff(y,x,1))-x*sqrt(y^2+x^2)-y,y,x), if TEMP=false then TEMP else substitute(y=y(x),TEMP)); \n\nIs  y  zero or nonzero?\n\nnonzero;\n(%o13) [-(y(x)*asinh(abs(y(x))/abs(x))-x*abs(y(x)))/abs(y(x)) = %c]\n```\nBut I assume this isn't what Sage gave you, either.   Strange that this would change.",
    "created_at": "2011-11-29T04:31:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173547",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'></a>
Replying to [mjo](#comment%3A4):
> Replying to [kcrisman](#comment%3A3):
> > Just be sure to link to a reference for that regression so that other readers of this ticket know why you didn't go all the way up.

> 
> Sure. In sage/calculus/desolvers.py, we have,
> 
  
{{{
> sage: y=function('y',x); assume(x>0); assume(y>0)                       
> sage: desolve(x*diff(y,x)-x*sqrt(y<sup>2+x</sup>2)-y == 0, y, contrib_ode=True)
> [x - arcsinh(y(x)/x) == c]

}}}
Like this, eh?

```
Maxima 5.25.0 http://maxima.sourceforge.net
using Lisp SBCL 1.0.24
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.(%i1) load('contrib_ode);
(%o1) /Users/karl-dietercrisman/Downloads/maxima-5.25.0/share/contrib/diffequa\
tions/contrib_ode.mac
(%i8) display2d:false;

(%o8) false
(%i9) assume(y>0);

(%o9) [redundant]
(%i10) (TEMP:contrib_ode(x*('diff(y,x,1))-x*sqrt(y^2+x^2)-y,y,x), if TEMP=false then TEMP else substitute(y=y(x),TEMP)); 

(%o10) [x-asinh(y(x)/abs(x)) = %c]
```
If you run it without the assumption, you get 

```
(%i13) (TEMP:contrib_ode(x*('diff(y,x,1))-x*sqrt(y^2+x^2)-y,y,x), if TEMP=false then TEMP else substitute(y=y(x),TEMP)); 

Is  y  zero or nonzero?

nonzero;
(%o13) [-(y(x)*asinh(abs(y(x))/abs(x))-x*abs(y(x)))/abs(y(x)) = %c]
```
But I assume this isn't what Sage gave you, either.   Strange that this would change.



---

archive/issue_comments_173548.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [kcrisman](#comment%3A7):\n> But I assume this isn't what Sage gave you, either.   Strange that this would change.\n\n\nYeah. I think you just missed an 'assume(x > 0)' in the first one. This is correct:\n\n```\nsage: maxima.version()\n'5.25.1'\nsage: maxima.console()\n;;; Loading #P\"/home/mjo/src/sage-4.8.alpha2/local/lib/ecl/sb-bsd-sockets.fas\"\n;;; Loading #P\"/home/mjo/src/sage-4.8.alpha2/local/lib/ecl/sockets.fas\"\n;;; Loading #P\"/home/mjo/src/sage-4.8.alpha2/local/lib/ecl/defsystem.fas\"\n;;; Loading #P\"/home/mjo/src/sage-4.8.alpha2/local/lib/ecl/cmp.fas\"\nMaxima 5.25.1 http://maxima.sourceforge.net\nusing Lisp ECL 11.1.1\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) load('contrib_ode);\n(%o1) /home/mjo/src/sage-4.8.alpha2/local/share/maxima/5.25.1/share/contrib/di\\\nffequations/contrib_ode.mac\n(%i2) display2d: false;\n(%o2) false\n(%i3) assume(x > 0);\n(%o3) [x > 0]\n(%i4) assume(y > 0);\n(%o4) [y > 0]\n(%i5) eqn: x * 'diff(y,x) - x*sqrt(x^2 + y^2) - y = 0;\n(%o5) x*'diff(y,x,1)-x*sqrt(y^2+x^2)-y = 0\n(%i6) contrib_ode(eqn,y,x);\n(%o6) [x-asinh(y/x) = %c]\n```\n\nand in the same sage session,\n\n```\nsage: y = function('y',x)\nsage: assume(x > 0)\nsage: assume(y > 0)\nsage: desolve(x*diff(y,x)-x*sqrt(y^2+x^2)-y == 0, y, contrib_ode=True)\n[1/2*(2*x^2*sqrt(x^(-2)) - 2*x*sqrt(x^(-2))*arcsinh(y(x)/sqrt(x^2)) - 2*x*sqrt(x^(-2))*arcsinh(y(x)^2/(sqrt(y(x)^2)*x)) + log(4*(2*x^2*sqrt((x^2*y(x)^2 + y(x)^4)/x^2)*sqrt(x^(-2)) + x^2 + 2*y(x)^2)/x^2))/(x*sqrt(x^(-2))) == c]\n```\n\nBoom. Not sure what the deal is. It doesn't simplify with full_simplify, and I'm not man enough to try it by hand. That was my motivation to give 5.24.0 a try =)",
    "created_at": "2011-11-29T05:00:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173548",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:8'></a>
Replying to [kcrisman](#comment%3A7):
> But I assume this isn't what Sage gave you, either.   Strange that this would change.


Yeah. I think you just missed an 'assume(x > 0)' in the first one. This is correct:

```
sage: maxima.version()
'5.25.1'
sage: maxima.console()
;;; Loading #P"/home/mjo/src/sage-4.8.alpha2/local/lib/ecl/sb-bsd-sockets.fas"
;;; Loading #P"/home/mjo/src/sage-4.8.alpha2/local/lib/ecl/sockets.fas"
;;; Loading #P"/home/mjo/src/sage-4.8.alpha2/local/lib/ecl/defsystem.fas"
;;; Loading #P"/home/mjo/src/sage-4.8.alpha2/local/lib/ecl/cmp.fas"
Maxima 5.25.1 http://maxima.sourceforge.net
using Lisp ECL 11.1.1
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) load('contrib_ode);
(%o1) /home/mjo/src/sage-4.8.alpha2/local/share/maxima/5.25.1/share/contrib/di\
ffequations/contrib_ode.mac
(%i2) display2d: false;
(%o2) false
(%i3) assume(x > 0);
(%o3) [x > 0]
(%i4) assume(y > 0);
(%o4) [y > 0]
(%i5) eqn: x * 'diff(y,x) - x*sqrt(x^2 + y^2) - y = 0;
(%o5) x*'diff(y,x,1)-x*sqrt(y^2+x^2)-y = 0
(%i6) contrib_ode(eqn,y,x);
(%o6) [x-asinh(y/x) = %c]
```

and in the same sage session,

```
sage: y = function('y',x)
sage: assume(x > 0)
sage: assume(y > 0)
sage: desolve(x*diff(y,x)-x*sqrt(y^2+x^2)-y == 0, y, contrib_ode=True)
[1/2*(2*x^2*sqrt(x^(-2)) - 2*x*sqrt(x^(-2))*arcsinh(y(x)/sqrt(x^2)) - 2*x*sqrt(x^(-2))*arcsinh(y(x)^2/(sqrt(y(x)^2)*x)) + log(4*(2*x^2*sqrt((x^2*y(x)^2 + y(x)^4)/x^2)*sqrt(x^(-2)) + x^2 + 2*y(x)^2)/x^2))/(x*sqrt(x^(-2))) == c]
```

Boom. Not sure what the deal is. It doesn't simplify with full_simplify, and I'm not man enough to try it by hand. That was my motivation to give 5.24.0 a try =)



---

archive/issue_comments_173549.json:
```json
{
    "body": "<a id='comment:9'></a>\n> and in the same sage session,\n> \n\n{{{\n> sage: y = function('y',x)\n> sage: assume(x > 0)\n> sage: assume(y > 0)\n> sage: desolve(x*diff(y,x)-x*sqrt(y<sup>2+x</sup>2)-y == 0, y, contrib_ode=True)\n> [1/2*(2*x<sup>2*sqrt(x</sup>(-2)) - 2*x*sqrt(x<sup>(-2))*arcsinh(y(x)/sqrt(x</sup>2)) - 2*x*sqrt(x<sup>(-2))*arcsinh(y(x)</sup>2/(sqrt(y(x)^2)*x)) + log(4*(2*x<sup>2*sqrt((x</sup>2*y(x)^2 + y(x)<sup>4)/x</sup>2)*sqrt(x^(-2)) + x^2 + 2*y(x)<sup>2)/x</sup>2))/(x*sqrt(x^(-2))) == c]\n\n}}}\n\nWow!  That is really baffling.\n\nHere's the best I could do.\n\n```\nsage: F.expand_log().simplify_full().expand()\nx + 1/2*log(x^2 + 2*y(x)^2 + 2*sqrt(x^2 + y(x)^2)*y(x)) + log(2/x) - arcsinh(abs(y(x))/x) - arcsinh(y(x)/x)\n```\nProbably this just differs by a constant - though this is after assuming positive things and still there is the abs in there.",
    "created_at": "2011-11-29T14:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173549",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:9'></a>
> and in the same sage session,
> 

{{{
> sage: y = function('y',x)
> sage: assume(x > 0)
> sage: assume(y > 0)
> sage: desolve(x*diff(y,x)-x*sqrt(y<sup>2+x</sup>2)-y == 0, y, contrib_ode=True)
> [1/2*(2*x<sup>2*sqrt(x</sup>(-2)) - 2*x*sqrt(x<sup>(-2))*arcsinh(y(x)/sqrt(x</sup>2)) - 2*x*sqrt(x<sup>(-2))*arcsinh(y(x)</sup>2/(sqrt(y(x)^2)*x)) + log(4*(2*x<sup>2*sqrt((x</sup>2*y(x)^2 + y(x)<sup>4)/x</sup>2)*sqrt(x^(-2)) + x^2 + 2*y(x)<sup>2)/x</sup>2))/(x*sqrt(x^(-2))) == c]

}}}

Wow!  That is really baffling.

Here's the best I could do.

```
sage: F.expand_log().simplify_full().expand()
x + 1/2*log(x^2 + 2*y(x)^2 + 2*sqrt(x^2 + y(x)^2)*y(x)) + log(2/x) - arcsinh(abs(y(x))/x) - arcsinh(y(x)/x)
```
Probably this just differs by a constant - though this is after assuming positive things and still there is the abs in there.



---

archive/issue_comments_173550.json:
```json
{
    "body": "<a id='comment:10'></a>\nI documented a number of things that changed or were wrong with maxima-5.25.x some time ago on sage-devel. I wouldn't think there is anything to do in the spkg apart from updating the sources. Are you sure that you got all the doctests that need fixing with 5.24.0? I thought there was another one but I could be wrong.",
    "created_at": "2011-11-29T18:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173550",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'></a>
I documented a number of things that changed or were wrong with maxima-5.25.x some time ago on sage-devel. I wouldn't think there is anything to do in the spkg apart from updating the sources. Are you sure that you got all the doctests that need fixing with 5.24.0? I thought there was another one but I could be wrong.



---

archive/issue_comments_173551.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [fbissey](#comment%3A10):\n> I documented a number of things that changed or were wrong with maxima-5.25.x some time ago on sage-devel. I wouldn't think there is anything to do in the spkg apart from updating the sources. Are you sure that you got all the doctests that need fixing with 5.24.0? I thought there was another one but I could be wrong. \n\n\nI hope so. This is how I'm testing. Did I miss anything?\n\n```\ncd spkg/standard\nsage -f maxima-5.24.0.p0.spkg\n(works)\n\ncd ../..\nsage -b new_maxima\n(works)\n\nsage -tp 4 --long devel/sage-new_maxima/\n(all pass except three tests in cmdline.py that always fail)\n\ncd devel/sage-new_maxima/\nsage -hg status\n(nothing)\n\nsage -hg log | most\n(shows the last commit on top of the alpha is my patch)\n```",
    "created_at": "2011-11-29T20:07:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173551",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:11'></a>
Replying to [fbissey](#comment%3A10):
> I documented a number of things that changed or were wrong with maxima-5.25.x some time ago on sage-devel. I wouldn't think there is anything to do in the spkg apart from updating the sources. Are you sure that you got all the doctests that need fixing with 5.24.0? I thought there was another one but I could be wrong. 


I hope so. This is how I'm testing. Did I miss anything?

```
cd spkg/standard
sage -f maxima-5.24.0.p0.spkg
(works)

cd ../..
sage -b new_maxima
(works)

sage -tp 4 --long devel/sage-new_maxima/
(all pass except three tests in cmdline.py that always fail)

cd devel/sage-new_maxima/
sage -hg status
(nothing)

sage -hg log | most
(shows the last commit on top of the alpha is my patch)
```



---

archive/issue_comments_173552.json:
```json
{
    "body": "<a id='comment:12'></a>\nJust fyi - not that we have to act on this:\n\n```\nFrom: Robert Dodier <robert.dodier@gmail.com>\nTo: maxima@math.utexas.edu\nSubject: [Maxima] 5.26 release branch planned for Dec 6\nMessage-ID:\n       <CAAsY_sRjQEWUjc83VkXG-oMBtPcMve9T_cC2W=MoGb-_aOvMmA@mail.gmail.com>\nContent-Type: text/plain; charset=ISO-8859-1\n\nHi, I am planning to make a release branch for Maxima 5.26\naround 2011-12-06 00:00 UTC.\n\nAs ever, I'll just make the branch with whatever is\ncurrent on the git master or whatever the appropriate\nterminology is.\n\nbest\n\nRobert Dodier\n```",
    "created_at": "2011-11-30T03:01:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173552",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>
Just fyi - not that we have to act on this:

```
From: Robert Dodier <robert.dodier@gmail.com>
To: maxima@math.utexas.edu
Subject: [Maxima] 5.26 release branch planned for Dec 6
Message-ID:
       <CAAsY_sRjQEWUjc83VkXG-oMBtPcMve9T_cC2W=MoGb-_aOvMmA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

Hi, I am planning to make a release branch for Maxima 5.26
around 2011-12-06 00:00 UTC.

As ever, I'll just make the branch with whatever is
current on the git master or whatever the appropriate
terminology is.

best

Robert Dodier
```



---

archive/issue_comments_173553.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [fbissey](#comment%3A10):\n> I documented a number of things that changed or were wrong with maxima-5.25.x some time ago on sage-devel. I wouldn't think there is anything to do in the spkg apart from updating the sources. Are you sure that you got all the doctests that need fixing with 5.24.0? I thought there was another one but I could be wrong. \n\n\nSee [this sage-devel thread](http://groups.google.com/group/sage-devel/browse_thread/thread/888379567d7c38b5).  I think this would be worth checking and making sure is right.  I'd rather upgrade as much as possible and allow a (correct) ungood simplification go by.",
    "created_at": "2011-12-13T17:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173553",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:13'></a>
Replying to [fbissey](#comment%3A10):
> I documented a number of things that changed or were wrong with maxima-5.25.x some time ago on sage-devel. I wouldn't think there is anything to do in the spkg apart from updating the sources. Are you sure that you got all the doctests that need fixing with 5.24.0? I thought there was another one but I could be wrong. 


See [this sage-devel thread](http://groups.google.com/group/sage-devel/browse_thread/thread/888379567d7c38b5).  I think this would be worth checking and making sure is right.  I'd rather upgrade as much as possible and allow a (correct) ungood simplification go by.



---

archive/issue_comments_173554.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [kcrisman](#comment%3A13):\n> \n> See [this sage-devel thread](http://groups.google.com/group/sage-devel/browse_thread/thread/888379567d7c38b5).  I think this would be worth checking and making sure is right.  I'd rather upgrade as much as possible and allow a (correct) ungood simplification go by.  \n\n\nI ran into all of those, too. One of them is fixed with a simplify(), but the desolve thing is still a problem.\n\nMy thinking was that it would be easier to review and test 5.24, which is a relatively unintrusive improvement, and then bump to 5.25.1 after closing some bugs and adding doctests for fixes introduced in 5.24.",
    "created_at": "2011-12-13T17:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173554",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:14'></a>
Replying to [kcrisman](#comment%3A13):
> 
> See [this sage-devel thread](http://groups.google.com/group/sage-devel/browse_thread/thread/888379567d7c38b5).  I think this would be worth checking and making sure is right.  I'd rather upgrade as much as possible and allow a (correct) ungood simplification go by.  


I ran into all of those, too. One of them is fixed with a simplify(), but the desolve thing is still a problem.

My thinking was that it would be easier to review and test 5.24, which is a relatively unintrusive improvement, and then bump to 5.25.1 after closing some bugs and adding doctests for fixes introduced in 5.24.



---

archive/issue_comments_173555.json:
```json
{
    "body": "<a id='comment:15'></a>\n> My thinking was that it would be easier to review and test 5.24, which is a relatively unintrusive improvement, and then bump to 5.25.1 after closing some bugs and adding doctests for fixes introduced in 5.24.\n\n\nThere will be a number of people needing easy bugfixes at Sage Days 35.5, but I don't know how many of the many symbolics tickets with \"fixed upstream\" are in fixed in 5.24, how many in 5.25, etc.  \n\nBut I guess in the end it depends on who does the work :)  So I guess if you have a working spkg, maybe we should go with that.  Is it based on the spkg at #11966?",
    "created_at": "2011-12-13T18:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173555",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'></a>
> My thinking was that it would be easier to review and test 5.24, which is a relatively unintrusive improvement, and then bump to 5.25.1 after closing some bugs and adding doctests for fixes introduced in 5.24.


There will be a number of people needing easy bugfixes at Sage Days 35.5, but I don't know how many of the many symbolics tickets with "fixed upstream" are in fixed in 5.24, how many in 5.25, etc.  

But I guess in the end it depends on who does the work :)  So I guess if you have a working spkg, maybe we should go with that.  Is it based on the spkg at #11966?



---

archive/issue_comments_173556.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [kcrisman](#comment%3A15):\n> \n> There will be a number of people needing easy bugfixes at Sage Days 35.5, but I don't know how many of the many symbolics tickets with \"fixed upstream\" are in fixed in 5.24, how many in 5.25, etc.  \n> \n> But I guess in the end it depends on who does the work :)  So I guess if you have a working spkg, maybe we should go with that.  Is it based on the spkg at #11966?\n\n\nYes, it is. I'm going through some of the symbolics tickets now. Many of them are fixed by the abs_integrate package, whose inclusion initially prompted me to bump maxima. Not all of them are fixed, of course, but I don't see any regressions, either.",
    "created_at": "2011-12-13T18:47:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173556",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:16'></a>
Replying to [kcrisman](#comment%3A15):
> 
> There will be a number of people needing easy bugfixes at Sage Days 35.5, but I don't know how many of the many symbolics tickets with "fixed upstream" are in fixed in 5.24, how many in 5.25, etc.  
> 
> But I guess in the end it depends on who does the work :)  So I guess if you have a working spkg, maybe we should go with that.  Is it based on the spkg at #11966?


Yes, it is. I'm going through some of the symbolics tickets now. Many of them are fixed by the abs_integrate package, whose inclusion initially prompted me to bump maxima. Not all of them are fixed, of course, but I don't see any regressions, either.



---

archive/issue_comments_173557.json:
```json
{
    "body": "<a id='comment:17'></a>\nI wouldn't expect any regressions.  Be sure to check out [symbolics](symbolics), and feel free to add any tickets to that list that aren't already on it.",
    "created_at": "2011-12-13T19:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173557",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:17'></a>
I wouldn't expect any regressions.  Be sure to check out [symbolics](symbolics), and feel free to add any tickets to that list that aren't already on it.



---

archive/issue_comments_173558.json:
```json
{
    "body": "<a id='comment:18'></a>\nLet's be sure to fix the double negative in the message on OS X reported [here](http://groups.google.com/group/sage-release/browse_thread/thread/dea19a0a4a154740/fe7c51391f56ba13).",
    "created_at": "2011-12-14T14:13:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173558",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'></a>
Let's be sure to fix the double negative in the message on OS X reported [here](http://groups.google.com/group/sage-release/browse_thread/thread/dea19a0a4a154740/fe7c51391f56ba13).



---

archive/issue_comments_173559.json:
```json
{
    "body": "<a id='comment:19'></a>\nJust FYI for when this ticket is finished, the latest Maxima is [5.26.0](http://sourceforge.net/projects/maxima/files/Maxima-source/5.26.0-source/), officially released today.",
    "created_at": "2011-12-19T17:01:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173559",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:19'></a>
Just FYI for when this ticket is finished, the latest Maxima is [5.26.0](http://sourceforge.net/projects/maxima/files/Maxima-source/5.26.0-source/), officially released today.



---

archive/issue_comments_173560.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-01-27T04:36:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173560",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_173561.json:
```json
{
    "body": "<a id='comment:22'></a>\nThanks for this - I'll try to look at it in the near future.\n\n> Just FYI for when this ticket is finished, the latest Maxima is [5.26.0](http://sourceforge.net/projects/maxima/files/Maxima-source/5.26.0-source/), officially released today.  \n\n\nThough apparently it was also officially released today.  Weird.",
    "created_at": "2012-01-27T15:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173561",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:22'></a>
Thanks for this - I'll try to look at it in the near future.

> Just FYI for when this ticket is finished, the latest Maxima is [5.26.0](http://sourceforge.net/projects/maxima/files/Maxima-source/5.26.0-source/), officially released today.  


Though apparently it was also officially released today.  Weird.



---

archive/issue_comments_173562.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,5 @@\n I've successfully replaced the 'src' directory in the current maxima-5.23.2.p2.spkg with the tarball from 5.24.0. All tests pass with one small exception; fix included.\n \n This will fix #11591, and prevent a regression in the fix for #11483.\n+\n+Package at [http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg](http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg)\n``````\n",
    "created_at": "2012-01-27T18:11:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173562",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,5 @@
 I've successfully replaced the 'src' directory in the current maxima-5.23.2.p2.spkg with the tarball from 5.24.0. All tests pass with one small exception; fix included.
 
 This will fix #11591, and prevent a regression in the fix for #11483.
+
+Package at [http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg](http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg)
``````




---

archive/issue_comments_173563.json:
```json
{
    "body": "<a id='comment:24'></a>\nOkay, here is something we should do.\n\n```\n\n * TODO:\n   Is the `spkg-dist` script still needed, i.e., does anybody run\n   this after upgrading the upstream source tree?\n   (It deletes the stuff in some language directories, `src/doc/info/*/`,\n   and creates dummy `Makefile.in`s, but apparently nobody has run it on\n   the recent Maxima spkgs.)\n```\nThis was added by Leif to SPKG.txt, and I think it's a good point.  To wit:\n\n```\n$ du -h -c\n<snip>\n110M\ttotal\n$ ./spkg-dist \nrm -rf \"src/doc/info/es/\"*\nrm -rf \"src/doc/info/es.utf8/\"*\nrm -rf \"src/doc/info/pt/\"*\nrm -rf \"src/doc/info/pt.utf8/\"*\nrm -rf \"src/doc/info/pt_BR/\"*\nrm -rf \"src/doc/info/pt_BR.utf8/\"*\n$ du -h -c\n<snip>\n 64M\ttotal\n```\nAlso, we can add to\n\n```\nfor X in ['es', 'es.utf8', 'pt', 'pt.utf8', 'pt_BR', 'pt_BR.utf8']:\n```\nby doing\n\n```\nfor X in ['de', 'de.utf8', 'es', 'es.utf8', 'pt', 'pt.utf8', 'pt_BR', 'pt_BR.utf8']:\n```\nWhat do people think?\n\nOtherwise, I don't foresee any problems here; it works, and I'm running tests on OS X 10.6 currently.  If that goes well, I'll try it on sage.math and perhaps call it a day?",
    "created_at": "2012-01-27T18:41:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173563",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:24'></a>
Okay, here is something we should do.

```

 * TODO:
   Is the `spkg-dist` script still needed, i.e., does anybody run
   this after upgrading the upstream source tree?
   (It deletes the stuff in some language directories, `src/doc/info/*/`,
   and creates dummy `Makefile.in`s, but apparently nobody has run it on
   the recent Maxima spkgs.)
```
This was added by Leif to SPKG.txt, and I think it's a good point.  To wit:

```
$ du -h -c
<snip>
110M	total
$ ./spkg-dist 
rm -rf "src/doc/info/es/"*
rm -rf "src/doc/info/es.utf8/"*
rm -rf "src/doc/info/pt/"*
rm -rf "src/doc/info/pt.utf8/"*
rm -rf "src/doc/info/pt_BR/"*
rm -rf "src/doc/info/pt_BR.utf8/"*
$ du -h -c
<snip>
 64M	total
```
Also, we can add to

```
for X in ['es', 'es.utf8', 'pt', 'pt.utf8', 'pt_BR', 'pt_BR.utf8']:
```
by doing

```
for X in ['de', 'de.utf8', 'es', 'es.utf8', 'pt', 'pt.utf8', 'pt_BR', 'pt_BR.utf8']:
```
What do people think?

Otherwise, I don't foresee any problems here; it works, and I'm running tests on OS X 10.6 currently.  If that goes well, I'll try it on sage.math and perhaps call it a day?



---

archive/issue_comments_173564.json:
```json
{
    "body": "Changing author from \"\" to \"Michael Orlitzky\"",
    "created_at": "2012-01-27T18:41:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173564",
    "user": "https://github.com/kcrisman"
}
```

Changing author from "" to "Michael Orlitzky"



---

archive/issue_comments_173565.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Karl-Dieter Crisman\"",
    "created_at": "2012-01-27T18:41:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173565",
    "user": "https://github.com/kcrisman"
}
```

Changing reviewer from "" to "Karl-Dieter Crisman"



---

archive/issue_comments_173566.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-01-27T19:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173566",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_173567.json:
```json
{
    "body": "<a id='comment:25'></a>\nYeah, since we aren't really committed to providing upstream documentation other than English (or even at all, see #10823 for trying to put those docs someplace accessible, which could be done at least with the html here).  \n\nAnd we'd need to make it MUCH clearer in SPKG.txt that this should be done every time.\n\nOh, and we need to fix the double negative in spkg-install\n\n```\nas it occurs.  Don't worry, the build process doesn't \nnot hang.\" \n```\nas pointed out in[comment:18](#comment%3A18).",
    "created_at": "2012-01-27T19:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173567",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:25'></a>
Yeah, since we aren't really committed to providing upstream documentation other than English (or even at all, see #10823 for trying to put those docs someplace accessible, which could be done at least with the html here).  

And we'd need to make it MUCH clearer in SPKG.txt that this should be done every time.

Oh, and we need to fix the double negative in spkg-install

```
as it occurs.  Don't worry, the build process doesn't 
not hang." 
```
as pointed out in[comment:18](#comment%3A18).



---

archive/issue_comments_173568.json:
```json
{
    "body": "Changing work_issues from \"\" to \"typo, remove some docs, update SPKG.txt\"",
    "created_at": "2012-01-27T19:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173568",
    "user": "https://github.com/kcrisman"
}
```

Changing work_issues from "" to "typo, remove some docs, update SPKG.txt"



---

archive/issue_comments_173569.json:
```json
{
    "body": "<a id='comment:26'></a>\nTests pass, as expected.  Let's fix these minor things and get it in.",
    "created_at": "2012-01-27T19:40:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173569",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:26'></a>
Tests pass, as expected.  Let's fix these minor things and get it in.



---

archive/issue_comments_173570.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [kcrisman](#comment%3A26):\n> Tests pass, as expected.  Let's fix these minor things and get it in.\n\n\nThanks for looking at this. I'm trying to get the local docs to install, then I'll post an updated spkg.",
    "created_at": "2012-01-27T19:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173570",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:27'></a>
Replying to [kcrisman](#comment%3A26):
> Tests pass, as expected.  Let's fix these minor things and get it in.


Thanks for looking at this. I'm trying to get the local docs to install, then I'll post an updated spkg.



---

archive/issue_comments_173571.json:
```json
{
    "body": "<a id='comment:28'></a>\n> > Tests pass, as expected.  Let's fix these minor things and get it in.\n\n> \n> Thanks for looking at this. I'm trying to get the local docs to install, then I'll post an updated spkg.\n\n?  Do you mean you are trying to apply #10823 ideas here?   I guess that's ok, but don't spend tons of time on it.  \n\n*Do* be sure to update that script spkg-dist and apply it (and commit it in hg), then test again to make sure it still builds; that will save at least a few MB compressed, I suspect.",
    "created_at": "2012-01-27T20:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173571",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:28'></a>
> > Tests pass, as expected.  Let's fix these minor things and get it in.

> 
> Thanks for looking at this. I'm trying to get the local docs to install, then I'll post an updated spkg.

?  Do you mean you are trying to apply #10823 ideas here?   I guess that's ok, but don't spend tons of time on it.  

*Do* be sure to update that script spkg-dist and apply it (and commit it in hg), then test again to make sure it still builds; that will save at least a few MB compressed, I suspect.



---

archive/issue_comments_173572.json:
```json
{
    "body": "<a id='comment:29'></a>\nNew spkg, same location, as of a few minutes ago.\n\nReplying to [kcrisman](#comment%3A28):\n> Do you mean you are trying to apply #10823 ideas here?   I guess that's ok, but don't spend tons of time on it.  \n\n\nYes, the docs are already built, so it wasn't a big deal to add. I installed the new spkg twice -- once with the doc variable set and once without -- it seems to work well enough. I checked the few pages that link to figures and they do show up.\n\n\n> *Do* be sure to update that script spkg-dist and apply it (and commit it in hg), then test again to make sure it still builds; that will save at least a few MB compressed, I suspect.\n\n\nUpdated, committed, and applied. I added the extra directories that you suggested, and removed an unused import (time).\n\nI also fixed the double negative, and updated SPKG.txt to be more clear about running spkg-dist.",
    "created_at": "2012-01-27T20:44:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173572",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:29'></a>
New spkg, same location, as of a few minutes ago.

Replying to [kcrisman](#comment%3A28):
> Do you mean you are trying to apply #10823 ideas here?   I guess that's ok, but don't spend tons of time on it.  


Yes, the docs are already built, so it wasn't a big deal to add. I installed the new spkg twice -- once with the doc variable set and once without -- it seems to work well enough. I checked the few pages that link to figures and they do show up.


> *Do* be sure to update that script spkg-dist and apply it (and commit it in hg), then test again to make sure it still builds; that will save at least a few MB compressed, I suspect.


Updated, committed, and applied. I added the extra directories that you suggested, and removed an unused import (time).

I also fixed the double negative, and updated SPKG.txt to be more clear about running spkg-dist.



---

archive/issue_comments_173573.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-01-27T20:44:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173573",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_173574.json:
```json
{
    "body": "<a id='comment:30'></a>\nWow, this is 11 MB instead of 21 MB!  Good to know.\n\nOkay, I'll check out the rest.   Looks good so far.",
    "created_at": "2012-01-27T21:01:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173574",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:30'></a>
Wow, this is 11 MB instead of 21 MB!  Good to know.

Okay, I'll check out the rest.   Looks good so far.



---

archive/issue_comments_173575.json:
```json
{
    "body": "for review only",
    "created_at": "2012-01-27T21:01:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173575",
    "user": "https://github.com/kcrisman"
}
```

for review only



---

archive/issue_comments_173576.json:
```json
{
    "body": "Attachment [12094-review.diff](tarball://root/attachments/some-uuid/ticket12094/12094-review.diff) by @kcrisman created at 2012-01-27 21:02:10\n\nfor review only",
    "created_at": "2012-01-27T21:02:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173576",
    "user": "https://github.com/kcrisman"
}
```

Attachment [12094-review.diff](tarball://root/attachments/some-uuid/ticket12094/12094-review.diff) by @kcrisman created at 2012-01-27 21:02:10

for review only



---

archive/issue_comments_173577.json:
```json
{
    "body": "<a id='comment:31'></a>\nBy the way, using [spkg-upload](http://code.google.com/p/spkg-upload/) or getting an account on sage.math might lead to much faster download speeds for this spkg :)   It does take a while.\n\nI think positive review to the code changes etc.  Just making sure things work on Linux and then testing the doc install.  Very nice work.",
    "created_at": "2012-01-27T21:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173577",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:31'></a>
By the way, using [spkg-upload](http://code.google.com/p/spkg-upload/) or getting an account on sage.math might lead to much faster download speeds for this spkg :)   It does take a while.

I think positive review to the code changes etc.  Just making sure things work on Linux and then testing the doc install.  Very nice work.



---

archive/issue_comments_173578.json:
```json
{
    "body": "<a id='comment:32'></a>\nDocs look good.  Not anticipating any problems on Linux.    Modulo testing there (in progress), good work.",
    "created_at": "2012-01-27T21:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173578",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:32'></a>
Docs look good.  Not anticipating any problems on Linux.    Modulo testing there (in progress), good work.



---

archive/issue_comments_173579.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-01-27T21:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173579",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_173580.json:
```json
{
    "body": "Changing work_issues from \"typo, remove some docs, update SPKG.txt\" to \"\"",
    "created_at": "2012-01-27T21:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173580",
    "user": "https://github.com/kcrisman"
}
```

Changing work_issues from "typo, remove some docs, update SPKG.txt" to ""



---

archive/issue_comments_173581.json:
```json
{
    "body": "<a id='comment:33'></a>\nThanks, I'll start putting together patches for the symbolics tickets this fixes.\n\nRegarding the speed, I'm screaming about it daily. I will continue to do so at gradually increasing volume until it gets fixed.",
    "created_at": "2012-01-27T22:06:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173581",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:33'></a>
Thanks, I'll start putting together patches for the symbolics tickets this fixes.

Regarding the speed, I'm screaming about it daily. I will continue to do so at gradually increasing volume until it gets fixed.



---

archive/issue_comments_173582.json:
```json
{
    "body": "<a id='comment:34'></a>\nThe updates look good to me too. I am also running tests on Fedora linux, also not expecting any problems. I doctested (most of) the symbolics by hand and had no problems there.",
    "created_at": "2012-01-27T22:31:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173582",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:34'></a>
The updates look good to me too. I am also running tests on Fedora linux, also not expecting any problems. I doctested (most of) the symbolics by hand and had no problems there.



---

archive/issue_comments_173583.json:
```json
{
    "body": "<a id='comment:35'></a>\nYeah, this is good.  Also, now it should be more ready for the next update, and you (or others) can start reviewing those tickets which depend on this.",
    "created_at": "2012-01-28T01:08:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173583",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:35'></a>
Yeah, this is good.  Also, now it should be more ready for the next update, and you (or others) can start reviewing those tickets which depend on this.



---

archive/issue_comments_173584.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n This will fix #11591, and prevent a regression in the fix for #11483.\n \n Package at [http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg](http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg)\n+\n+Apply [attachment:sage-trac-12094.patch]\n``````\n",
    "created_at": "2012-01-29T13:08:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173584",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 This will fix #11591, and prevent a regression in the fix for #11483.
 
 Package at [http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg](http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg)
+
+Apply [attachment:sage-trac-12094.patch]
``````




---

archive/issue_comments_173585.json:
```json
{
    "body": "<a id='comment:37'></a>\nThis should be rebased to the maxima spkg from sage-4.8 (see #12131).",
    "created_at": "2012-01-29T13:19:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173585",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:37'></a>
This should be rebased to the maxima spkg from sage-4.8 (see #12131).



---

archive/issue_comments_173586.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-01-29T13:19:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173586",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_173587.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-01-30T02:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173587",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_173588.json:
```json
{
    "body": "<a id='comment:38'></a>\nI've updated the spkg again; hopefully I moved my changes over cleanly.\n\nSince I got to do it over again, I cleaned up the trailing whitespace in spkg-install this time.",
    "created_at": "2012-01-30T02:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173588",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:38'></a>
I've updated the spkg again; hopefully I moved my changes over cleanly.

Since I got to do it over again, I cleaned up the trailing whitespace in spkg-install this time.



---

archive/issue_comments_173589.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,4 @@\n-(What's the procedure for upgrading these?)\n-\n-I've successfully replaced the 'src' directory in the current maxima-5.23.2.p2.spkg with the tarball from 5.24.0. All tests pass with one small exception; fix included.\n+I've successfully replaced the 'src' directory in the current maxima-5.23.2.p3.spkg with the tarball from 5.24.0. All tests pass with one small exception; fix included.\n \n This will fix #11591, and prevent a regression in the fix for #11483.\n \n``````\n",
    "created_at": "2012-01-30T02:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173589",
    "user": "https://github.com/orlitzky"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,4 @@
-(What's the procedure for upgrading these?)
-
-I've successfully replaced the 'src' directory in the current maxima-5.23.2.p2.spkg with the tarball from 5.24.0. All tests pass with one small exception; fix included.
+I've successfully replaced the 'src' directory in the current maxima-5.23.2.p3.spkg with the tarball from 5.24.0. All tests pass with one small exception; fix included.
 
 This will fix #11591, and prevent a regression in the fix for #11483.
 
``````




---

archive/issue_comments_173590.json:
```json
{
    "body": "<a id='comment:39'></a>\nTerribly sorry for missing that, Jeroen.  Good thing we have many eyes on all of this...\n\n\n> I've updated the spkg again; hopefully I moved my changes over cleanly.\n\nLooks like it.\n> Since I got to do it over again, I cleaned up the trailing whitespace in spkg-install this time.\n\nEventually I figured out how to check this in my editor.\n\nHopefully this time positive review for real!",
    "created_at": "2012-01-30T18:50:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173590",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:39'></a>
Terribly sorry for missing that, Jeroen.  Good thing we have many eyes on all of this...


> I've updated the spkg again; hopefully I moved my changes over cleanly.

Looks like it.
> Since I got to do it over again, I cleaned up the trailing whitespace in spkg-install this time.

Eventually I figured out how to check this in my editor.

Hopefully this time positive review for real!



---

archive/issue_comments_173591.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-01-30T18:50:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173591",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_037845.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-02T12:53:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12094#event-37845"
}
```



---

archive/issue_comments_173592.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-02-02T12:53:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173592",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_173593.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.0.beta2\"",
    "created_at": "2012-02-02T12:53:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173593",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.0.beta2"



---

archive/issue_comments_173594.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,6 @@\n \n This will fix #11591, and prevent a regression in the fix for #11483.\n \n-Package at [http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg](http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg)\n+Package at [http://boxen.math.washington.edu/home/jdemeyer/spkg/maxima-5.24.0.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/maxima-5.24.0.p0.spkg)\n \n Apply [attachment:sage-trac-12094.patch]\n``````\n",
    "created_at": "2012-04-09T19:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12094#issuecomment-173594",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,6 @@
 
 This will fix #11591, and prevent a regression in the fix for #11483.
 
-Package at [http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg](http://michael.orlitzky.com/sage/maxima-5.24.0.p0.spkg)
+Package at [http://boxen.math.washington.edu/home/jdemeyer/spkg/maxima-5.24.0.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/maxima-5.24.0.p0.spkg)
 
 Apply [attachment:sage-trac-12094.patch]
``````

