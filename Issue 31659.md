# Issue 31659: Fix for field of definition functions

Issue created by migration from https://trac.sagemath.org/ticket/31896

Original creator: @EnderWannabe

Original creation time: 2021-06-03 15:48:53

CC:  bhutz

Keywords: gsoc2021

Currently the following code fails:


```
A.<x> = AffineSpace(QQ,1)
f = DynamicalSystem_affine(x^2 + x + 1)
F = f.homogenize(1)
F.field_of_definition_periodic(1)
```


As the dehomogenization of F has x as its variable, not x0. Similar code fails for field_of_definition_critical and field_of_definition_preimage.

We implement a fix by using x for arithmetic, not x0.


---

Comment by @EnderWannabe created at 2021-06-04 14:17:45

New commits:


---

Comment by @EnderWannabe created at 2021-06-04 14:17:45

Changing status from new to needs_review.


---

Comment by bhutz created at 2021-06-08 18:58:04

Looks good to me.


---

Comment by bhutz created at 2021-06-08 18:58:04

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-07-24 18:43:15

Promoting 5 tickets that fix defects to "major" so that they have a chance to get merged


---

Comment by mkoeppe created at 2021-07-24 18:43:15

Changing priority from trivial to major.


---

Comment by vbraun created at 2021-07-25 13:26:56

Resolution: fixed
