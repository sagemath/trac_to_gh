# Issue 14677: Some symmetric group algebra modifications

Issue created by migration from Trac.

Original creator: darij

Original creation time: 2013-07-12 12:58:53

Assignee: tbd

CC:  sage-combinat tscrim mhansen

Keywords: permutations, symmetric group algebra, combinat,

The patch as it stands does the following:

1) Allows k = 1 in the construction of the k-th Jucys-Murphy element in both the symmetric group algebra and the Hecke algebra. There is no theoretical reason not to. They're not very interesting elements, but algorithms shouldn't mysteriously fail in corner cases.

2) The ``algebra_generators()`` method on a symmetric group algebra with n being 0 or 1 doesn't throw an error anymore.

3) The ``cpi`` method should now be a lot faster (checked on S_6 and [3,2,1], where the speedup factor was more than 2).

All changes are in ``symmetric_group_algebra.py``; I have not touched ``permutation.py`` due to Travis' patch.

This one is probably not yet ripe for review, as I am planning some more work. Originally I was looking over the file to find methods for the two factors of the Young symmetrizer (one is the sum of all row-preserving permutations, and the other is the alternating sum of all column-preserving permutations). Seeing that these methods aren't there, I am planning to implement them on my own, but I need two things sorted out beforehand:

First, should they go into ``symmetric_group_algebra.py`` (given that the elements they construct belong to symmetric group algebras) or to ``partition.py`` (given that their input is a partition)?

Second, I have only now noticed that *Sage is using Herstein's idiotic left-to-right convention for the product of permutations as default*! I think the only reason why I have missed this so far is that I haven't been multiplying permutations very often in the first place. That said, I'm not sure about this, and I feel sorry for the conjectures I have been discarding because I thought I was able to produce counterexamples with Sage. Can we do anything about this clusterfuck or at least document it in such a way that it can't be missed? I will open another ticket for this issue once I've done a quick search to see where these multiplications are being used; I wouldn't be surprised if there are bugs lurking in the code just because people expected that Sage would use the same conventions as everyone else (I certainly did when I was messing around with Malvenuto-Reutenauer). I know about GAP, but part of the reason I've been using Sage is to not have to put up with crappy syntax.

When I grep for ``PermutationOptions`` and ``permutation_options``, I only get hits from ``permutation.py`` and ``symmetric_group_algebra.py``, which suggests that all other files are either oblivious to the semantics of a product of permutations depending on a global variable, or they just work around this product method. I'm hoping it's the latter...


---

Attachment


---

Comment by darij created at 2013-07-12 12:59:55

Changing assignee from tbd to sage-combinat.


---

Comment by darij created at 2013-07-12 12:59:55

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by darij created at 2013-07-12 12:59:55

Changing type from PLEASE CHANGE to defect.


---

Comment by tscrim created at 2013-07-12 13:48:15

For the multiplication, you can at present set the permutation options (if you look in the `permutation.py`, it's in there, I forget how its accessed). However with #14772, this will be a global option accessible by

```
Permutations.global_options(mult='r2l') # or 'l2r'
```

If the global options in #14772 (which needs another review) isn't well documented enough, I can add some more documentation on it.

I'd recommend starting to work based on #14772 which should be good to go now, if you want to work on permutations. Its dependency #14519 is basically done too, and I'll ask Nicolas to re-review it if he doesn't do so in a few days.

Best,

Travis


---

Comment by darij created at 2013-07-12 14:18:49

Travis -- thank you for reminding me of #14772 (which happened to fix another problem I reported today). I'll rebase my patch atop yours in a couple minutes.

Thanks for cleaning up the global options, but I fear I still don't like them. This isn't the right ticket for me to rant about them; I'll open a new one today.


---

Comment by darij created at 2013-07-13 13:29:45

Changing status from new to needs_review.


---

Comment by darij created at 2013-07-13 13:31:37

for the patchbot:

apply trac_14881-symmetric_group_algebra_rebased-dg.patch


---

Comment by darij created at 2013-07-13 19:42:24

Sorry, one final update. I've slightly changed my own fix for Jucys-Murphy in the Hecke algebra, and modernized all errors.


---

Comment by tscrim created at 2013-08-03 11:49:40

Hey Darij,

I'm starting to take a look at this patch. A question, are the names `a` and `b` standard, in particular, do you have at least 2 references (to show that it is a standard notation)? If they aren't standard, could you rename them? The function names otherwise are not very descriptive. Also could you also remove the commented out lines 292-295?

Thanks,

Travis

PS - Sorry for falling behind on this.


---

Comment by darij created at 2013-08-03 12:01:33

Hi Travis,

I've got the `a` and `b` names from ยง4.12 of Pavel Etingof et al.'s representation theory notes ( http://www-math.mit.edu/~etingof/replect.pdf ). They also appear in http://en.wikipedia.org/wiki/Young_symmetrizer and in ยง4.1 of Fulton-Harris (not a good reference if you ask me). Ironically, it seems that most of the deeper-going texts on representations of S_n (James, James-Kerber, Sagan) avoid Young symmetrizers completely, so it's hard to tell what is standard.

I'll make the changes you've asked for in a moment.

Best regards,
Darij


---

Comment by tscrim created at 2013-08-03 12:14:17

Ah okay. Then `a` and `b` are fine. I'll finish the review as soon as I'm able to, but I won't be able to look at it until at least 2 days from now (I'm traveling back from South Korea tomorrow morning [it's 9:15 PM if you're curious] to the US) so there's no rush.

Thanks,

Travis


---

Comment by darij created at 2013-08-03 12:14:32

Updated; please review!


---

Attachment

Added the Etingof reference; removed the commented-out old code.


---

Comment by tscrim created at 2013-08-08 19:10:52

Hey Darij,

Here's a small review patch which makes some minor tweaks to the doc and removes two asserts used for input checking. If you're happy with my changes, you can go ahead and set this to positive review.

Best,

Travis

For patchbot:

Apply: trac_14881-symmetric_group_algebra_rebased-dg.patch trac_14881-review-ts.patch


---

Comment by darij created at 2013-08-08 19:13:44

Thank you! Only issue now is that "orders" should be "order" in

```
         - ``other`` -- a symmetric group algebra with orders `p` 
```


Nice syntax for the error messages; I didn't know of it.

Please set to positive-review once you've fixed the typo.


---

Attachment

It's the (new) python 2.6+ string formatting and will be replacing the `%` at some point in the near python future (in python 3 it is strongly suggested to not use the `%`).

For patchbot:

Apply: trac_14881-symmetric_group_algebra_rebased-dg.patch, trac_14881-review-ts.patch


---

Comment by tscrim created at 2013-08-09 21:04:54

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-09-02 10:19:52

Resolution: fixed
