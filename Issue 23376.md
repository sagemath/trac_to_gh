# Issue 23376: Doctest failure if $PYTHONPATH is set

Issue created by migration from Trac.

Original creator: mderickx

Original creation time: 2017-08-11 17:41:09


```
./sage -t src/sage/tests/cmdline.py
Running doctests with ID 2017-08-11-19-16-39-40d33b31.
Git branch: test_external_package
Using --optional=ccache,mpir,openssl,python2,sage
Doctesting 1 file.
sage -t --warn-long 45.3 src/sage/tests/cmdline.py
**********************************************************************
File "src/sage/tests/cmdline.py", line 208, in sage.tests.cmdline.test_executable
Failed example:
    print(out)
Expected:
    Found local metadata for sqlite-...
    = SQLite =
    ...
    SQLite is a software library that implements a self-contained,
    serverless, zero-configuration, transactional SQL database engine.
    ...
Got:
    Cleaning up PYTHONPATH:
      Old: ":/Users/mderickx/code:/Users/mderickx/code/lmfdb"
      New: "/Users/mderickx/code:/Users/mderickx/code/lmfdb"
    Found local metadata for sqlite-autoconf-3170000
    = SQLite =
    <BLANKLINE>
    == Description ==
    <BLANKLINE>
    SQLite is a software library that implements a self-contained,
    serverless, zero-configuration, transactional SQL database engine.
    <BLANKLINE>
    == License ==
    <BLANKLINE>
```



---

Comment by mderickx created at 2017-08-11 18:00:35

I thought this would be a quick fix, namely just add

```
...
```

to the doctests in order to account for the error. But it seems that the meaning of `...` is overloaded in doctests, and that the doctest framework sees `...` as an input continuation marker like `....:`.


---

Comment by mderickx created at 2017-08-11 18:56:48

Changing status from new to needs_review.


---

Comment by mderickx created at 2017-08-11 18:56:48

New commits:


---

Comment by mderickx created at 2017-08-13 23:29:16

The workaround apparently doesn't work in combination with -tp


---

Comment by mderickx created at 2017-08-13 23:29:16

Changing status from needs_review to needs_work.


---

Comment by mderickx created at 2017-08-14 01:44:37

New commits:


---

Comment by mderickx created at 2017-08-14 01:44:58

Changing status from needs_work to needs_review.


---

Comment by mderickx created at 2017-09-15 16:50:04

Changing keywords from "" to "beginner".


---

Comment by klui created at 2019-08-23 16:21:07

Merge conflict with #27635


---

Comment by klui created at 2019-08-23 16:21:07

Changing status from needs_review to needs_work.


---

Comment by @DaveWitteMorris created at 2020-05-27 02:51:43

Removing the "beginner" tag from old tickets. Some could be returned to beginner-friendly status by adding a comment about what needs to be done. Some others might be easy for an experienced developer to finish.


---

Comment by @DaveWitteMorris created at 2020-05-27 02:51:43

Changing keywords from "beginner" to "".
