# Issue 11542: ensure that numpy is not imported on startup

Issue created by migration from https://trac.sagemath.org/ticket/11714

Original creator: was

Original creation time: 2011-08-22 19:04:15

Assignee: jason




---

Attachment


---

Comment by was created at 2011-08-24 23:30:27

Changing keywords from "" to "sd32".


---

Attachment

use lazy imports to make sure numpy is not loaded on startup


---

Comment by saraedum created at 2011-08-25 05:09:07

With the last patch numpy is not loaded in _./sage_ and _./sage --startuptime_. Surprisingly this doctest fails, i.e., numpy is loaded in the doctests.

```
sage: import sys 
sage: 'numpy' in sys.modules 
False
```

I'll post something about the startup improvement once the full doctest run finished.


---

Comment by was created at 2011-08-25 18:06:46

This passes "make ptestlong" for me, except for the issue with 'numpy' in sys.modules.  

I thought I posted how to fix this last night, but maybe there was a network problem.  One solution is to use the Sage pexpect subprocess.  I'm refreshing your patch with that.


---

Comment by was created at 2011-08-25 18:11:07

fixes the import numpy issue.  make ptestlong passes.


---

Attachment


---

Comment by was created at 2011-08-25 18:11:18

Changing status from new to needs_review.


---

Comment by was created at 2011-08-25 18:11:29

Changing status from needs_review to positive_review.


---

Comment by leif created at 2011-09-08 12:21:34

Please correct the authors / reviewers entries in case I missed or confused something.


---

Comment by leif created at 2011-09-13 07:51:36

Resolution: fixed
