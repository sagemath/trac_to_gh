# Issue 11834: sage-4.7.2 and magma-2.17-13 not playing well together

Issue created by migration from https://trac.sagemath.org/ticket/12006

Original creator: mariah

Original creation time: 2011-11-10 15:35:41

Assignee: was

Running


```
./sage -t -only-optional=magma devel/sage/sage
```

on a recent build of sage-4.7.2 where magma-2.17-13 (recent
release) is installed (skynet/eno) gives the following errors:


```
The following tests failed:


        sage -t -only-optional=magma "devel/sage/sage/rings/polynomial/multi_polynomial.pyx"
        sage -t -only-optional=magma "devel/sage/sage/interfaces/magma.py"
        sage -t -only-optional=magma "devel/sage/sage/schemes/elliptic_curves/ell_generic.py"
        sage -t -only-optional=magma "devel/sage/sage/schemes/plane_conics/con_field.py"
```



---

Attachment


---

Comment by was created at 2012-01-22 22:39:29

Changing status from new to needs_review.


---

Comment by mstreng created at 2012-02-03 11:36:56

This looks like it has a huge overlap with #12154.


---

Comment by mstreng created at 2012-02-03 11:42:30

Your new patch is a superset of my patch, which has been needs_review for 7 weeks :(. I guess I'll have mine closed as duplicate then.


---

Comment by mstreng created at 2012-02-03 12:00:13

Apparently my Magma version V2.17-9 is not high enough for reviewing your patch. But the version-independent failures (like '1/1') should be fixed as soon as possible.


---

Comment by mstreng created at 2012-02-03 14:05:20

The test added to sage/rings/number_field/number_field_element.pyx is incorrect: 'c' is not defined, and "optional - magma" is missing.


---

Comment by mstreng created at 2012-02-03 14:05:20

Changing status from needs_review to needs_work.


---

Comment by was created at 2012-02-10 17:44:39

differs from previous patch in exactly one letter "c" --> "a"


---

Comment by was created at 2012-02-10 17:45:31

Changing status from needs_work to needs_review.


---

Attachment

Replying to [comment:7 mstreng]:
> The test added to sage/rings/number_field/number_field_element.pyx is incorrect: 'c' is not defined, 

I've posted a new patch with it changed to 'a'

> and "optional - magma" is missing.

The test doesn't actually require magma (all it does is raise an exception), so it is not marked optional.


---

Comment by mstreng created at 2012-02-10 18:56:24

Changing status from needs_review to positive_review.


---

Comment by mstreng created at 2012-02-10 18:56:24

Replying to [comment:8 was]:
> The test doesn't actually require magma

:)


---

Comment by jdemeyer created at 2012-02-14 14:20:58

Resolution: fixed
