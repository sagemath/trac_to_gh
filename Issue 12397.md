# Issue 12397: Implementation of permutohedron intervals

archive/issues_012397.json:
```json
{
    "body": "Assignee: sage-combinat\n\nKeywords: Permutations; Permutohedron\n\nWe implement a new method in the class Permutation which enables to compute the permutations of intervals of the permutohedron.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12569\n\n",
    "created_at": "2012-02-23T09:19:19Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "Implementation of permutohedron intervals",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12397",
    "user": "https://trac.sagemath.org/admin/accounts/users/giraudo"
}
```
Assignee: sage-combinat

Keywords: Permutations; Permutohedron

We implement a new method in the class Permutation which enables to compute the permutations of intervals of the permutohedron.

Issue created by migration from https://trac.sagemath.org/ticket/12569





---

archive/issue_comments_146163.json:
```json
{
    "body": "Attachment [trac_12569-permutohedron_intervals-sg.patch](tarball://root/attachments/some-uuid/ticket12569/trac_12569-permutohedron_intervals-sg.patch) by giraudo created at 2012-02-23 10:32:57\n\nTested on Sage 4.8, combinat branch",
    "created_at": "2012-02-23T10:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146163",
    "user": "https://trac.sagemath.org/admin/accounts/users/giraudo"
}
```

Attachment [trac_12569-permutohedron_intervals-sg.patch](tarball://root/attachments/some-uuid/ticket12569/trac_12569-permutohedron_intervals-sg.patch) by giraudo created at 2012-02-23 10:32:57

Tested on Sage 4.8, combinat branch



---

archive/issue_comments_146164.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-02-24T08:47:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146164",
    "user": "https://trac.sagemath.org/admin/accounts/users/giraudo"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_146165.json:
```json
{
    "body": "Like in my previous post... this patch isn't in combinat branch...",
    "created_at": "2013-01-08T19:40:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146165",
    "user": "https://trac.sagemath.org/admin/accounts/users/elixyre"
}
```

Like in my previous post... this patch isn't in combinat branch...



---

archive/issue_comments_146166.json:
```json
{
    "body": "Hello,\n\ncould you please add documentation to the first function ? one indirect doctest would be fine, for example,\n\n```\nEXAMPLES:: \t \n    sage: Permutation([2, 1, 4, 5, 3]).right_permutohedron_interval(Permutation([2, 5, 4, 1, 3])) # indirect doctest\n    [[2, 1, 4, 5, 3], [2, 1, 5, 4, 3], [2, 4, 1, 5, 3], [2, 4, 5, 1, 3], [2, 5, 1, 4, 3], [2, 5, 4, 1, 3]] \n```\n\n\nthen the bot will be happy.\nCheers,\n\nF",
    "created_at": "2013-01-11T16:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146166",
    "user": "https://github.com/fchapoton"
}
```

Hello,

could you please add documentation to the first function ? one indirect doctest would be fine, for example,

```
EXAMPLES:: 	 
    sage: Permutation([2, 1, 4, 5, 3]).right_permutohedron_interval(Permutation([2, 5, 4, 1, 3])) # indirect doctest
    [[2, 1, 4, 5, 3], [2, 1, 5, 4, 3], [2, 4, 1, 5, 3], [2, 4, 5, 1, 3], [2, 5, 1, 4, 3], [2, 5, 4, 1, 3]] 
```


then the bot will be happy.
Cheers,

F



---

archive/issue_comments_146167.json:
```json
{
    "body": "> then the bot will be happy.\n\nBut Sphinx, the documentation generator, will be disturbed if you don't put a\nblank line after `EXAMPLE::`. So the correct markup is:\n\n```\nEXAMPLES::\n\n    sage: Permutation([2, 1, 4, 5, 3]).right_permutohedron_interval(Permutation([2, 5, 4, 1, 3])) # indirect doctest\n    [[2, 1, 4, 5, 3], [2, 1, 5, 4, 3], [2, 4, 1, 5, 3], [2, 4, 5, 1, 3], [2, 5, 1, 4, 3], [2, 5, 4, 1, 3]] \n```\n\n\nFlorent",
    "created_at": "2013-01-12T00:24:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146167",
    "user": "https://github.com/hivert"
}
```

> then the bot will be happy.

But Sphinx, the documentation generator, will be disturbed if you don't put a
blank line after `EXAMPLE::`. So the correct markup is:

```
EXAMPLES::

    sage: Permutation([2, 1, 4, 5, 3]).right_permutohedron_interval(Permutation([2, 5, 4, 1, 3])) # indirect doctest
    [[2, 1, 4, 5, 3], [2, 1, 5, 4, 3], [2, 4, 1, 5, 3], [2, 4, 5, 1, 3], [2, 5, 1, 4, 3], [2, 5, 4, 1, 3]] 
```


Florent



---

archive/issue_comments_146168.json:
```json
{
    "body": "I have added the doc.\n\npatchbot, apply trac_12569-permutohedron_intervals-sg-v2.patch",
    "created_at": "2013-01-13T11:55:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146168",
    "user": "https://github.com/fchapoton"
}
```

I have added the doc.

patchbot, apply trac_12569-permutohedron_intervals-sg-v2.patch



---

archive/issue_comments_146169.json:
```json
{
    "body": "New patch with minor changes, including one doctest for one of the raise exceptions.\n\nThere remains to add a doctest for the other raise exception.",
    "created_at": "2013-01-31T17:48:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146169",
    "user": "https://github.com/fchapoton"
}
```

New patch with minor changes, including one doctest for one of the raise exceptions.

There remains to add a doctest for the other raise exception.



---

archive/issue_comments_146170.json:
```json
{
    "body": "I have added the doctest",
    "created_at": "2013-02-01T09:49:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146170",
    "user": "https://github.com/fchapoton"
}
```

I have added the doctest



---

archive/issue_comments_146171.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2013-03-09T22:30:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146171",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_146172.json:
```json
{
    "body": "Helloooooooooooooo !!\n\nSame remark as in #12571 : could you add those new methods to the index ? Besides, wouldn't it be possible to also call \"inverse\" in the second `add_edge(...)` line ?\n\nOh, yeah... Ad wouldn't it make sense to update `inversions` to index its results from 1 to n instead of 0 to n-1, assuming nobody agrees that permutations should themselves go from 0 to n-1 ?\n\nNathann",
    "created_at": "2013-03-09T22:30:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146172",
    "user": "https://github.com/nathanncohen"
}
```

Helloooooooooooooo !!

Same remark as in #12571 : could you add those new methods to the index ? Besides, wouldn't it be possible to also call "inverse" in the second `add_edge(...)` line ?

Oh, yeah... Ad wouldn't it make sense to update `inversions` to index its results from 1 to n instead of 0 to n-1, assuming nobody agrees that permutations should themselves go from 0 to n-1 ?

Nathann



---

archive/issue_comments_146173.json:
```json
{
    "body": "Here is a new patch.\n\nI have changed the behavior of inversions, also improving very slightly its speed. Let us see if this causes problems elsewhere.\n\nI do not think one can use .inverse in the second add_edge line\n\nI have added both methods to the index\n\nI have taken the opportunity to make a very light clean up (using pyflakes to remove a few unused import and unused variables)",
    "created_at": "2013-03-12T20:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146173",
    "user": "https://github.com/fchapoton"
}
```

Here is a new patch.

I have changed the behavior of inversions, also improving very slightly its speed. Let us see if this causes problems elsewhere.

I do not think one can use .inverse in the second add_edge line

I have added both methods to the index

I have taken the opportunity to make a very light clean up (using pyflakes to remove a few unused import and unused variables)



---

archive/issue_comments_146174.json:
```json
{
    "body": "Sorry, I meant \"inversions\" not \"inverse\".\n\n\n```\nfor i in xrange(len(other) - 1) for j in xrange(i, len(other)) if other[i] < other[j]]\n```\n\n\nreally looks like a computation of inversions, doesn't it ? `O_o`\n\nNathann",
    "created_at": "2013-03-12T21:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146174",
    "user": "https://github.com/nathanncohen"
}
```

Sorry, I meant "inversions" not "inverse".


```
for i in xrange(len(other) - 1) for j in xrange(i, len(other)) if other[i] < other[j]]
```


really looks like a computation of inversions, doesn't it ? `O_o`

Nathann



---

archive/issue_comments_146175.json:
```json
{
    "body": "No, it is a computation of 'not inversions' in fact.\n\nIt seems that the change of the behaviour inversions triggers a few doc tests in the rest of sage.. Some in graphs stuff, see the bot report.",
    "created_at": "2013-03-12T21:33:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146175",
    "user": "https://github.com/fchapoton"
}
```

No, it is a computation of 'not inversions' in fact.

It seems that the change of the behaviour inversions triggers a few doc tests in the rest of sage.. Some in graphs stuff, see the bot report.



---

archive/issue_comments_146176.json:
```json
{
    "body": "Attachment [trac_12569-permutohedron_intervals-sg-v2.patch](tarball://root/attachments/some-uuid/ticket12569/trac_12569-permutohedron_intervals-sg-v2.patch) by @fchapoton created at 2013-04-04 21:03:52",
    "created_at": "2013-04-04T21:03:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146176",
    "user": "https://github.com/fchapoton"
}
```

Attachment [trac_12569-permutohedron_intervals-sg-v2.patch](tarball://root/attachments/some-uuid/ticket12569/trac_12569-permutohedron_intervals-sg-v2.patch) by @fchapoton created at 2013-04-04 21:03:52



---

archive/issue_comments_146177.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2013-04-04T21:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146177",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_146178.json:
```json
{
    "body": "new patch, correcting some doctests. There remains other doctests failing.\n\nfor the bot: \n\napply trac_12569-permutohedron_intervals-sg-v2.patch",
    "created_at": "2013-04-04T21:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146178",
    "user": "https://github.com/fchapoton"
}
```

new patch, correcting some doctests. There remains other doctests failing.

for the bot: 

apply trac_12569-permutohedron_intervals-sg-v2.patch



---

archive/issue_comments_146179.json:
```json
{
    "body": "Helloooooooooooooooo !!!\n\nI again spent a couple of minutes trying to check if there was anything wrong with the graph whose linear extensions you return, but modulo the fact that I am biologically unable to check if it is not \"left\" instead of \"right\" and which is the largest among 12 and 21, everything seems good `:-D`\n\nGood to go !\n\nNathann",
    "created_at": "2013-04-26T10:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146179",
    "user": "https://github.com/nathanncohen"
}
```

Helloooooooooooooooo !!!

I again spent a couple of minutes trying to check if there was anything wrong with the graph whose linear extensions you return, but modulo the fact that I am biologically unable to check if it is not "left" instead of "right" and which is the largest among 12 and 21, everything seems good `:-D`

Good to go !

Nathann



---

archive/issue_comments_146180.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-26T10:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146180",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_146181.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-04-30T09:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12397#issuecomment-146181",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_033981.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-30T09:38:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12397",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12397#event-33981"
}
```
