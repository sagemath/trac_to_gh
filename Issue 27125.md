# Issue 27125: Setting PYTHONPATH in spkg-install for pip is fragile

Issue created by migration from https://trac.sagemath.org/ticket/27362

Original creator: embray

Original creation time: 2019-02-26 12:06:15

As reported in https://groups.google.com/d/msg/sage-devel/_UAIbMIKjEU/PBaAI28sBAAJ

In the spkg-install script for pip we set


```
export PYTHONPATH=`cd src && pwd`
```


This invocation is broken if you have the `CDPATH` variable set in bash it will auto-echo the new path cd'd into.

It would be better to just do something like `PYTHONPATH="$(pwd)/src"`.


---

Comment by slelievre created at 2019-02-26 13:38:21

Changing status from new to needs_review.


---

Comment by slelievre created at 2019-02-26 13:38:21

Following Erik's suggestion.
----
New commits:


---

Comment by slelievre created at 2019-02-26 13:38:21

Changing keywords from "" to "pip, PYTHONPATH".


---

Comment by andrew.mathas created at 2019-02-27 05:14:19

Changing status from needs_review to positive_review.


---

Comment by andrew.mathas created at 2019-02-27 05:14:19

Looks good to me.


---

Comment by vbraun created at 2019-03-02 09:38:34

Resolution: fixed
