# Issue 16350: evaluation of sgn(expr) fails

archive/issues_016350.json:
```json
{
    "body": "CC:  kcrisman\n\nKeywords: sgn, evaluation\n\nAs reported in http://ask.sagemath.org/question/8535/problem-with-sign-sgn-and-n/ by Louis Cypher:\n\n```\nsage: M = sgn(cos(3/2))\nsage: M.n()\nTypeError                                 Traceback (most recent call last)\n<ipython-input-5-0f11e9bd1e87> in <module>()\n----> 1 M.n()\n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression._numerical_approx (build/cythonized/sage/symbolic/expression.cpp:24086)()\n\nTypeError: cannot evaluate symbolic expression numerically\n```\n\nkcrisman:\n\nProblem seems to be that in `M.n??` we see that it's looking for `is_a_numeric(x._gobj)` but apparently that fails, as does the constant, so it thinks we are looking at evaluating `sgn(cos(x))` instead of `sgn(cos(3/2))`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16587\n\n",
    "created_at": "2014-06-29T16:16:48Z",
    "labels": [
        "symbolics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "evaluation of sgn(expr) fails",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16350",
    "user": "rws"
}
```
CC:  kcrisman

Keywords: sgn, evaluation

As reported in http://ask.sagemath.org/question/8535/problem-with-sign-sgn-and-n/ by Louis Cypher:

```
sage: M = sgn(cos(3/2))
sage: M.n()
TypeError                                 Traceback (most recent call last)
<ipython-input-5-0f11e9bd1e87> in <module>()
----> 1 M.n()

/home/ralf/sage/local/lib/python2.7/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression._numerical_approx (build/cythonized/sage/symbolic/expression.cpp:24086)()

TypeError: cannot evaluate symbolic expression numerically
```

kcrisman:

Problem seems to be that in `M.n??` we see that it's looking for `is_a_numeric(x._gobj)` but apparently that fails, as does the constant, so it thinks we are looking at evaluating `sgn(cos(x))` instead of `sgn(cos(3/2))`.

Issue created by migration from https://trac.sagemath.org/ticket/16587





---

archive/issue_comments_214499.json:
```json
{
    "body": "You can always feel free to cc: me on any ticket coming from something I was involved in :)",
    "created_at": "2014-06-30T13:00:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214499",
    "user": "kcrisman"
}
```

You can always feel free to cc: me on any ticket coming from something I was involved in :)



---

archive/issue_comments_214500.json:
```json
{
    "body": "Actually all functions in `generalized.py` show this problem. Moreover, the `cos` can be left out:\n\n```\nsage: M = sgn((3/2),hold=True); M.n()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-18-b9940d9ad473> in <module>()\n----> 1 M = sgn((Integer(3)/Integer(2)),hold=True); M.n()\n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression._numerical_approx (build/cythonized/sage/symbolic/expression.cpp:27093)()\n\nTypeError: cannot evaluate symbolic expression numerically\n```\n\nAll the generalized functions have this code in `_eval_()` and I believe the bug to be there:\n\n```\n        try:\n            approx_x = ComplexIntervalField()(x)\n            if bool(approx_x.imag() == 0):      # x is real\n                if bool(approx_x.real() == 0):  # x is zero\n                    return ...\n                else:\n                    return ...\n            else:\n                return ...            # x is complex\n        except Exception:                     # x is symbolic\n            pass\n        return None\n```\n",
    "created_at": "2014-11-02T16:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214500",
    "user": "rws"
}
```

Actually all functions in `generalized.py` show this problem. Moreover, the `cos` can be left out:

```
sage: M = sgn((3/2),hold=True); M.n()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-18-b9940d9ad473> in <module>()
----> 1 M = sgn((Integer(3)/Integer(2)),hold=True); M.n()

/home/ralf/sage/local/lib/python2.7/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression._numerical_approx (build/cythonized/sage/symbolic/expression.cpp:27093)()

TypeError: cannot evaluate symbolic expression numerically
```

All the generalized functions have this code in `_eval_()` and I believe the bug to be there:

```
        try:
            approx_x = ComplexIntervalField()(x)
            if bool(approx_x.imag() == 0):      # x is real
                if bool(approx_x.real() == 0):  # x is zero
                    return ...
                else:
                    return ...
            else:
                return ...            # x is complex
        except Exception:                     # x is symbolic
            pass
        return None
```




---

archive/issue_comments_214501.json:
```json
{
    "body": "Isn't the problem simply that these functions are missing an `_evalf_()` method?",
    "created_at": "2014-11-03T09:39:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214501",
    "user": "jdemeyer"
}
```

Isn't the problem simply that these functions are missing an `_evalf_()` method?



---

archive/issue_comments_214502.json:
```json
{
    "body": "Thanks. This begs for a subclass of `BuiltinFunction`.",
    "created_at": "2014-11-03T17:05:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214502",
    "user": "rws"
}
```

Thanks. This begs for a subclass of `BuiltinFunction`.



---

archive/issue_comments_214503.json:
```json
{
    "body": "Replying to [comment:5 rws]:\n> Thanks. This begs for a subclass of `BuiltinFunction`.\nI don't see why.",
    "created_at": "2014-11-03T19:59:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214503",
    "user": "jdemeyer"
}
```

Replying to [comment:5 rws]:
> Thanks. This begs for a subclass of `BuiltinFunction`.
I don't see why.



---

archive/issue_comments_214504.json:
```json
{
    "body": "Let me also mention that this ticket touches on similar issues as #17130. So if you make a patch, I would prefer it to be based on #17130 (although that ticket is still in needs_review).",
    "created_at": "2014-11-03T20:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214504",
    "user": "jdemeyer"
}
```

Let me also mention that this ticket touches on similar issues as #17130. So if you make a patch, I would prefer it to be based on #17130 (although that ticket is still in needs_review).



---

archive/issue_comments_214505.json:
```json
{
    "body": "Replying to [comment:6 jdemeyer]:\n> Replying to [comment:5 rws]:\n> > Thanks. This begs for a subclass of `BuiltinFunction`.\n> I don't see why.\nBecause I didn't want to create an `evalf` for everyone of these. Documentation writing is pending your approval of this construct.\n----\nNew commits:",
    "created_at": "2014-11-04T09:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214505",
    "user": "rws"
}
```

Replying to [comment:6 jdemeyer]:
> Replying to [comment:5 rws]:
> > Thanks. This begs for a subclass of `BuiltinFunction`.
> I don't see why.
Because I didn't want to create an `evalf` for everyone of these. Documentation writing is pending your approval of this construct.
----
New commits:



---

archive/issue_comments_214506.json:
```json
{
    "body": "Replying to [comment:9 rws]:\n> Because I didn't want to create an `evalf` for everyone of these.\nBut now you create a `gen_eval()` method for everyone of those, why is that better?\n\n> Documentation writing is pending your approval of this construct.\nNo, I still do not see the reason for a new class.",
    "created_at": "2014-11-04T10:20:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214506",
    "user": "jdemeyer"
}
```

Replying to [comment:9 rws]:
> Because I didn't want to create an `evalf` for everyone of these.
But now you create a `gen_eval()` method for everyone of those, why is that better?

> Documentation writing is pending your approval of this construct.
No, I still do not see the reason for a new class.



---

archive/issue_comments_214507.json:
```json
{
    "body": "Also, do we really need the `ComplexIntervalField` stuff in `_eval_`? I would replace it by a simple `if x == 0` or something like other functions...",
    "created_at": "2014-11-04T10:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214507",
    "user": "jdemeyer"
}
```

Also, do we really need the `ComplexIntervalField` stuff in `_eval_`? I would replace it by a simple `if x == 0` or something like other functions...



---

archive/issue_comments_214508.json:
```json
{
    "body": "We also should decide whether\n\n```\nsage: sgn(cos(3/2))\n```\n\nshould automatically simplify to\n\n```\n1\n```\n\nor remain unevaluated.",
    "created_at": "2014-11-04T10:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214508",
    "user": "jdemeyer"
}
```

We also should decide whether

```
sage: sgn(cos(3/2))
```

should automatically simplify to

```
1
```

or remain unevaluated.



---

archive/issue_comments_214509.json:
```json
{
    "body": "Related: #17285",
    "created_at": "2014-11-04T10:37:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214509",
    "user": "jdemeyer"
}
```

Related: #17285



---

archive/issue_comments_214510.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-04T16:06:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214510",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_214511.json:
```json
{
    "body": "Please confirm this is what you think should go in as basic change to address the original issue. I feel `sgn(cos(3/2))` should give `1`. I'll try now if this works without `ComplexIntervalField`.",
    "created_at": "2014-11-04T16:09:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214511",
    "user": "rws"
}
```

Please confirm this is what you think should go in as basic change to address the original issue. I feel `sgn(cos(3/2))` should give `1`. I'll try now if this works without `ComplexIntervalField`.



---

archive/issue_comments_214512.json:
```json
{
    "body": "After thinking about this more, perhaps the `ComplexIntervalField` solution isn't so bad after all. In any case, #17285 is the main reason that\n\n```\nsgn(cos(3/2))\n```\n\ndoesn't currently simplify to `1`.",
    "created_at": "2014-11-05T20:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214512",
    "user": "jdemeyer"
}
```

After thinking about this more, perhaps the `ComplexIntervalField` solution isn't so bad after all. In any case, #17285 is the main reason that

```
sgn(cos(3/2))
```

doesn't currently simplify to `1`.



---

archive/issue_comments_214513.json:
```json
{
    "body": "Is this related?\nhttps://groups.google.com/forum/?hl=en#!topic/sage-devel/rkkdK5qbPY0",
    "created_at": "2015-03-31T06:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214513",
    "user": "rws"
}
```

Is this related?
https://groups.google.com/forum/?hl=en#!topic/sage-devel/rkkdK5qbPY0



---

archive/issue_comments_214514.json:
```json
{
    "body": "Replying to [comment:4 jdemeyer]:\n> Isn't the problem simply that these functions are missing an `_evalf_()` method?\nTo finally answer this, no, it will still trigger the exception with `M = sgn((3/2),hold=True); M.n()` and with `M = sgn(cos(3/2)); M.n()`.",
    "created_at": "2015-03-31T07:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214514",
    "user": "rws"
}
```

Replying to [comment:4 jdemeyer]:
> Isn't the problem simply that these functions are missing an `_evalf_()` method?
To finally answer this, no, it will still trigger the exception with `M = sgn((3/2),hold=True); M.n()` and with `M = sgn(cos(3/2)); M.n()`.



---

archive/issue_comments_214515.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-07-08T13:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214515",
    "user": "rws"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_214516.json:
```json
{
    "body": "Replying to [comment:4 jdemeyer]:\n> Isn't the problem simply that these functions are missing an `_evalf_()` method?\nYou were of course right. Please review. The polylog issue mentioned previously is part of #18386.\n----\nNew commits:",
    "created_at": "2015-07-08T13:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214516",
    "user": "rws"
}
```

Replying to [comment:4 jdemeyer]:
> Isn't the problem simply that these functions are missing an `_evalf_()` method?
You were of course right. Please review. The polylog issue mentioned previously is part of #18386.
----
New commits:



---

archive/issue_comments_214517.json:
```json
{
    "body": "I tried to checkout this ticket and rebuild Sage but that failed. Branch needs updating.",
    "created_at": "2016-07-07T01:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214517",
    "user": "paulmasson"
}
```

I tried to checkout this ticket and rebuild Sage but that failed. Branch needs updating.



---

archive/issue_comments_214518.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-07T05:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214518",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_214519.json:
```json
{
    "body": "The branch merges cleanly with develop (green link) so it should have worked after `git merge develop` on your machine. However, I've done it for you in the branch now, so you can simply check out.",
    "created_at": "2016-07-07T05:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214519",
    "user": "rws"
}
```

The branch merges cleanly with develop (green link) so it should have worked after `git merge develop` on your machine. However, I've done it for you in the branch now, so you can simply check out.



---

archive/issue_comments_214520.json:
```json
{
    "body": "Doctests pass. `dirac_delta`, `heaviside`, `unit_step` and `sign` function as expected for real arguments.\n\n`kronecker_delta` returns an unexpected error for real arguments:\n\n\n```\nsage: kronecker_delta(1,2,hold=True).n()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-27-089ce283036d> in <module>()\n----> 1 kronecker_delta(Integer(1),Integer(2),hold=True).n()\n\n/Users/Masson/Downloads/GitHub/sage/src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._numerical_approx (/Users/Masson/Downloads/GitHub/sage/src/build/cythonized/sage/symbolic/expression.cpp:31167)()\n   5430             pass          # try again with complex\n   5431             kwds['parent'] = R.complex_field()\n-> 5432             x = x._convert(kwds)\n   5433 \n   5434         # we have to consider constants as well, since infinity is a constant\n\n/Users/Masson/Downloads/GitHub/sage/src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._convert (/Users/Masson/Downloads/GitHub/sage/src/build/cythonized/sage/symbolic/expression.cpp:9677)()\n   1242             -0.989992496600445*sqrt(2)\n   1243         \"\"\"\n-> 1244         cdef GEx res = self._gobj.evalf(0, kwds)\n   1245         return new_Expression_from_GEx(self._parent, res)\n   1246 \n\nTypeError: _evalf_() takes exactly 2 arguments (5 given)\n\n```\n\n\nLooks like its trying to evaluate arguments as complex numbers.\n\nAnd for future reference, is it expected practice for people to merge the current develop branch before pushing to Trac? Or is it a matter of how the branch is assembled, especially for older tickets, and I just need to pay attention to what gets pulled?",
    "created_at": "2016-07-08T01:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214520",
    "user": "paulmasson"
}
```

Doctests pass. `dirac_delta`, `heaviside`, `unit_step` and `sign` function as expected for real arguments.

`kronecker_delta` returns an unexpected error for real arguments:


```
sage: kronecker_delta(1,2,hold=True).n()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-27-089ce283036d> in <module>()
----> 1 kronecker_delta(Integer(1),Integer(2),hold=True).n()

/Users/Masson/Downloads/GitHub/sage/src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._numerical_approx (/Users/Masson/Downloads/GitHub/sage/src/build/cythonized/sage/symbolic/expression.cpp:31167)()
   5430             pass          # try again with complex
   5431             kwds['parent'] = R.complex_field()
-> 5432             x = x._convert(kwds)
   5433 
   5434         # we have to consider constants as well, since infinity is a constant

/Users/Masson/Downloads/GitHub/sage/src/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression._convert (/Users/Masson/Downloads/GitHub/sage/src/build/cythonized/sage/symbolic/expression.cpp:9677)()
   1242             -0.989992496600445*sqrt(2)
   1243         """
-> 1244         cdef GEx res = self._gobj.evalf(0, kwds)
   1245         return new_Expression_from_GEx(self._parent, res)
   1246 

TypeError: _evalf_() takes exactly 2 arguments (5 given)

```


Looks like its trying to evaluate arguments as complex numbers.

And for future reference, is it expected practice for people to merge the current develop branch before pushing to Trac? Or is it a matter of how the branch is assembled, especially for older tickets, and I just need to pay attention to what gets pulled?



---

archive/issue_comments_214521.json:
```json
{
    "body": "Replying to [comment:26 paulmasson]:\n> And for future reference, is it expected practice for people to merge the current develop branch before pushing to Trac? Or is it a matter of how the branch is assembled, especially for older tickets, and I just need to pay attention to what gets pulled?\n\nThere should be as few merge commits as possible but you can't always adhere to that.\n\nAs author, you of course need to merge if what you uploaded before doesn't with develop (red link on ticket). But as you saw, there was a branch that was so old that it could no longer be compiled so I needed to merge it too. Note that as a reviewer you do not need to do `git trac checkout 12345; git merge develop` to get an up-to-date version of an older branch (that still merges cleanly). You can also branch from develop and pull changes: `git checkout -b tmp; git trac pull 12345`. This way your local Sage is not changed to the version of the branch and only the specific branch changes need to be compiled in.\n\nSo, to answer, in principle you need not merge the current develop branch before pushing as long as the branch merges cleanly with develop. A good reason to do it nevertheless would be that you want to make sure your changes pass tests (which are always done by patchbot or the RM with develop). What you want to pay attention to as reviewer OTOH is the age of the last merge commit (or the first commit if none) and rather pull (see above) than checkout if older than say 18 months.",
    "created_at": "2016-07-08T13:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214521",
    "user": "rws"
}
```

Replying to [comment:26 paulmasson]:
> And for future reference, is it expected practice for people to merge the current develop branch before pushing to Trac? Or is it a matter of how the branch is assembled, especially for older tickets, and I just need to pay attention to what gets pulled?

There should be as few merge commits as possible but you can't always adhere to that.

As author, you of course need to merge if what you uploaded before doesn't with develop (red link on ticket). But as you saw, there was a branch that was so old that it could no longer be compiled so I needed to merge it too. Note that as a reviewer you do not need to do `git trac checkout 12345; git merge develop` to get an up-to-date version of an older branch (that still merges cleanly). You can also branch from develop and pull changes: `git checkout -b tmp; git trac pull 12345`. This way your local Sage is not changed to the version of the branch and only the specific branch changes need to be compiled in.

So, to answer, in principle you need not merge the current develop branch before pushing as long as the branch merges cleanly with develop. A good reason to do it nevertheless would be that you want to make sure your changes pass tests (which are always done by patchbot or the RM with develop). What you want to pay attention to as reviewer OTOH is the age of the last merge commit (or the first commit if none) and rather pull (see above) than checkout if older than say 18 months.



---

archive/issue_comments_214522.json:
```json
{
    "body": "I rewrote it all and pushed a new branch (this is also a way to get rid of merge commits). There was danger of infinite loops (see #12121). It also resolved the `kronecker` issue. Please review.\n----\nNew commits:",
    "created_at": "2016-07-08T14:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214522",
    "user": "rws"
}
```

I rewrote it all and pushed a new branch (this is also a way to get rid of merge commits). There was danger of infinite loops (see #12121). It also resolved the `kronecker` issue. Please review.
----
New commits:



---

archive/issue_comments_214523.json:
```json
{
    "body": "Doctests pass. Functions behaved as expected as per ticket. Ready to go.",
    "created_at": "2016-07-08T21:47:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214523",
    "user": "paulmasson"
}
```

Doctests pass. Functions behaved as expected as per ticket. Ready to go.



---

archive/issue_comments_214524.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-07-08T21:47:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214524",
    "user": "paulmasson"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_214525.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-07-09T16:29:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16350#issuecomment-214525",
    "user": "vbraun"
}
```

Resolution: fixed
