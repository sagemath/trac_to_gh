# Issue 11243: update pynac to 0.2.3

archive/issues_011243.json:
```json
{
    "body": "Assignee: burcin\n\nCC:  kcrisman\n\nYet another pynac release, including fixes for #10964, #11352 and #9240.\n\nhttp://sage.math.washington.edu/home/burcin/pynac/pynac-0.2.3.spkg\n\nAttached patch fixes some doctest to remove extra braces printed when typesetting mul objects.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11415\n\n",
    "created_at": "2011-05-31T15:04:22Z",
    "labels": [
        "symbolics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.1",
    "title": "update pynac to 0.2.3",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11243",
    "user": "burcin"
}
```
Assignee: burcin

CC:  kcrisman

Yet another pynac release, including fixes for #10964, #11352 and #9240.

http://sage.math.washington.edu/home/burcin/pynac/pynac-0.2.3.spkg

Attached patch fixes some doctest to remove extra braces printed when typesetting mul objects.

Issue created by migration from https://trac.sagemath.org/ticket/11415





---

archive/issue_comments_123840.json:
```json
{
    "body": "Attachment [trac_11415-remove_extra_braces.patch](tarball://root/attachments/some-uuid/ticket11415/trac_11415-remove_extra_braces.patch) by burcin created at 2011-05-31 15:07:21",
    "created_at": "2011-05-31T15:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123840",
    "user": "burcin"
}
```

Attachment [trac_11415-remove_extra_braces.patch](tarball://root/attachments/some-uuid/ticket11415/trac_11415-remove_extra_braces.patch) by burcin created at 2011-05-31 15:07:21



---

archive/issue_comments_123841.json:
```json
{
    "body": "I'm confused about \n\n```\n\nchangeset:   197:3c39cd396893\nuser:        Burcin Erocal <burcin@erocal.org>\ndate:        Tue May 31 16:37:48 2011 +0200\nsummary:     Use \"%lf\" to print doubles instead of \"%f\".\n```\n\nNot that it seems to be affecting anything, though one would think it would print things differently...\n\nAnyway, I don't see that in the Ginac commit list, but I don't see it mentioned in any of the relevant tickets either.\n\nOtherwise, so far, so good.  Now to look at the actual patches and tickets involved.  #9240 I will probably not get to right away.",
    "created_at": "2011-06-08T21:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123841",
    "user": "kcrisman"
}
```

I'm confused about 

```

changeset:   197:3c39cd396893
user:        Burcin Erocal <burcin@erocal.org>
date:        Tue May 31 16:37:48 2011 +0200
summary:     Use "%lf" to print doubles instead of "%f".
```

Not that it seems to be affecting anything, though one would think it would print things differently...

Anyway, I don't see that in the Ginac commit list, but I don't see it mentioned in any of the relevant tickets either.

Otherwise, so far, so good.  Now to look at the actual patches and tickets involved.  #9240 I will probably not get to right away.



---

archive/issue_comments_123842.json:
```json
{
    "body": "Positive review on the patch in this ticket.",
    "created_at": "2011-06-08T21:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123842",
    "user": "kcrisman"
}
```

Positive review on the patch in this ticket.



---

archive/issue_comments_123843.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-06-08T22:03:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123843",
    "user": "kcrisman"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_123844.json:
```json
{
    "body": "Positive review modulo an answer to the question about why the change from && to & was necessary in the Pynac patch for #9240.",
    "created_at": "2011-06-08T22:03:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123844",
    "user": "kcrisman"
}
```

Positive review modulo an answer to the question about why the change from && to & was necessary in the Pynac patch for #9240.



---

archive/issue_comments_123845.json:
```json
{
    "body": "Replying to [comment:2 kcrisman]:\n> I'm confused about \n> {{{\n> \n> changeset:   197:3c39cd396893\n> user:        Burcin Erocal <burcin`@`erocal.org>\n> date:        Tue May 31 16:37:48 2011 +0200\n> summary:     Use \"%lf\" to print doubles instead of \"%f\".\n> }}}\n> Not that it seems to be affecting anything, though one would think it would print things differently...\n> \nHi Karl,\n\nBurcin introduced this on my report because gcc complains. See here [https://bitbucket.org/burcin/pynac/issue/2/correct-format-in-numericcpp](https://bitbucket.org/burcin/pynac/issue/2/correct-format-in-numericcpp). This is not about printing but about entering data if you look at the commit [https://bitbucket.org/burcin/pynac/changeset/3c39cd396893](https://bitbucket.org/burcin/pynac/changeset/3c39cd396893) this is in scanf not printf. So printing is not affected.",
    "created_at": "2011-06-08T23:15:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123845",
    "user": "fbissey"
}
```

Replying to [comment:2 kcrisman]:
> I'm confused about 
> {{{
> 
> changeset:   197:3c39cd396893
> user:        Burcin Erocal <burcin`@`erocal.org>
> date:        Tue May 31 16:37:48 2011 +0200
> summary:     Use "%lf" to print doubles instead of "%f".
> }}}
> Not that it seems to be affecting anything, though one would think it would print things differently...
> 
Hi Karl,

Burcin introduced this on my report because gcc complains. See here [https://bitbucket.org/burcin/pynac/issue/2/correct-format-in-numericcpp](https://bitbucket.org/burcin/pynac/issue/2/correct-format-in-numericcpp). This is not about printing but about entering data if you look at the commit [https://bitbucket.org/burcin/pynac/changeset/3c39cd396893](https://bitbucket.org/burcin/pynac/changeset/3c39cd396893) this is in scanf not printf. So printing is not affected.



---

archive/issue_comments_123846.json:
```json
{
    "body": "> \n> Burcin introduced this on my report because gcc complains. See here [https://bitbucket.org/burcin/pynac/issue/2/correct-format-in-numericcpp](https://bitbucket.org/burcin/pynac/issue/2/correct-format-in-numericcpp). This is not about printing but about entering data if you look at the commit [https://bitbucket.org/burcin/pynac/changeset/3c39cd396893](https://bitbucket.org/burcin/pynac/changeset/3c39cd396893) this is in scanf not printf. So printing is not affected.\n\nThanks, Francois!  I have to say, David Kirkby would love this - someone fixing a **warning** and not just an actual error in an upstream package!  If you watch Sage compile, it's amazing just how many warnings there are - small wonder we need gcc!\n\nAnd since I know very little about C and its derivatives (enough to get in trouble, I guess), that explanation was actually very helpful.\n\nNow I just need to know the answer about the bitwise and versus boolean and.",
    "created_at": "2011-06-09T00:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123846",
    "user": "kcrisman"
}
```

> 
> Burcin introduced this on my report because gcc complains. See here [https://bitbucket.org/burcin/pynac/issue/2/correct-format-in-numericcpp](https://bitbucket.org/burcin/pynac/issue/2/correct-format-in-numericcpp). This is not about printing but about entering data if you look at the commit [https://bitbucket.org/burcin/pynac/changeset/3c39cd396893](https://bitbucket.org/burcin/pynac/changeset/3c39cd396893) this is in scanf not printf. So printing is not affected.

Thanks, Francois!  I have to say, David Kirkby would love this - someone fixing a **warning** and not just an actual error in an upstream package!  If you watch Sage compile, it's amazing just how many warnings there are - small wonder we need gcc!

And since I know very little about C and its derivatives (enough to get in trouble, I guess), that explanation was actually very helpful.

Now I just need to know the answer about the bitwise and versus boolean and.



---

archive/issue_comments_123847.json:
```json
{
    "body": "I actually didn't report all the warnings. Just the easy to fix one. There's some of that as well:\n\n```\n/scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp: In function 'PyObject* Integer(const long int&)':\n/scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp:173:56: warning: deprecated conversion from string constant to 'char*'\n/scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp: In function 'void GiNaC::coerce(GiNaC::Number_T&, GiNaC::Number_T&, const GiNaC::Number_T&, const GiNaC::Number_T&)':\n/scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp:262:67: warning: deprecated conversion from string constant to 'char*'\n```\n\nBut you wouldn't believe how widespread this one is. Just look at your singular build logs for example when you have time. \nI may attempt your other question but in #9240 (he says looking at his C manual and looking at the code).",
    "created_at": "2011-06-09T00:31:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123847",
    "user": "fbissey"
}
```

I actually didn't report all the warnings. Just the easy to fix one. There's some of that as well:

```
/scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp: In function 'PyObject* Integer(const long int&)':
/scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp:173:56: warning: deprecated conversion from string constant to 'char*'
/scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp: In function 'void GiNaC::coerce(GiNaC::Number_T&, GiNaC::Number_T&, const GiNaC::Number_T&, const GiNaC::Number_T&)':
/scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp:262:67: warning: deprecated conversion from string constant to 'char*'
```

But you wouldn't believe how widespread this one is. Just look at your singular build logs for example when you have time. 
I may attempt your other question but in #9240 (he says looking at his C manual and looking at the code).



---

archive/issue_comments_123848.json:
```json
{
    "body": "Yes, I've seen lots of those as well.",
    "created_at": "2011-06-09T00:35:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123848",
    "user": "kcrisman"
}
```

Yes, I've seen lots of those as well.



---

archive/issue_comments_123849.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-06-09T01:42:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123849",
    "user": "kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_123850.json:
```json
{
    "body": "Well, fbissey seems to be convinced in #9240 that the && to & is ok, and it doesn't break anything, and it's certainly in the right spirit (just what kind of and), so I think that suffices for the new Pynac.  #9240 itself needs some clarification, at least for me.",
    "created_at": "2011-06-09T01:42:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123850",
    "user": "kcrisman"
}
```

Well, fbissey seems to be convinced in #9240 that the && to & is ok, and it doesn't break anything, and it's certainly in the right spirit (just what kind of and), so I think that suffices for the new Pynac.  #9240 itself needs some clarification, at least for me.



---

archive/issue_comments_123851.json:
```json
{
    "body": "Replying to [comment:7 fbissey]:\n> I actually didn't report all the warnings. Just the easy to fix one. There's some of that as well:\n {{{\n /scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp: In function 'PyObject* Integer(const long int&)':\n /scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp:173:56: warning: deprecated conversion from string constant to 'char*'\n /scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp: In function 'void GiNaC::coerce(GiNaC::Number_T&, GiNaC::Number_T&, const GiNaC::Number_T&, const GiNaC::Number_T&)':\n /scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp:262:67: warning: deprecated conversion from string constant to 'char*'\n }}}\n> But you wouldn't believe how widespread this one is. Just look at your singular build logs for example when you have time. \n> I may attempt your other question but in #9240 (he says looking at his C manual and looking at the code).\n\nI try to fix the warnings I know about. Thanks Francois for reporting the `%lf` issue.\n\nUnfortunately the ones above are due to the python headers not declaring the `char*` arguments of some functions as const. I don't think it's a good idea to manually cast to a nonconstant type to suppress these warnings.\n\n\nMany thanks for the reviews Karl-Dieter.",
    "created_at": "2011-06-09T09:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123851",
    "user": "burcin"
}
```

Replying to [comment:7 fbissey]:
> I actually didn't report all the warnings. Just the easy to fix one. There's some of that as well:
 {{{
 /scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp: In function 'PyObject* Integer(const long int&)':
 /scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp:173:56: warning: deprecated conversion from string constant to 'char*'
 /scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp: In function 'void GiNaC::coerce(GiNaC::Number_T&, GiNaC::Number_T&, const GiNaC::Number_T&, const GiNaC::Number_T&)':
 /scratch/portage/sci-libs/pynac-0.2.2/work/pynac-0.2.2/src/ginac/numeric.cpp:262:67: warning: deprecated conversion from string constant to 'char*'
 }}}
> But you wouldn't believe how widespread this one is. Just look at your singular build logs for example when you have time. 
> I may attempt your other question but in #9240 (he says looking at his C manual and looking at the code).

I try to fix the warnings I know about. Thanks Francois for reporting the `%lf` issue.

Unfortunately the ones above are due to the python headers not declaring the `char*` arguments of some functions as const. I don't think it's a good idea to manually cast to a nonconstant type to suppress these warnings.


Many thanks for the reviews Karl-Dieter.



---

archive/issue_comments_123852.json:
```json
{
    "body": "Changing component from symbolics to packages.",
    "created_at": "2011-06-09T19:36:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123852",
    "user": "jdemeyer"
}
```

Changing component from symbolics to packages.



---

archive/issue_comments_123853.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-06-14T19:20:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11243#issuecomment-123853",
    "user": "jdemeyer"
}
```

Resolution: fixed
