# Issue 31092: Update scipoptsuite to 7.0.2

archive/issues_031092.json:
```json
{
    "body": "CC:  dimpase yzh @kliem jipilab\n\nreleased 13/Jan/2021 - https://www.scipopt.org/\n\nIssue created by migration from https://trac.sagemath.org/ticket/31329\n\n",
    "created_at": "2021-02-03T05:00:29Z",
    "labels": [
        "packages: experimental",
        "major",
        "enhancement"
    ],
    "title": "Update scipoptsuite to 7.0.2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31092",
    "user": "mkoeppe"
}
```
CC:  dimpase yzh @kliem jipilab

released 13/Jan/2021 - https://www.scipopt.org/

Issue created by migration from https://trac.sagemath.org/ticket/31329





---

archive/issue_comments_444111.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-02-03T06:33:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444111",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444112.json:
```json
{
    "body": "Tested only on macOS Catalina.  Can't do automatic tests because the upstream tarball is not distributable.",
    "created_at": "2021-02-03T06:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444112",
    "user": "mkoeppe"
}
```

Tested only on macOS Catalina.  Can't do automatic tests because the upstream tarball is not distributable.



---

archive/issue_comments_444113.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-02-03T06:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444113",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_444114.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-02-03T07:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444114",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_444115.json:
```json
{
    "body": "shared library installation on macOS needs more work - see #21003",
    "created_at": "2021-02-03T07:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444115",
    "user": "mkoeppe"
}
```

shared library installation on macOS needs more work - see #21003



---

archive/issue_comments_444116.json:
```json
{
    "body": "Changing keywords from \"\" to \"upgrade, scipoptsuite\".",
    "created_at": "2021-02-05T20:08:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444116",
    "user": "slelievre"
}
```

Changing keywords from "" to "upgrade, scipoptsuite".



---

archive/issue_comments_444117.json:
```json
{
    "body": "Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444117",
    "user": "mkoeppe"
}
```

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_444118.json:
```json
{
    "body": "Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444118",
    "user": "mkoeppe"
}
```

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_comments_444119.json:
```json
{
    "body": "No upstream url yet - https://github.com/scipopt/scip/issues/30",
    "created_at": "2022-11-05T04:20:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444119",
    "user": "mkoeppe"
}
```

No upstream url yet - https://github.com/scipopt/scip/issues/30



---

archive/issue_comments_444120.json:
```json
{
    "body": "Probably best to switch from using scipoptsuite tarballs to individual tarballs of packages scip, papilo, ...",
    "created_at": "2022-11-05T21:43:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444120",
    "user": "mkoeppe"
}
```

Probably best to switch from using scipoptsuite tarballs to individual tarballs of packages scip, papilo, ...



---

archive/issue_comments_444121.json:
```json
{
    "body": "https://github.com/scipopt/soplex still appears to have the old license - https://github.com/scipopt/soplex/issues/10",
    "created_at": "2022-11-05T21:45:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444121",
    "user": "mkoeppe"
}
```

https://github.com/scipopt/soplex still appears to have the old license - https://github.com/scipopt/soplex/issues/10



---

archive/issue_comments_444122.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-11-12T06:36:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444122",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444123.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-11-12T07:06:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444123",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444124.json:
```json
{
    "body": "install_name is broken on macOS:\n\n```\notool -L /Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/lib/libscip.dylib                                                                                  git:t/21003/pyscipopt\n/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/lib/libscip.dylib:\n\tlibscip.8.0.dylib (compatibility version 8.0.0, current version 8.0.2)\n\t/usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.11)\n\t/usr/local/opt/readline/lib/libreadline.8.dylib (compatibility version 8.1.0, current version 8.1.0)\n\t/usr/local/opt/gmp/lib/libgmp.10.dylib (compatibility version 15.0.0, current version 15.1.0)\n\t/usr/local/opt/gmp/lib/libgmpxx.4.dylib (compatibility version 11.0.0, current version 11.1.0)\n\t/usr/local/opt/mpfr/lib/libmpfr.6.dylib (compatibility version 8.0.0, current version 8.0.0)\n\t/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 1300.23.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1311.100.3)\n```\n",
    "created_at": "2022-11-12T07:41:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444124",
    "user": "mkoeppe"
}
```

install_name is broken on macOS:

```
otool -L /Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/lib/libscip.dylib                                                                                  git:t/21003/pyscipopt
/Users/mkoeppe/s/sage/sage-rebasing/worktree-rebase/local/lib/libscip.dylib:
	libscip.8.0.dylib (compatibility version 8.0.0, current version 8.0.2)
	/usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.11)
	/usr/local/opt/readline/lib/libreadline.8.dylib (compatibility version 8.1.0, current version 8.1.0)
	/usr/local/opt/gmp/lib/libgmp.10.dylib (compatibility version 15.0.0, current version 15.1.0)
	/usr/local/opt/gmp/lib/libgmpxx.4.dylib (compatibility version 11.0.0, current version 11.1.0)
	/usr/local/opt/mpfr/lib/libmpfr.6.dylib (compatibility version 8.0.0, current version 8.0.0)
	/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 1300.23.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1311.100.3)
```




---

archive/issue_comments_444125.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-14T00:15:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444125",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444126.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-14T00:47:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444126",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444127.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-14T01:16:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444127",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444128.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-11-14T01:21:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444128",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444129.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-14T05:48:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444129",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444130.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-20T03:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444130",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444131.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2022-11-27T22:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444131",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_444132.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-11-27T22:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444132",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_444133.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-11-28T02:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444133",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444134.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-12-11T22:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444134",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_444135.json:
```json
{
    "body": "lgtm",
    "created_at": "2022-12-11T22:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444135",
    "user": "dimpase"
}
```

lgtm



---

archive/issue_comments_444136.json:
```json
{
    "body": "Thanks!",
    "created_at": "2022-12-11T23:47:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444136",
    "user": "mkoeppe"
}
```

Thanks!



---

archive/issue_comments_444137.json:
```json
{
    "body": "Where do I get \n\n```\nsage/spkg/upstream/scip/scip-802.tar.gz'\n```\n\nfrom, and where do I put it and is there anything else I will have to do?",
    "created_at": "2022-12-23T10:03:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444137",
    "user": "mantepse"
}
```

Where do I get 

```
sage/spkg/upstream/scip/scip-802.tar.gz'
```

from, and where do I put it and is there anything else I will have to do?



---

archive/issue_comments_444138.json:
```json
{
    "body": "`./configure --enable-download-from-upstream-url` is my friend, sorry for the noise",
    "created_at": "2022-12-23T10:16:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444138",
    "user": "mantepse"
}
```

`./configure --enable-download-from-upstream-url` is my friend, sorry for the noise



---

archive/issue_comments_444139.json:
```json
{
    "body": "I feel stupid, but what is the name of the backend?  I have\n\n```\nsage: MixedIntegerLinearProgram(solver=\"SCIP\")\n...\nValueError: 'solver' should be set to 'GLPK', 'GLPK/exact', 'Coin', 'CPLEX', 'CVXOPT', 'Gurobi', 'PPL', 'InteractiveLP', None (in which case the default one is used), or a callable.\n```\n",
    "created_at": "2022-12-23T10:36:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444139",
    "user": "mantepse"
}
```

I feel stupid, but what is the name of the backend?  I have

```
sage: MixedIntegerLinearProgram(solver="SCIP")
...
ValueError: 'solver' should be set to 'GLPK', 'GLPK/exact', 'Coin', 'CPLEX', 'CVXOPT', 'Gurobi', 'PPL', 'InteractiveLP', None (in which case the default one is used), or a callable.
```




---

archive/issue_comments_444140.json:
```json
{
    "body": "Replying to [comment:38 Martin Rubey]:\n> `./configure --enable-download-from-upstream-url` is my friend, sorry for the noise\n\nthis is the default now,no need to supply it explicitly. cf #32390\n\nthe problem is elsewhere",
    "created_at": "2022-12-23T10:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444140",
    "user": "dimpase"
}
```

Replying to [comment:38 Martin Rubey]:
> `./configure --enable-download-from-upstream-url` is my friend, sorry for the noise

this is the default now,no need to supply it explicitly. cf #32390

the problem is elsewhere



---

archive/issue_comments_444141.json:
```json
{
    "body": "check out\n\n```\n./configure --help | grep -i scip",
    "created_at": "2022-12-23T11:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444141",
    "user": "dimpase"
}
```

check out

```
./configure --help | grep -i scip



---

archive/issue_comments_444142.json:
```json
{
    "body": "I found another friend, #21003...",
    "created_at": "2022-12-23T12:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444142",
    "user": "mantepse"
}
```

I found another friend, #21003...



---

archive/issue_comments_444143.json:
```json
{
    "body": "It seems that SCIP forgets the type of variables upon copying:\n\n```\nsage: P = MixedIntegerLinearProgram(solver=\"GLPK\")\nsage: x = P.new_variable(binary=True)\nsage: P.add_constraint(x[0] + x[1] <= 1)\nsage: P\nBoolean Program (no objective, 2 variables, 1 constraint)\nsage: copy(P)\nBoolean Program (no objective, 2 variables, 1 constraint)\n```\n\nversus\n\n```\nsage: P = MixedIntegerLinearProgram(solver=\"SCIP\")\nsage: x = P.new_variable(binary=True)\nsage: P.add_constraint(x[0] + x[1] <= 1)\nsage: P\nBoolean Program (no objective, 2 variables, 1 constraint)\nsage: copy(P)\nLinear Program (no objective, 2 variables, 1 constraint)\n\nsage: copy(P).show()\nMaximization:\n  \n\nConstraints:\n  c1: x1 + x2 <= 1.0\nVariables:\n  x1 = x_0 is a continuous variable (min=0.0, max=1.0)\n  x2 = x_1 is a continuous variable (min=0.0, max=1.0)\n```\n",
    "created_at": "2022-12-23T13:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444143",
    "user": "mantepse"
}
```

It seems that SCIP forgets the type of variables upon copying:

```
sage: P = MixedIntegerLinearProgram(solver="GLPK")
sage: x = P.new_variable(binary=True)
sage: P.add_constraint(x[0] + x[1] <= 1)
sage: P
Boolean Program (no objective, 2 variables, 1 constraint)
sage: copy(P)
Boolean Program (no objective, 2 variables, 1 constraint)
```

versus

```
sage: P = MixedIntegerLinearProgram(solver="SCIP")
sage: x = P.new_variable(binary=True)
sage: P.add_constraint(x[0] + x[1] <= 1)
sage: P
Boolean Program (no objective, 2 variables, 1 constraint)
sage: copy(P)
Linear Program (no objective, 2 variables, 1 constraint)

sage: copy(P).show()
Maximization:
  

Constraints:
  c1: x1 + x2 <= 1.0
Variables:
  x1 = x_0 is a continuous variable (min=0.0, max=1.0)
  x2 = x_1 is a continuous variable (min=0.0, max=1.0)
```




---

archive/issue_comments_444144.json:
```json
{
    "body": "This is actually a real problem:\n\n```\nsage: P = MixedIntegerLinearProgram(solver=\"SCIP\")\nsage: x = P.new_variable(binary=True)\nsage: P.add_constraint(x[0] + x[1] == 1)\nsage: P.add_constraint(x[0] - x[1] == 0)\nsage: P.solve()\n...\nMIPSolverException: SCIP: There is no feasible solution\nsage: P2 = deepcopy(P)\nsage: P2.solve()\n0.0\nsage: P2.get_values(x.copy_for_mip(P2))\n{0: 0.5, 1: 0.5}\n```\n",
    "created_at": "2022-12-23T13:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444144",
    "user": "mantepse"
}
```

This is actually a real problem:

```
sage: P = MixedIntegerLinearProgram(solver="SCIP")
sage: x = P.new_variable(binary=True)
sage: P.add_constraint(x[0] + x[1] == 1)
sage: P.add_constraint(x[0] - x[1] == 0)
sage: P.solve()
...
MIPSolverException: SCIP: There is no feasible solution
sage: P2 = deepcopy(P)
sage: P2.solve()
0.0
sage: P2.get_values(x.copy_for_mip(P2))
{0: 0.5, 1: 0.5}
```




---

archive/issue_comments_444145.json:
```json
{
    "body": "\n```diff\ndiff --git a/src/sage/numerical/backends/scip_backend.pyx b/src/sage/numerical/backends/scip_backend.pyx\nindex d063d012b98..9b080afcbe0 100644\n--- a/src/sage/numerical/backends/scip_backend.pyx\n+++ b/src/sage/numerical/backends/scip_backend.pyx\n@@ -1148,7 +1148,7 @@ cdef class SCIPBackend(GenericBackend):\n         cdef SCIPBackend cp = type(self)(maximization=self.is_maximization())\n         cp.problem_name(self.problem_name())\n         for i, v in enumerate(self.variables):\n-            vtype = v.vtype\n+            vtype = v.vtype()\n             cp.add_variable(self.variable_lower_bound(i),\n                             self.variable_upper_bound(i),\n                             binary=vtype == 'BINARY',\n```\n",
    "created_at": "2022-12-23T13:50:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444145",
    "user": "mantepse"
}
```


```diff
diff --git a/src/sage/numerical/backends/scip_backend.pyx b/src/sage/numerical/backends/scip_backend.pyx
index d063d012b98..9b080afcbe0 100644
--- a/src/sage/numerical/backends/scip_backend.pyx
+++ b/src/sage/numerical/backends/scip_backend.pyx
@@ -1148,7 +1148,7 @@ cdef class SCIPBackend(GenericBackend):
         cdef SCIPBackend cp = type(self)(maximization=self.is_maximization())
         cp.problem_name(self.problem_name())
         for i, v in enumerate(self.variables):
-            vtype = v.vtype
+            vtype = v.vtype()
             cp.add_variable(self.variable_lower_bound(i),
                             self.variable_upper_bound(i),
                             binary=vtype == 'BINARY',
```




---

archive/issue_comments_444146.json:
```json
{
    "body": "could you update the branch (or I can do this in 6 hours)",
    "created_at": "2022-12-23T15:35:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444146",
    "user": "dimpase"
}
```

could you update the branch (or I can do this in 6 hours)



---

archive/issue_comments_444147.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-12-23T15:35:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444147",
    "user": "dimpase"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_444148.json:
```json
{
    "body": "Should this really be done in this ticket, or rather in #21003?",
    "created_at": "2022-12-23T15:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444148",
    "user": "mantepse"
}
```

Should this really be done in this ticket, or rather in #21003?



---

archive/issue_comments_444149.json:
```json
{
    "body": "This change should be made in #21003, which adds the mip backend.",
    "created_at": "2022-12-23T19:26:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444149",
    "user": "mkoeppe"
}
```

This change should be made in #21003, which adds the mip backend.



---

archive/issue_comments_444150.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-12-23T19:26:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31092",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31092#issuecomment-444150",
    "user": "mkoeppe"
}
```

Changing status from needs_work to positive_review.
