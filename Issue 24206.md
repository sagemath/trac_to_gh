# Issue 24206: Make RealSet answer positive to is_Set

Issue created by migration from Trac.

Original creator: rws

Original creation time: 2017-12-29 07:33:26

`RealSet` as formal set of reals should answer True to `is_Set()`.


---

Comment by rws created at 2017-12-29 07:42:04

New commits:


---

Comment by rws created at 2017-12-29 07:42:04

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2017-12-29 08:35:38

Changing status from needs_review to needs_info.


---

Comment by vdelecroix created at 2017-12-29 08:35:38

`is_Set` is not intended to answer the question "is this object a set". There is no need to let `RealSet` inherits from `Set_generic`. As I already mentioned in #15344, what does work is

```
sage: RealSet(1,2) in Sets()
True
```



---

Comment by rws created at 2017-12-30 07:19:58

In that case I'd like to either rename `is_Set` or replace calls to it with the code it has, which is just `isinstance(x, Set_generic)`. Outside of `sage/sets` grep finds the following usages of which I'm not sure if they are even correct:

```
src/sage/combinat/set_partition.py:from sage.sets.set import Set, is_Set
src/sage/combinat/set_partition.py:        if not (isinstance(x, (SetPartition, set, frozenset)) or is_Set(x)):
src/sage/combinat/set_partition.py:            if not (isinstance(s, (set, frozenset)) or is_Set(s)):
src/sage/combinat/set_partition_ordered.py:from sage.sets.set import Set, is_Set
src/sage/combinat/set_partition_ordered.py:            if not isinstance(s, (set, frozenset)) and not is_Set(s):
src/sage/combinat/partition_algebra.py:from sage.sets.set import Set, is_Set
src/sage/combinat/partition_algebra.py:            assert isinstance(s, (set, frozenset)) or is_Set(s)
```

What do you think?


---

Comment by mantepse created at 2017-12-30 07:47:56

At least from what I understand, these calls to `is_Set` are correct, and I agree that

```
isinstance(x, (SetPartition, set, frozenset, Set_generic))
```

would be easier to understand for me.

More precisely: I believe that this code is to make

```
sage: Set([Set([1,2])]) in SetPartitions
True
```

work.


---

Comment by vdelecroix created at 2017-12-30 09:11:27

Replying to [comment:4 rws]:
> In that case I'd like to either rename `is_Set` or replace calls to it with the code it has, which is just `isinstance(x, Set_generic)`. Outside of `sage/sets` grep finds the following usages of which I'm not sure if they are even correct:
> {{{
> src/sage/combinat/set_partition.py:from sage.sets.set import Set, is_Set
> src/sage/combinat/set_partition.py:        if not (isinstance(x, (SetPartition, set, frozenset)) or is_Set(x)):
> src/sage/combinat/set_partition.py:            if not (isinstance(s, (set, frozenset)) or is_Set(s)):
> src/sage/combinat/set_partition_ordered.py:from sage.sets.set import Set, is_Set
> src/sage/combinat/set_partition_ordered.py:            if not isinstance(s, (set, frozenset)) and not is_Set(s):
> src/sage/combinat/partition_algebra.py:from sage.sets.set import Set, is_Set
> src/sage/combinat/partition_algebra.py:            assert isinstance(s, (set, frozenset)) or is_Set(s)
> }}}
> What do you think?

It has started long ago
- `sage.schemes.projective.projective_space.is_ProjectiveSpace`
- `sage.schemes.product_projective.space.is_ProductProjectiveSpaces`
- `sage.rings.polynomial.polynomial_ring.is_PolynomialRing`
- `sage.rings.ring.is_Ring`
- etc

The only reasonable solution is to agree with all other developers (on sage-devel) that we want to remove them all from Sage (I am +1 for it). Then we could start with a "task ticket" listing all the `is_X` and start concretely by removing `is_Set`.


---

Comment by rws created at 2018-01-02 07:10:23

Changing type from defect to task.


---

Comment by rws created at 2018-01-12 14:38:52

Replying to [comment:6 vdelecroix]:
> The only reasonable solution is to agree with all other developers (on sage-devel) that we want to remove them all from Sage (I am +1 for it).

The question was asked at https://groups.google.com/forum/#!topic/sage-devel/wEzb0awmyN0 and I think there was agreement to do it case by case.


---

Comment by rws created at 2018-01-12 14:59:46

Changing status from needs_info to needs_review.


---

Comment by rws created at 2018-01-12 14:59:46

New commits:


---

Comment by vdelecroix created at 2018-01-12 15:09:22

Changing status from needs_review to needs_work.


---

Comment by vdelecroix created at 2018-01-12 15:09:22

deprecation needed


---

Comment by git created at 2018-01-12 16:06:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by rws created at 2018-01-12 16:06:43

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2018-01-12 16:22:44

Changing type from task to enhancement.


---

Comment by vdelecroix created at 2018-01-12 16:22:44

Task ticket are "abstract" tickets that are organizing the works of other tickets (and hence containing no branch).


---

Comment by vdelecroix created at 2018-01-12 17:12:08

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-01-14 10:14:28

Resolution: fixed
