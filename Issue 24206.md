# Issue 24206: Make RealSet answer positive to is_Set

archive/issues_024206.json:
```json
{
    "body": "`RealSet` as formal set of reals should answer True to `is_Set()`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24443\n\n",
    "created_at": "2017-12-29T07:33:26Z",
    "labels": [
        "basic arithmetic",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Make RealSet answer positive to is_Set",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24206",
    "user": "@rwst"
}
```
`RealSet` as formal set of reals should answer True to `is_Set()`.

Issue created by migration from https://trac.sagemath.org/ticket/24443





---

archive/issue_comments_339017.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-12-29T07:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339017",
    "user": "@rwst"
}
```

New commits:



---

archive/issue_comments_339018.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-12-29T07:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339018",
    "user": "@rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_339019.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2017-12-29T08:35:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339019",
    "user": "@videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_339020.json:
```json
{
    "body": "`is_Set` is not intended to answer the question \"is this object a set\". There is no need to let `RealSet` inherits from `Set_generic`. As I already mentioned in #15344, what does work is\n\n```\nsage: RealSet(1,2) in Sets()\nTrue\n```\n",
    "created_at": "2017-12-29T08:35:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339020",
    "user": "@videlec"
}
```

`is_Set` is not intended to answer the question "is this object a set". There is no need to let `RealSet` inherits from `Set_generic`. As I already mentioned in #15344, what does work is

```
sage: RealSet(1,2) in Sets()
True
```




---

archive/issue_comments_339021.json:
```json
{
    "body": "In that case I'd like to either rename `is_Set` or replace calls to it with the code it has, which is just `isinstance(x, Set_generic)`. Outside of `sage/sets` grep finds the following usages of which I'm not sure if they are even correct:\n\n```\nsrc/sage/combinat/set_partition.py:from sage.sets.set import Set, is_Set\nsrc/sage/combinat/set_partition.py:        if not (isinstance(x, (SetPartition, set, frozenset)) or is_Set(x)):\nsrc/sage/combinat/set_partition.py:            if not (isinstance(s, (set, frozenset)) or is_Set(s)):\nsrc/sage/combinat/set_partition_ordered.py:from sage.sets.set import Set, is_Set\nsrc/sage/combinat/set_partition_ordered.py:            if not isinstance(s, (set, frozenset)) and not is_Set(s):\nsrc/sage/combinat/partition_algebra.py:from sage.sets.set import Set, is_Set\nsrc/sage/combinat/partition_algebra.py:            assert isinstance(s, (set, frozenset)) or is_Set(s)\n```\n\nWhat do you think?",
    "created_at": "2017-12-30T07:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339021",
    "user": "@rwst"
}
```

In that case I'd like to either rename `is_Set` or replace calls to it with the code it has, which is just `isinstance(x, Set_generic)`. Outside of `sage/sets` grep finds the following usages of which I'm not sure if they are even correct:

```
src/sage/combinat/set_partition.py:from sage.sets.set import Set, is_Set
src/sage/combinat/set_partition.py:        if not (isinstance(x, (SetPartition, set, frozenset)) or is_Set(x)):
src/sage/combinat/set_partition.py:            if not (isinstance(s, (set, frozenset)) or is_Set(s)):
src/sage/combinat/set_partition_ordered.py:from sage.sets.set import Set, is_Set
src/sage/combinat/set_partition_ordered.py:            if not isinstance(s, (set, frozenset)) and not is_Set(s):
src/sage/combinat/partition_algebra.py:from sage.sets.set import Set, is_Set
src/sage/combinat/partition_algebra.py:            assert isinstance(s, (set, frozenset)) or is_Set(s)
```

What do you think?



---

archive/issue_comments_339022.json:
```json
{
    "body": "At least from what I understand, these calls to `is_Set` are correct, and I agree that\n\n```\nisinstance(x, (SetPartition, set, frozenset, Set_generic))\n```\n\nwould be easier to understand for me.\n\nMore precisely: I believe that this code is to make\n\n```\nsage: Set([Set([1,2])]) in SetPartitions\nTrue\n```\n\nwork.",
    "created_at": "2017-12-30T07:47:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339022",
    "user": "@mantepse"
}
```

At least from what I understand, these calls to `is_Set` are correct, and I agree that

```
isinstance(x, (SetPartition, set, frozenset, Set_generic))
```

would be easier to understand for me.

More precisely: I believe that this code is to make

```
sage: Set([Set([1,2])]) in SetPartitions
True
```

work.



---

archive/issue_comments_339023.json:
```json
{
    "body": "Replying to [comment:4 rws]:\n> In that case I'd like to either rename `is_Set` or replace calls to it with the code it has, which is just `isinstance(x, Set_generic)`. Outside of `sage/sets` grep finds the following usages of which I'm not sure if they are even correct:\n> {{{\n> src/sage/combinat/set_partition.py:from sage.sets.set import Set, is_Set\n> src/sage/combinat/set_partition.py:        if not (isinstance(x, (SetPartition, set, frozenset)) or is_Set(x)):\n> src/sage/combinat/set_partition.py:            if not (isinstance(s, (set, frozenset)) or is_Set(s)):\n> src/sage/combinat/set_partition_ordered.py:from sage.sets.set import Set, is_Set\n> src/sage/combinat/set_partition_ordered.py:            if not isinstance(s, (set, frozenset)) and not is_Set(s):\n> src/sage/combinat/partition_algebra.py:from sage.sets.set import Set, is_Set\n> src/sage/combinat/partition_algebra.py:            assert isinstance(s, (set, frozenset)) or is_Set(s)\n> }}}\n> What do you think?\n\nIt has started long ago\n- `sage.schemes.projective.projective_space.is_ProjectiveSpace`\n- `sage.schemes.product_projective.space.is_ProductProjectiveSpaces`\n- `sage.rings.polynomial.polynomial_ring.is_PolynomialRing`\n- `sage.rings.ring.is_Ring`\n- etc\n\nThe only reasonable solution is to agree with all other developers (on sage-devel) that we want to remove them all from Sage (I am +1 for it). Then we could start with a \"task ticket\" listing all the `is_X` and start concretely by removing `is_Set`.",
    "created_at": "2017-12-30T09:11:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339023",
    "user": "@videlec"
}
```

Replying to [comment:4 rws]:
> In that case I'd like to either rename `is_Set` or replace calls to it with the code it has, which is just `isinstance(x, Set_generic)`. Outside of `sage/sets` grep finds the following usages of which I'm not sure if they are even correct:
> {{{
> src/sage/combinat/set_partition.py:from sage.sets.set import Set, is_Set
> src/sage/combinat/set_partition.py:        if not (isinstance(x, (SetPartition, set, frozenset)) or is_Set(x)):
> src/sage/combinat/set_partition.py:            if not (isinstance(s, (set, frozenset)) or is_Set(s)):
> src/sage/combinat/set_partition_ordered.py:from sage.sets.set import Set, is_Set
> src/sage/combinat/set_partition_ordered.py:            if not isinstance(s, (set, frozenset)) and not is_Set(s):
> src/sage/combinat/partition_algebra.py:from sage.sets.set import Set, is_Set
> src/sage/combinat/partition_algebra.py:            assert isinstance(s, (set, frozenset)) or is_Set(s)
> }}}
> What do you think?

It has started long ago
- `sage.schemes.projective.projective_space.is_ProjectiveSpace`
- `sage.schemes.product_projective.space.is_ProductProjectiveSpaces`
- `sage.rings.polynomial.polynomial_ring.is_PolynomialRing`
- `sage.rings.ring.is_Ring`
- etc

The only reasonable solution is to agree with all other developers (on sage-devel) that we want to remove them all from Sage (I am +1 for it). Then we could start with a "task ticket" listing all the `is_X` and start concretely by removing `is_Set`.



---

archive/issue_comments_339024.json:
```json
{
    "body": "Changing type from defect to task.",
    "created_at": "2018-01-02T07:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339024",
    "user": "@rwst"
}
```

Changing type from defect to task.



---

archive/issue_comments_339025.json:
```json
{
    "body": "Replying to [comment:6 vdelecroix]:\n> The only reasonable solution is to agree with all other developers (on sage-devel) that we want to remove them all from Sage (I am +1 for it).\n\nThe question was asked at https://groups.google.com/forum/#!topic/sage-devel/wEzb0awmyN0 and I think there was agreement to do it case by case.",
    "created_at": "2018-01-12T14:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339025",
    "user": "@rwst"
}
```

Replying to [comment:6 vdelecroix]:
> The only reasonable solution is to agree with all other developers (on sage-devel) that we want to remove them all from Sage (I am +1 for it).

The question was asked at https://groups.google.com/forum/#!topic/sage-devel/wEzb0awmyN0 and I think there was agreement to do it case by case.



---

archive/issue_comments_339026.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2018-01-12T14:59:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339026",
    "user": "@rwst"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_339027.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-01-12T14:59:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339027",
    "user": "@rwst"
}
```

New commits:



---

archive/issue_comments_339028.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-01-12T15:09:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339028",
    "user": "@videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_339029.json:
```json
{
    "body": "deprecation needed",
    "created_at": "2018-01-12T15:09:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339029",
    "user": "@videlec"
}
```

deprecation needed



---

archive/issue_comments_339030.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-12T16:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339030",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_339031.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-01-12T16:06:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339031",
    "user": "@rwst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_339032.json:
```json
{
    "body": "Changing type from task to enhancement.",
    "created_at": "2018-01-12T16:22:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339032",
    "user": "@videlec"
}
```

Changing type from task to enhancement.



---

archive/issue_comments_339033.json:
```json
{
    "body": "Task ticket are \"abstract\" tickets that are organizing the works of other tickets (and hence containing no branch).",
    "created_at": "2018-01-12T16:22:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339033",
    "user": "@videlec"
}
```

Task ticket are "abstract" tickets that are organizing the works of other tickets (and hence containing no branch).



---

archive/issue_comments_339034.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-01-12T17:12:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339034",
    "user": "@videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_339035.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-01-14T10:14:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24206",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24206#issuecomment-339035",
    "user": "@vbraun"
}
```

Resolution: fixed
