# Issue 12272: givaro does not specify the class for many method calls

Issue created by migration from Trac.

Original creator: ohanar

Original creation time: 2012-02-04 21:07:45

Assignee: GeorgSWeber

These method calls occur within other methods of the class, and so gcc just lets it side by. clang on the other hand does not, so this is either fixable by prefixing all these method calls with the class name, or with "this->" (I chose the latter since then I didn't have to pay attention to the class names).

I've posted an spkg fixes this at [http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/givaro-3.2.13.rc1.p4.spkg](http://wstein.org/home/ohanar/clang-port/sage-5.0.beta1-src/spkg/standard/givaro-3.2.13.rc1.p4.spkg). (This is a review spkg in case there are more issues with clang down the road.) 


---

Comment by ohanar created at 2012-02-04 21:07:58

for review purposes


---

Attachment


---

Comment by ohanar created at 2012-02-04 21:08:31

Changing status from new to needs_review.


---

Comment by leif created at 2012-04-08 02:42:12

At least some of these instances break the build with GCC 4.7.0 (without `-fpermissive`) as well, hence I also made an spkg fixing these (hundreds?) at #12761, along with a major clean-up of the spkg.

I can't tell whether I've changed all instances you catched, but I fixed all such that Givaro's test suite as well as the Sage library would build with GCC 4.7.0.


---

Comment by leif created at 2012-04-08 02:51:19

P.S.: Unfortunately I prepended the class name in most cases, not just `this->`, so merging the patches is probably less easy.  I also didn't (have to) add default parameter values IIRC.


---

Comment by ohanar created at 2012-04-08 13:00:18

so it looks like your patch fixes most of the issues that clang has with givaro, but it seems like i snuck a few things in there that are technically not within the confines of this ticket. specifically, clang doesn't like default values for a function being added anywhere other than the declaration of the function.


---

Comment by jdemeyer created at 2012-07-27 20:41:13

Please fill in your real name as Author.


---

Comment by leif created at 2012-07-27 21:34:11

Most probably needs to be rebased now anyway.


---

Comment by jdemeyer created at 2012-10-05 09:08:55

Changing component from build to packages.


---

Comment by jdemeyer created at 2012-10-05 09:08:55

Needs to be rebased indeed, or is it by chance fixed by the new Givaro?


---

Comment by jdemeyer created at 2012-10-05 09:08:55

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2013-06-03 14:41:23

Resolution: worksforme


---

Comment by jdemeyer created at 2013-06-03 14:41:23

Works with givaro-3.7.1
