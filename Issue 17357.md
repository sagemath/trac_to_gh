# Issue 17357: Holes of size OA(k,n)-OA(k,u)-2.OA(k,1)

Issue created by migration from https://trac.sagemath.org/ticket/17594

Original creator: ncohen

Original creation time: 2015-01-07 21:07:17

CC:  vdelecroix

This branch extends a previous case that only worked for three holes of size 1.

The algorithm is greedy but the implementation is a bit painful `:-/`

Nathann


---

Comment by ncohen created at 2015-01-07 21:07:46

Changing status from new to needs_review.


---

Comment by ncohen created at 2015-01-07 21:07:46

Changing component from PLEASE CHANGE to combinatorial designs.


---

Comment by git created at 2015-01-07 21:08:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-01-07 21:10:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2015-01-14 16:32:07


```
Error building the documentation.
Traceback (most recent call last):
...
OSError: [combinat ] sage/combinat/designs/orthogonal_arrays.py:docstring of sage.combinat.designs.orthogonal_arrays.OAMainFunctions.is_available:6: WARNING: Block quote ends without a blank line; unexpected unindent.
```



---

Comment by vdelecroix created at 2015-01-14 16:32:07

Changing status from needs_review to needs_work.


---

Comment by vdelecroix created at 2015-01-14 17:13:54

I found the pb (there was an unexpected "x" at the begining of a line!!). I am on it.

Vincent


---

Comment by git created at 2015-01-14 17:17:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2015-01-14 17:26:35

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2015-01-14 17:26:35

Hello Nathann,

It seems to work but we do have very few examples of `OA(k,n) - OA(k,u)`, right?

```
sage: for n in range(2,1000):
....:     if designs.incomplete_orthogonal_array(4,n,[2],existence=True):
....:         print n
9
```


Vincent


---

Comment by ncohen created at 2015-01-14 18:44:07

Hello !

Sorry for this 'x': actually, I already fixed that in this ticket's dependency #17149 (it is closed but not yet in a beta)

> It seems to work but we do have very few examples of `OA(k,n) - OA(k,u)`, right?
> {{{
> sage: for n in range(2,1000):
> ....:     if designs.incomplete_orthogonal_array(4,n,[2],existence=True):
> ....:         print n
> 9
> }}}

With this code you only test `OA(k,n)-OA(k,2)`. Try this:


```
sage: for i in range(2,1000):
....:     for j in range(2,i):
....:         if designs.incomplete_orthogonal_array(4,i,[j],existence=True):
....:             print "OA({},{})-OA({},{})".format(4,i,4,j)
....:             
OA(4,9)-OA(4,2)
OA(4,16)-OA(4,3)
OA(4,17)-OA(4,4)
OA(4,25)-OA(4,6)
OA(4,26)-OA(4,5)
OA(4,30)-OA(4,5)
OA(4,36)-OA(4,5)
OA(4,36)-OA(4,7)
OA(4,37)-OA(4,6)
OA(4,41)-OA(4,10)
OA(4,42)-OA(4,7)
...
```


If you have a hole of size 3 in an OA, you do not necessarily have a hole of size 2. It's not a `-2.OA(k,1)`, it's a `-OA(k,2)`!

Nathann


---

Comment by ncohen created at 2015-01-14 18:48:15

Ahahahah. I am ashamed. Yeah, your code is much simpler `:-P`


---

Comment by ncohen created at 2015-01-14 18:54:36

Do we get this in ? I see nothing wrong with your commit, so if mine is fine for you ?...

Nathann


---

Comment by vdelecroix created at 2015-01-14 21:14:40

It is ok for me.

No conflict to expect with #17149?

Vincent


---

Comment by git created at 2015-01-14 21:31:34

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2015-01-14 21:32:22

... no more conflicts ;-)


---

Comment by vdelecroix created at 2015-01-14 21:32:22

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2015-01-15 02:21:56

Rebasing is so cool. Thanks for the review!

Nathann


---

Comment by vbraun created at 2015-01-15 08:41:43

Resolution: fixed
