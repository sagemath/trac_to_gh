# Issue 19858: Report broken links in the doc of graphs/

archive/issues_019858.json:
```json
{
    "body": "CC:  @jm58660 @kcrisman @jhpalmieri @dcoudert @videlec\n\nWith this branch, no new broken link can appear in the documentation of the graph/ files. All currently broken links are also fixed.\n\nNathann\n\nIssue created by migration from https://trac.sagemath.org/ticket/20095\n\n",
    "created_at": "2016-02-22T12:10:34Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Report broken links in the doc of graphs/",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19858",
    "user": "https://github.com/nathanncohen"
}
```
CC:  @jm58660 @kcrisman @jhpalmieri @dcoudert @videlec

With this branch, no new broken link can appear in the documentation of the graph/ files. All currently broken links are also fixed.

Nathann

Issue created by migration from https://trac.sagemath.org/ticket/20095





---

archive/issue_comments_272604.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-02-22T12:11:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272604",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_272605.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-02-22T12:11:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272605",
    "user": "https://github.com/nathanncohen"
}
```

New commits:



---

archive/issue_comments_272606.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-02-22T12:15:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272606",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_272607.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-02-22T12:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272607",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_272608.json:
```json
{
    "body": "Hmmm...`make doc-clean doc' gives\n\n```\n[graphs   ] writing output... [  3%] sage/combinat/designs/incidence_structures\n[graphs   ] Exception occurred:\n[graphs   ] File \"/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/environment.py\", line 1408, in _warn_missing_reference\n[graphs   ] if domain.name == 'std' and (typ, target) in self._nitpick_ignore:\n[graphs   ] AttributeError: 'NoneType' object has no attribute 'name'\n[graphs   ] The full traceback has been saved in /tmp/sphinx-err-Jb11SJ.log, if you want to report the issue to the developers.\n[graphs   ] Please also report this if it was a user error, so that a better error message can be provided next time.\n[graphs   ] A bug report can be filed in the tracker at <https://bitbucket.org/birkenfeld/sphinx/issues/>. Thanks!\n```\n\nDetails:\n\n```\nTraceback (most recent call last):\n  File \"/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/cmdline.py\", line 254, in main\n    app.build(force_all, filenames)\n  File \"/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/application.py\", line 212, in build\n    self.builder.build_update()\n  File \"/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py\", line 214, in build_update\n    'out of date' % len(to_build))\n  File \"/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py\", line 276, in build\n    self.write(docnames, list(updated_docnames), method)\n  File \"/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py\", line 320, in write\n    self._write_serial(sorted(docnames), warnings)\n  File \"/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py\", line 331, in _write_serial\n    doctree = self.env.get_and_resolve_doctree(docname, self)\n  File \"/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/environment.py\", line 1116, in get_and_resolve_doctree\n    self.resolve_references(doctree, docname, builder)\n  File \"/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/environment.py\", line 1388, in resolve_references\n    fromdocname, typ, target, node, domain)\n  File \"/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/environment.py\", line 1408, in _warn_missing_reference\n    if domain.name == 'std' and (typ, target) in self._nitpick_ignore:\nAttributeError: 'NoneType' object has no attribute 'name'\n```\n",
    "created_at": "2016-02-22T14:36:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272608",
    "user": "https://github.com/dkrenn"
}
```

Hmmm...`make doc-clean doc' gives

```
[graphs   ] writing output... [  3%] sage/combinat/designs/incidence_structures
[graphs   ] Exception occurred:
[graphs   ] File "/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/environment.py", line 1408, in _warn_missing_reference
[graphs   ] if domain.name == 'std' and (typ, target) in self._nitpick_ignore:
[graphs   ] AttributeError: 'NoneType' object has no attribute 'name'
[graphs   ] The full traceback has been saved in /tmp/sphinx-err-Jb11SJ.log, if you want to report the issue to the developers.
[graphs   ] Please also report this if it was a user error, so that a better error message can be provided next time.
[graphs   ] A bug report can be filed in the tracker at <https://bitbucket.org/birkenfeld/sphinx/issues/>. Thanks!
```

Details:

```
Traceback (most recent call last):
  File "/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/cmdline.py", line 254, in main
    app.build(force_all, filenames)
  File "/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/application.py", line 212, in build
    self.builder.build_update()
  File "/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py", line 214, in build_update
    'out of date' % len(to_build))
  File "/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py", line 276, in build
    self.write(docnames, list(updated_docnames), method)
  File "/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py", line 320, in write
    self._write_serial(sorted(docnames), warnings)
  File "/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py", line 331, in _write_serial
    doctree = self.env.get_and_resolve_doctree(docname, self)
  File "/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/environment.py", line 1116, in get_and_resolve_doctree
    self.resolve_references(doctree, docname, builder)
  File "/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/environment.py", line 1388, in resolve_references
    fromdocname, typ, target, node, domain)
  File "/local/dakrenn/sage/7.1.beta4/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/environment.py", line 1408, in _warn_missing_reference
    if domain.name == 'std' and (typ, target) in self._nitpick_ignore:
AttributeError: 'NoneType' object has no attribute 'name'
```




---

archive/issue_comments_272609.json:
```json
{
    "body": "Hmmmm... I had this message at some point and then is disappeared while I was working on the branch. Weird.",
    "created_at": "2016-02-22T14:51:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272609",
    "user": "https://github.com/nathanncohen"
}
```

Hmmmm... I had this message at some point and then is disappeared while I was working on the branch. Weird.



---

archive/issue_comments_272610.json:
```json
{
    "body": "Seems reported and fixed in sphinx: https://github.com/sphinx-doc/sphinx/issues/1673",
    "created_at": "2016-02-22T14:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272610",
    "user": "https://github.com/nathanncohen"
}
```

Seems reported and fixed in sphinx: https://github.com/sphinx-doc/sphinx/issues/1673



---

archive/issue_comments_272611.json:
```json
{
    "body": "Sigh... Looks like the right way to go is to upgrade Sphinx (our version is ancient) as it is fixed in the latest version. Funny how I expect to end up with 999 others bugs to solve by trying that.",
    "created_at": "2016-02-22T15:05:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272611",
    "user": "https://github.com/nathanncohen"
}
```

Sigh... Looks like the right way to go is to upgrade Sphinx (our version is ancient) as it is fixed in the latest version. Funny how I expect to end up with 999 others bugs to solve by trying that.



---

archive/issue_comments_272612.json:
```json
{
    "body": "Almost found a way out. Except that Sphinx now complains that all links outside of graph/ are broken. I don't remember if there is a 'first phase' in Sphinx compilation, during which this nitpicky mode should be disabled... What a waste of time. 1 hour....",
    "created_at": "2016-02-22T16:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272612",
    "user": "https://github.com/nathanncohen"
}
```

Almost found a way out. Except that Sphinx now complains that all links outside of graph/ are broken. I don't remember if there is a 'first phase' in Sphinx compilation, during which this nitpicky mode should be disabled... What a waste of time. 1 hour....



---

archive/issue_comments_272613.json:
```json
{
    "body": "1 hour and a half. Seems impossible because of our `f******` 2-pass doc building hack.",
    "created_at": "2016-02-22T16:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272613",
    "user": "https://github.com/nathanncohen"
}
```

1 hour and a half. Seems impossible because of our `f******` 2-pass doc building hack.



---

archive/issue_comments_272614.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-02-22T16:42:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272614",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_272615.json:
```json
{
    "body": "Okay, let it go to hell. I'm sick and tired of trying to figure out other people's hacks.\n\nNathann",
    "created_at": "2016-02-22T16:42:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272615",
    "user": "https://github.com/nathanncohen"
}
```

Okay, let it go to hell. I'm sick and tired of trying to figure out other people's hacks.

Nathann



---

archive/issue_events_054697.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2016-02-22T16:42:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19858#event-54697"
}
```



---

archive/issue_comments_272616.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2016-02-22T16:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272616",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_272617.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2016-02-22T16:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272617",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_272618.json:
```json
{
    "body": "I don't understand. If there are bugs in Sphinx and you made a code that would work without those bugs, shouldn't this be put on wishlist-queue to wait for Sphinx?",
    "created_at": "2016-02-22T18:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272618",
    "user": "https://github.com/jm58660"
}
```

I don't understand. If there are bugs in Sphinx and you made a code that would work without those bugs, shouldn't this be put on wishlist-queue to wait for Sphinx?



---

archive/issue_comments_272619.json:
```json
{
    "body": "Jori: I don't care anymore. Do whatever you want with this ticket.",
    "created_at": "2016-02-22T18:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272619",
    "user": "https://github.com/nathanncohen"
}
```

Jori: I don't care anymore. Do whatever you want with this ticket.



---

archive/issue_events_054698.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-02-22T18:57:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19858#event-54698"
}
```



---

archive/issue_events_054699.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-02-22T18:57:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19858#event-54699"
}
```



---

archive/issue_comments_272620.json:
```json
{
    "body": "Replying to [comment:13 ncohen]:\n> Jori: I don't care anymore. Do whatever you want with this ticket.\n\nTake a break? Decide that you don't touch Sage development until 2016-03-22.",
    "created_at": "2016-02-22T18:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272620",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:13 ncohen]:
> Jori: I don't care anymore. Do whatever you want with this ticket.

Take a break? Decide that you don't touch Sage development until 2016-03-22.



---

archive/issue_comments_272621.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-04-23T12:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272621",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_272622.json:
```json
{
    "body": "Something should be done to automatically forbid broken links, or at least to found them easily.\n\nHowever, I suggest that in this patch we correct those in graphs-directory, and talk more general question at sage-devel. I did that modification.\n\nBut I am now compiling and testing, so this is not ready for review yet.\n----\nNew commits:",
    "created_at": "2016-04-23T12:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272622",
    "user": "https://github.com/jm58660"
}
```

Something should be done to automatically forbid broken links, or at least to found them easily.

However, I suggest that in this patch we correct those in graphs-directory, and talk more general question at sage-devel. I did that modification.

But I am now compiling and testing, so this is not ready for review yet.
----
New commits:



---

archive/issue_events_054700.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-04-23T12:55:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19858#event-54700"
}
```



---

archive/issue_events_054701.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-04-23T12:55:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19858#event-54701"
}
```



---

archive/issue_comments_272623.json:
```json
{
    "body": "Changing component from graph theory to documentation.",
    "created_at": "2016-04-23T12:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272623",
    "user": "https://github.com/jm58660"
}
```

Changing component from graph theory to documentation.



---

archive/issue_comments_272624.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-04-23T16:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272624",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_272625.json:
```json
{
    "body": "Tests passed.",
    "created_at": "2016-04-23T16:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272625",
    "user": "https://github.com/jm58660"
}
```

Tests passed.



---

archive/issue_comments_272626.json:
```json
{
    "body": "I fully agree with what you did.\nFor me the patch is good to go (passes tests, fix broken links, etc.).\nDavid.",
    "created_at": "2016-04-25T11:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272626",
    "user": "https://github.com/dcoudert"
}
```

I fully agree with what you did.
For me the patch is good to go (passes tests, fix broken links, etc.).
David.



---

archive/issue_comments_272627.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-04-25T11:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272627",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_272628.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-04-26T12:58:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19858#issuecomment-272628",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_054702.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-04-26T12:58:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19858",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19858#event-54702"
}
```
