# Issue 24154: DynkinDiagram.marked_nodes doesn't work

Issue created by migration from Trac.

Original creator: vittucek

Original creation time: 2017-12-16 14:03:53

CC:  sage-combinat chapoton nthiery



```
D = DynkinDiagram("A3")
D.marked_nodes([1,3])
```


returns 



```
Traceback (most recent call last):
  File "/cocalc/lib/python2.7/site-packages/smc_sagews/sage_server.py", line 1013, in execute
    exec compile(block+'\n', '', 'single') in namespace, locals
  File "", line 1, in <module>
  File "/cocalc/lib/python2.7/site-packages/smc_sagews/sage_salvus.py", line 3596, in displayhook
    _system_sys_displayhook(obj)
  File "sage/structure/sage_object.pyx", line 237, in sage.structure.sage_object.SageObject.__repr__ (/ext/sage/sage-8.0/src/build/cythonized/sage/structure/sage_object.c:2642)
    result = repr_func()
  File "/ext/sage/sage-8.0/local/lib/python2.7/site-packages/sage/combinat/root_system/type_marked.py", line 165, in _repr_
    return self._type._repr_(compact = compact)+" with nodes {} marked".format(self._marked_nodes)
TypeError: _repr_() got an unexpected keyword argument 'compact'
```




---

Comment by tscrim created at 2017-12-18 02:55:54

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-12-18 02:55:54

New commits:


---

Comment by vittucek created at 2018-02-20 17:47:22

Why do you catch `TypeError` exception?


---

Comment by tscrim created at 2018-02-20 22:41:07

Because that is what happens when you pass unexpected keyword arguments as noted in the ticket description. Admittedly, the proposed fix is a slight hack, but IIRC, there were some issues with adding a `compact` argument to all possible inputs and this is not an unpythonic solution.


---

Comment by vittucek created at 2018-02-21 08:51:48

Oh yeah. Sorry. Long day.


---

Comment by vittucek created at 2018-02-21 08:51:48

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-02-21 11:01:47

No problem. Thanks for the review.


---

Comment by vbraun created at 2018-02-22 17:40:49

Resolution: fixed
