# Issue 26429: clean connectivity.pyx (part 9) - edge and vertex handlers

Issue created by migration from Trac.

Original creator: dcoudert

Original creation time: 2018-11-09 10:46:00

CC:  tscrim chapoton

In this ticket, we clean methods for adding/removing vertices/edges and enumerating neighbors. The main changes are:
- add parameter `sort` to method `.vertices`. This gives an alternative to `list(G)`.
- in method `delete_vertices`, we add as first instruction `vertices = list(vertices)`. This way we now allow to call this method with an iterator. Before, the method was not removing any vertex when called with an iterator. This will certainly help reducing further the number of calls to `.vertices()`.
- in method `vertex_iterator`, we remove doctests related to former networkx backend
- change in method `remove_multiple_edges` that should make it faster
- PEP8 cleaning


---

Comment by dcoudert created at 2018-11-09 10:47:45

Changing keywords from "" to "py3, graph".


---

Comment by dcoudert created at 2018-11-09 10:47:45

New commits:


---

Comment by dcoudert created at 2018-11-09 10:47:45

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-11-09 12:45:05

2 trivial failing doctests in src/sage/graphs/bipartite_graph.py


---

Comment by git created at 2018-11-09 13:22:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-11-09 13:23:00

oups, fixed.


---

Comment by git created at 2018-11-10 09:23:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-11-10 09:24:58

We also avoid sorting vertices before removing them from the graph.


---

Comment by tscrim created at 2018-11-10 13:20:52

Just for clarity, I think it is better to add these parentheses: `if (not sort) and key:`

Since `u` and `v` are code inputs for the one-line descriptions, I think it would be better to do

```diff
-Delete all edges from `u` to `v`.
+Delete all edges from ``u`` to ``v``.
```


I think the `OUTPUT:` block for `has_vertex` is functionally useless and can be safely removed (it is essentially a copy of the one-line description).

Other than that LGTM.


---

Comment by git created at 2018-11-10 16:52:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-11-10 16:53:18

i have implemented all you comments. Should be better now.


---

Comment by tscrim created at 2018-11-10 18:33:03

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-11-10 18:33:03

Thanks. LGTM.


---

Comment by vbraun created at 2018-11-12 21:11:31

Resolution: fixed
