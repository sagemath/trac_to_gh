# Issue 24537: py3: get rid of calls to unicode in inventory builder

Issue created by migration from https://trac.sagemath.org/ticket/24774

Original creator: chapoton

Original creation time: 2018-02-19 13:03:32

CC:  jdemeyer fbissey embray

little step towards being able to make the doc with python3


---

Comment by chapoton created at 2018-02-19 13:04:01

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-02-19 13:04:01

New commits:


---

Comment by embray created at 2018-02-19 13:39:41

Funny, I just fixed this as well nearly simultaneously.  But unfortunately I don't think the above is the correct fix.  Here we actually _wanted_ `unicode(...)` even on Python 2 in case there was unicode text in those objects.  `str_to_bytes` isn't necessary here either.  Here's my fix.
----
New commits:


---

Comment by chapoton created at 2018-02-19 13:43:02

indeed, looks better


---

Comment by embray created at 2018-02-19 13:55:42

Not that non-ASCII text is even likely to occur in either of those cases, but it looks like it was at least intended as a possibility...


---

Comment by chapoton created at 2018-02-26 13:15:11

so, can we now move on here ?


---

Comment by embray created at 2018-02-26 14:07:17

Since I replaced your branch with mine you're welcome to look at it and give it a review.


---

Comment by chapoton created at 2018-03-02 09:18:16

ok


---

Comment by chapoton created at 2018-03-02 09:18:16

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-03-04 23:28:49

Resolution: fixed
