# Issue 11391: Make lrcalc a standard package

archive/issues_011391.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  sage-combinat fbissey asbuch saliola\n\n#10333 implements an interface to lrcalc, using an optional spkg.\nAccording to the vote on http://groups.google.com/group/sage-devel/browse_thread/thread/2e7114375f6f88a5/, there is a consensus on making lrcalc a standard spkg, after a one release probation period in order to follow the official rule.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11563\n\n",
    "created_at": "2011-07-01T10:58:18Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "title": "Make lrcalc a standard package",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11391",
    "user": "nthiery"
}
```
Assignee: sage-combinat

CC:  sage-combinat fbissey asbuch saliola

#10333 implements an interface to lrcalc, using an optional spkg.
According to the vote on http://groups.google.com/group/sage-devel/browse_thread/thread/2e7114375f6f88a5/, there is a consensus on making lrcalc a standard spkg, after a one release probation period in order to follow the official rule.

Issue created by migration from https://trac.sagemath.org/ticket/11563





---

archive/issue_comments_126466.json:
```json
{
    "body": "Changing keywords from \"\" to \"lrcalc, symmetric functions\".",
    "created_at": "2012-05-10T02:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126466",
    "user": "nthiery"
}
```

Changing keywords from "" to "lrcalc, symmetric functions".



---

archive/issue_comments_126467.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-05-10T02:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126467",
    "user": "nthiery"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_126468.json:
```json
{
    "body": "Changing keywords from \"lrcalc, symmetric functions\" to \"lrcalc, symmetric functions, days38\".",
    "created_at": "2012-05-10T19:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126468",
    "user": "aschilling"
}
```

Changing keywords from "lrcalc, symmetric functions" to "lrcalc, symmetric functions, days38".



---

archive/issue_comments_126469.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-05-10T20:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126469",
    "user": "aschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_126470.json:
```json
{
    "body": "I ran the tests and looked at the documentation. Everything looks fine.\n\nAnne",
    "created_at": "2012-05-10T20:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126470",
    "user": "aschilling"
}
```

I ran the tests and looked at the documentation. Everything looks fine.

Anne



---

archive/issue_comments_126471.json:
```json
{
    "body": "Thanks Anne!\n\nSame comment as Mike :-)",
    "created_at": "2012-05-10T20:56:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126471",
    "user": "nthiery"
}
```

Thanks Anne!

Same comment as Mike :-)



---

archive/issue_comments_126472.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-05-11T11:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126472",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_126473.json:
```json
{
    "body": "This needs patches to `spkg/install` and `spkg/standard/deps`.",
    "created_at": "2012-05-11T11:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126473",
    "user": "jdemeyer"
}
```

This needs patches to `spkg/install` and `spkg/standard/deps`.



---

archive/issue_comments_126474.json:
```json
{
    "body": "Hi Jeroen,\n\nReplying to [comment:7 jdemeyer]:\n> This needs patches to `spkg/install` and `spkg/standard/deps`.\n\nAh sorry, I missed that (that's my first standard spkg). Do you mind reviewing my changes?\nYou probably know better than anyone about them :-)\n\nThanks in advance!\n\nCheers,\n                                  Nicolas",
    "created_at": "2012-05-11T21:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126474",
    "user": "nthiery"
}
```

Hi Jeroen,

Replying to [comment:7 jdemeyer]:
> This needs patches to `spkg/install` and `spkg/standard/deps`.

Ah sorry, I missed that (that's my first standard spkg). Do you mind reviewing my changes?
You probably know better than anyone about them :-)

Thanks in advance!

Cheers,
                                  Nicolas



---

archive/issue_comments_126475.json:
```json
{
    "body": "Replying to [comment:8 nthiery]:\n>     Hi Jeroen,\n> \n> Replying to [comment:7 jdemeyer]:\n> > This needs patches to `spkg/install` and `spkg/standard/deps`.\n> \n> Ah sorry, I missed that (that's my first standard spkg). Do you mind reviewing my changes?\n> You probably know better than anyone about them :-)\n> \n> Thanks in advance!\n> \n> Cheers,\n>                                   Nicolas\n\nWhat is the status on this? It would be good to get this patch into sage soon so we can build on it (and avoid using symmetrica).\n\nThanks,\n\nAnne",
    "created_at": "2012-05-18T08:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126475",
    "user": "aschilling"
}
```

Replying to [comment:8 nthiery]:
>     Hi Jeroen,
> 
> Replying to [comment:7 jdemeyer]:
> > This needs patches to `spkg/install` and `spkg/standard/deps`.
> 
> Ah sorry, I missed that (that's my first standard spkg). Do you mind reviewing my changes?
> You probably know better than anyone about them :-)
> 
> Thanks in advance!
> 
> Cheers,
>                                   Nicolas

What is the status on this? It would be good to get this patch into sage soon so we can build on it (and avoid using symmetrica).

Thanks,

Anne



---

archive/issue_comments_126476.json:
```json
{
    "body": "You should use `$MAKE` instead of `make` in `spkg-install` and `spkg-check`.\n\nSome of the files in the spkg are not world-readable.  Please fix this with\n\n```\nchmod ugo+rX -R src\n```\n\n\nThe `SAGE_ROOT` patch [attachment:trac_11563-lrcalc-sageroot-nt.patch] gets positive_review from me.\n\nFinally: adding a new **standard** package should always be discussed on the sage-devel mailing list.",
    "created_at": "2012-05-18T13:20:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126476",
    "user": "jdemeyer"
}
```

You should use `$MAKE` instead of `make` in `spkg-install` and `spkg-check`.

Some of the files in the spkg are not world-readable.  Please fix this with

```
chmod ugo+rX -R src
```


The `SAGE_ROOT` patch [attachment:trac_11563-lrcalc-sageroot-nt.patch] gets positive_review from me.

Finally: adding a new **standard** package should always be discussed on the sage-devel mailing list.



---

archive/issue_comments_126477.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-05-19T04:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126477",
    "user": "nthiery"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_126478.json:
```json
{
    "body": "Replying to [comment:10 jdemeyer]:\n> You should use `$MAKE` instead of `make` in `spkg-install` and `spkg-check`.\n> \n> Some of the files in the spkg are not world-readable.  Please fix this with\n> {{{\n> chmod ugo+rX -R src\n> }}}\n\nThanks for catching those. Done. Anne: may I let you set the final\npositive review? Here is the diff in the updated version I am about to\nupload (sorry, it does not show up permission changes):\n\n\n```\ndiff --git a/spkg-check b/spkg-check\n--- a/spkg-check\n+++ b/spkg-check\n@@ -8,7 +8,7 @@ fi\n \n cd src\n \n-make check\n+$MAKE check\n if [ $? -ne 0 ]; then\n    echo \"Error testing lrcalc.\"\n    exit 1\ndiff --git a/spkg-install b/spkg-install\n--- a/spkg-install\n+++ b/spkg-install\n@@ -14,13 +14,13 @@ if [ $? -ne 0 ]; then\n    exit 1\n fi\n \n-make\n+$MAKE\n if [ $? -ne 0 ]; then\n    echo \"Error building lrcalc.\"\n    exit 1\n fi\n \n-make install\n+$MAKE install\n if [ $? -ne 0 ]; then\n    echo \"Error installing lrcalc.\"\n    exit 1\n```\n\n\n> The `SAGE_ROOT` patch [attachment:trac_11563-lrcalc-sageroot-nt.patch] gets positive_review from me.\n\nThanks.\n\n> Finally: adding a new **standard** package should always be discussed on the sage-devel mailing list.\n\nWe did it a long time ago :-)\n\nhttp://groups.google.com/group/sage-devel/browse_thread/thread/2e7114375f6f88a5/ca4e2ecb49fcc1cd?lnk=gst&q=lrcalc#ca4e2ecb49fcc1cd\n\nCheers,\n                    Nicolas",
    "created_at": "2012-05-19T04:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126478",
    "user": "nthiery"
}
```

Replying to [comment:10 jdemeyer]:
> You should use `$MAKE` instead of `make` in `spkg-install` and `spkg-check`.
> 
> Some of the files in the spkg are not world-readable.  Please fix this with
> {{{
> chmod ugo+rX -R src
> }}}

Thanks for catching those. Done. Anne: may I let you set the final
positive review? Here is the diff in the updated version I am about to
upload (sorry, it does not show up permission changes):


```
diff --git a/spkg-check b/spkg-check
--- a/spkg-check
+++ b/spkg-check
@@ -8,7 +8,7 @@ fi
 
 cd src
 
-make check
+$MAKE check
 if [ $? -ne 0 ]; then
    echo "Error testing lrcalc."
    exit 1
diff --git a/spkg-install b/spkg-install
--- a/spkg-install
+++ b/spkg-install
@@ -14,13 +14,13 @@ if [ $? -ne 0 ]; then
    exit 1
 fi
 
-make
+$MAKE
 if [ $? -ne 0 ]; then
    echo "Error building lrcalc."
    exit 1
 fi
 
-make install
+$MAKE install
 if [ $? -ne 0 ]; then
    echo "Error installing lrcalc."
    exit 1
```


> The `SAGE_ROOT` patch [attachment:trac_11563-lrcalc-sageroot-nt.patch] gets positive_review from me.

Thanks.

> Finally: adding a new **standard** package should always be discussed on the sage-devel mailing list.

We did it a long time ago :-)

http://groups.google.com/group/sage-devel/browse_thread/thread/2e7114375f6f88a5/ca4e2ecb49fcc1cd?lnk=gst&q=lrcalc#ca4e2ecb49fcc1cd

Cheers,
                    Nicolas



---

archive/issue_comments_126479.json:
```json
{
    "body": "Replying to [comment:13 nthiery]:\n\nLooks good to me if Jeroen is happy!\n\nAnne",
    "created_at": "2012-05-19T17:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126479",
    "user": "aschilling"
}
```

Replying to [comment:13 nthiery]:

Looks good to me if Jeroen is happy!

Anne



---

archive/issue_comments_126480.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-05-19T17:15:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126480",
    "user": "aschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_126481.json:
```json
{
    "body": "When you change a package, you should change the version number (say, to `lrcalc-1.1.6beta.p0.spkg`) and change `SPKG.txt` accordingly.",
    "created_at": "2012-05-26T17:32:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126481",
    "user": "jdemeyer"
}
```

When you change a package, you should change the version number (say, to `lrcalc-1.1.6beta.p0.spkg`) and change `SPKG.txt` accordingly.



---

archive/issue_comments_126482.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-05-26T17:32:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126482",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_126483.json:
```json
{
    "body": "Replying to [comment:16 jdemeyer]:\n> When you change a package, you should change the version number (say, to `lrcalc-1.1.6beta.p0.spkg`) and change `SPKG.txt` accordingly.\n\nOk, there it is ...",
    "created_at": "2012-06-15T20:06:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126483",
    "user": "nthiery"
}
```

Replying to [comment:16 jdemeyer]:
> When you change a package, you should change the version number (say, to `lrcalc-1.1.6beta.p0.spkg`) and change `SPKG.txt` accordingly.

Ok, there it is ...



---

archive/issue_comments_126484.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-06-15T20:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126484",
    "user": "nthiery"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_126485.json:
```json
{
    "body": "I think that in SPKG.txt, at the top it should just say \"lrcalc\" rather than \"lrcalc 1.1.6 beta p0\": the version number should just be in the ChangeLog (for ease of updating later). I took the liberty of creating a new spkg (committed in your name, Nicolas). I'm also attaching a patch showing the changes.",
    "created_at": "2012-06-15T20:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126485",
    "user": "jhpalmieri"
}
```

I think that in SPKG.txt, at the top it should just say "lrcalc" rather than "lrcalc 1.1.6 beta p0": the version number should just be in the ChangeLog (for ease of updating later). I took the liberty of creating a new spkg (committed in your name, Nicolas). I'm also attaching a patch showing the changes.



---

archive/issue_comments_126486.json:
```json
{
    "body": "Replying to [comment:19 jhpalmieri]:\n> I think that in SPKG.txt, at the top it should just say \"lrcalc\" rather than \"lrcalc 1.1.6 beta p0\": the version number should just be in the ChangeLog (for ease of updating later). I took the liberty of creating a new spkg (committed in your name, Nicolas). I'm also attaching a patch showing the changes.\n\nAll good for me. Thanks.",
    "created_at": "2012-06-15T20:41:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126486",
    "user": "nthiery"
}
```

Replying to [comment:19 jhpalmieri]:
> I think that in SPKG.txt, at the top it should just say "lrcalc" rather than "lrcalc 1.1.6 beta p0": the version number should just be in the ChangeLog (for ease of updating later). I took the liberty of creating a new spkg (committed in your name, Nicolas). I'm also attaching a patch showing the changes.

All good for me. Thanks.



---

archive/issue_comments_126487.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-06-15T21:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126487",
    "user": "jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_126488.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-06-28T08:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126488",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_126489.json:
```json
{
    "body": "This needs to be rebased to sage-5.1.beta6:\n\n```\npatching file doc/en/reference/libs.rst\nHunk #1 FAILED at 26.\n1 out of 1 hunk FAILED -- saving rejects to file doc/en/reference/libs.rst.rej\npatching file sage/libs/lrcalc/lrcalc.pyx\n```\n",
    "created_at": "2012-06-28T08:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126489",
    "user": "jdemeyer"
}
```

This needs to be rebased to sage-5.1.beta6:

```
patching file doc/en/reference/libs.rst
Hunk #1 FAILED at 26.
1 out of 1 hunk FAILED -- saving rejects to file doc/en/reference/libs.rst.rej
patching file sage/libs/lrcalc/lrcalc.pyx
```




---

archive/issue_comments_126490.json:
```json
{
    "body": "Replying to [comment:25 jdemeyer]:\n> This needs to be rebased to sage-5.1.beta6:\n> {{{\n> patching file doc/en/reference/libs.rst\n> Hunk #1 FAILED at 26.\n> 1 out of 1 hunk FAILED -- saving rejects to file doc/en/reference/libs.rst.rej\n> patching file sage/libs/lrcalc/lrcalc.pyx\n> }}}\n\nArr, what a pain; we are being soooo inefficient on this one.\n\nOk, I am downloading 5.1.rc0, and rebase this patch this afternoon or so. It would be good to have this spkg in 5.1 for Sage Days 40!",
    "created_at": "2012-06-28T15:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126490",
    "user": "nthiery"
}
```

Replying to [comment:25 jdemeyer]:
> This needs to be rebased to sage-5.1.beta6:
> {{{
> patching file doc/en/reference/libs.rst
> Hunk #1 FAILED at 26.
> 1 out of 1 hunk FAILED -- saving rejects to file doc/en/reference/libs.rst.rej
> patching file sage/libs/lrcalc/lrcalc.pyx
> }}}

Arr, what a pain; we are being soooo inefficient on this one.

Ok, I am downloading 5.1.rc0, and rebase this patch this afternoon or so. It would be good to have this spkg in 5.1 for Sage Days 40!



---

archive/issue_comments_126491.json:
```json
{
    "body": "Attachment [trac_11563-lrcalc_standard_package-nt.patch](tarball://root/attachments/some-uuid/ticket11563/trac_11563-lrcalc_standard_package-nt.patch) by nthiery created at 2012-06-29 06:11:00",
    "created_at": "2012-06-29T06:11:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126491",
    "user": "nthiery"
}
```

Attachment [trac_11563-lrcalc_standard_package-nt.patch](tarball://root/attachments/some-uuid/ticket11563/trac_11563-lrcalc_standard_package-nt.patch) by nthiery created at 2012-06-29 06:11:00



---

archive/issue_comments_126492.json:
```json
{
    "body": "Replying to [comment:26 nthiery]:\n> Arr, what a pain; we are being soooo inefficient on this one.\n> \n> Ok, I am downloading 5.1.rc0, and rebase this patch this afternoon or so. It would be good to have this spkg in 5.1 for Sage Days 40!\n\nOk, I just updated the patch, rebased on 5.1.rc0. The only change I had to do was:\n\n```diff\ndiff --git a/doc/en/reference/libs.rst b/doc/en/reference/libs.rst\n--- a/doc/en/reference/libs.rst\n+++ b/doc/en/reference/libs.rst\n@@ -27,6 +27,7 @@ to be aware of the modules described in \n    \n    sage/libs/flint/fmpz_poly\n    sage/libs/libecm\n+   sage/libs/lrcalc/lrcalc\n    sage/libs/pari/gen\n    sage/libs/ntl/all\n    sage/libs/mwrank/all\n```\n\n\nBack to needs review ...\n\nJeroen: if you feel like it, feel free to do such trivial rebases directly; it probably will take you less time than going through this whole process.\n\nCheers,\n                            Nicolas",
    "created_at": "2012-06-29T06:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126492",
    "user": "nthiery"
}
```

Replying to [comment:26 nthiery]:
> Arr, what a pain; we are being soooo inefficient on this one.
> 
> Ok, I am downloading 5.1.rc0, and rebase this patch this afternoon or so. It would be good to have this spkg in 5.1 for Sage Days 40!

Ok, I just updated the patch, rebased on 5.1.rc0. The only change I had to do was:

```diff
diff --git a/doc/en/reference/libs.rst b/doc/en/reference/libs.rst
--- a/doc/en/reference/libs.rst
+++ b/doc/en/reference/libs.rst
@@ -27,6 +27,7 @@ to be aware of the modules described in 
    
    sage/libs/flint/fmpz_poly
    sage/libs/libecm
+   sage/libs/lrcalc/lrcalc
    sage/libs/pari/gen
    sage/libs/ntl/all
    sage/libs/mwrank/all
```


Back to needs review ...

Jeroen: if you feel like it, feel free to do such trivial rebases directly; it probably will take you less time than going through this whole process.

Cheers,
                            Nicolas



---

archive/issue_comments_126493.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-06-29T06:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126493",
    "user": "nthiery"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_126494.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-06-29T06:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126494",
    "user": "aschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_126495.json:
```json
{
    "body": "Attachment [trac_11563-lrcalc-sageroot-nt.patch](tarball://root/attachments/some-uuid/ticket11563/trac_11563-lrcalc-sageroot-nt.patch) by jdemeyer created at 2012-07-03 07:27:05",
    "created_at": "2012-07-03T07:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126495",
    "user": "jdemeyer"
}
```

Attachment [trac_11563-lrcalc-sageroot-nt.patch](tarball://root/attachments/some-uuid/ticket11563/trac_11563-lrcalc-sageroot-nt.patch) by jdemeyer created at 2012-07-03 07:27:05



---

archive/issue_comments_126496.json:
```json
{
    "body": "`SAGE_ROOT` patch rebased to the upcoming sage-5.2.beta0.",
    "created_at": "2012-07-03T07:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126496",
    "user": "jdemeyer"
}
```

`SAGE_ROOT` patch rebased to the upcoming sage-5.2.beta0.



---

archive/issue_comments_126497.json:
```json
{
    "body": "Replying to [comment:29 jdemeyer]:\n> `SAGE_ROOT` patch rebased to the upcoming sage-5.2.beta0.\n\nThanks!",
    "created_at": "2012-07-05T05:12:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126497",
    "user": "nthiery"
}
```

Replying to [comment:29 jdemeyer]:
> `SAGE_ROOT` patch rebased to the upcoming sage-5.2.beta0.

Thanks!



---

archive/issue_comments_126498.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-07-07T22:29:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126498",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_126499.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2012-07-12T20:37:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126499",
    "user": "jdemeyer"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_126500.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2012-07-12T20:37:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126500",
    "user": "jdemeyer"
}
```

Changing status from closed to new.



---

archive/issue_comments_126501.json:
```json
{
    "body": "`lrcalc` fails on `hawk` (OpenSolaris 06.2009-32):\n\n```\nbuildbot@hawk:~/sage-5.2.beta0$ ./sage --gdb\n----------------------------------------------------------------------\n----------------------------------------------------------------------\n**********************************************************************\n*                                                                    *\n* Warning: this is a prerelease version, and it may be unstable.     *\n*                                                                    *\n**********************************************************************\n/export/home/buildbot/sage-5.2.beta0/local/bin/sage-ipython\nGNU gdb 6.8\nCopyright (C) 2008 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"i386-pc-solaris2.11\"...\nwarning: Lowest section in /lib/libdl.so.1 is .dynamic at 00000074\nPython 2.7.3 (default, Jul 11 2012, 15:59:32)\n[GCC 4.4.3 20100112 (prerelease)] on sunos5\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\nwarning: Lowest section in /lib/libintl.so.1 is .dynamic at 00000074\nwarning: Lowest section in /lib/libpthread.so.1 is .dynamic at 00000074\nsage: from sage.libs.lrcalc import lrcalc\nsage: lrcalc.mult([Integer(3),Integer(2),Integer(1)], [Integer(3),Integer(2),Integer(1)], Integer(3),Integer(2))\n| Sage Version 5.2.beta0, Release Date: 2012-07-09                   |\n| Type \"notebook()\" for the browser-based notebook interface.        |\n| Type \"help()\" for help.                                            |\nProgram received signal SIGSEGV, Segmentation fault.\n0x00000064 in ?? ()\n(gdb) bt\n#0  0x00000064 in ?? ()\n#1  0xfd699fb1 in hash_insert (h=0xc107940, k=0xc108c58, v=0x1) at ../src/language/hash.c:52\n#2  0xf6504bac in fusion_reduce (lc=0xc107940, rows=3, cols=2, opt_zero=0) at symfcn.c:866\n#3  0xf6529a7f in __pyx_pf_4sage_4libs_6lrcalc_6lrcalc_4mult (__pyx_self=0x0, __pyx_args=0x8102374, __pyx_kwds=0x0)\n    at sage/libs/lrcalc/lrcalc.c:2370\n#4  0xfee7d7a0 in PyCFunction_Call (func=0xc0de02c, arg=0x8102374, kw=0xc108c58) at Objects/methodobject.c:85\n#5  0xfeed917b in PyEval_EvalFrameEx (f=0xc1372ec, throwflag=0) at Python/ceval.c:4021\n#6  0xfeed9c8b in PyEval_EvalCodeEx (co=0xc0da020, globals=0x851eb54, locals=0x851eb54, args=0x0, argcount=0, kws=0x0, kwcount=0,\n    defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3253\n[...]\n```\n",
    "created_at": "2012-07-12T20:37:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126501",
    "user": "jdemeyer"
}
```

`lrcalc` fails on `hawk` (OpenSolaris 06.2009-32):

```
buildbot@hawk:~/sage-5.2.beta0$ ./sage --gdb
----------------------------------------------------------------------
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
/export/home/buildbot/sage-5.2.beta0/local/bin/sage-ipython
GNU gdb 6.8
Copyright (C) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i386-pc-solaris2.11"...
warning: Lowest section in /lib/libdl.so.1 is .dynamic at 00000074
Python 2.7.3 (default, Jul 11 2012, 15:59:32)
[GCC 4.4.3 20100112 (prerelease)] on sunos5
Type "help", "copyright", "credits" or "license" for more information.
warning: Lowest section in /lib/libintl.so.1 is .dynamic at 00000074
warning: Lowest section in /lib/libpthread.so.1 is .dynamic at 00000074
sage: from sage.libs.lrcalc import lrcalc
sage: lrcalc.mult([Integer(3),Integer(2),Integer(1)], [Integer(3),Integer(2),Integer(1)], Integer(3),Integer(2))
| Sage Version 5.2.beta0, Release Date: 2012-07-09                   |
| Type "notebook()" for the browser-based notebook interface.        |
| Type "help()" for help.                                            |
Program received signal SIGSEGV, Segmentation fault.
0x00000064 in ?? ()
(gdb) bt
#0  0x00000064 in ?? ()
#1  0xfd699fb1 in hash_insert (h=0xc107940, k=0xc108c58, v=0x1) at ../src/language/hash.c:52
#2  0xf6504bac in fusion_reduce (lc=0xc107940, rows=3, cols=2, opt_zero=0) at symfcn.c:866
#3  0xf6529a7f in __pyx_pf_4sage_4libs_6lrcalc_6lrcalc_4mult (__pyx_self=0x0, __pyx_args=0x8102374, __pyx_kwds=0x0)
    at sage/libs/lrcalc/lrcalc.c:2370
#4  0xfee7d7a0 in PyCFunction_Call (func=0xc0de02c, arg=0x8102374, kw=0xc108c58) at Objects/methodobject.c:85
#5  0xfeed917b in PyEval_EvalFrameEx (f=0xc1372ec, throwflag=0) at Python/ceval.c:4021
#6  0xfeed9c8b in PyEval_EvalCodeEx (co=0xc0da020, globals=0x851eb54, locals=0x851eb54, args=0x0, argcount=0, kws=0x0, kwcount=0,
    defs=0x0, defcount=0, closure=0x0) at Python/ceval.c:3253
[...]
```




---

archive/issue_comments_126502.json:
```json
{
    "body": "Could Nicolas and I get an account on hawk to investigate this? Or will you?\n\nThanks,\n\nAnne",
    "created_at": "2012-07-12T20:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126502",
    "user": "aschilling"
}
```

Could Nicolas and I get an account on hawk to investigate this? Or will you?

Thanks,

Anne



---

archive/issue_comments_126503.json:
```json
{
    "body": "Thank to John, I could login on hawk and investigate. It turned out to be a C-level name conflict with a function called `hash_insert`. I used a macro to rename that function in the lrcalc sources. \n\nI also used the occasion to add examples of fusion and quantum calculations in the README and testsuite.\n\nI bumped lrcalc's version accordingly. Anders: please finish up version 1.1.6 from there!\n\nThe updated spkg also only installs the lrcalc libraries and headers, not the binaries. Thanks John for pointing this out!\n\nSee the attached diff for the changes.\n\nQuick review would be most appreciated to get this in 5.2!!!\n\nThanks,\n                                   Nicolas",
    "created_at": "2012-07-13T04:34:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126503",
    "user": "nthiery"
}
```

Thank to John, I could login on hawk and investigate. It turned out to be a C-level name conflict with a function called `hash_insert`. I used a macro to rename that function in the lrcalc sources. 

I also used the occasion to add examples of fusion and quantum calculations in the README and testsuite.

I bumped lrcalc's version accordingly. Anders: please finish up version 1.1.6 from there!

The updated spkg also only installs the lrcalc libraries and headers, not the binaries. Thanks John for pointing this out!

See the attached diff for the changes.

Quick review would be most appreciated to get this in 5.2!!!

Thanks,
                                   Nicolas



---

archive/issue_comments_126504.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-07-13T04:34:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126504",
    "user": "nthiery"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_126505.json:
```json
{
    "body": "I should mention: installation and tests passed smoothly on hawk and a ubuntu machine.",
    "created_at": "2012-07-13T04:41:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126505",
    "user": "nthiery"
}
```

I should mention: installation and tests passed smoothly on hawk and a ubuntu machine.



---

archive/issue_comments_126506.json:
```json
{
    "body": "Since the binaries are no longer installed, the test suite for the package fails (that is, running `sage -i -c lrcalc...`):\n\n```\nSuccessfully installed lrcalc-1.1.6beta1\nRunning the test suite for lrcalc-1.1.6beta1...\nMaking check in mathlib\nmake[1]: warning: -jN forced in submake: disabling jobserver mode.\nmake[1]: Nothing to be done for `check'.\nMaking check in lrcoef\nmake[1]: warning: -jN forced in submake: disabling jobserver mode.\nmake[1]: Nothing to be done for `check'.\nMaking check in schubert\nmake[1]: warning: -jN forced in submake: disabling jobserver mode.\nmake[1]: Nothing to be done for `check'.\nmake[1]: warning: -jN forced in submake: disabling jobserver mode.\nmake -j2  check-TESTS\nmake[2]: warning: -jN forced in submake: disabling jobserver mode.\n-n testing lrcoef/lrcoef 3 2 1 - 2 1 - 2 1  ... \nok\n-n testing lrcoef/skew 3 2 1 - 2 1          ... \nok\n-n testing lrcoef/skew -r 2 3 2 1 / 2 1     ... \nok\n-n testing lrcoef/mult 2 1 - 2 1            ... \nok\n./testsuite: line 7: mult: command not found\n-n testing mult -f 3,2 3 2 1 - 3 2 1        ... \nfailed:\n  Expected: 1  (4, 4, 4)\n1  (5, 4, 3)\n  Got: \n./testsuite: line 7: mult: command not found\n-n testing mult -q 3,2 3 2 1 - 3 2 1        ... \nfailed:\n  Expected: 1  (2)\n1  (1, 1)\n  Got: \n-n testing lrcoef/coprod 3 2 1              ... \nok\n-n testing schubert/schubmult 1 3 2 - 1 3 2 ... \nok\nFAIL: testsuite\n=======================================================\n1 of 1 test failed\nPlease report to asbuch at math dot rutgers period edu \n=======================================================\n```\n\nOtherwise, all tests passed for me on hawk also, and on OS X 10.7. I think that since this had a positive review before, if you can fix spkg-check so self-tests pass, then it should get a positive review.",
    "created_at": "2012-07-13T05:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126506",
    "user": "jhpalmieri"
}
```

Since the binaries are no longer installed, the test suite for the package fails (that is, running `sage -i -c lrcalc...`):

```
Successfully installed lrcalc-1.1.6beta1
Running the test suite for lrcalc-1.1.6beta1...
Making check in mathlib
make[1]: warning: -jN forced in submake: disabling jobserver mode.
make[1]: Nothing to be done for `check'.
Making check in lrcoef
make[1]: warning: -jN forced in submake: disabling jobserver mode.
make[1]: Nothing to be done for `check'.
Making check in schubert
make[1]: warning: -jN forced in submake: disabling jobserver mode.
make[1]: Nothing to be done for `check'.
make[1]: warning: -jN forced in submake: disabling jobserver mode.
make -j2  check-TESTS
make[2]: warning: -jN forced in submake: disabling jobserver mode.
-n testing lrcoef/lrcoef 3 2 1 - 2 1 - 2 1  ... 
ok
-n testing lrcoef/skew 3 2 1 - 2 1          ... 
ok
-n testing lrcoef/skew -r 2 3 2 1 / 2 1     ... 
ok
-n testing lrcoef/mult 2 1 - 2 1            ... 
ok
./testsuite: line 7: mult: command not found
-n testing mult -f 3,2 3 2 1 - 3 2 1        ... 
failed:
  Expected: 1  (4, 4, 4)
1  (5, 4, 3)
  Got: 
./testsuite: line 7: mult: command not found
-n testing mult -q 3,2 3 2 1 - 3 2 1        ... 
failed:
  Expected: 1  (2)
1  (1, 1)
  Got: 
-n testing lrcoef/coprod 3 2 1              ... 
ok
-n testing schubert/schubmult 1 3 2 - 1 3 2 ... 
ok
FAIL: testsuite
=======================================================
1 of 1 test failed
Please report to asbuch at math dot rutgers period edu 
=======================================================
```

Otherwise, all tests passed for me on hawk also, and on OS X 10.7. I think that since this had a positive review before, if you can fix spkg-check so self-tests pass, then it should get a positive review.



---

archive/issue_comments_126507.json:
```json
{
    "body": "Attachment [lrcalc-1.1.6beta1.spkg](tarball://root/attachments/some-uuid/ticket11563/lrcalc-1.1.6beta1.spkg) by nthiery created at 2012-07-13 05:46:09",
    "created_at": "2012-07-13T05:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126507",
    "user": "nthiery"
}
```

Attachment [lrcalc-1.1.6beta1.spkg](tarball://root/attachments/some-uuid/ticket11563/lrcalc-1.1.6beta1.spkg) by nthiery created at 2012-07-13 05:46:09



---

archive/issue_comments_126508.json:
```json
{
    "body": "Diff to previous positive reviewed spkg",
    "created_at": "2012-07-13T05:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126508",
    "user": "nthiery"
}
```

Diff to previous positive reviewed spkg



---

archive/issue_comments_126509.json:
```json
{
    "body": "Attachment [lrcalc-1.1.6beta1.spkg.diff](tarball://root/attachments/some-uuid/ticket11563/lrcalc-1.1.6beta1.spkg.diff) by nthiery created at 2012-07-13 05:48:13\n\nReplying to [comment:39 jhpalmieri]:\n> Since the binaries are no longer installed, the test suite for the package fails\n\nOops, fixed (I was calling mult incorrectly in the new tests). Thanks for catching this! Updated spkg and diff attached.\n\nThanks for the super quick review :-)\n\nCheers,\n                          Nicolas",
    "created_at": "2012-07-13T05:48:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126509",
    "user": "nthiery"
}
```

Attachment [lrcalc-1.1.6beta1.spkg.diff](tarball://root/attachments/some-uuid/ticket11563/lrcalc-1.1.6beta1.spkg.diff) by nthiery created at 2012-07-13 05:48:13

Replying to [comment:39 jhpalmieri]:
> Since the binaries are no longer installed, the test suite for the package fails

Oops, fixed (I was calling mult incorrectly in the new tests). Thanks for catching this! Updated spkg and diff attached.

Thanks for the super quick review :-)

Cheers,
                          Nicolas



---

archive/issue_comments_126510.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-07-13T13:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126510",
    "user": "jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_126511.json:
```json
{
    "body": "Looks good now. Passes its test suite and lrcalc.pyx passes doctests on sage.math, hawk, and OS X 10.7.",
    "created_at": "2012-07-13T13:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126511",
    "user": "jhpalmieri"
}
```

Looks good now. Passes its test suite and lrcalc.pyx passes doctests on sage.math, hawk, and OS X 10.7.



---

archive/issue_comments_126512.json:
```json
{
    "body": "Replying to [comment:41 jhpalmieri]:\n> Looks good now. Passes its test suite and lrcalc.pyx passes doctests on sage.math, hawk, and OS X 10.7.\n\nThanks, John, for running the final tests and giving access to hawk! You should add yourself to the list of reviewers!",
    "created_at": "2012-07-13T14:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126512",
    "user": "aschilling"
}
```

Replying to [comment:41 jhpalmieri]:
> Looks good now. Passes its test suite and lrcalc.pyx passes doctests on sage.math, hawk, and OS X 10.7.

Thanks, John, for running the final tests and giving access to hawk! You should add yourself to the list of reviewers!



---

archive/issue_comments_126513.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-07-16T16:36:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126513",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_126514.json:
```json
{
    "body": "Is there some prevision of an official release of lrcalc 1.1.6?\nI would like to package it in fedora, and believe the sagemath spkg is not mean't to be the upstream tarball. It should be good enough if upstream can make the 1.1.6beta tarball available.\nBut it has plenty of time as I deferred my fedora sagemath package to after fedora 18.",
    "created_at": "2012-09-07T21:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126514",
    "user": "pcpa"
}
```

Is there some prevision of an official release of lrcalc 1.1.6?
I would like to package it in fedora, and believe the sagemath spkg is not mean't to be the upstream tarball. It should be good enough if upstream can make the 1.1.6beta tarball available.
But it has plenty of time as I deferred my fedora sagemath package to after fedora 18.



---

archive/issue_comments_126515.json:
```json
{
    "body": "Please review the trivial follow-up ticket #16756.",
    "created_at": "2014-08-04T14:38:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11391",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11391#issuecomment-126515",
    "user": "jdemeyer"
}
```

Please review the trivial follow-up ticket #16756.
