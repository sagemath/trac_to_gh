# Issue 16133: OA(k,n) strongly regular graphs

archive/issues_016133.json:
```json
{
    "body": "CC:  @videlec @KPanComputes @dimpase @brettpim\n\nTurns out that orthogonal arrays give strongly regular graphs. Isn't that cool ? \n\nBrouwer's website is filled with references to \"OA\" `:-)`\n\nhttp://www.win.tue.nl/~aeb/graphs/srg/srgtab251-300.html\nhttp://www.win.tue.nl/~aeb/graphs/OA.html\n\nNathann\n\nIssue created by migration from https://trac.sagemath.org/ticket/16370\n\n",
    "created_at": "2014-05-17T09:48:03Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "OA(k,n) strongly regular graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16133",
    "user": "https://github.com/nathanncohen"
}
```
CC:  @videlec @KPanComputes @dimpase @brettpim

Turns out that orthogonal arrays give strongly regular graphs. Isn't that cool ? 

Brouwer's website is filled with references to "OA" `:-)`

http://www.win.tue.nl/~aeb/graphs/srg/srgtab251-300.html
http://www.win.tue.nl/~aeb/graphs/OA.html

Nathann

Issue created by migration from https://trac.sagemath.org/ticket/16370





---

archive/issue_comments_210281.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-17T09:53:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210281",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_210282.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-17T09:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210283.json:
```json
{
    "body": "please change `Professor Brouwer` to `Andries Brouwer`. Andries is against these sorts of formalities (I know him for, like 25 years).",
    "created_at": "2014-05-17T19:54:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210283",
    "user": "https://github.com/dimpase"
}
```

please change `Professor Brouwer` to `Andries Brouwer`. Andries is against these sorts of formalities (I know him for, like 25 years).



---

archive/issue_comments_210284.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-17T22:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210284",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210285.json:
```json
{
    "body": "Done.\n\nNathann",
    "created_at": "2014-05-17T22:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210285",
    "user": "https://github.com/nathanncohen"
}
```

Done.

Nathann



---

archive/issue_comments_210286.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-18T15:50:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210286",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_210287.json:
```json
{
    "body": "\n```\nError building the documentation.\nTraceback (most recent call last):\n  File \"/home/ralf/sage/src/doc/common/builder.py\", line 1477, in <module>\n    getattr(get_builder(name), type)()\n  File \"/home/ralf/sage/src/doc/common/builder.py\", line 276, in _wrapper\n    getattr(get_builder(document), 'inventory')(*args, **kwds)\n  File \"/home/ralf/sage/src/doc/common/builder.py\", line 487, in _wrapper\n    x.get(99999)\n  File \"/home/ralf/sage/local/lib/python/multiprocessing/pool.py\", line 554, in get\n    raise self._value\nOSError: [graphs   ] /home/ralf/sage/src/doc/en/reference/graphs/sage/graphs/graph_generators.rst:6: \nWARNING: Duplicate explicit target name: \"andries brouwer's website\".\n\nmake: *** [doc-html] Error 1\n```\n",
    "created_at": "2014-05-18T15:50:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210287",
    "user": "https://github.com/rwst"
}
```


```
Error building the documentation.
Traceback (most recent call last):
  File "/home/ralf/sage/src/doc/common/builder.py", line 1477, in <module>
    getattr(get_builder(name), type)()
  File "/home/ralf/sage/src/doc/common/builder.py", line 276, in _wrapper
    getattr(get_builder(document), 'inventory')(*args, **kwds)
  File "/home/ralf/sage/src/doc/common/builder.py", line 487, in _wrapper
    x.get(99999)
  File "/home/ralf/sage/local/lib/python/multiprocessing/pool.py", line 554, in get
    raise self._value
OSError: [graphs   ] /home/ralf/sage/src/doc/en/reference/graphs/sage/graphs/graph_generators.rst:6: 
WARNING: Duplicate explicit target name: "andries brouwer's website".

make: *** [doc-html] Error 1
```




---

archive/issue_comments_210288.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-18T16:16:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210288",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210289.json:
```json
{
    "body": "Fixed !\n\nNathann",
    "created_at": "2014-05-18T16:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210289",
    "user": "https://github.com/nathanncohen"
}
```

Fixed !

Nathann



---

archive/issue_comments_210290.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-18T16:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210290",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_210291.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-05-23T13:15:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210291",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_210292.json:
```json
{
    "body": "Hi Nathann,\n\nCould you write in the docs:\n- how the graph is built\n- what are the parameters (v=n<sup>2</sup>, k=k(n-1), lambda=(k-1)(k-2)+n-2, mu=k(k-1))\nMight also be good in the doctests, i.e.\n\n```\nsage: OA = designs.WHATEVER_OA(3,7)\nsage: G = graphs.OrthogonalArrayGraph(OA)\nsage: G.vertices()\n...\nsage: G.is_strongly_regular(parameters=True)\n(49, 18, 7, 6)\nsage: 7^2, 3*(7-1), (3-1)*(3-2)+7-2, 3*(3-1)\n(49, 18, 7, 6)\n```\n\n\nThe graph depends on the OA(k,n), doesn't it? It might really be that we already have for some parameters several constructions of OA... and hence as many OA-graphs. Would it be possible to have more open input, like `def OrthogonalArrayGraph(data, n=None)` returning what you did if `data=k` and `n=n` but also returns what we think if `data` is set to an `OA`?\n\nThe construction is actually much more general: from any set of subsets we can build such a graph. Wikipedia calls it an [Intersection graph](http://en.wikipedia.org/wiki/Intersection_graph) (note: any graph can be obtained that way). When the set of subsets is a transversal design the obtained graph has nice properties but I am quite sure that implementing `graphs.IntersectionGraph` would make more sense.\n\nVincent",
    "created_at": "2014-06-03T10:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210292",
    "user": "https://github.com/videlec"
}
```

Hi Nathann,

Could you write in the docs:
- how the graph is built
- what are the parameters (v=n<sup>2</sup>, k=k(n-1), lambda=(k-1)(k-2)+n-2, mu=k(k-1))
Might also be good in the doctests, i.e.

```
sage: OA = designs.WHATEVER_OA(3,7)
sage: G = graphs.OrthogonalArrayGraph(OA)
sage: G.vertices()
...
sage: G.is_strongly_regular(parameters=True)
(49, 18, 7, 6)
sage: 7^2, 3*(7-1), (3-1)*(3-2)+7-2, 3*(3-1)
(49, 18, 7, 6)
```


The graph depends on the OA(k,n), doesn't it? It might really be that we already have for some parameters several constructions of OA... and hence as many OA-graphs. Would it be possible to have more open input, like `def OrthogonalArrayGraph(data, n=None)` returning what you did if `data=k` and `n=n` but also returns what we think if `data` is set to an `OA`?

The construction is actually much more general: from any set of subsets we can build such a graph. Wikipedia calls it an [Intersection graph](http://en.wikipedia.org/wiki/Intersection_graph) (note: any graph can be obtained that way). When the set of subsets is a transversal design the obtained graph has nice properties but I am quite sure that implementing `graphs.IntersectionGraph` would make more sense.

Vincent



---

archive/issue_comments_210293.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-06-03T10:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210293",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_210294.json:
```json
{
    "body": "Y666666666666 !!\n\n> Could you write in the docs:\n> - how the graph is built\n\nIsn't that written already ?..\n\n\n```\nThe intersection graph of the block of a `TD(k,n)` (see\n+    :func:`~sage.combinat.designs.orthogonal_arrays.orthogonal_array`) is a\n+    strongly regular graph.\n```\n\n\nThat's a definition of the graph.\n\n> - what are the parameters (v=n<sup>2</sup>, k=k(n-1), lambda=(k-1)(k-2)+n-2, mu=k(k-1))\n\nThe parameters associated with a strongly regular graph.\n\n\n```\nsage: Graph.is_strongly_regular??\n```\n\n\n> Might also be good in the doctests, i.e.\n> {{{\n> sage: OA = designs.WHATEVER_OA(3,7)\n> sage: G = graphs.OrthogonalArrayGraph(OA)\n> sage: G.vertices()\n> ...\n> sage: G.is_strongly_regular(parameters=True)\n> (49, 18, 7, 6)\n> sage: 7^2, 3*(7-1), (3-1)*(3-2)+7-2, 3*(3-1)\n> (49, 18, 7, 6)\n> }}}\n\nI don't get what you want me to add.... Only a call to `G.vertices()` ? Brouwer gives the actual parameters of the final OA graph but I don't do this in the docstring, so well....\n\n> The graph depends on the OA(k,n), doesn't it? \n\nYes.\n\n> It might really be that we already have for some parameters several constructions of OA... and hence as many OA-graphs. Would it be possible to have more open input, like `def OrthogonalArrayGraph(data, n=None)` returning what you did if `data=k` and `n=n` but also returns what we think if `data` is set to an `OA`?\n\nWe could have a graph constructos `graphs.IntersectionGraph` taking as an argument a list of sets and returning the corresponding graph. Would make more sense than a dedicated version for OA.\n\n> The construction is actually much more general: from any set of subsets we can build such a graph. Wikipedia calls it an [Intersection graph](http://en.wikipedia.org/wiki/Intersection_graph) (note: any graph can be obtained that way). When the set of subsets is a transversal design the obtained graph has nice properties but I am quite sure that implementing `graphs.IntersectionGraph` would make more sense.\n\nAhem. I should read the email before I answer them. Indeed, indeed `:-P`\n\nNathann",
    "created_at": "2014-06-03T11:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210294",
    "user": "https://github.com/nathanncohen"
}
```

Y666666666666 !!

> Could you write in the docs:
> - how the graph is built

Isn't that written already ?..


```
The intersection graph of the block of a `TD(k,n)` (see
+    :func:`~sage.combinat.designs.orthogonal_arrays.orthogonal_array`) is a
+    strongly regular graph.
```


That's a definition of the graph.

> - what are the parameters (v=n<sup>2</sup>, k=k(n-1), lambda=(k-1)(k-2)+n-2, mu=k(k-1))

The parameters associated with a strongly regular graph.


```
sage: Graph.is_strongly_regular??
```


> Might also be good in the doctests, i.e.
> {{{
> sage: OA = designs.WHATEVER_OA(3,7)
> sage: G = graphs.OrthogonalArrayGraph(OA)
> sage: G.vertices()
> ...
> sage: G.is_strongly_regular(parameters=True)
> (49, 18, 7, 6)
> sage: 7^2, 3*(7-1), (3-1)*(3-2)+7-2, 3*(3-1)
> (49, 18, 7, 6)
> }}}

I don't get what you want me to add.... Only a call to `G.vertices()` ? Brouwer gives the actual parameters of the final OA graph but I don't do this in the docstring, so well....

> The graph depends on the OA(k,n), doesn't it? 

Yes.

> It might really be that we already have for some parameters several constructions of OA... and hence as many OA-graphs. Would it be possible to have more open input, like `def OrthogonalArrayGraph(data, n=None)` returning what you did if `data=k` and `n=n` but also returns what we think if `data` is set to an `OA`?

We could have a graph constructos `graphs.IntersectionGraph` taking as an argument a list of sets and returning the corresponding graph. Would make more sense than a dedicated version for OA.

> The construction is actually much more general: from any set of subsets we can build such a graph. Wikipedia calls it an [Intersection graph](http://en.wikipedia.org/wiki/Intersection_graph) (note: any graph can be obtained that way). When the set of subsets is a transversal design the obtained graph has nice properties but I am quite sure that implementing `graphs.IntersectionGraph` would make more sense.

Ahem. I should read the email before I answer them. Indeed, indeed `:-P`

Nathann



---

archive/issue_comments_210295.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-06-03T11:36:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210295",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_210296.json:
```json
{
    "body": "So, you guys decided against implementing a generic `graphs.IntersectionGraph` constructor?",
    "created_at": "2014-06-03T11:44:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210296",
    "user": "https://github.com/KPanComputes"
}
```

So, you guys decided against implementing a generic `graphs.IntersectionGraph` constructor?



---

archive/issue_comments_210297.json:
```json
{
    "body": "Replying to [comment:13 knsam]:\n> So, you guys decided against implementing a generic `graphs.IntersectionGraph` constructor? \n\nI did not decide anything. I asked questions to Nathann and he puts the ticket back in needs review... which might mean that I have to question his answers to my questions...",
    "created_at": "2014-06-03T11:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210297",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:13 knsam]:
> So, you guys decided against implementing a generic `graphs.IntersectionGraph` constructor? 

I did not decide anything. I asked questions to Nathann and he puts the ticket back in needs review... which might mean that I have to question his answers to my questions...



---

archive/issue_comments_210298.json:
```json
{
    "body": "> > So, you guys decided against implementing a generic `graphs.IntersectionGraph` constructor? \n> \n> I did not decide anything. I asked questions to Nathann and he puts the ticket back in needs review... which might mean that I have to question his answers to my questions...\n\nYep yep... Actually creating this constructor can be useful... Right now you can build such graphs easily but nobody knows the syntax :\n\n\n```\nsage: random_sets = [Subsets(range(15)).random_element() for _ in range(15)]\nsage: g = Graph([random_sets,lambda x,y : x&y])\n```\n",
    "created_at": "2014-06-03T12:00:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210298",
    "user": "https://github.com/nathanncohen"
}
```

> > So, you guys decided against implementing a generic `graphs.IntersectionGraph` constructor? 
> 
> I did not decide anything. I asked questions to Nathann and he puts the ticket back in needs review... which might mean that I have to question his answers to my questions...

Yep yep... Actually creating this constructor can be useful... Right now you can build such graphs easily but nobody knows the syntax :


```
sage: random_sets = [Subsets(range(15)).random_element() for _ in range(15)]
sage: g = Graph([random_sets,lambda x,y : x&y])
```




---

archive/issue_comments_210299.json:
```json
{
    "body": "Replying to [comment:15 ncohen]:\n> > > So, you guys decided against implementing a generic `graphs.IntersectionGraph` constructor? \n> > \n> > I did not decide anything. I asked questions to Nathann and he puts the ticket back in needs review... which might mean that I have to question his answers to my questions...\n> \n> Yep yep... Actually creating this constructor can be useful... Right now you can build such graphs easily but nobody knows the syntax :\n> \n> {{{\n> sage: random_sets = [Subsets(range(15)).random_element() for _ in range(15)]\n> sage: g = Graph([random_sets,lambda x,y : x&y])\n> }}}\n\nHi,\n\nSo, what is the point of the ticket if we can already do\n\n```\nsage: g = Graph([map(Set, designs.transversal_design(3,7)), lambda x,y : x&y])\n```\n\nMoreover, the graph you obtain is also strongly regular with BIBD input\n\n```\nsage: BIBD = designs.BalancedIncompleteBlockDesign(31,6)\nsage: V = map(Set, BIBD.blocks())\nsage: G = Graph([V, lambda x,y: x&y])\nsage: G.is_strongly_regular(parameters=True)\n(31, 32, 31, -1)\n```\n\n\nI would rather add those examples to the documentation (of both designs and graphs). We could  possibly add them to the documentation of the not yet existing `graphs.IntersectionGraph`.\n\nVincent",
    "created_at": "2014-06-03T16:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210299",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:15 ncohen]:
> > > So, you guys decided against implementing a generic `graphs.IntersectionGraph` constructor? 
> > 
> > I did not decide anything. I asked questions to Nathann and he puts the ticket back in needs review... which might mean that I have to question his answers to my questions...
> 
> Yep yep... Actually creating this constructor can be useful... Right now you can build such graphs easily but nobody knows the syntax :
> 
> {{{
> sage: random_sets = [Subsets(range(15)).random_element() for _ in range(15)]
> sage: g = Graph([random_sets,lambda x,y : x&y])
> }}}

Hi,

So, what is the point of the ticket if we can already do

```
sage: g = Graph([map(Set, designs.transversal_design(3,7)), lambda x,y : x&y])
```

Moreover, the graph you obtain is also strongly regular with BIBD input

```
sage: BIBD = designs.BalancedIncompleteBlockDesign(31,6)
sage: V = map(Set, BIBD.blocks())
sage: G = Graph([V, lambda x,y: x&y])
sage: G.is_strongly_regular(parameters=True)
(31, 32, 31, -1)
```


I would rather add those examples to the documentation (of both designs and graphs). We could  possibly add them to the documentation of the not yet existing `graphs.IntersectionGraph`.

Vincent



---

archive/issue_comments_210300.json:
```json
{
    "body": "Yo !\n\n> So, what is the point of the ticket if we can already do\n> {{{\n> sage: g = Graph([map(Set, designs.transversal_design(3,7)), lambda x,y : x&y])\n> }}}\n\nSeveral points :\n\n1) To say that these graphs are stronly regular, and to give them a name such that a guy looking at Brouwer's table can build them here\n\n2) The implementation is better : the syntax above checks whether any two sets have a non-empty intersection, which is not what this code does\n\n3) It may later be useful to have a large collection of constructors for \"interesting\" graphs (and strongly regular graphs ARE interesting) to check conjectures and stuff\n\n4) We both agree that we needs a `graphs.IntersectionGraph` function because the syntax above is not very natural, don't tell me now that user should find it by themselves `:-P`\n\n> Moreover, the graph you obtain is also strongly regular with BIBD input\n> {{{\n> sage: BIBD = designs.BalancedIncompleteBlockDesign(31,6)\n> sage: V = map(Set, BIBD.blocks())\n> sage: G = Graph([V, lambda x,y: x&y])\n> sage: G.is_strongly_regular(parameters=True)\n> (31, 32, 31, -1)\n> }}}\n\nErr... Well, this is actually a bug report. The parameters must always be positive. Will look at it right now.\n\n> I would rather add those examples to the documentation (of both designs and graphs). We could  possibly add them to the documentation of the not yet existing `graphs.IntersectionGraph`.\n\nTell me if my answers above convinced you.\n\nNathann",
    "created_at": "2014-06-03T16:44:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210300",
    "user": "https://github.com/nathanncohen"
}
```

Yo !

> So, what is the point of the ticket if we can already do
> {{{
> sage: g = Graph([map(Set, designs.transversal_design(3,7)), lambda x,y : x&y])
> }}}

Several points :

1) To say that these graphs are stronly regular, and to give them a name such that a guy looking at Brouwer's table can build them here

2) The implementation is better : the syntax above checks whether any two sets have a non-empty intersection, which is not what this code does

3) It may later be useful to have a large collection of constructors for "interesting" graphs (and strongly regular graphs ARE interesting) to check conjectures and stuff

4) We both agree that we needs a `graphs.IntersectionGraph` function because the syntax above is not very natural, don't tell me now that user should find it by themselves `:-P`

> Moreover, the graph you obtain is also strongly regular with BIBD input
> {{{
> sage: BIBD = designs.BalancedIncompleteBlockDesign(31,6)
> sage: V = map(Set, BIBD.blocks())
> sage: G = Graph([V, lambda x,y: x&y])
> sage: G.is_strongly_regular(parameters=True)
> (31, 32, 31, -1)
> }}}

Err... Well, this is actually a bug report. The parameters must always be positive. Will look at it right now.

> I would rather add those examples to the documentation (of both designs and graphs). We could  possibly add them to the documentation of the not yet existing `graphs.IntersectionGraph`.

Tell me if my answers above convinced you.

Nathann



---

archive/issue_comments_210301.json:
```json
{
    "body": "> Err... Well, this is actually a bug report. The parameters must always be positive. Will look at it right now.\n\nThis is now #16433. By the way your BIBD is a projective plane, thus all blocks intersect, thus the intersection graph is a clique, and a clique is not strongly regular for a stupid reason that I do not like.\n\nIt is an exception in the definition.\n\nA stupid one.\n\nAnyway.\n\nNathann",
    "created_at": "2014-06-03T17:07:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210301",
    "user": "https://github.com/nathanncohen"
}
```

> Err... Well, this is actually a bug report. The parameters must always be positive. Will look at it right now.

This is now #16433. By the way your BIBD is a projective plane, thus all blocks intersect, thus the intersection graph is a clique, and a clique is not strongly regular for a stupid reason that I do not like.

It is an exception in the definition.

A stupid one.

Anyway.

Nathann



---

archive/issue_comments_210302.json:
```json
{
    "body": "Replying to [comment:17 ncohen]:\n> [...]\n> \n> Tell me if my answers above convinced you.\n\nYes: this ticket should not go without a `graphs.IntersectionGraph`. And intersection graphs of non-trivial BIBD are regular graph. So it is worth to have them at least in the doc of `graphs.IntersectionGraph`.\n\nFor the parameters: they are explicit in terms of (k,n) for TD and (v,k) for BIBD.\n* for TD(k,n): lambda=(k-1)(k-2)+n-2, mu=k(k-1)\n* for BIBD(v,k): lambda=(k-1)<sup>2</sup>+(v-1)/(k-1)-2, mu=k<sup>2</sup>\nand this should be mentioned and tested.\n\nBy the way, why is there no BIBD in the Brouwer table?\n\nVincent",
    "created_at": "2014-06-03T19:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210302",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:17 ncohen]:
> [...]
> 
> Tell me if my answers above convinced you.

Yes: this ticket should not go without a `graphs.IntersectionGraph`. And intersection graphs of non-trivial BIBD are regular graph. So it is worth to have them at least in the doc of `graphs.IntersectionGraph`.

For the parameters: they are explicit in terms of (k,n) for TD and (v,k) for BIBD.
* for TD(k,n): lambda=(k-1)(k-2)+n-2, mu=k(k-1)
* for BIBD(v,k): lambda=(k-1)<sup>2</sup>+(v-1)/(k-1)-2, mu=k<sup>2</sup>
and this should be mentioned and tested.

By the way, why is there no BIBD in the Brouwer table?

Vincent



---

archive/issue_comments_210303.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-06-03T19:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210303",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_210304.json:
```json
{
    "body": "Hi there,\n\nFor BIBD(v,k,1) there is another standard terminology which is Steiner 2-designs S(2,k,v). So if we care about the Brouwer table then we would also add a `graphs.SteinerDesignGraph` instead of a BIBD one. More generally all Steiner systems give strongly regular graphs.\n- http://www.win.tue.nl/~aeb/graphs/S.html.\n- http://www.win.tue.nl/~aeb/graphs/STS.html\nand even more generally, it is written that *the block graph of a quasi-symmetric design is strongly regular.*\n\nVincent",
    "created_at": "2014-06-04T08:32:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210304",
    "user": "https://github.com/videlec"
}
```

Hi there,

For BIBD(v,k,1) there is another standard terminology which is Steiner 2-designs S(2,k,v). So if we care about the Brouwer table then we would also add a `graphs.SteinerDesignGraph` instead of a BIBD one. More generally all Steiner systems give strongly regular graphs.
- http://www.win.tue.nl/~aeb/graphs/S.html.
- http://www.win.tue.nl/~aeb/graphs/STS.html
and even more generally, it is written that *the block graph of a quasi-symmetric design is strongly regular.*

Vincent



---

archive/issue_comments_210305.json:
```json
{
    "body": "I think it would be misleading to call it a Steiner design graph, as an incidence system can give rise to a graph in atleast three different ways:\n\n- Levi Graph: this is a bipartite graph whose vertices are points and lines in the system and adjacency is the incidence of the incidence system. \n\n- Adjacency graph: the points are the vertices; two vertices are adjacent if they are incident in a common line.\n\n- Block Intersection graph: the vertices are lines of the system and two vertices are adjacent if they meet in some fixed condition on the number of points. \n\nAs I indicated above, it is common to call the graphs that we are talking about as Block intersection graphs. \n\nA quasi-symmetric design is a 2-design with atmost two block intersection numbers. Those q.s designs with only one block intersection number are the square (or symmetric) 2-designs. One can solve the equations one obtains by using Fischer's variance counting to get the parameters of the SRG in this case. \n\nCuriously, petersen graph is the block intersection graph of the 2-design 2-(6, 3, 2) (this is a quasi-symmetric design: any two blocks meet in 0 points or 1 point) where you define adjacency among blocks as \"being disjoint\". See [here](http://sina.sharif.edu/~emahmood/papers/MR1147979.PDF). \n\nHope this is helpful.",
    "created_at": "2014-06-04T09:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210305",
    "user": "https://github.com/KPanComputes"
}
```

I think it would be misleading to call it a Steiner design graph, as an incidence system can give rise to a graph in atleast three different ways:

- Levi Graph: this is a bipartite graph whose vertices are points and lines in the system and adjacency is the incidence of the incidence system. 

- Adjacency graph: the points are the vertices; two vertices are adjacent if they are incident in a common line.

- Block Intersection graph: the vertices are lines of the system and two vertices are adjacent if they meet in some fixed condition on the number of points. 

As I indicated above, it is common to call the graphs that we are talking about as Block intersection graphs. 

A quasi-symmetric design is a 2-design with atmost two block intersection numbers. Those q.s designs with only one block intersection number are the square (or symmetric) 2-designs. One can solve the equations one obtains by using Fischer's variance counting to get the parameters of the SRG in this case. 

Curiously, petersen graph is the block intersection graph of the 2-design 2-(6, 3, 2) (this is a quasi-symmetric design: any two blocks meet in 0 points or 1 point) where you define adjacency among blocks as "being disjoint". See [here](http://sina.sharif.edu/~emahmood/papers/MR1147979.PDF). 

Hope this is helpful.



---

archive/issue_comments_210306.json:
```json
{
    "body": "Yo !\n\n> Yes: this ticket should not go without a `graphs.IntersectionGraph`. And intersection graphs of non-trivial BIBD are regular graph. So it is worth to have them at least in the doc of `graphs.IntersectionGraph`.\n\nIntersection graphs are something we should add, but it is not a dependency of this ticket so it will be done elsewhere.\n\n>  * for TD(k,n): lambda=(k-1)(k-2)+n-2, mu=k(k-1)\n\nI added a line about that in the construction of the orthogonal array graph, see commits.\n\n> By the way, why is there no BIBD in the Brouwer table?\n\nThis has been solved, Vincent sent an email to Brouwer.\n\nNathann",
    "created_at": "2014-06-04T11:16:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210306",
    "user": "https://github.com/nathanncohen"
}
```

Yo !

> Yes: this ticket should not go without a `graphs.IntersectionGraph`. And intersection graphs of non-trivial BIBD are regular graph. So it is worth to have them at least in the doc of `graphs.IntersectionGraph`.

Intersection graphs are something we should add, but it is not a dependency of this ticket so it will be done elsewhere.

>  * for TD(k,n): lambda=(k-1)(k-2)+n-2, mu=k(k-1)

I added a line about that in the construction of the orthogonal array graph, see commits.

> By the way, why is there no BIBD in the Brouwer table?

This has been solved, Vincent sent an email to Brouwer.

Nathann



---

archive/issue_comments_210307.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-04T11:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210307",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210308.json:
```json
{
    "body": "Yo !\n\n> For BIBD(v,k,1) there is another standard terminology which is Steiner 2-designs S(2,k,v). So if we care about the Brouwer table then we would also add a `graphs.SteinerDesignGraph` instead of a BIBD one. More generally all Steiner systems give strongly regular graphs.\n\nAs you saw I asked him to confirm that not all graphs of Steiner Systems with t>2 were strongly regular graphs, as I see no reason why this shold be true.\n\nWhich is also why I do not like \"SteinerDesignGraph\" but at the very least \"Steiner2DesignGraph\", even though it \"contradicts the terminology\" we already use, i.e. BIBD.\n\nNathann",
    "created_at": "2014-06-04T11:26:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210308",
    "user": "https://github.com/nathanncohen"
}
```

Yo !

> For BIBD(v,k,1) there is another standard terminology which is Steiner 2-designs S(2,k,v). So if we care about the Brouwer table then we would also add a `graphs.SteinerDesignGraph` instead of a BIBD one. More generally all Steiner systems give strongly regular graphs.

As you saw I asked him to confirm that not all graphs of Steiner Systems with t>2 were strongly regular graphs, as I see no reason why this shold be true.

Which is also why I do not like "SteinerDesignGraph" but at the very least "Steiner2DesignGraph", even though it "contradicts the terminology" we already use, i.e. BIBD.

Nathann



---

archive/issue_comments_210309.json:
```json
{
    "body": "Yo !\n\n> I think it would be misleading to call it a Steiner design graph, as an incidence system can give rise to a graph in atleast three different ways:\n\nHMmmm.... Well, my aim here was to implement a new class of strongly regular graphs that appears on Brouwer's website. The constructions you mention are interesting too but to me they really belong to the \"design\" world while those here belong to the \"graph theory world\", even though the meaning of this is a bit vague `:-P`\n\nIn my head it is more as if anybody who would want to build those other graphs would go toward designs first, while in the latter case they would go toward graphs OR designs.\n\nThus, we need a constructor for these particular strongly regular graphs. AND we will need to add a BlockDesign.intersection_graph someday along with the others\n\n> Hope this is helpful. \n\nYep yep. It was a discussion about user interface almost from the beginning.\n\nNathann",
    "created_at": "2014-06-04T11:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210309",
    "user": "https://github.com/nathanncohen"
}
```

Yo !

> I think it would be misleading to call it a Steiner design graph, as an incidence system can give rise to a graph in atleast three different ways:

HMmmm.... Well, my aim here was to implement a new class of strongly regular graphs that appears on Brouwer's website. The constructions you mention are interesting too but to me they really belong to the "design" world while those here belong to the "graph theory world", even though the meaning of this is a bit vague `:-P`

In my head it is more as if anybody who would want to build those other graphs would go toward designs first, while in the latter case they would go toward graphs OR designs.

Thus, we need a constructor for these particular strongly regular graphs. AND we will need to add a BlockDesign.intersection_graph someday along with the others

> Hope this is helpful. 

Yep yep. It was a discussion about user interface almost from the beginning.

Nathann



---

archive/issue_comments_210310.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-06-04T11:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210310",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_210311.json:
```json
{
    "body": "As I believe I answered all questions... `O_o`\n\nNathann",
    "created_at": "2014-06-04T11:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210311",
    "user": "https://github.com/nathanncohen"
}
```

As I believe I answered all questions... `O_o`

Nathann



---

archive/issue_comments_210312.json:
```json
{
    "body": "Replying to [comment:22 ncohen]:\n> Yo !\n> \n> > Yes: this ticket should not go without a `graphs.IntersectionGraph`. And intersection graphs of non-trivial BIBD are regular graph. So it is worth to have them at least in the doc of `graphs.IntersectionGraph`.\n> \n> Intersection graphs are something we should add, but it is not a dependency of this ticket so it will be done elsewhere.\n\nAll right. But as Brouwer said himself in his answer it would be much more consistent to have\n\n```\nsage: designs.MyPreferedDesign(x,y,z).block_intersection_graph()\n```\n\nand not\n\n```\nsage: graphs.BlockIntersectionGraphFromMyPreferedDesign(x,y,z)\n```\n\n\n> >  * for TD(k,n): lambda=(k-1)(k-2)+n-2, mu=k(k-1)\n> \n> I added a line about that in the construction of the orthogonal array graph, see commits.\n\nhum: k=k(n-1)\n\nI see two more obstructions right now:\n- having a function with two integers as input makes anybody think that there is a unique graph associated with all OA(k,n). I do not believe that this is True. It must be very clear in the documentation.\n- the function `designs.orthogonal_array` might not give the same output between two releases of Sage. So if somebody starts working on OA(5,19) and loves it and find out that three months after her graph disappear, it would be a disaster.\n\nVincent",
    "created_at": "2014-06-04T11:48:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210312",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:22 ncohen]:
> Yo !
> 
> > Yes: this ticket should not go without a `graphs.IntersectionGraph`. And intersection graphs of non-trivial BIBD are regular graph. So it is worth to have them at least in the doc of `graphs.IntersectionGraph`.
> 
> Intersection graphs are something we should add, but it is not a dependency of this ticket so it will be done elsewhere.

All right. But as Brouwer said himself in his answer it would be much more consistent to have

```
sage: designs.MyPreferedDesign(x,y,z).block_intersection_graph()
```

and not

```
sage: graphs.BlockIntersectionGraphFromMyPreferedDesign(x,y,z)
```


> >  * for TD(k,n): lambda=(k-1)(k-2)+n-2, mu=k(k-1)
> 
> I added a line about that in the construction of the orthogonal array graph, see commits.

hum: k=k(n-1)

I see two more obstructions right now:
- having a function with two integers as input makes anybody think that there is a unique graph associated with all OA(k,n). I do not believe that this is True. It must be very clear in the documentation.
- the function `designs.orthogonal_array` might not give the same output between two releases of Sage. So if somebody starts working on OA(5,19) and loves it and find out that three months after her graph disappear, it would be a disaster.

Vincent



---

archive/issue_comments_210313.json:
```json
{
    "body": "Yo !\n\n> All right. But as Brouwer said himself in his answer it would be much more consistent to have\n> {{{\n> sage: designs.MyPreferedDesign(x,y,z).block_intersection_graph()\n> }}}\n\nI would be interested to see the line of his email that mention either a class or a method, but this is a good syntax anyway, and you will find the same in my comment above.\n\n> and not\n> {{{\n> sage: graphs.BlockIntersectionGraphFromMyPreferedDesign(x,y,z)\n> }}}\n\nWell then I am sorry for him, but I study graph theory and I know I wanted to build strongly regular graphs before knowing what an OA is. And I believe that it makes sense to have as many constructors of strongly regular graphs in `graph.*`, even though the graphs could be built by other means. That's more or less the point of having a database of graph constructors, same for groups, same for words, same for everything else. Don't you have both a `words.ThueMorseWord` and `words.FixedPointOfMorphism` ?\n\n> hum: k=k(n-1)\n\nAhah. Yeah, I know. I tried to phrase it to avoid confusions, but .... yeah `:-P`\n\nIf you see another way..\n\n> I see two more obstructions right now:\n> - having a function with two integers as input makes anybody think that there is a unique graph associated with all OA(k,n). I do not believe that this is True. It must be very clear in the documentation.\n\nNo problem. I can even add that it may change between versions of Sage.\n\n> - the function `designs.orthogonal_array` might not give the same output between two releases of Sage. So if somebody starts working on OA(5,19) and loves it and find out that three months after her graph disappear, it would be a disaster.\n\nA disaster indeed. I will mention that too in a second.\n\nNathann",
    "created_at": "2014-06-04T12:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210313",
    "user": "https://github.com/nathanncohen"
}
```

Yo !

> All right. But as Brouwer said himself in his answer it would be much more consistent to have
> {{{
> sage: designs.MyPreferedDesign(x,y,z).block_intersection_graph()
> }}}

I would be interested to see the line of his email that mention either a class or a method, but this is a good syntax anyway, and you will find the same in my comment above.

> and not
> {{{
> sage: graphs.BlockIntersectionGraphFromMyPreferedDesign(x,y,z)
> }}}

Well then I am sorry for him, but I study graph theory and I know I wanted to build strongly regular graphs before knowing what an OA is. And I believe that it makes sense to have as many constructors of strongly regular graphs in `graph.*`, even though the graphs could be built by other means. That's more or less the point of having a database of graph constructors, same for groups, same for words, same for everything else. Don't you have both a `words.ThueMorseWord` and `words.FixedPointOfMorphism` ?

> hum: k=k(n-1)

Ahah. Yeah, I know. I tried to phrase it to avoid confusions, but .... yeah `:-P`

If you see another way..

> I see two more obstructions right now:
> - having a function with two integers as input makes anybody think that there is a unique graph associated with all OA(k,n). I do not believe that this is True. It must be very clear in the documentation.

No problem. I can even add that it may change between versions of Sage.

> - the function `designs.orthogonal_array` might not give the same output between two releases of Sage. So if somebody starts working on OA(5,19) and loves it and find out that three months after her graph disappear, it would be a disaster.

A disaster indeed. I will mention that too in a second.

Nathann



---

archive/issue_comments_210314.json:
```json
{
    "body": "Here it is. We will also have to add a similar warning in the OA module someday (about results changing/disappearing). Though given that the goal is to match the results of the MOLS I do not think we should worry too much about designs disappearing, it will be the other way around `:-P`\n\nReally, the heuristic to find holes can only give better results than those which are expected in theory, as we deal with actual designs and do not consider the \"general properties of some OA(k,n)\". We know more about a single design that theory does, and we can compute maximum independent sets while they can't.\n\nAnd if some construction requires a specific OA, well, they will have to explain it somewhere an we can then implement it.\n\nBranch updated !\n\nNathann",
    "created_at": "2014-06-04T12:18:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210314",
    "user": "https://github.com/nathanncohen"
}
```

Here it is. We will also have to add a similar warning in the OA module someday (about results changing/disappearing). Though given that the goal is to match the results of the MOLS I do not think we should worry too much about designs disappearing, it will be the other way around `:-P`

Really, the heuristic to find holes can only give better results than those which are expected in theory, as we deal with actual designs and do not consider the "general properties of some OA(k,n)". We know more about a single design that theory does, and we can compute maximum independent sets while they can't.

And if some construction requires a specific OA, well, they will have to explain it somewhere an we can then implement it.

Branch updated !

Nathann



---

archive/issue_comments_210315.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-04T12:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210315",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210316.json:
```json
{
    "body": "Hi,\n\nAn OA does not determine uniquely a graph. As Kanappan said there are at least three natural ones and there are many more non-trivial constructions. So calling it `graphs.OrthogonalArrayGraph` completely misleading.\n\nAbout the syntax, let me cite Andries Brouwer:\n\n    If you have a set with a collection of subsets, that is called a hypergraph, and the subsets are called hyperedges. Given a hypergraph, one can make the intersection graph. The vertices of the hypergraph are the hyperedges. Two distinct vertices are adjacent when their intersection is nonempty. This is a construction that occurs in many different places. A design is a hypergraph with certain regularity properties. But this intersection graph is needed for many types of design.\n\n    It makes no sense to design a system where intersection graph gets different names depending on the type of design one used as input.\n\nSo the name could be either `graphs.IntersectionGraphOfOneOrthogonalArray` or simply a subcase of `graphs.IntersectionGraph`. And I am in favour of the second one.\n\nVincent",
    "created_at": "2014-06-04T14:01:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210316",
    "user": "https://github.com/videlec"
}
```

Hi,

An OA does not determine uniquely a graph. As Kanappan said there are at least three natural ones and there are many more non-trivial constructions. So calling it `graphs.OrthogonalArrayGraph` completely misleading.

About the syntax, let me cite Andries Brouwer:

    If you have a set with a collection of subsets, that is called a hypergraph, and the subsets are called hyperedges. Given a hypergraph, one can make the intersection graph. The vertices of the hypergraph are the hyperedges. Two distinct vertices are adjacent when their intersection is nonempty. This is a construction that occurs in many different places. A design is a hypergraph with certain regularity properties. But this intersection graph is needed for many types of design.

    It makes no sense to design a system where intersection graph gets different names depending on the type of design one used as input.

So the name could be either `graphs.IntersectionGraphOfOneOrthogonalArray` or simply a subcase of `graphs.IntersectionGraph`. And I am in favour of the second one.

Vincent



---

archive/issue_comments_210317.json:
```json
{
    "body": "> An OA does not determine uniquely a graph. As Kanappan said there are at least three natural ones and there are many more non-trivial constructions. So calling it `graphs.OrthogonalArrayGraph` completely misleading.\n\nWTF MAN ! THIS IS THE TERMINOLOGY USED ON ALL PAGES OF BROUWER'S WEBSITE ! I am not the one who made this terminology, go tell him !\n\n> About the syntax, let me cite Andries Brouwer:\n\nBe honest and also copy/paste the answer I gave him.\n\n>     If you have a set with a collection of subsets, that is called a hypergraph, and the subsets are called hyperedges. Given a hypergraph, one can make the intersection graph. The vertices of the hypergraph are the hyperedges. Two distinct vertices are adjacent when their intersection is nonempty. This is a construction that occurs in many different places. A design is a hypergraph with certain regularity properties. But this intersection graph is needed for many types of design.\n\nI know what an intersection graph is and I said ONE THOUSAND FUCKING TIMES that we need a contructor for that. That's totally unrelated.\n\n>     It makes no sense to design a system where intersection graph gets different names depending on the type of design one used as input.\n\nCopy/paste my answer to that. Or create a ticket to remove the words from `words.*` which can be obtained through `words.FixedPointOfMorphism`.\n\nTHIS DOES NOT MAKE ANY F******* SENSE !\n\n> So the name could be either `graphs.IntersectionGraphOfOneOrthogonalArray` or simply a subcase of `graphs.IntersectionGraph`. And I am in favour of the second one.\n\nI don't give a fuck. Either you think a bit or we close this ticket as wontfix, I am tired of discussing trivialities forever. I have work to do.\n\nNathann",
    "created_at": "2014-06-04T14:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210317",
    "user": "https://github.com/nathanncohen"
}
```

> An OA does not determine uniquely a graph. As Kanappan said there are at least three natural ones and there are many more non-trivial constructions. So calling it `graphs.OrthogonalArrayGraph` completely misleading.

WTF MAN ! THIS IS THE TERMINOLOGY USED ON ALL PAGES OF BROUWER'S WEBSITE ! I am not the one who made this terminology, go tell him !

> About the syntax, let me cite Andries Brouwer:

Be honest and also copy/paste the answer I gave him.

>     If you have a set with a collection of subsets, that is called a hypergraph, and the subsets are called hyperedges. Given a hypergraph, one can make the intersection graph. The vertices of the hypergraph are the hyperedges. Two distinct vertices are adjacent when their intersection is nonempty. This is a construction that occurs in many different places. A design is a hypergraph with certain regularity properties. But this intersection graph is needed for many types of design.

I know what an intersection graph is and I said ONE THOUSAND FUCKING TIMES that we need a contructor for that. That's totally unrelated.

>     It makes no sense to design a system where intersection graph gets different names depending on the type of design one used as input.

Copy/paste my answer to that. Or create a ticket to remove the words from `words.*` which can be obtained through `words.FixedPointOfMorphism`.

THIS DOES NOT MAKE ANY F******* SENSE !

> So the name could be either `graphs.IntersectionGraphOfOneOrthogonalArray` or simply a subcase of `graphs.IntersectionGraph`. And I am in favour of the second one.

I don't give a fuck. Either you think a bit or we close this ticket as wontfix, I am tired of discussing trivialities forever. I have work to do.

Nathann



---

archive/issue_comments_210318.json:
```json
{
    "body": "Okay, as you quoted his email but did not quote what I answered to him I paste it here.\n\n----------\n>     If you have a set with a collection of subsets, that is called a hypergraph, and the subsets are called hyperedges. Given a hypergraph, one can make the intersection graph. The vertices of the hypergraph are the hyperedges. Two distinct vertices are adjacent when their intersection is nonempty. This is a construction that occurs in many different places. A design is a hypergraph with certain regularity properties. But this intersection graph is needed for many types of design.\n> \n>     It makes no sense to design a system where intersection graph gets different names depending on the type of design one used as input.\n\nIt does.\n\nAll graphs are intersection graphs, and yet we have different functions to create graphs.\nPetersen's graph is a Kneser Graph, yet we have both a `graphs.PetersenGraph` and a `graphs.KneserGraph` function.\n\nThere are different ways to create several graphs, and sometimes the planar embeddings associated with them changes depending on which function you call. Besides, if we have a function for BIBD or a function for OA graphs we can add information there about their parameters about strongl regular graphs, and it would have no meaning to add this in a much more general function handling intersection graph.\n\nBesides, some people who read your web page and who may want to create the strongly regular graphs you mention may have absolutely no interest in knowing how they are built, and they may not know even what a design is. I am not just talking, a colleague of mine who could not care less about designs wanted me to implement the graphs of some generalized quadrangle just the other day as well as other things, and she it typically of this type : she wants to work on the graph, but she is not sufficiently interested in the subject to try to learn what an OA is and how they can be built.\n\nBesides, we may want n the future to build an internal database of strongly regular graphs in Sage, and it is interesting for us to know that the functions only have to be fed with integers and not wit something more complicated like OA that we should take from somewhere else. It is better if all functions expect the same kind of arguments.\n--------\n\nNathann",
    "created_at": "2014-06-04T15:46:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210318",
    "user": "https://github.com/nathanncohen"
}
```

Okay, as you quoted his email but did not quote what I answered to him I paste it here.

----------
>     If you have a set with a collection of subsets, that is called a hypergraph, and the subsets are called hyperedges. Given a hypergraph, one can make the intersection graph. The vertices of the hypergraph are the hyperedges. Two distinct vertices are adjacent when their intersection is nonempty. This is a construction that occurs in many different places. A design is a hypergraph with certain regularity properties. But this intersection graph is needed for many types of design.
> 
>     It makes no sense to design a system where intersection graph gets different names depending on the type of design one used as input.

It does.

All graphs are intersection graphs, and yet we have different functions to create graphs.
Petersen's graph is a Kneser Graph, yet we have both a `graphs.PetersenGraph` and a `graphs.KneserGraph` function.

There are different ways to create several graphs, and sometimes the planar embeddings associated with them changes depending on which function you call. Besides, if we have a function for BIBD or a function for OA graphs we can add information there about their parameters about strongl regular graphs, and it would have no meaning to add this in a much more general function handling intersection graph.

Besides, some people who read your web page and who may want to create the strongly regular graphs you mention may have absolutely no interest in knowing how they are built, and they may not know even what a design is. I am not just talking, a colleague of mine who could not care less about designs wanted me to implement the graphs of some generalized quadrangle just the other day as well as other things, and she it typically of this type : she wants to work on the graph, but she is not sufficiently interested in the subject to try to learn what an OA is and how they can be built.

Besides, we may want n the future to build an internal database of strongly regular graphs in Sage, and it is interesting for us to know that the functions only have to be fed with integers and not wit something more complicated like OA that we should take from somewhere else. It is better if all functions expect the same kind of arguments.
--------

Nathann



---

archive/issue_comments_210319.json:
```json
{
    "body": "Okay man.... I really need this ticket to make it in, because I have a lot of useful work above and I don't want to give all this up because of terminology problems.\n\nI also need a function which returns this OA(k,n) graph, not only because it is interesting for guys studying graph theory who may want to have more strongly regular graphs, but also because it is useful in the constructions.\n\nThe theorems I implement these days all begin with \"If there exists a TD(...), a TD(...), a TD(...) then there exists a TD(...)\", and so it appears to me that I need a function which returns \"a TD(...)\" even though it may not be unique.\n\nWhat can I do to get this in ?\n\nNathann",
    "created_at": "2014-06-05T06:32:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210319",
    "user": "https://github.com/nathanncohen"
}
```

Okay man.... I really need this ticket to make it in, because I have a lot of useful work above and I don't want to give all this up because of terminology problems.

I also need a function which returns this OA(k,n) graph, not only because it is interesting for guys studying graph theory who may want to have more strongly regular graphs, but also because it is useful in the constructions.

The theorems I implement these days all begin with "If there exists a TD(...), a TD(...), a TD(...) then there exists a TD(...)", and so it appears to me that I need a function which returns "a TD(...)" even though it may not be unique.

What can I do to get this in ?

Nathann



---

archive/issue_comments_210320.json:
```json
{
    "body": "Hi Nathann,\n\nAs `OrthogonalArrayGraph` is ambiguous, what do you think of `OrthogonalArrayIntersectionGraph` or `OrthogonalArrayBlockGraph` or `OrthogonalArrayBlockIntersectionGraph`?\n\nAt least, allow the function to be fed with an OA as I suggested in comment:10.\n\n```\ndef OrthogonalArrayGraph(data, n=None):\n    if n is not None:\n        data = int(data)\n        OA = designs.orthogonal_array(data,n)\n    else:\n        assert is_orthogonal_array(data)\n        OA = data\n    ...\n```\n\nAnd, if possible, give examples of two OA with the same parameters that yield to two different intersection graphs...\n\nVincent",
    "created_at": "2014-06-05T08:13:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210320",
    "user": "https://github.com/videlec"
}
```

Hi Nathann,

As `OrthogonalArrayGraph` is ambiguous, what do you think of `OrthogonalArrayIntersectionGraph` or `OrthogonalArrayBlockGraph` or `OrthogonalArrayBlockIntersectionGraph`?

At least, allow the function to be fed with an OA as I suggested in comment:10.

```
def OrthogonalArrayGraph(data, n=None):
    if n is not None:
        data = int(data)
        OA = designs.orthogonal_array(data,n)
    else:
        assert is_orthogonal_array(data)
        OA = data
    ...
```

And, if possible, give examples of two OA with the same parameters that yield to two different intersection graphs...

Vincent



---

archive/issue_comments_210321.json:
```json
{
    "body": "Yo !\n\n> As `OrthogonalArrayGraph` is ambiguous, what do you think of `OrthogonalArrayIntersectionGraph` or `OrthogonalArrayBlockGraph` or `OrthogonalArrayBlockIntersectionGraph`?\n\nThis graph is not the intersection graph of the blocks of an OA. If you insist, I prefer `designs.OrthogonalArrayBlockGraph`, because to me 'block' has absolutely no meaning in this context.\n\n> At least, allow the function to be fed with an OA as I suggested in comment:10.\n\nOk. Note that this makes sense only because the graph is NOT the intersection graph of the blocks of an OA (which are not even sets but rows with non necessarily distinct coordinates), and that as a result the future syntax `graphs.IntersectionGraph(designs.orthogonal_array(k,n))` would not give the same result.\n\n> And, if possible, give examples of two OA with the same parameters that yield to two different intersection graphs...\n\nI can relabel an OA. The graphs will be isomorphic but different.\n\nNathann",
    "created_at": "2014-06-05T08:22:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210321",
    "user": "https://github.com/nathanncohen"
}
```

Yo !

> As `OrthogonalArrayGraph` is ambiguous, what do you think of `OrthogonalArrayIntersectionGraph` or `OrthogonalArrayBlockGraph` or `OrthogonalArrayBlockIntersectionGraph`?

This graph is not the intersection graph of the blocks of an OA. If you insist, I prefer `designs.OrthogonalArrayBlockGraph`, because to me 'block' has absolutely no meaning in this context.

> At least, allow the function to be fed with an OA as I suggested in comment:10.

Ok. Note that this makes sense only because the graph is NOT the intersection graph of the blocks of an OA (which are not even sets but rows with non necessarily distinct coordinates), and that as a result the future syntax `graphs.IntersectionGraph(designs.orthogonal_array(k,n))` would not give the same result.

> And, if possible, give examples of two OA with the same parameters that yield to two different intersection graphs...

I can relabel an OA. The graphs will be isomorphic but different.

Nathann



---

archive/issue_comments_210322.json:
```json
{
    "body": "Let me add that I don't see how \"`graphs.OrthogonalArrayGraph`\" is more ambiguous than \"`graphs.OrthogonalArrayBlockGraph`\", but at least it is not plainly wrong like the other names.",
    "created_at": "2014-06-05T08:23:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210322",
    "user": "https://github.com/nathanncohen"
}
```

Let me add that I don't see how "`graphs.OrthogonalArrayGraph`" is more ambiguous than "`graphs.OrthogonalArrayBlockGraph`", but at least it is not plainly wrong like the other names.



---

archive/issue_comments_210323.json:
```json
{
    "body": "Replying to [comment:36 ncohen]:\n> Yo !\n> \n> > As `OrthogonalArrayGraph` is ambiguous, what do you think of `OrthogonalArrayIntersectionGraph` or `OrthogonalArrayBlockGraph` or `OrthogonalArrayBlockIntersectionGraph`?\n> \n> This graph is not the intersection graph of the blocks of an OA. If you insist, I prefer `graphs.OrthogonalArrayBlockGraph`, because to me 'block' has absolutely no meaning in this context.\n\nYou meant `intersection` has no meaning ? It depends on how you see the blocks. If you consider them as subsets of {0,...,n-1}<sup>k</sup> then it is the intersection graph of the blocks.\n\n> > At least, allow the function to be fed with an OA as I suggested in comment:10.\n> \n> Ok. Note that this makes sense only because the graph is NOT the intersection graph of the blocks of an OA (which are not even sets but rows with non necessarily distinct coordinates), and that as a result the future syntax `graphs.IntersectionGraph(designs.orthogonal_array(k,n))` would not give the same result.\n\nRight.\n\n> > And, if possible, give examples of two OA with the same parameters that yield to two different intersection graphs...\n> \n> I can relabel an OA. The graphs will be isomorphic but different.\n\nOf course, I meant non-isomorphic.",
    "created_at": "2014-06-05T08:36:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210323",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:36 ncohen]:
> Yo !
> 
> > As `OrthogonalArrayGraph` is ambiguous, what do you think of `OrthogonalArrayIntersectionGraph` or `OrthogonalArrayBlockGraph` or `OrthogonalArrayBlockIntersectionGraph`?
> 
> This graph is not the intersection graph of the blocks of an OA. If you insist, I prefer `graphs.OrthogonalArrayBlockGraph`, because to me 'block' has absolutely no meaning in this context.

You meant `intersection` has no meaning ? It depends on how you see the blocks. If you consider them as subsets of {0,...,n-1}<sup>k</sup> then it is the intersection graph of the blocks.

> > At least, allow the function to be fed with an OA as I suggested in comment:10.
> 
> Ok. Note that this makes sense only because the graph is NOT the intersection graph of the blocks of an OA (which are not even sets but rows with non necessarily distinct coordinates), and that as a result the future syntax `graphs.IntersectionGraph(designs.orthogonal_array(k,n))` would not give the same result.

Right.

> > And, if possible, give examples of two OA with the same parameters that yield to two different intersection graphs...
> 
> I can relabel an OA. The graphs will be isomorphic but different.

Of course, I meant non-isomorphic.



---

archive/issue_comments_210324.json:
```json
{
    "body": "> You meant `intersection` has no meaning ? It depends on how you see the blocks.\n\nNono. I meant that for me \"Block\" has no meaning there. \"intersection\" on the other hand is just wrong. This graph is the intersection graph of a TD, not the intersection graph of an OA whose rows are not even sets.\n\n> If you consider them as subsets of {0,...,n-1}<sup>k</sup> then it is the intersection graph of the blocks.\n\nI would be delighted to hear how you define such an operation, but let's get this done first.\n\n> > I can relabel an OA. The graphs will be isomorphic but different.\n> \n> Of course, I meant non-isomorphic.\n\nI just finished the job for \"different OA\". If you want non-isomorphic OA provide them.\n\nNathann",
    "created_at": "2014-06-05T08:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210324",
    "user": "https://github.com/nathanncohen"
}
```

> You meant `intersection` has no meaning ? It depends on how you see the blocks.

Nono. I meant that for me "Block" has no meaning there. "intersection" on the other hand is just wrong. This graph is the intersection graph of a TD, not the intersection graph of an OA whose rows are not even sets.

> If you consider them as subsets of {0,...,n-1}<sup>k</sup> then it is the intersection graph of the blocks.

I would be delighted to hear how you define such an operation, but let's get this done first.

> > I can relabel an OA. The graphs will be isomorphic but different.
> 
> Of course, I meant non-isomorphic.

I just finished the job for "different OA". If you want non-isomorphic OA provide them.

Nathann



---

archive/issue_comments_210325.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-05T08:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210325",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210326.json:
```json
{
    "body": "Replying to [comment:39 ncohen]:\n> > You meant `intersection` has no meaning ? It depends on how you see the blocks.\n> \n> Nono. I meant that for me \"Block\" has no meaning there. \"intersection\" on the other hand is just wrong. This graph is the intersection graph of a TD, not the intersection graph of an OA whose rows are not even sets.\n> \n> > If you consider them as subsets of {0,...,n-1}<sup>k</sup> then it is the intersection graph of the blocks.\n> \n> I would be delighted to hear how you define such an operation, but let's get this done first.\n\nSorry, I should have said \"disjoint union\" instead of \"product\".\n\n> > > I can relabel an OA. The graphs will be isomorphic but different.\n> > \n> > Of course, I meant non-isomorphic.\n> \n> I just finished the job for \"different OA\". If you want non-isomorphic OA provide them.\n\nLet me work for a minute.",
    "created_at": "2014-06-05T08:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210326",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:39 ncohen]:
> > You meant `intersection` has no meaning ? It depends on how you see the blocks.
> 
> Nono. I meant that for me "Block" has no meaning there. "intersection" on the other hand is just wrong. This graph is the intersection graph of a TD, not the intersection graph of an OA whose rows are not even sets.
> 
> > If you consider them as subsets of {0,...,n-1}<sup>k</sup> then it is the intersection graph of the blocks.
> 
> I would be delighted to hear how you define such an operation, but let's get this done first.

Sorry, I should have said "disjoint union" instead of "product".

> > > I can relabel an OA. The graphs will be isomorphic but different.
> > 
> > Of course, I meant non-isomorphic.
> 
> I just finished the job for "different OA". If you want non-isomorphic OA provide them.

Let me work for a minute.



---

archive/issue_comments_210327.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-06-05T09:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210327",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_210328.json:
```json
{
    "body": "Examples with OA(3,4)\n\n```\nsage: oa0 = [[0, 0, 1], [0, 1, 3], [0, 2, 0], [0, 3, 2],\n....:        [1, 0, 3], [1, 1, 1], [1, 2, 2], [1, 3, 0],\n....:        [2, 0, 0], [2, 1, 2], [2, 2, 1], [2, 3, 3],\n....:        [3, 0, 2], [3, 1, 0], [3, 2, 3], [3, 3, 1]]\nsage: oa1 = [[0, 0, 2], [0, 1, 0], [0, 2, 3], [0, 3, 1],\n....:        [1, 0, 3], [1, 1, 1], [1, 2, 0], [1, 3, 2],\n....:        [2, 0, 0], [2, 1, 2], [2, 2, 1], [2, 3, 3],\n....:        [3, 0, 1], [3, 1, 3], [3, 2, 2], [3, 3, 0]]\nsage: g0 = graphs.OrthogonalArrayBlockGraph(3,4,oa0)\nsage: g1 = graphs.OrthogonalArrayBlockGraph(3,4,oa1)\nsage: g0.is_isomorphic(g1)\nFalse\n```\n\nAnd actually they are quite different\n\n```\nsage: g0.automorphism_group().order()\n1152\nsage: g1.automorphism_group().order()\n192\n```\n",
    "created_at": "2014-06-05T09:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210328",
    "user": "https://github.com/videlec"
}
```

Examples with OA(3,4)

```
sage: oa0 = [[0, 0, 1], [0, 1, 3], [0, 2, 0], [0, 3, 2],
....:        [1, 0, 3], [1, 1, 1], [1, 2, 2], [1, 3, 0],
....:        [2, 0, 0], [2, 1, 2], [2, 2, 1], [2, 3, 3],
....:        [3, 0, 2], [3, 1, 0], [3, 2, 3], [3, 3, 1]]
sage: oa1 = [[0, 0, 2], [0, 1, 0], [0, 2, 3], [0, 3, 1],
....:        [1, 0, 3], [1, 1, 1], [1, 2, 0], [1, 3, 2],
....:        [2, 0, 0], [2, 1, 2], [2, 2, 1], [2, 3, 3],
....:        [3, 0, 1], [3, 1, 3], [3, 2, 2], [3, 3, 0]]
sage: g0 = graphs.OrthogonalArrayBlockGraph(3,4,oa0)
sage: g1 = graphs.OrthogonalArrayBlockGraph(3,4,oa1)
sage: g0.is_isomorphic(g1)
False
```

And actually they are quite different

```
sage: g0.automorphism_group().order()
1152
sage: g1.automorphism_group().order()
192
```




---

archive/issue_comments_210329.json:
```json
{
    "body": "It would have been kind to write the commit yourself.\n\nAnyway, here it is.\n\nNathann",
    "created_at": "2014-06-05T09:46:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210329",
    "user": "https://github.com/nathanncohen"
}
```

It would have been kind to write the commit yourself.

Anyway, here it is.

Nathann



---

archive/issue_comments_210330.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-06-05T09:46:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210330",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_210331.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-05T09:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210331",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210332.json:
```json
{
    "body": "Hi,\n\nTwo non-isomorphic OA(k,n) might give isomorphic intersection graph (exercise ;-P). I modified the documentation accordingly.\n\nI put a `k'` for the parameters of the srg to avoid ambiguity with the `k` of the TD.\n\nI exchanged the 1 and 2 in the last column of `oa1`, that way it looks closer to `oa0`.\n\nThe graph `g0` is actually an affine polar graph, I added it to the documentation. I tried other constructions mentioned in the Brouwer table to find ``g1`` but I did not succeed.\n\nHave a look at u/vdelecroix/16370. Tests pass and documentation build so set to positive review after my commit if you like it.\n\nVincent",
    "created_at": "2014-06-05T10:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210332",
    "user": "https://github.com/videlec"
}
```

Hi,

Two non-isomorphic OA(k,n) might give isomorphic intersection graph (exercise ;-P). I modified the documentation accordingly.

I put a `k'` for the parameters of the srg to avoid ambiguity with the `k` of the TD.

I exchanged the 1 and 2 in the last column of `oa1`, that way it looks closer to `oa0`.

The graph `g0` is actually an affine polar graph, I added it to the documentation. I tried other constructions mentioned in the Brouwer table to find ``g1`` but I did not succeed.

Have a look at u/vdelecroix/16370. Tests pass and documentation build so set to positive review after my commit if you like it.

Vincent



---

archive/issue_comments_210333.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-06-05T10:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210333",
    "user": "https://github.com/nathanncohen"
}
```

New commits:



---

archive/issue_comments_210334.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-06-05T10:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210334",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_210335.json:
```json
{
    "body": "\n```\nsage -t --long src/sage/graphs/generators/intersection.py\n**********************************************************************\nFile \"src/sage/graphs/generators/intersection.py\", line 464, in sage.graphs.generators.intersection.OrthogonalArrayBlockGraph\nFailed example:\n    G = graphs.OrthogonalArrayBlockGraph(4,6)\nExpected:\n    Traceback (most recent call last):\n    ...\n    NotImplementedError: I don't know how to build this orthogonal array!\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.graphs.generators.intersection.OrthogonalArrayBlockGraph[20]>\", line 1, in <module>\n        G = graphs.OrthogonalArrayBlockGraph(Integer(4),Integer(6))\n      File \"/home/release/Sage/local/lib/python2.7/site-packages/sage/graphs/generators/intersection.py\", line 480, in OrthogonalArrayBlockGraph\n        OA = orthogonal_array(k,n)\n      File \"/home/release/Sage/local/lib/python2.7/site-packages/sage/combinat/designs/orthogonal_arrays.py\", line 857, in orthogonal_array\n        raise NotImplementedError(\"I don't know how to build an OA({},{})!\".format(k,n))\n    NotImplementedError: I don't know how to build an OA(4,6)!\n```\n",
    "created_at": "2014-06-05T13:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210335",
    "user": "https://github.com/vbraun"
}
```


```
sage -t --long src/sage/graphs/generators/intersection.py
**********************************************************************
File "src/sage/graphs/generators/intersection.py", line 464, in sage.graphs.generators.intersection.OrthogonalArrayBlockGraph
Failed example:
    G = graphs.OrthogonalArrayBlockGraph(4,6)
Expected:
    Traceback (most recent call last):
    ...
    NotImplementedError: I don't know how to build this orthogonal array!
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.graphs.generators.intersection.OrthogonalArrayBlockGraph[20]>", line 1, in <module>
        G = graphs.OrthogonalArrayBlockGraph(Integer(4),Integer(6))
      File "/home/release/Sage/local/lib/python2.7/site-packages/sage/graphs/generators/intersection.py", line 480, in OrthogonalArrayBlockGraph
        OA = orthogonal_array(k,n)
      File "/home/release/Sage/local/lib/python2.7/site-packages/sage/combinat/designs/orthogonal_arrays.py", line 857, in orthogonal_array
        raise NotImplementedError("I don't know how to build an OA({},{})!".format(k,n))
    NotImplementedError: I don't know how to build an OA(4,6)!
```




---

archive/issue_comments_210336.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-06-05T13:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210336",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_210337.json:
```json
{
    "body": "Looks like you merged #16388 first.... I will add a commit in a second.\n\nNathann",
    "created_at": "2014-06-05T14:04:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210337",
    "user": "https://github.com/nathanncohen"
}
```

Looks like you merged #16388 first.... I will add a commit in a second.

Nathann



---

archive/issue_comments_210338.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-06-05T14:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210338",
    "user": "https://github.com/nathanncohen"
}
```

New commits:



---

archive/issue_comments_210339.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-06-05T14:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210339",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_events_048217.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-06T18:08:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16133#event-48217"
}
```



---

archive/issue_comments_210340.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-06-06T18:08:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210340",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_210341.json:
```json
{
    "body": "See #16526 for intersection graphs.\n\nNathann",
    "created_at": "2014-06-24T15:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16133",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16133#issuecomment-210341",
    "user": "https://github.com/nathanncohen"
}
```

See #16526 for intersection graphs.

Nathann
