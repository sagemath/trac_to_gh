# Issue 32721: do not compute more elements than asked for on submission

archive/issues_032721.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/32958\n\n",
    "created_at": "2021-12-02T10:29:08Z",
    "labels": [
        "PLEASE CHANGE",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "do not compute more elements than asked for on submission",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32721",
    "user": "@mantepse"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/32958





---

archive/issue_comments_466716.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466716",
    "user": "@mantepse"
}
```

New commits:



---

archive/issue_comments_466717.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466717",
    "user": "@mantepse"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_466718.json:
```json
{
    "body": "Changing keywords from \"\" to \"findstat\".",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466718",
    "user": "@mantepse"
}
```

Changing keywords from "" to "findstat".



---

archive/issue_comments_466719.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466719",
    "user": "@mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_466720.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466720",
    "user": "@mantepse"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_466721.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-03T09:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466721",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_466722.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-12T20:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466722",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_466723.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-14T20:29:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466723",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_466724.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-15T05:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466724",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_466725.json:
```json
{
    "body": "LGTM.",
    "created_at": "2022-02-15T05:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466725",
    "user": "@tscrim"
}
```

LGTM.



---

archive/issue_comments_466726.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-02-20T10:03:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466726",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_466727.json:
```json
{
    "body": "\n```\n**********************************************************************\nFile \"src/sage/databases/findstat.py\", line 1020, in sage.databases.findstat.?\nFailed example:\n    findstat(\"Permutations\", lambda x: 1, depth=\"x\")\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: E021: Depth should be a non-negative integer at most 9, but is x.\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"sage/misc/cachefunc.pyx\", line 996, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6061)\n        return self.cache[k]\n      File \"sage/misc/weak_dict.pyx\", line 704, in sage.misc.weak_dict.WeakValueDictionary.__getitem__ (build/cythonized/sage/misc/weak_dict.c:3815)\n        raise KeyError(k)\n    KeyError: ((<class 'sage.databases.findstat.FindStatCollections'>,), ())\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py\", line 169, in _new_conn\n        conn = connection.create_connection(\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py\", line 96, in create_connection\n        raise err\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py\", line 86, in create_connection\n        sock.connect(sa)\n    OSError: [Errno 65] No route to host\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 696, in urlopen\n        self._prepare_proxy(conn)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 964, in _prepare_proxy\n        conn.connect()\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py\", line 353, in connect\n        conn = self._new_conn()\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py\", line 181, in _new_conn\n        raise NewConnectionError(\n    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x1690059a0>: Failed to establish a new connection: [Errno 65] No route to host\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py\", line 439, in send\n        resp = conn.urlopen(\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 755, in urlopen\n        retries = retries.increment(\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/retry.py\", line 574, in increment\n        raise MaxRetryError(_pool, url, error or ResponseError(cause))\n    urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x1690059a0>: Failed to establish a new connection: [Errno 65] No route to host')))\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.databases.findstat.?[1]>\", line 1, in <module>\n        findstat(\"Permutations\", lambda x: Integer(1), depth=\"x\")\n      File \"sage/misc/lazy_import.pyx\", line 391, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:4250)\n        return self.get_object()(*args, **kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 1107, in findstat\n        domain = FindStatCollection(domain)\n      File \"sage/misc/classcall_metaclass.pyx\", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)\n        return cls.classcall(cls, *args, **kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 4014, in __classcall_private__\n        return FindStatCollections()(entry)\n      File \"sage/misc/classcall_metaclass.pyx\", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)\n        return cls.classcall(cls, *args, **kwds)\n      File \"sage/misc/cachefunc.pyx\", line 1001, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6189)\n        w = self.f(*args, **kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/structure/unique_representation.py\", line 1007, in __classcall__\n        instance = typecall(cls, *args, **options)\n      File \"sage/misc/classcall_metaclass.pyx\", line 482, in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2306)\n        return (<PyTypeObject*>type).tp_call(cls, args, kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 4639, in __init__\n        d = _get_json(url, object_pairs_hook=OrderedDict)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 439, in _get_json\n        response = requests.get(url)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py\", line 75, in get\n        return request('get', url, params=params, **kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py\", line 61, in request\n        return session.request(method=method, url=url, **kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py\", line 542, in request\n        resp = self.send(prep, **send_kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py\", line 655, in send\n        r = adapter.send(request, **kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py\", line 510, in send\n        raise ProxyError(e, request=request)\n    requests.exceptions.ProxyError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x1690059a0>: Failed to establish a new connection: [Errno 65] No route to host')))\n**********************************************************************\nFile \"src/sage/databases/findstat.py\", line 1025, in sage.databases.findstat.?\nFailed example:\n    findstat(\"Permutations\", lambda x: 1, depth=100)\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: E021: Depth should be a non-negative integer at most 9, but is 100.\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"sage/misc/cachefunc.pyx\", line 996, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6061)\n        return self.cache[k]\n      File \"sage/misc/weak_dict.pyx\", line 704, in sage.misc.weak_dict.WeakValueDictionary.__getitem__ (build/cythonized/sage/misc/weak_dict.c:3815)\n        raise KeyError(k)\n    KeyError: ((<class 'sage.databases.findstat.FindStatCollections'>,), ())\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py\", line 169, in _new_conn\n        conn = connection.create_connection(\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py\", line 96, in create_connection\n        raise err\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py\", line 86, in create_connection\n        sock.connect(sa)\n    OSError: [Errno 65] No route to host\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 696, in urlopen\n        self._prepare_proxy(conn)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 964, in _prepare_proxy\n        conn.connect()\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py\", line 353, in connect\n        conn = self._new_conn()\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py\", line 181, in _new_conn\n        raise NewConnectionError(\n    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x168ffaeb0>: Failed to establish a new connection: [Errno 65] No route to host\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py\", line 439, in send\n        resp = conn.urlopen(\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 755, in urlopen\n        retries = retries.increment(\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/retry.py\", line 574, in increment\n        raise MaxRetryError(_pool, url, error or ResponseError(cause))\n    urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x168ffaeb0>: Failed to establish a new connection: [Errno 65] No route to host')))\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.databases.findstat.?[2]>\", line 1, in <module>\n        findstat(\"Permutations\", lambda x: Integer(1), depth=Integer(100))\n      File \"sage/misc/lazy_import.pyx\", line 391, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:4250)\n        return self.get_object()(*args, **kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 1107, in findstat\n        domain = FindStatCollection(domain)\n      File \"sage/misc/classcall_metaclass.pyx\", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)\n        return cls.classcall(cls, *args, **kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 4014, in __classcall_private__\n        return FindStatCollections()(entry)\n      File \"sage/misc/classcall_metaclass.pyx\", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)\n        return cls.classcall(cls, *args, **kwds)\n      File \"sage/misc/cachefunc.pyx\", line 1001, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6189)\n        w = self.f(*args, **kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/structure/unique_representation.py\", line 1007, in __classcall__\n        instance = typecall(cls, *args, **options)\n      File \"sage/misc/classcall_metaclass.pyx\", line 482, in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2306)\n        return (<PyTypeObject*>type).tp_call(cls, args, kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 4639, in __init__\n        d = _get_json(url, object_pairs_hook=OrderedDict)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 439, in _get_json\n        response = requests.get(url)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py\", line 75, in get\n        return request('get', url, params=params, **kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py\", line 61, in request\n        return session.request(method=method, url=url, **kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py\", line 542, in request\n        resp = self.send(prep, **send_kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py\", line 655, in send\n        r = adapter.send(request, **kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py\", line 510, in send\n        raise ProxyError(e, request=request)\n    requests.exceptions.ProxyError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x168ffaeb0>: Failed to establish a new connection: [Errno 65] No route to host')))\n**********************************************************************\n1 item had failures:\n   2 of  16 in sage.databases.findstat.?\n    [137 tests, 2 failures, 0.32 s]\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/databases/findstat.py  # 2 doctests failed\n----------------------------------------------------------------------\n```\n",
    "created_at": "2022-02-20T10:03:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466727",
    "user": "@vbraun"
}
```


```
**********************************************************************
File "src/sage/databases/findstat.py", line 1020, in sage.databases.findstat.?
Failed example:
    findstat("Permutations", lambda x: 1, depth="x")
Expected:
    Traceback (most recent call last):
    ...
    ValueError: E021: Depth should be a non-negative integer at most 9, but is x.
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "sage/misc/cachefunc.pyx", line 996, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6061)
        return self.cache[k]
      File "sage/misc/weak_dict.pyx", line 704, in sage.misc.weak_dict.WeakValueDictionary.__getitem__ (build/cythonized/sage/misc/weak_dict.c:3815)
        raise KeyError(k)
    KeyError: ((<class 'sage.databases.findstat.FindStatCollections'>,), ())
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py", line 169, in _new_conn
        conn = connection.create_connection(
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py", line 96, in create_connection
        raise err
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py", line 86, in create_connection
        sock.connect(sa)
    OSError: [Errno 65] No route to host
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py", line 696, in urlopen
        self._prepare_proxy(conn)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py", line 964, in _prepare_proxy
        conn.connect()
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py", line 353, in connect
        conn = self._new_conn()
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py", line 181, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x1690059a0>: Failed to establish a new connection: [Errno 65] No route to host
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py", line 755, in urlopen
        retries = retries.increment(
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/retry.py", line 574, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x1690059a0>: Failed to establish a new connection: [Errno 65] No route to host')))
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.databases.findstat.?[1]>", line 1, in <module>
        findstat("Permutations", lambda x: Integer(1), depth="x")
      File "sage/misc/lazy_import.pyx", line 391, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:4250)
        return self.get_object()(*args, **kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 1107, in findstat
        domain = FindStatCollection(domain)
      File "sage/misc/classcall_metaclass.pyx", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)
        return cls.classcall(cls, *args, **kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 4014, in __classcall_private__
        return FindStatCollections()(entry)
      File "sage/misc/classcall_metaclass.pyx", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)
        return cls.classcall(cls, *args, **kwds)
      File "sage/misc/cachefunc.pyx", line 1001, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6189)
        w = self.f(*args, **kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/structure/unique_representation.py", line 1007, in __classcall__
        instance = typecall(cls, *args, **options)
      File "sage/misc/classcall_metaclass.pyx", line 482, in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2306)
        return (<PyTypeObject*>type).tp_call(cls, args, kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 4639, in __init__
        d = _get_json(url, object_pairs_hook=OrderedDict)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 439, in _get_json
        response = requests.get(url)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py", line 75, in get
        return request('get', url, params=params, **kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py", line 61, in request
        return session.request(method=method, url=url, **kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py", line 542, in request
        resp = self.send(prep, **send_kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py", line 655, in send
        r = adapter.send(request, **kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py", line 510, in send
        raise ProxyError(e, request=request)
    requests.exceptions.ProxyError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x1690059a0>: Failed to establish a new connection: [Errno 65] No route to host')))
**********************************************************************
File "src/sage/databases/findstat.py", line 1025, in sage.databases.findstat.?
Failed example:
    findstat("Permutations", lambda x: 1, depth=100)
Expected:
    Traceback (most recent call last):
    ...
    ValueError: E021: Depth should be a non-negative integer at most 9, but is 100.
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "sage/misc/cachefunc.pyx", line 996, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6061)
        return self.cache[k]
      File "sage/misc/weak_dict.pyx", line 704, in sage.misc.weak_dict.WeakValueDictionary.__getitem__ (build/cythonized/sage/misc/weak_dict.c:3815)
        raise KeyError(k)
    KeyError: ((<class 'sage.databases.findstat.FindStatCollections'>,), ())
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py", line 169, in _new_conn
        conn = connection.create_connection(
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py", line 96, in create_connection
        raise err
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py", line 86, in create_connection
        sock.connect(sa)
    OSError: [Errno 65] No route to host
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py", line 696, in urlopen
        self._prepare_proxy(conn)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py", line 964, in _prepare_proxy
        conn.connect()
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py", line 353, in connect
        conn = self._new_conn()
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py", line 181, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x168ffaeb0>: Failed to establish a new connection: [Errno 65] No route to host
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py", line 755, in urlopen
        retries = retries.increment(
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/retry.py", line 574, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x168ffaeb0>: Failed to establish a new connection: [Errno 65] No route to host')))
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.databases.findstat.?[2]>", line 1, in <module>
        findstat("Permutations", lambda x: Integer(1), depth=Integer(100))
      File "sage/misc/lazy_import.pyx", line 391, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:4250)
        return self.get_object()(*args, **kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 1107, in findstat
        domain = FindStatCollection(domain)
      File "sage/misc/classcall_metaclass.pyx", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)
        return cls.classcall(cls, *args, **kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 4014, in __classcall_private__
        return FindStatCollections()(entry)
      File "sage/misc/classcall_metaclass.pyx", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)
        return cls.classcall(cls, *args, **kwds)
      File "sage/misc/cachefunc.pyx", line 1001, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6189)
        w = self.f(*args, **kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/structure/unique_representation.py", line 1007, in __classcall__
        instance = typecall(cls, *args, **options)
      File "sage/misc/classcall_metaclass.pyx", line 482, in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2306)
        return (<PyTypeObject*>type).tp_call(cls, args, kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 4639, in __init__
        d = _get_json(url, object_pairs_hook=OrderedDict)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 439, in _get_json
        response = requests.get(url)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py", line 75, in get
        return request('get', url, params=params, **kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py", line 61, in request
        return session.request(method=method, url=url, **kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py", line 542, in request
        resp = self.send(prep, **send_kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py", line 655, in send
        r = adapter.send(request, **kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py", line 510, in send
        raise ProxyError(e, request=request)
    requests.exceptions.ProxyError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x168ffaeb0>: Failed to establish a new connection: [Errno 65] No route to host')))
**********************************************************************
1 item had failures:
   2 of  16 in sage.databases.findstat.?
    [137 tests, 2 failures, 0.32 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/databases/findstat.py  # 2 doctests failed
----------------------------------------------------------------------
```




---

archive/issue_comments_466728.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-20T20:09:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466728",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_466729.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-20T20:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466729",
    "user": "@mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_466730.json:
```json
{
    "body": "I am sorry, Volker.  Please excuse me.",
    "created_at": "2022-02-20T20:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466730",
    "user": "@mantepse"
}
```

I am sorry, Volker.  Please excuse me.



---

archive/issue_comments_466731.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-21T05:46:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466731",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_466732.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-02-27T22:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32721",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32721#issuecomment-466732",
    "user": "@vbraun"
}
```

Resolution: fixed
