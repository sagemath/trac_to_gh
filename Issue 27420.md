# Issue 27420: Simplify ideal generators in function field code

Issue created by migration from https://trac.sagemath.org/ticket/27657

Original creator: @BrentBaccala

Original creation time: 2019-04-14 00:14:03

Keywords: function fields

Ideals of orders are often presented using more generators than needed.  For example, this snippet is taken directly from a test case in sage/src/function_fields/ideal.py:


```
sage: K.<x> = FunctionField(QQ); R.<y> = K[]                                                                          
sage: L.<y> = K.extension(y^2 - x^3 - 1)                                                                              
sage: O = L.equation_order()                                                                                          
sage: O.ideal(x^2 + 1)                                                                                                
Ideal (x^2 + 1, (x^2 + 1)*y) of Order in Function field in y defined by y^2 - x^3 - 1                                 
```


The presentation is obviously non-optimal, since the ideal was created with a single generator, but printed with two!


---

Comment by @BrentBaccala created at 2019-05-06 15:09:01

This ticket is a lot harder than I had realized.  Implementing an algorithm to test these ideals for principality is not trivial.  The proposed code is an improvement, but doesn't always find a single generator for a principal ideal.  At least it finds them in some cases, like the one in the ticket description:


```
sage: K.<x> = FunctionField(QQ); R.<y> = K[]
sage: L.<y> = K.extension(y^2 - x^3 - 1)
sage: O = L.equation_order()
sage: O.ideal(x^2 + 1)
Ideal (x^2 + 1) of Order in Function field in y defined by y^2 - x^3 - 1
```

----
Last 10 new commits:


---

Comment by @BrentBaccala created at 2019-05-06 15:09:01

Changing status from new to needs_review.


---

Comment by tscrim created at 2019-05-13 00:28:04

A few little tweaks:

```diff
-        ALGORITHM::
+        ALGORITHM:
 
-            At most two generators are required to generate ideals
-            in Dedekind domains.
+        At most two generators are required to generate ideals in
+        Dedekind domains.
 
-            Lemma 4.7.9, algorithm 4.7.10, and exercise 4.29 of [Coh1993]_
-            tell us that for an integral ideal $I$ in a number field,
-            if we pick $a$ such that $\gcd(N(I), N(a)/N(I)) = 1$, then
-            $a$ and $N(I)$ generate the ideal.  $N()$ is the norm, and
-            this result (presumably) generalizes to function fields.
+        Lemma 4.7.9, Algorithm 4.7.10, and Exercise 4.29 of [Coh1993]_
+        tell us that for an integral ideal `I` in a number field, if
+        we pick `a` such that `\gcd(N(I), N(a)/N(I)) = 1`, then `a`
+        and `N(I)` generate the ideal.  `N()` is the norm, and this
+        result (presumably) generalizes to function fields.
 
-            After computing $N(I)$, we search exhaustively to find $a$.
+        After computing `N(I)`, we search exhaustively to find `a`.
```

As `ALGORITHM` is not a standard Sphinx directive (cf. `.. TODO::`), so it should not be indented. Also, we prefer backticks over dollar signs.

Once this is done, you can set a positive review on my behalf.


---

Comment by git created at 2019-05-13 15:47:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @BrentBaccala created at 2019-05-13 15:52:22

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-05-17 11:45:20

Resolution: fixed
