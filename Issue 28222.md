# Issue 28222: spkg-configure.m4 for glpk

archive/issues_028222.json:
```json
{
    "body": "CC:  @embray @kiwifb @isuruf @antonio-rojas @mkoeppe\n\nthe external install should have `glpsol` and `libglpk`\n\nOn debian they are in `glpk-utils` and `libglpk-dev` packages.\n\n`4ti2` needs to know its prefix (or probably just `--with-glpk` should be there;\n\n`cvxopt` needs to know the (non-standard) include directory and\nlibrary directory of `glpk`, so they should be made blank \nfor the stanard locations.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28459\n\n",
    "created_at": "2019-09-06T23:45:01Z",
    "labels": [
        "component: build: configure"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "spkg-configure.m4 for glpk",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28222",
    "user": "https://github.com/dimpase"
}
```
CC:  @embray @kiwifb @isuruf @antonio-rojas @mkoeppe

the external install should have `glpsol` and `libglpk`

On debian they are in `glpk-utils` and `libglpk-dev` packages.

`4ti2` needs to know its prefix (or probably just `--with-glpk` should be there;

`cvxopt` needs to know the (non-standard) include directory and
library directory of `glpk`, so they should be made blank 
for the stanard locations.

Issue created by migration from https://trac.sagemath.org/ticket/28459





---

archive/issue_comments_398088.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-09-07T11:37:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398088",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_398089.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-09-07T11:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398089",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_398090.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-09-07T11:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398090",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_398091.json:
```json
{
    "body": "Does anyone know a system that does not carry Sage's GLPK patch?\n(I guess Debian does, right?)",
    "created_at": "2019-09-07T11:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398091",
    "user": "https://github.com/dimpase"
}
```

Does anyone know a system that does not carry Sage's GLPK patch?
(I guess Debian does, right?)



---

archive/issue_comments_398092.json:
```json
{
    "body": "Changing keywords from \"\" to \"spkg-configure\".",
    "created_at": "2019-09-07T11:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398092",
    "user": "https://github.com/dimpase"
}
```

Changing keywords from "" to "spkg-configure".



---

archive/issue_comments_398093.json:
```json
{
    "body": "Debian 10 carries GLPK 4.65, and 4 tests in `src/sage/numerical/backends/glpk_backend.pyx` fail due to minor formating differences, e.g. extra blank line...",
    "created_at": "2019-09-07T12:05:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398093",
    "user": "https://github.com/dimpase"
}
```

Debian 10 carries GLPK 4.65, and 4 tests in `src/sage/numerical/backends/glpk_backend.pyx` fail due to minor formating differences, e.g. extra blank line...



---

archive/issue_comments_398094.json:
```json
{
    "body": "Replying to [comment:5 dimpase]:\n> Debian 10 carries GLPK 4.65, and 4 tests in `src/sage/numerical/backends/glpk_backend.pyx` fail due to minor formating differences, e.g. extra blank line...\n\nSame for Arch. Given that 4.65 is 1.5 years old and most distros are shipping it already, IMO it would be best to update sage's glpk first before dealing with this.",
    "created_at": "2019-09-07T12:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398094",
    "user": "https://github.com/antonio-rojas"
}
```

Replying to [comment:5 dimpase]:
> Debian 10 carries GLPK 4.65, and 4 tests in `src/sage/numerical/backends/glpk_backend.pyx` fail due to minor formating differences, e.g. extra blank line...

Same for Arch. Given that 4.65 is 1.5 years old and most distros are shipping it already, IMO it would be best to update sage's glpk first before dealing with this.



---

archive/issue_comments_398095.json:
```json
{
    "body": "I've put the update to glpk 4.65 on #24824",
    "created_at": "2019-09-09T10:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398095",
    "user": "https://github.com/dimpase"
}
```

I've put the update to glpk 4.65 on #24824



---

archive/issue_comments_398096.json:
```json
{
    "body": "On #24824 I've also adjusted tests so ithat only one test fails with Debian's glpk 4.65, which does not apply one of Sage's patches, `glpk/patches/error_recovery.patch`. \n\n(And in fact the still failing test can be switched off or changed into something that does not need the patch in question).",
    "created_at": "2019-09-09T13:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398096",
    "user": "https://github.com/dimpase"
}
```

On #24824 I've also adjusted tests so ithat only one test fails with Debian's glpk 4.65, which does not apply one of Sage's patches, `glpk/patches/error_recovery.patch`. 

(And in fact the still failing test can be switched off or changed into something that does not need the patch in question).



---

archive/issue_comments_398097.json:
```json
{
    "body": "here I keep minimal requirement version of glpk to be 4.63. This results in few failing tests, all just from glpk 4.63 being too chatty in logging, nothing serious.",
    "created_at": "2019-09-10T10:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398097",
    "user": "https://github.com/dimpase"
}
```

here I keep minimal requirement version of glpk to be 4.63. This results in few failing tests, all just from glpk 4.63 being too chatty in logging, nothing serious.



---

archive/issue_comments_398098.json:
```json
{
    "body": "Looks good to me in principle though I haven't tested yet.  I'll try to test later this week.  Thanks!",
    "created_at": "2019-09-11T09:40:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398098",
    "user": "https://github.com/embray"
}
```

Looks good to me in principle though I haven't tested yet.  I'll try to test later this week.  Thanks!



---

archive/issue_comments_398099.json:
```json
{
    "body": "ping?",
    "created_at": "2019-10-06T22:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398099",
    "user": "https://github.com/dimpase"
}
```

ping?



---

archive/issue_comments_398100.json:
```json
{
    "body": "Works for me in conda",
    "created_at": "2019-10-06T22:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398100",
    "user": "https://github.com/isuruf"
}
```

Works for me in conda



---

archive/issue_comments_398101.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-10-06T22:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398101",
    "user": "https://github.com/isuruf"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_398102.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-10-06T23:13:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398102",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_398103.json:
```json
{
    "body": "Reviewer name...",
    "created_at": "2019-10-06T23:13:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398103",
    "user": "https://github.com/vbraun"
}
```

Reviewer name...



---

archive/issue_comments_398104.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-10-06T23:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398104",
    "user": "https://github.com/isuruf"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_398105.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-10-07T22:51:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28222#issuecomment-398105",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
