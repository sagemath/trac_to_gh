# Issue 23090: Regression with MPIR-3.0.0

Issue created by migration from https://trac.sagemath.org/ticket/23327

Original creator: jdemeyer

Original creation time: 2017-06-26 15:06:43

CC:  vdelecroix jpflori fbissey dimpase

#22493 has caused on a significant regression for `padic_base_leaves.py` (this was discovered while investigating #23284, it is not necessarily limited to that file).


---

Comment by dimpase created at 2017-06-27 10:58:33

IMHO 10% performance decrease is not too bad. As well, it's unclear whether it's limited to a particular compiler/OS/hardware combo, or not. One can also say that MPIR has added more assembly codes, and I guess one can as well find a combo that shows a performance boost.


---

Comment by dimpase created at 2017-06-27 11:03:53

I really cannot see this as the reason not to upgrade MPIR. Consider using ODK funds to get a new CPU where new MPIR shines :-)


---

Comment by dimpase created at 2017-06-27 11:03:53

Changing priority from blocker to major.


---

Comment by jdemeyer created at 2017-06-27 11:33:31

Maybe we can accept a 10% performance regression, but certainly not without further investigation. The problem may be much worse than it appears to be on the surface.


---

Comment by jdemeyer created at 2017-06-27 11:33:31

Changing priority from major to blocker.


---

Comment by dimpase created at 2017-06-27 13:36:01

in any event, please attach `mpir-3.0.0.p0.log` of the installation where you see this slowdown.


---

Comment by mmezzarobba created at 2017-06-27 15:35:25

Is that the same issue as #23209?


---

Comment by jdemeyer created at 2017-06-28 11:52:36

Changing priority from blocker to major.


---

Comment by jdemeyer created at 2017-06-28 11:52:36

Right, the regression is mostly explained by #23209. But even then, there remains a smaller regression of about 2%.


---

Comment by mkoeppe created at 2021-10-10 20:19:08

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-10-10 20:19:08

Outdated after mpir removal in #32549


---

Comment by mmezzarobba created at 2021-10-11 05:51:51

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-10-25 15:39:21

Resolution: invalid
