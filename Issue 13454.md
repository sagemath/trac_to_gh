# Issue 13454: Clean up Graph.girth()

Issue created by migration from https://trac.sagemath.org/ticket/13658

Original creator: ppurka

Original creation time: 2012-10-27 13:24:45

Assignee: jason, ncohen, rlm

Two issues I see:
1. There seems to be a typo in the following section of the code. The variable `thislList` should be `thisList`. Don't know what it affects or if this variable is really needed to be reset.

```
                            if u in thisList:
                                best = depth*2-1
                                thislList = set()
                                break
```

2. The variable `seen` is never used.


---

Comment by ppurka created at 2012-10-27 13:30:05

Sorry, I thought `seen` was a set. Fixing the description :/


---

Comment by chapoton created at 2012-12-22 09:28:39

Changing status from new to needs_review.


---

Comment by ppurka created at 2012-12-22 09:39:16

Is this line really needed? I hadn't looked at what would be affected, if anything was indeed affected, when this typo is fixed. Is there an example of a graph where fixing the typo would actually affect the calculation of the girth?


---

Comment by ncohen created at 2013-01-19 18:27:48

Well, actually this line gets executed each time an odd cycle is found. The line :

```
best = 2*depth -1
```

is the only one that can set best to an odd value. The other one is 

```
best = 2*depth
```

I do not remember what it does at the moment.

I'm pretty sure I wrote this thing myself, but I find it *very* uncommented for what it does `:-/`

Nathann


---

Comment by ncohen created at 2013-01-19 18:32:23

Oh, right. It is meant to do a "continue" on the loop ``for w in self.vertex_iterator():`` but you cannot do that. You cannot break two levels of loops at once. And actually, it is totally useless :


```
sage: s = set([1,2,3,4,5])
sage: for i in s:
...      print i
...      s=set([1])
1
2
3
4
5
```


So we can remove it... God, this code is bad. SOrryyyyyyyyyy `:-/`

Nathann


---

Attachment


---

Comment by ncohen created at 2013-01-21 15:48:46

Well, then... `:-)`

Nathann

P.S. : Sorry for that !!! `^^;`


---

Comment by ncohen created at 2013-01-21 15:48:46

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-01-21 21:11:30

Please fill in Author/Reviewer names.


---

Comment by jdemeyer created at 2013-01-23 07:47:34

Resolution: fixed
