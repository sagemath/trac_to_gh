# Issue 17203: variance wants to divide by zero on lists of length 1

Issue created by migration from Trac.

Original creator: jsrn

Original creation time: 2014-12-03 12:29:38


```
sage: variance([1])
<BOOM>
ZeroDivisionError: Rational division by zero
```


Same bug applies to `std` since it calls `variance`.


---

Comment by jdemeyer created at 2014-12-03 15:36:06

Why is this a bug? To me, that's the expected output...


---

Comment by jsrn created at 2014-12-03 15:54:26

Well, I'm not a statistician and this behaviour surprised me. It also seems [that not everyone agrees with you](http://stackoverflow.com/questions/8023878/standard-deviation-of-one-element), and some argue that 0 is a fine definition. Furthermore, the case `[]` has completely different "failure" semantics (returns NaN), and is described in the doc string.

I'm not necessarily saying that the functions shouldn't do something weird on a 1-list input (though for my use, I wouldn't mind that it just returned 0). I do suggest that in this case the functions should throw a ValueError with an appropriate message, and that the behaviour be mentioned in the doctest.


---

Comment by jdemeyer created at 2014-12-03 21:27:42

Replying to [comment:2 jsrn]:
> Furthermore, the case `[]` has completely different "failure" semantics (returns NaN)
I think raising an exception would be much better than returning `NaN`.

Yes, perhaps an appropriate exception would be better, I don't think 0 is the right answer.


---

Comment by mkoeppe created at 2021-09-07 08:29:45

outdated after deprecation in #29662


---

Comment by mkoeppe created at 2021-09-07 08:29:45

Changing status from new to needs_review.


---

Comment by mjo created at 2021-09-18 11:02:15

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-09-18 17:51:47

Resolution: invalid
