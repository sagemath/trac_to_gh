# Issue 14903: AbelianGroups should be in Groups().Commutative() / Groups().Commutative().Finite()

Issue created by migration from Trac.

Original creator: nthiery

Original creation time: 2013-09-02 06:47:52

CC:  tscrim ncohen

Everything is in the title.

I made it depend on #10963 (which will be merged a priori soon) to have the nice syntax, but it's not a strong dependency.


---

Comment by tscrim created at 2014-08-07 00:53:01

I've added a general `semigroup_generators` for all monoids, which returns the monoid generators and the unit (and assuming finitely generated). I've also defined a `monoid_generators` for finite groups in `FiniteGroups` instead of an `if` statement as a followup to #16725.
----
New commits:


---

Comment by tscrim created at 2014-08-07 00:53:01

Changing status from new to needs_review.


---

Comment by tscrim created at 2014-08-15 16:42:50

Hey Nathann,

Here's somewhat of a followup to #16725. Do you think you'd be willing to do a review? Thanks.


---

Comment by ncohen created at 2014-08-15 17:50:54

Yoooooooooo !!

No problem for those tickets, I more or less understand what is going on ! `:-)`

It looks good but I have two questions:

1) Is there any reason why AbelianGroup does not appear in `groups.<tab>` ?

2) When is the code from `Groups.ParentMethods.monoid_generators` being used ? You removed a couple of lines as this case is handled by the new `FiniteGroups.ParentMethods.monoid_generators`, but then the code of the first method claims that it raises an exception when self is not a `FiniteEnumeratedSet`. Couldn't this method be removed too ? I actually do not understand in which situation that fonction worked without using the "if/return" that you removed.

Nathann


---

Comment by ncohen created at 2014-08-15 17:51:09

Changing status from needs_review to needs_info.


---

Comment by tscrim created at 2014-08-16 02:59:30

Replying to [comment:8 ncohen]:
> 1) Is there any reason why AbelianGroup does not appear in `groups.<tab>` ?

Probably because someone missed it when doing the initial groups catalog. Add it to `groups.misc.<tab>` here?

> 2) When is the code from `Groups.ParentMethods.monoid_generators` being used ? You removed a couple of lines as this case is handled by the new `FiniteGroups.ParentMethods.monoid_generators`, but then the code of the first method claims that it raises an exception when self is not a `FiniteEnumeratedSet`. Couldn't this method be removed too ? I actually do not understand in which situation that fonction worked without using the "if/return" that you removed.

`Groups.ParentMethods.monoid_generators` is used for any parent in the category of `Groups` that doesn't implement its own `monoid_generators`. If a group is in `FiniteGroups`, which is what the `if` statement was checking, then (with this change) it calls the `FiniteGroups.ParentMethods.monoid_generators` instead (it's closer to the front of the MRO). It's a cleaner design (and something I should've realized on #16725).


---

Comment by tscrim created at 2014-08-16 02:59:30

Changing status from needs_info to needs_review.


---

Comment by ncohen created at 2014-08-16 06:23:06

Yooooooooo !

> Probably because someone missed it when doing the initial groups catalog. Add it to `groups.misc.<tab>` here?

Well, here or in another ticket. It just takes one lie anyway.

> `Groups.ParentMethods.monoid_generators` is used for any parent in the category of `Groups` that doesn't implement its own `monoid_generators`. If a group is in `FiniteGroups`, which is what the `if` statement was checking, then (with this change) it calls the `FiniteGroups.ParentMethods.monoid_generators` instead (it's closer to the front of the MRO). It's a cleaner design (and something I should've realized on #16725).

Yes, but when will the code of `Groups.ParentMethods.monoid_generators` be used, if not for finite group ? With you patch all `FiniteGroups` have their own implementation now, but which kind of group is not a `FiniteGroup` but is a `FiniteEnumeratedSet` ?

Nathann


---

Comment by git created at 2014-08-16 16:37:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-08-16 16:39:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2014-08-16 16:41:40

Replying to [comment:11 ncohen]:
> Well, here or in another ticket. It just takes one lie anyway.

Done here.

> Yes, but when will the code of `Groups.ParentMethods.monoid_generators` be used, if not for finite group ? With you patch all `FiniteGroups` have their own implementation now, but which kind of group is not a `FiniteGroup` but is a `FiniteEnumeratedSet` ?

Ah, I see the confusion. I'm checking the group generators are in `FiniteEnumeratedSets`, not the group itself. In other words, I'm checking to see if it's finitely generated (since there is no axiom currently for this).


---

Comment by ncohen created at 2014-08-16 16:47:29

Yo !

> Done here.

Thanks !

> Ah, I see the confusion. I'm checking the group generators are in `FiniteEnumeratedSets`, not the group itself. In other words, I'm checking to see if it's finitely generated (since there is no axiom currently for this).

Sorry `T_T`

One last check and I will set it to `positive_review` in 5 minutes.

Nathann


---

Comment by ncohen created at 2014-08-16 18:50:24

Hello again !

Sorry for the delay, it took longer than expected: I checked the doctests in groups/ and I saw that one was broken, so I had to start a "ptestlong" to find out if there were others. I added a commit at public/15140 that fixes them.

Positive review to your code, and as I added a commit it is your turn to review it and change the ticket's status.

Thanks !

Nathann


---

Comment by tscrim created at 2014-08-16 19:34:40

LGTM. Thanks Nathann.

PS - I made the branch public so you (or any one else) could just have pushed to it.
----
New commits:


---

Comment by tscrim created at 2014-08-16 19:34:40

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-08-18 14:54:22

Resolution: fixed
