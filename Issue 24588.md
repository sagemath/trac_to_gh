# Issue 24588: py3: fix sage.misc.banner

archive/issues_024588.json:
```json
{
    "body": "Also fixes an only slightly related test (in that it does involve printing the banner) which I noticed was broken while making this change.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24825\n\n",
    "created_at": "2018-02-23T11:00:23Z",
    "labels": [
        "python3",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "py3: fix sage.misc.banner",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24588",
    "user": "@embray"
}
```
Also fixes an only slightly related test (in that it does involve printing the banner) which I noticed was broken while making this change.

Issue created by migration from https://trac.sagemath.org/ticket/24825





---

archive/issue_comments_344917.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-23T11:32:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344917",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_344918.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-23T11:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344918",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_344919.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-02-23T11:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344919",
    "user": "@embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_344920.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-02-23T11:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344920",
    "user": "@embray"
}
```

New commits:



---

archive/issue_comments_344921.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-23T14:27:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344921",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_344922.json:
```json
{
    "body": "positive review if tests pass.",
    "created_at": "2018-02-23T14:27:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344922",
    "user": "@jdemeyer"
}
```

positive review if tests pass.



---

archive/issue_comments_344923.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-02-25T18:44:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344923",
    "user": "@vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_344924.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2018-03-03T00:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344924",
    "user": "@vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_344925.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2018-03-03T00:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344925",
    "user": "@vbraun"
}
```

Changing status from closed to new.



---

archive/issue_comments_344926.json:
```json
{
    "body": "\n```\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/misc/banner.py\", line 113, in banner\n    print(banner_text(full=full))\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 0-69: ordinal not in range(128)\nTraceback (most recent call last):\n  File \"/mnt/disk/home/release/opt/bin/git-releasemgr\", line 19, in <module>\n    cmdline.launch()\n  File \"/mnt/disk/home/release/opt/git-trac-command/git_trac/releasemgr/cmdline.py\", line 164, in launch\n    app.release(args.version, check=args.check)\n  File \"/mnt/disk/home/release/opt/git-trac-command/git_trac/releasemgr/app.py\", line 302, in release\n    update_version(version)\n  File \"/mnt/disk/home/release/opt/git-trac-command/git_trac/releasemgr/make_release.py\", line 12, in update_version\n    check_call(['sage', '-sh', '-c', 'sage-update-version {0}'.format(version)])\n  File \"/usr/lib64/python2.7/subprocess.py\", line 186, in check_call\n    raise CalledProcessError(retcode, cmd)\nsubprocess.CalledProcessError: Command '['sage', '-sh', '-c', 'sage-update-version 8.2.beta7']' returned non-zero exit status 1\n```\n",
    "created_at": "2018-03-03T00:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344926",
    "user": "@vbraun"
}
```


```
Traceback (most recent call last):
  File "<string>", line 1, in <module>
  File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/misc/banner.py", line 113, in banner
    print(banner_text(full=full))
UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-69: ordinal not in range(128)
Traceback (most recent call last):
  File "/mnt/disk/home/release/opt/bin/git-releasemgr", line 19, in <module>
    cmdline.launch()
  File "/mnt/disk/home/release/opt/git-trac-command/git_trac/releasemgr/cmdline.py", line 164, in launch
    app.release(args.version, check=args.check)
  File "/mnt/disk/home/release/opt/git-trac-command/git_trac/releasemgr/app.py", line 302, in release
    update_version(version)
  File "/mnt/disk/home/release/opt/git-trac-command/git_trac/releasemgr/make_release.py", line 12, in update_version
    check_call(['sage', '-sh', '-c', 'sage-update-version {0}'.format(version)])
  File "/usr/lib64/python2.7/subprocess.py", line 186, in check_call
    raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command '['sage', '-sh', '-c', 'sage-update-version 8.2.beta7']' returned non-zero exit status 1
```




---

archive/issue_comments_344927.json:
```json
{
    "body": "IDGI.  Does this mean needs work?",
    "created_at": "2018-03-05T11:27:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344927",
    "user": "@embray"
}
```

IDGI.  Does this mean needs work?



---

archive/issue_comments_344928.json:
```json
{
    "body": "Is this being run in a non-unicode environment?  What is LC_CTYPE?  What does `sys.stdout.encoding` show?",
    "created_at": "2018-03-05T11:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344928",
    "user": "@embray"
}
```

Is this being run in a non-unicode environment?  What is LC_CTYPE?  What does `sys.stdout.encoding` show?



---

archive/issue_comments_344929.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-03-05T11:42:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344929",
    "user": "@embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_344930.json:
```json
{
    "body": "I guess this should fix it.\n----\nNew commits:",
    "created_at": "2018-03-05T11:42:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344930",
    "user": "@embray"
}
```

I guess this should fix it.
----
New commits:



---

archive/issue_comments_344931.json:
```json
{
    "body": "So let us try again",
    "created_at": "2018-03-15T08:10:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344931",
    "user": "@fchapoton"
}
```

So let us try again



---

archive/issue_comments_344932.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-03-15T08:10:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344932",
    "user": "@fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_344933.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-03-22T19:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24588#issuecomment-344933",
    "user": "@vbraun"
}
```

Resolution: fixed
