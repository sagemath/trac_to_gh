# Issue 11455: Turn Fan(discard_warning) into an error

archive/issues_011455.json:
```json
{
    "body": "Assignee: AlexGhitza\n\nCC:  novoselt\n\nThere is no easy way to re-enable the warning after it has been shown once. A typical use case is that you have a mistake in your fan data and you want to fix it. The fact that the warning for duplicate cones is only shown once in the Sage session is very annoying.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11627\n\n",
    "created_at": "2011-07-26T11:40:41Z",
    "labels": [
        "algebraic geometry",
        "major",
        "enhancement"
    ],
    "title": "Turn Fan(discard_warning) into an error",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11455",
    "user": "vbraun"
}
```
Assignee: AlexGhitza

CC:  novoselt

There is no easy way to re-enable the warning after it has been shown once. A typical use case is that you have a mistake in your fan data and you want to fix it. The fact that the warning for duplicate cones is only shown once in the Sage session is very annoying.

Issue created by migration from https://trac.sagemath.org/ticket/11627





---

archive/issue_comments_127859.json:
```json
{
    "body": "Changing component from algebraic geometry to geometry.",
    "created_at": "2011-07-27T17:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127859",
    "user": "novoselt"
}
```

Changing component from algebraic geometry to geometry.



---

archive/issue_comments_127860.json:
```json
{
    "body": "OK, I'll change it ;-)",
    "created_at": "2011-07-27T17:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127860",
    "user": "novoselt"
}
```

OK, I'll change it ;-)



---

archive/issue_comments_127861.json:
```json
{
    "body": "Changing assignee from AlexGhitza to mhampton.",
    "created_at": "2011-07-27T17:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127861",
    "user": "novoselt"
}
```

Changing assignee from AlexGhitza to mhampton.



---

archive/issue_comments_127862.json:
```json
{
    "body": "I do have a patch, I just haven't had the time to finish it.",
    "created_at": "2011-07-27T19:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127862",
    "user": "vbraun"
}
```

I do have a patch, I just haven't had the time to finish it.



---

archive/issue_comments_127863.json:
```json
{
    "body": "Namewise, how about replacing `disacard_warning`, which will not make sense anymore, with `discard_faces=False` that can be set to `True` to allow it?",
    "created_at": "2011-07-27T20:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127863",
    "user": "novoselt"
}
```

Namewise, how about replacing `disacard_warning`, which will not make sense anymore, with `discard_faces=False` that can be set to `True` to allow it?



---

archive/issue_comments_127864.json:
```json
{
    "body": "Attachment\n\nInitial patch",
    "created_at": "2011-07-27T20:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127864",
    "user": "vbraun"
}
```

Attachment

Initial patch



---

archive/issue_comments_127865.json:
```json
{
    "body": "Here is my take on it. I renamed it to `check_duplicate_cones=<bool>` to make clear that it is related to the `check` optional argument.",
    "created_at": "2011-07-27T20:13:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127865",
    "user": "vbraun"
}
```

Here is my take on it. I renamed it to `check_duplicate_cones=<bool>` to make clear that it is related to the `check` optional argument.



---

archive/issue_comments_127866.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-08-01T08:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127866",
    "user": "vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_127867.json:
```json
{
    "body": "Any thoughts on the patch?",
    "created_at": "2011-08-01T08:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127867",
    "user": "vbraun"
}
```

Any thoughts on the patch?



---

archive/issue_comments_127868.json:
```json
{
    "body": "Hi Volker, sorry for the delay - travel/jetlag/work ;-)\n\nDiscarding faces and repeated cones is quite natural when they come from some construction and I have already wished a few times that it would be possible to drop them without using `check=True` option which does much more work. In fact, that's the reason why there is a function `discard_faces`. So I propose this patch which adds a `discard_faces=False` keyword which works independently of `check`. I have also fixed the code and documentation pieces that were relying on the old behaviour, I don't get now any errors for tests in geometry or schemes directories.",
    "created_at": "2011-08-03T19:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127868",
    "user": "novoselt"
}
```

Hi Volker, sorry for the delay - travel/jetlag/work ;-)

Discarding faces and repeated cones is quite natural when they come from some construction and I have already wished a few times that it would be possible to drop them without using `check=True` option which does much more work. In fact, that's the reason why there is a function `discard_faces`. So I propose this patch which adds a `discard_faces=False` keyword which works independently of `check`. I have also fixed the code and documentation pieces that were relying on the old behaviour, I don't get now any errors for tests in geometry or schemes directories.



---

archive/issue_comments_127869.json:
```json
{
    "body": "Attachment",
    "created_at": "2011-08-03T19:35:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127869",
    "user": "novoselt"
}
```

Attachment



---

archive/issue_comments_127870.json:
```json
{
    "body": "Looks good!",
    "created_at": "2011-08-11T18:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127870",
    "user": "vbraun"
}
```

Looks good!



---

archive/issue_comments_127871.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-08-11T18:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127871",
    "user": "vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_127872.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-09-17T05:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-127872",
    "user": "leif"
}
```

Resolution: fixed
