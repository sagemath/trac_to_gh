# Issue 11455: Turn Fan(discard_warning) into an error

Issue created by migration from https://trac.sagemath.org/ticket/11627

Original creator: vbraun

Original creation time: 2011-07-26 11:40:41

Assignee: AlexGhitza

CC:  novoselt

There is no easy way to re-enable the warning after it has been shown once. A typical use case is that you have a mistake in your fan data and you want to fix it. The fact that the warning for duplicate cones is only shown once in the Sage session is very annoying.


---

Comment by novoselt created at 2011-07-27 17:17:09

Changing component from algebraic geometry to geometry.


---

Comment by novoselt created at 2011-07-27 17:17:09

OK, I'll change it ;-)


---

Comment by novoselt created at 2011-07-27 17:17:09

Changing assignee from AlexGhitza to mhampton.


---

Comment by vbraun created at 2011-07-27 19:41:01

I do have a patch, I just haven't had the time to finish it.


---

Comment by novoselt created at 2011-07-27 20:06:49

Namewise, how about replacing `disacard_warning`, which will not make sense anymore, with `discard_faces=False` that can be set to `True` to allow it?


---

Attachment

Initial patch


---

Comment by vbraun created at 2011-07-27 20:13:24

Here is my take on it. I renamed it to `check_duplicate_cones=<bool>` to make clear that it is related to the `check` optional argument.


---

Comment by vbraun created at 2011-08-01 08:36:25

Changing status from new to needs_review.


---

Comment by vbraun created at 2011-08-01 08:36:25

Any thoughts on the patch?


---

Comment by novoselt created at 2011-08-03 19:30:26

Hi Volker, sorry for the delay - travel/jetlag/work ;-)

Discarding faces and repeated cones is quite natural when they come from some construction and I have already wished a few times that it would be possible to drop them without using `check=True` option which does much more work. In fact, that's the reason why there is a function `discard_faces`. So I propose this patch which adds a `discard_faces=False` keyword which works independently of `check`. I have also fixed the code and documentation pieces that were relying on the old behaviour, I don't get now any errors for tests in geometry or schemes directories.


---

Attachment


---

Comment by vbraun created at 2011-08-11 18:11:17

Looks good!


---

Comment by vbraun created at 2011-08-11 18:11:17

Changing status from needs_review to positive_review.


---

Comment by leif created at 2011-09-17 05:01:43

Resolution: fixed
