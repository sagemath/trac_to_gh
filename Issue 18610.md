# Issue 18610: create an interface to Mosek optimisation software

Issue created by migration from Trac.

Original creator: dimpase

Original creation time: 2015-07-03 08:34:28

CC:  ncohen mkoeppe mforets

[Mosek](https://mosek.com) makes fast (MI)LP, quadratic and semidefinite programming (SDP) solvers; they come with a free academic license. 

A Python interface is provided.


---

Comment by mforets created at 2017-07-07 16:13:32

hello, 

i'm interested in contributing to the MOSEK SDP backend for Sage, but i have no experience in writing Cython library code. Given that there is a project [Mosek.pip](https://github.com/MOSEK/Mosek.pip), i was just wondering if that facilitates in one way or another this task. at the same time one would like that the whole thing works as efficiently as possible.. any feedback is welcome, thanks.


---

Comment by mkoeppe created at 2017-07-07 17:50:35

This project just seems to provide an installer for Mosek. (This could also be useful for Sage, of course.)
Is there a Python interface available too somewhere? Then we should use that interface rather than writing our own.


---

Comment by mforets created at 2017-07-07 20:01:16

yes, there is an [official Python API](http://docs.mosek.com/8.0/pythonapi/intro_info.html#why-the-projectname). 

they claim that "The overhead introduced by this mapping (interface to the native C optimizer) is minimal."


---

Comment by mkoeppe created at 2017-07-07 20:06:07

Sounds like no Cython programming is necessary then.


---

Comment by dimpase created at 2017-07-07 21:12:23

if you want to use the unified SemidefiniteProgram() interface in Sage you will need to write a backend; currently the only non-dummy SDP backend in Sage is cvxopt_sdp_backend.pyx
(which is not really Cython, it's just wrapping cvxopt's Python interface)

So a similar job can be done with Mosek's Python SDP interface
(which can as well be used directly, although it is not pretty...)


---

Comment by mforets created at 2017-07-08 10:07:10

> So a similar job can be done with Mosek's Python SDP interface

got it, let me have a look and write back later!

> (which can as well be used directly, although it is not pretty...)

.. i want to believe that there's more payoff on these efforts than just aesthetics. python-based modeling interfaces to optimization solvers do exist, such as [pyopt](http://www.pyopt.org/), [picos](http://picos.zib.de/) or [pyomo](http://www.pyomo.org/). if Sage provides extra convenience and functionality for users at different levels then i think that's a sound motivation.


---

Comment by mforets created at 2017-07-08 17:52:58

i've started by reading Sage's SDP interface. in #23389 and #23390 i've uploaded 2 branches with some typo fixes etc for the html doc.


---

Comment by dimpase created at 2017-07-08 20:48:51

Replying to [comment:6 mforets]:
> > So a similar job can be done with Mosek's Python SDP interface
> 
> got it, let me have a look and write back later!
> 
> > (which can as well be used directly, although it is not pretty...)
> 
> .. i want to believe that there's more payoff on these efforts than just aesthetics. python-based modeling interfaces to optimization solvers do exist, such as [pyopt](http://www.pyopt.org/), [picos](http://picos.zib.de/) or [pyomo](http://www.pyomo.org/). if Sage provides extra convenience and functionality for users at different levels then i think that's a sound motivation.

One certainly does not want to write different code for a different solver.

My motivation for pushing for a uniform SDP interface in Sage is the problems of polynomial optimisation which are being solved via the moment method.
(I have some particular case of this implemented in Sage, the global optimisation, in need of a cleanup etc...)


---

Comment by mforets created at 2017-07-09 11:19:43

then we should follow-up on that later: i was planning to port some functionality from YALMIP tool (Matlab).

(_aside comments:_ my experience with yalmip is that when you increase the relaxation order, setting up the problem/symbolics may cost more in cpu / memory than the optimization itself.. AFAIK, for Python there is 1 related project: [ncpol2sdpa](https://github.com/peterwittek/ncpol2sdpa). that project is great, but i wonder if one can also exploit Sage's fast polynomial libraries, or otherÂ compiled code.)


---

Comment by mforets created at 2017-07-09 17:02:26

initial commit added, an adaptation of CVXOPT SDP backend.

as it stands, the continuation would be to load Mosek's task with the problem data inside the `cpdef int solve` function, using some of `task.pucj`, `task.putvarbound`, `task.appendsparsesymmat`, and so on.

but i was thinking if it would be desirable (speed? memory?) to initialize the optimization `task` at the instantiation of the `MOSEKSDPBackend` class, and update it when the methods are being called, instead of interacting with Mosek only at its ``solve`` method.
----
New commits:
