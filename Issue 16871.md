# Issue 16871: IncidenceStructure.degree(set={1,2,3})

archive/issues_016871.json:
```json
{
    "body": "CC:  vdelecroix dimpase\n\nDegree of a set, degree of all k-subsets of points.\n\nNathann\n\nIssue created by migration from https://trac.sagemath.org/ticket/17108\n\n",
    "created_at": "2014-10-06T21:23:17Z",
    "labels": [
        "combinatorial designs",
        "major",
        "enhancement"
    ],
    "title": "IncidenceStructure.degree(set={1,2,3})",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16871",
    "user": "ncohen"
}
```
CC:  vdelecroix dimpase

Degree of a set, degree of all k-subsets of points.

Nathann

Issue created by migration from https://trac.sagemath.org/ticket/17108





---

archive/issue_comments_223403.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-10-06T21:25:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223403",
    "user": "ncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_223404.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-06T21:26:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223404",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_223405.json:
```json
{
    "body": "Hey,\n\n\n```\n+ if int(p is None)+int(set is None)+int(sets_of_size is None) <2:\n+    raise ValueError(\"Only one parameter must be defined\"\n```\n\nwouldn't `>1` be more appropriate? (I note that you used a `ValueError` and not an assert ;-)\n\nHum\n\n```\n+ if set is not None:\n+     # getting the 'set' function back\n+     set_of_points = set\n+     from __builtin__ import set\n```\n\nlooks like another argument name would be better... `points`? `pts`?\n\nVincent",
    "created_at": "2014-10-06T21:38:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223405",
    "user": "vdelecroix"
}
```

Hey,


```
+ if int(p is None)+int(set is None)+int(sets_of_size is None) <2:
+    raise ValueError("Only one parameter must be defined"
```

wouldn't `>1` be more appropriate? (I note that you used a `ValueError` and not an assert ;-)

Hum

```
+ if set is not None:
+     # getting the 'set' function back
+     set_of_points = set
+     from __builtin__ import set
```

looks like another argument name would be better... `points`? `pts`?

Vincent



---

archive/issue_comments_223406.json:
```json
{
    "body": "Yo !\n\n> wouldn't `>1` be more appropriate?\n\n`O_o`\n\nWell it wouldn't work in that case.\n\n> (I note that you used a `ValueError` and not an assert ;-)\n\n`:-P`\n\n> looks like another argument name would be better... `points`? `pts`?\n\n`point` is the current one. I want to make clear that the meaning of the function changes, so I thought that \"set\" would do. It cannot be detected automatically btw.\n\nNathann",
    "created_at": "2014-10-06T21:44:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223406",
    "user": "ncohen"
}
```

Yo !

> wouldn't `>1` be more appropriate?

`O_o`

Well it wouldn't work in that case.

> (I note that you used a `ValueError` and not an assert ;-)

`:-P`

> looks like another argument name would be better... `points`? `pts`?

`point` is the current one. I want to make clear that the meaning of the function changes, so I thought that "set" would do. It cannot be detected automatically btw.

Nathann



---

archive/issue_comments_223407.json:
```json
{
    "body": "Replying to [comment:4 ncohen]:\n> > looks like another argument name would be better... `points`? `pts`?\n> \n> `point` is the current one. I want to make clear that the meaning of the function changes, so I thought that \"set\" would do. It cannot be detected automatically btw.\n\nI meant instead of `set`; use something else like `points` or `pts`. Note that I assumed that the following is ugly\n\n```\ndef f(list, int):\n   return __builtin__.list(list) * __builtin__.int(int)\n```\n\nif you are not convinced, try first `__builtin__ = 3` in the console.",
    "created_at": "2014-10-07T17:55:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223407",
    "user": "vdelecroix"
}
```

Replying to [comment:4 ncohen]:
> > looks like another argument name would be better... `points`? `pts`?
> 
> `point` is the current one. I want to make clear that the meaning of the function changes, so I thought that "set" would do. It cannot be detected automatically btw.

I meant instead of `set`; use something else like `points` or `pts`. Note that I assumed that the following is ugly

```
def f(list, int):
   return __builtin__.list(list) * __builtin__.int(int)
```

if you are not convinced, try first `__builtin__ = 3` in the console.



---

archive/issue_comments_223408.json:
```json
{
    "body": "> I meant instead of `set`; use something else like `points` or `pts`.\n\nThat's what I understood. Right now we have 'point', it would be dangerous to have 'points' and weird to have 'pts'.\n\n> Note that I assumed that the following is ugly\n\nWhat does this code do ?\n\nNathann",
    "created_at": "2014-10-07T19:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223408",
    "user": "ncohen"
}
```

> I meant instead of `set`; use something else like `points` or `pts`.

That's what I understood. Right now we have 'point', it would be dangerous to have 'points' and weird to have 'pts'.

> Note that I assumed that the following is ugly

What does this code do ?

Nathann



---

archive/issue_comments_223409.json:
```json
{
    "body": "Replying to [comment:6 ncohen]:\n> > I meant instead of `set`; use something else like `points` or `pts`.\n> \n> That's what I understood. Right now we have 'point', it would be dangerous to have 'points' and weird to have 'pts'.\n\nRight now\n\n```\n- def degree(self, p=None):\n+ def degree(self, p=None, set=None, sets_of_size=None):\n```\n\nThere is no `point`...\n\n> > Note that I assumed that the following is ugly\n> \n> What does this code do ?\n\nSo you agree that it is unreadable ;-)\n\nVincent",
    "created_at": "2014-10-07T19:47:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223409",
    "user": "vdelecroix"
}
```

Replying to [comment:6 ncohen]:
> > I meant instead of `set`; use something else like `points` or `pts`.
> 
> That's what I understood. Right now we have 'point', it would be dangerous to have 'points' and weird to have 'pts'.

Right now

```
- def degree(self, p=None):
+ def degree(self, p=None, set=None, sets_of_size=None):
```

There is no `point`...

> > Note that I assumed that the following is ugly
> 
> What does this code do ?

So you agree that it is unreadable ;-)

Vincent



---

archive/issue_comments_223410.json:
```json
{
    "body": "Yo !\n\n> Right now\n> {{{\n> - def degree(self, p=None):\n> + def degree(self, p=None, set=None, sets_of_size=None):\n> }}}\n> There is no `point`...\n\nOh sorry. But `p=None,pts=None` or `p=None,points=None` is not more meaningful either.\n\n> So you agree that it is unreadable ;-)\n\nYes. What's the point ?\n\nI just want the user interface to make sense. The meaning of `I.degree(p)` is clear, the meaning of `I.degree(set=[1,2,3])` is not optimal but contains as much information as I could put, and `I.degree(sets_of_size=3)` is as clear as possible too.\n\nI thought of `I.degree(subset=[1,2,3])` but did not like it much. I don't see what the 'sub' does there.\n\nSo well. I am sorry if it overwrites a 'set' keyword in the function (and if, unluckily, we need it) but well... Why is that even a problem ? I rename is as early as possible to make the code clearer.\n\nNathann",
    "created_at": "2014-10-07T19:52:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223410",
    "user": "ncohen"
}
```

Yo !

> Right now
> {{{
> - def degree(self, p=None):
> + def degree(self, p=None, set=None, sets_of_size=None):
> }}}
> There is no `point`...

Oh sorry. But `p=None,pts=None` or `p=None,points=None` is not more meaningful either.

> So you agree that it is unreadable ;-)

Yes. What's the point ?

I just want the user interface to make sense. The meaning of `I.degree(p)` is clear, the meaning of `I.degree(set=[1,2,3])` is not optimal but contains as much information as I could put, and `I.degree(sets_of_size=3)` is as clear as possible too.

I thought of `I.degree(subset=[1,2,3])` but did not like it much. I don't see what the 'sub' does there.

So well. I am sorry if it overwrites a 'set' keyword in the function (and if, unluckily, we need it) but well... Why is that even a problem ? I rename is as early as possible to make the code clearer.

Nathann



---

archive/issue_comments_223411.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-10-30T15:52:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223411",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_223412.json:
```json
{
    "body": "Rebased on rc0.\n\nOkay, so you told me that you did not like the \"set=\" argument, but how can I make it better ? I want the interface to be clear and natural for users.\n\nNathann",
    "created_at": "2014-10-30T15:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223412",
    "user": "ncohen"
}
```

Rebased on rc0.

Okay, so you told me that you did not like the "set=" argument, but how can I make it better ? I want the interface to be clear and natural for users.

Nathann



---

archive/issue_comments_223413.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-10-30T16:01:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223413",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_223414.json:
```json
{
    "body": "The thing that I dislike is that you use the argument name `set`. Moreover you need to use Python sets inside the function.\n\nYou used `p` for `point` why not use `s` for `set`?\n\nVincent",
    "created_at": "2014-10-30T16:05:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223414",
    "user": "vdelecroix"
}
```

The thing that I dislike is that you use the argument name `set`. Moreover you need to use Python sets inside the function.

You used `p` for `point` why not use `s` for `set`?

Vincent



---

archive/issue_comments_223415.json:
```json
{
    "body": "> The thing that I dislike is that you use the argument name `set`. Moreover you need to use Python sets inside the function.\n\nI tried to make it a little better in the last commit\n\n> You used `p` for `point` why not use `s` for `set`?\n\nBecause `I.degree(s={1,2,3})` is not as clear as `I.degree(set={1,2,3})` is. And the `p` for `point` is not really a problem because nobody ever types it, i.e. `I.degree(0)`.\n\nNathann",
    "created_at": "2014-10-30T16:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223415",
    "user": "ncohen"
}
```

> The thing that I dislike is that you use the argument name `set`. Moreover you need to use Python sets inside the function.

I tried to make it a little better in the last commit

> You used `p` for `point` why not use `s` for `set`?

Because `I.degree(s={1,2,3})` is not as clear as `I.degree(set={1,2,3})` is. And the `p` for `point` is not really a problem because nobody ever types it, i.e. `I.degree(0)`.

Nathann



---

archive/issue_comments_223416.json:
```json
{
    "body": "Helloooo !! Could we do something about that ticket ? I really need this feature pretty often and I write a long one-liner each time I do `:-P`\n\nNathann",
    "created_at": "2014-11-26T04:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223416",
    "user": "ncohen"
}
```

Helloooo !! Could we do something about that ticket ? I really need this feature pretty often and I write a long one-liner each time I do `:-P`

Nathann



---

archive/issue_comments_223417.json:
```json
{
    "body": "Beep ?...\n\nNathann",
    "created_at": "2014-12-01T09:23:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223417",
    "user": "ncohen"
}
```

Beep ?...

Nathann



---

archive/issue_comments_223418.json:
```json
{
    "body": "I don't like the API:\n\n```\ndegree(self, p=None, set=None, sets_of_size=None)\n```\n\nlooks very non-intuitive (Why `p`? Why `set`?!). I'd suggest\n\n```\ndegree(self, *args, sets_of_size=None)\n```\n\nand args are either your `p` or your `set`, or None.",
    "created_at": "2014-12-01T15:19:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223418",
    "user": "dimpase"
}
```

I don't like the API:

```
degree(self, p=None, set=None, sets_of_size=None)
```

looks very non-intuitive (Why `p`? Why `set`?!). I'd suggest

```
degree(self, *args, sets_of_size=None)
```

and args are either your `p` or your `set`, or None.



---

archive/issue_comments_223419.json:
```json
{
    "body": "Hello !\n\n> looks very non-intuitive (Why `p`? Why `set`?!). I'd suggest\n\nYou are meant to use `H.degree(a_point), H.degree(set=set_of_points), H.degree(sets_of_size=3)` \n> {{{\n> degree(self, *args, sets_of_size=None)\n> }}}\n> and args are either your `p` or your `set`, or None.\n\nI cannot do that, for I may have both `1` and `{1}` in the incidence structure.\n\nNathann",
    "created_at": "2014-12-01T15:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223419",
    "user": "ncohen"
}
```

Hello !

> looks very non-intuitive (Why `p`? Why `set`?!). I'd suggest

You are meant to use `H.degree(a_point), H.degree(set=set_of_points), H.degree(sets_of_size=3)` 
> {{{
> degree(self, *args, sets_of_size=None)
> }}}
> and args are either your `p` or your `set`, or None.

I cannot do that, for I may have both `1` and `{1}` in the incidence structure.

Nathann



---

archive/issue_comments_223420.json:
```json
{
    "body": "Replying to [comment:18 ncohen]:\n> Hello !\n> \n> > looks very non-intuitive (Why `p`? Why `set`?!). I'd suggest\n> \n> You are meant to use `H.degree(a_point), H.degree(set=set_of_points), H.degree(sets_of_size=3)` \n> > {{{\n> > degree(self, *args, sets_of_size=None)\n> > }}}\n> > and args are either your `p` or your `set`, or None.\n> \n> I cannot do that, for I may have both `1` and `{1}` in the incidence structure.\n> \n\n```\nblah.degree(1)==blah.degree({1})\n```\n\nneed not hold, as\n\n```\nisinstance({1},set)==True\n```\n",
    "created_at": "2014-12-01T15:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223420",
    "user": "dimpase"
}
```

Replying to [comment:18 ncohen]:
> Hello !
> 
> > looks very non-intuitive (Why `p`? Why `set`?!). I'd suggest
> 
> You are meant to use `H.degree(a_point), H.degree(set=set_of_points), H.degree(sets_of_size=3)` 
> > {{{
> > degree(self, *args, sets_of_size=None)
> > }}}
> > and args are either your `p` or your `set`, or None.
> 
> I cannot do that, for I may have both `1` and `{1}` in the incidence structure.
> 

```
blah.degree(1)==blah.degree({1})
```

need not hold, as

```
isinstance({1},set)==True
```




---

archive/issue_comments_223421.json:
```json
{
    "body": "What I am saying is that in this case, I do not know what do do:\n\n\n```\nsage: H = IncidenceStructure([[1,2],[1,Set([1])]])\nsage: H.ground_set()\n[{1}, 1, 2]\nsage: H.blocks()\n[[{1}, 1], [1, 2]]\nsage: H.degree(Set([1]))\n```\n\n\nNathann",
    "created_at": "2014-12-01T15:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223421",
    "user": "ncohen"
}
```

What I am saying is that in this case, I do not know what do do:


```
sage: H = IncidenceStructure([[1,2],[1,Set([1])]])
sage: H.ground_set()
[{1}, 1, 2]
sage: H.blocks()
[[{1}, 1], [1, 2]]
sage: H.degree(Set([1]))
```


Nathann



---

archive/issue_comments_223422.json:
```json
{
    "body": "Replying to [comment:20 ncohen]:\n> What I am saying is that in this case, I do not know what do do:\n> \n> {{{\n> sage: H = IncidenceStructure([[1,2],[1,Set([1])]])\n> sage: H.ground_set()\n> [{1}, 1, 2]\n> sage: H.blocks()\n> [[{1}, 1], [1, 2]]\n> sage: H.degree(Set([1]))\n> }}}\n\nwell, at least in set theory 1 is not equal to {1}. Thusly the answer should be 1, as opposed to `H.degree(1)`, which should be 2.",
    "created_at": "2014-12-01T15:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223422",
    "user": "dimpase"
}
```

Replying to [comment:20 ncohen]:
> What I am saying is that in this case, I do not know what do do:
> 
> {{{
> sage: H = IncidenceStructure([[1,2],[1,Set([1])]])
> sage: H.ground_set()
> [{1}, 1, 2]
> sage: H.blocks()
> [[{1}, 1], [1, 2]]
> sage: H.degree(Set([1]))
> }}}

well, at least in set theory 1 is not equal to {1}. Thusly the answer should be 1, as opposed to `H.degree(1)`, which should be 2.



---

archive/issue_comments_223423.json:
```json
{
    "body": "> well, at least in set theory 1 is not equal to {1}. Thusly the answer should be 1, as opposed to `H.degree(1)`, which should be 2.\n\nWhat I am saying is that from the command there is no way if by `H.degree(Set([1]))` the user means \"give me the degree of the point Set([1])\" or \"give me the degree of the set that only contain the point 1\".\n\nThis is why I need this \"set=\" parameter to make the difference.\n\nNathann",
    "created_at": "2014-12-01T15:49:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223423",
    "user": "ncohen"
}
```

> well, at least in set theory 1 is not equal to {1}. Thusly the answer should be 1, as opposed to `H.degree(1)`, which should be 2.

What I am saying is that from the command there is no way if by `H.degree(Set([1]))` the user means "give me the degree of the point Set([1])" or "give me the degree of the set that only contain the point 1".

This is why I need this "set=" parameter to make the difference.

Nathann



---

archive/issue_comments_223424.json:
```json
{
    "body": "Replying to [comment:22 ncohen]:\n> > well, at least in set theory 1 is not equal to {1}. Thusly the answer should be 1, as opposed to `H.degree(1)`, which should be 2.\n> \n> What I am saying is that from the command there is no way if by `H.degree(Set([1]))` the user means \"give me the degree of the point Set([1])\" or \"give me the degree of the set that only contain the point 1\".\n> \n> This is why I need this \"set=\" parameter to make the difference.\n\nAh, right. Then I'd just go for `degree()` (for points) and `subset_degree()` (for subsets), to avoid dealing with paradoxes of set theory (;-).",
    "created_at": "2014-12-01T15:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223424",
    "user": "dimpase"
}
```

Replying to [comment:22 ncohen]:
> > well, at least in set theory 1 is not equal to {1}. Thusly the answer should be 1, as opposed to `H.degree(1)`, which should be 2.
> 
> What I am saying is that from the command there is no way if by `H.degree(Set([1]))` the user means "give me the degree of the point Set([1])" or "give me the degree of the set that only contain the point 1".
> 
> This is why I need this "set=" parameter to make the difference.

Ah, right. Then I'd just go for `degree()` (for points) and `subset_degree()` (for subsets), to avoid dealing with paradoxes of set theory (;-).



---

archive/issue_comments_223425.json:
```json
{
    "body": "> Ah, right. Then I'd just go for `degree()` (for points) and `subset_degree()` (for subsets), to avoid dealing with paradoxes of set theory (;-).\n\nTwo functions ?... `:-/`\n\nI would prefer `degree(subset=the_set)` if you do not mind. Even though I find `degree(set=the_set)` much more natural, but nobody likes it.\n\nWould that be okay for you ?\n\nNathann",
    "created_at": "2014-12-01T15:58:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223425",
    "user": "ncohen"
}
```

> Ah, right. Then I'd just go for `degree()` (for points) and `subset_degree()` (for subsets), to avoid dealing with paradoxes of set theory (;-).

Two functions ?... `:-/`

I would prefer `degree(subset=the_set)` if you do not mind. Even though I find `degree(set=the_set)` much more natural, but nobody likes it.

Would that be okay for you ?

Nathann



---

archive/issue_comments_223426.json:
```json
{
    "body": "Replying to [comment:24 ncohen]:\n> > Ah, right. Then I'd just go for `degree()` (for points) and `subset_degree()` (for subsets), to avoid dealing with paradoxes of set theory (;-).\n> \n> Two functions ?... `:-/`\n\nIt's more efficient, especially if you compile (in some future version), isn't it?\nAnd, otherwise it feels like COBOL :-)\n\n> \n> I would prefer `degree(subset=the_set)` if you do not mind. Even though I find `degree(set=the_set)` much more natural, but nobody likes it.\n> \n> Would that be okay for you ?\n\nand what will happen to `p=` ? It should go...",
    "created_at": "2014-12-01T16:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223426",
    "user": "dimpase"
}
```

Replying to [comment:24 ncohen]:
> > Ah, right. Then I'd just go for `degree()` (for points) and `subset_degree()` (for subsets), to avoid dealing with paradoxes of set theory (;-).
> 
> Two functions ?... `:-/`

It's more efficient, especially if you compile (in some future version), isn't it?
And, otherwise it feels like COBOL :-)

> 
> I would prefer `degree(subset=the_set)` if you do not mind. Even though I find `degree(set=the_set)` much more natural, but nobody likes it.
> 
> Would that be okay for you ?

and what will happen to `p=` ? It should go...



---

archive/issue_comments_223427.json:
```json
{
    "body": "\n```\n+        - ``sets_of_size`` -- an integer. If defined, the function returns the\n+          degree of all sets of size ``sets_of_size``.\n```\n\n\nshould be `degrees` there...\n\nAnyhow, I think this should also be a separate function, called `degrees`.\nThen `degrees(1)` or `degrees()` would to what your `degree()` currently does.\n\nYou just can't stuff parameters with such different semantics into one function, unless you want your users to get a headache...",
    "created_at": "2014-12-01T16:34:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223427",
    "user": "dimpase"
}
```


```
+        - ``sets_of_size`` -- an integer. If defined, the function returns the
+          degree of all sets of size ``sets_of_size``.
```


should be `degrees` there...

Anyhow, I think this should also be a separate function, called `degrees`.
Then `degrees(1)` or `degrees()` would to what your `degree()` currently does.

You just can't stuff parameters with such different semantics into one function, unless you want your users to get a headache...



---

archive/issue_comments_223428.json:
```json
{
    "body": "> should be `degrees` there...\n\nDima please, let's not create 9999 functions which all do the same thing. Look, we have had this in graphs for ages and nobody died:\n\n\n```\nsage: g = graphs.PetersenGraph()\nsage: g.degree(1)\n3\nsage: g.degree()\n[3, 3, 3, 3, 3, 3, 3, 3, 3, 3]\nsage: g.degree(labels=True)\n{0: 3, 1: 3, 2: 3, 3: 3, 4: 3, 5: 3, 6: 3, 7: 3, 8: 3, 9: 3}\n```\n\n\n> Anyhow, I think this should also be a separate function, called `degrees`.\n> Then `degrees(1)` or `degrees()` would to what your `degree()` currently does.\n\n1-year deprecation ?\n\nDima tell me: do you have an objection if I change `degree(set=the_set)` to `degree(subset=the_set)` ? And I will remove `sets_of_size` if you refuse it, it is better than a \"degrees\" in my mind.\n\nNathann",
    "created_at": "2014-12-01T16:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223428",
    "user": "ncohen"
}
```

> should be `degrees` there...

Dima please, let's not create 9999 functions which all do the same thing. Look, we have had this in graphs for ages and nobody died:


```
sage: g = graphs.PetersenGraph()
sage: g.degree(1)
3
sage: g.degree()
[3, 3, 3, 3, 3, 3, 3, 3, 3, 3]
sage: g.degree(labels=True)
{0: 3, 1: 3, 2: 3, 3: 3, 4: 3, 5: 3, 6: 3, 7: 3, 8: 3, 9: 3}
```


> Anyhow, I think this should also be a separate function, called `degrees`.
> Then `degrees(1)` or `degrees()` would to what your `degree()` currently does.

1-year deprecation ?

Dima tell me: do you have an objection if I change `degree(set=the_set)` to `degree(subset=the_set)` ? And I will remove `sets_of_size` if you refuse it, it is better than a "degrees" in my mind.

Nathann



---

archive/issue_comments_223429.json:
```json
{
    "body": "Replying to [comment:27 ncohen]:\n> > should be `degrees` there...\n> \n> Dima please, let's not create 9999 functions which all do the same thing.\n\nthere are already 9998 functions like this there in `generic_graph.py`:\n`degree`, `degree_sequence`, `degree_histogram`, etc...\n\nYou might compare implementations of the 1st two and try to convince me that this is not 100% code/API bloat...\nIMHO something should be done about this.",
    "created_at": "2014-12-01T22:07:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223429",
    "user": "dimpase"
}
```

Replying to [comment:27 ncohen]:
> > should be `degrees` there...
> 
> Dima please, let's not create 9999 functions which all do the same thing.

there are already 9998 functions like this there in `generic_graph.py`:
`degree`, `degree_sequence`, `degree_histogram`, etc...

You might compare implementations of the 1st two and try to convince me that this is not 100% code/API bloat...
IMHO something should be done about this.



---

archive/issue_comments_223430.json:
```json
{
    "body": "> there are already 9998 functions like this there in `generic_graph.py`:\n> `degree`, `degree_sequence`, `degree_histogram`, etc...\n\nI would remove the last two in I could, but it is not my personnal code.\n\nCan you answer the question about \"set=\" or \"subset=\" ?\n\nNathann",
    "created_at": "2014-12-02T02:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223430",
    "user": "ncohen"
}
```

> there are already 9998 functions like this there in `generic_graph.py`:
> `degree`, `degree_sequence`, `degree_histogram`, etc...

I would remove the last two in I could, but it is not my personnal code.

Can you answer the question about "set=" or "subset=" ?

Nathann



---

archive/issue_comments_223431.json:
```json
{
    "body": "Replying to [comment:29 ncohen]:\n> > there are already 9998 functions like this there in `generic_graph.py`:\n> > `degree`, `degree_sequence`, `degree_histogram`, etc...\n> \n> I would remove the last two in I could, but it is not my personnal code.\n\nI'd rather remove the functionality of `degree_sequence` from `degree`.\nIt's apparently written by rlm, I doubt he'd object.\n\n> \n> Can you answer the question about \"set=\" or \"subset=\" ?\n\nsurely `subset` is better (and please, please do not name **variables/parameters** `set`, for Pete's sake...)\n\nAnd yes, please get rid of `p=` and of `sets_of_size=`.",
    "created_at": "2014-12-02T09:17:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223431",
    "user": "dimpase"
}
```

Replying to [comment:29 ncohen]:
> > there are already 9998 functions like this there in `generic_graph.py`:
> > `degree`, `degree_sequence`, `degree_histogram`, etc...
> 
> I would remove the last two in I could, but it is not my personnal code.

I'd rather remove the functionality of `degree_sequence` from `degree`.
It's apparently written by rlm, I doubt he'd object.

> 
> Can you answer the question about "set=" or "subset=" ?

surely `subset` is better (and please, please do not name **variables/parameters** `set`, for Pete's sake...)

And yes, please get rid of `p=` and of `sets_of_size=`.



---

archive/issue_comments_223432.json:
```json
{
    "body": "but, really, it is totally wrong to have 3 **mutually exclusive** keyword parameters A, B, C  `f(A=bla)`, `f(B=fook)`, `f(C=fok)` and, surely enough, code in `f` to parse all this crap, so that people do not mistakenly use them together, \ninstead of `fA(bla)`, `fB(fook)`, `fC(fok)`.\n\nThis is not what the keyword parameters are for, they are not poor man substitutes of function names. No, they are not...\n\nNo, really. Take a deep breath an think about it for 3 minutes...",
    "created_at": "2014-12-02T09:28:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223432",
    "user": "dimpase"
}
```

but, really, it is totally wrong to have 3 **mutually exclusive** keyword parameters A, B, C  `f(A=bla)`, `f(B=fook)`, `f(C=fok)` and, surely enough, code in `f` to parse all this crap, so that people do not mistakenly use them together, 
instead of `fA(bla)`, `fB(fook)`, `fC(fok)`.

This is not what the keyword parameters are for, they are not poor man substitutes of function names. No, they are not...

No, really. Take a deep breath an think about it for 3 minutes...



---

archive/issue_comments_223433.json:
```json
{
    "body": "> surely subset is better (and please, please do not name variables/parameters set, for Pete's sake...)\n\nIt is only a problem in your head, not a problem in the code. With two lines everything is solved, and the user interface is clearer as a result.\n\n```\n+        S = set\n+        from __builtin__ import set\n```\n\n\nThat's all it takes.\n\n> And yes, please get rid of `p=` and of `sets_of_size=`.\n\nToo bad, I liked the `sets_of_size` feature.\n\n> but, really, it is totally wrong to have 3 mutually exclusive keyword parameters\n\nWe did almost the same in `PermutationGroup.orbit`. Instead of different flags we had a `action='OnPoints',action='OnSets', ...`. I would not mind having `IncidenceStructure.degree(p,type='set')` or `type='point'` but you would not like it.\n\n> This is not what the keyword parameters are for, they are not poor man substitutes of function names. No, they are not...\n\nYou seem really bothered by what I do with those parameters. Are you worried that users may find it confusing ?\n\nNathann",
    "created_at": "2014-12-02T09:43:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223433",
    "user": "ncohen"
}
```

> surely subset is better (and please, please do not name variables/parameters set, for Pete's sake...)

It is only a problem in your head, not a problem in the code. With two lines everything is solved, and the user interface is clearer as a result.

```
+        S = set
+        from __builtin__ import set
```


That's all it takes.

> And yes, please get rid of `p=` and of `sets_of_size=`.

Too bad, I liked the `sets_of_size` feature.

> but, really, it is totally wrong to have 3 mutually exclusive keyword parameters

We did almost the same in `PermutationGroup.orbit`. Instead of different flags we had a `action='OnPoints',action='OnSets', ...`. I would not mind having `IncidenceStructure.degree(p,type='set')` or `type='point'` but you would not like it.

> This is not what the keyword parameters are for, they are not poor man substitutes of function names. No, they are not...

You seem really bothered by what I do with those parameters. Are you worried that users may find it confusing ?

Nathann



---

archive/issue_comments_223434.json:
```json
{
    "body": "Hello,\n\nI agree with Dima that `set` and `type` should be avoided as argument or variable name.\n\nConcerning the number of functions needed, the only ambiguity I see is that `.degree()` can return a list of degrees (so that it would be more appropriate to call it `.degrees()`). What about\n- `degree(self, data, subset=None)`: return the degree of a point or a subset (if `None` we assume that there is no amiguity, otherwise it must be set to `True` or `False`).\n- `degrees(self, size=1)`: return the set of degrees of points. If `size` is provided with an integer > 1 then it returns the degrees of subsets of that given size.\n\nVincent",
    "created_at": "2014-12-02T10:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223434",
    "user": "vdelecroix"
}
```

Hello,

I agree with Dima that `set` and `type` should be avoided as argument or variable name.

Concerning the number of functions needed, the only ambiguity I see is that `.degree()` can return a list of degrees (so that it would be more appropriate to call it `.degrees()`). What about
- `degree(self, data, subset=None)`: return the degree of a point or a subset (if `None` we assume that there is no amiguity, otherwise it must be set to `True` or `False`).
- `degrees(self, size=1)`: return the set of degrees of points. If `size` is provided with an integer > 1 then it returns the degrees of subsets of that given size.

Vincent



---

archive/issue_comments_223435.json:
```json
{
    "body": "Replying to [comment:32 ncohen]:\n> > surely subset is better (and please, please do not name variables/parameters set, for Pete's sake...)\n> \n> It is only a problem in your head, not a problem in the code. With two lines everything is solved, and the user interface is clearer as a result.\n> {{{\n> +        S = set\n> +        from __builtin__ import set\n> }}}\n> \n> That's all it takes.\n\nuntil someone decides to change the code, and adds stuff before `S=`...\n\n> \n> > And yes, please get rid of `p=` and of `sets_of_size=`.\n> \n> Too bad, I liked the `sets_of_size` feature.\n> \n> > but, really, it is totally wrong to have 3 mutually exclusive keyword parameters\n> \n> We did almost the same in `PermutationGroup.orbit`. Instead of different flags we had a `action='OnPoints',action='OnSets', ...`. I would not mind having `IncidenceStructure.degree(p,type='set')` or `type='point'` but you would not like it.\n\nThe only reason it is done so in `PermutationGroup.orbit`is that `action` can be user-defined (at least in the underlying GAP code).\n(for the record, there are currently 8 different actions available, and needless\nto say, they all dispatch to the same GAP call in the code).\n\nAnd here, unlike there, run-time checking and dispatching on the type of parameters\nis 100% code bloat.\n\n> \n> > This is not what the keyword parameters are for, they are not poor man substitutes of function names. No, they are not...\n> \n> You seem really bothered by what I do with those parameters. Are you worried that users may find it confusing ?\n\nAs a reviewer, I find it totally wrong design. Many users would be confused, too.",
    "created_at": "2014-12-02T13:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223435",
    "user": "dimpase"
}
```

Replying to [comment:32 ncohen]:
> > surely subset is better (and please, please do not name variables/parameters set, for Pete's sake...)
> 
> It is only a problem in your head, not a problem in the code. With two lines everything is solved, and the user interface is clearer as a result.
> {{{
> +        S = set
> +        from __builtin__ import set
> }}}
> 
> That's all it takes.

until someone decides to change the code, and adds stuff before `S=`...

> 
> > And yes, please get rid of `p=` and of `sets_of_size=`.
> 
> Too bad, I liked the `sets_of_size` feature.
> 
> > but, really, it is totally wrong to have 3 mutually exclusive keyword parameters
> 
> We did almost the same in `PermutationGroup.orbit`. Instead of different flags we had a `action='OnPoints',action='OnSets', ...`. I would not mind having `IncidenceStructure.degree(p,type='set')` or `type='point'` but you would not like it.

The only reason it is done so in `PermutationGroup.orbit`is that `action` can be user-defined (at least in the underlying GAP code).
(for the record, there are currently 8 different actions available, and needless
to say, they all dispatch to the same GAP call in the code).

And here, unlike there, run-time checking and dispatching on the type of parameters
is 100% code bloat.

> 
> > This is not what the keyword parameters are for, they are not poor man substitutes of function names. No, they are not...
> 
> You seem really bothered by what I do with those parameters. Are you worried that users may find it confusing ?

As a reviewer, I find it totally wrong design. Many users would be confused, too.



---

archive/issue_comments_223436.json:
```json
{
    "body": "Vincent:\n\nDoes the new commit suit your taste ?\n\n> As a reviewer, I find it totally wrong design. Many users would be confused, too.\n\nI really believe that `H.degree(set={1,2,3})` is rather self-explaining.\n\nNathann",
    "created_at": "2014-12-03T03:18:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223436",
    "user": "ncohen"
}
```

Vincent:

Does the new commit suit your taste ?

> As a reviewer, I find it totally wrong design. Many users would be confused, too.

I really believe that `H.degree(set={1,2,3})` is rather self-explaining.

Nathann



---

archive/issue_comments_223437.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-12-03T03:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223437",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_223438.json:
```json
{
    "body": "Hi,\n\nThanks for the modification. Looks like almost perfect ;-)\n\nBeyond docs, I added the following change in my commit\n\nPython is cool:\n\n```\nsage: sum([True])\n1\nsage: sum([True,False,False,True,False])\n2\n```\n\nSo instead of `sum(1 for x in X if condition(x))` one can write `sum(condition(x) for x in X)`.\n\nI do not think we care here, but it has incidence\n\n```\nsage: l = [choice([True,False]) for _ in range(10000)]\nsage: %timeit sum(l)\n1000 loops, best of 3: 147 \u00b5s per loop\nsage: %timeit sum(i for i in l)\n1000 loops, best of 3: 497 \u00b5s per loop\nsage: %timeit sum(1 for i in l if i)\n1000 loops, best of 3: 826 \u00b5s per loop\n```\n\n\nI let Dima make more comments but on my side it would be ok to give positive review.\n\nVincent\n----\nNew commits:",
    "created_at": "2014-12-03T11:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223438",
    "user": "vdelecroix"
}
```

Hi,

Thanks for the modification. Looks like almost perfect ;-)

Beyond docs, I added the following change in my commit

Python is cool:

```
sage: sum([True])
1
sage: sum([True,False,False,True,False])
2
```

So instead of `sum(1 for x in X if condition(x))` one can write `sum(condition(x) for x in X)`.

I do not think we care here, but it has incidence

```
sage: l = [choice([True,False]) for _ in range(10000)]
sage: %timeit sum(l)
1000 loops, best of 3: 147 µs per loop
sage: %timeit sum(i for i in l)
1000 loops, best of 3: 497 µs per loop
sage: %timeit sum(1 for i in l if i)
1000 loops, best of 3: 826 µs per loop
```


I let Dima make more comments but on my side it would be ok to give positive review.

Vincent
----
New commits:



---

archive/issue_comments_223439.json:
```json
{
    "body": "Replying to [comment:37 vdelecroix]:\n> Hi,\n> \n> Thanks for the modification. Looks like almost perfect ;-)\n\nindeed. I'll have another look later today, but it looks like it should be OK.",
    "created_at": "2014-12-03T12:36:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223439",
    "user": "dimpase"
}
```

Replying to [comment:37 vdelecroix]:
> Hi,
> 
> Thanks for the modification. Looks like almost perfect ;-)

indeed. I'll have another look later today, but it looks like it should be OK.



---

archive/issue_comments_223440.json:
```json
{
    "body": "> indeed. I'll have another look later today, but it looks like it should be OK.\n\nFine for me ! Dima, you can change the status whenever you are convinced.\n\nNathann",
    "created_at": "2014-12-03T12:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223440",
    "user": "ncohen"
}
```

> indeed. I'll have another look later today, but it looks like it should be OK.

Fine for me ! Dima, you can change the status whenever you are convinced.

Nathann



---

archive/issue_comments_223441.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-03T13:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223441",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_223442.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-12-03T21:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16871",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16871#issuecomment-223442",
    "user": "vbraun"
}
```

Resolution: fixed
