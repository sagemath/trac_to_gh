# Issue 32803: Update matplotlib to 3.5

Issue created by migration from https://trac.sagemath.org/ticket/33040

Original creator: mkoeppe

Original creation time: 2021-12-17 16:56:49

CC:  dimpase fbissey arojas tornaria

Previous update: #31580


---

Comment by mkoeppe created at 2021-12-18 03:52:15

Last 10 new commits:


---

Comment by mkoeppe created at 2021-12-18 03:52:15

Changing status from new to needs_review.


---

Comment by fbissey created at 2021-12-18 03:58:41

According to the gentoo ebuild for 3.5.1 there should be another new runtime dependency https://pypi.org/project/fonttools/ although it may work without it for all I know.


---

Comment by git created at 2021-12-18 20:33:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tornaria created at 2021-12-19 21:38:04

Looks good to me, and it solves the issue with deprecated distutils and python 3.10.


---

Comment by mkoeppe created at 2021-12-19 22:25:33

Changing priority from major to critical.


---

Comment by fbissey created at 2021-12-20 01:25:33

My changes to qhull in #31580 need to be merged here.


---

Comment by git created at 2021-12-20 03:35:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by fbissey created at 2021-12-20 20:26:10

LGTM


---

Comment by fbissey created at 2021-12-20 20:26:10

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-12-20 20:28:34

Thanks!


---

Comment by egourgoulhon created at 2021-12-21 16:25:58

Just to tell that I've tested the update on a few notebooks involving various matplotlib plots, either via Sage graphics or via direct use of matplotlib. Everything is OK. Thanks for the update!


---

Comment by mkoeppe created at 2021-12-21 16:27:48

Thanks for testing!


---

Comment by vbraun created at 2021-12-28 21:15:38

Resolution: fixed


---

Comment by mmezzarobba created at 2022-01-13 10:03:59

New warning after this upgrade (or possibly that toÂ 3.4?):

```
sage: list_plot([0], marker='x')
/home/marc/co/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/plot/point.py:288: UserWarning: You passed a edgecolor/edgecolors ('none') for an unfilled marker ('x').  Matplotlib is ignoring the edgecolor in favor of the facecolor.  This behavior may change in the future.
  subplot.scatter(self.xdata, self.ydata, s=s, c=c, alpha=a, zorder=z,
```

