# Issue 21280: Log of integer to base 1/n can have exact numeric results

Issue created by migration from https://trac.sagemath.org/ticket/21517

Original creator: rws

Original creation time: 2016-09-17 07:04:59

Log of integer to base 1/n can have nonsymbolic results but this is not recognized in `Integer::log()`:

```
sage: ZZ(8).log(1/2)
log(8)/log(1/2)
```

nor in `Integer.exact_log()`:

```
sage: ZZ(8).exact_log(1/2)
...
TypeError: no conversion of this rational to integer
```




---

Comment by rws created at 2016-09-21 15:07:09

Changing status from new to needs_review.


---

Comment by git created at 2016-09-22 06:49:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2016-09-22 13:57:24

I would avoid doing the `exact_log` twice:

```python
        if type(m) == Integer and type(self) == Integer:
             elog = self.exact_log(m):
             if m**elog == self:
                 return elog
```

Similarly for the other one. Otherwise LGTM.


---

Comment by git created at 2016-09-22 15:03:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by rws created at 2016-09-22 15:04:31

Thanks.


---

Comment by rws created at 2016-09-22 15:04:31

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-10-03 17:41:58

Resolution: fixed
