# Issue 11518: fix AES equation systems when star=True

Issue created by migration from Trac.

Original creator: malb

Original creation time: 2011-08-15 17:13:05

Assignee: mvngu

David Montminy reported that polynomial system generation does not properly work with `star=True`, e.g.


```
sage: sr = mq.sr.SR(10,4,4,8,star=True,gf2=True,polybori=True)
sage: F,s = sr.polynomial_system()
sage: F2 = F.subs(s)
```


would result in an inconsistent system! It's quite puzzling that he's the first one to run into (who reports it anyway).


---

Comment by malb created at 2011-08-16 12:55:48

Doctests pass but we need to add a test showing that the bug is indeed fixed. Will do so once my shiny new 4.7.1 is compiled.


---

Comment by malb created at 2011-08-17 12:45:40

Changing status from new to needs_review.


---

Attachment

The updated patch includes new doctests to test whether the bug is fixed.


---

Comment by malb created at 2011-08-17 14:09:38

doctests pass for 4.7.1 on sage.math.


---

Comment by dmont created at 2011-08-17 20:17:42

After applying patch, testing confirmed that sr.polynomial_system() produces the correct system of equations for AES-128.


---

Comment by malb created at 2011-08-17 21:40:31

Hi, can you do a full review?
 * read the patch and check whether it looks good to you, does it solve the problem correctlu?
 * does it add a doctest which shows that the problem is solved.
 * does it apply (you already said yes) and do doctests pass (done mostly automatically these days so don't worry too much about this one)

If you're satisfied, add your name to `Reviewer` and set the 'positive review' flag.


---

Comment by dmont created at 2011-08-18 12:01:39

Changing status from needs_review to positive_review.


---

Comment by dmont created at 2011-08-18 12:01:39

The following checks were performed on version 4.7 in my review:

 * code changes are appropriate and well written
 * verified patch functions as expected
 * test docs on passed on affected file
 * caused no additional failures in sage library doctests
 * documentation built correctly
 * documentation visually inspected
 * full doctest converage confirmed to be 100%


---

Comment by jdemeyer created at 2011-08-22 12:09:31

dmont: you should add your real name as reviewer and it would also be good to add yourself to [http://trac.sagemath.org/sage_trac/#AccountNamesMappedtoRealNames](http://trac.sagemath.org/sage_trac/#AccountNamesMappedtoRealNames).

Martin Albrecht: in the future, it would be better to have the ticket number in the patch filename.


---

Comment by leif created at 2011-09-08 13:34:20

David, Martin, hope that's correct.

The [trac wiki page](http://trac.sagemath.org/sage_trac/#AccountNamesMappedtoRealNames) still lacks an entry for him.


---

Comment by malb created at 2011-09-08 13:36:52

Yes, that's correct.


---

Comment by leif created at 2011-09-12 20:48:17

Resolution: fixed
