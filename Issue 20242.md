# Issue 20242: Correct error in vertex_boundary

Issue created by migration from Trac.

Original creator: dcoudert

Original creation time: 2016-04-21 09:30:56

CC:  jmantysalo vdelecroix

The documentation of `vertex_boundary` says that _If vertices2 is None, then vertices2 is the complement of vertices1_. However this is not the case, as shown in this example.

```
sage: G = graphs.PathGraph(3)
sage: G.vertex_boundary([0,1], vertices2=None)
[0, 1, 2]
sage: G.vertex_boundary([0,1], vertices2=set(G.vertices()).difference([0,1]))
[2]
sage: D = DiGraph(G)
sage: D.vertex_boundary([0,1])
[0, 1, 2]
sage: D.vertex_boundary([0,1], vertices2=set(D.vertices()).difference([0,1]))
[2]
```

This patch solves this issue.


---

Comment by dcoudert created at 2016-04-21 09:56:50

Changing status from new to needs_review.


---

Comment by dcoudert created at 2016-04-21 09:56:50

New commits:


---

Comment by dcoudert created at 2016-04-25 09:45:14

Simple patch that should be easy to review. Thanks.


---

Comment by jmantysalo created at 2016-04-25 13:01:00

References to corrected bugss should be in `TESTS` section.

But more importantly, how this _should_ work? If I understood correctly (have not compiled yet), then this will change current behaviour when `vertices2=None`. This can surprise users.


---

Comment by git created at 2016-04-25 13:21:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2016-04-25 13:26:21

Replying to [comment:3 jmantysalo]:
> References to corrected bugss should be in `TESTS` section.

done

> But more importantly, how this _should_ work? If I understood correctly (have not compiled yet), then this will change current behaviour when `vertices2=None`. This can surprise users.

This is correct. Actually I did this patch because one of my colleague was surprized that the behavior of the method is different than what it claims to be.
Since it has not been reported before, I suspect that very few people are using this method.
I don't know if we have to follow a particular (and long) procedure for such case.


---

Comment by jmantysalo created at 2016-04-25 13:54:26

Replying to [comment:5 dcoudert]:

> Since it has not been reported before, I suspect that very few people are using this method.
> I don't know if we have to follow a particular (and long) procedure for such case.

We have deprecation policy, but it is hard to use in this case. Should we add a note-block? Maybe not.

Thinking more about this... If I ask neighboring states of Finland and Sweden (they are neighbors), I expect the answer to be Norway, Denmark and Russia only. Using that as analogy, I think that this can go on.

I will compile and test this later today.


---

Comment by jmantysalo created at 2016-04-25 15:58:19

Changing status from needs_review to positive_review.


---

Comment by jmantysalo created at 2016-04-25 15:58:19

Tests passed, documentation builds and is OK.


---

Comment by dcoudert created at 2016-04-25 17:04:38

Thank you for the review.
David.


---

Comment by vbraun created at 2016-04-26 12:58:37

Resolution: fixed
