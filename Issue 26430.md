# Issue 26430: setuptools no longer shows compiler commands

Issue created by migration from https://trac.sagemath.org/ticket/26667

Original creator: jdemeyer

Original creation time: 2018-11-09 10:47:26

CC:  embray saraedum

Running

```
touch src/sage/rings/rational.pyx && ./sage -b
```

shows

```
Compiling sage/rings/rational.pyx because it changed.
[1/1] Cythonizing sage/rings/rational.pyx
Executing 1 command (using 1 thread)
[1/1] Time to execute 1 command: 0.51 seconds.
Total time spent compiling C/C++ extensions: 0.57 seconds.
```

Note that the compiler invocation (`gcc ...`) is not shown. This is really annoying for debugging.

Possibly related, I also noticed that `-save-temps` is somehow broken. I wanted to took at the `gcc` command line to see what went wrong, but I couldn't...


---

Comment by jdemeyer created at 2018-11-09 10:54:44

New commits:


---

Comment by jdemeyer created at 2018-11-09 11:03:54

Changing status from new to needs_review.


---

Comment by saraedum created at 2018-11-09 11:29:47

Sorry for that.


---

Comment by saraedum created at 2018-11-09 11:29:47

Changing status from needs_review to positive_review.


---

Comment by embray created at 2018-11-09 12:07:28

Changing status from positive_review to needs_info.


---

Comment by embray created at 2018-11-09 12:07:28

I actually rather like the quieter output.  Couldn't we make this an option?  When _not_ debugging the extra output is not so helpful or necessary.


---

Comment by saraedum created at 2018-11-09 12:10:33

I agree that it's easier to see where the build process is at in the quieter version, and nicer to look at when things work. However, debugging compiler related problems is really hard like this. So, I'd propose to merge this as is, so we can debug again and then improve upon this in a follow-up.


---

Comment by embray created at 2018-11-09 12:34:35

It would be trivial to just add an option.  I'll do it.  "Merging" this isn't going to allow anyone to "debug" anything _right now_ anyways since things get "merged" whenever Volker feels like it (if there were GitHub/GitLab and I could just click "merge" I would agree).


---

Comment by jdemeyer created at 2018-11-13 11:09:21

Too much information is annoying at worst, but missing information is impossible to get after the fact. So when logging, I very much like to err on the side of too much logging.

And an option (with quiet logging by default) is only going to make it more complicated when users ask for help. It's already hard enough to get users send logs, but with Erik's proposal we add an extra hurdle of actually getting the info that we need in the logs.

And I remind that we have the environment variable `SAGE_SILENT_BUILD` if you don't want to see everything on your stdout. That option still keeps the logs on disk intact.


---

Comment by jdemeyer created at 2018-11-13 11:09:42

Changing status from needs_info to needs_review.


---

Comment by vbraun created at 2018-11-18 10:17:43

You can debate what ends up being printed to the terminal, but whatever you do make sure that the compiler invocation is written to install.log...


---

Comment by vbraun created at 2018-11-18 10:17:43

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-11-19 18:01:16

Resolution: fixed
