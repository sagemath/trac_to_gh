# Issue 34047: hardcode that curves have dimension 1

archive/issues_034047.json:
```json
{
    "body": "CC:  @k3w1k0d3r\n\nExample:\n\n```sage\nsage: proof.all(False)\nsage: R.<x> = GF((2^521-1,2))[]\nsage: C = HyperellipticCurve(R.random_element(degree=999))\nsage: %time _ = C.jacobian()\nverbose 0 (3879: multi_polynomial_ideal.py, groebner_basis) Warning: falling back to very slow toy implementation.\nverbose 0 (1082: multi_polynomial_ideal.py, dimension) Warning: falling back to very slow toy implementation.\nCPU times: user 2.67 s, sys: 9.99 ms, total: 2.68 s\nWall time: 2.72 s\n```\n\n\nAll the time is spent on computing the dimension of the curve, and since the base field is not suitable for Singular this is done using Sage's own implementation.\n\nBy definition, curves have dimension one, so this is totally redundant and can be avoided by adding an implementation of `.dimension()` to `Curve_generic` that simply returns `1`.\n\nThis was pointed out here:\n\n  https://github.com/jack4818/Castryck-Decru-SageMath#additional-monkey-patch-for-fixing-the-dimension\n\nWith the patch, there is no more \"toy implementation\" warning and it's fast:\n\n\n```\nCPU times: user 119 \u00b5s, sys: 2 \u00b5s, total: 121 \u00b5s\nWall time: 124 \u00b5s\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/34284\n\n",
    "created_at": "2022-08-05T07:13:45Z",
    "labels": [
        "component: algebraic geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "hardcode that curves have dimension 1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34047",
    "user": "https://github.com/yyyyx4"
}
```
CC:  @k3w1k0d3r

Example:

```sage
sage: proof.all(False)
sage: R.<x> = GF((2^521-1,2))[]
sage: C = HyperellipticCurve(R.random_element(degree=999))
sage: %time _ = C.jacobian()
verbose 0 (3879: multi_polynomial_ideal.py, groebner_basis) Warning: falling back to very slow toy implementation.
verbose 0 (1082: multi_polynomial_ideal.py, dimension) Warning: falling back to very slow toy implementation.
CPU times: user 2.67 s, sys: 9.99 ms, total: 2.68 s
Wall time: 2.72 s
```


All the time is spent on computing the dimension of the curve, and since the base field is not suitable for Singular this is done using Sage's own implementation.

By definition, curves have dimension one, so this is totally redundant and can be avoided by adding an implementation of `.dimension()` to `Curve_generic` that simply returns `1`.

This was pointed out here:

  https://github.com/jack4818/Castryck-Decru-SageMath#additional-monkey-patch-for-fixing-the-dimension

With the patch, there is no more "toy implementation" warning and it's fast:


```
CPU times: user 119 µs, sys: 2 µs, total: 121 µs
Wall time: 124 µs
```


Issue created by migration from https://trac.sagemath.org/ticket/34284





---

archive/issue_comments_482657.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-05T07:21:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34047#issuecomment-482657",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_482658.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-08-06T07:21:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34047#issuecomment-482658",
    "user": "https://github.com/k3w1k0d3r"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_482659.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-08-07T22:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34047#issuecomment-482659",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_030649.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2022-08-07T22:56:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34047",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34047#event-30649"
}
```
