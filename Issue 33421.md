# Issue 33421: Argument type checking in classical_cipher.py is buggy

Issue created by migration from https://trac.sagemath.org/ticket/33658

Original creator: @hoodmane

Original creation time: 2022-04-07 22:19:59

Students often call these functions with strings. This results in an error like "str has no attribute parent":

```py
    336         """
    337         dom = self.domain()  # = plaintext_space = ciphertext_space
--> 338         if not isinstance(M, StringMonoidElement) and M.parent() == dom:
    339             raise TypeError("Argument M (= %s) must be a string in the plaintext/ciphertext space." % M)
    340         from sage.rings.finite_rings.integer_mod import Mod

AttributeError: 'str' object has no attribute 'parent'
```

Note that it almost made it to raising a `TypeError` which would be tidier.


---

Comment by @hoodmane created at 2022-04-07 22:27:54

I get a permission error when trying to push though.


---

Comment by @sheerluck created at 2022-04-08 05:59:47

Replying to [comment:4 gh-hoodmane]:
> I get a permission error when trying to push though.
try `u/gh-hoodmane/classical-ciper-typeerrors`
