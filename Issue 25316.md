# Issue 25316: addition of connected subgraph iterator

Issue created by migration from Trac.

Original creator: dcoudert

Original creation time: 2018-06-11 11:04:50

CC:  vdelecroix pelegm

Add an iterator over the connected subgraphs of a (di)graph. Edge orientation is ignored.


---

Comment by dcoudert created at 2018-06-11 11:08:29

New commits:


---

Comment by dcoudert created at 2018-06-11 11:08:29

Changing status from new to needs_review.


---

Comment by git created at 2018-07-31 17:15:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-07-31 23:10:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-07-31 23:14:06

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by tscrim created at 2018-07-31 23:17:54

I made some reviewer changes, but I did not get values that I was expecting. For instance, I believe there should be at least 1 additional digraph of size 2 for `G = DiGraph([[1,2],[2,1]])` corresponding to just a `1->2` edge (not the 2-cycle). I am assuming that there would be no `2->1` is what you mean by "edge orientations are ignored". For the loop and multiedge cases, there are a number of subgraphs missing as it considers multiple edges to be a single edge. For these cases, I explicitly put these into the tests as expected output.


---

Comment by tscrim created at 2018-07-31 23:17:54

Changing status from needs_review to needs_work.


---

Comment by dcoudert created at 2018-08-01 08:08:55

This algorithm enumerates _induced_ subgraphs. The connectivity here has the same meaning than for `G.is_connected()`.

```
sage: digraphs.Path(3).is_connected()
True
```

What you ask for is, given a (multi)(di)graph of order k, to furthermore enumerate all _spanning_ subgraphs  (= subset of edges corresponding to a connected subgraph of order k), Right ? We need an extra algorithm for that, but I don't have one in mind yet.


---

Comment by tscrim created at 2018-08-01 11:04:07

If this is enumerating induced subgraphs, then this needs to be very documented as the induced part was not mentioned in the ticket description, much less in the doc.

We can get spanning trees (think matroid bases), and then add other edges to these (and keeping track of the subgraphs we've seen). However, this is probably a bit too brute force.


---

Comment by git created at 2018-08-01 11:27:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-08-01 11:34:27

I have documented the fact that the subgraphs are induced. I could also ad it to the name of the method if you think it is better.

For spanning subgraphs, I'm only able to find algorithms for spanning trees (and we have a ticket for that #23115). I'm not sure the problem has been considered yet. We could certainly find a smart algorithm...


---

Comment by dcoudert created at 2018-08-01 11:34:27

Changing status from needs_work to needs_review.


---

Comment by embray created at 2018-08-01 12:36:21

I just happened to be watching my patchbot as it builds this ticket, and the documentation build complained about 


```
[dochtml] OSError: [graphs   ] docstring of sage.graphs.base.static_dense_graph.connected_subgraph_iterator:29: WARNING: Unexpected indentation.
```



---

Comment by embray created at 2018-08-01 12:38:58

I think it should be `EXAMPLES:` -> `EXAMPLES::` in that docstring.


---

Comment by git created at 2018-08-01 12:53:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-08-01 12:53:59

Fixed. Sorry for that.


---

Comment by git created at 2018-08-28 11:17:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-08-28 11:18:33

I rebuild the ticket on top of beta2.


---

Comment by tscrim created at 2018-08-28 23:50:30

Sorry, I lost track of this ticket. So the only comment I currently have is `to_undirected` in the dense graph `__init__` doesn't seem like the correct language as it is not a function. What do you think about `force_undirected` (`undirected` by itself doesn't reflect IMO what the option does)?


---

Comment by git created at 2018-08-29 07:46:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-08-29 07:47:12

I agree with the change of name of the parameter.


---

Comment by tscrim created at 2018-08-29 09:34:46

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-08-29 09:34:46

Thank you. LGTM.


---

Comment by dcoudert created at 2018-08-29 09:35:17

Thank you for the review.


---

Comment by vbraun created at 2018-08-30 22:24:55

Resolution: fixed
