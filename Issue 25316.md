# Issue 25316: addition of connected subgraph iterator

archive/issues_025316.json:
```json
{
    "body": "CC:  vdelecroix pelegm\n\nAdd an iterator over the connected subgraphs of a (di)graph. Edge orientation is ignored.\n\nIssue created by migration from https://trac.sagemath.org/ticket/25553\n\n",
    "created_at": "2018-06-11T11:04:50Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "addition of connected subgraph iterator",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25316",
    "user": "dcoudert"
}
```
CC:  vdelecroix pelegm

Add an iterator over the connected subgraphs of a (di)graph. Edge orientation is ignored.

Issue created by migration from https://trac.sagemath.org/ticket/25553





---

archive/issue_comments_356896.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-06-11T11:08:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356896",
    "user": "dcoudert"
}
```

New commits:



---

archive/issue_comments_356897.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-11T11:08:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356897",
    "user": "dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_356898.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-31T17:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356898",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_356899.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-31T23:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356899",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_356900.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-31T23:14:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356900",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_356901.json:
```json
{
    "body": "I made some reviewer changes, but I did not get values that I was expecting. For instance, I believe there should be at least 1 additional digraph of size 2 for `G = DiGraph([[1,2],[2,1]])` corresponding to just a `1->2` edge (not the 2-cycle). I am assuming that there would be no `2->1` is what you mean by \"edge orientations are ignored\". For the loop and multiedge cases, there are a number of subgraphs missing as it considers multiple edges to be a single edge. For these cases, I explicitly put these into the tests as expected output.",
    "created_at": "2018-07-31T23:17:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356901",
    "user": "tscrim"
}
```

I made some reviewer changes, but I did not get values that I was expecting. For instance, I believe there should be at least 1 additional digraph of size 2 for `G = DiGraph([[1,2],[2,1]])` corresponding to just a `1->2` edge (not the 2-cycle). I am assuming that there would be no `2->1` is what you mean by "edge orientations are ignored". For the loop and multiedge cases, there are a number of subgraphs missing as it considers multiple edges to be a single edge. For these cases, I explicitly put these into the tests as expected output.



---

archive/issue_comments_356902.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-31T23:17:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356902",
    "user": "tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_356903.json:
```json
{
    "body": "This algorithm enumerates *induced* subgraphs. The connectivity here has the same meaning than for `G.is_connected()`.\n\n```\nsage: digraphs.Path(3).is_connected()\nTrue\n```\n\nWhat you ask for is, given a (multi)(di)graph of order k, to furthermore enumerate all *spanning* subgraphs  (= subset of edges corresponding to a connected subgraph of order k), Right ? We need an extra algorithm for that, but I don't have one in mind yet.",
    "created_at": "2018-08-01T08:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356903",
    "user": "dcoudert"
}
```

This algorithm enumerates *induced* subgraphs. The connectivity here has the same meaning than for `G.is_connected()`.

```
sage: digraphs.Path(3).is_connected()
True
```

What you ask for is, given a (multi)(di)graph of order k, to furthermore enumerate all *spanning* subgraphs  (= subset of edges corresponding to a connected subgraph of order k), Right ? We need an extra algorithm for that, but I don't have one in mind yet.



---

archive/issue_comments_356904.json:
```json
{
    "body": "If this is enumerating induced subgraphs, then this needs to be very documented as the induced part was not mentioned in the ticket description, much less in the doc.\n\nWe can get spanning trees (think matroid bases), and then add other edges to these (and keeping track of the subgraphs we've seen). However, this is probably a bit too brute force.",
    "created_at": "2018-08-01T11:04:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356904",
    "user": "tscrim"
}
```

If this is enumerating induced subgraphs, then this needs to be very documented as the induced part was not mentioned in the ticket description, much less in the doc.

We can get spanning trees (think matroid bases), and then add other edges to these (and keeping track of the subgraphs we've seen). However, this is probably a bit too brute force.



---

archive/issue_comments_356905.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-01T11:27:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356905",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_356906.json:
```json
{
    "body": "I have documented the fact that the subgraphs are induced. I could also ad it to the name of the method if you think it is better.\n\nFor spanning subgraphs, I'm only able to find algorithms for spanning trees (and we have a ticket for that #23115). I'm not sure the problem has been considered yet. We could certainly find a smart algorithm...",
    "created_at": "2018-08-01T11:34:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356906",
    "user": "dcoudert"
}
```

I have documented the fact that the subgraphs are induced. I could also ad it to the name of the method if you think it is better.

For spanning subgraphs, I'm only able to find algorithms for spanning trees (and we have a ticket for that #23115). I'm not sure the problem has been considered yet. We could certainly find a smart algorithm...



---

archive/issue_comments_356907.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-08-01T11:34:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356907",
    "user": "dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_356908.json:
```json
{
    "body": "I just happened to be watching my patchbot as it builds this ticket, and the documentation build complained about \n\n\n```\n[dochtml] OSError: [graphs   ] docstring of sage.graphs.base.static_dense_graph.connected_subgraph_iterator:29: WARNING: Unexpected indentation.\n```\n",
    "created_at": "2018-08-01T12:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356908",
    "user": "embray"
}
```

I just happened to be watching my patchbot as it builds this ticket, and the documentation build complained about 


```
[dochtml] OSError: [graphs   ] docstring of sage.graphs.base.static_dense_graph.connected_subgraph_iterator:29: WARNING: Unexpected indentation.
```




---

archive/issue_comments_356909.json:
```json
{
    "body": "I think it should be `EXAMPLES:` -> `EXAMPLES::` in that docstring.",
    "created_at": "2018-08-01T12:38:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356909",
    "user": "embray"
}
```

I think it should be `EXAMPLES:` -> `EXAMPLES::` in that docstring.



---

archive/issue_comments_356910.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-01T12:53:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356910",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_356911.json:
```json
{
    "body": "Fixed. Sorry for that.",
    "created_at": "2018-08-01T12:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356911",
    "user": "dcoudert"
}
```

Fixed. Sorry for that.



---

archive/issue_comments_356912.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-28T11:17:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356912",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_356913.json:
```json
{
    "body": "I rebuild the ticket on top of beta2.",
    "created_at": "2018-08-28T11:18:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356913",
    "user": "dcoudert"
}
```

I rebuild the ticket on top of beta2.



---

archive/issue_comments_356914.json:
```json
{
    "body": "Sorry, I lost track of this ticket. So the only comment I currently have is `to_undirected` in the dense graph `__init__` doesn't seem like the correct language as it is not a function. What do you think about `force_undirected` (`undirected` by itself doesn't reflect IMO what the option does)?",
    "created_at": "2018-08-28T23:50:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356914",
    "user": "tscrim"
}
```

Sorry, I lost track of this ticket. So the only comment I currently have is `to_undirected` in the dense graph `__init__` doesn't seem like the correct language as it is not a function. What do you think about `force_undirected` (`undirected` by itself doesn't reflect IMO what the option does)?



---

archive/issue_comments_356915.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-29T07:46:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356915",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_356916.json:
```json
{
    "body": "I agree with the change of name of the parameter.",
    "created_at": "2018-08-29T07:47:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356916",
    "user": "dcoudert"
}
```

I agree with the change of name of the parameter.



---

archive/issue_comments_356917.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-08-29T09:34:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356917",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_356918.json:
```json
{
    "body": "Thank you. LGTM.",
    "created_at": "2018-08-29T09:34:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356918",
    "user": "tscrim"
}
```

Thank you. LGTM.



---

archive/issue_comments_356919.json:
```json
{
    "body": "Thank you for the review.",
    "created_at": "2018-08-29T09:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356919",
    "user": "dcoudert"
}
```

Thank you for the review.



---

archive/issue_comments_356920.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-08-30T22:24:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25316",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25316#issuecomment-356920",
    "user": "vbraun"
}
```

Resolution: fixed
