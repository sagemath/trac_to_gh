# Issue 23961: sage --notebook=export does not start

Issue created by migration from Trac.

Original creator: egourgoulhon

Original creation time: 2017-11-11 13:27:29

CC:  jdemeyer fbissey

In Sage 8.1.rc0, the command `sage --notebook=export` (default for `sage --notebook`) fails with

```
[C 14:16:56.066 NotebookApp] Bad config encountered during initialization:
[C 14:16:56.066 NotebookApp] The 'nbserver_extensions' trait of a NotebookApp instance must be a dict, but a value of type 'list' (i.e. ['sagenb_export.nbextension']) was specified.
```

Both `sage --notebook=jupyter` and `sage --notebook=sagenb` are OK though. 

This is on Ubuntu 16.04 and ahs been reported at 
https://groups.google.com/d/msg/sage-release/7-eKF-xN0p0/z3T5zeMhAQAJ

NB: everything is OK with Sage 8.1.beta8, so the issue is most certainly due to a change introduced in Sage 8.1.beta9 or 8.1.rc0.


---

Comment by egourgoulhon created at 2017-11-11 13:28:47

Log of "sage --notebook" command


---

Attachment


---

Comment by egourgoulhon created at 2017-11-11 23:42:04

It seems that the issue is related to #24064, which has been merged in Sage 8.1.beta9: in the discussion of that ticket, there is mention of `nbserver_extensions`, which appears in the error message.


---

Comment by jdemeyer created at 2017-11-13 13:14:23

Sorry for messing this up...

I usually run `./sage -n jupyter`, so that is why I did not notice this.


---

Comment by jdemeyer created at 2017-11-13 13:17:20

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2017-11-13 13:17:20

The new format is a dict `{module: enabled}`.
----
New commits:


---

Comment by egourgoulhon created at 2017-11-13 13:33:57

Thanks for the fix! (I've just checked it on my computer).


---

Comment by egourgoulhon created at 2017-11-13 13:33:57

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-11-15 01:24:20

Resolution: fixed
