# Issue 27961: Add method is_bipartite to BipartiteGraph

archive/issues_027961.json:
```json
{
    "body": "A member of class `BipartiteGraph` is obviously bipartite, so we can avoid to test it.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28198\n\n",
    "created_at": "2019-07-14T19:54:07Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Add method is_bipartite to BipartiteGraph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27961",
    "user": "https://github.com/dcoudert"
}
```
A member of class `BipartiteGraph` is obviously bipartite, so we can avoid to test it.

Issue created by migration from https://trac.sagemath.org/ticket/28198





---

archive/issue_comments_394617.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-14T19:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394617",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_394618.json:
```json
{
    "body": "If you have in mind a smarter way to handle initialization, please share it. The branch is in public, so you can implement it directly.\n----\nNew commits:",
    "created_at": "2019-07-14T19:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394618",
    "user": "https://github.com/dcoudert"
}
```

If you have in mind a smarter way to handle initialization, please share it. The branch is in public, so you can implement it directly.
----
New commits:



---

archive/issue_comments_394619.json:
```json
{
    "body": "Insteed of having a weird and mostly useless special case\n\n```\n+        if not hasattr(self, 'left') or not hasattr(self, 'right'):\n+            # This case may occur during the initialization (i.e., in __init__)\n+            return GenericGraph.is_bipartite(self, certificate=certificate)\n```\n\nWhy don't you call `GenericGraph.is_bipartite(self)` in `__init__` instead of `self.is_bipartite()?",
    "created_at": "2019-07-17T11:20:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394619",
    "user": "https://github.com/videlec"
}
```

Insteed of having a weird and mostly useless special case

```
+        if not hasattr(self, 'left') or not hasattr(self, 'right'):
+            # This case may occur during the initialization (i.e., in __init__)
+            return GenericGraph.is_bipartite(self, certificate=certificate)
```

Why don't you call `GenericGraph.is_bipartite(self)` in `__init__` instead of `self.is_bipartite()?



---

archive/issue_comments_394620.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-17T11:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394620",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394621.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-17T12:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394621",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394622.json:
```json
{
    "body": "I agree with your improvement. I did a small correction to avoid this issue\n\n```\nsage: a = b = set()\nsage: a.add(1)\nsage: b\n{1}\n```\n\n\nFor me this ticket is good to go. I let you conclude. Thank you.",
    "created_at": "2019-07-17T12:53:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394622",
    "user": "https://github.com/dcoudert"
}
```

I agree with your improvement. I did a small correction to avoid this issue

```
sage: a = b = set()
sage: a.add(1)
sage: b
{1}
```


For me this ticket is good to go. I let you conclude. Thank you.



---

archive/issue_comments_394623.json:
```json
{
    "body": "- I don't like so much the duplication in the `BipartiteGraph.__init__`.\n- The `sets_from_colors` would be more natural if it would return `ans` instead of `ans.values()`. That is it would transform a dictionary `k -> v` in `v -> {keys with that values}`.\n\nIs that ok if I try something to fix these.",
    "created_at": "2019-07-17T13:28:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394623",
    "user": "https://github.com/videlec"
}
```

- I don't like so much the duplication in the `BipartiteGraph.__init__`.
- The `sets_from_colors` would be more natural if it would return `ans` instead of `ans.values()`. That is it would transform a dictionary `k -> v` in `v -> {keys with that values}`.

Is that ok if I try something to fix these.



---

archive/issue_comments_394624.json:
```json
{
    "body": "Sure, the branch is in public so that we can interact (and I'm not the author of the commit \"proposition of simplification for 28198\")",
    "created_at": "2019-07-17T13:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394624",
    "user": "https://github.com/dcoudert"
}
```

Sure, the branch is in public so that we can interact (and I'm not the author of the commit "proposition of simplification for 28198")



---

archive/issue_comments_394625.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-17T14:02:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394625",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394626.json:
```json
{
    "body": "I like it better now :-)",
    "created_at": "2019-07-17T14:04:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394626",
    "user": "https://github.com/videlec"
}
```

I like it better now :-)



---

archive/issue_comments_394627.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-17T14:26:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394627",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394628.json:
```json
{
    "body": "we can simplify more putting the content of `sets_from_colors` inside `_upgrade_from_graph`, no ?",
    "created_at": "2019-07-17T14:54:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394628",
    "user": "https://github.com/dcoudert"
}
```

we can simplify more putting the content of `sets_from_colors` inside `_upgrade_from_graph`, no ?



---

archive/issue_comments_394629.json:
```json
{
    "body": "make sense",
    "created_at": "2019-07-17T16:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394629",
    "user": "https://github.com/videlec"
}
```

make sense



---

archive/issue_comments_394630.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-17T16:28:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394630",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394631.json:
```json
{
    "body": "Should be good now.",
    "created_at": "2019-07-17T16:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394631",
    "user": "https://github.com/dcoudert"
}
```

Should be good now.



---

archive/issue_comments_394632.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-17T17:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394632",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_394633.json:
```json
{
    "body": "good for me at least",
    "created_at": "2019-07-17T17:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394633",
    "user": "https://github.com/videlec"
}
```

good for me at least



---

archive/issue_comments_394634.json:
```json
{
    "body": "Thank you.",
    "created_at": "2019-07-17T18:15:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394634",
    "user": "https://github.com/dcoudert"
}
```

Thank you.



---

archive/issue_events_025939.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2019-07-23T21:04:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27961#event-25939"
}
```



---

archive/issue_comments_394635.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-07-23T21:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27961#issuecomment-394635",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
