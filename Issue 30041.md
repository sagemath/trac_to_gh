# Issue 30041: TensorFreeModule should not have a coercion from its quotients, ExtPowerFreeModule/ExtPowerDualFreeModule

archive/issues_030041.json:
```json
{
    "body": "CC:  @tscrim @egourgoulhon @mjungmath\n\nThis coercion is going in the wrong direction and seems quite dangerous.\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/30278\n\n",
    "created_at": "2020-08-03T05:18:57Z",
    "labels": [
        "component: linear algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "TensorFreeModule should not have a coercion from its quotients, ExtPowerFreeModule/ExtPowerDualFreeModule",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30041",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @tscrim @egourgoulhon @mjungmath

This coercion is going in the wrong direction and seems quite dangerous.



Issue created by migration from https://trac.sagemath.org/ticket/30278





---

archive/issue_comments_426533.json:
```json
{
    "body": "What do you mean by \"this coercion is going in the wrong direction\"?\nIt seems to me that the direction is correct. For instance, we have\n\n```\nsage: M = FiniteRankFreeModule(ZZ, 2, name='M')\nsage: T = M.tensor_module(2, 0)\nsage: A = M.exterior_power(2)\nsage: T.has_coerce_map_from(A)\nTrue\nsage: A.has_coerce_map_from(T)\nFalse\n```\nThis is correct because any element of `A` is a tensor of type (2,0) (and the identification is canonical), whereas the reverse is not true.",
    "created_at": "2020-08-03T08:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426533",
    "user": "https://github.com/egourgoulhon"
}
```

What do you mean by "this coercion is going in the wrong direction"?
It seems to me that the direction is correct. For instance, we have

```
sage: M = FiniteRankFreeModule(ZZ, 2, name='M')
sage: T = M.tensor_module(2, 0)
sage: A = M.exterior_power(2)
sage: T.has_coerce_map_from(A)
True
sage: A.has_coerce_map_from(T)
False
```
This is correct because any element of `A` is a tensor of type (2,0) (and the identification is canonical), whereas the reverse is not true.



---

archive/issue_comments_426534.json:
```json
{
    "body": "Compare with:\n\n```\nsage: ZZ.has_coerce_map_from(Z5)\nFalse\nsage: Z5.has_coerce_map_from(ZZ)\nTrue\n\nsage: QQ.has_coerce_map_from(QQ/ZZ)\nFalse\nsage: (QQ/ZZ).has_coerce_map_from(QQ)\nTrue\n```",
    "created_at": "2020-08-03T10:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426534",
    "user": "https://github.com/mkoeppe"
}
```

Compare with:

```
sage: ZZ.has_coerce_map_from(Z5)
False
sage: Z5.has_coerce_map_from(ZZ)
True

sage: QQ.has_coerce_map_from(QQ/ZZ)
False
sage: (QQ/ZZ).has_coerce_map_from(QQ)
True
```



---

archive/issue_comments_426535.json:
```json
{
    "body": "Replying to [comment:2 mkoeppe]:\n> Compare with:\n> \n> ```\n> sage: ZZ.has_coerce_map_from(Z5)\n> False\n> sage: Z5.has_coerce_map_from(ZZ)\n> True\n> \n> sage: QQ.has_coerce_map_from(QQ/ZZ)\n> False\n> sage: (QQ/ZZ).has_coerce_map_from(QQ)\n> True\n> ```\n\n\nThe coercion direction is clear from the quotient view point, but the opposite direction is also clear from the \"tensor with symmetries\" view point. IMHO, this is the latter that we need for tensor calculus: when we do `a + t`, with `a` in `A` and `t` in `T` (notations from comment:1), we want the result to be in `T` with a prior coercion of `a` to an element of `T`.",
    "created_at": "2020-08-03T10:24:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426535",
    "user": "https://github.com/egourgoulhon"
}
```

Replying to [comment:2 mkoeppe]:
> Compare with:
> 
> ```
> sage: ZZ.has_coerce_map_from(Z5)
> False
> sage: Z5.has_coerce_map_from(ZZ)
> True
> 
> sage: QQ.has_coerce_map_from(QQ/ZZ)
> False
> sage: (QQ/ZZ).has_coerce_map_from(QQ)
> True
> ```


The coercion direction is clear from the quotient view point, but the opposite direction is also clear from the "tensor with symmetries" view point. IMHO, this is the latter that we need for tensor calculus: when we do `a + t`, with `a` in `A` and `t` in `T` (notations from comment:1), we want the result to be in `T` with a prior coercion of `a` to an element of `T`.



---

archive/issue_comments_426536.json:
```json
{
    "body": "Replying to [comment:3 egourgoulhon]:\n> Replying to [comment:2 mkoeppe]:\n> > Compare with:\n> > \n> > ```\n> > sage: ZZ.has_coerce_map_from(Z5)\n> > False\n> > sage: Z5.has_coerce_map_from(ZZ)\n> > True\n> > \n> > sage: QQ.has_coerce_map_from(QQ/ZZ)\n> > False\n> > sage: (QQ/ZZ).has_coerce_map_from(QQ)\n> > True\n> > ```\n\n> \n> The coercion direction is clear from the quotient view point, but the opposite direction is also clear from the \"tensor with symmetries\" view point. IMHO, this is the latter that we need for tensor calculus: when we do `a + t`, with `a` in `A` and `t` in `T` (notations from comment:1), we want the result to be in `T` with a prior coercion of `a` to an element of `T`. \n\n\nPrecisely. That is exactly what I was going to point out as well; but you were faster. :)\n\nThere is a canonical isomorphism between anti-symmetric tensors of rank `(k,0)` and the exterior algebra.\n\nI also vote to keep the current behavior, with the same argument you gave above.",
    "created_at": "2020-08-03T10:31:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426536",
    "user": "https://github.com/mjungmath"
}
```

Replying to [comment:3 egourgoulhon]:
> Replying to [comment:2 mkoeppe]:
> > Compare with:
> > 
> > ```
> > sage: ZZ.has_coerce_map_from(Z5)
> > False
> > sage: Z5.has_coerce_map_from(ZZ)
> > True
> > 
> > sage: QQ.has_coerce_map_from(QQ/ZZ)
> > False
> > sage: (QQ/ZZ).has_coerce_map_from(QQ)
> > True
> > ```

> 
> The coercion direction is clear from the quotient view point, but the opposite direction is also clear from the "tensor with symmetries" view point. IMHO, this is the latter that we need for tensor calculus: when we do `a + t`, with `a` in `A` and `t` in `T` (notations from comment:1), we want the result to be in `T` with a prior coercion of `a` to an element of `T`. 


Precisely. That is exactly what I was going to point out as well; but you were faster. :)

There is a canonical isomorphism between anti-symmetric tensors of rank `(k,0)` and the exterior algebra.

I also vote to keep the current behavior, with the same argument you gave above.



---

archive/issue_comments_426537.json:
```json
{
    "body": "Being canonical is a necessary condition for a coerce map, but not a sufficient one.\n\nIn #30242 (unfinished), this canonical injection from the exterior module to the tensor module is made available as the \"lift\" map. But it should not be a coercion.",
    "created_at": "2020-08-03T10:57:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426537",
    "user": "https://github.com/mkoeppe"
}
```

Being canonical is a necessary condition for a coerce map, but not a sufficient one.

In #30242 (unfinished), this canonical injection from the exterior module to the tensor module is made available as the "lift" map. But it should not be a coercion.



---

archive/issue_comments_426538.json:
```json
{
    "body": "Replying to [comment:5 mkoeppe]:\n> ...But it should not be a coercion.\n\n\nWhy not?\n\nI cannot see any practical use for such a coercion. The current coercion, on the other hand, is needed to perform tensor calculus. This is what the whole piece of software is about.\n\nFurthermore, removing the current coercion could corrupt many notebooks which have already been written with SageManifolds.",
    "created_at": "2020-08-03T11:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426538",
    "user": "https://github.com/mjungmath"
}
```

Replying to [comment:5 mkoeppe]:
> ...But it should not be a coercion.


Why not?

I cannot see any practical use for such a coercion. The current coercion, on the other hand, is needed to perform tensor calculus. This is what the whole piece of software is about.

Furthermore, removing the current coercion could corrupt many notebooks which have already been written with SageManifolds.



---

archive/issue_comments_426539.json:
```json
{
    "body": "Replying to [comment:3 egourgoulhon]:\n> [...] we need for tensor calculus: when we do `a + t`, with `a` in `A` and `t` in `T` (notations from comment:1), we want the result to be in `T` with a prior coercion of `a` to an element of `T`. \n\n\nCould you point me to a good example where you need this coercion, and where it would not be practical to use the lift map from A to T explicitly? This would be very helpful.\n\nThere is nothing really in the doctests of sage manifolds that needs these coercions. Indeed, if I disable these coercions, almost all tests pass.\n\n```diff\ndiff --git a/src/sage/manifolds/differentiable/tensorfield_module.py b/src/sage/manifolds/differentiable/tensorfield_module.py\nindex fff3fac10b..4cf940a28b 100644\n--- a/src/sage/manifolds/differentiable/tensorfield_module.py\n+++ b/src/sage/manifolds/differentiable/tensorfield_module.py\n@@ -448,14 +448,6 @@ class TensorFieldModule(UniqueRepresentation, Parent):\n             return (self._tensor_type == other._tensor_type\n                     and self._domain.is_subset(other._domain)\n                     and self._ambient_domain.is_subset(other._ambient_domain))\n-        if isinstance(other, DiffFormModule):\n-            # coercion of p-forms to type-(0,p) tensor fields\n-            return (self._vmodule is other.base_module()\n-                    and self._tensor_type == (0, other.degree()))\n-        if isinstance(other, MultivectorModule):\n-            # coercion of p-vector fields to type-(p,0) tensor fields\n-            return (self._vmodule is other.base_module()\n-                    and self._tensor_type == (other.degree(),0))\n         if isinstance(other, AutomorphismFieldGroup):\n             # coercion of automorphism fields to type-(1,1) tensor fields\n             return (self._vmodule is other.base_module()\ndiff --git a/src/sage/tensor/modules/tensor_free_module.py b/src/sage/tensor/modules/tensor_free_module.py\nindex 9285cbc0de..9886c90062 100644\n--- a/src/sage/tensor/modules/tensor_free_module.py\n+++ b/src/sage/tensor/modules/tensor_free_module.py\n@@ -617,15 +617,6 @@ class TensorFreeModule(FiniteRankFreeModule):\n                                          self._fmodule is other.domain()\n             else:\n                 return False\n-        if isinstance(other, ExtPowerFreeModule):\n-            # Coercion of an alternating contravariant tensor to a\n-            # type-(p,0) tensor:\n-            return self._tensor_type == (other.degree(), 0) and \\\n-                                    self._fmodule is other.base_module()\n-        if isinstance(other, ExtPowerDualFreeModule):\n-            # Coercion of an alternating form to a type-(0,p) tensor:\n-            return self._tensor_type == (0, other.degree()) and \\\n-                                    self._fmodule is other.base_module()\n         if isinstance(other, FreeModuleLinearGroup):\n             # Coercion of an automorphism to a type-(1,1) tensor:\n             return self._tensor_type == (1,1) and \\\n```",
    "created_at": "2020-08-03T12:04:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426539",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:3 egourgoulhon]:
> [...] we need for tensor calculus: when we do `a + t`, with `a` in `A` and `t` in `T` (notations from comment:1), we want the result to be in `T` with a prior coercion of `a` to an element of `T`. 


Could you point me to a good example where you need this coercion, and where it would not be practical to use the lift map from A to T explicitly? This would be very helpful.

There is nothing really in the doctests of sage manifolds that needs these coercions. Indeed, if I disable these coercions, almost all tests pass.

```diff
diff --git a/src/sage/manifolds/differentiable/tensorfield_module.py b/src/sage/manifolds/differentiable/tensorfield_module.py
index fff3fac10b..4cf940a28b 100644
--- a/src/sage/manifolds/differentiable/tensorfield_module.py
+++ b/src/sage/manifolds/differentiable/tensorfield_module.py
@@ -448,14 +448,6 @@ class TensorFieldModule(UniqueRepresentation, Parent):
             return (self._tensor_type == other._tensor_type
                     and self._domain.is_subset(other._domain)
                     and self._ambient_domain.is_subset(other._ambient_domain))
-        if isinstance(other, DiffFormModule):
-            # coercion of p-forms to type-(0,p) tensor fields
-            return (self._vmodule is other.base_module()
-                    and self._tensor_type == (0, other.degree()))
-        if isinstance(other, MultivectorModule):
-            # coercion of p-vector fields to type-(p,0) tensor fields
-            return (self._vmodule is other.base_module()
-                    and self._tensor_type == (other.degree(),0))
         if isinstance(other, AutomorphismFieldGroup):
             # coercion of automorphism fields to type-(1,1) tensor fields
             return (self._vmodule is other.base_module()
diff --git a/src/sage/tensor/modules/tensor_free_module.py b/src/sage/tensor/modules/tensor_free_module.py
index 9285cbc0de..9886c90062 100644
--- a/src/sage/tensor/modules/tensor_free_module.py
+++ b/src/sage/tensor/modules/tensor_free_module.py
@@ -617,15 +617,6 @@ class TensorFreeModule(FiniteRankFreeModule):
                                          self._fmodule is other.domain()
             else:
                 return False
-        if isinstance(other, ExtPowerFreeModule):
-            # Coercion of an alternating contravariant tensor to a
-            # type-(p,0) tensor:
-            return self._tensor_type == (other.degree(), 0) and \
-                                    self._fmodule is other.base_module()
-        if isinstance(other, ExtPowerDualFreeModule):
-            # Coercion of an alternating form to a type-(0,p) tensor:
-            return self._tensor_type == (0, other.degree()) and \
-                                    self._fmodule is other.base_module()
         if isinstance(other, FreeModuleLinearGroup):
             # Coercion of an automorphism to a type-(1,1) tensor:
             return self._tensor_type == (1,1) and \
```



---

archive/issue_comments_426540.json:
```json
{
    "body": "Replying to [comment:6 gh-mjungmath]:\n> Replying to [comment:5 mkoeppe]:\n> > ...But it should not be a coercion.\n\n> \n> Why not?\n\n\nBasically, because not everything that we call \"canonical\" is actually canonical in a technical sense. The map from T to the quotient A is actually canonical. \"The\" lift map from A to T is not -- we are merely picking a preferred choice.",
    "created_at": "2020-08-03T12:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426540",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:6 gh-mjungmath]:
> Replying to [comment:5 mkoeppe]:
> > ...But it should not be a coercion.

> 
> Why not?


Basically, because not everything that we call "canonical" is actually canonical in a technical sense. The map from T to the quotient A is actually canonical. "The" lift map from A to T is not -- we are merely picking a preferred choice.



---

archive/issue_comments_426541.json:
```json
{
    "body": "What would happen if one implements both directions, i.e. both coercions? Would that be possible?",
    "created_at": "2020-08-03T12:17:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426541",
    "user": "https://github.com/mjungmath"
}
```

What would happen if one implements both directions, i.e. both coercions? Would that be possible?



---

archive/issue_comments_426542.json:
```json
{
    "body": "I would think that this is dangerous because the composition antisymmetrizes.",
    "created_at": "2020-08-03T12:21:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426542",
    "user": "https://github.com/mkoeppe"
}
```

I would think that this is dangerous because the composition antisymmetrizes.



---

archive/issue_comments_426543.json:
```json
{
    "body": "I just found a good discussion of the two viewpoints of `ExtPower` as a quotient space vs. as a subspace (which I was not familiar with) in https://kconrad.math.uconn.edu/blurbs/linmultialg/extmod.pdf, page 12/13.",
    "created_at": "2020-08-03T12:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426543",
    "user": "https://github.com/mkoeppe"
}
```

I just found a good discussion of the two viewpoints of `ExtPower` as a quotient space vs. as a subspace (which I was not familiar with) in https://kconrad.math.uconn.edu/blurbs/linmultialg/extmod.pdf, page 12/13.



---

archive/issue_comments_426544.json:
```json
{
    "body": "Replying to [comment:10 mkoeppe]:\n> I would think that this is dangerous because the composition antisymmetrizes.\n\n\nWhere's the problem in that?\n\nHowever, due to my [comment:7](https://trac.sagemath.org/ticket/30095#comment:7) in #30095, the aforementioned map is not necessarily an isomorphism if the field characteristic is not zero. Usually it is given, but we also allow other fields/rings as base. Hence, I tend to agree with you, Matthias.\n\nAnyway, it would be good to keep the from Eric mentioned behavior `a+T` in case of characteristic zero. Is there a compromise, we can go?\n\nBy the way: not having a doctest doesn't mean that it is not used in practice, I'd say. Imho, the documention is in general very sparse, even though the manifolds extension has a comparatively comprehensive documentation.",
    "created_at": "2020-08-03T12:32:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426544",
    "user": "https://github.com/mjungmath"
}
```

Replying to [comment:10 mkoeppe]:
> I would think that this is dangerous because the composition antisymmetrizes.


Where's the problem in that?

However, due to my [comment:7](https://trac.sagemath.org/ticket/30095#comment:7) in #30095, the aforementioned map is not necessarily an isomorphism if the field characteristic is not zero. Usually it is given, but we also allow other fields/rings as base. Hence, I tend to agree with you, Matthias.

Anyway, it would be good to keep the from Eric mentioned behavior `a+T` in case of characteristic zero. Is there a compromise, we can go?

By the way: not having a doctest doesn't mean that it is not used in practice, I'd say. Imho, the documention is in general very sparse, even though the manifolds extension has a comparatively comprehensive documentation.



---

archive/issue_comments_426545.json:
```json
{
    "body": "Replying to [comment:11 mkoeppe]:\n> I just found a good discussion of the two viewpoints of `ExtPower` as a quotient space vs. as a subspace (which I was not familiar with) in https://kconrad.math.uconn.edu/blurbs/linmultialg/extmod.pdf, page 12/13.\n\n\nThank you. This is more trustworthy than my reference to Wikipedia. On top, it is very good explained.",
    "created_at": "2020-08-03T13:43:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426545",
    "user": "https://github.com/mjungmath"
}
```

Replying to [comment:11 mkoeppe]:
> I just found a good discussion of the two viewpoints of `ExtPower` as a quotient space vs. as a subspace (which I was not familiar with) in https://kconrad.math.uconn.edu/blurbs/linmultialg/extmod.pdf, page 12/13.


Thank you. This is more trustworthy than my reference to Wikipedia. On top, it is very good explained.



---

archive/issue_comments_426546.json:
```json
{
    "body": "**Suggestion:** What about just renaming `ExtPowerFreeModule` into something like `AltContrTensorFreeModule`, and keep the coercion as it is.\n\nIn a next step, we create the class `ExtPowerFreeModule` which behaves similar to quotients of polynomial rings. Namely, applying a tensor to `ExtPowerFreeModule` (i.e. reducing w.r.t. the ideal `<x*x>`) yields an element of `AltContrTensorFreeModule`. In that class, we can include all the things we need for a quotient such as a method lift and the coercion from tensor fields to the exterior algebra given by this quotient.\n\nJust as a rough idea. This would make everyone happy and is mathematical rigorous.\n\n**Edit:** Sorry. Wasn't such a good idea. I don't think that is what we want.\n\nI think there should be no problem in implementing a coercion from `FreeModuleTensor` to `ExtPowerFreeModule` (given by the quotient) **and** a coercion from `ExtPowerFreeModule` to `FreeModuleTensor` (given by `1/k! \u03b1_(k,V)` in case of zero field characteristic).",
    "created_at": "2020-08-03T16:04:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426546",
    "user": "https://github.com/mjungmath"
}
```

**Suggestion:** What about just renaming `ExtPowerFreeModule` into something like `AltContrTensorFreeModule`, and keep the coercion as it is.

In a next step, we create the class `ExtPowerFreeModule` which behaves similar to quotients of polynomial rings. Namely, applying a tensor to `ExtPowerFreeModule` (i.e. reducing w.r.t. the ideal `<x*x>`) yields an element of `AltContrTensorFreeModule`. In that class, we can include all the things we need for a quotient such as a method lift and the coercion from tensor fields to the exterior algebra given by this quotient.

Just as a rough idea. This would make everyone happy and is mathematical rigorous.

**Edit:** Sorry. Wasn't such a good idea. I don't think that is what we want.

I think there should be no problem in implementing a coercion from `FreeModuleTensor` to `ExtPowerFreeModule` (given by the quotient) **and** a coercion from `ExtPowerFreeModule` to `FreeModuleTensor` (given by `1/k! α_(k,V)` in case of zero field characteristic).



---

archive/issue_comments_426547.json:
```json
{
    "body": "Replying to [comment:11 mkoeppe]:\n> I just found a good discussion of the two viewpoints of `ExtPower` as a quotient space vs. as a subspace (which I was not familiar with) in https://kconrad.math.uconn.edu/blurbs/linmultialg/extmod.pdf, page 12/13.\n\n\nIndeed, in page 12 of this reference, we can read: *It means we can think of \u039b<sup>k</sup> (V ) as a subspace of the tensor power V<sup>\u2297k</sup> instead of as a quotient space. This viewpoint is widely used in differential geometry.* This is of course the differential geometry viewpoint that I took when introducing `ExtPowerFreeModule`. It is also written: ''That is fine for real and complex\nvector spaces (as in differential geometry), but it is not a universal method.''",
    "created_at": "2020-08-03T16:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426547",
    "user": "https://github.com/egourgoulhon"
}
```

Replying to [comment:11 mkoeppe]:
> I just found a good discussion of the two viewpoints of `ExtPower` as a quotient space vs. as a subspace (which I was not familiar with) in https://kconrad.math.uconn.edu/blurbs/linmultialg/extmod.pdf, page 12/13.


Indeed, in page 12 of this reference, we can read: *It means we can think of Λ<sup>k</sup> (V ) as a subspace of the tensor power V<sup>⊗k</sup> instead of as a quotient space. This viewpoint is widely used in differential geometry.* This is of course the differential geometry viewpoint that I took when introducing `ExtPowerFreeModule`. It is also written: ''That is fine for real and complex
vector spaces (as in differential geometry), but it is not a universal method.''



---

archive/issue_comments_426548.json:
```json
{
    "body": "Replying to [comment:14 gh-mjungmath]:\n> **Suggestion:** What about just renaming `ExtPowerFreeModule` into something like `AltContrTensorFreeModule`, and keep the coercion as it is.\n> \n> In a next step, we create the class `ExtPowerFreeModule` which behaves similar to quotients of polynomial rings. Namely, applying a tensor to `ExtPowerFreeModule` (i.e. reducing w.r.t. the ideal `<x*x>`) yields an element of `AltContrTensorFreeModule`. In that class, we can include all the things we need for a quotient such as a method lift and the coercion from tensor fields to the exterior algebra given by this quotient.\n> \n> Just as a rough idea. This would make everyone happy and is mathematical rigorous.\n> \n> **Edit:** Sorry. Wasn't such a good idea. I don't think that is what we want.\n\n\nWhy do you think this is not a good idea? At least, this would be mathematically correct for any base ring...",
    "created_at": "2020-08-03T16:59:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426548",
    "user": "https://github.com/egourgoulhon"
}
```

Replying to [comment:14 gh-mjungmath]:
> **Suggestion:** What about just renaming `ExtPowerFreeModule` into something like `AltContrTensorFreeModule`, and keep the coercion as it is.
> 
> In a next step, we create the class `ExtPowerFreeModule` which behaves similar to quotients of polynomial rings. Namely, applying a tensor to `ExtPowerFreeModule` (i.e. reducing w.r.t. the ideal `<x*x>`) yields an element of `AltContrTensorFreeModule`. In that class, we can include all the things we need for a quotient such as a method lift and the coercion from tensor fields to the exterior algebra given by this quotient.
> 
> Just as a rough idea. This would make everyone happy and is mathematical rigorous.
> 
> **Edit:** Sorry. Wasn't such a good idea. I don't think that is what we want.


Why do you think this is not a good idea? At least, this would be mathematically correct for any base ring...



---

archive/issue_comments_426549.json:
```json
{
    "body": "Replying to [comment:12 gh-mjungmath]:\n> By the way: not having a doctest doesn't mean that it is not used in practice, I'd say.\n\n\nYes, I didn't mean to imply that. \n\n> Imho, the documention is in general very sparse, even though the manifolds extension has a comparatively comprehensive documentation.\n\n\nRather, as we discussed briefly on another ticket, I think it is crucial to extend the doctests so that typical use in practice is covered, perhaps by importing the sage-manifolds worksheets.",
    "created_at": "2020-08-03T18:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426549",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:12 gh-mjungmath]:
> By the way: not having a doctest doesn't mean that it is not used in practice, I'd say.


Yes, I didn't mean to imply that. 

> Imho, the documention is in general very sparse, even though the manifolds extension has a comparatively comprehensive documentation.


Rather, as we discussed briefly on another ticket, I think it is crucial to extend the doctests so that typical use in practice is covered, perhaps by importing the sage-manifolds worksheets.



---

archive/issue_comments_426550.json:
```json
{
    "body": "Replying to [comment:14 gh-mjungmath]:\n> **Suggestion:** What about just renaming `ExtPowerFreeModule` into something like `AltContrTensorFreeModule`, and keep the coercion as it is.\n\n\nNote that #30229 (unfinished) creates submodules of the tensor modules with arbitrary prescribed symmetries. Prescribed antisymmetries are a special case. \nThese submodules, of course, do have coercions into the ambient tensor module.",
    "created_at": "2020-08-03T18:39:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426550",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:14 gh-mjungmath]:
> **Suggestion:** What about just renaming `ExtPowerFreeModule` into something like `AltContrTensorFreeModule`, and keep the coercion as it is.


Note that #30229 (unfinished) creates submodules of the tensor modules with arbitrary prescribed symmetries. Prescribed antisymmetries are a special case. 
These submodules, of course, do have coercions into the ambient tensor module.



---

archive/issue_comments_426551.json:
```json
{
    "body": "Replying to [comment:18 mkoeppe]:\n> Replying to [comment:14 gh-mjungmath]:\n> > **Suggestion:** What about just renaming `ExtPowerFreeModule` into something like `AltContrTensorFreeModule`, and keep the coercion as it is.\n\n> \n> Note that #30229 (unfinished) creates submodules of the tensor modules with arbitrary prescribed symmetries. Prescribed antisymmetries are a special case. \n> These submodules, of course, do have coercions into the ambient tensor module.\n> \n\nIndeed, this seems the way to go.",
    "created_at": "2020-08-03T19:07:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426551",
    "user": "https://github.com/egourgoulhon"
}
```

Replying to [comment:18 mkoeppe]:
> Replying to [comment:14 gh-mjungmath]:
> > **Suggestion:** What about just renaming `ExtPowerFreeModule` into something like `AltContrTensorFreeModule`, and keep the coercion as it is.

> 
> Note that #30229 (unfinished) creates submodules of the tensor modules with arbitrary prescribed symmetries. Prescribed antisymmetries are a special case. 
> These submodules, of course, do have coercions into the ambient tensor module.
> 

Indeed, this seems the way to go.



---

archive/issue_events_078337.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30041#event-78337"
}
```



---

archive/issue_comments_426552.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30041#issuecomment-426552",
    "user": "https://github.com/mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_078338.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30041#event-78338"
}
```



---

archive/issue_events_078339.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30041#event-78339"
}
```



---

archive/issue_events_078340.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30041#event-78340"
}
```



---

archive/issue_events_078341.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30041#event-78341"
}
```



---

archive/issue_events_078342.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30041#event-78342"
}
```



---

archive/issue_events_078343.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30041#event-78343"
}
```



---

archive/issue_events_078344.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30041#event-78344"
}
```



---

archive/issue_events_078345.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30041#event-78345"
}
```



---

archive/issue_events_078346.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30041#event-78346"
}
```



---

archive/issue_events_078347.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30041",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30041#event-78347"
}
```
