# Issue 32353: memory_allocator 0.1.0 does not pass self-tests on 32bit systems

Issue created by migration from https://trac.sagemath.org/ticket/32590

Original creator: tmonteil

Original creation time: 2021-09-30 00:09:41

CC:  @kliem embray

Keywords: sdl

memory_allocator 0.1.0 does not pass self-tests on 32bit systems, see the attached log.


---

Attachment


---

Comment by @kliem created at 2021-09-30 09:34:29

Thanks for the report, I'll fix it.

(This really is just an issue of the tests.)


---

Comment by @kliem created at 2021-09-30 11:15:43

Apparently https://github.com/sagemath/memory_allocator/pull/1 tests and fixes the issue.

That it is indeed tested, can be witnessed here:

https://github.com/sagemath/memory_allocator/actions/runs/1290649550

What is not nice, is that I didn't find a good way to have `python test.py` fail the github workflow except for `python test.py || exit 1`. This works, because `exit 1` is incorrect syntax (so not nice, but will do exact the desired thing).


---

Comment by @kliem created at 2021-09-30 13:50:59

Changing status from new to needs_review.


---

Comment by @kliem created at 2021-09-30 13:50:59

New commits:


---

Comment by tmonteil created at 2021-09-30 15:34:50

Changing status from needs_review to positive_review.


---

Comment by tmonteil created at 2021-09-30 15:34:50

This works now, tested on both on 32bit and 64bit systems, thanks for fixing !


---

Comment by @kliem created at 2021-10-01 06:33:02

Thanks for reviewing and testing.


---

Comment by vbraun created at 2021-10-13 22:50:49

Resolution: fixed
