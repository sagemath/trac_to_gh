# Issue 25752: PolynomialSequence should handle iterator as input

Issue created by migration from Trac.

Original creator: @mwageringel

Original creation time: 2018-08-02 15:26:40

CC:  jipilab

When passing an iterator/generator of polynomials to `PolynomialSequence`, the first element of the iterator gets lost if one also passes the ambient ring.

```
sage: from sage.rings.polynomial.multi_polynomial_sequence import PolynomialSequence
sage: R.<x,y,z> = QQ[]
sage: PolynomialSequence(iter(R.gens())) # correct
[x, y, z]
sage: PolynomialSequence(iter(R.gens()), R) # wrong
[y, z]
sage: PolynomialSequence(iter([(x,y), (z,)]), R) # wrong
[z]
```

The documentation for `PolynomialSequence` states that the argument must be an iterable object, so it should support iterators. Indeed, they work correctly if one does not pass the ambient ring: This case requires iterating the elements twice in order to determine the ring, so the implementation first creates a list.

Interestingly, the documentation for (not necessarily polynomial) `Sequence` states that the elements must be a list or a tuple. Should it maybe be updated to handle iterators, as well?



---

Comment by git created at 2018-08-02 15:31:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @mwageringel created at 2018-08-03 06:25:16

Changing status from new to needs_review.


---

Comment by @mwageringel created at 2018-08-03 09:03:52

Should I also fix the pyflakes errors reported by patchbot? They do not seem to be related to this ticket, though.


---

Comment by jipilab created at 2019-04-25 15:17:21

Yes, I guess you could fix the pyflakes.


---

Comment by git created at 2019-04-27 14:01:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @mwageringel created at 2019-04-27 14:07:37

Thank you for the feedback. This should now be fixed.


---

Comment by jipilab created at 2019-04-27 17:22:14

Changing status from needs_review to positive_review.


---

Comment by jipilab created at 2019-04-27 17:22:14

Looks good to me and the bot is happy. I set it to positive review.


---

Comment by vbraun created at 2019-04-27 17:47:23

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2019-04-27 17:47:23

Reviewer name is missing


---

Comment by jipilab created at 2019-04-27 21:43:26

oops, my bad.


---

Comment by jipilab created at 2019-04-27 21:43:26

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2019-05-06 11:56:48

Resolution: fixed
