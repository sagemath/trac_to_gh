# Issue 29650: Fixed inconsistency in code that caused a bug

archive/issues_029650.json:
```json
{
    "body": "Keywords: bibd\n\nThe `BIBD_constructions` dictionary contained a key that mapped to a design object rather than a list of blocks. This causes a bug in the function that constructs BIBDs when such function is extended for values of lambda different from 1\n\nIssue created by migration from https://trac.sagemath.org/ticket/29887\n\n",
    "created_at": "2020-06-17T17:42:49Z",
    "labels": [
        "combinatorial designs",
        "major",
        "bug"
    ],
    "title": "Fixed inconsistency in code that caused a bug",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29650",
    "user": "@Ivo-Maffei"
}
```
Keywords: bibd

The `BIBD_constructions` dictionary contained a key that mapped to a design object rather than a list of blocks. This causes a bug in the function that constructs BIBDs when such function is extended for values of lambda different from 1

Issue created by migration from https://trac.sagemath.org/ticket/29887





---

archive/issue_comments_421107.json:
```json
{
    "body": "Could something like:\n\n```\nsage: from sage.combinat.designs.bibd import balanced_incomplete_block_design\nsage: balanced_incomplete_block_design(176, 50, 14)\nTrue\n```\n\nbe added as a doctest?\n\nSet the ticket to `needs_review` when ready for review.\n\nUse full name in \"Authors\" field rather than trac username.",
    "created_at": "2020-06-18T03:02:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29650#issuecomment-421107",
    "user": "slelievre"
}
```

Could something like:

```
sage: from sage.combinat.designs.bibd import balanced_incomplete_block_design
sage: balanced_incomplete_block_design(176, 50, 14)
True
```

be added as a doctest?

Set the ticket to `needs_review` when ready for review.

Use full name in "Authors" field rather than trac username.



---

archive/issue_comments_421108.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-06-18T11:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29650#issuecomment-421108",
    "user": "@Ivo-Maffei"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_421109.json:
```json
{
    "body": "Replying to [comment:1 slelievre]:\n> Could something like:\n> {{{\n> sage: from sage.combinat.designs.bibd import balanced_incomplete_block_design\n> sage: balanced_incomplete_block_design(176, 50, 14)\n> True\n> }}}\n> be added as a doctest?\n\nAt the moment the `balanced_incomplete_block_design` function only takes 2 parameters (`v` and `k`).\nI was planning to make another ticket where that function gets expanded to allow arbitrary values for lambda. \nDo you think I should add everything here?",
    "created_at": "2020-06-18T11:57:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29650#issuecomment-421109",
    "user": "@Ivo-Maffei"
}
```

Replying to [comment:1 slelievre]:
> Could something like:
> {{{
> sage: from sage.combinat.designs.bibd import balanced_incomplete_block_design
> sage: balanced_incomplete_block_design(176, 50, 14)
> True
> }}}
> be added as a doctest?

At the moment the `balanced_incomplete_block_design` function only takes 2 parameters (`v` and `k`).
I was planning to make another ticket where that function gets expanded to allow arbitrary values for lambda. 
Do you think I should add everything here?



---

archive/issue_comments_421110.json:
```json
{
    "body": "> At the moment the `balanced_incomplete_block_design` function only takes\n> 2 parameters (`v` and `k`). I was planning to make another ticket where that\n> function gets expanded to allow arbitrary values for `lambda`.\n> Do you think I should add everything here?\n\nIt's fine either way. Keep the doctest for the other ticket if you do two.",
    "created_at": "2020-06-18T16:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29650#issuecomment-421110",
    "user": "slelievre"
}
```

> At the moment the `balanced_incomplete_block_design` function only takes
> 2 parameters (`v` and `k`). I was planning to make another ticket where that
> function gets expanded to allow arbitrary values for `lambda`.
> Do you think I should add everything here?

It's fine either way. Keep the doctest for the other ticket if you do two.



---

archive/issue_comments_421111.json:
```json
{
    "body": "Maybe illustrate the improved consistency in the ticket description here?",
    "created_at": "2020-06-19T10:44:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29650#issuecomment-421111",
    "user": "slelievre"
}
```

Maybe illustrate the improved consistency in the ticket description here?



---

archive/issue_comments_421112.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-25T07:13:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29650#issuecomment-421112",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_421113.json:
```json
{
    "body": "looks good to me",
    "created_at": "2020-06-25T07:13:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29650#issuecomment-421113",
    "user": "dimpase"
}
```

looks good to me



---

archive/issue_comments_421114.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-02T21:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29650#issuecomment-421114",
    "user": "vbraun"
}
```

Resolution: fixed
