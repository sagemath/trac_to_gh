# Issue 29650: Fixed inconsistency in code that caused a bug

Issue created by migration from https://trac.sagemath.org/ticket/29887

Original creator: @Ivo-Maffei

Original creation time: 2020-06-17 17:42:49

Keywords: bibd

The `BIBD_constructions` dictionary contained a key that mapped to a design object rather than a list of blocks. This causes a bug in the function that constructs BIBDs when such function is extended for values of lambda different from 1


---

Comment by slelievre created at 2020-06-18 03:02:35

Could something like:

```
sage: from sage.combinat.designs.bibd import balanced_incomplete_block_design
sage: balanced_incomplete_block_design(176, 50, 14)
True
```

be added as a doctest?

Set the ticket to `needs_review` when ready for review.

Use full name in "Authors" field rather than trac username.


---

Comment by @Ivo-Maffei created at 2020-06-18 11:53:37

Changing status from new to needs_review.


---

Comment by @Ivo-Maffei created at 2020-06-18 11:57:23

Replying to [comment:1 slelievre]:
> Could something like:
> {{{
> sage: from sage.combinat.designs.bibd import balanced_incomplete_block_design
> sage: balanced_incomplete_block_design(176, 50, 14)
> True
> }}}
> be added as a doctest?

At the moment the `balanced_incomplete_block_design` function only takes 2 parameters (`v` and `k`).
I was planning to make another ticket where that function gets expanded to allow arbitrary values for lambda. 
Do you think I should add everything here?


---

Comment by slelievre created at 2020-06-18 16:04:32

> At the moment the `balanced_incomplete_block_design` function only takes
> 2 parameters (`v` and `k`). I was planning to make another ticket where that
> function gets expanded to allow arbitrary values for `lambda`.
> Do you think I should add everything here?

It's fine either way. Keep the doctest for the other ticket if you do two.


---

Comment by slelievre created at 2020-06-19 10:44:04

Maybe illustrate the improved consistency in the ticket description here?


---

Comment by dimpase created at 2020-06-25 07:13:31

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2020-06-25 07:13:31

looks good to me


---

Comment by vbraun created at 2020-07-02 21:29:51

Resolution: fixed
