# Issue 2143: wrap scipy optimization routines and cvxopt linear programming, add gradient/hessian to calculus

archive/issues_002143.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-jkantor"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nhttp://sage.math.washington.edu/home/jkantor/optimize.patch\n\n\n\nCC:  @dfdeshom\n\nComponent: **numerical**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/2143_\n\n",
    "closed_at": "2008-03-16T02:57:15Z",
    "created_at": "2008-02-12T05:33:27Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20numerical",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-2.10.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "wrap scipy optimization routines and cvxopt linear programming, add gradient/hessian to calculus",
    "type": "issue",
    "updated_at": "2008-03-16T16:48:38Z",
    "url": "https://github.com/sagemath/sage/issues/2143",
    "user": "https://github.com/sagetrac-jkantor"
}
```
<div id="comment:0"></div>

http://sage.math.washington.edu/home/jkantor/optimize.patch



CC:  @dfdeshom

Component: **numerical**

_Issue created by migration from https://trac.sagemath.org/ticket/2143_





---

archive/issue_events_021607.json:
```json
{
    "actor": "https://github.com/sagetrac-jkantor",
    "created_at": "2008-02-12T05:33:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "milestone_number": null,
    "milestone_title": "sage-2.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21607"
}
```



---

archive/issue_events_021608.json:
```json
{
    "actor": "https://github.com/sagetrac-jkantor",
    "created_at": "2008-02-12T05:33:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20numerical",
    "label_color": "0000ff",
    "label_name": "c: numerical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21608"
}
```



---

archive/issue_events_021609.json:
```json
{
    "actor": "https://github.com/sagetrac-jkantor",
    "created_at": "2008-02-12T05:33:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21609"
}
```



---

archive/issue_events_021610.json:
```json
{
    "actor": "https://github.com/sagetrac-jkantor",
    "created_at": "2008-02-12T05:33:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21610"
}
```



---

archive/issue_events_021611.json:
```json
{
    "actor": "https://github.com/sagetrac-jkantor",
    "created_at": "2008-02-12T05:33:27Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "subject": "https://github.com/sagetrac-jkantor",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21611"
}
```



---

archive/issue_events_021612.json:
```json
{
    "actor": "https://github.com/sagetrac-jkantor",
    "created_at": "2008-02-12T05:33:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21612"
}
```



---

archive/issue_comments_010388.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nClicking the link gives:\n\n```\nForbidden\n\nYou don't have permission to access /home/jkantor/optimize.patch on this server.\n```\n\nOf course, I could fix that since I'm root on that machine... but I'm too busy at the moment.",
    "created_at": "2008-02-12T05:36:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2143#issuecomment-10388",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:1" align="right">comment:1</div>

Clicking the link gives:

```
Forbidden

You don't have permission to access /home/jkantor/optimize.patch on this server.
```

Of course, I could fix that since I'm root on that machine... but I'm too busy at the moment.



---

archive/issue_events_021613.json:
```json
{
    "actor": "https://github.com/ncalexan",
    "created_at": "2008-02-15T04:32:42Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "title_is": "[with patch that is not accessible!] wrap scipy optimization routines and cvxopt linear programming, add gradient/hessian to calculus",
    "title_was": "wrap scipy optimization routines and cvxopt linear programming, add gradient/hessian to calculus",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21613"
}
```



---

archive/issue_events_021614.json:
```json
{
    "actor": "https://github.com/dfdeshom",
    "created_at": "2008-03-03T17:38:44Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "title_is": "wrap scipy optimization routines and cvxopt linear programming, add gradient/hessian to calculus",
    "title_was": "[with patch that is not accessible!] wrap scipy optimization routines and cvxopt linear programming, add gradient/hessian to calculus",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21614"
}
```



---

archive/issue_events_021615.json:
```json
{
    "actor": "https://github.com/dfdeshom",
    "created_at": "2008-03-03T17:38:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21615"
}
```



---

archive/issue_comments_010389.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAttachment: **[optimize.patch.gz](https://github.com/sagemath/sage/files/ticket2143/optimize.patch.gz)**\n\nAttaching the patch on trac for convenience...",
    "created_at": "2008-03-03T21:05:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2143#issuecomment-10389",
    "user": "https://github.com/dfdeshom"
}
```

<div id="comment:4" align="right">comment:4</div>

Attachment: **[optimize.patch.gz](https://github.com/sagemath/sage/files/ticket2143/optimize.patch.gz)**

Attaching the patch on trac for convenience...



---

archive/issue_comments_010390.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReview: \n\nDoctests were failing due to either missing imports or unsuppressed output. I'm attaching a patch where all doctests pass...",
    "created_at": "2008-03-05T05:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2143#issuecomment-10390",
    "user": "https://github.com/dfdeshom"
}
```

<div id="comment:5" align="right">comment:5</div>

Review: 

Doctests were failing due to either missing imports or unsuppressed output. I'm attaching a patch where all doctests pass...



---

archive/issue_comments_010391.json:
```json
{
    "body": "Attachment: **[2143.patch.gz](https://github.com/sagemath/sage/files/ticket2143/2143.patch.gz)**",
    "created_at": "2008-03-05T05:58:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2143#issuecomment-10391",
    "user": "https://github.com/dfdeshom"
}
```

Attachment: **[2143.patch.gz](https://github.com/sagemath/sage/files/ticket2143/2143.patch.gz)**



---

archive/issue_events_021616.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2008-03-12T05:02:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "milestone_number": null,
    "milestone_title": "sage-2.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21616"
}
```



---

archive/issue_events_021617.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2008-03-12T05:02:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "milestone_number": null,
    "milestone_title": "sage-2.10.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21617"
}
```



---

archive/issue_comments_010392.json:
```json
{
    "body": "Attachment: **[2143-2.patch.gz](https://github.com/sagemath/sage/files/ticket2143/2143-2.patch.gz)**",
    "created_at": "2008-03-15T23:08:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2143#issuecomment-10392",
    "user": "https://github.com/mwhansen"
}
```

Attachment: **[2143-2.patch.gz](https://github.com/sagemath/sage/files/ticket2143/2143-2.patch.gz)**



---

archive/issue_events_021618.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2008-03-15T23:09:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21618"
}
```



---

archive/issue_events_021619.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2008-03-15T23:09:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21619"
}
```



---

archive/issue_comments_010393.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI fixed some typos and formatting issues. Both 2143.patch and 2143-2.patch should be applied.",
    "created_at": "2008-03-15T23:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2143#issuecomment-10393",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:7" align="right">comment:7</div>

I fixed some typos and formatting issues. Both 2143.patch and 2143-2.patch should be applied.



---

archive/issue_events_021620.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-03-16T02:57:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21620"
}
```



---

archive/issue_events_021621.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-03-16T02:57:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2143#event-21621"
}
```



---

archive/issue_comments_010394.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nMerged 2143.patch and 2143-2.patch in Sage 2.10.4.rc0",
    "created_at": "2008-03-16T02:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2143#issuecomment-10394",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:8" align="right">comment:8</div>

Merged 2143.patch and 2143-2.patch in Sage 2.10.4.rc0



---

archive/issue_comments_010395.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n\n```\nsage: f(x,y)=x^2+y^2\nsage: f.gradient()\n<type 'exceptions.NotImplementedError'>:\nsage: f.parent()\nCallable function ring with arguments (x, y)\nsage: var('x,y')\nsage: g=x^2+y^2\nsage: g.gradient()\nsage: g.parent()\nSymbolic Ring\n(2*x, 2*y)\n```\n\nI guess this isn't a bug, just not implemented yet? I thought f(x)=x^2 was equivalent to var('x');f=x^2 but evidently they are different?",
    "created_at": "2008-03-16T03:38:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2143#issuecomment-10395",
    "user": "https://github.com/sagetrac-edrex"
}
```

<div id="comment:9" align="right">comment:9</div>


```
sage: f(x,y)=x^2+y^2
sage: f.gradient()
<type 'exceptions.NotImplementedError'>:
sage: f.parent()
Callable function ring with arguments (x, y)
sage: var('x,y')
sage: g=x^2+y^2
sage: g.gradient()
sage: g.parent()
Symbolic Ring
(2*x, 2*y)
```

I guess this isn't a bug, just not implemented yet? I thought f(x)=x^2 was equivalent to var('x');f=x^2 but evidently they are different?



---

archive/issue_comments_010396.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThese are actually different things.\n\n```\nsage: preparse('f(x)=x^2')\n'_=var(\"x\");f=symbolic_expression(x**Integer(2)).function(x)'\nsage: preparse(\"var('x');f=x^2\")\n\"var('x');f=x**Integer(2)\"\n```",
    "created_at": "2008-03-16T03:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2143#issuecomment-10396",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:10" align="right">comment:10</div>

These are actually different things.

```
sage: preparse('f(x)=x^2')
'_=var("x");f=symbolic_expression(x**Integer(2)).function(x)'
sage: preparse("var('x');f=x^2")
"var('x');f=x**Integer(2)"
```



---

archive/issue_comments_010397.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAh... I like the f(x,y)=x<sup>2+y</sup>2 syntax/construction better, since it makes the mapping explicit for expressions which may not contain all variables. Filed as #2547",
    "created_at": "2008-03-16T16:48:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2143#issuecomment-10397",
    "user": "https://github.com/sagetrac-edrex"
}
```

<div id="comment:11" align="right">comment:11</div>

Ah... I like the f(x,y)=x<sup>2+y</sup>2 syntax/construction better, since it makes the mapping explicit for expressions which may not contain all variables. Filed as #2547
