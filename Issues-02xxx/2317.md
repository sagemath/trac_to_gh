# Issue 2317: possible job starvation of dsage server

archive/issues_002317.json:
```json
{
    "assignees": [],
    "body": "Currently if a worker gets a job and never submits it back (either maliciously or because of a bug), the server will never know the difference. Hence someone could just ask for a bunch of jobs and never do them, which starves the server of jobs.\n\nProposed fixes:\n1) Server pings the worker which has the job and asks for its status periodically, if the worker does not reply for some number of attempts, reinject the job into the queue.\n\nAssignee: **@yqiang**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/2317_\n\n",
    "closed_at": "2010-01-19T07:36:40Z",
    "created_at": "2008-02-26T17:42:21Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20dsage",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "possible job starvation of dsage server",
    "type": "issue",
    "updated_at": "2010-01-19T10:01:19Z",
    "url": "https://github.com/sagemath/sage/issues/2317",
    "user": "https://github.com/yqiang"
}
```
Currently if a worker gets a job and never submits it back (either maliciously or because of a bug), the server will never know the difference. Hence someone could just ask for a bunch of jobs and never do them, which starves the server of jobs.

Proposed fixes:
1) Server pings the worker which has the job and asks for its status periodically, if the worker does not reply for some number of attempts, reinject the job into the queue.

Assignee: **@yqiang**

_Issue created by migration from https://trac.sagemath.org/ticket/2317_





---

archive/issue_events_020914.json:
```json
{
    "actor": "https://github.com/yqiang",
    "created_at": "2008-02-26T17:42:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2317",
    "milestone_number": null,
    "milestone_title": "sage-4.3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2317#event-20914"
}
```



---

archive/issue_events_020915.json:
```json
{
    "actor": "https://github.com/yqiang",
    "created_at": "2008-02-26T17:42:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2317",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20dsage",
    "label_color": "0000ff",
    "label_name": "component: dsage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2317#event-20915"
}
```



---

archive/issue_events_020916.json:
```json
{
    "actor": "https://github.com/yqiang",
    "created_at": "2008-02-26T17:42:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2317",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2317#event-20916"
}
```



---

archive/issue_events_020917.json:
```json
{
    "actor": "https://github.com/yqiang",
    "created_at": "2008-02-26T17:42:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2317",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2317#event-20917"
}
```



---

archive/issue_comments_012099.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nDsage has been deprecated.",
    "created_at": "2010-01-19T07:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2317#issuecomment-12099",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:1'>Comment 1:</a>
Dsage has been deprecated.



---

archive/issue_events_020918.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-01-19T07:36:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/2317",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2317#event-20918"
}
```



---

archive/issue_events_020919.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-01-19T07:36:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2317",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2317#event-20919"
}
```



---

archive/issue_events_020920.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-01-19T07:36:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2317",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "a6a6a6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2317#event-20920"
}
```



---

archive/issue_events_020921.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-01-19T10:01:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2317",
    "milestone_number": null,
    "milestone_title": "sage-4.3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2317#event-20921"
}
```
