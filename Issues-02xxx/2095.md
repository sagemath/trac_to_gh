# Issue 2095: Simplification sometimes is wrong in Sage

archive/issues_002095.json:
```json
{
    "assignees": [],
    "body": "\n```\nsage: plot(arcsin(sin(x)))\n```\n\nplots a straight line.\n\n```\nsage: x/x\n1\n```\n\n\n```\nsage: assume(x<0)\nsage: sqrt(x)^2\nx\n```\n\n\nAssignee: **@garyfurnish**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/2095_\n\n",
    "closed_at": "2008-03-16T20:56:08Z",
    "created_at": "2008-02-08T01:36:44Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20calculus",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Simplification sometimes is wrong in Sage",
    "type": "issue",
    "updated_at": "2008-03-16T21:06:48Z",
    "url": "https://github.com/sagemath/sage/issues/2095",
    "user": "https://github.com/bobmoretti"
}
```

```
sage: plot(arcsin(sin(x)))
```

plots a straight line.

```
sage: x/x
1
```


```
sage: assume(x<0)
sage: sqrt(x)^2
x
```


Assignee: **@garyfurnish**

_Issue created by migration from https://trac.sagemath.org/ticket/2095_





---

archive/issue_events_018594.json:
```json
{
    "actor": "https://github.com/bobmoretti",
    "created_at": "2008-02-08T01:36:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2095",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20calculus",
    "label_color": "0000ff",
    "label_name": "component: calculus",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2095#event-18594"
}
```



---

archive/issue_events_018595.json:
```json
{
    "actor": "https://github.com/bobmoretti",
    "created_at": "2008-02-08T01:36:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2095",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2095#event-18595"
}
```



---

archive/issue_events_018596.json:
```json
{
    "actor": "https://github.com/bobmoretti",
    "created_at": "2008-02-08T01:36:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2095",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2095#event-18596"
}
```



---

archive/issue_comments_010542.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nWhich is \"sometimes wrong\"?  The first two examples look fine to me.  For the third, we're totally screwed -- or -- we just don't understand Maxima, since it's just the\nnative behavior of Maxima:\n\n```\n\nsage: !maxima\nMaxima 5.13.0 http://maxima.sourceforge.net\nUsing Lisp CLISP 2.41 (2006-10-13)\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThis is a development version of Maxima. The function bug_report()\nprovides bug reporting information.\n(%i1) assume(x<0);\n(%o1)                               [x < 0]\n(%i2) sqrt(x)^2;\n(%o2)                                  x\n\n```",
    "created_at": "2008-02-08T04:02:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2095#issuecomment-10542",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:1" align="right">Comment 1</div>

Which is "sometimes wrong"?  The first two examples look fine to me.  For the third, we're totally screwed -- or -- we just don't understand Maxima, since it's just the
native behavior of Maxima:

```

sage: !maxima
Maxima 5.13.0 http://maxima.sourceforge.net
Using Lisp CLISP 2.41 (2006-10-13)
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
This is a development version of Maxima. The function bug_report()
provides bug reporting information.
(%i1) assume(x<0);
(%o1)                               [x < 0]
(%i2) sqrt(x)^2;
(%o2)                                  x

```



---

archive/issue_comments_010543.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nThese are examples pointed out by Peter Jipsen... the second one I think is okay. The first one could be problematic, but Robert pointed out that it works fine if you use fast_eval. For the third, I think we are screwed. There is the command\n\n```\ndomain:real;\nreal\n\ndomain:complex;\ncomplex\n```\n\nin maxima, however the *only* effect that this seems to have on Maxima is if domain is real, sqrt(x^2) returns abs(x).\n\nPerhaps this should be changed to an enhancement. Assume() is currently only there as a workaround to Maxima's interactive behavior; it would be nice if Sage were smarter about assumptions on symbolic variables.",
    "created_at": "2008-02-08T21:27:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2095#issuecomment-10543",
    "user": "https://github.com/bobmoretti"
}
```

<div id="comment:2" align="right">Comment 2</div>

These are examples pointed out by Peter Jipsen... the second one I think is okay. The first one could be problematic, but Robert pointed out that it works fine if you use fast_eval. For the third, I think we are screwed. There is the command

```
domain:real;
real

domain:complex;
complex
```

in maxima, however the *only* effect that this seems to have on Maxima is if domain is real, sqrt(x^2) returns abs(x).

Perhaps this should be changed to an enhancement. Assume() is currently only there as a workaround to Maxima's interactive behavior; it would be nice if Sage were smarter about assumptions on symbolic variables.



---

archive/issue_events_018597.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-02-08T22:27:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2095",
    "milestone_number": null,
    "milestone_title": "sage-2.10.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2095#event-18597"
}
```



---

archive/issue_comments_010544.json:
```json
{
    "body": "Changed assignee from **@williamstein** to **@garyfurnish**",
    "created_at": "2008-03-16T20:10:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2095#issuecomment-10544",
    "user": "https://github.com/garyfurnish"
}
```

Changed assignee from **@williamstein** to **@garyfurnish**



---

archive/issue_events_018598.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-03-16T20:56:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/2095",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2095#event-18598"
}
```



---

archive/issue_comments_010545.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nWe're being stupid.  Clearly `sqrt(x)^2` should equal x NO MATTER what x is.  Period.  No matter what you assume about x it has to be the case the \"sqrt(x)\" is\nsomething that when squared gives x. That's the definition of \"square root\".",
    "created_at": "2008-03-16T20:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2095#issuecomment-10545",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:5" align="right">Comment 5</div>

We're being stupid.  Clearly `sqrt(x)^2` should equal x NO MATTER what x is.  Period.  No matter what you assume about x it has to be the case the "sqrt(x)" is
something that when squared gives x. That's the definition of "square root".



---

archive/issue_events_018599.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-03-16T20:56:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2095",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2095#event-18599"
}
```



---

archive/issue_events_018600.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-03-16T20:56:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2095",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2095#event-18600"
}
```



---

archive/issue_events_018601.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-03-16T21:06:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2095",
    "milestone_number": null,
    "milestone_title": "sage-2.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2095#event-18601"
}
```
