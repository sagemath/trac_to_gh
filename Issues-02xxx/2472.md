# Issue 2472: what parent should floor return?

archive/issues_002472.json:
```json
{
    "body": "I think `floor` and `ceil` and `truncate` should return integers.\n\n```\nsage: floor(2).parent()\nInteger Ring\nsage: floor(2.0).parent()\nInteger Ring\nsage: floor(RIF(2.0)).parent()\nReal Interval Field with 53 bits of precision\n```\n\nAssignee: somebody\n\nCC:  @ncalexan\n\nKeywords: floor truncate ceil ceiling parent integer\n\nReviewer: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/2472\n\n",
    "closed_at": "2014-09-09T14:53:36Z",
    "created_at": "2008-03-11T20:58:33Z",
    "labels": [
        "component: basic arithmetic",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "what parent should floor return?",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/2472",
    "user": "https://github.com/ncalexan"
}
```
I think `floor` and `ceil` and `truncate` should return integers.

```
sage: floor(2).parent()
Integer Ring
sage: floor(2.0).parent()
Integer Ring
sage: floor(RIF(2.0)).parent()
Real Interval Field with 53 bits of precision
```

Assignee: somebody

CC:  @ncalexan

Keywords: floor truncate ceil ceiling parent integer

Reviewer: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/2472





---

archive/issue_comments_018549.json:
```json
{
    "body": "<a id='comment:1'></a>\n> I think floor and ceil and truncate should return integers.\n\n\nI agree, though this goes against what Python does:\n\n```\nsage: math.floor(float(2.3))\n2.0    \n```\n\nI don't like Python's math.floor behavior, but I bet it agrees with the C library.\nYep:\n\n```\n     double\n     floor(double x);\n\n     long double\n     floorl(long double x);\n```\n\nI still vote for making floor always return Integer.",
    "created_at": "2008-03-11T21:03:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2472#issuecomment-18549",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:1'></a>
> I think floor and ceil and truncate should return integers.


I agree, though this goes against what Python does:

```
sage: math.floor(float(2.3))
2.0    
```

I don't like Python's math.floor behavior, but I bet it agrees with the C library.
Yep:

```
     double
     floor(double x);

     long double
     floorl(long double x);
```

I still vote for making floor always return Integer.



---

archive/issue_comments_018550.json:
```json
{
    "body": "<a id='comment:2'></a>\nBut what integer should it return?  In particular, what do you want floor(RIF(1.5, 12345.678)) to return, and why?  \n\nMy vote would be that floor and ceiling should not be implemented for RIF at all, because I don't think they have a sensible meaning.\n\nNote that when William first implemented floor and ceiling for RIF, he had them return integers; but he immediately (38 minutes later, according to Mercurial) changed them to return intervals, calling this a '\"moral\" improvement'.",
    "created_at": "2008-03-12T01:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2472#issuecomment-18550",
    "user": "https://trac.sagemath.org/admin/accounts/users/cwitty"
}
```

<a id='comment:2'></a>
But what integer should it return?  In particular, what do you want floor(RIF(1.5, 12345.678)) to return, and why?  

My vote would be that floor and ceiling should not be implemented for RIF at all, because I don't think they have a sensible meaning.

Note that when William first implemented floor and ceiling for RIF, he had them return integers; but he immediately (38 minutes later, according to Mercurial) changed them to return intervals, calling this a '"moral" improvement'.



---

archive/issue_comments_018551.json:
```json
{
    "body": "<a id='comment:3'></a>\nPerhaps what we need is an `IntegerInterval` class which represents an interval in ZZ.\n\nI think this might even have come up in the context of valuations of p-adic numbers, and I might have even discussed it with David Roe, but I can't remember if anything came out of it.",
    "created_at": "2008-03-13T18:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2472#issuecomment-18551",
    "user": "https://trac.sagemath.org/admin/accounts/users/dmharvey"
}
```

<a id='comment:3'></a>
Perhaps what we need is an `IntegerInterval` class which represents an interval in ZZ.

I think this might even have come up in the context of valuations of p-adic numbers, and I might have even discussed it with David Roe, but I can't remember if anything came out of it.



---

archive/issue_events_007349.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2472#event-7349"
}
```



---

archive/issue_events_007350.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2472#event-7350"
}
```



---

archive/issue_events_007351.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2472#event-7351"
}
```



---

archive/issue_events_007352.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2472#event-7352"
}
```



---

archive/issue_events_007353.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2472#event-7353"
}
```



---

archive/issue_events_007354.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2472#event-7354"
}
```



---

archive/issue_events_007355.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2472#event-7355"
}
```



---

archive/issue_events_007356.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-02T08:57:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2472#event-7356"
}
```



---

archive/issue_events_007357.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-09-02T08:57:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2472#event-7357"
}
```



---

archive/issue_comments_018552.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2014-09-02T08:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2472#issuecomment-18552",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_018553.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2014-09-02T08:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2472#issuecomment-18553",
    "user": "https://github.com/jdemeyer"
}
```

Changing upstream from "" to "N/A"



---

archive/issue_comments_018554.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-09-02T08:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2472#issuecomment-18554",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_018555.json:
```json
{
    "body": "<a id='comment:8'></a>\nWe now have `unique_floor()` for `RIF` returning an integer, which solves the problem I guess.",
    "created_at": "2014-09-02T08:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2472#issuecomment-18555",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
We now have `unique_floor()` for `RIF` returning an integer, which solves the problem I guess.



---

archive/issue_comments_018556.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-09-02T08:57:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2472#issuecomment-18556",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_007358.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-09T14:53:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2472#event-7358"
}
```



---

archive/issue_comments_018557.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-09-09T14:53:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2472#issuecomment-18557",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
