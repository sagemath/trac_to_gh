# Issue 2617: solve() can return undefined points as "solutions"

archive/issues_002617.json:
```json
{
    "assignees": [
        "https://github.com/williamstein"
    ],
    "body": "Consider the following examples (reported by Dean Moore here: http://groups.google.com/group/sage-support/browse_thread/thread/5555e780a76b3343#)\n\n```\nsage: solve(sin(x^2)/x == 0, x)\n[x == 0]\nsage: solve(sin(x^2)/x^2 == 0, x)\n[x == 0]\nsage: solve(sin(x^2)/x^3 == 0, x)\n[x == 0]\n```\nNone of these functions are even defined at x=0, so that should not be returned as a solution.  (The first two functions can be extended to x=0 by taking limits, in which case x=0 is a solution to the first one but not the second; the third function has a vertical asymptote at x=0.)\n\nComponent: **calculus**\n\nStopgaps: **todo**\n\nAuthor: **Matt Torrence**\n\nBranch/Commit: **[u/gh-Torrencem/2617_solve_check_domain](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Torrencem/2617_solve_check_domain) @ [`2cc6fd5`](https://github.com/sagemath/sagetrac-mirror/commit/2cc6fd5ac64ec0a86dea43286261b8135f303d4c)**\n\nReviewer: **Vincent Delecroix**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/2617_\n\n",
    "created_at": "2008-03-20T20:22:24Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20calculus",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/needs%20info"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "solve() can return undefined points as \"solutions\"",
    "type": "issue",
    "updated_at": "2022-09-19T18:58:47Z",
    "url": "https://github.com/sagemath/sage/issues/2617",
    "user": "https://github.com/sagetrac-cwitty"
}
```
Consider the following examples (reported by Dean Moore here: http://groups.google.com/group/sage-support/browse_thread/thread/5555e780a76b3343#)

```
sage: solve(sin(x^2)/x == 0, x)
[x == 0]
sage: solve(sin(x^2)/x^2 == 0, x)
[x == 0]
sage: solve(sin(x^2)/x^3 == 0, x)
[x == 0]
```
None of these functions are even defined at x=0, so that should not be returned as a solution.  (The first two functions can be extended to x=0 by taking limits, in which case x=0 is a solution to the first one but not the second; the third function has a vertical asymptote at x=0.)

Component: **calculus**

Stopgaps: **todo**

Author: **Matt Torrence**

Branch/Commit: **[u/gh-Torrencem/2617_solve_check_domain](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Torrencem/2617_solve_check_domain) @ [`2cc6fd5`](https://github.com/sagemath/sagetrac-mirror/commit/2cc6fd5ac64ec0a86dea43286261b8135f303d4c)**

Reviewer: **Vincent Delecroix**

_Issue created by migration from https://trac.sagemath.org/ticket/2617_





---

archive/issue_events_027359.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2008-03-20T20:22:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27359"
}
```



---

archive/issue_events_027360.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2008-03-20T20:22:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20calculus",
    "label_color": "0000ff",
    "label_name": "c: calculus",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27360"
}
```



---

archive/issue_events_027361.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2008-03-20T20:22:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27361"
}
```



---

archive/issue_events_027362.json:
```json
{
    "actor": "https://github.com/sagetrac-cwitty",
    "created_at": "2008-03-20T20:22:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27362"
}
```



---

archive/issue_events_027363.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-03-20T20:22:24Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "subject": "https://github.com/sagetrac-cwitty",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27363"
}
```



---

archive/issue_comments_013537.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nIs this a bug in Maxima? In that case we should report those to them? This also seams like a fairly serious issue, so I am elevating this to critical.\n\nCheers,\n\nMichael",
    "created_at": "2008-04-12T18:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13537",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:1" align="right">comment:1</div>

Is this a bug in Maxima? In that case we should report those to them? This also seams like a fairly serious issue, so I am elevating this to critical.

Cheers,

Michael



---

archive/issue_events_027364.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-04-12T18:18:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27364"
}
```



---

archive/issue_events_027365.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-04-12T18:18:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27365"
}
```



---

archive/issue_comments_013538.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis is a Maxima bug as of 5.16.3, and has been reported there as 2845005 (see [http://sourceforge.net/tracker/?func=detail&aid=2845005&group_id=4933&atid=104933](http://sourceforge.net/tracker/?func=detail&aid=2845005&group_id=4933&atid=104933)).",
    "created_at": "2009-08-26T15:42:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13538",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

This is a Maxima bug as of 5.16.3, and has been reported there as 2845005 (see [http://sourceforge.net/tracker/?func=detail&aid=2845005&group_id=4933&atid=104933](http://sourceforge.net/tracker/?func=detail&aid=2845005&group_id=4933&atid=104933)).



---

archive/issue_comments_013539.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nPerhaps related issue is also that the solving acot(x) == 0 ends with error message \"The number 0 isn't in the domain of cot\"\n\nThe online tool Mathatmatical Assistant on Web ( http://user.mendelu.cz/marik/maw/index.php?lang=en&form=main ) has a wrapper for maxima's solve ( http://mathassistant.cvs.sourceforge.net/viewvc/mathassistant/maw/common/maw_solve.mac?revision=1.14&view=markup )\n\nI hope, it could be used also in Sage. I'll try it, hope within a week.",
    "created_at": "2009-10-08T06:24:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13539",
    "user": "https://github.com/robert-marik"
}
```

<div id="comment:3" align="right">comment:3</div>

Perhaps related issue is also that the solving acot(x) == 0 ends with error message "The number 0 isn't in the domain of cot"

The online tool Mathatmatical Assistant on Web ( http://user.mendelu.cz/marik/maw/index.php?lang=en&form=main ) has a wrapper for maxima's solve ( http://mathassistant.cvs.sourceforge.net/viewvc/mathassistant/maw/common/maw_solve.mac?revision=1.14&view=markup )

I hope, it could be used also in Sage. I'll try it, hope within a week.



---

archive/issue_comments_013540.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@robert-marik](#comment%3A3):\n> Perhaps related issue is also that the solving acot(x) == 0 ends with error message \"The number 0 isn't in the domain of cot\"\n> \n\nNo, this is an appropriate error message (it's from Maxima, not Sage). There are no solutions to acot(x)==0, at least over the reals (and presumably over the complex field as well?).  Now that we know about that error, it would be easy to put a catch in for something like that error message and return \nsage: solve(acot(x),x)\n[]\ninstead.  Feel free to open a ticket for that and put me in the cc: field.  \n\nBut this is unrelated to the issue in the ticket, which is a genuine Maxima bug, as far as I can tell.",
    "created_at": "2009-10-08T13:47:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13540",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@robert-marik](#comment%3A3):
> Perhaps related issue is also that the solving acot(x) == 0 ends with error message "The number 0 isn't in the domain of cot"
> 

No, this is an appropriate error message (it's from Maxima, not Sage). There are no solutions to acot(x)==0, at least over the reals (and presumably over the complex field as well?).  Now that we know about that error, it would be easy to put a catch in for something like that error message and return 
sage: solve(acot(x),x)
[]
instead.  Feel free to open a ticket for that and put me in the cc: field.  

But this is unrelated to the issue in the ticket, which is a genuine Maxima bug, as far as I can tell.



---

archive/issue_comments_013541.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@kcrisman](#comment%3A4):\n> Replying to [@robert-marik](#comment%3A3):\n> > Perhaps related issue is also that the solving acot(x) == 0 ends with error message \"The number 0 isn't in the domain of cot\"\n> > \n\n> \n> No, this is an appropriate error message (it's from Maxima, not Sage). There are no solutions to acot(x)==0, at least over the reals (and presumably over the complex field as well?).  Now that we know about that error, it would be easy to put a catch in for something like that error message and return \n> sage: solve(acot(x),x)\n> []\n\nThis will be addressed (not the main point of this ticket) in the patch for #7745.  The main point is still a bug in Maxima 5.20.1.",
    "created_at": "2009-12-22T19:44:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13541",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@kcrisman](#comment%3A4):
> Replying to [@robert-marik](#comment%3A3):
> > Perhaps related issue is also that the solving acot(x) == 0 ends with error message "The number 0 isn't in the domain of cot"
> > 

> 
> No, this is an appropriate error message (it's from Maxima, not Sage). There are no solutions to acot(x)==0, at least over the reals (and presumably over the complex field as well?).  Now that we know about that error, it would be easy to put a catch in for something like that error message and return 
> sage: solve(acot(x),x)
> []

This will be addressed (not the main point of this ticket) in the patch for #7745.  The main point is still a bug in Maxima 5.20.1.



---

archive/issue_comments_013542.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI had an idea to introduce new option to solve, which \n\n\n1. Takes only explicit solutions\n\n\n2. Substitutes into equation and if an error appears, removes this \"solution\" from the list. \n\n\n\nThe problem in this approach is, that for example ln(0)=-Infinity in Sage and so x=0 will be still reported as a solution of x/ln(x)=0. The problem could be solved by substituting values in Maxima and not in Sage, but I am still thinking on some cleaner solution. And still  have no idea what should be returned as solution of x*ln(x-3) == 0. Distinguish in this new option, if the user works in real domain or in complex doman? Something like check_domain = False, True, or 'real'?\n\n\n\n\nAny idea?",
    "created_at": "2009-12-22T22:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13542",
    "user": "https://github.com/robert-marik"
}
```

<div id="comment:6" align="right">comment:6</div>

I had an idea to introduce new option to solve, which 


1. Takes only explicit solutions


2. Substitutes into equation and if an error appears, removes this "solution" from the list. 



The problem in this approach is, that for example ln(0)=-Infinity in Sage and so x=0 will be still reported as a solution of x/ln(x)=0. The problem could be solved by substituting values in Maxima and not in Sage, but I am still thinking on some cleaner solution. And still  have no idea what should be returned as solution of x*ln(x-3) == 0. Distinguish in this new option, if the user works in real domain or in complex doman? Something like check_domain = False, True, or 'real'?




Any idea?



---

archive/issue_comments_013543.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAs it turns out, to_poly_solve can handle this sort of thing (see in Maxima the share/contrib/rtest_to_poly_solver.mac line 1092).  But we would have to figure out a way to interpret the if statements properly (for instance, to note that twice an integer plus one is not zero).\n\n```\n/* Sage Ticket 2617; see also Sage mailing list 18 March 2008 */\n\nnicedummies(to_poly_solve(sin(x^2)/x,x));\n%union(%if(2*%z0+1 # 0,[x = -sqrt(2*%pi*%z0+%pi)],%union()),\n             %if(2*%z0+1 # 0,[x = sqrt(2*%pi*%z0+%pi)],%union()),\n             %if(%z1 # 0,[x = -sqrt(2)*sqrt(%pi)*sqrt(%z1)],%union()),\n             %if(%z1 # 0,[x = sqrt(2)*sqrt(%pi)*sqrt(%z1)],%union()))$\n\nnicedummies(to_poly_solve(sin(x^2)/x^2,x));\n%union(%if(2*%z0+1 # 0,[x = -sqrt(2*%pi*%z0+%pi)],%union()),\n             %if(2*%z0+1 # 0,[x = sqrt(2*%pi*%z0+%pi)],%union()),\n             %if(%z1 # 0,[x = -sqrt(2)*sqrt(%pi)*sqrt(%z1)],%union()),\n             %if(%z1 # 0,[x = sqrt(2)*sqrt(%pi)*sqrt(%z1)],%union()))$\n\nnicedummies(to_poly_solve(sin(x^2)/x^3,x));\n%union(%if(2*%z0+1 # 0,[x = -sqrt(2*%pi*%z0+%pi)],%union()),\n             %if(2*%z0+1 # 0,[x = sqrt(2*%pi*%z0+%pi)],%union()),\n             %if(%z1 # 0,[x = -sqrt(2)*sqrt(%pi)*sqrt(%z1)],%union()),\n             %if(%z1 # 0,[x = sqrt(2)*sqrt(%pi)*sqrt(%z1)],%union()))$\n```",
    "created_at": "2009-12-24T03:21:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13543",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:7" align="right">comment:7</div>

As it turns out, to_poly_solve can handle this sort of thing (see in Maxima the share/contrib/rtest_to_poly_solver.mac line 1092).  But we would have to figure out a way to interpret the if statements properly (for instance, to note that twice an integer plus one is not zero).

```
/* Sage Ticket 2617; see also Sage mailing list 18 March 2008 */

nicedummies(to_poly_solve(sin(x^2)/x,x));
%union(%if(2*%z0+1 # 0,[x = -sqrt(2*%pi*%z0+%pi)],%union()),
             %if(2*%z0+1 # 0,[x = sqrt(2*%pi*%z0+%pi)],%union()),
             %if(%z1 # 0,[x = -sqrt(2)*sqrt(%pi)*sqrt(%z1)],%union()),
             %if(%z1 # 0,[x = sqrt(2)*sqrt(%pi)*sqrt(%z1)],%union()))$

nicedummies(to_poly_solve(sin(x^2)/x^2,x));
%union(%if(2*%z0+1 # 0,[x = -sqrt(2*%pi*%z0+%pi)],%union()),
             %if(2*%z0+1 # 0,[x = sqrt(2*%pi*%z0+%pi)],%union()),
             %if(%z1 # 0,[x = -sqrt(2)*sqrt(%pi)*sqrt(%z1)],%union()),
             %if(%z1 # 0,[x = sqrt(2)*sqrt(%pi)*sqrt(%z1)],%union()))$

nicedummies(to_poly_solve(sin(x^2)/x^3,x));
%union(%if(2*%z0+1 # 0,[x = -sqrt(2*%pi*%z0+%pi)],%union()),
             %if(2*%z0+1 # 0,[x = sqrt(2*%pi*%z0+%pi)],%union()),
             %if(%z1 # 0,[x = -sqrt(2)*sqrt(%pi)*sqrt(%z1)],%union()),
             %if(%z1 # 0,[x = sqrt(2)*sqrt(%pi)*sqrt(%z1)],%union()))$
```



---

archive/issue_events_027366.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-15T21:21:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27366"
}
```



---

archive/issue_events_027367.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-15T21:21:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27367"
}
```



---

archive/issue_events_027368.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27368"
}
```



---

archive/issue_events_027369.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27369"
}
```



---

archive/issue_events_027370.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27370"
}
```



---

archive/issue_events_027371.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27371"
}
```



---

archive/issue_events_027372.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27372"
}
```



---

archive/issue_events_027373.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27373"
}
```



---

archive/issue_events_027374.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27374"
}
```



---

archive/issue_events_027375.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27375"
}
```



---

archive/issue_comments_013544.json:
```json
{
    "body": "Stopgaps: **todo**",
    "created_at": "2015-08-19T22:33:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13544",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

Stopgaps: **todo**



---

archive/issue_comments_013545.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nSO, has this issue been fixed yet? What of kcrisman and robert.marik's suggestions? Also is there a reason that there is no branch to edit?",
    "created_at": "2016-05-20T21:46:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13545",
    "user": "https://github.com/sagetrac-zonova"
}
```

<div id="comment:14" align="right">comment:14</div>

SO, has this issue been fixed yet? What of kcrisman and robert.marik's suggestions? Also is there a reason that there is no branch to edit?



---

archive/issue_comments_013546.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nPresumably not fixed.  No branch because no one has posted one yet - if you have a fix you can be the first to post a branch!",
    "created_at": "2016-05-23T13:58:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13546",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:15" align="right">comment:15</div>

Presumably not fixed.  No branch because no one has posted one yet - if you have a fix you can be the first to post a branch!



---

archive/issue_comments_013547.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nkcrisman, in your post (from 7 years ago) you had mentioned to_poly_solve in maxima's share/contrib. It's been a while since then, so it is not located there anymore. I couldn't find it anywhere in Maxima's source on github though, so i wasn't sure if it was still used at all. Does sage/maxima use it at all? \n\nI've been looking at several old tickets, all involving solving equations. One was using find_root, which uses scipy, and the other had to do with solve just like this one. I think it would be best to just have one, no? As far as I can tell, they do about the same thing, and they both have issues. On a similar note, if to_poly_solve resolves this issue, then maybe we should use that for all equation solving?",
    "created_at": "2016-11-27T05:29:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13547",
    "user": "https://github.com/sagetrac-zonova"
}
```

<div id="comment:16" align="right">comment:16</div>

kcrisman, in your post (from 7 years ago) you had mentioned to_poly_solve in maxima's share/contrib. It's been a while since then, so it is not located there anymore. I couldn't find it anywhere in Maxima's source on github though, so i wasn't sure if it was still used at all. Does sage/maxima use it at all? 

I've been looking at several old tickets, all involving solving equations. One was using find_root, which uses scipy, and the other had to do with solve just like this one. I think it would be best to just have one, no? As far as I can tell, they do about the same thing, and they both have issues. On a similar note, if to_poly_solve resolves this issue, then maybe we should use that for all equation solving?



---

archive/issue_comments_013548.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nWe definitely have that method and it is still in Maxima.  Looks like it moved to [https://sourceforge.net/p/maxima/code/ci/master/tree/share/to_poly_solve/](https://sourceforge.net/p/maxima/code/ci/master/tree/share/to_poly_solve/).\n\nHowever, `find_root` is explicitly supposed to be a numerical solver, while `solve` is supposed to be an exact solver.  Because `to_poly_solve` sometimes returns numerical answers in rare situations, there could be some overlap.  Also, `to_poly_solve` is not what we want for all solving, because it changes some other things and of course might take longer for simple ones.  It has a specific purpose, but that is not a general purpose.\n\nOn the other hand, if sympy can now solve everything Maxima does, one could try to switch the default algorithm to use that instead.  I don't know if we're at that point, though.",
    "created_at": "2016-11-28T15:50:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13548",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:17" align="right">comment:17</div>

We definitely have that method and it is still in Maxima.  Looks like it moved to [https://sourceforge.net/p/maxima/code/ci/master/tree/share/to_poly_solve/](https://sourceforge.net/p/maxima/code/ci/master/tree/share/to_poly_solve/).

However, `find_root` is explicitly supposed to be a numerical solver, while `solve` is supposed to be an exact solver.  Because `to_poly_solve` sometimes returns numerical answers in rare situations, there could be some overlap.  Also, `to_poly_solve` is not what we want for all solving, because it changes some other things and of course might take longer for simple ones.  It has a specific purpose, but that is not a general purpose.

On the other hand, if sympy can now solve everything Maxima does, one could try to switch the default algorithm to use that instead.  I don't know if we're at that point, though.



---

archive/issue_comments_013549.json:
```json
{
    "body": "Author: **Matt Torrence**",
    "created_at": "2019-07-07T17:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13549",
    "user": "https://github.com/Torrencem"
}
```

Author: **Matt Torrence**



---

archive/issue_comments_013550.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis has still been an issue, and so I've implemented an optional solution\n\nYou can pass the optional argument (`check_domain`) to `solve`, which will tell it to check each solution it finds with SymPy to see if it's NaN. I added some documentation and an example.\n\nI ran (on my machine) all the current doc-tests with the new argument to make sure it accepts all their solutions, and it does, but I believe it significantly slows down the function, so probably should not end up defaulting to `True` without some more considerations / optimizations (especially since `solve` is widely used)\n\nSee the added documentation example:\n\n```\nsage: solve((x^2 - 1)/(sin(x - 1)) == 0, x, check_domain=True)\n[x == -1]\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d5aa9c5bfb07e613db4f17dbf10dc97cc0d6644\"><code>6d5aa9c</code></a></td><td><code>2617: Add check_domain argument to solve to remove results outside of the domain</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2cc6fd5ac64ec0a86dea43286261b8135f303d4c\"><code>2cc6fd5</code></a></td><td><code>2617: Add small documentation note</code></td></tr></table>\n",
    "created_at": "2019-07-07T17:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13550",
    "user": "https://github.com/Torrencem"
}
```

<div id="comment:18" align="right">comment:18</div>

This has still been an issue, and so I've implemented an optional solution

You can pass the optional argument (`check_domain`) to `solve`, which will tell it to check each solution it finds with SymPy to see if it's NaN. I added some documentation and an example.

I ran (on my machine) all the current doc-tests with the new argument to make sure it accepts all their solutions, and it does, but I believe it significantly slows down the function, so probably should not end up defaulting to `True` without some more considerations / optimizations (especially since `solve` is widely used)

See the added documentation example:

```
sage: solve((x^2 - 1)/(sin(x - 1)) == 0, x, check_domain=True)
[x == -1]
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d5aa9c5bfb07e613db4f17dbf10dc97cc0d6644"><code>6d5aa9c</code></a></td><td><code>2617: Add check_domain argument to solve to remove results outside of the domain</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2cc6fd5ac64ec0a86dea43286261b8135f303d4c"><code>2cc6fd5</code></a></td><td><code>2617: Add small documentation note</code></td></tr></table>




---

archive/issue_comments_013551.json:
```json
{
    "body": "Commit: **[`2cc6fd5`](https://github.com/sagemath/sagetrac-mirror/commit/2cc6fd5ac64ec0a86dea43286261b8135f303d4c)**",
    "created_at": "2019-07-07T17:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13551",
    "user": "https://github.com/Torrencem"
}
```

Commit: **[`2cc6fd5`](https://github.com/sagemath/sagetrac-mirror/commit/2cc6fd5ac64ec0a86dea43286261b8135f303d4c)**



---

archive/issue_events_027376.json:
```json
{
    "actor": "https://github.com/Torrencem",
    "created_at": "2019-07-07T17:31:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27376"
}
```



---

archive/issue_events_027377.json:
```json
{
    "actor": "https://github.com/Torrencem",
    "created_at": "2019-07-07T17:31:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27377"
}
```



---

archive/issue_comments_013552.json:
```json
{
    "body": "Branch: **[u/gh-Torrencem/2617_solve_check_domain](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Torrencem/2617_solve_check_domain)**",
    "created_at": "2019-07-07T17:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13552",
    "user": "https://github.com/Torrencem"
}
```

Branch: **[u/gh-Torrencem/2617_solve_check_domain](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Torrencem/2617_solve_check_domain)**



---

archive/issue_events_027378.json:
```json
{
    "actor": "https://github.com/Torrencem",
    "created_at": "2019-07-07T17:31:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27378"
}
```



---

archive/issue_comments_013553.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13553",
    "user": "https://github.com/embray"
}
```

<div id="comment:19" align="right">comment:19</div>

Ticket retargeted after milestone closed



---

archive/issue_events_027379.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27379"
}
```



---

archive/issue_events_027380.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27380"
}
```



---

archive/issue_comments_013554.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nOn 9.1.beta5 we get something else than the ticket description\n\n```\nsage: solve(sin(x^2)/x == 0)\n---------------------------------------------------------------------------\nIndexError                                Traceback (most recent call last)\n<ipython-input-1-e922184d1fd1> in <module>()\n----> 1 solve(sin(x**Integer(2))/x == Integer(0))\n\n/opt/sage/local/lib/python3.7/site-packages/sage/symbolic/relation.py in solve(f, *args, **kwds)\n   1016         x = args\n   1017     else:\n-> 1018         x = args[0]\n   1019     if isinstance(x, (list, tuple)):\n   1020         for i in x:\n\nIndexError: tuple index out of range\n```",
    "created_at": "2020-02-22T15:34:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13554",
    "user": "https://github.com/videlec"
}
```

<div id="comment:20" align="right">comment:20</div>

On 9.1.beta5 we get something else than the ticket description

```
sage: solve(sin(x^2)/x == 0)
---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
<ipython-input-1-e922184d1fd1> in <module>()
----> 1 solve(sin(x**Integer(2))/x == Integer(0))

/opt/sage/local/lib/python3.7/site-packages/sage/symbolic/relation.py in solve(f, *args, **kwds)
   1016         x = args
   1017     else:
-> 1018         x = args[0]
   1019     if isinstance(x, (list, tuple)):
   1020         for i in x:

IndexError: tuple index out of range
```



---

archive/issue_comments_013555.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,11 +1,11 @@\n Consider the following examples (reported by Dean Moore here: http://groups.google.com/group/sage-support/browse_thread/thread/5555e780a76b3343#)\n \n ```\n-sage: solve(sin(x^2)/x == 0)\n+sage: solve(sin(x^2)/x == 0, x)\n [x == 0]\n-sage: solve(sin(x^2)/x^2 == 0)\n+sage: solve(sin(x^2)/x^2 == 0, x)\n [x == 0]\n-sage: solve(sin(x^2)/x^3 == 0)\n+sage: solve(sin(x^2)/x^3 == 0, x)\n [x == 0]\n ```\n None of these functions are even defined at x=0, so that should not be returned as a solution.  (The first two functions can be extended to x=0 by taking limits, in which case x=0 is a solution to the first one but not the second; the third function has a vertical asymptote at x=0.)\n``````\n",
    "created_at": "2020-02-22T15:37:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13555",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,11 +1,11 @@
 Consider the following examples (reported by Dean Moore here: http://groups.google.com/group/sage-support/browse_thread/thread/5555e780a76b3343#)
 
 ```
-sage: solve(sin(x^2)/x == 0)
+sage: solve(sin(x^2)/x == 0, x)
 [x == 0]
-sage: solve(sin(x^2)/x^2 == 0)
+sage: solve(sin(x^2)/x^2 == 0, x)
 [x == 0]
-sage: solve(sin(x^2)/x^3 == 0)
+sage: solve(sin(x^2)/x^3 == 0, x)
 [x == 0]
 ```
 None of these functions are even defined at x=0, so that should not be returned as a solution.  (The first two functions can be extended to x=0 by taking limits, in which case x=0 is a solution to the first one but not the second; the third function has a vertical asymptote at x=0.)
``````




---

archive/issue_comments_013556.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nYour solution is somehow complicated and provides a wrong answer. Why not prefer\n\n```\nsage: solve(sin(x^2)/x^3 == 0, x, algorithm=\"sympy\")\nComplement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))\n```",
    "created_at": "2020-02-22T15:39:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13556",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">comment:22</div>

Your solution is somehow complicated and provides a wrong answer. Why not prefer

```
sage: solve(sin(x^2)/x^3 == 0, x, algorithm="sympy")
Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))
```



---

archive/issue_comments_013557.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2020-02-22T15:39:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13557",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_events_027381.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-22T15:39:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27381"
}
```



---

archive/issue_events_027382.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-22T15:39:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27382"
}
```



---

archive/issue_comments_013558.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@videlec](#comment%3A22):\n> Your solution is somehow complicated and provides a wrong answer. Why not prefer\n> \n> ```\n> sage: solve(sin(x^2)/x^3 == 0, x, algorithm=\"sympy\")\n> Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))\n> ```\n\nthe syntax you are providing is not user friendly. I would prefer the previous syntax.",
    "created_at": "2020-02-22T17:54:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13558",
    "user": "https://github.com/varenyamBakshi"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@videlec](#comment%3A22):
> Your solution is somehow complicated and provides a wrong answer. Why not prefer
> 
> ```
> sage: solve(sin(x^2)/x^3 == 0, x, algorithm="sympy")
> Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))
> ```

the syntax you are providing is not user friendly. I would prefer the previous syntax.



---

archive/issue_comments_013559.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@videlec](#comment%3A22):\n> Your solution is somehow complicated and provides a wrong answer. Why not prefer\n> \n> ```\n> sage: solve(sin(x^2)/x^3 == 0, x, algorithm=\"sympy\")\n> Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))\n> ```\n\nI think the syntax simplicity can be judged in the later stages, I do want to ask are you able to obtain the answer from this? because I can't seem to be getting this work, even after a certain modification, such as additional functions for testing and new variable.",
    "created_at": "2020-03-02T15:36:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13559",
    "user": "https://github.com/Shlokatadistance"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@videlec](#comment%3A22):
> Your solution is somehow complicated and provides a wrong answer. Why not prefer
> 
> ```
> sage: solve(sin(x^2)/x^3 == 0, x, algorithm="sympy")
> Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))
> ```

I think the syntax simplicity can be judged in the later stages, I do want to ask are you able to obtain the answer from this? because I can't seem to be getting this work, even after a certain modification, such as additional functions for testing and new variable.



---

archive/issue_comments_013560.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@Shlokatadistance](#comment%3A24):\n> Replying to [@videlec](#comment%3A22):\n> > Your solution is somehow complicated and provides a wrong answer. Why not prefer\n> > \n> > ```\n> > sage: solve(sin(x^2)/x^3 == 0, x, algorithm=\"sympy\")\n> > Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))\n> > ```\n\n> I think the syntax simplicity can be judged in the later stages, I do want to ask are you able to obtain the answer from this? because I can't seem to be getting this work, even after a certain modification, such as additional functions for testing and new variable.\n\nI don't understand your question. `Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))` is the answer. Not in a very nice form, but a valid answer.",
    "created_at": "2020-03-02T15:39:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13560",
    "user": "https://github.com/videlec"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@Shlokatadistance](#comment%3A24):
> Replying to [@videlec](#comment%3A22):
> > Your solution is somehow complicated and provides a wrong answer. Why not prefer
> > 
> > ```
> > sage: solve(sin(x^2)/x^3 == 0, x, algorithm="sympy")
> > Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))
> > ```

> I think the syntax simplicity can be judged in the later stages, I do want to ask are you able to obtain the answer from this? because I can't seem to be getting this work, even after a certain modification, such as additional functions for testing and new variable.

I don't understand your question. `Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))` is the answer. Not in a very nice form, but a valid answer.



---

archive/issue_comments_013561.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@videlec](#comment%3A25):\n> Replying to [@Shlokatadistance](#comment%3A24):\n> > Replying to [@videlec](#comment%3A22):\n> > > Your solution is somehow complicated and provides a wrong answer. Why not prefer\n> > > \n> > > ```\n> > > sage: solve(sin(x^2)/x^3 == 0, x, algorithm=\"sympy\")\n> > > Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))\n> > > ```\n\n> > I think the syntax simplicity can be judged in the later stages, I do want to ask are you able to obtain the answer from this? because I can't seem to be getting this work, even after a certain modification, such as additional functions for testing and new variable.\n\n> \n> I don't understand your question. `Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))` is the answer. Not in a very nice form, but a valid answer.\n\nAhh my bad, I was trying to obtain a more numeric based answer, I did see that the second statement did resemble the solution",
    "created_at": "2020-03-02T16:00:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13561",
    "user": "https://github.com/Shlokatadistance"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@videlec](#comment%3A25):
> Replying to [@Shlokatadistance](#comment%3A24):
> > Replying to [@videlec](#comment%3A22):
> > > Your solution is somehow complicated and provides a wrong answer. Why not prefer
> > > 
> > > ```
> > > sage: solve(sin(x^2)/x^3 == 0, x, algorithm="sympy")
> > > Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))
> > > ```

> > I think the syntax simplicity can be judged in the later stages, I do want to ask are you able to obtain the answer from this? because I can't seem to be getting this work, even after a certain modification, such as additional functions for testing and new variable.

> 
> I don't understand your question. `Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))` is the answer. Not in a very nice form, but a valid answer.

Ahh my bad, I was trying to obtain a more numeric based answer, I did see that the second statement did resemble the solution



---

archive/issue_comments_013562.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@Shlokatadistance](#comment%3A26):\n> Replying to [@videlec](#comment%3A25):\n> > Replying to [@Shlokatadistance](#comment%3A24):\n> > > Replying to [@videlec](#comment%3A22):\n> > > > Your solution is somehow complicated and provides a wrong answer. Why not prefer\n> > > > \n> > > > ```\n> > > > sage: solve(sin(x^2)/x^3 == 0, x, algorithm=\"sympy\")\n> > > > Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))\n> > > > ```\n\n> > > I think the syntax simplicity can be judged in the later stages, I do want to ask are you able to obtain the answer from this? because I can't seem to be getting this work, even after a certain modification, such as additional functions for testing and new variable.\n\n> > \n> > I don't understand your question. `Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))` is the answer. Not in a very nice form, but a valid answer.\n\n> \n> Ahh my bad, I was trying to obtain a more numeric based answer, I did see that the second statement did resemble the solution\n\nIdeally, it should be possible to convert it to the parametrized set `{sqrt(2*n*pi): n in ZZ \\ {0}}`.",
    "created_at": "2020-03-02T16:31:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13562",
    "user": "https://github.com/videlec"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@Shlokatadistance](#comment%3A26):
> Replying to [@videlec](#comment%3A25):
> > Replying to [@Shlokatadistance](#comment%3A24):
> > > Replying to [@videlec](#comment%3A22):
> > > > Your solution is somehow complicated and provides a wrong answer. Why not prefer
> > > > 
> > > > ```
> > > > sage: solve(sin(x^2)/x^3 == 0, x, algorithm="sympy")
> > > > Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))
> > > > ```

> > > I think the syntax simplicity can be judged in the later stages, I do want to ask are you able to obtain the answer from this? because I can't seem to be getting this work, even after a certain modification, such as additional functions for testing and new variable.

> > 
> > I don't understand your question. `Complement(ConditionSet(x, Eq(sin(x**2), 0), Complexes), FiniteSet(0))` is the answer. Not in a very nice form, but a valid answer.

> 
> Ahh my bad, I was trying to obtain a more numeric based answer, I did see that the second statement did resemble the solution

Ideally, it should be possible to convert it to the parametrized set `{sqrt(2*n*pi): n in ZZ \ {0}}`.



---

archive/issue_comments_013563.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nYes exactly, from what I reckon the procedure is simply returning like a set, and I think that has to do with the way the conditions were defined. I think by providing a few other cases on the same will help us resolve this issue, something along the lines of\n\n```\ndef condition_set():\n   for x in solution_set # this can be solution set for our trigonometric functions\n       a = solve(the given problem)\n       ans = pi_set(a) # pi_set is the set of our pi value, based on a random value\n      return ans\n```\nSomething along these lines , of course this is just a suggestion",
    "created_at": "2020-03-21T19:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13563",
    "user": "https://github.com/Shlokatadistance"
}
```

<div id="comment:28" align="right">comment:28</div>

Yes exactly, from what I reckon the procedure is simply returning like a set, and I think that has to do with the way the conditions were defined. I think by providing a few other cases on the same will help us resolve this issue, something along the lines of

```
def condition_set():
   for x in solution_set # this can be solution set for our trigonometric functions
       a = solve(the given problem)
       ans = pi_set(a) # pi_set is the set of our pi value, based on a random value
      return ans
```
Something along these lines , of course this is just a suggestion



---

archive/issue_events_027383.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:29:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27383"
}
```



---

archive/issue_events_027384.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:29:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27384"
}
```



---

archive/issue_events_027385.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27385"
}
```



---

archive/issue_events_027386.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27386"
}
```



---

archive/issue_events_027387.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27387"
}
```



---

archive/issue_events_027388.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27388"
}
```



---

archive/issue_comments_013564.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nMoving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage",
    "created_at": "2021-04-02T20:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13564",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>

Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage



---

archive/issue_events_027389.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27389"
}
```



---

archive/issue_events_027390.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27390"
}
```



---

archive/issue_comments_013565.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13565",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_027391.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27391"
}
```



---

archive/issue_events_027392.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27392"
}
```



---

archive/issue_comments_013566.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nStalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2617#issuecomment-13566",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_027393.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27393"
}
```



---

archive/issue_events_027394.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27394"
}
```



---

archive/issue_events_027395.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27395"
}
```



---

archive/issue_events_027396.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2617",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2617#event-27396"
}
```
