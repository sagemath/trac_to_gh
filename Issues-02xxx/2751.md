# Issue 2751: multivariate polynomials is_homogeneous

archive/issues_002751.json:
```json
{
    "assignees": [
        "https://github.com/malb"
    ],
    "body": "\n\nComponent: **commutative algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/2751_\n\n",
    "closed_at": "2008-04-04T22:15:17Z",
    "created_at": "2008-04-01T13:18:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "multivariate polynomials is_homogeneous",
    "type": "issue",
    "updated_at": "2008-04-04T22:15:17Z",
    "url": "https://github.com/sagemath/sage/issues/2751",
    "user": "https://github.com/malb"
}
```


Component: **commutative algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/2751_





---

archive/issue_events_029099.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-04-01T13:18:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "milestone_number": null,
    "milestone_title": "sage-3.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29099"
}
```



---

archive/issue_events_029100.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-04-01T13:18:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
    "label_color": "0000ff",
    "label_name": "c: commutative algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29100"
}
```



---

archive/issue_events_029101.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-04-01T13:18:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29101"
}
```



---

archive/issue_events_029102.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-04-01T13:18:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29102"
}
```



---

archive/issue_events_029103.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-04-01T13:18:31Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "subject": "https://github.com/malb",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29103"
}
```



---

archive/issue_events_029104.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-04-01T13:18:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29104"
}
```



---

archive/issue_comments_014316.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[mpoly_is_homogenous.patch.gz](https://github.com/sagemath/sage/files/ticket2751/mpoly_is_homogenous.patch.gz)**",
    "created_at": "2008-04-01T13:19:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2751#issuecomment-14316",
    "user": "https://github.com/malb"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[mpoly_is_homogenous.patch.gz](https://github.com/sagemath/sage/files/ticket2751/mpoly_is_homogenous.patch.gz)**



---

archive/issue_events_029105.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-04-01T13:19:05Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "title_is": "multivariate polynomials is_homogeneous",
    "title_was": "multivariate polynomials i_homogeneous",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29105"
}
```



---

archive/issue_events_029106.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-04-01T13:19:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29106"
}
```



---

archive/issue_events_029107.json:
```json
{
    "actor": "https://github.com/sagetrac-jbmohler",
    "created_at": "2008-04-02T16:53:23Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "title_is": "[with patch, needs relevant doc-tests and fix] multivariate polynomials is_homogeneous",
    "title_was": "multivariate polynomials is_homogeneous",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29107"
}
```



---

archive/issue_comments_014317.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI observe that the doc-tests do not actually run this code due to the fact that is_homogeneous is overridden (as it should be) in MPolynomial_libsingular.  Indeed, the only way I can find to actually run this code in normal use is:\n\n```\nsage: R.<x,y>=BooleanPolynomialRing(2)\nsage: x.is_homogeneous()\n...\n<type 'exceptions.AttributeError'>: 'sage.rings.polynomial.pbori.BooleanMonomial' object has no attribute 'degree'\n```\nand that fails.\n\nI am of two minds:\n\n *1) This method should be implemented special for the BooleanPolynomial and the generic implementation left unneeded and unwritten\n\n *2) Or, the above bug should be fixed.\n\nMy preference is choice 1 since it seems it is generally possible to implement this function in a much faster way when you know the data layout.\n\nOr, is there some use of this function that I'm missing?",
    "created_at": "2008-04-02T16:53:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2751#issuecomment-14317",
    "user": "https://github.com/sagetrac-jbmohler"
}
```

<div id="comment:2" align="right">comment:2</div>

I observe that the doc-tests do not actually run this code due to the fact that is_homogeneous is overridden (as it should be) in MPolynomial_libsingular.  Indeed, the only way I can find to actually run this code in normal use is:

```
sage: R.<x,y>=BooleanPolynomialRing(2)
sage: x.is_homogeneous()
...
<type 'exceptions.AttributeError'>: 'sage.rings.polynomial.pbori.BooleanMonomial' object has no attribute 'degree'
```
and that fails.

I am of two minds:

 *1) This method should be implemented special for the BooleanPolynomial and the generic implementation left unneeded and unwritten

 *2) Or, the above bug should be fixed.

My preference is choice 1 since it seems it is generally possible to implement this function in a much faster way when you know the data layout.

Or, is there some use of this function that I'm missing?



---

archive/issue_comments_014318.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThat means that I forgot to submit the degree method, sorry bout that. I think both (1) and (2) should be implemented such that there are fall-back default implementations for most stuff.",
    "created_at": "2008-04-02T17:12:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2751#issuecomment-14318",
    "user": "https://github.com/malb"
}
```

<div id="comment:3" align="right">comment:3</div>

That means that I forgot to submit the degree method, sorry bout that. I think both (1) and (2) should be implemented such that there are fall-back default implementations for most stuff.



---

archive/issue_comments_014319.json:
```json
{
    "body": "Attachment: **[mpoly_is_homogenous_addon.patch.gz](https://github.com/sagemath/sage/files/ticket2751/mpoly_is_homogenous_addon.patch.gz)**",
    "created_at": "2008-04-04T11:35:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2751#issuecomment-14319",
    "user": "https://github.com/malb"
}
```

Attachment: **[mpoly_is_homogenous_addon.patch.gz](https://github.com/sagemath/sage/files/ticket2751/mpoly_is_homogenous_addon.patch.gz)**



---

archive/issue_events_029108.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2008-04-04T11:35:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "title_is": "multivariate polynomials is_homogeneous",
    "title_was": "[with patch, needs relevant doc-tests and fix] multivariate polynomials is_homogeneous",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29108"
}
```



---

archive/issue_comments_014320.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe attached patch addresses Joel's critique.",
    "created_at": "2008-04-04T11:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2751#issuecomment-14320",
    "user": "https://github.com/malb"
}
```

<div id="comment:4" align="right">comment:4</div>

The attached patch addresses Joel's critique.



---

archive/issue_comments_014321.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nOn the basis of what I see in the patch, I think I give a positive review.  However, the patch doesn't apply cleanly and I'm not at all sure what was intended with the unapplied hunk.",
    "created_at": "2008-04-04T16:37:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2751#issuecomment-14321",
    "user": "https://github.com/sagetrac-jbmohler"
}
```

<div id="comment:5" align="right">comment:5</div>

On the basis of what I see in the patch, I think I give a positive review.  However, the patch doesn't apply cleanly and I'm not at all sure what was intended with the unapplied hunk.



---

archive/issue_events_029109.json:
```json
{
    "actor": "https://github.com/sagetrac-jbmohler",
    "created_at": "2008-04-04T16:37:04Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "title_is": "[with patch, patch doesn't apply cleanly, needs review] multivariate polynomials is_homogeneous",
    "title_was": "multivariate polynomials is_homogeneous",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29109"
}
```



---

archive/issue_comments_014322.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@sagetrac-jbmohler](#comment:5):\n> However, the patch doesn't apply cleanly and I'm not at all sure what was intended \n> with the unapplied hunk.\n\nWhat version are you using 2.11 or 3.0.alpha0?",
    "created_at": "2008-04-04T16:44:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2751#issuecomment-14322",
    "user": "https://github.com/malb"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@sagetrac-jbmohler](#comment:5):
> However, the patch doesn't apply cleanly and I'm not at all sure what was intended 
> with the unapplied hunk.

What version are you using 2.11 or 3.0.alpha0?



---

archive/issue_comments_014323.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThe do apply cleanly [the second patch with slight offsets] to my tree:\n\n```\nmabshoff@sage:/scratch/mabshoff/release-cycle/sage-3.0.alpha1/devel/sage$ patch -p1  < trac_2751_mpoly_is_homogenous.patch\npatching file sage/rings/polynomial/multi_polynomial.pyx\nmabshoff@sage:/scratch/mabshoff/release-cycle/sage-3.0.alpha1/devel/sage$ patch -p1  < trac_2751_mpoly_is_homogenous_addon.patch\npatching file sage/rings/polynomial/multi_polynomial.pyx\npatching file sage/rings/polynomial/pbori.pyx\nHunk #1 succeeded at 1432 (offset -120 lines).\nHunk #2 succeeded at 1443 (offset -120 lines).\n```\n\nAll doctests pass. Is that enough for a positive review from jbmoehler?\n\nCheers,\n\nMichael",
    "created_at": "2008-04-04T17:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2751#issuecomment-14323",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:7" align="right">comment:7</div>

The do apply cleanly [the second patch with slight offsets] to my tree:

```
mabshoff@sage:/scratch/mabshoff/release-cycle/sage-3.0.alpha1/devel/sage$ patch -p1  < trac_2751_mpoly_is_homogenous.patch
patching file sage/rings/polynomial/multi_polynomial.pyx
mabshoff@sage:/scratch/mabshoff/release-cycle/sage-3.0.alpha1/devel/sage$ patch -p1  < trac_2751_mpoly_is_homogenous_addon.patch
patching file sage/rings/polynomial/multi_polynomial.pyx
patching file sage/rings/polynomial/pbori.pyx
Hunk #1 succeeded at 1432 (offset -120 lines).
Hunk #2 succeeded at 1443 (offset -120 lines).
```

All doctests pass. Is that enough for a positive review from jbmoehler?

Cheers,

Michael



---

archive/issue_events_029110.json:
```json
{
    "actor": "https://github.com/sagetrac-jbmohler",
    "created_at": "2008-04-04T20:37:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "title_is": "multivariate polynomials is_homogeneous",
    "title_was": "[with patch, patch doesn't apply cleanly, needs review] multivariate polynomials is_homogeneous",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29110"
}
```



---

archive/issue_events_029111.json:
```json
{
    "actor": "https://github.com/sagetrac-jbmohler",
    "created_at": "2008-04-04T20:37:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29111"
}
```



---

archive/issue_events_029112.json:
```json
{
    "actor": "https://github.com/sagetrac-jbmohler",
    "created_at": "2008-04-04T20:37:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29112"
}
```



---

archive/issue_comments_014324.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nYes, passing doc-tests are sufficient (I was using 2.11) (I wasn't aware that 3.0 and gotten that far already -- sorry about that)",
    "created_at": "2008-04-04T20:37:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2751#issuecomment-14324",
    "user": "https://github.com/sagetrac-jbmohler"
}
```

<div id="comment:8" align="right">comment:8</div>

Yes, passing doc-tests are sufficient (I was using 2.11) (I wasn't aware that 3.0 and gotten that far already -- sorry about that)



---

archive/issue_comments_014325.json:
```json
{
    "body": "Attachment: **[2751-2.patch.gz](https://github.com/sagemath/sage/files/ticket2751/2751-2.patch.gz)**",
    "created_at": "2008-04-04T20:56:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2751#issuecomment-14325",
    "user": "https://github.com/mwhansen"
}
```

Attachment: **[2751-2.patch.gz](https://github.com/sagemath/sage/files/ticket2751/2751-2.patch.gz)**



---

archive/issue_comments_014326.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nRe 2751-2.patch:\n\n```\n[22:22] <mhansen> mabshoff: I got a doctest failure with 2751.\n[22:22] <mabshoff> ok. Which one?\n[22:23] <mhansen> The second patch -- P.<x,y> = PolynomialBooleanRing() fails.\n[22:23] <mabshoff> That depends on another patch I merged.\n[22:24] <mhansen> Ahh, I see.  Then ignore my new patch.\n[22:24] <mabshoff> There is a simplification patch for the PolyBoRi constructor\n[22:24] <mabshoff> :)\n[22:24] <mhansen> Yep, that should be done.\n```\n\nCheers,\n\nMichael",
    "created_at": "2008-04-04T20:59:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2751#issuecomment-14326",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:9" align="right">comment:9</div>

Re 2751-2.patch:

```
[22:22] <mhansen> mabshoff: I got a doctest failure with 2751.
[22:22] <mabshoff> ok. Which one?
[22:23] <mhansen> The second patch -- P.<x,y> = PolynomialBooleanRing() fails.
[22:23] <mabshoff> That depends on another patch I merged.
[22:24] <mhansen> Ahh, I see.  Then ignore my new patch.
[22:24] <mabshoff> There is a simplification patch for the PolyBoRi constructor
[22:24] <mabshoff> :)
[22:24] <mhansen> Yep, that should be done.
```

Cheers,

Michael



---

archive/issue_comments_014327.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nMerged in Sage 3.0.alpha1",
    "created_at": "2008-04-04T22:15:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2751#issuecomment-14327",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:10" align="right">comment:10</div>

Merged in Sage 3.0.alpha1



---

archive/issue_events_029113.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-04-04T22:15:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29113"
}
```



---

archive/issue_events_029114.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-04-04T22:15:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/2751",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2751#event-29114"
}
```
