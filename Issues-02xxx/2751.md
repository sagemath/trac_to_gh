# Issue 2751: multivariate polynomials is_homogeneous

archive/issues_002751.json:
```json
{
    "body": "\n\n**Assignee:** @malb\n\nIssue created by migration from https://trac.sagemath.org/ticket/2751\n\n",
    "closed_at": "2008-04-04T22:15:17Z",
    "created_at": "2008-04-01T13:18:31Z",
    "labels": [
        "component: commutative algebra",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.0",
    "title": "multivariate polynomials is_homogeneous",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/2751",
    "user": "https://github.com/malb"
}
```


**Assignee:** @malb

Issue created by migration from https://trac.sagemath.org/ticket/2751





---

archive/attachments_002558.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "mpoly_is_homogenous.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket2751/mpoly_is_homogenous.patch",
    "created_at": "2008-04-01T13:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_018590.json:
```json
{
    "body": "<a id='comment:1'></a>\n",
    "created_at": "2008-04-01T13:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18590",
    "user": "https://github.com/malb"
}
```

<a id='comment:1'></a>




---

archive/issue_events_007937.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "rename": {
        "from": "multivariate polynomials i_homogeneous",
        "to": "multivariate polynomials is_homogeneous"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2751#event-7937"
}
```



---

archive/issue_comments_018591.json:
```json
{
    "body": "**Changing status** from needs_review to needs_review.",
    "created_at": "2008-04-01T13:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18591",
    "user": "https://github.com/malb"
}
```

**Changing status** from needs_review to needs_review.



---

archive/issue_events_007938.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "rename": {
        "from": "multivariate polynomials is_homogeneous",
        "to": "[with patch, needs relevant doc-tests and fix] multivariate polynomials is_homogeneous"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2751#event-7938"
}
```



---

archive/issue_comments_018592.json:
```json
{
    "body": "<a id='comment:2'></a>\nI observe that the doc-tests do not actually run this code due to the fact that is_homogeneous is overridden (as it should be) in MPolynomial_libsingular.  Indeed, the only way I can find to actually run this code in normal use is:\n\n```\nsage: R.<x,y>=BooleanPolynomialRing(2)\nsage: x.is_homogeneous()\n...\n<type 'exceptions.AttributeError'>: 'sage.rings.polynomial.pbori.BooleanMonomial' object has no attribute 'degree'\n```\nand that fails.\n\nI am of two minds:\n\n *1) This method should be implemented special for the BooleanPolynomial and the generic implementation left unneeded and unwritten\n\n *2) Or, the above bug should be fixed.\n\nMy preference is choice 1 since it seems it is generally possible to implement this function in a much faster way when you know the data layout.\n\nOr, is there some use of this function that I'm missing?",
    "created_at": "2008-04-02T16:53:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18592",
    "user": "https://trac.sagemath.org/admin/accounts/users/jbmohler"
}
```

<a id='comment:2'></a>
I observe that the doc-tests do not actually run this code due to the fact that is_homogeneous is overridden (as it should be) in MPolynomial_libsingular.  Indeed, the only way I can find to actually run this code in normal use is:

```
sage: R.<x,y>=BooleanPolynomialRing(2)
sage: x.is_homogeneous()
...
<type 'exceptions.AttributeError'>: 'sage.rings.polynomial.pbori.BooleanMonomial' object has no attribute 'degree'
```
and that fails.

I am of two minds:

 *1) This method should be implemented special for the BooleanPolynomial and the generic implementation left unneeded and unwritten

 *2) Or, the above bug should be fixed.

My preference is choice 1 since it seems it is generally possible to implement this function in a much faster way when you know the data layout.

Or, is there some use of this function that I'm missing?



---

archive/issue_comments_018593.json:
```json
{
    "body": "<a id='comment:3'></a>\nThat means that I forgot to submit the degree method, sorry bout that. I think both (1) and (2) should be implemented such that there are fall-back default implementations for most stuff.",
    "created_at": "2008-04-02T17:12:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18593",
    "user": "https://github.com/malb"
}
```

<a id='comment:3'></a>
That means that I forgot to submit the degree method, sorry bout that. I think both (1) and (2) should be implemented such that there are fall-back default implementations for most stuff.



---

archive/attachments_002559.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "mpoly_is_homogenous_addon.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket2751/mpoly_is_homogenous_addon.patch",
    "created_at": "2008-04-04T11:35:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/malb"
}
```



---

archive/issue_comments_018594.json:
```json
{
    "body": "",
    "created_at": "2008-04-04T11:35:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18594",
    "user": "https://github.com/malb"
}
```





---

archive/issue_events_007939.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "rename": {
        "from": "[with patch, needs relevant doc-tests and fix] multivariate polynomials is_homogeneous",
        "to": "multivariate polynomials is_homogeneous"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2751#event-7939"
}
```



---

archive/issue_comments_018595.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2008-04-04T11:35:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18595",
    "user": "https://github.com/malb"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_018596.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe attached patch addresses Joel's critique.",
    "created_at": "2008-04-04T11:35:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18596",
    "user": "https://github.com/malb"
}
```

<a id='comment:4'></a>
The attached patch addresses Joel's critique.



---

archive/issue_comments_018597.json:
```json
{
    "body": "<a id='comment:5'></a>\nOn the basis of what I see in the patch, I think I give a positive review.  However, the patch doesn't apply cleanly and I'm not at all sure what was intended with the unapplied hunk.",
    "created_at": "2008-04-04T16:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18597",
    "user": "https://trac.sagemath.org/admin/accounts/users/jbmohler"
}
```

<a id='comment:5'></a>
On the basis of what I see in the patch, I think I give a positive review.  However, the patch doesn't apply cleanly and I'm not at all sure what was intended with the unapplied hunk.



---

archive/issue_events_007940.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "rename": {
        "from": "multivariate polynomials is_homogeneous",
        "to": "[with patch, patch doesn't apply cleanly, needs review] multivariate polynomials is_homogeneous"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2751#event-7940"
}
```



---

archive/issue_comments_018598.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [jbmohler](#comment%3A5):\n> However, the patch doesn't apply cleanly and I'm not at all sure what was intended \n> with the unapplied hunk.\n\n\nWhat version are you using 2.11 or 3.0.alpha0?",
    "created_at": "2008-04-04T16:44:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18598",
    "user": "https://github.com/malb"
}
```

<a id='comment:6'></a>
Replying to [jbmohler](#comment%3A5):
> However, the patch doesn't apply cleanly and I'm not at all sure what was intended 
> with the unapplied hunk.


What version are you using 2.11 or 3.0.alpha0?



---

archive/issue_comments_018599.json:
```json
{
    "body": "<a id='comment:7'></a>\nThe do apply cleanly [the second patch with slight offsets] to my tree:\n\n```\nmabshoff@sage:/scratch/mabshoff/release-cycle/sage-3.0.alpha1/devel/sage$ patch -p1  < trac_2751_mpoly_is_homogenous.patch\npatching file sage/rings/polynomial/multi_polynomial.pyx\nmabshoff@sage:/scratch/mabshoff/release-cycle/sage-3.0.alpha1/devel/sage$ patch -p1  < trac_2751_mpoly_is_homogenous_addon.patch\npatching file sage/rings/polynomial/multi_polynomial.pyx\npatching file sage/rings/polynomial/pbori.pyx\nHunk #1 succeeded at 1432 (offset -120 lines).\nHunk #2 succeeded at 1443 (offset -120 lines).\n```\n\nAll doctests pass. Is that enough for a positive review from jbmoehler?\n\nCheers,\n\nMichael",
    "created_at": "2008-04-04T17:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18599",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:7'></a>
The do apply cleanly [the second patch with slight offsets] to my tree:

```
mabshoff@sage:/scratch/mabshoff/release-cycle/sage-3.0.alpha1/devel/sage$ patch -p1  < trac_2751_mpoly_is_homogenous.patch
patching file sage/rings/polynomial/multi_polynomial.pyx
mabshoff@sage:/scratch/mabshoff/release-cycle/sage-3.0.alpha1/devel/sage$ patch -p1  < trac_2751_mpoly_is_homogenous_addon.patch
patching file sage/rings/polynomial/multi_polynomial.pyx
patching file sage/rings/polynomial/pbori.pyx
Hunk #1 succeeded at 1432 (offset -120 lines).
Hunk #2 succeeded at 1443 (offset -120 lines).
```

All doctests pass. Is that enough for a positive review from jbmoehler?

Cheers,

Michael



---

archive/issue_events_007941.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "rename": {
        "from": "[with patch, patch doesn't apply cleanly, needs review] multivariate polynomials is_homogeneous",
        "to": "multivariate polynomials is_homogeneous"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2751#event-7941"
}
```



---

archive/issue_comments_018600.json:
```json
{
    "body": "**Changing status** from new to positive_review.",
    "created_at": "2008-04-04T20:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18600",
    "user": "https://trac.sagemath.org/admin/accounts/users/jbmohler"
}
```

**Changing status** from new to positive_review.



---

archive/issue_comments_018601.json:
```json
{
    "body": "<a id='comment:8'></a>\nYes, passing doc-tests are sufficient (I was using 2.11) (I wasn't aware that 3.0 and gotten that far already -- sorry about that)",
    "created_at": "2008-04-04T20:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18601",
    "user": "https://trac.sagemath.org/admin/accounts/users/jbmohler"
}
```

<a id='comment:8'></a>
Yes, passing doc-tests are sufficient (I was using 2.11) (I wasn't aware that 3.0 and gotten that far already -- sorry about that)



---

archive/attachments_002560.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "2751-2.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket2751/2751-2.patch",
    "created_at": "2008-04-04T20:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/mwhansen"
}
```



---

archive/issue_comments_018602.json:
```json
{
    "body": "",
    "created_at": "2008-04-04T20:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18602",
    "user": "https://github.com/mwhansen"
}
```





---

archive/issue_comments_018603.json:
```json
{
    "body": "<a id='comment:9'></a>\nRe 2751-2.patch:\n\n```\n[22:22] <mhansen> mabshoff: I got a doctest failure with 2751.\n[22:22] <mabshoff> ok. Which one?\n[22:23] <mhansen> The second patch -- P.<x,y> = PolynomialBooleanRing() fails.\n[22:23] <mabshoff> That depends on another patch I merged.\n[22:24] <mhansen> Ahh, I see.  Then ignore my new patch.\n[22:24] <mabshoff> There is a simplification patch for the PolyBoRi constructor\n[22:24] <mabshoff> :)\n[22:24] <mhansen> Yep, that should be done.\n```\n\nCheers,\n\nMichael",
    "created_at": "2008-04-04T20:59:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18603",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:9'></a>
Re 2751-2.patch:

```
[22:22] <mhansen> mabshoff: I got a doctest failure with 2751.
[22:22] <mabshoff> ok. Which one?
[22:23] <mhansen> The second patch -- P.<x,y> = PolynomialBooleanRing() fails.
[22:23] <mabshoff> That depends on another patch I merged.
[22:24] <mhansen> Ahh, I see.  Then ignore my new patch.
[22:24] <mabshoff> There is a simplification patch for the PolyBoRi constructor
[22:24] <mabshoff> :)
[22:24] <mhansen> Yep, that should be done.
```

Cheers,

Michael



---

archive/issue_comments_018604.json:
```json
{
    "body": "<a id='comment:10'></a>\nMerged in Sage 3.0.alpha1",
    "created_at": "2008-04-04T22:15:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18604",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:10'></a>
Merged in Sage 3.0.alpha1



---

archive/issue_events_007942.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-04-04T22:15:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2751#event-7942"
}
```
