# Issue 2751: [with patch, positive review] multivariate polynomials is_homogeneous

archive/issues_002751.json:
```json
{
    "body": "\n\nAssignee: @malb\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/2751\n\n",
    "closed_at": "2008-04-04T22:15:17Z",
    "created_at": "2008-04-01T13:18:31Z",
    "labels": [
        "component: commutative algebra",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.0",
    "title": "[with patch, positive review] multivariate polynomials is_homogeneous",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/2751",
    "user": "https://github.com/malb"
}
```


Assignee: @malb

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/2751





---

archive/issue_comments_018849.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [mpoly_is_homogenous.patch](tarball://root/attachments/some-uuid/ticket2751/mpoly_is_homogenous.patch) by @malb created at 2008-04-01 13:19:05",
    "created_at": "2008-04-01T13:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18849",
    "user": "https://github.com/malb"
}
```

<a id='comment:1'></a>Attachment [mpoly_is_homogenous.patch](tarball://root/attachments/some-uuid/ticket2751/mpoly_is_homogenous.patch) by @malb created at 2008-04-01 13:19:05



---

archive/issue_comments_018850.json:
```json
{
    "body": "<a id='comment:2'></a>I observe that the doc-tests do not actually run this code due to the fact that is_homogeneous is overridden (as it should be) in MPolynomial_libsingular.  Indeed, the only way I can find to actually run this code in normal use is:\n\n```\nsage: R.<x,y>=BooleanPolynomialRing(2)\nsage: x.is_homogeneous()\n...\n<type 'exceptions.AttributeError'>: 'sage.rings.polynomial.pbori.BooleanMonomial' object has no attribute 'degree'\n```\nand that fails.\n\nI am of two minds:\n\n *1) This method should be implemented special for the BooleanPolynomial and the generic implementation left unneeded and unwritten\n\n *2) Or, the above bug should be fixed.\n\nMy preference is choice 1 since it seems it is generally possible to implement this function in a much faster way when you know the data layout.\n\nOr, is there some use of this function that I'm missing?",
    "created_at": "2008-04-02T16:53:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18850",
    "user": "https://trac.sagemath.org/admin/accounts/users/jbmohler"
}
```

<a id='comment:2'></a>I observe that the doc-tests do not actually run this code due to the fact that is_homogeneous is overridden (as it should be) in MPolynomial_libsingular.  Indeed, the only way I can find to actually run this code in normal use is:

```
sage: R.<x,y>=BooleanPolynomialRing(2)
sage: x.is_homogeneous()
...
<type 'exceptions.AttributeError'>: 'sage.rings.polynomial.pbori.BooleanMonomial' object has no attribute 'degree'
```
and that fails.

I am of two minds:

 *1) This method should be implemented special for the BooleanPolynomial and the generic implementation left unneeded and unwritten

 *2) Or, the above bug should be fixed.

My preference is choice 1 since it seems it is generally possible to implement this function in a much faster way when you know the data layout.

Or, is there some use of this function that I'm missing?



---

archive/issue_comments_018851.json:
```json
{
    "body": "<a id='comment:3'></a>That means that I forgot to submit the degree method, sorry bout that. I think both (1) and (2) should be implemented such that there are fall-back default implementations for most stuff.",
    "created_at": "2008-04-02T17:12:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18851",
    "user": "https://github.com/malb"
}
```

<a id='comment:3'></a>That means that I forgot to submit the degree method, sorry bout that. I think both (1) and (2) should be implemented such that there are fall-back default implementations for most stuff.



---

archive/issue_comments_018852.json:
```json
{
    "body": "Attachment [mpoly_is_homogenous_addon.patch](tarball://root/attachments/some-uuid/ticket2751/mpoly_is_homogenous_addon.patch) by @malb created at 2008-04-04 11:35:05",
    "created_at": "2008-04-04T11:35:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18852",
    "user": "https://github.com/malb"
}
```

Attachment [mpoly_is_homogenous_addon.patch](tarball://root/attachments/some-uuid/ticket2751/mpoly_is_homogenous_addon.patch) by @malb created at 2008-04-04 11:35:05



---

archive/issue_comments_018853.json:
```json
{
    "body": "<a id='comment:4'></a>The attached patch addresses Joel's critique.",
    "created_at": "2008-04-04T11:35:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18853",
    "user": "https://github.com/malb"
}
```

<a id='comment:4'></a>The attached patch addresses Joel's critique.



---

archive/issue_comments_018854.json:
```json
{
    "body": "<a id='comment:5'></a>On the basis of what I see in the patch, I think I give a positive review.  However, the patch doesn't apply cleanly and I'm not at all sure what was intended with the unapplied hunk.",
    "created_at": "2008-04-04T16:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18854",
    "user": "https://trac.sagemath.org/admin/accounts/users/jbmohler"
}
```

<a id='comment:5'></a>On the basis of what I see in the patch, I think I give a positive review.  However, the patch doesn't apply cleanly and I'm not at all sure what was intended with the unapplied hunk.



---

archive/issue_comments_018855.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 jbmohler]:\n> However, the patch doesn't apply cleanly and I'm not at all sure what was intended \n> with the unapplied hunk.\n\n\nWhat version are you using 2.11 or 3.0.alpha0?",
    "created_at": "2008-04-04T16:44:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18855",
    "user": "https://github.com/malb"
}
```

<a id='comment:6'></a>Replying to [comment:5 jbmohler]:
> However, the patch doesn't apply cleanly and I'm not at all sure what was intended 
> with the unapplied hunk.


What version are you using 2.11 or 3.0.alpha0?



---

archive/issue_comments_018856.json:
```json
{
    "body": "<a id='comment:7'></a>The do apply cleanly [the second patch with slight offsets] to my tree:\n\n```\nmabshoff@sage:/scratch/mabshoff/release-cycle/sage-3.0.alpha1/devel/sage$ patch -p1  < trac_2751_mpoly_is_homogenous.patch\npatching file sage/rings/polynomial/multi_polynomial.pyx\nmabshoff@sage:/scratch/mabshoff/release-cycle/sage-3.0.alpha1/devel/sage$ patch -p1  < trac_2751_mpoly_is_homogenous_addon.patch\npatching file sage/rings/polynomial/multi_polynomial.pyx\npatching file sage/rings/polynomial/pbori.pyx\nHunk #1 succeeded at 1432 (offset -120 lines).\nHunk #2 succeeded at 1443 (offset -120 lines).\n```\n\nAll doctests pass. Is that enough for a positive review from jbmoehler?\n\nCheers,\n\nMichael",
    "created_at": "2008-04-04T17:06:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18856",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:7'></a>The do apply cleanly [the second patch with slight offsets] to my tree:

```
mabshoff@sage:/scratch/mabshoff/release-cycle/sage-3.0.alpha1/devel/sage$ patch -p1  < trac_2751_mpoly_is_homogenous.patch
patching file sage/rings/polynomial/multi_polynomial.pyx
mabshoff@sage:/scratch/mabshoff/release-cycle/sage-3.0.alpha1/devel/sage$ patch -p1  < trac_2751_mpoly_is_homogenous_addon.patch
patching file sage/rings/polynomial/multi_polynomial.pyx
patching file sage/rings/polynomial/pbori.pyx
Hunk #1 succeeded at 1432 (offset -120 lines).
Hunk #2 succeeded at 1443 (offset -120 lines).
```

All doctests pass. Is that enough for a positive review from jbmoehler?

Cheers,

Michael



---

archive/issue_comments_018857.json:
```json
{
    "body": "<a id='comment:8'></a>Yes, passing doc-tests are sufficient (I was using 2.11) (I wasn't aware that 3.0 and gotten that far already -- sorry about that)",
    "created_at": "2008-04-04T20:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18857",
    "user": "https://trac.sagemath.org/admin/accounts/users/jbmohler"
}
```

<a id='comment:8'></a>Yes, passing doc-tests are sufficient (I was using 2.11) (I wasn't aware that 3.0 and gotten that far already -- sorry about that)



---

archive/issue_comments_018858.json:
```json
{
    "body": "Attachment [2751-2.patch](tarball://root/attachments/some-uuid/ticket2751/2751-2.patch) by @mwhansen created at 2008-04-04 20:56:19",
    "created_at": "2008-04-04T20:56:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18858",
    "user": "https://github.com/mwhansen"
}
```

Attachment [2751-2.patch](tarball://root/attachments/some-uuid/ticket2751/2751-2.patch) by @mwhansen created at 2008-04-04 20:56:19



---

archive/issue_comments_018859.json:
```json
{
    "body": "<a id='comment:9'></a>Re 2751-2.patch:\n\n```\n[22:22] <mhansen> mabshoff: I got a doctest failure with 2751.\n[22:22] <mabshoff> ok. Which one?\n[22:23] <mhansen> The second patch -- P.<x,y> = PolynomialBooleanRing() fails.\n[22:23] <mabshoff> That depends on another patch I merged.\n[22:24] <mhansen> Ahh, I see.  Then ignore my new patch.\n[22:24] <mabshoff> There is a simplification patch for the PolyBoRi constructor\n[22:24] <mabshoff> :)\n[22:24] <mhansen> Yep, that should be done.\n```\n\nCheers,\n\nMichael",
    "created_at": "2008-04-04T20:59:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18859",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:9'></a>Re 2751-2.patch:

```
[22:22] <mhansen> mabshoff: I got a doctest failure with 2751.
[22:22] <mabshoff> ok. Which one?
[22:23] <mhansen> The second patch -- P.<x,y> = PolynomialBooleanRing() fails.
[22:23] <mabshoff> That depends on another patch I merged.
[22:24] <mhansen> Ahh, I see.  Then ignore my new patch.
[22:24] <mabshoff> There is a simplification patch for the PolyBoRi constructor
[22:24] <mabshoff> :)
[22:24] <mhansen> Yep, that should be done.
```

Cheers,

Michael



---

archive/issue_comments_018860.json:
```json
{
    "body": "<a id='comment:10'></a>Merged in Sage 3.0.alpha1",
    "created_at": "2008-04-04T22:15:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18860",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:10'></a>Merged in Sage 3.0.alpha1



---

archive/issue_events_006383.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-04-04T22:15:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2751#event-6383"
}
```



---

archive/issue_comments_018861.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2008-04-04T22:15:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2751#issuecomment-18861",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Resolution: fixed
