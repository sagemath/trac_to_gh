# Issue 2783: notebook -- ocassional "crap" in output like this   print "\x01r\x01e580"

archive/issues_002783.json:
```json
{
    "assignees": [],
    "body": "** NOTE: If we can't find a way to reliably replicate this issue by June 1, 2008, then this ticket should be closed as invalid. It could have just been an issue with the particular alpha version of Sage I was using or something. **  \n\nHi,\n\nI was very embarrassed while teaching today since maybe 15 times I got\ncrap like this in the output from the notebook:\n\n```\nprint \"\\x01r\\x01e580\"\n```\n\nThis is from the synchronization code that *I* wrote.  It \"should\" never happen.  Anyways it does -- but of course only when 40 people are watching you :-(.  Anyways, to solve this ticket should mean to simply look at that synchro code again, think about it, and rewrite it in a way that is `_more_` robust. \n\nWilliam\n\nAssignee: **@sagetrac-boothby**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/2783_\n\n",
    "closed_at": "2009-11-18T09:36:28Z",
    "created_at": "2008-04-02T22:17:45Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20notebook",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "notebook -- ocassional \"crap\" in output like this   print \"\\x01r\\x01e580\"",
    "type": "issue",
    "updated_at": "2009-11-18T09:36:28Z",
    "url": "https://github.com/sagemath/sage/issues/2783",
    "user": "https://github.com/williamstein"
}
```
** NOTE: If we can't find a way to reliably replicate this issue by June 1, 2008, then this ticket should be closed as invalid. It could have just been an issue with the particular alpha version of Sage I was using or something. **  

Hi,

I was very embarrassed while teaching today since maybe 15 times I got
crap like this in the output from the notebook:

```
print "\x01r\x01e580"
```

This is from the synchronization code that *I* wrote.  It "should" never happen.  Anyways it does -- but of course only when 40 people are watching you :-(.  Anyways, to solve this ticket should mean to simply look at that synchro code again, think about it, and rewrite it in a way that is `_more_` robust. 

William

Assignee: **@sagetrac-boothby**

_Issue created by migration from https://trac.sagemath.org/ticket/2783_





---

archive/issue_events_025952.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-04-02T22:17:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "milestone_number": null,
    "milestone_title": "sage-3.1.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2783#event-25952"
}
```



---

archive/issue_events_025953.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-04-02T22:17:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20notebook",
    "label_color": "000080",
    "label_name": "component: notebook",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2783#event-25953"
}
```



---

archive/issue_events_025954.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-04-02T22:17:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2783#event-25954"
}
```



---

archive/issue_events_025955.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-04-02T22:17:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2783#event-25955"
}
```



---

archive/issue_comments_015204.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+** NOTE: If we can't find a way to reliably replicate this issue by June 1, 2008, then this ticket should be closed as invalid. It could have just been an issue with the particular alpha version of Sage I was using or something. **  \n+\n Hi,\n \n I was very embarrassed while teaching today since maybe 15 times I got\n``````\n",
    "created_at": "2008-04-13T06:15:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2783#issuecomment-15204",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+** NOTE: If we can't find a way to reliably replicate this issue by June 1, 2008, then this ticket should be closed as invalid. It could have just been an issue with the particular alpha version of Sage I was using or something. **  
+
 Hi,
 
 I was very embarrassed while teaching today since maybe 15 times I got
``````




---

archive/issue_comments_015205.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nAccording to the ticket description the ticket should be marked as invalid since it's past June 1st.",
    "created_at": "2008-09-08T14:11:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2783#issuecomment-15205",
    "user": "https://github.com/sagetrac-TimothyClemans"
}
```

<div id="comment:2" align="right">Comment 2</div>

According to the ticket description the ticket should be marked as invalid since it's past June 1st.



---

archive/issue_events_025956.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-08T18:00:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2783#event-25956"
}
```



---

archive/issue_events_025957.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-08T18:00:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2783#event-25957"
}
```



---

archive/issue_events_025958.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-08T18:00:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2783#event-25958"
}
```



---

archive/issue_events_025959.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-08T18:00:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "milestone_number": null,
    "milestone_title": "sage-3.1.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2783#event-25959"
}
```



---

archive/issue_comments_015206.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nOh well: invalid.",
    "created_at": "2008-09-08T18:00:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2783#issuecomment-15206",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:3" align="right">Comment 3</div>

Oh well: invalid.



---

archive/issue_events_025960.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-09-09T01:13:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2783#event-25960"
}
```



---

archive/issue_comments_015207.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI am reopening this since I am able to systematically replicate it now.  All you have to do is\nuse rpy from the notebook, and right after that this crap appears. \n\n\n{{\nimport rpy\nrpy.std([1..1000])\n///\nprint \"\\x01r\\x01e96\"\n288.67499025720952\n}}",
    "created_at": "2008-09-09T01:13:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2783#issuecomment-15207",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:4" align="right">Comment 4</div>

I am reopening this since I am able to systematically replicate it now.  All you have to do is
use rpy from the notebook, and right after that this crap appears. 


{{
import rpy
rpy.std([1..1000])
///
print "\x01r\x01e96"
288.67499025720952
}}



---

archive/issue_comments_015208.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\n\n```\n{{ \nimport rpy rpy.std([1..1000]) \n/// \nprint \"\\x01r\\x01e96\" 288.67499025720952 \n}}\n```",
    "created_at": "2008-09-09T01:13:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2783#issuecomment-15208",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:5" align="right">Comment 5</div>


```
{{ 
import rpy rpy.std([1..1000]) 
/// 
print "\x01r\x01e96" 288.67499025720952 
}}
```



---

archive/issue_comments_015209.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nAny chance this could be related to using a terminal which has trouble with dealing with the escape characters related to color? We had similar issues with sage0 and IPython.\n\nCheers,\n\nMichael",
    "created_at": "2008-09-09T02:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2783#issuecomment-15209",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:6" align="right">Comment 6</div>

Any chance this could be related to using a terminal which has trouble with dealing with the escape characters related to color? We had similar issues with sage0 and IPython.

Cheers,

Michael



---

archive/issue_events_025961.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-22T00:18:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "milestone_number": null,
    "milestone_title": "sage-3.1.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2783#event-25961"
}
```



---

archive/issue_comments_015210.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nIsn't this likely some issue with escape character sequences from colored output being printed?\n\nCheers,\n\nMichael",
    "created_at": "2008-09-22T00:19:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2783#issuecomment-15210",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:8" align="right">Comment 8</div>

Isn't this likely some issue with escape character sequences from colored output being printed?

Cheers,

Michael



---

archive/issue_comments_015211.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\n> Isn't this likely some issue with escape character sequences from colored output being printed?\n\nI doubt it.  rpy is a C-library interface to R.\n\nThose special looking \\x01r characters are synchronization control characters that Sage itself (in the file worksheet.py) puts in the output stream. \n\nWilliam",
    "created_at": "2008-09-22T00:55:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2783#issuecomment-15211",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:9" align="right">Comment 9</div>

> Isn't this likely some issue with escape character sequences from colored output being printed?

I doubt it.  rpy is a C-library interface to R.

Those special looking \x01r characters are synchronization control characters that Sage itself (in the file worksheet.py) puts in the output stream. 

William



---

archive/issue_comments_015212.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nok, good to know.\n\nCheers,\n\nMichael",
    "created_at": "2008-09-22T00:58:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2783#issuecomment-15212",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:10" align="right">Comment 10</div>

ok, good to know.

Cheers,

Michael



---

archive/issue_comments_015213.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nI still see these pop up sporadically, and I can't reproduce it reliably.  Initial ticket said \"mark as invalid by June 1, 2008\", which is long past.  Thoughts?",
    "created_at": "2009-01-22T00:28:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2783#issuecomment-15213",
    "user": "https://github.com/sagetrac-boothby"
}
```

<div id="comment:11" align="right">Comment 11</div>

I still see these pop up sporadically, and I can't reproduce it reliably.  Initial ticket said "mark as invalid by June 1, 2008", which is long past.  Thoughts?



---

archive/issue_comments_015214.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nHas anyone had this problem recently?",
    "created_at": "2009-11-15T17:19:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2783#issuecomment-15214",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:12" align="right">Comment 12</div>

Has anyone had this problem recently?



---

archive/issue_comments_015215.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nNo, and using rpy2 instead doesn't produce it.  Moreover, I completely rewrote from scratch the pexpect interfaces to use a much better way of synchronizing IO.  The crap mentioned in this ticket was from the old way of synchronizing IO.   So I'm closing this as fixed.",
    "created_at": "2009-11-18T09:36:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2783#issuecomment-15215",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:13" align="right">Comment 13</div>

No, and using rpy2 instead doesn't produce it.  Moreover, I completely rewrote from scratch the pexpect interfaces to use a much better way of synchronizing IO.  The crap mentioned in this ticket was from the old way of synchronizing IO.   So I'm closing this as fixed.



---

archive/issue_events_025962.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-11-18T09:36:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/2783",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2783#event-25962"
}
```
