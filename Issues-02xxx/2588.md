# Issue 2588: documentation and tests for sage.schemes.hyperelliptic_curves.jacobian_morphism

archive/issues_002588.json:
```json
{
    "body": "Before:\n\n```\n----------------------------------------------------------------------\nsage/schemes/hyperelliptic_curves/jacobian_morphism.py\nERROR: Please define a s == loads(dumps(s)) doctest.\nSCORE sage/schemes/hyperelliptic_curves/jacobian_morphism.py: 0% (0 of 15)\n\nMissing documentation:\n         * cantor_reduction_simple(a1,b1,f,genus)\n         * cantor_reduction(a,b,f,h,genus)\n         * cantor_composition_simple(D1,D2,f,genus)\n         * cantor_composition(D1,D2,f,h,genus)\n         * __init__(self, parent, polys, reduce=True, check=False)\n         * __repr__(self)\n         * scheme(self)\n         * list(self)\n         * __add__(self,other)\n         * __cmp__(self, other)\n         * __nonzero__(self)\n         * __sub__(self, other)\n         * __neg__(self)\n         * __mul__(self, n)\n         * _rmul_(self, n)\n\n----------------------------------------------------------------------\n```\n\nAfter:\n\n```\n----------------------------------------------------------------------\n./jacobian_morphism.py\nERROR: Please define a s == loads(dumps(s)) doctest.\nSCORE ./jacobian_morphism.py: 100% (17 of 17)\n----------------------------------------------------------------------\n```\n\nThe final `s == loads(dumps(s))` requires lots of other fixes to happen first, so it could be a while.\n\n**Assignee:** @williamstein\n\n**CC:**  @ncalexan\n\n**Keywords:** jacobian morphism hyperelliptic curve\n\nIssue created by migration from https://trac.sagemath.org/ticket/2588\n\n",
    "closed_at": "2008-03-20T01:41:02Z",
    "created_at": "2008-03-18T18:38:29Z",
    "labels": [
        "component: algebraic geometry",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-2.11",
    "title": "documentation and tests for sage.schemes.hyperelliptic_curves.jacobian_morphism",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/2588",
    "user": "https://github.com/ncalexan"
}
```
Before:

```
----------------------------------------------------------------------
sage/schemes/hyperelliptic_curves/jacobian_morphism.py
ERROR: Please define a s == loads(dumps(s)) doctest.
SCORE sage/schemes/hyperelliptic_curves/jacobian_morphism.py: 0% (0 of 15)

Missing documentation:
         * cantor_reduction_simple(a1,b1,f,genus)
         * cantor_reduction(a,b,f,h,genus)
         * cantor_composition_simple(D1,D2,f,genus)
         * cantor_composition(D1,D2,f,h,genus)
         * __init__(self, parent, polys, reduce=True, check=False)
         * __repr__(self)
         * scheme(self)
         * list(self)
         * __add__(self,other)
         * __cmp__(self, other)
         * __nonzero__(self)
         * __sub__(self, other)
         * __neg__(self)
         * __mul__(self, n)
         * _rmul_(self, n)

----------------------------------------------------------------------
```

After:

```
----------------------------------------------------------------------
./jacobian_morphism.py
ERROR: Please define a s == loads(dumps(s)) doctest.
SCORE ./jacobian_morphism.py: 100% (17 of 17)
----------------------------------------------------------------------
```

The final `s == loads(dumps(s))` requires lots of other fixes to happen first, so it could be a while.

**Assignee:** @williamstein

**CC:**  @ncalexan

**Keywords:** jacobian morphism hyperelliptic curve

Issue created by migration from https://trac.sagemath.org/ticket/2588





---

archive/attachments_002464.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "2588-ncalexan-jacobian-morphism1.patch",
    "asset_url": "tarball://root/attachments/ticket2588/2588-ncalexan-jacobian-morphism1.patch",
    "created_at": "2008-03-18T21:39:59Z",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket2588/2588-ncalexan-jacobian-morphism1.patch",
    "user": "https://github.com/JohnCremona"
}
```



---

archive/issue_comments_014037.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Attachment:** [2588-ncalexan-jacobian-morphism1.patch](https://github.com/sagemath/sage/files/ticket2588/2588-ncalexan-jacobian-morphism1.patch)\n\nReview:  this looks like an excellent job with a lot of useful explanations and examples.  I successfully applied the patch to 2.10.4.rc0.  Testing all files in sage/schemes/hyperelliptic/ resulted in one error:\n\n```\n**********************************************************************\nFile \"jacobian_morphism.py\", line 382:\n    sage: print latex(Q + Q)\nExpected:\n    \\left(x^{2} + 5x + 1, y + 3\\alpha x + 6\\alpha + 2\\right) # known failure (trac #2586)\nGot:\n    \\left(x^{2} + 5x + 1, y + 3\\alphax + 6\\alpha + 2\\right)\n**********************************************************************\n```",
    "created_at": "2008-03-18T21:39:59Z",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2588#issuecomment-14037",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:1'></a>
**Attachment:** [2588-ncalexan-jacobian-morphism1.patch](https://github.com/sagemath/sage/files/ticket2588/2588-ncalexan-jacobian-morphism1.patch)

Review:  this looks like an excellent job with a lot of useful explanations and examples.  I successfully applied the patch to 2.10.4.rc0.  Testing all files in sage/schemes/hyperelliptic/ resulted in one error:

```
**********************************************************************
File "jacobian_morphism.py", line 382:
    sage: print latex(Q + Q)
Expected:
    \left(x^{2} + 5x + 1, y + 3\alpha x + 6\alpha + 2\right) # known failure (trac #2586)
Got:
    \left(x^{2} + 5x + 1, y + 3\alphax + 6\alpha + 2\right)
**********************************************************************
```



---

archive/issue_events_013339.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2008-03-18T21:39:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "rename": {
        "from": "documentation and tests for sage.schemes.hyperelliptic_curves.jacobian_morphism",
        "to": "[with patch, with 99% positive review] documentation and tests for sage.schemes.hyperelliptic_curves.jacobian_morphism"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2588#event-13339"
}
```



---

archive/issue_comments_014038.json:
```json
{
    "body": "<a id='comment:2'></a>\nThat example is marked known failure and the relevant trac number (#2586) is beside it.  I am happier with a useful failing doctest than no doctest, or a useless doctest, or a doctest certifying bad output.\n\nThanks for the prompt review!",
    "created_at": "2008-03-18T22:34:21Z",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2588#issuecomment-14038",
    "user": "https://github.com/ncalexan"
}
```

<a id='comment:2'></a>
That example is marked known failure and the relevant trac number (#2586) is beside it.  I am happier with a useful failing doctest than no doctest, or a useless doctest, or a doctest certifying bad output.

Thanks for the prompt review!



---

archive/issue_comments_014039.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [ncalexan](#comment%3A2):\n> That example is marked known failure and the relevant trac number (#2586) is beside it.  I am happier with a useful failing doctest than no doctest, or a useless doctest, or a doctest certifying bad output.\n> \n> Thanks for the prompt review!\n\n\nI would recommend merging everything but the failing doctest and merge that hunk once #2586 is fixed. Any objections, Nick?\n\nCheers,\n\nMichael",
    "created_at": "2008-03-19T12:15:50Z",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2588#issuecomment-14039",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:3'></a>
Replying to [ncalexan](#comment%3A2):
> That example is marked known failure and the relevant trac number (#2586) is beside it.  I am happier with a useful failing doctest than no doctest, or a useless doctest, or a doctest certifying bad output.
> 
> Thanks for the prompt review!


I would recommend merging everything but the failing doctest and merge that hunk once #2586 is fixed. Any objections, Nick?

Cheers,

Michael



---

archive/issue_comments_014040.json:
```json
{
    "body": "<a id='comment:4'></a>\nSure, that's fine by me.  Maybe it's better to certify the failing output and change it when #2586 is complete.",
    "created_at": "2008-03-19T19:21:31Z",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2588#issuecomment-14040",
    "user": "https://github.com/ncalexan"
}
```

<a id='comment:4'></a>
Sure, that's fine by me.  Maybe it's better to certify the failing output and change it when #2586 is complete.



---

archive/issue_comments_014041.json:
```json
{
    "body": "<a id='comment:5'></a>\nNick, I changed the above lines to \n\n```\n+            sage: print latex(Q + Q)\n+            \\left(x^{2} + 5x + 1, y + 3\\alphax + 6\\alpha + 2\\right) # this is a bug - see trac #2586\n```\nOnce #2586 is fixed the doctest will fail and I am sure the person will fix the doctest.\n\nCheers,\n\nMichael",
    "created_at": "2008-03-20T01:40:44Z",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2588#issuecomment-14041",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:5'></a>
Nick, I changed the above lines to 

```
+            sage: print latex(Q + Q)
+            \left(x^{2} + 5x + 1, y + 3\alphax + 6\alpha + 2\right) # this is a bug - see trac #2586
```
Once #2586 is fixed the doctest will fail and I am sure the person will fix the doctest.

Cheers,

Michael



---

archive/issue_events_013340.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-03-20T01:40:44Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "rename": {
        "from": "[with patch, with 99% positive review] documentation and tests for sage.schemes.hyperelliptic_curves.jacobian_morphism",
        "to": "documentation and tests for sage.schemes.hyperelliptic_curves.jacobian_morphism"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2588#event-13340"
}
```



---

archive/issue_events_013341.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-03-20T01:40:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2588#event-13341"
}
```



---

archive/issue_comments_014042.json:
```json
{
    "body": "<a id='comment:6'></a>\nMerged in Sage 2.11.alpha0",
    "created_at": "2008-03-20T01:41:02Z",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2588#issuecomment-14042",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:6'></a>
Merged in Sage 2.11.alpha0



---

archive/issue_events_013342.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-03-20T01:41:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2588#event-13342"
}
```



---

archive/issue_events_013343.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-03-20T01:41:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2588#event-13343"
}
```



---

archive/attachments_002465.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_2588_fix-doctest.patch",
    "asset_url": "tarball://root/attachments/ticket2588/trac_2588_fix-doctest.patch",
    "created_at": "2008-03-20T02:01:55Z",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket2588/trac_2588_fix-doctest.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```



---

archive/issue_comments_014043.json:
```json
{
    "body": "**Attachment:** [trac_2588_fix-doctest.patch](https://github.com/sagemath/sage/files/ticket2588/trac_2588_fix-doctest.patch)\n\nthis patch actually fixes the stupid mistake I introduces in the changed doctest",
    "created_at": "2008-03-20T02:01:55Z",
    "issue": "https://github.com/sagemath/sage/issues/2588",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2588#issuecomment-14043",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Attachment:** [trac_2588_fix-doctest.patch](https://github.com/sagemath/sage/files/ticket2588/trac_2588_fix-doctest.patch)

this patch actually fixes the stupid mistake I introduces in the changed doctest
