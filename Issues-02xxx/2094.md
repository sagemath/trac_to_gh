# Issue 2094: [needs more work] Add jpeg support to gd

archive/issues_002094.json:
```json
{
    "assignees": [
        "https://github.com/williamstein"
    ],
    "body": "jpeg is a common format that most people keep their pictures in -- let's support it!\n\nCC:  @dimpase\n\nComponent: **graphics**\n\nKeywords: **editor_craigcitro**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/2094_\n\n",
    "closed_at": "2020-09-08T18:07:36Z",
    "created_at": "2008-02-08T01:21:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "[needs more work] Add jpeg support to gd",
    "type": "issue",
    "updated_at": "2020-09-08T18:07:36Z",
    "url": "https://github.com/sagemath/sage/issues/2094",
    "user": "https://github.com/boothby"
}
```
jpeg is a common format that most people keep their pictures in -- let's support it!

CC:  @dimpase

Component: **graphics**

Keywords: **editor_craigcitro**

_Issue created by migration from https://trac.sagemath.org/ticket/2094_





---

archive/issue_events_020995.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-02-08T01:21:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-20995"
}
```



---

archive/issue_events_020996.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-02-08T01:21:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-20996"
}
```



---

archive/issue_events_020997.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-02-08T01:21:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-20997"
}
```



---

archive/issue_events_020998.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-02-08T01:21:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-20998"
}
```



---

archive/issue_events_020999.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-02-08T01:21:07Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "subject": "https://github.com/boothby",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-20999"
}
```



---

archive/issue_comments_009939.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nNew spkg files at:\n\nhttp://sage.math.washington.edu/home/boothby/SPKG/2.10.1/",
    "created_at": "2008-02-08T01:22:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9939",
    "user": "https://github.com/boothby"
}
```

<div id="comment:1" align="right">comment:1</div>

New spkg files at:

http://sage.math.washington.edu/home/boothby/SPKG/2.10.1/



---

archive/issue_comments_009940.json:
```json
{
    "body": "Attachment: **[deps.patch.gz](https://github.com/sagemath/sage/files/ticket2094/deps.patch.gz)**\n\nAttachment: **[install.patch.gz](https://github.com/sagemath/sage/files/ticket2094/install.patch.gz)**",
    "created_at": "2008-02-08T01:36:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9940",
    "user": "https://github.com/boothby"
}
```

Attachment: **[deps.patch.gz](https://github.com/sagemath/sage/files/ticket2094/deps.patch.gz)**

Attachment: **[install.patch.gz](https://github.com/sagemath/sage/files/ticket2094/install.patch.gz)**



---

archive/issue_comments_009941.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nWorks on intel 64 / ubuntu -- needs testing on amd64, mac osx, 386, etc.",
    "created_at": "2008-02-08T01:38:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9941",
    "user": "https://github.com/boothby"
}
```

<div id="comment:2" align="right">comment:2</div>

Works on intel 64 / ubuntu -- needs testing on amd64, mac osx, 386, etc.



---

archive/issue_events_021000.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-02-08T22:27:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "milestone_number": null,
    "milestone_title": "sage-2.10.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21000"
}
```



---

archive/issue_events_021001.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2008-03-12T05:15:41Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "milestone_number": null,
    "milestone_title": "sage-2.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21001"
}
```



---

archive/issue_events_021002.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2008-03-12T05:15:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "milestone_number": null,
    "milestone_title": "sage-2.10.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21002"
}
```



---

archive/issue_events_021003.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-04-06T19:53:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21003"
}
```



---

archive/issue_events_021004.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2008-04-06T19:53:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21004"
}
```



---

archive/issue_comments_009942.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI'm confused on how to test this - can you provide an example of using jpeg?\n\nI think I have everything installed/patched OK, I'm just not sure how to use it.  I tried hacking the plot save command, but ran into trouble with matplotlib since it doesn't have good jpeg support.",
    "created_at": "2008-04-27T23:52:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9942",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:6" align="right">comment:6</div>

I'm confused on how to test this - can you provide an example of using jpeg?

I think I have everything installed/patched OK, I'm just not sure how to use it.  I tried hacking the plot save command, but ran into trouble with matplotlib since it doesn't have good jpeg support.



---

archive/issue_comments_009943.json:
```json
{
    "body": "Changed keywords from none to **editor_craigcitro**",
    "created_at": "2008-06-15T21:36:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9943",
    "user": "https://github.com/craigcitro"
}
```

Changed keywords from none to **editor_craigcitro**



---

archive/issue_comments_009944.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nuse the following to test:\n\n```\nimport gd, os, cStringIO, urllib2\n\n\ndef simple():\n    im = gd.image((200, 200))\n\n    white = im.colorAllocate((255, 255, 255))\n    black = im.colorAllocate((0, 0, 0))\n    red = im.colorAllocate((255, 0, 0))\n    blue = im.colorAllocate((0, 0, 255))\n\n    im.colorTransparent(white)\n    im.interlace(1)\n\n    im.rectangle((0,0),(199,199),black)\n    im.arc((100,100),(195,175),0,360,blue)\n    im.fill((100,100),red)\n\n    f=open(\"xx.png\",\"w\")\n    im.writePng(f)\n    f.close()\n\n    f=open(\"xx.jpg\", \"w\")\n    im.writeJpeg(f,100)\n    f.close()\n\n    f=cStringIO.StringIO()\n    im.writePng(f)\n    print \"PNG size:\", len(f.getvalue())\n    f.close()\n    \n    f = urllib2.urlopen(\"http://www.gnu.org/graphics/gnu-head-sm.jpg\")\n    im = gd.image(f, \"jpg\")\n    f.close()\n    im.writePng(\"xy.png\")\n    print \"GNU Image Size:\", im.size()\n\nsimple()\n```",
    "created_at": "2008-06-16T20:55:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9944",
    "user": "https://github.com/boothby"
}
```

<div id="comment:8" align="right">comment:8</div>

use the following to test:

```
import gd, os, cStringIO, urllib2


def simple():
    im = gd.image((200, 200))

    white = im.colorAllocate((255, 255, 255))
    black = im.colorAllocate((0, 0, 0))
    red = im.colorAllocate((255, 0, 0))
    blue = im.colorAllocate((0, 0, 255))

    im.colorTransparent(white)
    im.interlace(1)

    im.rectangle((0,0),(199,199),black)
    im.arc((100,100),(195,175),0,360,blue)
    im.fill((100,100),red)

    f=open("xx.png","w")
    im.writePng(f)
    f.close()

    f=open("xx.jpg", "w")
    im.writeJpeg(f,100)
    f.close()

    f=cStringIO.StringIO()
    im.writePng(f)
    print "PNG size:", len(f.getvalue())
    f.close()
    
    f = urllib2.urlopen("http://www.gnu.org/graphics/gnu-head-sm.jpg")
    im = gd.image(f, "jpg")
    f.close()
    im.writePng("xy.png")
    print "GNU Image Size:", im.size()

simple()
```



---

archive/issue_comments_009945.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nInstructions for reviewer(s):\n\nThe deps/install patches are diffed against files in the Sage distribution which are not (for better or worse) under revision control.  To test, please install the spkgs in the order (jpeg, gd, gdmodule).  Then, run the sample code above.",
    "created_at": "2008-06-16T21:42:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9945",
    "user": "https://github.com/boothby"
}
```

<div id="comment:9" align="right">comment:9</div>

Instructions for reviewer(s):

The deps/install patches are diffed against files in the Sage distribution which are not (for better or worse) under revision control.  To test, please install the spkgs in the order (jpeg, gd, gdmodule).  Then, run the sample code above.



---

archive/issue_comments_009946.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI get the following error (the spkgs seem to have installed without errors):\n\nTraceback (most recent call last):    \n  File \"/Volumes/D/sage-3.0.2/local/lib/python2.5/site-packages/gd.py\", line 10, in <module>\n    import _gd\nImportError: dlopen(/Volumes/D/sage-3.0.2/local/lib/python2.5/site-packages/_gd.so, 2): Symbol not found: _jpeg_std_error\n  Referenced from: /Volumes/D/sage-3.0.2/local/lib//libgd.2.dylib\n  Expected in: flat namespace",
    "created_at": "2008-06-16T21:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9946",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:10" align="right">comment:10</div>

I get the following error (the spkgs seem to have installed without errors):

Traceback (most recent call last):    
  File "/Volumes/D/sage-3.0.2/local/lib/python2.5/site-packages/gd.py", line 10, in <module>
    import _gd
ImportError: dlopen(/Volumes/D/sage-3.0.2/local/lib/python2.5/site-packages/_gd.so, 2): Symbol not found: _jpeg_std_error
  Referenced from: /Volumes/D/sage-3.0.2/local/lib//libgd.2.dylib
  Expected in: flat namespace



---

archive/issue_comments_009947.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nPossible hints are here:\n\nhttp://trac.macports.org/browser/trunk/dports/graphics/jpeg",
    "created_at": "2008-06-17T06:38:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9947",
    "user": "https://github.com/boothby"
}
```

<div id="comment:11" align="right">comment:11</div>

Possible hints are here:

http://trac.macports.org/browser/trunk/dports/graphics/jpeg



---

archive/issue_comments_009948.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nTom agrees that this patch needs work to function on a Mac. He'll get to it soon-ish.",
    "created_at": "2008-06-19T19:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9948",
    "user": "https://github.com/craigcitro"
}
```

<div id="comment:12" align="right">comment:12</div>

Tom agrees that this patch needs work to function on a Mac. He'll get to it soon-ish.



---

archive/issue_events_021005.json:
```json
{
    "actor": "https://github.com/craigcitro",
    "created_at": "2008-06-19T19:33:14Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "title_is": "[with negative review] Add jpeg support to gd",
    "title_was": "Add jpeg support to gd",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21005"
}
```



---

archive/issue_comments_009949.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nNotice that these are (basically) the same errors we're seeing on #3324.",
    "created_at": "2008-06-20T04:20:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9949",
    "user": "https://github.com/craigcitro"
}
```

<div id="comment:13" align="right">comment:13</div>

Notice that these are (basically) the same errors we're seeing on #3324.



---

archive/issue_comments_009950.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThis is a framework vs. sane library issue - I will likely have a workaround for this in the not too distant future.\n\nCheers,\n\nMichael",
    "created_at": "2008-08-30T18:49:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9950",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:14" align="right">comment:14</div>

This is a framework vs. sane library issue - I will likely have a workaround for this in the not too distant future.

Cheers,

Michael



---

archive/issue_comments_009951.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nSince we now do no longer build anything against the Apple IOKit Framework this spkg should be re-reviewed.\n\nCheers,\n\nMichael",
    "created_at": "2008-09-20T22:27:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9951",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:15" align="right">comment:15</div>

Since we now do no longer build anything against the Apple IOKit Framework this spkg should be re-reviewed.

Cheers,

Michael



---

archive/issue_events_021006.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-20T22:27:31Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "title_is": "Add jpeg support to gd",
    "title_was": "[with negative review] Add jpeg support to gd",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21006"
}
```



---

archive/issue_events_021007.json:
```json
{
    "actor": "https://github.com/sagetrac-mhampton",
    "created_at": "2008-09-21T02:57:54Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "title_is": "[needs more work] Add jpeg support to gd",
    "title_was": "Add jpeg support to gd",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21007"
}
```



---

archive/issue_comments_009952.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI am now having problems different from before.  The jpeg spkg seems to install OK, and when installing the gd spkg I get the following encouraging message from the configuring:\n\n```\n** Configuration summary for gd 2.0.33:\n\n   Support for PNG library:          yes\n   Support for JPEG library:         yes\n   Support for Freetype 2.x library: yes\n   Support for Fontconfig library:   no\n   Support for Xpm library:          no\n   Support for pthreads:             yes\n```\n...but then the build fails, and there is a message:\n\n```\n*** Warning: linker path does not have real file for library -ljpeg.\n*** I have the capability to make that library automatically link in when\n*** you link to this library.  But I can only do this if you have a\n*** shared version of the library, which you do not appear to have\n*** because I did check the linker path looking for a file starting\n*** with libjpeg and none of the candidates passed a file format test\n*** using a file magic. Last file checked: /Volumes/D/sage-3.1.2/local/lib//libjpeg.a\n*** The inter-library dependencies that have been dropped here will be\n*** automatically added whenever a program is linked with this library\n*** or is declared to -dlopen it.\n```\n\n...which occurs before the actual error:\n\n```\n/usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined symbols:\n_gdImageCreateFromJpeg\n_gdImageJpeg\ncollect2: ld returned 1 exit status\nmake[2]: *** [annotate] Error 1\nmake[2]: Leaving directory `/Volumes/D/sage-3.1.2/spkg/build/gd-2.0.33.p7/src'\nmake[1]: *** [all-recursive] Error 1\nmake[1]: Leaving directory `/Volumes/D/sage-3.1.2/spkg/build/gd-2.0.33.p7/src'\nmake: *** [all] Error 2\nError building gd.\n```\n\nIt would be very nice to have this stuff working; being able to quickly import images as matrices is something matlab and mathematica users take for granted.  Unfortunately I don't think I have the skills needed to fix this.",
    "created_at": "2008-09-21T02:57:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9952",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:16" align="right">comment:16</div>

I am now having problems different from before.  The jpeg spkg seems to install OK, and when installing the gd spkg I get the following encouraging message from the configuring:

```
** Configuration summary for gd 2.0.33:

   Support for PNG library:          yes
   Support for JPEG library:         yes
   Support for Freetype 2.x library: yes
   Support for Fontconfig library:   no
   Support for Xpm library:          no
   Support for pthreads:             yes
```
...but then the build fails, and there is a message:

```
*** Warning: linker path does not have real file for library -ljpeg.
*** I have the capability to make that library automatically link in when
*** you link to this library.  But I can only do this if you have a
*** shared version of the library, which you do not appear to have
*** because I did check the linker path looking for a file starting
*** with libjpeg and none of the candidates passed a file format test
*** using a file magic. Last file checked: /Volumes/D/sage-3.1.2/local/lib//libjpeg.a
*** The inter-library dependencies that have been dropped here will be
*** automatically added whenever a program is linked with this library
*** or is declared to -dlopen it.
```

...which occurs before the actual error:

```
/usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined symbols:
_gdImageCreateFromJpeg
_gdImageJpeg
collect2: ld returned 1 exit status
make[2]: *** [annotate] Error 1
make[2]: Leaving directory `/Volumes/D/sage-3.1.2/spkg/build/gd-2.0.33.p7/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/Volumes/D/sage-3.1.2/spkg/build/gd-2.0.33.p7/src'
make: *** [all] Error 2
Error building gd.
```

It would be very nice to have this stuff working; being able to quickly import images as matrices is something matlab and mathematica users take for granted.  Unfortunately I don't think I have the skills needed to fix this.



---

archive/issue_comments_009953.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOne more note: since gd has evolved to 2.0.35, I tried installing that and it seemed to work but the suggested test still crashed with \n\n```\nsage: import gd, os, cStringIO, urllib2\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n\n/Volumes/D/sage-3.1.2/<ipython console> in <module>()\n\n/Volumes/D/sage-3.1.2/local/lib/python2.5/site-packages/gd.py in <module>()\n      8 library.\"\"\"\n      9 \n---> 10 import _gd\n     11 from _gd import *\n     12 del image\n\nImportError: dlopen(/Volumes/D/sage-3.1.2/local/lib/python2.5/site-packages/_gd.so, 2): Symbol not found: _gdImageCreateFromJpeg\n  Referenced from: /Volumes/D/sage-3.1.2/local/lib/python2.5/site-packages/_gd.so\n  Expected in: dynamic lookup\n```\n\nalthough I might have messed up in manually installing gd-2.0.35.",
    "created_at": "2008-09-21T03:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9953",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:17" align="right">comment:17</div>

One more note: since gd has evolved to 2.0.35, I tried installing that and it seemed to work but the suggested test still crashed with 

```
sage: import gd, os, cStringIO, urllib2
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)

/Volumes/D/sage-3.1.2/<ipython console> in <module>()

/Volumes/D/sage-3.1.2/local/lib/python2.5/site-packages/gd.py in <module>()
      8 library."""
      9 
---> 10 import _gd
     11 from _gd import *
     12 del image

ImportError: dlopen(/Volumes/D/sage-3.1.2/local/lib/python2.5/site-packages/_gd.so, 2): Symbol not found: _gdImageCreateFromJpeg
  Referenced from: /Volumes/D/sage-3.1.2/local/lib/python2.5/site-packages/_gd.so
  Expected in: dynamic lookup
```

although I might have messed up in manually installing gd-2.0.35.



---

archive/issue_comments_009954.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI can fix this on OSX. Give me a little while. Besides adding the jpeg.spkg this also needs matching fixes to the gd.spkg\n\nCheers,\n\nMichael",
    "created_at": "2008-09-21T05:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9954",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:18" align="right">comment:18</div>

I can fix this on OSX. Give me a little while. Besides adding the jpeg.spkg this also needs matching fixes to the gd.spkg

Cheers,

Michael



---

archive/issue_comments_009955.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nOK, I have gotten this working as well, using gd-2.0.35.  I messed up previously when trying to install it.  I can make a spkg if you want, but you'd probably have to edit my attempts anyway.\n\n-M.Hampton",
    "created_at": "2008-09-22T16:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9955",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:19" align="right">comment:19</div>

OK, I have gotten this working as well, using gd-2.0.35.  I messed up previously when trying to install it.  I can make a spkg if you want, but you'd probably have to edit my attempts anyway.

-M.Hampton



---

archive/issue_comments_009956.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@sagetrac-mhampton](#comment%3A19):\n> OK, I have gotten this working as well, using gd-2.0.35.  I messed up previously when trying to install it.  I can make a spkg if you want, but you'd probably have to edit my attempts anyway.\n> \n> -M.Hampton\n\nWe are already using gd-2.0.35, so what changes do you propose to make? Either way, an jpeg.spkg would have to be voted in anyway.\n\nCheers,\n\nMichael",
    "created_at": "2008-09-22T18:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9956",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@sagetrac-mhampton](#comment%3A19):
> OK, I have gotten this working as well, using gd-2.0.35.  I messed up previously when trying to install it.  I can make a spkg if you want, but you'd probably have to edit my attempts anyway.
> 
> -M.Hampton

We are already using gd-2.0.35, so what changes do you propose to make? Either way, an jpeg.spkg would have to be voted in anyway.

Cheers,

Michael



---

archive/issue_events_021008.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21008"
}
```



---

archive/issue_events_021009.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21009"
}
```



---

archive/issue_events_021010.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21010"
}
```



---

archive/issue_events_021011.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21011"
}
```



---

archive/issue_events_021012.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21012"
}
```



---

archive/issue_events_021013.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21013"
}
```



---

archive/issue_events_021014.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21014"
}
```



---

archive/issue_events_021015.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21015"
}
```



---

archive/issue_events_021016.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-17T16:38:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21016"
}
```



---

archive/issue_comments_009957.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nOutdated spkg or build system ticket, should be closed",
    "created_at": "2020-08-17T16:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2094#issuecomment-9957",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Outdated spkg or build system ticket, should be closed



---

archive/issue_events_021017.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-09-08T18:07:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21017"
}
```



---

archive/issue_events_021018.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-09-08T18:07:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/2094",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2094#event-21018"
}
```
