# Issue 2693: Sage should have generic resultant implementation for multivariate polynomials

archive/issues_002693.json:
```json
{
    "body": "Consider this example, which fails:\n\n```\nR.<x,y> = RR[]\np = x + y\nq = x*y\np.resultant(q)\n```\n(as reported here: http://groups.google.com/group/sage-support/browse_thread/thread/1d6289cead33d063#)\n\nThis is because multivariate resultants are implemented using the Singular pexpect interface, which does not support RR.\n\nA workaround for this particular problem (and a possible basis for an improved version) is:\n\n```\np.polynomial(x).resultant(q.polynomial(x)) \n```\nThat is, fall back to univariate resultants, which are implemented using Pari and are somewhat more generic.  (This is still not truly generic, though, since there are Sage rings which have no Pari equivalent.)\n\nAssignee: @williamstein\n\nCC:  @tscrim @videlec @vinklein\n\nKeywords: resultant\n\nBranch/Commit: 30bd620a157659e603c855c76e6d8f87701c69dc\n\nReviewer: Travis Scrimshaw\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/2693\n\n",
    "closed_at": "2019-05-12T21:34:19Z",
    "created_at": "2008-03-28T02:21:37Z",
    "labels": [
        "component: algebraic geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "Sage should have generic resultant implementation for multivariate polynomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/2693",
    "user": "https://trac.sagemath.org/admin/accounts/users/cwitty"
}
```
Consider this example, which fails:

```
R.<x,y> = RR[]
p = x + y
q = x*y
p.resultant(q)
```
(as reported here: http://groups.google.com/group/sage-support/browse_thread/thread/1d6289cead33d063#)

This is because multivariate resultants are implemented using the Singular pexpect interface, which does not support RR.

A workaround for this particular problem (and a possible basis for an improved version) is:

```
p.polynomial(x).resultant(q.polynomial(x)) 
```
That is, fall back to univariate resultants, which are implemented using Pari and are somewhat more generic.  (This is still not truly generic, though, since there are Sage rings which have no Pari equivalent.)

Assignee: @williamstein

CC:  @tscrim @videlec @vinklein

Keywords: resultant

Branch/Commit: 30bd620a157659e603c855c76e6d8f87701c69dc

Reviewer: Travis Scrimshaw

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/2693





---

archive/issue_events_008014.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2693#event-8014"
}
```



---

archive/issue_events_008015.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2693#event-8015"
}
```



---

archive/issue_events_008016.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2693#event-8016"
}
```



---

archive/issue_events_008017.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2693#event-8017"
}
```



---

archive/issue_events_008018.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2693#event-8018"
}
```



---

archive/issue_events_008019.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2693#event-8019"
}
```



---

archive/issue_events_008020.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2693#event-8020"
}
```



---

archive/issue_comments_020730.json:
```json
{
    "body": "<a id='comment:5'></a>\nIn fact, singular resultants are slow compared to other methods, so it would really be a good idea to write specific sage code for resultants.\n\nSee #16749 and #12174 for ideas about it.\n\nJust something like:\n\n```\ndef resultant(self, other, variable):\n    m = self.sylvester_matrix(other, variable)\n    return m.determinant()\n```\n\nWould be both general for any polynomial ring, and faster than the current implementation. And of course, there could be a lot of cases where things can be done much faster, using specific backends where they are better.",
    "created_at": "2014-08-25T08:28:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20730",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:5'></a>
In fact, singular resultants are slow compared to other methods, so it would really be a good idea to write specific sage code for resultants.

See #16749 and #12174 for ideas about it.

Just something like:

```
def resultant(self, other, variable):
    m = self.sylvester_matrix(other, variable)
    return m.determinant()
```

Would be both general for any polynomial ring, and faster than the current implementation. And of course, there could be a lot of cases where things can be done much faster, using specific backends where they are better.



---

archive/issue_comments_020731.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2014-08-25T08:28:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20731",
    "user": "https://github.com/miguelmarco"
}
```

Changing upstream from "" to "N/A"



---

archive/issue_comments_020732.json:
```json
{
    "body": "Changing keywords from \"\" to \"resultant\".",
    "created_at": "2019-05-01T14:49:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20732",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "resultant".



---

archive/issue_comments_020733.json:
```json
{
    "body": "Changing commit from \"\" to \"add07d3bcb7521623ec1edd45f731213281f8b2d\"",
    "created_at": "2019-05-01T15:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20733",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "add07d3bcb7521623ec1edd45f731213281f8b2d"



---

archive/issue_comments_020734.json:
```json
{
    "body": "<a id='comment:7'></a>\nNew commits:\n|                                                                                                                                          |                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[add07d3](https://github.com/sagemath/sagetrac-mirror/commit/add07d3bcb7521623ec1edd45f731213281f8b2d)|`trac 2693 resultants for polynomials over inexact rings`|",
    "created_at": "2019-05-01T15:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20734",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
New commits:
|                                                                                                                                          |                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[add07d3](https://github.com/sagemath/sagetrac-mirror/commit/add07d3bcb7521623ec1edd45f731213281f8b2d)|`trac 2693 resultants for polynomials over inexact rings`|



---

archive/issue_events_008021.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-05-01T15:04:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2693#event-8021"
}
```



---

archive/issue_events_008022.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-05-01T15:04:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2693#event-8022"
}
```



---

archive/issue_comments_020735.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2019-05-01T15:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20735",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_comments_020736.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-05-01T15:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20736",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_020737.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/2693\"",
    "created_at": "2019-05-01T15:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20737",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/2693"



---

archive/issue_comments_020738.json:
```json
{
    "body": "<a id='comment:8'></a>\ngreen bot, please review",
    "created_at": "2019-05-01T18:26:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20738",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
green bot, please review



---

archive/issue_comments_020739.json:
```json
{
    "body": "<a id='comment:9'></a>\nhmm, the second doctest is more about univariate polynomials. Maybe it should go there ?",
    "created_at": "2019-05-02T06:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20739",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
hmm, the second doctest is more about univariate polynomials. Maybe it should go there ?



---

archive/issue_comments_020740.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[30bd620](https://github.com/sagemath/sagetrac-mirror/commit/30bd620a157659e603c855c76e6d8f87701c69dc)|`trac 2693 resultants for polynomials over inexact rings`|",
    "created_at": "2019-05-06T15:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20740",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[30bd620](https://github.com/sagemath/sagetrac-mirror/commit/30bd620a157659e603c855c76e6d8f87701c69dc)|`trac 2693 resultants for polynomials over inexact rings`|



---

archive/issue_comments_020741.json:
```json
{
    "body": "Changing commit from \"add07d3bcb7521623ec1edd45f731213281f8b2d\" to \"30bd620a157659e603c855c76e6d8f87701c69dc\"",
    "created_at": "2019-05-06T15:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20741",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "add07d3bcb7521623ec1edd45f731213281f8b2d" to "30bd620a157659e603c855c76e6d8f87701c69dc"



---

archive/issue_comments_020742.json:
```json
{
    "body": "<a id='comment:11'></a>\nok, test is now at the right place.",
    "created_at": "2019-05-06T15:47:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20742",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>
ok, test is now at the right place.



---

archive/issue_comments_020743.json:
```json
{
    "body": "<a id='comment:12'></a>\nand the bot is green.",
    "created_at": "2019-05-06T17:53:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20743",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
and the bot is green.



---

archive/issue_comments_020744.json:
```json
{
    "body": "<a id='comment:13'></a>\nLGTM.",
    "created_at": "2019-05-07T00:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20744",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
LGTM.



---

archive/issue_comments_020745.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2019-05-07T00:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20745",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_020746.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-05-07T00:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20746",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_020747.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-05-12T21:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20747",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_008023.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-12T21:34:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2693#event-8023"
}
```



---

archive/issue_comments_020748.json:
```json
{
    "body": "Changing branch from \"u/chapoton/2693\" to \"30bd620a157659e603c855c76e6d8f87701c69dc\"",
    "created_at": "2019-05-12T21:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2693",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2693#issuecomment-20748",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/2693" to "30bd620a157659e603c855c76e6d8f87701c69dc"
