# Issue 2644: doctest failures in matrix_real_double_dense

archive/issues_002644.json:
```json
{
    "assignees": [
        "https://github.com/dfdeshom"
    ],
    "body": "On 2.11alpha0, the doctest for `__invert__` randomly fails\n\nComponent: **linear algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/2644_\n\n",
    "closed_at": "2008-03-22T19:14:21Z",
    "created_at": "2008-03-22T14:39:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-2.11",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "doctest failures in matrix_real_double_dense",
    "type": "issue",
    "updated_at": "2008-03-22T19:14:21Z",
    "url": "https://github.com/sagemath/sage/issues/2644",
    "user": "https://github.com/dfdeshom"
}
```
On 2.11alpha0, the doctest for `__invert__` randomly fails

Component: **linear algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/2644_





---

archive/issue_events_027927.json:
```json
{
    "actor": "https://github.com/dfdeshom",
    "created_at": "2008-03-22T14:39:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "milestone_number": null,
    "milestone_title": "sage-2.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2644#event-27927"
}
```



---

archive/issue_events_027928.json:
```json
{
    "actor": "https://github.com/dfdeshom",
    "created_at": "2008-03-22T14:39:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "c: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2644#event-27928"
}
```



---

archive/issue_events_027929.json:
```json
{
    "actor": "https://github.com/dfdeshom",
    "created_at": "2008-03-22T14:39:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2644#event-27929"
}
```



---

archive/issue_events_027930.json:
```json
{
    "actor": "https://github.com/dfdeshom",
    "created_at": "2008-03-22T14:39:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2644#event-27930"
}
```



---

archive/issue_events_027931.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-03-22T14:39:47Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "subject": "https://github.com/dfdeshom",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2644#event-27931"
}
```



---

archive/issue_comments_013733.json:
```json
{
    "body": "Attachment: **[2644.patch.gz](https://github.com/sagemath/sage/files/ticket2644/2644.patch.gz)**\n\npatch against 2.11alpha",
    "created_at": "2008-03-22T15:36:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2644#issuecomment-13733",
    "user": "https://github.com/dfdeshom"
}
```

Attachment: **[2644.patch.gz](https://github.com/sagemath/sage/files/ticket2644/2644.patch.gz)**

patch against 2.11alpha



---

archive/issue_comments_013734.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nHere is a patch against 2.11alpha0",
    "created_at": "2008-03-22T15:37:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2644#issuecomment-13734",
    "user": "https://github.com/dfdeshom"
}
```

<div id="comment:1" align="right">comment:1</div>

Here is a patch against 2.11alpha0



---

archive/issue_events_027932.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-03-22T15:38:07Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "subject": "https://github.com/dfdeshom",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2644#event-27932"
}
```



---

archive/issue_events_027933.json:
```json
{
    "actor": "https://github.com/dfdeshom",
    "created_at": "2008-03-22T15:38:07Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "subject": "https://github.com/dfdeshom",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2644#event-27933"
}
```



---

archive/issue_events_027934.json:
```json
{
    "actor": "https://github.com/dfdeshom",
    "created_at": "2008-03-22T15:38:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2644#event-27934"
}
```



---

archive/issue_events_027935.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-03-22T15:48:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2644#event-27935"
}
```



---

archive/issue_events_027936.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-03-22T15:48:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2644#event-27936"
}
```



---

archive/issue_comments_013735.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nLooks good and tests fine.",
    "created_at": "2008-03-22T15:48:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2644#issuecomment-13735",
    "user": "https://github.com/aghitza"
}
```

<div id="comment:3" align="right">comment:3</div>

Looks good and tests fine.



---

archive/issue_comments_013736.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nYep, I think this is the right way to fix this. It is clear from the context that the inversion of the matrix should fail and am somewhat surprised that the numerical noise is large enough that the determinant of a rank deficient matrix like A in this example is not even close to zero.\n\nCheers,\n\nMichael",
    "created_at": "2008-03-22T19:13:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2644#issuecomment-13736",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:4" align="right">comment:4</div>

Yep, I think this is the right way to fix this. It is clear from the context that the inversion of the matrix should fail and am somewhat surprised that the numerical noise is large enough that the determinant of a rank deficient matrix like A in this example is not even close to zero.

Cheers,

Michael



---

archive/issue_comments_013737.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nMerged in Sage 2.11.alpha1",
    "created_at": "2008-03-22T19:14:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2644#issuecomment-13737",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:5" align="right">comment:5</div>

Merged in Sage 2.11.alpha1



---

archive/issue_events_027937.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-03-22T19:14:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2644#event-27937"
}
```



---

archive/issue_events_027938.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-03-22T19:14:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/2644",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2644#event-27938"
}
```
