# Issue 2480: problem parsing arguments to NumberField.order()

archive/issues_002480.json:
```json
{
    "body": "\n```\nsage: y = ZZ['y'].0; K = NumberField(y^4 + 4*y^2 + 2, 'a'); K\nNumber Field in a with defining polynomial y^4 + 4*y^2 + 2\nsage: B = K.integral_basis()\nsage: B\n[1, a, a^2, a^3]\nsage: K.order(B)\nOrder in Number Field in a with defining polynomial y^4 + 4*y^2 + 2\nsage: K.order(gens=B)\n+Infinity\n```\n\n**Assignee:** @loefflerd\n\n**CC:**  @ncalexan @robertwb @mwhansen\n\n**Keywords:** number field order arguments\n\n**Resolution:** fixed\n\n**Author:** Craig Citro\n\n**Reviewer:** Mike Hansen\n\n**Merged:** sage-4.3.2.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/2480\n\n",
    "closed_at": "2010-01-24T03:22:20Z",
    "created_at": "2008-03-12T03:19:59Z",
    "labels": [
        "component: number fields",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3.2",
    "title": "problem parsing arguments to NumberField.order()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/2480",
    "user": "https://github.com/ncalexan"
}
```

```
sage: y = ZZ['y'].0; K = NumberField(y^4 + 4*y^2 + 2, 'a'); K
Number Field in a with defining polynomial y^4 + 4*y^2 + 2
sage: B = K.integral_basis()
sage: B
[1, a, a^2, a^3]
sage: K.order(B)
Order in Number Field in a with defining polynomial y^4 + 4*y^2 + 2
sage: K.order(gens=B)
+Infinity
```

**Assignee:** @loefflerd

**CC:**  @ncalexan @robertwb @mwhansen

**Keywords:** number field order arguments

**Resolution:** fixed

**Author:** Craig Citro

**Reviewer:** Mike Hansen

**Merged:** sage-4.3.2.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/2480





---

archive/issue_comments_018627.json:
```json
{
    "body": "**Changing assignee** from @williamstein to @loefflerd.",
    "created_at": "2009-07-20T19:57:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18627",
    "user": "https://github.com/loefflerd"
}
```

**Changing assignee** from @williamstein to @loefflerd.



---

archive/issue_comments_018628.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis wasn't so bad -- the problem was that `gens=` put the list of gens in the `kwds` dict, instead of in the `*`-argument. I've attached a fix, but I'd love for someone to tell me if deleting `gens` out of the `kwds` dict is sufficiently pythonic. (If you don't, the call to `absolute_order_from_ring_generators` rightfully complains that `gens` is specified twice.) Another option would be to reassign `kwds['dict']` at the end, but I don't think that's any nicer. (In fact, that might be epsilon slower, since it's another argument to unpack from the dictionary on the other side.)\n\nAlso, the comment block in the docstring **really** looks like something was accidentally cut off at some point. Amusingly, this isn't the case: I actually dug through the hg logs, and it was really committed just like that.",
    "created_at": "2010-01-20T06:23:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18628",
    "user": "https://github.com/craigcitro"
}
```

<a id='comment:2'></a>
This wasn't so bad -- the problem was that `gens=` put the list of gens in the `kwds` dict, instead of in the `*`-argument. I've attached a fix, but I'd love for someone to tell me if deleting `gens` out of the `kwds` dict is sufficiently pythonic. (If you don't, the call to `absolute_order_from_ring_generators` rightfully complains that `gens` is specified twice.) Another option would be to reassign `kwds['dict']` at the end, but I don't think that's any nicer. (In fact, that might be epsilon slower, since it's another argument to unpack from the dictionary on the other side.)

Also, the comment block in the docstring **really** looks like something was accidentally cut off at some point. Amusingly, this isn't the case: I actually dug through the hg logs, and it was really committed just like that.



---

archive/issue_comments_018629.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2010-01-20T06:23:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18629",
    "user": "https://github.com/craigcitro"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_018630.json:
```json
{
    "body": "**Upstream:** N/A",
    "created_at": "2010-01-20T06:23:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18630",
    "user": "https://github.com/craigcitro"
}
```

**Upstream:** N/A



---

archive/issue_comments_018631.json:
```json
{
    "body": "**Author:** Craig Citro",
    "created_at": "2010-01-20T06:23:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18631",
    "user": "https://github.com/craigcitro"
}
```

**Author:** Craig Citro



---

archive/issue_comments_018632.json:
```json
{
    "body": "<a id='comment:3'></a>\nMike and Robert, I'm adding you on the cc so that you can tell me if I'm being sufficiently pythonic. `:)`",
    "created_at": "2010-01-20T06:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18632",
    "user": "https://github.com/craigcitro"
}
```

<a id='comment:3'></a>
Mike and Robert, I'm adding you on the cc so that you can tell me if I'm being sufficiently pythonic. `:)`



---

archive/issue_comments_018633.json:
```json
{
    "body": "<a id='comment:4'></a>\nHey Craig,\n\n```\ngens = kwds.pop('gens')\n```\n\nis probably better.",
    "created_at": "2010-01-20T07:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18633",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:4'></a>
Hey Craig,

```
gens = kwds.pop('gens')
```

is probably better.



---

archive/issue_comments_018634.json:
```json
{
    "body": "<a id='comment:5'></a>\nErr,\n\n```\ngens = kwds.pop('gens', args)\n```",
    "created_at": "2010-01-20T07:05:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18634",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:5'></a>
Err,

```
gens = kwds.pop('gens', args)
```



---

archive/issue_comments_018635.json:
```json
{
    "body": "<a id='comment:6'></a>\nAttachment [trac_2480.patch](tarball://root/attachments/some-uuid/ticket2480/trac_2480.patch) by @craigcitro created at 2010-01-20 07:07:39\n\nNice. New patch with Mike's suggestion incorporated posted.",
    "created_at": "2010-01-20T07:07:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18635",
    "user": "https://github.com/craigcitro"
}
```

<a id='comment:6'></a>
Attachment [trac_2480.patch](tarball://root/attachments/some-uuid/ticket2480/trac_2480.patch) by @craigcitro created at 2010-01-20 07:07:39

Nice. New patch with Mike's suggestion incorporated posted.



---

archive/issue_comments_018636.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2010-01-20T07:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18636",
    "user": "https://github.com/mwhansen"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_018637.json:
```json
{
    "body": "**Reviewer:** Mike Hansen",
    "created_at": "2010-01-20T07:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18637",
    "user": "https://github.com/mwhansen"
}
```

**Reviewer:** Mike Hansen



---

archive/issue_events_007391.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2010-01-24T03:22:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/2480#event-7391"
}
```



---

archive/issue_comments_018638.json:
```json
{
    "body": "**Merged:** sage-4.3.2.alpha0",
    "created_at": "2010-01-24T03:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18638",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Merged:** sage-4.3.2.alpha0



---

archive/issue_comments_018639.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2010-01-24T03:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2480",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2480#issuecomment-18639",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Resolution:** fixed
