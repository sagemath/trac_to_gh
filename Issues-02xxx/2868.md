# Issue 2868: Weight revision for fastcrystals

archive/issues_002868.json:
```json
{
    "body": "This extends the revision of the patch in #2853\n\nThe previous patch reimplemented the weight function for vertices in crystals of letters and crystals of tableaux. The patch at hand does the corresponding reimplementation for fastcrystals. These are crystals whose definition is limited to types A2, B2, C2. They are isomorphic to crystals of tableaux but have better speed when the crystal is large, since the root operators are implemented by table lookup. \n\nThe revised weight function should be very fast since the weight is computed by adding a few numbers together.\n\nThis patch corrects the same defect for type A2 that the previous patch addressed.\n\nThe tests in the patch were written BEFORE the weight function was reimplemented, so I am confident that it is correct.\n\n\n**Assignee:** @mwhansen\n\n**CC:**  sage-combinat\n\nIssue created by migration from https://trac.sagemath.org/ticket/2868\n\n",
    "closed_at": "2008-04-10T03:35:04Z",
    "created_at": "2008-04-09T23:48:25Z",
    "labels": [
        "component: combinatorics",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.0",
    "title": "Weight revision for fastcrystals",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/2868",
    "user": "https://github.com/dwbump"
}
```
This extends the revision of the patch in #2853

The previous patch reimplemented the weight function for vertices in crystals of letters and crystals of tableaux. The patch at hand does the corresponding reimplementation for fastcrystals. These are crystals whose definition is limited to types A2, B2, C2. They are isomorphic to crystals of tableaux but have better speed when the crystal is large, since the root operators are implemented by table lookup. 

The revised weight function should be very fast since the weight is computed by adding a few numbers together.

This patch corrects the same defect for type A2 that the previous patch addressed.

The tests in the patch were written BEFORE the weight function was reimplemented, so I am confident that it is correct.


**Assignee:** @mwhansen

**CC:**  sage-combinat

Issue created by migration from https://trac.sagemath.org/ticket/2868





---

archive/attachments_002718.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "weight_fastcrystal.patch",
    "asset_url": "tarball://root/attachments/ticket2868/weight_fastcrystal.patch",
    "created_at": "2008-04-09T23:50:22Z",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket2868/weight_fastcrystal.patch",
    "user": "https://github.com/dwbump"
}
```



---

archive/issue_comments_015652.json:
```json
{
    "body": "Attachment [weight_fastcrystal.patch](https://github.com/sagemath/sage/files/ticket2868/weight_fastcrystal.patch) by @dwbump created at 2008-04-09 23:50:22",
    "created_at": "2008-04-09T23:50:22Z",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2868#issuecomment-15652",
    "user": "https://github.com/dwbump"
}
```

Attachment [weight_fastcrystal.patch](https://github.com/sagemath/sage/files/ticket2868/weight_fastcrystal.patch) by @dwbump created at 2008-04-09 23:50:22



---

archive/issue_comments_015653.json:
```json
{
    "body": "**Changing assignee** from @mwhansen to @dwbump.",
    "created_at": "2008-04-09T23:51:56Z",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2868#issuecomment-15653",
    "user": "https://github.com/dwbump"
}
```

**Changing assignee** from @mwhansen to @dwbump.



---

archive/issue_events_014953.json:
```json
{
    "actor": "https://github.com/dwbump",
    "created_at": "2008-04-09T23:53:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "milestone": "sage-3.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2868#event-14953"
}
```



---

archive/issue_comments_015654.json:
```json
{
    "body": "**Changing assignee** from @dwbump to @mwhansen.",
    "created_at": "2008-04-10T00:24:20Z",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2868#issuecomment-15654",
    "user": "https://github.com/dwbump"
}
```

**Changing assignee** from @dwbump to @mwhansen.



---

archive/issue_events_014954.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-04-10T02:01:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2868#event-14954"
}
```



---

archive/attachments_002719.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "2868.patch",
    "asset_url": "tarball://root/attachments/ticket2868/2868.patch",
    "created_at": "2008-04-10T03:14:30Z",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket2868/2868.patch",
    "user": "https://github.com/mwhansen"
}
```



---

archive/issue_comments_015655.json:
```json
{
    "body": "Attachment [2868.patch](https://github.com/sagemath/sage/files/ticket2868/2868.patch) by @mwhansen created at 2008-04-10 03:14:30",
    "created_at": "2008-04-10T03:14:30Z",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2868#issuecomment-15655",
    "user": "https://github.com/mwhansen"
}
```

Attachment [2868.patch](https://github.com/sagemath/sage/files/ticket2868/2868.patch) by @mwhansen created at 2008-04-10 03:14:30



---

archive/issue_events_014955.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2008-04-10T03:15:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2868#event-14955"
}
```



---

archive/issue_events_014956.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2008-04-10T03:15:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2868#event-14956"
}
```



---

archive/issue_comments_015656.json:
```json
{
    "body": "<a id='comment:5'></a>\nI attached a new patch which removes a print statement and moves the tests down to the docstring of weight.",
    "created_at": "2008-04-10T03:15:08Z",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2868#issuecomment-15656",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:5'></a>
I attached a new patch which removes a print statement and moves the tests down to the docstring of weight.



---

archive/issue_events_014957.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-04-10T03:35:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2868#event-14957"
}
```



---

archive/issue_events_014958.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2008-04-10T03:35:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/2868#event-14958"
}
```



---

archive/issue_comments_015657.json:
```json
{
    "body": "<a id='comment:6'></a>\nMerged 2868.patch in Sage 3.0.alpha4",
    "created_at": "2008-04-10T03:35:04Z",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2868#issuecomment-15657",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:6'></a>
Merged 2868.patch in Sage 3.0.alpha4



---

archive/issue_comments_015658.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,4 @@\n-This extends the revision of the patch in:\n-\n-http://sagetrac.org/sage_trac/ticket/2853\n+This extends the revision of the patch in #2853\n \n The previous patch reimplemented the weight function for vertices in crystals of letters and crystals of tableaux. The patch at hand does the corresponding reimplementation for fastcrystals. These are crystals whose definition is limited to types A2, B2, C2. They are isomorphic to crystals of tableaux but have better speed when the crystal is large, since the root operators are implemented by table lookup. \n \n``````\n",
    "created_at": "2011-05-24T19:44:41Z",
    "issue": "https://github.com/sagemath/sage/issues/2868",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/2868#issuecomment-15658",
    "user": "https://trac.sagemath.org/admin/accounts/users/ltw"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,4 @@
-This extends the revision of the patch in:
-
-http://sagetrac.org/sage_trac/ticket/2853
+This extends the revision of the patch in #2853
 
 The previous patch reimplemented the weight function for vertices in crystals of letters and crystals of tableaux. The patch at hand does the corresponding reimplementation for fastcrystals. These are crystals whose definition is limited to types A2, B2, C2. They are isomorphic to crystals of tableaux but have better speed when the crystal is large, since the root operators are implemented by table lookup. 
 
``````

