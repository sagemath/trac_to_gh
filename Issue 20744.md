# Issue 20744: Fix debug build of some modules on Cygwin

archive/issues_020744.json:
```json
{
    "body": "This small patch fixes some problems I was having doing a debug build of Sage on Cygwin (`SAGE_DEBUG=yes`).  I didn't have the same problem on Windows.\n\nI actually made this patch a few weeks ago and don't remember all the details of why this was needed.  No symbols from `gmp` are used explicitly in those modules, but *are* brought in via `ntl`.  Normally these unused symbols would be optimized out at link time, but with `-O0` they are not.  There are also some Windows-specific details of the linker that I forget that were specifically responsible for this failing on Windows, while it still worked on Linux.\n\nThat said, it should be harmless to add this change in general.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20981\n\n",
    "created_at": "2016-07-08T12:09:42Z",
    "labels": [
        "porting: Cygwin",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Fix debug build of some modules on Cygwin",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20744",
    "user": "@embray"
}
```
This small patch fixes some problems I was having doing a debug build of Sage on Cygwin (`SAGE_DEBUG=yes`).  I didn't have the same problem on Windows.

I actually made this patch a few weeks ago and don't remember all the details of why this was needed.  No symbols from `gmp` are used explicitly in those modules, but *are* brought in via `ntl`.  Normally these unused symbols would be optimized out at link time, but with `-O0` they are not.  There are also some Windows-specific details of the linker that I forget that were specifically responsible for this failing on Windows, while it still worked on Linux.

That said, it should be harmless to add this change in general.

Issue created by migration from https://trac.sagemath.org/ticket/20981





---

archive/issue_comments_286576.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-07-08T12:23:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286576",
    "user": "@embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_286577.json:
```json
{
    "body": "Don't you want to put a note somewhere about that inside `module_list.py`?",
    "created_at": "2016-07-08T20:59:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286577",
    "user": "@videlec"
}
```

Don't you want to put a note somewhere about that inside `module_list.py`?



---

archive/issue_comments_286578.json:
```json
{
    "body": "Replying to [comment:2 vdelecroix]:\n> Don't you want to put a note somewhere about that inside `module_list.py`?\n\nYes, that would probably be good.",
    "created_at": "2016-07-11T11:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286578",
    "user": "@embray"
}
```

Replying to [comment:2 vdelecroix]:
> Don't you want to put a note somewhere about that inside `module_list.py`?

Yes, that would probably be good.



---

archive/issue_comments_286579.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-11T11:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286579",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_286580.json:
```json
{
    "body": "Does not apply.",
    "created_at": "2017-03-16T19:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286580",
    "user": "@jdemeyer"
}
```

Does not apply.



---

archive/issue_comments_286581.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-03-16T19:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286581",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_286582.json:
```json
{
    "body": "I think #22323 was actually mostly a duplicate of this.  Let me see if there's anything still worth keeping from this ticket.",
    "created_at": "2017-03-16T19:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286582",
    "user": "@embray"
}
```

I think #22323 was actually mostly a duplicate of this.  Let me see if there's anything still worth keeping from this ticket.



---

archive/issue_comments_286583.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-03-16T19:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286583",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_286584.json:
```json
{
    "body": "Well I rebased it.  There's not much left, but the extra bits make sense to have I think.",
    "created_at": "2017-03-16T19:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286584",
    "user": "@embray"
}
```

Well I rebased it.  There's not much left, but the extra bits make sense to have I think.



---

archive/issue_comments_286585.json:
```json
{
    "body": "It seems actually the last change from this ticket that has not been applied (other than the explanatory comment, though it's not essential) is not needed after all.  I've been building with `SAGE_DEBUG=yes` for a while and haven't needed to link these extra libraries.\n\nWill reopen if somehow it crops up again.",
    "created_at": "2017-03-22T15:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286585",
    "user": "@embray"
}
```

It seems actually the last change from this ticket that has not been applied (other than the explanatory comment, though it's not essential) is not needed after all.  I've been building with `SAGE_DEBUG=yes` for a while and haven't needed to link these extra libraries.

Will reopen if somehow it crops up again.



---

archive/issue_comments_286586.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-03-22T15:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286586",
    "user": "@embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_286587.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-03-22T18:04:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286587",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_286588.json:
```json
{
    "body": "Resolution: worksforme",
    "created_at": "2017-04-24T14:52:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20744#issuecomment-286588",
    "user": "@embray"
}
```

Resolution: worksforme
