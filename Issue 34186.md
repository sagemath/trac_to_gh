# Issue 34186: implement arithmetic product of lazy symmetric functions

archive/issues_034186.json:
```json
{
    "body": "CC:  tscrim\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/34423\n\n",
    "created_at": "2022-08-24T14:22:13Z",
    "labels": [
        "PLEASE CHANGE",
        "major",
        "PLEASE CHANGE"
    ],
    "title": "implement arithmetic product of lazy symmetric functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34186",
    "user": "mantepse"
}
```
CC:  tscrim



Issue created by migration from https://trac.sagemath.org/ticket/34423





---

archive/issue_comments_485085.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2022-08-24T14:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485085",
    "user": "mantepse"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_485086.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2022-08-24T14:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485086",
    "user": "mantepse"
}
```

Last 10 new commits:



---

archive/issue_comments_485087.json:
```json
{
    "body": "Changing keywords from \"\" to \"LazyPowerSeries\".",
    "created_at": "2022-08-24T14:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485087",
    "user": "mantepse"
}
```

Changing keywords from "" to "LazyPowerSeries".



---

archive/issue_comments_485088.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2022-08-24T21:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485088",
    "user": "mantepse"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_485089.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-24T21:07:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485089",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485090.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-24T21:08:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485090",
    "user": "mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_485091.json:
```json
{
    "body": "As on the other tickets, it would be good to have an explanation not in terms of species since not everyone who uses this code will know about species.\n\nSome other details:\n\n- Only use `\\` instead of `\\\\` since you marked the docstring as `r\"\"\"` (i.e., \"raw\" in Python-lingo).\n- Move the reference to the master reference file and follow the naming conventions there.",
    "created_at": "2022-08-25T00:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485091",
    "user": "tscrim"
}
```

As on the other tickets, it would be good to have an explanation not in terms of species since not everyone who uses this code will know about species.

Some other details:

- Only use `\` instead of `\\` since you marked the docstring as `r"""` (i.e., "raw" in Python-lingo).
- Move the reference to the master reference file and follow the naming conventions there.



---

archive/issue_comments_485092.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-08-30T14:56:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485092",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_485093.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-30T15:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485093",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485094.json:
```json
{
    "body": "Done.",
    "created_at": "2022-08-30T15:17:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485094",
    "user": "mantepse"
}
```

Done.



---

archive/issue_comments_485095.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-30T20:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485095",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485096.json:
```json
{
    "body": "The doc is still described in terms of species rather than symmetric functions. The species can remain, but I think we should have it also explained as a symmetric function operation. Or is this unreasonable?",
    "created_at": "2022-08-31T00:50:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485096",
    "user": "tscrim"
}
```

The doc is still described in terms of species rather than symmetric functions. The species can remain, but I think we should have it also explained as a symmetric function operation. Or is this unreasonable?



---

archive/issue_comments_485097.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-02T17:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485097",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485098.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-02T18:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485098",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485099.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-02T20:58:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485099",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485100.json:
```json
{
    "body": "Ready!",
    "created_at": "2022-09-02T20:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485100",
    "user": "mantepse"
}
```

Ready!



---

archive/issue_comments_485101.json:
```json
{
    "body": "Thank you. Two more little things:\n\n```diff\n-       - ``g`` -- a cycle index series having the same parent as ``self``.\n+       - ``g`` -- a cycle index series having the same parent as ``self``\n \n-        - ``check`` -- (default: ``True``) a Boolean which, when set\n-          to ``False``, will cause input checks to be skipped.\n+        - ``check`` -- (default: ``True``) a boolean which, when set\n+          to ``False``, will cause input checks to be skipped\n```\n\nAnd to break the long doctest output to multiple lines (at each degree for instance).",
    "created_at": "2022-09-02T22:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485101",
    "user": "tscrim"
}
```

Thank you. Two more little things:

```diff
-       - ``g`` -- a cycle index series having the same parent as ``self``.
+       - ``g`` -- a cycle index series having the same parent as ``self``
 
-        - ``check`` -- (default: ``True``) a Boolean which, when set
-          to ``False``, will cause input checks to be skipped.
+        - ``check`` -- (default: ``True``) a boolean which, when set
+          to ``False``, will cause input checks to be skipped
```

And to break the long doctest output to multiple lines (at each degree for instance).



---

archive/issue_comments_485102.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-03T07:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485102",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485103.json:
```json
{
    "body": "There is a very minor problem with the arithmetic product of exact series and zero, which I am currently fixing.",
    "created_at": "2022-09-03T07:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485103",
    "user": "mantepse"
}
```

There is a very minor problem with the arithmetic product of exact series and zero, which I am currently fixing.



---

archive/issue_comments_485104.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-09-03T07:48:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485104",
    "user": "mantepse"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_485105.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-03T08:39:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485105",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485106.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-09-03T08:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485106",
    "user": "mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_485107.json:
```json
{
    "body": "I love pyflakes.",
    "created_at": "2022-09-03T08:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485107",
    "user": "mantepse"
}
```

I love pyflakes.



---

archive/issue_comments_485108.json:
```json
{
    "body": "Can you add an example with a finite series with a constant term of, say, `3` (maybe also for `g` as well)? Once that is done, you can set a positive review on my behalf (assuming tests pass on the file for you).",
    "created_at": "2022-09-03T10:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485108",
    "user": "tscrim"
}
```

Can you add an example with a finite series with a constant term of, say, `3` (maybe also for `g` as well)? Once that is done, you can set a positive review on my behalf (assuming tests pass on the file for you).



---

archive/issue_comments_485109.json:
```json
{
    "body": "Hi Travis!\n\nI am not sure whether such a test is a good idea, since the arithmetic product does not really make sense for symmetric functions with constant term.  On the other hand, I am guessing that setting the arithmetic product of `1` and `p_mu` to `p_0` for any `mu` is the only sensible extension.\n\nSo, do you want to see\n\n```\nsage: L(s(3)).arithmetic_product(5*p[2,1])\n15*s[]\n```\n\nor did I misunderstand?",
    "created_at": "2022-09-08T06:30:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485109",
    "user": "mantepse"
}
```

Hi Travis!

I am not sure whether such a test is a good idea, since the arithmetic product does not really make sense for symmetric functions with constant term.  On the other hand, I am guessing that setting the arithmetic product of `1` and `p_mu` to `p_0` for any `mu` is the only sensible extension.

So, do you want to see

```
sage: L(s(3)).arithmetic_product(5*p[2,1])
15*s[]
```

or did I misunderstand?



---

archive/issue_comments_485110.json:
```json
{
    "body": "Yes, that\u2019s what I am thinking, or something like `L(s(3) + p[1])`. I was looking at the code and wanting to check to make sure the code handles this case correctly. If it doesn\u2019t make sense to have a constant term (or you are unsure), then we should either raise some kind of error or issue a warning.",
    "created_at": "2022-09-08T23:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485110",
    "user": "tscrim"
}
```

Yes, that’s what I am thinking, or something like `L(s(3) + p[1])`. I was looking at the code and wanting to check to make sure the code handles this case correctly. If it doesn’t make sense to have a constant term (or you are unsure), then we should either raise some kind of error or issue a warning.



---

archive/issue_comments_485111.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-09T06:14:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485111",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485112.json:
```json
{
    "body": "Done!  I looked at the reference and the formula again, and decided to add an explanation in the docstring, and an example that can be checked without pencil and paper.",
    "created_at": "2022-09-09T06:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485112",
    "user": "mantepse"
}
```

Done!  I looked at the reference and the formula again, and decided to add an explanation in the docstring, and an example that can be checked without pencil and paper.



---

archive/issue_comments_485113.json:
```json
{
    "body": "Thanks. Just add some whitespace here and you can set a positive review:\n\n```diff\n         Check that the arithmetic product of symmetric functions with\n-constant a term works as advertised::\n+        constant a term works as advertised::\n```\n",
    "created_at": "2022-09-09T06:26:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485113",
    "user": "tscrim"
}
```

Thanks. Just add some whitespace here and you can set a positive review:

```diff
         Check that the arithmetic product of symmetric functions with
-constant a term works as advertised::
+        constant a term works as advertised::
```




---

archive/issue_comments_485114.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-09T06:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485114",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485115.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-09-09T06:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485115",
    "user": "mantepse"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_485116.json:
```json
{
    "body": "Thank you!",
    "created_at": "2022-09-09T06:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485116",
    "user": "mantepse"
}
```

Thank you!



---

archive/issue_comments_485117.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2022-09-26T10:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485117",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_485118.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2022-09-26T10:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485118",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_485119.json:
```json
{
    "body": "trivial (autopmatic) merge, necessary to make the patchbots happy.",
    "created_at": "2022-09-26T10:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485119",
    "user": "mantepse"
}
```

trivial (autopmatic) merge, necessary to make the patchbots happy.



---

archive/issue_comments_485120.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-09-26T10:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485120",
    "user": "mantepse"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_485121.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-09-29T21:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-485121",
    "user": "vbraun"
}
```

Resolution: fixed
