# Issue 34186: implement arithmetic product of lazy symmetric functions

archive/issues_034186.json:
```json
{
    "body": "CC:  @tscrim\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/34423\n\n",
    "created_at": "2022-08-24T14:22:13Z",
    "labels": [
        "component: please change"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "implement arithmetic product of lazy symmetric functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34186",
    "user": "https://github.com/mantepse"
}
```
CC:  @tscrim



Issue created by migration from https://trac.sagemath.org/ticket/34423





---

archive/issue_comments_484488.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2022-08-24T14:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484488",
    "user": "https://github.com/mantepse"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_484489.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2022-08-24T14:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484489",
    "user": "https://github.com/mantepse"
}
```

Last 10 new commits:



---

archive/issue_comments_484490.json:
```json
{
    "body": "Changing keywords from \"\" to \"LazyPowerSeries\".",
    "created_at": "2022-08-24T14:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484490",
    "user": "https://github.com/mantepse"
}
```

Changing keywords from "" to "LazyPowerSeries".



---

archive/issue_comments_484491.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2022-08-24T21:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484491",
    "user": "https://github.com/mantepse"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_484492.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-24T21:07:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484492",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484493.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-24T21:08:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484493",
    "user": "https://github.com/mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_484494.json:
```json
{
    "body": "As on the other tickets, it would be good to have an explanation not in terms of species since not everyone who uses this code will know about species.\n\nSome other details:\n\n- Only use `\\` instead of `\\\\` since you marked the docstring as `r\"\"\"` (i.e., \"raw\" in Python-lingo).\n- Move the reference to the master reference file and follow the naming conventions there.",
    "created_at": "2022-08-25T00:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484494",
    "user": "https://github.com/tscrim"
}
```

As on the other tickets, it would be good to have an explanation not in terms of species since not everyone who uses this code will know about species.

Some other details:

- Only use `\` instead of `\\` since you marked the docstring as `r"""` (i.e., "raw" in Python-lingo).
- Move the reference to the master reference file and follow the naming conventions there.



---

archive/issue_comments_484495.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-08-30T14:56:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484495",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_484496.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-30T15:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484496",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484497.json:
```json
{
    "body": "Done.",
    "created_at": "2022-08-30T15:17:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484497",
    "user": "https://github.com/mantepse"
}
```

Done.



---

archive/issue_comments_484498.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-30T20:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484498",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484499.json:
```json
{
    "body": "The doc is still described in terms of species rather than symmetric functions. The species can remain, but I think we should have it also explained as a symmetric function operation. Or is this unreasonable?",
    "created_at": "2022-08-31T00:50:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484499",
    "user": "https://github.com/tscrim"
}
```

The doc is still described in terms of species rather than symmetric functions. The species can remain, but I think we should have it also explained as a symmetric function operation. Or is this unreasonable?



---

archive/issue_comments_484500.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-02T17:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484500",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484501.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-02T18:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484501",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484502.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-02T20:58:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484502",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484503.json:
```json
{
    "body": "Ready!",
    "created_at": "2022-09-02T20:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484503",
    "user": "https://github.com/mantepse"
}
```

Ready!



---

archive/issue_comments_484504.json:
```json
{
    "body": "Thank you. Two more little things:\n\n```diff\n-       - ``g`` -- a cycle index series having the same parent as ``self``.\n+       - ``g`` -- a cycle index series having the same parent as ``self``\n \n-        - ``check`` -- (default: ``True``) a Boolean which, when set\n-          to ``False``, will cause input checks to be skipped.\n+        - ``check`` -- (default: ``True``) a boolean which, when set\n+          to ``False``, will cause input checks to be skipped\n```\n\nAnd to break the long doctest output to multiple lines (at each degree for instance).",
    "created_at": "2022-09-02T22:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484504",
    "user": "https://github.com/tscrim"
}
```

Thank you. Two more little things:

```diff
-       - ``g`` -- a cycle index series having the same parent as ``self``.
+       - ``g`` -- a cycle index series having the same parent as ``self``
 
-        - ``check`` -- (default: ``True``) a Boolean which, when set
-          to ``False``, will cause input checks to be skipped.
+        - ``check`` -- (default: ``True``) a boolean which, when set
+          to ``False``, will cause input checks to be skipped
```

And to break the long doctest output to multiple lines (at each degree for instance).



---

archive/issue_comments_484505.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-03T07:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484505",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484506.json:
```json
{
    "body": "There is a very minor problem with the arithmetic product of exact series and zero, which I am currently fixing.",
    "created_at": "2022-09-03T07:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484506",
    "user": "https://github.com/mantepse"
}
```

There is a very minor problem with the arithmetic product of exact series and zero, which I am currently fixing.



---

archive/issue_comments_484507.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-09-03T07:48:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484507",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_484508.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-03T08:39:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484508",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484509.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-09-03T08:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484509",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_484510.json:
```json
{
    "body": "I love pyflakes.",
    "created_at": "2022-09-03T08:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484510",
    "user": "https://github.com/mantepse"
}
```

I love pyflakes.



---

archive/issue_comments_484511.json:
```json
{
    "body": "Can you add an example with a finite series with a constant term of, say, `3` (maybe also for `g` as well)? Once that is done, you can set a positive review on my behalf (assuming tests pass on the file for you).",
    "created_at": "2022-09-03T10:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484511",
    "user": "https://github.com/tscrim"
}
```

Can you add an example with a finite series with a constant term of, say, `3` (maybe also for `g` as well)? Once that is done, you can set a positive review on my behalf (assuming tests pass on the file for you).



---

archive/issue_comments_484512.json:
```json
{
    "body": "Hi Travis!\n\nI am not sure whether such a test is a good idea, since the arithmetic product does not really make sense for symmetric functions with constant term.  On the other hand, I am guessing that setting the arithmetic product of `1` and `p_mu` to `p_0` for any `mu` is the only sensible extension.\n\nSo, do you want to see\n\n```\nsage: L(s(3)).arithmetic_product(5*p[2,1])\n15*s[]\n```\n\nor did I misunderstand?",
    "created_at": "2022-09-08T06:30:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484512",
    "user": "https://github.com/mantepse"
}
```

Hi Travis!

I am not sure whether such a test is a good idea, since the arithmetic product does not really make sense for symmetric functions with constant term.  On the other hand, I am guessing that setting the arithmetic product of `1` and `p_mu` to `p_0` for any `mu` is the only sensible extension.

So, do you want to see

```
sage: L(s(3)).arithmetic_product(5*p[2,1])
15*s[]
```

or did I misunderstand?



---

archive/issue_comments_484513.json:
```json
{
    "body": "Yes, that\u2019s what I am thinking, or something like `L(s(3) + p[1])`. I was looking at the code and wanting to check to make sure the code handles this case correctly. If it doesn\u2019t make sense to have a constant term (or you are unsure), then we should either raise some kind of error or issue a warning.",
    "created_at": "2022-09-08T23:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484513",
    "user": "https://github.com/tscrim"
}
```

Yes, that’s what I am thinking, or something like `L(s(3) + p[1])`. I was looking at the code and wanting to check to make sure the code handles this case correctly. If it doesn’t make sense to have a constant term (or you are unsure), then we should either raise some kind of error or issue a warning.



---

archive/issue_comments_484514.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-09T06:14:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484514",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484515.json:
```json
{
    "body": "Done!  I looked at the reference and the formula again, and decided to add an explanation in the docstring, and an example that can be checked without pencil and paper.",
    "created_at": "2022-09-09T06:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484515",
    "user": "https://github.com/mantepse"
}
```

Done!  I looked at the reference and the formula again, and decided to add an explanation in the docstring, and an example that can be checked without pencil and paper.



---

archive/issue_comments_484516.json:
```json
{
    "body": "Thanks. Just add some whitespace here and you can set a positive review:\n\n```diff\n         Check that the arithmetic product of symmetric functions with\n-constant a term works as advertised::\n+        constant a term works as advertised::\n```\n",
    "created_at": "2022-09-09T06:26:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484516",
    "user": "https://github.com/tscrim"
}
```

Thanks. Just add some whitespace here and you can set a positive review:

```diff
         Check that the arithmetic product of symmetric functions with
-constant a term works as advertised::
+        constant a term works as advertised::
```




---

archive/issue_comments_484517.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-09T06:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484517",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484518.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-09-09T06:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484518",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_484519.json:
```json
{
    "body": "Thank you!",
    "created_at": "2022-09-09T06:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484519",
    "user": "https://github.com/mantepse"
}
```

Thank you!



---

archive/issue_comments_484520.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2022-09-26T10:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484520",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_484521.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2022-09-26T10:23:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484521",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_484522.json:
```json
{
    "body": "trivial (autopmatic) merge, necessary to make the patchbots happy.",
    "created_at": "2022-09-26T10:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484522",
    "user": "https://github.com/mantepse"
}
```

trivial (autopmatic) merge, necessary to make the patchbots happy.



---

archive/issue_comments_484523.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-09-26T10:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484523",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_030743.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2022-09-29T21:02:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34186#event-30743"
}
```



---

archive/issue_comments_484524.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-09-29T21:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34186",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34186#issuecomment-484524",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
