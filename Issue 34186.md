# Issue 34186: implement arithmetic product of lazy symmetric functions

Issue created by migration from https://trac.sagemath.org/ticket/34423

Original creator: mantepse

Original creation time: 2022-08-24 14:22:13

CC:  tscrim




---

Comment by mantepse created at 2022-08-24 14:24:01

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by mantepse created at 2022-08-24 14:24:01

Last 10 new commits:


---

Comment by mantepse created at 2022-08-24 14:24:01

Changing keywords from "" to "LazyPowerSeries".


---

Comment by mantepse created at 2022-08-24 21:04:55

Changing type from PLEASE CHANGE to enhancement.


---

Comment by git created at 2022-08-24 21:07:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mantepse created at 2022-08-24 21:08:23

Changing status from new to needs_review.


---

Comment by tscrim created at 2022-08-25 00:25:34

As on the other tickets, it would be good to have an explanation not in terms of species since not everyone who uses this code will know about species.

Some other details:

- Only use `\` instead of `\\` since you marked the docstring as `r"""` (i.e., "raw" in Python-lingo).
- Move the reference to the master reference file and follow the naming conventions there.


---

Comment by git created at 2022-08-30 14:56:59

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2022-08-30 15:11:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mantepse created at 2022-08-30 15:17:45

Done.


---

Comment by git created at 2022-08-30 20:51:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2022-08-31 00:50:14

The doc is still described in terms of species rather than symmetric functions. The species can remain, but I think we should have it also explained as a symmetric function operation. Or is this unreasonable?


---

Comment by git created at 2022-09-02 17:36:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-09-02 18:38:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-09-02 20:58:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mantepse created at 2022-09-02 20:58:48

Ready!


---

Comment by tscrim created at 2022-09-02 22:44:10

Thank you. Two more little things:

```diff
-       - ``g`` -- a cycle index series having the same parent as ``self``.
+       - ``g`` -- a cycle index series having the same parent as ``self``
 
-        - ``check`` -- (default: ``True``) a Boolean which, when set
-          to ``False``, will cause input checks to be skipped.
+        - ``check`` -- (default: ``True``) a boolean which, when set
+          to ``False``, will cause input checks to be skipped
```

And to break the long doctest output to multiple lines (at each degree for instance).


---

Comment by git created at 2022-09-03 07:11:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mantepse created at 2022-09-03 07:48:40

There is a very minor problem with the arithmetic product of exact series and zero, which I am currently fixing.


---

Comment by mantepse created at 2022-09-03 07:48:53

Changing status from needs_review to needs_work.


---

Comment by git created at 2022-09-03 08:39:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mantepse created at 2022-09-03 08:40:51

Changing status from needs_work to needs_review.


---

Comment by mantepse created at 2022-09-03 08:41:02

I love pyflakes.


---

Comment by tscrim created at 2022-09-03 10:58:54

Can you add an example with a finite series with a constant term of, say, `3` (maybe also for `g` as well)? Once that is done, you can set a positive review on my behalf (assuming tests pass on the file for you).


---

Comment by mantepse created at 2022-09-08 06:30:14

Hi Travis!

I am not sure whether such a test is a good idea, since the arithmetic product does not really make sense for symmetric functions with constant term.  On the other hand, I am guessing that setting the arithmetic product of `1` and `p_mu` to `p_0` for any `mu` is the only sensible extension.

So, do you want to see

```
sage: L(s(3)).arithmetic_product(5*p[2,1])
15*s[]
```

or did I misunderstand?


---

Comment by tscrim created at 2022-09-08 23:55:56

Yes, that’s what I am thinking, or something like `L(s(3) + p[1])`. I was looking at the code and wanting to check to make sure the code handles this case correctly. If it doesn’t make sense to have a constant term (or you are unsure), then we should either raise some kind of error or issue a warning.


---

Comment by git created at 2022-09-09 06:14:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mantepse created at 2022-09-09 06:15:48

Done!  I looked at the reference and the formula again, and decided to add an explanation in the docstring, and an example that can be checked without pencil and paper.


---

Comment by tscrim created at 2022-09-09 06:26:37

Thanks. Just add some whitespace here and you can set a positive review:

```diff
         Check that the arithmetic product of symmetric functions with
-constant a term works as advertised::
+        constant a term works as advertised::
```



---

Comment by git created at 2022-09-09 06:54:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mantepse created at 2022-09-09 06:56:05

Changing status from needs_review to positive_review.


---

Comment by mantepse created at 2022-09-09 06:56:05

Thank you!


---

Comment by git created at 2022-09-26 10:23:24

Changing status from positive_review to needs_review.


---

Comment by git created at 2022-09-26 10:23:24

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by mantepse created at 2022-09-26 10:23:59

trivial (autopmatic) merge, necessary to make the patchbots happy.


---

Comment by mantepse created at 2022-09-26 10:23:59

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-09-29 21:02:31

Resolution: fixed
