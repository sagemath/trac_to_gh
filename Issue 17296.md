# Issue 17296: Fix parent() strangeness

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2014-12-20 23:14:15

Fix a few things which I noticed while working on #10962.


---

Comment by jdemeyer created at 2014-12-22 07:54:01

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2014-12-22 07:54:01

New commits:


---

Comment by ncohen created at 2014-12-22 11:48:55

(being curious)


---

Comment by vdelecroix created at 2015-01-17 14:15:18

Changing status from needs_review to needs_info.


---

Comment by vdelecroix created at 2015-01-17 14:15:18

Hello Jeroen,

1) Why moving "parent_c" and "have_same_parent_c"?

2) Instead of

```
cdef inline parent_c(x):
    if isinstance(x, Element):
        return (<Element>x)._parent
    elif hasattr(x, 'parent'):
        return x.parent()
    else:
        return type(x)
```

wouldn't it be faster to do

```
cdef inline parent_c(x):
    if isinstance(x, Element):
        return (<Element>x)._parent
    else:
        try:
            return x.parent()
        except AttributeError:
            return type(x)
```


3) In `element.pyx`, the "seealso" should be a "SEEALSO".

Vincent


---

Comment by jdemeyer created at 2015-01-17 23:48:08

Replying to [comment:9 vdelecroix]:
> Hello Jeroen,
> 
> 1) Why moving "parent_c" and "have_same_parent_c"?
Mainly to get rid of `coerce.pxi`.


---

Comment by git created at 2015-01-18 21:40:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2015-01-18 21:42:09

Changing status from needs_info to needs_review.


---

Comment by vdelecroix created at 2015-01-20 16:19:22

I just removed trailing whitespaces that you introduce. Beyond that, everything looks fine.

Vincent
----
New commits:


---

Comment by vdelecroix created at 2015-01-20 16:19:22

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2015-01-22 14:52:34

Avoid a merge conflict with #17654.
----
New commits:


---

Comment by vdelecroix created at 2015-01-22 20:45:04

Changing status from positive_review to needs_work.


---

Comment by vdelecroix created at 2015-01-22 20:45:04

As you set dependencies in this order, I move back this one in needs review.


---

Comment by vdelecroix created at 2015-01-22 20:45:09

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2015-01-23 07:04:06

Replying to [comment:16 vdelecroix]:
> As you set dependencies in this order
I didn't change any dependencies, I just added this one commit to _avoid_ a conflict. You just have to review this last commit by itself.


---

Comment by vdelecroix created at 2015-01-23 07:30:32

Replying to [comment:18 jdemeyer]:
> Replying to [comment:16 vdelecroix]:
> > As you set dependencies in this order
> I didn't change any dependencies, I just added this one commit to _avoid_ a conflict. You just have to review this last commit by itself.

Ho, I see!


---

Comment by vdelecroix created at 2015-01-23 07:30:32

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-01-23 15:03:59

Conflicts, probably with #10779


---

Comment by vbraun created at 2015-01-23 15:04:20

Changing status from positive_review to needs_work.


---

Comment by git created at 2015-01-23 20:30:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2015-01-23 21:49:04

Changing status from needs_work to needs_review.


---

Comment by git created at 2015-01-25 13:54:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2015-01-25 15:19:50

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-01-29 13:26:21

Resolution: fixed
