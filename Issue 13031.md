# Issue 13031: Promotion on Tableaux should force its argument to be an Integer.

archive/issues_013031.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  sage-combinat schilling\n\nKeywords: tableaux, promotion\n\nThe entries of a tableau are Integers::\n\n```\n    sage: T = Tableau([[1]])\n    sage: type(T[0][0])\n    <type 'sage.rings.integer.Integer'>\n```\n\n\nThis invariant should be preserved by inverse promotion::\n\n```\n    sage: type(T.promotion_inverse(2)[0][0])\n    <type 'sage.rings.integer.Integer'>\n```\n\n\nBut this is currently not if the input is a plain int::\n\n```\n    sage: type(T.promotion_inverse(int(2))[0][0])\n    <type 'int'>\n```\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/13203\n\n",
    "created_at": "2012-07-05T04:54:04Z",
    "labels": [
        "combinatorics",
        "major",
        "PLEASE CHANGE"
    ],
    "title": "Promotion on Tableaux should force its argument to be an Integer.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13031",
    "user": "nthiery"
}
```
Assignee: sage-combinat

CC:  sage-combinat schilling

Keywords: tableaux, promotion

The entries of a tableau are Integers::

```
    sage: T = Tableau([[1]])
    sage: type(T[0][0])
    <type 'sage.rings.integer.Integer'>
```


This invariant should be preserved by inverse promotion::

```
    sage: type(T.promotion_inverse(2)[0][0])
    <type 'sage.rings.integer.Integer'>
```


But this is currently not if the input is a plain int::

```
    sage: type(T.promotion_inverse(int(2))[0][0])
    <type 'int'>
```



Issue created by migration from https://trac.sagemath.org/ticket/13203





---

archive/issue_comments_157687.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2012-07-05T04:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13031#issuecomment-157687",
    "user": "nthiery"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_157688.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-07-13T12:26:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13031#issuecomment-157688",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_157689.json:
```json
{
    "body": "Could somebody please review this patch ?",
    "created_at": "2012-07-22T19:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13031#issuecomment-157689",
    "user": "chapoton"
}
```

Could somebody please review this patch ?



---

archive/issue_comments_157690.json:
```json
{
    "body": "Could you add \n\n\n```\n    sage: type(T.promotion_inverse(int(2))[0][0])\n    <type 'sage.rings.integer.Integer'>\n```\n\n\nas a doctest?",
    "created_at": "2012-07-22T20:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13031#issuecomment-157690",
    "user": "mhansen"
}
```

Could you add 


```
    sage: type(T.promotion_inverse(int(2))[0][0])
    <type 'sage.rings.integer.Integer'>
```


as a doctest?



---

archive/issue_comments_157691.json:
```json
{
    "body": "Here is a new ticket, with a doctest added.",
    "created_at": "2012-07-23T12:30:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13031#issuecomment-157691",
    "user": "chapoton"
}
```

Here is a new ticket, with a doctest added.



---

archive/issue_comments_157692.json:
```json
{
    "body": "rebased on 5.2",
    "created_at": "2012-08-25T16:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13031#issuecomment-157692",
    "user": "chapoton"
}
```

rebased on 5.2



---

archive/issue_comments_157693.json:
```json
{
    "body": "I just had a look, and this sounds good. For consistency, can you put spaces on both sides of the `=` sign, and move this line just after the is_rectangular test (putting together all the argument checks/preprocessing).\n\nOnce done, you can set a positive review on my behalf (where is the patchbot?)\n\nAh: it depends syntactically on #13074. I just moved your patch right after it in the queue; please run the tests with them applied.\n\n\nThanks!\n\nCheers,\n                                   Nicolas",
    "created_at": "2012-09-19T11:51:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13031#issuecomment-157693",
    "user": "nthiery"
}
```

I just had a look, and this sounds good. For consistency, can you put spaces on both sides of the `=` sign, and move this line just after the is_rectangular test (putting together all the argument checks/preprocessing).

Once done, you can set a positive review on my behalf (where is the patchbot?)

Ah: it depends syntactically on #13074. I just moved your patch right after it in the queue; please run the tests with them applied.


Thanks!

Cheers,
                                   Nicolas



---

archive/issue_comments_157694.json:
```json
{
    "body": "Attachment\n\nI have made the changes, and the tests pass. I do not understand whether I should add the dependency to #13074 or not.",
    "created_at": "2012-09-19T12:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13031#issuecomment-157694",
    "user": "chapoton"
}
```

Attachment

I have made the changes, and the tests pass. I do not understand whether I should add the dependency to #13074 or not.



---

archive/issue_comments_157695.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-09-19T13:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13031#issuecomment-157695",
    "user": "nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_157696.json:
```json
{
    "body": "Unless you commute this patch past #13074, yes it should be a dependency (done)",
    "created_at": "2012-09-19T13:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13031#issuecomment-157696",
    "user": "nthiery"
}
```

Unless you commute this patch past #13074, yes it should be a dependency (done)



---

archive/issue_comments_157697.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-01-07T20:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13031",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13031#issuecomment-157697",
    "user": "jdemeyer"
}
```

Resolution: fixed
