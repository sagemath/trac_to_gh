# Issue 28929: refresh the file Iwahori-Hecke

Issue created by migration from https://trac.sagemath.org/ticket/29166

Original creator: chapoton

Original creation time: 2020-02-07 12:32:17

CC:  tscrim jmantysalo

mainly some pep8 fixes, removal of six, and some code details


---

Comment by chapoton created at 2020-02-07 12:32:38

New commits:


---

Comment by chapoton created at 2020-02-07 16:53:48

green bot, please review


---

Comment by chapoton created at 2020-02-07 16:53:48

Changing status from new to needs_review.


---

Comment by tscrim created at 2020-02-07 22:01:12

Here:

```python
                def new_coeff(c):
                    return new_hecke._base(c(args))
                return new_basis._from_dict({w: new_coeff(c) for w, c in self})
```

all the `new_coeff` does is make the code a little easier to read. However, given the compactness, I think it would be better to do

```python
                return new_basis._from_dict({w: new_hecke._base(c(args))
                                             for w, c in self})
```

as I doubt Python optimizes out that little function call (at least, I think it might be more likely to do so if it is a lambda function).

A while-we-are-at-it: Period removal from error messages:

```
raise ValueError("%s and %s must be invertible." % (A._q1, A._q2))
```


Otherwise LGTM.


---

Comment by tscrim created at 2020-02-07 22:01:43

Feel free to set a positive review after those changes.


---

Comment by git created at 2020-02-08 08:04:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2020-02-08 13:29:07

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2020-02-08 13:29:07

Thank you.


---

Comment by vbraun created at 2020-02-11 21:05:49

Resolution: fixed
