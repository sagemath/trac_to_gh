# Issue 27104: spring cleanup in Hasse diagrams

Issue created by migration from https://trac.sagemath.org/ticket/27341

Original creator: chapoton

Original creation time: 2019-02-23 13:26:19

CC:  tscrim jmantysalo

including a small enhancement in the computation of Moebius matrix

and a bunch of pep8 changes


---

Comment by chapoton created at 2019-02-23 13:26:46

Changing status from new to needs_review.


---

Comment by git created at 2019-02-23 13:26:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-02-23 13:48:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2019-02-23 15:33:28

Is this a correct alignment or should the 3rd line be slightly shifted ?

```diff
+                        S = [x for x in self.neighbors_out(linext[k - 1])
+                             if x not in linext and
+                             all(low in linext for low in self.neighbors_in(x))]
```




I don't find this change improving the readability, but if it's the correct pep8 form, then OK.

```diff
-        return (self.num_edges()+1 == self.num_verts() and # Hasse Diagram is a tree
-                all(d<=1 for d in self.out_degree())   and # max outdegree is <= 1
-                all(d<=1 for d in self.in_degree()))       # max  indegree is <= 1
+        return (self.num_edges() + 1 == self.num_verts() and
+                # Hasse Diagram is a tree
+                all(d <= 1 for d in self.out_degree()) and
+                # max outdegree is <= 1
+                all(d <= 1 for d in self.in_degree()))  # max  indegree is <= 1
```


otherwise, looks good to me.


---

Comment by git created at 2019-02-23 17:03:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-02-23 17:23:17

(1) This is indeed pep8-valid. I changed slightly these lines by cutting the last line

(2) I remove the superfluous comments and shorten the first one.


---

Comment by dcoudert created at 2019-02-23 17:45:04

OK.


---

Comment by dcoudert created at 2019-02-23 17:45:04

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-02-25 18:52:44

Resolution: fixed
