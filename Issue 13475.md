# Issue 13475: Build sphinx docs for a single file

Issue created by migration from Trac.

Original creator: jhpalmieri

Original creation time: 2012-11-02 18:26:58

Assignee: mvngu

CC:  kcrisman simonking slabbe tjolivet okazymyrov vdelecroix

Keywords: Sphinx

The patch here implements

```
sage --docbuild file=/path/to/foo.py TYPE
```

where `TYPE` may be any of the standard documentation types (e.g., html or pdf). This lets you build the docs for a file inside or outside the Sage library. It doesn't work for .pyx files right now, but .py and .sage files seem to be fine.


---

Comment by knsam created at 2013-02-10 22:20:25

**ping**: Hello!! There is a patch file here! So, does this code need review? :) Thanks!


---

Comment by jhpalmieri created at 2013-02-11 19:46:46

Well, it doesn't work for .pyx files, and I think that should be fixed before it's ready for review. When I wrote the original patch, I didn't spend a lot of time working on it, so there are probably other flaws as well. You can certainly test it out and report the results here.


---

Attachment


---

Comment by jhpalmieri created at 2014-04-24 19:10:33

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2014-04-24 19:10:33

New commits:


---

Comment by jhpalmieri created at 2014-04-24 19:13:46

It would be nice if this worked for .pyx or .sage files, but I think it could be reviewed as is, and merged if it's okay. Then later someone can add the functionality for .pyx or .sage files.


---

Comment by vdelecroix created at 2014-06-13 20:46:59

cc me...


---

Comment by vdelecroix created at 2014-06-13 21:01:38

Changing status from needs_review to needs_work.


---

Comment by vdelecroix created at 2014-06-13 21:01:38

Hi there,

The option does not appear within `sage -docbuild --help` but it should!

Another minor question: it is a bit annoying that the resulting file belongs to `$HOME/.sage/docbuild/output/$NAME_OF_THE_FILE/output/html`. Is it possible to do otherwise?

This is a really amazing gadget!

Vincent


---

Comment by git created at 2014-07-25 00:02:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jhpalmieri created at 2014-07-25 00:03:52

This option will now appear in the help message. Also, you can specify the flag `-o DIR` to write the output to `DIR`.


---

Comment by jhpalmieri created at 2014-07-25 00:03:52

Changing status from needs_work to needs_review.


---

Comment by vbraun created at 2014-10-13 13:45:50

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-10-14 10:41:22

Resolution: fixed


---

Comment by nthiery created at 2014-10-22 13:10:00

I just discovered this gadget. Yeah! Finally! I have been dreaming of this for a while. Indeed, I write my course notes and work sheets in ReST, and my workflow to convert them to html is, err, painful.

I am just missing one feature: having it work on .rst files as well. Would it be hard?

Thanks!


---

Comment by kcrisman created at 2014-10-22 13:29:14

> I am just missing one feature: having it work on .rst files as well. Would it be hard?

You could check out the documentation for `sage -sws2rst` where it tells how to convert the rst files to actual documentation using Sphinx; maybe that will give you an idea of how to do it easily with this (it's been a while since I looked at it).


---

Comment by jhpalmieri created at 2014-10-22 17:24:02

`sage -sws2txt` is not a bad first draft for this. Maybe some modification of that script would do what you want. (It seems to produce html, not txt, despite the name. I guess that's consistent with its documentation.)
