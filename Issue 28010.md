# Issue 28010: Add the 0/1-hypercube to the library of polytopes

Issue created by migration from https://trac.sagemath.org/ticket/28247

Original creator: selia

Original creation time: 2019-07-24 13:42:06

CC:  jipilab nailuj @kliem

Keywords: polytopes, cube, days100

Currently, the `polytopes.cube` and `polytopes.hypercube`s use vertex coordinates +/-1. It would be nice to have the 0/1 cube and the 0/1 hypercube. This ticket adds them to the library of polytopes. 


---

Comment by vdelecroix created at 2019-07-24 20:29:30

Don't you want to parametrize the already existing `cube/hypercube` functions? Given `x` and `y` and more generally `x1,y1, ..., xd,yd` you can create the polytope

```
[x1,y1] x [x2,y2] x ... x [xd,yd]
```



---

Comment by jipilab created at 2019-07-25 07:33:59

Replying to [comment:2 vdelecroix]:
> Don't you want to parametrize the already existing `cube/hypercube` functions? Given `x` and `y` and more generally `x1,y1, ..., xd,yd` you can create the polytope
> {{{
> [x1,y1] x [x2,y2] x ... x [xd,yd]
> }}}

Yes, yes, that's the idea; making it inside `cube` and `hypercube` was the intended plan.

I am not sure whether to also include:

> {{{
> [x1,y1] x [x2,y2] x ... x [xd,yd]
> }}}

as well in there. One could try. 


There are many ways to interpret `x` above. There is `polytopes.zonotope` which does:


```
sage: corner = vector([1,2,3,4])
sage: directions = diagonal_matrix([10,9,8,7]).columns()
sage: z = polytopes.zonotope(directions).translation(corner)
sage: z.vertices_list()
[[1, 2, 3, 4],
 [1, 2, 3, 11],
 [1, 2, 11, 4],
 [1, 2, 11, 11],
 [1, 11, 3, 4],
 [1, 11, 3, 11],
 [1, 11, 11, 4],
 [1, 11, 11, 11],
 [11, 2, 3, 4],
 [11, 2, 3, 11],
 [11, 2, 11, 4],
 [11, 2, 11, 11],
 [11, 11, 3, 4],
 [11, 11, 3, 11],
 [11, 11, 11, 4],
 [11, 11, 11, 11]]
sage: hc = polytopes.hypercube(4)
sage: z.is_combinatorially_isomorphic(hc)
True
```


That said, I see that it might be nice to have this directly possible inside of `cube` and `hypercube`...


---

Comment by embray created at 2019-12-30 14:48:17

Ticket retargeted after milestone closed


---

Comment by selia created at 2020-01-10 10:23:42

New commits:


---

Comment by git created at 2020-01-10 11:09:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-01-10 11:15:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-01-17 09:52:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by selia created at 2020-01-17 10:03:09

Changing status from new to needs_review.


---

Comment by @kliem created at 2020-01-17 10:07:28

Please make the zero-one string consistent.


---

Comment by @kliem created at 2020-01-17 10:23:10

Looks mostly good. Some comments:

- In the docstring of `cube` remove empty line and unindent the output of `cc.vertices_list()`.
- `three intervals of length 2`: Do not specify the length of interval.
- Instead of `vectors in `\RR^{\text{dim}}` one could specify the length or dimension of the vectors, to account for the polyhedron to be constructed in `ZZ` or `QQ`.
- I would maybe move the test of the error `the dimension of the hypercube must match the number of intervals` to tests. I don't think it is very interesting for the user.
- 

```diff
-        elif isinstance(intervals,str):
+        elif isinstance(intervals, str):
```

- Missing parenthesis

```diff
-            cp = list(itertools.product(*intervals)
+            cp = list(itertools.product(*intervals))
```



---

Comment by @kliem created at 2020-01-17 10:23:17

Changing status from needs_review to needs_work.


---

Comment by git created at 2020-01-18 08:41:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-01-18 08:44:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by selia created at 2020-01-18 08:44:54

Changing status from needs_work to needs_review.


---

Comment by @kliem created at 2020-01-18 10:28:28

Some minor commens:

- Please update the description to include arbitrary intervals.
- The `INPUT` block should also mention the behavior for the input `None`.
- Instead of `list/tuple/iterable of length` I would just say `list`, especially as an iterable does not even work in general (`len` does not work).
- A string should be written as code:

```diff
-          - 'zero_one' -- (string). Return the `0/1`-cube.
+          - ``'zero_one'`` -- Return the `0/1`-cube.
```

- Usually `INPUT` blocks do not have periods, but I don't know if you should change this for this method now.


---

Comment by git created at 2020-01-20 13:07:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by selia created at 2020-01-20 13:10:25

`@`gh-kliem -
>Please update the description to include arbitrary intervals.
Can you elaborate on what you mean by including arbitrary intervals?


---

Comment by @kliem created at 2020-01-20 13:22:34

The code is more general than the description of the ticket. E.g. you also add the 0/2-cube.

It would be nice if the description reflects that one can now get the [a_1,b_1],â€¦,[a_n,b_n] Cube.


---

Comment by @kliem created at 2020-01-20 13:23:28

See the very first comment of the ticket. That should somehow go up in the description.


---

Comment by @kliem created at 2020-01-20 18:03:25

I think you accidentially commited this:


```diff
 .. csv-table::
-    :class: contentstable
+ )   :class: contentstable
     :widths: 30
     :delim: |
```



---

Comment by git created at 2020-01-23 08:37:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2020-01-23 15:55:17

Changing status from needs_review to needs_work.


---

Comment by @kliem created at 2020-01-23 15:55:17

There is a double colon after `EXAMPLES` cube, followed by another comment. This makes building the documentation fail. Please remove it:


```diff
-         EXAMPLES::
+         EXAMPLES:
 
          Return the `\pm 1`-cube::
```



---

Comment by git created at 2020-01-23 16:33:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by selia created at 2020-01-23 16:33:38

Changing status from needs_work to needs_review.


---

Comment by @kliem created at 2020-01-23 18:37:32

LGTM.

`@`JP: I put you as reviewer, I hope that is ok.


---

Comment by @kliem created at 2020-01-23 18:37:32

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-01-25 17:27:19

Resolution: fixed
