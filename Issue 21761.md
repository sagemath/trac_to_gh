# Issue 21761: any_root() sometimes fails over finite fields

Issue created by migration from Trac.

Original creator: saraedum

Original creation time: 2016-11-30 06:41:00

CC:  roed


```
sage: K.<a> = GF(2^4)
sage: R.<x> = K[]
sage: f = x^2 + x + a^2 + a
sage: f.any_root()
ValueError
sage: f.any_root()
a
```

The algorithm is randomized, it sometimes fails because of a typo.


---

Comment by saraedum created at 2016-11-30 07:17:27

New commits:


---

Comment by saraedum created at 2016-11-30 07:17:27

Changing status from new to needs_review.


---

Comment by roed created at 2016-11-30 07:27:20

Changing status from needs_review to positive_review.


---

Comment by roed created at 2016-11-30 07:27:20

Oops.  Looks good.


---

Comment by vbraun created at 2016-11-30 23:27:11

I'm getting

```
6082sage -t --long src/sage/rings/polynomial/polynomial_element.pyx
6083**********************************************************************
6084File "src/sage/rings/polynomial/polynomial_element.pyx", line 1777, in sage.rings.polynomial.polynomial_element.Polynomial.any_root
6085Failed example:
6086    (x**2+x+1).any_root() # used to loop
6087Expected:
6088    Traceback (most recent call last):
6089    ...
6090    ValueError: no roots A 1
6091Got:
6092    a^7 + a^6 + a^4 + a^2 + a + 1
6093**********************************************************************
6094File "src/sage/rings/polynomial/polynomial_element.pyx", line 1810, in sage.rings.polynomial.polynomial_element.Polynomial.any_root
6095Failed example:
6096    f.any_root()
6097Expected:
6098    a
6099Got:
6100    a + 1
6101**********************************************************************
61021 item had failures:
6103   2 of  34 in sage.rings.polynomial.polynomial_element.Polynomial.any_root
6104    [2127 tests, 2 failures, 54.92 s]
```



---

Comment by vbraun created at 2016-11-30 23:27:11

Changing status from positive_review to needs_work.


---

Comment by saraedum created at 2016-12-01 00:27:02

Changing status from needs_work to needs_review.


---

Comment by git created at 2016-12-01 00:27:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by roed created at 2016-12-01 01:55:34

If the patchbot gives it a thumbs up, you can go ahead and set it to positive review.


---

Comment by saraedum created at 2016-12-01 21:54:18

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-12-05 00:44:40

Resolution: fixed
