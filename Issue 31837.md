# Issue 31837: remove support for outdated distros

archive/issues_031837.json:
```json
{
    "body": "CC:  @mkoeppe\n\nin particular, CI is running tests on post-EOL distros.\n\nimmediate suspects for removal\n\n* mint 17 (over 2 years since EOL)\n* ubuntu trusty (free support ended, full EOL in April 2022)\n\nIssue created by migration from https://trac.sagemath.org/ticket/32074\n\n",
    "created_at": "2021-06-28T12:34:04Z",
    "labels": [
        "build",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "remove support for outdated distros",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31837",
    "user": "@dimpase"
}
```
CC:  @mkoeppe

in particular, CI is running tests on post-EOL distros.

immediate suspects for removal

* mint 17 (over 2 years since EOL)
* ubuntu trusty (free support ended, full EOL in April 2022)

Issue created by migration from https://trac.sagemath.org/ticket/32074





---

archive/issue_comments_455014.json:
```json
{
    "body": "`gentoo-python3.7` is outdated too since **Micha\u0142 G\u00f3rny** disabled python3.7 in Gentoo several weeks ago :(",
    "created_at": "2021-06-28T13:58:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31837#issuecomment-455014",
    "user": "@sheerluck"
}
```

`gentoo-python3.7` is outdated too since **Michał Górny** disabled python3.7 in Gentoo several weeks ago :(



---

archive/issue_comments_455015.json:
```json
{
    "body": "I don't know anything about the build system, so maybe this is noise, but regarding the problem with `__builtin_smull_overflow` at #31694 and #31585 ...\n\nI think `__builtin_smull_overflow` was introduced in gcc 5 and clang 3.4, so I thought it was safe to use.  (I think avoiding it would make the code both more complicated and less efficient.)\n\nIn the link to the [debian jessie run](https://github.com/pynac/pynac/pull/378#issuecomment-869741626), I see \"Unpacking gcc-4.9 (4.9.2-10+deb8u2)\" and \"Unpacking g++-4.9 (4.9.2-10+deb8u2)\".  If this means it is using gcc 4.9, then that would explain the problem. I thought support for gcc 4.9 was dropped in #31526, which means we should not be worrying about this, but I guess I hadn't read it carefully, because it seems to only allow optional packages to drop support for 4.x. Is the problem with ubuntu trusty also from using gcc 4.x? \n\nI don't think I should have much of a say, but I am certainly +1 on dropping support for gcc 4.x entirely. That is a really old compiler.",
    "created_at": "2021-06-28T21:52:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31837#issuecomment-455015",
    "user": "@DaveWitteMorris"
}
```

I don't know anything about the build system, so maybe this is noise, but regarding the problem with `__builtin_smull_overflow` at #31694 and #31585 ...

I think `__builtin_smull_overflow` was introduced in gcc 5 and clang 3.4, so I thought it was safe to use.  (I think avoiding it would make the code both more complicated and less efficient.)

In the link to the [debian jessie run](https://github.com/pynac/pynac/pull/378#issuecomment-869741626), I see "Unpacking gcc-4.9 (4.9.2-10+deb8u2)" and "Unpacking g++-4.9 (4.9.2-10+deb8u2)".  If this means it is using gcc 4.9, then that would explain the problem. I thought support for gcc 4.9 was dropped in #31526, which means we should not be worrying about this, but I guess I hadn't read it carefully, because it seems to only allow optional packages to drop support for 4.x. Is the problem with ubuntu trusty also from using gcc 4.x? 

I don't think I should have much of a say, but I am certainly +1 on dropping support for gcc 4.x entirely. That is a really old compiler.



---

archive/issue_comments_455016.json:
```json
{
    "body": "What about Mac OS? I've seen a claim that Apple officially supports the three most recent versions of the OS \u2014 currently 10.14, 10.15, and 11 \u2014 and (for example) Mac OS 10.11 became unsupported in August 2018, 10.12 in November 2019, 10.13 in November 2020. I don't know what impact dropping support for 10.11 would have on Sage, but I think I saw a recent post in sage-devel or sage-support from someone struggling to install Sage on this OS.",
    "created_at": "2021-06-30T23:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31837#issuecomment-455016",
    "user": "@jhpalmieri"
}
```

What about Mac OS? I've seen a claim that Apple officially supports the three most recent versions of the OS — currently 10.14, 10.15, and 11 — and (for example) Mac OS 10.11 became unsupported in August 2018, 10.12 in November 2019, 10.13 in November 2020. I don't know what impact dropping support for 10.11 would have on Sage, but I think I saw a recent post in sage-devel or sage-support from someone struggling to install Sage on this OS.



---

archive/issue_comments_455017.json:
```json
{
    "body": "https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners only has Catalina and Big Sur. So these systems are the only ones that are systematically tested.\n\nThese are also the only versions that we claim to support (for building Sage from source) in https://wiki.sagemath.org/ReleaseTours/sage-9.3#Availability_of_Sage_9.3_and_installation_help\n\nWithout infrastructure for testing, I would be reluctant to make any claims regarding support for older OS releases.\n\n\nTravis CI does support a wider range of macOS releases, keyed to XCode versions - https://docs.travis-ci.com/user/reference/osx/#macos-version, going back to OS X 10.11. I used to have a workflow on Travis CI to run some superficial tests on a built binary distribution on older macOS versions (see #31133). But there seemed to be little interest in this at the time, and I have not updated these scripts.\n\nMarc Culler appears to be testing his new binary distribution on some older macOS versions.",
    "created_at": "2021-07-01T00:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31837#issuecomment-455017",
    "user": "@mkoeppe"
}
```

https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners only has Catalina and Big Sur. So these systems are the only ones that are systematically tested.

These are also the only versions that we claim to support (for building Sage from source) in https://wiki.sagemath.org/ReleaseTours/sage-9.3#Availability_of_Sage_9.3_and_installation_help

Without infrastructure for testing, I would be reluctant to make any claims regarding support for older OS releases.


Travis CI does support a wider range of macOS releases, keyed to XCode versions - https://docs.travis-ci.com/user/reference/osx/#macos-version, going back to OS X 10.11. I used to have a workflow on Travis CI to run some superficial tests on a built binary distribution on older macOS versions (see #31133). But there seemed to be little interest in this at the time, and I have not updated these scripts.

Marc Culler appears to be testing his new binary distribution on some older macOS versions.



---

archive/issue_comments_455018.json:
```json
{
    "body": "I think Apple is supporting 3 macOS releases, including the current, 11. This makes everything older than macOS 10.14 obsolete.",
    "created_at": "2021-07-07T09:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31837#issuecomment-455018",
    "user": "@dimpase"
}
```

I think Apple is supporting 3 macOS releases, including the current, 11. This makes everything older than macOS 10.14 obsolete.



---

archive/issue_comments_455019.json:
```json
{
    "body": "Reorganized the ticket description.",
    "created_at": "2021-11-29T18:13:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31837#issuecomment-455019",
    "user": "@mkoeppe"
}
```

Reorganized the ticket description.
