# Issue 10239: pari-2.4.3.svn-12577.p9 incorrectly checks for the shared library on Cygwin

Issue created by migration from Trac.

Original creator: mhansen

Original creation time: 2010-11-09 04:22:34

Assignee: tbd

CC:  jdemeyer

In spkg-install, the following code should check for "libpari.dll" on Cygwin.


```
if [ "$UNAME" = "Darwin" ]; then
    pari_shlib="libpari.dylib"
else
    pari_shlib="libpari.so"
fi
```



---

Comment by dimpase created at 2011-04-22 09:52:05

Should one work with the current pari spkg, i.e.pari-2.4.3.alpha.p5 ?


---

Comment by dimpase created at 2011-04-22 10:19:24

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2011-04-22 13:11:43

Replying to [comment:1 dimpase]:
> Should one work with the current pari spkg, i.e.pari-2.4.3.alpha.p5 ?

Yes.  However, I am working on a new PARI spkg at #11130 (still needs work currently).  I could merge this change into that new PARI spkg.


---

Comment by dimpase created at 2011-04-22 17:02:57

Replying to [comment:3 jdemeyer]:
> Replying to [comment:1 dimpase]:
> > Should one work with the current pari spkg, i.e.pari-2.4.3.alpha.p5 ?
> 
> Yes.  However, I am working on a new PARI spkg at #11130 (still needs work currently).  I could merge this change into that new PARI spkg.

sure, please do --- it's just a couple of lines in the spkg-install


---

Comment by jdemeyer created at 2011-04-22 17:16:19

I put your changes into my new spkg [http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.4.4.svn13151.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/pari-2.4.4.svn13151.p0.spkg) but this ticket (i.e. your change) still needs to be reviewed by somebody using Cygwin.


---

Comment by kcrisman created at 2011-06-16 07:28:14

Dima's spkg worked on XP for me - PARI built.  And the part of the spkg diff at #11130 looks correct.  

Is that enough for a positive review?


---

Comment by mhansen created at 2011-06-16 07:46:37

Changing status from needs_review to positive_review.


---

Comment by mhansen created at 2011-06-16 07:46:37

Yep.


---

Comment by kcrisman created at 2011-06-30 14:58:05

It would be _really_ helpful to have this in Sage 4.7.2 fairly early on so that we could have building Sage on Cygwin automatically a goal for an early alpha of 4.7.2.  Would it be okay to change the milestone to 4.7.2 if #11130 isn't going to be merged particularly soon?


---

Comment by leif created at 2011-07-16 16:41:09

Replying to [comment:10 kcrisman]:
> It would be _really_ helpful to have this in Sage 4.7.2 fairly early on so that we could have building Sage on Cygwin automatically a goal for an early alpha of 4.7.2.  

I've based a p7 spkg at #11605 (which hopefully gets into Sage 4.7*.1* because it fixes a critical error in `spkg-install`) on the p6 from here, i.e. it includes Dima's harmless changes.

If my spkg gets merged, this ticket can be closed as fixed.


---

Comment by jdemeyer created at 2011-07-22 17:21:42

Resolution: duplicate
