# Issue 33496: allow to use flint for Stirling numbers

Issue created by migration from https://trac.sagemath.org/ticket/33733

Original creator: chapoton

Original creation time: 2022-04-19 15:12:57

CC:  tscrim slelievre @kliem klee

of both kind

also get rid of slow usage of maxima pexpect interface


---

Comment by chapoton created at 2022-04-19 15:13:27

Changing status from new to needs_review.


---

Comment by chapoton created at 2022-04-19 15:13:27

New commits:


---

Comment by git created at 2022-04-19 15:15:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-04-19 15:17:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-04-21 15:31:09

green bot, so please review


---

Comment by chapoton created at 2022-04-21 15:36:36

Maybe one should not remove the maxima algorithm, which is not using the pexpect interface in fact ?


---

Comment by mmezzarobba created at 2022-04-21 16:07:37

I agree that it would be better not to remove the `algorithm="maxima"` option without deprecating it first.

As far as I understand, the native Sage implementation of the Stirling numbers of the second kind and the Sage implementation were both written by Fredrik. Is the native Sage version better in some way? Do we need to keep it at all?

Would it make sense to change the default implementation for some of the functions?

A minor style point: why do you write

```
def stirling_number1(n, k, algorithm=None) -> Integer:
    ...
    if algorithm is None:
        algorithm='gap'
```

rather than

```
def stirling_number1(n, k, algorithm="gap") -> Integer:
    ...
```

?


---

Comment by git created at 2022-04-21 18:17:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-04-21 18:20:23

voila, j'ai remis l'algorithme "maxima" en place


---

Comment by chapoton created at 2022-04-22 06:41:05

et le patchbot est tout vert


---

Comment by chapoton created at 2022-04-29 11:13:31

please review


---

Comment by tscrim created at 2022-04-29 23:38:02

What about Marc's other questions in comment:6?


---

Comment by chapoton created at 2022-04-30 06:36:14

> As far as I understand, the native Sage implementation of the Stirling numbers of the second kind and the Sage implementation were both written by Fredrik. Is the native Sage version better in some way? Do we need to keep it at all?

> Would it make sense to change the default implementation for some of the functions?

I have no idea, and do not plan to investigate


---

Comment by chapoton created at 2022-05-20 06:28:17

may we please move forward here ?


---

Comment by tscrim created at 2022-05-20 07:28:48

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2022-05-20 07:28:48

Sorry, I lost track of this. Thank you. LGTM.


---

Comment by vbraun created at 2022-05-22 16:32:25

Resolution: fixed
