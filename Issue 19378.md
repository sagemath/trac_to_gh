# Issue 19378: interval-posets in Tamari again : hash and plot

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2015-11-23 09:51:54

CC:  vivianepons g.chatel jmantysalo

#19593 was a failed attempt to correct the hash

and let us also introduce a nice plot method, using the same coordinates
as the existing latex method


---

Comment by chapoton created at 2015-11-23 09:52:44

New commits:


---

Comment by chapoton created at 2015-11-23 15:45:52

Changing status from new to needs_review.


---

Comment by chapoton created at 2015-11-23 21:19:28

bot is green.


---

Comment by jmantysalo created at 2015-12-21 07:47:04

Seems to work and passed tests, but why `graph_border=True` as a default? It differs from `plot()` of other posets and graphs, and it is not even possible to override by user.

(I did not read the node positioning code, just assumed that you moved working code block to another location, which seems to be the case.)


---

Comment by git created at 2015-12-21 10:20:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2015-12-21 10:31:20

Hello, thanks for having a look.

I have removed the `border=True` option.

Yes indeed, I just moved the cordinate-computing code. It should not have changed anything in the view method results. You may want to check that the latex pictures before and after the ticket are the same. You can get examples to look at from the `list(TamariIntervalPosets(5))` for instance.

I think the hash is good to go. This is what I really need for my work.

There remains a question about the eventual possibility to choose the colors in "plot".
I do not really care, but if you want, this can be done.

Frederic


---

Comment by jmantysalo created at 2015-12-21 10:45:08

Replying to [comment:8 chapoton]:

> Yes indeed, I just moved the cordinate-computing code. It should not have changed anything in the view method results. You may want to check that the latex pictures before and after the ticket are the same. You can get examples to look at from the `list(TamariIntervalPosets(5))` for instance.

I did not test, but I tested with `dot2tex` installed and after `T = TamariIntervalPosets(6)` I got different pictures from `T[1350].plot()` and `T[1350]._latex_()`. Like one blue and two red lines missing. Node positioning is the same. Maybe you have tested only without `dot2tex`? (Compare for example to #18936 that has same kind of problem.)

> There remains a question about the eventual possibility to choose the colors in "plot".
> I do not really care, but if you want, this can be done.

Maybe it best to start with #13827 and then think about general poset `plot()` and only after those think about colors in this one.


---

Comment by chapoton created at 2015-12-21 14:31:49

Replying to [comment:9 jmantysalo]:
> Replying to [comment:8 chapoton]:
> 
> > Yes indeed, I just moved the cordinate-computing code. It should not have changed anything in the view method results. You may want to check that the latex pictures before and after the ticket are the same. You can get examples to look at from the `list(TamariIntervalPosets(5))` for instance.
> 
> I did not test, but I tested with `dot2tex` installed and after `T = TamariIntervalPosets(6)` I got different pictures from `T[1350].plot()` and `T[1350]._latex_()`. Like one blue and two red lines missing. Node positioning is the same. Maybe you have tested only without `dot2tex`? (Compare for example to #18936 that has same kind of problem.)

ok, damn. I had checked on smaller examples, and the pictures were the same.
I think one could simply add a warning/explanation that the pictures are different:

* the plot is the Hasse diagram of the poset, with two colors for increasing/decreasing covers

* the view is the union of two Hasse diagrams of the increasing forest and decreasing forest.

Would you agree with this solution ?


---

Comment by jmantysalo created at 2015-12-21 18:49:37

So this was _not_ a `dot2tex` issue?

To be able to comment your suggestion I must understand this better. I will comment this eventually, but for now this is ready for others to comment and review.


---

Comment by git created at 2015-12-22 08:04:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-01-20 09:19:24

ping ! please someone review ! Gregory ?


---

Comment by chapoton created at 2016-01-21 20:13:15

**ping**


---

Comment by tscrim created at 2016-01-21 21:54:28

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2016-01-21 21:54:28

LGTM. Perhaps as a follow-up, we could include the arrows in the latex version of a Tamari interval poset (so it matches the output of `plot`).


---

Comment by chapoton created at 2016-01-22 10:05:28

Thanks Travis !


---

Comment by vbraun created at 2016-01-23 20:42:34

Resolution: fixed
