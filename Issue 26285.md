# Issue 26285: Python 3 vs. Sphinx, part 2

archive/issues_026285.json:
```json
{
    "body": "CC:  @fchapoton @jdemeyer @embray\n\n(split off of #26449)\n\nWith a Python 3 build of Sage, Sphinx omits large chunks of the autodoc documentation. Perhaps it is related to classes containing subclasses. For example, in `sage.algebras.commutative_dga`, we have\n\n```\n\nclass GCAlgebra(UniqueRepresentation, QuotientRing_nc):\n\n    ...\n\n    class Element(QuotientRingElement):\n\n        ...\n\n```\n\nWith Python 2, methods directly within `GCAlgebra` appear, as do those in `Element`. With Python 3, only the top-level documentation for the `GCAlgebra` class is present: no methods are included at all. Within the same file, the methods for the class `GCAlgebraHomset` all appear, in both Python 2 and Python 3.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26522\n\n",
    "created_at": "2018-10-21T18:30:02Z",
    "labels": [
        "python3",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Python 3 vs. Sphinx, part 2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26285",
    "user": "@jhpalmieri"
}
```
CC:  @fchapoton @jdemeyer @embray

(split off of #26449)

With a Python 3 build of Sage, Sphinx omits large chunks of the autodoc documentation. Perhaps it is related to classes containing subclasses. For example, in `sage.algebras.commutative_dga`, we have

```

class GCAlgebra(UniqueRepresentation, QuotientRing_nc):

    ...

    class Element(QuotientRingElement):

        ...

```

With Python 2, methods directly within `GCAlgebra` appear, as do those in `Element`. With Python 3, only the top-level documentation for the `GCAlgebra` class is present: no methods are included at all. Within the same file, the methods for the class `GCAlgebraHomset` all appear, in both Python 2 and Python 3.

Issue created by migration from https://trac.sagemath.org/ticket/26522





---

archive/issue_comments_370408.json:
```json
{
    "body": "This is important to fix; otherwise, the Python 3 build of the reference manual will be very incomplete, missing methods from every class that inherits from `CachedRepresentation`. I also have no idea how to fix it.",
    "created_at": "2018-10-21T19:19:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370408",
    "user": "@jhpalmieri"
}
```

This is important to fix; otherwise, the Python 3 build of the reference manual will be very incomplete, missing methods from every class that inherits from `CachedRepresentation`. I also have no idea how to fix it.



---

archive/issue_comments_370409.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2018-10-21T19:19:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370409",
    "user": "@jhpalmieri"
}
```

Changing priority from major to critical.



---

archive/issue_comments_370410.json:
```json
{
    "body": "This change doesn't help, but is there any reason not to do this:\n\n```diff\ndiff --git a/src/sage/structure/unique_representation.py b/src/sage/structure/unique_representation.py\nindex 4fc44c8b86..e08393954b 100644\n--- a/src/sage/structure/unique_representation.py\n+++ b/src/sage/structure/unique_representation.py\n@@ -561,13 +561,13 @@ accordingly, for example by inheriting from\n #******************************************************************************\n from __future__ import print_function\n \n-from sage.misc import six\n+from six import with_metaclass\n from sage.misc.cachefunc import weak_cached_function\n from sage.misc.classcall_metaclass import ClasscallMetaclass, typecall\n from sage.misc.fast_methods import WithEqualityById\n \n \n-class CachedRepresentation(six.with_metaclass(ClasscallMetaclass)):\n+class CachedRepresentation(with_metaclass(ClasscallMetaclass)):\n     \"\"\"\n     Classes derived from CachedRepresentation inherit a weak cache for their\n     instances.\n```\n",
    "created_at": "2018-10-22T23:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370410",
    "user": "@jhpalmieri"
}
```

This change doesn't help, but is there any reason not to do this:

```diff
diff --git a/src/sage/structure/unique_representation.py b/src/sage/structure/unique_representation.py
index 4fc44c8b86..e08393954b 100644
--- a/src/sage/structure/unique_representation.py
+++ b/src/sage/structure/unique_representation.py
@@ -561,13 +561,13 @@ accordingly, for example by inheriting from
 #******************************************************************************
 from __future__ import print_function
 
-from sage.misc import six
+from six import with_metaclass
 from sage.misc.cachefunc import weak_cached_function
 from sage.misc.classcall_metaclass import ClasscallMetaclass, typecall
 from sage.misc.fast_methods import WithEqualityById
 
 
-class CachedRepresentation(six.with_metaclass(ClasscallMetaclass)):
+class CachedRepresentation(with_metaclass(ClasscallMetaclass)):
     """
     Classes derived from CachedRepresentation inherit a weak cache for their
     instances.
```




---

archive/issue_comments_370411.json:
```json
{
    "body": "A little more experimentation has led me to change the ticket description. I think the problem is with `ClasscallMetaclass`, not `CachedRepresentation`. Furthermore, it only manifests itself when there is a class-level docstring.",
    "created_at": "2018-11-06T22:42:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370411",
    "user": "@jhpalmieri"
}
```

A little more experimentation has led me to change the ticket description. I think the problem is with `ClasscallMetaclass`, not `CachedRepresentation`. Furthermore, it only manifests itself when there is a class-level docstring.



---

archive/issue_comments_370412.json:
```json
{
    "body": "I should note that if I add methods to `ClasscallMetaclass` in `sage.misc.classcall_metaclass` (in particular, methods which do not start with an underscore), they are not included in the documentation, and the built documentation for `ClasscallMetaclass` does not list its base.",
    "created_at": "2018-11-06T22:46:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370412",
    "user": "@jhpalmieri"
}
```

I should note that if I add methods to `ClasscallMetaclass` in `sage.misc.classcall_metaclass` (in particular, methods which do not start with an underscore), they are not included in the documentation, and the built documentation for `ClasscallMetaclass` does not list its base.



---

archive/issue_comments_370413.json:
```json
{
    "body": "This looks like very generic code which is not really even dependent upon Sage, so one can create a separate sphinx testcase for it, right?",
    "created_at": "2018-12-03T23:21:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370413",
    "user": "@dimpase"
}
```

This looks like very generic code which is not really even dependent upon Sage, so one can create a separate sphinx testcase for it, right?



---

archive/issue_comments_370414.json:
```json
{
    "body": "If someone could figure out what's going wrong, that would be preferable to making a special case of it. Is it because `ClasscallMetaclass` is defined in a cython file? It must be more than that, so what makes things go wrong with this particular class?",
    "created_at": "2018-12-04T18:28:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370414",
    "user": "@jhpalmieri"
}
```

If someone could figure out what's going wrong, that would be preferable to making a special case of it. Is it because `ClasscallMetaclass` is defined in a cython file? It must be more than that, so what makes things go wrong with this particular class?



---

archive/issue_comments_370415.json:
```json
{
    "body": "On my sage-on-gentoo install I'm able to complete building the docs with python3 if I disable catching the `OSError` that normally terminates the build:\n\n```diff\ndiff --git a/src/sage_setup/docbuild/sphinxbuild.py b/src/sage_setup/docbuild/sphinxbuild.py\nindex 8f7034fcb8..6cfdb10080 100644\n--- a/src/sage_setup/docbuild/sphinxbuild.py\n+++ b/src/sage_setup/docbuild/sphinxbuild.py\n@@ -250,8 +250,8 @@ class SageSphinxLogger(object):\n             OSError: This is a SEVERE error\n \n         \"\"\"\n-        if self._error is not None:\n-            raise OSError(self._error)\n+#        if self._error is not None:\n+#            raise OSError(self._error)\n \n     _line_buffer = ''\n```\n\nPerhaps someone can try this on vanilla to see if it works with python3. If it works then perhaps we can determine which pieces are missing.",
    "created_at": "2018-12-05T20:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370415",
    "user": "@strogdon"
}
```

On my sage-on-gentoo install I'm able to complete building the docs with python3 if I disable catching the `OSError` that normally terminates the build:

```diff
diff --git a/src/sage_setup/docbuild/sphinxbuild.py b/src/sage_setup/docbuild/sphinxbuild.py
index 8f7034fcb8..6cfdb10080 100644
--- a/src/sage_setup/docbuild/sphinxbuild.py
+++ b/src/sage_setup/docbuild/sphinxbuild.py
@@ -250,8 +250,8 @@ class SageSphinxLogger(object):
             OSError: This is a SEVERE error
 
         """
-        if self._error is not None:
-            raise OSError(self._error)
+#        if self._error is not None:
+#            raise OSError(self._error)
 
     _line_buffer = ''
```

Perhaps someone can try this on vanilla to see if it works with python3. If it works then perhaps we can determine which pieces are missing.



---

archive/issue_comments_370416.json:
```json
{
    "body": "This is probably what `@`jhpalmieri was indicating. Under `Special Methods for Classes`\n\nCorrect doc\n\n```\nclass sage.misc.classcall_metaclass.ClasscallMetaclass\nBases: sage.misc.nested_class.NestedClassMetaclass\n\nA metaclass providing support for special methods for classes.\n```\n\n\nIncorrect with python3\n\n```\n sage.misc.classcall_metaclass.ClasscallMetaclass\n\n    A metaclass providing support for special methods for classes.\n```\n\nAnd perhaps other places.",
    "created_at": "2018-12-05T23:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370416",
    "user": "@strogdon"
}
```

This is probably what `@`jhpalmieri was indicating. Under `Special Methods for Classes`

Correct doc

```
class sage.misc.classcall_metaclass.ClasscallMetaclass
Bases: sage.misc.nested_class.NestedClassMetaclass

A metaclass providing support for special methods for classes.
```


Incorrect with python3

```
 sage.misc.classcall_metaclass.ClasscallMetaclass

    A metaclass providing support for special methods for classes.
```

And perhaps other places.



---

archive/issue_comments_370417.json:
```json
{
    "body": "For another illustration, navigate in the reference manual by choosing `Categories` and then `Sets`. The documentation for the class `Sets` in the Python 2 build includes lots of methods (for example \n[`an_element`](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html#sage.categories.sets_cat.Sets.ParentMethods.an_element)), but the documentation for the Python 3 build only has the top-level docstring.\n\nThis is what actually causes the documentation to fail to build with Python 3: a cross-reference to \"facade-sets\" points to [what becomes omitted](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html#sage.categories.sets_cat.Sets.SubcategoryMethods.Facade) in the Python 3 build of the documentation.",
    "created_at": "2018-12-06T22:11:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370417",
    "user": "@jhpalmieri"
}
```

For another illustration, navigate in the reference manual by choosing `Categories` and then `Sets`. The documentation for the class `Sets` in the Python 2 build includes lots of methods (for example 
[`an_element`](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html#sage.categories.sets_cat.Sets.ParentMethods.an_element)), but the documentation for the Python 3 build only has the top-level docstring.

This is what actually causes the documentation to fail to build with Python 3: a cross-reference to "facade-sets" points to [what becomes omitted](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html#sage.categories.sets_cat.Sets.SubcategoryMethods.Facade) in the Python 3 build of the documentation.



---

archive/issue_comments_370418.json:
```json
{
    "body": "Also, python3 appears to not be picking up on external links. From the `html` code near the top of\n[Sets](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html)\n\npython2:\n\n```\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/library/exceptions.html#exceptions.ValueError\" title=\"(in Python v2.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">exceptions.ValueError</span></code></a></p>\n```\n\n\npython3:\n\n```\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ValueError</span></code></p>\n```\n\n\nIt's not clear to me where these external links originate.",
    "created_at": "2018-12-07T05:44:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370418",
    "user": "@strogdon"
}
```

Also, python3 appears to not be picking up on external links. From the `html` code near the top of
[Sets](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html)

python2:

```
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/exceptions.html#exceptions.ValueError" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.ValueError</span></code></a></p>
```


python3:

```
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></p>
```


It's not clear to me where these external links originate.



---

archive/issue_comments_370419.json:
```json
{
    "body": "I wonder if those links come from `src/doc/common/python.inv`. That file probably needs to be updated for Python 3. Maybe we need two different versions.",
    "created_at": "2018-12-07T21:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370419",
    "user": "@jhpalmieri"
}
```

I wonder if those links come from `src/doc/common/python.inv`. That file probably needs to be updated for Python 3. Maybe we need two different versions.



---

archive/issue_comments_370420.json:
```json
{
    "body": "Confirmed: if I download `python.inv` using the script `update-python-inv.sh` (modified to make sure it gets the Python 3.6.6 version), then the link reappears.",
    "created_at": "2018-12-07T23:10:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370420",
    "user": "@jhpalmieri"
}
```

Confirmed: if I download `python.inv` using the script `update-python-inv.sh` (modified to make sure it gets the Python 3.6.6 version), then the link reappears.



---

archive/issue_comments_370421.json:
```json
{
    "body": "See #26859 for the `python.inv` issue: I propose including files `python2.inv` and `python3.inv`.",
    "created_at": "2018-12-08T23:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370421",
    "user": "@jhpalmieri"
}
```

See #26859 for the `python.inv` issue: I propose including files `python2.inv` and `python3.inv`.



---

archive/issue_comments_370422.json:
```json
{
    "body": "Replying to [comment:5 jhpalmieri]:\n> This change doesn't help, but is there any reason not to do this:\n\nThere is a bug in some versions of `six` that `with_metaclass` doesn't work properly with some classes (I think nested classes in particular).  I think the version of `six` in sage-the-distribution has this fixed.",
    "created_at": "2018-12-10T12:48:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370422",
    "user": "@embray"
}
```

Replying to [comment:5 jhpalmieri]:
> This change doesn't help, but is there any reason not to do this:

There is a bug in some versions of `six` that `with_metaclass` doesn't work properly with some classes (I think nested classes in particular).  I think the version of `six` in sage-the-distribution has this fixed.



---

archive/issue_comments_370423.json:
```json
{
    "body": "Replying to [comment:17 embray]:\n> Replying to [comment:5 jhpalmieri]:\n> > This change doesn't help, but is there any reason not to do this:\n> \n> There is a bug in some versions of `six` that `with_metaclass` doesn't work properly with some classes (I think nested classes in particular).  I think the version of `six` in sage-the-distribution has this fixed.\n\nIn `sage.misc.six`, there is no `with_metaclass`. Maybe there used to be. It gets imported via `from six import *` at the top of `sage.misc.six`.",
    "created_at": "2018-12-10T18:25:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370423",
    "user": "@jhpalmieri"
}
```

Replying to [comment:17 embray]:
> Replying to [comment:5 jhpalmieri]:
> > This change doesn't help, but is there any reason not to do this:
> 
> There is a bug in some versions of `six` that `with_metaclass` doesn't work properly with some classes (I think nested classes in particular).  I think the version of `six` in sage-the-distribution has this fixed.

In `sage.misc.six`, there is no `with_metaclass`. Maybe there used to be. It gets imported via `from six import *` at the top of `sage.misc.six`.



---

archive/issue_comments_370424.json:
```json
{
    "body": "I'm wondering if there is a problem with the inventory builder. Here, for example, with python3 most everything is missing under ['Finite Coxeter Groups'](http://doc.sagemath.org/html/en/reference/categories/sage/categories/finite_coxeter_groups.html) including the `.png` on that page. The `.png` should be generated under `local/share/doc/sage/inventory/en/reference/categories/sage/categories/`. At least with my sage-on-gentoo build the `.png` file is not generated.",
    "created_at": "2018-12-11T00:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370424",
    "user": "@strogdon"
}
```

I'm wondering if there is a problem with the inventory builder. Here, for example, with python3 most everything is missing under ['Finite Coxeter Groups'](http://doc.sagemath.org/html/en/reference/categories/sage/categories/finite_coxeter_groups.html) including the `.png` on that page. The `.png` should be generated under `local/share/doc/sage/inventory/en/reference/categories/sage/categories/`. At least with my sage-on-gentoo build the `.png` file is not generated.



---

archive/issue_comments_370425.json:
```json
{
    "body": "Note that `FiniteCoxeterGroups` inherits from `CategoryWithAxiom` which inherits from `Category` which inherits from `UniqueRepresentation` which inherits from `ClasscallMetaclass`. Maybe you're right: maybe the problem is with the inventory builder, or at least maybe that's where it first manifests itself.",
    "created_at": "2018-12-11T18:20:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370425",
    "user": "@jhpalmieri"
}
```

Note that `FiniteCoxeterGroups` inherits from `CategoryWithAxiom` which inherits from `Category` which inherits from `UniqueRepresentation` which inherits from `ClasscallMetaclass`. Maybe you're right: maybe the problem is with the inventory builder, or at least maybe that's where it first manifests itself.



---

archive/issue_comments_370426.json:
```json
{
    "body": "Another data point. With Python3 numerous entries in inventory `objects.inv` files are assigned different sphinx directives from those assigned with Python2. For example, in the `objects.inv` file under `local/share/doc/sage/inventory/en/reference/misc` the entry\n\n```\nsage.misc.classcall_metaclass.ClasscallMetaclass sage/misc/classcall_metaclass.html#sage.misc.classcall_metaclass.ClasscallMetaclass\n```\n\nis assigned the `py:class` directive when using Python2 but the `py:attribute` directive when using Python3. I assume this will affect how things appear in `html` docs.\n\n\n```\npython -m sphinx.ext.intersphinx objects.inv | less\n```\n\nto view the file contents.",
    "created_at": "2018-12-21T20:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370426",
    "user": "@strogdon"
}
```

Another data point. With Python3 numerous entries in inventory `objects.inv` files are assigned different sphinx directives from those assigned with Python2. For example, in the `objects.inv` file under `local/share/doc/sage/inventory/en/reference/misc` the entry

```
sage.misc.classcall_metaclass.ClasscallMetaclass sage/misc/classcall_metaclass.html#sage.misc.classcall_metaclass.ClasscallMetaclass
```

is assigned the `py:class` directive when using Python2 but the `py:attribute` directive when using Python3. I assume this will affect how things appear in `html` docs.


```
python -m sphinx.ext.intersphinx objects.inv | less
```

to view the file contents.



---

archive/issue_comments_370427.json:
```json
{
    "body": "That's interesting. I don't understand anything about how Sphinx generates the inventory files. I've tried poking around, but I'm not getting anywhere.",
    "created_at": "2018-12-21T23:41:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370427",
    "user": "@jhpalmieri"
}
```

That's interesting. I don't understand anything about how Sphinx generates the inventory files. I've tried poking around, but I'm not getting anywhere.



---

archive/issue_comments_370428.json:
```json
{
    "body": "Please check out #26949",
    "created_at": "2018-12-24T01:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370428",
    "user": "@kwankyu"
}
```

Please check out #26949



---

archive/issue_comments_370429.json:
```json
{
    "body": "Replying to [comment:23 klee]:\n> Please check out #26949\n`@`jhpalmieri: \n\nI'll be interested in your comments. It probably would have been better to have the commits in this location but so be it. The html-docs do build for me but I haven't been able to view them. I do notice some `DeprecationWarning`s that I don't believe were present with python 2, things like\n\n```\n[repl     ] <unknown>:181: DeprecationWarning: invalid escape sequence \\)\n[repl     ] <unknown>:365: DeprecationWarning: invalid escape sequence \\w\n[matrices ] <unknown>:6657: DeprecationWarning: invalid escape sequence \\p\n[number_fi] <unknown>:6657: DeprecationWarning: invalid escape sequence \\p\n[rings_num] <unknown>:6657: DeprecationWarning: invalid escape sequence \\p\n```\n",
    "created_at": "2018-12-24T18:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370429",
    "user": "@strogdon"
}
```

Replying to [comment:23 klee]:
> Please check out #26949
`@`jhpalmieri: 

I'll be interested in your comments. It probably would have been better to have the commits in this location but so be it. The html-docs do build for me but I haven't been able to view them. I do notice some `DeprecationWarning`s that I don't believe were present with python 2, things like

```
[repl     ] <unknown>:181: DeprecationWarning: invalid escape sequence \)
[repl     ] <unknown>:365: DeprecationWarning: invalid escape sequence \w
[matrices ] <unknown>:6657: DeprecationWarning: invalid escape sequence \p
[number_fi] <unknown>:6657: DeprecationWarning: invalid escape sequence \p
[rings_num] <unknown>:6657: DeprecationWarning: invalid escape sequence \p
```




---

archive/issue_comments_370430.json:
```json
{
    "body": "There are subtle differences under [Sets](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html). We need a central place to discuss this.",
    "created_at": "2018-12-24T19:19:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370430",
    "user": "@strogdon"
}
```

There are subtle differences under [Sets](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html). We need a central place to discuss this.



---

archive/issue_comments_370431.json:
```json
{
    "body": "Those invalid escape sequences crop up in the Python 3 docbuilding process. Other tickets have removed many of them.",
    "created_at": "2018-12-24T20:43:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370431",
    "user": "@jhpalmieri"
}
```

Those invalid escape sequences crop up in the Python 3 docbuilding process. Other tickets have removed many of them.



---

archive/issue_comments_370432.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-01-28T00:22:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370432",
    "user": "@kwankyu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_370433.json:
```json
{
    "body": "Now fixed by #26949.",
    "created_at": "2019-01-28T00:22:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370433",
    "user": "@kwankyu"
}
```

Now fixed by #26949.



---

archive/issue_comments_370434.json:
```json
{
    "body": "Cool, thank you.",
    "created_at": "2019-01-28T17:19:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370434",
    "user": "@embray"
}
```

Cool, thank you.



---

archive/issue_comments_370435.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-01-28T17:19:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26285",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26285#issuecomment-370435",
    "user": "@embray"
}
```

Resolution: fixed
