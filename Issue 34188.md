# Issue 34188: configure vscode pycodestyle linter

Issue created by migration from https://trac.sagemath.org/ticket/34425

Original creator: @DavidAyotte

Original creation time: 2022-08-24 22:14:53

CC:  chapoton @tobiasdiez

Keywords: vscode pycodestyle pep8

The goal of this ticket is to configure the vscode pycodestyle linter to check against Sage's minimal style conventions:
    * E111: indentation is not a multiple of four
    * E306: expected 1 blank line before a nested definition, found 0
    * E401: multiple imports on one line
    * E701: multiple statements on one line (colon)
    * E702: multiple statements on one line (semicolon)
    * E703: statement ends with a semicolon
    * E711: comparison to None should be ‘if cond is None:’
    * E712: comparison to True should be ‘if cond is True:’ or ‘if cond:’
    * E713 test for membership should be 'not in'
    * E721: do not compare types, use isinstance()
    * E722: do not use bare except, specify exception instead
    * W605: invalid escape sequence ‘x’

See https://pycodestyle.pycqa.org/en/latest/intro.html#error-codes


---

Comment by mkoeppe created at 2022-08-24 22:31:07

Also see `src/doc/en/developer/tools.rst`


---

Comment by @DavidAyotte created at 2022-08-24 22:57:20

Changing status from new to needs_review.


---

Comment by @DavidAyotte created at 2022-08-24 22:57:20

The linter now only check against the style listed above. 
----
New commits:


---

Comment by mkoeppe created at 2022-08-25 00:04:23

Could you add comments to the files that developers should keep this in sync

And also update `src/doc/en/developer/tools.rst` regarding this config file


---

Comment by git created at 2022-08-25 01:08:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-08-25 01:13:13

Also add a comment to src/tox.ini please


---

Comment by git created at 2022-08-25 01:29:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-08-25 01:34:25

I meant a cross-reference from the section `testenv:pycodestyle-minimal`  to the `.vscode/settings.json`


---

Comment by git created at 2022-08-25 01:50:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @DavidAyotte created at 2022-08-25 01:54:54

I think I finally got want you wanted, I hope it's okay! Don't hesitate to tell me if it is not.


---

Comment by mkoeppe created at 2022-08-25 01:57:56

Thanks! Looking great

But `./sage -docbuild en/developer html` gives

```
OSError: /Users/mkoeppe/s/sage/sage-rebasing/src/doc/en/developer/tools.rst:205: WARNING: Bullet list ends without a blank line; unexpected unindent.
```



---

Comment by git created at 2022-08-25 02:16:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-08-25 02:41:17

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-08-25 02:41:17

Perfect.


---

Comment by mkoeppe created at 2022-08-25 02:41:32

Changing priority from minor to major.


---

Comment by vbraun created at 2022-08-30 19:05:01

Resolution: fixed
