# Issue 26598: Failing introspection with wildcards on matrices / remove M.I

archive/issues_026598.json:
```json
{
    "body": "Example:\n\n```\n    sage: M = random_matrix(QQ, 3,4)\n    sage: M.*row*?\n    ArithmeticError\n    ...\n    sage.matrix.matrix_rational_dense.Matrix_rational_dense.inverse (build/cythonized/sage/matrix/matrix_rational_dense.c:8519)()\n    717         \"\"\"\n    718         if self._nrows != self._ncols:\n--> 719             raise ArithmeticError(\"self must be a square matrix\")\n    720 \n    721         if self._nrows == 0:\n\n    ArithmeticError: self must be a square matrix\n```\n\n\nAnalysis: M has an attribute I which is supposed to evaluate to the inverse of M. When ipython does its introspection to recover the list of attributes of M with `M.*row*?`, that attribute is evaluated. Which triggers an error since M is not square.\n\nProposed solution: remove `M.I` that was deprecated two years ago in #20904 .\n\nIssue created by migration from https://trac.sagemath.org/ticket/26835\n\n",
    "created_at": "2018-12-05T08:50:37Z",
    "labels": [
        "component: linear algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "Failing introspection with wildcards on matrices / remove M.I",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26598",
    "user": "https://github.com/nthiery"
}
```
Example:

```
    sage: M = random_matrix(QQ, 3,4)
    sage: M.*row*?
    ArithmeticError
    ...
    sage.matrix.matrix_rational_dense.Matrix_rational_dense.inverse (build/cythonized/sage/matrix/matrix_rational_dense.c:8519)()
    717         """
    718         if self._nrows != self._ncols:
--> 719             raise ArithmeticError("self must be a square matrix")
    720 
    721         if self._nrows == 0:

    ArithmeticError: self must be a square matrix
```


Analysis: M has an attribute I which is supposed to evaluate to the inverse of M. When ipython does its introspection to recover the list of attributes of M with `M.*row*?`, that attribute is evaluated. Which triggers an error since M is not square.

Proposed solution: remove `M.I` that was deprecated two years ago in #20904 .

Issue created by migration from https://trac.sagemath.org/ticket/26835





---

archive/issue_comments_373393.json:
```json
{
    "body": "M.I was actually removed in  #26647. Testing now whether introspection works. If yes, I'll close the ticket as resolved.",
    "created_at": "2018-12-05T08:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26598#issuecomment-373393",
    "user": "https://github.com/nthiery"
}
```

M.I was actually removed in  #26647. Testing now whether introspection works. If yes, I'll close the ticket as resolved.



---

archive/issue_comments_373394.json:
```json
{
    "body": "\n```\nsage: M = random_matrix(QQ, 3,4)\nsage: M.*row*?\nM.add_multiple_of_row\nM.automorphisms_of_rows_and_columns\nM.delete_rows\nM.dense_rows\nM.linear_combination_of_rows\nM.matrix_from_rows\n```\n\n\nSo this works now. Cool!",
    "created_at": "2018-12-05T13:17:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26598#issuecomment-373394",
    "user": "https://github.com/nthiery"
}
```


```
sage: M = random_matrix(QQ, 3,4)
sage: M.*row*?
M.add_multiple_of_row
M.automorphisms_of_rows_and_columns
M.delete_rows
M.dense_rows
M.linear_combination_of_rows
M.matrix_from_rows
```


So this works now. Cool!



---

archive/issue_events_024712.json:
```json
{
    "actor": "@nthiery",
    "created_at": "2018-12-05T13:18:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26598",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26598#event-24712"
}
```



---

archive/issue_comments_373395.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-12-05T13:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26598",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26598#issuecomment-373395",
    "user": "https://github.com/nthiery"
}
```

Resolution: fixed
