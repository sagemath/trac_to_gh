# Issue 14528: Realize a poset as a graph

archive/issues_014528.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  tscrim vivianepons stumpc5\n\nThis implements a method which turns a poset object into a graph object.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14732\n\n",
    "created_at": "2013-06-12T13:51:47Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "title": "Realize a poset as a graph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14528",
    "user": "chrisjamesberg"
}
```
Assignee: sage-combinat

CC:  tscrim vivianepons stumpc5

This implements a method which turns a poset object into a graph object.

Issue created by migration from https://trac.sagemath.org/ticket/14732





---

archive/issue_comments_184436.json:
```json
{
    "body": "Changing keywords from \"\" to \"FindStatDays 01\".",
    "created_at": "2013-06-12T14:04:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184436",
    "user": "chrisjamesberg"
}
```

Changing keywords from "" to "FindStatDays 01".



---

archive/issue_comments_184437.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-06-12T14:04:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184437",
    "user": "chrisjamesberg"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_184438.json:
```json
{
    "body": "Changing keywords from \"FindStatDays 01\" to \"FindStatDays01\".",
    "created_at": "2013-06-12T14:05:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184438",
    "user": "chrisjamesberg"
}
```

Changing keywords from "FindStatDays 01" to "FindStatDays01".



---

archive/issue_comments_184439.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-06-12T14:06:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184439",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_184440.json:
```json
{
    "body": "Looks good. Thanks.",
    "created_at": "2013-06-12T14:06:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184440",
    "user": "tscrim"
}
```

Looks good. Thanks.



---

archive/issue_comments_184441.json:
```json
{
    "body": "The description could be more specific. Maybe something like \"The graph obtained by forgetting the orientation of the Hasse diagram\"?\n\nIs there a strong use case (e.g. for findstat) for this feature to make it deserve a method of its own? I mean ``Graph(P.hasse_diagram())`` is pretty explicity and short.",
    "created_at": "2013-06-12T15:54:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184441",
    "user": "nthiery"
}
```

The description could be more specific. Maybe something like "The graph obtained by forgetting the orientation of the Hasse diagram"?

Is there a strong use case (e.g. for findstat) for this feature to make it deserve a method of its own? I mean ``Graph(P.hasse_diagram())`` is pretty explicity and short.



---

archive/issue_comments_184442.json:
```json
{
    "body": "Hi Nicolas,\n\nactually there is a strong use case: in FindStat we need the method to consider the map between posets and graphs. When people look for a stat on posets, this maps allows us to also look on graphs.\n\nFrom a pure Sage point of vue, I think it is actually a nice shortcut: not everyone thinks of transforming the poset into a Hasse diagram.",
    "created_at": "2013-06-12T16:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184442",
    "user": "VivianePons"
}
```

Hi Nicolas,

actually there is a strong use case: in FindStat we need the method to consider the map between posets and graphs. When people look for a stat on posets, this maps allows us to also look on graphs.

From a pure Sage point of vue, I think it is actually a nice shortcut: not everyone thinks of transforming the poset into a Hasse diagram.



---

archive/issue_comments_184443.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-06-13T07:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184443",
    "user": "tscrim"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_184444.json:
```json
{
    "body": "Attachment [posets_to_graph.patch](tarball://root/attachments/some-uuid/ticket14732/posets_to_graph.patch) by tscrim created at 2013-06-13 07:45:06\n\nNeed to make the returned graph hashable.",
    "created_at": "2013-06-13T07:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184444",
    "user": "tscrim"
}
```

Attachment [posets_to_graph.patch](tarball://root/attachments/some-uuid/ticket14732/posets_to_graph.patch) by tscrim created at 2013-06-13 07:45:06

Need to make the returned graph hashable.



---

archive/issue_comments_184445.json:
```json
{
    "body": "Attachment [trac_14732-review-ts.patch](tarball://root/attachments/some-uuid/ticket14732/trac_14732-review-ts.patch) by tscrim created at 2013-06-13 07:54:46",
    "created_at": "2013-06-13T07:54:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184445",
    "user": "tscrim"
}
```

Attachment [trac_14732-review-ts.patch](tarball://root/attachments/some-uuid/ticket14732/trac_14732-review-ts.patch) by tscrim created at 2013-06-13 07:54:46



---

archive/issue_comments_184446.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-06-13T07:58:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184446",
    "user": "tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_184447.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-06-13T08:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184447",
    "user": "stumpc5"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_184448.json:
```json
{
    "body": "The review patch looks good to me! (The patchbot complain doesn't seem to be related to the patch.)",
    "created_at": "2013-06-13T08:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184448",
    "user": "stumpc5"
}
```

The review patch looks good to me! (The patchbot complain doesn't seem to be related to the patch.)



---

archive/issue_comments_184449.json:
```json
{
    "body": "Grumble, my comment never made it through; stupid trac. Well, it's kind of late now, but since I had typed it in ....\n\nReplying to [comment:5 VivianePons]:\n> actually there is a strong use case: in FindStat we need the method to consider the map between posets and graphs. When people look for a stat on posets, this maps allows us to also look on graphs.\n> \n> From a pure Sage point of vue, I think it is actually a nice shortcut: not everyone thinks of transforming the poset into a Hasse diagram.\n\nI would find more natural to have hasse_diagram be a combinatorial map from posets to directed graphs (possibly with an alias to_digraph, or just digraph for consistency with crystals). And to have another combinatorial map from directed graphs to graphs. The composition of the two maps is not super canonical.\n\nHave fun at Findstat Days 1!",
    "created_at": "2013-06-13T23:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184449",
    "user": "nthiery"
}
```

Grumble, my comment never made it through; stupid trac. Well, it's kind of late now, but since I had typed it in ....

Replying to [comment:5 VivianePons]:
> actually there is a strong use case: in FindStat we need the method to consider the map between posets and graphs. When people look for a stat on posets, this maps allows us to also look on graphs.
> 
> From a pure Sage point of vue, I think it is actually a nice shortcut: not everyone thinks of transforming the poset into a Hasse diagram.

I would find more natural to have hasse_diagram be a combinatorial map from posets to directed graphs (possibly with an alias to_digraph, or just digraph for consistency with crystals). And to have another combinatorial map from directed graphs to graphs. The composition of the two maps is not super canonical.

Have fun at Findstat Days 1!



---

archive/issue_comments_184450.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-06-19T12:26:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184450",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_184451.json:
```json
{
    "body": "I would like to make here the same comment I made in #14734. This patch creates a function that replaces the sequence of characters `Graph(P.hasse_diagram())`. It totally convinces me that this has NOTHING to do in Sage, and that the only reason that it is added is because of a third-party project.\n\nIt totally convinces me that you should find a non-intruding way to build your website, saving us the addition of the empty functions you need for your personal use.\n\nNathann",
    "created_at": "2013-06-19T15:52:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184451",
    "user": "ncohen"
}
```

I would like to make here the same comment I made in #14734. This patch creates a function that replaces the sequence of characters `Graph(P.hasse_diagram())`. It totally convinces me that this has NOTHING to do in Sage, and that the only reason that it is added is because of a third-party project.

It totally convinces me that you should find a non-intruding way to build your website, saving us the addition of the empty functions you need for your personal use.

Nathann



---

archive/issue_comments_184452.json:
```json
{
    "body": "Hi Nathan\n\nthank's for being so friendly. \n\nJust to say, of course we did it because it is useful for Findstat (you can name it, it's not forbidden). But I don't see how it affects anything in anyway for users and how it is bad in anyway for Sage. I actually think it it makes it better, because I for example would never think of doing  Graph(P.hasse_diagram()) to transform the Poset into a Graph. The fact that you know it because you usually work with this object doesn't mean everyone knows this.",
    "created_at": "2013-06-19T16:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184452",
    "user": "VivianePons"
}
```

Hi Nathan

thank's for being so friendly. 

Just to say, of course we did it because it is useful for Findstat (you can name it, it's not forbidden). But I don't see how it affects anything in anyway for users and how it is bad in anyway for Sage. I actually think it it makes it better, because I for example would never think of doing  Graph(P.hasse_diagram()) to transform the Poset into a Graph. The fact that you know it because you usually work with this object doesn't mean everyone knows this.



---

archive/issue_comments_184453.json:
```json
{
    "body": "Yo !\n\n> Just to say, of course we did it because it is useful for Findstat (you can name it, it's not forbidden). \n\nI thought I named it several time, and I did not want to avoid it. I just wanted to make clear that find_stat is a project which is totally distinct from Sage, and so we have no reason to change our software for it.\n\n> But I don't see how it affects anything in anyway for users and how it is bad in anyway for Sage. I actually think it it makes it better, because I for example would never think of doing  Graph(P.hasse_diagram()) to transform the Poset into a Graph. \n\n....\nOh.\nWell, if this is really the problem you want to solve perhaps you could have tried to make this work instead :\n\n\n```\nsage: P = posets.RandomPoset(5,.1)\nsage: Graph(P)\n```\n\n\nMuch more natural, don't you think ?\n\n> The fact that you know it because you usually work with this object doesn't mean everyone knows this.\n\nThat's not my point. \"Make a Graph from a poset\" means nothing in the first place, a poset is not a graph and several graphs would make sense. The Hasse Diagram istelf, or its undirected version, or the transitive closure, or the undirected version of it.\n\nWhat I mean is that you really add a function there \"because you want a function from Posets to Graphs, whatever it is\".\n\nBesides I just noticed that as I asked during the talk you gave, this combinatorial_map thing actually replaces each function it touches by a class. And so Sage computes stuff when a users runs code that are ONLY USEFUL for your f..... website.\n\nThat's bad work.\n\nNathann",
    "created_at": "2013-06-19T16:25:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14528",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14528#issuecomment-184453",
    "user": "ncohen"
}
```

Yo !

> Just to say, of course we did it because it is useful for Findstat (you can name it, it's not forbidden). 

I thought I named it several time, and I did not want to avoid it. I just wanted to make clear that find_stat is a project which is totally distinct from Sage, and so we have no reason to change our software for it.

> But I don't see how it affects anything in anyway for users and how it is bad in anyway for Sage. I actually think it it makes it better, because I for example would never think of doing  Graph(P.hasse_diagram()) to transform the Poset into a Graph. 

....
Oh.
Well, if this is really the problem you want to solve perhaps you could have tried to make this work instead :


```
sage: P = posets.RandomPoset(5,.1)
sage: Graph(P)
```


Much more natural, don't you think ?

> The fact that you know it because you usually work with this object doesn't mean everyone knows this.

That's not my point. "Make a Graph from a poset" means nothing in the first place, a poset is not a graph and several graphs would make sense. The Hasse Diagram istelf, or its undirected version, or the transitive closure, or the undirected version of it.

What I mean is that you really add a function there "because you want a function from Posets to Graphs, whatever it is".

Besides I just noticed that as I asked during the talk you gave, this combinatorial_map thing actually replaces each function it touches by a class. And so Sage computes stuff when a users runs code that are ONLY USEFUL for your f..... website.

That's bad work.

Nathann
