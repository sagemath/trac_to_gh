# Issue 31771: CallableSymbolicExpressionRing over subrings of SR

Issue created by migration from https://trac.sagemath.org/ticket/32008

Original creator: mkoeppe

Original creation time: 2021-06-19 00:05:35

CC:  rburing slelievre egourgoulhon tscrim dkrenn

Currently, `CallableSymbolicExpressionRing` can only be created as a ring over the base `SR`.

We extend it to subrings of `SR`.


---

Comment by git created at 2021-06-19 04:59:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-06-19 05:02:33

With this version, we get:

```
sage: var('a b c')
(a, b, c)
sage: (a*b*c).function(a, b)
(a, b) |--> a*b*c
sage: _.parent()
Callable function ring with arguments (a, b) over Symbolic Subring rejecting the variables a, b
sage: (a*b*c).function(a, b) * b
TypeError: unsupported operand parent(s) for *: 'Callable function ring with arguments (a, b) over Symbolic Subring rejecting the variables a, b' and 'Symbolic Ring'
sage: (a*b*c).function(a, b) * SR.subring([x])(x)
(a, b) |--> a*b*c*x
```

