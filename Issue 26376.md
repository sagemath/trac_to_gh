# Issue 26376: sagenb fails to build due to missing dependencies

Issue created by migration from https://trac.sagemath.org/ticket/26613

Original creator: Konrad127123

Original creation time: 2018-11-01 00:39:53

CC:  jdemeyer fbissey kcrisman

`sagenb` currently fails to build in a clean build environment because `pyparsing` is missing. The error message comes from `packaging`, which should depend on `pyparsing`. Adding this dependency solves the issue.

Error message:


```
[sagenb-1.1.0] Traceback (most recent call last):
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/bin/sphinx-build", line 6, in <mod
ule>
[sagenb-1.1.0]     from pkg_resources import load_entry_point
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_re
sources/__init__.py", line 3098, in <module>
[sagenb-1.1.0]     @_call_aside
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3082, in _call_aside
[sagenb-1.1.0]     f(*args, **kwargs)
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3111, in _initialize_master_working_set
[sagenb-1.1.0]     working_set = WorkingSet._build_master()
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 573, in _build_master
[sagenb-1.1.0]     ws.require(__requires__)
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 891, in require
[sagenb-1.1.0]     needed = self.resolve(parse_requirements(requirements))
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 777, in resolve
[sagenb-1.1.0]     raise DistributionNotFound(req, requirers)
[sagenb-1.1.0] pkg_resources.DistributionNotFound: The 'pyparsing>=2.0.2' distribution was not found and is required by packaging
[sagenb-1.1.0] make[2]: *** [Makefile:20: html] Error 1
[sagenb-1.1.0] make[2]: Leaving directory '/home/sage/sage-8.4/local/var/tmp/sage/build/sagenb-1.1.0/src/doc'
[sagenb-1.1.0] 
```



---

Comment by Konrad127123 created at 2018-11-01 00:45:57

Changing keywords from "" to "sagenb, packaging, pyparsing, dependencies".


---

Comment by Konrad127123 created at 2018-11-01 00:45:57

New commits:


---

Comment by Konrad127123 created at 2018-11-01 00:45:57

Changing status from new to needs_review.


---

Comment by fbissey created at 2018-11-02 18:39:01

Legit. Gentoo ebuild for packaging has runtime dependency (but not build time) for pyparsing but also six. As a precaution I think this ticket should also add six to the dependency list of packaging.


---

Comment by git created at 2018-11-05 13:36:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2018-11-05 13:41:08

`pyparsing` does not depend on `six`. Fran√ßois meant that `packaging` should depend on `six`.


---

Comment by jdemeyer created at 2018-11-05 13:41:08

Changing status from needs_review to needs_work.


---

Comment by git created at 2018-11-05 13:45:29

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2018-11-05 13:51:31

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2018-11-07 11:28:00

Resolution: fixed
