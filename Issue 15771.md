# Issue 15771: inclusion of the ore_algebra within Sage

Issue created by migration from https://trac.sagemath.org/ticket/16008

Original creator: zimmerma

Original creation time: 2014-03-25 10:59:50

CC:  mkauers schilly

Keywords: gfun Mgfun Ore guessing

the group of Manuel Kauers at RISC develops the `ore_algebra` package
(http://www.risc.jku.at/research/combinat/software/ore_algebra/index.php) which is similar to the
Maple gfun package (but more powerful since it works in more general rings), and will be extended to
the multivariate case. A small example with version 0.1:

```
  sage: from ore_algebra import *
  sage: R.<x> = QQ[]; A.<Dx> = OreAlgebra(R)
  sage: deq = guess([1,1,2,3,5,8,13,21],A)
  sage: deq
  (x^2 + x - 1)*Dx + 2*x + 1
  sage: rec = A(deq).to_S(A2)
  sage: rec
  (-n - 2)*Sn^2 + (n + 2)*Sn + n + 2
```



---

Comment by rws created at 2014-03-25 16:01:13

See also #15714 and the meta ticket #11515. Of course ore_algebra has more in it than just guessing.


---

Comment by rws created at 2014-04-06 06:42:46

The link is http://www.risc.jku.at/research/combinat/software/ore_algebra/ore_algebra-0.1.spkg and it installs out of the box.


---

Comment by rws created at 2014-04-06 06:42:46

Changing component from algebra to packages: optional.


---

Comment by rws created at 2014-04-06 06:42:46

Changing status from new to needs_review.


---

Comment by mmezzarobba created at 2014-04-11 09:28:30

Hmm, what is it that needs review here?


---

Comment by rws created at 2014-04-11 09:41:06

Well I thought I can't set both review and positive... but since you reviewed it too, I'll just go ahead. Thanks.


---

Comment by rws created at 2014-04-11 09:41:06

Changing status from needs_review to positive_review.


---

Comment by mmezzarobba created at 2014-04-11 09:43:57

Changing status from positive_review to needs_work.


---

Comment by mmezzarobba created at 2014-04-11 09:43:57

I don't understand: `ore_algebra` is not included in sage, is it? It is not even an optional package, just an external package that uses sage and happens to be distributed as an spkg...


---

Comment by rws created at 2014-04-11 10:03:57

This ticket is closed when ore_algebra is included as optional package. Any other code you need to use the package should go in another ticket.


---

Comment by rws created at 2014-04-11 10:03:57

Changing status from needs_work to needs_review.


---

Comment by mmezzarobba created at 2014-04-12 08:15:02

Replying to [comment:6 rws]:
> This ticket is closed when ore_algebra is included as optional package.

But it isn't, is it?

```
~/co/sage:develop$ ls build/pkgs/ore*
ls: cannot access build/pkgs/ore*: No such file or directory
(exit 2) 
~/co/sage:develop$ sage -optional | grep ore
(exit 1) 
```


Or did you forget to attach a branch to this ticket?


---

Comment by rws created at 2014-04-12 08:34:44

But why? It's all included in the SPKG and works. Also, the docs state: `Note that the top-level directory inside the tarball is renamed to src before calling the `spkg-install` script.` So you really mean that I should provide an `spkg-install` script that calls the package's `spkg-install` script? Should it overwrite other files in build/... with versions in the provided package itself?


---

Comment by mmezzarobba created at 2014-04-12 08:55:31

Replying to [comment:8 rws]:
> But why? It's all included in the SPKG and works.

Sure, `ore_algebra` is available as an spkg. It already was Paul openeed this ticket. So the way I understand the ticket's description is that it is about including `ore_algebra` into sage itself (either as a package, or perhaps by making it part of the sage library, if Manuel & co are interestedâ€”I know they were considering it at some point, but I don't know how things are standing now). I could understand that you suggest to close the ticket as wontfix if you believe it should just stay an external package, but I don't think the issue is fixed.


---

Comment by rws created at 2014-04-12 09:04:05

I do not suggest to close the ticket as wontfix. I never said that. What I expect is that someone sets positive, and since this ticket is in `packages:optional` I then expect the release manager to download the SPKG and himself copy the relevant files from that into `build/...` as well as providing the `src/` as a tarball. BUT the mgt won't notice at all as long it's not positive.

Again, this ticket is in `packages:optional`, and that means when closed the package will be optional.


---

Comment by mmezzarobba created at 2014-04-12 09:17:22

Changing status from needs_review to positive_review.


---

Comment by mmezzarobba created at 2014-04-12 09:17:22

Replying to [comment:10 rws]:
> I do not suggest to close the ticket as wontfix. I never said that. What I expect is that someone sets positive, and since this ticket is in `packages:optional` I then expect the release manager to download the SPKG and himself copy the relevant files from that into `build/...` as well as providing the `src/` as a tarball. BUT the mgt won't notice at all as long it's not positive.

Sorry, I never reviewed optional packages before, and I thought the idea was to use the ticket to review that the package worked well once all that was done, not to decide whether to make it an optional package at all. But if positive review only means "yes, this should be an optional package," then I agree with you.


---

Comment by rws created at 2014-04-12 13:19:36

Thanks. John Cremona clarified the procedure in https://groups.google.com/forum/#!topic/sage-devel/jopuoWO1Fvk 
----
New commits:


---

Comment by vbraun created at 2014-04-13 20:27:36

New-style optional packges must be tar.gz/tar.bz. We can include the existing spkg as optional, but then we don't need anything from the git branch.


---

Comment by rws created at 2014-04-21 07:42:06

So is there anything missing for this ticket?


---

Comment by vbraun created at 2014-04-21 09:54:31

The attached git branch is incomplete and there is no tarball. Is the ticket about updating the legacy spkg or creating a new-style optional package? I'm confused...


---

Comment by rws created at 2014-04-21 10:00:01

This is about taking the published SPKG and using it to create an optional package. You said elsewhere that a functional SPKG suffices for optional package creation. I created the branch before I knew that.


---

Comment by vbraun created at 2014-04-21 10:02:22

Harald: can you mirror it?


---

Comment by schilly created at 2014-04-22 12:28:46

yes, done. ore_algebra is on the servers


---

Comment by vbraun created at 2014-04-22 12:38:33

Resolution: fixed
