# Issue 22283: Fix display of tensors on free modules of finite rank

Issue created by migration from https://trac.sagemath.org/ticket/22520

Original creator: egourgoulhon

Original creation time: 2017-03-05 14:40:50

CC:  tscrim

Keywords: tensor

The following is a bug:

```
sage: M = FiniteRankFreeModule(SR, 3, name='M')
sage: e = M.basis('e')
sage: t = SR.var('t', domain='real')
sage: (2*e[0]).display()
2 e_0
sage: (t*e[0]).display()
0
```

The outcome of the last line should be `t e_0`. This bug arises because of the nonzero check performed to avoid displaying zero components. This check is written as `t != 0`, which returns `False`. The fix proposed in this ticket is to replace it by `not (t==0)`, which returns `True`.


---

Comment by egourgoulhon created at 2017-03-05 16:13:20

New commits:


---

Comment by egourgoulhon created at 2017-03-05 16:13:20

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-03-05 16:18:34

It's somewhat ugly, but a necessary evil because of how symbolic works (i.e., t could be 0).


---

Comment by tscrim created at 2017-03-05 16:18:34

Changing status from needs_review to positive_review.


---

Comment by egourgoulhon created at 2017-03-05 16:22:56

Replying to [comment:2 tscrim]:
> It's somewhat ugly, but a necessary evil because of how symbolic works (i.e., t could be 0).

I agree.
Thanks for the review!


---

Comment by vbraun created at 2017-03-08 18:45:42

Resolution: fixed
