# Issue 13372: add documentation to list_plot about custom markers

Issue created by migration from https://trac.sagemath.org/ticket/13576

Original creator: ppurka

Original creation time: 2012-10-07 05:29:50

Assignee: jason, was

CC:  jason eviatarbach

`list_plot` by default doesn't allow customization of markers, when only points are plotted because the `points` function uses `scatter` from matplotlib which doesn't support this customization. Custom points can be obtained by forcing an empty `linestyle` and using `plotjoined=True`. This ticket is for adding this method to the documentation of `list_plot`.


---

Attachment

Apply to devel/sage


---

Comment by ppurka created at 2012-10-07 05:32:34

Changing status from new to needs_review.


---

Comment by ppurka created at 2012-10-07 05:57:15

Changing status from needs_review to needs_work.


---

Attachment

Apply to devel/sage


---

Comment by ppurka created at 2012-10-07 14:27:51

Changing status from needs_work to needs_review.


---

Comment by kcrisman created at 2012-12-13 03:15:55

Oh, ppurka, I would love you if this works, I always get stuck using `line(... linestyle='')` for this very thing!

Is there an option for the width of the marker edge?  They kind of overwhelm the marker color with the default point size; I have to go to `size=60` or so to have it really seem like an _edge_.

Am I correct in my suspicion that `markeredgecolor` sort of automatically implies `faceted=True` in mpl internally?  At least, the plots look like it, and `faceted=False` does nothing when I use `markeredgecolor`.  The `markeredgecolor` seems to govern the color of the facet; I assume this is right, but the quite different names might make one think they control two different things.

In general I really like this patch, though, including the careful small local improvements that have nothing to do with the ticket but which are still valuable.  Passes tests, so... answer my questions and you might get a positive review.  Thanks for looking into this!


---

Comment by ppurka created at 2012-12-13 03:59:12

I will need some time to recall what this patch is doing, and what other changes I had in mind regarding this.

I do remember that I resisted adding some extra keywords which are synonymous to the keywords in `plot`, `list_plot`, etc, and which have the same functionality as other keywords in this function. I think `size` is the same as `markersize`, `color` keyword is missing, `markeredgecolor` and `faceted` control the same thing, except the second is a boolean, and so on. Essentially, a bunch of inconsistencies on the Sage interface side mainly because the keywords used are the same as the mpl scatter command. It is really jarring that many different plot commands have different keywords for achieving the same effect.

Do you think it will be useful to either deprecate some keywords or add other keywords like color, markersize, etc which are similar to the keywords used in plot, list_plot, line, etc?


---

Comment by kcrisman created at 2012-12-13 04:06:53

> Do you think it will be useful to either deprecate some keywords or add other keywords like color, markersize, etc which are similar to the keywords used in plot, list_plot, line, etc?
Maybe.  I wonder whether Jason might have some comments.


---

Comment by jason created at 2012-12-13 05:22:13

I actually just added marker options to points the other day in my personal copy of Sage so I could do some plots that I wanted to do :).

I think someone ought to go through each plotting function and make a comprehensive sweep to clean up options and make things more consistent.  Right now, it's very confusing.


---

Comment by ppurka created at 2012-12-13 05:53:39

Ok then, let's defer the cleanup to a different ticket - #13828 to be precise.


---

Comment by ppurka created at 2012-12-13 06:30:18

Replying to [comment:5 kcrisman]:
> Oh, ppurka, I would love you if this works, I always get stuck using `line(... linestyle='')` for this very thing!

Actually, it is true that `line(... linestyle='')` is more powerful than `point` (mpl's `scatter`). Many options are not present in the scatter command.

> Is there an option for the width of the marker edge?  They kind of overwhelm the marker color with the default point size; I have to go to `size=60` or so to have it really seem like an _edge_.

There is no such option for scatter/point. But there is the option `markeredgewidth` for plot/line.


---

Comment by kcrisman created at 2012-12-13 15:58:17

What I am hearing here is that there is no point in using mol's `scatter` instead of whatever we use for `line2d`.  What does scatter have (speed, flexibility, something else) that mpl `lines.Iine2D` doesn't have?


---

Comment by ppurka created at 2012-12-14 12:40:00

Replying to [comment:11 kcrisman]:
> What I am hearing here is that there is no point in using mol's `scatter` instead of whatever we use for `line2d`.  What does scatter have (speed, flexibility, something else) that mpl `lines.Iine2D` doesn't have?
Right. This could be best answered by mpl. Other than the cmap argument, which we don't use in point2d, I don't see how scatter is better than line2d.

Also, #13830 is relevant for any cleanup.


---

Comment by kcrisman created at 2013-07-10 20:04:32

Well, let's defer that to another ticket as well - I was annoyed by this again last week.

Just one more question, about the `plot3d` method:

```
raise NotImplementedError("3D points can not be faceted.")
```

but you don't do the same thing for the marker option.  It just silently fails.  In fact, both of these work.

```
sage: point([(0,1),(1,2)],marker='^',size=100,markeredgecolor='purple',color='yellow').plot3d()
sage: point([(0,1,0),(1,2,1)],marker='^',size=100,markeredgecolor='purple',color='yellow')
```

But hopefully we are okay otherwise, I don't see any reason not to merge this other than perhaps wanting to document or raise an error here.  Maybe to point people to a list of markers elsewhere in the documentation.


---

Comment by kcrisman created at 2013-07-10 20:57:51

See also #13051.


---

Comment by eviatarbach created at 2013-07-11 02:31:50

I think it makes sense to have the default faceted colour be blue, in accordance with the default for lines.


---

Comment by ppurka created at 2013-07-18 08:55:54

Replying to [comment:15 eviatarbach]:
> I think it makes sense to have the default faceted colour be blue, in accordance with the default for lines.
I was about to make this change. Then I realized that the default marker color is blue. So, blue face with blue edge will not be visibly faceted at all, whereas blue on black can be just about discerned. So, _if_ you change the default marker color, then change the edge color too to be consistent with your plot.


---

Comment by ppurka created at 2013-07-18 09:09:02

Replying to [comment:13 kcrisman]:
> but you don't do the same thing for the marker option.  It just silently fails.  In fact, both of these work.
> {{{
> sage: point([(0,1),(1,2)],marker='^',size=100,markeredgecolor='purple',color='yellow').plot3d()
> sage: point([(0,1,0),(1,2,1)],marker='^',size=100,markeredgecolor='purple',color='yellow')
> }}}

I can fix the first one, but not the second one. A proper fix for the second one requires extensive changes to `sage/plot/plot3d/*` to make sure that all invalid options raise errors. Currently, all invalid options are silently ignored. For instance,

```
sage: point((1,2,3), abcd=True)
```

will happily show you the plot.


---

Comment by ppurka created at 2013-07-18 09:12:16

In fact, I can't even fix the first one. It breaks about 24 doctests, which were all working earlier. I suggest we maintain the status quo for now.


---

Comment by ppurka created at 2014-01-18 07:56:33

I am quite disappointed that this was never merged. This came up _yet_ again recently with a colleague of mine. Some of these things which should "just work" don't just work in Sage.


---

Comment by kcrisman created at 2014-01-18 14:12:10

I think that I just lost track of what needed to be done, and even that I was the one more or less reviewing this.  It sounds like you need to open a new ticket for my question, since it can't be fixed easily, and I'm a little confused about the last sentence in your response to Eviatar.  Is that something that should be added with an example in documentation?  I can't parse it right now for some reason - probably due to going to too many math talks this morning before 9 AM.

I totally agree this should be in, however.


---

Comment by ppurka created at 2014-01-18 18:09:20

1. The plots in comment:13 `point([(0,1,0),(1,2,1)],marker='^')` and `point([(0,1),(1,2)],marker='^').plot3d()` like unsupported command should be fixed in #15002.

2. `@`eviatarbach in comment:15 suggested that the edgecolor should be blue since the lines in our plots are blue by default. But, the default marker color is blue and a blue default edgecolor will simply make the edge "invisible". This is equivalent to just plotting a bigger marker. _The current default of black edgecolor makes the black ring around the blue marker just about visible._ This doesn't need any example. I am just saying that we should maintain status quo.

*EDIT:* Actually, the current default is *no* edgecolor. So, nothing is being changed here.


---

Comment by ppurka created at 2014-01-18 18:17:59

New commits:


---

Comment by kcrisman created at 2014-01-24 19:38:17

At [the scatter plot doc](http://www.sagemath.org/doc/reference/plotting/sage/plot/scatter_plot.html#sage.plot.scatter_plot.scatter_plot) I note that they have a list of markers.  A (possibly different?) list is in the line doc.  Maybe this should have that too?  Of course, that is very closely related to #8570 but it would be a copy-and-paste thing here (assuming no mpl options had been added recently.)

I have to say that having both scatter plot and this is quite redundant, so if you ended up having a patch - sorry, commit - for #13830 that extended this I might be motivated to review that, assuming I finish reviewing this soon.  (Looks good again, but now I want to test out using various colors and whatnot and I need to finish some other things first.)


---

Comment by kcrisman created at 2014-01-24 19:58:22

Dumb comment - I know the defaults would mean this could only happen if someone purposely used the graphics primitive.  But 

```
scatteroptions['marker'] = options.pop('marker')
```

maybe should have the optional default argument.


---

Comment by ppurka created at 2014-01-24 21:09:09

Changing status from needs_review to needs_work.


---

Comment by ppurka created at 2014-01-24 21:09:09

Replying to [comment:26 kcrisman]:
> Dumb comment - I know the defaults would mean this could only happen if someone purposely used the graphics primitive.  But 
> {{{
> scatteroptions['marker'] = options.pop('marker')
> }}}
> maybe should have the optional default argument.
`marker` should always be defined because `Point` class is never exposed to the user and the method for `points` has ``@`options(marker='o')`.

The list of markers might be different between the two. We should probably just point people to the other list; for example the list in `plot`. The list should probably be compared with mpl and checked to make sure that it is up to date.


---

Comment by kcrisman created at 2014-01-25 02:44:40

> > Dumb comment - I know the defaults would mean this could only happen if someone purposely used the graphics primitive.  But 
> > {{{
> > scatteroptions['marker'] = options.pop('marker')
> > }}}
> > maybe should have the optional default argument.
> `marker` should always be defined because `Point` class is never exposed to the user and the method for `points` has ``@`options(marker='o')`.

Yes, but in principle someone could use sage.plot.graphics.point.Point or whatever... okay, I give in :) since we usually don't do this.

> The list of markers might be different between the two. We should probably just point people to the other list; for example the list in `plot`. The list should probably be compared with mpl and checked to make sure that it is up to date.
Yes, if you can do that and update your branch that would be great.  I won't get time tonight to do the real testing but I really don't anticipate anything and I do promise I will do it this time!


---

Comment by git created at 2014-01-25 06:18:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ppurka created at 2014-01-25 06:21:21

Changing status from needs_work to needs_review.


---

Comment by ppurka created at 2014-01-25 06:21:21

1. The information about marker was already present in points. The documentation asks users to look at `points.option` to find the information about allowed options. `points.option` does mention marker and was already asking the reader to look at `plot` for more information.

2. The marker list in `plot` was mostly complete. Added a few more.


---

Comment by git created at 2014-01-25 06:33:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by rws created at 2014-05-09 08:12:41

Changing status from needs_review to needs_work.


---

Comment by git created at 2014-05-10 10:17:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ppurka created at 2014-05-10 10:28:55

Thanks for checking the ticket. The changes from develop have been merged on to current ticket.


---

Comment by ppurka created at 2014-05-10 10:28:55

Changing status from needs_work to needs_review.


---

Comment by kcrisman created at 2014-08-15 07:04:12

Changing status from needs_review to positive_review.


---

Comment by kcrisman created at 2014-08-15 07:04:12

Eventually we'll need to unify scatter plot and point, I think there is even a ticket for this... 

I would love to add more examples sometime.

```
sage: plot(x^2,marker="$x^2$",markeredgecolor='red')
```

Hilarious!

Anyway, I'm happy with this.


---

Comment by vbraun created at 2014-08-16 07:51:58

Resolution: fixed
