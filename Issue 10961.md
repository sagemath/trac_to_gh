# Issue 10961: lcalc 20100428-1.23.p5 fails to build on OpenSolaris with gcc 4.6.0

archive/issues_010961.json:
```json
{
    "body": "Assignee: drkirkby\n\nThe latest gcc 4.6.0 fails to compile lcalc - something the Sun compiler has always refused to do. #7065 shows the problems reported by the Sun compiler. \n\nGCC 4.5.0 and 4.5.1 compile *lcalc*, though they give lots of warnings. Hopefully GCC is becoming stricter about the code it accepts, which can only be a good thing IMHO. \n\nThis problem was noticed on a Sun Ultra 27 running OpenSolaris 06/2009. This has a 3.33 GHz Intel Xeon W3580 CPU, not a SPARC processor. Part of the error message is below. \n\nA full log is attached. As you can see, this code generates tons of warnings. \n\nI've set the component to \"solaris\" as this is the only system on which I know this is failing to build, but can someone please change it to \"build\" if it fails to build on OS X or Linux with gcc 4.6.0. I rather suspect the same issue will apply on Linux and OS X. \n\n\n```\n../include/Lcommon.h:35:15: note: double lcalc_to_double(const long unsigned int&)\n/usr/local/gcc-4.6.0/lib/gcc/i386-pc-solaris2.10/4.6.0/../../../../include/c++/4.6.0/limits: In static member function 'static double std::numeric_limits<double>::epsilon()':\n/usr/local/gcc-4.6.0/lib/gcc/i386-pc-solaris2.10/4.6.0/../../../../include/c++/4.6.0/limits:1501:34: error: call of overloaded 'lcalc_to_double(long double)' is ambiguous\n/usr/local/gcc-4.6.0/lib/gcc/i386-pc-solaris2.10/4.6.0/../../../../include/c++/4.6.0/limits:1501:34: note: candidates are:\n../include/Lcommon.h:18:15: note: double lcalc_to_double(const Double&)\n../include/Lcommon.h:29:15: note: double lcalc_to_double(const int&)\n../include/Lcommon.h:30:15: note: double lcalc_to_double(const long long int&)\n../include/Lcommon.h:31:15: note: double lcalc_to_double(const short int&)\n../include/Lcommon.h:32:15: note: double lcalc_to_double(const char&)\n../include/Lcommon.h:33:15: note: double lcalc_to_double(const long int&)\n../include/Lcommon.h:34:15: note: double lcalc_to_double(const unsigned int&)\n../include/Lcommon.h:35:15: note: double lcalc_to_double(const long unsigned int&)\n/usr/local/gcc-4.6.0/lib/gcc/i386-pc-solaris2.10/4.6.0/../../../../include/c++/4.6.0/limits: In static member function 'static double std::numeric_limits<double>::denorm_min()':\n/usr/local/gcc-4.6.0/lib/gcc/i386-pc-solaris2.10/4.6.0/../../../../include/c++/4.6.0/limits:1529:37: error: call of overloaded 'lcalc_to_double(long double)' is ambiguous\n/usr/local/gcc-4.6.0/lib/gcc/i386-pc-solaris2.10/4.6.0/../../../../include/c++/4.6.0/limits:1529:37: note: candidates are:\n../include/Lcommon.h:18:15: note: double lcalc_to_double(const Double&)\n../include/Lcommon.h:29:15: note: double lcalc_to_double(const int&)\n../include/Lcommon.h:30:15: note: double lcalc_to_double(const long long int&)\n../include/Lcommon.h:31:15: note: double lcalc_to_double(const short int&)\n../include/Lcommon.h:32:15: note: double lcalc_to_double(const char&)\n../include/Lcommon.h:33:15: note: double lcalc_to_double(const long int&)\n../include/Lcommon.h:34:15: note: double lcalc_to_double(const unsigned int&)\n../include/Lcommon.h:35:15: note: double lcalc_to_double(const long unsigned int&)\nmake[3]: *** [Lriemannsiegel.o] Error 1\nLriemannsiegel_blfi.cc: In function 'Complex blfi_inter(Double, Double, int, int, int, int&)':\nLriemannsiegel_blfi.cc:388:71: warning: unused variable 'temp10' [-Wunused-variable]\nLriemannsiegel_blfi.cc: In function 'Complex my_zeta(Double, int&)':\nLriemannsiegel_blfi.cc:913:23: warning: unused variable 'denom' [-Wunused-variable]\nLriemannsiegel_blfi.cc:913:53: warning: unused variable 'temp0' [-Wunused-variable]\nmake[3]: *** [Lriemannsiegel_blfi.o] Error 1\nmake[3]: Target `libLfunction.so' not remade because of errors.\nmake[3]: Leaving directory `/export/home/drkirkby/sage-new-gcc/sage-4.7.alpha2/spkg/build/lcalc-20100428-1.23.p5/src/src'\nmake[2]: *** [all] Error 2\nmake[2]: Leaving directory `/export/home/drkirkby/sage-new-gcc/sage-4.7.alpha2/spkg/build/lcalc-20100428-1.23.p5/src/src'\nError building lcalc 'make'\n\nreal\t0m1.364s\nuser\t0m2.455s\nsys\t0m0.282s\nsage: An error occurred while installing lcalc-20100428-1.23.p5\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/11086\n\n",
    "created_at": "2011-03-29T22:54:39Z",
    "labels": [
        "solaris",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "lcalc 20100428-1.23.p5 fails to build on OpenSolaris with gcc 4.6.0",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10961",
    "user": "drkirkby"
}
```
Assignee: drkirkby

The latest gcc 4.6.0 fails to compile lcalc - something the Sun compiler has always refused to do. #7065 shows the problems reported by the Sun compiler. 

GCC 4.5.0 and 4.5.1 compile *lcalc*, though they give lots of warnings. Hopefully GCC is becoming stricter about the code it accepts, which can only be a good thing IMHO. 

This problem was noticed on a Sun Ultra 27 running OpenSolaris 06/2009. This has a 3.33 GHz Intel Xeon W3580 CPU, not a SPARC processor. Part of the error message is below. 

A full log is attached. As you can see, this code generates tons of warnings. 

I've set the component to "solaris" as this is the only system on which I know this is failing to build, but can someone please change it to "build" if it fails to build on OS X or Linux with gcc 4.6.0. I rather suspect the same issue will apply on Linux and OS X. 


```
../include/Lcommon.h:35:15: note: double lcalc_to_double(const long unsigned int&)
/usr/local/gcc-4.6.0/lib/gcc/i386-pc-solaris2.10/4.6.0/../../../../include/c++/4.6.0/limits: In static member function 'static double std::numeric_limits<double>::epsilon()':
/usr/local/gcc-4.6.0/lib/gcc/i386-pc-solaris2.10/4.6.0/../../../../include/c++/4.6.0/limits:1501:34: error: call of overloaded 'lcalc_to_double(long double)' is ambiguous
/usr/local/gcc-4.6.0/lib/gcc/i386-pc-solaris2.10/4.6.0/../../../../include/c++/4.6.0/limits:1501:34: note: candidates are:
../include/Lcommon.h:18:15: note: double lcalc_to_double(const Double&)
../include/Lcommon.h:29:15: note: double lcalc_to_double(const int&)
../include/Lcommon.h:30:15: note: double lcalc_to_double(const long long int&)
../include/Lcommon.h:31:15: note: double lcalc_to_double(const short int&)
../include/Lcommon.h:32:15: note: double lcalc_to_double(const char&)
../include/Lcommon.h:33:15: note: double lcalc_to_double(const long int&)
../include/Lcommon.h:34:15: note: double lcalc_to_double(const unsigned int&)
../include/Lcommon.h:35:15: note: double lcalc_to_double(const long unsigned int&)
/usr/local/gcc-4.6.0/lib/gcc/i386-pc-solaris2.10/4.6.0/../../../../include/c++/4.6.0/limits: In static member function 'static double std::numeric_limits<double>::denorm_min()':
/usr/local/gcc-4.6.0/lib/gcc/i386-pc-solaris2.10/4.6.0/../../../../include/c++/4.6.0/limits:1529:37: error: call of overloaded 'lcalc_to_double(long double)' is ambiguous
/usr/local/gcc-4.6.0/lib/gcc/i386-pc-solaris2.10/4.6.0/../../../../include/c++/4.6.0/limits:1529:37: note: candidates are:
../include/Lcommon.h:18:15: note: double lcalc_to_double(const Double&)
../include/Lcommon.h:29:15: note: double lcalc_to_double(const int&)
../include/Lcommon.h:30:15: note: double lcalc_to_double(const long long int&)
../include/Lcommon.h:31:15: note: double lcalc_to_double(const short int&)
../include/Lcommon.h:32:15: note: double lcalc_to_double(const char&)
../include/Lcommon.h:33:15: note: double lcalc_to_double(const long int&)
../include/Lcommon.h:34:15: note: double lcalc_to_double(const unsigned int&)
../include/Lcommon.h:35:15: note: double lcalc_to_double(const long unsigned int&)
make[3]: *** [Lriemannsiegel.o] Error 1
Lriemannsiegel_blfi.cc: In function 'Complex blfi_inter(Double, Double, int, int, int, int&)':
Lriemannsiegel_blfi.cc:388:71: warning: unused variable 'temp10' [-Wunused-variable]
Lriemannsiegel_blfi.cc: In function 'Complex my_zeta(Double, int&)':
Lriemannsiegel_blfi.cc:913:23: warning: unused variable 'denom' [-Wunused-variable]
Lriemannsiegel_blfi.cc:913:53: warning: unused variable 'temp0' [-Wunused-variable]
make[3]: *** [Lriemannsiegel_blfi.o] Error 1
make[3]: Target `libLfunction.so' not remade because of errors.
make[3]: Leaving directory `/export/home/drkirkby/sage-new-gcc/sage-4.7.alpha2/spkg/build/lcalc-20100428-1.23.p5/src/src'
make[2]: *** [all] Error 2
make[2]: Leaving directory `/export/home/drkirkby/sage-new-gcc/sage-4.7.alpha2/spkg/build/lcalc-20100428-1.23.p5/src/src'
Error building lcalc 'make'

real	0m1.364s
user	0m2.455s
sys	0m0.282s
sage: An error occurred while installing lcalc-20100428-1.23.p5
```


Issue created by migration from https://trac.sagemath.org/ticket/11086





---

archive/issue_comments_118515.json:
```json
{
    "body": "Failed build of lcalc as packaged in sage-4.7.alpha2 on a Sun Ultra 27 running OpenSolaris 06/2009",
    "created_at": "2011-03-29T22:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10961#issuecomment-118515",
    "user": "drkirkby"
}
```

Failed build of lcalc as packaged in sage-4.7.alpha2 on a Sun Ultra 27 running OpenSolaris 06/2009



---

archive/issue_comments_118516.json:
```json
{
    "body": "Changing component from solaris to build.",
    "created_at": "2011-03-30T02:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10961#issuecomment-118516",
    "user": "vbraun"
}
```

Changing component from solaris to build.



---

archive/issue_comments_118517.json:
```json
{
    "body": "Attachment [lcalc-20100428-1.23.p5.log](tarball://root/attachments/some-uuid/ticket11086/lcalc-20100428-1.23.p5.log) by vbraun created at 2011-03-30 02:49:04\n\nDuplicate of #10892, which contains fix.",
    "created_at": "2011-03-30T02:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10961#issuecomment-118517",
    "user": "vbraun"
}
```

Attachment [lcalc-20100428-1.23.p5.log](tarball://root/attachments/some-uuid/ticket11086/lcalc-20100428-1.23.p5.log) by vbraun created at 2011-03-30 02:49:04

Duplicate of #10892, which contains fix.



---

archive/issue_comments_118518.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-03-30T02:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10961#issuecomment-118518",
    "user": "vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_118519.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-03-30T02:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10961#issuecomment-118519",
    "user": "vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_118520.json:
```json
{
    "body": "Oops, I should have checked. Can the release manager close this.\n\nI don't see any point in this having a positive review myself. There was never anything to review. \n\nDave",
    "created_at": "2011-03-30T08:45:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10961#issuecomment-118520",
    "user": "drkirkby"
}
```

Oops, I should have checked. Can the release manager close this.

I don't see any point in this having a positive review myself. There was never anything to review. 

Dave



---

archive/issue_comments_118521.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2011-04-05T16:08:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10961#issuecomment-118521",
    "user": "jdemeyer"
}
```

Resolution: duplicate
