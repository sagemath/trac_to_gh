# Issue 18850: incredibly non-useful warning in plot replaces helpful warning message

Issue created by migration from https://trac.sagemath.org/ticket/19087

Original creator: kcrisman

Original creation time: 2015-08-25 14:18:27

CC:  vbraun

Sage 6.5

```
sage: polar_plot(sec(x),(x,-pi/8,pi/8),ticks=[.1,None],aspect_ratio='auto')
/Users/.../sage-6.5/local/lib/python2.7/site-packages/IPython/core/formatters.py:239: FormatterWarning: Exception in text/plain formatter: Expand the range of the independent variable to allow two multiples of your tick locator (option `ticks`).
<snip>
KeyError: 'text/plain'
```

Current beta:

```
sage: sage: polar_plot(sec(x),(x,-pi/8,pi/8),ticks=[.1,None],aspect_ratio='auto')
/Users/.../sage/local/lib/python2.7/site-packages/sage/repl/rich_output/display_manager.py:570: RichReprWarning: Exception in _rich_repr_ while displaying object: unsupported operand type(s) for /: 'float' and 'str'
  RichReprWarning,
Graphics object consisting of 1 graphics primitive
```

But no graphic shows up.   This warning is obviously _much_ less helpful.  It is true that the warning in both cases only appears once.   Still this seems to be a fairly major regression.


---

Comment by vbraun created at 2015-08-25 15:29:51

Its `aspect_ratio='automatic'`. Really the fault of plot for not verifying input and then tripping over its feet with useless diagnostics when its time to display the plot.


---

Comment by kcrisman created at 2015-08-25 15:58:12

I thought we had a `'auto'=='automatic'` in that event?  Man, I really have not been keeping up.

```
sage: polar_plot(sec(x),(x,-pi/8,pi/8),ticks=[.1,None],aspect_ratio='automatic') 
/Users/karl.crisman/Downloads/sage/local/lib/python2.7/site-packages/sage/repl/rich_output/display_manager.py:570: RichReprWarning: Exception in _rich_repr_ while displaying object: Expand the range of the independent variable to allow two multiples of your tick locator (option `ticks`).
  RichReprWarning,
Graphics object consisting of 1 graphics primitive
```

It still shouldn't say it returns a graphic object, should it?


---

Comment by vbraun created at 2015-08-25 16:08:36

plot() does return a graphics object, this is precisely what is wrong with plot. It shouldn't return a graphics object if the input is invalid. But it does, and the graphics object can't display itself graphically.


---

Comment by kcrisman created at 2015-08-25 16:12:52

Note that in the previous incarnation it didn't actually return anything, there was a `KeyError`...
