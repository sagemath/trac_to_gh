# Issue 20002: Make p-adic some_elements() non-trivial

archive/issues_020002.json:
```json
{
    "body": "Keywords: days71, sd87, padicIMA\n\n`some_elements()` currently returns 0, 1, p. This makes most of our automated tests trivial.\nSomething like this should be sufficient:\n\n```\n    def _some_elements(self):\n        p = self(self.prime())\n        pi = self.uniformizer()\n        e = self.ramification_index()\n\n        yield self.zero()\n        yield self.one()\n        yield -self.one()\n        yield p\n        yield pi\n\n        from sage.rings.all import NN\n        for n in NN.some_elements():\n            yield p**n\n            yield pi**n\n\n        yield self.zero().add_bigoh(0)\n        yield self.zero().add_bigoh(self.precision_cap()-1)\n        if self.is_field():\n            yield self.zero().add_bigoh(-2)\n\n        for x in self.residue_field().some_elements():\n            yield self(x)\n            yield self.teichmuller(x)\n\n\n    def some_elements(self):\n        r\"\"\"\n        Returns a list of elements in this ring.\n\n        This is typically used for running generic tests (see :class:`TestSuite`).\n\n        EXAMPLES::\n\n            sage: Zp(2).some_elements()\n            [0, 1 + O(2^20), 2 + O(2^21)]\n\n        \"\"\"\n        for x in self._some_elements():\n            yield x\n            if self.is_field() and not x.is_zero():\n                yield ~x\n            yield x<<1\n            yield x<<self.precision_cap()-1)\n```\n\nhowever, it should also detect duplicates (using cache_key.)\n\nIssue created by migration from https://trac.sagemath.org/ticket/20239\n\n",
    "closed_at": "2018-11-08T16:12:27Z",
    "created_at": "2016-03-21T13:08:23Z",
    "labels": [
        "component: padics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Make p-adic some_elements() non-trivial",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20002",
    "user": "https://github.com/saraedum"
}
```
Keywords: days71, sd87, padicIMA

`some_elements()` currently returns 0, 1, p. This makes most of our automated tests trivial.
Something like this should be sufficient:

```
    def _some_elements(self):
        p = self(self.prime())
        pi = self.uniformizer()
        e = self.ramification_index()

        yield self.zero()
        yield self.one()
        yield -self.one()
        yield p
        yield pi

        from sage.rings.all import NN
        for n in NN.some_elements():
            yield p**n
            yield pi**n

        yield self.zero().add_bigoh(0)
        yield self.zero().add_bigoh(self.precision_cap()-1)
        if self.is_field():
            yield self.zero().add_bigoh(-2)

        for x in self.residue_field().some_elements():
            yield self(x)
            yield self.teichmuller(x)


    def some_elements(self):
        r"""
        Returns a list of elements in this ring.

        This is typically used for running generic tests (see :class:`TestSuite`).

        EXAMPLES::

            sage: Zp(2).some_elements()
            [0, 1 + O(2^20), 2 + O(2^21)]

        """
        for x in self._some_elements():
            yield x
            if self.is_field() and not x.is_zero():
                yield ~x
            yield x<<1
            yield x<<self.precision_cap()-1)
```

however, it should also detect duplicates (using cache_key.)

Issue created by migration from https://trac.sagemath.org/ticket/20239





---

archive/issue_comments_275132.json:
```json
{
    "body": "Changing keywords from \"\" to \"days71\".",
    "created_at": "2016-03-24T02:22:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20002#issuecomment-275132",
    "user": "https://github.com/saraedum"
}
```

Changing keywords from "" to "days71".



---

archive/issue_comments_275133.json:
```json
{
    "body": "Changing keywords from \"days71\" to \"days71, sd87\".",
    "created_at": "2017-07-23T04:05:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20002#issuecomment-275133",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "days71" to "days71, sd87".



---

archive/issue_comments_275134.json:
```json
{
    "body": "Changing keywords from \"days71, sd87\" to \"days71, sd87, padicIMA\".",
    "created_at": "2018-07-22T20:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20002#issuecomment-275134",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "days71, sd87" to "days71, sd87, padicIMA".



---

archive/issue_comments_275135.json:
```json
{
    "body": "`some_elements()` now returns more elements. Should we considerer that this issue is fixed?",
    "created_at": "2018-07-26T01:03:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20002#issuecomment-275135",
    "user": "https://github.com/xcaruso"
}
```

`some_elements()` now returns more elements. Should we considerer that this issue is fixed?



---

archive/issue_comments_275136.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-26T10:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20002#issuecomment-275136",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_events_054975.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-07-26T10:37:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20002",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20002#event-54975"
}
```



---

archive/issue_comments_275137.json:
```json
{
    "body": "Yes, good enough for the time being.",
    "created_at": "2018-07-26T10:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20002#issuecomment-275137",
    "user": "https://github.com/saraedum"
}
```

Yes, good enough for the time being.



---

archive/issue_comments_275138.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-26T10:37:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20002#issuecomment-275138",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_275139.json:
```json
{
    "body": "Resolution: worksforme",
    "created_at": "2018-11-08T16:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20002#issuecomment-275139",
    "user": "https://github.com/embray"
}
```

Resolution: worksforme



---

archive/issue_events_054976.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-11-08T16:12:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20002",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20002#event-54976"
}
```
