# Issue 20048: make OSX binary distros useful for development

Issue created by migration from Trac.

Original creator: dimpase

Original creation time: 2016-03-25 10:25:27

CC:  cremona

see the discussion here:
https://groups.google.com/d/msg/sage-devel/Q76TxYT7vaU/N2Yp7JELDgAJ

OSX binary installs do not allow installing extra packages (breaking after make is run).


---

Comment by vbraun created at 2016-03-25 11:25:16

Steps to reproduce?


---

Comment by vbraun created at 2016-03-25 11:25:16

Changing status from new to needs_info.


---

Comment by dimpase created at 2016-03-25 11:37:52

Changing status from needs_info to needs_work.


---

Comment by vbraun created at 2016-03-25 16:15:26


```
$ pkg-config --libs gsl
/Users/vbraun/Desktop/SageMath/local/bin/pkg-config: line 16: /Users/buildslave-sage/slave/binary_pkg/build/tools/binary-pkg/bin/pkg-config: No such file or directory
/Users/vbraun/Desktop/SageMath/local/bin/pkg-config: line 16: exec: /Users/buildslave-sage/slave/binary_pkg/build/tools/binary-pkg/bin/pkg-config: cannot execute: No such file or directory
```

The compile step picks up the binary builder's tools. We should scrub the path before executing the compile script.


---

Comment by dimpase created at 2016-03-25 17:56:13

well, I need to read on pkg-config, and understand its role in Sage, before I can make full sense of this comment.


---

Comment by vbraun created at 2016-03-25 18:56:35

I'll take care of it


---

Comment by vbraun created at 2016-03-25 23:38:29

Changing status from needs_work to needs_review.


---

Comment by vbraun created at 2016-03-25 23:38:29

Fixed in https://github.com/sagemath/binary-pkg/commit/8f412120497816727429fd1905ced094f660ffcb

PS: the patching step is much faster now if you haven't noticed yet...


---

Comment by dimpase created at 2016-03-25 23:44:28

Yes, I noticed that patching is faster. How do you want this to be reviewed? I can test some tarballs on OSX.

Something else - IMHO a tighter integration of binary-pkg with Sage would be great.
Perhaps via a git submodule?


---

Comment by vbraun created at 2016-03-26 09:15:27

I uploaded updated OSX tarballs (for beta0)

IMHO tooling should not be integrated, it sounds good but really you are going to bite your own tail all the time. For starters, its written in Python 3 and uses some python packages that are not part of Sage (and don't make any sense in Sage). Of course you are welcome to review the code on github...

There is nothing to be done here, just close as "fixed".


---

Comment by dimpase created at 2016-03-26 11:03:43

Replying to [comment:9 vbraun]:
> I uploaded updated OSX tarballs (for beta0)
> 
> IMHO tooling should not be integrated, it sounds good but really you are going to bite your own tail all the time. 

I did not say "integrating into Sage". I meant "make it less weird to use, and easier to install properly". (Same applies to git trac, by the way).
They are parts of a wider "Sage dev/release tools" project, and I only have arguments for it to be less loose than it is now, so that just one or two git commands in the Sage repo is all you need to get them installed/updated; less strictly necessary reading to do to configure them properly
(e.g. currently we have an unwritten requirement that binary-pkg must not be installed via git to be useful, cf https://github.com/sagemath/binary-pkg/issues/6)

They would remain quite independent from Sage, with their own requirements etc.


---

Comment by dimpase created at 2016-03-26 11:03:55

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-03-26 11:38:57

git-trac can be installed as a Sage optional package, what else do you want?

Having binary-pkg in Sage would mean that its dependencies would also become packaged in binary tarballs.


---

Comment by dimpase created at 2016-03-26 12:00:57

Replying to [comment:12 vbraun]:
> git-trac can be installed as a Sage optional package, what else do you want?
ah, I didn't even know that, or forgot. I assumed it is in the same status as binary-pkg.
(I'd say it's a bit of a bloat...)
> 
> Having binary-pkg in Sage would mean that its dependencies would also become packaged in binary tarballs.

Again, I do not say "make it a Sage package".


---

Comment by vbraun created at 2016-06-12 12:02:30

Resolution: fixed
