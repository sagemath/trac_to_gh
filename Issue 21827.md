# Issue 21827: LaurentPolynomial: use __call__ in subs

Issue created by migration from https://trac.sagemath.org/ticket/22064

Original creator: dkrenn

Original creation time: 2016-12-16 08:00:07

At the moment, `subs` of a LaurentPolynomial implements its own subs, whereas polynomials, etc. use the more efficient `__call__` for doing so.


---

Comment by dkrenn created at 2016-12-16 08:05:16

Changing status from new to needs_info.


---

Comment by dkrenn created at 2016-12-16 08:05:16

The provided branch implements using __call__ and it is indeed more efficient: much less evaluation time is needed, in particular when having laurent polynomials with many terms.

The (minor) drawback

```
sage: L.<a,b> = LaurentPolynomialRing(ZZ)
sage: (b^2/a + b/a^2).subs({a: SR('aa'), b: SR('bb')})
(aa*bb^2 + bb)/aa^2
```

----
New commits:


---

Comment by cheuberg created at 2016-12-19 14:09:53

There is a failing doctest detected by the patchbot.
Why is the status "needs_info"?


---

Comment by git created at 2016-12-22 08:24:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dkrenn created at 2016-12-22 08:27:24

Replying to [comment:3 cheuberg]:
> There is a failing doctest detected by the patchbot.
> Why is the status "needs_info"?

Doctest now fixed; this was exaxtly the (minor) drawback mentioned above. Now set to needs_review.


---

Comment by dkrenn created at 2016-12-22 08:27:24

Changing status from needs_info to needs_review.


---

Comment by git created at 2017-01-05 15:32:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by cheuberg created at 2017-01-05 15:33:28

LGTM.

I rewrote the docstring, please cross-review.


---

Comment by dkrenn created at 2017-01-05 18:54:45

Cross-reviewing done, LGTM.


---

Comment by dkrenn created at 2017-01-05 18:54:45

Changing status from needs_review to positive_review.


---

Comment by dkrenn created at 2017-01-05 18:57:21

...and I would be fine with "Authors: Daniel Krenn", "Reviewers: Clemens Heuberger" as well, if you have any opinion on this...


---

Comment by vbraun created at 2017-01-21 16:35:05

Resolution: fixed
