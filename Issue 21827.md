# Issue 21827: LaurentPolynomial: use __call__ in subs

archive/issues_021827.json:
```json
{
    "body": "At the moment, `subs` of a LaurentPolynomial implements its own subs, whereas polynomials, etc. use the more efficient `__call__` for doing so.\n\nIssue created by migration from https://trac.sagemath.org/ticket/22064\n\n",
    "created_at": "2016-12-16T08:00:07Z",
    "labels": [
        "algebra",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "LaurentPolynomial: use __call__ in subs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21827",
    "user": "@dkrenn"
}
```
At the moment, `subs` of a LaurentPolynomial implements its own subs, whereas polynomials, etc. use the more efficient `__call__` for doing so.

Issue created by migration from https://trac.sagemath.org/ticket/22064





---

archive/issue_comments_302838.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2016-12-16T08:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21827#issuecomment-302838",
    "user": "@dkrenn"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_302839.json:
```json
{
    "body": "The provided branch implements using __call__ and it is indeed more efficient: much less evaluation time is needed, in particular when having laurent polynomials with many terms.\n\nThe (minor) drawback\n\n```\nsage: L.<a,b> = LaurentPolynomialRing(ZZ)\nsage: (b^2/a + b/a^2).subs({a: SR('aa'), b: SR('bb')})\n(aa*bb^2 + bb)/aa^2\n```\n\n----\nNew commits:",
    "created_at": "2016-12-16T08:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21827#issuecomment-302839",
    "user": "@dkrenn"
}
```

The provided branch implements using __call__ and it is indeed more efficient: much less evaluation time is needed, in particular when having laurent polynomials with many terms.

The (minor) drawback

```
sage: L.<a,b> = LaurentPolynomialRing(ZZ)
sage: (b^2/a + b/a^2).subs({a: SR('aa'), b: SR('bb')})
(aa*bb^2 + bb)/aa^2
```

----
New commits:



---

archive/issue_comments_302840.json:
```json
{
    "body": "There is a failing doctest detected by the patchbot.\nWhy is the status \"needs_info\"?",
    "created_at": "2016-12-19T14:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21827#issuecomment-302840",
    "user": "@cheuberg"
}
```

There is a failing doctest detected by the patchbot.
Why is the status "needs_info"?



---

archive/issue_comments_302841.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-12-22T08:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21827#issuecomment-302841",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302842.json:
```json
{
    "body": "Replying to [comment:3 cheuberg]:\n> There is a failing doctest detected by the patchbot.\n> Why is the status \"needs_info\"?\n\nDoctest now fixed; this was exaxtly the (minor) drawback mentioned above. Now set to needs_review.",
    "created_at": "2016-12-22T08:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21827#issuecomment-302842",
    "user": "@dkrenn"
}
```

Replying to [comment:3 cheuberg]:
> There is a failing doctest detected by the patchbot.
> Why is the status "needs_info"?

Doctest now fixed; this was exaxtly the (minor) drawback mentioned above. Now set to needs_review.



---

archive/issue_comments_302843.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2016-12-22T08:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21827#issuecomment-302843",
    "user": "@dkrenn"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_302844.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-05T15:32:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21827#issuecomment-302844",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_302845.json:
```json
{
    "body": "LGTM.\n\nI rewrote the docstring, please cross-review.",
    "created_at": "2017-01-05T15:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21827#issuecomment-302845",
    "user": "@cheuberg"
}
```

LGTM.

I rewrote the docstring, please cross-review.



---

archive/issue_comments_302846.json:
```json
{
    "body": "Cross-reviewing done, LGTM.",
    "created_at": "2017-01-05T18:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21827#issuecomment-302846",
    "user": "@dkrenn"
}
```

Cross-reviewing done, LGTM.



---

archive/issue_comments_302847.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-01-05T18:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21827#issuecomment-302847",
    "user": "@dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_302848.json:
```json
{
    "body": "...and I would be fine with \"Authors: Daniel Krenn\", \"Reviewers: Clemens Heuberger\" as well, if you have any opinion on this...",
    "created_at": "2017-01-05T18:57:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21827#issuecomment-302848",
    "user": "@dkrenn"
}
```

...and I would be fine with "Authors: Daniel Krenn", "Reviewers: Clemens Heuberger" as well, if you have any opinion on this...



---

archive/issue_comments_302849.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-01-21T16:35:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21827",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21827#issuecomment-302849",
    "user": "@vbraun"
}
```

Resolution: fixed
