# Issue 13210: build docs for SymmetricGroupRepresentation(s)

Issue created by migration from Trac.

Original creator: dimpase

Original creation time: 2012-08-19 15:21:18

Assignee: mvngu

CC:  saliola aschilling

Currently, the docs for the functions in sage/combinat/symmetric_group_representations.py are not in the manual, as this file is not mentioned anywhere in the doctree.


---

Comment by dimpase created at 2012-08-19 15:24:48

Changing status from new to needs_review.


---

Comment by vbraun created at 2012-08-19 16:14:55

looks good to me


---

Comment by vbraun created at 2012-08-19 16:14:55

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-08-19 20:12:40

Please put a proper commit message in the patch.


---

Comment by jdemeyer created at 2012-08-19 20:12:40

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2012-08-20 06:33:00

Also, there are problems building the documentation:

```
dochtml.log:/release/merger/sage-5.3.rc0/local/lib/python2.7/site-packages/sage/combinat/symmetric_group_representations.py:docstring of sage.combinat.symmetric_group_representations.SymmetricGroupRepresentation:111: WARNING: Inline interpreted text or phrase reference start-string without end-string.
dochtml.log:/release/merger/sage-5.3.rc0/local/lib/python2.7/site-packages/sage/combinat/symmetric_group_representations.py:docstring of sage.combinat.symmetric_group_representations.SymmetricGroupRepresentations:62: WARNING: Inline interpreted text or phrase reference start-string without end-string.
```



---

Comment by dimpase created at 2012-08-20 07:26:03

Fixed both issues; for the latter, there was a typo (EXAMPLES: instead of EXAMPLES::) in `symmetric_group_representations.py`

(this time I did check that there are no warnings :-))


---

Comment by dimpase created at 2012-08-20 07:26:03

Changing status from needs_work to needs_review.


---

Comment by vbraun created at 2012-08-24 11:36:52

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2012-08-24 11:36:52

looks good to me


---

Comment by jdemeyer created at 2012-08-27 15:20:35

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2012-08-27 15:20:35

The documentation still doesn't build without warnings (in fact, your change introduced an additional warning):

```
dochtml.log:/release/merger/sage-5.3.rc1/local/lib/python2.7/site-packages/sage/combinat/symmetric_group_representations.py:docstring of sage.combinat.symmetric_group_representations.SymmetricGroupRepresentation:20: WARNING: Literal block expected; none found.
dochtml.log:/release/merger/sage-5.3.rc1/local/lib/python2.7/site-packages/sage/combinat/symmetric_group_representations.py:docstring of sage.combinat.symmetric_group_representations.SymmetricGroupRepresentation:111: WARNING: Inline interpreted text or phrase reference start-string without end-string.
dochtml.log:/release/merger/sage-5.3.rc1/local/lib/python2.7/site-packages/sage/combinat/symmetric_group_representations.py:docstring of sage.combinat.symmetric_group_representations.SymmetricGroupRepresentations:62: WARNING: Inline interpreted text or phrase reference start-string without end-string.
```



---

Comment by dimpase created at 2012-08-27 18:26:40

Replying to [comment:8 jdemeyer]:
> The documentation still doesn't build without warnings (in fact, your change introduced an additional warning):
> {{{
> dochtml.log:/release/merger/sage-5.3.rc1/local/lib/python2.7/site-packages/sage/combinat/symmetric_group_representations.py:docstring of sage.combinat.symmetric_group_representations.SymmetricGroupRepresentation:20: WARNING: Literal block expected; none found.
> dochtml.log:/release/merger/sage-5.3.rc1/local/lib/python2.7/site-packages/sage/combinat/symmetric_group_representations.py:docstring of sage.combinat.symmetric_group_representations.SymmetricGroupRepresentation:111: WARNING: Inline interpreted text or phrase reference start-string without end-string.
> dochtml.log:/release/merger/sage-5.3.rc1/local/lib/python2.7/site-packages/sage/combinat/symmetric_group_representations.py:docstring of sage.combinat.symmetric_group_representations.SymmetricGroupRepresentations:62: WARNING: Inline interpreted text or phrase reference start-string without end-string.
> }}}

Oops, I think when I tested this 1st time, I forgot to do `sage -b` to update the python files
in SAGELOCAL, so the update was ignored by Sphinx. In fact, my change (adding extra ':') had no effect.

But I have absolutely no clue why these bizzare warnings pop up...


---

Comment by vbraun created at 2012-08-27 18:36:01

The docstrings of the newly added file are probably broken in various places. I guess the patchbot doesn't build the documentation, so it doesn't catch sphinx errors...


---

Comment by dimpase created at 2012-08-28 08:48:54

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2012-08-28 08:48:54

There were errors in `REFERENCES:` formatting which made sphinx unhappy. Pathetically unhelpful warning messages from sphinx, I must say, akin to [Sphinx](http://en.wikipedia.org/wiki/Sphinx) riddles... 

Fixed. Please review.


---

Comment by tscrim created at 2012-10-01 06:47:40

Replying to [comment:12 dimpase]:
> There were errors in `REFERENCES:` formatting which made sphinx unhappy. Pathetically unhelpful warning messages from sphinx, I must say, akin to [Sphinx](http://en.wikipedia.org/wiki/Sphinx) riddles... 

I agree wholeheartedly.

> Fixed. Please review.

There are some errors in the documentation build (although no warnings were given from docbuild). In particular, the examples blocks in `SpechtRepresentations`, `YoungRepresentations_Orthogonal`, `YoungRepresentations_Seminormal`,  and `SymmetricGroupRepresentation_generic_class.to_character()`. Also every instance of a note block doesn't appear to be working, and the reference(s) aren't linked. Additionally I would put only one instance of the reference at the beginning of the file.

Once these are fixed then I can give it another review.


---

Comment by tscrim created at 2012-10-01 06:47:40

Changing status from needs_review to needs_work.


---

Comment by dimpase created at 2012-10-01 12:48:06

Replying to [comment:13 tscrim]:
> Replying to [comment:12 dimpase]: 
> There are some errors in the documentation build (although no warnings were given from docbuild). In particular, the examples blocks in `SpechtRepresentations`, `YoungRepresentations_Orthogonal`, `YoungRepresentations_Seminormal`,  and `SymmetricGroupRepresentation_generic_class.to_character()`. Also every instance of a note block doesn't appear to be working, and the reference(s) aren't linked. Additionally I would put only one instance of the reference at the beginning of the file.
> 
> Once these are fixed then I can give it another review.

I think the problem is in docstrings being put in the wrong places; e.g. 

```
class YoungRepresentation_Orthogonal(YoungRepresentation_generic):
    _default_ring = SR

    def __repr__(self):
        r"""
        String representation of self.

        EXAMPLES::
        ....
```

and not like

```
class YoungRepresentation_Orthogonal(YoungRepresentation_generic):
      r"""
      Orthogonal representation of the symmetric group corresponding to...

      EXAMPLES::
      ....
```


----

EDIT: <s>
But I have no idea how the docstrings should be placed when there is more that one instance of  `class YoungRepresentation_Orthogonal` present. Hell, I don't even have an idea what this means in Python! Different class constructors?</s>
 _Sorry, it's OK. I didn't notice that one is `YoungRepresentation_Orthogonal` and the other `YoungRepresentation`*s*`_Orthogonal`_
----

Anyhow, the purpose of opening this ticket was to merely put this functionality in some way into Sage docs, for without it it's simply not possible to find! Bad documentation is better than no documentation at all...

How about letting this ticket through, and opening another one, to fix docstrings in `sage/combinat/symmetric_group_representations` ?


---

Comment by dimpase created at 2012-10-01 12:56:04

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2012-10-01 13:16:16

Replying to [comment:15 dimpase]:

by the way, at the Sage prompt the docstrings for, say, `YoungRepresentation_Orthogonal` are as broken as in the `sphinx` output:

```
sage: from sage.combinat.symmetric_group_representations import YoungRepresentation_Orthogonal
sage: YoungRepresentation_Orthogonal?

Base Class:     <type 'type'>
String Form:    <class 'sage.combinat.symmetric_group_representations.YoungRepresentation_Orthogonal'>
Namespace:      Interactive
Loaded File:    /usr/local/src/sage/sage-5.4.beta1/local/lib/python2.7/site-packages/sage/combinat/symmetric_group_representations.py
Source File:    /usr/local/src/sage/sage-5.4.beta1/devel/sage/sage/combinat/symmetric_group_representations.py
Definition:     YoungRepresentation_Orthogonal(self, permutation)
Docstring:
       An irreducible representation of the symmetric group corresponding
       to "partition".
    
       For more information, see the documentation for
       "SymmetricGroupRepresentation".
    
       EXAMPLES:
    
          sage: spc = SymmetricGroupRepresentation([3])
          sage: spc([3,2,1])
          [1]
          sage: spc == loads(dumps(spc))
          True
    
          sage: spc = SymmetricGroupRepresentation([3], cache_matrices=False)
          sage: spc([3,2,1])
          [1]
          sage: spc == loads(dumps(spc))
          True
...
```



---

Comment by tscrim created at 2012-10-01 14:28:26

Replying to [comment:14 dimpase]:
> Anyhow, the purpose of opening this ticket was to merely put this functionality in some way into Sage docs, for without it it's simply not possible to find! Bad documentation is better than no documentation at all...
> 
> How about letting this ticket through, and opening another one, to fix docstrings in `sage/combinat/symmetric_group_representations` ?

What if we split the difference in that I will write a review patch fixing the docstrings, and you fold that in for the final patch?


---

Comment by dimpase created at 2012-10-01 15:04:01

Replying to [comment:17 tscrim]:
> Replying to [comment:14 dimpase]:
> > Anyhow, the purpose of opening this ticket was to merely put this functionality in some way into Sage docs, for without it it's simply not possible to find! Bad documentation is better than no documentation at all...
> > 
> > How about letting this ticket through, and opening another one, to fix docstrings in `sage/combinat/symmetric_group_representations` ?
> 
> What if we split the difference in that I will write a review patch fixing the docstrings, and you fold that in for the final patch?

Sure, please go ahead!


---

Comment by aschilling created at 2012-10-02 15:44:31

Travis, if you are going to fix the documentation it would be good to also specify which bases are used in each of the representations. I used this code a couple of days ago with a colleague and it differs from the conventions in Sagan's book.

Anne


---

Comment by tscrim created at 2012-10-02 17:23:25

I was just fixing the formatting, but I don't know this code. I could just put a warning in the documentation, or could you elaborate on this difference?


---

Comment by saliola created at 2012-10-02 17:31:13

I propose Anne's request be dealt with on a different ticket.


---

Comment by tscrim created at 2012-10-03 22:31:42

Here's the review patch and I've put a warning for now about the convention difference. Dima, once you fold, I'll give it a final look over and give it a positive review.


---

Comment by dimpase created at 2012-10-04 06:37:42

Changing status from needs_review to positive_review.


---

Attachment

OK, all good. The folded patch attached.


---

Comment by tscrim created at 2012-10-04 16:37:29

This does not work for me.

```
travis`@`travis-virtualbox:~/sage-5.4.beta1/devel/sage-reviews$ sage -hg qpush
applying trac_13382.patch
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh trac_13382.patch
```

From looking at the patch, it does not look like it was properly folded.

```
travis`@`travis-virtualbox:~/sage-5.4.beta1/devel/sage-reviews$ sage -hg qstatus
M doc/en/reference/combinat/algebra.rst
```



---

Comment by tscrim created at 2012-10-04 16:37:29

Changing status from positive_review to needs_work.


---

Comment by dimpase created at 2012-10-04 17:20:37

Replying to [comment:26 tscrim]:
> This does not work for me.
> {{{
> travis`@`travis-virtualbox:~/sage-5.4.beta1/devel/sage-reviews$ sage -hg qpush
> applying trac_13382.patch
> patch failed, unable to continue (try -v)
> patch failed, rejects left in working dir
> errors during apply, please fix and refresh trac_13382.patch
> }}}
> From looking at the patch, it does not look like it was properly folded.
> {{{
> travis`@`travis-virtualbox:~/sage-5.4.beta1/devel/sage-reviews$ sage -hg qstatus
> M doc/en/reference/combinat/algebra.rst
> }}}

It seems you are trying to apply it onto a modified repo.
I did check that it applies to unpatched `sage-5.4.rc0`. And, by the way, I don't even know what `qstatus` is.  Is it one of hg extensions? I suppose your last line indicates that you have something applied on the stack of patches, that conflicts with my patch.
Try again please...


---

Comment by dimpase created at 2012-10-04 17:20:37

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2012-10-06 04:29:00

I checked again on a pristine copy of `Sage-5.4.rc0`, the patch applies, the docs build and look as they should. So I take a liberty to give it a positive review. After all, it's 95% Travis' work.


---

Comment by dimpase created at 2012-10-06 04:29:00

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2012-10-06 05:24:07

Yes, it seems like it's only mine. Strange...I checked 3 times with no patches applies. *shrugs* However I really didn't do that much. Thank you for catching this doc omission.


---

Comment by jdemeyer created at 2012-10-17 21:00:30

Resolution: fixed
