# Issue 29218: Bug in incidence_matrix of CombinatorialPolyhedron

archive/issues_029218.json:
```json
{
    "body": "CC:  @jplab @kliem\n\nKeywords: polytope, combinatorialpolyhedron, incidence_matrix\n\nThe `incidence_matrix` method of a 0-dimensional `CombinatorialPolyhedron` returns an error:\n\n```\nsage: P = Polyhedron([[0]]); P\nA 0-dimensional polyhedron in ZZ^1 defined as the convex hull of 1 vertex\nsage: C = P.combinatorial_polyhedron()\nsage: C.incidence_matrix()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-7-dab311ba238f> in <module>()\n----> 1 C.incidence_matrix()\n...\nValueError: ``output_dimension`` must be the dimension of proper faces\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/29455\n\n",
    "created_at": "2020-04-03T12:08:49Z",
    "labels": [
        "geometry",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Bug in incidence_matrix of CombinatorialPolyhedron",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29218",
    "user": "@LaisRast"
}
```
CC:  @jplab @kliem

Keywords: polytope, combinatorialpolyhedron, incidence_matrix

The `incidence_matrix` method of a 0-dimensional `CombinatorialPolyhedron` returns an error:

```
sage: P = Polyhedron([[0]]); P
A 0-dimensional polyhedron in ZZ^1 defined as the convex hull of 1 vertex
sage: C = P.combinatorial_polyhedron()
sage: C.incidence_matrix()
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-7-dab311ba238f> in <module>()
----> 1 C.incidence_matrix()
...
ValueError: ``output_dimension`` must be the dimension of proper faces
```


Issue created by migration from https://trac.sagemath.org/ticket/29455





---

archive/issue_comments_414115.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-04-03T12:54:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414115",
    "user": "@kliem"
}
```

New commits:



---

archive/issue_comments_414116.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-04-03T12:54:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414116",
    "user": "@kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_414117.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-03T16:56:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414117",
    "user": "@LaisRast"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_414118.json:
```json
{
    "body": "This fixes the problem.",
    "created_at": "2020-04-03T16:56:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414118",
    "user": "@LaisRast"
}
```

This fixes the problem.



---

archive/issue_comments_414119.json:
```json
{
    "body": "Thanks",
    "created_at": "2020-04-03T16:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414119",
    "user": "@kliem"
}
```

Thanks



---

archive/issue_comments_414120.json:
```json
{
    "body": "See patchbots:\n\n```\nsage -t --long src/sage/geometry/polyhedron/combinatorial_polyhedron/base.pyx  # 2 doctests failed\n```\n",
    "created_at": "2020-04-07T18:18:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414120",
    "user": "@vbraun"
}
```

See patchbots:

```
sage -t --long src/sage/geometry/polyhedron/combinatorial_polyhedron/base.pyx  # 2 doctests failed
```




---

archive/issue_comments_414121.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-04-07T18:18:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414121",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_414122.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-07T18:30:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414122",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414123.json:
```json
{
    "body": "I'm sorry. I really don't know how that could have happened. It didn't even work for me.",
    "created_at": "2020-04-07T18:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414123",
    "user": "@kliem"
}
```

I'm sorry. I really don't know how that could have happened. It didn't even work for me.



---

archive/issue_comments_414124.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-07T18:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414124",
    "user": "@kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_414125.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-07T20:24:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414125",
    "user": "@LaisRast"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_414126.json:
```json
{
    "body": "Sorry, it is my mistake since I put it on \"positive review\".\nNow the tests look fine. So I will but it again on \"positive review\".",
    "created_at": "2020-04-07T20:24:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414126",
    "user": "@LaisRast"
}
```

Sorry, it is my mistake since I put it on "positive review".
Now the tests look fine. So I will but it again on "positive review".



---

archive/issue_comments_414127.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-12T15:34:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29218#issuecomment-414127",
    "user": "@vbraun"
}
```

Resolution: fixed
