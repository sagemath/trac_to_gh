# Issue 30076: Doc: Add instructions how to run a remote SageMath jupyter kernel

archive/issues_030076.json:
```json
{
    "body": "CC:  @nbruin @embray @slel @jcamp0x2a\n\n(Local jupyter notebook, remote sage kernel; #30306 3ABC)\n\nSuch instructions should be added to \nhttps://doc.sagemath.org/html/en/installation/launching.html\n\nIssue created by migration from https://trac.sagemath.org/ticket/30313\n\n",
    "created_at": "2020-08-07T17:49:56Z",
    "labels": [
        "documentation",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Doc: Add instructions how to run a remote SageMath jupyter kernel",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30076",
    "user": "@mkoeppe"
}
```
CC:  @nbruin @embray @slel @jcamp0x2a

(Local jupyter notebook, remote sage kernel; #30306 3ABC)

Such instructions should be added to 
https://doc.sagemath.org/html/en/installation/launching.html

Issue created by migration from https://trac.sagemath.org/ticket/30313





---

archive/issue_comments_427584.json:
```json
{
    "body": "On Windows, running the notebook in a native python installation and connecting to the Sage jupyter kernel running in cygwin would also be an attractive deployment option.",
    "created_at": "2020-08-08T19:04:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30076#issuecomment-427584",
    "user": "@mkoeppe"
}
```

On Windows, running the notebook in a native python installation and connecting to the Sage jupyter kernel running in cygwin would also be an attractive deployment option.



---

archive/issue_comments_427585.json:
```json
{
    "body": "The title of this ticket seems to suggest a setup where the jupyter server process runs on one machine and the sage kernel runs on another. That's a tricky set-up. I don't think it's one we can expect to support any time soon. It opens a whole new can of worms where the Jupyter server file browser may show entirely different files than the ones that are available to the kernel process, since there might not be a shared filesystem between the two machines.\n\nAnother other problem is the added latency: In that set-up you'd have browser <-> jupyter server <-> kernel, with each of the arrows really needing to go over networking protocols. With the guarantee that the server and the kernel process are on the same machine, the server <-> kernel communication should end up being just local pipes, for which the operating system hopefully can figure out nice optimizations.\n\nThird, the sage kernel needs quite a few plug-ins. Keeping those synced across different machines will be even more complicated. Not impossible, but I don't think advisable unless really required.\n\nI think all we need is instructions to connect a browser to a remote server, which isn't really a sage-specific thing (but probably something that's worth helping people with).",
    "created_at": "2020-08-20T01:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30076#issuecomment-427585",
    "user": "@nbruin"
}
```

The title of this ticket seems to suggest a setup where the jupyter server process runs on one machine and the sage kernel runs on another. That's a tricky set-up. I don't think it's one we can expect to support any time soon. It opens a whole new can of worms where the Jupyter server file browser may show entirely different files than the ones that are available to the kernel process, since there might not be a shared filesystem between the two machines.

Another other problem is the added latency: In that set-up you'd have browser <-> jupyter server <-> kernel, with each of the arrows really needing to go over networking protocols. With the guarantee that the server and the kernel process are on the same machine, the server <-> kernel communication should end up being just local pipes, for which the operating system hopefully can figure out nice optimizations.

Third, the sage kernel needs quite a few plug-ins. Keeping those synced across different machines will be even more complicated. Not impossible, but I don't think advisable unless really required.

I think all we need is instructions to connect a browser to a remote server, which isn't really a sage-specific thing (but probably something that's worth helping people with).



---

archive/issue_comments_427586.json:
```json
{
    "body": "Replying to [comment:4 nbruin]:\n> The title of this ticket seems to suggest a setup where the jupyter server process runs on one machine and the sage kernel runs on another. \n\nThat's right.\n\n> Another other problem is the added latency: In that set-up you'd have browser <-> jupyter server <-> kernel, with each of the arrows really needing to go over networking protocols. With the guarantee that the server and the kernel process are on the same machine, the server <-> kernel communication should end up being just local pipes, for which the operating system hopefully can figure out nice optimizations.\n\nActually, the use case is exactly to improve latency, such as in an HPC environment. The head node of a shared cluster typically has abysmal interactive performance because dozens of users run stuff on it. One does not want to run the user interface on it! \n\n> Third, the sage kernel needs quite a few plug-ins. Keeping those synced across different machines will be even more complicated. Not impossible, but I don't think advisable unless really required.\n\nWell, for example #30123 intends to fix exactly this: Replace ad-hoc installation of stuff into the notebook server by a more disciplined installation scheme: nbextensions. These can be managed and inspected in a robust and user friendly way.",
    "created_at": "2020-08-20T01:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30076#issuecomment-427586",
    "user": "@mkoeppe"
}
```

Replying to [comment:4 nbruin]:
> The title of this ticket seems to suggest a setup where the jupyter server process runs on one machine and the sage kernel runs on another. 

That's right.

> Another other problem is the added latency: In that set-up you'd have browser <-> jupyter server <-> kernel, with each of the arrows really needing to go over networking protocols. With the guarantee that the server and the kernel process are on the same machine, the server <-> kernel communication should end up being just local pipes, for which the operating system hopefully can figure out nice optimizations.

Actually, the use case is exactly to improve latency, such as in an HPC environment. The head node of a shared cluster typically has abysmal interactive performance because dozens of users run stuff on it. One does not want to run the user interface on it! 

> Third, the sage kernel needs quite a few plug-ins. Keeping those synced across different machines will be even more complicated. Not impossible, but I don't think advisable unless really required.

Well, for example #30123 intends to fix exactly this: Replace ad-hoc installation of stuff into the notebook server by a more disciplined installation scheme: nbextensions. These can be managed and inspected in a robust and user friendly way.



---

archive/issue_comments_427587.json:
```json
{
    "body": "I've added a few links. (I haven't used any of these packages myself yet.)",
    "created_at": "2020-08-20T01:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30076#issuecomment-427587",
    "user": "@mkoeppe"
}
```

I've added a few links. (I haven't used any of these packages myself yet.)



---

archive/issue_comments_427588.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30076#issuecomment-427588",
    "user": "@mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.
