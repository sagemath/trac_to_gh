# Issue 14706: to_presentation method for permutation groups

Issue created by migration from https://trac.sagemath.org/ticket/14910

Original creator: dshurbert

Original creation time: 2013-07-18 19:52:27

CC:  rbeezer vbraun mmarco

Keywords: group presentations

The permutation group method to_presentation wraps the GAP function ``IsomorphismFpGroupByGenerators`` which yields an isomorphism from a given group to an isomorphic finite presentation. ``to_presentation`` takes the image of the isomorphism returned by this function and wraps it as a Sage finitely presented group.


```
sage: G = DihedralGroup(8); G
Dihedral group of order 16 as a permutation group
sage: G.to_presentation()
Finitely presented group < a, b | b^2, b*a^-1*b*a^-1, a^8 >
```

Depends on #14790 which gives the python generator object needed for variable names.

__Apply__

1 [attachment:trac_...patch]


---

Comment by dshurbert created at 2013-07-18 20:55:39

Variable names for free group generators are manually changed from an "f.1" and "f.2" style to an "a" and "b" style. I use ``sage_eval`` and a dictionary binding old generator names carried over from GAP to lexicographical generator names. If anyone has a better way to do this renaming process please don't hesitate to comment.


---

Comment by vbraun created at 2013-07-19 13:19:31

I don't like the whole conversion to string and then evaluating it. You should convert the generators to Tietze words which are just tuples of integers and hence don't depend on the generator names.

For consistency with the other group theory code, I'd rather call the method `as_finitely_presented_group()`. For example, we also have

```
sage: G.<a,b> = FreeGroup()
sage: H = G / (a^2, b^3, a*b*~a*~b)
sage: H.as_permutation_group()
Permutation Group with generators [(1,2)(3,5)(4,6), (1,3,4)(2,5,6)]
```

Small nitpicks:
* Empty line after the title ("Return a finitely presented group...")
* Two dashes after input: `- ``reduced`` --``, this is the ReST code for en dash


---

Comment by dshurbert created at 2013-07-19 20:35:02

Just made suggested changes, using the Tietze word of each relation was definitely a better way to approach the problem. I am currently waiting on 5.11.beta3 to finish building on my machine so I can test the current output against the new printing. The same goes for #14791.


---

Comment by rbeezer created at 2013-07-20 09:23:00

Comments:

1.  Volker's Tietze word suggestion is a good one.  Capitalize Tietze where you use it, isn't a person's name?

2.  `to_` or `as_`?  Seems Sage uses "to" more often, but you do see "as" in group theory code.

3.  Drop # in text of TESTS in doc tests and make this actual text that will appear properly in documentation.

4.  When you illustrate "reduced" in doctest, write  `(reduced=True)` to make it clearer what you are illustrating.

5.  Drop `sage_eval` import.  Check othrs-

6.  In code.  I'm sympathetic to aligning equals sign in four assignments, but I would drop it.


---

Comment by dshurbert created at 2013-07-20 20:08:00

Made requested changes. I left the method name as `as_` because it fits with the `fpgroup.as_permutation_group` style. I rebased the patch to 5.11.beta3 and fixed errors arising from the new printing of group presentations from GAP.


---

Comment by vbraun created at 2013-07-26 02:52:42

Changing status from new to needs_review.


---

Comment by vbraun created at 2013-07-26 02:52:42

Ready for review?

Its better to break overly long lines, e.g.

```
        ret_rls = tuple([F(rel_word.TietzeWordAbstractWord(image_gens).sage()) 
                         for rel_word in image_fp.RelatorsOfFpGroup()])  
```

instead of

```
        ret_rls = tuple([F(rel_word.TietzeWordAbstractWord(image_gens).sage()) for rel_word in image_fp.RelatorsOfFpGroup()])  
```



---

Comment by dshurbert created at 2013-07-26 20:28:56

Just shortened overly long line. Ready for review.


---

Comment by vbraun created at 2013-07-29 16:11:39

Looks good to me


---

Comment by vbraun created at 2013-07-29 16:11:39

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-08-15 17:06:49

The patch needs a proper commit message.


---

Comment by jdemeyer created at 2013-08-15 17:06:49

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2013-08-17 11:20:28

There is a conflict with #14791: both patches add the same reference `[TWGT]`.


---

Comment by dshurbert created at 2013-08-19 19:16:45

Replacement patch


---

Comment by dshurbert created at 2013-08-19 19:17:35

Changing status from needs_work to needs_review.


---

Attachment

Fixed reference conflict, added proper commit message.


---

Comment by jdemeyer created at 2013-08-21 09:53:47

Resolution: fixed
