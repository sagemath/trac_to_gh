# Issue 14706: to_presentation method for permutation groups

archive/issues_014706.json:
```json
{
    "body": "CC:  rbeezer vbraun mmarco\n\nKeywords: group presentations\n\nThe permutation group method to_presentation wraps the GAP function ``IsomorphismFpGroupByGenerators`` which yields an isomorphism from a given group to an isomorphic finite presentation. ``to_presentation`` takes the image of the isomorphism returned by this function and wraps it as a Sage finitely presented group.\n\n\n```\nsage: G = DihedralGroup(8); G\nDihedral group of order 16 as a permutation group\nsage: G.to_presentation()\nFinitely presented group < a, b | b^2, b*a^-1*b*a^-1, a^8 >\n```\n\nDepends on #14790 which gives the python generator object needed for variable names.\n\n__Apply__\n\n1 [attachment:trac_...patch]\n\nIssue created by migration from https://trac.sagemath.org/ticket/14910\n\n",
    "created_at": "2013-07-18T19:52:27Z",
    "labels": [
        "group theory",
        "minor",
        "enhancement"
    ],
    "title": "to_presentation method for permutation groups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14706",
    "user": "dshurbert"
}
```
CC:  rbeezer vbraun mmarco

Keywords: group presentations

The permutation group method to_presentation wraps the GAP function ``IsomorphismFpGroupByGenerators`` which yields an isomorphism from a given group to an isomorphic finite presentation. ``to_presentation`` takes the image of the isomorphism returned by this function and wraps it as a Sage finitely presented group.


```
sage: G = DihedralGroup(8); G
Dihedral group of order 16 as a permutation group
sage: G.to_presentation()
Finitely presented group < a, b | b^2, b*a^-1*b*a^-1, a^8 >
```

Depends on #14790 which gives the python generator object needed for variable names.

__Apply__

1 [attachment:trac_...patch]

Issue created by migration from https://trac.sagemath.org/ticket/14910





---

archive/issue_comments_187376.json:
```json
{
    "body": "Variable names for free group generators are manually changed from an \"f.1\" and \"f.2\" style to an \"a\" and \"b\" style. I use ``sage_eval`` and a dictionary binding old generator names carried over from GAP to lexicographical generator names. If anyone has a better way to do this renaming process please don't hesitate to comment.",
    "created_at": "2013-07-18T20:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187376",
    "user": "dshurbert"
}
```

Variable names for free group generators are manually changed from an "f.1" and "f.2" style to an "a" and "b" style. I use ``sage_eval`` and a dictionary binding old generator names carried over from GAP to lexicographical generator names. If anyone has a better way to do this renaming process please don't hesitate to comment.



---

archive/issue_comments_187377.json:
```json
{
    "body": "I don't like the whole conversion to string and then evaluating it. You should convert the generators to Tietze words which are just tuples of integers and hence don't depend on the generator names.\n\nFor consistency with the other group theory code, I'd rather call the method `as_finitely_presented_group()`. For example, we also have\n\n```\nsage: G.<a,b> = FreeGroup()\nsage: H = G / (a^2, b^3, a*b*~a*~b)\nsage: H.as_permutation_group()\nPermutation Group with generators [(1,2)(3,5)(4,6), (1,3,4)(2,5,6)]\n```\n\nSmall nitpicks:\n* Empty line after the title (\"Return a finitely presented group...\")\n* Two dashes after input: `- ``reduced`` --``, this is the ReST code for en dash",
    "created_at": "2013-07-19T13:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187377",
    "user": "vbraun"
}
```

I don't like the whole conversion to string and then evaluating it. You should convert the generators to Tietze words which are just tuples of integers and hence don't depend on the generator names.

For consistency with the other group theory code, I'd rather call the method `as_finitely_presented_group()`. For example, we also have

```
sage: G.<a,b> = FreeGroup()
sage: H = G / (a^2, b^3, a*b*~a*~b)
sage: H.as_permutation_group()
Permutation Group with generators [(1,2)(3,5)(4,6), (1,3,4)(2,5,6)]
```

Small nitpicks:
* Empty line after the title ("Return a finitely presented group...")
* Two dashes after input: `- ``reduced`` --``, this is the ReST code for en dash



---

archive/issue_comments_187378.json:
```json
{
    "body": "Just made suggested changes, using the Tietze word of each relation was definitely a better way to approach the problem. I am currently waiting on 5.11.beta3 to finish building on my machine so I can test the current output against the new printing. The same goes for #14791.",
    "created_at": "2013-07-19T20:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187378",
    "user": "dshurbert"
}
```

Just made suggested changes, using the Tietze word of each relation was definitely a better way to approach the problem. I am currently waiting on 5.11.beta3 to finish building on my machine so I can test the current output against the new printing. The same goes for #14791.



---

archive/issue_comments_187379.json:
```json
{
    "body": "Comments:\n\n1.  Volker's Tietze word suggestion is a good one.  Capitalize Tietze where you use it, isn't a person's name?\n\n2.  `to_` or `as_`?  Seems Sage uses \"to\" more often, but you do see \"as\" in group theory code.\n\n3.  Drop # in text of TESTS in doc tests and make this actual text that will appear properly in documentation.\n\n4.  When you illustrate \"reduced\" in doctest, write  `(reduced=True)` to make it clearer what you are illustrating.\n\n5.  Drop `sage_eval` import.  Check othrs-\n\n6.  In code.  I'm sympathetic to aligning equals sign in four assignments, but I would drop it.",
    "created_at": "2013-07-20T09:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187379",
    "user": "rbeezer"
}
```

Comments:

1.  Volker's Tietze word suggestion is a good one.  Capitalize Tietze where you use it, isn't a person's name?

2.  `to_` or `as_`?  Seems Sage uses "to" more often, but you do see "as" in group theory code.

3.  Drop # in text of TESTS in doc tests and make this actual text that will appear properly in documentation.

4.  When you illustrate "reduced" in doctest, write  `(reduced=True)` to make it clearer what you are illustrating.

5.  Drop `sage_eval` import.  Check othrs-

6.  In code.  I'm sympathetic to aligning equals sign in four assignments, but I would drop it.



---

archive/issue_comments_187380.json:
```json
{
    "body": "Made requested changes. I left the method name as `as_` because it fits with the `fpgroup.as_permutation_group` style. I rebased the patch to 5.11.beta3 and fixed errors arising from the new printing of group presentations from GAP.",
    "created_at": "2013-07-20T20:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187380",
    "user": "dshurbert"
}
```

Made requested changes. I left the method name as `as_` because it fits with the `fpgroup.as_permutation_group` style. I rebased the patch to 5.11.beta3 and fixed errors arising from the new printing of group presentations from GAP.



---

archive/issue_comments_187381.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-07-26T02:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187381",
    "user": "vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_187382.json:
```json
{
    "body": "Ready for review?\n\nIts better to break overly long lines, e.g.\n\n```\n        ret_rls = tuple([F(rel_word.TietzeWordAbstractWord(image_gens).sage()) \n                         for rel_word in image_fp.RelatorsOfFpGroup()])  \n```\n\ninstead of\n\n```\n        ret_rls = tuple([F(rel_word.TietzeWordAbstractWord(image_gens).sage()) for rel_word in image_fp.RelatorsOfFpGroup()])  \n```\n",
    "created_at": "2013-07-26T02:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187382",
    "user": "vbraun"
}
```

Ready for review?

Its better to break overly long lines, e.g.

```
        ret_rls = tuple([F(rel_word.TietzeWordAbstractWord(image_gens).sage()) 
                         for rel_word in image_fp.RelatorsOfFpGroup()])  
```

instead of

```
        ret_rls = tuple([F(rel_word.TietzeWordAbstractWord(image_gens).sage()) for rel_word in image_fp.RelatorsOfFpGroup()])  
```




---

archive/issue_comments_187383.json:
```json
{
    "body": "Just shortened overly long line. Ready for review.",
    "created_at": "2013-07-26T20:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187383",
    "user": "dshurbert"
}
```

Just shortened overly long line. Ready for review.



---

archive/issue_comments_187384.json:
```json
{
    "body": "Looks good to me",
    "created_at": "2013-07-29T16:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187384",
    "user": "vbraun"
}
```

Looks good to me



---

archive/issue_comments_187385.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-07-29T16:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187385",
    "user": "vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_187386.json:
```json
{
    "body": "The patch needs a proper commit message.",
    "created_at": "2013-08-15T17:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187386",
    "user": "jdemeyer"
}
```

The patch needs a proper commit message.



---

archive/issue_comments_187387.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-08-15T17:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187387",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_187388.json:
```json
{
    "body": "There is a conflict with #14791: both patches add the same reference `[TWGT]`.",
    "created_at": "2013-08-17T11:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187388",
    "user": "jdemeyer"
}
```

There is a conflict with #14791: both patches add the same reference `[TWGT]`.



---

archive/issue_comments_187389.json:
```json
{
    "body": "Replacement patch",
    "created_at": "2013-08-19T19:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187389",
    "user": "dshurbert"
}
```

Replacement patch



---

archive/issue_comments_187390.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-08-19T19:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187390",
    "user": "dshurbert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_187391.json:
```json
{
    "body": "Attachment [trac_14910_to_presentation.patch](tarball://root/attachments/some-uuid/ticket14910/trac_14910_to_presentation.patch) by dshurbert created at 2013-08-19 19:17:35\n\nFixed reference conflict, added proper commit message.",
    "created_at": "2013-08-19T19:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187391",
    "user": "dshurbert"
}
```

Attachment [trac_14910_to_presentation.patch](tarball://root/attachments/some-uuid/ticket14910/trac_14910_to_presentation.patch) by dshurbert created at 2013-08-19 19:17:35

Fixed reference conflict, added proper commit message.



---

archive/issue_comments_187392.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-21T09:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14706#issuecomment-187392",
    "user": "jdemeyer"
}
```

Resolution: fixed
