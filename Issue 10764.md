# Issue 10764: Make pari support SAGE_SPKG_INSTALL_DOCS

Issue created by migration from https://trac.sagemath.org/ticket/10830

Original creator: jason

Original creation time: 2011-02-23 01:54:42

Assignee: tbd

This ticket implements #10823 for pari. New spkg at  Â http://sage.math.washington.edu/home/jason/pari-2.4.3.alpha.p1.spkg


---

Comment by jason created at 2011-02-23 01:55:27

Changing status from new to needs_review.


---

Comment by drkirkby created at 2011-03-01 15:28:42

See comments on #10828


---

Comment by drkirkby created at 2011-03-01 15:28:42

Changing status from needs_review to needs_work.


---

Attachment

FYI Only---already applied to spkg.


---

Comment by jason created at 2011-03-01 18:28:39

Changing status from needs_work to needs_review.


---

Comment by jason created at 2011-03-01 18:28:39

New spkg up.


---

Comment by drkirkby created at 2011-03-02 09:25:00

The '-r' is unnecessary on the 'cp' command. 

I think I know what you are trying to achieve, but be warned this syntax would never work if there were pdf files in sub-directories. Luckily in this case there are not, so a simple 'cp', with no options, will do. 

If there were however any PDFs in sub-directories, and it was not possible to do a simple cp -r, because of other files, then one would probably use 'find' to locate the PDF files and tar to copy them from one place and put them in another. The syntax for doing this is non-trivial, and would be something like that below, where one:

 * Uses 'find' to find all the PDF files.
 * Uses 'tar' to create an archive of the PDF files, but instead of writing it to an intermediate file, one writes the archive on standard output.
 * Uses 'cd' to change to the directory where the files need to be extracted.
 * Uses 'tar', which reads from standard input, to extract the files written by the other tar. 


```
tar cf - `find doc -name '*.pdf'` | ( cd "$SAGE_ROOT/local/share/doc/pari"; tar xfp -)
```


Note the above is untested. 

In this case, simply remove the '-r' and what you have will be get a positive review. 

Dave


---

Comment by drkirkby created at 2011-03-02 09:25:00

Changing status from needs_review to needs_work.


---

Comment by jason created at 2011-03-02 14:10:29

Good catch!  The -r was mistakenly copied.  There are no subdirectories in this case.


---

Comment by jason created at 2011-04-14 13:53:48

See #11197 for building docs after sage is built.


---

Comment by mkoeppe created at 2021-12-02 01:11:42

outdated, should close


---

Comment by mkoeppe created at 2021-12-02 01:11:42

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2021-12-02 23:37:38

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-12-03 18:41:01

Resolution: invalid
