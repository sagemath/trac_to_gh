# Issue 23155: Wrong certificate from is_relatively_complemented

Issue created by migration from https://trac.sagemath.org/ticket/23392

Original creator: jmantysalo

Original creation time: 2017-07-09 19:37:58

CC:  tscrim chapoton


```
L = LatticePoset(DiGraph('IYOS`G?CE?@?C?_@??'))
L.is_relatively_complemented(certificate=True)
```


May output `(False, (1, 8, 9))`, but the certificate should be `(7, 8, 9)`. The bug may not be visible in all architechtures.


---

Comment by jmantysalo created at 2017-07-10 08:35:57

Corrected. Test code:


```
for i in range(1000):
    L = Posets.RandomLattice(10, 0.99)
    result = L.is_relatively_complemented(certificate=True)
    if not result[0]:
        a, b, c = result[1]
        ac = L.interval(a, c)
        if len(ac) != 3 or b != ac[1]:
            print("BUG!")
            break
else:
    print("All OK")
```


Contains also three non-related trivial "are are" typos.
----
New commits:


---

Comment by jmantysalo created at 2017-07-10 08:35:57

Changing status from new to needs_review.


---

Comment by chapoton created at 2017-07-10 09:27:46

Could you please correct another typo (same line as the first "are are"):

```
when these are not stongly
```

should be "strongly"

once done, you can set to positive


---

Comment by git created at 2017-07-10 09:32:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2017-07-10 09:33:47

Replying to [comment:3 chapoton]:

> {{{
> when these are not stongly
> }}}
> should be "strongly"

Done. Good catch, thanks.


---

Comment by jmantysalo created at 2017-07-10 09:33:47

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-07-26 22:12:13

Resolution: fixed
