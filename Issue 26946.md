# Issue 26946: py3: fix doctest in generic_graph (part 5)

archive/issues_026946.json:
```json
{
    "body": "CC:  @jfraymond\n\nKeywords: py3, graph\n\nFix doctests in\n- `lex_BFS`: mark some doctests as `py2` or `py3`\n- `_color_by_label`: mark some doctests as `py2` or `py3`\n- `layout_extend_randomly`: mark some doctests as `py2` or `py3`\n\nIssue created by migration from https://trac.sagemath.org/ticket/27183\n\n",
    "created_at": "2019-01-31T13:31:47Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "py3: fix doctest in generic_graph (part 5)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26946",
    "user": "@dcoudert"
}
```
CC:  @jfraymond

Keywords: py3, graph

Fix doctests in
- `lex_BFS`: mark some doctests as `py2` or `py3`
- `_color_by_label`: mark some doctests as `py2` or `py3`
- `layout_extend_randomly`: mark some doctests as `py2` or `py3`

Issue created by migration from https://trac.sagemath.org/ticket/27183





---

archive/issue_comments_379081.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-01-31T13:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26946#issuecomment-379081",
    "user": "@dcoudert"
}
```

New commits:



---

archive/issue_comments_379082.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-01-31T13:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26946#issuecomment-379082",
    "user": "@dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_379083.json:
```json
{
    "body": "Hello,\n\nwhen running the tests on `generic_graph.py` I got:\n\n```\n**********************************************************************\nFile \"src/sage/graphs/generic_graph.py\", line 18636, in sage.graphs.generic_graph.GenericGraph.layout_extend_randomly\nFailed example:\n    H.layout_extend_randomly({('0', 0): (0, 0), ('1', 1): (1, 1)})  # py3\nExpected:\n    {('0', 0): (0, 0),\n     ('0', 1): [0.1114..., 0.514...],\n     ('1', 0): [0.0446..., 0.332...],\n     ('1', 1): (1, 1)}\nGot:\n    {('0', 0): (0, 0),\n     ('0', 1): [0.04468968524815642, 0.332490606442413],\n     ('1', 0): [0.111439293741037, 0.5143475134191677],\n     ('1', 1): (1, 1)}\n**********************************************************************\n```\n\nIt is not surprising as the results are supposed to be random.\nIs there a way to specify this in the doctests? (or to set the random seed to a fixed value before running the tests?)",
    "created_at": "2019-02-13T08:08:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26946#issuecomment-379083",
    "user": "@jfraymond"
}
```

Hello,

when running the tests on `generic_graph.py` I got:

```
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 18636, in sage.graphs.generic_graph.GenericGraph.layout_extend_randomly
Failed example:
    H.layout_extend_randomly({('0', 0): (0, 0), ('1', 1): (1, 1)})  # py3
Expected:
    {('0', 0): (0, 0),
     ('0', 1): [0.1114..., 0.514...],
     ('1', 0): [0.0446..., 0.332...],
     ('1', 1): (1, 1)}
Got:
    {('0', 0): (0, 0),
     ('0', 1): [0.04468968524815642, 0.332490606442413],
     ('1', 0): [0.111439293741037, 0.5143475134191677],
     ('1', 1): (1, 1)}
**********************************************************************
```

It is not surprising as the results are supposed to be random.
Is there a way to specify this in the doctests? (or to set the random seed to a fixed value before running the tests?)



---

archive/issue_comments_379084.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-13T08:57:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26946#issuecomment-379084",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_379085.json:
```json
{
    "body": "I changed the doctest to mark the output as random and added a test on the bounding box.",
    "created_at": "2019-02-13T09:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26946#issuecomment-379085",
    "user": "@dcoudert"
}
```

I changed the doctest to mark the output as random and added a test on the bounding box.



---

archive/issue_comments_379086.json:
```json
{
    "body": "Thank you.",
    "created_at": "2019-02-13T17:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26946#issuecomment-379086",
    "user": "@jfraymond"
}
```

Thank you.



---

archive/issue_comments_379087.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-02-13T17:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26946#issuecomment-379087",
    "user": "@jfraymond"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_379088.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-02-14T19:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26946",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26946#issuecomment-379088",
    "user": "@vbraun"
}
```

Resolution: fixed
