# Issue 26946: py3: fix doctest in generic_graph (part 5)

Issue created by migration from https://trac.sagemath.org/ticket/27183

Original creator: dcoudert

Original creation time: 2019-01-31 13:31:47

CC:  @jfraymond

Keywords: py3, graph

Fix doctests in
- `lex_BFS`: mark some doctests as `py2` or `py3`
- `_color_by_label`: mark some doctests as `py2` or `py3`
- `layout_extend_randomly`: mark some doctests as `py2` or `py3`


---

Comment by dcoudert created at 2019-01-31 13:32:39

New commits:


---

Comment by dcoudert created at 2019-01-31 13:32:39

Changing status from new to needs_review.


---

Comment by @jfraymond created at 2019-02-13 08:08:36

Hello,

when running the tests on `generic_graph.py` I got:

```
**********************************************************************
File "src/sage/graphs/generic_graph.py", line 18636, in sage.graphs.generic_graph.GenericGraph.layout_extend_randomly
Failed example:
    H.layout_extend_randomly({('0', 0): (0, 0), ('1', 1): (1, 1)})  # py3
Expected:
    {('0', 0): (0, 0),
     ('0', 1): [0.1114..., 0.514...],
     ('1', 0): [0.0446..., 0.332...],
     ('1', 1): (1, 1)}
Got:
    {('0', 0): (0, 0),
     ('0', 1): [0.04468968524815642, 0.332490606442413],
     ('1', 0): [0.111439293741037, 0.5143475134191677],
     ('1', 1): (1, 1)}
**********************************************************************
```

It is not surprising as the results are supposed to be random.
Is there a way to specify this in the doctests? (or to set the random seed to a fixed value before running the tests?)


---

Comment by git created at 2019-02-13 08:57:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2019-02-13 09:07:48

I changed the doctest to mark the output as random and added a test on the bounding box.


---

Comment by @jfraymond created at 2019-02-13 17:14:42

Thank you.


---

Comment by @jfraymond created at 2019-02-13 17:14:42

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-02-14 19:45:35

Resolution: fixed
