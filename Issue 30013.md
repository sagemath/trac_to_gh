# Issue 30013: FiniteRankFreeModule: Simplify unique representation code for dependent modules

Issue created by migration from https://trac.sagemath.org/ticket/30250

Original creator: mkoeppe

Original creation time: 2020-07-30 02:09:26

CC:  egourgoulhon tscrim @mjungmath

A `FiniteRankFreeModule` instance keeps track of all dependent modules in dictionaries `._tensor_modules`, `._exterior_powers`, `._dual_exterior_powers`.

This is done for two purposes:
 - caching / unique representation of the dependent modules
 - for updating all dependent modules in `FreeModuleBasis.__init__`

In this ticket, we give these two purposes two separate implementation mechanisms. 

This will make it easier to implement new dependent modules, such as tensor products of several modules.

A set `._all_modules` will now keep track of the dependent modules.




---

Comment by mkoeppe created at 2020-07-30 02:45:05

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-07-30 02:45:05

New commits:


---

Comment by egourgoulhon created at 2020-07-30 12:49:00

Changing status from needs_review to positive_review.


---

Comment by egourgoulhon created at 2020-07-30 12:49:00

LGTM. Thanks!


---

Comment by mkoeppe created at 2020-07-30 15:33:07

Thanks!


---

Comment by vbraun created at 2020-08-07 19:06:31

Resolution: fixed
