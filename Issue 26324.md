# Issue 26324: clean static_sparse_graph.pyx

archive/issues_026324.json:
```json
{
    "body": "CC:  @tscrim @fchapoton @nthiery\n\nKeywords: py3, graph\n\nDone in this ticket:\n- update the module's documentation as we forgot to do it in #26447\n- use `vertex_list` in several methods and also free data structure\n- PEP8\n\nNot done:\n- method `spectral_radius` is untouched to avoid conflict with #26559\n\nIssue created by migration from https://trac.sagemath.org/ticket/26561\n\n",
    "created_at": "2018-10-26T17:21:52Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "clean static_sparse_graph.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26324",
    "user": "@dcoudert"
}
```
CC:  @tscrim @fchapoton @nthiery

Keywords: py3, graph

Done in this ticket:
- update the module's documentation as we forgot to do it in #26447
- use `vertex_list` in several methods and also free data structure
- PEP8

Not done:
- method `spectral_radius` is untouched to avoid conflict with #26559

Issue created by migration from https://trac.sagemath.org/ticket/26561





---

archive/issue_comments_370768.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-10-26T17:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26324",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26324#issuecomment-370768",
    "user": "@dcoudert"
}
```

New commits:



---

archive/issue_comments_370769.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-10-26T17:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26324",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26324#issuecomment-370769",
    "user": "@dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_370770.json:
```json
{
    "body": "Little thing, but is is probably better to do `Integer(count[i]/2)` -> `Integer(count[i]//2)` (do we even need the `Integer` after that change?). Otherwise LGTM.",
    "created_at": "2018-10-27T02:18:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26324",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26324#issuecomment-370770",
    "user": "@tscrim"
}
```

Little thing, but is is probably better to do `Integer(count[i]/2)` -> `Integer(count[i]//2)` (do we even need the `Integer` after that change?). Otherwise LGTM.



---

archive/issue_comments_370771.json:
```json
{
    "body": "Actually, the patchbot has one seemingly real failure:\n\n```\nsage -t --long src/sage/categories/finite_semigroups.py  # 1 doctest failed\n```\n\ndue to a change in the output order.",
    "created_at": "2018-10-27T02:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26324",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26324#issuecomment-370771",
    "user": "@tscrim"
}
```

Actually, the patchbot has one seemingly real failure:

```
sage -t --long src/sage/categories/finite_semigroups.py  # 1 doctest failed
```

due to a change in the output order.



---

archive/issue_comments_370772.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-27T06:45:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26324",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26324#issuecomment-370772",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_370773.json:
```json
{
    "body": "Without `Integer`, we get:\n\n```\nsage: triangles_count(graphs.PetersenGraph())\n{0: 0L, 1: 0L, 2: 0L, 3: 0L, 4: 0L, 5: 0L, 6: 0L, 7: 0L, 8: 0L, 9: 0L}\n```\n\n\n`@`Nicolas: can you check the impact of what is done here on `finite_semigroups`. Roughly, we change the internal ordering of vertices during computations, and so the order in which strongly connected components are returned might change. Thanks.",
    "created_at": "2018-10-27T07:09:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26324",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26324#issuecomment-370773",
    "user": "@dcoudert"
}
```

Without `Integer`, we get:

```
sage: triangles_count(graphs.PetersenGraph())
{0: 0L, 1: 0L, 2: 0L, 3: 0L, 4: 0L, 5: 0L, 6: 0L, 7: 0L, 8: 0L, 9: 0L}
```


`@`Nicolas: can you check the impact of what is done here on `finite_semigroups`. Roughly, we change the internal ordering of vertices during computations, and so the order in which strongly connected components are returned might change. Thanks.



---

archive/issue_comments_370774.json:
```json
{
    "body": "Thanks for the notice. As far as I can remember, the algorithm in finite semigroups do not depend on the order in which strongly connected components are returned. So worst comes to worst, this will only require to update some doctests w.r.t. change of orders.",
    "created_at": "2018-10-27T10:27:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26324",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26324#issuecomment-370774",
    "user": "@nthiery"
}
```

Thanks for the notice. As far as I can remember, the algorithm in finite semigroups do not depend on the order in which strongly connected components are returned. So worst comes to worst, this will only require to update some doctests w.r.t. change of orders.



---

archive/issue_comments_370775.json:
```json
{
    "body": "Thank you Nicolas. We have already change the failing doctest in `finite_semigroups`.",
    "created_at": "2018-10-27T10:29:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26324",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26324#issuecomment-370775",
    "user": "@dcoudert"
}
```

Thank you Nicolas. We have already change the failing doctest in `finite_semigroups`.



---

archive/issue_comments_370776.json:
```json
{
    "body": "`@`dcoudert Thanks for checking. LGTM.",
    "created_at": "2018-10-27T13:10:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26324",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26324#issuecomment-370776",
    "user": "@tscrim"
}
```

`@`dcoudert Thanks for checking. LGTM.



---

archive/issue_comments_370777.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-27T13:10:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26324",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26324#issuecomment-370777",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_370778.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-10-28T20:26:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26324",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26324#issuecomment-370778",
    "user": "@vbraun"
}
```

Resolution: fixed
