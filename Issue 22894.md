# Issue 22894: Add computation of longest commons extensions in a word

Issue created by migration from https://trac.sagemath.org/ticket/23131

Original creator: enadeau

Original creation time: 2017-06-02 20:34:11

Keywords: words

Add two methods to compute the longest commons extensions in forward and backward direction in a word.




---

Comment by enadeau created at 2017-08-01 02:14:55

New commits:


---

Comment by enadeau created at 2017-08-01 02:14:55

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-08-02 23:32:43

You should put spaces between your operators (e.g., `=`, `==`, `+=`, etc.) and after commas to be PEP8 compliant. You should make your variables in code format in your doc, e.g., ```y```. Also, do these changes in your methods:

```diff
-        INPUTS:
{        INPUT:
 
-            x,y - positions in self
+        - ``x``, ``y`` -- positions in ``self``
 
-        EXAMPLES:
+        EXAMPLES::
```



---

Comment by git created at 2017-08-03 14:49:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-08-16 18:29:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-08-17 02:27:03

Three additional comments, but once addressed, then this will be ready for a positive review.

- Translation needed `le` -> `the`.
- `- ``x``, ``y`` - positions in ``self``` should be `- ``x``, ``y`` -- positions in ``self``` in `longest_backward_extension`.
- I think if `x` and `y` are invalid positions, then the method should raise a `ValueError` instead of returning `0` as it is invalid input.


---

Comment by git created at 2017-08-21 01:11:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-08-21 19:17:47

I have made a last few little changes to the doc and made the doctests pass (specifically, indices are 0-based). If you agree with my changes, then positive review.
----
New commits:


---

Comment by kdilks created at 2017-08-21 20:07:34

Would it be worth the effort to modify the code to allow negative positions, indicating distance from the end of the word (the way that Python lists work) ?


---

Comment by tscrim created at 2017-08-21 20:13:57

I think that would complicate things, but I don't have uses for this code, so I have fundamentally no position on the matter. However, it would be consistent with words, e.g., `w[-1]` gets the last letter.


---

Comment by tscrim created at 2017-08-21 20:31:01

Changing keywords from "words" to "words, days88, IMA coding sprints".


---

Comment by kdilks created at 2017-08-21 20:37:58


```
if not (abs(x) < length and abs(y) < length):
            raise ValueError("x and y must be valid positions in self")
if x<0:
    x=length-x
if y<0:
    y=length-y
```


should work, right?


---

Comment by kdilks created at 2017-08-21 20:37:58

Changing keywords from "words, days88, IMA coding sprints" to "words".


---

Comment by tscrim created at 2017-08-21 20:41:01

Changing keywords from "words" to "words, days88, IMA coding sprints".


---

Comment by tscrim created at 2017-08-21 20:41:01

No, you need `-len(w)`:

```
sage: w = Word('123')
sage: w[-3]
'1'
```

So you need to be slightly more careful.


---

Comment by kdilks created at 2017-08-21 21:11:34


```
if not (-length<= x < length and -length <= y < length):
            raise ValueError("x and y must be valid positions in self")
if x<0:
    x=length-x
if y<0:
    y=length-y
```


should work, right?


---

Comment by tscrim created at 2017-08-21 21:12:26

I think that should work.


---

Comment by git created at 2017-08-25 19:53:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-08-25 20:32:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saliola created at 2017-08-25 20:35:58

I implemented Kevin's suggestion (except that I used `x = length + x` instead of `x = length - x` since `x` is negative in this case). If you are OK with my changes, then set this to positive review.


---

Comment by tscrim created at 2017-08-25 21:47:25

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-08-25 21:47:25

LGTM.


---

Comment by vbraun created at 2017-10-05 06:55:53

Resolution: fixed
