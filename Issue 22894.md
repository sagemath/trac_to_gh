# Issue 22894: Add computation of longest commons extensions in a word

archive/issues_022894.json:
```json
{
    "body": "Keywords: words\n\nAdd two methods to compute the longest commons extensions in forward and backward direction in a word.\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/23131\n\n",
    "created_at": "2017-06-02T20:34:11Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "title": "Add computation of longest commons extensions in a word",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22894",
    "user": "enadeau"
}
```
Keywords: words

Add two methods to compute the longest commons extensions in forward and backward direction in a word.



Issue created by migration from https://trac.sagemath.org/ticket/23131





---

archive/issue_comments_320221.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-08-01T02:14:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320221",
    "user": "enadeau"
}
```

New commits:



---

archive/issue_comments_320222.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-08-01T02:14:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320222",
    "user": "enadeau"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_320223.json:
```json
{
    "body": "You should put spaces between your operators (e.g., `=`, `==`, `+=`, etc.) and after commas to be PEP8 compliant. You should make your variables in code format in your doc, e.g., ```y```. Also, do these changes in your methods:\n\n```diff\n-        INPUTS:\n{        INPUT:\n \n-            x,y - positions in self\n+        - ``x``, ``y`` -- positions in ``self``\n \n-        EXAMPLES:\n+        EXAMPLES::\n```\n",
    "created_at": "2017-08-02T23:32:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320223",
    "user": "tscrim"
}
```

You should put spaces between your operators (e.g., `=`, `==`, `+=`, etc.) and after commas to be PEP8 compliant. You should make your variables in code format in your doc, e.g., ```y```. Also, do these changes in your methods:

```diff
-        INPUTS:
{        INPUT:
 
-            x,y - positions in self
+        - ``x``, ``y`` -- positions in ``self``
 
-        EXAMPLES:
+        EXAMPLES::
```




---

archive/issue_comments_320224.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-03T14:49:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320224",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320225.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-16T18:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320225",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320226.json:
```json
{
    "body": "Three additional comments, but once addressed, then this will be ready for a positive review.\n\n- Translation needed `le` -> `the`.\n- `- ``x``, ``y`` - positions in ``self``` should be `- ``x``, ``y`` -- positions in ``self``` in `longest_backward_extension`.\n- I think if `x` and `y` are invalid positions, then the method should raise a `ValueError` instead of returning `0` as it is invalid input.",
    "created_at": "2017-08-17T02:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320226",
    "user": "tscrim"
}
```

Three additional comments, but once addressed, then this will be ready for a positive review.

- Translation needed `le` -> `the`.
- `- ``x``, ``y`` - positions in ``self``` should be `- ``x``, ``y`` -- positions in ``self``` in `longest_backward_extension`.
- I think if `x` and `y` are invalid positions, then the method should raise a `ValueError` instead of returning `0` as it is invalid input.



---

archive/issue_comments_320227.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-21T01:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320227",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320228.json:
```json
{
    "body": "I have made a last few little changes to the doc and made the doctests pass (specifically, indices are 0-based). If you agree with my changes, then positive review.\n----\nNew commits:",
    "created_at": "2017-08-21T19:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320228",
    "user": "tscrim"
}
```

I have made a last few little changes to the doc and made the doctests pass (specifically, indices are 0-based). If you agree with my changes, then positive review.
----
New commits:



---

archive/issue_comments_320229.json:
```json
{
    "body": "Would it be worth the effort to modify the code to allow negative positions, indicating distance from the end of the word (the way that Python lists work) ?",
    "created_at": "2017-08-21T20:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320229",
    "user": "kdilks"
}
```

Would it be worth the effort to modify the code to allow negative positions, indicating distance from the end of the word (the way that Python lists work) ?



---

archive/issue_comments_320230.json:
```json
{
    "body": "I think that would complicate things, but I don't have uses for this code, so I have fundamentally no position on the matter. However, it would be consistent with words, e.g., `w[-1]` gets the last letter.",
    "created_at": "2017-08-21T20:13:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320230",
    "user": "tscrim"
}
```

I think that would complicate things, but I don't have uses for this code, so I have fundamentally no position on the matter. However, it would be consistent with words, e.g., `w[-1]` gets the last letter.



---

archive/issue_comments_320231.json:
```json
{
    "body": "Changing keywords from \"words\" to \"words, days88, IMA coding sprints\".",
    "created_at": "2017-08-21T20:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320231",
    "user": "tscrim"
}
```

Changing keywords from "words" to "words, days88, IMA coding sprints".



---

archive/issue_comments_320232.json:
```json
{
    "body": "\n```\nif not (abs(x) < length and abs(y) < length):\n            raise ValueError(\"x and y must be valid positions in self\")\nif x<0:\n    x=length-x\nif y<0:\n    y=length-y\n```\n\n\nshould work, right?",
    "created_at": "2017-08-21T20:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320232",
    "user": "kdilks"
}
```


```
if not (abs(x) < length and abs(y) < length):
            raise ValueError("x and y must be valid positions in self")
if x<0:
    x=length-x
if y<0:
    y=length-y
```


should work, right?



---

archive/issue_comments_320233.json:
```json
{
    "body": "Changing keywords from \"words, days88, IMA coding sprints\" to \"words\".",
    "created_at": "2017-08-21T20:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320233",
    "user": "kdilks"
}
```

Changing keywords from "words, days88, IMA coding sprints" to "words".



---

archive/issue_comments_320234.json:
```json
{
    "body": "Changing keywords from \"words\" to \"words, days88, IMA coding sprints\".",
    "created_at": "2017-08-21T20:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320234",
    "user": "tscrim"
}
```

Changing keywords from "words" to "words, days88, IMA coding sprints".



---

archive/issue_comments_320235.json:
```json
{
    "body": "No, you need `-len(w)`:\n\n```\nsage: w = Word('123')\nsage: w[-3]\n'1'\n```\n\nSo you need to be slightly more careful.",
    "created_at": "2017-08-21T20:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320235",
    "user": "tscrim"
}
```

No, you need `-len(w)`:

```
sage: w = Word('123')
sage: w[-3]
'1'
```

So you need to be slightly more careful.



---

archive/issue_comments_320236.json:
```json
{
    "body": "\n```\nif not (-length<= x < length and -length <= y < length):\n            raise ValueError(\"x and y must be valid positions in self\")\nif x<0:\n    x=length-x\nif y<0:\n    y=length-y\n```\n\n\nshould work, right?",
    "created_at": "2017-08-21T21:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320236",
    "user": "kdilks"
}
```


```
if not (-length<= x < length and -length <= y < length):
            raise ValueError("x and y must be valid positions in self")
if x<0:
    x=length-x
if y<0:
    y=length-y
```


should work, right?



---

archive/issue_comments_320237.json:
```json
{
    "body": "I think that should work.",
    "created_at": "2017-08-21T21:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320237",
    "user": "tscrim"
}
```

I think that should work.



---

archive/issue_comments_320238.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-25T19:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320238",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320239.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-25T20:32:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320239",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_320240.json:
```json
{
    "body": "I implemented Kevin's suggestion (except that I used `x = length + x` instead of `x = length - x` since `x` is negative in this case). If you are OK with my changes, then set this to positive review.",
    "created_at": "2017-08-25T20:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320240",
    "user": "saliola"
}
```

I implemented Kevin's suggestion (except that I used `x = length + x` instead of `x = length - x` since `x` is negative in this case). If you are OK with my changes, then set this to positive review.



---

archive/issue_comments_320241.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-25T21:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320241",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_320242.json:
```json
{
    "body": "LGTM.",
    "created_at": "2017-08-25T21:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320242",
    "user": "tscrim"
}
```

LGTM.



---

archive/issue_comments_320243.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-05T06:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-320243",
    "user": "vbraun"
}
```

Resolution: fixed
