# Issue 22894: Add computation of longest commons extensions in a word

archive/issues_022894.json:
```json
{
    "body": "Keywords: words\n\nAdd two methods to compute the longest commons extensions in forward and backward direction in a word.\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/23131\n\n",
    "created_at": "2017-06-02T20:34:11Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Add computation of longest commons extensions in a word",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22894",
    "user": "https://github.com/enadeau"
}
```
Keywords: words

Add two methods to compute the longest commons extensions in forward and backward direction in a word.



Issue created by migration from https://trac.sagemath.org/ticket/23131





---

archive/issue_comments_319861.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-08-01T02:14:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319861",
    "user": "https://github.com/enadeau"
}
```

New commits:



---

archive/issue_comments_319862.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-08-01T02:14:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319862",
    "user": "https://github.com/enadeau"
}
```

Changing status from new to needs_review.



---

archive/issue_events_059809.json:
```json
{
    "actor": "https://github.com/enadeau",
    "created_at": "2017-08-02T13:21:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22894#event-59809"
}
```



---

archive/issue_comments_319863.json:
```json
{
    "body": "You should put spaces between your operators (e.g., `=`, `==`, `+=`, etc.) and after commas to be PEP8 compliant. You should make your variables in code format in your doc, e.g., ```y```. Also, do these changes in your methods:\n\n```diff\n-        INPUTS:\n{        INPUT:\n \n-            x,y - positions in self\n+        - ``x``, ``y`` -- positions in ``self``\n \n-        EXAMPLES:\n+        EXAMPLES::\n```",
    "created_at": "2017-08-02T23:32:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319863",
    "user": "https://github.com/tscrim"
}
```

You should put spaces between your operators (e.g., `=`, `==`, `+=`, etc.) and after commas to be PEP8 compliant. You should make your variables in code format in your doc, e.g., ```y```. Also, do these changes in your methods:

```diff
-        INPUTS:
{        INPUT:
 
-            x,y - positions in self
+        - ``x``, ``y`` -- positions in ``self``
 
-        EXAMPLES:
+        EXAMPLES::
```



---

archive/issue_comments_319864.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-03T14:49:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319864",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_319865.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-16T18:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319865",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_319866.json:
```json
{
    "body": "Three additional comments, but once addressed, then this will be ready for a positive review.\n\n- Translation needed `le` -> `the`.\n- `- ``x``, ``y`` - positions in ``self``` should be `- ``x``, ``y`` -- positions in ``self``` in `longest_backward_extension`.\n- I think if `x` and `y` are invalid positions, then the method should raise a `ValueError` instead of returning `0` as it is invalid input.",
    "created_at": "2017-08-17T02:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319866",
    "user": "https://github.com/tscrim"
}
```

Three additional comments, but once addressed, then this will be ready for a positive review.

- Translation needed `le` -> `the`.
- `- ``x``, ``y`` - positions in ``self``` should be `- ``x``, ``y`` -- positions in ``self``` in `longest_backward_extension`.
- I think if `x` and `y` are invalid positions, then the method should raise a `ValueError` instead of returning `0` as it is invalid input.



---

archive/issue_comments_319867.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-21T01:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319867",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_319868.json:
```json
{
    "body": "I have made a last few little changes to the doc and made the doctests pass (specifically, indices are 0-based). If you agree with my changes, then positive review.\n\n---\nNew commits:",
    "created_at": "2017-08-21T19:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319868",
    "user": "https://github.com/tscrim"
}
```

I have made a last few little changes to the doc and made the doctests pass (specifically, indices are 0-based). If you agree with my changes, then positive review.

---
New commits:



---

archive/issue_comments_319869.json:
```json
{
    "body": "Would it be worth the effort to modify the code to allow negative positions, indicating distance from the end of the word (the way that Python lists work) ?",
    "created_at": "2017-08-21T20:07:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319869",
    "user": "https://github.com/kevindilks"
}
```

Would it be worth the effort to modify the code to allow negative positions, indicating distance from the end of the word (the way that Python lists work) ?



---

archive/issue_comments_319870.json:
```json
{
    "body": "I think that would complicate things, but I don't have uses for this code, so I have fundamentally no position on the matter. However, it would be consistent with words, e.g., `w[-1]` gets the last letter.",
    "created_at": "2017-08-21T20:13:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319870",
    "user": "https://github.com/tscrim"
}
```

I think that would complicate things, but I don't have uses for this code, so I have fundamentally no position on the matter. However, it would be consistent with words, e.g., `w[-1]` gets the last letter.



---

archive/issue_comments_319871.json:
```json
{
    "body": "Changing keywords from \"words\" to \"words, days88, IMA coding sprints\".",
    "created_at": "2017-08-21T20:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319871",
    "user": "https://github.com/tscrim"
}
```

Changing keywords from "words" to "words, days88, IMA coding sprints".



---

archive/issue_comments_319872.json:
```json
{
    "body": "```\nif not (abs(x) < length and abs(y) < length):\n            raise ValueError(\"x and y must be valid positions in self\")\nif x<0:\n    x=length-x\nif y<0:\n    y=length-y\n```\n\nshould work, right?",
    "created_at": "2017-08-21T20:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319872",
    "user": "https://github.com/kevindilks"
}
```

```
if not (abs(x) < length and abs(y) < length):
            raise ValueError("x and y must be valid positions in self")
if x<0:
    x=length-x
if y<0:
    y=length-y
```

should work, right?



---

archive/issue_comments_319873.json:
```json
{
    "body": "Changing keywords from \"words, days88, IMA coding sprints\" to \"words\".",
    "created_at": "2017-08-21T20:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319873",
    "user": "https://github.com/kevindilks"
}
```

Changing keywords from "words, days88, IMA coding sprints" to "words".



---

archive/issue_comments_319874.json:
```json
{
    "body": "Changing keywords from \"words\" to \"words, days88, IMA coding sprints\".",
    "created_at": "2017-08-21T20:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319874",
    "user": "https://github.com/tscrim"
}
```

Changing keywords from "words" to "words, days88, IMA coding sprints".



---

archive/issue_comments_319875.json:
```json
{
    "body": "No, you need `-len(w)`:\n\n```\nsage: w = Word('123')\nsage: w[-3]\n'1'\n```\nSo you need to be slightly more careful.",
    "created_at": "2017-08-21T20:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319875",
    "user": "https://github.com/tscrim"
}
```

No, you need `-len(w)`:

```
sage: w = Word('123')
sage: w[-3]
'1'
```
So you need to be slightly more careful.



---

archive/issue_comments_319876.json:
```json
{
    "body": "```\nif not (-length<= x < length and -length <= y < length):\n            raise ValueError(\"x and y must be valid positions in self\")\nif x<0:\n    x=length-x\nif y<0:\n    y=length-y\n```\n\nshould work, right?",
    "created_at": "2017-08-21T21:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319876",
    "user": "https://github.com/kevindilks"
}
```

```
if not (-length<= x < length and -length <= y < length):
            raise ValueError("x and y must be valid positions in self")
if x<0:
    x=length-x
if y<0:
    y=length-y
```

should work, right?



---

archive/issue_comments_319877.json:
```json
{
    "body": "I think that should work.",
    "created_at": "2017-08-21T21:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319877",
    "user": "https://github.com/tscrim"
}
```

I think that should work.



---

archive/issue_comments_319878.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-25T19:53:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319878",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_319879.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-25T20:32:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319879",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_319880.json:
```json
{
    "body": "I implemented Kevin's suggestion (except that I used `x = length + x` instead of `x = length - x` since `x` is negative in this case). If you are OK with my changes, then set this to positive review.",
    "created_at": "2017-08-25T20:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319880",
    "user": "https://github.com/saliola"
}
```

I implemented Kevin's suggestion (except that I used `x = length + x` instead of `x = length - x` since `x` is negative in this case). If you are OK with my changes, then set this to positive review.



---

archive/issue_comments_319881.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-25T21:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319881",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_319882.json:
```json
{
    "body": "LGTM.",
    "created_at": "2017-08-25T21:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319882",
    "user": "https://github.com/tscrim"
}
```

LGTM.



---

archive/issue_events_059810.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-10-05T06:55:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22894#event-59810"
}
```



---

archive/issue_comments_319883.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-05T06:55:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22894#issuecomment-319883",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
