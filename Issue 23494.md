# Issue 23494: py3: future division in matrix 2

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2017-08-27 07:15:59

part of #15995

found using the "python -3" tests suggested there 


---

Comment by chapoton created at 2017-08-27 07:16:31

Changing status from new to needs_review.


---

Comment by chapoton created at 2017-08-27 07:16:31

New commits:


---

Comment by aapitzsch created at 2017-08-27 07:43:44

LGTM.


---

Comment by aapitzsch created at 2017-08-27 07:43:44

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2017-08-29 09:51:52

I disagree here: why hard-code `QQ`? Shouldn't we use `self._parent._base` instead?

```diff
`@``@` -1371,7 +1372,7 `@``@` cdef class Matrix(Matrix1):
         # now compute the permanental minor of the complement matrix if needed
         if complement:
             a = [one]
-            c1 = 1
+            c1 = QQ.one()
             for k in range(1, mn + 1):
                 c1 = c1*(m-k+1)*(n-k+1)/k
                 c = c1
```



---

Comment by jdemeyer created at 2017-08-29 09:51:52

Changing status from positive_review to needs_work.


---

Comment by chapoton created at 2017-08-29 11:30:30

Because for this precise variable, we can stay in QQ. Otherwise, more complicated computations are done.


---

Comment by git created at 2017-08-30 06:24:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-08-30 06:24:52

So, what about the new commit ? The first // makes sense (binomial coefficients) but i would not swear that the second one does make sense too.
----
New commits:


---

Comment by chapoton created at 2017-08-30 17:47:09

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2017-08-30 20:21:49

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-09-10 11:57:20

Resolution: fixed


---

Comment by embray created at 2018-02-23 13:35:43

Changing keywords from "" to "division".
