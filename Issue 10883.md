# Issue 10883: Problem with pickle in CombinatorialFreeModule

archive/issues_010883.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  sage-combinat\n\nThis works:\n\n\n```\nsage: Q =  CombinatorialFreeModule( QQ, [1,2,3] )\nsage: a = Q.an_element()\nsage: dumps(a)\n...\n```\n\n\nAnd this doesn't:\n\n\n```\nsage: Q =  CombinatorialFreeModule( QQ, sage.structure.parent.Set_PythonType(tuple) )\nsage: a = Q.an_element()\nsage: dumps(a)\n---------------------------------------------------------------------------\nPicklingError                             Traceback (most recent call last)\n...\nPicklingError: Can't pickle <type 'function'>: attribute lookup __builtin__.function failed\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/10962\n\n",
    "created_at": "2011-03-18T16:19:07Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "Problem with pickle in CombinatorialFreeModule",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10883",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```
Assignee: sage-combinat

CC:  sage-combinat

This works:


```
sage: Q =  CombinatorialFreeModule( QQ, [1,2,3] )
sage: a = Q.an_element()
sage: dumps(a)
...
```


And this doesn't:


```
sage: Q =  CombinatorialFreeModule( QQ, sage.structure.parent.Set_PythonType(tuple) )
sage: a = Q.an_element()
sage: dumps(a)
---------------------------------------------------------------------------
PicklingError                             Traceback (most recent call last)
...
PicklingError: Can't pickle <type 'function'>: attribute lookup __builtin__.function failed
```


Issue created by migration from https://trac.sagemath.org/ticket/10962





---

archive/issue_comments_115464.json:
```json
{
    "body": "Changing assignee from sage-combinat to @williamstein.",
    "created_at": "2011-03-18T16:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115464",
    "user": "https://github.com/nthiery"
}
```

Changing assignee from sage-combinat to @williamstein.



---

archive/issue_comments_115465.json:
```json
{
    "body": "Changing component from combinatorics to pickling.",
    "created_at": "2011-03-18T16:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115465",
    "user": "https://github.com/nthiery"
}
```

Changing component from combinatorics to pickling.



---

archive/issue_comments_115466.json:
```json
{
    "body": "I implement a `__reduce__` method for Set_PythonType and now it works...\n\nBest,\nVincent",
    "created_at": "2012-12-13T13:14:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115466",
    "user": "https://github.com/videlec"
}
```

I implement a `__reduce__` method for Set_PythonType and now it works...

Best,
Vincent



---

archive/issue_comments_115467.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-01-15T12:00:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115467",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_115468.json:
```json
{
    "body": "Attachment [trac_10962-pickle_set_pythontype.2.patch](tarball://root/attachments/some-uuid/ticket10962/trac_10962-pickle_set_pythontype.2.patch) by @videlec created at 2013-01-17 11:22:24",
    "created_at": "2013-01-17T11:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115468",
    "user": "https://github.com/videlec"
}
```

Attachment [trac_10962-pickle_set_pythontype.2.patch](tarball://root/attachments/some-uuid/ticket10962/trac_10962-pickle_set_pythontype.2.patch) by @videlec created at 2013-01-17 11:22:24



---

archive/issue_comments_115469.json:
```json
{
    "body": "I undo a change which produces error (because of some metaclass buisness). I also add a method is_finite in relation with the cardinality one.\n\napply only: trac_10962-pickle_set_pythontype.2.patch",
    "created_at": "2013-01-17T11:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115469",
    "user": "https://github.com/videlec"
}
```

I undo a change which produces error (because of some metaclass buisness). I also add a method is_finite in relation with the cardinality one.

apply only: trac_10962-pickle_set_pythontype.2.patch



---

archive/issue_comments_115470.json:
```json
{
    "body": "Hi,\n\nI added a relatively fast check at the very begining of the __init__ method that verifies that the argument is a type or not (using the function `PyType_Check` from the C-API. It is the cause of many errors (see the log of the patchbot) and I do not know whether it is a good thing to check...\n\nSee the following [sage-devel thread](http://groups.google.com/group/sage-devel/browse_thread/thread/8f28e2637e92e1c1).",
    "created_at": "2013-01-18T09:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115470",
    "user": "https://github.com/videlec"
}
```

Hi,

I added a relatively fast check at the very begining of the __init__ method that verifies that the argument is a type or not (using the function `PyType_Check` from the C-API. It is the cause of many errors (see the log of the patchbot) and I do not know whether it is a good thing to check...

See the following [sage-devel thread](http://groups.google.com/group/sage-devel/browse_thread/thread/8f28e2637e92e1c1).



---

archive/issue_comments_115471.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-12-19T17:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115471",
    "user": "https://github.com/videlec"
}
```

New commits:



---

archive/issue_comments_115472.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-12-19T17:37:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115472",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_115473.json:
```json
{
    "body": "This is wrong, it should be `EXAMPLES:`:\n\n```\nEXAMPLES::\n\nLet us create a parent in the category of rings::\n```\n",
    "created_at": "2014-12-19T17:37:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115473",
    "user": "https://github.com/jdemeyer"
}
```

This is wrong, it should be `EXAMPLES:`:

```
EXAMPLES::

Let us create a parent in the category of rings::
```




---

archive/issue_comments_115474.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-19T17:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115474",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_115475.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-12-19T17:40:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115475",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_115476.json:
```json
{
    "body": "I got a strange error from the pickle jar. Could anyone perform the test?\n\n```\nsage -t --long structure/sage_object.pyx\n**********************************************************************\nFile \"structure/sage_object.pyx\", line 1431, in sage.structure.sage_object.unpickle_all\nFailed example:\n    sage.structure.sage_object.unpickle_all()  # (4s on sage.math, 2011)\nExpected:\n    doctest:... DeprecationWarning: ...\n    See http://trac.sagemath.org/... for details.\n    Successfully unpickled ... objects.\n    Failed to unpickle 0 objects.\nGot:\n    doctest:1: DeprecationWarning: OrderedAlphabet is deprecated; use Alphabet instead.\n    See http://trac.sagemath.org/8920 for details.\n    doctest:850: DeprecationWarning: This class is replaced by Matrix_modn_dense_float/Matrix_modn_dense_double.\n    See http://trac.sagemath.org/4260 for details.\n     * unpickle failure: load('/home/vincent/.sage/temp/mangouste/23352/dir_D94KcT//pickle_jar/_class__sage_groups_matrix_gps_matrix_group_element_MatrixGroupElement__.sobj')\n    doctest:1: DeprecationWarning: gen_py.pari is deprecated, use sage.libs.pari.all.pari instead\n    See http://trac.sagemath.org/17451 for details.\n    doctest:632: DeprecationWarning: The \"pari_mod\" finite field implementation is deprecated\n    See http://trac.sagemath.org/17297 for details.\n    Failed:\n    _class__sage_groups_matrix_gps_matrix_group_element_MatrixGroupElement__.sobj\n    ----------------------------------------------------------------------\n    ** This error is probably due to an old pickle failing to unpickle.\n    ** See sage.structure.sage_object.register_unpickle_override for\n    ** how to override the default unpickling methods for (old) pickles.\n    ** NOTE: pickles should never be removed from the pickle_jar! \n    ----------------------------------------------------------------------\n    Successfully unpickled 585 objects.\n    Failed to unpickle 1 objects.\n**********************************************************************\nFile \"structure/sage_object.pyx\", line 1439, in sage.structure.sage_object.unpickle_all\nFailed example:\n    sage.structure.sage_object.unpickle_all()\nExpected:\n    Successfully unpickled ... objects.\n    Failed to unpickle 0 objects.\nGot:\n     * unpickle failure: load('/home/vincent/.sage/temp/mangouste/23352/dir_VbqHGc//pickle_jar/_class__sage_groups_matrix_gps_matrix_group_element_MatrixGroupElement__.sobj')\n    Failed:\n    _class__sage_groups_matrix_gps_matrix_group_element_MatrixGroupElement__.sobj\n    ----------------------------------------------------------------------\n    ** This error is probably due to an old pickle failing to unpickle.\n    ** See sage.structure.sage_object.register_unpickle_override for\n    ** how to override the default unpickling methods for (old) pickles.\n    ** NOTE: pickles should never be removed from the pickle_jar! \n    ----------------------------------------------------------------------\n    Successfully unpickled 585 objects.\n    Failed to unpickle 1 objects.\n**********************************************************************\n```\n",
    "created_at": "2014-12-19T17:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115476",
    "user": "https://github.com/videlec"
}
```

I got a strange error from the pickle jar. Could anyone perform the test?

```
sage -t --long structure/sage_object.pyx
**********************************************************************
File "structure/sage_object.pyx", line 1431, in sage.structure.sage_object.unpickle_all
Failed example:
    sage.structure.sage_object.unpickle_all()  # (4s on sage.math, 2011)
Expected:
    doctest:... DeprecationWarning: ...
    See http://trac.sagemath.org/... for details.
    Successfully unpickled ... objects.
    Failed to unpickle 0 objects.
Got:
    doctest:1: DeprecationWarning: OrderedAlphabet is deprecated; use Alphabet instead.
    See http://trac.sagemath.org/8920 for details.
    doctest:850: DeprecationWarning: This class is replaced by Matrix_modn_dense_float/Matrix_modn_dense_double.
    See http://trac.sagemath.org/4260 for details.
     * unpickle failure: load('/home/vincent/.sage/temp/mangouste/23352/dir_D94KcT//pickle_jar/_class__sage_groups_matrix_gps_matrix_group_element_MatrixGroupElement__.sobj')
    doctest:1: DeprecationWarning: gen_py.pari is deprecated, use sage.libs.pari.all.pari instead
    See http://trac.sagemath.org/17451 for details.
    doctest:632: DeprecationWarning: The "pari_mod" finite field implementation is deprecated
    See http://trac.sagemath.org/17297 for details.
    Failed:
    _class__sage_groups_matrix_gps_matrix_group_element_MatrixGroupElement__.sobj
    ----------------------------------------------------------------------
    ** This error is probably due to an old pickle failing to unpickle.
    ** See sage.structure.sage_object.register_unpickle_override for
    ** how to override the default unpickling methods for (old) pickles.
    ** NOTE: pickles should never be removed from the pickle_jar! 
    ----------------------------------------------------------------------
    Successfully unpickled 585 objects.
    Failed to unpickle 1 objects.
**********************************************************************
File "structure/sage_object.pyx", line 1439, in sage.structure.sage_object.unpickle_all
Failed example:
    sage.structure.sage_object.unpickle_all()
Expected:
    Successfully unpickled ... objects.
    Failed to unpickle 0 objects.
Got:
     * unpickle failure: load('/home/vincent/.sage/temp/mangouste/23352/dir_VbqHGc//pickle_jar/_class__sage_groups_matrix_gps_matrix_group_element_MatrixGroupElement__.sobj')
    Failed:
    _class__sage_groups_matrix_gps_matrix_group_element_MatrixGroupElement__.sobj
    ----------------------------------------------------------------------
    ** This error is probably due to an old pickle failing to unpickle.
    ** See sage.structure.sage_object.register_unpickle_override for
    ** how to override the default unpickling methods for (old) pickles.
    ** NOTE: pickles should never be removed from the pickle_jar! 
    ----------------------------------------------------------------------
    Successfully unpickled 585 objects.
    Failed to unpickle 1 objects.
**********************************************************************
```




---

archive/issue_comments_115477.json:
```json
{
    "body": "I confirm the unpickling error, it is due to\n\n```\nTypeError                                 Traceback (most recent call last)\n<ipython-input-3-d62ad2672fb4> in <module>()\n----> 1 load('/home/jdemeyer/.sage/temp/tamiyo/6215/dir_LJVs2X//pickle_jar/_class__sage_groups_matrix_gps_matrix_group_element_MatrixGroupElement__.sobj')\n\n/usr/local/src/sage-config/src/sage/structure/sage_object.pyx in sage.structure.sage_object.load (build/cythonized/sage/structure/sage_object.c:11233)()\n    945 \n    946     ## Load file by absolute filename\n--> 947     X = loads(open(filename).read(), compress=compress)\n    948     try:\n    949         X._default_filename = os.path.abspath(filename)\n\n/usr/local/src/sage-config/src/sage/structure/sage_object.pyx in sage.structure.sage_object.loads (build/cythonized/sage/structure/sage_object.c:13238)()\n   1319     unpickler.find_global = unpickle_global\n   1320 \n-> 1321     return unpickler.load()\n   1322 \n   1323 \n\n/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/groups/matrix_gps/pickling_overrides.pyc in __setstate__(self, state)\n     36         degree = state['_MatrixGroup_gap__n']\n     37         from sage.libs.all import libgap\n---> 38         libgap_group = libgap.Group(libgap(matrix_gens))\n     39         self.__init__(degree, ring, libgap_group)\n     40 \n\n/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9585)()\n   1102             mor = <map.Map> self._convert_from_hash.get(R)\n   1103         except KeyError:\n-> 1104             mor = <map.Map> self._internal_convert_map_from(R)\n   1105 \n   1106         if mor is not None:\n\n/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Parent._internal_convert_map_from (build/cythonized/sage/structure/parent.c:19460)()\n   2581             return self._convert_from_hash.get(S)\n   2582         except KeyError:\n-> 2583             mor = self.discover_convert_map_from(S)\n   2584             # Before trac #14711, the morphism has been\n   2585             # put both into _convert_from_list and into\n\n/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Parent.discover_convert_map_from (build/cythonized/sage/structure/parent.c:20064)()\n   2624             from sage.structure.coerce_maps import ListMorphism\n   2625             if isinstance(S, Sequences):\n-> 2626                 return ListMorphism(S, self.convert_map_from(list))\n   2627 \n   2628         mor = self._generic_convert_map(S)\n\n/usr/local/src/sage-config/src/sage/structure/coerce_maps.pyx in sage.structure.coerce_maps.ListMorphism.__init__ (build/cythonized/sage/structure/coerce_maps.c:8911)()\n    529     def __init__(self, domain, Map real_morphism):\n    530         if not PY_TYPE_CHECK(domain, Parent):\n--> 531             domain = Set_PythonType(domain)\n    532         Map.__init__(self, domain, real_morphism.codomain())\n    533         self._coerce_cost = real_morphism._coerce_cost + 3\n\n/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Set_PythonType (build/cythonized/sage/structure/parent.c:24290)()\n   2990 cdef _type_set_cache = {}\n   2991 \n-> 2992 cpdef Parent Set_PythonType(theType):\n   2993     \"\"\"\n   2994     Return the (unique) Parent that represents the set of Python objects\n\n/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Set_PythonType (build/cythonized/sage/structure/parent.c:24199)()\n   3021         return _type_set_cache[theType]\n   3022     except KeyError:\n-> 3023         _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n   3024         return theSet\n   3025 \n\n/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Set_PythonType_class.__init__ (build/cythonized/sage/structure/parent.c:24417)()\n   3055         \"\"\"\n   3056         if not isinstance(theType, type):\n-> 3057             raise TypeError(\"must be intialized with a type, not %r\" % theType)\n   3058         Set_generic.__init__(self, element_constructor=theType, category=Sets())\n   3059         self._type = theType\n\nTypeError: must be intialized with a type, not Category of sequences in Full MatrixSpace of 2 by 2 dense matrices over Finite Field of size 3\n```\n\n----\nNew commits:",
    "created_at": "2014-12-19T18:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115477",
    "user": "https://github.com/jdemeyer"
}
```

I confirm the unpickling error, it is due to

```
TypeError                                 Traceback (most recent call last)
<ipython-input-3-d62ad2672fb4> in <module>()
----> 1 load('/home/jdemeyer/.sage/temp/tamiyo/6215/dir_LJVs2X//pickle_jar/_class__sage_groups_matrix_gps_matrix_group_element_MatrixGroupElement__.sobj')

/usr/local/src/sage-config/src/sage/structure/sage_object.pyx in sage.structure.sage_object.load (build/cythonized/sage/structure/sage_object.c:11233)()
    945 
    946     ## Load file by absolute filename
--> 947     X = loads(open(filename).read(), compress=compress)
    948     try:
    949         X._default_filename = os.path.abspath(filename)

/usr/local/src/sage-config/src/sage/structure/sage_object.pyx in sage.structure.sage_object.loads (build/cythonized/sage/structure/sage_object.c:13238)()
   1319     unpickler.find_global = unpickle_global
   1320 
-> 1321     return unpickler.load()
   1322 
   1323 

/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/groups/matrix_gps/pickling_overrides.pyc in __setstate__(self, state)
     36         degree = state['_MatrixGroup_gap__n']
     37         from sage.libs.all import libgap
---> 38         libgap_group = libgap.Group(libgap(matrix_gens))
     39         self.__init__(degree, ring, libgap_group)
     40 

/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9585)()
   1102             mor = <map.Map> self._convert_from_hash.get(R)
   1103         except KeyError:
-> 1104             mor = <map.Map> self._internal_convert_map_from(R)
   1105 
   1106         if mor is not None:

/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Parent._internal_convert_map_from (build/cythonized/sage/structure/parent.c:19460)()
   2581             return self._convert_from_hash.get(S)
   2582         except KeyError:
-> 2583             mor = self.discover_convert_map_from(S)
   2584             # Before trac #14711, the morphism has been
   2585             # put both into _convert_from_list and into

/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Parent.discover_convert_map_from (build/cythonized/sage/structure/parent.c:20064)()
   2624             from sage.structure.coerce_maps import ListMorphism
   2625             if isinstance(S, Sequences):
-> 2626                 return ListMorphism(S, self.convert_map_from(list))
   2627 
   2628         mor = self._generic_convert_map(S)

/usr/local/src/sage-config/src/sage/structure/coerce_maps.pyx in sage.structure.coerce_maps.ListMorphism.__init__ (build/cythonized/sage/structure/coerce_maps.c:8911)()
    529     def __init__(self, domain, Map real_morphism):
    530         if not PY_TYPE_CHECK(domain, Parent):
--> 531             domain = Set_PythonType(domain)
    532         Map.__init__(self, domain, real_morphism.codomain())
    533         self._coerce_cost = real_morphism._coerce_cost + 3

/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Set_PythonType (build/cythonized/sage/structure/parent.c:24290)()
   2990 cdef _type_set_cache = {}
   2991 
-> 2992 cpdef Parent Set_PythonType(theType):
   2993     """
   2994     Return the (unique) Parent that represents the set of Python objects

/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Set_PythonType (build/cythonized/sage/structure/parent.c:24199)()
   3021         return _type_set_cache[theType]
   3022     except KeyError:
-> 3023         _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
   3024         return theSet
   3025 

/usr/local/src/sage-config/src/sage/structure/parent.pyx in sage.structure.parent.Set_PythonType_class.__init__ (build/cythonized/sage/structure/parent.c:24417)()
   3055         """
   3056         if not isinstance(theType, type):
-> 3057             raise TypeError("must be intialized with a type, not %r" % theType)
   3058         Set_generic.__init__(self, element_constructor=theType, category=Sets())
   3059         self._type = theType

TypeError: must be intialized with a type, not Category of sequences in Full MatrixSpace of 2 by 2 dense matrices over Finite Field of size 3
```

----
New commits:



---

archive/issue_comments_115478.json:
```json
{
    "body": "Question: would it be valid to use `Set_PythonType()` on a `Category` instead of a `type`?",
    "created_at": "2014-12-19T18:40:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115478",
    "user": "https://github.com/jdemeyer"
}
```

Question: would it be valid to use `Set_PythonType()` on a `Category` instead of a `type`?



---

archive/issue_comments_115479.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-12-19T19:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115479",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_115480.json:
```json
{
    "body": "Replying to [comment:13 jdemeyer]:\n> Question: would it be valid to use `Set_PythonType()` on a `Category` instead of a `type`?\n\nNo. By the way I do not understand why `Posets`  and `Sequences` are categories and not `Parent`...",
    "created_at": "2014-12-20T07:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115480",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:13 jdemeyer]:
> Question: would it be valid to use `Set_PythonType()` on a `Category` instead of a `type`?

No. By the way I do not understand why `Posets`  and `Sequences` are categories and not `Parent`...



---

archive/issue_comments_115481.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-12-20T07:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115481",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_115482.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-12-20T07:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115482",
    "user": "https://github.com/videlec"
}
```

New commits:



---

archive/issue_comments_115483.json:
```json
{
    "body": "I added one extra commit to simplify the code and remove a compiler warning for `parent.pyx` (which is not your fault, but which should be fixed anyway).\n----\nNew commits:",
    "created_at": "2014-12-20T08:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115483",
    "user": "https://github.com/jdemeyer"
}
```

I added one extra commit to simplify the code and remove a compiler warning for `parent.pyx` (which is not your fault, but which should be fixed anyway).
----
New commits:



---

archive/issue_comments_115484.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-12-20T10:53:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115484",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_115485.json:
```json
{
    "body": "\n```\nsage -t --long src/sage/symbolic/maxima_wrapper.py\n**********************************************************************\nFile \"src/sage/symbolic/maxima_wrapper.py\", line 113, in sage.symbolic.maxima_wrapper.MaximaWrapper._symbolic_\nFailed example:\n    SR(u) is t # indirect doctest\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 488, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 850, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.symbolic.maxima_wrapper.MaximaWrapper._symbolic_[2]>\", line 1, in <module>\n        SR(u) is t # indirect doctest\n      File \"sage/structure/parent.pyx\", line 1104, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9585)\n        mor = <map.Map> self._internal_convert_map_from(R)\n      File \"sage/structure/parent.pyx\", line 2583, in sage.structure.parent.Parent._internal_convert_map_from (build/cythonized/sage/structure/parent.c:19460)\n        mor = self.discover_convert_map_from(S)\n      File \"sage/structure/parent.pyx\", line 2632, in sage.structure.parent.Parent.discover_convert_map_from (build/cythonized/sage/structure/parent.c:20119)\n        mor = self._generic_convert_map(S)\n      File \"sage/structure/parent_old.pyx\", line 534, in sage.structure.parent_old.Parent._generic_convert_map (build/cythonized/sage/structure/parent_old.c:8211)\n        return parent.Parent._generic_convert_map(self, S)\n      File \"sage/structure/parent.pyx\", line 2142, in sage.structure.parent.Parent._generic_convert_map (build/cythonized/sage/structure/parent.c:16530)\n        return coerce_maps.DefaultConvertMap_unique(S, self)\n      File \"sage/structure/coerce_maps.pyx\", line 39, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (build/cythonized/sage/structure/coerce_maps.c:2712)\n        domain = Set_PythonType(domain)\n      File \"sage/structure/parent.pyx\", line 2996, in sage.structure.parent.Set_PythonType (build/cythonized/sage/structure/parent.c:24328)\n        cpdef Parent Set_PythonType(theType):\n      File \"sage/structure/parent.pyx\", line 3027, in sage.structure.parent.Set_PythonType (build/cythonized/sage/structure/parent.c:24237)\n        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)\n      File \"sage/structure/parent.pyx\", line 3061, in sage.structure.parent.Set_PythonType_class.__init__ (build/cythonized/sage/structure/parent.c:24455)\n        raise TypeError(\"must be intialized with a type, not %r\" % theType)\n    TypeError: must be intialized with a type, not parent(log(sqrt(2) + 1) + log(sqrt(2) - 1))\n**********************************************************************\n```\n",
    "created_at": "2014-12-20T10:53:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115485",
    "user": "https://github.com/jdemeyer"
}
```


```
sage -t --long src/sage/symbolic/maxima_wrapper.py
**********************************************************************
File "src/sage/symbolic/maxima_wrapper.py", line 113, in sage.symbolic.maxima_wrapper.MaximaWrapper._symbolic_
Failed example:
    SR(u) is t # indirect doctest
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 488, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 850, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.symbolic.maxima_wrapper.MaximaWrapper._symbolic_[2]>", line 1, in <module>
        SR(u) is t # indirect doctest
      File "sage/structure/parent.pyx", line 1104, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9585)
        mor = <map.Map> self._internal_convert_map_from(R)
      File "sage/structure/parent.pyx", line 2583, in sage.structure.parent.Parent._internal_convert_map_from (build/cythonized/sage/structure/parent.c:19460)
        mor = self.discover_convert_map_from(S)
      File "sage/structure/parent.pyx", line 2632, in sage.structure.parent.Parent.discover_convert_map_from (build/cythonized/sage/structure/parent.c:20119)
        mor = self._generic_convert_map(S)
      File "sage/structure/parent_old.pyx", line 534, in sage.structure.parent_old.Parent._generic_convert_map (build/cythonized/sage/structure/parent_old.c:8211)
        return parent.Parent._generic_convert_map(self, S)
      File "sage/structure/parent.pyx", line 2142, in sage.structure.parent.Parent._generic_convert_map (build/cythonized/sage/structure/parent.c:16530)
        return coerce_maps.DefaultConvertMap_unique(S, self)
      File "sage/structure/coerce_maps.pyx", line 39, in sage.structure.coerce_maps.DefaultConvertMap.__init__ (build/cythonized/sage/structure/coerce_maps.c:2712)
        domain = Set_PythonType(domain)
      File "sage/structure/parent.pyx", line 2996, in sage.structure.parent.Set_PythonType (build/cythonized/sage/structure/parent.c:24328)
        cpdef Parent Set_PythonType(theType):
      File "sage/structure/parent.pyx", line 3027, in sage.structure.parent.Set_PythonType (build/cythonized/sage/structure/parent.c:24237)
        _type_set_cache[theType] = theSet = Set_PythonType_class(theType)
      File "sage/structure/parent.pyx", line 3061, in sage.structure.parent.Set_PythonType_class.__init__ (build/cythonized/sage/structure/parent.c:24455)
        raise TypeError("must be intialized with a type, not %r" % theType)
    TypeError: must be intialized with a type, not parent(log(sqrt(2) + 1) + log(sqrt(2) - 1))
**********************************************************************
```




---

archive/issue_comments_115486.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-20T11:10:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115486",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_115487.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-12-20T11:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115487",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_115488.json:
```json
{
    "body": "Replying to [comment:15 vdelecroix]:\n> Replying to [comment:13 jdemeyer]:\n> > Question: would it be valid to use `Set_PythonType()` on a `Category` instead of a `type`?\n> \n> No. By the way I do not understand why `Posets`  and `Sequences` are categories and not `Parent`...\n\nThe category corresponding to `Parent` is `Sets`. Now, why is there both `Parent` and `Sets`? The latter is an abstract class, while the former is a concrete implementation (and currently the only concrete base implementation; but we could imagine having others). Of course, a lot of the current features of `Parent` really should be moved up in `Sets` or in other categories. Some just need to be taken care of (handling some backward compatibility issues). Some are more intrinsically difficult\nbecause of the lack of multiple inheritance in Cython; that's analog to the `Ring` versus `Rings`\nsituation.",
    "created_at": "2014-12-20T11:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115488",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:15 vdelecroix]:
> Replying to [comment:13 jdemeyer]:
> > Question: would it be valid to use `Set_PythonType()` on a `Category` instead of a `type`?
> 
> No. By the way I do not understand why `Posets`  and `Sequences` are categories and not `Parent`...

The category corresponding to `Parent` is `Sets`. Now, why is there both `Parent` and `Sets`? The latter is an abstract class, while the former is a concrete implementation (and currently the only concrete base implementation; but we could imagine having others). Of course, a lot of the current features of `Parent` really should be moved up in `Sets` or in other categories. Some just need to be taken care of (handling some backward compatibility issues). Some are more intrinsically difficult
because of the lack of multiple inheritance in Cython; that's analog to the `Ring` versus `Rings`
situation.



---

archive/issue_comments_115489.json:
```json
{
    "body": "This finally passes all doctests. We just need somebody to review my last two commits:\n* [http://git.sagemath.org/sage.git/commit/?id=4b5c3732a910b99b8f43b5b4eb0da13c8f1c7f27](http://git.sagemath.org/sage.git/commit/?id=4b5c3732a910b99b8f43b5b4eb0da13c8f1c7f27)\n* [http://git.sagemath.org/sage.git/commit/?id=edf526e2a9b181c058620e1b42b1b378c37d99a7](http://git.sagemath.org/sage.git/commit/?id=edf526e2a9b181c058620e1b42b1b378c37d99a7)",
    "created_at": "2014-12-20T12:13:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115489",
    "user": "https://github.com/jdemeyer"
}
```

This finally passes all doctests. We just need somebody to review my last two commits:
* [http://git.sagemath.org/sage.git/commit/?id=4b5c3732a910b99b8f43b5b4eb0da13c8f1c7f27](http://git.sagemath.org/sage.git/commit/?id=4b5c3732a910b99b8f43b5b4eb0da13c8f1c7f27)
* [http://git.sagemath.org/sage.git/commit/?id=edf526e2a9b181c058620e1b42b1b378c37d99a7](http://git.sagemath.org/sage.git/commit/?id=edf526e2a9b181c058620e1b42b1b378c37d99a7)



---

archive/issue_comments_115490.json:
```json
{
    "body": "Replying to [comment:22 nthiery]:\n> Replying to [comment:15 vdelecroix]:\n> > Replying to [comment:13 jdemeyer]:\n> > > Question: would it be valid to use `Set_PythonType()` on a `Category` instead of a `type`?\n> > \n> > No. By the way I do not understand why `Posets`  and `Sequences` are categories and not `Parent`...\n> \n> The category corresponding to `Parent` is `Sets`. Now, why is there both `Parent` and `Sets`? The latter is an abstract class, while the former is a concrete implementation (and currently the only concrete base implementation; but we could imagine having others). Of course, a lot of the current features of `Parent` really should be moved up in `Sets` or in other categories. Some just need to be taken care of (handling some backward compatibility issues). Some are more intrinsically difficult\n> because of the lack of multiple inheritance in Cython; that's analog to the `Ring` versus `Rings`\n> situation.\n\nThanks Nicolas. But I do not understand why it is an answer to my question: \"why Posets and Sequences are categories and not Parent?\" As far as I understand, to declare something to have a category it needs to inherit from Parent (via `Parent.__init__(category=XYZ)`). So I do not see how to avoid `Parent`  by \"having others\".\nThe issue of `Ring` versus `Rings` has nothing to do with my question, or I missed something.\n\nVincent",
    "created_at": "2014-12-20T20:46:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115490",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:22 nthiery]:
> Replying to [comment:15 vdelecroix]:
> > Replying to [comment:13 jdemeyer]:
> > > Question: would it be valid to use `Set_PythonType()` on a `Category` instead of a `type`?
> > 
> > No. By the way I do not understand why `Posets`  and `Sequences` are categories and not `Parent`...
> 
> The category corresponding to `Parent` is `Sets`. Now, why is there both `Parent` and `Sets`? The latter is an abstract class, while the former is a concrete implementation (and currently the only concrete base implementation; but we could imagine having others). Of course, a lot of the current features of `Parent` really should be moved up in `Sets` or in other categories. Some just need to be taken care of (handling some backward compatibility issues). Some are more intrinsically difficult
> because of the lack of multiple inheritance in Cython; that's analog to the `Ring` versus `Rings`
> situation.

Thanks Nicolas. But I do not understand why it is an answer to my question: "why Posets and Sequences are categories and not Parent?" As far as I understand, to declare something to have a category it needs to inherit from Parent (via `Parent.__init__(category=XYZ)`). So I do not see how to avoid `Parent`  by "having others".
The issue of `Ring` versus `Rings` has nothing to do with my question, or I missed something.

Vincent



---

archive/issue_comments_115491.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2014-12-20T21:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115491",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_115492.json:
```json
{
    "body": "Replying to [comment:23 jdemeyer]:\n> This finally passes all doctests. We just need somebody to review my last two commits:\n> * [http://git.sagemath.org/sage.git/commit/?id=4b5c3732a910b99b8f43b5b4eb0da13c8f1c7f27](http://git.sagemath.org/sage.git/commit/?id=4b5c3732a910b99b8f43b5b4eb0da13c8f1c7f27)\n> * [http://git.sagemath.org/sage.git/commit/?id=edf526e2a9b181c058620e1b42b1b378c37d99a7](http://git.sagemath.org/sage.git/commit/?id=edf526e2a9b181c058620e1b42b1b378c37d99a7)\n\nI am fine with the first one. But the result of `.parent()` should be a parent isn't it? Why not\n\n```\ndef parent(self):\n    return Set_PythonType(type(self))\n```\n\n\nOn the other hand, the `MaximaWrapper` does not inherit from `Element` which is perfectly fine. I am worried that we need this method. The bug for me is the following behavior\n\n```\nsage: parent(sin(1).maxima_methods())\nparent(sin(1))\n```\n\nwhich should just behave like\n\n```\nsage: parent(int(1))\n<type 'int'>\n```\n\n(which is also strange but perfectly fine if uniform).\n\nThe reason is that there is a too permissive `__getattr__` in `MaximaWrapper` which never raises `AttributeError`. I would really prefer that:\n- either we move your solution at the level of `SageObject`\n- or we hack `__getattr__` of `MaximaWrapper`\n\nVincent",
    "created_at": "2014-12-20T21:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115492",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:23 jdemeyer]:
> This finally passes all doctests. We just need somebody to review my last two commits:
> * [http://git.sagemath.org/sage.git/commit/?id=4b5c3732a910b99b8f43b5b4eb0da13c8f1c7f27](http://git.sagemath.org/sage.git/commit/?id=4b5c3732a910b99b8f43b5b4eb0da13c8f1c7f27)
> * [http://git.sagemath.org/sage.git/commit/?id=edf526e2a9b181c058620e1b42b1b378c37d99a7](http://git.sagemath.org/sage.git/commit/?id=edf526e2a9b181c058620e1b42b1b378c37d99a7)

I am fine with the first one. But the result of `.parent()` should be a parent isn't it? Why not

```
def parent(self):
    return Set_PythonType(type(self))
```


On the other hand, the `MaximaWrapper` does not inherit from `Element` which is perfectly fine. I am worried that we need this method. The bug for me is the following behavior

```
sage: parent(sin(1).maxima_methods())
parent(sin(1))
```

which should just behave like

```
sage: parent(int(1))
<type 'int'>
```

(which is also strange but perfectly fine if uniform).

The reason is that there is a too permissive `__getattr__` in `MaximaWrapper` which never raises `AttributeError`. I would really prefer that:
- either we move your solution at the level of `SageObject`
- or we hack `__getattr__` of `MaximaWrapper`

Vincent



---

archive/issue_comments_115493.json:
```json
{
    "body": "Replying to [comment:24 vdelecroix]:\n> Replying to [comment:22 nthiery]:\n> > Replying to [comment:15 vdelecroix]:\n> > > Replying to [comment:13 jdemeyer]:\n> > > > Question: would it be valid to use `Set_PythonType()` on a `Category` instead of a `type`?\n> > > \n> > > No. By the way I do not understand why `Posets`  and `Sequences` are categories and not `Parent`...\n> > \n> > The category corresponding to `Parent` is `Sets`. Now, why is there both `Parent` and `Sets`? The latter is an abstract class, while the former is a concrete implementation (and currently the only concrete base implementation; but we could imagine having others). Of course, a lot of the current features of `Parent` really should be moved up in `Sets` or in other categories. Some just need to be taken care of (handling some backward compatibility issues). Some are more intrinsically difficult\n> > because of the lack of multiple inheritance in Cython; that's analog to the `Ring` versus `Rings`\n> > situation.\n> \n> Thanks Nicolas. But I do not understand why it is an answer to my question: \"why Posets and Sequences are categories and not Parent?\" As far as I understand, to declare something to have a category it needs to inherit from Parent (via `Parent.__init__(category=XYZ)`). So I do not see how to avoid `Parent`  by \"having others\".\n> The issue of `Ring` versus `Rings` has nothing to do with my question, or I missed something.\n\nHmm I am not sure I understand your question then. Can you rephrase it?\n\nJust a quick note for now: to have a category, you need to be a CategoryObject (surprise surprise ...).",
    "created_at": "2014-12-20T21:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115493",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:24 vdelecroix]:
> Replying to [comment:22 nthiery]:
> > Replying to [comment:15 vdelecroix]:
> > > Replying to [comment:13 jdemeyer]:
> > > > Question: would it be valid to use `Set_PythonType()` on a `Category` instead of a `type`?
> > > 
> > > No. By the way I do not understand why `Posets`  and `Sequences` are categories and not `Parent`...
> > 
> > The category corresponding to `Parent` is `Sets`. Now, why is there both `Parent` and `Sets`? The latter is an abstract class, while the former is a concrete implementation (and currently the only concrete base implementation; but we could imagine having others). Of course, a lot of the current features of `Parent` really should be moved up in `Sets` or in other categories. Some just need to be taken care of (handling some backward compatibility issues). Some are more intrinsically difficult
> > because of the lack of multiple inheritance in Cython; that's analog to the `Ring` versus `Rings`
> > situation.
> 
> Thanks Nicolas. But I do not understand why it is an answer to my question: "why Posets and Sequences are categories and not Parent?" As far as I understand, to declare something to have a category it needs to inherit from Parent (via `Parent.__init__(category=XYZ)`). So I do not see how to avoid `Parent`  by "having others".
> The issue of `Ring` versus `Rings` has nothing to do with my question, or I missed something.

Hmm I am not sure I understand your question then. Can you rephrase it?

Just a quick note for now: to have a category, you need to be a CategoryObject (surprise surprise ...).



---

archive/issue_comments_115494.json:
```json
{
    "body": "Replying to [comment:25 vdelecroix]:\n> But the result of `.parent()` should be a parent isn't it?\nIt doesn't have to be. For things which don't have a parent, it's accepted to return a `type` instead. After all, the global `parent(x)` function returns `type(x)` if x has no parent.",
    "created_at": "2014-12-20T22:48:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115494",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:25 vdelecroix]:
> But the result of `.parent()` should be a parent isn't it?
It doesn't have to be. For things which don't have a parent, it's accepted to return a `type` instead. After all, the global `parent(x)` function returns `type(x)` if x has no parent.



---

archive/issue_comments_115495.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-12-21T09:46:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115495",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_115496.json:
```json
{
    "body": "Replying to [comment:25 vdelecroix]:\n>  - either we move your solution at the level of `SageObject`\nDone! This commit *replaces* the last one.",
    "created_at": "2014-12-21T09:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115496",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:25 vdelecroix]:
>  - either we move your solution at the level of `SageObject`
Done! This commit *replaces* the last one.



---

archive/issue_comments_115497.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2014-12-21T09:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115497",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_115498.json:
```json
{
    "body": "Replying to [comment:26 nthiery]:\n> Hmm I am not sure I understand your question then. Can you rephrase it?\n\nWhy `Posets` and `Sequences` do not inherit from `CategoryObject`?\n\nVincent",
    "created_at": "2014-12-21T11:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115498",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:26 nthiery]:
> Hmm I am not sure I understand your question then. Can you rephrase it?

Why `Posets` and `Sequences` do not inherit from `CategoryObject`?

Vincent



---

archive/issue_comments_115499.json:
```json
{
    "body": "All right. Thanks.",
    "created_at": "2014-12-21T11:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115499",
    "user": "https://github.com/videlec"
}
```

All right. Thanks.



---

archive/issue_comments_115500.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-21T11:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115500",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_115501.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-01-02T15:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10883#issuecomment-115501",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
