# Issue 30362: Define a new data structure for a list of combinatorial faces

Issue created by migration from https://trac.sagemath.org/ticket/30599

Original creator: @kliem

Original creation time: 2020-09-18 13:51:10

CC:  tscrim

Keywords: face list data structure

We define a new data structure for a lists of combinatorial faces.

The corresponding functions will replace the functions in `bit_vector_operations.cc` and now are factored out to bitsets.

See #30549 for doctesting.


---

Comment by @kliem created at 2020-09-18 13:51:49

Changing status from new to needs_review.


---

Comment by git created at 2020-09-18 15:57:41

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:


---

Comment by tscrim created at 2020-10-24 05:31:54

The `cdef void sort_faces_list(face_list_t faces):` seems strange. I don't see why there needs to be a `return` in the `if` because there is no remainder of the function. Did something get lost?

Trivial, but not C `:P` in `cdef inline size_t get_next_level_fused`: `faces.n_faces -= 1;`


---

Comment by git created at 2020-10-26 07:14:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2020-10-26 07:18:53

Replying to [comment:3 tscrim]:
> The `cdef void sort_faces_list(face_list_t faces):` seems strange. I don't see why there needs to be a `return` in the `if` because there is no remainder of the function. Did something get lost?
> 
> Trivial, but not C `:P` in `cdef inline size_t get_next_level_fused`: `faces.n_faces -= 1;`
> 

Done.

The `return` is still needed, but only in one place (out of two). In `sort_faces_list` it is indeed redundant. A few lines down it is still present.


---

Comment by tscrim created at 2020-10-27 00:18:51

I agree that it is needed for `_sort_faces_loop`.

Thank you. LGTM.


---

Comment by tscrim created at 2020-10-27 00:18:51

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-11-01 00:42:59

Resolution: fixed
