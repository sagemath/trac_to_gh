# Issue 22398: Pari tests broken on Cygwin

Issue created by migration from https://trac.sagemath.org/ticket/22635

Original creator: embray

Original creation time: 2017-03-18 00:13:10

Keywords: windows cygwin pari

The test suite for Pari itself (e.g. `make test-all`) is broken on Cygwin.  Each test is given as a file containing commands that is piped to `gp`'s stdin.  However, it exits prematurely after reading just a few lines of each test.

The attached patch fixes the issue.  I didn't update the patch level on the package version yet, since it would conflict with #22633 (which is higher priority to fix first).


---

Comment by jdemeyer created at 2017-03-18 06:35:27

The patch obviously makes sense but it should be reported upstream.


---

Comment by embray created at 2017-03-18 10:52:56

Right, definitely.


---

Comment by jdemeyer created at 2017-03-21 16:12:37

Do you want me to report this upstream?


---

Comment by jdemeyer created at 2017-03-22 08:30:32

Replying to [ticket:22635 embray]:
> The attached patch fixes the issue.  I didn't update the patch level on the package version yet, since it would conflict with #22633 (which is higher priority to fix first).

Since the patches are rather simple, maybe it's easier to add both patches on the same ticket (say, #22633)?


---

Comment by embray created at 2017-03-22 09:41:13

That would be pointless as there are already separate tickets and the issues are unrelated.


---

Comment by jdemeyer created at 2017-03-23 10:55:54

Beware of #22675: we might need to synchronize these tickets.


---

Comment by jdemeyer created at 2017-04-06 08:21:40

Resolution: duplicate


---

Comment by jdemeyer created at 2017-04-06 08:21:40

I will add the patch to #22675.
