# Issue 20731: more Hadamard matrices with constant diagonal

archive/issues_020731.json:
```json
{
    "body": "CC:  vdelecroix\n\nAdding a construction by J.Wallis and A.L.Whiteman (1972).\nThis gives in particular RSHCD(676,1) and RSHCD(900,1), \nand corresponding strongly regular graphs.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20968\n\n",
    "created_at": "2016-07-07T00:10:56Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "title": "more Hadamard matrices with constant diagonal",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20731",
    "user": "dimpase"
}
```
CC:  vdelecroix

Adding a construction by J.Wallis and A.L.Whiteman (1972).
This gives in particular RSHCD(676,1) and RSHCD(900,1), 
and corresponding strongly regular graphs.

Issue created by migration from https://trac.sagemath.org/ticket/20968





---

archive/issue_comments_286388.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-07-07T13:17:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286388",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_286389.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-07-07T13:42:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286389",
    "user": "dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_286390.json:
```json
{
    "body": "I wonder whether that small difference family (by Szekeres) here ought to be moved somewhere else.",
    "created_at": "2016-07-07T14:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286390",
    "user": "dimpase"
}
```

I wonder whether that small difference family (by Szekeres) here ought to be moved somewhere else.



---

archive/issue_comments_286391.json:
```json
{
    "body": "To get the squares in a finite field, there is better than\n\n```\nQ = filter(lambda a: a.is_square() and a.is_unit(), F)\n```\n\nSince you are using containment test later on I would even do\n\n```\nQ = set(a**2 for a in F)\nQ.remove(F.zero())\n```\n\n\nFor `szekeres_difference_set_pair`, it would be better to have the same variable name in the documentation description and in the function (currently `G` and `Q`).\n\nCould you remove the trailing whitespaces in the whole file?\n\nFor the ` szekeres_difference_set_pair` and `typeI_matrix_difference_set`, why not put it somewhere in `sage.combinat.designs.difference_family`?\n\nYou should add an example in `regular_symmetric_hadamard_matrix_with_constant_diagonal` where your new construction is actually used.",
    "created_at": "2016-07-07T14:28:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286391",
    "user": "vdelecroix"
}
```

To get the squares in a finite field, there is better than

```
Q = filter(lambda a: a.is_square() and a.is_unit(), F)
```

Since you are using containment test later on I would even do

```
Q = set(a**2 for a in F)
Q.remove(F.zero())
```


For `szekeres_difference_set_pair`, it would be better to have the same variable name in the documentation description and in the function (currently `G` and `Q`).

Could you remove the trailing whitespaces in the whole file?

For the ` szekeres_difference_set_pair` and `typeI_matrix_difference_set`, why not put it somewhere in `sage.combinat.designs.difference_family`?

You should add an example in `regular_symmetric_hadamard_matrix_with_constant_diagonal` where your new construction is actually used.



---

archive/issue_comments_286392.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-07-07T14:28:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286392",
    "user": "vdelecroix"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_286393.json:
```json
{
    "body": "(testing whether an issue with the site is fixed; sorry for the noise)",
    "created_at": "2016-07-08T08:55:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286393",
    "user": "embray"
}
```

(testing whether an issue with the site is fixed; sorry for the noise)



---

archive/issue_comments_286394.json:
```json
{
    "body": "Replying to [comment:4 vdelecroix]:\n> To get the squares in a finite field, there is better than\n> {{{\n> Q = filter(lambda a: a.is_square() and a.is_unit(), F)\n> }}}\n> Since you are using containment test later on I would even do\n> {{{\n> Q = set(a**2 for a in F)\n> Q.remove(F.zero())\n> }}}\n> \n> For `szekeres_difference_set_pair`, it would be better to have the same variable name in the documentation description and in the function (currently `G` and `Q`).\n> \n> Could you remove the trailing whitespaces in the whole file?\n\nyes, I'll do all of the above. I can do even better, as I know a generator for the multiplicative group of the field, thus I can list the squares explicitly\nwithout repetition...\n\n> \n> For the ` szekeres_difference_set_pair` and `typeI_matrix_difference_set`, why not put it somewhere in `sage.combinat.designs.difference_family`?\n\n`szekeres_difference_set_pair` does not return a group, it merely returns a list of group elements; in this form I don't think it should go there. In fact I do not know how to create, in Sage, a subgroup of the multiplicative group of a field in a natural way. Indeed:\n\n```\nsage: F=GF(27)\nsage: t=F.multiplicative_generator()\nsage: G=GL(1,F)\nsage: t in G\nTrue\nsage: G.subgroup([t^2])\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-58-d1ce805e8ed8> in <module>()\n----> 1 G.subgroup([t**Integer(2)])\n...\nAttributeError: 'sage.rings.finite_rings.element_givaro.FiniteField_givaroElement' object has no attribute 'gap'\n```\n\nThe problem here is that matrix groups in Sage are done via (lib)GAP, but \nthis is not compatible with the default way of creating GF in Sage. \nI don't see how to overcome this easily - would you mind if I keep it the way it is? \n\n> \n> You should add an example in `regular_symmetric_hadamard_matrix_with_constant_diagonal` where your new construction is actually used.\n\nright.",
    "created_at": "2016-07-08T10:23:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286394",
    "user": "dimpase"
}
```

Replying to [comment:4 vdelecroix]:
> To get the squares in a finite field, there is better than
> {{{
> Q = filter(lambda a: a.is_square() and a.is_unit(), F)
> }}}
> Since you are using containment test later on I would even do
> {{{
> Q = set(a**2 for a in F)
> Q.remove(F.zero())
> }}}
> 
> For `szekeres_difference_set_pair`, it would be better to have the same variable name in the documentation description and in the function (currently `G` and `Q`).
> 
> Could you remove the trailing whitespaces in the whole file?

yes, I'll do all of the above. I can do even better, as I know a generator for the multiplicative group of the field, thus I can list the squares explicitly
without repetition...

> 
> For the ` szekeres_difference_set_pair` and `typeI_matrix_difference_set`, why not put it somewhere in `sage.combinat.designs.difference_family`?

`szekeres_difference_set_pair` does not return a group, it merely returns a list of group elements; in this form I don't think it should go there. In fact I do not know how to create, in Sage, a subgroup of the multiplicative group of a field in a natural way. Indeed:

```
sage: F=GF(27)
sage: t=F.multiplicative_generator()
sage: G=GL(1,F)
sage: t in G
True
sage: G.subgroup([t^2])
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-58-d1ce805e8ed8> in <module>()
----> 1 G.subgroup([t**Integer(2)])
...
AttributeError: 'sage.rings.finite_rings.element_givaro.FiniteField_givaroElement' object has no attribute 'gap'
```

The problem here is that matrix groups in Sage are done via (lib)GAP, but 
this is not compatible with the default way of creating GF in Sage. 
I don't see how to overcome this easily - would you mind if I keep it the way it is? 

> 
> You should add an example in `regular_symmetric_hadamard_matrix_with_constant_diagonal` where your new construction is actually used.

right.



---

archive/issue_comments_286395.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-08T15:10:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286395",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_286396.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-07-08T15:12:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286396",
    "user": "dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_286397.json:
```json
{
    "body": "the changes as you suggested and I proposed in the last comment to do.",
    "created_at": "2016-07-08T15:12:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286397",
    "user": "dimpase"
}
```

the changes as you suggested and I proposed in the last comment to do.



---

archive/issue_comments_286398.json:
```json
{
    "body": "The following\n\n```\nA = filter(lambda a: a-F.one() in G, G)\n```\n\nis quadratic time in the size of `G` (because `G` is a list). If it was a Python set then it would be linear in `G`.\n\nNote that a way to return a group together with subsets is to actually translate everything to the Abelian group `Z/(2m+1)Z` via the isomorphism `Z/(2m+1)Z -> G` that maps `i` to `x^i` where `x` is your generator. However, I am not sure it is a good idea.",
    "created_at": "2016-07-08T20:24:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286398",
    "user": "vdelecroix"
}
```

The following

```
A = filter(lambda a: a-F.one() in G, G)
```

is quadratic time in the size of `G` (because `G` is a list). If it was a Python set then it would be linear in `G`.

Note that a way to return a group together with subsets is to actually translate everything to the Abelian group `Z/(2m+1)Z` via the isomorphism `Z/(2m+1)Z -> G` that maps `i` to `x^i` where `x` is your generator. However, I am not sure it is a good idea.



---

archive/issue_comments_286399.json:
```json
{
    "body": "For all the squaring buisness it is much faster to use the **methods** of Sage integers rather than the generic functions `is_square` and `sqrt`\n\n```\nsage: %timeit is_square(n)\n1000000 loops, best of 3: 698 ns per loop\nsage: %timeit n.is_square()\n1000000 loops, best of 3: 139 ns per loop\nsage: %timeit sqrt(n)\n1000000 loops, best of 3: 860 ns per loop\nsage: %timeit n.sqrtrem()\n1000000 loops, best of 3: 172 ns per loop\n```\n\n(though it does not import much since the time is not spent here anyway)",
    "created_at": "2016-07-08T20:28:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286399",
    "user": "vdelecroix"
}
```

For all the squaring buisness it is much faster to use the **methods** of Sage integers rather than the generic functions `is_square` and `sqrt`

```
sage: %timeit is_square(n)
1000000 loops, best of 3: 698 ns per loop
sage: %timeit n.is_square()
1000000 loops, best of 3: 139 ns per loop
sage: %timeit sqrt(n)
1000000 loops, best of 3: 860 ns per loop
sage: %timeit n.sqrtrem()
1000000 loops, best of 3: 172 ns per loop
```

(though it does not import much since the time is not spent here anyway)



---

archive/issue_comments_286400.json:
```json
{
    "body": "Why this\n\n```\ntry:\n    m = srg(n-1,(n-2)/2,(n-6)/4,(n-2)/4)\nexcept ValueError:\n    raise\n```\n\nand not simply\n\n```\nm = srg(n-1,(n-2)/2,(n-6)/4,(n-2)/4)\n```\n",
    "created_at": "2016-07-08T20:30:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286400",
    "user": "vdelecroix"
}
```

Why this

```
try:
    m = srg(n-1,(n-2)/2,(n-6)/4,(n-2)/4)
except ValueError:
    raise
```

and not simply

```
m = srg(n-1,(n-2)/2,(n-6)/4,(n-2)/4)
```




---

archive/issue_comments_286401.json:
```json
{
    "body": "Note that for generating the squares you have a possible shortcut\n\n```\nsage: K = GF(19)\nsage: K.cyclotomic_cosets(K.multiplicative_generator()^2, cosets=[K.one()])\n[[1, 4, 5, 6, 7, 9, 11, 16, 17]]\n```\n\n(this function is used *a lot* in the code for difference families)",
    "created_at": "2016-07-08T20:33:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286401",
    "user": "vdelecroix"
}
```

Note that for generating the squares you have a possible shortcut

```
sage: K = GF(19)
sage: K.cyclotomic_cosets(K.multiplicative_generator()^2, cosets=[K.one()])
[[1, 4, 5, 6, 7, 9, 11, 16, 17]]
```

(this function is used *a lot* in the code for difference families)



---

archive/issue_comments_286402.json:
```json
{
    "body": "Replying to [comment:14 vdelecroix]:\n> Why this\n> {{{\n> try:\n>     m = srg(n-1,(n-2)/2,(n-6)/4,(n-2)/4)\n> except ValueError:\n>     raise\n> }}}\n> and not simply\n> {{{\n> m = srg(n-1,(n-2)/2,(n-6)/4,(n-2)/4)\n> }}}\n\nActually, it is `return` there, not `raise`. So this makes sense as it is.",
    "created_at": "2016-07-08T20:52:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286402",
    "user": "dimpase"
}
```

Replying to [comment:14 vdelecroix]:
> Why this
> {{{
> try:
>     m = srg(n-1,(n-2)/2,(n-6)/4,(n-2)/4)
> except ValueError:
>     raise
> }}}
> and not simply
> {{{
> m = srg(n-1,(n-2)/2,(n-6)/4,(n-2)/4)
> }}}

Actually, it is `return` there, not `raise`. So this makes sense as it is.



---

archive/issue_comments_286403.json:
```json
{
    "body": "For python 3 compatibility, please use exact division `//` whenever possible.\n\n```\nm = srg(n-1,(n-2)/2,(n-6)/4,(n-2)/4)\n```\n",
    "created_at": "2016-07-09T11:38:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286403",
    "user": "chapoton"
}
```

For python 3 compatibility, please use exact division `//` whenever possible.

```
m = srg(n-1,(n-2)/2,(n-6)/4,(n-2)/4)
```




---

archive/issue_comments_286404.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-09T15:39:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286404",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_286405.json:
```json
{
    "body": "ready for another round.",
    "created_at": "2016-07-09T15:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286405",
    "user": "dimpase"
}
```

ready for another round.



---

archive/issue_comments_286406.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-07-25T01:42:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286406",
    "user": "vdelecroix"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_286407.json:
```json
{
    "body": "typo `coneference` should be `conference`\n\nThis is not a sentence `Thus `C` we build ...`\n\nThe docstring of `typeI_matrix_difference_set` ends with {\"\"\"} without indentation.",
    "created_at": "2016-07-25T01:42:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286407",
    "user": "vdelecroix"
}
```

typo `coneference` should be `conference`

This is not a sentence `Thus `C` we build ...`

The docstring of `typeI_matrix_difference_set` ends with {"""} without indentation.



---

archive/issue_comments_286408.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-26T12:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286408",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_286409.json:
```json
{
    "body": "OK, thanks, fixed these typos.",
    "created_at": "2016-07-26T12:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286409",
    "user": "dimpase"
}
```

OK, thanks, fixed these typos.



---

archive/issue_comments_286410.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-07-26T12:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286410",
    "user": "dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_286411.json:
```json
{
    "body": "Assuming `is_square(n)` is `True`, checking `sqrt(n) % 4 == 2` is equivalent to `n % 8 in (2,6)`. That makes it a cheaper test (possibly to put *before* the square test).",
    "created_at": "2016-07-26T21:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286411",
    "user": "vdelecroix"
}
```

Assuming `is_square(n)` is `True`, checking `sqrt(n) % 4 == 2` is equivalent to `n % 8 in (2,6)`. That makes it a cheaper test (possibly to put *before* the square test).



---

archive/issue_comments_286412.json:
```json
{
    "body": "In `szekeres_difference_set_pair` it would be better to actually check that the output is what you want. In other words check that `A` and `B` are difference sets and that there are complementary.",
    "created_at": "2016-07-26T21:50:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286412",
    "user": "vdelecroix"
}
```

In `szekeres_difference_set_pair` it would be better to actually check that the output is what you want. In other words check that `A` and `B` are difference sets and that there are complementary.



---

archive/issue_comments_286413.json:
```json
{
    "body": "Replying to [comment:24 vdelecroix]:\n> In `szekeres_difference_set_pair` it would be better to actually check that the output is what you want. In other words check that `A` and `B` are difference sets and that there are complementary.\n\nit is actually even more than that; A has to be skew-symmetric and B has to be \nsymmetric (in terms of their  \"typeI matrices\"). But this, as well as the above, is\ntested indirectly, by building the corresponding Hadamard matrix.",
    "created_at": "2016-07-27T00:00:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286413",
    "user": "dimpase"
}
```

Replying to [comment:24 vdelecroix]:
> In `szekeres_difference_set_pair` it would be better to actually check that the output is what you want. In other words check that `A` and `B` are difference sets and that there are complementary.

it is actually even more than that; A has to be skew-symmetric and B has to be 
symmetric (in terms of their  "typeI matrices"). But this, as well as the above, is
tested indirectly, by building the corresponding Hadamard matrix.



---

archive/issue_comments_286414.json:
```json
{
    "body": "Replying to [comment:25 dimpase]:\n> Replying to [comment:24 vdelecroix]:\n> > In `szekeres_difference_set_pair` it would be better to actually check that the output is what you want. In other words check that `A` and `B` are difference sets and that there are complementary.\n> \n> it is actually even more than that; A has to be skew-symmetric and B has to be \n> symmetric (in terms of their  \"typeI matrices\"). But this, as well as the above, is\n> tested indirectly, by building the corresponding Hadamard matrix.\n> \nThese sets are not difference sets in the [classical sense](https://en.wikipedia.org/wiki/Difference_set). Indeed, \n\n```\nsage: szekeres_difference_set_pair(2)\n([1, 3, 4, 5, 9], [4, 5], [3, 4])\n```\n\nThat is you have v=5, k=2, and the standard equation k<sup>2</sup>-k=(v-1)l on the parameters (v,k,l) of a difference set implies l=1/2, which just cannot happen.\n\nWhat we have here is a difference family, with s=2, so you have s(k<sup>2</sup>-k)=(v-1)l, ie\n[the parameters of the family](https://en.wikipedia.org/wiki/Difference_set#Generalisations) are (v,k,l,s)=(2m+1,m,1,2). Note that in `designs.difference_family` the parameter s is not explicit (but can be computed as (v-1)l/(k<sup>2</sup>-k)).",
    "created_at": "2016-07-27T14:28:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286414",
    "user": "dimpase"
}
```

Replying to [comment:25 dimpase]:
> Replying to [comment:24 vdelecroix]:
> > In `szekeres_difference_set_pair` it would be better to actually check that the output is what you want. In other words check that `A` and `B` are difference sets and that there are complementary.
> 
> it is actually even more than that; A has to be skew-symmetric and B has to be 
> symmetric (in terms of their  "typeI matrices"). But this, as well as the above, is
> tested indirectly, by building the corresponding Hadamard matrix.
> 
These sets are not difference sets in the [classical sense](https://en.wikipedia.org/wiki/Difference_set). Indeed, 

```
sage: szekeres_difference_set_pair(2)
([1, 3, 4, 5, 9], [4, 5], [3, 4])
```

That is you have v=5, k=2, and the standard equation k<sup>2</sup>-k=(v-1)l on the parameters (v,k,l) of a difference set implies l=1/2, which just cannot happen.

What we have here is a difference family, with s=2, so you have s(k<sup>2</sup>-k)=(v-1)l, ie
[the parameters of the family](https://en.wikipedia.org/wiki/Difference_set#Generalisations) are (v,k,l,s)=(2m+1,m,1,2). Note that in `designs.difference_family` the parameter s is not explicit (but can be computed as (v-1)l/(k<sup>2</sup>-k)).



---

archive/issue_comments_286415.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-07-27T19:30:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286415",
    "user": "vdelecroix"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_286416.json:
```json
{
    "body": "All right. Let it go as it is now!",
    "created_at": "2016-07-27T19:30:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286416",
    "user": "vdelecroix"
}
```

All right. Let it go as it is now!



---

archive/issue_comments_286417.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2016-07-27T19:32:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286417",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_286418.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2016-07-27T19:32:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286418",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_286419.json:
```json
{
    "body": "oops, I was just at it... Could you have a quick look again?\nThanks!",
    "created_at": "2016-07-27T19:33:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286419",
    "user": "dimpase"
}
```

oops, I was just at it... Could you have a quick look again?
Thanks!



---

archive/issue_comments_286420.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-07-27T20:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286420",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_286421.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-07-30T02:02:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286421",
    "user": "vdelecroix"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_286422.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-08-07T20:01:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20731",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20731#issuecomment-286422",
    "user": "vbraun"
}
```

Resolution: fixed
