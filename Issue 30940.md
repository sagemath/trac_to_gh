# Issue 30940: Add graphviz, pygraphviz packages

Issue created by migration from https://trac.sagemath.org/ticket/31177

Original creator: mkoeppe

Original creation time: 2021-01-04 01:40:13

CC:  dimpase dcoudert slabbe dunfield culler slelievre vdelecroix

Several places in Sage refer to graphviz.

We should add it to the distribution, either as a script package just to link it to system package information, or as a normal optional package.

Current versions of `graphviz` seem to be licensed under the Eclipse Public License 1.0, which is a free software license but GPL-incompatible. https://gitlab.com/graphviz/graphviz/-/blob/master/LICENSE

So probably we should not make it a standard package.


---

Comment by mkoeppe created at 2021-01-04 05:06:29

https://github.com/3-manifolds/sagedocker/blob/master/sage/scripts/08_graphviz.sh uses a more specific configuration using `libgts-dev libpango1.0-dev` on ubuntu.
----
New commits:


---

Comment by git created at 2021-01-04 07:34:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-01-07 02:20:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-01-07 02:47:52

`graphviz` build seems brittle: Failing here on macOS because `ps2pdf` is not available and PDF manual build cannot seem to be disabled.

Perhaps it's best to just make it a script package that provides system package info after all.


---

Comment by git created at 2021-01-07 02:53:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-01-07 02:56:20

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-02-03 02:03:54

Needs review


---

Comment by dcoudert created at 2021-02-16 09:32:18

I tried on macOS 10.15.7 after installing graphviz with homebrew. It is well detected and compilation went well. 
I don't know if I have tested it enough (did a few tests on graphs), but it seems ok to me.


---

Comment by dcoudert created at 2021-02-16 09:32:18

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-02-16 15:02:28

Thank you!


---

Comment by vbraun created at 2021-03-07 17:06:01

Resolution: fixed
