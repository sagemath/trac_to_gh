# Issue 19802: Subfield subcodes

Issue created by migration from Trac.

Original creator: dlucas

Original creation time: 2016-02-11 15:57:21

This ticket proposes an implementation of subfield subcodes.

  


---

Comment by git created at 2016-02-11 16:01:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dlucas created at 2016-02-11 16:07:12

This is still a WIP I push here as there's some work done which might be of any interest.

In my branch, one will find:

- a class dedicated to field embeddings which, considering `Fp` a finite field (`p` prime), `Fq` (`q=p^s`) and `Fq^m`, gives a representation of elements of `Fq^m` as vectors of `Fp` over a basis of `Fq`.

- an implementation of subfield subcodes

## Known issues

- Some names are quite bad and need to be reconsidered
- Subfield subcode's parity check matrix computation has not been thoroughly tested
- A decoder for subfield subcodes is not yet implemented
- Some interesting methods could be implemented (e.g. dual code of a subfield subcode)
- `dimension_lower_bound` seems quite useless...


---

Comment by git created at 2016-02-15 10:36:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-02-19 09:03:25

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by dlucas created at 2016-02-19 09:06:34

Changing status from new to needs_review.


---

Comment by dlucas created at 2016-02-19 09:06:34

I implemented a decoder for subfield subcodes, rewrote some documentation and fixed the bugs I found.
I decided to drop the implementation of a specific `dual_code` method as it seems to quite difficult, and thus will be done in another ticket.
This ticket now depends on #19653, as I need better decoders than `syndrome` and `nearest_neighbor` to perform (fast) tests over the decoder implemented here. 

This is now open for review.

David


---

Comment by git created at 2016-03-01 13:02:11

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by dlucas created at 2016-03-01 13:04:09

I made a few fixes:

- `decoding_radius` now properly handles extra arguments. This is useful if the original decoder is `GRSErrorErasureDecoder`, for instance.
- The decoder now succeeds (and returns a list) when it should with an original decoder which is a list decoder.

This is still open for review.

David


---

Comment by dimpase created at 2016-03-23 15:12:01

after a very quick look I noticed that you swapped the order of parameters for `HammingCode`. This means you would need to deprecate the existing order, etc etc.

Are you really willing to do so?


---

Comment by dlucas created at 2016-03-23 15:51:13

Hello,

I did that for consistency with the new code classes I'm designing, in which the base field of the code is the first argument.
I'd prefer to do so, as I like when all the classes of a library have the same calling conventions (if possible, of course).

And in that case, it was actually done in #19930... Which is now closed.
I deprecated the old convention, of course.

I hope it's not a problem...

Best,

David


---

Comment by jpflori created at 2016-03-24 14:25:42

Hi David,

Please split the two items you mention into two different tickets if possible.
That is if you really have a nice and general class for finite fields embeddings, please give it its own ticket.
Its use will definitely go much further than subfields codes!
And hopefully I might have time to review it first.

Best,
JP


---

Comment by dlucas created at 2016-03-25 08:50:18

Hello,

I opened a new ticket for my field embeddings class. See it in #20284.

Best,

David


---

Comment by jlavauzelle created at 2016-07-05 11:50:52

Hi,

I merged it with the latest beta, and made it work with the new `relative_finite_field_extension.py` file. I also removed some piece of code in the list decoder, which didn't return subfield codewords. Thus it remains to fix this and to do the review.

Still needs review then.

Best,

Julien
----
New commits:


---

Comment by git created at 2016-07-17 13:36:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jlavauzelle created at 2016-07-17 13:37:36

Hi David,

First, I merged with the latest beta.

I also reviewed your code. Nice piece of code, again. A few remarks:
 - I added the classes into the catalogs.
 
 - That's a great feature that you let the user choose the field embedding. But it has consequences. Especially, if you consider two subfield subcodes `C1` and `C2` of the same code, with the same subfield but with different embeddings, then `C1 == C2` does not generally hold (they are only isomorphic). So your equality test `__eq__` should check the embedding also. See the code below:
 {{{
 q = 4 ; Q = q**3 ; k = 8
 Fq = GF(q) ; FQ = GF(Q)
 pts = FQ.list()[:Q//5]
 C = codes.GeneralizedReedSolomonCode(pts, k)
 H = Hom(Fq, FQ)
 SubC1 = codes.SubfieldSubcode(C, Fq, embedding=H[0])
 SubC2 = codes.SubfieldSubcode(C, Fq, embedding=H[1])
 for c in SubC1:
     print c in SubC2
 }}}
   I my commits, I proposed to check the embedding instead of the field order (well, in fact, the field will be checked via the embedding).

 - I made the decoder raise a `DecodingError` when trying to output a non-subfield word.

 - I also modified `cast_into_relative_field()` method from `relative_finite_field_embedding.py` and added an `__eq__()` method.

If you agree with my changes, put it on positive review.

Julien


---

Comment by dlucas created at 2016-07-18 11:09:42

Hello,

I agree with your changes, thanks for your work!
I made a tiny tweak: since #20840, it's no longer necessary to register manually 
generic decoders in every single file, `AbstractLinearCode`'s constructor now does it.
Thus, I removed the lines related to registration of syndrome and nearest neighbour decoders 
in `SubfieldSubcode`'s list of known decoders.

If this is fine with you, you can set it to `positive_review`!

Best,

David
----
New commits:


---

Comment by jlavauzelle created at 2016-07-18 13:21:22

Hi,

Alright, I didn't know there was such a automatic registration. Great :)

Positive review then.

Julien


---

Comment by jlavauzelle created at 2016-07-18 13:21:22

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-07-19 23:13:09

Resolution: fixed
