# Issue 28826: spkg-configure.m4 for planarity

archive/issues_028826.json:
```json
{
    "body": "CC:  @kiwifb @embray @tobihan @infinity0 @isuruf @mkoeppe\n\nthis is a relatively stable C library, the only problem is that there are also very old versions (2.2.0 on Fedora 26) around, and it's not quite clear whether they work and how to distinguish them.\n\n(one way to distinguish is to test for macro gp_IsArc - present in old 2.2.0 headers, but then gone)\n\nIssue created by migration from https://trac.sagemath.org/ticket/29063\n\n",
    "created_at": "2020-01-21T19:27:43Z",
    "labels": [
        "component: build: configure"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "spkg-configure.m4 for planarity",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28826",
    "user": "https://github.com/dimpase"
}
```
CC:  @kiwifb @embray @tobihan @infinity0 @isuruf @mkoeppe

this is a relatively stable C library, the only problem is that there are also very old versions (2.2.0 on Fedora 26) around, and it's not quite clear whether they work and how to distinguish them.

(one way to distinguish is to test for macro gp_IsArc - present in old 2.2.0 headers, but then gone)

Issue created by migration from https://trac.sagemath.org/ticket/29063





---

archive/issue_comments_407139.json:
```json
{
    "body": "package names: \n\nplanarity libplanarity-dev (Debian)\n\nplanarity planarity-devel (Fedora)",
    "created_at": "2020-01-21T19:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28826#issuecomment-407139",
    "user": "https://github.com/dimpase"
}
```

package names: 

planarity libplanarity-dev (Debian)

planarity planarity-devel (Fedora)



---

archive/issue_comments_407140.json:
```json
{
    "body": "2.2.0 prevents sagelib building, as `planarity/graphStructures.h` should have\n\n```\ntypedef struct\n{\n        int  link[2];\n        int  index;\n        unsigned flags;\n} vertexRec;\n```\n\nand not\n\n```\ntypedef struct\n{\n        int DFSParent, leastAncestor, Lowpoint, adjacentTo;\n        int pertinentBicompList, separatedDFSChildList, fwdArcList;\n} vertexRec;\n```\n\n\nSo we can write a test using `AC_COMPILE_IFELSE()`.",
    "created_at": "2020-01-21T19:49:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28826#issuecomment-407140",
    "user": "https://github.com/dimpase"
}
```

2.2.0 prevents sagelib building, as `planarity/graphStructures.h` should have

```
typedef struct
{
        int  link[2];
        int  index;
        unsigned flags;
} vertexRec;
```

and not

```
typedef struct
{
        int DFSParent, leastAncestor, Lowpoint, adjacentTo;
        int pertinentBicompList, separatedDFSChildList, fwdArcList;
} vertexRec;
```


So we can write a test using `AC_COMPILE_IFELSE()`.



---

archive/issue_comments_407141.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-01-21T23:32:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28826#issuecomment-407141",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_407142.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-01-21T23:32:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28826#issuecomment-407142",
    "user": "https://github.com/dimpase"
}
```

New commits:



---

archive/issue_comments_407143.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-01-22T04:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28826#issuecomment-407143",
    "user": "https://github.com/isuruf"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_407144.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-01-25T17:27:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28826#issuecomment-407144",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_026661.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-25T17:27:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28826",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28826#event-26661"
}
```
