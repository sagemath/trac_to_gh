# Issue 28826: spkg-configure.m4 for planarity

Issue created by migration from https://trac.sagemath.org/ticket/29063

Original creator: dimpase

Original creation time: 2020-01-21 19:27:43

CC:  fbissey embray thansen infinity0 isuruf mkoeppe

this is a relatively stable C library, the only problem is that there are also very old versions (2.2.0 on Fedora 26) around, and it's not quite clear whether they work and how to distinguish them.

(one way to distinguish is to test for macro gp_IsArc - present in old 2.2.0 headers, but then gone)


---

Comment by dimpase created at 2020-01-21 19:43:53

package names: 

planarity libplanarity-dev (Debian)

planarity planarity-devel (Fedora)


---

Comment by dimpase created at 2020-01-21 19:49:59

2.2.0 prevents sagelib building, as `planarity/graphStructures.h` should have

```
typedef struct
{
        int  link[2];
        int  index;
        unsigned flags;
} vertexRec;
```

and not

```
typedef struct
{
        int DFSParent, leastAncestor, Lowpoint, adjacentTo;
        int pertinentBicompList, separatedDFSChildList, fwdArcList;
} vertexRec;
```


So we can write a test using `AC_COMPILE_IFELSE()`.


---

Comment by dimpase created at 2020-01-21 23:32:13

Changing status from new to needs_review.


---

Comment by dimpase created at 2020-01-21 23:32:13

New commits:


---

Comment by isuruf created at 2020-01-22 04:17:19

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-01-25 17:27:34

Resolution: fixed
