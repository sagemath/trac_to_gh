# Issue 11992: graph subgraph_search does not return copy of subgraph

Issue created by migration from Trac.

Original creator: jason

Original creation time: 2011-12-16 05:40:24

Assignee: jason, ncohen, rlm

CC:  ncohen brunellus

Consider this example:


```
sage: k3=graphs.CompleteGraph(3)
sage: p3=graphs.PathGraph(3)
sage: s=k3.subgraph_search(p3)
sage: s.size()
3
sage: s==k3
True
```


The docs say that s should be a copy of p3.  The problem is that subgraph_search returns an *induced* subgraph of the bigger graph with the vertices of the copy of the smaller graph.

Steve Butler suggests that instead, we copy the smaller graph and relabel the vertices appropriately, using the vertices returned from SubgraphSearch.  I like that solution.


---

Comment by jason created at 2011-12-16 15:04:15

Steve Butler suggests that instead, we copy the smaller graph and relabel the vertices appropriately, using the vertices returned from SubgraphSearch.  I like that solution.  But it won't quite work to do that, since a subgraph of a graph inherits lots of properties, like a name, etc.

So instead, this patch just creates a subgraph where the vertices *and* the edges are specified.  Before, just the vertices were specified, so you ended up getting an *induced* subgraph, even if the subgraph was not an induced subgraph.


---

Comment by jason created at 2011-12-16 15:07:34

Changing status from new to needs_review.


---

Comment by ncohen created at 2011-12-16 15:12:22

Hellooooooo !! First, I'm glad to see somebody's using that function ! It needs to be totally rewritten anyway, as we now have.... Cython iterators ! `O_O`

So the whole class has become useless. This being said, what you are doing is much more urgent. Could I ask for a small "if induced" before those lines, so that the graph is copied/relabeled only if it is necessary ? `:-)`

Nathann


---

Attachment

Done.  I also added a few more tests to the documentation (one of which would have caught this error originally---looking for the non-induced P_5_ in the petersen graph.


---

Comment by ncohen created at 2011-12-16 16:17:40

Then it's good to go ! All tests pass, and there is just nothing to add `:-)`

Nathann


---

Comment by ncohen created at 2011-12-16 16:17:40

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-12-17 09:12:54

Resolution: fixed
