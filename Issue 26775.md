# Issue 26775: Add construction method to function fields

Issue created by migration from https://trac.sagemath.org/ticket/27012

Original creator: @BrentBaccala

Original creation time: 2019-01-04 05:09:22

Keywords: function field

This ticket enhances the new function field code (Trac #22982) to add a construction functor and support the `construction` method:


```
sage: K.<x> = FunctionField(QQ)
sage: K.construction()
(FunctionField
 Fraction Field of Univariate Polynomial Ring in x over Rational Field)

sage: from sage.rings.function_field.function_field import FunctionFieldFunctor
sage: R.<x> = QQ[]
sage: FunctionFieldFunctor()(Frac(R))
Rational function field in x over Rational Field
```



---

Comment by @BrentBaccala created at 2019-01-04 05:12:16

New commits:


---

Comment by @BrentBaccala created at 2019-01-04 05:27:46

Changing status from new to needs_review.


---

Comment by @BrentBaccala created at 2019-01-04 05:27:46

Don't think this needs 22892 as a dependency; it seems to commit fine with `8.5` as a base.


---

Comment by @BrentBaccala created at 2019-01-04 18:24:17

I'm not sure where `FunctionFieldFunctor` should go.  Right now, it's in `function_field.py` in the `src/sage/rings/function_field` directory.

Perhaps we should add a new file in that directory called `functors.py`?  There's going to be at least one more `ConstructionFunctor` in the function field code, for constructing spaces of differentials.


---

Comment by mmezzarobba created at 2019-01-07 13:28:18

While your patch looks sensible to me, that's not how things currently work for number fields. Instead, number fields are constructed directly from their base field by an `AlgebraicConstructionFunctor`. Can you explain why you are deviating from that model? (This may be a stupid question, I basically don't know anything about function fields.) And if your approach is better, should we use it from number fields too?

Also, you may want to add a couple of example of new coercions discovered thanks to the new construction, if there are any.


---

Comment by @BrentBaccala created at 2019-01-09 04:57:20

Replying to [comment:5 mmezzarobba]:
> While your patch looks sensible to me, that's not how things currently work for number fields. Instead, number fields are constructed directly from their base field by an `AlgebraicConstructionFunctor`. Can you explain why you are deviating from that model? (This may be a stupid question, I basically don't know anything about function fields.) And if your approach is better, should we use it from number fields too?

I don't know if it's any better this way.

> Also, you may want to add a couple of example of new coercions discovered thanks to the new construction, if there are any.

Well, the coercions I wanted it to discover, it couldn't, so I ended up coding them by hand (Trac #26993).  I created this ticket because I didn't want to just throw this code away, but I don't know if it does anything useful.


---

Comment by embray created at 2019-01-15 18:15:21

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.


---

Comment by @BrentBaccala created at 2019-01-17 21:36:32

Changing status from needs_review to needs_work.
