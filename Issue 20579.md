# Issue 20579: pep8 in magma interface

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2016-06-12 11:59:01

CC:  tscrim jdemeyer

Keywords: magma

A little cleanup of interfaces/magma

and one change to a more stable doctest

(so that all tests pass)


---

Comment by chapoton created at 2016-06-12 11:59:47

Changing status from new to needs_review.


---

Comment by chapoton created at 2016-06-12 11:59:47

New commits:


---

Comment by jmantysalo created at 2016-07-12 11:30:23

I got no magma, so I'll un-cc me.


---

Comment by tscrim created at 2016-07-12 14:03:32

LGTM modulo this change:

```diff
-            sage: v = V.list_attributes(); v.sort(); v               # optional - magma
-            ['Coroots', 'Involution', 'M', 'RootDatum', 'Roots', 'StrLocalData', 'T', 'decomp', 'eisen', 'exthom', 'hSplit', 'ip_form', 'p', 'ssbasis', 'weights']
+            sage: v = V.list_attributes(); v.sort()               # optional - magma
+            sage: print(v)     # optional - magma
+            ['Coroots', 'Involution', ..., 'p', 'ssbasis', 'weights']
```

Is there a reason why we don't keep all of them (I don't have magma so I can't check)? Also, the `print` is vacuous to me.


---

Comment by chapoton created at 2016-07-12 14:43:55

Replying to [comment:4 tscrim]:
> LGTM modulo this change:
> {{{#!diff
> -            sage: v = V.list_attributes(); v.sort(); v               # optional - magma
> -            ['Coroots', 'Involution', 'M', 'RootDatum', 'Roots', 'StrLocalData', 'T', 'decomp', 'eisen', 'exthom', 'hSplit', 'ip_form', 'p', 'ssbasis', 'weights']
> +            sage: v = V.list_attributes(); v.sort()               # optional - magma
> +            sage: print(v)     # optional - magma
> +            ['Coroots', 'Involution', ..., 'p', 'ssbasis', 'weights']
> }}}
> Is there a reason why we don't keep all of them (I don't have magma so I can't check)? Also, the `print` is vacuous to me.

Yes, this is the core of this ticket, making this precise doctest more robust
by allowing some changes in the list of attributes. I ran the doctest on a machine with the latest magma and it was failing because of the presence of two more attributes. The aim of the test is not to check that we are up-to-date with a precise version of magma, but that we can indeed manage to get the attributes from magma itself.


---

Comment by tscrim created at 2016-07-12 15:00:06

Okay, thanks. Then in it goes.


---

Comment by tscrim created at 2016-07-12 15:00:06

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-07-13 18:35:46

Resolution: fixed
