# Issue 16927: Disable SSLv3 by default

Issue created by migration from https://trac.sagemath.org/ticket/17164

Original creator: jmantysalo

Original creation time: 2014-10-16 09:46:31

CC:  jdemeyer jpflori

There is a bug in SSLv3, see for example https://securityblog.redhat.com/2014/10/15/poodle-a-ssl3-vulnerability-cve-2014-3566/

If I am correct, quick way to disable this is edit `SAGE_ROOT/local/lib/python/ssl.py` and add `:!SSLv3` to end of `_DEFAULT_CIPHERS`. This should be made default.


---

Comment by jmantysalo created at 2014-10-16 09:46:48

Changing type from PLEASE CHANGE to defect.


---

Comment by jmantysalo created at 2014-11-26 12:30:14

Is there any temporary fix for this?


---

Comment by kcrisman created at 2014-12-04 03:03:23

I don't know, I just saw this, fairly randomly.

Exactly what would we want to do to fix this - upgrade Python?  I don't know that we can dump the openssl package, there is nothing to replace it.


---

Comment by jmantysalo created at 2014-12-04 08:01:17

Replying to [comment:4 kcrisman]:

> Exactly what would we want to do to fix this - upgrade Python?  I don't know that we can dump the openssl package, there is nothing to replace it.

Isn't there any configuration file that could be modified by Sage team until package itself is corrected?


---

Comment by kcrisman created at 2014-12-04 13:15:47

Quite possibly!  Actually, probably could just patch Python right now.  But the point is that _I_ don't know how :-)  Since this seems pretty important, do you want to email sage-devel to make people aware of it?  Probably most people don't know about this ticket, and ones who would know what to do would respond.


---

Comment by pipedream created at 2014-12-05 07:20:25

https://docs.python.org/2.7/library/ssl.html#ssl.OP_NO_SSLv3

says disabling SSLv3 is "New in version 2.7.9"

Sage 6.4.1 includes python 2.7.8


---

Comment by kcrisman created at 2014-12-05 13:55:27

2.7.9 is supposedly going to be released any day now, see https://www.python.org/dev/peps/pep-0373/ - though I'm not sure we want to be quite _that_ early of an adopter.


---

Comment by kcrisman created at 2014-12-11 16:54:29

Note that Python 2.9 is apparently now out, as of yesterday.


---

Comment by dimpase created at 2015-05-10 14:51:29

should we update to 2.7.9? Among other things it has a bunch of other SSL/TLS fixes, e.g. [SNI](http://en.wikipedia.org/wiki/Server_Name_Indication) support.


---

Comment by jmantysalo created at 2015-07-17 06:40:21

Is this done with #18912?


---

Comment by dimpase created at 2015-07-17 07:18:03

Changing status from new to needs_review.


---

Comment by dimpase created at 2015-07-17 07:18:03

as we are on python 2.7.9, this should not be an issue anyway.


---

Comment by dimpase created at 2015-07-17 07:19:22

worksforme


---

Comment by dimpase created at 2015-07-17 07:19:22

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-07-17 20:05:10

Resolution: worksforme
