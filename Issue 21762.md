# Issue 21762: MPolynomial: coefficients not in base ring

Issue created by migration from Trac.

Original creator: dkrenn

Original creation time: 2016-11-30 07:38:38


```
sage: R = QQbar['s,t']
sage: type(R({(1,2): 3}).coefficients()[0])
<type 'sage.rings.integer.Integer'>
```

but it should be an element of `QQbar`.

This results in an error in the laurent polynomial code:

```
sage: L.<a,b> = LaurentPolynomialRing(QQbar)
sage: (a+a*b) // a
```

raises an `AttributeError` as an Python `int` does not have a `divides`-method. (The Python `int` comes from line 1600 in `laurent_polynomial.pyx`, but the true problem is the one at the top.


---

Comment by tscrim created at 2016-11-30 17:45:39

It looks like it just doesn't coerce each of the coefficients into the base ring when constructing the elements (and is something we should do).


---

Comment by dkrenn created at 2016-12-16 08:08:36

The branch u/dkrenn/laurent-floor-hash does at least fix the symptome, so that

```
sage: L.<a,b> = LaurentPolynomialRing(QQbar)
sage: (a+a*b) // a
```

returns a result.
----
New commits:


---

Comment by git created at 2016-12-25 19:28:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dkrenn created at 2016-12-25 19:29:40

Quickfix removed and fixed in the correct place. Let's see what the patchbot says... ;)


---

Comment by dkrenn created at 2016-12-25 19:29:40

Changing status from new to needs_review.


---

Comment by tscrim created at 2016-12-31 12:45:51

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2016-12-31 12:45:51

LGTM.


---

Comment by vbraun created at 2017-01-18 20:38:57

Resolution: fixed
