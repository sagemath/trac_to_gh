# Issue 15444: Name of immutable graphs

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2014-01-15 10:16:24

CC:  simonking tscrim

Travis noticed in #15669 that immutable graphs were nameless. That's terrible.


```
sage: graphs.PetersenGraph()                      
Petersen graph: Graph on 10 vertices
sage: Graph(graphs.PetersenGraph(),immutable=True)
Graph on 10 vertices
```


This patch fixes it. So doing, we now store the `name` attribute in the Python graph itself and not in the backend, where it does not really belong. This thing is for storing the graph data, not fancy attributes !

New behaviour :


```
sage: graphs.PetersenGraph()
Petersen graph: Graph on 10 vertices
sage: Graph(graphs.PetersenGraph(),immutable=True)
Petersen graph: Graph on 10 vertices
```


This patch is based upon #15623, because God made it that we will have to pay the Poset's `._immutable` hack until #15623 is merged `:-P`

Nathann


---

Comment by ncohen created at 2014-01-15 10:17:25

Changing status from new to needs_review.


---

Comment by git created at 2014-01-15 10:17:32

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by tscrim created at 2014-01-15 17:16:50

Hey Nathann,

Could you add a few doctests showing this is fixed and the new behavior?

Thanks,

Travis


---

Comment by git created at 2014-01-15 17:21:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2014-01-15 17:21:52

I don't know what else to add `O_o`

Nathann


---

Comment by tscrim created at 2014-01-15 17:50:42

Something like

```
sage: P = graphs.PetersenGraph()
sage: G = P.copy(immutable=True)
sage: G.name("blah")
---------------------------------------------------------------------------
Traceback (most recent call last):
...
NotImplementedError: An immutable graph does not change name
```

Although I think a `TypeError` is a better error message because IMO `NotImplementedError` are for things which have not been implemented yet. Yet this is only my opinion and I won't hold this ticket up because of that.


---

Comment by ncohen created at 2014-01-16 08:36:55

Hellooooooooooo !!!

I rebased it on beta5 and added a doctest. I used a `NotImplementedError` here, because Simon made me use NotImplementedError for the `add_edge` function of the immutable graph backend when I wanted to use `ValueError`. I personally think that it does not matter the slightest. And I take as proof that nobody agrees on what it should be, which means that no standard is good here `:-P`

Nathann


---

Comment by git created at 2014-01-16 08:37:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2014-01-16 16:06:20

*shrugs* Positive review then. Thanks Nathann!


---

Comment by tscrim created at 2014-01-16 16:06:20

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2014-01-16 16:35:02

It's a pleasure to work when tickets are written and reviewed in a couple of days, really `:-D`

Nathann


---

Comment by tscrim created at 2014-01-16 16:46:58

Replying to [comment:11 ncohen]:
> It's a pleasure to work when tickets are written and reviewed in a couple of days, really `:-D`

Agreed. `XD`


---

Comment by tscrim created at 2014-01-30 15:06:51

Branch with rebased #15623.
----
New commits:


---

Comment by vbraun created at 2014-02-01 19:39:13

Resolution: fixed
