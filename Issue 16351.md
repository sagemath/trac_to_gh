# Issue 16351: finite_state_machine.FSMState: New method fully_equal

Issue created by migration from https://trac.sagemath.org/ticket/16588

Original creator: cheuberg

Original creation time: 2014-06-29 18:20:07

CC:  skropf dkrenn

Keywords: finite_state_machine

`finite_state_machine.FSMState.__eq__` only compares labels of states, but not their other attributes such as `is_initial`, `is_final`, `final_word_out`, `word_out`, `color`.

The reason is that states have to be hashable and that their hash only depends on the label --- therefore, states with the same labels have to be equal.

This is no problem as long as states of the same finite state machine are compared. When comparing two finite state machines, this distinction matters.

Therefore, a new method `FSMState.fully_equal` is introduced and used in `FiniteStateMachine.__eq__`.



---

Comment by cheuberg created at 2014-06-29 18:20:38

Changing status from new to needs_review.


---

Comment by dkrenn created at 2014-07-18 14:33:28

Code didn't check attribute color. This is now done. Needs cross-review.

Apart from the color-issue, the code looks fine, so a positive_review as soon as the color-part is accepted.
----
Last 10 new commits:


---

Comment by git created at 2014-07-18 15:51:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by cheuberg created at 2014-07-18 15:54:12

Cross-reviewed the changes. Added minor correction to docstring. Merged current version of dependency #16674 in order to avoid failing of trac's automerge.


---

Comment by cheuberg created at 2014-07-18 15:54:12

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-07-21 01:51:37

Resolution: fixed
