# Issue 31628: 1 internet doctests failing in symbolic/integration/external.py

Issue created by migration from https://trac.sagemath.org/ticket/31865

Original creator: slabbe

Original creation time: 2021-05-27 13:01:19

Running:


```
sage -t --optional=sage,internet src/sage/symbolic/integration/external.py
```


gives:


```
sage -t --warn-long 102.8 --random-seed=0 src/sage/symbolic/integration/external.py
**********************************************************************
File "src/sage/symbolic/integration/external.py", line 152, in sage.symbolic.integration.external.request_wolfram_alpha
Failed example:
    [str(a) for a in sorted(page_data['queryresult'].keys())]  # optional internet
Expected:
    ['datatypes',
     'encryptedEvaluatedExpression',
     'encryptedParsedExpression',
     'error',
     'host',
     'id',
     'numpods',
     'parsetimedout',
     'parsetiming',
     'pods',
     'recalculate',
     'related',
     'server',
     'sponsorCategories',
     'success',
     'timedout',
     'timedoutpods',
     'timing',
     'version']
Got:
    ['datatypes',
     'encryptedEvaluatedExpression',
     'encryptedParsedExpression',
     'error',
     'host',
     'id',
     'inputstring',
     'numpods',
     'parsetimedout',
     'parsetiming',
     'pods',
     'recalculate',
     'related',
     'server',
     'sponsorCategories',
     'success',
     'timedout',
     'timedoutpods',
     'timing',
     'version']
**********************************************************************
1 item had failures:
   1 of   5 in sage.symbolic.integration.external.request_wolfram_alpha
    [40 tests, 1 failure, 28.52 s]
----------------------------------------------------------------------
sage -t --warn-long 102.8 --random-seed=0 src/sage/symbolic/integration/external.py  # 1 doctest failed
----------------------------------------------------------------------
```



(`'inputstring'` was added)


---

Comment by slabbe created at 2021-05-27 13:04:41

New commits:


---

Comment by slabbe created at 2021-05-27 13:04:41

Changing status from new to needs_review.


---

Comment by @kliem created at 2021-05-27 14:06:18

I'm getting another failure:


```
sage -t --random-seed=0 src/sage/symbolic/integration/external.py
**********************************************************************
File "src/sage/symbolic/integration/external.py", line 110, in sage.symbolic.integration.external.mma_free_integrator
Failed example:
    mma_free_integrator(exp(-x^2)*log(x), x) # optional - internet
Expected:
    1/2*sqrt(pi)*erf(x)*log(x) - x*hypergeometric((1/2, 1/2), (3/2, 3/2), -x^2)
Got:
    1/2*Sqrt(pi)*erf(x)*log(x) - x*hypergeometric((1/2, 1/2), (3/2, 3/2), -x^2)
```


They started spelling it `Sqrt` instead of `sqrt` it seems.


---

Comment by slabbe created at 2021-05-27 15:53:53

Replying to [comment:2 gh-kliem]:
> They started spelling it `Sqrt` instead of `sqrt` it seems.

I think this one was fixed in #31756, merged in 9.4.beta0.


---

Comment by @kliem created at 2021-05-27 15:57:47

Replying to [comment:3 slabbe]:
> Replying to [comment:2 gh-kliem]:
> > They started spelling it `Sqrt` instead of `sqrt` it seems.
> 
> I think this one was fixed in #31756, merged in 9.4.beta0.

Thank you. I guess so. I guess I though I was on top of the latest beta, but I guess I wasn't.


---

Comment by @kliem created at 2021-05-27 15:57:58

Changing status from needs_review to positive_review.


---

Comment by @kliem created at 2021-05-27 15:57:58

LGTM.


---

Comment by vbraun created at 2021-06-21 21:16:50

Resolution: fixed
