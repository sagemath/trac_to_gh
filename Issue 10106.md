# Issue 10106: Too many functions from databases/cremona.py are exported globally

Issue created by migration from Trac.

Original creator: cremona

Original creation time: 2010-10-09 12:01:33

Assignee: cremona

Keywords: databases

In sage/databases/all.py:

```
from cremona import CremonaDatabase, \
     cremona_letter_code, parse_cremona_label, \
     old_cremona_letter_code, is_optimal_id
```

but only the first of these should be global.



---

Attachment


---

Comment by mhansen created at 2010-10-10 17:39:40

Changing status from new to needs_review.


---

Comment by mhansen created at 2010-10-10 17:39:40

This needs to be coordinated with #9907.


---

Comment by cremona created at 2010-10-10 17:56:25

I don't really understand the connection between this and #9907, or what most of the patch is for!  Is it just that you don't want to get rid of a command which used to work from a sage: prompt without deprecating it first?


---

Comment by mhansen created at 2010-10-10 18:03:39

This patch has `from sage.misc.misc import sage_wraps ` while the patch at #9907 moves `sage_wraps` from `sage.misc.misc` to `sage.misc.decorators`.

Yes, most of the patch is to deprecate using those functions from the top level before removing them.  Since this shared some functionality with preexisting code, the idea was to unify the code.


---

Comment by rlm created at 2010-11-09 20:21:27

If I apply #6094, #9907, #9919, and #10107 together on top of sage-4.6, all long tests pass. The code looks good.


---

Comment by rlm created at 2010-11-09 20:21:27

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2010-11-14 10:57:08

I get various doctest errors in `sage/databases/cremona.py`:

```
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.6.1.alpha2/devel/sage-main/sage/databases/cremona.py", line 102:
    sage: is_optimal_id('b1')
Expected:
    True
Got:
    doctest:1: DeprecationWarning:
    Using is_optimal_id from here is deprecated.  If you need to use it, please import it directly from sage.databases.cremona.
    True
```

and several more like this.


---

Comment by jdemeyer created at 2010-11-14 10:57:08

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2010-11-14 10:57:08

Changing keywords from "databases" to "databases cremona".


---

Attachment

replaces previous


---

Comment by cremona created at 2010-11-14 13:22:42

The new patch deals with this (replaces previous).


---

Comment by cremona created at 2010-11-14 13:22:42

Changing status from needs_work to needs_review.


---

Comment by aly.deines created at 2010-11-16 22:21:16

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2010-11-18 13:04:11

Resolution: fixed


---

Comment by eviatarbach created at 2013-05-21 22:23:18

It's been over two years since these were deprecated; can they be removed from the global namespace?


---

Comment by cremona created at 2013-05-22 07:54:29

I am happy with that.  I guess it needs a new ticket.  Will you make one and reference it from here?


---

Comment by eviatarbach created at 2013-05-25 21:37:51

Okay, good. The new ticket is #14642.


---

Comment by jdemeyer created at 2017-04-11 12:39:59

Interestingly, this ticket is the one which introduced `deprecated_callable_import`. Given that I see no advantage of `deprecated_callable_import` over a lazy import with deprecation, I plan to remove `deprecated_callable_import` in #22796.
