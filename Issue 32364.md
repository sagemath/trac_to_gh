# Issue 32364: Modularization of sagelib: Break out a separate package sagemath-standard-no-symbolics

Issue created by migration from https://trac.sagemath.org/ticket/32601

Original creator: mkoeppe

Original creation time: 2021-09-30 19:54:42

CC:  @kliem egourgoulhon @tobiasdiez aschilling

This is a subset distribution that includes all of `sagemath-standard` except for `sage.symbolic` and modules that use that.


---

Comment by mkoeppe created at 2021-10-02 05:20:08

Last 10 new commits:


---

Comment by git created at 2021-10-02 05:45:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-10-02 15:35:42


```
    from sage.quadratic_forms.genera.genus import genera
  File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/pkgs/sagemath-standard-no-symbolics/.tox/python-sagewheels-nopypi/lib/python3.9/site-packages/sage/quadratic_forms/genera/genus.py", line 35, in <module>
    from sage.functions.gamma import gamma
ModuleNotFoundError: No module named 'sage.functions'
```



---

Comment by git created at 2021-10-18 21:42:01

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2021-10-18 23:04:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-10-18 23:11:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-10-19 00:42:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-10-19 05:23:07

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2021-10-19 06:18:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-10-19 06:43:10

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2021-10-19 16:50:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-10-19 17:10:41

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2021-10-19 17:30:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-10-19 18:46:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-10-19 18:48:49


```
$ pkgs/sagemath-standard-no-symbolics/.tox/py39-sagewheels-nopypi/bin/sage -tp 4 src/sage/graphs/
sage -t --random-seed=0 src/sage/graphs/generic_graph.py  # 89 doctests failed
sage -t --random-seed=0 src/sage/graphs/graph.py  # Killed due to segmentation fault
sage -t --random-seed=0 src/sage/graphs/generators/distance_regular.pyx  # 32 doctests failed
sage -t --random-seed=0 src/sage/graphs/generators/smallgraphs.py  # 18 doctests failed
sage -t --random-seed=0 src/sage/graphs/generators/families.py  # 12 doctests failed
sage -t --random-seed=0 src/sage/graphs/graph_generators.py  # 5 doctests failed
sage -t --random-seed=0 src/sage/graphs/bipartite_graph.py  # 3 doctests failed
sage -t --random-seed=0 src/sage/graphs/tutte_polynomial.py  # 4 doctests failed
sage -t --random-seed=0 src/sage/graphs/generators/random.py  # 2 doctests failed
sage -t --random-seed=0 src/sage/graphs/generators/basic.py  # 4 doctests failed
sage -t --random-seed=0 src/sage/graphs/graph_latex.py  # 5 doctests failed
sage -t --random-seed=0 src/sage/graphs/graph_plot.py  # 30 doctests failed
sage -t --random-seed=0 src/sage/graphs/spanning_tree.pyx  # 2 doctests failed
sage -t --random-seed=0 src/sage/graphs/hypergraph_generators.py  # 2 doctests failed
sage -t --random-seed=0 src/sage/graphs/graph_decompositions/tree_decomposition.pyx  # 15 doctests failed
sage -t --random-seed=0 src/sage/graphs/matchpoly.pyx  # 2 doctests failed
sage -t --random-seed=0 src/sage/graphs/hyperbolicity.pyx  # 52 doctests failed
sage -t --random-seed=0 src/sage/graphs/traversals.pyx  # 7 doctests failed
sage -t --random-seed=0 src/sage/graphs/generic_graph_pyx.pyx  # 1 doctest failed
```



---

Comment by git created at 2021-10-20 00:21:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-10-20 07:00:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-10-29 07:52:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-10-29 17:30:44


```
$ pkgs/sagemath-standard-no-symbolics/.tox/py39-sagewheels-nopypi/bin/sage -tp 4 src/sage/graphs/
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/generic_graph.py  # 46 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/graph.py  # Killed due to segmentation fault
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/generators/distance_regular.pyx  # 32 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/generators/smallgraphs.py  # 18 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/generators/families.py  # 12 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/generators/random.py  # 1 doctest failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/bipartite_graph.py  # 3 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/graph_generators.py  # 1 doctest failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/tutte_polynomial.py  # 2 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/generators/basic.py  # 4 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/graph_latex.py  # 5 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/hypergraph_generators.py  # 2 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/graph_decompositions/tree_decomposition.pyx  # 15 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/matchpoly.pyx  # 2 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/hyperbolicity.pyx  # 52 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/traversals.pyx  # 7 doctests failed
sage -t --random-seed=221465068303176183606154232015486911187 src/sage/graphs/generic_graph_pyx.pyx  # 1 doctest failed
```



---

Comment by git created at 2021-10-29 19:20:32

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by mkoeppe created at 2021-10-29 21:52:38


```
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/generic_graph.py  # 15 doctests failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/graph.py  # Killed due to segmentation fault
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/generators/distance_regular.pyx  # 7 doctests failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/generators/smallgraphs.py  # 18 doctests failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/generators/families.py  # 12 doctests failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/generators/random.py  # 1 doctest failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/tutte_polynomial.py  # 2 doctests failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/graph_generators.py  # 1 doctest failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/bipartite_graph.py  # 3 doctests failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/generic_graph_pyx.pyx  # 1 doctest failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/graph_latex.py  # 5 doctests failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/generators/basic.py  # 4 doctests failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/graph_decompositions/tree_decomposition.pyx  # 15 doctests failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/hypergraph_generators.py  # 2 doctests failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/matchpoly.pyx  # 2 doctests failed
sage -t --random-seed=49515356934901712207815916771738328605 src/sage/graphs/traversals.pyx  # 7 doctests failed
```



---

Comment by git created at 2021-10-29 23:33:59

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by mkoeppe created at 2021-10-29 23:58:24


```
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/generic_graph.py  # 15 doctests failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/graph.py  # Bad exit: 1
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/generators/distance_regular.pyx  # 7 doctests failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/generators/smallgraphs.py  # 18 doctests failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/generators/families.py  # 12 doctests failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/generators/random.py  # 1 doctest failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/graph_generators.py  # 1 doctest failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/tutte_polynomial.py  # 2 doctests failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/bipartite_graph.py  # 3 doctests failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/generators/basic.py  # 4 doctests failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/graph_latex.py  # 5 doctests failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/graph_decompositions/tree_decomposition.pyx  # 15 doctests failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/matchpoly.pyx  # 2 doctests failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/traversals.pyx  # 7 doctests failed
sage -t --random-seed=150700228486336030108077186454218443399 src/sage/graphs/generic_graph_pyx.pyx  # 1 doctest failed
```



---

Comment by git created at 2021-11-01 07:14:59

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2021-11-14 06:01:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-11-14 06:48:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-11-14 06:49:17

Cyclic import problem: 

```
>>> import sage.categories.all
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/pkgs/sagemath-standard-no-symbolics/.tox/py39-sagewheels-nopypi/lib/python3.9/site-packages/sage/categories/all.py", line 36, in <module>
    from .basic import *
  File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/pkgs/sagemath-standard-no-symbolics/.tox/py39-sagewheels-nopypi/lib/python3.9/site-packages/sage/categories/basic.py", line 44, in <module>
    from .complete_discrete_valuation import CompleteDiscreteValuationRings
ImportError: cannot import name 'CompleteDiscreteValuationRings' from 'sage.categories.complete_discrete_valuation' (/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/pkgs/sagemath-standard-no-symbolics/.tox/py39-sagewheels-nopypi/lib/python3.9/site-packages/sage/categories/complete_discrete_valuation.py)
```



---

Comment by git created at 2021-11-20 19:00:43

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2021-11-20 19:39:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-11-20 19:41:00

Replying to [comment:52 mkoeppe]:
> Cyclic import problem

... has disappeared


---

Comment by mkoeppe created at 2021-11-20 19:41:18


```
$ pkgs/sagemath-standard-no-symbolics/.tox/py39-sagewheels-nopypi/bin/sage-runtests -p 4 src/sage/graphs/
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/generic_graph.py  # 19 doctests failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/graph.py  # Bad exit: 1
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/generators/distance_regular.pyx  # 7 doctests failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/generators/smallgraphs.py  # 18 doctests failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/connectivity.pyx  # 2 doctests failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/generators/families.py  # 12 doctests failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/generators/random.py  # 1 doctest failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/graph_generators.py  # 1 doctest failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/tutte_polynomial.py  # 2 doctests failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/generators/basic.py  # 4 doctests failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/matchpoly.pyx  # 2 doctests failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/generic_graph_pyx.pyx  # 1 doctest failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/bipartite_graph.py  # 3 doctests failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/graph_latex.py  # 5 doctests failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/graph_decompositions/tree_decomposition.pyx  # 15 doctests failed
sage -t --random-seed=334966994128161535997678980273883901472 src/sage/graphs/traversals.pyx  # 7 doctests failed
```



---

Comment by git created at 2021-11-20 20:14:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-11-20 20:34:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-11-20 22:06:19

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2021-11-21 00:55:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-11-26 22:55:31

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2021-12-12 23:10:12

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2022-01-19 04:07:01

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2022-01-19 04:07:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-02-13 17:57:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-02-21 23:00:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-02-27 01:11:36

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2022-02-28 07:08:46

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2022-02-28 07:17:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-03-08 17:55:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-04-14 00:26:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-07-24 20:35:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-07-24 23:43:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-07-25 01:31:30

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2022-08-07 22:02:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-09-26 02:21:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-11-15 07:15:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-12-06 21:33:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-12-06 22:48:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-12-18 06:54:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-12-18 08:00:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-12-18 08:09:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-12-18 08:26:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-12-18 19:00:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-12-18 21:00:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-12-19 03:18:36

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
