# Issue 5761: Bring doctests of sage/misc/latex.py to 100%

archive/issues_005761.json:
```json
{
    "body": "Apply only [attachment:trac_5761-latex_docstrings-ts.patch].\n\n**Assignee:** @rbeezer\n\n**Keywords:** documentation, coverage, latex\n\n**Reviewer:** Andr\u00e9 Apitzsch\n\n**Author:** Travis Scrimshaw\n\n**Merged:** sage-5.7.beta4\n\nIssue created by migration from https://trac.sagemath.org/ticket/5761\n\n",
    "closed_at": "2013-02-09T12:13:02Z",
    "created_at": "2009-04-11T19:56:35Z",
    "labels": [
        "component: doctest coverage",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.7",
    "title": "Bring doctests of sage/misc/latex.py to 100%",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/5761",
    "user": "https://github.com/rbeezer"
}
```
Apply only [attachment:trac_5761-latex_docstrings-ts.patch].

**Assignee:** @rbeezer

**Keywords:** documentation, coverage, latex

**Reviewer:** André Apitzsch

**Author:** Travis Scrimshaw

**Merged:** sage-5.7.beta4

Issue created by migration from https://trac.sagemath.org/ticket/5761





---

archive/issue_comments_037838.json:
```json
{
    "body": "<a id='comment:1'></a>\nI'm partway through this, but still need to do much more, and will be away from it for a few days.",
    "created_at": "2009-04-12T01:00:59Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37838",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:1'></a>
I'm partway through this, but still need to do much more, and will be away from it for a few days.



---

archive/issue_comments_037839.json:
```json
{
    "body": "**Changing assignee** from mabshoff to @rbeezer.",
    "created_at": "2009-04-12T01:00:59Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37839",
    "user": "https://github.com/rbeezer"
}
```

**Changing assignee** from mabshoff to @rbeezer.



---

archive/issue_comments_037840.json:
```json
{
    "body": "<a id='comment:2'></a>\nBouncing to 3.4.2.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-13T03:40:25Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37840",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:2'></a>
Bouncing to 3.4.2.

Cheers,

Michael



---

archive/issue_events_036680.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-04-13T03:40:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "milestone": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5761#event-36680"
}
```



---

archive/issue_events_036681.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-04-13T03:40:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "milestone": "sage-3.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5761#event-36681"
}
```



---

archive/issue_comments_037841.json:
```json
{
    "body": "**Author:** Travis Scrimshaw",
    "created_at": "2013-02-01T16:15:46Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37841",
    "user": "https://github.com/tscrim"
}
```

**Author:** Travis Scrimshaw



---

archive/issue_comments_037842.json:
```json
{
    "body": "<a id='comment:3'></a>\nI've gone through an brought the documentation for `latex.py` to full coverage and up to current standards. I've also removed the ~2 year old deprecated method `pdflatex()`.",
    "created_at": "2013-02-01T16:15:46Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37842",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>
I've gone through an brought the documentation for `latex.py` to full coverage and up to current standards. I've also removed the ~2 year old deprecated method `pdflatex()`.



---

archive/issue_events_036682.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-02-01T16:15:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5761#event-36682"
}
```



---

archive/issue_comments_037843.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"documentation, coverage, latex\".",
    "created_at": "2013-02-01T16:15:46Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37843",
    "user": "https://github.com/tscrim"
}
```

**Changing keywords** from "" to "documentation, coverage, latex".



---

archive/issue_events_036683.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2013-02-02T16:08:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5761#event-36683"
}
```



---

archive/issue_events_036684.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2013-02-02T16:08:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5761#event-36684"
}
```



---

archive/issue_comments_037844.json:
```json
{
    "body": "<a id='comment:4'></a>\nThere are some `True, False` and `None` not surrounded by <code>\\`\\`</code>.\n\nAfter\n\n```\n\"\\\\ZZ[x]\n```\nin\n\n```\nEXAMPLES::\n\n    # sage: latex.eval(\"\\\\ZZ[x], locals(), filename=\"test\") # This would generate a file named \"test.png\"\n    # ''\n    # sage: latex.eval(\"\\\\ZZ[x], locals(), filename=\"/path/to/test\") # This would generate a file named \"/path/to/test.png\"\n    # ''\n```\na \" is missing, otherwise the command will fail. You can use *# not tested* at the end of the line instead of commenting out the examples.\n\nEverything else looks good to me.",
    "created_at": "2013-02-02T16:08:52Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37844",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:4'></a>
There are some `True, False` and `None` not surrounded by <code>\`\`</code>.

After

```
"\\ZZ[x]
```
in

```
EXAMPLES::

    # sage: latex.eval("\\ZZ[x], locals(), filename="test") # This would generate a file named "test.png"
    # ''
    # sage: latex.eval("\\ZZ[x], locals(), filename="/path/to/test") # This would generate a file named "/path/to/test.png"
    # ''
```
a " is missing, otherwise the command will fail. You can use *# not tested* at the end of the line instead of commenting out the examples.

Everything else looks good to me.



---

archive/issue_comments_037845.json:
```json
{
    "body": "**Reviewer:** Andr\u00e9 Apitzsch",
    "created_at": "2013-02-02T16:08:52Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37845",
    "user": "https://github.com/a-andre"
}
```

**Reviewer:** André Apitzsch



---

archive/issue_events_036685.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-02-05T02:21:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5761#event-36685"
}
```



---

archive/issue_events_036686.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2013-02-05T02:21:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5761#event-36686"
}
```



---

archive/issue_comments_037846.json:
```json
{
    "body": "<a id='comment:5'></a>\nI believe I caught them all; let me know where if I missed any others.\n\nThanks for the review,\n\nTravis",
    "created_at": "2013-02-05T02:21:18Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37846",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
I believe I caught them all; let me know where if I missed any others.

Thanks for the review,

Travis



---

archive/issue_comments_037847.json:
```json
{
    "body": "<a id='comment:6'></a>\nCould you add an additional patch to fix the trac reference in `repr_lincomb()`:\n\n```\nVerify that a certain corner case works (see trac 5707 and 5766)::\n```\nand in `latex_varify()`:\n\n```\nif \"is_fname\" flag is True or False.\n```",
    "created_at": "2013-02-05T22:24:53Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37847",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:6'></a>
Could you add an additional patch to fix the trac reference in `repr_lincomb()`:

```
Verify that a certain corner case works (see trac 5707 and 5766)::
```
and in `latex_varify()`:

```
if "is_fname" flag is True or False.
```



---

archive/issue_comments_037848.json:
```json
{
    "body": "<a id='comment:7'></a>\nFixed. I've also made the patchbot offending test optional.\n\n---\n\nFor patchbot:\n\nApply only: trac_5791-latex_docstrings-ts.patch",
    "created_at": "2013-02-05T23:16:39Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37848",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Fixed. I've also made the patchbot offending test optional.

---

For patchbot:

Apply only: trac_5791-latex_docstrings-ts.patch



---

archive/issue_comments_037849.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Apply only [attachment:trac_5791-latex_docstrings-ts.patch].\n``````\n",
    "created_at": "2013-02-05T23:16:39Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37849",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Apply only [attachment:trac_5791-latex_docstrings-ts.patch].
``````




---

archive/issue_comments_037850.json:
```json
{
    "body": "<a id='comment:8'></a>\nYou added one trailing whitespace after \"An error\"\n\n```\nsage: latex.eval(\"\\ThisIsAnInvalidCommand\", {}) # optional - requires 'convert'\nAn error\n```\nBut I think it's no problem. So I'm giving this a positive review. Let's hope the release manager does not complain about the wrong number in the filename. ;)",
    "created_at": "2013-02-06T18:03:14Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37850",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:8'></a>
You added one trailing whitespace after "An error"

```
sage: latex.eval("\ThisIsAnInvalidCommand", {}) # optional - requires 'convert'
An error
```
But I think it's no problem. So I'm giving this a positive review. Let's hope the release manager does not complain about the wrong number in the filename. ;)



---

archive/issue_events_036687.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2013-02-06T18:03:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5761#event-36687"
}
```



---

archive/issue_events_036688.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2013-02-06T18:03:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5761#event-36688"
}
```



---

archive/attachments_006606.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_5761-latex_docstrings-ts.patch",
    "asset_url": "tarball://root/attachments/ticket5761/trac_5761-latex_docstrings-ts.patch",
    "created_at": "2013-02-06T18:30:53Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket5761/trac_5761-latex_docstrings-ts.patch",
    "user": "https://github.com/tscrim"
}
```



---

archive/issue_comments_037851.json:
```json
{
    "body": "Attachment [trac_5761-latex_docstrings-ts.patch](https://github.com/sagemath/sage/files/ticket5761/trac_5761-latex_docstrings-ts.patch) by @tscrim created at 2013-02-06 18:30:53\n\nFixed trailing whitespace and matched ticket number",
    "created_at": "2013-02-06T18:30:53Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37851",
    "user": "https://github.com/tscrim"
}
```

Attachment [trac_5761-latex_docstrings-ts.patch](https://github.com/sagemath/sage/files/ticket5761/trac_5761-latex_docstrings-ts.patch) by @tscrim created at 2013-02-06 18:30:53

Fixed trailing whitespace and matched ticket number



---

archive/issue_comments_037852.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Apply only [attachment:trac_5791-latex_docstrings-ts.patch].\n+Apply only [attachment:trac_5761-latex_docstrings-ts.patch].\n``````\n",
    "created_at": "2013-02-06T18:31:34Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37852",
    "user": "https://github.com/tscrim"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-Apply only [attachment:trac_5791-latex_docstrings-ts.patch].
+Apply only [attachment:trac_5761-latex_docstrings-ts.patch].
``````




---

archive/issue_comments_037853.json:
```json
{
    "body": "<a id='comment:9'></a>\nFixed. Thank you.\n\nFor patchbot:\n\nApply only: trac_5761-latex_docstrings-ts.patch",
    "created_at": "2013-02-06T18:31:34Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37853",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
Fixed. Thank you.

For patchbot:

Apply only: trac_5761-latex_docstrings-ts.patch



---

archive/issue_comments_037854.json:
```json
{
    "body": "**Merged:** sage-5.7.beta4",
    "created_at": "2013-02-09T12:13:02Z",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5761#issuecomment-37854",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.7.beta4



---

archive/issue_events_036689.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-09T12:13:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5761#event-36689"
}
```



---

archive/issue_events_036690.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-09T12:13:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5761",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5761#event-36690"
}
```
