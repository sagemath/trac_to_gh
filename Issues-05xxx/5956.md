# Issue 5956: image dimensions for show() are in inches

archive/issues_005956.json:
```json
{
    "assignees": [
        "https://github.com/williamstein"
    ],
    "body": "As discussed at this [sage-devel thread](http://groups.google.com/group/sage-devel/browse_thread/thread/c411254b7bc0bb97), the optional argument `figsize` of the command `show()` needs to clearly state that the units of the image are in inches. As of Sage 3.4.1, the docstring for `show()` says:\n\n```\n- ``figsize``- [width, height] (same for square aspect)\n```\nwhich can be interpreted to mean that one can do something like `figsize=[w,h]`. But something like the following produces a segmentation fault:\n\n```\n[mvngu@sage ~]$ sage\n----------------------------------------------------------------------\n| Sage Version 3.4.1, Release Date: 2009-04-21                       |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\nsage: q = var(\"q\")\nsage: f(q) = (q^4 - q^2 + 1) * (q^4 + q^3 + q^2 + q + 1) * (q^4 - q^3 \\\n+ q^2 - q + 1) * (q^6 + q^5 + q^4 + q^3 + q^2 + q + 1) * (q^6 - q^5 + \\\nq^4 - q^3 + q^2 - q + 1) * (q^(20) - q^(18) - q^(14) - q^(12) + q^(10) \\\n- q^8 - q^6 - q^2 + 1)\nsage: g(q) = q^8 * (q^4 + q^2 + 1)^2 * (q^4 + 1)^5\nsage: p = complex_plot(f/g, (-2,2), (-2,2))\nsage: p.show(figsize=[256,256])\n```\nwhile the following results in a `ValueError`:\n\n```\n----------------------------------------------------------------------\n| Sage Version 3.4.1, Release Date: 2009-04-21                       |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\nsage: q = var(\"q\")\nsage: f(q) = (q^4 - q^2 + 1) * (q^4 + q^3 + q^2 + q + 1) * (q^4 - q^3 \\\n+ q^2 - q + 1) * (q^6 + q^5 + q^4 + q^3 + q^2 + q + 1) * (q^6 - q^5 + \\\nq^4 - q^3 + q^2 - q + 1) * (q^(20) - q^(18) - q^(14) - q^(12) + q^(10) \\\n- q^8 - q^6 - q^2 + 1)\nsage: g(q) = q^8 * (q^4 + q^2 + 1)^2 * (q^4 + 1)^5\nsage: p = complex_plot(f/g, (-2,2), (-2,2))\nsage: p.show(figsize=[500,500])\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n...\nValueError: width and height must each be below 32768\n```\nEssentially, the documentation for `show()` needs to be updated, especially the optional arguments, to clearly explain the units of measurement of the width and height of the image size. Also, it would be a good idea to specify how one can pass in values for those dimensions. For example, can one do this `figsize=[124,124]`?\n\nCC:  @kcrisman\n\nKeywords: **image dimensions, figsize**\n\nBranch: **[`4c5b581`](https://github.com/sagemath/sagetrac-mirror/commit/4c5b581fb521519cdd353bc40445b4f7b4589862)**\n\nUpstream: **None of the above - read trac for reasoning.**\n\nReviewer: **Karl-Dieter Crisman, Punarbasu Purkayastha, Jeroen Demeyer**\n\nAuthor: **Emily Chen, Punarbasu Purkayastha, Karl-Dieter Crisman**\n\nComponent: **graphics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/5956_\n\n",
    "closed_at": "2014-11-17T13:17:56Z",
    "created_at": "2009-05-01T07:17:25Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/good%20first%20issue"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "image dimensions for show() are in inches",
    "type": "issue",
    "updated_at": "2014-11-20T21:51:48Z",
    "url": "https://github.com/sagemath/sage/issues/5956",
    "user": "https://github.com/sagetrac-mvngu"
}
```
As discussed at this [sage-devel thread](http://groups.google.com/group/sage-devel/browse_thread/thread/c411254b7bc0bb97), the optional argument `figsize` of the command `show()` needs to clearly state that the units of the image are in inches. As of Sage 3.4.1, the docstring for `show()` says:

```
- ``figsize``- [width, height] (same for square aspect)
```
which can be interpreted to mean that one can do something like `figsize=[w,h]`. But something like the following produces a segmentation fault:

```
[mvngu@sage ~]$ sage
----------------------------------------------------------------------
| Sage Version 3.4.1, Release Date: 2009-04-21                       |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
sage: q = var("q")
sage: f(q) = (q^4 - q^2 + 1) * (q^4 + q^3 + q^2 + q + 1) * (q^4 - q^3 \
+ q^2 - q + 1) * (q^6 + q^5 + q^4 + q^3 + q^2 + q + 1) * (q^6 - q^5 + \
q^4 - q^3 + q^2 - q + 1) * (q^(20) - q^(18) - q^(14) - q^(12) + q^(10) \
- q^8 - q^6 - q^2 + 1)
sage: g(q) = q^8 * (q^4 + q^2 + 1)^2 * (q^4 + 1)^5
sage: p = complex_plot(f/g, (-2,2), (-2,2))
sage: p.show(figsize=[256,256])
```
while the following results in a `ValueError`:

```
----------------------------------------------------------------------
| Sage Version 3.4.1, Release Date: 2009-04-21                       |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
sage: q = var("q")
sage: f(q) = (q^4 - q^2 + 1) * (q^4 + q^3 + q^2 + q + 1) * (q^4 - q^3 \
+ q^2 - q + 1) * (q^6 + q^5 + q^4 + q^3 + q^2 + q + 1) * (q^6 - q^5 + \
q^4 - q^3 + q^2 - q + 1) * (q^(20) - q^(18) - q^(14) - q^(12) + q^(10) \
- q^8 - q^6 - q^2 + 1)
sage: g(q) = q^8 * (q^4 + q^2 + 1)^2 * (q^4 + 1)^5
sage: p = complex_plot(f/g, (-2,2), (-2,2))
sage: p.show(figsize=[500,500])
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
...
ValueError: width and height must each be below 32768
```
Essentially, the documentation for `show()` needs to be updated, especially the optional arguments, to clearly explain the units of measurement of the width and height of the image size. Also, it would be a good idea to specify how one can pass in values for those dimensions. For example, can one do this `figsize=[124,124]`?

CC:  @kcrisman

Keywords: **image dimensions, figsize**

Branch: **[`4c5b581`](https://github.com/sagemath/sagetrac-mirror/commit/4c5b581fb521519cdd353bc40445b4f7b4589862)**

Upstream: **None of the above - read trac for reasoning.**

Reviewer: **Karl-Dieter Crisman, Punarbasu Purkayastha, Jeroen Demeyer**

Author: **Emily Chen, Punarbasu Purkayastha, Karl-Dieter Crisman**

Component: **graphics**

_Issue created by migration from https://trac.sagemath.org/ticket/5956_





---

archive/issue_events_071170.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-05-01T07:17:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71170"
}
```



---

archive/issue_events_071171.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-05-01T07:17:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71171"
}
```



---

archive/issue_events_071172.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-05-01T07:17:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71172"
}
```



---

archive/issue_events_071173.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-05-01T07:17:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71173"
}
```



---

archive/issue_events_071174.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-05-01T07:17:25Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "subject": "https://github.com/sagetrac-mvngu",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71174"
}
```



---

archive/issue_events_071175.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-05-26T15:32:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/good%20first%20issue",
    "label_color": "7057ff",
    "label_name": "good first issue",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71175"
}
```



---

archive/issue_events_071176.json:
```json
{
    "actor": "https://github.com/sagetrac-emchennyc",
    "created_at": "2012-11-03T21:42:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71176"
}
```



---

archive/issue_comments_038564.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nMade a doc update after reading this thread:  https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/xBElS3vAu5c\n\nDo you think any more info should be included in the changes?",
    "created_at": "2012-11-03T21:42:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38564",
    "user": "https://github.com/sagetrac-emchennyc"
}
```

<div id="comment:3" align="right">comment:3</div>

Made a doc update after reading this thread:  https://groups.google.com/forum/?fromgroups=#!topic/sage-devel/xBElS3vAu5c

Do you think any more info should be included in the changes?



---

archive/issue_comments_038565.json:
```json
{
    "body": "Author: **emchennyc**",
    "created_at": "2012-11-03T21:42:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38565",
    "user": "https://github.com/sagetrac-emchennyc"
}
```

Author: **emchennyc**



---

archive/issue_comments_038566.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2012-11-04T01:57:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38566",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_events_071177.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-11-04T01:57:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71177"
}
```



---

archive/issue_events_071178.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-11-04T01:57:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71178"
}
```



---

archive/issue_comments_038567.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis would be a good start.  \n\nWhat's the reference for the dpi, just out of curiosity?  (I assume it's right in the Sage or mpl source.)  Also, telling us the maximum possible would be helpful, given the errors - especially since the one above is confusing since the `32768` is in \"dots\", not inches.  Presumably if one reset the default dpi...\n\n```\nsage: P.show(figsize=[1,327],dpi=100)\nsage: P.show(figsize=[1,328],dpi=100)\n<ValueError>\nsage: P.show(figsize=[1,328],dpi=80)\n```\nSo this should be very, very clear, in order to resolve this ticket.\n\nAdditionally, you'll want to add a doctest to verify that some things don't go boom, and that the error is correctly raised, etc.  Maybe even a `# not tested` line with the segfault.\n\nFinally, we may also want to report the segfault upstream with a \"pure\" matplotlib example, if you can concoct one.\n\nBut all that said, thanks very much for looking at this - this is just part of the normal review process, good start.",
    "created_at": "2012-11-04T01:57:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38567",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">comment:5</div>

This would be a good start.  

What's the reference for the dpi, just out of curiosity?  (I assume it's right in the Sage or mpl source.)  Also, telling us the maximum possible would be helpful, given the errors - especially since the one above is confusing since the `32768` is in "dots", not inches.  Presumably if one reset the default dpi...

```
sage: P.show(figsize=[1,327],dpi=100)
sage: P.show(figsize=[1,328],dpi=100)
<ValueError>
sage: P.show(figsize=[1,328],dpi=80)
```
So this should be very, very clear, in order to resolve this ticket.

Additionally, you'll want to add a doctest to verify that some things don't go boom, and that the error is correctly raised, etc.  Maybe even a `# not tested` line with the segfault.

Finally, we may also want to report the segfault upstream with a "pure" matplotlib example, if you can concoct one.

But all that said, thanks very much for looking at this - this is just part of the normal review process, good start.



---

archive/issue_comments_038568.json:
```json
{
    "body": "Changed author from **emchennyc** to **Emily Chen**",
    "created_at": "2012-11-04T01:57:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38568",
    "user": "https://github.com/kcrisman"
}
```

Changed author from **emchennyc** to **Emily Chen**



---

archive/issue_events_071179.json:
```json
{
    "actor": "https://github.com/sagetrac-emchennyc",
    "created_at": "2012-11-10T18:49:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71179"
}
```



---

archive/issue_events_071180.json:
```json
{
    "actor": "https://github.com/sagetrac-emchennyc",
    "created_at": "2012-11-10T18:49:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71180"
}
```



---

archive/issue_comments_038569.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThank you for the pointers. In matplotlib/rcsetup.py the default figure properties start at line 508. \nline 509 # figure size in inches: width by height 'figure.figsize'    : [ [8.0,6.0], validate_nseq_float(2)]\nline 523 'savefig.dpi'         : [100, validate_float],   # DPI\n\nI submitted a new patch to include what I think you mean by a doctest. I wasn't sure what you meant about including '# not tested line with the segfault'. Should I include an example with the segfault in the docstring?\n\nStrangely enough, I did not raise any errors when I tried a 'pure' matplotlib example...\n\n```\nfrom matplotlib import pyplot as plt\nf=plt.figure(figsize=[28,10],dpi=100)\nf.show()\n```\n\n\nWould someone kindly review  and let me know what else should be included in the doctest? I appreciate your patience with this, as I am (obviously) new and hoping to learn. Thank you!",
    "created_at": "2012-11-10T18:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38569",
    "user": "https://github.com/sagetrac-emchennyc"
}
```

<div id="comment:6" align="right">comment:6</div>

Thank you for the pointers. In matplotlib/rcsetup.py the default figure properties start at line 508. 
line 509 # figure size in inches: width by height 'figure.figsize'    : [ [8.0,6.0], validate_nseq_float(2)]
line 523 'savefig.dpi'         : [100, validate_float],   # DPI

I submitted a new patch to include what I think you mean by a doctest. I wasn't sure what you meant about including '# not tested line with the segfault'. Should I include an example with the segfault in the docstring?

Strangely enough, I did not raise any errors when I tried a 'pure' matplotlib example...

```
from matplotlib import pyplot as plt
f=plt.figure(figsize=[28,10],dpi=100)
f.show()
```


Would someone kindly review  and let me know what else should be included in the doctest? I appreciate your patience with this, as I am (obviously) new and hoping to learn. Thank you!



---

archive/issue_comments_038570.json:
```json
{
    "body": "Upstream: **None of the above - read trac for reasoning.**",
    "created_at": "2012-11-10T18:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38570",
    "user": "https://github.com/sagetrac-emchennyc"
}
```

Upstream: **None of the above - read trac for reasoning.**



---

archive/issue_comments_038571.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis ticket is awesome! Brought my laptop to a crawl! :)\n\n@sagetrac-emchennyc: I might come back to this ticket if kcrisman doesn't. For now, it seems that matplotlib (even the latest 1.2.0 release) does not handle the parameters `[256,256]` properly. It tries to allocate memory and then fails, resulting in a segfault.\n\nWhat kcrisman asks is a doctest like this (under a `TEST:` section; look at how these sections are written in other functions or other files):\n\n```\nTEST:\n\nThe following plot segfaults sage and should not be doctested.::\n\n    sage: plot(x).show(figsize=[256,256]) # not tested\n\n```\n\nIf you do happen to run this command, be very careful. I suggest you set a ulimit before you start sage. If you have, say 3G, of memory/RAM, then set ulimit to 2G and only then start sage. If you have even less memory then you will need to set even lower ulimit, but sage won't run properly below 1G.\n\n```\n$ ulimit -v 2000000\n$ sage\nsage: plot(x).show(figsize=[256,256]) # boom, segv!!\n```\n\nThat said, I would like you to set some defaults in your editor. Currently, your patch contains a mixture of tabs and spaces. I suggest you change the settings in your editor to not insert tabs, and instead insert 4 spaces every time you press a tab key.",
    "created_at": "2012-11-16T10:05:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38571",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:7" align="right">comment:7</div>

This ticket is awesome! Brought my laptop to a crawl! :)

@sagetrac-emchennyc: I might come back to this ticket if kcrisman doesn't. For now, it seems that matplotlib (even the latest 1.2.0 release) does not handle the parameters `[256,256]` properly. It tries to allocate memory and then fails, resulting in a segfault.

What kcrisman asks is a doctest like this (under a `TEST:` section; look at how these sections are written in other functions or other files):

```
TEST:

The following plot segfaults sage and should not be doctested.::

    sage: plot(x).show(figsize=[256,256]) # not tested

```

If you do happen to run this command, be very careful. I suggest you set a ulimit before you start sage. If you have, say 3G, of memory/RAM, then set ulimit to 2G and only then start sage. If you have even less memory then you will need to set even lower ulimit, but sage won't run properly below 1G.

```
$ ulimit -v 2000000
$ sage
sage: plot(x).show(figsize=[256,256]) # boom, segv!!
```

That said, I would like you to set some defaults in your editor. Currently, your patch contains a mixture of tabs and spaces. I suggest you change the settings in your editor to not insert tabs, and instead insert 4 spaces every time you press a tab key.



---

archive/issue_events_071181.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-01-03T20:16:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71181"
}
```



---

archive/issue_events_071182.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-01-03T20:16:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71182"
}
```



---

archive/issue_comments_038572.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nNeeds work due to the issues raise by ppurka, but getting close!",
    "created_at": "2013-01-03T20:16:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38572",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:8" align="right">comment:8</div>

Needs work due to the issues raise by ppurka, but getting close!



---

archive/issue_comments_038573.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n@ppurka Thank you for the feedback! The tests I included in the attached patch pass when I run:\n./sage -t -verbose 'devel/sage-5956/sage/plot/graphics.py'\n\nThen, I\n- ran ./sage -docbuild reference html\n- navigated to SAGEROOT/devel/branch/doc/output/html/en/reference\n- opened plotting.html in a browser\n- visited the doc page for Graphics objects\nbut did not see the documentation that I added. Did I miss a step?\n\nAlso, here is a matplotlib example which I believe this bug is related to. Please correct me if I'm wrong and feel free to advise if I should use this example to report as a matplotlib issue: http://pastebin.com/raw.php?i=5Arg52e2",
    "created_at": "2013-01-05T13:40:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38573",
    "user": "https://github.com/sagetrac-emchennyc"
}
```

<div id="comment:9" align="right">comment:9</div>

@ppurka Thank you for the feedback! The tests I included in the attached patch pass when I run:
./sage -t -verbose 'devel/sage-5956/sage/plot/graphics.py'

Then, I
- ran ./sage -docbuild reference html
- navigated to SAGEROOT/devel/branch/doc/output/html/en/reference
- opened plotting.html in a browser
- visited the doc page for Graphics objects
but did not see the documentation that I added. Did I miss a step?

Also, here is a matplotlib example which I believe this bug is related to. Please correct me if I'm wrong and feel free to advise if I should use this example to report as a matplotlib issue: http://pastebin.com/raw.php?i=5Arg52e2



---

archive/issue_comments_038574.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@sagetrac-emchennyc](#comment:9):\n> @ppurka Thank you for the feedback! The tests I included in the attached patch pass when I run:\n> ./sage -t -verbose 'devel/sage-5956/sage/plot/graphics.py'\n> \n> Then, I\n\nYou have to do ./sage -b first.  The tests run on the copy of the code in the devel/sage directory, but the docs build off the ones in the build directory which that command does.\n\n> - ran ./sage -docbuild reference html\n> - navigated to SAGEROOT/devel/branch/doc/output/html/en/reference\n> - opened plotting.html in a browser\n> - visited the doc page for Graphics objects\n> but did not see the documentation that I added. Did I miss a step?\n> \n> Also, here is a matplotlib example which I believe this bug is related to. Please correct me if I'm wrong and feel free to advise if I should use this example to report as a matplotlib issue: http://pastebin.com/raw.php?i=5Arg52e2",
    "created_at": "2013-01-05T13:54:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38574",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@sagetrac-emchennyc](#comment:9):
> @ppurka Thank you for the feedback! The tests I included in the attached patch pass when I run:
> ./sage -t -verbose 'devel/sage-5956/sage/plot/graphics.py'
> 
> Then, I

You have to do ./sage -b first.  The tests run on the copy of the code in the devel/sage directory, but the docs build off the ones in the build directory which that command does.

> - ran ./sage -docbuild reference html
> - navigated to SAGEROOT/devel/branch/doc/output/html/en/reference
> - opened plotting.html in a browser
> - visited the doc page for Graphics objects
> but did not see the documentation that I added. Did I miss a step?
> 
> Also, here is a matplotlib example which I believe this bug is related to. Please correct me if I'm wrong and feel free to advise if I should use this example to report as a matplotlib issue: http://pastebin.com/raw.php?i=5Arg52e2



---

archive/issue_comments_038575.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThanks for the update. There is one more thing that I overlooked earlier. The documentation should mention that the number `32768` is in dots per inch. Maybe the text of `ValueError` should also end in **32768 dots per inch**.\n\n```\nsage: e.show(figsize=[328,10],dpi=100)\nValueError: width and height must each be below 32768 dots per inch.\n```\nI think the following modification to the `figsize` documentation is warranted.\n\n```\n- ``figsize`` - (default: [8.0,6.0]) [width, height] inches. The maximum value\n  of each of the width and the height can be 327 inches, at the default ``dpi``\n  of 100 dpi, which is just shy of the maximum allowed value of 32768 dots\n  per inch.\n```\nThen, the test should have the following description:\n\n```\n        The figsize width and height parameters must be less than 328 inches each,\n        corresponding to the maximum allowed dpi of 32768.::\n```\nThis will make the number 32768 more clear to anyone who is curious what that number means in the `ValueError`.\n\nI am unable to replicate your matplotlib example. A figure doesn't seem to have a `show()` attribute. However, the following example successfully crashes matplotlib.\n\n```\n~\u00bb ulimit -v 2000000\n~\u00bb sage -ipython\nPython 2.7.3 (default, Dec 30 2012, 21:34:30)\nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 0.10.2 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object'. ?object also works, ?? prints more.\n\nIn [1]: from matplotlib import pyplot\n\nIn [2]: pyplot.figure(figsize=[232,232])\nOut[2]: <matplotlib.figure.Figure object at 0x12ba950>\n\nIn [3]: pyplot.savefig('/tmp/a.png')\n...\nRuntimeError: Could not allocate memory for image\n```",
    "created_at": "2013-01-05T14:25:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38575",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:11" align="right">comment:11</div>

Thanks for the update. There is one more thing that I overlooked earlier. The documentation should mention that the number `32768` is in dots per inch. Maybe the text of `ValueError` should also end in **32768 dots per inch**.

```
sage: e.show(figsize=[328,10],dpi=100)
ValueError: width and height must each be below 32768 dots per inch.
```
I think the following modification to the `figsize` documentation is warranted.

```
- ``figsize`` - (default: [8.0,6.0]) [width, height] inches. The maximum value
  of each of the width and the height can be 327 inches, at the default ``dpi``
  of 100 dpi, which is just shy of the maximum allowed value of 32768 dots
  per inch.
```
Then, the test should have the following description:

```
        The figsize width and height parameters must be less than 328 inches each,
        corresponding to the maximum allowed dpi of 32768.::
```
This will make the number 32768 more clear to anyone who is curious what that number means in the `ValueError`.

I am unable to replicate your matplotlib example. A figure doesn't seem to have a `show()` attribute. However, the following example successfully crashes matplotlib.

```
~» ulimit -v 2000000
~» sage -ipython
Python 2.7.3 (default, Dec 30 2012, 21:34:30)
Type "copyright", "credits" or "license" for more information.

IPython 0.10.2 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object'. ?object also works, ?? prints more.

In [1]: from matplotlib import pyplot

In [2]: pyplot.figure(figsize=[232,232])
Out[2]: <matplotlib.figure.Figure object at 0x12ba950>

In [3]: pyplot.savefig('/tmp/a.png')
...
RuntimeError: Could not allocate memory for image
```



---

archive/issue_comments_038576.json:
```json
{
    "body": "Attachment: **[trac_5956_figsize_units.patch.gz](https://github.com/sagemath/sage/files/ticket5956/trac_5956_figsize_units.patch.gz)**",
    "created_at": "2013-01-05T14:43:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38576",
    "user": "https://github.com/sagetrac-emchennyc"
}
```

Attachment: **[trac_5956_figsize_units.patch.gz](https://github.com/sagemath/sage/files/ticket5956/trac_5956_figsize_units.patch.gz)**



---

archive/issue_comments_038577.json:
```json
{
    "body": "Attachment: **[trac_5956_figsize_units.1.patch.gz](https://github.com/sagemath/sage/files/ticket5956/trac_5956_figsize_units.1.patch.gz)**\n\napply only this",
    "created_at": "2013-02-02T08:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38577",
    "user": "https://github.com/ppurka"
}
```

Attachment: **[trac_5956_figsize_units.1.patch.gz](https://github.com/sagemath/sage/files/ticket5956/trac_5956_figsize_units.1.patch.gz)**

apply only this



---

archive/issue_comments_038578.json:
```json
{
    "body": "Attachment: **[only_for_review.patch.gz](https://github.com/sagemath/sage/files/ticket5956/only_for_review.patch.gz)**\n\nnot to be merged. only for review.",
    "created_at": "2013-02-02T08:43:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38578",
    "user": "https://github.com/ppurka"
}
```

Attachment: **[only_for_review.patch.gz](https://github.com/sagemath/sage/files/ticket5956/only_for_review.patch.gz)**

not to be merged. only for review.



---

archive/issue_events_071183.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-02-02T08:46:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71183"
}
```



---

archive/issue_events_071184.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-02-02T08:46:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71184"
}
```



---

archive/issue_comments_038579.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -41,3 +41,7 @@\n ValueError: width and height must each be below 32768\n ```\n Essentially, the documentation for `show()` needs to be updated, especially the optional arguments, to clearly explain the units of measurement of the width and height of the image size. Also, it would be a good idea to specify how one can pass in values for those dimensions. For example, can one do this `figsize=[124,124]`?\n+\n+---\n+\n+Apply only [attachment: trac_5956_figsize_units.1.patch](https://github.com/sagemath/sage/files/ticket5956/trac_5956_figsize_units.1.patch.gz) to devel/sage.\n``````\n",
    "created_at": "2013-02-02T08:46:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38579",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -41,3 +41,7 @@
 ValueError: width and height must each be below 32768
 ```
 Essentially, the documentation for `show()` needs to be updated, especially the optional arguments, to clearly explain the units of measurement of the width and height of the image size. Also, it would be a good idea to specify how one can pass in values for those dimensions. For example, can one do this `figsize=[124,124]`?
+
+---
+
+Apply only [attachment: trac_5956_figsize_units.1.patch](https://github.com/sagemath/sage/files/ticket5956/trac_5956_figsize_units.1.patch.gz) to devel/sage.
``````




---

archive/issue_comments_038580.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nUpdated the patch to sage-5.7beta0 and introduced some other changes.\n\nThe patch [attachment: only_for_review.patch](https://github.com/sagemath/sage/files/ticket5956/only_for_review.patch.gz) contains the changes I made after rebasing the patch to 5.7beta0. In particular, I have introduced the changes I suggested in my comments, and have fixed failing doctests due to the use/redefining of `e` in the earlier patch.\n\nThe changes needs review.\n\nPatchbot apply trac_5956_figsize_units.1.patch",
    "created_at": "2013-02-02T08:46:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38580",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:12" align="right">comment:12</div>

Updated the patch to sage-5.7beta0 and introduced some other changes.

The patch [attachment: only_for_review.patch](https://github.com/sagemath/sage/files/ticket5956/only_for_review.patch.gz) contains the changes I made after rebasing the patch to 5.7beta0. In particular, I have introduced the changes I suggested in my comments, and have fixed failing doctests due to the use/redefining of `e` in the earlier patch.

The changes needs review.

Patchbot apply trac_5956_figsize_units.1.patch



---

archive/issue_comments_038581.json:
```json
{
    "body": "Changed reviewer from **Karl-Dieter Crisman** to **Karl-Dieter Crisman, Punarbasu Purkayastha**",
    "created_at": "2013-02-02T08:47:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38581",
    "user": "https://github.com/ppurka"
}
```

Changed reviewer from **Karl-Dieter Crisman** to **Karl-Dieter Crisman, Punarbasu Purkayastha**



---

archive/issue_comments_038582.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThis hit me today in class!  At least, I think so - `figsize=[5,5]` shouldn't necessarily yield this, but it was the same message.  I thought it was in, but high priority now.\n\nAlso, I think that #12592 is a dup.",
    "created_at": "2013-03-22T21:08:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38582",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:14" align="right">comment:14</div>

This hit me today in class!  At least, I think so - `figsize=[5,5]` shouldn't necessarily yield this, but it was the same message.  I thought it was in, but high priority now.

Also, I think that #12592 is a dup.



---

archive/issue_comments_038583.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOh, I figured out my (very stupid) problem - I used `figsize=[-5,5]`, which is of course absurd.  Still, probably wouldn't hurt to put in a check for absurd values... such typos are \"all too easy\".",
    "created_at": "2013-03-22T21:14:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38583",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:15" align="right">comment:15</div>

Oh, I figured out my (very stupid) problem - I used `figsize=[-5,5]`, which is of course absurd.  Still, probably wouldn't hurt to put in a check for absurd values... such typos are "all too easy".



---

archive/issue_comments_038584.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nNeeds a bit of work.  The limit is in pixels (dots), not dots per inch.  `2^15` dots per inch would be impressive indeed.  Notice also that [apparently this could be raised](http://matplotlib.1069221.n5.nabble.com/the-32768-pixel-limit-tt30382.html#none) if one really wanted to.\n\nI'll add a reviewer patch momentarily.",
    "created_at": "2013-03-23T01:37:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38584",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">comment:16</div>

Needs a bit of work.  The limit is in pixels (dots), not dots per inch.  `2^15` dots per inch would be impressive indeed.  Notice also that [apparently this could be raised](http://matplotlib.1069221.n5.nabble.com/the-32768-pixel-limit-tt30382.html#none) if one really wanted to.

I'll add a reviewer patch momentarily.



---

archive/issue_comments_038585.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAttachment: **[trac_5956-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket5956/trac_5956-reviewer.patch.gz)**\n\nI think this needs some review, since I add some assertions and so forth.   I hope this clarifies things more, though, and adds doc in the main plot page where it is probably needed.\n\nppurka, if you are an author too, feel free to add yourself.  Positive review to everything before my patch.\n\nPatchbot: apply trac_5956_figsize_units.1.patch and trac_5956-reviewer.patch to devel/sage.",
    "created_at": "2013-03-23T02:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38585",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:17" align="right">comment:17</div>

Attachment: **[trac_5956-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket5956/trac_5956-reviewer.patch.gz)**

I think this needs some review, since I add some assertions and so forth.   I hope this clarifies things more, though, and adds doc in the main plot page where it is probably needed.

ppurka, if you are an author too, feel free to add yourself.  Positive review to everything before my patch.

Patchbot: apply trac_5956_figsize_units.1.patch and trac_5956-reviewer.patch to devel/sage.



---

archive/issue_comments_038586.json:
```json
{
    "body": "Changed author from **Emily Chen** to **Emily Chen, Karl-Dieter Crisman**",
    "created_at": "2013-03-23T02:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38586",
    "user": "https://github.com/kcrisman"
}
```

Changed author from **Emily Chen** to **Emily Chen, Karl-Dieter Crisman**



---

archive/issue_comments_038587.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -44,4 +44,4 @@\n \n ---\n \n-Apply only [attachment: trac_5956_figsize_units.1.patch](https://github.com/sagemath/sage/files/ticket5956/trac_5956_figsize_units.1.patch.gz) to devel/sage.\n+Apply [attachment: trac_5956_figsize_units.1.patch](https://github.com/sagemath/sage/files/ticket5956/trac_5956_figsize_units.1.patch.gz) and [attachment: trac_5956-reviewer.patch](https://github.com/sagemath/sage/files/ticket5956/trac_5956-reviewer.patch.gz) to devel/sage.\n``````\n",
    "created_at": "2013-03-23T02:24:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38587",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -44,4 +44,4 @@
 
 ---
 
-Apply only [attachment: trac_5956_figsize_units.1.patch](https://github.com/sagemath/sage/files/ticket5956/trac_5956_figsize_units.1.patch.gz) to devel/sage.
+Apply [attachment: trac_5956_figsize_units.1.patch](https://github.com/sagemath/sage/files/ticket5956/trac_5956_figsize_units.1.patch.gz) and [attachment: trac_5956-reviewer.patch](https://github.com/sagemath/sage/files/ticket5956/trac_5956-reviewer.patch.gz) to devel/sage.
``````




---

archive/issue_comments_038588.json:
```json
{
    "body": "Changed author from **Emily Chen, Karl-Dieter Crisman** to **Emily Chen, Punarbasu Purkayastha, Karl-Dieter Crisman**",
    "created_at": "2013-03-23T07:09:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38588",
    "user": "https://github.com/ppurka"
}
```

Changed author from **Emily Chen, Karl-Dieter Crisman** to **Emily Chen, Punarbasu Purkayastha, Karl-Dieter Crisman**



---

archive/issue_comments_038589.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@kcrisman](#comment:17):\n> I think this needs some review, since I add some assertions and so forth.   I hope this clarifies things more, though, and adds doc in the main plot page where it is probably needed.\n\nThanks. Looks good to me.\n\n> ppurka, if you are an author too, feel free to add yourself.  Positive review to everything before my patch.\n\nI did change some doctests.",
    "created_at": "2013-03-23T07:09:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38589",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@kcrisman](#comment:17):
> I think this needs some review, since I add some assertions and so forth.   I hope this clarifies things more, though, and adds doc in the main plot page where it is probably needed.

Thanks. Looks good to me.

> ppurka, if you are an author too, feel free to add yourself.  Positive review to everything before my patch.

I did change some doctests.



---

archive/issue_events_071185.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-03-23T07:09:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71185"
}
```



---

archive/issue_events_071186.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-03-23T07:09:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71186"
}
```



---

archive/issue_comments_038590.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nUse `ValueError` for bad user input, not `AssertionError`. If there is any way to produce an `AssertionError` using public functions, that is by definition a bug.\n\nAssertions are meant to check internal consistency inside algorithms. They express \"I *know* this condition is true\", not \"I want to *check* that this condition is true\".",
    "created_at": "2013-03-23T10:32:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38590",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

Use `ValueError` for bad user input, not `AssertionError`. If there is any way to produce an `AssertionError` using public functions, that is by definition a bug.

Assertions are meant to check internal consistency inside algorithms. They express "I *know* this condition is true", not "I want to *check* that this condition is true".



---

archive/issue_events_071187.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-23T10:32:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71187"
}
```



---

archive/issue_events_071188.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-23T10:32:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71188"
}
```



---

archive/issue_comments_038591.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n> Assertions are meant to check internal consistency inside algorithms. They express \"I *know* this condition is true\", not \"I want to *check* that this condition is true\".\n\nOkay, fair enough.  The problem is that now I have to go remember how to check that something is a numeric type as well - which is better in the long run, but which is tricky with all the zillions of numeric input types Sage has... does something like `isnumeric` work?  It sounds familiar.",
    "created_at": "2013-03-23T12:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38591",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:20" align="right">comment:20</div>

> Assertions are meant to check internal consistency inside algorithms. They express "I *know* this condition is true", not "I want to *check* that this condition is true".

Okay, fair enough.  The problem is that now I have to go remember how to check that something is a numeric type as well - which is better in the long run, but which is tricky with all the zillions of numeric input types Sage has... does something like `isnumeric` work?  It sounds familiar.



---

archive/issue_comments_038592.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@kcrisman](#comment:20):\n> > Assertions are meant to check internal consistency inside algorithms. They express \"I *know* this condition is true\", not \"I want to *check* that this condition is true\".\n\n> Okay, fair enough.  The problem is that now I have to go remember how to check that something is a numeric type as well\n\nJust convert, for example\n\n```\nx = float(x)\n```",
    "created_at": "2013-03-23T12:47:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38592",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@kcrisman](#comment:20):
> > Assertions are meant to check internal consistency inside algorithms. They express "I *know* this condition is true", not "I want to *check* that this condition is true".

> Okay, fair enough.  The problem is that now I have to go remember how to check that something is a numeric type as well

Just convert, for example

```
x = float(x)
```



---

archive/issue_comments_038593.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nWhy should we go around checking for numeric types? This is not a \"critical\" application that should ensure sane inputs for all kinds of inputs. If the user sends in garbage, they will eventually get garbage out from at least matplotlib, if not earlier in the process.",
    "created_at": "2013-03-23T13:14:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38593",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:22" align="right">comment:22</div>

Why should we go around checking for numeric types? This is not a "critical" application that should ensure sane inputs for all kinds of inputs. If the user sends in garbage, they will eventually get garbage out from at least matplotlib, if not earlier in the process.



---

archive/issue_comments_038594.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nIt's not critical in that sense, but it's the kind of thing where I figure we might as well make sure that any error message sent makes sense.  The current error\n\n```\nValueError: width and height must each be below 32768\n```\ndoesn't refer to `figsize` and at least made me totally miss that I had somehow smuggled a minus sign in there, since I was frantically trying to make the image smaller and wondering why five was too big :-)  I figure if it can happen to an experienced Sage user \"on the spot\", it will definitely happen to a new user.  Jeroen's comment seems quite reasonable especially as everything matplotlib is going to end up a float anyway, if I recall correctly.\n\nI'll try to get this all packaged up in the next day or two.",
    "created_at": "2013-03-26T03:01:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38594",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:23" align="right">comment:23</div>

It's not critical in that sense, but it's the kind of thing where I figure we might as well make sure that any error message sent makes sense.  The current error

```
ValueError: width and height must each be below 32768
```
doesn't refer to `figsize` and at least made me totally miss that I had somehow smuggled a minus sign in there, since I was frantically trying to make the image smaller and wondering why five was too big :-)  I figure if it can happen to an experienced Sage user "on the spot", it will definitely happen to a new user.  Jeroen's comment seems quite reasonable especially as everything matplotlib is going to end up a float anyway, if I recall correctly.

I'll try to get this all packaged up in the next day or two.



---

archive/issue_events_071189.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71189"
}
```



---

archive/issue_events_071190.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71190"
}
```



---

archive/issue_comments_038595.json:
```json
{
    "body": "Branch: **[u/ppurka/ticket/5956](https://github.com/sagemath/sagetrac-mirror/tree/u/ppurka/ticket/5956)**",
    "created_at": "2014-01-19T14:31:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38595",
    "user": "https://github.com/ppurka"
}
```

Branch: **[u/ppurka/ticket/5956](https://github.com/sagemath/sagetrac-mirror/tree/u/ppurka/ticket/5956)**



---

archive/issue_comments_038596.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nAdded a git version of the patch. This is based on 6.1.beta5.",
    "created_at": "2014-01-19T14:31:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38596",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:26" align="right">comment:26</div>

Added a git version of the patch. This is based on 6.1.beta5.



---

archive/issue_events_071191.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71191"
}
```



---

archive/issue_events_071192.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71192"
}
```



---

archive/issue_events_071193.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71193"
}
```



---

archive/issue_events_071194.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71194"
}
```



---

archive/issue_events_071195.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71195"
}
```



---

archive/issue_events_071196.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71196"
}
```



---

archive/issue_comments_038597.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\n> I'll try to get this all packaged up in the next day or two.\n\nNext day or two, next year or two...\n> Added a git version of the patch. This is based on 6.1.beta5.\n\nAmazingly, apparently still applies.\n\nBut we still haven't taken care of Jeroen's comment.  So I will try to do that now.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcbcd733eb435a443214746707892d2f2b438bf1\"><code>dcbcd73</code></a></td><td><code>Trac #5956 Graphics object show() doc explains figsize dimension is inches; added doctest for max figsize and figsize values that cause segfault</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a756268ebc83500dcb785204d95901b711e38561\"><code>a756268</code></a></td><td><code>Trac 5956 additional patch adding doc, tests, and assertion for figsize</code></td></tr></table>\n",
    "created_at": "2014-11-07T19:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38597",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:30" align="right">comment:30</div>

> I'll try to get this all packaged up in the next day or two.

Next day or two, next year or two...
> Added a git version of the patch. This is based on 6.1.beta5.

Amazingly, apparently still applies.

But we still haven't taken care of Jeroen's comment.  So I will try to do that now.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcbcd733eb435a443214746707892d2f2b438bf1"><code>dcbcd73</code></a></td><td><code>Trac #5956 Graphics object show() doc explains figsize dimension is inches; added doctest for max figsize and figsize values that cause segfault</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a756268ebc83500dcb785204d95901b711e38561"><code>a756268</code></a></td><td><code>Trac 5956 additional patch adding doc, tests, and assertion for figsize</code></td></tr></table>




---

archive/issue_comments_038598.json:
```json
{
    "body": "Commit: **[`a756268`](https://github.com/sagemath/sagetrac-mirror/commit/a756268ebc83500dcb785204d95901b711e38561)**",
    "created_at": "2014-11-07T19:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38598",
    "user": "https://github.com/kcrisman"
}
```

Commit: **[`a756268`](https://github.com/sagemath/sagetrac-mirror/commit/a756268ebc83500dcb785204d95901b711e38561)**



---

archive/issue_comments_038599.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nOkay, the last commit only needs review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c172aff11a22fad54efca424ed90c4c37f86b8af\"><code>c172aff</code></a></td><td><code>Merge branch 'u/ppurka/ticket/5956' of trac.sagemath.org:sage into figsize</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47c705c6ee6ab969ec70eb6ed1628e56b59042fe\"><code>47c705c</code></a></td><td><code>Make ValueError, not assertion</code></td></tr></table>\n",
    "created_at": "2014-11-07T19:39:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38599",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:31" align="right">comment:31</div>

Okay, the last commit only needs review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c172aff11a22fad54efca424ed90c4c37f86b8af"><code>c172aff</code></a></td><td><code>Merge branch 'u/ppurka/ticket/5956' of trac.sagemath.org:sage into figsize</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47c705c6ee6ab969ec70eb6ed1628e56b59042fe"><code>47c705c</code></a></td><td><code>Make ValueError, not assertion</code></td></tr></table>




---

archive/issue_comments_038600.json:
```json
{
    "body": "Changed branch from **[u/ppurka/ticket/5956](https://github.com/sagemath/sagetrac-mirror/tree/u/ppurka/ticket/5956)** to **[u/kcrisman/figsize](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/figsize)**",
    "created_at": "2014-11-07T19:39:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38600",
    "user": "https://github.com/kcrisman"
}
```

Changed branch from **[u/ppurka/ticket/5956](https://github.com/sagemath/sagetrac-mirror/tree/u/ppurka/ticket/5956)** to **[u/kcrisman/figsize](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/figsize)**



---

archive/issue_events_071197.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-07T19:39:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71197"
}
```



---

archive/issue_events_071198.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-07T19:39:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71198"
}
```



---

archive/issue_comments_038601.json:
```json
{
    "body": "Changed commit from **[`a756268`](https://github.com/sagemath/sagetrac-mirror/commit/a756268ebc83500dcb785204d95901b711e38561)** to **[`47c705c`](https://github.com/sagemath/sagetrac-mirror/commit/47c705c6ee6ab969ec70eb6ed1628e56b59042fe)**",
    "created_at": "2014-11-07T19:39:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38601",
    "user": "https://github.com/kcrisman"
}
```

Changed commit from **[`a756268`](https://github.com/sagemath/sagetrac-mirror/commit/a756268ebc83500dcb785204d95901b711e38561)** to **[`47c705c`](https://github.com/sagemath/sagetrac-mirror/commit/47c705c6ee6ab969ec70eb6ed1628e56b59042fe)**



---

archive/issue_comments_038602.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@ppurka](#comment:22):\n> Why should we go around checking for numeric types? This is not a \"critical\" application that should ensure sane inputs for all kinds of inputs. If the user sends in garbage, they will eventually get garbage out from at least matplotlib, if not earlier in the process.\n\nWell, it could be that the user will send some Sage numeric type, which matplotlib might treat like garbage. A conversion like\n\n```\nx = float(x)   # assuming that it's a float that you need\n```\nwill solve both problems: it will raise a `TypeError` when true garbage is given but it should work for all Sage numeric types.",
    "created_at": "2014-11-08T11:08:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38602",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@ppurka](#comment:22):
> Why should we go around checking for numeric types? This is not a "critical" application that should ensure sane inputs for all kinds of inputs. If the user sends in garbage, they will eventually get garbage out from at least matplotlib, if not earlier in the process.

Well, it could be that the user will send some Sage numeric type, which matplotlib might treat like garbage. A conversion like

```
x = float(x)   # assuming that it's a float that you need
```
will solve both problems: it will raise a `TypeError` when true garbage is given but it should work for all Sage numeric types.



---

archive/issue_comments_038603.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -41,7 +41,3 @@\n ValueError: width and height must each be below 32768\n ```\n Essentially, the documentation for `show()` needs to be updated, especially the optional arguments, to clearly explain the units of measurement of the width and height of the image size. Also, it would be a good idea to specify how one can pass in values for those dimensions. For example, can one do this `figsize=[124,124]`?\n-\n----\n-\n-Apply [attachment: trac_5956_figsize_units.1.patch](https://github.com/sagemath/sage/files/ticket5956/trac_5956_figsize_units.1.patch.gz) and [attachment: trac_5956-reviewer.patch](https://github.com/sagemath/sage/files/ticket5956/trac_5956-reviewer.patch.gz) to devel/sage.\n``````\n",
    "created_at": "2014-11-08T11:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38603",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -41,7 +41,3 @@
 ValueError: width and height must each be below 32768
 ```
 Essentially, the documentation for `show()` needs to be updated, especially the optional arguments, to clearly explain the units of measurement of the width and height of the image size. Also, it would be a good idea to specify how one can pass in values for those dimensions. For example, can one do this `figsize=[124,124]`?
-
----
-
-Apply [attachment: trac_5956_figsize_units.1.patch](https://github.com/sagemath/sage/files/ticket5956/trac_5956_figsize_units.1.patch.gz) and [attachment: trac_5956-reviewer.patch](https://github.com/sagemath/sage/files/ticket5956/trac_5956-reviewer.patch.gz) to devel/sage.
``````




---

archive/issue_comments_038604.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nA minor point, but I wouldn't write segfaulting examples. Imagine the user tries those \"examples\" without reading the surrounding text...",
    "created_at": "2014-11-08T11:13:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38604",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

A minor point, but I wouldn't write segfaulting examples. Imagine the user tries those "examples" without reading the surrounding text...



---

archive/issue_comments_038605.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@jdemeyer](#comment:34):\n> A minor point, but I wouldn't write segfaulting examples. Imagine the user tries those \"examples\" without reading the surrounding text...\n\nHow about we prepend the segfaulting line with a comment? Like this:\n\n```\nsage: #p.show(figsize=[232,232],dpi=100) # not tested\n```\nSo, anyone who blindly copy pastes will get nothing out of it. And has to make two mistakes to make it segfault. I think the reason this example is there is to make the user aware that unreasonable parameters will result in an uncomfortable end.",
    "created_at": "2014-11-09T14:37:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38605",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@jdemeyer](#comment:34):
> A minor point, but I wouldn't write segfaulting examples. Imagine the user tries those "examples" without reading the surrounding text...

How about we prepend the segfaulting line with a comment? Like this:

```
sage: #p.show(figsize=[232,232],dpi=100) # not tested
```
So, anyone who blindly copy pastes will get nothing out of it. And has to make two mistakes to make it segfault. I think the reason this example is there is to make the user aware that unreasonable parameters will result in an uncomfortable end.



---

archive/issue_comments_038606.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nThat sounds very reasonable.\n\nJeroen, are you saying that my latest commit needs something added like the `float` business?",
    "created_at": "2014-11-10T13:15:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38606",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:36" align="right">comment:36</div>

That sounds very reasonable.

Jeroen, are you saying that my latest commit needs something added like the `float` business?



---

archive/issue_comments_038607.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e7a99306285fa9b710e4b506e93db6b13de732d\"><code>9e7a993</code></a></td><td><code>Merge branch 'develop' into figsize</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16666594c6d72b767adc1f2e9e7118469ffa600a\"><code>1666659</code></a></td><td><code>Final fixes for figsize</code></td></tr></table>\n",
    "created_at": "2014-11-13T19:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38607",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e7a99306285fa9b710e4b506e93db6b13de732d"><code>9e7a993</code></a></td><td><code>Merge branch 'develop' into figsize</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16666594c6d72b767adc1f2e9e7118469ffa600a"><code>1666659</code></a></td><td><code>Final fixes for figsize</code></td></tr></table>




---

archive/issue_comments_038608.json:
```json
{
    "body": "Changed commit from **[`47c705c`](https://github.com/sagemath/sagetrac-mirror/commit/47c705c6ee6ab969ec70eb6ed1628e56b59042fe)** to **[`1666659`](https://github.com/sagemath/sagetrac-mirror/commit/16666594c6d72b767adc1f2e9e7118469ffa600a)**",
    "created_at": "2014-11-13T19:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38608",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`47c705c`](https://github.com/sagemath/sagetrac-mirror/commit/47c705c6ee6ab969ec70eb6ed1628e56b59042fe)** to **[`1666659`](https://github.com/sagemath/sagetrac-mirror/commit/16666594c6d72b767adc1f2e9e7118469ffa600a)**



---

archive/issue_comments_038609.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nOkay, I think this is ready for review.  The `float` stuff is actually unnecessary but it can't hurt, since we definitely only want things that can be floats in there.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e7a99306285fa9b710e4b506e93db6b13de732d\"><code>9e7a993</code></a></td><td><code>Merge branch 'develop' into figsize</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16666594c6d72b767adc1f2e9e7118469ffa600a\"><code>1666659</code></a></td><td><code>Final fixes for figsize</code></td></tr></table>\n",
    "created_at": "2014-11-13T19:03:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38609",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:38" align="right">comment:38</div>

Okay, I think this is ready for review.  The `float` stuff is actually unnecessary but it can't hurt, since we definitely only want things that can be floats in there.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e7a99306285fa9b710e4b506e93db6b13de732d"><code>9e7a993</code></a></td><td><code>Merge branch 'develop' into figsize</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16666594c6d72b767adc1f2e9e7118469ffa600a"><code>1666659</code></a></td><td><code>Final fixes for figsize</code></td></tr></table>




---

archive/issue_comments_038610.json:
```json
{
    "body": "Changed reviewer from **Karl-Dieter Crisman, Punarbasu Purkayastha** to **Karl-Dieter Crisman, Punarbasu Purkayastha, Jeroen Demeyer**",
    "created_at": "2014-11-13T20:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38610",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Karl-Dieter Crisman, Punarbasu Purkayastha** to **Karl-Dieter Crisman, Punarbasu Purkayastha, Jeroen Demeyer**



---

archive/issue_events_071199.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-13T20:09:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71199"
}
```



---

archive/issue_events_071200.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-13T20:09:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71200"
}
```



---

archive/issue_comments_038611.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nIs there a check that `len(figsize) == 2`?\n\nI would change the logic of those branches to\n\n```\nif figure is None:\n    # add a good comment here\n    ...\nelif isinstance(figsize, (list, tuple)):\n    # figsize should be two positive numbers\n    if len(figsize) != 2:\n        raise ValueError('...')\n    ...\nelse:\n    # figsize should be a single positive number\n    figsize = float(figsize) # to pass to mpl\n    if figsize <= 0:\n        raise ValueError(\"figsize should be positive, not {0}\".format(figsize))\n    ...\n```\n\nAnd add a doctest for some non-float `figsize` argument like\n\n```\nsage: var('x')\nsage: ...figsize=x...\n```",
    "created_at": "2014-11-13T20:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38611",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

Is there a check that `len(figsize) == 2`?

I would change the logic of those branches to

```
if figure is None:
    # add a good comment here
    ...
elif isinstance(figsize, (list, tuple)):
    # figsize should be two positive numbers
    if len(figsize) != 2:
        raise ValueError('...')
    ...
else:
    # figsize should be a single positive number
    figsize = float(figsize) # to pass to mpl
    if figsize <= 0:
        raise ValueError("figsize should be positive, not {0}".format(figsize))
    ...
```

And add a doctest for some non-float `figsize` argument like

```
sage: var('x')
sage: ...figsize=x...
```



---

archive/issue_comments_038612.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nThe `Unhandled SIGSEGV:` message isn't the current message (which is shorter).",
    "created_at": "2014-11-13T20:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38612",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

The `Unhandled SIGSEGV:` message isn't the current message (which is shorter).



---

archive/issue_comments_038613.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c5b581fb521519cdd353bc40445b4f7b4589862\"><code>4c5b581</code></a></td><td><code>More updates to figsize logic</code></td></tr></table>\n",
    "created_at": "2014-11-13T21:21:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38613",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c5b581fb521519cdd353bc40445b4f7b4589862"><code>4c5b581</code></a></td><td><code>More updates to figsize logic</code></td></tr></table>




---

archive/issue_comments_038614.json:
```json
{
    "body": "Changed commit from **[`1666659`](https://github.com/sagemath/sagetrac-mirror/commit/16666594c6d72b767adc1f2e9e7118469ffa600a)** to **[`4c5b581`](https://github.com/sagemath/sagetrac-mirror/commit/4c5b581fb521519cdd353bc40445b4f7b4589862)**",
    "created_at": "2014-11-13T21:21:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38614",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1666659`](https://github.com/sagemath/sagetrac-mirror/commit/16666594c6d72b767adc1f2e9e7118469ffa600a)** to **[`4c5b581`](https://github.com/sagemath/sagetrac-mirror/commit/4c5b581fb521519cdd353bc40445b4f7b4589862)**



---

archive/issue_comments_038615.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nOkay, that's what I can do today.  If you really want the code reorganized that badly it will have to fall to you, I'm afraid.  But everything else should be taken care of.",
    "created_at": "2014-11-13T21:22:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38615",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:42" align="right">comment:42</div>

Okay, that's what I can do today.  If you really want the code reorganized that badly it will have to fall to you, I'm afraid.  But everything else should be taken care of.



---

archive/issue_events_071201.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-13T21:22:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71201"
}
```



---

archive/issue_events_071202.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-11-13T21:22:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71202"
}
```



---

archive/issue_comments_038616.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI think you have addressed Jeroen's concerns.",
    "created_at": "2014-11-16T08:40:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38616",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:43" align="right">comment:43</div>

I think you have addressed Jeroen's concerns.



---

archive/issue_events_071203.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-11-16T08:40:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71203"
}
```



---

archive/issue_events_071204.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2014-11-16T08:40:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71204"
}
```



---

archive/issue_events_071205.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-17T13:17:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71205"
}
```



---

archive/issue_events_071206.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0463339e951ebc17947703552bda07861f78c12d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-11-17T13:17:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5956#event-71206"
}
```



---

archive/issue_comments_038617.json:
```json
{
    "body": "Changed branch from **[u/kcrisman/figsize](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/figsize)** to **[`4c5b581`](https://github.com/sagemath/sagetrac-mirror/commit/4c5b581fb521519cdd353bc40445b4f7b4589862)**",
    "created_at": "2014-11-17T13:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38617",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/kcrisman/figsize](https://github.com/sagemath/sagetrac-mirror/tree/u/kcrisman/figsize)** to **[`4c5b581`](https://github.com/sagemath/sagetrac-mirror/commit/4c5b581fb521519cdd353bc40445b4f7b4589862)**



---

archive/issue_comments_038618.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nFollowup #17057.",
    "created_at": "2014-11-20T21:51:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38618",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:45" align="right">comment:45</div>

Followup #17057.



---

archive/issue_comments_038619.json:
```json
{
    "body": "Changed commit from **[`4c5b581`](https://github.com/sagemath/sagetrac-mirror/commit/4c5b581fb521519cdd353bc40445b4f7b4589862)** to none",
    "created_at": "2014-11-20T21:51:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5956",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5956#issuecomment-38619",
    "user": "https://github.com/kcrisman"
}
```

Changed commit from **[`4c5b581`](https://github.com/sagemath/sagetrac-mirror/commit/4c5b581fb521519cdd353bc40445b4f7b4589862)** to none
