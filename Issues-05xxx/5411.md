# Issue 5411: [with patch, positive review] QuadraticForm: implement clifford_invariant and replace hasse_conductor with clifford_conductor

archive/issues_005411.json:
```json
{
    "body": "The `hasse_invariant` of a quadratic form doesn't match the standard invariant (brauer class) for quaternion algebras (e.g. for ternary quadratic forms, the ramification of the corresponding quaternion algebra).\n\nThe `clifford_invariant` can defined in terms of the clifford algebra of the quadratic form. See Lam (AMS GSM 67) p. 117 for the definition, and p. 119 for the formula relating it to the Hasse invariant.\n\nIt also has the property that hyperbolic spaces have `clifford_invariant == +1` at all primes.\n\nIt also makes more sense to define a `clifford_conductor` instead of a `hasse_conductor` as the product of all the primes with `clifford_invariant == -1`.\n\nAssignee: @tornaria\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/5411\n\n",
    "closed_at": "2009-03-02T06:37:17Z",
    "created_at": "2009-03-01T15:30:07Z",
    "labels": [
        "component: quadratic forms"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.4",
    "title": "[with patch, positive review] QuadraticForm: implement clifford_invariant and replace hasse_conductor with clifford_conductor",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5411",
    "user": "https://github.com/tornaria"
}
```
The `hasse_invariant` of a quadratic form doesn't match the standard invariant (brauer class) for quaternion algebras (e.g. for ternary quadratic forms, the ramification of the corresponding quaternion algebra).

The `clifford_invariant` can defined in terms of the clifford algebra of the quadratic form. See Lam (AMS GSM 67) p. 117 for the definition, and p. 119 for the formula relating it to the Hasse invariant.

It also has the property that hyperbolic spaces have `clifford_invariant == +1` at all primes.

It also makes more sense to define a `clifford_conductor` instead of a `hasse_conductor` as the product of all the primes with `clifford_invariant == -1`.

Assignee: @tornaria

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/5411





---

archive/issue_events_021252.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "rename": {
        "from": "QuadraticForm: implement clifford_invariant and replace hasse_conductor with clifford_conductor",
        "to": "[with patch, needs review] QuadraticForm: implement clifford_invariant and replace hasse_conductor with clifford_conductor"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5411#event-21252"
}
```



---

archive/issue_comments_044552.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [patch.5411.clifford_invariant](tarball://root/attachments/some-uuid/ticket5411/patch.5411.clifford_invariant) by @tornaria created at 2009-03-01 15:33:47",
    "created_at": "2009-03-01T15:33:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-44552",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:1'></a>
Attachment [patch.5411.clifford_invariant](tarball://root/attachments/some-uuid/ticket5411/patch.5411.clifford_invariant) by @tornaria created at 2009-03-01 15:33:47



---

archive/issue_comments_044553.json:
```json
{
    "body": "same file with correct name",
    "created_at": "2009-03-01T16:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-44553",
    "user": "https://github.com/tornaria"
}
```

same file with correct name



---

archive/issue_comments_044554.json:
```json
{
    "body": "<a id='comment:2'></a>\nAttachment [trac_5411.clifford_invariant.patch](tarball://root/attachments/some-uuid/ticket5411/trac_5411.clifford_invariant.patch) by @tornaria created at 2009-03-01 16:04:31",
    "created_at": "2009-03-01T16:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-44554",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:2'></a>
Attachment [trac_5411.clifford_invariant.patch](tarball://root/attachments/some-uuid/ticket5411/trac_5411.clifford_invariant.patch) by @tornaria created at 2009-03-01 16:04:31



---

archive/issue_comments_044555.json:
```json
{
    "body": "Changing assignee from gonzalo to @tornaria.",
    "created_at": "2009-03-01T16:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-44555",
    "user": "https://github.com/tornaria"
}
```

Changing assignee from gonzalo to @tornaria.



---

archive/issue_comments_044556.json:
```json
{
    "body": "Changing status from new to assigned.",
    "created_at": "2009-03-01T16:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-44556",
    "user": "https://github.com/tornaria"
}
```

Changing status from new to assigned.



---

archive/issue_events_021253.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "rename": {
        "from": "[with patch, needs review] QuadraticForm: implement clifford_invariant and replace hasse_conductor with clifford_conductor",
        "to": "[with patch, positive review] QuadraticForm: implement clifford_invariant and replace hasse_conductor with clifford_conductor"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5411#event-21253"
}
```



---

archive/issue_comments_044557.json:
```json
{
    "body": "<a id='comment:3'></a>\nPositive review.\n\nCheers,\n\nMichael",
    "created_at": "2009-03-02T03:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-44557",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:3'></a>
Positive review.

Cheers,

Michael



---

archive/issue_comments_044558.json:
```json
{
    "body": "<a id='comment:4'></a>\nJon expressed some further wishes, so \"needs review\" again for now :-)\n\nCheers,\n\nMichael",
    "created_at": "2009-03-02T03:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-44558",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:4'></a>
Jon expressed some further wishes, so "needs review" again for now :-)

Cheers,

Michael



---

archive/issue_events_021254.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "rename": {
        "from": "[with patch, positive review] QuadraticForm: implement clifford_invariant and replace hasse_conductor with clifford_conductor",
        "to": "[with patch, needs review] QuadraticForm: implement clifford_invariant and replace hasse_conductor with clifford_conductor"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5411#event-21254"
}
```



---

archive/issue_comments_044559.json:
```json
{
    "body": "replaces previous patch --- this one doesn't remove hasse_conductor",
    "created_at": "2009-03-02T04:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-44559",
    "user": "https://github.com/tornaria"
}
```

replaces previous patch --- this one doesn't remove hasse_conductor



---

archive/issue_comments_044560.json:
```json
{
    "body": "<a id='comment:5'></a>\nAttachment [trac_5411.clifford_invariant.2nd.patch](tarball://root/attachments/some-uuid/ticket5411/trac_5411.clifford_invariant.2nd.patch) by @tornaria created at 2009-03-02 04:24:33\n\nThe new patch (2nd patch) preserves `hasse_conductor` as requested by Jon, and it also fixes the imports in `quadratic_form.py`, so it is meant to be applied on top of #5403.",
    "created_at": "2009-03-02T04:24:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-44560",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:5'></a>
Attachment [trac_5411.clifford_invariant.2nd.patch](tarball://root/attachments/some-uuid/ticket5411/trac_5411.clifford_invariant.2nd.patch) by @tornaria created at 2009-03-02 04:24:33

The new patch (2nd patch) preserves `hasse_conductor` as requested by Jon, and it also fixes the imports in `quadratic_form.py`, so it is meant to be applied on top of #5403.



---

archive/issue_comments_044561.json:
```json
{
    "body": "<a id='comment:6'></a>\nLooks good.  Positive review.",
    "created_at": "2009-03-02T05:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-44561",
    "user": "https://github.com/jonhanke"
}
```

<a id='comment:6'></a>
Looks good.  Positive review.



---

archive/issue_events_021255.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "rename": {
        "from": "[with patch, needs review] QuadraticForm: implement clifford_invariant and replace hasse_conductor with clifford_conductor",
        "to": "[with patch, positive review] QuadraticForm: implement clifford_invariant and replace hasse_conductor with clifford_conductor"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5411#event-21255"
}
```



---

archive/issue_events_021256.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-03-02T06:37:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5411#event-21256"
}
```



---

archive/issue_comments_044562.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-03-02T06:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-44562",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Resolution: fixed



---

archive/issue_comments_044563.json:
```json
{
    "body": "<a id='comment:7'></a>\nMerged trac_5411.clifford_invariant.2nd.patch in Sage 3.4.rc0.\n\nCheers,\n\nMichael",
    "created_at": "2009-03-02T06:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-44563",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:7'></a>
Merged trac_5411.clifford_invariant.2nd.patch in Sage 3.4.rc0.

Cheers,

Michael
