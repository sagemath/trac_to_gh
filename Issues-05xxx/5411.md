# Issue 5411: QuadraticForm: implement clifford_invariant and replace hasse_conductor with clifford_conductor

archive/issues_005411.json:
```json
{
    "body": "The `hasse_invariant` of a quadratic form doesn't match the standard invariant (brauer class) for quaternion algebras (e.g. for ternary quadratic forms, the ramification of the corresponding quaternion algebra).\n\nThe `clifford_invariant` can defined in terms of the clifford algebra of the quadratic form. See Lam (AMS GSM 67) p. 117 for the definition, and p. 119 for the formula relating it to the Hasse invariant.\n\nIt also has the property that hyperbolic spaces have `clifford_invariant == +1` at all primes.\n\nIt also makes more sense to define a `clifford_conductor` instead of a `hasse_conductor` as the product of all the primes with `clifford_invariant == -1`.\n\n**Assignee:** @tornaria\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/5411\n\n",
    "closed_at": "2009-03-02T06:37:17Z",
    "created_at": "2009-03-01T15:30:07Z",
    "labels": [
        "component: quadratic forms"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.4",
    "title": "QuadraticForm: implement clifford_invariant and replace hasse_conductor with clifford_conductor",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5411",
    "user": "https://github.com/tornaria"
}
```
The `hasse_invariant` of a quadratic form doesn't match the standard invariant (brauer class) for quaternion algebras (e.g. for ternary quadratic forms, the ramification of the corresponding quaternion algebra).

The `clifford_invariant` can defined in terms of the clifford algebra of the quadratic form. See Lam (AMS GSM 67) p. 117 for the definition, and p. 119 for the formula relating it to the Hasse invariant.

It also has the property that hyperbolic spaces have `clifford_invariant == +1` at all primes.

It also makes more sense to define a `clifford_conductor` instead of a `hasse_conductor` as the product of all the primes with `clifford_invariant == -1`.

**Assignee:** @tornaria

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/5411





---

archive/issue_comments_049935.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2009-03-01T15:33:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49935",
    "user": "https://github.com/tornaria"
}
```

**Changing status** from new to needs_review.



---

archive/attachments_006115.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "patch.5411.clifford_invariant",
    "asset_url": "tarball://root/attachments/some-uuid/ticket5411/patch.5411.clifford_invariant",
    "created_at": "2009-03-01T15:33:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.clifford_invariant",
    "user": "https://github.com/tornaria"
}
```



---

archive/issue_comments_049936.json:
```json
{
    "body": "<a id='comment:1'></a>\n",
    "created_at": "2009-03-01T15:33:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49936",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:1'></a>




---

archive/issue_comments_049937.json:
```json
{
    "body": "same file with correct name",
    "created_at": "2009-03-01T16:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49937",
    "user": "https://github.com/tornaria"
}
```

same file with correct name



---

archive/attachments_006116.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_5411.clifford_invariant.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket5411/trac_5411.clifford_invariant.patch",
    "created_at": "2009-03-01T16:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/tornaria"
}
```



---

archive/issue_comments_049938.json:
```json
{
    "body": "<a id='comment:2'></a>\n",
    "created_at": "2009-03-01T16:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49938",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:2'></a>




---

archive/issue_comments_049939.json:
```json
{
    "body": "**Changing assignee** from gonzalo to @tornaria.",
    "created_at": "2009-03-01T16:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49939",
    "user": "https://github.com/tornaria"
}
```

**Changing assignee** from gonzalo to @tornaria.



---

archive/issue_comments_049940.json:
```json
{
    "body": "**Changing status** from new to assigned.",
    "created_at": "2009-03-01T16:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49940",
    "user": "https://github.com/tornaria"
}
```

**Changing status** from new to assigned.



---

archive/issue_comments_049941.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2009-03-02T03:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49941",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_049942.json:
```json
{
    "body": "<a id='comment:3'></a>\nPositive review.\n\nCheers,\n\nMichael",
    "created_at": "2009-03-02T03:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49942",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:3'></a>
Positive review.

Cheers,

Michael



---

archive/issue_comments_049943.json:
```json
{
    "body": "<a id='comment:4'></a>\nJon expressed some further wishes, so \"needs review\" again for now :-)\n\nCheers,\n\nMichael",
    "created_at": "2009-03-02T03:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49943",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:4'></a>
Jon expressed some further wishes, so "needs review" again for now :-)

Cheers,

Michael



---

archive/issue_comments_049944.json:
```json
{
    "body": "**Changing status** from positive_review to needs_review.",
    "created_at": "2009-03-02T03:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49944",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Changing status** from positive_review to needs_review.



---

archive/issue_comments_049945.json:
```json
{
    "body": "replaces previous patch --- this one doesn't remove hasse_conductor",
    "created_at": "2009-03-02T04:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49945",
    "user": "https://github.com/tornaria"
}
```

replaces previous patch --- this one doesn't remove hasse_conductor



---

archive/attachments_006117.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_5411.clifford_invariant.2nd.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket5411/trac_5411.clifford_invariant.2nd.patch",
    "created_at": "2009-03-02T04:24:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/tornaria"
}
```



---

archive/issue_comments_049946.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe new patch (2nd patch) preserves `hasse_conductor` as requested by Jon, and it also fixes the imports in `quadratic_form.py`, so it is meant to be applied on top of #5403.",
    "created_at": "2009-03-02T04:24:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49946",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:5'></a>
The new patch (2nd patch) preserves `hasse_conductor` as requested by Jon, and it also fixes the imports in `quadratic_form.py`, so it is meant to be applied on top of #5403.



---

archive/issue_comments_049947.json:
```json
{
    "body": "<a id='comment:6'></a>\nLooks good.  Positive review.",
    "created_at": "2009-03-02T05:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49947",
    "user": "https://github.com/jonhanke"
}
```

<a id='comment:6'></a>
Looks good.  Positive review.



---

archive/issue_comments_049948.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2009-03-02T05:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49948",
    "user": "https://github.com/jonhanke"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_016321.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-03-02T06:37:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5411#event-16321"
}
```



---

archive/issue_comments_049949.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2009-03-02T06:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49949",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Resolution:** fixed



---

archive/issue_comments_049950.json:
```json
{
    "body": "<a id='comment:7'></a>\nMerged trac_5411.clifford_invariant.2nd.patch in Sage 3.4.rc0.\n\nCheers,\n\nMichael",
    "created_at": "2009-03-02T06:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5411#issuecomment-49950",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:7'></a>
Merged trac_5411.clifford_invariant.2nd.patch in Sage 3.4.rc0.

Cheers,

Michael
