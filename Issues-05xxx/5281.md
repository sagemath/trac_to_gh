# Issue 5281: Update tachyon to Version 0.98.9 (latest upstream)

archive/issues_005281.json:
```json
{
    "body": "In Sage we are currently shipping some 0.98.beta release of tachyon.\n\nUpdate to the official upstream release 0.98.9 (released January 18th 2010; still current on August 26th 2010).\n\nThis will (not only) require cleaning up SPKG.txt.\n\n---\n\nUpstream link: http://jedi.ks.uiuc.edu/~johns/raytracer/\n\nNew spkg: [http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg](http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg)\n\nSuperseded by: [http://www.math.leidenuniv.nl/~wpalenst/sage/tachyon-0.98.9.p1.spkg](http://www.math.leidenuniv.nl/~wpalenst/sage/tachyon-0.98.9.p1.spkg) (#10609)\n\n**Assignee:** mhampton\n\n**CC:**  drkirkby mhampton @vbraun\n\n**Author:** David Kirkby, Marshall Hampton, Volker Braun\n\n**Reviewer:** David Kirkby, Marshall Hampton, Volker Braun, Leif Leonhardy\n\n**Merged:** sage-4.6.2.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/5281\n\n",
    "closed_at": "2011-01-19T22:19:10Z",
    "created_at": "2009-02-16T04:41:49Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6.2",
    "title": "Update tachyon to Version 0.98.9 (latest upstream)",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/5281",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```
In Sage we are currently shipping some 0.98.beta release of tachyon.

Update to the official upstream release 0.98.9 (released January 18th 2010; still current on August 26th 2010).

This will (not only) require cleaning up SPKG.txt.

---

Upstream link: http://jedi.ks.uiuc.edu/~johns/raytracer/

New spkg: [http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg](http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg)

Superseded by: [http://www.math.leidenuniv.nl/~wpalenst/sage/tachyon-0.98.9.p1.spkg](http://www.math.leidenuniv.nl/~wpalenst/sage/tachyon-0.98.9.p1.spkg) (#10609)

**Assignee:** mhampton

**CC:**  drkirkby mhampton @vbraun

**Author:** David Kirkby, Marshall Hampton, Volker Braun

**Reviewer:** David Kirkby, Marshall Hampton, Volker Braun, Leif Leonhardy

**Merged:** sage-4.6.2.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/5281





---

archive/issue_comments_033666.json:
```json
{
    "body": "<a id='comment:1'></a>\ngood news - the 0.98.1 don't need the \"-fno-crossjumping -fno-reorder-blocks\" GCC 4.2/4.3 fix",
    "created_at": "2009-04-21T18:03:03Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33666",
    "user": "https://trac.sagemath.org/admin/accounts/users/aginiewicz"
}
```

<a id='comment:1'></a>
good news - the 0.98.1 don't need the "-fno-crossjumping -fno-reorder-blocks" GCC 4.2/4.3 fix



---

archive/issue_events_032854.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/aginiewicz",
    "created_at": "2009-04-23T18:35:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "rename": {
        "from": "Update tachyon to Version 0.98.1 (latest upstream)",
        "to": "Update tachyon to Version 0.98.3 (latest upstream)"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32854"
}
```



---

archive/issue_comments_033667.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-In Sage we are currently shipping some 0.98.beta release of tachyon. Update to the official upstream release 0.98.1.\n+In Sage we are currently shipping some 0.98.beta release of tachyon. Update to the official upstream release 0.98.3.\n \n This will require cleaning up SPKG.txt\n``````\n",
    "created_at": "2009-04-23T18:35:20Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33667",
    "user": "https://trac.sagemath.org/admin/accounts/users/aginiewicz"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-In Sage we are currently shipping some 0.98.beta release of tachyon. Update to the official upstream release 0.98.1.
+In Sage we are currently shipping some 0.98.beta release of tachyon. Update to the official upstream release 0.98.3.
 
 This will require cleaning up SPKG.txt
``````




---

archive/issue_comments_033668.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew version is out, 0.98.2 had compilation error on non-threaded builds and 0.98.1 also had similar problem as #3710 (but not in architectures used by Sage, just linux-thr-ogl), so it's kind of recommended to skip straight to 0.98.3",
    "created_at": "2009-04-23T18:35:20Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33668",
    "user": "https://trac.sagemath.org/admin/accounts/users/aginiewicz"
}
```

<a id='comment:2'></a>
New version is out, 0.98.2 had compilation error on non-threaded builds and 0.98.1 also had similar problem as #3710 (but not in architectures used by Sage, just linux-thr-ogl), so it's kind of recommended to skip straight to 0.98.3



---

archive/issue_comments_033669.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-In Sage we are currently shipping some 0.98.beta release of tachyon. Update to the official upstream release 0.98.3.\n+In Sage we are currently shipping some 0.98.beta release of tachyon. Update to the official upstream release 0.98.9.\n \n This will require cleaning up SPKG.txt\n``````\n",
    "created_at": "2010-06-15T20:29:09Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33669",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-In Sage we are currently shipping some 0.98.beta release of tachyon. Update to the official upstream release 0.98.3.
+In Sage we are currently shipping some 0.98.beta release of tachyon. Update to the official upstream release 0.98.9.
 
 This will require cleaning up SPKG.txt
``````




---

archive/issue_events_032855.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mariah",
    "created_at": "2010-06-15T20:29:09Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "rename": {
        "from": "Update tachyon to Version 0.98.3 (latest upstream)",
        "to": "Update tachyon to Version 0.98.9 (latest upstream)"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32855"
}
```



---

archive/issue_comments_033670.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe whole spkg really needs clean-up. (And Sage's **beta** version is out of date since at least 19 month; by now, the current one is [still] 0.98.9 - as in the ticket's title, last updated by Mariah.)\n\nI have absolutely no idea why `spkg-install` does the following on Linux:\n\n```sh\n    make linux-thr\n    if [ $? -ne 0 ]; then\n        echo \"Maybe your system is 64-bit; trying again.\"\n        if [ `uname -m` = \"ia64\" ]; then\n          echo \"ia64\"\n          make linux-ia64-thr\n        else\n          echo \"64-bit arch\"\n          make linux-64-thr\n        fi\n    fi\n```\nThis might even \"fail\" (building just a 32-bit version on 64-bit Linuces) when the required (multi-arch/32-bit) libraries are present. And if the 32-bit build fails for some reason on a real 32-bit system, it doesn't make sense to attempt a 64-bit build.",
    "created_at": "2010-08-26T19:34:35Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33670",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:4'></a>
The whole spkg really needs clean-up. (And Sage's **beta** version is out of date since at least 19 month; by now, the current one is [still] 0.98.9 - as in the ticket's title, last updated by Mariah.)

I have absolutely no idea why `spkg-install` does the following on Linux:

```sh
    make linux-thr
    if [ $? -ne 0 ]; then
        echo "Maybe your system is 64-bit; trying again."
        if [ `uname -m` = "ia64" ]; then
          echo "ia64"
          make linux-ia64-thr
        else
          echo "64-bit arch"
          make linux-64-thr
        fi
    fi
```
This might even "fail" (building just a 32-bit version on 64-bit Linuces) when the required (multi-arch/32-bit) libraries are present. And if the 32-bit build fails for some reason on a real 32-bit system, it doesn't make sense to attempt a 64-bit build.



---

archive/issue_comments_033671.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,10 @@\n-In Sage we are currently shipping some 0.98.beta release of tachyon. Update to the official upstream release 0.98.9.\n+In Sage we are currently shipping some 0.98.beta release of tachyon.\n \n-This will require cleaning up SPKG.txt\n+Update to the official upstream release 0.98.9 (released January 18th 2010; still current on August 26th 2010).\n+\n+This will (not only) require cleaning up SPKG.txt.\n+\n+---\n+\n+Upstream link: http://jedi.ks.uiuc.edu/~johns/raytracer/\n+\n``````\n",
    "created_at": "2010-08-26T19:34:35Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33671",
    "user": "https://github.com/nexttime"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,10 @@
-In Sage we are currently shipping some 0.98.beta release of tachyon. Update to the official upstream release 0.98.9.
+In Sage we are currently shipping some 0.98.beta release of tachyon.
 
-This will require cleaning up SPKG.txt
+Update to the official upstream release 0.98.9 (released January 18th 2010; still current on August 26th 2010).
+
+This will (not only) require cleaning up SPKG.txt.
+
+---
+
+Upstream link: http://jedi.ks.uiuc.edu/~johns/raytracer/
+
``````




---

archive/issue_comments_033672.json:
```json
{
    "body": "**Remove assignee** mabshoff.",
    "created_at": "2010-08-26T19:42:36Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33672",
    "user": "https://github.com/nexttime"
}
```

**Remove assignee** mabshoff.



---

archive/issue_comments_033673.json:
```json
{
    "body": "<a id='comment:6'></a>\nDave, sadly enough, this ticket is still \"new\".\n\nI think you've already fixed the Solaris issues, but if Tachyon ever gets updated in Sage, you should probably take a look at the new spkg, making sure it will still work on Solaris.",
    "created_at": "2010-08-26T20:30:37Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33673",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:6'></a>
Dave, sadly enough, this ticket is still "new".

I think you've already fixed the Solaris issues, but if Tachyon ever gets updated in Sage, you should probably take a look at the new spkg, making sure it will still work on Solaris.



---

archive/issue_comments_033674.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [leif](#comment%3A6):\n> Dave, sadly enough, this ticket is still \"new\".\n> \n> I think you've already fixed the Solaris issues, but if Tachyon ever gets updated in Sage, you should probably take a look at the new spkg, making sure it will still work on Solaris.\n\nThank you Leif, \n\npersonally I'm not going to look at updating this. I just hope whoever updates it does check it on Solaris. The code you showed is clearly dumb, though fortunately will not bother Solaris or any real Unix system. \n\nUnfortunately, having an f***ing clue what you are doing when it comes to writing software is not a perquisite to contributing to Sage's source code, or to reviewing the changes made by others with a similar lack of skill. \n\nMichael Abshoff should also be deleted as the package maintainer. Perhaps even William too, as he does not appear to be maintaining it. \n\nDave",
    "created_at": "2010-08-26T21:04:05Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33674",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:7'></a>
Replying to [leif](#comment%3A6):
> Dave, sadly enough, this ticket is still "new".
> 
> I think you've already fixed the Solaris issues, but if Tachyon ever gets updated in Sage, you should probably take a look at the new spkg, making sure it will still work on Solaris.

Thank you Leif, 

personally I'm not going to look at updating this. I just hope whoever updates it does check it on Solaris. The code you showed is clearly dumb, though fortunately will not bother Solaris or any real Unix system. 

Unfortunately, having an f***ing clue what you are doing when it comes to writing software is not a perquisite to contributing to Sage's source code, or to reviewing the changes made by others with a similar lack of skill. 

Michael Abshoff should also be deleted as the package maintainer. Perhaps even William too, as he does not appear to be maintaining it. 

Dave



---

archive/issue_comments_033675.json:
```json
{
    "body": "**Assignee:** mhampton",
    "created_at": "2010-09-03T12:55:56Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33675",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

**Assignee:** mhampton



---

archive/issue_comments_033676.json:
```json
{
    "body": "<a id='comment:9'></a>\nI'll try to give this a shot.  It looks like there are lots of important upstream improvements.",
    "created_at": "2010-09-03T12:56:45Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33676",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:9'></a>
I'll try to give this a shot.  It looks like there are lots of important upstream improvements.



---

archive/issue_comments_033677.json:
```json
{
    "body": "<a id='comment:10'></a>\nAlso, the `dist/` (Debian) directory should be removed, cf. #5903.",
    "created_at": "2010-09-03T22:50:38Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33677",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:10'></a>
Also, the `dist/` (Debian) directory should be removed, cf. #5903.



---

archive/issue_comments_033678.json:
```json
{
    "body": "<a id='comment:11'></a>\nAn attempt at a new package is here:\n\nhttp://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg\n\nThis installs fine on a mac (10.5), 64-bit linux, and seems OK on t2 (Solaris).  My t2 build isn't completely working so I did not actually check it on the notebook on that system.\n\nI removed the dist directory, and tried to improve the SPKG.txt somewhat as well.",
    "created_at": "2010-09-03T23:10:10Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33678",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:11'></a>
An attempt at a new package is here:

http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg

This installs fine on a mac (10.5), 64-bit linux, and seems OK on t2 (Solaris).  My t2 build isn't completely working so I did not actually check it on the notebook on that system.

I removed the dist directory, and tried to improve the SPKG.txt somewhat as well.



---

archive/issue_events_032856.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mhampton",
    "created_at": "2010-09-03T23:10:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32856"
}
```



---

archive/issue_comments_033679.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [mhampton](#comment%3A11):\n> An attempt at a new package is here:\n> \n> http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg\n\nHmmm, you somehow omitted / deleted the Mercurial repository.\n\nI'll though give it a try...",
    "created_at": "2010-09-04T01:42:02Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33679",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:12'></a>
Replying to [mhampton](#comment%3A11):
> An attempt at a new package is here:
> 
> http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg

Hmmm, you somehow omitted / deleted the Mercurial repository.

I'll though give it a try...



---

archive/issue_events_032857.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-04T01:42:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32857"
}
```



---

archive/issue_events_032858.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-04T01:42:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32858"
}
```



---

archive/issue_events_032859.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-04T01:42:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "milestone": "sage-4.5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32859"
}
```



---

archive/issue_events_032860.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-04T01:42:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "milestone": "sage-4.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32860"
}
```



---

archive/issue_comments_033680.json:
```json
{
    "body": "<a id='comment:13'></a>\n`spkg-install` still needs work. (I could do that as soon as there's a repository...)\n\nShould we add some (simple) `spkg-check`?\n\nAlso, there are some upstream files I think we could delete. (I'll have to take a closer look.)",
    "created_at": "2010-09-04T02:11:36Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33680",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:13'></a>
`spkg-install` still needs work. (I could do that as soon as there's a repository...)

Should we add some (simple) `spkg-check`?

Also, there are some upstream files I think we could delete. (I'll have to take a closer look.)



---

archive/issue_comments_033681.json:
```json
{
    "body": "<a id='comment:14'></a>\nWe should also \"install\" (copy) the copyright notice somewhere into the Sage tree, at least for binary Sage distributions (e.g. `SAGE_LOCAL/bin/Copyright.Tachyon`).",
    "created_at": "2010-09-04T02:20:07Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33681",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:14'></a>
We should also "install" (copy) the copyright notice somewhere into the Sage tree, at least for binary Sage distributions (e.g. `SAGE_LOCAL/bin/Copyright.Tachyon`).



---

archive/issue_comments_033682.json:
```json
{
    "body": "<a id='comment:15'></a>\nOK, I added the mercurial repository back in and updated it.  I also did as you suggested and copied the tachyon copyright notice into SAGE_LOCAL/bin/ as \"Tachyon-Copyright\".  \nThanks for looking at it!\nI'm not sure how to write a good spkg-check.  The doctests for Tachyon should catch most problems I think.",
    "created_at": "2010-09-04T20:42:41Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33682",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:15'></a>
OK, I added the mercurial repository back in and updated it.  I also did as you suggested and copied the tachyon copyright notice into SAGE_LOCAL/bin/ as "Tachyon-Copyright".  
Thanks for looking at it!
I'm not sure how to write a good spkg-check.  The doctests for Tachyon should catch most problems I think.



---

archive/issue_comments_033683.json:
```json
{
    "body": "<a id='comment:16'></a>\nThis installed fine on OS X 10.4 PPC and `interfaces/tachyon.py` passed all tests.",
    "created_at": "2010-09-21T18:31:27Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33683",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>
This installed fine on OS X 10.4 PPC and `interfaces/tachyon.py` passed all tests.



---

archive/issue_comments_033684.json:
```json
{
    "body": "<a id='comment:17'></a>\nThe last change to `spkg-install` isn't committed.\n\nBut please let us (me?) clean-up `spkg-install` further...\n\n(If us=me it'll perhaps take until Monday; but I don't mind doing it.)",
    "created_at": "2010-09-21T20:25:48Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33684",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:17'></a>
The last change to `spkg-install` isn't committed.

But please let us (me?) clean-up `spkg-install` further...

(If us=me it'll perhaps take until Monday; but I don't mind doing it.)



---

archive/issue_comments_033685.json:
```json
{
    "body": "<a id='comment:18'></a>\nI just tried it on 32-bit OpenSolaris and it worked ok. It will clearly need checking on Solaris 10 on SPARC too, as that's a supported OS. \n\nThere are some directories:\n\n```\ntachyon-0.98.9/src/msvc/\ntachyon-0.98.9/src/msvc/CVS/\ntachyon-0.98.9/src/msvc/CVS/Entries\ntachyon-0.98.9/src/msvc/CVS/Repository\n```\n\nI think in a case like this, it would be worth deleting the Microsoft Visual C stuff. That could be added to the `Special Update/Build Instructions` Since Leif intends overhauling the package, he might consider that. \n\nI guess given it's been open 19 months, waiting until Monday should not be a major problem! \n\nDave",
    "created_at": "2010-09-21T20:50:47Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33685",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:18'></a>
I just tried it on 32-bit OpenSolaris and it worked ok. It will clearly need checking on Solaris 10 on SPARC too, as that's a supported OS. 

There are some directories:

```
tachyon-0.98.9/src/msvc/
tachyon-0.98.9/src/msvc/CVS/
tachyon-0.98.9/src/msvc/CVS/Entries
tachyon-0.98.9/src/msvc/CVS/Repository
```

I think in a case like this, it would be worth deleting the Microsoft Visual C stuff. That could be added to the `Special Update/Build Instructions` Since Leif intends overhauling the package, he might consider that. 

I guess given it's been open 19 months, waiting until Monday should not be a major problem! 

Dave



---

archive/issue_comments_033686.json:
```json
{
    "body": "<a id='comment:19'></a>\nYes.\n\n```sh\nleif@quadriga:~/Sage/spkgs/tachyon-0.98.9$ du -h src\n16K\tsrc/src/CVS\n680K\tsrc/src\n16K\tsrc/msvc/CVS\n16K\tsrc/msvc/tachyon/libtachyon/CVS\n4.0K\tsrc/msvc/tachyon/libtachyon/Debug\n1.4M\tsrc/msvc/tachyon/libtachyon/Release\n1.5M\tsrc/msvc/tachyon/libtachyon\n16K\tsrc/msvc/tachyon/CVS\n16K\tsrc/msvc/tachyon/tachyon/CVS\n4.0K\tsrc/msvc/tachyon/tachyon/Debug\n840K\tsrc/msvc/tachyon/tachyon/Release\n892K\tsrc/msvc/tachyon/tachyon\n4.0K\tsrc/msvc/tachyon/Debug\n16K\tsrc/msvc/tachyon/tachyon_ogl/CVS\n4.0K\tsrc/msvc/tachyon/tachyon_ogl/Debug\n4.0K\tsrc/msvc/tachyon/tachyon_ogl/Release\n36K\tsrc/msvc/tachyon/tachyon_ogl\n4.0K\tsrc/msvc/tachyon/Release\n2.8M\tsrc/msvc/tachyon\n2.8M\tsrc/msvc\n4.0K\tsrc/compile\n16K\tsrc/unix/CVS\n308K\tsrc/unix\n16K\tsrc/docs/CVS\n232K\tsrc/docs/tachyon\n808K\tsrc/docs\n16K\tsrc/librtvi/CVS\n44K\tsrc/librtvi\n16K\tsrc/demosrc/CVS\n248K\tsrc/demosrc\n4.9M\tsrc\n```",
    "created_at": "2010-09-21T21:08:44Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33686",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:19'></a>
Yes.

```sh
leif@quadriga:~/Sage/spkgs/tachyon-0.98.9$ du -h src
16K	src/src/CVS
680K	src/src
16K	src/msvc/CVS
16K	src/msvc/tachyon/libtachyon/CVS
4.0K	src/msvc/tachyon/libtachyon/Debug
1.4M	src/msvc/tachyon/libtachyon/Release
1.5M	src/msvc/tachyon/libtachyon
16K	src/msvc/tachyon/CVS
16K	src/msvc/tachyon/tachyon/CVS
4.0K	src/msvc/tachyon/tachyon/Debug
840K	src/msvc/tachyon/tachyon/Release
892K	src/msvc/tachyon/tachyon
4.0K	src/msvc/tachyon/Debug
16K	src/msvc/tachyon/tachyon_ogl/CVS
4.0K	src/msvc/tachyon/tachyon_ogl/Debug
4.0K	src/msvc/tachyon/tachyon_ogl/Release
36K	src/msvc/tachyon/tachyon_ogl
4.0K	src/msvc/tachyon/Release
2.8M	src/msvc/tachyon
2.8M	src/msvc
4.0K	src/compile
16K	src/unix/CVS
308K	src/unix
16K	src/docs/CVS
232K	src/docs/tachyon
808K	src/docs
16K	src/librtvi/CVS
44K	src/librtvi
16K	src/demosrc/CVS
248K	src/demosrc
4.9M	src
```



---

archive/issue_comments_033687.json:
```json
{
    "body": "<a id='comment:20'></a>\nLeif - are you going to work on this?  I'd like to keep it rolling along with #9855 (which I need to work on a little more).  I agree that the msvc folder can be deleted as long as we put a note in the SPKG.txt about it.",
    "created_at": "2010-09-24T13:25:32Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33687",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:20'></a>
Leif - are you going to work on this?  I'd like to keep it rolling along with #9855 (which I need to work on a little more).  I agree that the msvc folder can be deleted as long as we put a note in the SPKG.txt about it.



---

archive/issue_events_032861.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mhampton",
    "created_at": "2010-09-24T13:25:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32861"
}
```



---

archive/issue_events_032862.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mhampton",
    "created_at": "2010-09-24T13:25:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32862"
}
```



---

archive/issue_comments_033688.json:
```json
{
    "body": "<a id='comment:22'></a>\nI over-wrote my spkg at [http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg](http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg) with a version with the msvc folder deleted.  That saves quite a bit of space.",
    "created_at": "2010-09-24T13:32:01Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33688",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:22'></a>
I over-wrote my spkg at [http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg](http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg) with a version with the msvc folder deleted.  That saves quite a bit of space.



---

archive/issue_comments_033689.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [mhampton](#comment%3A20):\n> Leif - are you going to work on this?\n\nI think over the weekend (unless alpha2 gets released ;-) ) or at least within the next days.\n\nOtherwise I'll open a follow-up.\n\n> I'd like to keep it rolling along with #9855 (which I need to work on a little more).\n\nDoesn't look as if #9855 depended on the new Tachyon, but did you test it with the new one?\n\n> I agree that the msvc folder can be deleted as long as we put a note in the SPKG.txt about it.\n\nYes. It's also IMHO compatible with the copyright, though I'm not a lawyer.",
    "created_at": "2010-09-24T13:42:03Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33689",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:23'></a>
Replying to [mhampton](#comment%3A20):
> Leif - are you going to work on this?

I think over the weekend (unless alpha2 gets released ;-) ) or at least within the next days.

Otherwise I'll open a follow-up.

> I'd like to keep it rolling along with #9855 (which I need to work on a little more).

Doesn't look as if #9855 depended on the new Tachyon, but did you test it with the new one?

> I agree that the msvc folder can be deleted as long as we put a note in the SPKG.txt about it.

Yes. It's also IMHO compatible with the copyright, though I'm not a lawyer.



---

archive/issue_comments_033690.json:
```json
{
    "body": "<a id='comment:24'></a>\nDave, are you attempting to make it build on AIX?",
    "created_at": "2010-09-24T13:43:21Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33690",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:24'></a>
Dave, are you attempting to make it build on AIX?



---

archive/issue_comments_033691.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [leif](#comment%3A24):\n> Dave, are you attempting to make it build on AIX?\n\n(If it doesn't, I think you only tested the old one. Also, I think it's just Sage that does not even try to build Tachyon on AIX.)",
    "created_at": "2010-09-24T13:45:50Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33691",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:25'></a>
Replying to [leif](#comment%3A24):
> Dave, are you attempting to make it build on AIX?

(If it doesn't, I think you only tested the old one. Also, I think it's just Sage that does not even try to build Tachyon on AIX.)



---

archive/issue_comments_033692.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [leif](#comment%3A25):\n> Replying to [leif](#comment%3A24):\n> > Dave, are you attempting to make it build on AIX?\n\n> \n> (If it doesn't, I think you only tested the old one. Also, I think it's just Sage that does not even try to build Tachyon on AIX.) \n\nLeif, \n\nI've just looked - this will **not** build on AIX with gcc for two reasons. \n* There's nothing in `spkg-install` to handle AIX\n* The AIX targets in `src/unix/Make-arch`, which are `aix-thr`, `aix-64-thr`, `aix-mpi` and `aix` all assume an IBM compiler is used. \n\nThe same situation exists with HP-UX - the file `src/unix/Make-arch` assumes the use of the HP compiler for all the HP-UX targets. \n\nI will create two new targets for the file `patches/Make-arch`, which I will call\n\n* `aix-generic`\n* `hpux-generic`\n\nwhich will use $CC as a compiler, and not assume a propriety compiler with any special flags. Hopefully that will work with gcc and any reasonable set of flags. \n\nSince you intend cleaning up the ticket, if I attach that as a unified diff patch, can you make sure that the target `aix-generic` is used on AIX (where $UNAME = AIX) and `hpux-generic` is used on HP-UX (where $UNAME=HP-UX)? \n\nI might as well do the HP-UX targets at the same time as the AIX ones, though building on AIX looks a lot easier than building on HP-UX - at least with the hardware I own. \n\nNote there are already several targets been added various platforms, including, but not limited to Solaris. \n\nLet me know how you want to proceed. We might as well do AIX and HP-UX at the same time. \n\nDave",
    "created_at": "2010-09-24T15:26:50Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33692",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:26'></a>
Replying to [leif](#comment%3A25):
> Replying to [leif](#comment%3A24):
> > Dave, are you attempting to make it build on AIX?

> 
> (If it doesn't, I think you only tested the old one. Also, I think it's just Sage that does not even try to build Tachyon on AIX.) 

Leif, 

I've just looked - this will **not** build on AIX with gcc for two reasons. 
* There's nothing in `spkg-install` to handle AIX
* The AIX targets in `src/unix/Make-arch`, which are `aix-thr`, `aix-64-thr`, `aix-mpi` and `aix` all assume an IBM compiler is used. 

The same situation exists with HP-UX - the file `src/unix/Make-arch` assumes the use of the HP compiler for all the HP-UX targets. 

I will create two new targets for the file `patches/Make-arch`, which I will call

* `aix-generic`
* `hpux-generic`

which will use $CC as a compiler, and not assume a propriety compiler with any special flags. Hopefully that will work with gcc and any reasonable set of flags. 

Since you intend cleaning up the ticket, if I attach that as a unified diff patch, can you make sure that the target `aix-generic` is used on AIX (where $UNAME = AIX) and `hpux-generic` is used on HP-UX (where $UNAME=HP-UX)? 

I might as well do the HP-UX targets at the same time as the AIX ones, though building on AIX looks a lot easier than building on HP-UX - at least with the hardware I own. 

Note there are already several targets been added various platforms, including, but not limited to Solaris. 

Let me know how you want to proceed. We might as well do AIX and HP-UX at the same time. 

Dave



---

archive/issue_comments_033693.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [drkirkby](#comment%3A26):\n> Since you intend cleaning up the ticket, if I attach that as a unified diff patch, can you make sure that the target `aix-generic` is used on AIX (where $UNAME = AIX) and `hpux-generic` is used on HP-UX (where $UNAME=HP-UX)? \n\nSure. If the HP-UX and / or AIX builds do not fully work, we can still open a follow-up for these platforms.",
    "created_at": "2010-09-24T15:33:58Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33693",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:27'></a>
Replying to [drkirkby](#comment%3A26):
> Since you intend cleaning up the ticket, if I attach that as a unified diff patch, can you make sure that the target `aix-generic` is used on AIX (where $UNAME = AIX) and `hpux-generic` is used on HP-UX (where $UNAME=HP-UX)? 

Sure. If the HP-UX and / or AIX builds do not fully work, we can still open a follow-up for these platforms.



---

archive/attachments_006155.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "5281-add-AIX-and-HP-UX-support.patch",
    "asset_url": "tarball://root/attachments/ticket5281/5281-add-AIX-and-HP-UX-support.patch",
    "created_at": "2010-09-25T10:59:54Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket5281/5281-add-AIX-and-HP-UX-support.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```



---

archive/issue_comments_033694.json:
```json
{
    "body": "**Attachment:** [5281-add-AIX-and-HP-UX-support.patch](https://github.com/sagemath/sage/files/ticket5281/5281-add-AIX-and-HP-UX-support.patch)\n\nPatch to add AIX and HP-UX support.",
    "created_at": "2010-09-25T10:59:54Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33694",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Attachment:** [5281-add-AIX-and-HP-UX-support.patch](https://github.com/sagemath/sage/files/ticket5281/5281-add-AIX-and-HP-UX-support.patch)

Patch to add AIX and HP-UX support.



---

archive/issue_comments_033695.json:
```json
{
    "body": "<a id='comment:28'></a>\nAs noted at #9997, Tachyon did not even attempt to build on AIX. Looking at the code, I realise the exact same thing would happen on HP-UX too. I decided to correct both AIX and HP-UX issues at the same time. \n\nI've added \n\nhttp://boxen.math.washington.edu/home/kirkby/patches/tachyon-0.98.9.spkg\n\n`md5=501a1f9667a7bdedcb8f0d3c361b39fb`\n\nwhich has 4 new targets: \n\n* `aix-generic`\n* `aix-generic-thr`\n* `hpux-generic`\n* `hpux-generic-thr`\n\nThe targets ending in `-thr` are threaded versions and build OK on both AIX and HP-UX. But following the convention of the `src/unix/Make-arch` file, I've created both threaded and unthreaded targets. \n\nSince William seems intent on moving disk storage from enterprise grade SCSI disks on a machine with an uptime over over 600 days, to a 2 TB consumer grade external USB disk on a machine with an average uptime of about a month, I thought it wise to make a backup copy at the following site, which will be **much** slower due to my more limited Internet bandwidth!\n\nhttp://www.althorne.org/tachyon-0.98.9.spkg\n\nAs Leif intends cleaning this up, there's little point in me making any significant changes to spkg-install, as Leif and I differ widely on how we write scripts! \n\nBut I've done sufficient in `spkg-install` to check Tachyon at least builds with gcc on both AIX and HP-UX. Since I can't run any doctests on those platforms, I can't say how they work, but at least they build. As Leif says, if there are any issues on AIX, we can open another ticket. The same is true for HP-UX of course. \n\nLeif might want to change the compiler options for when SAGE_DEBUG=yes. If so, feel free. But -O2 -g should be safe, which is what I've set the calls to the AIX and HP-UX targets to in `spkg-install`.\n\nI hope this is a step in the right direction. It's been open 20 months, so lets hope it can be cleared up soon. \n\nDave",
    "created_at": "2010-09-25T11:44:05Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33695",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:28'></a>
As noted at #9997, Tachyon did not even attempt to build on AIX. Looking at the code, I realise the exact same thing would happen on HP-UX too. I decided to correct both AIX and HP-UX issues at the same time. 

I've added 

http://boxen.math.washington.edu/home/kirkby/patches/tachyon-0.98.9.spkg

`md5=501a1f9667a7bdedcb8f0d3c361b39fb`

which has 4 new targets: 

* `aix-generic`
* `aix-generic-thr`
* `hpux-generic`
* `hpux-generic-thr`

The targets ending in `-thr` are threaded versions and build OK on both AIX and HP-UX. But following the convention of the `src/unix/Make-arch` file, I've created both threaded and unthreaded targets. 

Since William seems intent on moving disk storage from enterprise grade SCSI disks on a machine with an uptime over over 600 days, to a 2 TB consumer grade external USB disk on a machine with an average uptime of about a month, I thought it wise to make a backup copy at the following site, which will be **much** slower due to my more limited Internet bandwidth!

http://www.althorne.org/tachyon-0.98.9.spkg

As Leif intends cleaning this up, there's little point in me making any significant changes to spkg-install, as Leif and I differ widely on how we write scripts! 

But I've done sufficient in `spkg-install` to check Tachyon at least builds with gcc on both AIX and HP-UX. Since I can't run any doctests on those platforms, I can't say how they work, but at least they build. As Leif says, if there are any issues on AIX, we can open another ticket. The same is true for HP-UX of course. 

Leif might want to change the compiler options for when SAGE_DEBUG=yes. If so, feel free. But -O2 -g should be safe, which is what I've set the calls to the AIX and HP-UX targets to in `spkg-install`.

I hope this is a step in the right direction. It's been open 20 months, so lets hope it can be cleared up soon. 

Dave



---

archive/issue_comments_033696.json:
```json
{
    "body": "**Author:** Mike Hansen, David Kirkby",
    "created_at": "2010-09-25T12:58:33Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33696",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Author:** Mike Hansen, David Kirkby



---

archive/issue_comments_033697.json:
```json
{
    "body": "**Changing author** from \"Mike Hansen, David Kirkby\" to \"David Kirkby, Marshall Hampton\".",
    "created_at": "2010-09-25T23:35:55Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33697",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

**Changing author** from "Mike Hansen, David Kirkby" to "David Kirkby, Marshall Hampton".



---

archive/issue_comments_033698.json:
```json
{
    "body": "<a id='comment:30'></a>\nI think you might have confused me (Marshall Hampton, mhampton) with Mike Hansen (mhansen).",
    "created_at": "2010-09-25T23:35:55Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33698",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:30'></a>
I think you might have confused me (Marshall Hampton, mhampton) with Mike Hansen (mhansen).



---

archive/issue_comments_033699.json:
```json
{
    "body": "<a id='comment:31'></a>\nWhile we are at it, can we add the patch to build a shared library? Debian and Fedora both patch tachyon to produce a shared library. This would then enable us to write a reasonable previewer in cython without pushing temporary files around. Realtime raytracing is the future, they say :-)",
    "created_at": "2010-09-26T14:46:22Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33699",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'></a>
While we are at it, can we add the patch to build a shared library? Debian and Fedora both patch tachyon to produce a shared library. This would then enable us to write a reasonable previewer in cython without pushing temporary files around. Realtime raytracing is the future, they say :-)



---

archive/attachments_006156.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "tachyon-shared-library.patch",
    "asset_url": "tarball://root/attachments/ticket5281/tachyon-shared-library.patch",
    "created_at": "2010-09-26T14:47:23Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket5281/tachyon-shared-library.patch",
    "user": "https://github.com/vbraun"
}
```



---

archive/issue_comments_033700.json:
```json
{
    "body": "**Attachment:** [tachyon-shared-library.patch](https://github.com/sagemath/sage/files/ticket5281/tachyon-shared-library.patch)\n\nDebian shared library patch for reference",
    "created_at": "2010-09-26T14:47:23Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33700",
    "user": "https://github.com/vbraun"
}
```

**Attachment:** [tachyon-shared-library.patch](https://github.com/sagemath/sage/files/ticket5281/tachyon-shared-library.patch)

Debian shared library patch for reference



---

archive/issue_comments_033701.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [vbraun](#comment%3A31):\n> While we are at it, can we add the patch to build a shared library? Debian and Fedora both patch tachyon to produce a shared library. This would then enable us to write a reasonable previewer in cython without pushing temporary files around. Realtime raytracing is the future, they say :-)\n\nCertainly we could, but IMHO out of the scope of *this* ticket. I think we should first provide an spkg with just the current upstream (stand-alone) version, which has to be tested as well.\n\nThe patch needs to be tested on various systems; it e.g. calls `make` instead of `$(MAKE)` inside the Makefile, which one should never do.",
    "created_at": "2010-09-26T15:04:27Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33701",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:33'></a>
Replying to [vbraun](#comment%3A31):
> While we are at it, can we add the patch to build a shared library? Debian and Fedora both patch tachyon to produce a shared library. This would then enable us to write a reasonable previewer in cython without pushing temporary files around. Realtime raytracing is the future, they say :-)

Certainly we could, but IMHO out of the scope of *this* ticket. I think we should first provide an spkg with just the current upstream (stand-alone) version, which has to be tested as well.

The patch needs to be tested on various systems; it e.g. calls `make` instead of `$(MAKE)` inside the Makefile, which one should never do.



---

archive/issue_comments_033702.json:
```json
{
    "body": "<a id='comment:34'></a>\n... and `-soname` works with the GNU linker, but e.g. not Sun's.",
    "created_at": "2010-09-26T15:09:31Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33702",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:34'></a>
... and `-soname` works with the GNU linker, but e.g. not Sun's.



---

archive/issue_comments_033703.json:
```json
{
    "body": "<a id='comment:35'></a>\nThe method used to determine the target in `spkg-install` seems crazy to me. First it tries  using the the target `linux`, which specifically forces a 32-bit build, with the `-m32` flag. \n\nTo me at least, on `sage.math`, I can compile with `-m32` and create a 32-bit binary:\n\n```\nkirkby@sage:~$ cat test.c\n#include <stdio.h>\n\nint main() {\nprintf(\"ddd\");\n}\nkirkby@sage:~$ gcc test.c\nkirkby@sage:~$ file a.out\na.out: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), for GNU/Linux 2.6.8, dynamically linked (uses shared libs), not stripped\nkirkby@sage:~$ gcc -m32 test.c\nkirkby@sage:~$ file a.out\na.out: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), for GNU/Linux 2.6.8, dynamically linked (uses shared libs), not stripped\n```\n\nSo I would expect this to build 32-bit in most cases on Linux. \n\nOnly if the 32-bit build fails does it try a 64-bit build!! \n\nNote for AIX and HP-UX, I did not bother with any such flags, but just let it read CFLAGS, where one could add `-m64` or whatever flag one needs.",
    "created_at": "2010-09-26T18:30:05Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33703",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:35'></a>
The method used to determine the target in `spkg-install` seems crazy to me. First it tries  using the the target `linux`, which specifically forces a 32-bit build, with the `-m32` flag. 

To me at least, on `sage.math`, I can compile with `-m32` and create a 32-bit binary:

```
kirkby@sage:~$ cat test.c
#include <stdio.h>

int main() {
printf("ddd");
}
kirkby@sage:~$ gcc test.c
kirkby@sage:~$ file a.out
a.out: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), for GNU/Linux 2.6.8, dynamically linked (uses shared libs), not stripped
kirkby@sage:~$ gcc -m32 test.c
kirkby@sage:~$ file a.out
a.out: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), for GNU/Linux 2.6.8, dynamically linked (uses shared libs), not stripped
```

So I would expect this to build 32-bit in most cases on Linux. 

Only if the 32-bit build fails does it try a 64-bit build!! 

Note for AIX and HP-UX, I did not bother with any such flags, but just let it read CFLAGS, where one could add `-m64` or whatever flag one needs.



---

archive/issue_comments_033704.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [drkirkby](#comment%3A35):\n> The method used to determine the target in `spkg-install` seems crazy to me. First it tries  using the the target `linux`, which specifically forces a 32-bit build, with the `-m32` flag. \n> \n> To me at least, on `sage.math`, I can compile with `-m32` and create a 32-bit binary.\n> [...]\n> So I would expect this to build 32-bit in most cases on Linux.\n\nNo. The necessary 32-bit libraries are rarely installed on 64-bit Linux systems.\n \n> Only if the 32-bit build fails does it try a 64-bit build!! \n\nSee [this comment above](#comment%3A4); that's what definitely has to be cleaned up (i.e., removed).",
    "created_at": "2010-09-26T18:39:55Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33704",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:36'></a>
Replying to [drkirkby](#comment%3A35):
> The method used to determine the target in `spkg-install` seems crazy to me. First it tries  using the the target `linux`, which specifically forces a 32-bit build, with the `-m32` flag. 
> 
> To me at least, on `sage.math`, I can compile with `-m32` and create a 32-bit binary.
> [...]
> So I would expect this to build 32-bit in most cases on Linux.

No. The necessary 32-bit libraries are rarely installed on 64-bit Linux systems.
 
> Only if the 32-bit build fails does it try a 64-bit build!! 

See [this comment above](#comment%3A4); that's what definitely has to be cleaned up (i.e., removed).



---

archive/issue_comments_033705.json:
```json
{
    "body": "<a id='comment:37'></a>\nThis is the \"typical\" behavior:\n\n```sh\n$ echo \"int main(){return 0;}\" > foo.c && gcc -m32 foo.c\n/usr/bin/ld: skipping incompatible /usr/lib/gcc/x86_64-linux-gnu/4.4.3/libgcc.a when searching for -lgcc\n/usr/bin/ld: skipping incompatible /usr/lib/gcc/x86_64-linux-gnu/4.4.3/libgcc.a when searching for -lgcc\n/usr/bin/ld: cannot find -lgcc\ncollect2: ld returned 1 exit status\n```",
    "created_at": "2010-09-26T18:50:32Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33705",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:37'></a>
This is the "typical" behavior:

```sh
$ echo "int main(){return 0;}" > foo.c && gcc -m32 foo.c
/usr/bin/ld: skipping incompatible /usr/lib/gcc/x86_64-linux-gnu/4.4.3/libgcc.a when searching for -lgcc
/usr/bin/ld: skipping incompatible /usr/lib/gcc/x86_64-linux-gnu/4.4.3/libgcc.a when searching for -lgcc
/usr/bin/ld: cannot find -lgcc
collect2: ld returned 1 exit status
```



---

archive/issue_comments_033706.json:
```json
{
    "body": "<a id='comment:38'></a>\nIt should simply be:\n\n```sh\n    ...\n    case \"`uname -m`\" in\n      i?86)\n        $MAKE linux-thr;;\n      ia64)\n        $MAKE linux-ia64-thr;;\n      *)\n        $MAKE linux-64-thr\n    esac\n    ...\n```",
    "created_at": "2010-09-26T19:09:28Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33706",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:38'></a>
It should simply be:

```sh
    ...
    case "`uname -m`" in
      i?86)
        $MAKE linux-thr;;
      ia64)
        $MAKE linux-ia64-thr;;
      *)
        $MAKE linux-64-thr
    esac
    ...
```



---

archive/issue_comments_033707.json:
```json
{
    "body": "<a id='comment:39'></a>\n(At least if we don't support Linux on SPARC, PPC etc.)",
    "created_at": "2010-09-26T19:12:39Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33707",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:39'></a>
(At least if we don't support Linux on SPARC, PPC etc.)



---

archive/issue_comments_033708.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [leif](#comment%3A37):\n> This is the \"typical\" behavior:\n> \n> ```sh\n> $ echo \"int main(){return 0;}\" > foo.c && gcc -m32 foo.c\n> /usr/bin/ld: skipping incompatible /usr/lib/gcc/x86_64-linux-gnu/4.4.3/libgcc.a when searching for -lgcc\n> /usr/bin/ld: skipping incompatible /usr/lib/gcc/x86_64-linux-gnu/4.4.3/libgcc.a when searching for -lgcc\n> /usr/bin/ld: cannot find -lgcc\n> collect2: ld returned 1 exit status\n> ```\n\nWell,\nI don't know how *typical* that is, but it's certainly not the case on sage.math, which run Ubunta. \n\n```\nkirkby@sage:~$  echo \"int main(){return 0;}\" > foo.c && gcc -m32 foo.c\nkirkby@sage:~$ file a.out\na.out: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), for GNU/Linux 2.6.8, dynamically linked (uses shared libs), not stripped\nkirkby@sage:~$ \n```\n\nI can see in some cases trying to build more than once might be sensible, but clearly what currently exists is absurd.",
    "created_at": "2010-09-26T19:49:21Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33708",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:40'></a>
Replying to [leif](#comment%3A37):
> This is the "typical" behavior:
> 
> ```sh
> $ echo "int main(){return 0;}" > foo.c && gcc -m32 foo.c
> /usr/bin/ld: skipping incompatible /usr/lib/gcc/x86_64-linux-gnu/4.4.3/libgcc.a when searching for -lgcc
> /usr/bin/ld: skipping incompatible /usr/lib/gcc/x86_64-linux-gnu/4.4.3/libgcc.a when searching for -lgcc
> /usr/bin/ld: cannot find -lgcc
> collect2: ld returned 1 exit status
> ```

Well,
I don't know how *typical* that is, but it's certainly not the case on sage.math, which run Ubunta. 

```
kirkby@sage:~$  echo "int main(){return 0;}" > foo.c && gcc -m32 foo.c
kirkby@sage:~$ file a.out
a.out: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), for GNU/Linux 2.6.8, dynamically linked (uses shared libs), not stripped
kirkby@sage:~$ 
```

I can see in some cases trying to build more than once might be sensible, but clearly what currently exists is absurd.



---

archive/issue_comments_033709.json:
```json
{
    "body": "<a id='comment:41'></a>\nReplying to [drkirkby](#comment%3A40):\n> Well,\n> I don't know how *typical* that is, but it's certainly not the case on sage.math, which run Ubunta\n\nSo what? Some people configure GCC with multi-lib support, and some install the necessary 32-bit libraries. On such systems, the current scheme \"fails\" in that it builds a slower 32-bit executable instead of a 64-bit one, as I noted in one of my first comments here.\n\nBut I'm not aware of any Linux distribution (at least of the \"major\" ones) that ships with / installs these by default. So the \"typical\" scenario on 64-bit Linuces is that the 32-bit build fails and a 64-bit build is tried. Although that's odd by itself, it's irrelevant, since the scheme fails on other systems, like sage.math (or some of my machines). That's why I'd change it to what I've posted.",
    "created_at": "2010-09-26T20:17:43Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33709",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:41'></a>
Replying to [drkirkby](#comment%3A40):
> Well,
> I don't know how *typical* that is, but it's certainly not the case on sage.math, which run Ubunta

So what? Some people configure GCC with multi-lib support, and some install the necessary 32-bit libraries. On such systems, the current scheme "fails" in that it builds a slower 32-bit executable instead of a 64-bit one, as I noted in one of my first comments here.

But I'm not aware of any Linux distribution (at least of the "major" ones) that ships with / installs these by default. So the "typical" scenario on 64-bit Linuces is that the 32-bit build fails and a 64-bit build is tried. Although that's odd by itself, it's irrelevant, since the scheme fails on other systems, like sage.math (or some of my machines). That's why I'd change it to what I've posted.



---

archive/issue_comments_033710.json:
```json
{
    "body": "<a id='comment:42'></a>\nBy the way, if you build a dynamically linked (which is the default) 32-bit executable on sage.math (e.g. when preparing a Sage binary distribution), this won't run on 64-bit Linuces without the necessary libs.",
    "created_at": "2010-09-26T20:45:30Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33710",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:42'></a>
By the way, if you build a dynamically linked (which is the default) 32-bit executable on sage.math (e.g. when preparing a Sage binary distribution), this won't run on 64-bit Linuces without the necessary libs.



---

archive/issue_comments_033711.json:
```json
{
    "body": "<a id='comment:43'></a>\nReplying to [leif](#comment%3A39):\n> (At least if we don't support Linux on SPARC, PPC etc.)\n\nAccording to the Sage installation guide:\n\nhttp://www.sagemath.com/doc/installation/source.html\n\n*As of this writing, Sage is known to work on Linux (32-bit x86, 64-bit x86-64, IA64, or 32-bit PPC)*\n\nhttp://wiki.sagemath.org/SupportedPlatforms\n\nsays Sage is supported on 32-bit PPC too. There are pages on 64-bit PPC and MIPS ports too, though I'm not aware of anyone working on them. So if there are targets, it would be worth considering adding them. But I would forget about Linux on SPARC - I can't imagine anyone wanting to port Sage to SPARC Linux. \n\nDave",
    "created_at": "2010-09-26T20:54:18Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33711",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:43'></a>
Replying to [leif](#comment%3A39):
> (At least if we don't support Linux on SPARC, PPC etc.)

According to the Sage installation guide:

http://www.sagemath.com/doc/installation/source.html

*As of this writing, Sage is known to work on Linux (32-bit x86, 64-bit x86-64, IA64, or 32-bit PPC)*

http://wiki.sagemath.org/SupportedPlatforms

says Sage is supported on 32-bit PPC too. There are pages on 64-bit PPC and MIPS ports too, though I'm not aware of anyone working on them. So if there are targets, it would be worth considering adding them. But I would forget about Linux on SPARC - I can't imagine anyone wanting to port Sage to SPARC Linux. 

Dave



---

archive/issue_comments_033712.json:
```json
{
    "body": "<a id='comment:44'></a>\nReplying to [drkirkby](#comment%3A43):\n> http://wiki.sagemath.org/SupportedPlatforms\n> \n> says Sage is supported on 32-bit PPC too. There are pages on 64-bit PPC and MIPS ports too, though I'm not aware of anyone working on them. So if there are targets, it would be worth considering adding them.\n\nYeah, there's even support for Linux on Playstation 2 and DEC Alpha. (And PPC, but only 32-bit I think.)\n\nDoes anyone port Sage to the PS2?",
    "created_at": "2010-09-26T21:19:59Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33712",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:44'></a>
Replying to [drkirkby](#comment%3A43):
> http://wiki.sagemath.org/SupportedPlatforms
> 
> says Sage is supported on 32-bit PPC too. There are pages on 64-bit PPC and MIPS ports too, though I'm not aware of anyone working on them. So if there are targets, it would be worth considering adding them.

Yeah, there's even support for Linux on Playstation 2 and DEC Alpha. (And PPC, but only 32-bit I think.)

Does anyone port Sage to the PS2?



---

archive/issue_comments_033713.json:
```json
{
    "body": "<a id='comment:45'></a>\nReplying to [leif](#comment%3A44):\n> Replying to [drkirkby](#comment%3A43):\n> > http://wiki.sagemath.org/SupportedPlatforms\n> > \n> > says Sage is supported on 32-bit PPC too. There are pages on 64-bit PPC and MIPS ports too, though I'm not aware of anyone working on them. So if there are targets, it would be worth considering adding them.\n\n> \n> Yeah, there's even support for Linux on Playstation 2 and DEC Alpha. (And PPC, but only 32-bit I think.)\n\nBut the point is the Installation Guide does say Sage is supported on PPC. So IMHO, if there's a PPC target, we should try to call it. I'm not suggesting creating one if there is not already one there. \n\n> Does anyone port Sage to the PS2?\n\nNot to my knowledge, though nothing would surprise me. Some code I wrote, which is part of NetBSD, has binaries for the Playstation. So nothing would totally surprise me. \n\nDave",
    "created_at": "2010-09-26T23:33:58Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33713",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:45'></a>
Replying to [leif](#comment%3A44):
> Replying to [drkirkby](#comment%3A43):
> > http://wiki.sagemath.org/SupportedPlatforms
> > 
> > says Sage is supported on 32-bit PPC too. There are pages on 64-bit PPC and MIPS ports too, though I'm not aware of anyone working on them. So if there are targets, it would be worth considering adding them.

> 
> Yeah, there's even support for Linux on Playstation 2 and DEC Alpha. (And PPC, but only 32-bit I think.)

But the point is the Installation Guide does say Sage is supported on PPC. So IMHO, if there's a PPC target, we should try to call it. I'm not suggesting creating one if there is not already one there. 

> Does anyone port Sage to the PS2?

Not to my knowledge, though nothing would surprise me. Some code I wrote, which is part of NetBSD, has binaries for the Playstation. So nothing would totally surprise me. 

Dave



---

archive/issue_comments_033714.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [drkirkby](#comment%3A45):\n> Replying to [leif](#comment%3A44):\n> > Yeah, there's even support for Linux on Playstation 2 and DEC Alpha. (And PPC, but only 32-bit I think.)\n\n> \n> But the point is the Installation Guide does say Sage is supported on PPC. So IMHO, if there's a PPC target, we should try to call it.\n\nSure. There is one, so we can support it:\n\n```sh\n    ...\n    # Linux\n    case \"`uname -m`\" in\n      i?86)\n        $MAKE linux-thr;;\n      ia64)\n        $MAKE linux-ia64-thr;;\n      amd64|x86_64)\n        $MAKE linux-64-thr;;\n      ppc)\n        $MAKE linux-ppc;;\n      *) # e.g. ppc64\n        echo \"Sorry, your platform isn't supported by Tachyon and/or Sage. Exiting...\"\n        exit 1\n    esac\n    ...\n```\n\nAlthough I doubt the Sage documentation is current, as always...",
    "created_at": "2010-09-26T23:51:48Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33714",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:46'></a>
Replying to [drkirkby](#comment%3A45):
> Replying to [leif](#comment%3A44):
> > Yeah, there's even support for Linux on Playstation 2 and DEC Alpha. (And PPC, but only 32-bit I think.)

> 
> But the point is the Installation Guide does say Sage is supported on PPC. So IMHO, if there's a PPC target, we should try to call it.

Sure. There is one, so we can support it:

```sh
    ...
    # Linux
    case "`uname -m`" in
      i?86)
        $MAKE linux-thr;;
      ia64)
        $MAKE linux-ia64-thr;;
      amd64|x86_64)
        $MAKE linux-64-thr;;
      ppc)
        $MAKE linux-ppc;;
      *) # e.g. ppc64
        echo "Sorry, your platform isn't supported by Tachyon and/or Sage. Exiting..."
        exit 1
    esac
    ...
```

Although I doubt the Sage documentation is current, as always...



---

archive/issue_comments_033715.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [leif](#comment%3A46):\n> Replying to [drkirkby](#comment%3A45):\n> > Replying to [leif](#comment%3A44):\n> > > Yeah, there's even support for Linux on Playstation 2 and DEC Alpha. (And PPC, but only 32-bit I think.)\n\n> > \n> > But the point is the Installation Guide does say Sage is supported on PPC. So IMHO, if there's a PPC target, we should try to call it.\n\n> \n> Sure. There is one, so we can support it:\n> \n> ```sh\n>     ...\n>     # Linux\n>     case \"`uname -m`\" in\n>       i?86)\n>         $MAKE linux-thr;;\n>       ia64)\n>         $MAKE linux-ia64-thr;;\n>       amd64|x86_64)\n>         $MAKE linux-64-thr;;\n>       ppc)\n>         $MAKE linux-ppc;;\n>       *) # e.g. ppc64\n>         echo \"Sorry, your platform isn't supported by Tachyon and/or Sage. Exiting...\"\n>         exit 1\n>     esac\n>     ...\n> ```\n> \n> Although I doubt the Sage documentation is current, as always...\n\nI doubt you will find any two Sage lists of \"supported platforms\" which agree with each other.",
    "created_at": "2010-09-28T23:51:54Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33715",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:47'></a>
Replying to [leif](#comment%3A46):
> Replying to [drkirkby](#comment%3A45):
> > Replying to [leif](#comment%3A44):
> > > Yeah, there's even support for Linux on Playstation 2 and DEC Alpha. (And PPC, but only 32-bit I think.)

> > 
> > But the point is the Installation Guide does say Sage is supported on PPC. So IMHO, if there's a PPC target, we should try to call it.

> 
> Sure. There is one, so we can support it:
> 
> ```sh
>     ...
>     # Linux
>     case "`uname -m`" in
>       i?86)
>         $MAKE linux-thr;;
>       ia64)
>         $MAKE linux-ia64-thr;;
>       amd64|x86_64)
>         $MAKE linux-64-thr;;
>       ppc)
>         $MAKE linux-ppc;;
>       *) # e.g. ppc64
>         echo "Sorry, your platform isn't supported by Tachyon and/or Sage. Exiting..."
>         exit 1
>     esac
>     ...
> ```
> 
> Although I doubt the Sage documentation is current, as always...

I doubt you will find any two Sage lists of "supported platforms" which agree with each other.



---

archive/issue_comments_033716.json:
```json
{
    "body": "<a id='comment:48'></a>\nI've slightly modified modified Dave's spkg from [comment:28](#comment%3A28):\n\n* `Make-config.patch` is now a unified diff (-u)\n* For all GNU compiler targets, I removed overrides for `$CC`, `$AR`, and `$RANLIB` in the `Make-arch` file. These variables are already provided by the Sage environment, and it would be unwise to override them. They were in no case set to any useful value in the original `Make-arch`. In fact, it turned out to be harmful in #9379.\n* do not copy Copyright into `$SAGE_LOCAL/bin/Tachyon-Copyright` (??)\n* `SPKG.txt` has been updated.\n* Used leif's case statement from [comment:46](#comment%3A46) for the `spkg-install`.\n* Use `$MAKE` instead of `make` everywhere.\n* don't strip on Itanium as that does not work on iras\n\nUpdated spkg is at\n\nhttp://www.stp.dias.ie/~vbraun/Sage/spkg/tachyon-0.98.9.spkg\n\nThe following tickets are superseded by this ticket can be closed:\n* #9997: Tachyon does not even try to build on AIX\n* #9379: ia64-Linux binary fails \"devel/sage/sage/plot/plot3d/tachyon.py\"",
    "created_at": "2011-01-11T10:10:20Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33716",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:48'></a>
I've slightly modified modified Dave's spkg from [comment:28](#comment%3A28):

* `Make-config.patch` is now a unified diff (-u)
* For all GNU compiler targets, I removed overrides for `$CC`, `$AR`, and `$RANLIB` in the `Make-arch` file. These variables are already provided by the Sage environment, and it would be unwise to override them. They were in no case set to any useful value in the original `Make-arch`. In fact, it turned out to be harmful in #9379.
* do not copy Copyright into `$SAGE_LOCAL/bin/Tachyon-Copyright` (??)
* `SPKG.txt` has been updated.
* Used leif's case statement from [comment:46](#comment%3A46) for the `spkg-install`.
* Use `$MAKE` instead of `make` everywhere.
* don't strip on Itanium as that does not work on iras

Updated spkg is at

http://www.stp.dias.ie/~vbraun/Sage/spkg/tachyon-0.98.9.spkg

The following tickets are superseded by this ticket can be closed:
* #9997: Tachyon does not even try to build on AIX
* #9379: ia64-Linux binary fails "devel/sage/sage/plot/plot3d/tachyon.py"



---

archive/issue_events_032863.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-01-11T10:10:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32863"
}
```



---

archive/issue_events_032864.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-01-11T10:10:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32864"
}
```



---

archive/attachments_006157.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "Make-arch.patch",
    "asset_url": "tarball://root/attachments/ticket5281/Make-arch.patch",
    "created_at": "2011-01-11T10:10:58Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket5281/Make-arch.patch",
    "user": "https://github.com/vbraun"
}
```



---

archive/issue_comments_033717.json:
```json
{
    "body": "**Attachment:** [Make-arch.patch](https://github.com/sagemath/sage/files/ticket5281/Make-arch.patch)\n\nDiff of Make-arch for review purposes",
    "created_at": "2011-01-11T10:10:58Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33717",
    "user": "https://github.com/vbraun"
}
```

**Attachment:** [Make-arch.patch](https://github.com/sagemath/sage/files/ticket5281/Make-arch.patch)

Diff of Make-arch for review purposes



---

archive/issue_comments_033718.json:
```json
{
    "body": "Diff of Make-config for review purposes",
    "created_at": "2011-01-11T10:11:12Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33718",
    "user": "https://github.com/vbraun"
}
```

Diff of Make-config for review purposes



---

archive/attachments_006158.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "Make-config.patch",
    "asset_url": "tarball://root/attachments/ticket5281/Make-config.patch",
    "created_at": "2011-01-11T16:58:37Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket5281/Make-config.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```



---

archive/issue_comments_033719.json:
```json
{
    "body": "<a id='comment:49'></a>\n**Attachment:** [Make-config.patch](https://github.com/sagemath/sage/files/ticket5281/Make-config.patch)\n\nGreat, I will review this today.",
    "created_at": "2011-01-11T16:58:37Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33719",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:49'></a>
**Attachment:** [Make-config.patch](https://github.com/sagemath/sage/files/ticket5281/Make-config.patch)

Great, I will review this today.



---

archive/issue_comments_033720.json:
```json
{
    "body": "**Changing author** from \"David Kirkby, Marshall Hampton\" to \"David Kirkby, Marshall Hampton, Volker Braun\".",
    "created_at": "2011-01-11T16:58:37Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33720",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

**Changing author** from "David Kirkby, Marshall Hampton" to "David Kirkby, Marshall Hampton, Volker Braun".



---

archive/issue_comments_033721.json:
```json
{
    "body": "**Reviewer:** David Kirkby, Marshall Hampton, Volker Braun, Leif Leonhardy",
    "created_at": "2011-01-11T16:58:37Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33721",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

**Reviewer:** David Kirkby, Marshall Hampton, Volker Braun, Leif Leonhardy



---

archive/issue_comments_033722.json:
```json
{
    "body": "<a id='comment:50'></a>\nLooks good; I tested on OS X 10.5 and 10.6 and linux (64 bit).  Volker has tested this on the skynet machines as well.\n\nI made one little change, adding Volker to the SPKG.txt.  Apart from that tiny addition I can give this a positive review.  My version is at:\n\n[http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg](http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg)",
    "created_at": "2011-01-11T23:47:59Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33722",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:50'></a>
Looks good; I tested on OS X 10.5 and 10.6 and linux (64 bit).  Volker has tested this on the skynet machines as well.

I made one little change, adding Volker to the SPKG.txt.  Apart from that tiny addition I can give this a positive review.  My version is at:

[http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg](http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg)



---

archive/issue_events_032865.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mhampton",
    "created_at": "2011-01-11T23:47:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32865"
}
```



---

archive/issue_events_032866.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mhampton",
    "created_at": "2011-01-11T23:47:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32866"
}
```



---

archive/issue_events_032867.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-12T23:50:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "milestone": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32867"
}
```



---

archive/issue_events_032868.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-12T23:50:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "milestone": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32868"
}
```



---

archive/issue_comments_033723.json:
```json
{
    "body": "<a id='comment:52'></a>\nFYI, I've just created a `.p1` based on this package to #10609, fixing a bug in filetype detection in tachyon that broke the Sage tachyon interface on some machines.",
    "created_at": "2011-01-13T00:52:32Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33723",
    "user": "https://github.com/wjp"
}
```

<a id='comment:52'></a>
FYI, I've just created a `.p1` based on this package to #10609, fixing a bug in filetype detection in tachyon that broke the Sage tachyon interface on some machines.



---

archive/issue_comments_033724.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,3 +8,6 @@\n \n Upstream link: http://jedi.ks.uiuc.edu/~johns/raytracer/\n \n+New spkg: [http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg](http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg)\n+\n+Superseded by: [http://www.math.leidenuniv.nl/~wpalenst/sage/tachyon-0.98.9.p1.spkg](http://www.math.leidenuniv.nl/~wpalenst/sage/tachyon-0.98.9.p1.spkg) (#10609)\n``````\n",
    "created_at": "2011-01-13T06:16:35Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33724",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,3 +8,6 @@
 
 Upstream link: http://jedi.ks.uiuc.edu/~johns/raytracer/
 
+New spkg: [http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg](http://sage.math.washington.edu/home/mhampton/tachyon-0.98.9.spkg)
+
+Superseded by: [http://www.math.leidenuniv.nl/~wpalenst/sage/tachyon-0.98.9.p1.spkg](http://www.math.leidenuniv.nl/~wpalenst/sage/tachyon-0.98.9.p1.spkg) (#10609)
``````




---

archive/issue_events_032869.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-19T22:19:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32869"
}
```



---

archive/issue_events_032870.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-19T22:19:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5281#event-32870"
}
```



---

archive/issue_comments_033725.json:
```json
{
    "body": "**Merged:** sage-4.6.2.alpha1",
    "created_at": "2011-01-19T22:19:10Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33725",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.6.2.alpha1



---

archive/issue_comments_033726.json:
```json
{
    "body": "<a id='comment:55'></a>\nSince the updated spkg calls the correct target on IBM's AIX operating system, #9997 can be closed as fixed. \n\nDave",
    "created_at": "2011-02-06T06:22:46Z",
    "issue": "https://github.com/sagemath/sage/issues/5281",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5281#issuecomment-33726",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:55'></a>
Since the updated spkg calls the correct target on IBM's AIX operating system, #9997 can be closed as fixed. 

Dave
