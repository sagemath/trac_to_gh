# Issue 5927: singular prompt problem on solaris sparc

archive/issues_005927.json:
```json
{
    "assignees": [
        "https://github.com/mwhansen"
    ],
    "body": "Credit to William Stein, Mike Hansen, and Michael Abshoff?\n\nComponent: **porting**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/5927_\n\n",
    "closed_at": "2009-05-22T13:17:37Z",
    "created_at": "2009-04-29T01:36:52Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting",
        "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "singular prompt problem on solaris sparc",
    "type": "issue",
    "updated_at": "2009-05-22T13:17:37Z",
    "url": "https://github.com/sagemath/sage/issues/5927",
    "user": "https://github.com/williamstein"
}
```
Credit to William Stein, Mike Hansen, and Michael Abshoff?

Component: **porting**

_Issue created by migration from https://trac.sagemath.org/ticket/5927_





---

archive/issue_events_070788.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-29T01:36:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "milestone_number": null,
    "milestone_title": "sage-4.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70788"
}
```



---

archive/issue_events_070789.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-29T01:36:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "000080",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70789"
}
```



---

archive/issue_events_070790.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-29T01:36:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70790"
}
```



---

archive/issue_events_070791.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-29T01:36:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70791"
}
```



---

archive/issue_events_070792.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-29T01:36:52Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "subject": "https://github.com/williamstein",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70792"
}
```



---

archive/issue_events_070793.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-29T01:36:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70793"
}
```



---

archive/issue_events_070794.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-29T01:40:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70794"
}
```



---

archive/issue_comments_038328.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI tested it, and it works.",
    "created_at": "2009-04-29T01:40:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5927#issuecomment-38328",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:1" align="right">comment:1</div>

I tested it, and it works.



---

archive/issue_events_070795.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-29T01:40:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "milestone_number": null,
    "milestone_title": "sage-4.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70795"
}
```



---

archive/issue_events_070796.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-29T01:40:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "milestone_number": null,
    "milestone_title": "sage-3.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70796"
}
```



---

archive/issue_comments_038329.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nOops, there are three doctest failures with this patch applied:\n\n```\n        sage -t -long devel/sage/sage/interfaces/expect.py # 1 doctests failed\n        sage -t -long devel/sage/doc/en/developer/coding_in_other.rst # 2 doctests failed\n        sage -t -long devel/sage/doc/en/constructions/algebraic_geometry.rst # 4 doctests failed\n```\n\nCheers,\n\nMichael",
    "created_at": "2009-04-29T23:00:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5927#issuecomment-38329",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:3" align="right">comment:3</div>

Oops, there are three doctest failures with this patch applied:

```
        sage -t -long devel/sage/sage/interfaces/expect.py # 1 doctests failed
        sage -t -long devel/sage/doc/en/developer/coding_in_other.rst # 2 doctests failed
        sage -t -long devel/sage/doc/en/constructions/algebraic_geometry.rst # 4 doctests failed
```

Cheers,

Michael



---

archive/issue_events_070797.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-29T23:00:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70797"
}
```



---

archive/issue_events_070798.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-29T23:00:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70798"
}
```



---

archive/issue_comments_038330.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis is a 4.0 blocker. \n\nMike: Any comments?\n\nCheers,\n\nMichael",
    "created_at": "2009-05-15T14:33:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5927#issuecomment-38330",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:4" align="right">comment:4</div>

This is a 4.0 blocker. 

Mike: Any comments?

Cheers,

Michael



---

archive/issue_events_070799.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-15T14:33:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "milestone_number": null,
    "milestone_title": "sage-4.0.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70799"
}
```



---

archive/issue_events_070800.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-15T14:33:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "milestone_number": null,
    "milestone_title": "sage-4.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70800"
}
```



---

archive/issue_comments_038331.json:
```json
{
    "body": "Attachment: **[trac_5927.patch.gz](https://github.com/sagemath/sage/files/ticket5927/trac_5927.patch.gz)**",
    "created_at": "2009-05-21T17:54:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5927#issuecomment-38331",
    "user": "https://github.com/mwhansen"
}
```

Attachment: **[trac_5927.patch.gz](https://github.com/sagemath/sage/files/ticket5927/trac_5927.patch.gz)**



---

archive/issue_events_070801.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-05-21T17:56:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70801"
}
```



---

archive/issue_comments_038332.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAll of the failures are harmless.  I've attached a new patch which fixes the doctests.",
    "created_at": "2009-05-21T17:56:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5927#issuecomment-38332",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:5" align="right">comment:5</div>

All of the failures are harmless.  I've attached a new patch which fixes the doctests.



---

archive/issue_events_070802.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-21T17:56:02Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "subject": "https://github.com/mwhansen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70802"
}
```



---

archive/issue_events_070803.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-05-21T17:56:02Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "subject": "https://github.com/mwhansen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70803"
}
```



---

archive/issue_events_070804.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-05-21T17:56:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70804"
}
```



---

archive/issue_comments_038333.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHmm, I am not so sure the patch does fix every problem:\nWithout the patch:\n\n```\n----------------------------------------------------------------------\n| Sage Version 4.0.rc0, Release Date: 2009-05-21                     |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\nsage: singular.eval(\"intvec G = 4,4,4,0,0,0;\")\n''\n```\nWith the patch applied:\n\n```\nmabshoff@sage:/scratch/mabshoff/sage-4.0.rc1$ ./sage\n----------------------------------------------------------------------\n| Sage Version 4.0.rc0, Release Date: 2009-05-21                     |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\nsage: singular.eval(\"intvec G = 4,4,4,0,0,0;\")\n'intvec G = 4,4,4,0,0,0;'\nsage: \n```\n\nIf you look at the attached patch here it seems that we sometimes get the echo of the command and some times not. It might be consistent, i.e. the doctests pass on all platforms (I hope), but something still seems fishy.\n\nI am not saying we shouldn't apply the patch since it fixes a much more severe bug, I just think that there is more to the story. Anyway, doctests do pass, so I will open a followup ticket and merge this patch.\n\nCheers,\n\nMichael",
    "created_at": "2009-05-22T12:49:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5927#issuecomment-38333",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:6" align="right">comment:6</div>

Hmm, I am not so sure the patch does fix every problem:
Without the patch:

```
----------------------------------------------------------------------
| Sage Version 4.0.rc0, Release Date: 2009-05-21                     |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
sage: singular.eval("intvec G = 4,4,4,0,0,0;")
''
```
With the patch applied:

```
mabshoff@sage:/scratch/mabshoff/sage-4.0.rc1$ ./sage
----------------------------------------------------------------------
| Sage Version 4.0.rc0, Release Date: 2009-05-21                     |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
sage: singular.eval("intvec G = 4,4,4,0,0,0;")
'intvec G = 4,4,4,0,0,0;'
sage: 
```

If you look at the attached patch here it seems that we sometimes get the echo of the command and some times not. It might be consistent, i.e. the doctests pass on all platforms (I hope), but something still seems fishy.

I am not saying we shouldn't apply the patch since it fixes a much more severe bug, I just think that there is more to the story. Anyway, doctests do pass, so I will open a followup ticket and merge this patch.

Cheers,

Michael



---

archive/issue_events_070805.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-22T12:49:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70805"
}
```



---

archive/issue_events_070806.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-22T12:49:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70806"
}
```



---

archive/issue_events_070807.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-22T13:17:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70807"
}
```



---

archive/issue_events_070808.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-22T13:17:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5927#event-70808"
}
```



---

archive/issue_comments_038334.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nMerged in Sage 4.0.rc1.\n\nCheers,\n\nMichael",
    "created_at": "2009-05-22T13:17:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5927",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5927#issuecomment-38334",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:7" align="right">comment:7</div>

Merged in Sage 4.0.rc1.

Cheers,

Michael
