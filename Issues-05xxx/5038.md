# Issue 5038: Add support for word path

archive/issues_005038.json:
```json
{
    "assignees": [
        "https://github.com/seblabbe"
    ],
    "body": "This module implements word paths which belongs to Discrete Geometry seen from Combinatorics on Words point of view. A word path is the representation of a word\nas a discrete path in a two (or more) dimensions space using a one-to-one\ncorrespondence between the alphabet and a set of vectors called steps. Using combinatorics on words, many problems on discrete polygons on 2d lattice grid may be solved in linear time in length of the perimeter (self-intersecting, area, inertia moment, etc.). For now, the goal is to create all the classes hierarchy. Cool algorithms will come into an other ticket.\n\nHere are some examples taken from the documentation of the current state of paths.py available in the sage-combinat tree.\n\nThe combinatorial class of all paths defined over three given steps:\n\n```\nsage: P = WordPaths('abc', steps=[(1,2), (-3,4), (0,-3)]); P\nFinite Word Paths over 3 steps\n```\n\nCreation of a path from the combinatorial class P:\n\n```\nsage: p = P('abaccba'); p\nPath: abaccba\nsage: list(p.points())\n[(0, 0), (1, 2), (-2, 6), (-1, 8), (-1, 5), (-1, 2), (-4, 6), (-3, 8)]\nsage: p.is_closed()\nFalse\nsage: p.plot() \n```\n\nSince p is a finite word, many functions from the word library are available:\n\n```\nsage: p.crochemore_factorization()\n(a.b.a.c.c.ba)\nsage: p.is_palindrome()\nFalse\nsage: p[:3]\nPath: aba\nsage: len(p)\n7 \n```\n\nSome built-in combinatorial classes of paths:\n\n```\nsage: P = WordPaths('abAB', steps='square_grid'); P\nFinite Word Paths on the square grid\n```\n\n```\nsage: D = WordPaths('()', steps='dyck'); D\nFinite Dyck paths\nsage: d = D('()()()(())'); d\nPath: ()()()(())\nsage: d.plot()\n```\n\n```\nsage: P = WordPaths('abcdef', steps='triangle_grid')\nsage: p = P('babaddefadabcadefaadfafabacdefa')\nsage: p.plot() \n```\n\nCC:  @sagetrac-sage-combinat @saliola @sagetrac-abmasse\n\nReviewer: **Mike Hansen, Franco Saliola**\n\nAuthor: **S\u00e9bastien Labb\u00e9**\n\nMerged: **sage-4.2.alpha1**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/5038_\n\n",
    "closed_at": "2009-10-21T11:39:23Z",
    "created_at": "2009-01-20T19:56:41Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add support for word path",
    "type": "issue",
    "updated_at": "2016-04-15T19:30:06Z",
    "url": "https://github.com/sagemath/sage/issues/5038",
    "user": "https://github.com/seblabbe"
}
```
This module implements word paths which belongs to Discrete Geometry seen from Combinatorics on Words point of view. A word path is the representation of a word
as a discrete path in a two (or more) dimensions space using a one-to-one
correspondence between the alphabet and a set of vectors called steps. Using combinatorics on words, many problems on discrete polygons on 2d lattice grid may be solved in linear time in length of the perimeter (self-intersecting, area, inertia moment, etc.). For now, the goal is to create all the classes hierarchy. Cool algorithms will come into an other ticket.

Here are some examples taken from the documentation of the current state of paths.py available in the sage-combinat tree.

The combinatorial class of all paths defined over three given steps:

```
sage: P = WordPaths('abc', steps=[(1,2), (-3,4), (0,-3)]); P
Finite Word Paths over 3 steps
```

Creation of a path from the combinatorial class P:

```
sage: p = P('abaccba'); p
Path: abaccba
sage: list(p.points())
[(0, 0), (1, 2), (-2, 6), (-1, 8), (-1, 5), (-1, 2), (-4, 6), (-3, 8)]
sage: p.is_closed()
False
sage: p.plot() 
```

Since p is a finite word, many functions from the word library are available:

```
sage: p.crochemore_factorization()
(a.b.a.c.c.ba)
sage: p.is_palindrome()
False
sage: p[:3]
Path: aba
sage: len(p)
7 
```

Some built-in combinatorial classes of paths:

```
sage: P = WordPaths('abAB', steps='square_grid'); P
Finite Word Paths on the square grid
```

```
sage: D = WordPaths('()', steps='dyck'); D
Finite Dyck paths
sage: d = D('()()()(())'); d
Path: ()()()(())
sage: d.plot()
```

```
sage: P = WordPaths('abcdef', steps='triangle_grid')
sage: p = P('babaddefadabcadefaadfafabacdefa')
sage: p.plot() 
```

CC:  @sagetrac-sage-combinat @saliola @sagetrac-abmasse

Reviewer: **Mike Hansen, Franco Saliola**

Author: **Sébastien Labbé**

Merged: **sage-4.2.alpha1**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/5038_





---

archive/issue_events_058458.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-01-20T19:56:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58458"
}
```



---

archive/issue_events_058459.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-01-20T19:56:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58459"
}
```



---

archive/issue_events_058460.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-01-20T19:56:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58460"
}
```



---

archive/issue_events_058461.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-01-20T19:56:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58461"
}
```



---

archive/issue_events_058462.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-01-20T19:56:41Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "subject": "https://github.com/seblabbe",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58462"
}
```



---

archive/issue_events_058463.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-01-20T19:58:48Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "title_is": "Add support for word path",
    "title_was": "Add word path support",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58463"
}
```



---

archive/issue_events_058464.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-01-20T19:58:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58464"
}
```



---

archive/issue_events_058465.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-01-20T19:58:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58465"
}
```



---

archive/issue_comments_030601.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI just uploaded a patch, but I forgot to do some stuff. Will upload another patch soon.",
    "created_at": "2009-09-07T23:02:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30601",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:3" align="right">comment:3</div>

I just uploaded a patch, but I forgot to do some stuff. Will upload another patch soon.



---

archive/issue_events_058466.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-07T23:02:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58466"
}
```



---

archive/issue_events_058467.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-13T14:43:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58467"
}
```



---

archive/issue_events_058468.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-13T14:43:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58468"
}
```



---

archive/issue_events_058469.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-13T14:43:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58469"
}
```



---

archive/issue_comments_030602.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI refreshed the patch. Needs review !!\n\n...Should I do something somewhere so that `sage/combinat/words/paths.py` get added to the documentation?",
    "created_at": "2009-09-13T14:43:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30602",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:4" align="right">comment:4</div>

I refreshed the patch. Needs review !!

...Should I do something somewhere so that `sage/combinat/words/paths.py` get added to the documentation?



---

archive/issue_comments_030603.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI updated the patch after #6903 reviews.",
    "created_at": "2009-09-17T18:09:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30603",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:5" align="right">comment:5</div>

I updated the patch after #6903 reviews.



---

archive/issue_events_058470.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-18T14:33:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58470"
}
```



---

archive/issue_comments_030604.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI just realized that the doctest coverage is not perfect right now. Will post a new patch soon.",
    "created_at": "2009-09-18T14:33:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30604",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:6" align="right">comment:6</div>

I just realized that the doctest coverage is not perfect right now. Will post a new patch soon.



---

archive/issue_comments_030605.json:
```json
{
    "body": "Depends on #6903.",
    "created_at": "2009-09-18T21:29:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30605",
    "user": "https://github.com/seblabbe"
}
```

Depends on #6903.



---

archive/issue_comments_030606.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAttachment: **[trac_5038_paths-sl.patch.gz](https://github.com/sagemath/sage/files/ticket5038/trac_5038_paths-sl.patch.gz)**\n\nNew patch uploaded. Doctest coverage of paths.py : 100%. Added paths.py to the documentation.",
    "created_at": "2009-09-18T21:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30606",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:7" align="right">comment:7</div>

Attachment: **[trac_5038_paths-sl.patch.gz](https://github.com/sagemath/sage/files/ticket5038/trac_5038_paths-sl.patch.gz)**

New patch uploaded. Doctest coverage of paths.py : 100%. Added paths.py to the documentation.



---

archive/issue_events_058471.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-18T21:38:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58471"
}
```



---

archive/issue_events_058472.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-18T21:38:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58472"
}
```



---

archive/issue_comments_030607.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nNeeds review!",
    "created_at": "2009-09-18T21:38:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30607",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:8" align="right">comment:8</div>

Needs review!



---

archive/issue_comments_030608.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nLooks good to me.  I attached a patch to remove the import of GridLines since it isn't used.",
    "created_at": "2009-09-26T03:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30608",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:9" align="right">comment:9</div>

Looks good to me.  I attached a patch to remove the import of GridLines since it isn't used.



---

archive/issue_comments_030609.json:
```json
{
    "body": "Author: **Sebastien Labbe**",
    "created_at": "2009-09-26T03:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30609",
    "user": "https://github.com/mwhansen"
}
```

Author: **Sebastien Labbe**



---

archive/issue_comments_030610.json:
```json
{
    "body": "Reviewer: **Mike Hansen**",
    "created_at": "2009-09-26T03:33:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30610",
    "user": "https://github.com/mwhansen"
}
```

Reviewer: **Mike Hansen**



---

archive/issue_events_058473.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-09-26T03:33:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58473"
}
```



---

archive/issue_events_058474.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-09-26T03:33:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58474"
}
```



---

archive/issue_comments_030611.json:
```json
{
    "body": "Attachment: **[trac_5038-remove-gridlines.patch.gz](https://github.com/sagemath/sage/files/ticket5038/trac_5038-remove-gridlines.patch.gz)**",
    "created_at": "2009-09-26T03:33:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30611",
    "user": "https://github.com/mwhansen"
}
```

Attachment: **[trac_5038-remove-gridlines.patch.gz](https://github.com/sagemath/sage/files/ticket5038/trac_5038-remove-gridlines.patch.gz)**



---

archive/issue_events_058475.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-09-26T06:19:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58475"
}
```



---

archive/issue_events_058476.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2009-09-26T06:19:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58476"
}
```



---

archive/issue_comments_030612.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI got the following doctest failure:\n\n```\nsage -t -long devel/sage/sage/structure/sage_object.pyx\n**********************************************************************\nFile \"/scratch/mvngu/release/sage-4.1.2.alpha2/devel/sage-main/sage/structure/sage_object.pyx\", line 931:\n    sage: sage.structure.sage_object.unpickle_all(std)\nExpected:\n    doctest:...: DeprecationWarning: RQDF is deprecated; use RealField(212) instead.\n    Successfully unpickled 572 objects.\n    Failed to unpickle 0 objects.\nGot:\n    doctest:1: DeprecationWarning: Your word object is saved in an old file format since FiniteWord_over_OrderedAlphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing \"word.save(filename)\" to ensure that it will load in future versions of Sage.\n    ** failed:  _class__sage_combinat_words_utils_Factorization__.sobj\n    doctest:1: DeprecationWarning: Your word object is saved in an old file format since AbstractWord is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing \"word.save(filename)\" to ensure that it will load in future versions of Sage.\n    doctest:1: DeprecationWarning: Your word object is saved in an old file format since Word_over_Alphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing \"word.save(filename)\" to ensure that it will load in future versions of Sage.\n    doctest:1: DeprecationWarning: Your word object is saved in an old file format since Word_over_OrderedAlphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing \"word.save(filename)\" to ensure that it will load in future versions of Sage.\n    doctest:1: DeprecationWarning: ChristoffelWord_Lower is deprecated, use LowerChristoffelWord instead\n    doctest:1172: DeprecationWarning: RQDF is deprecated; use RealField(212) instead.\n    Failed:\n    _class__sage_combinat_words_utils_Factorization__.sobj\n    Successfully unpickled 571 objects.\n    Failed to unpickle 1 objects.\n**********************************************************************\n1 items had failures:\n   1 of   7 in __main__.example_21\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /home/mvngu/.sage//tmp/.doctest_sage_object.py\n\t [6.3 s]\n```",
    "created_at": "2009-09-26T06:19:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30612",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:10" align="right">comment:10</div>

I got the following doctest failure:

```
sage -t -long devel/sage/sage/structure/sage_object.pyx
**********************************************************************
File "/scratch/mvngu/release/sage-4.1.2.alpha2/devel/sage-main/sage/structure/sage_object.pyx", line 931:
    sage: sage.structure.sage_object.unpickle_all(std)
Expected:
    doctest:...: DeprecationWarning: RQDF is deprecated; use RealField(212) instead.
    Successfully unpickled 572 objects.
    Failed to unpickle 0 objects.
Got:
    doctest:1: DeprecationWarning: Your word object is saved in an old file format since FiniteWord_over_OrderedAlphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing "word.save(filename)" to ensure that it will load in future versions of Sage.
    ** failed:  _class__sage_combinat_words_utils_Factorization__.sobj
    doctest:1: DeprecationWarning: Your word object is saved in an old file format since AbstractWord is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing "word.save(filename)" to ensure that it will load in future versions of Sage.
    doctest:1: DeprecationWarning: Your word object is saved in an old file format since Word_over_Alphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing "word.save(filename)" to ensure that it will load in future versions of Sage.
    doctest:1: DeprecationWarning: Your word object is saved in an old file format since Word_over_OrderedAlphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing "word.save(filename)" to ensure that it will load in future versions of Sage.
    doctest:1: DeprecationWarning: ChristoffelWord_Lower is deprecated, use LowerChristoffelWord instead
    doctest:1172: DeprecationWarning: RQDF is deprecated; use RealField(212) instead.
    Failed:
    _class__sage_combinat_words_utils_Factorization__.sobj
    Successfully unpickled 571 objects.
    Failed to unpickle 1 objects.
**********************************************************************
1 items had failures:
   1 of   7 in __main__.example_21
***Test Failed*** 1 failures.
For whitespace errors, see the file /home/mvngu/.sage//tmp/.doctest_sage_object.py
	 [6.3 s]
```



---

archive/issue_comments_030613.json:
```json
{
    "body": "Applies over the precedent 2 patches.",
    "created_at": "2009-09-29T12:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30613",
    "user": "https://github.com/seblabbe"
}
```

Applies over the precedent 2 patches.



---

archive/issue_comments_030614.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAttachment: **[trac_5038_pickle_jar_fix-sl.patch.gz](https://github.com/sagemath/sage/files/ticket5038/trac_5038_pickle_jar_fix-sl.patch.gz)**\n\nThe above failure is now fixed by the patch I just uploaded. Needs review.",
    "created_at": "2009-09-29T12:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30614",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:11" align="right">comment:11</div>

Attachment: **[trac_5038_pickle_jar_fix-sl.patch.gz](https://github.com/sagemath/sage/files/ticket5038/trac_5038_pickle_jar_fix-sl.patch.gz)**

The above failure is now fixed by the patch I just uploaded. Needs review.



---

archive/issue_events_058477.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-29T12:24:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58477"
}
```



---

archive/issue_events_058478.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-29T12:24:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58478"
}
```



---

archive/issue_events_058479.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-13T10:06:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58479"
}
```



---

archive/issue_events_058480.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-13T10:06:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58480"
}
```



---

archive/issue_comments_030615.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI am reviewing my own patch... There is something I dislike in the patch that I would like to discuss before including it into Sage. There are pros and cons for having a word path being a word. One thing I dislike right now is the pollution on the tab completion :\n\n```\nsage: P = WordPaths('abcd')\nsage: p = P('aaaaa')\nsage: p.\nDisplay all 146 possibilities? (y or n)\n```\n\nwhereas it could be something like below if a word path wouldn't inherit from `FiniteWord` (but still from `WordDatatype` :\n\n```\nsage: P = WordPaths('abcd')\nsage: p = P('abbbbccd')\nsage: p.\np.animate           p.find              p.points\np.area              p.has_prefix        p.rename\np.category          p.has_suffix        p.reset_name\np.count             p.is_closed         p.rfind\np.db                p.is_prefix         p.save\np.directive_vector  p.is_simple         p.start_point\np.dump              p.is_suffix         p.tikz_trajectory\np.dumps             p.length            p.version\np.end_point         p.plot          \n```\n\nBut since I still want to know if a wordpath is a palindrome and other questions already implemented for words, something like below could exist :\n\n```\nsage: P = WordPaths('abcd')\nsage: p = P('abbbbccd')\nsage: p.to_word()\nsage: p.\nDisplay all 146 possibilities? (y or n)\nsage: p.is_palindrome()\nFalse\n```\n\nOf course I would want the `to_word` to be constant time (no copy) : I am thinking of simply adding the `FiniteWord` class to the base classes of `p`.\n\n\nFranco, Mike Hansen : Do you have any comments ? I am sure you have useful ideas I could use!\n\nThank you,\n\nS\u00e9bastien",
    "created_at": "2009-10-13T10:06:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30615",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:12" align="right">comment:12</div>

I am reviewing my own patch... There is something I dislike in the patch that I would like to discuss before including it into Sage. There are pros and cons for having a word path being a word. One thing I dislike right now is the pollution on the tab completion :

```
sage: P = WordPaths('abcd')
sage: p = P('aaaaa')
sage: p.
Display all 146 possibilities? (y or n)
```

whereas it could be something like below if a word path wouldn't inherit from `FiniteWord` (but still from `WordDatatype` :

```
sage: P = WordPaths('abcd')
sage: p = P('abbbbccd')
sage: p.
p.animate           p.find              p.points
p.area              p.has_prefix        p.rename
p.category          p.has_suffix        p.reset_name
p.count             p.is_closed         p.rfind
p.db                p.is_prefix         p.save
p.directive_vector  p.is_simple         p.start_point
p.dump              p.is_suffix         p.tikz_trajectory
p.dumps             p.length            p.version
p.end_point         p.plot          
```

But since I still want to know if a wordpath is a palindrome and other questions already implemented for words, something like below could exist :

```
sage: P = WordPaths('abcd')
sage: p = P('abbbbccd')
sage: p.to_word()
sage: p.
Display all 146 possibilities? (y or n)
sage: p.is_palindrome()
False
```

Of course I would want the `to_word` to be constant time (no copy) : I am thinking of simply adding the `FiniteWord` class to the base classes of `p`.


Franco, Mike Hansen : Do you have any comments ? I am sure you have useful ideas I could use!

Thank you,

Sébastien



---

archive/issue_comments_030616.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@seblabbe](#comment:12):\n\n> But since I still want to know if a wordpath is a palindrome and other questions already implemented for words, something like below could exist :\n\nYou need to decide whether or not a \"wordpath\" is a word. If it is, then it\nshould inherit all the methods. A user will be totally confused if it is\nsupposed to be a word but doesn't behave like one.\n\nIf it is not a word, then having a `to_word` method is fine, but it\nneeds to return a word. In your suggestion, it returns `None` but this\nis unusual since most `to_*` methods in Sage (at least in combinatorics\ncode) do not modify the original object but return a new object. \n\nPerhaps you want to work with paths instead of word paths?\n\n\n> Of course I would want the `to_word` to be constant time (no copy) : I am thinking of simply adding the `FiniteWord` class to the base classes of `p`.\n\nThe creation of u in the following is constant time:\n\n```\nsage: w = Word([0,1,1,0,1,0,0,1])\nsage: u = Word(w._data)\n```\n\nHope this helps.",
    "created_at": "2009-10-15T15:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30616",
    "user": "https://github.com/saliola"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@seblabbe](#comment:12):

> But since I still want to know if a wordpath is a palindrome and other questions already implemented for words, something like below could exist :

You need to decide whether or not a "wordpath" is a word. If it is, then it
should inherit all the methods. A user will be totally confused if it is
supposed to be a word but doesn't behave like one.

If it is not a word, then having a `to_word` method is fine, but it
needs to return a word. In your suggestion, it returns `None` but this
is unusual since most `to_*` methods in Sage (at least in combinatorics
code) do not modify the original object but return a new object. 

Perhaps you want to work with paths instead of word paths?


> Of course I would want the `to_word` to be constant time (no copy) : I am thinking of simply adding the `FiniteWord` class to the base classes of `p`.

The creation of u in the following is constant time:

```
sage: w = Word([0,1,1,0,1,0,0,1])
sage: u = Word(w._data)
```

Hope this helps.



---

archive/issue_comments_030617.json:
```json
{
    "body": "Attachment: **[trac_5038_improved_doc-sl.patch.gz](https://github.com/sagemath/sage/files/ticket5038/trac_5038_improved_doc-sl.patch.gz)**",
    "created_at": "2009-10-20T11:24:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30617",
    "user": "https://github.com/seblabbe"
}
```

Attachment: **[trac_5038_improved_doc-sl.patch.gz](https://github.com/sagemath/sage/files/ticket5038/trac_5038_improved_doc-sl.patch.gz)**



---

archive/issue_events_058481.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-20T11:28:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58481"
}
```



---

archive/issue_events_058482.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-20T11:28:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58482"
}
```



---

archive/issue_comments_030618.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n> You need to decide whether or not a \"wordpath\" is a word. If it is, then it\n> should inherit all the methods. A user will be totally confused if it is\n> supposed to be a word but doesn't behave like one.\n\nI want a word path to be a word. So, I will keep it as it is.\n\n> Hope this helps.\n\nYes, thank you!\n\nI added a patch that improves the documentation and that suggests to use `help(p)` to get the specific word paths functions.\n\nNeeds review!",
    "created_at": "2009-10-20T11:28:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30618",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:14" align="right">comment:14</div>

> You need to decide whether or not a "wordpath" is a word. If it is, then it
> should inherit all the methods. A user will be totally confused if it is
> supposed to be a word but doesn't behave like one.

I want a word path to be a word. So, I will keep it as it is.

> Hope this helps.

Yes, thank you!

I added a patch that improves the documentation and that suggests to use `help(p)` to get the specific word paths functions.

Needs review!



---

archive/issue_comments_030619.json:
```json
{
    "body": "Attachment: **[trac_5038_doc_fixes-fs.patch.gz](https://github.com/sagemath/sage/files/ticket5038/trac_5038_doc_fixes-fs.patch.gz)**\n\napply on top of the others",
    "created_at": "2009-10-20T16:52:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30619",
    "user": "https://github.com/saliola"
}
```

Attachment: **[trac_5038_doc_fixes-fs.patch.gz](https://github.com/sagemath/sage/files/ticket5038/trac_5038_doc_fixes-fs.patch.gz)**

apply on top of the others



---

archive/issue_comments_030620.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI posted a small patch to address some errors in the documentation introduced in the last patch. Otherwise, positive review. S\u00e9bastien, take a look at my patch, and if it is okay, then change the summary to positive review.",
    "created_at": "2009-10-20T16:55:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30620",
    "user": "https://github.com/saliola"
}
```

<div id="comment:15" align="right">comment:15</div>

I posted a small patch to address some errors in the documentation introduced in the last patch. Otherwise, positive review. Sébastien, take a look at my patch, and if it is okay, then change the summary to positive review.



---

archive/issue_events_058483.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-21T08:53:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58483"
}
```



---

archive/issue_events_058484.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-21T08:53:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58484"
}
```



---

archive/issue_comments_030621.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nGreat. Thanks for the grammatical corrections and for the '-' as well. I am giving positive review to your changes, so that I change the status of the ticket for positive review.",
    "created_at": "2009-10-21T08:53:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30621",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:16" align="right">comment:16</div>

Great. Thanks for the grammatical corrections and for the '-' as well. I am giving positive review to your changes, so that I change the status of the ticket for positive review.



---

archive/issue_comments_030622.json:
```json
{
    "body": "Merged: **sage-4.2.alpha1**",
    "created_at": "2009-10-21T11:39:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30622",
    "user": "https://github.com/mwhansen"
}
```

Merged: **sage-4.2.alpha1**



---

archive/issue_events_058485.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-21T11:39:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58485"
}
```



---

archive/issue_events_058486.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-21T11:39:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58486"
}
```



---

archive/issue_comments_030623.json:
```json
{
    "body": "Changed reviewer from **Mike Hansen** to **Mike Hansen, Franco Saliola**",
    "created_at": "2009-10-21T12:19:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30623",
    "user": "https://github.com/seblabbe"
}
```

Changed reviewer from **Mike Hansen** to **Mike Hansen, Franco Saliola**



---

archive/issue_events_058487.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-21T12:19:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "milestone_number": null,
    "milestone_title": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-58487"
}
```



---

archive/issue_comments_030624.json:
```json
{
    "body": "Changed author from **Sebastien Labbe** to **S\u00e9bastien Labb\u00e9**",
    "created_at": "2016-04-15T19:30:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-30624",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **Sebastien Labbe** to **Sébastien Labbé**
