# Issue 5038: Add support for word path

archive/issues_005038.json:
```json
{
    "body": "This module implements word paths which belongs to Discrete Geometry seen from Combinatorics on Words point of view. A word path is the representation of a word\nas a discrete path in a two (or more) dimensions space using a one-to-one\ncorrespondence between the alphabet and a set of vectors called steps. Using combinatorics on words, many problems on discrete polygons on 2d lattice grid may be solved in linear time in length of the perimeter (self-intersecting, area, inertia moment, etc.). For now, the goal is to create all the classes hierarchy. Cool algorithms will come into an other ticket.\n\nHere are some examples taken from the documentation of the current state of paths.py available in the sage-combinat tree.\n\nThe combinatorial class of all paths defined over three given steps:\n\n```\nsage: P = WordPaths('abc', steps=[(1,2), (-3,4), (0,-3)]); P\nFinite Word Paths over 3 steps\n```\n\nCreation of a path from the combinatorial class P:\n\n```\nsage: p = P('abaccba'); p\nPath: abaccba\nsage: list(p.points())\n[(0, 0), (1, 2), (-2, 6), (-1, 8), (-1, 5), (-1, 2), (-4, 6), (-3, 8)]\nsage: p.is_closed()\nFalse\nsage: p.plot() \n```\n\nSince p is a finite word, many functions from the word library are available:\n\n```\nsage: p.crochemore_factorization()\n(a.b.a.c.c.ba)\nsage: p.is_palindrome()\nFalse\nsage: p[:3]\nPath: aba\nsage: len(p)\n7 \n```\n\nSome built-in combinatorial classes of paths:\n\n```\nsage: P = WordPaths('abAB', steps='square_grid'); P\nFinite Word Paths on the square grid\n```\n\n```\nsage: D = WordPaths('()', steps='dyck'); D\nFinite Dyck paths\nsage: d = D('()()()(())'); d\nPath: ()()()(())\nsage: d.plot()\n```\n\n```\nsage: P = WordPaths('abcdef', steps='triangle_grid')\nsage: p = P('babaddefadabcadefaadfafabacdefa')\nsage: p.plot() \n```\n\n**Assignee:** @seblabbe\n\n**CC:**  sage-combinat @saliola abmasse\n\n**Reviewer:** Mike Hansen, Franco Saliola\n\n**Author:** S\u00e9bastien Labb\u00e9\n\n**Merged:** sage-4.2.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/5038\n\n",
    "closed_at": "2009-10-21T11:39:23Z",
    "created_at": "2009-01-20T19:56:41Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.2",
    "title": "Add support for word path",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/5038",
    "user": "https://github.com/seblabbe"
}
```
This module implements word paths which belongs to Discrete Geometry seen from Combinatorics on Words point of view. A word path is the representation of a word
as a discrete path in a two (or more) dimensions space using a one-to-one
correspondence between the alphabet and a set of vectors called steps. Using combinatorics on words, many problems on discrete polygons on 2d lattice grid may be solved in linear time in length of the perimeter (self-intersecting, area, inertia moment, etc.). For now, the goal is to create all the classes hierarchy. Cool algorithms will come into an other ticket.

Here are some examples taken from the documentation of the current state of paths.py available in the sage-combinat tree.

The combinatorial class of all paths defined over three given steps:

```
sage: P = WordPaths('abc', steps=[(1,2), (-3,4), (0,-3)]); P
Finite Word Paths over 3 steps
```

Creation of a path from the combinatorial class P:

```
sage: p = P('abaccba'); p
Path: abaccba
sage: list(p.points())
[(0, 0), (1, 2), (-2, 6), (-1, 8), (-1, 5), (-1, 2), (-4, 6), (-3, 8)]
sage: p.is_closed()
False
sage: p.plot() 
```

Since p is a finite word, many functions from the word library are available:

```
sage: p.crochemore_factorization()
(a.b.a.c.c.ba)
sage: p.is_palindrome()
False
sage: p[:3]
Path: aba
sage: len(p)
7 
```

Some built-in combinatorial classes of paths:

```
sage: P = WordPaths('abAB', steps='square_grid'); P
Finite Word Paths on the square grid
```

```
sage: D = WordPaths('()', steps='dyck'); D
Finite Dyck paths
sage: d = D('()()()(())'); d
Path: ()()()(())
sage: d.plot()
```

```
sage: P = WordPaths('abcdef', steps='triangle_grid')
sage: p = P('babaddefadabcadefaadfafabacdefa')
sage: p.plot() 
```

**Assignee:** @seblabbe

**CC:**  sage-combinat @saliola abmasse

**Reviewer:** Mike Hansen, Franco Saliola

**Author:** Sébastien Labbé

**Merged:** sage-4.2.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/5038





---

archive/issue_events_030817.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-01-20T19:58:48Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "rename": {
        "from": "Add word path support",
        "to": "Add support for word path"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30817"
}
```



---

archive/issue_events_030818.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-01-20T19:58:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30818"
}
```



---

archive/issue_events_030819.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-01-20T19:58:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30819"
}
```



---

archive/issue_comments_031740.json:
```json
{
    "body": "<a id='comment:3'></a>\nI just uploaded a patch, but I forgot to do some stuff. Will upload another patch soon.",
    "created_at": "2009-09-07T23:02:01Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31740",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:3'></a>
I just uploaded a patch, but I forgot to do some stuff. Will upload another patch soon.



---

archive/issue_events_030820.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-07T23:02:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30820"
}
```



---

archive/issue_events_030821.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-13T14:43:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30821"
}
```



---

archive/issue_events_030822.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-13T14:43:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30822"
}
```



---

archive/issue_events_030823.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-13T14:43:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30823"
}
```



---

archive/issue_comments_031741.json:
```json
{
    "body": "<a id='comment:4'></a>\nI refreshed the patch. Needs review !!\n\n...Should I do something somewhere so that `sage/combinat/words/paths.py` get added to the documentation?",
    "created_at": "2009-09-13T14:43:57Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31741",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:4'></a>
I refreshed the patch. Needs review !!

...Should I do something somewhere so that `sage/combinat/words/paths.py` get added to the documentation?



---

archive/issue_comments_031742.json:
```json
{
    "body": "<a id='comment:5'></a>\nI updated the patch after #6903 reviews.",
    "created_at": "2009-09-17T18:09:46Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31742",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:5'></a>
I updated the patch after #6903 reviews.



---

archive/issue_events_030824.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-18T14:33:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30824"
}
```



---

archive/issue_comments_031743.json:
```json
{
    "body": "<a id='comment:6'></a>\nI just realized that the doctest coverage is not perfect right now. Will post a new patch soon.",
    "created_at": "2009-09-18T14:33:27Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31743",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:6'></a>
I just realized that the doctest coverage is not perfect right now. Will post a new patch soon.



---

archive/issue_comments_031744.json:
```json
{
    "body": "Depends on #6903.",
    "created_at": "2009-09-18T21:29:33Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31744",
    "user": "https://github.com/seblabbe"
}
```

Depends on #6903.



---

archive/attachments_005647.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_5038_paths-sl.patch",
    "asset_url": "tarball://root/attachments/ticket5038/trac_5038_paths-sl.patch",
    "created_at": "2009-09-18T21:31:38Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket5038/trac_5038_paths-sl.patch",
    "user": "https://github.com/seblabbe"
}
```



---

archive/issue_comments_031745.json:
```json
{
    "body": "<a id='comment:7'></a>\nAttachment [trac_5038_paths-sl.patch](https://github.com/sagemath/sage/files/ticket5038/trac_5038_paths-sl.patch) by @seblabbe created at 2009-09-18 21:31:38\n\nNew patch uploaded. Doctest coverage of paths.py : 100%. Added paths.py to the documentation.",
    "created_at": "2009-09-18T21:31:38Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31745",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:7'></a>
Attachment [trac_5038_paths-sl.patch](https://github.com/sagemath/sage/files/ticket5038/trac_5038_paths-sl.patch) by @seblabbe created at 2009-09-18 21:31:38

New patch uploaded. Doctest coverage of paths.py : 100%. Added paths.py to the documentation.



---

archive/issue_events_030825.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-18T21:38:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30825"
}
```



---

archive/issue_events_030826.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-18T21:38:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30826"
}
```



---

archive/issue_comments_031746.json:
```json
{
    "body": "<a id='comment:8'></a>\nNeeds review!",
    "created_at": "2009-09-18T21:38:51Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31746",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:8'></a>
Needs review!



---

archive/issue_comments_031747.json:
```json
{
    "body": "<a id='comment:9'></a>\nLooks good to me.  I attached a patch to remove the import of GridLines since it isn't used.",
    "created_at": "2009-09-26T03:33:14Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31747",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:9'></a>
Looks good to me.  I attached a patch to remove the import of GridLines since it isn't used.



---

archive/issue_comments_031748.json:
```json
{
    "body": "**Author:** Sebastien Labbe",
    "created_at": "2009-09-26T03:33:14Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31748",
    "user": "https://github.com/mwhansen"
}
```

**Author:** Sebastien Labbe



---

archive/issue_comments_031749.json:
```json
{
    "body": "**Reviewer:** Mike Hansen",
    "created_at": "2009-09-26T03:33:14Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31749",
    "user": "https://github.com/mwhansen"
}
```

**Reviewer:** Mike Hansen



---

archive/issue_events_030827.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-09-26T03:33:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30827"
}
```



---

archive/issue_events_030828.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-09-26T03:33:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30828"
}
```



---

archive/attachments_005648.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_5038-remove-gridlines.patch",
    "asset_url": "tarball://root/attachments/ticket5038/trac_5038-remove-gridlines.patch",
    "created_at": "2009-09-26T03:33:53Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket5038/trac_5038-remove-gridlines.patch",
    "user": "https://github.com/mwhansen"
}
```



---

archive/issue_comments_031750.json:
```json
{
    "body": "Attachment [trac_5038-remove-gridlines.patch](https://github.com/sagemath/sage/files/ticket5038/trac_5038-remove-gridlines.patch) by @mwhansen created at 2009-09-26 03:33:53",
    "created_at": "2009-09-26T03:33:53Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31750",
    "user": "https://github.com/mwhansen"
}
```

Attachment [trac_5038-remove-gridlines.patch](https://github.com/sagemath/sage/files/ticket5038/trac_5038-remove-gridlines.patch) by @mwhansen created at 2009-09-26 03:33:53



---

archive/issue_events_030829.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-09-26T06:19:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30829"
}
```



---

archive/issue_events_030830.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-09-26T06:19:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30830"
}
```



---

archive/issue_comments_031751.json:
```json
{
    "body": "<a id='comment:10'></a>\nI got the following doctest failure:\n\n```\nsage -t -long devel/sage/sage/structure/sage_object.pyx\n**********************************************************************\nFile \"/scratch/mvngu/release/sage-4.1.2.alpha2/devel/sage-main/sage/structure/sage_object.pyx\", line 931:\n    sage: sage.structure.sage_object.unpickle_all(std)\nExpected:\n    doctest:...: DeprecationWarning: RQDF is deprecated; use RealField(212) instead.\n    Successfully unpickled 572 objects.\n    Failed to unpickle 0 objects.\nGot:\n    doctest:1: DeprecationWarning: Your word object is saved in an old file format since FiniteWord_over_OrderedAlphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing \"word.save(filename)\" to ensure that it will load in future versions of Sage.\n    ** failed:  _class__sage_combinat_words_utils_Factorization__.sobj\n    doctest:1: DeprecationWarning: Your word object is saved in an old file format since AbstractWord is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing \"word.save(filename)\" to ensure that it will load in future versions of Sage.\n    doctest:1: DeprecationWarning: Your word object is saved in an old file format since Word_over_Alphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing \"word.save(filename)\" to ensure that it will load in future versions of Sage.\n    doctest:1: DeprecationWarning: Your word object is saved in an old file format since Word_over_OrderedAlphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing \"word.save(filename)\" to ensure that it will load in future versions of Sage.\n    doctest:1: DeprecationWarning: ChristoffelWord_Lower is deprecated, use LowerChristoffelWord instead\n    doctest:1172: DeprecationWarning: RQDF is deprecated; use RealField(212) instead.\n    Failed:\n    _class__sage_combinat_words_utils_Factorization__.sobj\n    Successfully unpickled 571 objects.\n    Failed to unpickle 1 objects.\n**********************************************************************\n1 items had failures:\n   1 of   7 in __main__.example_21\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /home/mvngu/.sage//tmp/.doctest_sage_object.py\n\t [6.3 s]\n```",
    "created_at": "2009-09-26T06:19:46Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31751",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:10'></a>
I got the following doctest failure:

```
sage -t -long devel/sage/sage/structure/sage_object.pyx
**********************************************************************
File "/scratch/mvngu/release/sage-4.1.2.alpha2/devel/sage-main/sage/structure/sage_object.pyx", line 931:
    sage: sage.structure.sage_object.unpickle_all(std)
Expected:
    doctest:...: DeprecationWarning: RQDF is deprecated; use RealField(212) instead.
    Successfully unpickled 572 objects.
    Failed to unpickle 0 objects.
Got:
    doctest:1: DeprecationWarning: Your word object is saved in an old file format since FiniteWord_over_OrderedAlphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing "word.save(filename)" to ensure that it will load in future versions of Sage.
    ** failed:  _class__sage_combinat_words_utils_Factorization__.sobj
    doctest:1: DeprecationWarning: Your word object is saved in an old file format since AbstractWord is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing "word.save(filename)" to ensure that it will load in future versions of Sage.
    doctest:1: DeprecationWarning: Your word object is saved in an old file format since Word_over_Alphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing "word.save(filename)" to ensure that it will load in future versions of Sage.
    doctest:1: DeprecationWarning: Your word object is saved in an old file format since Word_over_OrderedAlphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing "word.save(filename)" to ensure that it will load in future versions of Sage.
    doctest:1: DeprecationWarning: ChristoffelWord_Lower is deprecated, use LowerChristoffelWord instead
    doctest:1172: DeprecationWarning: RQDF is deprecated; use RealField(212) instead.
    Failed:
    _class__sage_combinat_words_utils_Factorization__.sobj
    Successfully unpickled 571 objects.
    Failed to unpickle 1 objects.
**********************************************************************
1 items had failures:
   1 of   7 in __main__.example_21
***Test Failed*** 1 failures.
For whitespace errors, see the file /home/mvngu/.sage//tmp/.doctest_sage_object.py
	 [6.3 s]
```



---

archive/issue_comments_031752.json:
```json
{
    "body": "Applies over the precedent 2 patches.",
    "created_at": "2009-09-29T12:21:00Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31752",
    "user": "https://github.com/seblabbe"
}
```

Applies over the precedent 2 patches.



---

archive/attachments_005649.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_5038_pickle_jar_fix-sl.patch",
    "asset_url": "tarball://root/attachments/ticket5038/trac_5038_pickle_jar_fix-sl.patch",
    "created_at": "2009-09-29T12:24:44Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket5038/trac_5038_pickle_jar_fix-sl.patch",
    "user": "https://github.com/seblabbe"
}
```



---

archive/issue_comments_031753.json:
```json
{
    "body": "<a id='comment:11'></a>\nAttachment [trac_5038_pickle_jar_fix-sl.patch](https://github.com/sagemath/sage/files/ticket5038/trac_5038_pickle_jar_fix-sl.patch) by @seblabbe created at 2009-09-29 12:24:44\n\nThe above failure is now fixed by the patch I just uploaded. Needs review.",
    "created_at": "2009-09-29T12:24:44Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31753",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:11'></a>
Attachment [trac_5038_pickle_jar_fix-sl.patch](https://github.com/sagemath/sage/files/ticket5038/trac_5038_pickle_jar_fix-sl.patch) by @seblabbe created at 2009-09-29 12:24:44

The above failure is now fixed by the patch I just uploaded. Needs review.



---

archive/issue_events_030831.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-29T12:24:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30831"
}
```



---

archive/issue_events_030832.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-09-29T12:24:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30832"
}
```



---

archive/issue_events_030833.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-13T10:06:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30833"
}
```



---

archive/issue_events_030834.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-13T10:06:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30834"
}
```



---

archive/issue_comments_031754.json:
```json
{
    "body": "<a id='comment:12'></a>\nI am reviewing my own patch... There is something I dislike in the patch that I would like to discuss before including it into Sage. There are pros and cons for having a word path being a word. One thing I dislike right now is the pollution on the tab completion :\n\n```\nsage: P = WordPaths('abcd')\nsage: p = P('aaaaa')\nsage: p.\nDisplay all 146 possibilities? (y or n)\n```\n\nwhereas it could be something like below if a word path wouldn't inherit from `FiniteWord` (but still from `WordDatatype` :\n\n```\nsage: P = WordPaths('abcd')\nsage: p = P('abbbbccd')\nsage: p.\np.animate           p.find              p.points\np.area              p.has_prefix        p.rename\np.category          p.has_suffix        p.reset_name\np.count             p.is_closed         p.rfind\np.db                p.is_prefix         p.save\np.directive_vector  p.is_simple         p.start_point\np.dump              p.is_suffix         p.tikz_trajectory\np.dumps             p.length            p.version\np.end_point         p.plot          \n```\n\nBut since I still want to know if a wordpath is a palindrome and other questions already implemented for words, something like below could exist :\n\n```\nsage: P = WordPaths('abcd')\nsage: p = P('abbbbccd')\nsage: p.to_word()\nsage: p.\nDisplay all 146 possibilities? (y or n)\nsage: p.is_palindrome()\nFalse\n```\n\nOf course I would want the `to_word` to be constant time (no copy) : I am thinking of simply adding the `FiniteWord` class to the base classes of `p`.\n\n\nFranco, Mike Hansen : Do you have any comments ? I am sure you have useful ideas I could use!\n\nThank you,\n\nS\u00e9bastien",
    "created_at": "2009-10-13T10:06:41Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31754",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:12'></a>
I am reviewing my own patch... There is something I dislike in the patch that I would like to discuss before including it into Sage. There are pros and cons for having a word path being a word. One thing I dislike right now is the pollution on the tab completion :

```
sage: P = WordPaths('abcd')
sage: p = P('aaaaa')
sage: p.
Display all 146 possibilities? (y or n)
```

whereas it could be something like below if a word path wouldn't inherit from `FiniteWord` (but still from `WordDatatype` :

```
sage: P = WordPaths('abcd')
sage: p = P('abbbbccd')
sage: p.
p.animate           p.find              p.points
p.area              p.has_prefix        p.rename
p.category          p.has_suffix        p.reset_name
p.count             p.is_closed         p.rfind
p.db                p.is_prefix         p.save
p.directive_vector  p.is_simple         p.start_point
p.dump              p.is_suffix         p.tikz_trajectory
p.dumps             p.length            p.version
p.end_point         p.plot          
```

But since I still want to know if a wordpath is a palindrome and other questions already implemented for words, something like below could exist :

```
sage: P = WordPaths('abcd')
sage: p = P('abbbbccd')
sage: p.to_word()
sage: p.
Display all 146 possibilities? (y or n)
sage: p.is_palindrome()
False
```

Of course I would want the `to_word` to be constant time (no copy) : I am thinking of simply adding the `FiniteWord` class to the base classes of `p`.


Franco, Mike Hansen : Do you have any comments ? I am sure you have useful ideas I could use!

Thank you,

Sébastien



---

archive/issue_comments_031755.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [slabbe](#comment%3A12):\n\n> But since I still want to know if a wordpath is a palindrome and other questions already implemented for words, something like below could exist :\n\n\nYou need to decide whether or not a \"wordpath\" is a word. If it is, then it\nshould inherit all the methods. A user will be totally confused if it is\nsupposed to be a word but doesn't behave like one.\n\nIf it is not a word, then having a `to_word` method is fine, but it\nneeds to return a word. In your suggestion, it returns `None` but this\nis unusual since most `to_*` methods in Sage (at least in combinatorics\ncode) do not modify the original object but return a new object. \n\nPerhaps you want to work with paths instead of word paths?\n\n\n> Of course I would want the `to_word` to be constant time (no copy) : I am thinking of simply adding the `FiniteWord` class to the base classes of `p`.\n\n\nThe creation of u in the following is constant time:\n\n```\nsage: w = Word([0,1,1,0,1,0,0,1])\nsage: u = Word(w._data)\n```\n\nHope this helps.",
    "created_at": "2009-10-15T15:21:10Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31755",
    "user": "https://github.com/saliola"
}
```

<a id='comment:13'></a>
Replying to [slabbe](#comment%3A12):

> But since I still want to know if a wordpath is a palindrome and other questions already implemented for words, something like below could exist :


You need to decide whether or not a "wordpath" is a word. If it is, then it
should inherit all the methods. A user will be totally confused if it is
supposed to be a word but doesn't behave like one.

If it is not a word, then having a `to_word` method is fine, but it
needs to return a word. In your suggestion, it returns `None` but this
is unusual since most `to_*` methods in Sage (at least in combinatorics
code) do not modify the original object but return a new object. 

Perhaps you want to work with paths instead of word paths?


> Of course I would want the `to_word` to be constant time (no copy) : I am thinking of simply adding the `FiniteWord` class to the base classes of `p`.


The creation of u in the following is constant time:

```
sage: w = Word([0,1,1,0,1,0,0,1])
sage: u = Word(w._data)
```

Hope this helps.



---

archive/attachments_005650.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_5038_improved_doc-sl.patch",
    "asset_url": "tarball://root/attachments/ticket5038/trac_5038_improved_doc-sl.patch",
    "created_at": "2009-10-20T11:24:14Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket5038/trac_5038_improved_doc-sl.patch",
    "user": "https://github.com/seblabbe"
}
```



---

archive/issue_comments_031756.json:
```json
{
    "body": "Attachment [trac_5038_improved_doc-sl.patch](https://github.com/sagemath/sage/files/ticket5038/trac_5038_improved_doc-sl.patch) by @seblabbe created at 2009-10-20 11:24:14",
    "created_at": "2009-10-20T11:24:14Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31756",
    "user": "https://github.com/seblabbe"
}
```

Attachment [trac_5038_improved_doc-sl.patch](https://github.com/sagemath/sage/files/ticket5038/trac_5038_improved_doc-sl.patch) by @seblabbe created at 2009-10-20 11:24:14



---

archive/issue_events_030835.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-20T11:28:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30835"
}
```



---

archive/issue_events_030836.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-20T11:28:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30836"
}
```



---

archive/issue_comments_031757.json:
```json
{
    "body": "<a id='comment:14'></a>\n> You need to decide whether or not a \"wordpath\" is a word. If it is, then it\n> should inherit all the methods. A user will be totally confused if it is\n> supposed to be a word but doesn't behave like one.\n\n\nI want a word path to be a word. So, I will keep it as it is.\n\n> Hope this helps.\n\n\nYes, thank you!\n\nI added a patch that improves the documentation and that suggests to use `help(p)` to get the specific word paths functions.\n\nNeeds review!",
    "created_at": "2009-10-20T11:28:33Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31757",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:14'></a>
> You need to decide whether or not a "wordpath" is a word. If it is, then it
> should inherit all the methods. A user will be totally confused if it is
> supposed to be a word but doesn't behave like one.


I want a word path to be a word. So, I will keep it as it is.

> Hope this helps.


Yes, thank you!

I added a patch that improves the documentation and that suggests to use `help(p)` to get the specific word paths functions.

Needs review!



---

archive/attachments_005651.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_5038_doc_fixes-fs.patch",
    "asset_url": "tarball://root/attachments/ticket5038/trac_5038_doc_fixes-fs.patch",
    "created_at": "2009-10-20T16:52:41Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket5038/trac_5038_doc_fixes-fs.patch",
    "user": "https://github.com/saliola"
}
```



---

archive/issue_comments_031758.json:
```json
{
    "body": "Attachment [trac_5038_doc_fixes-fs.patch](https://github.com/sagemath/sage/files/ticket5038/trac_5038_doc_fixes-fs.patch) by @saliola created at 2009-10-20 16:52:41\n\napply on top of the others",
    "created_at": "2009-10-20T16:52:41Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31758",
    "user": "https://github.com/saliola"
}
```

Attachment [trac_5038_doc_fixes-fs.patch](https://github.com/sagemath/sage/files/ticket5038/trac_5038_doc_fixes-fs.patch) by @saliola created at 2009-10-20 16:52:41

apply on top of the others



---

archive/issue_comments_031759.json:
```json
{
    "body": "<a id='comment:15'></a>\nI posted a small patch to address some errors in the documentation introduced in the last patch. Otherwise, positive review. S\u00e9bastien, take a look at my patch, and if it is okay, then change the summary to positive review.",
    "created_at": "2009-10-20T16:55:24Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31759",
    "user": "https://github.com/saliola"
}
```

<a id='comment:15'></a>
I posted a small patch to address some errors in the documentation introduced in the last patch. Otherwise, positive review. Sébastien, take a look at my patch, and if it is okay, then change the summary to positive review.



---

archive/issue_events_030837.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-21T08:53:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30837"
}
```



---

archive/issue_events_030838.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-21T08:53:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30838"
}
```



---

archive/issue_comments_031760.json:
```json
{
    "body": "<a id='comment:16'></a>\nGreat. Thanks for the grammatical corrections and for the '-' as well. I am giving positive review to your changes, so that I change the status of the ticket for positive review.",
    "created_at": "2009-10-21T08:53:00Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31760",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:16'></a>
Great. Thanks for the grammatical corrections and for the '-' as well. I am giving positive review to your changes, so that I change the status of the ticket for positive review.



---

archive/issue_comments_031761.json:
```json
{
    "body": "**Merged:** sage-4.2.alpha1",
    "created_at": "2009-10-21T11:39:23Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31761",
    "user": "https://github.com/mwhansen"
}
```

**Merged:** sage-4.2.alpha1



---

archive/issue_events_030839.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-21T11:39:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30839"
}
```



---

archive/issue_events_030840.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-21T11:39:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30840"
}
```



---

archive/issue_comments_031762.json:
```json
{
    "body": "**Changing reviewer** from \"Mike Hansen\" to \"Mike Hansen, Franco Saliola\".",
    "created_at": "2009-10-21T12:19:46Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31762",
    "user": "https://github.com/seblabbe"
}
```

**Changing reviewer** from "Mike Hansen" to "Mike Hansen, Franco Saliola".



---

archive/issue_events_030841.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-21T12:19:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "milestone": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30841"
}
```



---

archive/issue_events_030842.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2009-10-21T12:19:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "label": "component: combinatorics",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5038#event-30842"
}
```



---

archive/issue_comments_031763.json:
```json
{
    "body": "**Changing author** from \"Sebastien Labbe\" to \"S\u00e9bastien Labb\u00e9\".",
    "created_at": "2016-04-15T19:30:06Z",
    "issue": "https://github.com/sagemath/sage/issues/5038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5038#issuecomment-31763",
    "user": "https://github.com/fchapoton"
}
```

**Changing author** from "Sebastien Labbe" to "Sébastien Labbé".
