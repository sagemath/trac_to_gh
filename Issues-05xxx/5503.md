# Issue 5503: "cmp" method failing on objects in the pickle jar

archive/issues_005503.json:
```json
{
    "assignees": [],
    "body": "The following piece of code loads the pickle jar and tries to compare each pair of members. In my 3.4, it currently segfaults.\n\nIf sage is to have universal comparison, these comparisons should all occur without error. The next step would be to ensure that results are consistent with transitivity.\n\n```\nL=[]\nM=[]\n#change this location to point to your own pickle jar\npath=\"/usr/local/sage/default/tmp/pickle_jar-3.4\"\n\nfor n in sorted(os.listdir(path)):\n  if n.endswith(\".sobj\") and not(n in M):\n    print n\n    L.append(load(path+\"/\"+n))\n\nfor i in [1..len(L)-1]:\n    for j in range(i):\n        try:\n            _=cmp(L[i],L[j])\n        except:\n            print [i,j]\n```\n\nAssignee: **@sagetrac-cwitty**\n\nCC:  @sagetrac-jakobkroeker\n\nKeywords: **universal comparison, transitivity, coercion**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/5503_\n\n",
    "closed_at": "2017-03-08T13:19:48Z",
    "created_at": "2009-03-12T20:23:26Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "\"cmp\" method failing on objects in the pickle jar",
    "type": "issue",
    "updated_at": "2017-03-08T13:19:48Z",
    "url": "https://github.com/sagemath/sage/issues/5503",
    "user": "https://github.com/nbruin"
}
```
The following piece of code loads the pickle jar and tries to compare each pair of members. In my 3.4, it currently segfaults.

If sage is to have universal comparison, these comparisons should all occur without error. The next step would be to ensure that results are consistent with transitivity.

```
L=[]
M=[]
#change this location to point to your own pickle jar
path="/usr/local/sage/default/tmp/pickle_jar-3.4"

for n in sorted(os.listdir(path)):
  if n.endswith(".sobj") and not(n in M):
    print n
    L.append(load(path+"/"+n))

for i in [1..len(L)-1]:
    for j in range(i):
        try:
            _=cmp(L[i],L[j])
        except:
            print [i,j]
```

Assignee: **@sagetrac-cwitty**

CC:  @sagetrac-jakobkroeker

Keywords: **universal comparison, transitivity, coercion**

_Issue created by migration from https://trac.sagemath.org/ticket/5503_





---

archive/issue_events_058285.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2009-03-12T20:23:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58285"
}
```



---

archive/issue_events_058286.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2009-03-12T20:23:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58286"
}
```



---

archive/issue_events_058287.json:
```json
{
    "actor": "https://github.com/nbruin",
    "created_at": "2009-03-12T20:23:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58287"
}
```



---

archive/issue_events_058288.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58288"
}
```



---

archive/issue_events_058289.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58289"
}
```



---

archive/issue_events_058290.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58290"
}
```



---

archive/issue_events_058291.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58291"
}
```



---

archive/issue_events_058292.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58292"
}
```



---

archive/issue_events_058293.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58293"
}
```



---

archive/issue_events_058294.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58294"
}
```



---

archive/issue_events_058295.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58295"
}
```



---

archive/issue_comments_035685.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nDuplicate of #16311.",
    "created_at": "2017-03-08T13:19:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5503#issuecomment-35685",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">Comment 6</div>

Duplicate of #16311.



---

archive/issue_events_058296.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-08T13:19:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58296"
}
```



---

archive/issue_events_058297.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-08T13:19:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58297"
}
```



---

archive/issue_events_058298.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-08T13:19:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58298"
}
```



---

archive/issue_events_058299.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-08T13:19:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58299"
}
```



---

archive/issue_events_058300.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-08T13:19:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5503",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5503#event-58300"
}
```
