# Issue 5778: Get p-adic doctest coverage to 100% (depends on #5105)

archive/issues_005778.json:
```json
{
    "assignees": [
        "https://github.com/roed314"
    ],
    "body": "**Note**: \n\n* This patch depends on #5105 and will not apply otherwise.\n* It only applies to 3.4.1 at the moment. There are some whitespace changes in 3.4.2.a0 that will need to be sorted out, but I (Michael) will take care of this even if the patches get a positive review against 3.4.1 only. If someone wants to rebase this is fine by me :)\n\nAdded p-adics to the reference manual, 100% doctest coverage, converts p-adics to new coercion model, good ReST compatibility for files up to partway through padic_ZZ_pX_FM_element.pyx (alphabetically), no docbuild errors for files later alphabetically.\n\nKeywords: **doctests**\n\nComponent: **padics**\n\nAuthor: **David Roe**\n\nReviewer: **Robert Bradshaw**\n\nMerged: **4.0.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/5778_\n\n",
    "closed_at": "2009-05-11T10:38:53Z",
    "created_at": "2009-04-13T17:44:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20padics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Get p-adic doctest coverage to 100% (depends on #5105)",
    "type": "issue",
    "updated_at": "2009-06-09T08:33:30Z",
    "url": "https://github.com/sagemath/sage/issues/5778",
    "user": "https://github.com/roed314"
}
```
**Note**: 

* This patch depends on #5105 and will not apply otherwise.
* It only applies to 3.4.1 at the moment. There are some whitespace changes in 3.4.2.a0 that will need to be sorted out, but I (Michael) will take care of this even if the patches get a positive review against 3.4.1 only. If someone wants to rebase this is fine by me :)

Added p-adics to the reference manual, 100% doctest coverage, converts p-adics to new coercion model, good ReST compatibility for files up to partway through padic_ZZ_pX_FM_element.pyx (alphabetically), no docbuild errors for files later alphabetically.

Keywords: **doctests**

Component: **padics**

Author: **David Roe**

Reviewer: **Robert Bradshaw**

Merged: **4.0.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/5778_





---

archive/issue_events_068687.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2009-04-13T17:44:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "milestone_number": null,
    "milestone_title": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68687"
}
```



---

archive/issue_events_068688.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2009-04-13T17:44:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "c: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68688"
}
```



---

archive/issue_events_068689.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2009-04-13T17:44:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68689"
}
```



---

archive/issue_events_068690.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2009-04-13T17:44:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68690"
}
```



---

archive/issue_events_068691.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-13T17:44:04Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "subject": "https://github.com/roed314",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68691"
}
```



---

archive/issue_events_068692.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2009-04-13T17:46:25Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "title_is": "More p-adic doctests [with patch; needs review]",
    "title_was": "More p-adic doctests",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68692"
}
```



---

archive/issue_comments_036693.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHi David,\n\nThis patch fails to apply to my 3.4.1.rc2:\n\n```\napplying padic_doctests.patch\npatching file sage/rings/padics/factory.py\nHunk #1 FAILED at 291\nHunk #2 FAILED at 358\nHunk #3 FAILED at 483\nHunk #4 FAILED at 518\nHunk #5 FAILED at 529\nHunk #6 FAILED at 787\nHunk #7 FAILED at 805\nHunk #8 FAILED at 820\nHunk #9 FAILED at 829\nHunk #10 FAILED at 1141\nHunk #11 FAILED at 1207\nHunk #12 FAILED at 1679\nHunk #13 FAILED at 1705\nHunk #14 FAILED at 1714\nHunk #15 FAILED at 1723\nHunk #16 FAILED at 1732\nHunk #17 FAILED at 1744\nHunk #18 succeeded at 525 with fuzz 2 (offset -1295 lines).\nHunk #19 succeeded at 570 with fuzz 2 (offset -1300 lines).\nHunk #20 FAILED at 1879\nHunk #21 succeeded at 582 with fuzz 1 (offset -1307 lines).\n18 out of 23 hunks FAILED -- saving rejects to file sage/rings/padics/factory.py.rej\npatching file sage/rings/padics/padic_ZZ_pX_CA_element.pyx\nHunk #39 FAILED at 1625\n1 out of 45 hunks FAILED -- saving rejects to file sage/rings/padics/padic_ZZ_pX_CA_element.pyx.rej\npatching file sage/rings/padics/padic_printing.pyx\nHunk #1 FAILED at 19\nHunk #9 FAILED at 228\nHunk #10 FAILED at 303\nHunk #11 FAILED at 385\nHunk #13 FAILED at 519\nHunk #15 FAILED at 562\nHunk #16 succeeded at 556 with fuzz 2 (offset -107 lines).\nHunk #20 FAILED at 894\nHunk #21 FAILED at 923\nHunk #22 FAILED at 975\nHunk #23 succeeded at 797 with fuzz 1 (offset -197 lines).\n9 out of 24 hunks FAILED -- saving rejects to file sage/rings/padics/padic_printing.pyx.rej\npatch failed, unable to continue (try -v)\npatch failed, rejects left in working dir\nerrors during apply, please fix and refresh padic_doctests.patch\n```\n\nI'll try to take a look and see what's going on, but it might take a while.",
    "created_at": "2009-04-15T00:12:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36693",
    "user": "https://github.com/aghitza"
}
```

<div id="comment:2" align="right">comment:2</div>

Hi David,

This patch fails to apply to my 3.4.1.rc2:

```
applying padic_doctests.patch
patching file sage/rings/padics/factory.py
Hunk #1 FAILED at 291
Hunk #2 FAILED at 358
Hunk #3 FAILED at 483
Hunk #4 FAILED at 518
Hunk #5 FAILED at 529
Hunk #6 FAILED at 787
Hunk #7 FAILED at 805
Hunk #8 FAILED at 820
Hunk #9 FAILED at 829
Hunk #10 FAILED at 1141
Hunk #11 FAILED at 1207
Hunk #12 FAILED at 1679
Hunk #13 FAILED at 1705
Hunk #14 FAILED at 1714
Hunk #15 FAILED at 1723
Hunk #16 FAILED at 1732
Hunk #17 FAILED at 1744
Hunk #18 succeeded at 525 with fuzz 2 (offset -1295 lines).
Hunk #19 succeeded at 570 with fuzz 2 (offset -1300 lines).
Hunk #20 FAILED at 1879
Hunk #21 succeeded at 582 with fuzz 1 (offset -1307 lines).
18 out of 23 hunks FAILED -- saving rejects to file sage/rings/padics/factory.py.rej
patching file sage/rings/padics/padic_ZZ_pX_CA_element.pyx
Hunk #39 FAILED at 1625
1 out of 45 hunks FAILED -- saving rejects to file sage/rings/padics/padic_ZZ_pX_CA_element.pyx.rej
patching file sage/rings/padics/padic_printing.pyx
Hunk #1 FAILED at 19
Hunk #9 FAILED at 228
Hunk #10 FAILED at 303
Hunk #11 FAILED at 385
Hunk #13 FAILED at 519
Hunk #15 FAILED at 562
Hunk #16 succeeded at 556 with fuzz 2 (offset -107 lines).
Hunk #20 FAILED at 894
Hunk #21 FAILED at 923
Hunk #22 FAILED at 975
Hunk #23 succeeded at 797 with fuzz 1 (offset -197 lines).
9 out of 24 hunks FAILED -- saving rejects to file sage/rings/padics/padic_printing.pyx.rej
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh padic_doctests.patch
```

I'll try to take a look and see what's going on, but it might take a while.



---

archive/issue_comments_036694.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThis patch does not import particularly well:\n\n```\nmabshoff@sage:/scratch/mabshoff/sage-3.4.1.rc3/devel/sage$ hg import padic_doctests.patch \napplying padic_doctests.patch\npatching file sage/rings/padics/factory.py\nHunk #1 FAILED at 291\nHunk #2 FAILED at 358\nHunk #3 FAILED at 483\nHunk #4 FAILED at 518\nHunk #5 FAILED at 529\nHunk #6 FAILED at 787\nHunk #7 FAILED at 805\nHunk #8 FAILED at 820\nHunk #9 FAILED at 829\nHunk #10 FAILED at 1141\nHunk #11 FAILED at 1207\nHunk #12 FAILED at 1679\nHunk #13 FAILED at 1705\nHunk #14 FAILED at 1714\nHunk #15 FAILED at 1723\nHunk #16 FAILED at 1732\nHunk #17 FAILED at 1744\nHunk #18 succeeded at 525 with fuzz 2 (offset -1295 lines).\nHunk #19 succeeded at 570 with fuzz 2 (offset -1300 lines).\nHunk #20 FAILED at 1879\nHunk #21 succeeded at 582 with fuzz 1 (offset -1307 lines).\n18 out of 23 hunks FAILED -- saving rejects to file sage/rings/padics/factory.py.rej\npatching file sage/rings/padics/padic_ZZ_pX_CA_element.pyx\nHunk #39 FAILED at 1625\n1 out of 45 hunks FAILED -- saving rejects to file sage/rings/padics/padic_ZZ_pX_CA_element.pyx.rej\npatching file sage/rings/padics/padic_printing.pyx\nHunk #1 FAILED at 19\nHunk #9 FAILED at 228\nHunk #10 FAILED at 303\nHunk #11 FAILED at 385\nHunk #13 FAILED at 519\nHunk #15 FAILED at 562\nHunk #16 succeeded at 556 with fuzz 2 (offset -107 lines).\nHunk #20 FAILED at 894\nHunk #21 FAILED at 923\nHunk #22 FAILED at 975\nHunk #23 succeeded at 797 with fuzz 1 (offset -197 lines).\n9 out of 24 hunks FAILED -- saving rejects to file sage/rings/padics/padic_printing.pyx.rej\nabort: patch failed to apply\n```\n\nI am not sure if there is a missing dependency. \n\nDavid: any ideas?\n\nCheers,\n\nMichael",
    "created_at": "2009-04-15T01:16:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36694",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:3" align="right">comment:3</div>

This patch does not import particularly well:

```
mabshoff@sage:/scratch/mabshoff/sage-3.4.1.rc3/devel/sage$ hg import padic_doctests.patch 
applying padic_doctests.patch
patching file sage/rings/padics/factory.py
Hunk #1 FAILED at 291
Hunk #2 FAILED at 358
Hunk #3 FAILED at 483
Hunk #4 FAILED at 518
Hunk #5 FAILED at 529
Hunk #6 FAILED at 787
Hunk #7 FAILED at 805
Hunk #8 FAILED at 820
Hunk #9 FAILED at 829
Hunk #10 FAILED at 1141
Hunk #11 FAILED at 1207
Hunk #12 FAILED at 1679
Hunk #13 FAILED at 1705
Hunk #14 FAILED at 1714
Hunk #15 FAILED at 1723
Hunk #16 FAILED at 1732
Hunk #17 FAILED at 1744
Hunk #18 succeeded at 525 with fuzz 2 (offset -1295 lines).
Hunk #19 succeeded at 570 with fuzz 2 (offset -1300 lines).
Hunk #20 FAILED at 1879
Hunk #21 succeeded at 582 with fuzz 1 (offset -1307 lines).
18 out of 23 hunks FAILED -- saving rejects to file sage/rings/padics/factory.py.rej
patching file sage/rings/padics/padic_ZZ_pX_CA_element.pyx
Hunk #39 FAILED at 1625
1 out of 45 hunks FAILED -- saving rejects to file sage/rings/padics/padic_ZZ_pX_CA_element.pyx.rej
patching file sage/rings/padics/padic_printing.pyx
Hunk #1 FAILED at 19
Hunk #9 FAILED at 228
Hunk #10 FAILED at 303
Hunk #11 FAILED at 385
Hunk #13 FAILED at 519
Hunk #15 FAILED at 562
Hunk #16 succeeded at 556 with fuzz 2 (offset -107 lines).
Hunk #20 FAILED at 894
Hunk #21 FAILED at 923
Hunk #22 FAILED at 975
Hunk #23 succeeded at 797 with fuzz 1 (offset -197 lines).
9 out of 24 hunks FAILED -- saving rejects to file sage/rings/padics/padic_printing.pyx.rej
abort: patch failed to apply
```

I am not sure if there is a missing dependency. 

David: any ideas?

Cheers,

Michael



---

archive/issue_events_068693.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-15T02:33:29Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "title_is": "More p-adic doctests",
    "title_was": "More p-adic doctests [with patch; needs review]",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68693"
}
```



---

archive/issue_events_068694.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-15T02:33:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68694"
}
```



---

archive/issue_comments_036695.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nOops, for whatever reason I did not have #4637 in my tree - so apologies.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-15T02:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36695",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:4" align="right">comment:4</div>

Oops, for whatever reason I did not have #4637 in my tree - so apologies.

Cheers,

Michael



---

archive/issue_comments_036696.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nOk, with this patch applied:\n\n```\nsage-3.4.1.rc3/devel/sage$ patch -p1 < padic_doctests.patch \npatching file sage/rings/padics/factory.py\npatching file sage/rings/padics/padic_ZZ_pX_CA_element.pyx\npatching file sage/rings/padics/padic_ZZ_pX_CR_element.pyx\npatching file sage/rings/padics/padic_ZZ_pX_FM_element.pyx\npatching file sage/rings/padics/padic_capped_absolute_element.pyx\npatching file sage/rings/padics/padic_capped_relative_element.pxd\npatching file sage/rings/padics/padic_capped_relative_element.pyx\npatching file sage/rings/padics/padic_ext_element.pxd\npatching file sage/rings/padics/padic_ext_element.pyx\npatching file sage/rings/padics/padic_fixed_mod_element.pyx\npatching file sage/rings/padics/padic_generic.py\npatching file sage/rings/padics/padic_generic_element.pyx\npatching file sage/rings/padics/padic_printing.pyx\npatching file sage/rings/padics/pow_computer.pyx\npatching file sage/rings/padics/pow_computer_ext.pyx\n```\nWe also get:\n\n```\nOverall weighted coverage score:  38.2%\nTotal number of functions:  840\nWe need  250 more function to get to 68% coverage.\nWe need  267 more function to get to 70% coverage.\nWe need  309 more function to get to 75% coverage.\n```\nfor the padics directory **only**.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-15T02:41:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36696",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:5" align="right">comment:5</div>

Ok, with this patch applied:

```
sage-3.4.1.rc3/devel/sage$ patch -p1 < padic_doctests.patch 
patching file sage/rings/padics/factory.py
patching file sage/rings/padics/padic_ZZ_pX_CA_element.pyx
patching file sage/rings/padics/padic_ZZ_pX_CR_element.pyx
patching file sage/rings/padics/padic_ZZ_pX_FM_element.pyx
patching file sage/rings/padics/padic_capped_absolute_element.pyx
patching file sage/rings/padics/padic_capped_relative_element.pxd
patching file sage/rings/padics/padic_capped_relative_element.pyx
patching file sage/rings/padics/padic_ext_element.pxd
patching file sage/rings/padics/padic_ext_element.pyx
patching file sage/rings/padics/padic_fixed_mod_element.pyx
patching file sage/rings/padics/padic_generic.py
patching file sage/rings/padics/padic_generic_element.pyx
patching file sage/rings/padics/padic_printing.pyx
patching file sage/rings/padics/pow_computer.pyx
patching file sage/rings/padics/pow_computer_ext.pyx
```
We also get:

```
Overall weighted coverage score:  38.2%
Total number of functions:  840
We need  250 more function to get to 68% coverage.
We need  267 more function to get to 70% coverage.
We need  309 more function to get to 75% coverage.
```
for the padics directory **only**.

Cheers,

Michael



---

archive/issue_events_068695.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-15T02:49:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68695"
}
```



---

archive/issue_events_068696.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-15T02:49:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68696"
}
```



---

archive/issue_comments_036697.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThere are some slight doctesting failures:\n\n```\nThe following tests failed:\n\nsage -t -long devel/sage/sage/schemes/elliptic_curves/padics.py # 3 doctests failed\nsage -t -long devel/sage/sage/schemes/elliptic_curves/padic_lseries.py # 2 doctests failed\nsage -t -long devel/sage/sage/schemes/elliptic_curves/sha_tate.py # 2 doctests failed\nsage -t -long devel/sage/sage/schemes/elliptic_curves/ell_tate_curve.py # 4 doctests failed\nsage -t -long devel/sage/sage/rings/padics/factory.py # 2 doctests failed\nsage -t -long devel/sage/sage/rings/padics/padic_capped_relative_element.pyx # 1 doctests failed\n```\n\nCheers,\n\nMicheal",
    "created_at": "2009-04-15T02:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36697",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:6" align="right">comment:6</div>

There are some slight doctesting failures:

```
The following tests failed:

sage -t -long devel/sage/sage/schemes/elliptic_curves/padics.py # 3 doctests failed
sage -t -long devel/sage/sage/schemes/elliptic_curves/padic_lseries.py # 2 doctests failed
sage -t -long devel/sage/sage/schemes/elliptic_curves/sha_tate.py # 2 doctests failed
sage -t -long devel/sage/sage/schemes/elliptic_curves/ell_tate_curve.py # 4 doctests failed
sage -t -long devel/sage/sage/rings/padics/factory.py # 2 doctests failed
sage -t -long devel/sage/sage/rings/padics/padic_capped_relative_element.pyx # 1 doctests failed
```

Cheers,

Micheal



---

archive/issue_comments_036698.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nBouncing it to 3.4.2 - if the patch is updated, passes doctests and is reviewed there might be a chance to get this into 3.4.1.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-15T06:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36698",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:7" align="right">comment:7</div>

Bouncing it to 3.4.2 - if the patch is updated, passes doctests and is reviewed there might be a chance to get this into 3.4.1.

Cheers,

Michael



---

archive/issue_events_068697.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-15T06:58:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "milestone_number": null,
    "milestone_title": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68697"
}
```



---

archive/issue_events_068698.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-15T06:58:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "milestone_number": null,
    "milestone_title": "sage-3.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68698"
}
```



---

archive/issue_events_068699.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2009-04-17T20:37:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68699"
}
```



---

archive/issue_events_068700.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2009-04-17T20:37:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68700"
}
```



---

archive/issue_comments_036699.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nLooks much better. One trivial hashing issue (32 vs. 64 bit) needs to be fixed:\n\n```\nsage -t -long \"devel/sage/sage/rings/padics/padic_capped_relative_element.pyx\"\n**********************************************************************\nFile \"/scratch/mabshoff/sage-3.4.1.rc4/devel/sage/sage/rings/padics/padic_capped_relative_element.pyx\", line 2357:\n    sage: hash(R(-1))\nExpected:\n    1977822444\nGot:\n    95367431640624\n**********************************************************************\n```\n\nCheers,\n\nMichael",
    "created_at": "2009-04-18T03:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36699",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:9" align="right">comment:9</div>

Looks much better. One trivial hashing issue (32 vs. 64 bit) needs to be fixed:

```
sage -t -long "devel/sage/sage/rings/padics/padic_capped_relative_element.pyx"
**********************************************************************
File "/scratch/mabshoff/sage-3.4.1.rc4/devel/sage/sage/rings/padics/padic_capped_relative_element.pyx", line 2357:
    sage: hash(R(-1))
Expected:
    1977822444
Got:
    95367431640624
**********************************************************************
```

Cheers,

Michael



---

archive/issue_comments_036700.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nMichael,  are you actually reviewing this or just making sure that it applies and passes tests before it can be reviewed?  John",
    "created_at": "2009-04-18T16:22:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36700",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:10" align="right">comment:10</div>

Michael,  are you actually reviewing this or just making sure that it applies and passes tests before it can be reviewed?  John



---

archive/issue_comments_036701.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@JohnCremona](#comment:10):\n\nHi John,\n\n> Michael,  are you actually reviewing this or just making sure that it applies and passes tests before it can be reviewed?  John\n\nI am not reviewing this since I don't feel qualified, I just made sure that the patch applied and passes doctests.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-18T16:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36701",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@JohnCremona](#comment:10):

Hi John,

> Michael,  are you actually reviewing this or just making sure that it applies and passes tests before it can be reviewed?  John

I am not reviewing this since I don't feel qualified, I just made sure that the patch applied and passes doctests.

Cheers,

Michael



---

archive/issue_comments_036702.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@sagetrac-mabshoff](#comment:11):\n\n> I am not reviewing this since I don't feel qualified, I just made sure that the patch applied and passes doctests.\n\nThat's what I thought.  I'll take a look.  John",
    "created_at": "2009-04-18T16:58:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36702",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@sagetrac-mabshoff](#comment:11):

> I am not reviewing this since I don't feel qualified, I just made sure that the patch applied and passes doctests.

That's what I thought.  I'll take a look.  John



---

archive/issue_events_068701.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-04-18T20:19:44Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "title_is": "[with positive review but serious reservations] More p-adic doctests",
    "title_was": "More p-adic doctests",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68701"
}
```



---

archive/issue_comments_036703.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe patch applies and tests pass.\n\nAs I cannot view the patch (it is too big) I don't actually know what has changed.  Apparently the files have been restified, but the only way to test that would be to add them to the reference manual and try building.  I started with factory.py as that seemed pretty important.  I found that the file while partially restified on a superficial level was completely broken as far as actually processing it is concerned.  I started correcting it and got to line 430, but it is 2200 lines long and so will take a lot longer.\n\nI suggest that this patch goes in since it is a step in the right direction;  but I don't promise to even get to the end of properly getting the docs for factory.py into the manual, let alone any of the rest (ha ha ) of it.\n\nOn the positive side I not the very comprhjensive explanation of the p-adic code in a separate tutorial file which is in the reference manual;  but I think that we do need the individual files (of which there are a large number) in there too.",
    "created_at": "2009-04-18T20:19:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36703",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:13" align="right">comment:13</div>

The patch applies and tests pass.

As I cannot view the patch (it is too big) I don't actually know what has changed.  Apparently the files have been restified, but the only way to test that would be to add them to the reference manual and try building.  I started with factory.py as that seemed pretty important.  I found that the file while partially restified on a superficial level was completely broken as far as actually processing it is concerned.  I started correcting it and got to line 430, but it is 2200 lines long and so will take a lot longer.

I suggest that this patch goes in since it is a step in the right direction;  but I don't promise to even get to the end of properly getting the docs for factory.py into the manual, let alone any of the rest (ha ha ) of it.

On the positive side I not the very comprhjensive explanation of the p-adic code in a separate tutorial file which is in the reference manual;  but I think that we do need the individual files (of which there are a large number) in there too.



---

archive/issue_events_068702.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-18T22:07:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "title_is": "More p-adic doctests",
    "title_was": "[with positive review but serious reservations] More p-adic doctests",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68702"
}
```



---

archive/issue_comments_036704.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThe patch is not ready to be build with ReST, David just started changing the doctests as a step in the right direction. About 2/3 of the patch are indentation changes, the other 1/3 adds new doctests. I have taken a look a the patch via a local diff viewer since as you point out the patch is too large for trac. \n\nGiven your reservations I would like someone else to take another look, so I am setting this to \"needs review\" again. \n\nDavid is also working on subsequent patches to add more doctests and his eventual goal here is to get all of padics 100% tested and in the reference manual. It might be a good idea to stay below 256kb/patch in the future ;)\n\nCheers,\n\nMichael",
    "created_at": "2009-04-18T22:07:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36704",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:14" align="right">comment:14</div>

The patch is not ready to be build with ReST, David just started changing the doctests as a step in the right direction. About 2/3 of the patch are indentation changes, the other 1/3 adds new doctests. I have taken a look a the patch via a local diff viewer since as you point out the patch is too large for trac. 

Given your reservations I would like someone else to take another look, so I am setting this to "needs review" again. 

David is also working on subsequent patches to add more doctests and his eventual goal here is to get all of padics 100% tested and in the reference manual. It might be a good idea to stay below 256kb/patch in the future ;)

Cheers,

Michael



---

archive/issue_events_068703.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2009-04-22T10:27:41Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "milestone_number": null,
    "milestone_title": "sage-4.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68703"
}
```



---

archive/issue_events_068704.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2009-04-22T10:27:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "milestone_number": null,
    "milestone_title": "sage-3.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68704"
}
```



---

archive/issue_comments_036705.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI'm adding a bunch more doctests and breaking this up into more managable chunks (viewable at least).  If anyone wants to review this, let me know, but you probably don't want to get started quite yet.",
    "created_at": "2009-04-22T10:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36705",
    "user": "https://github.com/roed314"
}
```

<div id="comment:15" align="right">comment:15</div>

I'm adding a bunch more doctests and breaking this up into more managable chunks (viewable at least).  If anyone wants to review this, let me know, but you probably don't want to get started quite yet.



---

archive/issue_events_068705.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2009-04-22T10:27:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68705"
}
```



---

archive/issue_events_068706.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2009-04-22T10:27:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68706"
}
```



---

archive/issue_comments_036706.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@roed314](#comment:15):\n> I'm adding a bunch more doctests and breaking this up into more managable chunks (viewable at least).  If anyone wants to review this, let me know, but you probably don't want to get started quite yet.\n\nOk, could you please made a series of tickets (in case you have clear dependencies and the patches can be layered) then so that one reviewer does not end up with say 1MB total of patches to review on one ticket?\n\nFor this ticket it would be nice if you could split the ReST formatting changes from the other fixes because I am happy to review the ReST changes. Then the other new doctests and fixes should go to a followup ticket. \n\nCheers,\n\nMichael",
    "created_at": "2009-04-22T18:37:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36706",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@roed314](#comment:15):
> I'm adding a bunch more doctests and breaking this up into more managable chunks (viewable at least).  If anyone wants to review this, let me know, but you probably don't want to get started quite yet.

Ok, could you please made a series of tickets (in case you have clear dependencies and the patches can be layered) then so that one reviewer does not end up with say 1MB total of patches to review on one ticket?

For this ticket it would be nice if you could split the ReST formatting changes from the other fixes because I am happy to review the ReST changes. Then the other new doctests and fixes should go to a followup ticket. 

Cheers,

Michael



---

archive/issue_events_068707.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-24T03:18:55Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "title_is": "Get p-adic doctest coverage to 100%",
    "title_was": "More p-adic doctests",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68707"
}
```



---

archive/issue_events_068708.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-24T03:18:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68708"
}
```



---

archive/issue_events_068709.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-24T03:18:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68709"
}
```



---

archive/issue_comments_036707.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis warrants changing the summart :)\n\nDavid will post a patch set that is split up and easier to review in a short while.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-24T03:18:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36707",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:18" align="right">comment:18</div>

This warrants changing the summart :)

David will post a patch set that is split up and easier to review in a short while.

Cheers,

Michael



---

archive/issue_comments_036708.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nFor the record: This patch is not fully rebased against 3.4.1 yet, but it should be in a couple hours, so no point in attempting to apply it yet. The patch does raise coverage in the total of Sage by 2.1%, so we should really get it into 3.4.2 :)\n\nCheers,\n\nMichael",
    "created_at": "2009-04-24T04:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36708",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:19" align="right">comment:19</div>

For the record: This patch is not fully rebased against 3.4.1 yet, but it should be in a couple hours, so no point in attempting to apply it yet. The patch does raise coverage in the total of Sage by 2.1%, so we should really get it into 3.4.2 :)

Cheers,

Michael



---

archive/issue_comments_036709.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-I've added some doctests, and improved ReST compatibility.\n+Added p-adics to the reference manual, 100% doctest coverage, Good ReST compatibility for files up to partway through padic_ZZ_pX_FM_element.pyx (alphabetically), no docbuild errors for files later alphabetically.\n``````\n",
    "created_at": "2009-04-24T20:20:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36709",
    "user": "https://github.com/roed314"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-I've added some doctests, and improved ReST compatibility.
+Added p-adics to the reference manual, 100% doctest coverage, Good ReST compatibility for files up to partway through padic_ZZ_pX_FM_element.pyx (alphabetically), no docbuild errors for files later alphabetically.
``````




---

archive/issue_comments_036710.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThese are split up so that they edit different files; one should therefore be able to apply them in any order (I've given the order I applied them in).  They're now small enough to view on trac.",
    "created_at": "2009-04-24T20:20:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36710",
    "user": "https://github.com/roed314"
}
```

<div id="comment:20" align="right">comment:20</div>

These are split up so that they edit different files; one should therefore be able to apply them in any order (I've given the order I applied them in).  They're now small enough to view on trac.



---

archive/issue_comments_036711.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThe last patch fail against 3.4.1: \n\n```\npatching file sage/rings/padics/padic_generic_element.pyx\nHunk #13 FAILED at 737.\nHunk #14 succeeded at 869 (offset -3 lines).\nHunk #15 succeeded at 898 (offset -3 lines).\nHunk #16 succeeded at 930 (offset -3 lines).\nHunk #17 succeeded at 956 (offset -3 lines).\nHunk #18 FAILED at 1006.\n2 out of 18 hunks FAILED -- saving rejects to file sage/rings/padics/padic_generic_element.pyx.rej\n```\nThere are some more issues with 3.4.2.alpha0, but I can revert the changes from there and just patch them back in after merging padics instead of rebasing the patch :)\n\nOne more thing: You credit Genya Zaytman for writing doctests, but AFAIK the person has never been credited for contributing to Sage. \n\nCheers,\n\nMichael",
    "created_at": "2009-04-24T23:06:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36711",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:21" align="right">comment:21</div>

The last patch fail against 3.4.1: 

```
patching file sage/rings/padics/padic_generic_element.pyx
Hunk #13 FAILED at 737.
Hunk #14 succeeded at 869 (offset -3 lines).
Hunk #15 succeeded at 898 (offset -3 lines).
Hunk #16 succeeded at 930 (offset -3 lines).
Hunk #17 succeeded at 956 (offset -3 lines).
Hunk #18 FAILED at 1006.
2 out of 18 hunks FAILED -- saving rejects to file sage/rings/padics/padic_generic_element.pyx.rej
```
There are some more issues with 3.4.2.alpha0, but I can revert the changes from there and just patch them back in after merging padics instead of rebasing the patch :)

One more thing: You credit Genya Zaytman for writing doctests, but AFAIK the person has never been credited for contributing to Sage. 

Cheers,

Michael



---

archive/issue_comments_036712.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nOh, and these are diffs, not patches, but I will commit in David's name should he not fix this.\n\nDavid: You can use export on queue patches by the way.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-24T23:07:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36712",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:22" align="right">comment:22</div>

Oh, and these are diffs, not patches, but I will commit in David's name should he not fix this.

David: You can use export on queue patches by the way.

Cheers,

Michael



---

archive/issue_comments_036713.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Added p-adics to the reference manual, 100% doctest coverage, Good ReST compatibility for files up to partway through padic_ZZ_pX_FM_element.pyx (alphabetically), no docbuild errors for files later alphabetically.\n+Added p-adics to the reference manual, 100% doctest coverage, converts p-adics to new coercion model, good ReST compatibility for files up to partway through padic_ZZ_pX_FM_element.pyx (alphabetically), no docbuild errors for files later alphabetically.\n``````\n",
    "created_at": "2009-04-25T05:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36713",
    "user": "https://github.com/roed314"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Added p-adics to the reference manual, 100% doctest coverage, Good ReST compatibility for files up to partway through padic_ZZ_pX_FM_element.pyx (alphabetically), no docbuild errors for files later alphabetically.
+Added p-adics to the reference manual, 100% doctest coverage, converts p-adics to new coercion model, good ReST compatibility for files up to partway through padic_ZZ_pX_FM_element.pyx (alphabetically), no docbuild errors for files later alphabetically.
``````




---

archive/issue_events_068710.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-25T05:18:33Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "title_is": "Get p-adic doctest coverage to 100% (depends on #5105)",
    "title_was": "Get p-adic doctest coverage to 100%",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68710"
}
```



---

archive/issue_comments_036714.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+**Note**: This patch depends on #5105 and will not apply otherwise.\n+\n Added p-adics to the reference manual, 100% doctest coverage, converts p-adics to new coercion model, good ReST compatibility for files up to partway through padic_ZZ_pX_FM_element.pyx (alphabetically), no docbuild errors for files later alphabetically.\n``````\n",
    "created_at": "2009-04-25T05:18:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36714",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+**Note**: This patch depends on #5105 and will not apply otherwise.
+
 Added p-adics to the reference manual, 100% doctest coverage, converts p-adics to new coercion model, good ReST compatibility for files up to partway through padic_ZZ_pX_FM_element.pyx (alphabetically), no docbuild errors for files later alphabetically.
``````




---

archive/issue_comments_036715.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI am seeing three doctest failure in 3.4.1.final on sage.math:\n\n```\nsage -t -long \"devel/sage/sage/rings/integer_ring.pyx\"      \n**********************************************************************\nFile \"/scratch/mabshoff/sage-3.4.1.final/devel/sage/sage/rings/integer_ring.pyx\", line 848:\n    sage: ZZ.completion(5, 15, print_mode='bars')\nException raised:\n    Traceback (most recent call last):\n      File \"/scratch/mabshoff/sage-3.4.1.final/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/scratch/mabshoff/sage-3.4.1.final/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/scratch/mabshoff/sage-3.4.1.final/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_25[3]>\", line 1, in <module>\n        ZZ.completion(Integer(5), Integer(15), print_mode='bars')###line 848:\n    sage: ZZ.completion(5, 15, print_mode='bars')\n      File \"integer_ring.pyx\", line 840, in sage.rings.integer_ring.IntegerRing_class.completion (sage/rings/integer_ring.c:9144)\n    TypeError: completion() got an unexpected keyword argument 'print_mode'\n**********************************************************************\n1 items had failures:\n   1 of   4 in __main__.example_25\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /scratch/mabshoff/sage-3.4.1.final/tmp/.doctest_integer_ring.py\n\t [2.5 s]\nexit code: 1024\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n\tsage -t -long \"devel/sage/sage/rings/integer_ring.pyx\"\nTotal time for all tests: 2.5 seconds\nmabshoff@sage:/scratch/mabshoff/sage-3.4.1.final$ sage -t -long devel/sage/sage/rings/padics/padic_capped_relative_element.pyx # 1 doctests failed\nsage -t -long \"devel/sage/sage/rings/padics/padic_capped_relative_element.pyx\"\n**********************************************************************\nFile \"/scratch/mabshoff/sage-3.4.1.final/devel/sage/sage/rings/padics/padic_capped_relative_element.pyx\", line 2283:\n    sage: hash(R(17)) #indirect doctest\nExpected:\n    17\n    1977822444\nGot:\n    17\n**********************************************************************\n1 items had failures:\n   1 of   5 in __main__.example_57\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /scratch/mabshoff/sage-3.4.1.final/tmp/.doctest_padic_capped_relative_element.py\n\t [1.3 s]\nexit code: 1024\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n\tsage -t -long \"devel/sage/sage/rings/padics/padic_capped_relative_element.pyx\"\nTotal time for all tests: 1.3 seconds\nmabshoff@sage:/scratch/mabshoff/sage-3.4.1.final$ sage -t -long devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx # 2 doctests failed\nsage -t -long \"devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx\"\n**********************************************************************\nFile \"/scratch/mabshoff/sage-3.4.1.final/devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx\", line 667:\n    sage: _find_val_aprec_test(Zq(25,names='a'), [15, int(75), ntl_ZZ(625)])\nExpected:\n    (1, 340282366920938463463374607431768211457, 2)\nGot:\n    (4, 340282366920938463463374607431768211457, 2)\n**********************************************************************\nFile \"/scratch/mabshoff/sage-3.4.1.final/devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx\", line 699:\n    sage: _find_val_aprec_test(Zq(25,names='a'), [15, int(75), ntl_ZZ(625)]) #indirect doctest\nExpected:\n    (1, 340282366920938463463374607431768211457, 2)\nGot:\n    (4, 340282366920938463463374607431768211457, 2)\n**********************************************************************\n2 items had failures:\n   1 of   8 in __main__.example_14\n   1 of   8 in __main__.example_15\n***Test Failed*** 2 failures.\nFor whitespace errors, see the file /scratch/mabshoff/sage-3.4.1.final/tmp/.doctest_padic_ZZ_pX_element.py\n\t [1.4 s]\nexit code: 1024\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n\tsage -t -long \"devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx\"\nTotal time for all tests: 1.4 seconds\n```\n\nCheers,\n\nMichael",
    "created_at": "2009-04-25T05:28:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36715",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:25" align="right">comment:25</div>

I am seeing three doctest failure in 3.4.1.final on sage.math:

```
sage -t -long "devel/sage/sage/rings/integer_ring.pyx"      
**********************************************************************
File "/scratch/mabshoff/sage-3.4.1.final/devel/sage/sage/rings/integer_ring.pyx", line 848:
    sage: ZZ.completion(5, 15, print_mode='bars')
Exception raised:
    Traceback (most recent call last):
      File "/scratch/mabshoff/sage-3.4.1.final/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/scratch/mabshoff/sage-3.4.1.final/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/scratch/mabshoff/sage-3.4.1.final/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_25[3]>", line 1, in <module>
        ZZ.completion(Integer(5), Integer(15), print_mode='bars')###line 848:
    sage: ZZ.completion(5, 15, print_mode='bars')
      File "integer_ring.pyx", line 840, in sage.rings.integer_ring.IntegerRing_class.completion (sage/rings/integer_ring.c:9144)
    TypeError: completion() got an unexpected keyword argument 'print_mode'
**********************************************************************
1 items had failures:
   1 of   4 in __main__.example_25
***Test Failed*** 1 failures.
For whitespace errors, see the file /scratch/mabshoff/sage-3.4.1.final/tmp/.doctest_integer_ring.py
	 [2.5 s]
exit code: 1024
 
----------------------------------------------------------------------
The following tests failed:


	sage -t -long "devel/sage/sage/rings/integer_ring.pyx"
Total time for all tests: 2.5 seconds
mabshoff@sage:/scratch/mabshoff/sage-3.4.1.final$ sage -t -long devel/sage/sage/rings/padics/padic_capped_relative_element.pyx # 1 doctests failed
sage -t -long "devel/sage/sage/rings/padics/padic_capped_relative_element.pyx"
**********************************************************************
File "/scratch/mabshoff/sage-3.4.1.final/devel/sage/sage/rings/padics/padic_capped_relative_element.pyx", line 2283:
    sage: hash(R(17)) #indirect doctest
Expected:
    17
    1977822444
Got:
    17
**********************************************************************
1 items had failures:
   1 of   5 in __main__.example_57
***Test Failed*** 1 failures.
For whitespace errors, see the file /scratch/mabshoff/sage-3.4.1.final/tmp/.doctest_padic_capped_relative_element.py
	 [1.3 s]
exit code: 1024
 
----------------------------------------------------------------------
The following tests failed:


	sage -t -long "devel/sage/sage/rings/padics/padic_capped_relative_element.pyx"
Total time for all tests: 1.3 seconds
mabshoff@sage:/scratch/mabshoff/sage-3.4.1.final$ sage -t -long devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx # 2 doctests failed
sage -t -long "devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx"
**********************************************************************
File "/scratch/mabshoff/sage-3.4.1.final/devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx", line 667:
    sage: _find_val_aprec_test(Zq(25,names='a'), [15, int(75), ntl_ZZ(625)])
Expected:
    (1, 340282366920938463463374607431768211457, 2)
Got:
    (4, 340282366920938463463374607431768211457, 2)
**********************************************************************
File "/scratch/mabshoff/sage-3.4.1.final/devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx", line 699:
    sage: _find_val_aprec_test(Zq(25,names='a'), [15, int(75), ntl_ZZ(625)]) #indirect doctest
Expected:
    (1, 340282366920938463463374607431768211457, 2)
Got:
    (4, 340282366920938463463374607431768211457, 2)
**********************************************************************
2 items had failures:
   1 of   8 in __main__.example_14
   1 of   8 in __main__.example_15
***Test Failed*** 2 failures.
For whitespace errors, see the file /scratch/mabshoff/sage-3.4.1.final/tmp/.doctest_padic_ZZ_pX_element.py
	 [1.4 s]
exit code: 1024
 
----------------------------------------------------------------------
The following tests failed:


	sage -t -long "devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx"
Total time for all tests: 1.4 seconds
```

Cheers,

Michael



---

archive/issue_comments_036716.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n-**Note**: This patch depends on #5105 and will not apply otherwise.\n+**Note**: \n+\n+* This patch depends on #5105 and will not apply otherwise.\n+* It only applies to 3.4.1 at the moment. There are some whitespace changes in 3.4.2.a0 that will need to be sorted out, but I (Michael) will take care of this even if the patches get a positive review against 3.4.1 only. If someone wants to rebase this is fine by me :)\n \n Added p-adics to the reference manual, 100% doctest coverage, converts p-adics to new coercion model, good ReST compatibility for files up to partway through padic_ZZ_pX_FM_element.pyx (alphabetically), no docbuild errors for files later alphabetically.\n``````\n",
    "created_at": "2009-04-25T05:28:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36716",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
-**Note**: This patch depends on #5105 and will not apply otherwise.
+**Note**: 
+
+* This patch depends on #5105 and will not apply otherwise.
+* It only applies to 3.4.1 at the moment. There are some whitespace changes in 3.4.2.a0 that will need to be sorted out, but I (Michael) will take care of this even if the patches get a positive review against 3.4.1 only. If someone wants to rebase this is fine by me :)
 
 Added p-adics to the reference manual, 100% doctest coverage, converts p-adics to new coercion model, good ReST compatibility for files up to partway through padic_ZZ_pX_FM_element.pyx (alphabetically), no docbuild errors for files later alphabetically.
``````




---

archive/issue_comments_036717.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nFixed the first two doctest problems mabs mentioned.  I have no idea what's up with the ZZ_pX_element.py one: it doesn't occur on my machine.  Robert, any thoughts?",
    "created_at": "2009-04-25T06:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36717",
    "user": "https://github.com/roed314"
}
```

<div id="comment:26" align="right">comment:26</div>

Fixed the first two doctest problems mabs mentioned.  I have no idea what's up with the ZZ_pX_element.py one: it doesn't occur on my machine.  Robert, any thoughts?



---

archive/issue_comments_036718.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThese changes fix 5105 (as might be guessed from the dependency), but also 5076 (no need to apply the patch there, it's included in this one).",
    "created_at": "2009-04-25T07:41:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36718",
    "user": "https://github.com/roed314"
}
```

<div id="comment:27" align="right">comment:27</div>

These changes fix 5105 (as might be guessed from the dependency), but also 5076 (no need to apply the patch there, it's included in this one).



---

archive/issue_comments_036719.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI've rebased 5236 against this as well.  Want to review that one too Robert?",
    "created_at": "2009-04-25T07:52:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36719",
    "user": "https://github.com/roed314"
}
```

<div id="comment:28" align="right">comment:28</div>

I've rebased 5236 against this as well.  Want to review that one too Robert?



---

archive/issue_comments_036720.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI created a padics component with default asignee David.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-26T19:55:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36720",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:29" align="right">comment:29</div>

I created a padics component with default asignee David.

Cheers,

Michael



---

archive/issue_events_068711.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-04-26T19:55:16Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "subject": "https://github.com/sagetrac-mabshoff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68711"
}
```



---

archive/issue_events_068712.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2009-04-26T19:55:16Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "subject": "https://github.com/sagetrac-mabshoff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68712"
}
```



---

archive/issue_events_068713.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-26T19:55:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "c: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68713"
}
```



---

archive/issue_events_068714.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-26T19:55:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20padics",
    "label_color": "0000ff",
    "label_name": "c: padics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68714"
}
```



---

archive/issue_comments_036721.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI'll start reviewing these tomorrow.",
    "created_at": "2009-04-29T03:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36721",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:30" align="right">comment:30</div>

I'll start reviewing these tomorrow.



---

archive/issue_comments_036722.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nFYI: #5864 touches code the above patch touches.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-29T23:29:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36722",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:31" align="right">comment:31</div>

FYI: #5864 touches code the above patch touches.

Cheers,

Michael



---

archive/issue_comments_036723.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@sagetrac-mabshoff](#comment:31):\n> FYI: #5864 touches code the above patch touches.\n\nSorry, I meant #5846 and it does **not** - sorry for the noise :)\n\n> Cheers,\n> \n> Michael\n\nCheers,\n\nMichael",
    "created_at": "2009-04-30T00:07:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36723",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@sagetrac-mabshoff](#comment:31):
> FYI: #5864 touches code the above patch touches.

Sorry, I meant #5846 and it does **not** - sorry for the noise :)

> Cheers,
> 
> Michael

Cheers,

Michael



---

archive/issue_comments_036724.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nOnce this is merged #610 should be closed.",
    "created_at": "2009-04-30T00:56:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36724",
    "user": "https://github.com/roed314"
}
```

<div id="comment:33" align="right">comment:33</div>

Once this is merged #610 should be closed.



---

archive/issue_comments_036725.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nCould you post a summary of how things got moved around (e.g. for every file deleted, where, if anywhere, the deleted code got put?)",
    "created_at": "2009-05-01T07:43:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36725",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:34" align="right">comment:34</div>

Could you post a summary of how things got moved around (e.g. for every file deleted, where, if anywhere, the deleted code got put?)



---

archive/issue_comments_036726.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nCertainly.\n\ncapped_absolute_generic.py, capped_relative_field_generic.py, capped_relative_generic.py, capped_relative_ring_generic.py, fixed_mod_generic.py, padic_capped_absolute_ring_generic.py, padic_capped_relative_field_generic.py, padic_capped_relative_ring_generic.py, padic_field_base_generic.py, padic_field_generic.py, padic_fixed_mod_ring_generic.py, padic_ring_base_generic.py, padic_ring_generic.py ----> generic_nodes.py\n\npadic_field_capped_relative.py, padic_ring_capped_absolute.py, padic_ring_capped_relative.py, padic_ring_fixed_mod.py ----> padic_base_leaves.py\n\nlazy_field_generic.py, lazy_generic.py, lazy_ring_generic.py, padic_field_lazy.py, padic_lazy_element.py, padic_lazy_field_generic.py, padic_lazy_generic.py, padic_lazy_ring_generic.py, padic_ring_lazy.py, valuation.py ----> deleted because lazy p-adics not supported and won't be for a while\n\nrigid_functions.pyx, rigid_functions.pxd ----> deleted because I didn't want to write the doctest and make parents.",
    "created_at": "2009-05-01T07:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36726",
    "user": "https://github.com/roed314"
}
```

<div id="comment:35" align="right">comment:35</div>

Certainly.

capped_absolute_generic.py, capped_relative_field_generic.py, capped_relative_generic.py, capped_relative_ring_generic.py, fixed_mod_generic.py, padic_capped_absolute_ring_generic.py, padic_capped_relative_field_generic.py, padic_capped_relative_ring_generic.py, padic_field_base_generic.py, padic_field_generic.py, padic_fixed_mod_ring_generic.py, padic_ring_base_generic.py, padic_ring_generic.py ----> generic_nodes.py

padic_field_capped_relative.py, padic_ring_capped_absolute.py, padic_ring_capped_relative.py, padic_ring_fixed_mod.py ----> padic_base_leaves.py

lazy_field_generic.py, lazy_generic.py, lazy_ring_generic.py, padic_field_lazy.py, padic_lazy_element.py, padic_lazy_field_generic.py, padic_lazy_generic.py, padic_lazy_ring_generic.py, padic_ring_lazy.py, valuation.py ----> deleted because lazy p-adics not supported and won't be for a while

rigid_functions.pyx, rigid_functions.pxd ----> deleted because I didn't want to write the doctest and make parents.



---

archive/issue_comments_036727.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nFirst, the patches can't be partially applied and used one at a time. But it is better than one monolithic patch. \n\nOK, the first two patches (outside-padics and deletions/moving look good). I'm all for a generic_nodes.py rather than a dozen files with three lines in them each (it makes it a lot easier to trace the code for instance). \n\nI'm most of the way through padic_doctests_1.patch--it looks good for the most part. Lots of the patch is whitespace/line wrapping--it would be nice to be able to filter stuff like this out better for review purposes. There's a fair amount of commenting stuff out/ReSTification as well, and new doctests. The only issues I've found are \n\nsage/rings/padics/eisenstein_extension_generic.py:97 - typo \"extensinos\"\n\nsage/rings/padics/factory.py:2323: def krasner_check(poly, prec): always returns True, but comments state that it's really not implemented, which is a bit worrisome.",
    "created_at": "2009-05-02T06:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36727",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:36" align="right">comment:36</div>

First, the patches can't be partially applied and used one at a time. But it is better than one monolithic patch. 

OK, the first two patches (outside-padics and deletions/moving look good). I'm all for a generic_nodes.py rather than a dozen files with three lines in them each (it makes it a lot easier to trace the code for instance). 

I'm most of the way through padic_doctests_1.patch--it looks good for the most part. Lots of the patch is whitespace/line wrapping--it would be nice to be able to filter stuff like this out better for review purposes. There's a fair amount of commenting stuff out/ReSTification as well, and new doctests. The only issues I've found are 

sage/rings/padics/eisenstein_extension_generic.py:97 - typo "extensinos"

sage/rings/padics/factory.py:2323: def krasner_check(poly, prec): always returns True, but comments state that it's really not implemented, which is a bit worrisome.



---

archive/issue_comments_036728.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nSome more comments: \n\n**padic_doctests_2.patch** \n\nlooks good, again, mostly rest/whitespace changes. \n\n**padic_doctests_3.patch**\n\n* `sage/rings/padics/padic_ZZ_pX_element.pyx:74` extraneous print statements\n\n* `sage/rings/padics/padic_base_generic.py::33`  generic `__reduce__` commented out, should probably be outright deleted if it's not used (do subclasses always override this?)\n\n* `sage/rings/padics/padic_base_generic_element.pyx:43` (nitpicky) I think it's easier to read\n\n  ```\n  \"%s + O(%s^%s)\" % (self.lift(), self.parent().prime(), self.precision_absolute())\n```\n\nthan\n   \n\n   ```\n        self.lift().str() + \" + O(\" + self.parent().prime().str() + \"^\" + self.precision_absolute().str() + \")\"\n```\n\nAlso, something I just noticed (not part of this patch). The functions `_set_to_mpz`, `_set_to_mpq` don't change self (as one would expect) but set the input parameter. Perhaps `_set_mpz_to` or something similar would be better.",
    "created_at": "2009-05-03T08:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36728",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:37" align="right">comment:37</div>

Some more comments: 

**padic_doctests_2.patch** 

looks good, again, mostly rest/whitespace changes. 

**padic_doctests_3.patch**

* `sage/rings/padics/padic_ZZ_pX_element.pyx:74` extraneous print statements

* `sage/rings/padics/padic_base_generic.py::33`  generic `__reduce__` commented out, should probably be outright deleted if it's not used (do subclasses always override this?)

* `sage/rings/padics/padic_base_generic_element.pyx:43` (nitpicky) I think it's easier to read

  ```
  "%s + O(%s^%s)" % (self.lift(), self.parent().prime(), self.precision_absolute())
```

than
   

   ```
        self.lift().str() + " + O(" + self.parent().prime().str() + "^" + self.precision_absolute().str() + ")"
```

Also, something I just noticed (not part of this patch). The functions `_set_to_mpz`, `_set_to_mpq` don't change self (as one would expect) but set the input parameter. Perhaps `_set_mpz_to` or something similar would be better.



---

archive/issue_comments_036729.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nsage/rings/padics/padic_capped_absolute_element.pyx:382\n\n```\n-            sage: R(7^5)._is_inexact_zero() \n+            sage: R(0,4)._is_inexact_zero() \n```\n\nThe former is a better example, IMHO.",
    "created_at": "2009-05-03T08:02:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36729",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:38" align="right">comment:38</div>

sage/rings/padics/padic_capped_absolute_element.pyx:382

```
-            sage: R(7^5)._is_inexact_zero() 
+            sage: R(0,4)._is_inexact_zero() 
```

The former is a better example, IMHO.



---

archive/issue_comments_036730.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nSome general remarks: \n\n* The `AUTHORS` block is not a verbatim/code block, no need for double colons. \n\n* Several docstrings are duplicated in their entirety, e.g. for a cdef function and its testing function. There really should just be one copy of the docstring, and the other should reference the first. \n\n* Some examples, e.g. for `_div_` could be more illustrative (e.g. showing that div produces multiplicative inverses would be interesting, as would dividing by non-units). \n\n* I like that there is some variety in the primes used, including big ones, but I would like to see more variety in the extension fields used. The field Q_5(a) where a is a root of `f = x^5 + 75*x^3 - 15*x^2 +125*x - 5` is used in nearly every example (i.e. over 150 times).",
    "created_at": "2009-05-03T08:09:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36730",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:39" align="right">comment:39</div>

Some general remarks: 

* The `AUTHORS` block is not a verbatim/code block, no need for double colons. 

* Several docstrings are duplicated in their entirety, e.g. for a cdef function and its testing function. There really should just be one copy of the docstring, and the other should reference the first. 

* Some examples, e.g. for `_div_` could be more illustrative (e.g. showing that div produces multiplicative inverses would be interesting, as would dividing by non-units). 

* I like that there is some variety in the primes used, including big ones, but I would like to see more variety in the extension fields used. The field Q_5(a) where a is a root of `f = x^5 + 75*x^3 - 15*x^2 +125*x - 5` is used in nearly every example (i.e. over 150 times).



---

archive/issue_comments_036731.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nThings left to do:\n\n1. Continue through the padic_ZZ_pX files and add more examples and tests using other extensions (started in padic_ZZ_pX_CR_element.pyx).\n2. Continue improving ReST compliance in files after padic_capped_absolute_element.pyx\n\nRobert, are there other files besides padic_ZZ_pX_element.pyx that you had in mind for the comment about docstrings being duplicated?",
    "created_at": "2009-05-04T09:47:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36731",
    "user": "https://github.com/roed314"
}
```

<div id="comment:40" align="right">comment:40</div>

Things left to do:

1. Continue through the padic_ZZ_pX files and add more examples and tests using other extensions (started in padic_ZZ_pX_CR_element.pyx).
2. Continue improving ReST compliance in files after padic_capped_absolute_element.pyx

Robert, are there other files besides padic_ZZ_pX_element.pyx that you had in mind for the comment about docstrings being duplicated?



---

archive/issue_comments_036732.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\n`padic_ZZ_pX_element.pyx` was the first place I noticed duplicated doctests, but it's a pattern I think I saw several times.",
    "created_at": "2009-05-06T05:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36732",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:41" align="right">comment:41</div>

`padic_ZZ_pX_element.pyx` was the first place I noticed duplicated doctests, but it's a pattern I think I saw several times.



---

archive/issue_comments_036733.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nThere's also some verbatim duplicated doctests in `sage/rings/padics/padic_ext_element.pyx`\n\nThere's no way the doctes for `long valuation_c` at `sage/rings/padics/padic_generic.py:814` is actually being tested.",
    "created_at": "2009-05-07T03:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36733",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:42" align="right">comment:42</div>

There's also some verbatim duplicated doctests in `sage/rings/padics/padic_ext_element.pyx`

There's no way the doctes for `long valuation_c` at `sage/rings/padics/padic_generic.py:814` is actually being tested.



---

archive/issue_comments_036734.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI've finished reading everything. \n\n`PowComputer_ext._pow_ZZ_tmp_demo` is basically a verbatim copy of `PowComputer_class._pow_ZZ_tmp_demo`\n\n`pAdicZZpXFMElement._teichmuller_set` and `PowComputer_ZZ_pX.teichmuller_set_c` have nearly the same exact doctest, as do `pAdicCappedRelativeElement._to_gen` and `pAdicCappedRelativeElement._pari_`. I can see why one would want to test it in both places, but it would be better to test with distinct elements. There's probably others, I just get a very deja-vu feeling reading some of these doctests...\n\nHow many more files need to be ReSTified? If its more than a one or two, lets defer doing this to a later ticket so we can focus on getting this in. \n\nYour referee patch looks good too, and does address most of my concerns.",
    "created_at": "2009-05-07T06:32:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36734",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:43" align="right">comment:43</div>

I've finished reading everything. 

`PowComputer_ext._pow_ZZ_tmp_demo` is basically a verbatim copy of `PowComputer_class._pow_ZZ_tmp_demo`

`pAdicZZpXFMElement._teichmuller_set` and `PowComputer_ZZ_pX.teichmuller_set_c` have nearly the same exact doctest, as do `pAdicCappedRelativeElement._to_gen` and `pAdicCappedRelativeElement._pari_`. I can see why one would want to test it in both places, but it would be better to test with distinct elements. There's probably others, I just get a very deja-vu feeling reading some of these doctests...

How many more files need to be ReSTified? If its more than a one or two, lets defer doing this to a later ticket so we can focus on getting this in. 

Your referee patch looks good too, and does address most of my concerns.



---

archive/issue_comments_036735.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nAbout 13 more files need improved ReSTification.\n\nI'll try to diversify the doctests for those functions in a bit.  Right now I'm working on p-adic polynomials though.  :-)",
    "created_at": "2009-05-07T06:49:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36735",
    "user": "https://github.com/roed314"
}
```

<div id="comment:44" align="right">comment:44</div>

About 13 more files need improved ReSTification.

I'll try to diversify the doctests for those functions in a bit.  Right now I'm working on p-adic polynomials though.  :-)



---

archive/issue_comments_036736.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\n\n```\nrobert$ ls sage/rings/padics/*.py* | wc\n      30      30    1192\n```\n\nSo nearly half of the files still need ReST conversion? Let's put this off to a later ticket, so we can get this one here into 4.0.",
    "created_at": "2009-05-07T07:02:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36736",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:45" align="right">comment:45</div>


```
robert$ ls sage/rings/padics/*.py* | wc
      30      30    1192
```

So nearly half of the files still need ReST conversion? Let's put this off to a later ticket, so we can get this one here into 4.0.



---

archive/issue_comments_036737.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nYep, I agree.  There are no build errors for any of them, but there are lots of files that need many ` added.",
    "created_at": "2009-05-07T07:05:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36737",
    "user": "https://github.com/roed314"
}
```

<div id="comment:46" align="right">comment:46</div>

Yep, I agree.  There are no build errors for any of them, but there are lots of files that need many ` added.



---

archive/issue_comments_036738.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nWith #5105 applied all patches apply and I am seeing one issue on sage.math:\n\n```\nsage -t -long \"devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx\"\n**********************************************************************\nFile \"/scratch/mabshoff/sage-4.0.alpha0/devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx\", line 654:\n    sage: _find_val_aprec_test(Zq(25,names='a'), [15, int(75), ntl_ZZ(625)])\nExpected:\n    (1, 340282366920938463463374607431768211457, 2)\nGot:\n    (4, 340282366920938463463374607431768211457, 2)\n**********************************************************************\n1 items had failures:\n```\nBut padic_referee_fixes_2.patch  introduces some problem since the latex() methods use mathbf() instead of ZZ or QQ for example.\n\nCheers,\n\nMichael",
    "created_at": "2009-05-10T13:40:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36738",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:47" align="right">comment:47</div>

With #5105 applied all patches apply and I am seeing one issue on sage.math:

```
sage -t -long "devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx"
**********************************************************************
File "/scratch/mabshoff/sage-4.0.alpha0/devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx", line 654:
    sage: _find_val_aprec_test(Zq(25,names='a'), [15, int(75), ntl_ZZ(625)])
Expected:
    (1, 340282366920938463463374607431768211457, 2)
Got:
    (4, 340282366920938463463374607431768211457, 2)
**********************************************************************
1 items had failures:
```
But padic_referee_fixes_2.patch  introduces some problem since the latex() methods use mathbf() instead of ZZ or QQ for example.

Cheers,

Michael



---

archive/issue_comments_036739.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nHah.  On sage.math:\n\n```\nsage: from sage.libs.ntl.all import ZZ as ntl_ZZ\nsage: ntl_ZZ(4) < 1\nTrue\nsage: ntl_ZZ(1) < 4\nTrue\n```\n\nOn my machine:\n\n```\nsage: from sage.libs.ntl.all import ZZ as ntl_ZZ\nsage: ntl_ZZ(4) < 1\nFalse\nsage: ntl_ZZ(1) < 4\nFalse\n```\n\nntl_ZZ is just comparing types.  I'll change the code to convert to Integers earlier.\n\nReplying to [@sagetrac-mabshoff](#comment:47):\n> With #5105 applied all patches apply and I am seeing one issue on sage.math:\n> \n> ```\n> sage -t -long \"devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx\"\n> **********************************************************************\n> File \"/scratch/mabshoff/sage-4.0.alpha0/devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx\", line 654:\n>     sage: _find_val_aprec_test(Zq(25,names='a'), [15, int(75), ntl_ZZ(625)])\n> Expected:\n>     (1, 340282366920938463463374607431768211457, 2)\n> Got:\n>     (4, 340282366920938463463374607431768211457, 2)\n> **********************************************************************\n> 1 items had failures:\n> ```\n> But padic_referee_fixes_2.patch  introduces some problem since the latex() methods use mathbf() instead of ZZ or QQ for example.\n> \n> Cheers,\n> \n> Michael",
    "created_at": "2009-05-11T06:17:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36739",
    "user": "https://github.com/roed314"
}
```

<div id="comment:48" align="right">comment:48</div>

Hah.  On sage.math:

```
sage: from sage.libs.ntl.all import ZZ as ntl_ZZ
sage: ntl_ZZ(4) < 1
True
sage: ntl_ZZ(1) < 4
True
```

On my machine:

```
sage: from sage.libs.ntl.all import ZZ as ntl_ZZ
sage: ntl_ZZ(4) < 1
False
sage: ntl_ZZ(1) < 4
False
```

ntl_ZZ is just comparing types.  I'll change the code to convert to Integers earlier.

Replying to [@sagetrac-mabshoff](#comment:47):
> With #5105 applied all patches apply and I am seeing one issue on sage.math:
> 
> ```
> sage -t -long "devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx"
> **********************************************************************
> File "/scratch/mabshoff/sage-4.0.alpha0/devel/sage/sage/rings/padics/padic_ZZ_pX_element.pyx", line 654:
>     sage: _find_val_aprec_test(Zq(25,names='a'), [15, int(75), ntl_ZZ(625)])
> Expected:
>     (1, 340282366920938463463374607431768211457, 2)
> Got:
>     (4, 340282366920938463463374607431768211457, 2)
> **********************************************************************
> 1 items had failures:
> ```
> But padic_referee_fixes_2.patch  introduces some problem since the latex() methods use mathbf() instead of ZZ or QQ for example.
> 
> Cheers,
> 
> Michael



---

archive/issue_comments_036740.json:
```json
{
    "body": "Attachment: **[padic_doctests_1.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_doctests_1.patch.gz)**",
    "created_at": "2009-05-11T09:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36740",
    "user": "https://github.com/roed314"
}
```

Attachment: **[padic_doctests_1.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_doctests_1.patch.gz)**



---

archive/issue_comments_036741.json:
```json
{
    "body": "Attachment: **[padic_doctests_2.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_doctests_2.patch.gz)**\n\nAttachment: **[padic_doctests_3.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_doctests_3.patch.gz)**",
    "created_at": "2009-05-11T09:20:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36741",
    "user": "https://github.com/roed314"
}
```

Attachment: **[padic_doctests_2.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_doctests_2.patch.gz)**

Attachment: **[padic_doctests_3.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_doctests_3.patch.gz)**



---

archive/issue_comments_036742.json:
```json
{
    "body": "Attachment: **[padic_doctests_4.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_doctests_4.patch.gz)**\n\nAttachment: **[padic_referee_fixes.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_referee_fixes.patch.gz)**",
    "created_at": "2009-05-11T09:21:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36742",
    "user": "https://github.com/roed314"
}
```

Attachment: **[padic_doctests_4.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_doctests_4.patch.gz)**

Attachment: **[padic_referee_fixes.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_referee_fixes.patch.gz)**



---

archive/issue_comments_036743.json:
```json
{
    "body": "Attachment: **[padic_referee_fixes_2.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_referee_fixes_2.patch.gz)**",
    "created_at": "2009-05-11T10:16:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36743",
    "user": "https://github.com/roed314"
}
```

Attachment: **[padic_referee_fixes_2.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_referee_fixes_2.patch.gz)**



---

archive/issue_comments_036744.json:
```json
{
    "body": "Attachment: **[padic_doctests_deletions.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_doctests_deletions.patch.gz)**",
    "created_at": "2009-05-11T10:19:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36744",
    "user": "https://github.com/roed314"
}
```

Attachment: **[padic_doctests_deletions.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_doctests_deletions.patch.gz)**



---

archive/issue_comments_036745.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nAttachment: **[padic_doctests_outside.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_doctests_outside.patch.gz)**\n\nI am giving this ticket a positive review in RobertWB's name. It now passes all doctests on sage.math, it applies and builds, so any more concerns should be addressed via followup tickets. Post merge we are definitely in better shape than before and given the size of this patch it seems like a good idea to get this in. With all 8 patches applied:\n\n```\nOverall weighted coverage score:  74.4%\nTotal number of functions:  21967\nWe need  133 more function to get to 75% coverage.\n```",
    "created_at": "2009-05-11T10:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36745",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:49" align="right">comment:49</div>

Attachment: **[padic_doctests_outside.patch.gz](https://github.com/sagemath/sage/files/ticket5778/padic_doctests_outside.patch.gz)**

I am giving this ticket a positive review in RobertWB's name. It now passes all doctests on sage.math, it applies and builds, so any more concerns should be addressed via followup tickets. Post merge we are definitely in better shape than before and given the size of this patch it seems like a good idea to get this in. With all 8 patches applied:

```
Overall weighted coverage score:  74.4%
Total number of functions:  21967
We need  133 more function to get to 75% coverage.
```



---

archive/issue_events_068715.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-11T10:38:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68715"
}
```



---

archive/issue_events_068716.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-11T10:38:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68716"
}
```



---

archive/issue_events_068717.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-11T10:38:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68717"
}
```



---

archive/issue_events_068718.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-05-11T10:38:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5778#event-68718"
}
```



---

archive/issue_comments_036746.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nMerged \n\n* trac_5778_padic_doctests_1.patch\n* trac_5778_padic_doctests_2.patch\n* trac_5778_padic_doctests_3.patch\n* trac_5778_padic_doctests_4.patch\n* trac_5778_padic_doctests_deletions.patch\n* trac_5778_padic_doctests_outside.patch\n* trac_5778_padic_referee_fixes_2.patch\n* trac_5778_padic_referee_fixes.patch\n\nin Sage 4.0.alpha0.\n\nCheers,\n\nMichael",
    "created_at": "2009-05-11T10:38:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36746",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:50" align="right">comment:50</div>

Merged 

* trac_5778_padic_doctests_1.patch
* trac_5778_padic_doctests_2.patch
* trac_5778_padic_doctests_3.patch
* trac_5778_padic_doctests_4.patch
* trac_5778_padic_doctests_deletions.patch
* trac_5778_padic_doctests_outside.patch
* trac_5778_padic_referee_fixes_2.patch
* trac_5778_padic_referee_fixes.patch

in Sage 4.0.alpha0.

Cheers,

Michael



---

archive/issue_comments_036747.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nTo followup now that I've had a chance to look at the last patch, yet, positive review deserved.",
    "created_at": "2009-05-11T19:24:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36747",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:51" align="right">comment:51</div>

To followup now that I've had a chance to look at the last patch, yet, positive review deserved.



---

archive/issue_comments_036748.json:
```json
{
    "body": "Reviewer: **Robert Bradshaw**",
    "created_at": "2009-06-09T08:33:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36748",
    "user": "https://github.com/loefflerd"
}
```

Reviewer: **Robert Bradshaw**



---

archive/issue_comments_036749.json:
```json
{
    "body": "Author: **David Roe**",
    "created_at": "2009-06-09T08:33:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36749",
    "user": "https://github.com/loefflerd"
}
```

Author: **David Roe**



---

archive/issue_comments_036750.json:
```json
{
    "body": "Merged: **4.0.alpha0**",
    "created_at": "2009-06-09T08:33:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5778#issuecomment-36750",
    "user": "https://github.com/loefflerd"
}
```

Merged: **4.0.alpha0**
