# Issue 5945: fastify factorization of inferior integers with flint

archive/issues_005945.json:
```json
{
    "assignees": [],
    "body": "FLINT can factor faster than PARI for integers smaller than 2<sup>50</sup> or so.  So by default, we should use FLINT for this.\n\nCC:  @zimmermann6\n\nComponent: **factorization**\n\nAuthor: **Tom Boothby, Sebastian Pancratz**\n\nReviewer: **Andr\u00e9 Apitzsch, Jeroen Demeyer**\n\nMerged: **sage-4.6.2.alpha1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/5945_\n\n",
    "closed_at": "2011-01-19T22:19:17Z",
    "created_at": "2009-04-30T06:15:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20factorization",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "fastify factorization of inferior integers with flint",
    "type": "issue",
    "updated_at": "2011-01-19T22:19:17Z",
    "url": "https://github.com/sagemath/sage/issues/5945",
    "user": "https://github.com/boothby"
}
```
FLINT can factor faster than PARI for integers smaller than 2<sup>50</sup> or so.  So by default, we should use FLINT for this.

CC:  @zimmermann6

Component: **factorization**

Author: **Tom Boothby, Sebastian Pancratz**

Reviewer: **Andr√© Apitzsch, Jeroen Demeyer**

Merged: **sage-4.6.2.alpha1**

_Issue created by migration from https://trac.sagemath.org/ticket/5945_





---

archive/issue_events_070465.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2009-04-30T06:15:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70465"
}
```



---

archive/issue_events_070466.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2009-04-30T06:15:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70466"
}
```



---

archive/issue_events_070467.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2009-04-30T06:15:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70467"
}
```



---

archive/issue_comments_038438.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-FLINT can factor faster than PARI for integers smaller than 2^50 or so.  So by default, we should use FLINT for this.\n+FLINT can factor faster than PARI for integers smaller than 2<sup>50</sup> or so.  So by default, we should use FLINT for this.\n``````\n",
    "created_at": "2009-04-30T06:15:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38438",
    "user": "https://github.com/boothby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-FLINT can factor faster than PARI for integers smaller than 2^50 or so.  So by default, we should use FLINT for this.
+FLINT can factor faster than PARI for integers smaller than 2<sup>50</sup> or so.  So by default, we should use FLINT for this.
``````




---

archive/issue_comments_038439.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nNote, we'll need an upgraded FLINT for this to work.  Among other things, FLINT exports a global variable named \"primes\".  And so does PARI.  And they don't play well with eachother.\n\nAlso, the attached code contains a bug.  And Factorization objects can be made with less overhead.",
    "created_at": "2009-04-30T06:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38439",
    "user": "https://github.com/boothby"
}
```

<div id="comment:2" align="right">comment:2</div>

Note, we'll need an upgraded FLINT for this to work.  Among other things, FLINT exports a global variable named "primes".  And so does PARI.  And they don't play well with eachother.

Also, the attached code contains a bug.  And Factorization objects can be made with less overhead.



---

archive/issue_events_070468.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2009-04-30T06:20:41Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "title_is": "fastify factorization of inferior integers with flint [in progress, do not review]",
    "title_was": "fastify factorization of inferior integers with flint",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70468"
}
```



---

archive/issue_comments_038440.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe attached fixes aforementioned bug.  New spkg coming soon.",
    "created_at": "2009-04-30T07:03:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38440",
    "user": "https://github.com/boothby"
}
```

<div id="comment:3" align="right">comment:3</div>

The attached fixes aforementioned bug.  New spkg coming soon.



---

archive/issue_events_070469.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-30T07:08:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "milestone_number": null,
    "milestone_title": "sage-4.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70469"
}
```



---

archive/issue_events_070470.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-30T07:08:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70470"
}
```



---

archive/issue_events_070471.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-04-30T07:08:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20factorization",
    "label_color": "0000ff",
    "label_name": "c: factorization",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70471"
}
```



---

archive/issue_comments_038441.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@boothby](#comment%3A3):\n> The attached fixes aforementioned bug.  New spkg coming soon.\n\nWhat is the plan here? Right now from my end I want to get the latest released upstream into 3.4.2, so it would be nice if you got your code into FLINT and then get Bill to release it. That way the Debian people won't complain ;)\n\nCheers,\n\nMichael",
    "created_at": "2009-04-30T07:08:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38441",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@boothby](#comment%3A3):
> The attached fixes aforementioned bug.  New spkg coming soon.

What is the plan here? Right now from my end I want to get the latest released upstream into 3.4.2, so it would be nice if you got your code into FLINT and then get Bill to release it. That way the Debian people won't complain ;)

Cheers,

Michael



---

archive/issue_events_070472.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-10-06T19:28:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70472"
}
```



---

archive/issue_comments_038442.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI created a new ticket #10211 for changes in long_extras.pxd, to get this fixed faster.",
    "created_at": "2010-11-04T10:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38442",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:6" align="right">comment:6</div>

I created a new ticket #10211 for changes in long_extras.pxd, to get this fixed faster.



---

archive/issue_events_070473.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2010-11-08T09:29:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70473"
}
```



---

archive/issue_events_070474.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2010-11-08T09:29:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70474"
}
```



---

archive/issue_comments_038443.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAttachment: **[5945_check_improvements.sage.gz](https://github.com/sagemath/sage/files/ticket5945/5945_check_improvements.sage.gz)**\n\nI decided to move `flint_factor` to `fast_arith.pyx`, so it can be used for `int`, too.\nTo check the improvements use [attachment: 5945_check_improvements.patch,](https://github.com/sagemath/sage/files/ticket5945/6ed53a0db37e88543c151be48e8ab7f1.gz) [attachment: 5945_check_improvements.sage](https://github.com/sagemath/sage/files/ticket5945/5945_check_improvements.sage.gz) and\n\n```\n(line(values_p)+line(values_f,color='red')).plot()\n(line(values_med_p)+line(values_med_f,color='red')).plot()\n```",
    "created_at": "2010-11-08T09:29:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38443",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:7" align="right">comment:7</div>

Attachment: **[5945_check_improvements.sage.gz](https://github.com/sagemath/sage/files/ticket5945/5945_check_improvements.sage.gz)**

I decided to move `flint_factor` to `fast_arith.pyx`, so it can be used for `int`, too.
To check the improvements use [attachment: 5945_check_improvements.patch,](https://github.com/sagemath/sage/files/ticket5945/6ed53a0db37e88543c151be48e8ab7f1.gz) [attachment: 5945_check_improvements.sage](https://github.com/sagemath/sage/files/ticket5945/5945_check_improvements.sage.gz) and

```
(line(values_p)+line(values_f,color='red')).plot()
(line(values_med_p)+line(values_med_f,color='red')).plot()
```



---

archive/issue_comments_038444.json:
```json
{
    "body": "Author: **Andr\u00e9 Apitzsch**",
    "created_at": "2010-11-08T09:29:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38444",
    "user": "https://github.com/a-andre"
}
```

Author: **Andr√© Apitzsch**



---

archive/issue_events_070475.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2010-11-08T09:33:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "title_is": "fastify factorization of inferior integers with flint",
    "title_was": "fastify factorization of inferior integers with flint [in progress, do not review]",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70475"
}
```



---

archive/issue_comments_038445.json:
```json
{
    "body": "Attachment: **[trac_5945_flintfactor.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945_flintfactor.patch.gz)**\n\napply only this patch; apply after #10211",
    "created_at": "2010-11-10T10:07:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38445",
    "user": "https://github.com/a-andre"
}
```

Attachment: **[trac_5945_flintfactor.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945_flintfactor.patch.gz)**

apply only this patch; apply after #10211



---

archive/issue_comments_038446.json:
```json
{
    "body": "Attachment: **[5945_check_improvements.patch.gz](https://github.com/sagemath/sage/files/ticket5945/5945_check_improvements.patch.gz)**\n\nonly to check improvements, not for release",
    "created_at": "2010-11-10T10:08:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38446",
    "user": "https://github.com/a-andre"
}
```

Attachment: **[5945_check_improvements.patch.gz](https://github.com/sagemath/sage/files/ticket5945/5945_check_improvements.patch.gz)**

only to check improvements, not for release



---

archive/issue_comments_038447.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\npatch updated to fix problem buildbot has\n\n```\n2010-12-03 10:18:03 -0800\nhg qpush trac_5945_factor_flint.patch\napplying trac_5945_factor_flint.patch\npatching file sage/rings/arith.py\nHunk #2 FAILED at 2076\n1 out of 2 hunks FAILED -- saving rejects to file sage/rings/arith.py.rej\npatch failed, unable to continue (try -v)\npatch failed, rejects left in working dir\nerrors during apply, please fix and refresh trac_5945_factor_flint.patch\npatch queue now empty\nNone\n2010-12-03 10:18:04 -0800\n0 seconds\n```",
    "created_at": "2010-12-06T15:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38447",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:10" align="right">comment:10</div>

patch updated to fix problem buildbot has

```
2010-12-03 10:18:03 -0800
hg qpush trac_5945_factor_flint.patch
applying trac_5945_factor_flint.patch
patching file sage/rings/arith.py
Hunk #2 FAILED at 2076
1 out of 2 hunks FAILED -- saving rejects to file sage/rings/arith.py.rej
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh trac_5945_factor_flint.patch
patch queue now empty
None
2010-12-03 10:18:04 -0800
0 seconds
```



---

archive/issue_comments_038448.json:
```json
{
    "body": "only apply this patch",
    "created_at": "2010-12-08T09:20:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38448",
    "user": "https://github.com/a-andre"
}
```

only apply this patch



---

archive/issue_events_070476.json:
```json
{
    "actor": "https://github.com/sagetrac-spancratz",
    "created_at": "2011-01-08T06:49:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70476"
}
```



---

archive/issue_events_070477.json:
```json
{
    "actor": "https://github.com/sagetrac-spancratz",
    "created_at": "2011-01-08T06:49:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70477"
}
```



---

archive/issue_comments_038449.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAttachment: **[trac_5945_factor_flint.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945_factor_flint.patch.gz)**\n\nThanks for doing this!\n\nLooking at the source code, the line ``flint_bits = int(FLINT_BITS)`` seems wrong.  You can (and should, I think) simply use FLINT_BITS directly.  Of course, this comment is rather minor.\n\nSebastian",
    "created_at": "2011-01-08T06:49:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38449",
    "user": "https://github.com/sagetrac-spancratz"
}
```

<div id="comment:11" align="right">comment:11</div>

Attachment: **[trac_5945_factor_flint.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945_factor_flint.patch.gz)**

Thanks for doing this!

Looking at the source code, the line ``flint_bits = int(FLINT_BITS)`` seems wrong.  You can (and should, I think) simply use FLINT_BITS directly.  Of course, this comment is rather minor.

Sebastian



---

archive/issue_comments_038450.json:
```json
{
    "body": "Changed author from **Andr\u00e9 Apitzsch** to **boothby, spancratz**",
    "created_at": "2011-01-10T06:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38450",
    "user": "https://github.com/boothby"
}
```

Changed author from **Andr√© Apitzsch** to **boothby, spancratz**



---

archive/issue_events_070478.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2011-01-10T06:31:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70478"
}
```



---

archive/issue_events_070479.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2011-01-10T06:31:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70479"
}
```



---

archive/issue_events_070480.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2011-01-10T07:45:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70480"
}
```



---

archive/issue_events_070481.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2011-01-10T07:45:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70481"
}
```



---

archive/issue_comments_038451.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nsegfault in arith.py",
    "created_at": "2011-01-10T07:45:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38451",
    "user": "https://github.com/boothby"
}
```

<div id="comment:13" align="right">comment:13</div>

segfault in arith.py



---

archive/issue_comments_038452.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI tried to apply your patch to 4.6.1 rc1\n\n```\napplying /scratch/sage-4.6.1rc1/trac_5945bp.patch\npatching file sage/rings/arith.py\nHunk #2 FAILED at 2290\n1 out of 2 hunks FAILED -- saving rejects to file sage/rings/arith.py.rej\npatching file sage/rings/integer.pyx\nHunk #1 FAILED at 3139\n1 out of 1 hunks FAILED -- saving rejects to file sage/rings/integer.pyx.rej\nabort: patch failed to apply\n```",
    "created_at": "2011-01-10T14:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38452",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:14" align="right">comment:14</div>

I tried to apply your patch to 4.6.1 rc1

```
applying /scratch/sage-4.6.1rc1/trac_5945bp.patch
patching file sage/rings/arith.py
Hunk #2 FAILED at 2290
1 out of 2 hunks FAILED -- saving rejects to file sage/rings/arith.py.rej
patching file sage/rings/integer.pyx
Hunk #1 FAILED at 3139
1 out of 1 hunks FAILED -- saving rejects to file sage/rings/integer.pyx.rej
abort: patch failed to apply
```



---

archive/issue_comments_038453.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nHi Andre,\n\nYes, that was an unfortunate case of Tom and I uploading the patch last night before combining it with another patch it relied on.  I have now uploaded a file ``trac_5945.patch``, which should combine everything and is to be applied on top of #10211.\n\nSebastian",
    "created_at": "2011-01-10T18:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38453",
    "user": "https://github.com/sagetrac-spancratz"
}
```

<div id="comment:15" align="right">comment:15</div>

Hi Andre,

Yes, that was an unfortunate case of Tom and I uploading the patch last night before combining it with another patch it relied on.  I have now uploaded a file ``trac_5945.patch``, which should combine everything and is to be applied on top of #10211.

Sebastian



---

archive/issue_comments_038454.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nJust in case this wasn't obvious, ``trac_5945.patch`` applies to 4.6 and ``trac_5945_461rc0.patch`` applies to 4.6.1.rc0.  Both of these depend on #10211.\n\nSebastian",
    "created_at": "2011-01-10T19:16:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38454",
    "user": "https://github.com/sagetrac-spancratz"
}
```

<div id="comment:16" align="right">comment:16</div>

Just in case this wasn't obvious, ``trac_5945.patch`` applies to 4.6 and ``trac_5945_461rc0.patch`` applies to 4.6.1.rc0.  Both of these depend on #10211.

Sebastian



---

archive/issue_events_070482.json:
```json
{
    "actor": "https://github.com/sagetrac-spancratz",
    "created_at": "2011-01-11T00:53:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70482"
}
```



---

archive/issue_events_070483.json:
```json
{
    "actor": "https://github.com/sagetrac-spancratz",
    "created_at": "2011-01-11T00:53:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70483"
}
```



---

archive/issue_comments_038455.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nAfter some cleaning up, there is now a single patch ``trac_5945.patch`` that can be applied against 4.6.1.rc0 with #10211.\n\nMorally speaking, this should be good to go.  However, sage.math.washington is currently under heavy use by Jeroen and I'll wait until tomorrow before running the complete test suite.\n\nBest wishes,\nSebastian",
    "created_at": "2011-01-11T07:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38455",
    "user": "https://github.com/sagetrac-spancratz"
}
```

<div id="comment:18" align="right">comment:18</div>

After some cleaning up, there is now a single patch ``trac_5945.patch`` that can be applied against 4.6.1.rc0 with #10211.

Morally speaking, this should be good to go.  However, sage.math.washington is currently under heavy use by Jeroen and I'll wait until tomorrow before running the complete test suite.

Best wishes,
Sebastian



---

archive/issue_comments_038456.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nYou should use the variable `flint_depends` in **module_list.py** and\n\n```\nSAGE_LOCAL+'include/FLINT/'\n```\nor\n\n```\nSAGE_INC+'FLINT/'\n```\ninstead of\n\n```\nSAGE_ROOT+'/local/include/FLINT/'\n```\n\n**arith.py**:\nremove\n\n```\nif proof is None:\n    proof = True\n```\nand let `n.factor` handle `proof=None`.\n\n**integer.pyx**: I suggest using the global default for *proof* in factor()\n\nChange\n\n```\nF = [(Integer(f.p[i]), f.exp[i]) for i from 0 <= i < f.num]\n```\nto\n\n```\nF = [(Integer(f.p[i]), int(f.exp[i])) for i from 0 <= i < f.num]\n```\nthen only following doctests fail (otherwise even more would fail, e.g. arith.py):\n\n```\nsage/misc/sageinspect.py\nsage/structure/factorization.py\n```",
    "created_at": "2011-01-11T12:19:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38456",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:19" align="right">comment:19</div>

You should use the variable `flint_depends` in **module_list.py** and

```
SAGE_LOCAL+'include/FLINT/'
```
or

```
SAGE_INC+'FLINT/'
```
instead of

```
SAGE_ROOT+'/local/include/FLINT/'
```

**arith.py**:
remove

```
if proof is None:
    proof = True
```
and let `n.factor` handle `proof=None`.

**integer.pyx**: I suggest using the global default for *proof* in factor()

Change

```
F = [(Integer(f.p[i]), f.exp[i]) for i from 0 <= i < f.num]
```
to

```
F = [(Integer(f.p[i]), int(f.exp[i])) for i from 0 <= i < f.num]
```
then only following doctests fail (otherwise even more would fail, e.g. arith.py):

```
sage/misc/sageinspect.py
sage/structure/factorization.py
```



---

archive/issue_comments_038457.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nHi Andre,\n\nThank you for the quick comments.  All of these are very sensible!  The only one I am not quite sure about is the last, where I thought the underlying FLINT structure already had f.exp[i] of the right type to that calling int(-) on it would not be necessary, but I might be wrong.\n\n(I'm not quite sure which time zone you are working in right now, so this comment might be more for Tom.)  I'm off to the gym now, but I'll have fixed this in time for lunch,\n\nSebastian",
    "created_at": "2011-01-11T16:33:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38457",
    "user": "https://github.com/sagetrac-spancratz"
}
```

<div id="comment:20" align="right">comment:20</div>

Hi Andre,

Thank you for the quick comments.  All of these are very sensible!  The only one I am not quite sure about is the last, where I thought the underlying FLINT structure already had f.exp[i] of the right type to that calling int(-) on it would not be necessary, but I might be wrong.

(I'm not quite sure which time zone you are working in right now, so this comment might be more for Tom.)  I'm off to the gym now, but I'll have fixed this in time for lunch,

Sebastian



---

archive/issue_comments_038458.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nAttachment: **[trac_5945.2.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945.2.patch.gz)**\n\nI'm sorry for adding the duplicate file ``trac_5945.2.patch``, this can be deleted from here.  The other file ``trac_5945.patch`` should now apply cleanly to 4.6.1.rc0 and pass all tests.\n\nSebastian",
    "created_at": "2011-01-12T04:15:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38458",
    "user": "https://github.com/sagetrac-spancratz"
}
```

<div id="comment:21" align="right">comment:21</div>

Attachment: **[trac_5945.2.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945.2.patch.gz)**

I'm sorry for adding the duplicate file ``trac_5945.2.patch``, this can be deleted from here.  The other file ``trac_5945.patch`` should now apply cleanly to 4.6.1.rc0 and pass all tests.

Sebastian



---

archive/issue_comments_038459.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\ntrac_5945.patch seems to be incomplete, e.g. `class IntegerFactorization(Factorization)` and comment changes are missing, thus I couldn't finish review.\n\nAnyway.\n\n*arith.py*:\nMaybe you should also pass `**kwds` to n.factor() if n is Integer, int or long, so `limit` can be used: `factor(8*49,limit=5)`",
    "created_at": "2011-01-12T13:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38459",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:22" align="right">comment:22</div>

trac_5945.patch seems to be incomplete, e.g. `class IntegerFactorization(Factorization)` and comment changes are missing, thus I couldn't finish review.

Anyway.

*arith.py*:
Maybe you should also pass `**kwds` to n.factor() if n is Integer, int or long, so `limit` can be used: `factor(8*49,limit=5)`



---

archive/issue_comments_038460.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nCan you also fix #10602 for Integer.factor(). I only mention this because it's fixed in none of the last two patches.",
    "created_at": "2011-01-12T17:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38460",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:23" align="right">comment:23</div>

Can you also fix #10602 for Integer.factor(). I only mention this because it's fixed in none of the last two patches.



---

archive/issue_comments_038461.json:
```json
{
    "body": "Attachment: **[trac_5945.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945.patch.gz)**\n\nVersion for 4.6.0",
    "created_at": "2011-01-12T19:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38461",
    "user": "https://github.com/sagetrac-spancratz"
}
```

Attachment: **[trac_5945.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945.patch.gz)**

Version for 4.6.0



---

archive/issue_comments_038462.json:
```json
{
    "body": "Attachment: **[trac_5945-461rc0.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945-461rc0.patch.gz)**\n\nVersion for 4.6.1.rc0",
    "created_at": "2011-01-12T19:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38462",
    "user": "https://github.com/sagetrac-spancratz"
}
```

Attachment: **[trac_5945-461rc0.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945-461rc0.patch.gz)**

Version for 4.6.1.rc0



---

archive/issue_comments_038463.json:
```json
{
    "body": "Fix for a remaining doctest failure in sageinspect.py",
    "created_at": "2011-01-12T20:05:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38463",
    "user": "https://github.com/sagetrac-spancratz"
}
```

Fix for a remaining doctest failure in sageinspect.py



---

archive/issue_comments_038464.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nAttachment: **[trac_5945_fix.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945_fix.patch.gz)**\n\nHi Andre,\n\nI'm sorry for the earlier patch not including the IntegerFactorization class, I don't know how that happened.  Now, there are three things to do:\n\n- Apply #10211\n- Apply either trac_5945.patch or trac_5945-461rc0.patch, depending on the Sage version\n- Apply trac_5945_fix.patch\n\nTom, could you perhaps clean up this ticket and remove all other files that I or we added?\n\nSebastian",
    "created_at": "2011-01-12T20:24:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38464",
    "user": "https://github.com/sagetrac-spancratz"
}
```

<div id="comment:24" align="right">comment:24</div>

Attachment: **[trac_5945_fix.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945_fix.patch.gz)**

Hi Andre,

I'm sorry for the earlier patch not including the IntegerFactorization class, I don't know how that happened.  Now, there are three things to do:

- Apply #10211
- Apply either trac_5945.patch or trac_5945-461rc0.patch, depending on the Sage version
- Apply trac_5945_fix.patch

Tom, could you perhaps clean up this ticket and remove all other files that I or we added?

Sebastian



---

archive/issue_events_070484.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2011-01-13T11:13:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70484"
}
```



---

archive/issue_events_070485.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2011-01-13T11:13:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70485"
}
```



---

archive/issue_comments_038465.json:
```json
{
    "body": "Reviewer: **Andr\u00e9 Apitzsch**",
    "created_at": "2011-01-13T11:13:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38465",
    "user": "https://github.com/a-andre"
}
```

Reviewer: **Andr√© Apitzsch**



---

archive/issue_comments_038466.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nAttachment: **[trac_5945_reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945_reviewer.patch.gz)**\n\nApply trac_5945_reviewer.patch after trac_5945_fix.patch\n\nVersion rc0 reviewed.\n\nAttached trac_5945_reviewer.patch handles doctest failure in *factorization.py*. I only changed the expected result but actually it should be a new test with old result.\n\n*sage/libs/flint/long_extras.pxd* contained `ctypedef struct factor_t:`... twice so I removed one.\n\nEverything else is okay.",
    "created_at": "2011-01-13T11:13:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38466",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:25" align="right">comment:25</div>

Attachment: **[trac_5945_reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945_reviewer.patch.gz)**

Apply trac_5945_reviewer.patch after trac_5945_fix.patch

Version rc0 reviewed.

Attached trac_5945_reviewer.patch handles doctest failure in *factorization.py*. I only changed the expected result but actually it should be a new test with old result.

*sage/libs/flint/long_extras.pxd* contained `ctypedef struct factor_t:`... twice so I removed one.

Everything else is okay.



---

archive/issue_comments_038467.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nHi Andre,\n\nGreat, thank you for doing this!\n\nSebastian",
    "created_at": "2011-01-13T18:58:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38467",
    "user": "https://github.com/sagetrac-spancratz"
}
```

<div id="comment:26" align="right">comment:26</div>

Hi Andre,

Great, thank you for doing this!

Sebastian



---

archive/issue_comments_038468.json:
```json
{
    "body": "Attachment: **[trac_5945-462a0.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945-462a0.patch.gz)**",
    "created_at": "2011-01-17T13:09:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38468",
    "user": "https://github.com/a-andre"
}
```

Attachment: **[trac_5945-462a0.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945-462a0.patch.gz)**



---

archive/issue_comments_038469.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nMerged patches into trac_5945-462a0.patch. So you only need to apply this one. Based on 4.6.2.alpha0.",
    "created_at": "2011-01-17T13:15:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38469",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:27" align="right">comment:27</div>

Merged patches into trac_5945-462a0.patch. So you only need to apply this one. Based on 4.6.2.alpha0.



---

archive/issue_comments_038470.json:
```json
{
    "body": "Changed reviewer from **Andr\u00e9 Apitzsch** to **Andr\u00e9 Apitzsch, Jeroen Demeyer**",
    "created_at": "2011-01-17T20:40:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38470",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Andr√© Apitzsch** to **Andr√© Apitzsch, Jeroen Demeyer**



---

archive/issue_comments_038471.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThere are a few doctest failures:\n\n```\nThe following tests failed:\n\n        sage -t  -force_lib devel/sagenb-main/sagenb/misc/sageinspect.py # 1 doctests failed\n        sage -t  -force_lib devel/sage/doc/en/tutorial/programming.rst # 1 doctests failed\n        sage -t  -force_lib devel/sage/doc/fr/tutorial/programming.rst # 1 doctests failed\n```",
    "created_at": "2011-01-17T20:40:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38471",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

There are a few doctest failures:

```
The following tests failed:

        sage -t  -force_lib devel/sagenb-main/sagenb/misc/sageinspect.py # 1 doctests failed
        sage -t  -force_lib devel/sage/doc/en/tutorial/programming.rst # 1 doctests failed
        sage -t  -force_lib devel/sage/doc/fr/tutorial/programming.rst # 1 doctests failed
```



---

archive/issue_events_070486.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-17T20:40:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70486"
}
```



---

archive/issue_events_070487.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-17T20:40:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70487"
}
```



---

archive/issue_comments_038472.json:
```json
{
    "body": "Changed author from **boothby, spancratz** to **Tom Boothby, Sebastian Pancratz**",
    "created_at": "2011-01-17T20:40:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38472",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **boothby, spancratz** to **Tom Boothby, Sebastian Pancratz**



---

archive/issue_comments_038473.json:
```json
{
    "body": "Attachment: **[trac_5945_sagenb.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945_sagenb.patch.gz)**\n\nAttachment: **[trac_5945_doc_fix.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945_doc_fix.patch.gz)**",
    "created_at": "2011-01-18T09:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38473",
    "user": "https://github.com/a-andre"
}
```

Attachment: **[trac_5945_sagenb.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945_sagenb.patch.gz)**

Attachment: **[trac_5945_doc_fix.patch.gz](https://github.com/sagemath/sage/files/ticket5945/trac_5945_doc_fix.patch.gz)**



---

archive/issue_comments_038474.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nApply trac_5945_sagenb.patch and trac_5945_doc_fix.patch after trac_5945-462a0.patch",
    "created_at": "2011-01-18T09:29:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38474",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:29" align="right">comment:29</div>

Apply trac_5945_sagenb.patch and trac_5945_doc_fix.patch after trac_5945-462a0.patch



---

archive/issue_events_070488.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2011-01-18T09:29:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70488"
}
```



---

archive/issue_events_070489.json:
```json
{
    "actor": "https://github.com/a-andre",
    "created_at": "2011-01-18T09:29:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70489"
}
```



---

archive/issue_events_070490.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-19T01:40:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70490"
}
```



---

archive/issue_events_070491.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-19T01:40:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70491"
}
```



---

archive/issue_comments_038475.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nDoctests are fixed.",
    "created_at": "2011-01-19T01:40:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38475",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Doctests are fixed.



---

archive/issue_events_070492.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-19T22:19:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70492"
}
```



---

archive/issue_events_070493.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-19T22:19:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5945#event-70493"
}
```



---

archive/issue_comments_038476.json:
```json
{
    "body": "Merged: **sage-4.6.2.alpha1**",
    "created_at": "2011-01-19T22:19:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5945",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5945#issuecomment-38476",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.6.2.alpha1**
