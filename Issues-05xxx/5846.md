# Issue 5846: small bug in caching the precision for p-adic L-series

archive/issues_005846.json:
```json
{
    "body": "When looking up cached values of the p-adic L-series of an elliptic curve, there is a problem with the precision (as a powe-series in T) :\n\n```\nsage: E = EllipticCurve('389a')\nsage: p = 3\nsage: L = E.padic_lseries(p)\nsage: L.series(3)\nO(3^5) + O(3^2)*T + (2 + 2*3 + O(3^2))*T^2 + (2 + O(3))*T^3 + (1 + 3 + O(3^2))*T^4 + O(T^5)\nsage: L.series(3,prec=6)\nO(3^5) + O(3^2)*T + (2 + 2*3 + O(3^2))*T^2 + (2 + O(3))*T^3 + (1 + 3 + O(3^2))*T^4 + O(T^5)\n```\n\nThe attached patch changes the inequality sign in question.\n\n**Assignee:** @williamstein\n\n**Keywords:** p-adic L-series\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/5846\n\n",
    "closed_at": "2009-04-29T23:38:44Z",
    "created_at": "2009-04-21T14:27:11Z",
    "labels": [
        "component: number theory",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.4.2",
    "title": "small bug in caching the precision for p-adic L-series",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5846",
    "user": "https://github.com/categorie"
}
```
When looking up cached values of the p-adic L-series of an elliptic curve, there is a problem with the precision (as a powe-series in T) :

```
sage: E = EllipticCurve('389a')
sage: p = 3
sage: L = E.padic_lseries(p)
sage: L.series(3)
O(3^5) + O(3^2)*T + (2 + 2*3 + O(3^2))*T^2 + (2 + O(3))*T^3 + (1 + 3 + O(3^2))*T^4 + O(T^5)
sage: L.series(3,prec=6)
O(3^5) + O(3^2)*T + (2 + 2*3 + O(3^2))*T^2 + (2 + O(3))*T^3 + (1 + 3 + O(3^2))*T^4 + O(T^5)
```

The attached patch changes the inequality sign in question.

**Assignee:** @williamstein

**Keywords:** p-adic L-series

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/5846





---

archive/attachments_006739.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_5846_prec.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket5846/trac_5846_prec.patch",
    "created_at": "2009-04-21T15:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/categorie"
}
```



---

archive/issue_comments_055527.json:
```json
{
    "body": "<a id='comment:1'></a>\n",
    "created_at": "2009-04-21T15:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5846#issuecomment-55527",
    "user": "https://github.com/categorie"
}
```

<a id='comment:1'></a>




---

archive/issue_comments_055528.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2009-04-21T15:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5846#issuecomment-55528",
    "user": "https://github.com/categorie"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_055529.json:
```json
{
    "body": "<a id='comment:2'></a>\nOne slight nitpick: The trac number in the patch is missing.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-21T22:17:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5846#issuecomment-55529",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:2'></a>
One slight nitpick: The trac number in the patch is missing.

Cheers,

Michael



---

archive/issue_comments_055530.json:
```json
{
    "body": "<a id='comment:3'></a>\nAnd this is not going into 3.4.1 since it is basically done, so better luck in 3.4.2 :)\n\nCheers,\n\nMichael",
    "created_at": "2009-04-21T22:37:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5846#issuecomment-55530",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:3'></a>
And this is not going into 3.4.1 since it is basically done, so better luck in 3.4.2 :)

Cheers,

Michael



---

archive/issue_events_017756.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-04-21T22:37:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "milestone": "sage-3.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5846#event-17756"
}
```



---

archive/issue_comments_055531.json:
```json
{
    "body": "to apply after the first patch",
    "created_at": "2009-04-22T10:38:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5846#issuecomment-55531",
    "user": "https://github.com/categorie"
}
```

to apply after the first patch



---

archive/attachments_006740.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_5846_prec_2.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket5846/trac_5846_prec_2.patch",
    "created_at": "2009-04-22T10:39:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/categorie"
}
```



---

archive/issue_comments_055532.json:
```json
{
    "body": "<a id='comment:4'></a>\nI added the forgotten trac number in the doctest.\n\nChris.",
    "created_at": "2009-04-22T10:39:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5846#issuecomment-55532",
    "user": "https://github.com/categorie"
}
```

<a id='comment:4'></a>
I added the forgotten trac number in the doctest.

Chris.



---

archive/attachments_006741.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_5846_combined.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket5846/trac_5846_combined.patch",
    "created_at": "2009-04-28T19:56:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```



---

archive/issue_comments_055533.json:
```json
{
    "body": "apply only this one",
    "created_at": "2009-04-28T19:56:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5846#issuecomment-55533",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

apply only this one



---

archive/issue_comments_055534.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe first two hunks of the first patch didn't apply to sage-3.4.2.alpha0, but they contained only whitespace beautification. Probably this had already been adressed. I merged the remaining two hunks with the \"real\" patch and the the second patch. Ready to go.",
    "created_at": "2009-04-28T20:00:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5846#issuecomment-55534",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

<a id='comment:5'></a>
The first two hunks of the first patch didn't apply to sage-3.4.2.alpha0, but they contained only whitespace beautification. Probably this had already been adressed. I merged the remaining two hunks with the "real" patch and the the second patch. Ready to go.



---

archive/issue_comments_055535.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2009-04-28T20:00:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5846#issuecomment-55535",
    "user": "https://trac.sagemath.org/admin/accounts/users/GeorgSWeber"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_017757.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-04-29T23:38:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5846#event-17757"
}
```



---

archive/issue_comments_055536.json:
```json
{
    "body": "<a id='comment:6'></a>\nMerged  trac_5846_combined.patch in Sage 3.4.2.rc0.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-29T23:38:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5846#issuecomment-55536",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:6'></a>
Merged  trac_5846_combined.patch in Sage 3.4.2.rc0.

Cheers,

Michael



---

archive/issue_comments_055537.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2009-04-29T23:38:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5846#issuecomment-55537",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Resolution:** fixed
