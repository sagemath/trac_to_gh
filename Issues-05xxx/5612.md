# Issue 5612: example of solving a system of linear equations symbolically using symbolic matrices

archive/issues_005612.json:
```json
{
    "body": "This should go into some docs somewhere.  Maybe under solve_right or in a primer?\n\nIt's to solve the linear system a*x+b*y=3, c*x+d*y=5.\n\n```\nsage: var('a,b,c,d,x,y')\n(a, b, c, d, x, y)\nsage: A=matrix(2,[a,b,c,d]); A\n[a b]\n[c d]\nsage: result=vector([3,5]); result\n(3, 5)\nsage: soln=A.solve_right(result) # you could also do soln=A\\result\nsage: soln\n(3/a - b*(5 - 3*c/a)/(a*(d - b*c/a)), (5 - 3*c/a)/(d - b*c/a))\n\n\nNow, checking our answers:\n\n\nsage: (a*x+b*y).subs(x=soln[0],y=soln[1]).simplify_full()\n3\nsage: (c*x+d*y).subs(x=soln[0],y=soln[1]).simplify_full()\n5\n\n\nOr just checking it with matrix multiplication:\n\nsage: A*soln\n(a*(3/a - b*(5 - 3*c/a)/(a*(d - b*c/a))) + b*(5 - 3*c/a)/(d - b*c/a), \nc*(3/a - b*(5 - 3*c/a)/(a*(d - b*c/a))) + (5 - 3*c/a)*d/(d - b*c/a))\n\nLet's simplify each entry by applying the \"simplify_full\" function to \neach entry:\n\nsage: (A*soln).apply_map(lambda x: x.simplify_full())\n(3, 5)\n```\n\n\nAssignee: @mmasdeu\n\nKeywords: beginner\n\nReviewer: Marc Masdeu, Benjamin Jones\n\nAuthor: Adrien Brochard\n\nMerged: sage-5.3.beta0\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/5612\n\n",
    "closed_at": "2012-08-01T12:09:03Z",
    "created_at": "2009-03-25T23:42:55Z",
    "labels": [
        "component: linear algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.3",
    "title": "example of solving a system of linear equations symbolically using symbolic matrices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5612",
    "user": "https://github.com/jasongrout"
}
```
This should go into some docs somewhere.  Maybe under solve_right or in a primer?

It's to solve the linear system a*x+b*y=3, c*x+d*y=5.

```
sage: var('a,b,c,d,x,y')
(a, b, c, d, x, y)
sage: A=matrix(2,[a,b,c,d]); A
[a b]
[c d]
sage: result=vector([3,5]); result
(3, 5)
sage: soln=A.solve_right(result) # you could also do soln=A\result
sage: soln
(3/a - b*(5 - 3*c/a)/(a*(d - b*c/a)), (5 - 3*c/a)/(d - b*c/a))


Now, checking our answers:


sage: (a*x+b*y).subs(x=soln[0],y=soln[1]).simplify_full()
3
sage: (c*x+d*y).subs(x=soln[0],y=soln[1]).simplify_full()
5


Or just checking it with matrix multiplication:

sage: A*soln
(a*(3/a - b*(5 - 3*c/a)/(a*(d - b*c/a))) + b*(5 - 3*c/a)/(d - b*c/a), 
c*(3/a - b*(5 - 3*c/a)/(a*(d - b*c/a))) + (5 - 3*c/a)*d/(d - b*c/a))

Let's simplify each entry by applying the "simplify_full" function to 
each entry:

sage: (A*soln).apply_map(lambda x: x.simplify_full())
(3, 5)
```


Assignee: @mmasdeu

Keywords: beginner

Reviewer: Marc Masdeu, Benjamin Jones

Author: Adrien Brochard

Merged: sage-5.3.beta0

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/5612





---

archive/issue_comments_047963.json:
```json
{
    "body": "<a id='comment:2'></a>\nMake sure to change \n\n```\nmatrix(2,[a,b,c,d])\nvector([3,5])\n```\n\nto\n\n```\nmatrix(SR,2,[a,b,c,d])\nvector(SR,[3,5])\n```\n\nsince otherwise people get really confused when slight changes lead to breakage (e.g., see sage-support).\n\nAlso, I'm concerned about the large number of wishlist-style trac tickets you've been creating lately, like this one.  If everybody made tickets like you're doing it about similar things, trac would soon become unusable.",
    "created_at": "2009-03-26T15:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47963",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:2'></a>
Make sure to change 

```
matrix(2,[a,b,c,d])
vector([3,5])
```

to

```
matrix(SR,2,[a,b,c,d])
vector(SR,[3,5])
```

since otherwise people get really confused when slight changes lead to breakage (e.g., see sage-support).

Also, I'm concerned about the large number of wishlist-style trac tickets you've been creating lately, like this one.  If everybody made tickets like you're doing it about similar things, trac would soon become unusable.



---

archive/issue_comments_047964.json:
```json
{
    "body": "<a id='comment:3'></a>\nWell, we're told to make a trac ticket for every item, so I'm also using it as a to-do list for when I have a few minutes.  In reality, I just made this a trac ticket because of the specific request on the sage lists; I wasn't planning on making it a trac ticket originally.  When I have a few minutes, I can just go to tickets that I've created, pick one that fits into the time I have, and make a patch.\n\nI can make them all attached to the wishlist milestone, if that's better.\n\nI was going to make all the color items a single ticket, but then I remembered the rebukes I've received about lumping too much together on a ticket...",
    "created_at": "2009-03-26T17:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47964",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:3'></a>
Well, we're told to make a trac ticket for every item, so I'm also using it as a to-do list for when I have a few minutes.  In reality, I just made this a trac ticket because of the specific request on the sage lists; I wasn't planning on making it a trac ticket originally.  When I have a few minutes, I can just go to tickets that I've created, pick one that fits into the time I have, and make a patch.

I can make them all attached to the wishlist milestone, if that's better.

I was going to make all the color items a single ticket, but then I remembered the rebukes I've received about lumping too much together on a ticket...



---

archive/issue_events_013215.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-03-26T17:43:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5612#event-13215"
}
```



---

archive/issue_comments_047965.json:
```json
{
    "body": "Changing keywords from \"\" to \"beginner\".",
    "created_at": "2010-09-03T21:24:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47965",
    "user": "https://github.com/jasongrout"
}
```

Changing keywords from "" to "beginner".



---

archive/issue_comments_047966.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2010-09-03T21:24:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47966",
    "user": "https://github.com/jasongrout"
}
```

Changing upstream from "" to "N/A"



---

archive/issue_comments_047967.json:
```json
{
    "body": "<a id='comment:5'></a>\nGuys, when I try this out, I get to the following line and get the following error (both ways):\n\n\n```\nsoln=A.solve_right(result) # you could also do soln=A\\result\n```\n\n```\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"_sage_input_15.py\", line 10, in <module>\n    exec compile(u'open(\"___code___.py\",\"w\").write(\"# -*- coding: utf-8 -*-\\\\n\" + _support_.preparse_worksheet_cell(base64.b64decode(\"c29sbj1BLnNvbHZlX3JpZ2h0KHJlc3VsdCkgIyB5b3UgY291bGQgYWxzbyBkbyBzb2xuPUFccmVzdWx0\"),globals())+\"\\\\n\"); execfile(os.path.abspath(\"___code___.py\"))\n  File \"\", line 1, in <module>\n    \n  File \"/tmp/tmpJ1xbYN/___code___.py\", line 2, in <module>\n    exec compile(u'soln=A.solve_right(result) # you could also do soln=A\\\\result\n  File \"\", line 1, in <module>\n    \n  File \"matrix2.pyx\", line 281, in sage.matrix.matrix2.Matrix.solve_right (sage/matrix/matrix2.c:3796)\n  File \"ring.pyx\", line 835, in sage.rings.ring.Ring.is_integral_domain (sage/rings/ring.c:6410)\nNotImplementedError\n```\n\nThis is in 4.8.\n\nJoal Heagney",
    "created_at": "2012-04-12T13:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47967",
    "user": "https://trac.sagemath.org/admin/accounts/users/JoalHeagney"
}
```

<a id='comment:5'></a>
Guys, when I try this out, I get to the following line and get the following error (both ways):


```
soln=A.solve_right(result) # you could also do soln=A\result
```

```
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "_sage_input_15.py", line 10, in <module>
    exec compile(u'open("___code___.py","w").write("# -*- coding: utf-8 -*-\\n" + _support_.preparse_worksheet_cell(base64.b64decode("c29sbj1BLnNvbHZlX3JpZ2h0KHJlc3VsdCkgIyB5b3UgY291bGQgYWxzbyBkbyBzb2xuPUFccmVzdWx0"),globals())+"\\n"); execfile(os.path.abspath("___code___.py"))
  File "", line 1, in <module>
    
  File "/tmp/tmpJ1xbYN/___code___.py", line 2, in <module>
    exec compile(u'soln=A.solve_right(result) # you could also do soln=A\\result
  File "", line 1, in <module>
    
  File "matrix2.pyx", line 281, in sage.matrix.matrix2.Matrix.solve_right (sage/matrix/matrix2.c:3796)
  File "ring.pyx", line 835, in sage.rings.ring.Ring.is_integral_domain (sage/rings/ring.c:6410)
NotImplementedError
```

This is in 4.8.

Joal Heagney



---

archive/issue_comments_047968.json:
```json
{
    "body": "<a id='comment:6'></a>\nAttachment [trac_5612_solve_symbolic_matrix.patch](tarball://root/attachments/some-uuid/ticket5612/trac_5612_solve_symbolic_matrix.patch) by @abrochard created at 2012-06-02 23:42:16\n\nI added the example of symbolic matrix to the doc and fixed the bug reported by Joal Heagney. The error came from is_integral_domain() function in ring.pyx. Since a field is a specific type of integral domain, I just added a if clause.",
    "created_at": "2012-06-02T23:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47968",
    "user": "https://github.com/abrochard"
}
```

<a id='comment:6'></a>
Attachment [trac_5612_solve_symbolic_matrix.patch](tarball://root/attachments/some-uuid/ticket5612/trac_5612_solve_symbolic_matrix.patch) by @abrochard created at 2012-06-02 23:42:16

I added the example of symbolic matrix to the doc and fixed the bug reported by Joal Heagney. The error came from is_integral_domain() function in ring.pyx. Since a field is a specific type of integral domain, I just added a if clause.



---

archive/issue_comments_047969.json:
```json
{
    "body": "Changing assignee from @williamstein to @mmasdeu.",
    "created_at": "2012-06-08T16:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47969",
    "user": "https://github.com/mmasdeu"
}
```

Changing assignee from @williamstein to @mmasdeu.



---

archive/issue_comments_047970.json:
```json
{
    "body": "<a id='comment:7'></a>\nLooks good to me. It does what the ticked asked and fixed a bug with SR.",
    "created_at": "2012-06-08T16:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47970",
    "user": "https://github.com/mmasdeu"
}
```

<a id='comment:7'></a>
Looks good to me. It does what the ticked asked and fixed a bug with SR.



---

archive/issue_comments_047971.json:
```json
{
    "body": "Changing reviewer from \"\" to \"mmasdeu\"",
    "created_at": "2012-06-08T16:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47971",
    "user": "https://github.com/mmasdeu"
}
```

Changing reviewer from "" to "mmasdeu"



---

archive/issue_comments_047972.json:
```json
{
    "body": "<a id='comment:8'></a>\nWell the patch works fine on the example problems in sage 5.0. Haven't checked to see if it has other consequences elsewhere though.",
    "created_at": "2012-06-09T04:37:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47972",
    "user": "https://trac.sagemath.org/admin/accounts/users/JoalHeagney"
}
```

<a id='comment:8'></a>
Well the patch works fine on the example problems in sage 5.0. Haven't checked to see if it has other consequences elsewhere though.



---

archive/issue_comments_047973.json:
```json
{
    "body": "Changing reviewer from \"mmasdeu\" to \"mmasdeu, Benjamin Jones\"",
    "created_at": "2012-07-23T16:32:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47973",
    "user": "https://github.com/benjaminfjones"
}
```

Changing reviewer from "mmasdeu" to "mmasdeu, Benjamin Jones"



---

archive/issue_comments_047974.json:
```json
{
    "body": "Changing work_issues from \"\" to \"add doctests\"",
    "created_at": "2012-07-23T16:32:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47974",
    "user": "https://github.com/benjaminfjones"
}
```

Changing work_issues from "" to "add doctests"



---

archive/issue_comments_047975.json:
```json
{
    "body": "<a id='comment:9'></a>\nI just ran into the error reported by JoalHeagney while going through some Sage demo worksheets from past talks. This bug must have been introduced sometime after the talk was given because I remember solving symbolic matrix equations just fine. It would be great if this got doctested and into Sage ASAP.",
    "created_at": "2012-07-23T16:32:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47975",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:9'></a>
I just ran into the error reported by JoalHeagney while going through some Sage demo worksheets from past talks. This bug must have been introduced sometime after the talk was given because I remember solving symbolic matrix equations just fine. It would be great if this got doctested and into Sage ASAP.



---

archive/issue_comments_047976.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-07-23T16:32:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47976",
    "user": "https://github.com/benjaminfjones"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_047977.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-07-23T16:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47977",
    "user": "https://github.com/benjaminfjones"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_047978.json:
```json
{
    "body": "Changing work_issues from \"add doctests\" to \"\"",
    "created_at": "2012-07-23T16:33:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47978",
    "user": "https://github.com/benjaminfjones"
}
```

Changing work_issues from "add doctests" to ""



---

archive/issue_comments_047979.json:
```json
{
    "body": "<a id='comment:11'></a>\nOops, sorry. I saw the doctests in the patch and then promptly forgot about them. The patch looks very good to me. I'll do some more extensive testing and if all looks good, positive review.",
    "created_at": "2012-07-23T16:33:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47979",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:11'></a>
Oops, sorry. I saw the doctests in the patch and then promptly forgot about them. The patch looks very good to me. I'll do some more extensive testing and if all looks good, positive review.



---

archive/issue_comments_047980.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-07-23T16:33:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47980",
    "user": "https://github.com/benjaminfjones"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_013216.json:
```json
{
    "actor": "https://github.com/benjaminfjones",
    "created_at": "2012-07-23T16:44:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5612#event-13216"
}
```



---

archive/issue_events_013217.json:
```json
{
    "actor": "https://github.com/benjaminfjones",
    "created_at": "2012-07-23T16:44:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "milestone": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5612#event-13217"
}
```



---

archive/issue_comments_047981.json:
```json
{
    "body": "Changing author from \"\" to \"Adrien Brochard\"",
    "created_at": "2012-07-23T22:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47981",
    "user": "https://github.com/benjaminfjones"
}
```

Changing author from "" to "Adrien Brochard"



---

archive/issue_comments_047982.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-07-23T22:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47982",
    "user": "https://github.com/benjaminfjones"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_047983.json:
```json
{
    "body": "Changing type from enhancement to defect.",
    "created_at": "2012-07-23T22:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47983",
    "user": "https://github.com/benjaminfjones"
}
```

Changing type from enhancement to defect.



---

archive/issue_comments_047984.json:
```json
{
    "body": "<a id='comment:13'></a>\nThe patch applies cleanly to 5.2.rc0 and passes all tests. It looks good to go. Thanks for the contribution (and the bug report, Joel).",
    "created_at": "2012-07-23T22:13:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47984",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:13'></a>
The patch applies cleanly to 5.2.rc0 and passes all tests. It looks good to go. Thanks for the contribution (and the bug report, Joel).



---

archive/issue_comments_047985.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-08-01T12:09:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47985",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_013218.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-01T12:09:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5612#event-13218"
}
```



---

archive/issue_comments_047986.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.3.beta0\"",
    "created_at": "2012-08-01T12:09:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47986",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.3.beta0"



---

archive/issue_comments_047987.json:
```json
{
    "body": "Changing reviewer from \"mmasdeu, Benjamin Jones\" to \"Marc Masdeu, Benjamin Jones\"",
    "created_at": "2012-09-08T12:42:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5612#issuecomment-47987",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "mmasdeu, Benjamin Jones" to "Marc Masdeu, Benjamin Jones"
