# Issue 5395: a few fixes for the ReST conversion of the reference manual

archive/issues_005395.json:
```json
{
    "body": "With the new version of the documentation, the first lines of some files in the Sage library got broken into two lines, and this messes up the table of contents in the reference manual.  The attached patch fixes the instances of that that I found, as well as a few other little things.\n\nNote that in order to see my changes, I couldn't just do 'sage -docbuild reference html' -- the file index.html wasn't getting rebuilt.  I ended up building the manual from scratch, but maybe there's an easier way...\n\n\n**Assignee:** @jhpalmieri\n\n**CC:**  @mwhansen\n\nIssue created by migration from https://trac.sagemath.org/ticket/5395\n\n",
    "closed_at": "2009-02-28T16:28:47Z",
    "created_at": "2009-02-27T20:09:38Z",
    "labels": [
        "component: documentation",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.4",
    "title": "a few fixes for the ReST conversion of the reference manual",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/5395",
    "user": "https://github.com/jhpalmieri"
}
```
With the new version of the documentation, the first lines of some files in the Sage library got broken into two lines, and this messes up the table of contents in the reference manual.  The attached patch fixes the instances of that that I found, as well as a few other little things.

Note that in order to see my changes, I couldn't just do 'sage -docbuild reference html' -- the file index.html wasn't getting rebuilt.  I ended up building the manual from scratch, but maybe there's an easier way...


**Assignee:** @jhpalmieri

**CC:**  @mwhansen

Issue created by migration from https://trac.sagemath.org/ticket/5395





---

archive/attachments_006292.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "ref-headings.patch",
    "asset_url": "tarball://root/attachments/ticket5395/ref-headings.patch",
    "created_at": "2009-02-27T20:10:24Z",
    "issue": "https://github.com/sagemath/sage/issues/5395",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket5395/ref-headings.patch",
    "user": "https://github.com/jhpalmieri"
}
```



---

archive/issue_comments_034537.json:
```json
{
    "body": "**Attachment:** [ref-headings.patch](https://github.com/sagemath/sage/files/ticket5395/ref-headings.patch)",
    "created_at": "2009-02-27T20:10:24Z",
    "issue": "https://github.com/sagemath/sage/issues/5395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5395#issuecomment-34537",
    "user": "https://github.com/jhpalmieri"
}
```

**Attachment:** [ref-headings.patch](https://github.com/sagemath/sage/files/ticket5395/ref-headings.patch)



---

archive/issue_comments_034538.json:
```json
{
    "body": "<a id='comment:1'></a>\nLooks good to me.\n\nIn order to have the docs reflect the changes you made, you just need to rebuild the library with \"sage -b\", and it should pick up the modules that have changed and do the appropriate rebuilding.",
    "created_at": "2009-02-27T20:55:36Z",
    "issue": "https://github.com/sagemath/sage/issues/5395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5395#issuecomment-34538",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:1'></a>
Looks good to me.

In order to have the docs reflect the changes you made, you just need to rebuild the library with "sage -b", and it should pick up the modules that have changed and do the appropriate rebuilding.



---

archive/issue_events_033708.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-02-27T20:55:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5395",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5395#event-33708"
}
```



---

archive/issue_comments_034539.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [@mwhansen](#comment%3A1):\n> In order to have the docs reflect the changes you made, you just need to rebuild the library with \"sage -b\", and it should pick up the modules that have changed and do the appropriate rebuilding.\n\nI tried that, but it wasn't rebuilding 'index.html', nor was it updating the titles for the individual pages.  For example, just doing \"sage -b\" then \"sage -docbuild ...\" gives me a file sage/doc/output/html/en/reference/sage/coding/sd_codes.html with the line\n\n```\n<title>This module implements functions useful for studying binary &mdash; Sage Reference Manual v3.4.alpha0</title>\n```\nnot the modified title `Binary self-dual codes`. It looks like the file \"doc/en/reference/sage/coding/sd_codes.rst\" isn't getting changed after sage -b, just the autogenerated part of it.",
    "created_at": "2009-02-27T22:12:21Z",
    "issue": "https://github.com/sagemath/sage/issues/5395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5395#issuecomment-34539",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
Replying to [@mwhansen](#comment%3A1):
> In order to have the docs reflect the changes you made, you just need to rebuild the library with "sage -b", and it should pick up the modules that have changed and do the appropriate rebuilding.

I tried that, but it wasn't rebuilding 'index.html', nor was it updating the titles for the individual pages.  For example, just doing "sage -b" then "sage -docbuild ..." gives me a file sage/doc/output/html/en/reference/sage/coding/sd_codes.html with the line

```
<title>This module implements functions useful for studying binary &mdash; Sage Reference Manual v3.4.alpha0</title>
```
not the modified title `Binary self-dual codes`. It looks like the file "doc/en/reference/sage/coding/sd_codes.rst" isn't getting changed after sage -b, just the autogenerated part of it.



---

archive/issue_events_033709.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-02-28T16:28:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5395",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5395#event-33709"
}
```



---

archive/issue_events_033710.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-02-28T16:28:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5395",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5395#event-33710"
}
```



---

archive/issue_comments_034540.json:
```json
{
    "body": "<a id='comment:3'></a>\nMerged in Sage 3.4.rc0.\n\nCheers,\n\nMichael",
    "created_at": "2009-02-28T16:28:47Z",
    "issue": "https://github.com/sagemath/sage/issues/5395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5395#issuecomment-34540",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:3'></a>
Merged in Sage 3.4.rc0.

Cheers,

Michael
