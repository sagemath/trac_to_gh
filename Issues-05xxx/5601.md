# Issue 5601: Colors: CSS3/SVG presets, construct from HSL/HSV, blend/lighter/darker methods

archive/issues_005601.json:
```json
{
    "assignees": [],
    "body": "The *sage* repository patch\n\n* [attachment: trac_5601-builtin_colors_v7.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v7.patch.gz)\n\nmay also cover parts of #5602, #5603, #5604, and #5605.\n\nThe *sagenb* respository patch\n\n* [attachment: trac_5601-sagenb_doctest.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-sagenb_doctest.patch.gz)\n\nfixes a doctest in `sagenb.notebook.interact` (purple has changed).\n\nAssignee: **@williamstein**\n\nCC:  @kcrisman @robertwb wcauchois\n\nAuthor: **Jason Grout, Mitesh Patel**\n\nReviewer: **Jason Grout, Karl-Dieter Crisman**\n\nMerged: **sage-4.3.4.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/5601_\n\n",
    "closed_at": "2010-03-06T15:50:53Z",
    "created_at": "2009-03-24T21:26:24Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.3.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Colors: CSS3/SVG presets, construct from HSL/HSV, blend/lighter/darker methods",
    "type": "issue",
    "updated_at": "2010-03-08T02:28:02Z",
    "url": "https://github.com/sagemath/sage/issues/5601",
    "user": "https://github.com/jasongrout"
}
```
The *sage* repository patch

* [attachment: trac_5601-builtin_colors_v7.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v7.patch.gz)

may also cover parts of #5602, #5603, #5604, and #5605.

The *sagenb* respository patch

* [attachment: trac_5601-sagenb_doctest.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-sagenb_doctest.patch.gz)

fixes a doctest in `sagenb.notebook.interact` (purple has changed).

Assignee: **@williamstein**

CC:  @kcrisman @robertwb wcauchois

Author: **Jason Grout, Mitesh Patel**

Reviewer: **Jason Grout, Karl-Dieter Crisman**

Merged: **sage-4.3.4.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/5601_





---

archive/issue_events_059578.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-03-24T21:26:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "milestone_number": null,
    "milestone_title": "sage-4.3.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59578"
}
```



---

archive/issue_events_059579.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-03-24T21:26:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "component: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59579"
}
```



---

archive/issue_events_059580.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-03-24T21:26:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59580"
}
```



---

archive/issue_events_059581.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2009-03-24T21:26:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59581"
}
```



---

archive/issue_comments_036595.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nJust for clarification, we do *NOT* want even red, orange, etc. all defined in the global namespace.  It would be OK for something like the following to work though:\n\n```\n sage: plot(sin(x), (x,0,1), color = colors.red)\n```\n\nMorever, I definitely definitely do not see any advantage at all to predefining a huge number of colors (Jason suggests all HTML -- that's 16777216 different colors!).  Instead one should be able to easily make colors... like you can already do right now.\n\n -- William",
    "created_at": "2009-03-25T04:35:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36595",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:1'>Comment 1:</a>
Just for clarification, we do *NOT* want even red, orange, etc. all defined in the global namespace.  It would be OK for something like the following to work though:

```
 sage: plot(sin(x), (x,0,1), color = colors.red)
```

Morever, I definitely definitely do not see any advantage at all to predefining a huge number of colors (Jason suggests all HTML -- that's 16777216 different colors!).  Instead one should be able to easily make colors... like you can already do right now.

 -- William



---

archive/issue_comments_036596.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nPossibilities:\n\n* CSS3 / SVG colors [alphabetically](http://www.w3.org/TR/css3-color/#svg-color) or [by hue](http://en.wikipedia.org/wiki/Web_colors#X11_color_names) - About 110.\n* [X11 colors](http://en.wikipedia.org/wiki/X11_color_names) - About 500.\n* [Wikipedia's list](http://en.wikipedia.org/wiki/List_of_colors).\n\nWe can make these available as in the comment above.  In effect:\n\n```\nsage.plot.colors.colors['aliceblue'] = (240.0/255.0, 248.0/255.0, 255.0/255.0)\nsage.plot.colors.aliceblue = Color(sage.plot.colors.colors['aliceblue'])\n```\n\nShould we define just the official CSS3 / SVG colors?  The X11 colors include four shades for about 75 colors (e.g., `goldenrod1`, `goldenrod2`, `goldenrod3`, and `goldenrod4`), as well as 100 shades of `gray`/`grey` (from black to white).  They may be convenient.  Or we could suggest using `.lighter()` and `.darker()` (cf. #5602).",
    "created_at": "2009-11-14T09:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36596",
    "user": "https://github.com/qed777"
}
```

<a id='comment:2'>Comment 2:</a>
Possibilities:

* CSS3 / SVG colors [alphabetically](http://www.w3.org/TR/css3-color/#svg-color) or [by hue](http://en.wikipedia.org/wiki/Web_colors#X11_color_names) - About 110.
* [X11 colors](http://en.wikipedia.org/wiki/X11_color_names) - About 500.
* [Wikipedia's list](http://en.wikipedia.org/wiki/List_of_colors).

We can make these available as in the comment above.  In effect:

```
sage.plot.colors.colors['aliceblue'] = (240.0/255.0, 248.0/255.0, 255.0/255.0)
sage.plot.colors.aliceblue = Color(sage.plot.colors.colors['aliceblue'])
```

Should we define just the official CSS3 / SVG colors?  The X11 colors include four shades for about 75 colors (e.g., `goldenrod1`, `goldenrod2`, `goldenrod3`, and `goldenrod4`), as well as 100 shades of `gray`/`grey` (from black to white).  They may be convenient.  Or we could suggest using `.lighter()` and `.darker()` (cf. #5602).



---

archive/issue_comments_036597.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nI think just the CSS3 official colors should be sufficient.  Are the names the same for the intersection between CSS3 and X11 colors?  I like the idea of using .lighter and .darker.\n\nWe should also have several lists of colors (like the predefined cmaps in matplotlib) that go well together, so you can do\n\ncolors.winter[0]\n\ncolors.winter[1]\n\netc. for a nice set of colors that go well together.",
    "created_at": "2009-11-14T14:54:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36597",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:3'>Comment 3:</a>
I think just the CSS3 official colors should be sufficient.  Are the names the same for the intersection between CSS3 and X11 colors?  I like the idea of using .lighter and .darker.

We should also have several lists of colors (like the predefined cmaps in matplotlib) that go well together, so you can do

colors.winter[0]

colors.winter[1]

etc. for a nice set of colors that go well together.



---

archive/issue_comments_036598.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nSee http://reference.wolfram.com/mathematica/guide/Colors.html for the predefined mma colors (not very many!) and http://reference.wolfram.com/mathematica/guide/ColorSchemes.html for the predefined color schemes.",
    "created_at": "2009-11-14T14:56:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36598",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:4'>Comment 4:</a>
See http://reference.wolfram.com/mathematica/guide/Colors.html for the predefined mma colors (not very many!) and http://reference.wolfram.com/mathematica/guide/ColorSchemes.html for the predefined color schemes.



---

archive/issue_comments_036599.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,4 +18,11 @@\n * predefine a huge number of colors (all x11 or html color strings?), but stick them in the color\n namespace, so they would be accessed like color.goldenrod\n \n+Related tickets:\n \n+* #5601 - predefine colors in Sage.\n+* #5602 - make .lighter() and .darker() methods for Sage Color objects.\n+* #5603 - make a .mix() method for Sage color objects.\n+* #5604 - average Color objects when adding them together.\n+* #5605 - Construct Color objects using hsl and hsv values.\n+\n``````\n",
    "created_at": "2009-11-14T18:42:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36599",
    "user": "https://github.com/qed777"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,4 +18,11 @@
 * predefine a huge number of colors (all x11 or html color strings?), but stick them in the color
 namespace, so they would be accessed like color.goldenrod
 
+Related tickets:
 
+* #5601 - predefine colors in Sage.
+* #5602 - make .lighter() and .darker() methods for Sage Color objects.
+* #5603 - make a .mix() method for Sage color objects.
+* #5604 - average Color objects when adding them together.
+* #5605 - Construct Color objects using hsl and hsv values.
+
``````




---

archive/issue_comments_036600.json:
```json
{
    "body": "Attachment: **[trac_5601-builtin_colors.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors.patch.gz)**\n\nAdd CSS3/SVG colors, lighter/darker methods, HSV and HSL/HLS constructors",
    "created_at": "2009-11-18T04:33:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36600",
    "user": "https://github.com/qed777"
}
```

Attachment: **[trac_5601-builtin_colors.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors.patch.gz)**

Add CSS3/SVG colors, lighter/darker methods, HSV and HSL/HLS constructors



---

archive/issue_comments_036601.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nThe attached patch should add:\n\n* CSS3 / SVG colors - #5601.  Actually, this replaces the previous colors.\n* `Color.lighter` and `Color.darker` - #5602.\n* HSV and HSL/HLS `Color` constructors - #5605.\n\nPredefined palette:\n\n```python\nimport sage.plot.colors as cc\np = Graphics()\nfor i, color in enumerate(cc.colors.keys()):\n    x = floor(i / 12) + 1\n    y = i % 12 + x * 0.5 + 1\n    p += point((x, y), pointsize=500, faceted=True, color=color)\n    p += text(color, (x + 0.15, y), rgbcolor='black', fontsize=10, horizontal_alignment='left')\nshow(p, figsize=[25,10], ymin=0, xmax=14, ymax=19, axes=False)\n```",
    "created_at": "2009-11-18T04:41:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36601",
    "user": "https://github.com/qed777"
}
```

<a id='comment:6'>Comment 6:</a>
The attached patch should add:

* CSS3 / SVG colors - #5601.  Actually, this replaces the previous colors.
* `Color.lighter` and `Color.darker` - #5602.
* HSV and HSL/HLS `Color` constructors - #5605.

Predefined palette:

```python
import sage.plot.colors as cc
p = Graphics()
for i, color in enumerate(cc.colors.keys()):
    x = floor(i / 12) + 1
    y = i % 12 + x * 0.5 + 1
    p += point((x, y), pointsize=500, faceted=True, color=color)
    p += text(color, (x + 0.15, y), rgbcolor='black', fontsize=10, horizontal_alignment='left')
show(p, figsize=[25,10], ymin=0, xmax=14, ymax=19, axes=False)
```



---

archive/issue_comments_036602.json:
```json
{
    "body": "Author: **Mitesh Patel**",
    "created_at": "2009-11-18T04:41:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36602",
    "user": "https://github.com/qed777"
}
```

Author: **Mitesh Patel**



---

archive/issue_events_059582.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2009-11-18T04:41:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59582"
}
```



---

archive/issue_comments_036603.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nThe patch should also address [this comment](https://github.com/sagemath/sage/issues/5605#comment:2) at #5605.",
    "created_at": "2009-11-18T04:44:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36603",
    "user": "https://github.com/qed777"
}
```

<a id='comment:7'>Comment 7:</a>
The patch should also address [this comment](https://github.com/sagemath/sage/issues/5605#comment:2) at #5605.



---

archive/issue_comments_036604.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@jasongrout](#comment%3A3):\n> I think just the CSS3 official colors should be sufficient.  Are the names the same for the intersection between CSS3 and X11 colors?\n\nAlmost.  See [this](http://en.wikipedia.org/wiki/X11_color_names#Color_names_that_clash_between_X11_and_HTML.2FCSS).\n\n> We should also have several lists of colors (like the predefined cmaps in matplotlib) that go well together, so you can do\n> \n> colors.winter[0]\n> \n> colors.winter[1]\n> \n> etc. for a nice set of colors that go well together.\n\nOops!  I haven't done this.  Which of matplotlib's [color maps](http://www.scipy.org/Cookbook/Matplotlib/Show_colormaps) should we use?\n\n```python\nfrom matplotlib import cm\nsummer = []\nfor i in xrange(cm.summer.N):\n    summer.append(tuple(cm.summer(i)[0:3]))\n```\n\n`N = 256` for all of them.  Should we make our lists the same length?",
    "created_at": "2009-11-18T05:19:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36604",
    "user": "https://github.com/qed777"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@jasongrout](#comment%3A3):
> I think just the CSS3 official colors should be sufficient.  Are the names the same for the intersection between CSS3 and X11 colors?

Almost.  See [this](http://en.wikipedia.org/wiki/X11_color_names#Color_names_that_clash_between_X11_and_HTML.2FCSS).

> We should also have several lists of colors (like the predefined cmaps in matplotlib) that go well together, so you can do
> 
> colors.winter[0]
> 
> colors.winter[1]
> 
> etc. for a nice set of colors that go well together.

Oops!  I haven't done this.  Which of matplotlib's [color maps](http://www.scipy.org/Cookbook/Matplotlib/Show_colormaps) should we use?

```python
from matplotlib import cm
summer = []
for i in xrange(cm.summer.N):
    summer.append(tuple(cm.summer(i)[0:3]))
```

`N = 256` for all of them.  Should we make our lists the same length?



---

archive/issue_comments_036605.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nReplying to [@qed777](#comment%3A8):\n> \n> Almost.  See [this](http://en.wikipedia.org/wiki/X11_color_names#Color_names_that_clash_between_X11_and_HTML.2FCSS).\n\nInteresting--I didn't know that HTML green was not #00FF00\n\n\n\n> \n> > We should also have several lists of colors (like the predefined cmaps in matplotlib) that go well together, so you can do\n> > \n> > colors.winter[0]\n> > \n> > colors.winter[1]\n> > \n> > etc. for a nice set of colors that go well together.\n\n> \n> Oops!  I haven't done this.  Which of matplotlib's [color maps](http://www.scipy.org/Cookbook/Matplotlib/Show_colormaps) should we use?\n> \n> ```python\n> from matplotlib import cm\n> summer = []\n> for i in xrange(cm.summer.N):\n>     summer.append(tuple(cm.summer(i)[0:3]))\n> ```\n> \n> `N = 256` for all of them.  Should we make our lists the same length?\n\n\nHow much do we want to invent/wrap things versus just using their classes directly?  Maybe we should just import their colormaps into our color namespace, so people just have to remember colors.winter, rather than having to import matplotlib?\n\nA *really* cool thing we could do with the gradients, though, is somehow helping people pick gradients according to the criteria here:\n\nhttp://colorbrewer2.org/\n\n(note that lots of the matplotlib color maps came from that website).\n\nNote that on that website, you can easily pick gradients that are color-blind safe, that are safe for photocopying, that are print-friendly, etc.  It would be really cool to have basically the functionality of that flash applet at a user's disposal in Sage.  So, for example:\n\ncolors.gradients(num_colors=5,color_blind=True,print_friendly=True)\n\nwould return a dictionary of gradients that satisfy the criteria (like clicking the boxes on that flash applet).  Additionally, we should incorporate the recommendations from the phd thesis studying the color-blind aspects of the schemes---see p. 87 of http://www.personal.psu.edu/cab38/ColorBrewer/Steve_Gardner_thesis_PSU.pdf\n\n\nThat said, what I describe above is probably work for another ticket (unless you want to take it on in this patch!)",
    "created_at": "2009-11-18T06:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36605",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:9'>Comment 9:</a>
Replying to [@qed777](#comment%3A8):
> 
> Almost.  See [this](http://en.wikipedia.org/wiki/X11_color_names#Color_names_that_clash_between_X11_and_HTML.2FCSS).

Interesting--I didn't know that HTML green was not #00FF00



> 
> > We should also have several lists of colors (like the predefined cmaps in matplotlib) that go well together, so you can do
> > 
> > colors.winter[0]
> > 
> > colors.winter[1]
> > 
> > etc. for a nice set of colors that go well together.

> 
> Oops!  I haven't done this.  Which of matplotlib's [color maps](http://www.scipy.org/Cookbook/Matplotlib/Show_colormaps) should we use?
> 
> ```python
> from matplotlib import cm
> summer = []
> for i in xrange(cm.summer.N):
>     summer.append(tuple(cm.summer(i)[0:3]))
> ```
> 
> `N = 256` for all of them.  Should we make our lists the same length?


How much do we want to invent/wrap things versus just using their classes directly?  Maybe we should just import their colormaps into our color namespace, so people just have to remember colors.winter, rather than having to import matplotlib?

A *really* cool thing we could do with the gradients, though, is somehow helping people pick gradients according to the criteria here:

http://colorbrewer2.org/

(note that lots of the matplotlib color maps came from that website).

Note that on that website, you can easily pick gradients that are color-blind safe, that are safe for photocopying, that are print-friendly, etc.  It would be really cool to have basically the functionality of that flash applet at a user's disposal in Sage.  So, for example:

colors.gradients(num_colors=5,color_blind=True,print_friendly=True)

would return a dictionary of gradients that satisfy the criteria (like clicking the boxes on that flash applet).  Additionally, we should incorporate the recommendations from the phd thesis studying the color-blind aspects of the schemes---see p. 87 of http://www.personal.psu.edu/cab38/ColorBrewer/Steve_Gardner_thesis_PSU.pdf


That said, what I describe above is probably work for another ticket (unless you want to take it on in this patch!)



---

archive/issue_comments_036606.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@jasongrout](#comment%3A9):\n> That said, what I describe above is probably work for another ticket (unless you want to take it on in this patch!)\n\nVersion 2 adds the matplotlib colormaps.  Otherwise: Agreed!",
    "created_at": "2009-11-18T09:08:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36606",
    "user": "https://github.com/qed777"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@jasongrout](#comment%3A9):
> That said, what I describe above is probably work for another ticket (unless you want to take it on in this patch!)

Version 2 adds the matplotlib colormaps.  Otherwise: Agreed!



---

archive/issue_comments_036607.json:
```json
{
    "body": "Added matplotlib colormaps.  Apply only this patch.",
    "created_at": "2009-11-18T09:10:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36607",
    "user": "https://github.com/qed777"
}
```

Added matplotlib colormaps.  Apply only this patch.



---

archive/issue_comments_036608.json:
```json
{
    "body": "Attachment: **[trac_5601-builtin_colors_v2.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v2.patch.gz)**\n\nSage colors.  Not a patch.",
    "created_at": "2009-11-19T00:43:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36608",
    "user": "https://github.com/qed777"
}
```

Attachment: **[trac_5601-builtin_colors_v2.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v2.patch.gz)**

Sage colors.  Not a patch.



---

archive/issue_comments_036609.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nAttachment: **[sage_colors.png.gz](https://github.com/sagemath/sage/files/ticket5601/sage_colors.png.gz)**\n\n<img src=\"sage_colors.png\" width=900px>",
    "created_at": "2009-11-19T00:46:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36609",
    "user": "https://github.com/qed777"
}
```

<a id='comment:11'>Comment 11:</a>
Attachment: **[sage_colors.png.gz](https://github.com/sagemath/sage/files/ticket5601/sage_colors.png.gz)**

<img src="sage_colors.png" width=900px>



---

archive/issue_comments_036610.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nIn general, I like this change, especially being able to do stuff like define color lists and doing lighter/darker(). \n\nThe big color list is verbose, and (at least for me) a bit hard to read. Maybe it would be easier to make a dict of their hex values, then run over the dict converting them?",
    "created_at": "2009-11-20T05:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36610",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:13'>Comment 13:</a>
In general, I like this change, especially being able to do stuff like define color lists and doing lighter/darker(). 

The big color list is verbose, and (at least for me) a bit hard to read. Maybe it would be easier to make a dict of their hex values, then run over the dict converting them?



---

archive/issue_comments_036611.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nIs there a way to do some of this lazily, e.g. not import matplotlib at startup?",
    "created_at": "2009-11-20T05:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36611",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:14'>Comment 14:</a>
Is there a way to do some of this lazily, e.g. not import matplotlib at startup?



---

archive/issue_comments_036612.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@robertwb](#comment%3A14):\n> Is there a way to do some of this lazily, e.g. not import matplotlib at startup? \n\nThe following is ad hoc, but it appears to work.  I removed the global import and the code that sets up the module-scope colormaps.  To the *end* of `sage.plot.colors` I added\n\n```python\n# matplotlib color maps, loaded on-demand.\nclass ColormapLoader(object):\n    def __init__(self, globs):\n        self.cm = None\n        for key in globs:\n            self.__setattr__(key, globs[key])\n\n    def __getattr__(self, name):\n        if name == '__path__':\n            return __path__\n\n        if not self.cm:\n            print 'loading matplotlib.cm'\n            from matplotlib import cm            \n            self.cm = cm\n\n        try:\n            cmap = self.cm.__getattribute__(name)\n        except AttributeError:\n            raise AttributeError, 'no colormap with name %s' % name\n\n        self.__setattr__(name, cmap)\n        return cmap\n\ncolormaps = ColormapLoader(vars())\n\nimport sys\nsys.modules['sage.plot.colors'] = colormaps\n```",
    "created_at": "2009-11-20T10:20:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36612",
    "user": "https://github.com/qed777"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@robertwb](#comment%3A14):
> Is there a way to do some of this lazily, e.g. not import matplotlib at startup? 

The following is ad hoc, but it appears to work.  I removed the global import and the code that sets up the module-scope colormaps.  To the *end* of `sage.plot.colors` I added

```python
# matplotlib color maps, loaded on-demand.
class ColormapLoader(object):
    def __init__(self, globs):
        self.cm = None
        for key in globs:
            self.__setattr__(key, globs[key])

    def __getattr__(self, name):
        if name == '__path__':
            return __path__

        if not self.cm:
            print 'loading matplotlib.cm'
            from matplotlib import cm            
            self.cm = cm

        try:
            cmap = self.cm.__getattribute__(name)
        except AttributeError:
            raise AttributeError, 'no colormap with name %s' % name

        self.__setattr__(name, cmap)
        return cmap

colormaps = ColormapLoader(vars())

import sys
sys.modules['sage.plot.colors'] = colormaps
```



---

archive/issue_comments_036613.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nYou can also look how we import numpy/scipy in matrix/matrix_double_dense.pyx:\n\nAt the top, we have:\n\nnumpy=None\n\nwhen we need to use it, we have code like:\n\n```\n        global numpy\n        if numpy is None:\n            import numpy\n```",
    "created_at": "2009-11-20T10:25:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36613",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:16'>Comment 16:</a>
You can also look how we import numpy/scipy in matrix/matrix_double_dense.pyx:

At the top, we have:

numpy=None

when we need to use it, we have code like:

```
        global numpy
        if numpy is None:
            import numpy
```



---

archive/issue_comments_036614.json:
```json
{
    "body": "Attachment: **[trac_5601-builtin_colors_v3.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v3.patch.gz)**\n\nStart with HTML hex colors.  No change to colormap imports.  Apply only this patch.",
    "created_at": "2009-11-20T11:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36614",
    "user": "https://github.com/qed777"
}
```

Attachment: **[trac_5601-builtin_colors_v3.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v3.patch.gz)**

Start with HTML hex colors.  No change to colormap imports.  Apply only this patch.



---

archive/issue_comments_036615.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nThe \"ad hoc\" example above adds module-scope colormaps on-the-fly, with or without the \"numpy\" simplification, but it appears to confuse the doctesting script.  If it's OK to make the maps accessible as `sage.plot.colors.colormaps.mapname` instead of `sage.plot.colors.mapname`, say, I can add a simple subclass of [collections.Mapping](http://docs.python.org/library/collections.html#abcs-abstract-base-classes) that lazily loads the maps as attributes of a `sage.plot.colors.colormaps` object.\n\nOn the other hand, importing just `matplotlib.cm` seems to be fast.  We could keep the current code.",
    "created_at": "2009-11-20T14:41:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36615",
    "user": "https://github.com/qed777"
}
```

<a id='comment:17'>Comment 17:</a>
The "ad hoc" example above adds module-scope colormaps on-the-fly, with or without the "numpy" simplification, but it appears to confuse the doctesting script.  If it's OK to make the maps accessible as `sage.plot.colors.colormaps.mapname` instead of `sage.plot.colors.mapname`, say, I can add a simple subclass of [collections.Mapping](http://docs.python.org/library/collections.html#abcs-abstract-base-classes) that lazily loads the maps as attributes of a `sage.plot.colors.colormaps` object.

On the other hand, importing just `matplotlib.cm` seems to be fast.  We could keep the current code.



---

archive/issue_comments_036616.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nI just noticed #7502, which could be relevant and useful here.",
    "created_at": "2009-11-22T00:03:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36616",
    "user": "https://github.com/qed777"
}
```

<a id='comment:18'>Comment 18:</a>
I just noticed #7502, which could be relevant and useful here.



---

archive/issue_comments_036617.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nI should have entered 'kcrisman' in the \"Cc\" field.  Sorry about that!  Or, if you did not wish to be alerted, the correction...",
    "created_at": "2009-11-22T00:08:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36617",
    "user": "https://github.com/qed777"
}
```

<a id='comment:19'>Comment 19:</a>
I should have entered 'kcrisman' in the "Cc" field.  Sorry about that!  Or, if you did not wish to be alerted, the correction...



---

archive/issue_comments_036618.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nFrom `sage.plot.colors.float_to_html`'s docstring:\n\n```\nThis may not seem necessary, but there are some odd cases where matplotlib is just plain schizophrenic \u2013 for an example, do\n\nsage: vertex_colors = {(1.0, 0.8571428571428571, 0.0): [4, 5, 6], (0.28571428571428559, 0.0, 1.0): [14, 15, 16], (1.0, 0.0, 0.0): [0, 1, 2, 3], (0.0, 0.57142857142857162, 1.0): [12, 13], (1.0, 0.0, 0.85714285714285676): [17, 18, 19], (0.0, 1.0, 0.57142857142857162): [10, 11], (0.28571428571428581, 1.0, 0.0): [7, 8, 9]}\nsage: graphs.DodecahedralGraph().show(vertex_colors=vertex_colors)\n\nNotice how the colors don\u2019t respect the partition at all.....\n```\nIs this still true?  The example appears to work for me, but I could be misinterpreting it.",
    "created_at": "2009-11-22T03:41:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36618",
    "user": "https://github.com/qed777"
}
```

<a id='comment:20'>Comment 20:</a>
From `sage.plot.colors.float_to_html`'s docstring:

```
This may not seem necessary, but there are some odd cases where matplotlib is just plain schizophrenic – for an example, do

sage: vertex_colors = {(1.0, 0.8571428571428571, 0.0): [4, 5, 6], (0.28571428571428559, 0.0, 1.0): [14, 15, 16], (1.0, 0.0, 0.0): [0, 1, 2, 3], (0.0, 0.57142857142857162, 1.0): [12, 13], (1.0, 0.0, 0.85714285714285676): [17, 18, 19], (0.0, 1.0, 0.57142857142857162): [10, 11], (0.28571428571428581, 1.0, 0.0): [7, 8, 9]}
sage: graphs.DodecahedralGraph().show(vertex_colors=vertex_colors)

Notice how the colors don’t respect the partition at all.....
```
Is this still true?  The example appears to work for me, but I could be misinterpreting it.



---

archive/issue_comments_036619.json:
```json
{
    "body": "Attachment: **[trac_5601-builtin_colors_v4.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v4.patch.gz)**\n\nAdd to reference manual.  Defer loading of color maps.  Apply only this patch.",
    "created_at": "2009-11-22T05:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36619",
    "user": "https://github.com/qed777"
}
```

Attachment: **[trac_5601-builtin_colors_v4.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v4.patch.gz)**

Add to reference manual.  Defer loading of color maps.  Apply only this patch.



---

archive/issue_comments_036620.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nVersion 4:\n\n* Tweaks some docstrings.\n* Adds `sage.plot.colors` to the reference manual.\n* Lazily loads matplotlib's colormaps into `sage.plot.colors.colormaps`.\n* Adds `colors` and `colormaps` to the objects imported in `sage.plot.all`.\n* Does not include the `float_to_html` example above.\n\nFeel free to make or suggest changes!",
    "created_at": "2009-11-22T05:41:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36620",
    "user": "https://github.com/qed777"
}
```

<a id='comment:21'>Comment 21:</a>
Version 4:

* Tweaks some docstrings.
* Adds `sage.plot.colors` to the reference manual.
* Lazily loads matplotlib's colormaps into `sage.plot.colors.colormaps`.
* Adds `colors` and `colormaps` to the objects imported in `sage.plot.all`.
* Does not include the `float_to_html` example above.

Feel free to make or suggest changes!



---

archive/issue_comments_036621.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nSorry I won't be able to review this (travel) in the next little bit.  I do not actually think that the float_to_html thing is broken anymore, but I kept it when I refactored some of this stuff; as long as all the graph coloring and plot coloring things still work in the Sage library, it should be okay.  The more we do from mpl, the better, though.\n\nI do like the pink/punk and grassmann things, that's a little fun but also shows the errors.  Otherwise it seems this keeps the previous behavior while adding good access to important stuff.  One thing I don't like is that the diff is very hard to read for some reason - it might be worth doing a options='--no-commit' and then recommit, just to see if it will be easier to compare new and old!  But that's fairly trivial.",
    "created_at": "2009-11-24T01:43:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36621",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:22'>Comment 22:</a>
Sorry I won't be able to review this (travel) in the next little bit.  I do not actually think that the float_to_html thing is broken anymore, but I kept it when I refactored some of this stuff; as long as all the graph coloring and plot coloring things still work in the Sage library, it should be okay.  The more we do from mpl, the better, though.

I do like the pink/punk and grassmann things, that's a little fun but also shows the errors.  Otherwise it seems this keeps the previous behavior while adding good access to important stuff.  One thing I don't like is that the diff is very hard to read for some reason - it might be worth doing a options='--no-commit' and then recommit, just to see if it will be easier to compare new and old!  But that's fairly trivial.



---

archive/issue_comments_036622.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nReplying to [@kcrisman](#comment%3A22):\n> One thing I don't like is that the diff is very hard to read for some reason - [...]\n\nThis may stem from my changing the order of some definitions.",
    "created_at": "2009-11-24T08:01:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36622",
    "user": "https://github.com/qed777"
}
```

<a id='comment:23'>Comment 23:</a>
Replying to [@kcrisman](#comment%3A22):
> One thing I don't like is that the diff is very hard to read for some reason - [...]

This may stem from my changing the order of some definitions.



---

archive/issue_comments_036623.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nTo do:\n\n* Make `colormaps.<TAB>` list the colormaps, too.\n* Make `colors.<TAB>` list the colors.",
    "created_at": "2009-11-25T08:09:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36623",
    "user": "https://github.com/qed777"
}
```

<a id='comment:24'>Comment 24:</a>
To do:

* Make `colormaps.<TAB>` list the colormaps, too.
* Make `colors.<TAB>` list the colors.



---

archive/issue_comments_036624.json:
```json
{
    "body": "Attachment: **[trac_5601-builtin_colors_v5.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v5.patch.gz)**\n\nAttribute access for colors and color maps.  Apply only this patch.",
    "created_at": "2009-11-26T05:37:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36624",
    "user": "https://github.com/qed777"
}
```

Attachment: **[trac_5601-builtin_colors_v5.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v5.patch.gz)**

Attribute access for colors and color maps.  Apply only this patch.



---

archive/issue_comments_036625.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nReplying to [@qed777](#comment%3A24):\n> To do:\n> \n> * Make `colormaps.<TAB>` list the colormaps, too.\n> * Make `colors.<TAB>` list the colors.\n\nVersion 5 does both.",
    "created_at": "2009-11-26T05:38:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36625",
    "user": "https://github.com/qed777"
}
```

<a id='comment:25'>Comment 25:</a>
Replying to [@qed777](#comment%3A24):
> To do:
> 
> * Make `colormaps.<TAB>` list the colormaps, too.
> * Make `colors.<TAB>` list the colors.

Version 5 does both.



---

archive/issue_comments_036626.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nI just discovered [__add__ and friends](http://docs.python.org/reference/datamodel.html#emulating-numeric-types), so please wait on the review.",
    "created_at": "2009-11-27T08:05:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36626",
    "user": "https://github.com/qed777"
}
```

<a id='comment:26'>Comment 26:</a>
I just discovered [__add__ and friends](http://docs.python.org/reference/datamodel.html#emulating-numeric-types), so please wait on the review.



---

archive/issue_comments_036627.json:
```json
{
    "body": "Attachment: **[trac_5601-builtin_colors_v6.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v6.patch.gz)**\n\n[Scalar] add and multiply colors.  This patch only.",
    "created_at": "2009-12-03T16:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36627",
    "user": "https://github.com/qed777"
}
```

Attachment: **[trac_5601-builtin_colors_v6.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v6.patch.gz)**

[Scalar] add and multiply colors.  This patch only.



---

archive/issue_comments_036628.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nVersion 6:\n\n* Makes it possible to scalar add and multiply Sage `Color`s (cf. #5604.).  The RGB coordinates are reduced modulo 1.0 after each operation --- watch the order!  The `scale` and `lighter` methods simply cap values at 1.0.  For the sake of clarity: Adding colors does not take the arithmetic mean of their corresponding components.\n\n* Uses Sage `Color`s, instead of 3-tuples, for the values in `sage.plot.colors.colors`.  This is for the sake of uniformity and seems to make sense.  Later, we could extend the class from RGB to RGBA.  I added `__iter__` and `__getitem__` methods, so that doctests under `plot/` pass, but please report any problems!\n\nOn primary, secondary, tertiary, and quaternary colors, see, e.g., [this](http://members.cox.net/sn3nut/color%20theory.htm), [this](http://en.wikipedia.org/wiki/Tertiary_color), or [this](http://books.google.com/books?id=oFmoFNx-pDwC&pg=PA24&lpg=PA24&dq=quaternary+color+tertiary&source=bl&ots=Dnu8NaVDAD&sig=O6AWEkn9FLnf6pLWKT1a96DhcFU&hl=en&ei=yuIXS5HTOIngsQPWya2ZDg&sa=X&oi=book_result&ct=result&resnum=4&ved=0CBAQ6AEwAw#v=onepage&q=quaternary%20color%20tertiary&f=false).",
    "created_at": "2009-12-03T16:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36628",
    "user": "https://github.com/qed777"
}
```

<a id='comment:27'>Comment 27:</a>
Version 6:

* Makes it possible to scalar add and multiply Sage `Color`s (cf. #5604.).  The RGB coordinates are reduced modulo 1.0 after each operation --- watch the order!  The `scale` and `lighter` methods simply cap values at 1.0.  For the sake of clarity: Adding colors does not take the arithmetic mean of their corresponding components.

* Uses Sage `Color`s, instead of 3-tuples, for the values in `sage.plot.colors.colors`.  This is for the sake of uniformity and seems to make sense.  Later, we could extend the class from RGB to RGBA.  I added `__iter__` and `__getitem__` methods, so that doctests under `plot/` pass, but please report any problems!

On primary, secondary, tertiary, and quaternary colors, see, e.g., [this](http://members.cox.net/sn3nut/color%20theory.htm), [this](http://en.wikipedia.org/wiki/Tertiary_color), or [this](http://books.google.com/books?id=oFmoFNx-pDwC&pg=PA24&lpg=PA24&dq=quaternary+color+tertiary&source=bl&ots=Dnu8NaVDAD&sig=O6AWEkn9FLnf6pLWKT1a96DhcFU&hl=en&ei=yuIXS5HTOIngsQPWya2ZDg&sa=X&oi=book_result&ct=result&resnum=4&ved=0CBAQ6AEwAw#v=onepage&q=quaternary%20color%20tertiary&f=false).



---

archive/issue_comments_036629.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nBy the way, I definitely *won't* try to roll #5603 into this ticket.",
    "created_at": "2009-12-03T16:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36629",
    "user": "https://github.com/qed777"
}
```

<a id='comment:28'>Comment 28:</a>
By the way, I definitely *won't* try to roll #5603 into this ticket.



---

archive/issue_events_059583.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2009-12-10T12:32:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "title_is": "Colors: CSS3/SVG presets, construct from HSL/HSV, lighter/darker methods, linearly combine",
    "title_was": "predefine colors in Sage",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59583"
}
```



---

archive/issue_comments_036630.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,28 +1,11 @@\n-See the end of http://groups.google.com/group/sage-support/browse_thread/thread/44971aa416574675\n+The patch\n \n+* [attachment: trac_5601-builtin_colors_v6.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v6.patch.gz)\n \n-* predefining the colors recognized in strings as Color objects in the global namespace, i.e.,     \n+actually covers \n \n-```\n-    \"red\"   : (1.0,0.0,0.0),\n-    \"orange\": (1.0,.5,0.0),\n-    \"yellow\": (1.0,1.0,0.0),\n-    \"green\" : (0.0,1.0,0.0),\n-    \"blue\"  : (0.0,0.0,1.0),\n-    \"purple\": (.5,0.0,1.0),\n-    \"white\" : (1.0,1.0,1.0),\n-    \"black\" : (0.0,0.0,0.0),\n-    \"grey\"  : (.5,.5,.5) \n-```\n-\n-* predefine a huge number of colors (all x11 or html color strings?), but stick them in the color\n-namespace, so they would be accessed like color.goldenrod\n-\n-Related tickets:\n-\n-* #5601 - predefine colors in Sage.\n+* #5601 - predefine colors in Sage.  [Originally]\n * #5602 - make .lighter() and .darker() methods for Sage Color objects.\n-* #5603 - make a .mix() method for Sage color objects.\n * #5604 - average Color objects when adding them together.\n * #5605 - Construct Color objects using hsl and hsv values.\n \n``````\n",
    "created_at": "2009-12-10T12:32:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36630",
    "user": "https://github.com/qed777"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,28 +1,11 @@
-See the end of http://groups.google.com/group/sage-support/browse_thread/thread/44971aa416574675
+The patch
 
+* [attachment: trac_5601-builtin_colors_v6.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v6.patch.gz)
 
-* predefining the colors recognized in strings as Color objects in the global namespace, i.e.,     
+actually covers 
 
-```
-    "red"   : (1.0,0.0,0.0),
-    "orange": (1.0,.5,0.0),
-    "yellow": (1.0,1.0,0.0),
-    "green" : (0.0,1.0,0.0),
-    "blue"  : (0.0,0.0,1.0),
-    "purple": (.5,0.0,1.0),
-    "white" : (1.0,1.0,1.0),
-    "black" : (0.0,0.0,0.0),
-    "grey"  : (.5,.5,.5) 
-```
-
-* predefine a huge number of colors (all x11 or html color strings?), but stick them in the color
-namespace, so they would be accessed like color.goldenrod
-
-Related tickets:
-
-* #5601 - predefine colors in Sage.
+* #5601 - predefine colors in Sage.  [Originally]
 * #5602 - make .lighter() and .darker() methods for Sage Color objects.
-* #5603 - make a .mix() method for Sage color objects.
 * #5604 - average Color objects when adding them together.
 * #5605 - Construct Color objects using hsl and hsv values.
 
``````




---

archive/issue_comments_036631.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nBelieve it or not, this *also* takes care of ticket #5083, I think.  Truly a giant-slayer of a patch.",
    "created_at": "2009-12-10T14:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36631",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:30'>Comment 30:</a>
Believe it or not, this *also* takes care of ticket #5083, I think.  Truly a giant-slayer of a patch.



---

archive/issue_comments_036632.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nThis is great stuff.\n\nSome initial comments:\n\n \\# Lots of doctests are marked #random that shouldn't be (there should be no #random doctests).  Use ... to take care of memory addresses changing, and use sort(dict.items()) to take care of things like dictionaries.\n\n \\# .lighter() and .darker() seem to have too little contrast.  Can we make it so that they about double their steps?  In other words, can we make it so that .lighter() does what .lighter().lighter() does in this patch?\n\n \\# Interestingly, colors.white.darker() gives gray values, but colors.black.lighter() does not give gray values.\n\nOf these the first is the real technical issue.  Other things are fine-tuning that can be put off to another patch.",
    "created_at": "2009-12-10T14:53:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36632",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:31'>Comment 31:</a>
This is great stuff.

Some initial comments:

 \# Lots of doctests are marked #random that shouldn't be (there should be no #random doctests).  Use ... to take care of memory addresses changing, and use sort(dict.items()) to take care of things like dictionaries.

 \# .lighter() and .darker() seem to have too little contrast.  Can we make it so that they about double their steps?  In other words, can we make it so that .lighter() does what .lighter().lighter() does in this patch?

 \# Interestingly, colors.white.darker() gives gray values, but colors.black.lighter() does not give gray values.

Of these the first is the real technical issue.  Other things are fine-tuning that can be put off to another patch.



---

archive/issue_comments_036633.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nHere's another issue:\n`circle((0,0),radius=1,fill=True,facecolor=colors.white+colors.green)` produces a purple circle!",
    "created_at": "2009-12-10T14:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36633",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:32'>Comment 32:</a>
Here's another issue:
`circle((0,0),radius=1,fill=True,facecolor=colors.white+colors.green)` produces a purple circle!



---

archive/issue_comments_036634.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nI just looked at this too.  Overall, a great patch, and well documented and well thought out.  One quibble is whether it should be \"An Red-Green-Blue\" or \"A\"; I know it's \"An RGB\", but this seems awkward.  Is it necessary for ColorMaps to inherit from collections.whatever, also?\n\nBut the downside of such a patch is that all these things are together, so we can't give positive review to the good parts.  And adding colors and the lighter/darker do not function at all properly.  In addition to Jason's example, red+yellow=green, not orange, with this addition; further, you can't make red lighter (to, say, pink) and making it darker gives... brown.  \n\nSo  I think that all of those things should use HSV or HSL, and you can increase or decrease S or L as seems to work best for lighter/darker, and do a color-wheel addition of hues for addition.  This is a little tricky - because the color wheel has nontrivial fundamental group, you can't get a unique answer for adding orange and blue, say.  (There are some interesting psych experiments where subjects shown complementary colors in the two eyes see either a superimposition of the colors, or the colors switching back and forth.)  Oh, and what the heck does multiplying a color by a color mean?  I think that should be removed unless there is a natural interpretation; scalar mult only, please, and that can be the RGB mult.\n\nAnyway, I think this is all doable, but it's a shame this would hold up the excellent refactoring and improvement of colors and colormaps.  Why not just remove the not properly working things, and keep their tickets open, but do the base stuff here?\n\nAnd as for the random doctests... Jason, I think he marked them that way because the default colors and colormaps may change.  But probably that will just be something that should be fixed each time we upgrade matplotlib or something.",
    "created_at": "2009-12-10T18:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36634",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:33'>Comment 33:</a>
I just looked at this too.  Overall, a great patch, and well documented and well thought out.  One quibble is whether it should be "An Red-Green-Blue" or "A"; I know it's "An RGB", but this seems awkward.  Is it necessary for ColorMaps to inherit from collections.whatever, also?

But the downside of such a patch is that all these things are together, so we can't give positive review to the good parts.  And adding colors and the lighter/darker do not function at all properly.  In addition to Jason's example, red+yellow=green, not orange, with this addition; further, you can't make red lighter (to, say, pink) and making it darker gives... brown.  

So  I think that all of those things should use HSV or HSL, and you can increase or decrease S or L as seems to work best for lighter/darker, and do a color-wheel addition of hues for addition.  This is a little tricky - because the color wheel has nontrivial fundamental group, you can't get a unique answer for adding orange and blue, say.  (There are some interesting psych experiments where subjects shown complementary colors in the two eyes see either a superimposition of the colors, or the colors switching back and forth.)  Oh, and what the heck does multiplying a color by a color mean?  I think that should be removed unless there is a natural interpretation; scalar mult only, please, and that can be the RGB mult.

Anyway, I think this is all doable, but it's a shame this would hold up the excellent refactoring and improvement of colors and colormaps.  Why not just remove the not properly working things, and keep their tickets open, but do the base stuff here?

And as for the random doctests... Jason, I think he marked them that way because the default colors and colormaps may change.  But probably that will just be something that should be fixed each time we upgrade matplotlib or something.



---

archive/issue_comments_036635.json:
```json
{
    "body": "Reviewer: **Jason Grout, Karl-Dieter Crisman**",
    "created_at": "2009-12-10T18:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36635",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Jason Grout, Karl-Dieter Crisman**



---

archive/issue_events_059584.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-12-10T18:25:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59584"
}
```



---

archive/issue_events_059585.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-12-10T18:25:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59585"
}
```



---

archive/issue_comments_036636.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nReplying to [@kcrisman](#comment%3A33):\n\n> Anyway, I think this is all doable, but it's a shame this would hold up the excellent refactoring and improvement of colors and colormaps.  Why not just remove the not properly working things, and keep their tickets open, but do the base stuff here?\n\nI agree.  Let's remove (or at least comment out) the addition stuff right now until we have a better grasp of what we want and how to get it.\n\nI believe MMA just implements a Blend function, and then makes lighter and darker just blending with black or white, and it's also consistent with blending other colors.\n\n\n> And as for the random doctests... Jason, I think he marked them that way because the default colors and colormaps may change.  But probably that will just be something that should be fixed each time we upgrade matplotlib or something.\n\nI don't think the colormaps in matplotlib have been touched in a long time.  I wouldn't worry too much about having to fix things up very often.  And it's much better to fix it up than to have it not doctested by putting a #random there.",
    "created_at": "2009-12-10T18:30:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36636",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:34'>Comment 34:</a>
Replying to [@kcrisman](#comment%3A33):

> Anyway, I think this is all doable, but it's a shame this would hold up the excellent refactoring and improvement of colors and colormaps.  Why not just remove the not properly working things, and keep their tickets open, but do the base stuff here?

I agree.  Let's remove (or at least comment out) the addition stuff right now until we have a better grasp of what we want and how to get it.

I believe MMA just implements a Blend function, and then makes lighter and darker just blending with black or white, and it's also consistent with blending other colors.


> And as for the random doctests... Jason, I think he marked them that way because the default colors and colormaps may change.  But probably that will just be something that should be fixed each time we upgrade matplotlib or something.

I don't think the colormaps in matplotlib have been touched in a long time.  I wouldn't worry too much about having to fix things up very often.  And it's much better to fix it up than to have it not doctested by putting a #random there.



---

archive/issue_comments_036637.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nMMA Blend function: http://reference.wolfram.com/mathematica/ref/Blend.html",
    "created_at": "2009-12-10T18:32:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36637",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:35'>Comment 35:</a>
MMA Blend function: http://reference.wolfram.com/mathematica/ref/Blend.html



---

archive/issue_comments_036638.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nI think MMA just does a weighted average of colors.  In other words, for each component, color1.blend(color2,fraction) would create a new color (1-fraction)*color1+(fraction)*color2.\n\nI thought color1+color2 would be color1.blend(color2,1/2)\n\nMMA then has:\n\ncolor.lighter() is just color.blend(colors.white,1/3)\n\ncolor.darker() is just color.blend(colors.black,1/2)\n\nI'm not quite sure what this patch does.",
    "created_at": "2009-12-10T18:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36638",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:36'>Comment 36:</a>
I think MMA just does a weighted average of colors.  In other words, for each component, color1.blend(color2,fraction) would create a new color (1-fraction)*color1+(fraction)*color2.

I thought color1+color2 would be color1.blend(color2,1/2)

MMA then has:

color.lighter() is just color.blend(colors.white,1/3)

color.darker() is just color.blend(colors.black,1/2)

I'm not quite sure what this patch does.



---

archive/issue_comments_036639.json:
```json
{
    "body": "apply on top of previous patch; implements blending",
    "created_at": "2009-12-10T23:38:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36639",
    "user": "https://github.com/jasongrout"
}
```

apply on top of previous patch; implements blending



---

archive/issue_comments_036640.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nAttachment: **[trac-5601-blending.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac-5601-blending.patch.gz)**\n\nI attached a *rough* patch that implements the mma-style blending, lighter(), and darker().  What do you think?  I don't know that much about color theory, so I don't know what \"should\" happen, but now colors.yellow+colors.green gives yellowgreenish colors.",
    "created_at": "2009-12-10T23:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36640",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:37'>Comment 37:</a>
Attachment: **[trac-5601-blending.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac-5601-blending.patch.gz)**

I attached a *rough* patch that implements the mma-style blending, lighter(), and darker().  What do you think?  I don't know that much about color theory, so I don't know what "should" happen, but now colors.yellow+colors.green gives yellowgreenish colors.



---

archive/issue_comments_036641.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nAccording to http://stackoverflow.com/questions/398224/how-to-mix-colors-naturally-with-c/398268#398268, we really want to work in Lab space to mix colors, because then linear changes become linear changes in perception (i.e., Lab is designed so that it is easy to change the perception by a certain amount).\n\nAlso, here's some results using alpha values: http://stackoverflow.com/questions/726549/algorithm-for-additive-color-mixing-for-rgb-values\n\nFor lightening or darkening, some suggestions here are to convert to hsl or hsv and modify the correct component: http://stackoverflow.com/questions/97646/how-do-i-determine-darker-or-lighter-color-variant-of-a-given-color\n\nSo, as always, it is not as easy as it appears at all.  However, it looks like it might be easy to convert to hsl or hsv for the darker/lighter commands pretty easily, especially since we already have functions to do that.",
    "created_at": "2009-12-11T00:05:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36641",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:38'>Comment 38:</a>
According to http://stackoverflow.com/questions/398224/how-to-mix-colors-naturally-with-c/398268#398268, we really want to work in Lab space to mix colors, because then linear changes become linear changes in perception (i.e., Lab is designed so that it is easy to change the perception by a certain amount).

Also, here's some results using alpha values: http://stackoverflow.com/questions/726549/algorithm-for-additive-color-mixing-for-rgb-values

For lightening or darkening, some suggestions here are to convert to hsl or hsv and modify the correct component: http://stackoverflow.com/questions/97646/how-do-i-determine-darker-or-lighter-color-variant-of-a-given-color

So, as always, it is not as easy as it appears at all.  However, it looks like it might be easy to convert to hsl or hsv for the darker/lighter commands pretty easily, especially since we already have functions to do that.



---

archive/issue_comments_036642.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\n+1 to working in non-RGB space for color mixing. \n\nAlso, it might be nice if lighter() and darker() take an optional parameter, so c.lighter(3) would be the same as c.ligher().lighter().lighter()",
    "created_at": "2009-12-11T00:47:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36642",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:39'>Comment 39:</a>
+1 to working in non-RGB space for color mixing. 

Also, it might be nice if lighter() and darker() take an optional parameter, so c.lighter(3) would be the same as c.ligher().lighter().lighter()



---

archive/issue_comments_036643.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nGood point.  In the mma model (and my patch), c.lighter() is just c.blend(white,1/3).  c.lighter(k) is just c.blend(white,k), so c.lighter(0) is c, and c.lighter(1) is white.  I can see where your idea would be very useful too, though.  We ought to make lighter/darker take the fraction as a keyword argument, though, and make the number of times the first positional argument:\n\ndef lighter(self, times=1, fraction=1.0/3.0):\n    fraction=float(fraction)\n    c = self\n    for i in range(times):\n        c = c.blend((1.0, 1.0, 1.0), fraction)\n    return c\n\n(that is, if we decide to go with the blending patch for now)",
    "created_at": "2009-12-11T01:04:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36643",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:40'>Comment 40:</a>
Good point.  In the mma model (and my patch), c.lighter() is just c.blend(white,1/3).  c.lighter(k) is just c.blend(white,k), so c.lighter(0) is c, and c.lighter(1) is white.  I can see where your idea would be very useful too, though.  We ought to make lighter/darker take the fraction as a keyword argument, though, and make the number of times the first positional argument:

def lighter(self, times=1, fraction=1.0/3.0):
    fraction=float(fraction)
    c = self
    for i in range(times):
        c = c.blend((1.0, 1.0, 1.0), fraction)
    return c

(that is, if we decide to go with the blending patch for now)



---

archive/issue_comments_036644.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nOf course:\n\n```\ndef lighter(self, times=1, fraction=1.0/3.0):\n    fraction=float(fraction) \n    c = self \n    for i in range(times):\n        c = c.blend((1.0, 1.0, 1.0), fraction)\n    return c\n```",
    "created_at": "2009-12-11T01:05:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36644",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:41'>Comment 41:</a>
Of course:

```
def lighter(self, times=1, fraction=1.0/3.0):
    fraction=float(fraction) 
    c = self 
    for i in range(times):
        c = c.blend((1.0, 1.0, 1.0), fraction)
    return c
```



---

archive/issue_comments_036645.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nOn lighter/darker: V6 just scalar multiplied the RGB coordinates, which I think is equivalent to scaling L in HSL or V in HSV.  For scaling up from black, in this approach, I should have returned some grey.  But interpolation looks good to me!\n\nAnyway, I apologize for the mess, especially for claiming to cover #5604.  Thanks for the feedback and corrections!",
    "created_at": "2009-12-11T11:11:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36645",
    "user": "https://github.com/qed777"
}
```

<a id='comment:42'>Comment 42:</a>
On lighter/darker: V6 just scalar multiplied the RGB coordinates, which I think is equivalent to scaling L in HSL or V in HSV.  For scaling up from black, in this approach, I should have returned some grey.  But interpolation looks good to me!

Anyway, I apologize for the mess, especially for claiming to cover #5604.  Thanks for the feedback and corrections!



---

archive/issue_comments_036646.json:
```json
{
    "body": "Attachment: **[trac_5601-builtin_colors_v7.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v7.patch.gz)**\n\nDoctest fixes.  Combined patch rebased vs. 4.3.3.alpha1.  Apply only this patch.",
    "created_at": "2010-02-22T00:51:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36646",
    "user": "https://github.com/qed777"
}
```

Attachment: **[trac_5601-builtin_colors_v7.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v7.patch.gz)**

Doctest fixes.  Combined patch rebased vs. 4.3.3.alpha1.  Apply only this patch.



---

archive/issue_events_059586.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-02-22T01:01:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59586"
}
```



---

archive/issue_events_059587.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-02-22T01:01:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59587"
}
```



---

archive/issue_comments_036647.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nI've attached V7, which is V6 + Jason Grout's \"blending\" patch + doctest / docstring fixes.\n\nPlease review, experiment, blend, plot, test, etc., and let me know if there are problems!\n\nI've added Bill Cauchois to the Cc: list, since I've updated some tests in `sage.plot.plot3d.base` (cf. #7985, #8235).",
    "created_at": "2010-02-22T01:01:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36647",
    "user": "https://github.com/qed777"
}
```

<a id='comment:43'>Comment 43:</a>
I've attached V7, which is V6 + Jason Grout's "blending" patch + doctest / docstring fixes.

Please review, experiment, blend, plot, test, etc., and let me know if there are problems!

I've added Bill Cauchois to the Cc: list, since I've updated some tests in `sage.plot.plot3d.base` (cf. #7985, #8235).



---

archive/issue_comments_036648.json:
```json
{
    "body": "Changed author from **Mitesh Patel** to **Jason Grout, Mitesh Patel**",
    "created_at": "2010-02-22T01:01:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36648",
    "user": "https://github.com/qed777"
}
```

Changed author from **Mitesh Patel** to **Jason Grout, Mitesh Patel**



---

archive/issue_comments_036649.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nReplying to [@qed777](#comment%3A43):\n> Please review, experiment, blend, plot, test, etc., and let me know if there are problems!\n\nOr fix them. :)",
    "created_at": "2010-02-22T01:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36649",
    "user": "https://github.com/qed777"
}
```

<a id='comment:44'>Comment 44:</a>
Replying to [@qed777](#comment%3A43):
> Please review, experiment, blend, plot, test, etc., and let me know if there are problems!

Or fix them. :)



---

archive/issue_events_059588.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-02-22T04:13:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "title_is": "Colors: CSS3/SVG presets, construct from HSL/HSV, blend/lighter/darker methods",
    "title_was": "Colors: CSS3/SVG presets, construct from HSL/HSV, lighter/darker methods, linearly combine",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59588"
}
```



---

archive/issue_comments_036650.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,11 +1,5 @@\n The patch\n \n-* [attachment: trac_5601-builtin_colors_v6.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v6.patch.gz)\n+* [attachment: trac_5601-builtin_colors_v7.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v7.patch.gz)\n \n-actually covers \n-\n-* #5601 - predefine colors in Sage.  [Originally]\n-* #5602 - make .lighter() and .darker() methods for Sage Color objects.\n-* #5604 - average Color objects when adding them together.\n-* #5605 - Construct Color objects using hsl and hsv values.\n-\n+may also cover parts of #5602, #5603, #5604, and #5605.\n``````\n",
    "created_at": "2010-02-22T04:13:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36650",
    "user": "https://github.com/qed777"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,11 +1,5 @@
 The patch
 
-* [attachment: trac_5601-builtin_colors_v6.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v6.patch.gz)
+* [attachment: trac_5601-builtin_colors_v7.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v7.patch.gz)
 
-actually covers 
-
-* #5601 - predefine colors in Sage.  [Originally]
-* #5602 - make .lighter() and .darker() methods for Sage Color objects.
-* #5604 - average Color objects when adding them together.
-* #5605 - Construct Color objects using hsl and hsv values.
-
+may also cover parts of #5602, #5603, #5604, and #5605.
``````




---

archive/issue_comments_036651.json:
```json
{
    "body": "Attachment: **[trac_5601-sagenb_doctest.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-sagenb_doctest.patch.gz)**\n\nFix `interact` doctest.  **sagenb** repo.",
    "created_at": "2010-02-22T04:18:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36651",
    "user": "https://github.com/qed777"
}
```

Attachment: **[trac_5601-sagenb_doctest.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-sagenb_doctest.patch.gz)**

Fix `interact` doctest.  **sagenb** repo.



---

archive/issue_comments_036652.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,11 @@\n-The patch\n+The *sage* repository patch\n \n * [attachment: trac_5601-builtin_colors_v7.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v7.patch.gz)\n \n may also cover parts of #5602, #5603, #5604, and #5605.\n+\n+The *sagenb* respository patch\n+\n+* [attachment: trac_5601-sagenb_doctest.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-sagenb_doctest.patch.gz)\n+\n+fixes a doctest in `sagenb.notebook.interact` (purple has changed).\n``````\n",
    "created_at": "2010-02-22T04:20:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36652",
    "user": "https://github.com/qed777"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,11 @@
-The patch
+The *sage* repository patch
 
 * [attachment: trac_5601-builtin_colors_v7.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v7.patch.gz)
 
 may also cover parts of #5602, #5603, #5604, and #5605.
+
+The *sagenb* respository patch
+
+* [attachment: trac_5601-sagenb_doctest.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-sagenb_doctest.patch.gz)
+
+fixes a doctest in `sagenb.notebook.interact` (purple has changed).
``````




---

archive/issue_events_059589.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-02-27T20:58:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59589"
}
```



---

archive/issue_events_059590.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-02-27T20:58:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59590"
}
```



---

archive/issue_comments_036653.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nI've looked at this pretty carefully before.  The examples I give above seem to work.  I presume that your incorporation of my blending patch is a positive review of that part.  All doctests pass in plot/* and plot/plot3d/*.  I also played around with it a bit more and it seems like everything is very nicely done.  So positive review!",
    "created_at": "2010-02-27T20:58:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36653",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:47'>Comment 47:</a>
I've looked at this pretty carefully before.  The examples I give above seem to work.  I presume that your incorporation of my blending patch is a positive review of that part.  All doctests pass in plot/* and plot/plot3d/*.  I also played around with it a bit more and it seems like everything is very nicely done.  So positive review!



---

archive/issue_comments_036654.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nMerged [trac_5601-builtin_colors_v7.patch](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v7.patch.gz) in the Sage library. I leave it to the SageNB project manager to merge [trac_5601-sagenb_doctest.patch](https://github.com/sagemath/sage/files/ticket5601/trac_5601-sagenb_doctest.patch.gz) into the SageNB repository. After doing so, the said manager could close this ticket as fixed.",
    "created_at": "2010-03-03T14:13:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36654",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<a id='comment:48'>Comment 48:</a>
Merged [trac_5601-builtin_colors_v7.patch](https://github.com/sagemath/sage/files/ticket5601/trac_5601-builtin_colors_v7.patch.gz) in the Sage library. I leave it to the SageNB project manager to merge [trac_5601-sagenb_doctest.patch](https://github.com/sagemath/sage/files/ticket5601/trac_5601-sagenb_doctest.patch.gz) into the SageNB repository. After doing so, the said manager could close this ticket as fixed.



---

archive/issue_comments_036655.json:
```json
{
    "body": "Merged: **sage-4.3.4.alpha0**",
    "created_at": "2010-03-03T14:13:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36655",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Merged: **sage-4.3.4.alpha0**



---

archive/issue_comments_036656.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\nNote: merging trac_5601-sagenb_doctest.patch should fix one of the doctest failures listed at #8430.",
    "created_at": "2010-03-03T22:29:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36656",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:49'>Comment 49:</a>
Note: merging trac_5601-sagenb_doctest.patch should fix one of the doctest failures listed at #8430.



---

archive/issue_comments_036657.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nI'm merging [attachment: trac_5601-sagenb_doctest.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-sagenb_doctest.patch.gz) into SageNB 0.7.5.2.  See #8435.",
    "created_at": "2010-03-04T22:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36657",
    "user": "https://github.com/qed777"
}
```

<a id='comment:50'>Comment 50:</a>
I'm merging [attachment: trac_5601-sagenb_doctest.patch.gz](https://github.com/sagemath/sage/files/ticket5601/trac_5601-sagenb_doctest.patch.gz) into SageNB 0.7.5.2.  See #8435.



---

archive/issue_comments_036658.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\nWhat should we do about #5602, #5603, #5604, and #5605?  Close them and open new tickets for the ideas mentioned above?",
    "created_at": "2010-03-04T22:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36658",
    "user": "https://github.com/qed777"
}
```

<a id='comment:51'>Comment 51:</a>
What should we do about #5602, #5603, #5604, and #5605?  Close them and open new tickets for the ideas mentioned above?



---

archive/issue_events_059591.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-03-06T15:50:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59591"
}
```



---

archive/issue_events_059592.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-03-06T15:50:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5601#event-59592"
}
```



---

archive/issue_comments_036659.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nUnless I am mistaken, the release manager should close this, and mark the resolution as 'fixed'. Since this is not merged yet, it looks to me that this might get overlooked if you are not careful. \n\nDave",
    "created_at": "2010-03-08T02:28:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5601",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5601#issuecomment-36659",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:53'>Comment 53:</a>
Unless I am mistaken, the release manager should close this, and mark the resolution as 'fixed'. Since this is not merged yet, it looks to me that this might get overlooked if you are not careful. 

Dave
