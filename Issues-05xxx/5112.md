# Issue 5112: generic Pollard lambda algorithm

archive/issues_005112.json:
```json
{
    "body": "Following #5098, here is a generic implementation of Pollard lambda algorithm.\nThere is probably still lots of room for optimization, but it works.\n\n**CC:**  mraum\n\n**Author:** Yann Laigle-Chapuy\n\n**Reviewer:** Martin Raum\n\n**Merged:** sage-4.3.rc1\n\nIssue created by migration from https://trac.sagemath.org/ticket/5112\n\n",
    "closed_at": "2009-12-15T16:12:54Z",
    "created_at": "2009-01-27T20:50:07Z",
    "labels": [
        "component: algebra",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3",
    "title": "generic Pollard lambda algorithm",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5112",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```
Following #5098, here is a generic implementation of Pollard lambda algorithm.
There is probably still lots of room for optimization, but it works.

**CC:**  mraum

**Author:** Yann Laigle-Chapuy

**Reviewer:** Martin Raum

**Merged:** sage-4.3.rc1

Issue created by migration from https://trac.sagemath.org/ticket/5112





---

archive/issue_comments_041607.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2009-01-27T20:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41607",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_041608.json:
```json
{
    "body": "<a id='comment:1'></a>\npatch needs #5098 to be applied first.",
    "created_at": "2009-01-27T20:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41608",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

<a id='comment:1'></a>
patch needs #5098 to be applied first.



---

archive/issue_comments_041609.json:
```json
{
    "body": "<a id='comment:2'></a>\npatch updated. should be applied after #5098 trac-5098-alpha2based.patch",
    "created_at": "2009-01-29T12:29:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41609",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

<a id='comment:2'></a>
patch updated. should be applied after #5098 trac-5098-alpha2based.patch



---

archive/issue_comments_041610.json:
```json
{
    "body": "<a id='comment:3'></a>\nPatch applies fine to 3.3.alpha2 + (from #5098) trac-5098-alpha2based.patch and tests pass.  Code looks good and docstring & doctests are fine.\n\nI think it is excellent to have more of these generic algorithms available.  Pass!",
    "created_at": "2009-02-01T15:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41610",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:3'></a>
Patch applies fine to 3.3.alpha2 + (from #5098) trac-5098-alpha2based.patch and tests pass.  Code looks good and docstring & doctests are fine.

I think it is excellent to have more of these generic algorithms available.  Pass!



---

archive/issue_events_014966.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "rename": {
        "from": "generic Pollard lambda algorithm",
        "to": "[with positive  review] generic Pollard lambda algorithm"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5112#event-14966"
}
```



---

archive/issue_comments_041611.json:
```json
{
    "body": "<a id='comment:4'></a>\nJohn,\n\nplease make sure not to sneak extra spaces in between positive and review since the reports do not pick up such tickets. The reports should be fixed to ignore extra white space, but until then ....\n\nCheers,\n\nMichael",
    "created_at": "2009-02-01T15:36:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41611",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:4'></a>
John,

please make sure not to sneak extra spaces in between positive and review since the reports do not pick up such tickets. The reports should be fixed to ignore extra white space, but until then ....

Cheers,

Michael



---

archive/issue_events_014967.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "rename": {
        "from": "[with positive  review] generic Pollard lambda algorithm",
        "to": "generic Pollard lambda algorithm"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5112#event-14967"
}
```



---

archive/issue_comments_041612.json:
```json
{
    "body": "**Changing status** from new to positive_review.",
    "created_at": "2009-02-01T15:36:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41612",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

**Changing status** from new to positive_review.



---

archive/attachments_005740.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac-5112.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket5112/trac-5112.patch",
    "created_at": "2009-02-11T10:19:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```



---

archive/issue_comments_041613.json:
```json
{
    "body": "<a id='comment:5'></a>\npatch updated after trac-5098-doctest.patch",
    "created_at": "2009-02-11T10:19:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41613",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

<a id='comment:5'></a>
patch updated after trac-5098-doctest.patch



---

archive/issue_comments_041614.json:
```json
{
    "body": "**Changing status** from positive_review to needs_review.",
    "created_at": "2009-02-11T10:19:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41614",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

**Changing status** from positive_review to needs_review.



---

archive/issue_comments_041615.json:
```json
{
    "body": "<a id='comment:6'></a>\nHi Yann,\n\nhow large are the changes? If it is \"just\" a rebase with no or minimal functional changes (i.e. some exception changed) the positive review can stand.\n\nCheers,\n\nMichael",
    "created_at": "2009-02-11T10:49:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41615",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:6'></a>
Hi Yann,

how large are the changes? If it is "just" a rebase with no or minimal functional changes (i.e. some exception changed) the positive review can stand.

Cheers,

Michael



---

archive/issue_comments_041616.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2009-02-11T11:39:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41616",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_041617.json:
```json
{
    "body": "<a id='comment:7'></a>\nyes, it's indeed strictly a rebase. I just wanted to be sure the patch applies cleanly.",
    "created_at": "2009-02-11T11:39:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41617",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

<a id='comment:7'></a>
yes, it's indeed strictly a rebase. I just wanted to be sure the patch applies cleanly.



---

archive/issue_events_014968.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-02-14T03:00:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "milestone": "sage-3.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5112#event-14968"
}
```



---

archive/issue_comments_041618.json:
```json
{
    "body": "<a id='comment:8'></a>\nThis is 3.3 material.\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T03:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41618",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:8'></a>
This is 3.3 material.

Cheers,

Michael



---

archive/issue_comments_041619.json:
```json
{
    "body": "<a id='comment:9'></a>\nSECOND REVIEW:\n\n* Line 1 of docstring: \"Pollard Lambda algorithm for computing discrete logarithm.\"\nIt should be \"Pollard Lambda algorithm for computing discrete logarithms.\" or \"Pollard Lambda algorithm for computing the discrete logarithm.\"\n\n* The docstring has a typo in line 2: \"usefull\" \n\n* The sections in the docstring should have space between them (e.g., a blank line before EXAMPLES:).  This can be ignored because of the ReST/Sphinx transition, which will probably change that. \n\n* I noticed this line\n\n```\nN = width.isqrt()+1 \n```\nIf width is a Python int then that will fail.  This is easy to trigger and will accidentally happen in library code easily:\n\n```\nsage: F.<a> = GF(2^63) \nsage: g = F.gen()\nsage: pollard_lambda(g, g^1234567, (1200000,1250000)) \n1234567\nsage: pollard_lambda(g, g^1234567, (int(1200000), int(1250000))) \n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n\n/space/wstein/sage-3.3.rc0/<ipython console> in <module>()\n\n/space/wstein/sage-3.3.rc0/local/lib/python2.5/site-packages/sage/groups/generic.pyc in pollard_lambda(base, a, bounds, ord, operation, hash_function, memory)\n    649 \n    650     width = ub-lb\n--> 651     N = width.isqrt()+1\n    652 \n    653     M = dict()\n\nAttributeError: 'int' object has no attribute 'isqrt'\n```\n\n* the doctests are insufficient.  The function signature is\n\n```\ndef pollard_lambda(base, a, bounds, ord=None, operation='*', hash_function=hash, memory=None): \n```\nAt a bare minimum, there must be doctests that test use of all the inputs to the function.",
    "created_at": "2009-02-15T08:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41619",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:9'></a>
SECOND REVIEW:

* Line 1 of docstring: "Pollard Lambda algorithm for computing discrete logarithm."
It should be "Pollard Lambda algorithm for computing discrete logarithms." or "Pollard Lambda algorithm for computing the discrete logarithm."

* The docstring has a typo in line 2: "usefull" 

* The sections in the docstring should have space between them (e.g., a blank line before EXAMPLES:).  This can be ignored because of the ReST/Sphinx transition, which will probably change that. 

* I noticed this line

```
N = width.isqrt()+1 
```
If width is a Python int then that will fail.  This is easy to trigger and will accidentally happen in library code easily:

```
sage: F.<a> = GF(2^63) 
sage: g = F.gen()
sage: pollard_lambda(g, g^1234567, (1200000,1250000)) 
1234567
sage: pollard_lambda(g, g^1234567, (int(1200000), int(1250000))) 
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)

/space/wstein/sage-3.3.rc0/<ipython console> in <module>()

/space/wstein/sage-3.3.rc0/local/lib/python2.5/site-packages/sage/groups/generic.pyc in pollard_lambda(base, a, bounds, ord, operation, hash_function, memory)
    649 
    650     width = ub-lb
--> 651     N = width.isqrt()+1
    652 
    653     M = dict()

AttributeError: 'int' object has no attribute 'isqrt'
```

* the doctests are insufficient.  The function signature is

```
def pollard_lambda(base, a, bounds, ord=None, operation='*', hash_function=hash, memory=None): 
```
At a bare minimum, there must be doctests that test use of all the inputs to the function.



---

archive/issue_comments_041620.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2009-02-15T08:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41620",
    "user": "https://github.com/williamstein"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_events_014969.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-02-16T05:00:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "milestone": "sage-3.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5112#event-14969"
}
```



---

archive/issue_events_014970.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-02-16T05:00:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "milestone": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5112#event-14970"
}
```



---

archive/issue_comments_041621.json:
```json
{
    "body": "<a id='comment:10'></a>\nI am cleaning up the 3.3 milestone. If a patch with positive review is put up to this ticket on time it might make it into 3.3.\n\nCheers,\n\nMichael",
    "created_at": "2009-02-16T05:00:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41621",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:10'></a>
I am cleaning up the 3.3 milestone. If a patch with positive review is put up to this ticket on time it might make it into 3.3.

Cheers,

Michael



---

archive/issue_comments_041622.json:
```json
{
    "body": "**Upstream:** N/A",
    "created_at": "2009-12-14T18:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41622",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

**Upstream:** N/A



---

archive/issue_comments_041623.json:
```json
{
    "body": "<a id='comment:11'></a>\nIt should be quite similar to #5098.",
    "created_at": "2009-12-14T18:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41623",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

<a id='comment:11'></a>
It should be quite similar to #5098.



---

archive/issue_comments_041624.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2009-12-14T18:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41624",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_041625.json:
```json
{
    "body": "**Author:** Yann Laigle-Chapuy",
    "created_at": "2009-12-14T18:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41625",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

**Author:** Yann Laigle-Chapuy



---

archive/attachments_005741.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac-5112-rebased.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket5112/trac-5112-rebased.patch",
    "created_at": "2009-12-14T23:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```



---

archive/issue_comments_041626.json:
```json
{
    "body": "based on 4.3.alpha1 + #5098",
    "created_at": "2009-12-14T23:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41626",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

based on 4.3.alpha1 + #5098



---

archive/issue_comments_041627.json:
```json
{
    "body": "<a id='comment:13'></a>\nGood point, it is similar.\n\nAccording to Micheal's comment, I added one doctest, testing the hash_function, too. Now, I think it's good.",
    "created_at": "2009-12-15T09:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41627",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

<a id='comment:13'></a>
Good point, it is similar.

According to Micheal's comment, I added one doctest, testing the hash_function, too. Now, I think it's good.



---

archive/issue_comments_041628.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2009-12-15T09:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41628",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```

**Changing status** from needs_review to positive_review.



---

archive/attachments_005742.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac-5112-pollard_review.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket5112/trac-5112-pollard_review.patch",
    "created_at": "2009-12-15T09:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```



---

archive/issue_comments_041629.json:
```json
{
    "body": "",
    "created_at": "2009-12-15T09:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41629",
    "user": "https://trac.sagemath.org/admin/accounts/users/mraum"
}
```





---

archive/issue_comments_041630.json:
```json
{
    "body": "**Merged:** sage-4.3.rc1",
    "created_at": "2009-12-15T16:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41630",
    "user": "https://github.com/mwhansen"
}
```

**Merged:** sage-4.3.rc1



---

archive/issue_events_014971.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-15T16:12:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5112#event-14971"
}
```



---

archive/issue_comments_041631.json:
```json
{
    "body": "**Reviewer:** Martin Raum",
    "created_at": "2009-12-15T16:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5112#issuecomment-41631",
    "user": "https://github.com/mwhansen"
}
```

**Reviewer:** Martin Raum



---

archive/issue_events_014972.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-15T17:16:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "milestone": "sage-3.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5112#event-14972"
}
```



---

archive/issue_events_014973.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-15T17:16:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5112",
    "milestone": "sage-4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5112#event-14973"
}
```
