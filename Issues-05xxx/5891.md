# Issue 5891: Categories for the working mathematics programmer

archive/issues_005891.json:
```json
{
    "body": "This (series of) patch(es) extends the Sage category framework as a\ndesign pattern for organizing generic code.\n\nLatest version of the patches:\n\n- [categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)\n- [categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)\n- [categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)\n   updates to the sage library (import fixes, ...)\n- [categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)\n- [categories-numberfield_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfield_homset-nt.patch) (reviewer: William)\n- [categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)\n\nStatus and roadmap: http://trac.sagemath.org/sage_trac/wiki/CategoriesRoadMap\n\nSome of the things done in this ticket:\n\n- Categories:\n  - Infrastructure:\n    - sage.categories.category (500 lines of code)\n    - sage.structure.parent (100 lines of code)\n    - class manipulation: (25 lines of code)\n  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)\n    (except *WithSeveralBases which are not needed anymore; see .abstract_category())\n    See the category graph: attachment:sage-category-graph.pdf\n  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)\n  - Semigroups                      (with example, basic methods, subquotients)\n  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)\n  - ModulesWithBasis                (with example, morphisms)\n  - HopfAlgebras & friends          (with a couple examples)\n  - Cleanup:\n    - Have unique representation by default (no need to inherit from Category_uniq)\n    - Have construction / reduce by default\n    - Can systematically use the idiom P in Rings()\n  - Lattice structure (join, meet); meet needs cleanup; join and meet\n    should be swapped.\n\n- Reorganization of the Sage library to start using the category framework:\n  - Groups:\n    - AbelianGroup_class.__init__ was missing a call to Groups.__init__\n    - Support for Group.__init__(category = ...)\n    - AbelianGroups was renamed to CommutativeAdditiveGroups (idem for Semigroups, ...)\n      (note: AbelianGroup are about commutative multiplicative groups)\n  - NumberFields: bug fix (categories-numberfield_homset-nt.patch):\n    Hom(SomeNumberField,SomeVectorSpace) returned a numberfield homset\n  - Fixed some import loops\n  - Square MatrixSpace in Algebras(...)\n  - Added temporary list() methods to:\n    - FreeModule_generic\n    - MatrixSpace_generic\n    - Set_object_enumerated\n    - ParentWithAdditiveAbelianGens\n    - ParentWithMultiplicativeAbelianGens\n    They should eventually be inherited from the EnumeratedSets() category\n  - Added sage.sets.finite_enumerated_set\n  - Naming conventions and cleanup:\n    - parent.product(x,y)   parent.product    parent.product_on_basis\n      (was: multiply, _multiply, multiply_basis, _multiply_basis)\n    - parent.summation(x,y) parent.summation        # risk of confusion with infinite summation / ...\n\n    - parent.sum ([x,y,z,y])\n    - parent.prod([x,y,z,y])\n\n    - parent.coproduct, parent.coproduct_on_basis, parent.coproduct_on_generators\n    - parent.antipode, parent.antipode_on_basis, parent.antipode_on_generators\n    - cat.example()  cat.counter_example()\n    - A.one() A.zero() a.is_one() a.is_zero()   A(1) A(0) when it makes sense\n      A.one_element() A.zero_element() deprecated in the doc; fully deprecated later\n      Transitional aliases one = one_element, zero = zero_element\n    - Use class.an_instance() whenever meaningful\n    - parent.an_element() parent.some_elements(); possibly parent.example() parent.counterexample()\n    - all_weakly_super_categories -> all_super_categories(proper=False)\n\n\nAssignee: @nthiery\n\nCC:  sage-combinat @roed314 @saliola\n\nKeywords: categories parents\n\nReviewer: Robert Bradshaw, Craig Citro, Florent Hivert, David Kohel, David Roe, Anne Schilling, William Stein, Javier Vengoroso\n\nAuthor: Nicolas M. Thi\u00e9ry, Teresa Gomez-Diaz\n\nMerged: sage-4.3.alpha0\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/5891\n\n",
    "closed_at": "2009-11-19T16:56:33Z",
    "created_at": "2009-04-25T06:38:51Z",
    "labels": [
        "component: categories"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3",
    "title": "Categories for the working mathematics programmer",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5891",
    "user": "https://github.com/nthiery"
}
```
This (series of) patch(es) extends the Sage category framework as a
design pattern for organizing generic code.

Latest version of the patches:

- [categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)
- [categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)
- [categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)
   updates to the sage library (import fixes, ...)
- [categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)
- [categories-numberfield_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfield_homset-nt.patch) (reviewer: William)
- [categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)

Status and roadmap: http://trac.sagemath.org/sage_trac/wiki/CategoriesRoadMap

Some of the things done in this ticket:

- Categories:
  - Infrastructure:
    - sage.categories.category (500 lines of code)
    - sage.structure.parent (100 lines of code)
    - class manipulation: (25 lines of code)
  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)
    (except *WithSeveralBases which are not needed anymore; see .abstract_category())
    See the category graph: attachment:sage-category-graph.pdf
  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)
  - Semigroups                      (with example, basic methods, subquotients)
  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)
  - ModulesWithBasis                (with example, morphisms)
  - HopfAlgebras & friends          (with a couple examples)
  - Cleanup:
    - Have unique representation by default (no need to inherit from Category_uniq)
    - Have construction / reduce by default
    - Can systematically use the idiom P in Rings()
  - Lattice structure (join, meet); meet needs cleanup; join and meet
    should be swapped.

- Reorganization of the Sage library to start using the category framework:
  - Groups:
    - AbelianGroup_class.__init__ was missing a call to Groups.__init__
    - Support for Group.__init__(category = ...)
    - AbelianGroups was renamed to CommutativeAdditiveGroups (idem for Semigroups, ...)
      (note: AbelianGroup are about commutative multiplicative groups)
  - NumberFields: bug fix (categories-numberfield_homset-nt.patch):
    Hom(SomeNumberField,SomeVectorSpace) returned a numberfield homset
  - Fixed some import loops
  - Square MatrixSpace in Algebras(...)
  - Added temporary list() methods to:
    - FreeModule_generic
    - MatrixSpace_generic
    - Set_object_enumerated
    - ParentWithAdditiveAbelianGens
    - ParentWithMultiplicativeAbelianGens
    They should eventually be inherited from the EnumeratedSets() category
  - Added sage.sets.finite_enumerated_set
  - Naming conventions and cleanup:
    - parent.product(x,y)   parent.product    parent.product_on_basis
      (was: multiply, _multiply, multiply_basis, _multiply_basis)
    - parent.summation(x,y) parent.summation        # risk of confusion with infinite summation / ...

    - parent.sum ([x,y,z,y])
    - parent.prod([x,y,z,y])

    - parent.coproduct, parent.coproduct_on_basis, parent.coproduct_on_generators
    - parent.antipode, parent.antipode_on_basis, parent.antipode_on_generators
    - cat.example()  cat.counter_example()
    - A.one() A.zero() a.is_one() a.is_zero()   A(1) A(0) when it makes sense
      A.one_element() A.zero_element() deprecated in the doc; fully deprecated later
      Transitional aliases one = one_element, zero = zero_element
    - Use class.an_instance() whenever meaningful
    - parent.an_element() parent.some_elements(); possibly parent.example() parent.counterexample()
    - all_weakly_super_categories -> all_super_categories(proper=False)


Assignee: @nthiery

CC:  sage-combinat @roed314 @saliola

Keywords: categories parents

Reviewer: Robert Bradshaw, Craig Citro, Florent Hivert, David Kohel, David Roe, Anne Schilling, William Stein, Javier Vengoroso

Author: Nicolas M. ThiÃ©ry, Teresa Gomez-Diaz

Merged: sage-4.3.alpha0

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/5891





---

archive/issue_comments_047802.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n This (series of) patch(es) extends the Sage category framework as a\n design pattern for organizing generic code.\n \n-Under development on combinat.sagemath.org/patches:\n+Under development on http://combinat.sagemath.org/patches:\n \n - categories-nt.patch:    the category framework itself\n                         + updates to combinatorial free modules (will be split before submission)\n@@ -112,6 +112,7 @@\n * Discussion:\n   * Defining new inline operators, at least within the sage interpreter\n \n+\n Comment: 1\n \n Component: misc\n```\n",
    "created_at": "2009-04-25T06:39:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47802",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,7 +1,7 @@
 This (series of) patch(es) extends the Sage category framework as a
 design pattern for organizing generic code.
 
-Under development on combinat.sagemath.org/patches:
+Under development on http://combinat.sagemath.org/patches:
 
 - categories-nt.patch:    the category framework itself
                         + updates to combinatorial free modules (will be split before submission)
@@ -112,6 +112,7 @@
 * Discussion:
   * Defining new inline operators, at least within the sage interpreter
 
+
 Comment: 1
 
 Component: misc
```




---

archive/issue_comments_047803.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,146 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+(with special thanks to Robert Bradshaw, Mike Hansen, Florent Hivert,\n+William Stein, ... for design discussions).\n+\n+Under development on combinat.sagemath.org/patches:\n+\n+- categories-nt.patch:\n+  the category framework itself\n+  + updates to the sage library (import fixes, ... see below)\n+  + updates to combinatorial free modules (will be split before submission)\n+\n+Related patches (will need to be applied after to recover 100% doctest pass):\n+- categories-combinat-nt.patch\n+- categories-numberfield_homset-nt.patch\n+- family_enumset-fh.patch\n+- enumset_unions-fh.patch\n+- categories-sf-nt.patch \tSymmetric functions\n+- categories-symmetric_group_algebra-nt.patch\n+- ncsf-nt.patch\t\tNon commutative Symmetric Functions\n+- root_systems-4326-nt.patch\n+\n+Small technical patches the category patch depends on:\n+- cached_in_parent_method-5449-submitted.patch\n+- lazy_attributes-fixes-5783-final.patch\n+- unique_representation-5120-submitted.patch\n+- element_wrapper-5967-submitted.patch\n+- parent-element_constructor-fix-5979-submitted.patch\n+- explain-pickle-v1.patch\n+- cPickle-5985-import-submitted.patch\n+- cPickle-5985-copy_reg_classes-submitted.patch\n+- cPickle-5986-nested-classes-submitted.patch\n+- dynamic_class-5991-submitted.patch\n+- 5598-coerce-declare.patch\n+- explain-pickle-v1.patch\t\t\t# probably can get rid of this dependency\n+- transitive_ideal-6000-submitted.patch\n+\n+Current status:\n+* All test pass except for:\n+  sage -t  \"devel/sage/sage/geometry/lattice_polytope.py\" (apparently caused by categories, though I don't see how)\n+  sage -t  \"devel/sage/sage/structure/sage_object.pyx\"    (unpickling of old stuff)\n+\n+* Documentation:\n+  sage.categories?         Category quickref card\n+  sage.categories.primer?  Element/Parent/Category primer (in writing)\n+  Category?                Technical background on categories\n+  Semigroups().example()?? A template of semigroup\n+  See also the discussion on sage-devel in November 2009:\n+  http://groups.google.com/group/sage-devel/msg/d4065154e2e8cbd9\n+\n+* Real life applications:\n+  see related patches, automatic monoids, ...\n+\n+* Categories:\n+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)\n+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)\n+  - Semigroups                      (with example, basic methods, subquotients)\n+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)\n+  - ModulesWithBasis                (with example, morphisms)\n+  - HopfAlgebras & friends          (with example)\n+  - Cleanup:\n+    - Have unique representation by default (no need to inherit from Category_uniq)\n+    - Have construction / reduce by default\n+\n+* Functorial constructions:\n+  - direct sum\n+  - tensor product\n+  - cartesian product (todo)\n+  - dual (in progress)\n+  - subquotient, subset, quotient (in progress)\n+  - isomorphism type (todo)\n+\n+* Homomorphisms\n+  - Integrates with current sage morphisms\n+  - Adds morphisms for some categories\n+  - Some general infrastructure\n+  - Hom:\n+    - Simplification of the logic. Hopefuly completely compatible.\n+    - X._Hom_(Y, category) may now return NotImplemented\n+    - failed attempt at using cached_function (to be pursued)\n+  - Systematic use of category = ... instead of cat =\n+    This may be backward incompatible.\n+\n+* Generic test framework\n+  - Functional, final design clear, needs cleanup (2/3 hours)\n+\n+* Reorganization of the Sage library to start using the category framework:\n+  * Combinatorial free modules\n+    * Have unique representation, use coercion, are more robust\n+    * Improved _repr_\n+    * Handle combinatorial classes that can't be sorted as indices\n+  * Groups:\n+    * AbelianGroup_class.__init__ was missing a call to Groups.__init__\n+    * NAME CONFLICT: AbelianGroups are *not* in AbelianGroups()\n+      With the current conventions:\n+       - AbelianGroups is about additive abelian groups\n+       - AbelianGroup  is about multiplicative abelian group\n+    * Support for Group.__init__(category = ...)\n+  * Fixed some import loops\n+  * Added temporary list() methods to:\n+    - FreeModule_generic\n+    - MatrixSpace_generic\n+    - Set_object_enumerated\n+    - ParentWithAdditiveAbelianGens\n+    - ParentWithMultiplicativeAbelianGens\n+    They should eventually be inherited from the EnumeratedSets() category\n+  * Added sage.sets.finite_enumerated_set\n+\n+* Todo:\n+  * Naming cleanup:\n+    * Parent -> ParentMethods (or _ParentMethods? or ?)\n+    * Element -> ElementMethods + move them as a nested class of ParentMethods\n+    * super_categories should be a method\n+    * zero, one should be methods\n+    * standardize the names: mult / product / multiplication / multiply?\n+    * check -> test\n+    * self.tester(**keywords)\n+    * intrusive cat.tensor_category / ...\n+    * cat.example() -> /an_example/an_object/... ?\n+    * class.an_instance() ?\n+    * all_weakly_super_categories -> ?\n+    * move all examples in examples/\n+    * AbelianGroups() versus CommutativeGroups()\n+\n+  * Category graph picture\n+\n+  * Fixes:\n+    * Pickling: essentially works; polish the remaining\n+    * Integration in the Sage library: some tests are broken. Help welcome!\n+    * Pickling from old sage: technically feasible. Need help!\n+    * Inheritance from category for Cython classes: technically feasible. Need help!\n+\n+  * Hom is *not* a functorial construction, the design and user\n+    interface needs to be discussed\n+\n+  * Support for multivariate morphims, i.e. morphisms A x B -> C where\n+    the specializations A x b -> C are morphisms for a given category\n+    and a x B -> C are morphisms for a possibly different category\n+\n+* Discussion:\n+  * Defining new inline operators, at least within the sage interpreter\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2009-05-14T21:24:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47803",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,146 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+(with special thanks to Robert Bradshaw, Mike Hansen, Florent Hivert,
+William Stein, ... for design discussions).
+
+Under development on combinat.sagemath.org/patches:
+
+- categories-nt.patch:
+  the category framework itself
+  + updates to the sage library (import fixes, ... see below)
+  + updates to combinatorial free modules (will be split before submission)
+
+Related patches (will need to be applied after to recover 100% doctest pass):
+- categories-combinat-nt.patch
+- categories-numberfield_homset-nt.patch
+- family_enumset-fh.patch
+- enumset_unions-fh.patch
+- categories-sf-nt.patch 	Symmetric functions
+- categories-symmetric_group_algebra-nt.patch
+- ncsf-nt.patch		Non commutative Symmetric Functions
+- root_systems-4326-nt.patch
+
+Small technical patches the category patch depends on:
+- cached_in_parent_method-5449-submitted.patch
+- lazy_attributes-fixes-5783-final.patch
+- unique_representation-5120-submitted.patch
+- element_wrapper-5967-submitted.patch
+- parent-element_constructor-fix-5979-submitted.patch
+- explain-pickle-v1.patch
+- cPickle-5985-import-submitted.patch
+- cPickle-5985-copy_reg_classes-submitted.patch
+- cPickle-5986-nested-classes-submitted.patch
+- dynamic_class-5991-submitted.patch
+- 5598-coerce-declare.patch
+- explain-pickle-v1.patch			# probably can get rid of this dependency
+- transitive_ideal-6000-submitted.patch
+
+Current status:
+* All test pass except for:
+  sage -t  "devel/sage/sage/geometry/lattice_polytope.py" (apparently caused by categories, though I don't see how)
+  sage -t  "devel/sage/sage/structure/sage_object.pyx"    (unpickling of old stuff)
+
+* Documentation:
+  sage.categories?         Category quickref card
+  sage.categories.primer?  Element/Parent/Category primer (in writing)
+  Category?                Technical background on categories
+  Semigroups().example()?? A template of semigroup
+  See also the discussion on sage-devel in November 2009:
+  http://groups.google.com/group/sage-devel/msg/d4065154e2e8cbd9
+
+* Real life applications:
+  see related patches, automatic monoids, ...
+
+* Categories:
+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)
+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)
+  - Semigroups                      (with example, basic methods, subquotients)
+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)
+  - ModulesWithBasis                (with example, morphisms)
+  - HopfAlgebras & friends          (with example)
+  - Cleanup:
+    - Have unique representation by default (no need to inherit from Category_uniq)
+    - Have construction / reduce by default
+
+* Functorial constructions:
+  - direct sum
+  - tensor product
+  - cartesian product (todo)
+  - dual (in progress)
+  - subquotient, subset, quotient (in progress)
+  - isomorphism type (todo)
+
+* Homomorphisms
+  - Integrates with current sage morphisms
+  - Adds morphisms for some categories
+  - Some general infrastructure
+  - Hom:
+    - Simplification of the logic. Hopefuly completely compatible.
+    - X._Hom_(Y, category) may now return NotImplemented
+    - failed attempt at using cached_function (to be pursued)
+  - Systematic use of category = ... instead of cat =
+    This may be backward incompatible.
+
+* Generic test framework
+  - Functional, final design clear, needs cleanup (2/3 hours)
+
+* Reorganization of the Sage library to start using the category framework:
+  * Combinatorial free modules
+    * Have unique representation, use coercion, are more robust
+    * Improved _repr_
+    * Handle combinatorial classes that can't be sorted as indices
+  * Groups:
+    * AbelianGroup_class.__init__ was missing a call to Groups.__init__
+    * NAME CONFLICT: AbelianGroups are *not* in AbelianGroups()
+      With the current conventions:
+       - AbelianGroups is about additive abelian groups
+       - AbelianGroup  is about multiplicative abelian group
+    * Support for Group.__init__(category = ...)
+  * Fixed some import loops
+  * Added temporary list() methods to:
+    - FreeModule_generic
+    - MatrixSpace_generic
+    - Set_object_enumerated
+    - ParentWithAdditiveAbelianGens
+    - ParentWithMultiplicativeAbelianGens
+    They should eventually be inherited from the EnumeratedSets() category
+  * Added sage.sets.finite_enumerated_set
+
+* Todo:
+  * Naming cleanup:
+    * Parent -> ParentMethods (or _ParentMethods? or ?)
+    * Element -> ElementMethods + move them as a nested class of ParentMethods
+    * super_categories should be a method
+    * zero, one should be methods
+    * standardize the names: mult / product / multiplication / multiply?
+    * check -> test
+    * self.tester(**keywords)
+    * intrusive cat.tensor_category / ...
+    * cat.example() -> /an_example/an_object/... ?
+    * class.an_instance() ?
+    * all_weakly_super_categories -> ?
+    * move all examples in examples/
+    * AbelianGroups() versus CommutativeGroups()
+
+  * Category graph picture
+
+  * Fixes:
+    * Pickling: essentially works; polish the remaining
+    * Integration in the Sage library: some tests are broken. Help welcome!
+    * Pickling from old sage: technically feasible. Need help!
+    * Inheritance from category for Cython classes: technically feasible. Need help!
+
+  * Hom is *not* a functorial construction, the design and user
+    interface needs to be discussed
+
+  * Support for multivariate morphims, i.e. morphisms A x B -> C where
+    the specializations A x b -> C are morphisms for a given category
+    and a x B -> C are morphisms for a possibly different category
+
+* Discussion:
+  * Defining new inline operators, at least within the sage interpreter
+
 
 
 Comment: 1
```




---

archive/issue_comments_047804.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,144 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+(with special thanks to Robert Bradshaw, Mike Hansen, Florent Hivert,\n+William Stein, ... for design discussions).\n+\n+Under development on combinat.sagemath.org/patches:\n+\n+- #5891: categories-nt.patch:\n+  the category framework itself\n+  + updates to the sage library (import fixes, ... see below)\n+  + updates to combinatorial free modules (will be split before submission)\n+\n+Related patches (will need to be applied after to recover 100% doctest pass):\n+- categories-combinat-nt.patch\n+- categories-numberfield_homset-nt.patch\n+- family_enumset-fh.patch\n+- enumset_unions-fh.patch\n+- categories-sf-nt.patch \tSymmetric functions\n+- categories-symmetric_group_algebra-nt.patch\n+- ncsf-nt.patch\t\tNon commutative Symmetric Functions\n+- #4326: root_systems-4326-nt.patch\n+\n+Small technical patches the category patch depends on:\n+- #5449: cached_in_parent_method-5449-submitted.patch\n+- #5783: lazy_attributes-fixes-5783-final.patch\n+- #5120: unique_representation-5120-submitted.patch\n+- #5967: element_wrapper-5967-submitted.patch\n+- #5979: parent-element_constructor-fix-5979-submitted.patch\n+- explain-pickle-v1.patch\n+- #5985: cPickle-5985-import-submitted.patch, cPickle-5985-copy_reg_classes-submitted.patch\n+- #5986: cPickle-5986-nested-classes-submitted.patch\n+- #5991: dynamic_class-5991-submitted.patch\n+- #5598: 5598-coerce-declare.patch\n+- #5483: explain-pickle-v1.patch\t\t\t# probably can get rid of this dependency\n+- #6000: transitive_ideal-6000-submitted.patch\n+\n+Current status:\n+* All test pass except for:\n+  sage -t  \"devel/sage/sage/geometry/lattice_polytope.py\" (apparently caused by categories, though I don't see how)\n+  sage -t  \"devel/sage/sage/structure/sage_object.pyx\"    (unpickling of old stuff)\n+\n+* Documentation:\n+  sage.categories?         Category quickref card\n+  sage.categories.primer?  Element/Parent/Category primer (in writing)\n+  Category?                Technical background on categories\n+  Semigroups().example()?? A template of semigroup\n+  See also the discussion on sage-devel in November 2009:\n+  http://groups.google.com/group/sage-devel/msg/d4065154e2e8cbd9\n+\n+* Real life applications:\n+  see related patches, automatic monoids, ...\n+\n+* Categories:\n+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)\n+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)\n+  - Semigroups                      (with example, basic methods, subquotients)\n+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)\n+  - ModulesWithBasis                (with example, morphisms)\n+  - HopfAlgebras & friends          (with example)\n+  - Cleanup:\n+    - Have unique representation by default (no need to inherit from Category_uniq)\n+    - Have construction / reduce by default\n+\n+* Functorial constructions:\n+  - direct sum\n+  - tensor product\n+  - cartesian product (todo)\n+  - dual (in progress)\n+  - subquotient, subset, quotient (in progress)\n+  - isomorphism type (todo)\n+\n+* Homomorphisms\n+  - Integrates with current sage morphisms\n+  - Adds morphisms for some categories\n+  - Some general infrastructure\n+  - Hom:\n+    - Simplification of the logic. Hopefuly completely compatible.\n+    - X._Hom_(Y, category) may now return NotImplemented\n+    - failed attempt at using cached_function (to be pursued)\n+  - Systematic use of category = ... instead of cat =\n+    This may be backward incompatible.\n+\n+* Generic test framework\n+  - Functional, final design clear, needs cleanup (2/3 hours)\n+\n+* Reorganization of the Sage library to start using the category framework:\n+  * Combinatorial free modules\n+    * Have unique representation, use coercion, are more robust\n+    * Improved _repr_\n+    * Handle combinatorial classes that can't be sorted as indices\n+  * Groups:\n+    * AbelianGroup_class.__init__ was missing a call to Groups.__init__\n+    * NAME CONFLICT: AbelianGroups are *not* in AbelianGroups()\n+      With the current conventions:\n+       - AbelianGroups is about additive abelian groups\n+       - AbelianGroup  is about multiplicative abelian group\n+    * Support for Group.__init__(category = ...)\n+  * Fixed some import loops\n+  * Added temporary list() methods to:\n+    - FreeModule_generic\n+    - MatrixSpace_generic\n+    - Set_object_enumerated\n+    - ParentWithAdditiveAbelianGens\n+    - ParentWithMultiplicativeAbelianGens\n+    They should eventually be inherited from the EnumeratedSets() category\n+  * Added sage.sets.finite_enumerated_set\n+\n+* Todo:\n+  * Naming cleanup:\n+    * Parent -> ParentMethods (or _ParentMethods? or ?)\n+    * Element -> ElementMethods + move them as a nested class of ParentMethods\n+    * super_categories should be a method\n+    * zero, one should be methods\n+    * standardize the names: mult / product / multiplication / multiply?\n+    * check -> test\n+    * self.tester(**keywords)\n+    * intrusive cat.tensor_category / ...\n+    * cat.example() -> /an_example/an_object/... ?\n+    * class.an_instance() ?\n+    * all_weakly_super_categories -> ?\n+    * move all examples in examples/\n+    * AbelianGroups() versus CommutativeGroups()\n+\n+  * Category graph picture\n+\n+  * Fixes:\n+    * Pickling: essentially works; polish the remaining\n+    * Integration in the Sage library: some tests are broken. Help welcome!\n+    * Pickling from old sage: technically feasible. Need help!\n+    * Inheritance from category for Cython classes: technically feasible. Need help!\n+\n+  * Hom is *not* a functorial construction, the design and user\n+    interface needs to be discussed\n+\n+  * Support for multivariate morphims, i.e. morphisms A x B -> C where\n+    the specializations A x b -> C are morphisms for a given category\n+    and a x B -> C are morphisms for a possibly different category\n+\n+* Discussion:\n+  * Defining new inline operators, at least within the sage interpreter\n \n \n Comment: 1\n```\n",
    "created_at": "2009-05-14T21:29:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47804",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,144 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+(with special thanks to Robert Bradshaw, Mike Hansen, Florent Hivert,
+William Stein, ... for design discussions).
+
+Under development on combinat.sagemath.org/patches:
+
+- #5891: categories-nt.patch:
+  the category framework itself
+  + updates to the sage library (import fixes, ... see below)
+  + updates to combinatorial free modules (will be split before submission)
+
+Related patches (will need to be applied after to recover 100% doctest pass):
+- categories-combinat-nt.patch
+- categories-numberfield_homset-nt.patch
+- family_enumset-fh.patch
+- enumset_unions-fh.patch
+- categories-sf-nt.patch 	Symmetric functions
+- categories-symmetric_group_algebra-nt.patch
+- ncsf-nt.patch		Non commutative Symmetric Functions
+- #4326: root_systems-4326-nt.patch
+
+Small technical patches the category patch depends on:
+- #5449: cached_in_parent_method-5449-submitted.patch
+- #5783: lazy_attributes-fixes-5783-final.patch
+- #5120: unique_representation-5120-submitted.patch
+- #5967: element_wrapper-5967-submitted.patch
+- #5979: parent-element_constructor-fix-5979-submitted.patch
+- explain-pickle-v1.patch
+- #5985: cPickle-5985-import-submitted.patch, cPickle-5985-copy_reg_classes-submitted.patch
+- #5986: cPickle-5986-nested-classes-submitted.patch
+- #5991: dynamic_class-5991-submitted.patch
+- #5598: 5598-coerce-declare.patch
+- #5483: explain-pickle-v1.patch			# probably can get rid of this dependency
+- #6000: transitive_ideal-6000-submitted.patch
+
+Current status:
+* All test pass except for:
+  sage -t  "devel/sage/sage/geometry/lattice_polytope.py" (apparently caused by categories, though I don't see how)
+  sage -t  "devel/sage/sage/structure/sage_object.pyx"    (unpickling of old stuff)
+
+* Documentation:
+  sage.categories?         Category quickref card
+  sage.categories.primer?  Element/Parent/Category primer (in writing)
+  Category?                Technical background on categories
+  Semigroups().example()?? A template of semigroup
+  See also the discussion on sage-devel in November 2009:
+  http://groups.google.com/group/sage-devel/msg/d4065154e2e8cbd9
+
+* Real life applications:
+  see related patches, automatic monoids, ...
+
+* Categories:
+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)
+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)
+  - Semigroups                      (with example, basic methods, subquotients)
+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)
+  - ModulesWithBasis                (with example, morphisms)
+  - HopfAlgebras & friends          (with example)
+  - Cleanup:
+    - Have unique representation by default (no need to inherit from Category_uniq)
+    - Have construction / reduce by default
+
+* Functorial constructions:
+  - direct sum
+  - tensor product
+  - cartesian product (todo)
+  - dual (in progress)
+  - subquotient, subset, quotient (in progress)
+  - isomorphism type (todo)
+
+* Homomorphisms
+  - Integrates with current sage morphisms
+  - Adds morphisms for some categories
+  - Some general infrastructure
+  - Hom:
+    - Simplification of the logic. Hopefuly completely compatible.
+    - X._Hom_(Y, category) may now return NotImplemented
+    - failed attempt at using cached_function (to be pursued)
+  - Systematic use of category = ... instead of cat =
+    This may be backward incompatible.
+
+* Generic test framework
+  - Functional, final design clear, needs cleanup (2/3 hours)
+
+* Reorganization of the Sage library to start using the category framework:
+  * Combinatorial free modules
+    * Have unique representation, use coercion, are more robust
+    * Improved _repr_
+    * Handle combinatorial classes that can't be sorted as indices
+  * Groups:
+    * AbelianGroup_class.__init__ was missing a call to Groups.__init__
+    * NAME CONFLICT: AbelianGroups are *not* in AbelianGroups()
+      With the current conventions:
+       - AbelianGroups is about additive abelian groups
+       - AbelianGroup  is about multiplicative abelian group
+    * Support for Group.__init__(category = ...)
+  * Fixed some import loops
+  * Added temporary list() methods to:
+    - FreeModule_generic
+    - MatrixSpace_generic
+    - Set_object_enumerated
+    - ParentWithAdditiveAbelianGens
+    - ParentWithMultiplicativeAbelianGens
+    They should eventually be inherited from the EnumeratedSets() category
+  * Added sage.sets.finite_enumerated_set
+
+* Todo:
+  * Naming cleanup:
+    * Parent -> ParentMethods (or _ParentMethods? or ?)
+    * Element -> ElementMethods + move them as a nested class of ParentMethods
+    * super_categories should be a method
+    * zero, one should be methods
+    * standardize the names: mult / product / multiplication / multiply?
+    * check -> test
+    * self.tester(**keywords)
+    * intrusive cat.tensor_category / ...
+    * cat.example() -> /an_example/an_object/... ?
+    * class.an_instance() ?
+    * all_weakly_super_categories -> ?
+    * move all examples in examples/
+    * AbelianGroups() versus CommutativeGroups()
+
+  * Category graph picture
+
+  * Fixes:
+    * Pickling: essentially works; polish the remaining
+    * Integration in the Sage library: some tests are broken. Help welcome!
+    * Pickling from old sage: technically feasible. Need help!
+    * Inheritance from category for Cython classes: technically feasible. Need help!
+
+  * Hom is *not* a functorial construction, the design and user
+    interface needs to be discussed
+
+  * Support for multivariate morphims, i.e. morphisms A x B -> C where
+    the specializations A x b -> C are morphisms for a given category
+    and a x B -> C are morphisms for a possibly different category
+
+* Discussion:
+  * Defining new inline operators, at least within the sage interpreter
 
 
 Comment: 1
```




---

archive/issue_comments_047805.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,144 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+(with special thanks to Robert Bradshaw, Mike Hansen, Florent Hivert,\n+William Stein, ... for design discussions).\n+\n+Under development on combinat.sagemath.org/patches:\n+\n+- #5891: categories-nt.patch:\n+  the category framework itself\n+  + updates to the sage library (import fixes, ... see below)\n+  + updates to combinatorial free modules (will be split before submission)\n+\n+Related patches (will need to be applied after to recover 100% doctest pass):\n+- categories-combinat-nt.patch\n+- categories-numberfield_homset-nt.patch\n+- family_enumset-fh.patch\n+- enumset_unions-fh.patch\n+- categories-sf-nt.patch \tSymmetric functions\n+- categories-symmetric_group_algebra-nt.patch\n+- ncsf-nt.patch\t\tNon commutative Symmetric Functions\n+- #4326: root_systems-4326-nt.patch\n+\n+Small technical patches the category patch depends on:\n+- #5449: cached_in_parent_method-5449-submitted.patch\n+- #5783: lazy_attributes-fixes-5783-final.patch\n+- #5120: unique_representation-5120-submitted.patch\n+- #5967: element_wrapper-5967-submitted.patch\n+- #5979: parent-element_constructor-fix-5979-submitted.patch\n+- #5985: cPickle-5985-import-submitted.patch, cPickle-5985-copy_reg_classes-submitted.patch\n+- #5986: cPickle-5986-nested-classes-submitted.patch\n+- #5991: dynamic_class-5991-submitted.patch\n+- #5598: 5598-coerce-declare.patch\n+- #5483: explain-pickle-v1.patch\t\t\t# probably can get rid of this dependency\n+- #6000: transitive_ideal-6000-submitted.patch\n+\n+Current status:\n+\n+* All test pass except for:\n+  sage -t  \"devel/sage/sage/geometry/lattice_polytope.py\" (apparently caused by categories, though I don't see how)\n+  sage -t  \"devel/sage/sage/structure/sage_object.pyx\"    (unpickling of old stuff)\n+\n+* Documentation:\n+  sage.categories?         Category quickref card\n+  sage.categories.primer?  Element/Parent/Category primer (in writing)\n+  Category?                Technical background on categories\n+  Semigroups().example()?? A template of semigroup\n+  See also the discussion on sage-devel in November 2009:\n+  http://groups.google.com/group/sage-devel/msg/d4065154e2e8cbd9\n+\n+* Real life applications:\n+  see related patches, automatic monoids, ...\n+\n+* Categories:\n+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)\n+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)\n+  - Semigroups                      (with example, basic methods, subquotients)\n+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)\n+  - ModulesWithBasis                (with example, morphisms)\n+  - HopfAlgebras & friends          (with example)\n+  - Cleanup:\n+    - Have unique representation by default (no need to inherit from Category_uniq)\n+    - Have construction / reduce by default\n+\n+* Functorial constructions:\n+  - direct sum\n+  - tensor product\n+  - cartesian product (todo)\n+  - dual (in progress)\n+  - subquotient, subset, quotient (in progress)\n+  - isomorphism type (todo)\n+\n+* Homomorphisms\n+  - Integrates with current sage morphisms\n+  - Adds morphisms for some categories\n+  - Some general infrastructure\n+  - Hom:\n+    - Simplification of the logic. Hopefuly completely compatible.\n+    - X._Hom_(Y, category) may now return NotImplemented\n+    - failed attempt at using cached_function (to be pursued)\n+  - Systematic use of category = ... instead of cat =\n+    This may be backward incompatible.\n+\n+* Generic test framework\n+  - Functional, final design clear, needs cleanup (2/3 hours)\n+\n+* Reorganization of the Sage library to start using the category framework:\n+  * Combinatorial free modules\n+    * Have unique representation, use coercion, are more robust\n+    * Improved _repr_\n+    * Handle combinatorial classes that can't be sorted as indices\n+  * Groups:\n+    * AbelianGroup_class.__init__ was missing a call to Groups.__init__\n+    * NAME CONFLICT: AbelianGroups are *not* in AbelianGroups()\n+      With the current conventions:\n+       - AbelianGroups is about additive abelian groups\n+       - AbelianGroup  is about multiplicative abelian group\n+    * Support for Group.__init__(category = ...)\n+  * Fixed some import loops\n+  * Added temporary list() methods to:\n+    - FreeModule_generic\n+    - MatrixSpace_generic\n+    - Set_object_enumerated\n+    - ParentWithAdditiveAbelianGens\n+    - ParentWithMultiplicativeAbelianGens\n+    They should eventually be inherited from the EnumeratedSets() category\n+  * Added sage.sets.finite_enumerated_set\n+\n+* Todo:\n+  * Naming cleanup:\n+    * Parent -> ParentMethods (or _ParentMethods? or ?)\n+    * Element -> ElementMethods + move them as a nested class of ParentMethods\n+    * super_categories should be a method\n+    * zero, one should be methods\n+    * standardize the names: mult / product / multiplication / multiply?\n+    * check -> test\n+    * self.tester(**keywords)\n+    * intrusive cat.tensor_category / ...\n+    * cat.example() -> /an_example/an_object/... ?\n+    * class.an_instance() ?\n+    * all_weakly_super_categories -> ?\n+    * move all examples in examples/\n+    * AbelianGroups() versus CommutativeGroups()\n+\n+  * Category graph picture\n+\n+  * Fixes:\n+    * Pickling: essentially works; polish the remaining\n+    * Integration in the Sage library: some tests are broken. Help welcome!\n+    * Pickling from old sage: technically feasible. Need help!\n+    * Inheritance from category for Cython classes: technically feasible. Need help!\n+\n+  * Hom is *not* a functorial construction, the design and user\n+    interface needs to be discussed\n+\n+  * Support for multivariate morphims, i.e. morphisms A x B -> C where\n+    the specializations A x b -> C are morphisms for a given category\n+    and a x B -> C are morphisms for a possibly different category\n+\n+* Discussion:\n+  * Defining new inline operators, at least within the sage interpreter\n \n \n Comment: 1\n```\n",
    "created_at": "2009-05-14T21:30:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47805",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,144 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+(with special thanks to Robert Bradshaw, Mike Hansen, Florent Hivert,
+William Stein, ... for design discussions).
+
+Under development on combinat.sagemath.org/patches:
+
+- #5891: categories-nt.patch:
+  the category framework itself
+  + updates to the sage library (import fixes, ... see below)
+  + updates to combinatorial free modules (will be split before submission)
+
+Related patches (will need to be applied after to recover 100% doctest pass):
+- categories-combinat-nt.patch
+- categories-numberfield_homset-nt.patch
+- family_enumset-fh.patch
+- enumset_unions-fh.patch
+- categories-sf-nt.patch 	Symmetric functions
+- categories-symmetric_group_algebra-nt.patch
+- ncsf-nt.patch		Non commutative Symmetric Functions
+- #4326: root_systems-4326-nt.patch
+
+Small technical patches the category patch depends on:
+- #5449: cached_in_parent_method-5449-submitted.patch
+- #5783: lazy_attributes-fixes-5783-final.patch
+- #5120: unique_representation-5120-submitted.patch
+- #5967: element_wrapper-5967-submitted.patch
+- #5979: parent-element_constructor-fix-5979-submitted.patch
+- #5985: cPickle-5985-import-submitted.patch, cPickle-5985-copy_reg_classes-submitted.patch
+- #5986: cPickle-5986-nested-classes-submitted.patch
+- #5991: dynamic_class-5991-submitted.patch
+- #5598: 5598-coerce-declare.patch
+- #5483: explain-pickle-v1.patch			# probably can get rid of this dependency
+- #6000: transitive_ideal-6000-submitted.patch
+
+Current status:
+
+* All test pass except for:
+  sage -t  "devel/sage/sage/geometry/lattice_polytope.py" (apparently caused by categories, though I don't see how)
+  sage -t  "devel/sage/sage/structure/sage_object.pyx"    (unpickling of old stuff)
+
+* Documentation:
+  sage.categories?         Category quickref card
+  sage.categories.primer?  Element/Parent/Category primer (in writing)
+  Category?                Technical background on categories
+  Semigroups().example()?? A template of semigroup
+  See also the discussion on sage-devel in November 2009:
+  http://groups.google.com/group/sage-devel/msg/d4065154e2e8cbd9
+
+* Real life applications:
+  see related patches, automatic monoids, ...
+
+* Categories:
+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)
+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)
+  - Semigroups                      (with example, basic methods, subquotients)
+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)
+  - ModulesWithBasis                (with example, morphisms)
+  - HopfAlgebras & friends          (with example)
+  - Cleanup:
+    - Have unique representation by default (no need to inherit from Category_uniq)
+    - Have construction / reduce by default
+
+* Functorial constructions:
+  - direct sum
+  - tensor product
+  - cartesian product (todo)
+  - dual (in progress)
+  - subquotient, subset, quotient (in progress)
+  - isomorphism type (todo)
+
+* Homomorphisms
+  - Integrates with current sage morphisms
+  - Adds morphisms for some categories
+  - Some general infrastructure
+  - Hom:
+    - Simplification of the logic. Hopefuly completely compatible.
+    - X._Hom_(Y, category) may now return NotImplemented
+    - failed attempt at using cached_function (to be pursued)
+  - Systematic use of category = ... instead of cat =
+    This may be backward incompatible.
+
+* Generic test framework
+  - Functional, final design clear, needs cleanup (2/3 hours)
+
+* Reorganization of the Sage library to start using the category framework:
+  * Combinatorial free modules
+    * Have unique representation, use coercion, are more robust
+    * Improved _repr_
+    * Handle combinatorial classes that can't be sorted as indices
+  * Groups:
+    * AbelianGroup_class.__init__ was missing a call to Groups.__init__
+    * NAME CONFLICT: AbelianGroups are *not* in AbelianGroups()
+      With the current conventions:
+       - AbelianGroups is about additive abelian groups
+       - AbelianGroup  is about multiplicative abelian group
+    * Support for Group.__init__(category = ...)
+  * Fixed some import loops
+  * Added temporary list() methods to:
+    - FreeModule_generic
+    - MatrixSpace_generic
+    - Set_object_enumerated
+    - ParentWithAdditiveAbelianGens
+    - ParentWithMultiplicativeAbelianGens
+    They should eventually be inherited from the EnumeratedSets() category
+  * Added sage.sets.finite_enumerated_set
+
+* Todo:
+  * Naming cleanup:
+    * Parent -> ParentMethods (or _ParentMethods? or ?)
+    * Element -> ElementMethods + move them as a nested class of ParentMethods
+    * super_categories should be a method
+    * zero, one should be methods
+    * standardize the names: mult / product / multiplication / multiply?
+    * check -> test
+    * self.tester(**keywords)
+    * intrusive cat.tensor_category / ...
+    * cat.example() -> /an_example/an_object/... ?
+    * class.an_instance() ?
+    * all_weakly_super_categories -> ?
+    * move all examples in examples/
+    * AbelianGroups() versus CommutativeGroups()
+
+  * Category graph picture
+
+  * Fixes:
+    * Pickling: essentially works; polish the remaining
+    * Integration in the Sage library: some tests are broken. Help welcome!
+    * Pickling from old sage: technically feasible. Need help!
+    * Inheritance from category for Cython classes: technically feasible. Need help!
+
+  * Hom is *not* a functorial construction, the design and user
+    interface needs to be discussed
+
+  * Support for multivariate morphims, i.e. morphisms A x B -> C where
+    the specializations A x b -> C are morphisms for a given category
+    and a x B -> C are morphisms for a possibly different category
+
+* Discussion:
+  * Defining new inline operators, at least within the sage interpreter
 
 
 Comment: 1
```




---

archive/issue_comments_047806.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,145 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+(with special thanks to Robert Bradshaw, Mike Hansen, Florent Hivert,\n+William Stein, ... for design discussions).\n+\n+Under development on combinat.sagemath.org/patches:\n+\n+- #5891: categories-nt.patch:\n+  the category framework itself\n+  + updates to the sage library (import fixes, ... see below)\n+  + updates to combinatorial free modules (will be split before submission)\n+\n+Related patches (will need to be applied after to recover 100% doctest pass):\n+- categories-combinat-nt.patch\n+- categories-numberfield_homset-nt.patch\n+- family_enumset-fh.patch\n+- enumset_unions-fh.patch\n+- categories-sf-nt.patch \tSymmetric functions\n+- categories-symmetric_group_algebra-nt.patch\n+- ncsf-nt.patch\t\tNon commutative Symmetric Functions\n+- #4326: root_systems-4326-nt.patch\n+\n+Small technical patches the category patch depends on:\n+- #5449: cached_in_parent_method-5449-submitted.patch\n+- #5783: lazy_attributes-fixes-5783-final.patch\n+- #5120: unique_representation-5120-submitted.patch\n+- #5967: element_wrapper-5967-submitted.patch\n+- #5979: parent-element_constructor-fix-5979-submitted.patch\n+- #5985: cPickle-5985-import-submitted.patch, cPickle-5985-copy_reg_classes-submitted.patch\n+- #5986: cPickle-5986-nested-classes-submitted.patch\n+- #5991: dynamic_class-5991-submitted.patch\n+- #5598: 5598-coerce-declare.patch\n+- #5483: explain-pickle-v1.patch\t\t\t# probably can get rid of this dependency\n+- #6000: transitive_ideal-6000-submitted.patch\n+\n+Current status:\n+\n+- All test pass except for:\n+  - sage -t  \"devel/sage/sage/geometry/lattice_polytope.py\" (apparently caused by categories, though I don't see how)\n+  - sage -t  \"devel/sage/sage/structure/sage_object.pyx\"    (unpickling of old stuff)\n+\n+- Documentation:\n+  - sage.categories?         Category quickref card\n+  - sage.categories.primer?  Element/Parent/Category primer (in writing)\n+  - Category?                Technical background on categories\n+  - Semigroups().example()?? A template of semigroup\n+  - See also the discussion on sage-devel in November 2009:\n+  - http://groups.google.com/group/sage-devel/msg/d4065154e2e8cbd9\n+\n+- Real life applications:\n+  see related patches, automatic monoids, ...\n+\n+- Categories:\n+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)\n+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)\n+  - Semigroups                      (with example, basic methods, subquotients)\n+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)\n+  - ModulesWithBasis                (with example, morphisms)\n+  - HopfAlgebras & friends          (with example)\n+  - Cleanup:\n+    - Have unique representation by default (no need to inherit from Category_uniq)\n+    - Have construction / reduce by default\n+\n+- Functorial constructions:\n+  - direct sum\n+  - tensor product\n+  - cartesian product (todo)\n+  - dual (in progress)\n+  - subquotient, subset, quotient (in progress)\n+  - isomorphism type (todo)\n+\n+- Homomorphisms\n+  - Integrates with current sage morphisms\n+  - Adds morphisms for some categories\n+  - Some general infrastructure\n+  - Hom:\n+    - Simplification of the logic. Hopefuly completely compatible.\n+    - X._Hom_(Y, category) may now return NotImplemented\n+    - failed attempt at using cached_function (to be pursued)\n+  - Systematic use of category = ... instead of cat =\n+    This may be backward incompatible.\n+\n+- Generic test framework\n+  - Functional, final design clear, needs cleanup (2/3 hours)\n+\n+- Reorganization of the Sage library to start using the category framework:\n+  * Combinatorial free modules\n+    * Have unique representation, use coercion, are more robust\n+    * Improved _repr_\n+    * Handle combinatorial classes that can't be sorted as indices\n+  * Groups:\n+    * AbelianGroup_class.__init__ was missing a call to Groups.__init__\n+    * NAME CONFLICT: AbelianGroups are *not* in AbelianGroups()\n+      With the current conventions:\n+       - AbelianGroups is about additive abelian groups\n+       - AbelianGroup  is about multiplicative abelian group\n+    * Support for Group.__init__(category = ...)\n+  * Fixed some import loops\n+  * Added temporary list() methods to:\n+    - FreeModule_generic\n+    - MatrixSpace_generic\n+    - Set_object_enumerated\n+    - ParentWithAdditiveAbelianGens\n+    - ParentWithMultiplicativeAbelianGens\n+    They should eventually be inherited from the EnumeratedSets() category\n+  * Added sage.sets.finite_enumerated_set\n+\n+- Todo:\n+  * Naming cleanup:\n+    * Parent -> ParentMethods (or _ParentMethods? or ?)\n+    * Element -> ElementMethods + move them as a nested class of ParentMethods\n+    * super_categories should be a method\n+    * zero, one should be methods\n+    * standardize the names: mult / product / multiplication / multiply?\n+    * check -> test\n+    * self.tester(**keywords)\n+    * intrusive cat.tensor_category / ...\n+    * cat.example() -> /an_example/an_object/... ?\n+    * class.an_instance() ?\n+    * all_weakly_super_categories -> ?\n+    * move all examples in examples/\n+    * AbelianGroups() versus CommutativeGroups()\n+\n+  * Category graph picture\n+\n+  * Fixes:\n+    * Pickling: essentially works; polish the remaining\n+    * Integration in the Sage library: some tests are broken. Help welcome!\n+    * Pickling from old sage: technically feasible. Need help!\n+    * Inheritance from category for Cython classes: technically feasible. Need help!\n+\n+  * Hom is *not* a functorial construction, the design and user\n+    interface needs to be discussed\n+\n+  * Support for multivariate morphims, i.e. morphisms A x B -> C where\n+    the specializations A x b -> C are morphisms for a given category\n+    and a x B -> C are morphisms for a possibly different category\n+\n+- Discussion:\n+  * Defining new inline operators, at least within the sage interpreter\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2009-05-14T21:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47806",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,145 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+(with special thanks to Robert Bradshaw, Mike Hansen, Florent Hivert,
+William Stein, ... for design discussions).
+
+Under development on combinat.sagemath.org/patches:
+
+- #5891: categories-nt.patch:
+  the category framework itself
+  + updates to the sage library (import fixes, ... see below)
+  + updates to combinatorial free modules (will be split before submission)
+
+Related patches (will need to be applied after to recover 100% doctest pass):
+- categories-combinat-nt.patch
+- categories-numberfield_homset-nt.patch
+- family_enumset-fh.patch
+- enumset_unions-fh.patch
+- categories-sf-nt.patch 	Symmetric functions
+- categories-symmetric_group_algebra-nt.patch
+- ncsf-nt.patch		Non commutative Symmetric Functions
+- #4326: root_systems-4326-nt.patch
+
+Small technical patches the category patch depends on:
+- #5449: cached_in_parent_method-5449-submitted.patch
+- #5783: lazy_attributes-fixes-5783-final.patch
+- #5120: unique_representation-5120-submitted.patch
+- #5967: element_wrapper-5967-submitted.patch
+- #5979: parent-element_constructor-fix-5979-submitted.patch
+- #5985: cPickle-5985-import-submitted.patch, cPickle-5985-copy_reg_classes-submitted.patch
+- #5986: cPickle-5986-nested-classes-submitted.patch
+- #5991: dynamic_class-5991-submitted.patch
+- #5598: 5598-coerce-declare.patch
+- #5483: explain-pickle-v1.patch			# probably can get rid of this dependency
+- #6000: transitive_ideal-6000-submitted.patch
+
+Current status:
+
+- All test pass except for:
+  - sage -t  "devel/sage/sage/geometry/lattice_polytope.py" (apparently caused by categories, though I don't see how)
+  - sage -t  "devel/sage/sage/structure/sage_object.pyx"    (unpickling of old stuff)
+
+- Documentation:
+  - sage.categories?         Category quickref card
+  - sage.categories.primer?  Element/Parent/Category primer (in writing)
+  - Category?                Technical background on categories
+  - Semigroups().example()?? A template of semigroup
+  - See also the discussion on sage-devel in November 2009:
+  - http://groups.google.com/group/sage-devel/msg/d4065154e2e8cbd9
+
+- Real life applications:
+  see related patches, automatic monoids, ...
+
+- Categories:
+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)
+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)
+  - Semigroups                      (with example, basic methods, subquotients)
+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)
+  - ModulesWithBasis                (with example, morphisms)
+  - HopfAlgebras & friends          (with example)
+  - Cleanup:
+    - Have unique representation by default (no need to inherit from Category_uniq)
+    - Have construction / reduce by default
+
+- Functorial constructions:
+  - direct sum
+  - tensor product
+  - cartesian product (todo)
+  - dual (in progress)
+  - subquotient, subset, quotient (in progress)
+  - isomorphism type (todo)
+
+- Homomorphisms
+  - Integrates with current sage morphisms
+  - Adds morphisms for some categories
+  - Some general infrastructure
+  - Hom:
+    - Simplification of the logic. Hopefuly completely compatible.
+    - X._Hom_(Y, category) may now return NotImplemented
+    - failed attempt at using cached_function (to be pursued)
+  - Systematic use of category = ... instead of cat =
+    This may be backward incompatible.
+
+- Generic test framework
+  - Functional, final design clear, needs cleanup (2/3 hours)
+
+- Reorganization of the Sage library to start using the category framework:
+  * Combinatorial free modules
+    * Have unique representation, use coercion, are more robust
+    * Improved _repr_
+    * Handle combinatorial classes that can't be sorted as indices
+  * Groups:
+    * AbelianGroup_class.__init__ was missing a call to Groups.__init__
+    * NAME CONFLICT: AbelianGroups are *not* in AbelianGroups()
+      With the current conventions:
+       - AbelianGroups is about additive abelian groups
+       - AbelianGroup  is about multiplicative abelian group
+    * Support for Group.__init__(category = ...)
+  * Fixed some import loops
+  * Added temporary list() methods to:
+    - FreeModule_generic
+    - MatrixSpace_generic
+    - Set_object_enumerated
+    - ParentWithAdditiveAbelianGens
+    - ParentWithMultiplicativeAbelianGens
+    They should eventually be inherited from the EnumeratedSets() category
+  * Added sage.sets.finite_enumerated_set
+
+- Todo:
+  * Naming cleanup:
+    * Parent -> ParentMethods (or _ParentMethods? or ?)
+    * Element -> ElementMethods + move them as a nested class of ParentMethods
+    * super_categories should be a method
+    * zero, one should be methods
+    * standardize the names: mult / product / multiplication / multiply?
+    * check -> test
+    * self.tester(**keywords)
+    * intrusive cat.tensor_category / ...
+    * cat.example() -> /an_example/an_object/... ?
+    * class.an_instance() ?
+    * all_weakly_super_categories -> ?
+    * move all examples in examples/
+    * AbelianGroups() versus CommutativeGroups()
+
+  * Category graph picture
+
+  * Fixes:
+    * Pickling: essentially works; polish the remaining
+    * Integration in the Sage library: some tests are broken. Help welcome!
+    * Pickling from old sage: technically feasible. Need help!
+    * Inheritance from category for Cython classes: technically feasible. Need help!
+
+  * Hom is *not* a functorial construction, the design and user
+    interface needs to be discussed
+
+  * Support for multivariate morphims, i.e. morphisms A x B -> C where
+    the specializations A x b -> C are morphisms for a given category
+    and a x B -> C are morphisms for a possibly different category
+
+- Discussion:
+  * Defining new inline operators, at least within the sage interpreter
+
 
 
 Comment: 1
```




---

archive/issue_comments_047807.json:
```json
{
    "body": "<a id='comment:8'></a>Where is categories-nt.patch itself?",
    "created_at": "2009-05-14T23:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47807",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:8'></a>Where is categories-nt.patch itself?



---

archive/issue_comments_047808.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,147 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+(with special thanks to Robert Bradshaw, Mike Hansen, Florent Hivert,\n+William Stein, ... for design discussions).\n+\n+Under development on combinat.sagemath.org/patches:\n+\n+- #5891: categories-nt.patch:\n+  the category framework itself\n+  + updates to the sage library (import fixes, ... see below)\n+  + updates to combinatorial free modules (will be split before submission)\n+\n+Related patches (will need to be applied after to recover 100% doctest pass):\n+- categories-combinat-nt.patch\n+- categories-numberfield_homset-nt.patch\n+- family_enumset-fh.patch\n+- enumset_unions-fh.patch\n+- categories-sf-nt.patch \tSymmetric functions\n+- categories-symmetric_group_algebra-nt.patch\n+- ncsf-nt.patch\t\tNon commutative Symmetric Functions\n+- #4326: root_systems-4326-nt.patch\n+\n+Small technical patches the category patch depends on:\n+\n+- #5449: cached_in_parent_method-5449-submitted.patch\n+\n+- #5783: lazy_attributes-fixes-5783-final.patch\n+- #5120: unique_representation-5120-submitted.patch\n+- #5967: element_wrapper-5967-submitted.patch\n+- #5979: parent-element_constructor-fix-5979-submitted.patch\n+- #5985: cPickle-5985-import-submitted.patch, cPickle-5985-copy_reg_classes-submitted.patch\n+- #5986: cPickle-5986-nested-classes-submitted.patch\n+- #5991: dynamic_class-5991-submitted.patch\n+- #5598: 5598-coerce-declare.patch\n+- #5483: explain-pickle-v1.patch\t\t\t# probably can get rid of this dependency\n+- #6000: transitive_ideal-6000-submitted.patch\n+\n+Current status:\n+\n+- All test pass except for:\n+  - sage -t  \"devel/sage/sage/geometry/lattice_polytope.py\" (apparently caused by categories, though I don't see how)\n+  - sage -t  \"devel/sage/sage/structure/sage_object.pyx\"    (unpickling of old stuff)\n+\n+- Documentation:\n+  - sage.categories?         Category quickref card\n+  - sage.categories.primer?  Element/Parent/Category primer (in writing)\n+  - Category?                Technical background on categories\n+  - Semigroups().example()?? A template of semigroup\n+  - See also the discussion on sage-devel in November 2009:\n+  - http://groups.google.com/group/sage-devel/msg/d4065154e2e8cbd9\n+\n+- Real life applications:\n+  see related patches, automatic monoids, ...\n+\n+- Categories:\n+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)\n+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)\n+  - Semigroups                      (with example, basic methods, subquotients)\n+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)\n+  - ModulesWithBasis                (with example, morphisms)\n+  - HopfAlgebras & friends          (with example)\n+  - Cleanup:\n+    - Have unique representation by default (no need to inherit from Category_uniq)\n+    - Have construction / reduce by default\n+\n+- Functorial constructions:\n+  - direct sum\n+  - tensor product\n+  - cartesian product (todo)\n+  - dual (in progress)\n+  - subquotient, subset, quotient (in progress)\n+  - isomorphism type (todo)\n+\n+- Homomorphisms\n+  - Integrates with current sage morphisms\n+  - Adds morphisms for some categories\n+  - Some general infrastructure\n+  - Hom:\n+    - Simplification of the logic. Hopefuly completely compatible.\n+    - X._Hom_(Y, category) may now return NotImplemented\n+    - failed attempt at using cached_function (to be pursued)\n+  - Systematic use of category = ... instead of cat =\n+    This may be backward incompatible.\n+\n+- Generic test framework\n+  - Functional, final design clear, needs cleanup (2/3 hours)\n+\n+- Reorganization of the Sage library to start using the category framework:\n+  * Combinatorial free modules\n+    * Have unique representation, use coercion, are more robust\n+    * Improved _repr_\n+    * Handle combinatorial classes that can't be sorted as indices\n+  * Groups:\n+    * AbelianGroup_class.__init__ was missing a call to Groups.__init__\n+    * NAME CONFLICT: AbelianGroups are *not* in AbelianGroups()\n+      With the current conventions:\n+       - AbelianGroups is about additive abelian groups\n+       - AbelianGroup  is about multiplicative abelian group\n+    * Support for Group.__init__(category = ...)\n+  * Fixed some import loops\n+  * Added temporary list() methods to:\n+    - FreeModule_generic\n+    - MatrixSpace_generic\n+    - Set_object_enumerated\n+    - ParentWithAdditiveAbelianGens\n+    - ParentWithMultiplicativeAbelianGens\n+    They should eventually be inherited from the EnumeratedSets() category\n+  * Added sage.sets.finite_enumerated_set\n+\n+- Todo:\n+  * Naming cleanup:\n+    * Parent -> ParentMethods (or _ParentMethods? or ?)\n+    * Element -> ElementMethods + move them as a nested class of ParentMethods\n+    * super_categories should be a method\n+    * zero, one should be methods\n+    * standardize the names: mult / product / multiplication / multiply?\n+    * check -> test\n+    * self.tester(**keywords)\n+    * intrusive cat.tensor_category / ...\n+    * cat.example() -> /an_example/an_object/... ?\n+    * class.an_instance() ?\n+    * all_weakly_super_categories -> ?\n+    * move all examples in examples/\n+    * AbelianGroups() versus CommutativeGroups()\n+\n+  * Category graph picture\n+\n+  * Fixes:\n+    * Pickling: essentially works; polish the remaining\n+    * Integration in the Sage library: some tests are broken. Help welcome!\n+    * Pickling from old sage: technically feasible. Need help!\n+    * Inheritance from category for Cython classes: technically feasible. Need help!\n+\n+  * Hom is *not* a functorial construction, the design and user\n+    interface needs to be discussed\n+\n+  * Support for multivariate morphims, i.e. morphisms A x B -> C where\n+    the specializations A x b -> C are morphisms for a given category\n+    and a x B -> C are morphisms for a possibly different category\n+\n+- Discussion:\n+  * Defining new inline operators, at least within the sage interpreter\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2009-05-14T23:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47808",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,147 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+(with special thanks to Robert Bradshaw, Mike Hansen, Florent Hivert,
+William Stein, ... for design discussions).
+
+Under development on combinat.sagemath.org/patches:
+
+- #5891: categories-nt.patch:
+  the category framework itself
+  + updates to the sage library (import fixes, ... see below)
+  + updates to combinatorial free modules (will be split before submission)
+
+Related patches (will need to be applied after to recover 100% doctest pass):
+- categories-combinat-nt.patch
+- categories-numberfield_homset-nt.patch
+- family_enumset-fh.patch
+- enumset_unions-fh.patch
+- categories-sf-nt.patch 	Symmetric functions
+- categories-symmetric_group_algebra-nt.patch
+- ncsf-nt.patch		Non commutative Symmetric Functions
+- #4326: root_systems-4326-nt.patch
+
+Small technical patches the category patch depends on:
+
+- #5449: cached_in_parent_method-5449-submitted.patch
+
+- #5783: lazy_attributes-fixes-5783-final.patch
+- #5120: unique_representation-5120-submitted.patch
+- #5967: element_wrapper-5967-submitted.patch
+- #5979: parent-element_constructor-fix-5979-submitted.patch
+- #5985: cPickle-5985-import-submitted.patch, cPickle-5985-copy_reg_classes-submitted.patch
+- #5986: cPickle-5986-nested-classes-submitted.patch
+- #5991: dynamic_class-5991-submitted.patch
+- #5598: 5598-coerce-declare.patch
+- #5483: explain-pickle-v1.patch			# probably can get rid of this dependency
+- #6000: transitive_ideal-6000-submitted.patch
+
+Current status:
+
+- All test pass except for:
+  - sage -t  "devel/sage/sage/geometry/lattice_polytope.py" (apparently caused by categories, though I don't see how)
+  - sage -t  "devel/sage/sage/structure/sage_object.pyx"    (unpickling of old stuff)
+
+- Documentation:
+  - sage.categories?         Category quickref card
+  - sage.categories.primer?  Element/Parent/Category primer (in writing)
+  - Category?                Technical background on categories
+  - Semigroups().example()?? A template of semigroup
+  - See also the discussion on sage-devel in November 2009:
+  - http://groups.google.com/group/sage-devel/msg/d4065154e2e8cbd9
+
+- Real life applications:
+  see related patches, automatic monoids, ...
+
+- Categories:
+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)
+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)
+  - Semigroups                      (with example, basic methods, subquotients)
+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)
+  - ModulesWithBasis                (with example, morphisms)
+  - HopfAlgebras & friends          (with example)
+  - Cleanup:
+    - Have unique representation by default (no need to inherit from Category_uniq)
+    - Have construction / reduce by default
+
+- Functorial constructions:
+  - direct sum
+  - tensor product
+  - cartesian product (todo)
+  - dual (in progress)
+  - subquotient, subset, quotient (in progress)
+  - isomorphism type (todo)
+
+- Homomorphisms
+  - Integrates with current sage morphisms
+  - Adds morphisms for some categories
+  - Some general infrastructure
+  - Hom:
+    - Simplification of the logic. Hopefuly completely compatible.
+    - X._Hom_(Y, category) may now return NotImplemented
+    - failed attempt at using cached_function (to be pursued)
+  - Systematic use of category = ... instead of cat =
+    This may be backward incompatible.
+
+- Generic test framework
+  - Functional, final design clear, needs cleanup (2/3 hours)
+
+- Reorganization of the Sage library to start using the category framework:
+  * Combinatorial free modules
+    * Have unique representation, use coercion, are more robust
+    * Improved _repr_
+    * Handle combinatorial classes that can't be sorted as indices
+  * Groups:
+    * AbelianGroup_class.__init__ was missing a call to Groups.__init__
+    * NAME CONFLICT: AbelianGroups are *not* in AbelianGroups()
+      With the current conventions:
+       - AbelianGroups is about additive abelian groups
+       - AbelianGroup  is about multiplicative abelian group
+    * Support for Group.__init__(category = ...)
+  * Fixed some import loops
+  * Added temporary list() methods to:
+    - FreeModule_generic
+    - MatrixSpace_generic
+    - Set_object_enumerated
+    - ParentWithAdditiveAbelianGens
+    - ParentWithMultiplicativeAbelianGens
+    They should eventually be inherited from the EnumeratedSets() category
+  * Added sage.sets.finite_enumerated_set
+
+- Todo:
+  * Naming cleanup:
+    * Parent -> ParentMethods (or _ParentMethods? or ?)
+    * Element -> ElementMethods + move them as a nested class of ParentMethods
+    * super_categories should be a method
+    * zero, one should be methods
+    * standardize the names: mult / product / multiplication / multiply?
+    * check -> test
+    * self.tester(**keywords)
+    * intrusive cat.tensor_category / ...
+    * cat.example() -> /an_example/an_object/... ?
+    * class.an_instance() ?
+    * all_weakly_super_categories -> ?
+    * move all examples in examples/
+    * AbelianGroups() versus CommutativeGroups()
+
+  * Category graph picture
+
+  * Fixes:
+    * Pickling: essentially works; polish the remaining
+    * Integration in the Sage library: some tests are broken. Help welcome!
+    * Pickling from old sage: technically feasible. Need help!
+    * Inheritance from category for Cython classes: technically feasible. Need help!
+
+  * Hom is *not* a functorial construction, the design and user
+    interface needs to be discussed
+
+  * Support for multivariate morphims, i.e. morphisms A x B -> C where
+    the specializations A x b -> C are morphisms for a given category
+    and a x B -> C are morphisms for a possibly different category
+
+- Discussion:
+  * Defining new inline operators, at least within the sage interpreter
+
 
 
 Comment: 1
```




---

archive/issue_comments_047809.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,148 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+(with special thanks to Robert Bradshaw, Mike Hansen, Florent Hivert,\n+William Stein, ... for design discussions).\n+\n+The latest version of the patches are available from:\n+http://combinat.sagemath.org/patches/file/\n+\n+Main patch:\n+\n+- #5891: categories-nt.patch:\n+  the category framework itself\n+  + updates to the sage library (import fixes, ... see below)\n+  + updates to combinatorial free modules (will be split before submission)\n+\n+Related patches (will need to be applied after to recover 100% doctest pass):\n+- categories-combinat-nt.patch\n+- categories-numberfield_homset-nt.patch\n+- family_enumset-fh.patch\n+- enumset_unions-fh.patch\n+- categories-sf-nt.patch \tSymmetric functions\n+- categories-symmetric_group_algebra-nt.patch\n+- ncsf-nt.patch\t\tNon commutative Symmetric Functions\n+- #4326: root_systems-4326-nt.patch\n+\n+Small technical patches the category patch depends on:\n+- #5449: cached_in_parent_method-5449-submitted.patch\n+- #5783: lazy_attributes-fixes-5783-final.patch\n+- #5120: unique_representation-5120-submitted.patch\n+- #5967: element_wrapper-5967-submitted.patch\n+- #5979: parent-element_constructor-fix-5979-submitted.patch\n+- #5985: cPickle-5985-import-submitted.patch, cPickle-5985-copy_reg_classes-submitted.patch\n+- #5986: cPickle-5986-nested-classes-submitted.patch\n+- #5991: dynamic_class-5991-submitted.patch\n+- #5598: 5598-coerce-declare.patch\n+- #5483: explain-pickle-v1.patch\t\t\t# probably can get rid of this dependency\n+- #6000: transitive_ideal-6000-submitted.patch\n+\n+Current status:\n+\n+- All test pass except for:\n+  - sage -t  \"devel/sage/sage/geometry/lattice_polytope.py\" (apparently caused by categories, though I don't see how)\n+  - sage -t  \"devel/sage/sage/structure/sage_object.pyx\"    (unpickling of old stuff)\n+\n+- Documentation:\n+  - sage.categories?         Category quickref card\n+  - sage.categories.primer?  Element/Parent/Category primer (in writing)\n+  - Category?                Technical background on categories\n+  - Semigroups().example()?? A template of semigroup\n+  - See also the discussion on sage-devel in November 2009:\n+  - http://groups.google.com/group/sage-devel/msg/d4065154e2e8cbd9\n+\n+- Real life applications:\n+  see related patches, automatic monoids, ...\n+\n+- Categories:\n+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)\n+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)\n+  - Semigroups                      (with example, basic methods, subquotients)\n+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)\n+  - ModulesWithBasis                (with example, morphisms)\n+  - HopfAlgebras & friends          (with example)\n+  - Cleanup:\n+   - Have unique representation by default (no need to inherit from Category_uniq)\n+   - Have construction / reduce by default\n+\n+- Functorial constructions:\n+  - direct sum\n+  - tensor product\n+  - cartesian product (todo)\n+  - dual (in progress)\n+  - subquotient, subset, quotient (in progress)\n+  - isomorphism type (todo)\n+\n+- Homomorphisms\n+  - Integrates with current sage morphisms\n+  - Adds morphisms for some categories\n+  - Some general infrastructure\n+  - Hom:\n+   - Simplification of the logic. Hopefuly completely compatible.\n+   - X._Hom_(Y, category) may now return NotImplemented\n+   - failed attempt at using cached_function (to be pursued)\n+  - Systematic use of category = ... instead of cat =\n+   This may be backward incompatible.\n+\n+- Generic test framework\n+  - Functional, final design clear, needs cleanup (2/3 hours)\n+\n+- Reorganization of the Sage library to start using the category framework:\n+  * Combinatorial free modules\n+   * Have unique representation, use coercion, are more robust\n+   * Improved _repr_\n+   * Handle combinatorial classes that can't be sorted as indices\n+  * Groups:\n+   * AbelianGroup_class.__init__ was missing a call to Groups.__init__\n+   * NAME CONFLICT: AbelianGroups are *not* in AbelianGroups()\n+     With the current conventions:\n+      - AbelianGroups is about additive abelian groups\n+      - AbelianGroup  is about multiplicative abelian group\n+   * Support for Group.__init__(category = ...)\n+  * Fixed some import loops\n+  * Added temporary list() methods to:\n+   - FreeModule_generic\n+   - MatrixSpace_generic\n+   - Set_object_enumerated\n+   - ParentWithAdditiveAbelianGens\n+   - ParentWithMultiplicativeAbelianGens\n+   They should eventually be inherited from the EnumeratedSets() category\n+  * Added sage.sets.finite_enumerated_set\n+\n+- Todo:\n+  * Naming cleanup:\n+   * Parent -> ParentMethods (or _ParentMethods? or ?)\n+   * Element -> ElementMethods + move them as a nested class of ParentMethods\n+   * super_categories should be a method\n+   * zero, one should be methods\n+   * standardize the names: mult / product / multiplication / multiply?\n+   * check -> test\n+   * self.tester(**keywords)\n+   * intrusive cat.tensor_category / ...\n+   * cat.example() -> /an_example/an_object/... ?\n+   * class.an_instance() ?\n+   * all_weakly_super_categories -> ?\n+   * move all examples in examples/\n+   * AbelianGroups() versus CommutativeGroups()\n+\n+  * Category graph picture\n+\n+  * Fixes:\n+   * Pickling: essentially works; polish the remaining\n+   * Integration in the Sage library: some tests are broken. Help welcome!\n+   * Pickling from old sage: technically feasible. Need help!\n+   * Inheritance from category for Cython classes: technically feasible. Need help!\n+\n+  * Hom is *not* a functorial construction, the design and user\n+   interface needs to be discussed\n+\n+  * Support for multivariate morphims, i.e. morphisms A x B -> C where\n+   the specializations A x b -> C are morphisms for a given category\n+   and a x B -> C are morphisms for a possibly different category\n+\n+- Discussion:\n+  * Defining new inline operators, at least within the sage interpreter\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2009-05-14T23:30:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47809",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,148 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+(with special thanks to Robert Bradshaw, Mike Hansen, Florent Hivert,
+William Stein, ... for design discussions).
+
+The latest version of the patches are available from:
+http://combinat.sagemath.org/patches/file/
+
+Main patch:
+
+- #5891: categories-nt.patch:
+  the category framework itself
+  + updates to the sage library (import fixes, ... see below)
+  + updates to combinatorial free modules (will be split before submission)
+
+Related patches (will need to be applied after to recover 100% doctest pass):
+- categories-combinat-nt.patch
+- categories-numberfield_homset-nt.patch
+- family_enumset-fh.patch
+- enumset_unions-fh.patch
+- categories-sf-nt.patch 	Symmetric functions
+- categories-symmetric_group_algebra-nt.patch
+- ncsf-nt.patch		Non commutative Symmetric Functions
+- #4326: root_systems-4326-nt.patch
+
+Small technical patches the category patch depends on:
+- #5449: cached_in_parent_method-5449-submitted.patch
+- #5783: lazy_attributes-fixes-5783-final.patch
+- #5120: unique_representation-5120-submitted.patch
+- #5967: element_wrapper-5967-submitted.patch
+- #5979: parent-element_constructor-fix-5979-submitted.patch
+- #5985: cPickle-5985-import-submitted.patch, cPickle-5985-copy_reg_classes-submitted.patch
+- #5986: cPickle-5986-nested-classes-submitted.patch
+- #5991: dynamic_class-5991-submitted.patch
+- #5598: 5598-coerce-declare.patch
+- #5483: explain-pickle-v1.patch			# probably can get rid of this dependency
+- #6000: transitive_ideal-6000-submitted.patch
+
+Current status:
+
+- All test pass except for:
+  - sage -t  "devel/sage/sage/geometry/lattice_polytope.py" (apparently caused by categories, though I don't see how)
+  - sage -t  "devel/sage/sage/structure/sage_object.pyx"    (unpickling of old stuff)
+
+- Documentation:
+  - sage.categories?         Category quickref card
+  - sage.categories.primer?  Element/Parent/Category primer (in writing)
+  - Category?                Technical background on categories
+  - Semigroups().example()?? A template of semigroup
+  - See also the discussion on sage-devel in November 2009:
+  - http://groups.google.com/group/sage-devel/msg/d4065154e2e8cbd9
+
+- Real life applications:
+  see related patches, automatic monoids, ...
+
+- Categories:
+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)
+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)
+  - Semigroups                      (with example, basic methods, subquotients)
+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)
+  - ModulesWithBasis                (with example, morphisms)
+  - HopfAlgebras & friends          (with example)
+  - Cleanup:
+   - Have unique representation by default (no need to inherit from Category_uniq)
+   - Have construction / reduce by default
+
+- Functorial constructions:
+  - direct sum
+  - tensor product
+  - cartesian product (todo)
+  - dual (in progress)
+  - subquotient, subset, quotient (in progress)
+  - isomorphism type (todo)
+
+- Homomorphisms
+  - Integrates with current sage morphisms
+  - Adds morphisms for some categories
+  - Some general infrastructure
+  - Hom:
+   - Simplification of the logic. Hopefuly completely compatible.
+   - X._Hom_(Y, category) may now return NotImplemented
+   - failed attempt at using cached_function (to be pursued)
+  - Systematic use of category = ... instead of cat =
+   This may be backward incompatible.
+
+- Generic test framework
+  - Functional, final design clear, needs cleanup (2/3 hours)
+
+- Reorganization of the Sage library to start using the category framework:
+  * Combinatorial free modules
+   * Have unique representation, use coercion, are more robust
+   * Improved _repr_
+   * Handle combinatorial classes that can't be sorted as indices
+  * Groups:
+   * AbelianGroup_class.__init__ was missing a call to Groups.__init__
+   * NAME CONFLICT: AbelianGroups are *not* in AbelianGroups()
+     With the current conventions:
+      - AbelianGroups is about additive abelian groups
+      - AbelianGroup  is about multiplicative abelian group
+   * Support for Group.__init__(category = ...)
+  * Fixed some import loops
+  * Added temporary list() methods to:
+   - FreeModule_generic
+   - MatrixSpace_generic
+   - Set_object_enumerated
+   - ParentWithAdditiveAbelianGens
+   - ParentWithMultiplicativeAbelianGens
+   They should eventually be inherited from the EnumeratedSets() category
+  * Added sage.sets.finite_enumerated_set
+
+- Todo:
+  * Naming cleanup:
+   * Parent -> ParentMethods (or _ParentMethods? or ?)
+   * Element -> ElementMethods + move them as a nested class of ParentMethods
+   * super_categories should be a method
+   * zero, one should be methods
+   * standardize the names: mult / product / multiplication / multiply?
+   * check -> test
+   * self.tester(**keywords)
+   * intrusive cat.tensor_category / ...
+   * cat.example() -> /an_example/an_object/... ?
+   * class.an_instance() ?
+   * all_weakly_super_categories -> ?
+   * move all examples in examples/
+   * AbelianGroups() versus CommutativeGroups()
+
+  * Category graph picture
+
+  * Fixes:
+   * Pickling: essentially works; polish the remaining
+   * Integration in the Sage library: some tests are broken. Help welcome!
+   * Pickling from old sage: technically feasible. Need help!
+   * Inheritance from category for Cython classes: technically feasible. Need help!
+
+  * Hom is *not* a functorial construction, the design and user
+   interface needs to be discussed
+
+  * Support for multivariate morphims, i.e. morphisms A x B -> C where
+   the specializations A x b -> C are morphisms for a given category
+   and a x B -> C are morphisms for a possibly different category
+
+- Discussion:
+  * Defining new inline operators, at least within the sage interpreter
+
 
 
 Comment: 1
```




---

archive/issue_comments_047810.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:8 robertwb]:\n> Where is categories-nt.patch itself? \n\n\nOn the sage-combinat patch server. It changes too often to keep it updated on trac.\nI highlighted the link on top of the description (and improved the ReSTing)",
    "created_at": "2009-05-14T23:32:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47810",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:11'></a>Replying to [comment:8 robertwb]:
> Where is categories-nt.patch itself? 


On the sage-combinat patch server. It changes too often to keep it updated on trac.
I highlighted the link on top of the description (and improved the ReSTing)



---

archive/issue_comments_047811.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n \n+- Latest version of the patches: http://combinat.sagemath.org/patches/file/\n+- Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap\n \n Comment: 1\n \n```\n",
    "created_at": "2009-05-16T07:32:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47811",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,8 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
 
+- Latest version of the patches: http://combinat.sagemath.org/patches/file/
+- Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap
 
 Comment: 1
 
```




---

archive/issue_comments_047812.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n \n+- Latest version of the patches: http://combinat.sagemath.org/patches/file/\n+- Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap\n \n Comment: 1\n \n```\n",
    "created_at": "2009-05-16T07:32:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47812",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,8 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
 
+- Latest version of the patches: http://combinat.sagemath.org/patches/file/
+- Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap
 
 Comment: 1
 
```




---

archive/issue_comments_047813.json:
```json
{
    "body": "Changing status from new to assigned.",
    "created_at": "2009-05-19T06:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47813",
    "user": "https://github.com/nthiery"
}
```

Changing status from new to assigned.



---

archive/issue_comments_047814.json:
```json
{
    "body": "Attachment [categories-framework-nt.patch](tarball://root/attachments/some-uuid/ticket5891/categories-framework-nt.patch) by @nthiery created at 2009-05-21 18:54:47",
    "created_at": "2009-05-21T18:54:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47814",
    "user": "https://github.com/nthiery"
}
```

Attachment [categories-framework-nt.patch](tarball://root/attachments/some-uuid/ticket5891/categories-framework-nt.patch) by @nthiery created at 2009-05-21 18:54:47



---

archive/issue_comments_047815.json:
```json
{
    "body": "Attachment [categories-fixsagelib-nt.patch](tarball://root/attachments/some-uuid/ticket5891/categories-fixsagelib-nt.patch) by @nthiery created at 2009-05-21 18:56:51",
    "created_at": "2009-05-21T18:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47815",
    "user": "https://github.com/nthiery"
}
```

Attachment [categories-fixsagelib-nt.patch](tarball://root/attachments/some-uuid/ticket5891/categories-fixsagelib-nt.patch) by @nthiery created at 2009-05-21 18:56:51



---

archive/issue_comments_047816.json:
```json
{
    "body": "Attachment [categories-enumeratedsets-nt.patch](tarball://root/attachments/some-uuid/ticket5891/categories-enumeratedsets-nt.patch) by @nthiery created at 2009-05-21 18:57:12",
    "created_at": "2009-05-21T18:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47816",
    "user": "https://github.com/nthiery"
}
```

Attachment [categories-enumeratedsets-nt.patch](tarball://root/attachments/some-uuid/ticket5891/categories-enumeratedsets-nt.patch) by @nthiery created at 2009-05-21 18:57:12



---

archive/issue_comments_047817.json:
```json
{
    "body": "Attachment [categories-combinat-nt.patch](tarball://root/attachments/some-uuid/ticket5891/categories-combinat-nt.patch) by @nthiery created at 2009-05-21 18:57:27",
    "created_at": "2009-05-21T18:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47817",
    "user": "https://github.com/nthiery"
}
```

Attachment [categories-combinat-nt.patch](tarball://root/attachments/some-uuid/ticket5891/categories-combinat-nt.patch) by @nthiery created at 2009-05-21 18:57:27



---

archive/issue_comments_047818.json:
```json
{
    "body": "Attachment [categories-numberfield_homset-nt.patch](tarball://root/attachments/some-uuid/ticket5891/categories-numberfield_homset-nt.patch) by @nthiery created at 2009-05-21 18:57:48",
    "created_at": "2009-05-21T18:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47818",
    "user": "https://github.com/nthiery"
}
```

Attachment [categories-numberfield_homset-nt.patch](tarball://root/attachments/some-uuid/ticket5891/categories-numberfield_homset-nt.patch) by @nthiery created at 2009-05-21 18:57:48



---

archive/issue_comments_047819.json:
```json
{
    "body": "<a id='comment:15'></a>There are the patches. They are file-orthogonal, so they should apply in any order.",
    "created_at": "2009-05-21T18:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47819",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:15'></a>There are the patches. They are file-orthogonal, so they should apply in any order.



---

archive/issue_comments_047820.json:
```json
{
    "body": "<a id='comment:16'></a>Note: to get the latest version, please use the patch server.",
    "created_at": "2009-05-21T18:59:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47820",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:16'></a>Note: to get the latest version, please use the patch server.



---

archive/issue_comments_047821.json:
```json
{
    "body": "Changing status from new to needs_work.",
    "created_at": "2009-11-10T06:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47821",
    "user": "https://github.com/williamstein"
}
```

Changing status from new to needs_work.



---

archive/issue_comments_047822.json:
```json
{
    "body": "<a id='comment:17'></a>NOTES:\n\n  (1) Post the latest version here -- I don't want to mess with the patch server.\n\n  (2) It says \"Experts: please redefine this properly and/or put CC/RR/... in NumberFields()\".  I number field is by definition a finite extension of QQ, but CC and RR are infinite extensions of QQ.  So we can't put them in that category.   Having a function is_NumberFieldHomsetCodomain does seem like a good workaround for now.\n\n  (3) The function is_NumberFieldHomsetCodomain in the patch posted here doesn't have any documentation or doctests. Please add them. \n\n  (4) I would change these two lines:\n\n```\n        143\t        if is_Field(codomain): \n \t144\t            return True \n```\nto the single line \n\n```\n        143\t        return is_Field(codomain)\n```\nwhich should be functionally the same, and clearer to read. \n\n   (5) in a similar spirit, I would change\n\n```\n        145\t    except: \n \t146\t        pass     \n \t147\t    return False \n```\nto just\n\n```\n        145\t    except: \n \t146\t        return False\n```\nwhich is again clearer and equivalent. \n\n    (6) I'm puzzled by this in your number_field_rel.py patch:\n\n```\n\t543\t            return NotImplemented \n```\n\nWhat is NotImplemented? It's not defined in the number_field_rel.py file in sage-4.2.",
    "created_at": "2009-11-10T06:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47822",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:17'></a>NOTES:

  (1) Post the latest version here -- I don't want to mess with the patch server.

  (2) It says "Experts: please redefine this properly and/or put CC/RR/... in NumberFields()".  I number field is by definition a finite extension of QQ, but CC and RR are infinite extensions of QQ.  So we can't put them in that category.   Having a function is_NumberFieldHomsetCodomain does seem like a good workaround for now.

  (3) The function is_NumberFieldHomsetCodomain in the patch posted here doesn't have any documentation or doctests. Please add them. 

  (4) I would change these two lines:

```
        143	        if is_Field(codomain): 
 	144	            return True 
```
to the single line 

```
        143	        return is_Field(codomain)
```
which should be functionally the same, and clearer to read. 

   (5) in a similar spirit, I would change

```
        145	    except: 
 	146	        pass     
 	147	    return False 
```
to just

```
        145	    except: 
 	146	        return False
```
which is again clearer and equivalent. 

    (6) I'm puzzled by this in your number_field_rel.py patch:

```
	543	            return NotImplemented 
```

What is NotImplemented? It's not defined in the number_field_rel.py file in sage-4.2.



---

archive/issue_comments_047823.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,19 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+- Latest version of the patches:\n+\n+  - [http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)\n+  - [http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)\n+  - [http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)\n+  updates to the sage library (import fixes, ...)\n+  - [http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)\n+  - [http://combinat.sagemath.org/patches/file/tip/categories-numberfield_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfield_homset-nt.patch) (reviewer: David)\n+  - [http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)\n+\n+\n+- Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2009-11-10T10:26:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47823",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,19 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+- Latest version of the patches:
+
+  - [http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)
+  - [http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)
+  - [http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)
+  updates to the sage library (import fixes, ...)
+  - [http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)
+  - [http://combinat.sagemath.org/patches/file/tip/categories-numberfield_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfield_homset-nt.patch) (reviewer: David)
+  - [http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)
+
+
+- Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap
+
 
 
 Comment: 1
```




---

archive/issue_comments_047824.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:17 was]:\n> NOTES:\n> \n>   (1) Post the latest version here -- I don't want to mess with the patch server.\n\n\nI just added direct links in the description. I will post the patches shortly when they will be final.\n\n> \n>   (2) It says \"Experts: please redefine this properly and/or put CC/RR/... in NumberFields()\".  I number field is by definition a finite extension of QQ, but CC and RR are infinite extensions of QQ.  So we can't put them in that category.   Having a function is_NumberFieldHomsetCodomain does seem like a good workaround for now.\n\n\nOk.\n\n>   (3) The function is_NumberFieldHomsetCodomain in the patch posted here doesn't have any documentation or doctests. Please add them.\n\n\nOops. Will do.\n\n>   (4) (5) (6)\n\n\nYes better. Will do.\n\n>     (6) I'm puzzled by this in your number_field_rel.py patch:\n\n> {{{\n> \t543\t            return NotImplemented \n\n> }}}\n> \n> What is NotImplemented? It's not defined in the number_field_rel.py file in sage-4.2.\n\n\nIt's a builtin python object. Anyway, the function now raises a TypeError, per the latest _Hom_ protocol.",
    "created_at": "2009-11-10T10:46:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47824",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:19'></a>Replying to [comment:17 was]:
> NOTES:
> 
>   (1) Post the latest version here -- I don't want to mess with the patch server.


I just added direct links in the description. I will post the patches shortly when they will be final.

> 
>   (2) It says "Experts: please redefine this properly and/or put CC/RR/... in NumberFields()".  I number field is by definition a finite extension of QQ, but CC and RR are infinite extensions of QQ.  So we can't put them in that category.   Having a function is_NumberFieldHomsetCodomain does seem like a good workaround for now.


Ok.

>   (3) The function is_NumberFieldHomsetCodomain in the patch posted here doesn't have any documentation or doctests. Please add them.


Oops. Will do.

>   (4) (5) (6)


Yes better. Will do.

>     (6) I'm puzzled by this in your number_field_rel.py patch:

> {{{
> 	543	            return NotImplemented 

> }}}
> 
> What is NotImplemented? It's not defined in the number_field_rel.py file in sage-4.2.


It's a builtin python object. Anyway, the function now raises a TypeError, per the latest _Hom_ protocol.



---

archive/issue_comments_047825.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2009-11-10T10:46:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47825",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_047826.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,19 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+- Latest version of the patches:\n+\n+  - [http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)\n+  - [http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)\n+  - [http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)\n+  updates to the sage library (import fixes, ...)\n+  - [http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)\n+  - [http://combinat.sagemath.org/patches/file/tip/categories-numberfieldvengoroso_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfieldvengoroso_homset-nt.patch) (reviewer: David)\n+  - [http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)\n+\n+\n+- Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2009-11-10T10:46:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47826",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,19 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+- Latest version of the patches:
+
+  - [http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)
+  - [http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)
+  - [http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)
+  updates to the sage library (import fixes, ...)
+  - [http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)
+  - [http://combinat.sagemath.org/patches/file/tip/categories-numberfieldvengoroso_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfieldvengoroso_homset-nt.patch) (reviewer: David)
+  - [http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)
+
+
+- Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap
+
 
 
 Comment: 1
```




---

archive/issue_comments_047827.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2009-11-10T10:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47827",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_047828.json:
```json
{
    "body": "Changing component from misc to algebra.",
    "created_at": "2009-11-10T10:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47828",
    "user": "https://github.com/nthiery"
}
```

Changing component from misc to algebra.



---

archive/issue_comments_047829.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2009-11-10T12:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47829",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_047830.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,19 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+Latest version of the patches:\n+\n+- [http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)\n+- [http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)\n+- [http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)\n+   updates to the sage library (import fixes, ...)\n+- [http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)\n+- [http://combinat.sagemath.org/patches/file/tip/categories-numberfieldvengoroso_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfieldvengoroso_homset-nt.patch) (reviewer: David)\n+- [http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)\n+\n+\n+Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2009-11-10T12:43:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47830",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,19 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+Latest version of the patches:
+
+- [http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)
+- [http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)
+- [http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)
+   updates to the sage library (import fixes, ...)
+- [http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)
+- [http://combinat.sagemath.org/patches/file/tip/categories-numberfieldvengoroso_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfieldvengoroso_homset-nt.patch) (reviewer: David)
+- [http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)
+
+
+Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap
+
 
 
 Comment: 1
```




---

archive/issue_comments_047831.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+Latest version of the patches:\n+\n+- [categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)\n+- [categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)\n+- [categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)\n+   updates to the sage library (import fixes, ...)\n+- [categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)\n+- [categories-numberfieldvengoroso_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfieldvengoroso_homset-nt.patch) (reviewer: David)\n+- [categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)\n+\n+Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap\n \n \n Comment: 1\n```\n",
    "created_at": "2009-11-10T12:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47831",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,17 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+Latest version of the patches:
+
+- [categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)
+- [categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)
+- [categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)
+   updates to the sage library (import fixes, ...)
+- [categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)
+- [categories-numberfieldvengoroso_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfieldvengoroso_homset-nt.patch) (reviewer: David)
+- [categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)
+
+Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap
 
 
 Comment: 1
```




---

archive/issue_comments_047832.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+Latest version of the patches:\n+\n+- [categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)\n+- [categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)\n+- [categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)\n+   updates to the sage library (import fixes, ...)\n+- [categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)\n+- [categories-numberfield_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfield_homset-nt.patch) (reviewer: William)\n+- [categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)\n+\n+Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap\n \n \n Comment: 1\n```\n",
    "created_at": "2009-11-10T12:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47832",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,17 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+Latest version of the patches:
+
+- [categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)
+- [categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)
+- [categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)
+   updates to the sage library (import fixes, ...)
+- [categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)
+- [categories-numberfield_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfield_homset-nt.patch) (reviewer: William)
+- [categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)
+
+Status and roadmap: http://sagetrac.org/sage_trac/wiki/CategoriesRoadMap
 
 
 Comment: 1
```




---

archive/issue_comments_047833.json:
```json
{
    "body": "<a id='comment:24'></a>Replying to [comment:19 nthiery]:\n> Replying to [comment:17 was]:\n> ...\n\nDone! See the linked to patch.\n\nI used the occasion to move the field containment logic into Fields where it belongs.",
    "created_at": "2009-11-10T12:47:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47833",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:24'></a>Replying to [comment:19 nthiery]:
> Replying to [comment:17 was]:
> ...

Done! See the linked to patch.

I used the occasion to move the field containment logic into Fields where it belongs.



---

archive/issue_comments_047834.json:
```json
{
    "body": "Changing component from algebra to categories.",
    "created_at": "2009-11-15T10:21:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47834",
    "user": "https://github.com/aghitza"
}
```

Changing component from algebra to categories.



---

archive/issue_comments_047835.json:
```json
{
    "body": "<a id='comment:26'></a>Merged the patches from changeset e70487186111.  They'll be posted on here in a bit.",
    "created_at": "2009-11-19T16:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47835",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:26'></a>Merged the patches from changeset e70487186111.  They'll be posted on here in a bit.



---

archive/issue_comments_047836.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-11-19T16:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47836",
    "user": "https://github.com/mwhansen"
}
```

Resolution: fixed



---

archive/issue_events_013836.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-11-19T16:56:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5891#event-13836"
}
```



---

archive/issue_events_013837.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2009-11-20T00:10:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "milestone": "sage-4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5891#event-13837"
}
```



---

archive/issue_comments_047837.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+Latest version of the patches:\n+\n+- [categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)\n+- [categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)\n+- [categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)\n+   updates to the sage library (import fixes, ...)\n+- [categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)\n+- [categories-numberfield_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfield_homset-nt.patch) (reviewer: William)\n+- [categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)\n+\n+Status and roadmap: http://trac.sagemath.org/sage_trac/wiki/CategoriesRoadMap\n \n \n Comment: 1\n```\n",
    "created_at": "2011-05-24T19:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47837",
    "user": "https://trac.sagemath.org/admin/accounts/users/ltw"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,17 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+Latest version of the patches:
+
+- [categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)
+- [categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)
+- [categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)
+   updates to the sage library (import fixes, ...)
+- [categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)
+- [categories-numberfield_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfield_homset-nt.patch) (reviewer: William)
+- [categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)
+
+Status and roadmap: http://trac.sagemath.org/sage_trac/wiki/CategoriesRoadMap
 
 
 Comment: 1
```




---

archive/issue_comments_047838.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,75 @@\n+This (series of) patch(es) extends the Sage category framework as a\n+design pattern for organizing generic code.\n+\n+Latest version of the patches:\n+\n+- [categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)\n+- [categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)\n+- [categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)\n+   updates to the sage library (import fixes, ...)\n+- [categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)\n+- [categories-numberfield_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfield_homset-nt.patch) (reviewer: William)\n+- [categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)\n+\n+Status and roadmap: http://trac.sagemath.org/sage_trac/wiki/CategoriesRoadMap\n+\n+Some of the things done in this ticket:\n+\n+- Categories:\n+  - Infrastructure:\n+    - sage.categories.category (500 lines of code)\n+    - sage.structure.parent (100 lines of code)\n+    - class manipulation: (25 lines of code)\n+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)\n+    (except *WithSeveralBases which are not needed anymore; see .abstract_category())\n+    See the category graph: attachment:sage-category-graph.pdf\n+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)\n+  - Semigroups                      (with example, basic methods, subquotients)\n+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)\n+  - ModulesWithBasis                (with example, morphisms)\n+  - HopfAlgebras & friends          (with a couple examples)\n+  - Cleanup:\n+    - Have unique representation by default (no need to inherit from Category_uniq)\n+    - Have construction / reduce by default\n+    - Can systematically use the idiom P in Rings()\n+  - Lattice structure (join, meet); meet needs cleanup; join and meet\n+    should be swapped.\n+\n+- Reorganization of the Sage library to start using the category framework:\n+  - Groups:\n+    - AbelianGroup_class.__init__ was missing a call to Groups.__init__\n+    - Support for Group.__init__(category = ...)\n+    - AbelianGroups was renamed to CommutativeAdditiveGroups (idem for Semigroups, ...)\n+      (note: AbelianGroup are about commutative multiplicative groups)\n+  - NumberFields: bug fix (categories-numberfield_homset-nt.patch):\n+    Hom(SomeNumberField,SomeVectorSpace) returned a numberfield homset\n+  - Fixed some import loops\n+  - Square MatrixSpace in Algebras(...)\n+  - Added temporary list() methods to:\n+    - FreeModule_generic\n+    - MatrixSpace_generic\n+    - Set_object_enumerated\n+    - ParentWithAdditiveAbelianGens\n+    - ParentWithMultiplicativeAbelianGens\n+    They should eventually be inherited from the EnumeratedSets() category\n+  - Added sage.sets.finite_enumerated_set\n+  - Naming conventions and cleanup:\n+    - parent.product(x,y)   parent.product    parent.product_on_basis\n+      (was: multiply, _multiply, multiply_basis, _multiply_basis)\n+    - parent.summation(x,y) parent.summation        # risk of confusion with infinite summation / ...\n+\n+    - parent.sum ([x,y,z,y])\n+    - parent.prod([x,y,z,y])\n+\n+    - parent.coproduct, parent.coproduct_on_basis, parent.coproduct_on_generators\n+    - parent.antipode, parent.antipode_on_basis, parent.antipode_on_generators\n+    - cat.example()  cat.counter_example()\n+    - A.one() A.zero() a.is_one() a.is_zero()   A(1) A(0) when it makes sense\n+      A.one_element() A.zero_element() deprecated in the doc; fully deprecated later\n+      Transitional aliases one = one_element, zero = zero_element\n+    - Use class.an_instance() whenever meaningful\n+    - parent.an_element() parent.some_elements(); possibly parent.example() parent.counterexample()\n+    - all_weakly_super_categories -> all_super_categories(proper=False)\n \n \n Comment: 1\n```\n",
    "created_at": "2014-05-07T08:59:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47838",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,75 @@
+This (series of) patch(es) extends the Sage category framework as a
+design pattern for organizing generic code.
+
+Latest version of the patches:
+
+- [categories-framework-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-framework-nt.patch)          (reviewer: David Roe; review essentially complete up to some doctests)
+- [categories-categories-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-categories-nt.patch)         (reviewer: Florent Hivert, Javier, David Kohel, Anne Schilling, ...) See [CategoriesCategoriesReview](CategoriesCategoriesReview)
+- [categories-fixsagelib-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fixsagelib-nt.patch)         (positive review: Robert Bradshaw)
+   updates to the sage library (import fixes, ...)
+- [categories-fix-combinat-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-fix-combinat-nt.patch)       (positive review: Florent)
+- [categories-numberfield_homset-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-numberfield_homset-nt.patch) (reviewer: William)
+- [categories-unpickle_backward_compatibility_aliases-nt.patch](http://combinat.sagemath.org/patches/file/tip/categories-unpickle_backward_compatibility_aliases-nt.patch) (positive review: Florent)
+
+Status and roadmap: http://trac.sagemath.org/sage_trac/wiki/CategoriesRoadMap
+
+Some of the things done in this ticket:
+
+- Categories:
+  - Infrastructure:
+    - sage.categories.category (500 lines of code)
+    - sage.structure.parent (100 lines of code)
+    - class manipulation: (25 lines of code)
+  - All the mathematical categories of Axiom and MuPAD (Courtesy of Teresa Gomez Diaz)
+    (except *WithSeveralBases which are not needed anymore; see .abstract_category())
+    See the category graph: attachment:sage-category-graph.pdf
+  - (Infinite/Finite)EnumeratedSets (with example) (Courtesy of Florent Hivert)
+  - Semigroups                      (with example, basic methods, subquotients)
+  - FiniteSemigroups                (with example, cayley graphs, basic representation theory, ...)
+  - ModulesWithBasis                (with example, morphisms)
+  - HopfAlgebras & friends          (with a couple examples)
+  - Cleanup:
+    - Have unique representation by default (no need to inherit from Category_uniq)
+    - Have construction / reduce by default
+    - Can systematically use the idiom P in Rings()
+  - Lattice structure (join, meet); meet needs cleanup; join and meet
+    should be swapped.
+
+- Reorganization of the Sage library to start using the category framework:
+  - Groups:
+    - AbelianGroup_class.__init__ was missing a call to Groups.__init__
+    - Support for Group.__init__(category = ...)
+    - AbelianGroups was renamed to CommutativeAdditiveGroups (idem for Semigroups, ...)
+      (note: AbelianGroup are about commutative multiplicative groups)
+  - NumberFields: bug fix (categories-numberfield_homset-nt.patch):
+    Hom(SomeNumberField,SomeVectorSpace) returned a numberfield homset
+  - Fixed some import loops
+  - Square MatrixSpace in Algebras(...)
+  - Added temporary list() methods to:
+    - FreeModule_generic
+    - MatrixSpace_generic
+    - Set_object_enumerated
+    - ParentWithAdditiveAbelianGens
+    - ParentWithMultiplicativeAbelianGens
+    They should eventually be inherited from the EnumeratedSets() category
+  - Added sage.sets.finite_enumerated_set
+  - Naming conventions and cleanup:
+    - parent.product(x,y)   parent.product    parent.product_on_basis
+      (was: multiply, _multiply, multiply_basis, _multiply_basis)
+    - parent.summation(x,y) parent.summation        # risk of confusion with infinite summation / ...
+
+    - parent.sum ([x,y,z,y])
+    - parent.prod([x,y,z,y])
+
+    - parent.coproduct, parent.coproduct_on_basis, parent.coproduct_on_generators
+    - parent.antipode, parent.antipode_on_basis, parent.antipode_on_generators
+    - cat.example()  cat.counter_example()
+    - A.one() A.zero() a.is_one() a.is_zero()   A(1) A(0) when it makes sense
+      A.one_element() A.zero_element() deprecated in the doc; fully deprecated later
+      Transitional aliases one = one_element, zero = zero_element
+    - Use class.an_instance() whenever meaningful
+    - parent.an_element() parent.some_elements(); possibly parent.example() parent.counterexample()
+    - all_weakly_super_categories -> all_super_categories(proper=False)
 
 
 Comment: 1
```




---

archive/issue_comments_047839.json:
```json
{
    "body": "<a id='comment:31'></a>Does anybody here remember the reason for the `is_extension_type()` condition in\n\n```python\n    def __make_element_class__(self, cls, name = None, inherit = None):\n        \"\"\"\n        A utility to construct classes for the elements of this\n        parent, with appropriate inheritance from the element class of\n        the category (only for pure python types so far).\n        \"\"\"\n        if name is None:\n            name = \"%s_with_category\"%cls.__name__\n        # By default, don't fiddle with extension types yet; inheritance from\n        # categories will probably be achieved in a different way\n        if inherit is None:\n            inherit = not is_extension_type(cls)\n        if inherit:\n            return dynamic_class(name, (cls, self.category().element_class))\n        else:\n            return cls\n```\nI just tried replacing `inherit = not is_extension_type(cls)` by `inherit = True` and there is almost nothing which breaks.",
    "created_at": "2017-07-14T09:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5891#issuecomment-47839",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'></a>Does anybody here remember the reason for the `is_extension_type()` condition in

```python
    def __make_element_class__(self, cls, name = None, inherit = None):
        """
        A utility to construct classes for the elements of this
        parent, with appropriate inheritance from the element class of
        the category (only for pure python types so far).
        """
        if name is None:
            name = "%s_with_category"%cls.__name__
        # By default, don't fiddle with extension types yet; inheritance from
        # categories will probably be achieved in a different way
        if inherit is None:
            inherit = not is_extension_type(cls)
        if inherit:
            return dynamic_class(name, (cls, self.category().element_class))
        else:
            return cls
```
I just tried replacing `inherit = not is_extension_type(cls)` by `inherit = True` and there is almost nothing which breaks.
