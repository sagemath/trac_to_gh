# Issue 5903: Remove dist directories from Sage distribution

archive/issues_005903.json:
```json
{
    "body": "The `dist/` directories currently shipped in various Sage `.spkg`'s are no longer used and should be removed.  The list of packages needing this treatment is:\n\n* rubiks\n\n\nAssignee: @timabbott\n\nCC:  @nexttime\n\nKeywords: sd32\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Jeroen Demeyer\n\nBranch: u/jdemeyer/ticket/5903\n\nCommit: d9ce2855c33e3ccd310963a4862fbef72fc6c2be\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/5903\n\n",
    "closed_at": "2014-01-10T07:29:52Z",
    "created_at": "2009-04-26T06:03:37Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.1",
    "title": "Remove dist directories from Sage distribution",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5903",
    "user": "https://github.com/timabbott"
}
```
The `dist/` directories currently shipped in various Sage `.spkg`'s are no longer used and should be removed.  The list of packages needing this treatment is:

* rubiks


Assignee: @timabbott

CC:  @nexttime

Keywords: sd32

Reviewer: Frédéric Chapoton

Author: Jeroen Demeyer

Branch: u/jdemeyer/ticket/5903

Commit: d9ce2855c33e3ccd310963a4862fbef72fc6c2be

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/5903





---

archive/issue_comments_046568.json:
```json
{
    "body": "<a id='comment:1'></a>As part of #7005, I'll ask that the dist/ be removed from the Singular spkg.",
    "created_at": "2009-09-25T02:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46568",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:1'></a>As part of #7005, I'll ask that the dist/ be removed from the Singular spkg.



---

archive/issue_comments_046569.json:
```json
{
    "body": "<a id='comment:2'></a>Ticket #7109 removes \"dist/\" from cddlib.",
    "created_at": "2010-01-25T13:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46569",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:2'></a>Ticket #7109 removes "dist/" from cddlib.



---

archive/issue_comments_046570.json:
```json
{
    "body": "<a id='comment:3'></a>Ticket #7820 removes \"dist/\" from gfan.",
    "created_at": "2010-01-25T13:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46570",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:3'></a>Ticket #7820 removes "dist/" from gfan.



---

archive/issue_comments_046571.json:
```json
{
    "body": "<a id='comment:4'></a>I've \"informed\" the Tachyon and the (three) Lcalc upgrade/update tickets...\n\nSome of the packages in the list have meanwhile been upgraded or updated; I'm not sure which of them actually removed the `dist/` directory. (I think I did in the M4RI and/or PolyBoRi spkgs.)",
    "created_at": "2010-09-03T23:05:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46571",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:4'></a>I've "informed" the Tachyon and the (three) Lcalc upgrade/update tickets...

Some of the packages in the list have meanwhile been upgraded or updated; I'm not sure which of them actually removed the `dist/` directory. (I think I did in the M4RI and/or PolyBoRi spkgs.)



---

archive/issue_comments_046572.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 leif]:\n> I've \"informed\" the Tachyon and the (three) Lcalc upgrade/update tickets...\n\n\nAnd that of genus2reduction (#9591).",
    "created_at": "2010-09-03T23:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46572",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:5'></a>Replying to [comment:4 leif]:
> I've "informed" the Tachyon and the (three) Lcalc upgrade/update tickets...


And that of genus2reduction (#9591).



---

archive/issue_comments_046573.json:
```json
{
    "body": "<a id='comment:6'></a>Ticket #9562 removes `dist/` from libm4ri.",
    "created_at": "2010-10-18T09:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46573",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:6'></a>Ticket #9562 removes `dist/` from libm4ri.



---

archive/issue_comments_046574.json:
```json
{
    "body": "<a id='comment:8'></a>Ticket #5281 removes the dist directory from tachyon.",
    "created_at": "2011-01-11T09:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46574",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>Ticket #5281 removes the dist directory from tachyon.



---

archive/issue_comments_046575.json:
```json
{
    "body": "<a id='comment:9'></a>Code to identify packages with dist directory\n\n```/usr/bin/python\n\n# search spkgs for dist directory \n#\n# assumes you start in spkg/standard\n\nimport sys,os,subprocess\n\ncur = os.getcwd()\nprint cur\n\nfor filename in os.listdir(\".\"):\n  if filename.endswith(\".spkg\"):\n    val = subprocess.check_output([\"file\", filename])\n    if val.find(\"bzip2\") > -1:\n      basename=filename.rstrip(\".spkg\")\n      subprocess.check_output([\"cp\", filename,basename +\".tar.bz2\"])\n      subprocess.check_output([\"bunzip2\", basename + \".tar.bz2\"])\n    else: # fortran.spkg (only tar'ed) \n      basename=filename.rstrip(\".spkg\")\n      subprocess.check_output([\"cp\", filename,basename + \".tar\"])\n    subprocess.check_output([\"tar\", \"xf\", basename + \".tar\"])\n    if os.path.exists(cur + \"/\" + basename + \"/dist\") == True:\n      print filename\n```",
    "created_at": "2011-05-19T19:16:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46575",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

<a id='comment:9'></a>Code to identify packages with dist directory

```/usr/bin/python

# search spkgs for dist directory 
#
# assumes you start in spkg/standard

import sys,os,subprocess

cur = os.getcwd()
print cur

for filename in os.listdir("."):
  if filename.endswith(".spkg"):
    val = subprocess.check_output(["file", filename])
    if val.find("bzip2") > -1:
      basename=filename.rstrip(".spkg")
      subprocess.check_output(["cp", filename,basename +".tar.bz2"])
      subprocess.check_output(["bunzip2", basename + ".tar.bz2"])
    else: # fortran.spkg (only tar'ed) 
      basename=filename.rstrip(".spkg")
      subprocess.check_output(["cp", filename,basename + ".tar"])
    subprocess.check_output(["tar", "xf", basename + ".tar"])
    if os.path.exists(cur + "/" + basename + "/dist") == True:
      print filename
```



---

archive/issue_events_013850.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mariah",
    "created_at": "2011-05-19T20:10:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5903#event-13850"
}
```



---

archive/issue_comments_046576.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd32\".",
    "created_at": "2011-08-24T23:44:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46576",
    "user": "https://github.com/williamstein"
}
```

Changing keywords from "" to "sd32".



---

archive/issue_comments_046577.json:
```json
{
    "body": "Changing component from debian-package to packages.",
    "created_at": "2012-04-19T10:01:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46577",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from debian-package to packages.



---

archive/issue_events_013851.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5903#event-13851"
}
```



---

archive/issue_events_013852.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5903#event-13852"
}
```



---

archive/issue_comments_046578.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-01-07T12:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46578",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_046579.json:
```json
{
    "body": "<a id='comment:19'></a>New commits:",
    "created_at": "2014-01-07T12:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46579",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>New commits:



---

archive/issue_comments_046580.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-01-07T14:11:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_046581.json:
```json
{
    "body": "<a id='comment:21'></a>Ok, this is indeed the last one where dist still exists. Good enough for me.",
    "created_at": "2014-01-07T17:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46581",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>Ok, this is indeed the last one where dist still exists. Good enough for me.



---

archive/issue_comments_046582.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-01-07T17:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46582",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_046583.json:
```json
{
    "body": "<a id='comment:22'></a>fill in the reviewer field...",
    "created_at": "2014-01-09T06:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46583",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:22'></a>fill in the reviewer field...



---

archive/issue_comments_046584.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-01-10T07:29:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5903#issuecomment-46584",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_013853.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-10T07:29:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5903",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5903#event-13853"
}
```
