# Issue 5822: [with patch; with positive review] cusps -- implement action of the Galois group on cusps for congruence subgroups as on page 12 of Steven's "Arithmetic on Modular Curves"

archive/issues_005822.json:
```json
{
    "body": "It would be very useful if for a congruence subgroup G and an integer d coprime to the level N of G, one could compute the action on cusps (modulo G) of `tau_d \\in Gal(Q(zeta_N)/Q)`.   This action is described on page 12 of Steven's \"Arithmetic on Modular Curves\". \n\nNote that Sage does not have a data type for \"equivalence classes of cusps\" yet, and the action is only well defined on equivalence classes.  However, one easy thing to implement (hopefully) is a function so that if G is a congruence subgroup, then we have\n\n```\nsage: G.galois_action_on_cusps(d, alpha)\n```\nwhich returns a cusp beta that is in the class of tau_d([alpha]).\n\nLater when there is a data structure for equivalence classes of cusps, and also one for these Galois groups (as abstract groups), then that will call the above function.\n\nAssignee: @williamstein\n\nCC:  @robertwb @craigcitro\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/5822\n\n",
    "closed_at": "2009-04-23T07:19:10Z",
    "created_at": "2009-04-19T03:54:35Z",
    "labels": [
        "component: number theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.4.2",
    "title": "[with patch; with positive review] cusps -- implement action of the Galois group on cusps for congruence subgroups as on page 12 of Steven's \"Arithmetic on Modular Curves\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/5822",
    "user": "https://github.com/williamstein"
}
```
It would be very useful if for a congruence subgroup G and an integer d coprime to the level N of G, one could compute the action on cusps (modulo G) of `tau_d \in Gal(Q(zeta_N)/Q)`.   This action is described on page 12 of Steven's "Arithmetic on Modular Curves". 

Note that Sage does not have a data type for "equivalence classes of cusps" yet, and the action is only well defined on equivalence classes.  However, one easy thing to implement (hopefully) is a function so that if G is a congruence subgroup, then we have

```
sage: G.galois_action_on_cusps(d, alpha)
```
which returns a cusp beta that is in the class of tau_d([alpha]).

Later when there is a data structure for equivalence classes of cusps, and also one for these Galois groups (as abstract groups), then that will call the above function.

Assignee: @williamstein

CC:  @robertwb @craigcitro

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/5822





---

archive/issue_comments_045664.json:
```json
{
    "body": "Attachment [trac_5822.patch](tarball://root/attachments/some-uuid/ticket5822/trac_5822.patch) by @williamstein created at 2009-04-19 06:01:46",
    "created_at": "2009-04-19T06:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5822#issuecomment-45664",
    "user": "https://github.com/williamstein"
}
```

Attachment [trac_5822.patch](tarball://root/attachments/some-uuid/ticket5822/trac_5822.patch) by @williamstein created at 2009-04-19 06:01:46



---

archive/issue_comments_045665.json:
```json
{
    "body": "<a id='comment:2'></a>NOTE: What I ended up implementing doesn't have an API exactly the same as the description in the ticket.  Please read the patch to see how to use it.",
    "created_at": "2009-04-19T06:03:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5822#issuecomment-45665",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:2'></a>NOTE: What I ended up implementing doesn't have an API exactly the same as the description in the ticket.  Please read the patch to see how to use it.



---

archive/issue_comments_045666.json:
```json
{
    "body": "<a id='comment:5'></a>Just a quick comment: Maite Aranes and I have been implementing number field cusps, and we decided not to have a class for cusp equivalence classes modulo a congruence subgroup, the reason being that there was no such class over Q.  So if the consensus is that such a class should exist, we'll include it over number fields too.\n\nOur NFcusps code has not yet been put out to review, but probably should be soon - -it has had a lot os spinoffs in number field utilities, which have all now been merged.",
    "created_at": "2009-04-20T08:42:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5822#issuecomment-45666",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:5'></a>Just a quick comment: Maite Aranes and I have been implementing number field cusps, and we decided not to have a class for cusp equivalence classes modulo a congruence subgroup, the reason being that there was no such class over Q.  So if the consensus is that such a class should exist, we'll include it over number fields too.

Our NFcusps code has not yet been put out to review, but probably should be soon - -it has had a lot os spinoffs in number field utilities, which have all now been merged.



---

archive/issue_comments_045667.json:
```json
{
    "body": "<a id='comment:6'></a>Positive review:  applies ok to 3.4.1.rc3, does what it says and works.\n\nComment:  OK, so this is how Galois acts, but would it not be a good idea to also mention that this gives the action of the so-called diamond operators?   i.e. the standard operation of `(Z/NZ)^* = Gamma_0(N)/Gamma_1(N)` ?  I looked to see if they were already defined, e.g. on ManinSymbols, but the only reference to \"diamond\" which search_src() revealed was a reference to the book by D & Shurman!\n\nI would know the answer to the above if I had got further through the modular/modsym directory on the last docday, but doing just two files took up all the time I had.  And now term has started.",
    "created_at": "2009-04-20T10:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5822#issuecomment-45667",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:6'></a>Positive review:  applies ok to 3.4.1.rc3, does what it says and works.

Comment:  OK, so this is how Galois acts, but would it not be a good idea to also mention that this gives the action of the so-called diamond operators?   i.e. the standard operation of `(Z/NZ)^* = Gamma_0(N)/Gamma_1(N)` ?  I looked to see if they were already defined, e.g. on ManinSymbols, but the only reference to "diamond" which search_src() revealed was a reference to the book by D & Shurman!

I would know the answer to the above if I had got further through the modular/modsym directory on the last docday, but doing just two files took up all the time I had.  And now term has started.



---

archive/issue_comments_045668.json:
```json
{
    "body": "<a id='comment:7'></a>> Just a quick comment: Maite Aranes and I have been implementing number \n> field cusps, and we decided not to have a class for cusp equivalence \n> classes modulo a congruence subgroup, the reason being that there \n> was no such class over Q. So if the consensus is that such a class \n> should exist, we'll include it over number fields too. \n\n\nI think it would be very natural to have a class for the set of cusps modulo a congruence subgroup.   The only reason Sage doesn't have that now is that I didn't have time yet to implement it.",
    "created_at": "2009-04-20T15:14:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5822#issuecomment-45668",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:7'></a>> Just a quick comment: Maite Aranes and I have been implementing number 
> field cusps, and we decided not to have a class for cusp equivalence 
> classes modulo a congruence subgroup, the reason being that there 
> was no such class over Q. So if the consensus is that such a class 
> should exist, we'll include it over number fields too. 


I think it would be very natural to have a class for the set of cusps modulo a congruence subgroup.   The only reason Sage doesn't have that now is that I didn't have time yet to implement it.



---

archive/issue_events_013686.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-04-23T07:19:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/5822",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5822#event-13686"
}
```



---

archive/issue_comments_045669.json:
```json
{
    "body": "<a id='comment:8'></a>Merged in Sage 3.4.2.alpha0.\n\nCheers,\n\nMichael",
    "created_at": "2009-04-23T07:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5822#issuecomment-45669",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

<a id='comment:8'></a>Merged in Sage 3.4.2.alpha0.

Cheers,

Michael



---

archive/issue_comments_045670.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-04-23T07:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/5822",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/5822#issuecomment-45670",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabshoff"
}
```

Resolution: fixed



---

archive/issue_events_013687.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mabshoff",
    "created_at": "2009-04-23T07:19:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/5822",
    "milestone": "sage-3.4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/5822#event-13687"
}
```
