# Issue 5294: Pickle Jar documentation

archive/issues_005294.json:
```json
{
    "assignees": [
        "https://github.com/AndrewAtLarge"
    ],
    "body": "On sage-combinat-devel Michael wrote:\n\n \"The pickle jar is not in the documentation AFAIK and it definitely should be. So someone who thinks this is a good idea please open a ticket.\"\n\nI definitely think this is a good idea.\n\n---\n\nThe intention of the attached patch is to help developers know what to do when they come across an unpickling error in the pickle_jar due to the automated test\n\n```\nsage -t structure/sage_object.pyx\n```\n\nWhat the patch actually does is:\n* briefly explains what the purpose of the pickle_jar is\n* embellishes the error message of unpickle_all() so that when it is run on the pickle_jar it says that pickles should not be removed from the pickle_jar and that unpickling errors can be fixed using register_unpickle_override\n* expands on the documentation to register_unpickle_override() and, in particular, adds two examples to the show how to use register_unpickle_override to fix unpickling issues\n* adds two sections to the developers manual: the first is a brief account of the pickle_jar in the sage coding conventions section and the section is a brief note about unpickling cycthon code in the cython section.\n\nNote that the documentation changes affect both the developers guide and the reference manual.\n\n\n\nKeywords: **picklejar**\n\nReviewer: **Julian Rueth**\n\nAuthor: **Andrew Mathas**\n\nMerged: **sage-5.7.beta1**\n\nComponent: **documentation**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/5294_\n\n",
    "closed_at": "2013-01-26T09:52:13Z",
    "created_at": "2009-02-17T18:08:39Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20documentation",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20documentation",
        "https://github.com/sagemath/sage/labels/good%20first%20issue"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Pickle Jar documentation",
    "type": "issue",
    "updated_at": "2013-01-26T09:52:13Z",
    "url": "https://github.com/sagemath/sage/issues/5294",
    "user": "https://github.com/hivert"
}
```
On sage-combinat-devel Michael wrote:

 "The pickle jar is not in the documentation AFAIK and it definitely should be. So someone who thinks this is a good idea please open a ticket."

I definitely think this is a good idea.

---

The intention of the attached patch is to help developers know what to do when they come across an unpickling error in the pickle_jar due to the automated test

```
sage -t structure/sage_object.pyx
```

What the patch actually does is:
* briefly explains what the purpose of the pickle_jar is
* embellishes the error message of unpickle_all() so that when it is run on the pickle_jar it says that pickles should not be removed from the pickle_jar and that unpickling errors can be fixed using register_unpickle_override
* expands on the documentation to register_unpickle_override() and, in particular, adds two examples to the show how to use register_unpickle_override to fix unpickling issues
* adds two sections to the developers manual: the first is a brief account of the pickle_jar in the sage coding conventions section and the section is a brief note about unpickling cycthon code in the cython section.

Note that the documentation changes affect both the developers guide and the reference manual.



Keywords: **picklejar**

Reviewer: **Julian Rueth**

Author: **Andrew Mathas**

Merged: **sage-5.7.beta1**

Component: **documentation**

_Issue created by migration from https://trac.sagemath.org/ticket/5294_





---

archive/issue_events_062275.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2009-02-17T18:08:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62275"
}
```



---

archive/issue_events_062276.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2009-02-17T18:08:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62276"
}
```



---

archive/issue_events_062277.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2009-02-17T18:08:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62277"
}
```



---

archive/issue_events_062278.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2009-02-17T18:08:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62278"
}
```



---

archive/issue_events_062279.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2009-02-17T18:08:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62279"
}
```



---

archive/issue_comments_032553.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,16 @@\n  \"The pickle jar is not in the documentation AFAIK and it definitely should be. So someone who thinks this is a good idea please open a ticket.\"\n \n I definitely think this is a good idea.\n+\n+---\n+\n+The attached patch adds some documentation about the pickle jar. Specifically it:\n+* briefly explains what the purpose of the pickle_jar is\n+* embellishes the error message of unpickle_all() so that when it is run on the pickle_jar it says that pickles should not be removed from the pickle_jar and that unpickling errors can be fixed using register_unpickle_override\n+* adds a non-trivial example to show how to use register_unpickle_override to fix allow unpickling of old pickles\n+\n+The intention here is to help developers know what to do when they come across an unpickling error in the pickle_jar due to the automated test\n+\n+```\n+sage -t structure/sage_object.pyx\n+```\n``````\n",
    "created_at": "2012-10-19T00:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32553",
    "user": "https://github.com/AndrewAtLarge"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,16 @@
  "The pickle jar is not in the documentation AFAIK and it definitely should be. So someone who thinks this is a good idea please open a ticket."
 
 I definitely think this is a good idea.
+
+---
+
+The attached patch adds some documentation about the pickle jar. Specifically it:
+* briefly explains what the purpose of the pickle_jar is
+* embellishes the error message of unpickle_all() so that when it is run on the pickle_jar it says that pickles should not be removed from the pickle_jar and that unpickling errors can be fixed using register_unpickle_override
+* adds a non-trivial example to show how to use register_unpickle_override to fix allow unpickling of old pickles
+
+The intention here is to help developers know what to do when they come across an unpickling error in the pickle_jar due to the automated test
+
+```
+sage -t structure/sage_object.pyx
+```
``````




---

archive/issue_comments_032554.json:
```json
{
    "body": "Author: **Andrew Mathas**",
    "created_at": "2012-10-19T00:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32554",
    "user": "https://github.com/AndrewAtLarge"
}
```

Author: **Andrew Mathas**



---

archive/issue_events_062280.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2012-10-19T00:45:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "milestone_number": null,
    "milestone_title": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62280"
}
```



---

archive/issue_events_062281.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2012-10-19T00:45:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62281"
}
```



---

archive/issue_comments_032555.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThe attached patch improves the pickle_jar documentation, with the primary aim of telling developers what to do (and not do) when their code breaks a pickle in the pickle_jar. I've added a version of the manual page produced so that people can comment on this without having to rebuild the manual -- unfortunately it doesn't display as html....",
    "created_at": "2012-10-19T00:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32555",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:1" align="right">comment:1</div>

The attached patch improves the pickle_jar documentation, with the primary aim of telling developers what to do (and not do) when their code breaks a pickle in the pickle_jar. I've added a version of the manual page produced so that people can comment on this without having to rebuild the manual -- unfortunately it doesn't display as html....



---

archive/issue_comments_032556.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nCurrently one doc test fails, but I don't think that this is an issue with the patch. This seems to have nothing to do with the patch but, rather, is a consequence of the following which looks like a bug to me:\n\n```\nsage: from sage.structure.sage_object import unpickle_all\nsage: %timeit unpickle_all()\n/usr/local/src/sage/sage-5.3/local/lib/python/timeit.py:195: DeprecationWarning: This class is replaced by Matrix_modn_dense_float/Matrix_modn_dense_double.\nSee http://trac.sagemath.org/4260 for details.\n  timing = self.inner(it, self.timer)\n\n------------------------------------------------------------------------\nUnhandled SIGABRT: An abort() occurred in Sage.\nThis probably occurred because a *compiled* component of Sage has a bug\nin it and is not properly wrapped with sig_on(), sig_off(). You might\nwant to run Sage under gdb with 'sage -gdb' to debug this.\nSage will now terminate.\n------------------------------------------------------------------------\n/usr/local/src/sage/sage-5.3/spkg/bin/sage: line 335: 73974 Abort trap: 6           sage-ipython \"$@\" -i\n```\nCan anyone confirm whether this is a bug or known issue? Either way, is there a way around this? \n\nAlternatively I could just remove this doc test from unpickle_all() as it is now referred to in the section in the developers guide.",
    "created_at": "2012-10-19T12:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32556",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:2" align="right">comment:2</div>

Currently one doc test fails, but I don't think that this is an issue with the patch. This seems to have nothing to do with the patch but, rather, is a consequence of the following which looks like a bug to me:

```
sage: from sage.structure.sage_object import unpickle_all
sage: %timeit unpickle_all()
/usr/local/src/sage/sage-5.3/local/lib/python/timeit.py:195: DeprecationWarning: This class is replaced by Matrix_modn_dense_float/Matrix_modn_dense_double.
See http://trac.sagemath.org/4260 for details.
  timing = self.inner(it, self.timer)

------------------------------------------------------------------------
Unhandled SIGABRT: An abort() occurred in Sage.
This probably occurred because a *compiled* component of Sage has a bug
in it and is not properly wrapped with sig_on(), sig_off(). You might
want to run Sage under gdb with 'sage -gdb' to debug this.
Sage will now terminate.
------------------------------------------------------------------------
/usr/local/src/sage/sage-5.3/spkg/bin/sage: line 335: 73974 Abort trap: 6           sage-ipython "$@" -i
```
Can anyone confirm whether this is a bug or known issue? Either way, is there a way around this? 

Alternatively I could just remove this doc test from unpickle_all() as it is now referred to in the section in the developers guide.



---

archive/issue_comments_032557.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n* The SIGABRT is certainly a bug, and a quick google search doesn't reveal any tickets related to it.\u00a0 Opening a new ticket seems reasonable.\u00a0 What's the doctest that fails?\n  * The changes in trac_5294--improving_pickle_jar_documentation-am.patch look great to me.  Here are a few more improvements I would suggest. \n   * Mention that pickling and unpickling is different for Cython classes and give some examples of how to write pickling code in this case.\u00a0 See http://ask.sagemath.org/question/808/pickling-extension-classes and http://docs.python.org/library/pickle.html#pickling-and-unpickling-extension-types.\u00a0 If you don't want to do this here we can open another ticket.\n   * Refer to sage.misc.explain_pickle as a tool to figure out what's in an old pickle that doesn't work any more.",
    "created_at": "2012-10-19T16:30:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32557",
    "user": "https://github.com/roed314"
}
```

<div id="comment:3" align="right">comment:3</div>

* The SIGABRT is certainly a bug, and a quick google search doesn't reveal any tickets related to it.  Opening a new ticket seems reasonable.  What's the doctest that fails?
  * The changes in trac_5294--improving_pickle_jar_documentation-am.patch look great to me.  Here are a few more improvements I would suggest. 
   * Mention that pickling and unpickling is different for Cython classes and give some examples of how to write pickling code in this case.  See http://ask.sagemath.org/question/808/pickling-extension-classes and http://docs.python.org/library/pickle.html#pickling-and-unpickling-extension-types.  If you don't want to do this here we can open another ticket.
   * Refer to sage.misc.explain_pickle as a tool to figure out what's in an old pickle that doesn't work any more.



---

archive/issue_comments_032558.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@roed314](#comment:3):\n> The SIGABRT is certainly a bug, and a quick google search doesn't reveal any tickets related to it.  Opening a new ticket seems reasonable.  What's the doctest that fails?\n\nThe doctest that fails is essentially the problem above. The actual doctest, which appears below, is in unpickle_all() and it ends with the command unpickle_all(). It runs fine from the command line back buts when you run it via the doctest framework. The difference, I think, is that during a doctest the code is running inside of (something like) timeit(). Here is the doctest:\n\n```\nsage: from sage.structure.sage_object import unpickle_all, register_unpickle_override\nsage: class A(CombinatorialObject,sage.structure.element.Element):\n...       pass # to break a pickle\nsage: register_unpickle_override('sage.combinat.tableau','Tableau_class',A) # breaking the pickle\nsage: unpickle_all()  # long time\n```",
    "created_at": "2012-10-19T21:19:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32558",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@roed314](#comment:3):
> The SIGABRT is certainly a bug, and a quick google search doesn't reveal any tickets related to it.  Opening a new ticket seems reasonable.  What's the doctest that fails?

The doctest that fails is essentially the problem above. The actual doctest, which appears below, is in unpickle_all() and it ends with the command unpickle_all(). It runs fine from the command line back buts when you run it via the doctest framework. The difference, I think, is that during a doctest the code is running inside of (something like) timeit(). Here is the doctest:

```
sage: from sage.structure.sage_object import unpickle_all, register_unpickle_override
sage: class A(CombinatorialObject,sage.structure.element.Element):
...       pass # to break a pickle
sage: register_unpickle_override('sage.combinat.tableau','Tableau_class',A) # breaking the pickle
sage: unpickle_all()  # long time
```



---

archive/issue_comments_032559.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI have added some comments about cython and explain_pickle (and filed the ticket #13636 for the bug). I also added sections to the developers guide at the end of the chapters \"Conventions for Coding in Sage\" and \"Coding in Cython about (un)pickling.",
    "created_at": "2012-10-22T02:27:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32559",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:5" align="right">comment:5</div>

I have added some comments about cython and explain_pickle (and filed the ticket #13636 for the bug). I also added sections to the developers guide at the end of the chapters "Conventions for Coding in Sage" and "Coding in Cython about (un)pickling.



---

archive/issue_comments_032560.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI noticed that there were other calls to unpickle_all() in the documentation so after playing around for a little I worked out the register_unpickle_override calls in the doctests were causing the SEGABRT.  (However, the bug reported in #13636 appears to be real as it is independent of this patch.)\n\nI have rewritten the relevant examples in the documentation so all doc tests now pass.",
    "created_at": "2012-11-01T23:17:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32560",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:6" align="right">comment:6</div>

I noticed that there were other calls to unpickle_all() in the documentation so after playing around for a little I worked out the register_unpickle_override calls in the doctests were causing the SEGABRT.  (However, the bug reported in #13636 appears to be real as it is independent of this patch.)

I have rewritten the relevant examples in the documentation so all doc tests now pass.



---

archive/issue_comments_032561.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,10 +9,12 @@\n The attached patch adds some documentation about the pickle jar. Specifically it:\n * briefly explains what the purpose of the pickle_jar is\n * embellishes the error message of unpickle_all() so that when it is run on the pickle_jar it says that pickles should not be removed from the pickle_jar and that unpickling errors can be fixed using register_unpickle_override\n-* adds a non-trivial example to show how to use register_unpickle_override to fix allow unpickling of old pickles\n+* expands on the documentation to register_unpickle_override and, in particular, adds two examples to the show how to use register_unpickle_override to fix unpickling issues\n+* adds two sections to the developers manual: the first is a brief account of the pickle_jar in the sage coding conventions section and the section is a brief note about unpickling cycthon code in the cython section.\n \n The intention here is to help developers know what to do when they come across an unpickling error in the pickle_jar due to the automated test\n \n ```\n sage -t structure/sage_object.pyx\n ```\n+\n``````\n",
    "created_at": "2012-11-01T23:26:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32561",
    "user": "https://github.com/AndrewAtLarge"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,10 +9,12 @@
 The attached patch adds some documentation about the pickle jar. Specifically it:
 * briefly explains what the purpose of the pickle_jar is
 * embellishes the error message of unpickle_all() so that when it is run on the pickle_jar it says that pickles should not be removed from the pickle_jar and that unpickling errors can be fixed using register_unpickle_override
-* adds a non-trivial example to show how to use register_unpickle_override to fix allow unpickling of old pickles
+* expands on the documentation to register_unpickle_override and, in particular, adds two examples to the show how to use register_unpickle_override to fix unpickling issues
+* adds two sections to the developers manual: the first is a brief account of the pickle_jar in the sage coding conventions section and the section is a brief note about unpickling cycthon code in the cython section.
 
 The intention here is to help developers know what to do when they come across an unpickling error in the pickle_jar due to the automated test
 
 ```
 sage -t structure/sage_object.pyx
 ```
+
``````




---

archive/issue_events_062282.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2012-11-01T23:26:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62282"
}
```



---

archive/issue_events_062283.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2012-11-01T23:26:24Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "subject": "https://github.com/AndrewAtLarge",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62283"
}
```



---

archive/issue_comments_032562.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,15 +6,18 @@\n \n ---\n \n-The attached patch adds some documentation about the pickle jar. Specifically it:\n-* briefly explains what the purpose of the pickle_jar is\n-* embellishes the error message of unpickle_all() so that when it is run on the pickle_jar it says that pickles should not be removed from the pickle_jar and that unpickling errors can be fixed using register_unpickle_override\n-* expands on the documentation to register_unpickle_override and, in particular, adds two examples to the show how to use register_unpickle_override to fix unpickling issues\n-* adds two sections to the developers manual: the first is a brief account of the pickle_jar in the sage coding conventions section and the section is a brief note about unpickling cycthon code in the cython section.\n-\n-The intention here is to help developers know what to do when they come across an unpickling error in the pickle_jar due to the automated test\n+The intention of the attached patch is to help developers know what to do when they come across an unpickling error in the pickle_jar due to the automated test\n \n ```\n sage -t structure/sage_object.pyx\n ```\n \n+What the patch actually does is:\n+* briefly explains what the purpose of the pickle_jar is\n+* embellishes the error message of unpickle_all() so that when it is run on the pickle_jar it says that pickles should not be removed from the pickle_jar and that unpickling errors can be fixed using register_unpickle_override\n+* expands on the documentation to register_unpickle_override() and, in particular, adds two examples to the show how to use register_unpickle_override to fix unpickling issues\n+* adds two sections to the developers manual: the first is a brief account of the pickle_jar in the sage coding conventions section and the section is a brief note about unpickling cycthon code in the cython section.\n+\n+Note that the documentation changes affect both the developers guide and the reference manual (and that the web page attached below is not current and does not display correctly, at least for me).\n+\n+\n``````\n",
    "created_at": "2012-11-01T23:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32562",
    "user": "https://github.com/AndrewAtLarge"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,15 +6,18 @@
 
 ---
 
-The attached patch adds some documentation about the pickle jar. Specifically it:
-* briefly explains what the purpose of the pickle_jar is
-* embellishes the error message of unpickle_all() so that when it is run on the pickle_jar it says that pickles should not be removed from the pickle_jar and that unpickling errors can be fixed using register_unpickle_override
-* expands on the documentation to register_unpickle_override and, in particular, adds two examples to the show how to use register_unpickle_override to fix unpickling issues
-* adds two sections to the developers manual: the first is a brief account of the pickle_jar in the sage coding conventions section and the section is a brief note about unpickling cycthon code in the cython section.
-
-The intention here is to help developers know what to do when they come across an unpickling error in the pickle_jar due to the automated test
+The intention of the attached patch is to help developers know what to do when they come across an unpickling error in the pickle_jar due to the automated test
 
 ```
 sage -t structure/sage_object.pyx
 ```
 
+What the patch actually does is:
+* briefly explains what the purpose of the pickle_jar is
+* embellishes the error message of unpickle_all() so that when it is run on the pickle_jar it says that pickles should not be removed from the pickle_jar and that unpickling errors can be fixed using register_unpickle_override
+* expands on the documentation to register_unpickle_override() and, in particular, adds two examples to the show how to use register_unpickle_override to fix unpickling issues
+* adds two sections to the developers manual: the first is a brief account of the pickle_jar in the sage coding conventions section and the section is a brief note about unpickling cycthon code in the cython section.
+
+Note that the documentation changes affect both the developers guide and the reference manual (and that the web page attached below is not current and does not display correctly, at least for me).
+
+
``````




---

archive/issue_comments_032563.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nA very valuable addition to the documentation!\n\nI think I found two minor issues though:\n\n* In the excerpt from the python docs about `object.__setstate__(state)` you lost some underscores (it should say `__setstate__` and not `setstate__`.)\n* You should probably remove the trailing whitespace in the `__reduce__` function that the patchbot complains about\n\nBtw., the patchbot coverage plugin complains that you added one method without a doctest. But this is actually just, the `__reduce___` method in the docstring.\n\nI don't have the time to look at the html version of the documentation now, I'll do that soon, write a review patch with the above two points, and set it to positive review.",
    "created_at": "2012-11-22T15:51:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32563",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:10" align="right">comment:10</div>

A very valuable addition to the documentation!

I think I found two minor issues though:

* In the excerpt from the python docs about `object.__setstate__(state)` you lost some underscores (it should say `__setstate__` and not `setstate__`.)
* You should probably remove the trailing whitespace in the `__reduce__` function that the patchbot complains about

Btw., the patchbot coverage plugin complains that you added one method without a doctest. But this is actually just, the `__reduce___` method in the docstring.

I don't have the time to look at the html version of the documentation now, I'll do that soon, write a review patch with the above two points, and set it to positive review.



---

archive/issue_comments_032564.json:
```json
{
    "body": "Reviewer: **Julian Rueth**",
    "created_at": "2012-11-22T15:51:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32564",
    "user": "https://github.com/saraedum"
}
```

Reviewer: **Julian Rueth**



---

archive/issue_comments_032565.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThanks for this Julian. I have uploaded a new version of the patch which fixes the setstate  and the whitespace problems. To address the coverage plugin complaint I added in a doctest for dumps(), so now the coverage count is (should be) increased by the patch.\n\nAndrew",
    "created_at": "2012-11-23T04:47:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32565",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:11" align="right">comment:11</div>

Thanks for this Julian. I have uploaded a new version of the patch which fixes the setstate  and the whitespace problems. To address the coverage plugin complaint I added in a doctest for dumps(), so now the coverage count is (should be) increased by the patch.

Andrew



---

archive/issue_events_062284.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2013-01-07T01:02:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/good%20first%20issue",
    "label_color": "7057ff",
    "label_name": "good first issue",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62284"
}
```



---

archive/issue_comments_032566.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSorry this took so long to finally have a look at this :(\n\nOne minor issues:\n\n* your patch file should start with \"Trac #5294: Adds information ...\"\n\nI found a few small problems in your patch and wrote a review patch for it. If you're happy with these changes, feel free to set it to positive review.",
    "created_at": "2013-01-07T22:30:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32566",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:13" align="right">comment:13</div>

Sorry this took so long to finally have a look at this :(

One minor issues:

* your patch file should start with "Trac #5294: Adds information ..."

I found a few small problems in your patch and wrote a review patch for it. If you're happy with these changes, feel free to set it to positive review.



---

archive/issue_events_062285.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2013-01-08T02:19:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62285"
}
```



---

archive/issue_events_062286.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2013-01-08T02:19:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62286"
}
```



---

archive/issue_comments_032567.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThanks very much Julian. I have folder in your review patch and set it to a positive review.",
    "created_at": "2013-01-08T02:19:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32567",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:14" align="right">comment:14</div>

Thanks very much Julian. I have folder in your review patch and set it to a positive review.



---

archive/issue_comments_032568.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThe docbuilder doesn't like all those weird characters on line 218 of `sage/structure/sage_object.pyx`:\n\n```\n! Package ucs Error: Unknown Unicode character 156 = U+009C,\n(ucs)                possibly declared in uni-0.def.\n(ucs)                Type H to see if it is available with options.\n\nSee the ucs package documentation for explanation.\nType  H <return>  for immediate help.\n ...\n\nl.111426 ...~T\u00c3\u00a4^^R\u00c2\u00ae{}` \u00c3~[^^_\u00c3~B,d\u00c3~Tl,d\u00c3~R\\PYGZca{}}\n\n?\n! Emergency stop.\n ...\n\nl.111426 ...~T\u00c3\u00a4^^R\u00c2\u00ae{}` \u00c3~[^^_\u00c3~B,d\u00c3~Tl,d\u00c3~R\\PYGZca{}}\n\n!  ==> Fatal error occurred, no output PDF file produced!\n```",
    "created_at": "2013-01-08T09:31:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32568",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

The docbuilder doesn't like all those weird characters on line 218 of `sage/structure/sage_object.pyx`:

```
! Package ucs Error: Unknown Unicode character 156 = U+009C,
(ucs)                possibly declared in uni-0.def.
(ucs)                Type H to see if it is available with options.

See the ucs package documentation for explanation.
Type  H <return>  for immediate help.
 ...

l.111426 ...~TÃ¤^^RÂ®{}` Ã~[^^_Ã~B,dÃ~Tl,dÃ~R\PYGZca{}}

?
! Emergency stop.
 ...

l.111426 ...~TÃ¤^^RÂ®{}` Ã~[^^_Ã~B,dÃ~Tl,dÃ~R\PYGZca{}}

!  ==> Fatal error occurred, no output PDF file produced!
```



---

archive/issue_events_062287.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-08T09:31:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62287"
}
```



---

archive/issue_events_062288.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-08T09:31:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62288"
}
```



---

archive/issue_comments_032569.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThanks for tracking down the code block for me. It's embarrassing that you keep on finding all of these errors that I don't...fixed now I think.\n\nAndrew",
    "created_at": "2013-01-08T12:09:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32569",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:16" align="right">comment:16</div>

Thanks for tracking down the code block for me. It's embarrassing that you keep on finding all of these errors that I don't...fixed now I think.

Andrew



---

archive/issue_events_062289.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2013-01-08T12:09:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62289"
}
```



---

archive/issue_events_062290.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2013-01-08T12:09:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62290"
}
```



---

archive/issue_events_062291.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-08T15:22:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62291"
}
```



---

archive/issue_events_062292.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-08T15:22:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62292"
}
```



---

archive/issue_comments_032570.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThere's an obvious doctest failure:\n\n```\nsage -t  -force_lib devel/sage/doc/en/developer/conventions.rst\n**********************************************************************\nFile \"/release/merger/sage-5.6.beta3/devel/sage-main/doc/en/developer/conventions.rst\", line 1040:\n    sage: sage -t structure/sage_object.pyx\nException raised:\n    Traceback (most recent call last):\n      File \"/release/merger/sage-5.6.beta3/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/release/merger/sage-5.6.beta3/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/release/merger/sage-5.6.beta3/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_21[2]>\", line 1\n        sage -t structure/sage_object.pyx###line 1040:\n    sage: sage -t structure/sage_object.pyx\n                        ^\n    SyntaxError: invalid syntax\n**********************************************************************\n```",
    "created_at": "2013-01-08T15:22:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32570",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

There's an obvious doctest failure:

```
sage -t  -force_lib devel/sage/doc/en/developer/conventions.rst
**********************************************************************
File "/release/merger/sage-5.6.beta3/devel/sage-main/doc/en/developer/conventions.rst", line 1040:
    sage: sage -t structure/sage_object.pyx
Exception raised:
    Traceback (most recent call last):
      File "/release/merger/sage-5.6.beta3/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/release/merger/sage-5.6.beta3/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/release/merger/sage-5.6.beta3/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_21[2]>", line 1
        sage -t structure/sage_object.pyx###line 1040:
    sage: sage -t structure/sage_object.pyx
                        ^
    SyntaxError: invalid syntax
**********************************************************************
```



---

archive/issue_comments_032571.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nAnd perhaps this failure is also caused by this ticket:\n\n```\nsage -t  --long -force_lib devel/sage/sage/structure/sage_object.pyx\n/release/merger/sage-5.6.beta3/local/lib/libcsage.so(print_backtrace+0x2b)[0x2ba301ee166e]\n/release/merger/sage-5.6.beta3/local/lib/libcsage.so(sigdie+0x14)[0x2ba301ee169b]\n/release/merger/sage-5.6.beta3/local/lib/libcsage.so(sage_signal_handler+0x1d8)[0x2ba301ee1156]\n/lib/libpthread.so.0[0x2ba2fff4b7d0]\n/lib/libc.so.6(gsignal+0x35)[0x2ba3008140c5]\n/lib/libc.so.6(abort+0x110)[0x2ba300815b20]\n/release/merger/sage-5.6.beta3/local/lib/libcsage.so(init_csage+0x0)[0x2ba301ee1fc8]\n/release/merger/sage-5.6.beta3/local/lib/libntl.so.0(_ZN3NTL5ErrorEPKc+0x1f)[0x2ba30255e4cf]\n/release/merger/sage-5.6.beta3/local/lib/libntl.so.0(_ZN3NTL6InvModEll+0x39)[0x2ba3024ad1a9]\n/release/merger/sage-5.6.beta3/local/lib/libntl.so.0(_ZN3NTL8PlainRemERNS_5zz_pXERKS0_S3_+0x2a9)[0x2ba3025222a9]\n/release/merger/sage-5.6.beta3/local/lib/libntl.so.0(_ZN3NTL3GCDERNS_5zz_pXERKS0_S3_+0x19a)[0x2ba30252f7fa]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so[0x2ba31acb0216]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z8gcd_polyRK13CanonicalFormS1_+0x605)[0x2ba31acabda5]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z3gcdRK13CanonicalFormS1_+0x257)[0x2ba31acac2e7]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so[0x2ba31acae0fd]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z7contentRK13CanonicalFormRK8Variable+0xce)[0x2ba31acae29e]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z7contentRK13CanonicalFormRK8Variable+0x62)[0x2ba31acae232]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z7EZGCD_PRK13CanonicalFormS1_+0xde8)[0x2ba31acc5378]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z8gcd_polyRK13CanonicalFormS1_+0x59f)[0x2ba31acabd3f]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z11chinrem_gcdRK13CanonicalFormS1_+0xbab)[0x2ba31acad13b]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z8gcd_polyRK13CanonicalFormS1_+0x656)[0x2ba31acabdf6]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z3gcdRK13CanonicalFormS1_+0x257)[0x2ba31acac2e7]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z14singclap_gcd_rP8spolyrecS0_P9sip_sring+0xf8)[0x2ba31ab0ba28]\n/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z12singclap_gcdP8spolyrecS0_+0x56)[0x2ba31ab0eb26]\n/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/rings/polynomial/multi_polynomial_libsingular.so[0x2ba31a7851df]\n/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/rings/polynomial/multi_polynomial_libsingular.so[0x2ba31a7868ef]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_CallObjectWithKeywords+0x56)[0x2ba2ffc3eb26]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbbad06]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/structure/element.so[0x2ba3093808c3]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/rings/fraction_field_element.so[0x2ba315661005]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/rings/fraction_field_element.so[0x2ba31565941c]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbfa5a8]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/rings/fraction_field_element.so[0x2ba31564b644]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_CallObjectWithKeywords+0x56)[0x2ba2ffc3eb26]\n/release/merger/sage-5.6.beta3/local/lib/python2.7/lib-dynload/cPickle.so[0x2ba30528381e]\n/release/merger/sage-5.6.beta3/local/lib/python2.7/lib-dynload/cPickle.so[0x2ba30528a162]\n/release/merger/sage-5.6.beta3/local/lib/python2.7/lib-dynload/cPickle.so[0x2ba30528dc35]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/structure/sage_object.so[0x2ba305d2bbc4]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/structure/sage_object.so[0x2ba305d1c693]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/structure/sage_object.so[0x2ba305d23d06]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5de2)[0x2ba2ffc45662]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x32)[0x2ba2ffc47472]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x714e)[0x2ba2ffc469ce]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbcb9b9]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbae8bf]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x1299)[0x2ba2ffc40b19]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5ae4)[0x2ba2ffc45364]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbcb9b9]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbae8bf]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x1299)[0x2ba2ffc40b19]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5ae4)[0x2ba2ffc45364]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbcb9b9]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbae8bf]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x1299)[0x2ba2ffc40b19]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5ae4)[0x2ba2ffc45364]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5ae4)[0x2ba2ffc45364]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5ae4)[0x2ba2ffc45364]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x32)[0x2ba2ffc47472]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyRun_FileExFlags+0xc1)[0x2ba2ffc6b1f1]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyRun_SimpleFileExFlags+0x1f9)[0x2ba2ffc6b4c9]\n/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(Py_Main+0xb15)[0x2ba2ffc7e115]\n/lib/libc.so.6(__libc_start_main+0xf4)[0x2ba3008001f4]\npython[0x400679]\n\n------------------------------------------------------------------------\nUnhandled SIGABRT: An abort() occurred in Sage.\nThis probably occurred because a *compiled* component of Sage has a bug\nin it and is not properly wrapped with sig_on(), sig_off(). You might\nwant to run Sage under gdb with 'sage -gdb' to debug this.\nSage will now terminate.\n------------------------------------------------------------------------\nAborted\n```",
    "created_at": "2013-01-08T15:25:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32571",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

And perhaps this failure is also caused by this ticket:

```
sage -t  --long -force_lib devel/sage/sage/structure/sage_object.pyx
/release/merger/sage-5.6.beta3/local/lib/libcsage.so(print_backtrace+0x2b)[0x2ba301ee166e]
/release/merger/sage-5.6.beta3/local/lib/libcsage.so(sigdie+0x14)[0x2ba301ee169b]
/release/merger/sage-5.6.beta3/local/lib/libcsage.so(sage_signal_handler+0x1d8)[0x2ba301ee1156]
/lib/libpthread.so.0[0x2ba2fff4b7d0]
/lib/libc.so.6(gsignal+0x35)[0x2ba3008140c5]
/lib/libc.so.6(abort+0x110)[0x2ba300815b20]
/release/merger/sage-5.6.beta3/local/lib/libcsage.so(init_csage+0x0)[0x2ba301ee1fc8]
/release/merger/sage-5.6.beta3/local/lib/libntl.so.0(_ZN3NTL5ErrorEPKc+0x1f)[0x2ba30255e4cf]
/release/merger/sage-5.6.beta3/local/lib/libntl.so.0(_ZN3NTL6InvModEll+0x39)[0x2ba3024ad1a9]
/release/merger/sage-5.6.beta3/local/lib/libntl.so.0(_ZN3NTL8PlainRemERNS_5zz_pXERKS0_S3_+0x2a9)[0x2ba3025222a9]
/release/merger/sage-5.6.beta3/local/lib/libntl.so.0(_ZN3NTL3GCDERNS_5zz_pXERKS0_S3_+0x19a)[0x2ba30252f7fa]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so[0x2ba31acb0216]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z8gcd_polyRK13CanonicalFormS1_+0x605)[0x2ba31acabda5]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z3gcdRK13CanonicalFormS1_+0x257)[0x2ba31acac2e7]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so[0x2ba31acae0fd]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z7contentRK13CanonicalFormRK8Variable+0xce)[0x2ba31acae29e]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z7contentRK13CanonicalFormRK8Variable+0x62)[0x2ba31acae232]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z7EZGCD_PRK13CanonicalFormS1_+0xde8)[0x2ba31acc5378]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z8gcd_polyRK13CanonicalFormS1_+0x59f)[0x2ba31acabd3f]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z11chinrem_gcdRK13CanonicalFormS1_+0xbab)[0x2ba31acad13b]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z8gcd_polyRK13CanonicalFormS1_+0x656)[0x2ba31acabdf6]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z3gcdRK13CanonicalFormS1_+0x257)[0x2ba31acac2e7]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z14singclap_gcd_rP8spolyrecS0_P9sip_sring+0xf8)[0x2ba31ab0ba28]
/release/merger/sage-5.6.beta3/local/lib/libsingular.so(_Z12singclap_gcdP8spolyrecS0_+0x56)[0x2ba31ab0eb26]
/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/rings/polynomial/multi_polynomial_libsingular.so[0x2ba31a7851df]
/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/rings/polynomial/multi_polynomial_libsingular.so[0x2ba31a7868ef]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_CallObjectWithKeywords+0x56)[0x2ba2ffc3eb26]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbbad06]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/structure/element.so[0x2ba3093808c3]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/rings/fraction_field_element.so[0x2ba315661005]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/rings/fraction_field_element.so[0x2ba31565941c]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbfa5a8]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/rings/fraction_field_element.so[0x2ba31564b644]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_CallObjectWithKeywords+0x56)[0x2ba2ffc3eb26]
/release/merger/sage-5.6.beta3/local/lib/python2.7/lib-dynload/cPickle.so[0x2ba30528381e]
/release/merger/sage-5.6.beta3/local/lib/python2.7/lib-dynload/cPickle.so[0x2ba30528a162]
/release/merger/sage-5.6.beta3/local/lib/python2.7/lib-dynload/cPickle.so[0x2ba30528dc35]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/structure/sage_object.so[0x2ba305d2bbc4]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/structure/sage_object.so[0x2ba305d1c693]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/python/site-packages/sage/structure/sage_object.so[0x2ba305d23d06]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5de2)[0x2ba2ffc45662]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x32)[0x2ba2ffc47472]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x714e)[0x2ba2ffc469ce]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbcb9b9]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbae8bf]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x1299)[0x2ba2ffc40b19]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5ae4)[0x2ba2ffc45364]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbcb9b9]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbae8bf]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x1299)[0x2ba2ffc40b19]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5ae4)[0x2ba2ffc45364]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbcb9b9]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0[0x2ba2ffbae8bf]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyObject_Call+0x68)[0x2ba2ffb9e308]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x1299)[0x2ba2ffc40b19]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5ae4)[0x2ba2ffc45364]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5ae4)[0x2ba2ffc45364]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x5ae4)[0x2ba2ffc45364]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x852)[0x2ba2ffc47352]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x32)[0x2ba2ffc47472]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyRun_FileExFlags+0xc1)[0x2ba2ffc6b1f1]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(PyRun_SimpleFileExFlags+0x1f9)[0x2ba2ffc6b4c9]
/release/merger/sage-5.6.beta3/local/lib/libpython2.7.so.1.0(Py_Main+0xb15)[0x2ba2ffc7e115]
/lib/libc.so.6(__libc_start_main+0xf4)[0x2ba3008001f4]
python[0x400679]

------------------------------------------------------------------------
Unhandled SIGABRT: An abort() occurred in Sage.
This probably occurred because a *compiled* component of Sage has a bug
in it and is not properly wrapped with sig_on(), sig_off(). You might
want to run Sage under gdb with 'sage -gdb' to debug this.
Sage will now terminate.
------------------------------------------------------------------------
Aborted
```



---

archive/issue_comments_032572.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI'm confused because the first test\n\n```\nsage -t -force_lib devel/sage/doc/en/developer/conventions.rst\n```\npasses on sage 5.5. So I compiled 5.6.beta2 (beta3 has not been released yet) and it works there too. Nonetheless, even though I can't replicate the error I agree that there is a problem here so I've fixed it, but I can't check that it's fixed.\n\nWith the second test, \n\n```\nsage -t --long -force_lib devel/sage/sage/structure/sage_object.pyx\n```\nI get a timeout error rather than a SIGBART. It's caused by a call to \n\n```\nsage: unpickle_all() # long time\n```\nThis test works but it would take longer than the *#long time* tests are supposed to take so I have replaced this with\n\n```\nsage: unpickle_all()  # todo: not tested\n```",
    "created_at": "2013-01-09T02:05:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32572",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:19" align="right">comment:19</div>

I'm confused because the first test

```
sage -t -force_lib devel/sage/doc/en/developer/conventions.rst
```
passes on sage 5.5. So I compiled 5.6.beta2 (beta3 has not been released yet) and it works there too. Nonetheless, even though I can't replicate the error I agree that there is a problem here so I've fixed it, but I can't check that it's fixed.

With the second test, 

```
sage -t --long -force_lib devel/sage/sage/structure/sage_object.pyx
```
I get a timeout error rather than a SIGBART. It's caused by a call to 

```
sage: unpickle_all() # long time
```
This test works but it would take longer than the *#long time* tests are supposed to take so I have replaced this with

```
sage: unpickle_all()  # todo: not tested
```



---

archive/issue_comments_032573.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@AndrewAtLarge](#comment:19):\n> I'm confused because the first test\n> \n> ```\n> sage -t -force_lib devel/sage/doc/en/developer/conventions.rst\n> ```\n> passes on sage 5.5.\n\nSorry, I know what happened. There are some formatting errors in that file with the consequence that doctests aren't run. This is fixed by #13899.",
    "created_at": "2013-01-09T07:17:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32573",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@AndrewAtLarge](#comment:19):
> I'm confused because the first test
> 
> ```
> sage -t -force_lib devel/sage/doc/en/developer/conventions.rst
> ```
> passes on sage 5.5.

Sorry, I know what happened. There are some formatting errors in that file with the consequence that doctests aren't run. This is fixed by #13899.



---

archive/issue_comments_032574.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@jdemeyer](#comment:20):\n\n> Sorry, I know what happened. There are some formatting errors in that file with the consequence that doctests aren't run. This is fixed by #13899.\n\nThanks for the explanation. Does that mean that the problem with this patch is fixed or should it depend on, and need to be rebased over, #13899?\n\nAndrew",
    "created_at": "2013-01-09T08:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32574",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@jdemeyer](#comment:20):

> Sorry, I know what happened. There are some formatting errors in that file with the consequence that doctests aren't run. This is fixed by #13899.

Thanks for the explanation. Does that mean that the problem with this patch is fixed or should it depend on, and need to be rebased over, #13899?

Andrew



---

archive/issue_comments_032575.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThis patch doesn't depend on #13899, but it should be tested with #13899 applied.",
    "created_at": "2013-01-09T08:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32575",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

This patch doesn't depend on #13899, but it should be tested with #13899 applied.



---

archive/issue_events_062293.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2013-01-10T09:50:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62293"
}
```



---

archive/issue_events_062294.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2013-01-10T09:50:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62294"
}
```



---

archive/issue_comments_032576.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI've just tested the patch against 5.6.beta3, which has #13899 applied, and the tests above pass. I'm checking everything else now but given that the patch only touches doctests I don't think that they can possibly fail, so I'll put it back to a positive review.",
    "created_at": "2013-01-10T09:50:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32576",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:23" align="right">comment:23</div>

I've just tested the patch against 5.6.beta3, which has #13899 applied, and the tests above pass. I'm checking everything else now but given that the patch only touches doctests I don't think that they can possibly fail, so I'll put it back to a positive review.



---

archive/issue_comments_032577.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@AndrewAtLarge](#comment:23):\n> I've just tested the patch against 5.6.beta3, which has #13899 applied, and the tests above pass. I'm checking everything else now but given that the patch only touches doctests I don't think that they can possibly fail, so I'll put it back to a positive review.\n\n\nJust to confirm: all tests pass on 5.6.beta3",
    "created_at": "2013-01-10T10:22:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32577",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@AndrewAtLarge](#comment:23):
> I've just tested the patch against 5.6.beta3, which has #13899 applied, and the tests above pass. I'm checking everything else now but given that the patch only touches doctests I don't think that they can possibly fail, so I'll put it back to a positive review.


Just to confirm: all tests pass on 5.6.beta3



---

archive/issue_events_062295.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-12T08:56:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "milestone_number": null,
    "milestone_title": "sage-5.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62295"
}
```



---

archive/issue_events_062296.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-12T08:56:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "milestone_number": null,
    "milestone_title": "sage-5.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62296"
}
```



---

archive/issue_comments_032578.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThere is still:\n\n```\nsage -t  -force_lib devel/sage/doc/en/developer/conventions.rst\n**********************************************************************\nFile \"/release/merger/sage-5.7.alpha0/devel/sage-main/doc/en/developer/conventions.rst\", line 1052:\n    sage: sage -t devel/sage-main/sage/structure/sage_object.pyx\nException raised:\n    Traceback (most recent call last):\n      File \"/release/merger/sage-5.7.alpha0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/release/merger/sage-5.7.alpha0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/release/merger/sage-5.7.alpha0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_21[2]>\", line 1\n        sage -t devel/sage-main/sage/structure/sage_object.pyx###line 1052:\n    sage: sage -t devel/sage-main/sage/structure/sage_object.pyx\n                    ^\n    SyntaxError: invalid syntax\n**********************************************************************\n```",
    "created_at": "2013-01-12T15:05:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32578",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

There is still:

```
sage -t  -force_lib devel/sage/doc/en/developer/conventions.rst
**********************************************************************
File "/release/merger/sage-5.7.alpha0/devel/sage-main/doc/en/developer/conventions.rst", line 1052:
    sage: sage -t devel/sage-main/sage/structure/sage_object.pyx
Exception raised:
    Traceback (most recent call last):
      File "/release/merger/sage-5.7.alpha0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/release/merger/sage-5.7.alpha0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/release/merger/sage-5.7.alpha0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_21[2]>", line 1
        sage -t devel/sage-main/sage/structure/sage_object.pyx###line 1052:
    sage: sage -t devel/sage-main/sage/structure/sage_object.pyx
                    ^
    SyntaxError: invalid syntax
**********************************************************************
```



---

archive/issue_events_062297.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-12T15:05:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62297"
}
```



---

archive/issue_events_062298.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-12T15:05:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62298"
}
```



---

archive/issue_comments_032579.json:
```json
{
    "body": "UPdated patch fixing conventions.srt problem",
    "created_at": "2013-01-13T08:48:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32579",
    "user": "https://github.com/AndrewAtLarge"
}
```

UPdated patch fixing conventions.srt problem



---

archive/issue_comments_032580.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nAttachment: **[trac_5294--improving_pickle_jar_documentation-am.patch.gz](https://github.com/sagemath/sage/files/ticket5294/trac_5294--improving_pickle_jar_documentation-am.patch.gz)**\n\nSorry in all of the excitement I forgot to update the patch on the ticket.",
    "created_at": "2013-01-13T08:55:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32580",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:27" align="right">comment:27</div>

Attachment: **[trac_5294--improving_pickle_jar_documentation-am.patch.gz](https://github.com/sagemath/sage/files/ticket5294/trac_5294--improving_pickle_jar_documentation-am.patch.gz)**

Sorry in all of the excitement I forgot to update the patch on the ticket.



---

archive/issue_comments_032581.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI have tested the patch against 5.6.rc1 and the tests pass. For some reason the patchbot isn't checking the ticket, possibly because it's flagged as needing work? I am going to put it back to a positive review in the hope that the patchbot confirms my tests before Jeronen looks at it.",
    "created_at": "2013-01-22T12:14:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32581",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:28" align="right">comment:28</div>

I have tested the patch against 5.6.rc1 and the tests pass. For some reason the patchbot isn't checking the ticket, possibly because it's flagged as needing work? I am going to put it back to a positive review in the hope that the patchbot confirms my tests before Jeronen looks at it.



---

archive/issue_events_062299.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2013-01-22T12:14:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62299"
}
```



---

archive/issue_events_062300.json:
```json
{
    "actor": "https://github.com/AndrewAtLarge",
    "created_at": "2013-01-22T12:14:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62300"
}
```



---

archive/issue_comments_032582.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,6 +18,6 @@\n * expands on the documentation to register_unpickle_override() and, in particular, adds two examples to the show how to use register_unpickle_override to fix unpickling issues\n * adds two sections to the developers manual: the first is a brief account of the pickle_jar in the sage coding conventions section and the section is a brief note about unpickling cycthon code in the cython section.\n \n-Note that the documentation changes affect both the developers guide and the reference manual (and that the web page attached below is not current and does not display correctly, at least for me).\n+Note that the documentation changes affect both the developers guide and the reference manual.\n \n \n``````\n",
    "created_at": "2013-01-23T08:18:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32582",
    "user": "https://github.com/AndrewAtLarge"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,6 +18,6 @@
 * expands on the documentation to register_unpickle_override() and, in particular, adds two examples to the show how to use register_unpickle_override to fix unpickling issues
 * adds two sections to the developers manual: the first is a brief account of the pickle_jar in the sage coding conventions section and the section is a brief note about unpickling cycthon code in the cython section.
 
-Note that the documentation changes affect both the developers guide and the reference manual (and that the web page attached below is not current and does not display correctly, at least for me).
+Note that the documentation changes affect both the developers guide and the reference manual.
 
 
``````




---

archive/issue_comments_032583.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nConcerning the pickle jar, I use this opportunity to make some publicity for #10705.",
    "created_at": "2013-01-25T00:22:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32583",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:30" align="right">comment:30</div>

Concerning the pickle jar, I use this opportunity to make some publicity for #10705.



---

archive/issue_comments_032584.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@seblabbe](#comment:30):\n> Concerning the pickle jar, I use this opportunity to make some publicity for #10705.\n\nSee #13636 for another seg fault associated with unpickle_all.",
    "created_at": "2013-01-25T00:51:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32584",
    "user": "https://github.com/AndrewAtLarge"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@seblabbe](#comment:30):
> Concerning the pickle jar, I use this opportunity to make some publicity for #10705.

See #13636 for another seg fault associated with unpickle_all.



---

archive/issue_events_062301.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-26T09:52:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62301"
}
```



---

archive/issue_events_062302.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-26T09:52:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/5294#event-62302"
}
```



---

archive/issue_comments_032585.json:
```json
{
    "body": "Merged: **sage-5.7.beta1**",
    "created_at": "2013-01-26T09:52:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/5294",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/5294#issuecomment-32585",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.7.beta1**
